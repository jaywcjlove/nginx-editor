"use strict";(self.webpackChunkmonaco_editor_nginx=self.webpackChunkmonaco_editor_nginx||[]).push([[6658],{21019:function(e,t,i){i.d(t,{hT:function(){return I},Hb:function(){return x},mR:function(){return O}});var n=i(97326),o=i(11752),r=i(61120),s=i(37762),a=i(15671),u=i(43144),l=i(60136),c=i(27277),h=i(32959),d=i(94006),v=i(38102),g=i(65096),f=i(65631),p=i(17429),_=i(78519),m=i(70133),y=i(99964),b=i(24250),k=i(64606),w=i(75256),C=i(71049),S=i(98926),D=i(8022),N=i(92763),L=function(e){(0,l.Z)(i,e);var t=(0,c.Z)(i);function i(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new h.Dimension(10,10);return(0,a.Z)(this,i),(n=t.call(this))._editor=e,n.allowEditorOverflow=!0,n.suppressMouseDown=!1,n._resizableNode=n._register(new N.f),n._contentPosition=null,n._isResizing=!1,n._resizableNode.domNode.style.position="absolute",n._resizableNode.minSize=h.Dimension.lift(o),n._resizableNode.layout(o.height,o.width),n._resizableNode.enableSashes(!0,!0,!0,!0),n._register(n._resizableNode.onDidResize((function(e){n._resize(new h.Dimension(e.dimension.width,e.dimension.height)),e.done&&(n._isResizing=!1)}))),n._register(n._resizableNode.onDidWillResize((function(){n._isResizing=!0}))),n}return(0,u.Z)(i,[{key:"isResizing",get:function(){return this._isResizing}},{key:"getDomNode",value:function(){return this._resizableNode.domNode}},{key:"getPosition",value:function(){return this._contentPosition}},{key:"position",get:function(){var e;return(null===(e=this._contentPosition)||void 0===e?void 0:e.position)?f.L.lift(this._contentPosition.position):void 0}},{key:"_availableVerticalSpaceAbove",value:function(e){var t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);if(t&&i)return h.getDomNodePagePosition(t).top+i.top-30}},{key:"_availableVerticalSpaceBelow",value:function(e){var t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);if(t&&i){var n=h.getDomNodePagePosition(t),o=h.getClientArea(document.body),r=n.top+i.top+i.height;return o.height-r-24}}},{key:"_findPositionPreference",value:function(e,t){var i,n,o,r=Math.min(null!==(i=this._availableVerticalSpaceBelow(t))&&void 0!==i?i:1/0,e),s=Math.min(null!==(n=this._availableVerticalSpaceAbove(t))&&void 0!==n?n:1/0,e),a=Math.min(Math.max(s,r),e),u=Math.min(e,a);return 1===(o=this._editor.getOption(59).above?u<=s?1:2:u<=r?2:1)?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),o}},{key:"_resize",value:function(e){this._resizableNode.layout(e.height,e.width)}}]),i}(g.JT),M=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Z=function(e,t){return function(i,n){t(i,n,e)}},P=h.$,I=function(e){(0,l.Z)(i,e);var t=(0,c.Z)(i);function i(e,n,o){var r;(0,a.Z)(this,i),(r=t.call(this))._editor=e,r._instantiationService=n,r._keybindingService=o,r._currentResult=null;var u=r._editor.getOption(65)+8,l=4/3*u,c=new h.Dimension(l,u);r._widget=r._register(r._instantiationService.createInstance(x,r._editor,c)),r._participants=[];var d,v=(0,s.Z)(b.Ae.getAll());try{for(v.s();!(d=v.n()).done;){var g=d.value;r._participants.push(r._instantiationService.createInstance(g,r._editor))}}catch(f){v.e(f)}finally{v.f()}return r._participants.sort((function(e,t){return e.hoverOrdinal-t.hoverOrdinal})),r._computer=new A(r._editor,r._participants),r._hoverOperation=r._register(new y.H(r._editor,r._computer)),r._register(r._hoverOperation.onResult((function(e){if(r._computer.anchor){var t=e.hasLoadingMessage?r._addLoadingMessage(e.value):e.value;r._withResult(new R(r._computer.anchor,t,e.isComplete))}}))),r._register(h.addStandardDisposableListener(r._widget.getDomNode(),"keydown",(function(e){e.equals(9)&&r.hide()}))),r._register(m.RW.onDidChange((function(){r._widget.position&&r._currentResult&&r._setCurrentResult(r._currentResult)}))),r}return(0,u.Z)(i,[{key:"widget",get:function(){return this._widget}},{key:"maybeShowAt",value:function(e){if(this._widget.isResizing)return!0;var t,i=[],n=(0,s.Z)(this._participants);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(o.suggestHoverAnchor){var r=o.suggestHoverAnchor(e);r&&i.push(r)}}}catch(l){n.e(l)}finally{n.f()}var a=e.target;if(6===a.type&&i.push(new b.Qj(0,a.range,e.event.posx,e.event.posy)),7===a.type){var u=this._editor.getOption(49).typicalHalfwidthCharacterWidth/2;!a.detail.isAfterLines&&"number"===typeof a.detail.horizontalDistanceToText&&a.detail.horizontalDistanceToText<u&&i.push(new b.Qj(0,a.range,e.event.posx,e.event.posy))}return 0===i.length?this._startShowingOrUpdateHover(null,0,0,!1,e):(i.sort((function(e,t){return t.priority-e.priority})),this._startShowingOrUpdateHover(i[0],0,0,!1,e))}},{key:"startShowingAtRange",value:function(e,t,i,n){this._startShowingOrUpdateHover(new b.Qj(0,e,void 0,void 0),t,i,n,null)}},{key:"_startShowingOrUpdateHover",value:function(e,t,i,n,o){return this._widget.position&&this._currentResult?this._editor.getOption(59).sticky&&o&&this._widget.isMouseGettingCloser(o.event.posx,o.event.posy)?(e&&this._startHoverOperationIfNecessary(e,t,i,n,!0),!0):e?!(!e||!this._currentResult.anchor.equals(e))||(e.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(e)),this._startHoverOperationIfNecessary(e,t,i,n,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(e,t,i,n,!1),!0)):(this._setCurrentResult(null),!1):!!e&&(this._startHoverOperationIfNecessary(e,t,i,n,!1),!0)}},{key:"_startHoverOperationIfNecessary",value:function(e,t,i,n,o){this._computer.anchor&&this._computer.anchor.equals(e)||(this._hoverOperation.cancel(),this._computer.anchor=e,this._computer.shouldFocus=n,this._computer.source=i,this._computer.insistOnKeepingHoverVisible=o,this._hoverOperation.start(t))}},{key:"_setCurrentResult",value:function(e){this._currentResult!==e&&(e&&0===e.messages.length&&(e=null),this._currentResult=e,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}},{key:"hide",value:function(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}},{key:"isColorPickerVisible",get:function(){return this._widget.isColorPickerVisible}},{key:"isVisibleFromKeyboard",get:function(){return this._widget.isVisibleFromKeyboard}},{key:"isVisible",get:function(){return this._widget.isVisible}},{key:"isFocused",get:function(){return this._widget.isFocused}},{key:"isResizing",get:function(){return this._widget.isResizing}},{key:"containsNode",value:function(e){return!!e&&this._widget.getDomNode().contains(e)}},{key:"_addLoadingMessage",value:function(e){if(this._computer.anchor){var t,i=(0,s.Z)(this._participants);try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.createLoadingMessage){var o=n.createLoadingMessage(this._computer.anchor);if(o)return e.slice(0).concat([o])}}}catch(r){i.e(r)}finally{i.f()}}return e}},{key:"_withResult",value:function(e){if(this._widget.position&&this._currentResult&&this._currentResult.isComplete){if(!e.isComplete)return;if(this._computer.insistOnKeepingHoverVisible&&0===e.messages.length)return}this._setCurrentResult(e)}},{key:"_renderMessages",value:function(e,t){var n,o=this,r=i.computeHoverRanges(this._editor,e.range,t),a=r.showAtPosition,u=r.showAtSecondaryPosition,l=r.highlightRange,c=new g.SL,h=c.add(new O(this._keybindingService)),d=document.createDocumentFragment(),v=null,f={fragment:d,statusBar:h,setColorPicker:function(e){return v=e},onContentsChanged:function(){return o._widget.onContentsChanged()},setMinimumDimensions:function(e){return o._widget.setMinimumDimensions(e)},hide:function(){return o.hide()}},p=(0,s.Z)(this._participants);try{var _=function(){var e=n.value,i=t.filter((function(t){return t.owner===e}));i.length>0&&c.add(e.renderHoverParts(f,i))};for(p.s();!(n=p.n()).done;)_()}catch(b){p.e(b)}finally{p.f()}var m=t.some((function(e){return e.isBeforeContent}));if(h.hasContent&&d.appendChild(h.hoverElement),d.hasChildNodes()){if(l){var y=this._editor.createDecorationsCollection();y.set([{range:l,options:i._DECORATION_OPTIONS}]),c.add((0,g.OF)((function(){y.clear()})))}this._widget.showAt(d,new H(v,a,u,this._editor.getOption(59).above,this._computer.shouldFocus,this._computer.source,m,e.initialMousePosX,e.initialMousePosY,c))}else c.dispose()}},{key:"focus",value:function(){this._widget.focus()}},{key:"scrollUp",value:function(){this._widget.scrollUp()}},{key:"scrollDown",value:function(){this._widget.scrollDown()}},{key:"scrollLeft",value:function(){this._widget.scrollLeft()}},{key:"scrollRight",value:function(){this._widget.scrollRight()}},{key:"pageUp",value:function(){this._widget.pageUp()}},{key:"pageDown",value:function(){this._widget.pageDown()}},{key:"goToTop",value:function(){this._widget.goToTop()}},{key:"goToBottom",value:function(){this._widget.goToBottom()}}],[{key:"computeHoverRanges",value:function(e,t,i){var n=1;if(e.hasModel()){var o=e._getViewModel(),r=o.coordinatesConverter,a=r.convertModelRangeToViewRange(t),u=new f.L(a.startLineNumber,o.getLineMinColumn(a.startLineNumber));n=r.convertViewPositionToModelPosition(u).column}var l,c=t.startLineNumber,h=t.startColumn,d=i[0].range,v=null,g=(0,s.Z)(i);try{for(g.s();!(l=g.n()).done;){var _=l.value;d=p.e.plusRange(d,_.range),_.range.startLineNumber===c&&_.range.endLineNumber===c&&(h=Math.max(Math.min(h,_.range.startColumn),n)),_.forceShowAtRange&&(v=_.range)}}catch(m){g.e(m)}finally{g.f()}return{showAtPosition:v?v.getStartPosition():new f.L(c,t.startColumn),showAtSecondaryPosition:v?v.getStartPosition():new f.L(c,h),highlightRange:d}}}]),i}(g.JT);I._DECORATION_OPTIONS=_.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),I=M([Z(1,k.TG),Z(2,w.d)],I);var R=function(){function e(t,i,n){(0,a.Z)(this,e),this.anchor=t,this.messages=i,this.isComplete=n}return(0,u.Z)(e,[{key:"filter",value:function(e){var t=this.messages.filter((function(t){return t.isValidForHoverAnchor(e)}));return t.length===this.messages.length?this:new T(this,this.anchor,t,this.isComplete)}}]),e}(),T=function(e){(0,l.Z)(i,e);var t=(0,c.Z)(i);function i(e,n,o,r){var s;return(0,a.Z)(this,i),(s=t.call(this,n,o,r)).original=e,s}return(0,u.Z)(i,[{key:"filter",value:function(e){return this.original.filter(e)}}]),i}(R),H=(0,u.Z)((function e(t,i,n,o,r,s,u,l,c,h){(0,a.Z)(this,e),this.colorPicker=t,this.showAtPosition=i,this.showAtSecondaryPosition=n,this.preferAbove=o,this.stoleFocus=r,this.source=s,this.isBeforeContent=u,this.initialMousePosX=l,this.initialMousePosY=c,this.disposables=h,this.closestMouseDistance=void 0})),x=function(e){(0,l.Z)(i,e);var t=(0,c.Z)(i);function i(e,o,r){var s;(0,a.Z)(this,i),(s=t.call(this,e,o))._hover=s._register(new d.c),s._hoverVisibleKey=S.u.hoverVisible.bindTo(r),s._hoverFocusedKey=S.u.hoverFocused.bindTo(r),h.append(s._resizableNode.domNode,s._hover.containerDomNode),s._resizableNode.domNode.style.zIndex="50",s._register(s._editor.onDidLayoutChange((function(){return s._layout()}))),s._register(s._editor.onDidChangeConfiguration((function(e){e.hasChanged(49)&&s._updateFont()})));var u=s._register(h.trackFocus(s._resizableNode.domNode));return s._register(u.onDidFocus((function(){s._hoverFocusedKey.set(!0)}))),s._register(u.onDidBlur((function(){s._hoverFocusedKey.set(!1)}))),s._setHoverData(void 0),s._layout(),s._editor.addContentWidget((0,n.Z)(s)),s}return(0,u.Z)(i,[{key:"isColorPickerVisible",get:function(){var e;return Boolean(null===(e=this._visibleData)||void 0===e?void 0:e.colorPicker)}},{key:"isVisibleFromKeyboard",get:function(){var e;return 1===(null===(e=this._visibleData)||void 0===e?void 0:e.source)}},{key:"isVisible",get:function(){var e;return null!==(e=this._hoverVisibleKey.get())&&void 0!==e&&e}},{key:"isFocused",get:function(){var e;return null!==(e=this._hoverFocusedKey.get())&&void 0!==e&&e}},{key:"dispose",value:function(){var e;(0,o.Z)((0,r.Z)(i.prototype),"dispose",this).call(this),null===(e=this._visibleData)||void 0===e||e.disposables.dispose(),this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return i.ID}},{key:"_setContentsDomNodeDimensions",value:function(e,t){var n=this._hover.contentsDomNode;return i._applyDimensions(n,e,t)}},{key:"_setContainerDomNodeDimensions",value:function(e,t){var n=this._hover.containerDomNode;return i._applyDimensions(n,e,t)}},{key:"_setHoverWidgetDimensions",value:function(e,t){this._setContentsDomNodeDimensions(e,t),this._setContainerDomNodeDimensions(e,t),this._layoutContentWidget()}},{key:"_setHoverWidgetMaxDimensions",value:function(e,t){i._applyMaxDimensions(this._hover.contentsDomNode,e,t),i._applyMaxDimensions(this._hover.containerDomNode,e,t),this._hover.containerDomNode.style.setProperty("--hover-maxWidth","number"===typeof e?"".concat(e,"px"):e),this._layoutContentWidget()}},{key:"_hasHorizontalScrollbar",value:function(){var e=this._hover.scrollbar.getScrollDimensions();return e.scrollWidth>e.width}},{key:"_adjustContentsBottomPadding",value:function(){var e=this._hover.contentsDomNode,t="".concat(this._hover.scrollbar.options.horizontalScrollbarSize,"px");e.style.paddingBottom!==t&&(e.style.paddingBottom=t)}},{key:"_setAdjustedHoverWidgetDimensions",value:function(e){this._setHoverWidgetMaxDimensions("none","none");var t=e.width,i=e.height;this._setHoverWidgetDimensions(t,i),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(t,i-10))}},{key:"_setResizableNodeMaxDimensions",value:function(){var e,t,i=null!==(e=this._findMaximumRenderingWidth())&&void 0!==e?e:1/0,n=null!==(t=this._findMaximumRenderingHeight())&&void 0!==t?t:1/0;this._resizableNode.maxSize=new h.Dimension(i,n),this._setHoverWidgetMaxDimensions(i,n)}},{key:"_resize",value:function(e){var t,n;i._lastDimensions=new h.Dimension(e.width,e.height),this._setAdjustedHoverWidgetDimensions(e),this._resizableNode.layout(e.height,e.width),this._setResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),null===(n=null===(t=this._visibleData)||void 0===t?void 0:t.colorPicker)||void 0===n||n.layout()}},{key:"_findAvailableSpaceVertically",value:function(){var e,t=null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition;if(t)return 1===this._positionPreference?this._availableVerticalSpaceAbove(t):this._availableVerticalSpaceBelow(t)}},{key:"_findMaximumRenderingHeight",value:function(){var e=this._findAvailableSpaceVertically();if(e){var t=6;return Array.from(this._hover.contentsDomNode.children).forEach((function(e){t+=e.clientHeight})),this._hasHorizontalScrollbar()&&(t+=10),Math.min(e,t)}}},{key:"_findMaximumRenderingWidth",value:function(){if(this._editor&&this._editor.hasModel()){return h.getClientArea(document.body).width-14}}},{key:"isMouseGettingCloser",value:function(e,t){if(!this._visibleData)return!1;if("undefined"===typeof this._visibleData.initialMousePosX||"undefined"===typeof this._visibleData.initialMousePosY)return this._visibleData.initialMousePosX=e,this._visibleData.initialMousePosY=t,!1;var i=h.getDomNodePagePosition(this.getDomNode());"undefined"===typeof this._visibleData.closestMouseDistance&&(this._visibleData.closestMouseDistance=W(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,i.left,i.top,i.width,i.height));var n=W(e,t,i.left,i.top,i.width,i.height);return!(n>this._visibleData.closestMouseDistance+4)&&(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,n),!0)}},{key:"_setHoverData",value:function(e){var t;null===(t=this._visibleData)||void 0===t||t.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!e),this._hover.containerDomNode.classList.toggle("hidden",!e)}},{key:"_layout",value:function(){var e=this._editor.getOption(49),t=e.fontSize,i=e.lineHeight,n=this._hover.contentsDomNode;n.style.fontSize="".concat(t,"px"),n.style.lineHeight="".concat(i/t),this._updateMaxDimensions()}},{key:"_updateFont",value:function(){var e=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"_updateContent",value:function(e){var t=this._hover.contentsDomNode;t.style.paddingBottom="",t.textContent="",t.appendChild(e)}},{key:"_layoutContentWidget",value:function(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}},{key:"_updateMaxDimensions",value:function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250,i._lastDimensions.height),t=Math.max(.66*this._editor.getLayoutInfo().width,500,i._lastDimensions.width);this._setHoverWidgetMaxDimensions(t,e)}},{key:"_render",value:function(e,t){this._setHoverData(t),this._updateFont(),this._updateContent(e),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}},{key:"getPosition",value:function(){var e;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[null!==(e=this._positionPreference)&&void 0!==e?e:1]}:null}},{key:"showAt",value:function(e,t){var i,n;if(this._editor&&this._editor.hasModel()){this._render(e,t);var o=h.getTotalHeight(this._hover.containerDomNode),r=t.showAtPosition;this._positionPreference=null!==(i=this._findPositionPreference(o,r))&&void 0!==i?i:1,this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),null===(n=t.colorPicker)||void 0===n||n.layout()}}},{key:"hide",value:function(){if(this._visibleData){var e=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new h.Dimension(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}},{key:"_removeConstraintsRenderNormally",value:function(){var e=this._editor.getLayoutInfo();this._resizableNode.layout(e.height,e.width),this._setHoverWidgetDimensions("auto","auto")}},{key:"_adjustHoverHeightForScrollbar",value:function(e){var t,i=this._hover.containerDomNode,n=this._hover.contentsDomNode,o=null!==(t=this._findMaximumRenderingHeight())&&void 0!==t?t:1/0;this._setContainerDomNodeDimensions(h.getTotalWidth(i),Math.min(o,e)),this._setContentsDomNodeDimensions(h.getTotalWidth(n),Math.min(o,e-10))}},{key:"setMinimumDimensions",value:function(e){this._resizableNode.minSize=e}},{key:"onContentsChanged",value:function(){var e;this._removeConstraintsRenderNormally();var t=this._hover.containerDomNode,i=h.getTotalHeight(t),n=h.getTotalWidth(t);if(this._resizableNode.layout(i,n),this._setHoverWidgetDimensions(n,i),i=h.getTotalHeight(t),n=h.getTotalWidth(t),this._resizableNode.layout(i,n),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(i)),null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition){var o=h.getTotalHeight(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(o,this._visibleData.showAtPosition)}this._layoutContentWidget()}},{key:"focus",value:function(){this._hover.containerDomNode.focus()}},{key:"scrollUp",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(49);this._hover.scrollbar.setScrollPosition({scrollTop:e-t.lineHeight})}},{key:"scrollDown",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(49);this._hover.scrollbar.setScrollPosition({scrollTop:e+t.lineHeight})}},{key:"scrollLeft",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e-30})}},{key:"scrollRight",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e+30})}},{key:"pageUp",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e-t})}},{key:"pageDown",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e+t})}},{key:"goToTop",value:function(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}},{key:"goToBottom",value:function(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}}],[{key:"_applyDimensions",value:function(e,t,i){var n="number"===typeof t?"".concat(t,"px"):t,o="number"===typeof i?"".concat(i,"px"):i;e.style.width=n,e.style.height=o}},{key:"_applyMaxDimensions",value:function(e,t,i){var n="number"===typeof t?"".concat(t,"px"):t,o="number"===typeof i?"".concat(i,"px"):i;e.style.maxWidth=n,e.style.maxHeight=o}}]),i}(L);x.ID="editor.contrib.resizableContentHoverWidget",x._lastDimensions=new h.Dimension(0,0),x=M([Z(2,D.i6)],x);var O=function(e){(0,l.Z)(i,e);var t=(0,c.Z)(i);function i(e){var n;return(0,a.Z)(this,i),(n=t.call(this))._keybindingService=e,n._hasContent=!1,n.hoverElement=P("div.hover-row.status-bar"),n.actionsElement=h.append(n.hoverElement,P("div.actions")),n}return(0,u.Z)(i,[{key:"hasContent",get:function(){return this._hasContent}},{key:"addAction",value:function(e){var t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(d.S.render(this.actionsElement,e,i))}},{key:"append",value:function(e){var t=h.append(this.actionsElement,e);return this._hasContent=!0,t}}]),i}(g.JT);O=M([Z(0,w.d)],O);var A=function(){function e(t,i){(0,a.Z)(this,e),this._editor=t,this._participants=i,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}return(0,u.Z)(e,[{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor=e}},{key:"shouldFocus",get:function(){return this._shouldFocus},set:function(e){this._shouldFocus=e}},{key:"source",get:function(){return this._source},set:function(e){this._source=e}},{key:"insistOnKeepingHoverVisible",get:function(){return this._insistOnKeepingHoverVisible},set:function(e){this._insistOnKeepingHoverVisible=e}},{key:"computeAsync",value:function(t){var i=this._anchor;if(!this._editor.hasModel()||!i)return C.Aq.EMPTY;var n=e._getLineDecorations(this._editor,i);return C.Aq.merge(this._participants.map((function(e){return e.computeAsync?e.computeAsync(i,n,t):C.Aq.EMPTY})))}},{key:"computeSync",value:function(){if(!this._editor.hasModel()||!this._anchor)return[];var t,i=e._getLineDecorations(this._editor,this._anchor),n=[],o=(0,s.Z)(this._participants);try{for(o.s();!(t=o.n()).done;){var r=t.value;n=n.concat(r.computeSync(this._anchor,i))}}catch(a){o.e(a)}finally{o.f()}return(0,v.kX)(n)}}],[{key:"_getLineDecorations",value:function(e,t){if(1!==t.type&&!t.supportsMarkerHover)return[];var i=e.getModel(),n=t.range.startLineNumber;if(n>i.getLineCount())return[];var o=i.getLineMaxColumn(n);return e.getLineDecorations(n).filter((function(e){if(e.options.isWholeLine)return!0;var i=e.range.startLineNumber===n?e.range.startColumn:1,r=e.range.endLineNumber===n?e.range.endColumn:o;if(e.options.showIfCollapsed){if(i>t.range.startColumn+1||t.range.endColumn-1>r)return!1}else if(i>t.range.startColumn||t.range.endColumn>r)return!1;return!0}))}}]),e}();function W(e,t,i,n,o,r){var s=i+o/2,a=n+r/2,u=Math.max(Math.abs(e-s)-o/2,0),l=Math.max(Math.abs(t-a)-r/2,0);return Math.sqrt(u*u+l*l)}},93630:function(e,t,i){i.d(t,{R8:function(){return v}});var n=i(74165),o=i(43144),r=i(15671),s=i(71049),a=i(7388),u=i(74146),l=i(95253),c=i(65441),h=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{u(n.next(e))}catch(t){r(t)}}function a(e){try{u(n.throw(e))}catch(t){r(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},d=(0,o.Z)((function e(t,i,n){(0,r.Z)(this,e),this.provider=t,this.hover=i,this.ordinal=n}));function v(e,t,i,o){var r=e.ordered(t).map((function(e,r){return function(e,t,i,o,r){return h(this,void 0,void 0,(0,n.Z)().mark((function s(){var a;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Promise.resolve(e.provideHover(i,o,r));case 3:if(!(a=n.sent)||!g(a)){n.next=6;break}return n.abrupt("return",new d(e,a,t));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),(0,u.Cp)(n.t0);case 11:return n.abrupt("return",void 0);case 12:case"end":return n.stop()}}),s,null,[[0,8]])})))}(e,r,t,i,o)}));return s.Aq.fromPromises(r).coalesce()}function g(e){var t="undefined"!==typeof e.range,i="undefined"!==typeof e.contents&&e.contents&&e.contents.length>0;return t&&i}(0,l.sb)("_executeHoverProvider",(function(e,t,i){return function(e,t,i,n){return v(e,t,i,n).map((function(e){return e.hover})).toPromise()}(e.get(c.p).hoverProvider,t,i,a.T.None)}))},85537:function(e,t,i){i.r(t),i.d(t,{ModesHoverController:function(){return ae}});var n=i(60136),o=i(27277),r=i(15671),s=i(43144),a=i(89490),u=i(65096),l=i(95253),c=i(17429),h=i(98926),d=i(58188),v=i(83317),g=i(21019),f=i(93433),p=i(37762),_=i(97326),m=i(11752),y=i(61120),b=i(32959),k=i(38102),w=i(71047),C=i(38425),S=i(99964),D=i(94006),N=b.$,L=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(e,n,o){var s;return(0,r.Z)(this,i),(s=t.call(this))._renderDisposeables=s._register(new u.SL),s._editor=e,s._isVisible=!1,s._messages=[],s._hover=s._register(new D.c),s._hover.containerDomNode.classList.toggle("hidden",!s._isVisible),s._markdownRenderer=s._register(new C.$({editor:s._editor},n,o)),s._computer=new M(s._editor),s._hoverOperation=s._register(new S.H(s._editor,s._computer)),s._register(s._hoverOperation.onResult((function(e){s._withResult(e.value)}))),s._register(s._editor.onDidChangeModelDecorations((function(){return s._onModelDecorationsChanged()}))),s._register(s._editor.onDidChangeConfiguration((function(e){e.hasChanged(49)&&s._updateFont()}))),s._editor.addOverlayWidget((0,_.Z)(s)),s}return(0,s.Z)(i,[{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),(0,m.Z)((0,y.Z)(i.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return i.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){return null}},{key:"_updateFont",value:function(){var e=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"_onModelDecorationsChanged",value:function(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}},{key:"startShowingAt",value:function(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}},{key:"hide",value:function(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}},{key:"_withResult",value:function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}},{key:"_renderMessages",value:function(e,t){this._renderDisposeables.clear();var i,n=document.createDocumentFragment(),o=(0,p.Z)(t);try{for(o.s();!(i=o.n()).done;){var r=i.value,s=N("div.hover-row.markdown-hover"),a=b.append(s,N("div.hover-contents")),u=this._renderDisposeables.add(this._markdownRenderer.render(r.value));a.appendChild(u.element),n.appendChild(s)}}catch(l){o.e(l)}finally{o.f()}this._updateContents(n),this._showAt(e)}},{key:"_updateContents",value:function(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}},{key:"_showAt",value:function(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));var t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),n=this._editor.getScrollTop(),o=this._editor.getOption(65),r=i-n-(this._hover.containerDomNode.clientHeight-o)/2;this._hover.containerDomNode.style.left="".concat(t.glyphMarginLeft+t.glyphMarginWidth,"px"),this._hover.containerDomNode.style.top="".concat(Math.max(Math.round(r),0),"px")}}]),i}(u.JT);L.ID="editor.contrib.modesGlyphHoverWidget";var M=function(){function e(t){(0,r.Z)(this,e),this._editor=t,this._lineNumber=-1}return(0,s.Z)(e,[{key:"lineNumber",get:function(){return this._lineNumber},set:function(e){this._lineNumber=e}},{key:"computeSync",value:function(){var e=function(e){return{value:e}},t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;var n,o=(0,p.Z)(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(r.options.glyphMarginClassName){var s=r.options.glyphMarginHoverMessage;s&&!(0,w.CP)(s)&&i.push.apply(i,(0,f.Z)((0,k._2)(s).map(e)))}}}catch(a){o.e(a)}finally{o.f()}return i}}]),e}(),Z=i(93897),P=i(64606),I=i(51713),R=i(43980),T=i(41335),H=i(24250),x=i(80592),O=i(71049),A=i(74146),W=i(44641),z=i(65441),F=i(36053),V=i(47150),E=i(32714),U=i(53222),B=i(14573),Q=i(18420),K=i(81266),j=i(28322),Y=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},q=function(e,t){return function(i,n){t(i,n,e)}},G=b.$,J=function(){function e(t,i,n){(0,r.Z)(this,e),this.owner=t,this.range=i,this.marker=n}return(0,s.Z)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),X={type:1,filter:{include:U.yN.QuickFix},triggerAction:U.aQ.QuickFixHover},$=function(){function e(t,i,n,o){(0,r.Z)(this,e),this._editor=t,this._markerDecorationsService=i,this._openerService=n,this._languageFeaturesService=o,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}return(0,s.Z)(e,[{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type&&!e.supportsMarkerHover)return[];var i,n=this._editor.getModel(),o=e.range.startLineNumber,r=n.getLineMaxColumn(o),s=[],a=(0,p.Z)(t);try{for(a.s();!(i=a.n()).done;){var u=i.value,l=u.range.startLineNumber===o?u.range.startColumn:1,h=u.range.endLineNumber===o?u.range.endColumn:r,d=this._markerDecorationsService.getMarker(n.uri,u);if(d){var v=new c.e(e.range.startLineNumber,l,e.range.startLineNumber,h);s.push(new J(this,v,d))}}}catch(g){a.e(g)}finally{a.f()}return s}},{key:"renderHoverParts",value:function(e,t){var i=this;if(!t.length)return u.JT.None;var n=new u.SL;t.forEach((function(t){return e.fragment.appendChild(i.renderMarkerHover(t,n))}));var o=1===t.length?t[0]:t.sort((function(e,t){return K.ZL.compare(e.marker.severity,t.marker.severity)}))[0];return this.renderMarkerStatusbar(e,o,n),n}},{key:"renderMarkerHover",value:function(e,t){var i=this,n=G("div.hover-row"),o=b.append(n,G("div.marker.hover-contents")),r=e.marker,s=r.source,a=r.message,u=r.code,l=r.relatedInformation;this._editor.applyFontInfo(o);var c=b.append(o,G("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=a,s||u)if(u&&"string"!==typeof u){var h=G("span");if(s)b.append(h,G("span")).innerText=s;var d=b.append(h,G("a.code-link"));d.setAttribute("href",u.target.toString()),t.add(b.addDisposableListener(d,"click",(function(e){i._openerService.open(u.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()}))),b.append(d,G("span")).innerText=u.value;var v=b.append(o,h);v.style.opacity="0.6",v.style.paddingLeft="6px"}else{var g=b.append(o,G("span"));g.style.opacity="0.6",g.style.paddingLeft="6px",g.innerText=s&&u?"".concat(s,"(").concat(u,")"):s||"(".concat(u,")")}if((0,k.Of)(l)){var f,_=(0,p.Z)(l);try{var m=function(){var e=f.value,n=e.message,r=e.resource,s=e.startLineNumber,a=e.startColumn,u=b.append(o,G("div"));u.style.marginTop="8px";var l=b.append(u,G("a"));l.innerText="".concat((0,W.EZ)(r),"(").concat(s,", ").concat(a,"): "),l.style.cursor="pointer",t.add(b.addDisposableListener(l,"click",(function(e){e.stopPropagation(),e.preventDefault(),i._openerService&&i._openerService.open(r,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:s,startColumn:a}}}).catch(A.dL)})));var c=b.append(u,G("span"));c.innerText=n,i._editor.applyFontInfo(c)};for(_.s();!(f=_.n()).done;)m()}catch(y){_.e(y)}finally{_.f()}}return n}},{key:"renderMarkerStatusbar",value:function(e,t,i){var n=this;if(t.marker.severity!==K.ZL.Error&&t.marker.severity!==K.ZL.Warning&&t.marker.severity!==K.ZL.Info||e.statusBar.addAction({label:Q.NC("view problem","View Problem"),commandId:B.NextMarkerAction.ID,run:function(){var i;e.hide(),null===(i=B.MarkerController.get(n._editor))||void 0===i||i.showAtMarker(t.marker),n._editor.focus()}}),!this._editor.getOption(89)){var o=e.statusBar.append(G("div"));this.recentMarkerCodeActionsInfo&&(K.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===K.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=Q.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);var r=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?u.JT.None:i.add((0,O.Vg)((function(){return o.textContent=Q.NC("checkingForQuickFixes","Checking for quick fixes...")}),200));o.textContent||(o.textContent=String.fromCharCode(160));var s=this.getCodeActions(t.marker);i.add((0,u.OF)((function(){return s.cancel()}))),s.then((function(s){if(r.dispose(),n.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:s.validActions.length>0},!n.recentMarkerCodeActionsInfo.hasCodeActions)return s.dispose(),void(o.textContent=Q.NC("noQuickFixes","No quick fixes available"));o.style.display="none";var a=!1;i.add((0,u.OF)((function(){a||s.dispose()}))),e.statusBar.addAction({label:Q.NC("quick fixes","Quick Fix..."),commandId:V.cz,run:function(t){a=!0;var i=E.G.get(n._editor),o=b.getDomNodePagePosition(t);e.hide(),null===i||void 0===i||i.showCodeActions(X,s,{x:o.left,y:o.top,width:o.width,height:o.height})}})}),A.dL)}}},{key:"getCodeActions",value:function(e){var t=this;return(0,O.PG)((function(i){return(0,V.aI)(t._languageFeaturesService.codeActionProvider,t._editor.getModel(),new c.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),X,j.Ex.None,i)}))}}]),e}();$=Y([q(1,F.i),q(2,I.v4),q(3,z.p)],$);var ee=i(39019),te=i(75256),ie=i(77819),ne=i(61841),oe=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},re=function(e,t){return function(i,n){t(i,n,e)}},se=!1,ae=function(){function e(t,i,n,o,s){var a=this;(0,r.Z)(this,e),this._editor=t,this._instantiationService=i,this._openerService=n,this._languageService=o,this._keybindingService=s,this._toUnhook=new u.SL,this._hoverActivatedByColorDecoratorClick=!1,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((function(e){e.hasChanged(59)&&(a._unhookEvents(),a._hookEvents())}))}return(0,s.Z)(e,[{key:"_hookEvents",value:function(){var e=this,t=this._editor.getOption(59);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((function(t){return e._onEditorMouseDown(t)}))),this._toUnhook.add(this._editor.onMouseUp((function(t){return e._onEditorMouseUp(t)}))),this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)})))):(this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)})))),this._toUnhook.add(this._editor.onMouseLeave((function(t){return e._onEditorMouseLeave(t)}))),this._toUnhook.add(this._editor.onDidChangeModel((function(){return e._hideWidgets()}))),this._toUnhook.add(this._editor.onDidScrollChange((function(t){return e._onEditorScrollChanged(t)})))}},{key:"_unhookEvents",value:function(){this._toUnhook.clear()}},{key:"_onEditorScrollChanged",value:function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}},{key:"_onEditorMouseDown",value:function(e){var t;this._isMouseDown=!0;var i=e.target;9!==i.type||i.detail!==g.Hb.ID?12===i.type&&i.detail===L.ID||(12!==i.type&&(this._hoverClicked=!1),(null===(t=this._contentWidget)||void 0===t?void 0:t.widget.isResizing)||this._hideWidgets()):this._hoverClicked=!0}},{key:"_onEditorMouseUp",value:function(e){this._isMouseDown=!1}},{key:"_onEditorMouseLeave",value:function(e){var t,i,n=e.event.browserEvent.relatedTarget;(null===(t=this._contentWidget)||void 0===t?void 0:t.widget.isResizing)||(null===(i=this._contentWidget)||void 0===i?void 0:i.containsNode(n))||this._hideWidgets()}},{key:"_onEditorMouseMove",value:function(e){var t,i,n,o,r,s,a,u,l,c,h,d=e.target;if(!(null===(t=this._contentWidget)||void 0===t?void 0:t.isFocused)&&!(null===(i=this._contentWidget)||void 0===i?void 0:i.isResizing)&&(!this._isMouseDown||!this._hoverClicked)&&(!this._isHoverSticky||9!==d.type||d.detail!==g.Hb.ID)&&(!this._isHoverSticky||!(null===(n=this._contentWidget)||void 0===n?void 0:n.containsNode(null===(o=e.event.browserEvent.view)||void 0===o?void 0:o.document.activeElement))||(null===(s=null===(r=e.event.browserEvent.view)||void 0===r?void 0:r.getSelection())||void 0===s?void 0:s.isCollapsed))&&(this._isHoverSticky||9!==d.type||d.detail!==g.Hb.ID||!(null===(a=this._contentWidget)||void 0===a?void 0:a.isColorPickerVisible))&&(!this._isHoverSticky||12!==d.type||d.detail!==L.ID)&&(!this._isHoverSticky||!(null===(u=this._contentWidget)||void 0===u?void 0:u.isVisibleFromKeyboard))){var v=null===(l=d.element)||void 0===l?void 0:l.classList.contains("colorpicker-color-decoration"),f=this._editor.getOption(145);if(v&&("click"===f&&!this._hoverActivatedByColorDecoratorClick||"hover"===f&&!this._isHoverEnabled||"clickAndHover"===f&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick)||!(v||this._isHoverEnabled||this._hoverActivatedByColorDecoratorClick))this._hideWidgets();else if(this._getOrCreateContentWidget().maybeShowAt(e))null===(c=this._glyphWidget)||void 0===c||c.hide();else{if(2===d.type&&d.position)return null===(h=this._contentWidget)||void 0===h||h.hide(),this._glyphWidget||(this._glyphWidget=new L(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(d.position.lineNumber);se,this._hideWidgets()}}}},{key:"_onKeyDown",value:function(e){var t;if(this._editor.hasModel()){var i=this._keybindingService.softDispatch(e,this._editor.getDomNode()),n=1===i.kind||2===i.kind&&"editor.action.showHover"===i.commandId&&(null===(t=this._contentWidget)||void 0===t?void 0:t.isVisible);5===e.keyCode||6===e.keyCode||57===e.keyCode||4===e.keyCode||n||this._hideWidgets()}}},{key:"_hideWidgets",value:function(){var e,t,i;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible)||ee.QG.dropDownVisible||(this._hoverActivatedByColorDecoratorClick=!1,this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(i=this._contentWidget)||void 0===i||i.hide())}},{key:"_getOrCreateContentWidget",value:function(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(g.hT,this._editor)),this._contentWidget}},{key:"showContentHover",value:function(e,t,i,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._hoverActivatedByColorDecoratorClick=o,this._getOrCreateContentWidget().startShowingAtRange(e,t,i,n)}},{key:"focus",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.focus()}},{key:"scrollUp",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollUp()}},{key:"scrollDown",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollDown()}},{key:"scrollLeft",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollLeft()}},{key:"scrollRight",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollRight()}},{key:"pageUp",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.pageUp()}},{key:"pageDown",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.pageDown()}},{key:"goToTop",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.goToTop()}},{key:"goToBottom",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.goToBottom()}},{key:"isColorPickerVisible",get:function(){var e;return null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible}},{key:"isHoverVisible",get:function(){var e;return null===(e=this._contentWidget)||void 0===e?void 0:e.isVisible}},{key:"dispose",value:function(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();ae.ID="editor.contrib.hover",ae=oe([re(1,P.TG),re(2,I.v4),re(3,d.O),re(4,te.d)],ae);var ue=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.showHover",label:Q.NC({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse.","If the hover is already visible, it will take focus."]},"Show or Focus Hover"),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,a.gx)(2089,2087),weight:100}})}return(0,s.Z)(i,[{key:"run",value:function(e,t,i){var n,o=e.get(ie.Ui),r=e.get(Z.F),s=e.get(te.d);if(t.hasModel()){var a=ae.get(t);if(a){var u=t.getPosition(),l=new c.e(u.lineNumber,u.column,u.lineNumber,u.column),h=2===t.getOption(2)||!!(null===i||void 0===i?void 0:i.focus);if(a.isHoverVisible?a.focus():a.showContentHover(l,1,1,h),o.getValue("accessibility.verbosity.hover")&&r.isScreenReaderOptimized()){var d=null===(n=s.lookupKeybinding("editor.action.accessibleView"))||void 0===n?void 0:n.getAriaLabel(),v=d?Q.NC("chatAccessibleViewHint","Inspect this in the accessible view with {0}",d):Q.NC("chatAccessibleViewHintNoKb","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding");(0,ne.i7)(v)}}}}}]),i}(l.R6),le=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.showDefinitionPreviewHover",label:Q.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=ae.get(t);if(i){var n=t.getPosition();if(n){var o=new c.e(n.lineNumber,n.column,n.lineNumber,n.column),r=v.GotoDefinitionAtPositionEditorContribution.get(t);if(r)r.startFindDefinitionFromCursor(n).then((function(){i.showContentHover(o,1,1,!0)}))}}}}]),i}(l.R6),ce=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.scrollUpHover",label:Q.NC({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:16,weight:100}})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=ae.get(t);i&&i.scrollUp()}}]),i}(l.R6),he=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.scrollDownHover",label:Q.NC({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:18,weight:100}})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=ae.get(t);i&&i.scrollDown()}}]),i}(l.R6),de=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.scrollLeftHover",label:Q.NC({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:15,weight:100}})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=ae.get(t);i&&i.scrollLeft()}}]),i}(l.R6),ve=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.scrollRightHover",label:Q.NC({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:17,weight:100}})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=ae.get(t);i&&i.scrollRight()}}]),i}(l.R6),ge=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.pageUpHover",label:Q.NC({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:11,secondary:[528],weight:100}})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=ae.get(t);i&&i.pageUp()}}]),i}(l.R6),fe=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.pageDownHover",label:Q.NC({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:12,secondary:[530],weight:100}})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=ae.get(t);i&&i.pageDown()}}]),i}(l.R6),pe=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.goToTopHover",label:Q.NC({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:14,secondary:[2064],weight:100}})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=ae.get(t);i&&i.goToTop()}}]),i}(l.R6),_e=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.goToBottomHover",label:Q.NC({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:h.u.hoverFocused,kbOpts:{kbExpr:h.u.hoverFocused,primary:13,secondary:[2066],weight:100}})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=ae.get(t);i&&i.goToBottom()}}]),i}(l.R6);(0,l._K)(ae.ID,ae,2),(0,l.Qr)(ue),(0,l.Qr)(le),(0,l.Qr)(ce),(0,l.Qr)(he),(0,l.Qr)(de),(0,l.Qr)(ve),(0,l.Qr)(ge),(0,l.Qr)(fe),(0,l.Qr)(pe),(0,l.Qr)(_e),H.Ae.register(x.D5),H.Ae.register($),(0,T.Ic)((function(e,t){var i=e.getColor(R.CNo);i&&(t.addRule(".monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(i.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-top: 1px solid ".concat(i.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-bottom: 0px solid ".concat(i.transparent(.5),"; }")))}))},99964:function(e,t,i){i.d(t,{H:function(){return _}});var n=i(74165),o=i(11752),r=i(61120),s=i(60136),a=i(27277),u=i(43144),l=i(15671),c=i(71049),h=i(74146),d=i(13880),v=i(65096),g=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{u(n.next(e))}catch(t){r(t)}}function a(e){try{u(n.throw(e))}catch(t){r(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},f=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"===typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,o){(function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)})(n,o,(t=e[i](t)).done,t.value)}))}}},p=(0,u.Z)((function e(t,i,n){(0,l.Z)(this,e),this.value=t,this.isComplete=i,this.hasLoadingMessage=n})),_=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(e,n){var o;return(0,l.Z)(this,i),(o=t.call(this))._editor=e,o._computer=n,o._onResult=o._register(new d.Q5),o.onResult=o._onResult.event,o._firstWaitScheduler=o._register(new c.pY((function(){return o._triggerAsyncComputation()}),0)),o._secondWaitScheduler=o._register(new c.pY((function(){return o._triggerSyncComputation()}),0)),o._loadingMessageScheduler=o._register(new c.pY((function(){return o._triggerLoadingMessage()}),0)),o._state=0,o._asyncIterable=null,o._asyncIterableDone=!1,o._result=[],o}return(0,u.Z)(i,[{key:"dispose",value:function(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),(0,o.Z)((0,r.Z)(i.prototype),"dispose",this).call(this)}},{key:"_hoverTime",get:function(){return this._editor.getOption(59).delay}},{key:"_firstWaitTime",get:function(){return this._hoverTime/2}},{key:"_secondWaitTime",get:function(){return this._hoverTime-this._firstWaitTime}},{key:"_loadingMessageTime",get:function(){return 3*this._hoverTime}},{key:"_setState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._state=e,t&&this._fireResult()}},{key:"_triggerAsyncComputation",value:function(){var e=this;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,c.zS)((function(t){return e._computer.computeAsync(t)})),g(e,void 0,void 0,(0,n.Z)().mark((function e(){var t,i,o,r,s,a,u,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.prev=1,s=!0,a=f(this._asyncIterable);case 3:return e.next=5,a.next();case 5:if(u=e.sent,t=u.done){e.next=15;break}r=u.value,s=!1,(l=r)&&(this._result.push(l),this._fireResult());case 12:s=!0,e.next=3;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),i={error:e.t0};case 20:if(e.prev=20,e.prev=21,s||t||!(o=a.return)){e.next=25;break}return e.next=25,o.call(a);case 25:if(e.prev=25,!i){e.next=28;break}throw i.error;case 28:return e.finish(25);case 29:return e.finish(20);case 30:this._asyncIterableDone=!0,3!==this._state&&4!==this._state||this._setState(0),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),(0,h.dL)(e.t1);case 37:case"end":return e.stop()}}),e,this,[[0,34],[1,17,20,30],[21,,25,29]])})))):this._asyncIterableDone=!0}},{key:"_triggerSyncComputation",value:function(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}},{key:"_triggerLoadingMessage",value:function(){3===this._state&&this._setState(4)}},{key:"_fireResult",value:function(){if(1!==this._state&&2!==this._state){var e=0===this._state,t=4===this._state;this._onResult.fire(new p(this._result.slice(0),e,t))}}},{key:"start",value:function(e){if(0===e)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}},{key:"cancel",value:function(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}]),i}(v.JT)},24250:function(e,t,i){i.d(t,{Ae:function(){return a},Qj:function(){return r},YM:function(){return s}});var n=i(15671),o=i(43144),r=function(){function e(t,i,o,r){(0,n.Z)(this,e),this.priority=t,this.range=i,this.initialMousePosX=o,this.initialMousePosY=r,this.type=1}return(0,o.Z)(e,[{key:"equals",value:function(e){return 1===e.type&&this.range.equalsRange(e.range)}},{key:"canAdoptVisibleHover",value:function(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}]),e}(),s=function(){function e(t,i,o,r,s,a){(0,n.Z)(this,e),this.priority=t,this.owner=i,this.range=o,this.initialMousePosX=r,this.initialMousePosY=s,this.supportsMarkerHover=a,this.type=2}return(0,o.Z)(e,[{key:"equals",value:function(e){return 2===e.type&&this.owner===e.owner}},{key:"canAdoptVisibleHover",value:function(e,t){return 2===e.type&&this.owner===e.owner}}]),e}(),a=new(function(){function e(){(0,n.Z)(this,e),this._participants=[]}return(0,o.Z)(e,[{key:"register",value:function(e){this._participants.push(e)}},{key:"getAll",value:function(){return this._participants}}]),e}())},80592:function(e,t,i){i.d(t,{D5:function(){return S},c:function(){return D},hU:function(){return C}});var n=i(37762),o=i(15671),r=i(43144),s=i(32959),a=i(38102),u=i(71049),l=i(71047),c=i(65096),h=i(38425),d=i(65631),v=i(17429),g=i(58188),f=i(93630),p=i(18420),_=i(77819),m=i(51713),y=i(65441),b=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},k=function(e,t){return function(i,n){t(i,n,e)}},w=s.$,C=function(){function e(t,i,n,r,s){(0,o.Z)(this,e),this.owner=t,this.range=i,this.contents=n,this.isBeforeContent=r,this.ordinal=s}return(0,r.Z)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),S=function(){function e(t,i,n,r,s){(0,o.Z)(this,e),this._editor=t,this._languageService=i,this._openerService=n,this._configurationService=r,this._languageFeaturesService=s,this.hoverOrdinal=3}return(0,r.Z)(e,[{key:"createLoadingMessage",value:function(e){return new C(this,e.range,[(new l.W5).appendText(p.NC("modesContentHover.loading","Loading..."))],!1,2e3)}},{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type)return[];var i=this._editor.getModel(),o=e.range.startLineNumber,r=i.getLineMaxColumn(o),s=[],u=1e3,c=i.getLineLength(o),h=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._editor.getOption(115),g=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:h}),f=!1;d>=0&&c>d&&e.range.startColumn>=d&&(f=!0,s.push(new C(this,e.range,[{value:p.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,u++))),!f&&"number"===typeof g&&c>=g&&s.push(new C(this,e.range,[{value:p.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,u++));var _,m=!1,y=(0,n.Z)(t);try{for(y.s();!(_=y.n()).done;){var b=_.value,k=b.range.startLineNumber===o?b.range.startColumn:1,w=b.range.endLineNumber===o?b.range.endColumn:r,S=b.options.hoverMessage;if(S&&!(0,l.CP)(S)){b.options.beforeContentClassName&&(m=!0);var D=new v.e(e.range.startLineNumber,k,e.range.startLineNumber,w);s.push(new C(this,D,(0,a._2)(S),m,u++))}}}catch(N){y.e(N)}finally{y.f()}return s}},{key:"computeAsync",value:function(e,t,i){var n=this;if(!this._editor.hasModel()||1!==e.type)return u.Aq.EMPTY;var o=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(o))return u.Aq.EMPTY;var r=new d.L(e.range.startLineNumber,e.range.startColumn);return(0,f.R8)(this._languageFeaturesService.hoverProvider,o,r,i).filter((function(e){return!(0,l.CP)(e.hover.contents)})).map((function(t){var i=t.hover.range?v.e.lift(t.hover.range):e.range;return new C(n,i,t.hover.contents,!1,t.ordinal)}))}},{key:"renderHoverParts",value:function(e,t){return D(e,t,this._editor,this._languageService,this._openerService)}}]),e}();function D(e,t,i,o,r){t.sort((function(e,t){return e.ordinal-t.ordinal}));var a,u=new c.SL,d=(0,n.Z)(t);try{for(d.s();!(a=d.n()).done;){var v,g=a.value,f=(0,n.Z)(g.contents);try{var p=function(){var t=v.value;if((0,l.CP)(t))return 1;var n=w("div.hover-row.markdown-hover"),a=s.append(n,w("div.hover-contents")),c=u.add(new h.$({editor:i},o,r));u.add(c.onDidRenderAsync((function(){a.className="hover-contents code-hover-contents",e.onContentsChanged()})));var d=u.add(c.render(t));a.appendChild(d.element),e.fragment.appendChild(n)};for(f.s();!(v=f.n()).done;)p()}catch(_){f.e(_)}finally{f.f()}}}catch(_){d.e(_)}finally{d.f()}return u}S=b([k(1,g.O),k(2,m.v4),k(3,_.Ui),k(4,y.p)],S)},61034:function(e,t,i){i.r(t);var n=i(60136),o=i(27277),r=i(15671),s=i(43144),a=i(71049),u=i(74146),l=i(16836),c=i(95253),h=i(17429),d=i(96601),v=i(98926),g=i(78519),f=i(88697),p=i(18420),_=function(){function e(t,i,n){(0,r.Z)(this,e),this._editRange=t,this._originalSelection=i,this._text=n}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){t.addTrackedEditOperation(this._editRange,this._text)}},{key:"computeCursorState",value:function(e,t){var i=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new d.Y(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new d.Y(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)}}]),e}(),m=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},y=function(e,t){return function(i,n){t(i,n,e)}},b=function(){function e(t,i){(0,r.Z)(this,e),this.editor=t,this.editorWorkerService=i,this.decorations=this.editor.createDecorationsCollection()}return(0,s.Z)(e,[{key:"dispose",value:function(){}},{key:"run",value:function(t,i){var n,o=this;null===(n=this.currentRequest)||void 0===n||n.cancel();var r=this.editor.getSelection(),s=this.editor.getModel();if(s&&r){var c=r;if(c.startLineNumber===c.endLineNumber){var v=new l.yy(this.editor,5),g=s.uri;return this.editorWorkerService.canNavigateValueSet(g)?(this.currentRequest=(0,a.PG)((function(e){return o.editorWorkerService.navigateValueSet(g,c,i)})),this.currentRequest.then((function(i){var n;if(i&&i.range&&i.value&&v.validate(o.editor)){var r=h.e.lift(i.range),s=i.range,l=i.value.length-(c.endColumn-c.startColumn);s={startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.startColumn+i.value.length},l>1&&(c=new d.Y(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn+l-1));var g=new _(r,c,i.value);o.editor.pushUndoStop(),o.editor.executeCommand(t,g),o.editor.pushUndoStop(),o.decorations.set([{range:s,options:e.DECORATION}]),null===(n=o.decorationRemover)||void 0===n||n.cancel(),o.decorationRemover=(0,a.Vs)(350),o.decorationRemover.then((function(){return o.decorations.clear()})).catch(u.dL)}})).catch(u.dL)):Promise.resolve(void 0)}}}}],[{key:"get",value:function(t){return t.getContribution(e.ID)}}]),e}();b.ID="editor.contrib.inPlaceReplaceController",b.DECORATION=g.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),b=m([y(1,f.p)],b);var k=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.inPlaceReplace.up",label:p.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:v.u.writable,kbOpts:{kbExpr:v.u.editorTextFocus,primary:3159,weight:100}})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=b.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}]),i}(c.R6),w=function(e){(0,n.Z)(i,e);var t=(0,o.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.inPlaceReplace.down",label:p.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:v.u.writable,kbOpts:{kbExpr:v.u.editorTextFocus,primary:3161,weight:100}})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=b.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}]),i}(c.R6);(0,c._K)(b.ID,b,4),(0,c.Qr)(k),(0,c.Qr)(w)},25494:function(e,t,i){function n(e,t){for(var i=0,n=0;n<e.length;n++)"\t"===e.charAt(n)?i+=t:i++;return i}function o(e,t,i){e=e<0?0:e;var n="";if(!i){var o=Math.floor(e/t);e%=t;for(var r=0;r<o;r++)n+="\t"}for(var s=0;s<e;s++)n+=" ";return n}i.d(t,{J:function(){return o},Y:function(){return n}})},21376:function(e,t,i){i.r(t),i.d(t,{AutoIndentOnPaste:function(){return A},AutoIndentOnPasteCommand:function(){return O},ChangeIndentationSizeAction:function(){return Z},ChangeTabDisplaySize:function(){return R},DetectIndentation:function(){return T},IndentUsingSpaces:function(){return I},IndentUsingTabs:function(){return P},IndentationToSpacesAction:function(){return L},IndentationToSpacesCommand:function(){return z},IndentationToTabsAction:function(){return M},IndentationToTabsCommand:function(){return F},ReindentLinesAction:function(){return H},ReindentSelectedLinesAction:function(){return x},getReindentEditOperations:function(){return N}});var n=i(93433),o=i(37762),r=i(15671),s=i(43144),a=i(60136),u=i(27277),l=i(65096),c=i(31906),h=i(95253),d=i(2413),v=i(62557),g=i(17429),f=i(96601),p=i(98926),_=i(19536),m=i(26246),y=i(25494),b=i(18420),k=i(67949),w=i(52368),C=i(40469),S=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},D=function(e,t){return function(i,n){t(i,n,e)}};function N(e,t,i,n,o){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];var r=t.getLanguageConfiguration(e.getLanguageId()).indentationRules;if(!r)return[];for(n=Math.min(n,e.getLineCount());i<=n&&r.unIndentedLinePattern;){var s=e.getLineContent(i);if(!r.unIndentedLinePattern.test(s))break;i++}if(i>n-1)return[];var a,u=e.getOptions(),l=u.tabSize,h=u.indentSize,g=u.insertSpaces,p=function(e,t){return t=t||1,d.U.shiftIndent(e,e.length+t,l,h,g)},_=function(e,t){return t=t||1,d.U.unshiftIndent(e,e.length+t,l,h,g)},m=[],y=e.getLineContent(i),b=y;if(void 0!==o&&null!==o){a=o;var k=c.V8(y);b=a+y.substring(k.length),r.decreaseIndentPattern&&r.decreaseIndentPattern.test(b)&&(b=(a=_(a))+y.substring(k.length)),y!==b&&m.push(v.h.replaceMove(new f.Y(i,1,i,k.length+1),(0,w.x)(a,h,g)))}else a=c.V8(y);var C=a;r.increaseIndentPattern&&r.increaseIndentPattern.test(b)?(C=p(C),a=p(a)):r.indentNextLinePattern&&r.indentNextLinePattern.test(b)&&(C=p(C));for(var S=++i;S<=n;S++){var D=e.getLineContent(S),N=c.V8(D),L=C+D.substring(N.length);r.decreaseIndentPattern&&r.decreaseIndentPattern.test(L)&&(C=_(C),a=_(a)),N!==C&&m.push(v.h.replaceMove(new f.Y(S,1,S,N.length+1),(0,w.x)(C,h,g))),r.unIndentedLinePattern&&r.unIndentedLinePattern.test(D)||(C=r.increaseIndentPattern&&r.increaseIndentPattern.test(L)?a=p(a):r.indentNextLinePattern&&r.indentNextLinePattern.test(L)?p(C):a)}return m}var L=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:i.ID,label:b.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:p.u.writable})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=t.getModel();if(i){var n=i.getOptions(),o=t.getSelection();if(o){var r=new z(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}}}]),i}(h.R6);L.ID="editor.action.indentationToSpaces";var M=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:i.ID,label:b.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:p.u.writable})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=t.getModel();if(i){var n=i.getOptions(),o=t.getSelection();if(o){var r=new F(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}}}]),i}(h.R6);M.ID="editor.action.indentationToTabs";var Z=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(e,n,o){var s;return(0,r.Z)(this,i),(s=t.call(this,o)).insertSpaces=e,s.displaySizeOnly=n,s}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=this,n=e.get(k.eJ),o=e.get(m.q),r=t.getModel();if(r){var s=o.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget),a=r.getOptions(),u=[1,2,3,4,5,6,7,8].map((function(e){return{id:e.toString(),label:e.toString(),description:e===s.tabSize&&e===a.tabSize?b.NC("configuredTabSize","Configured Tab Size"):e===s.tabSize?b.NC("defaultTabSize","Default Tab Size"):e===a.tabSize?b.NC("currentTabSize","Current Tab Size"):void 0}})),l=Math.min(r.getOptions().tabSize-1,7);setTimeout((function(){n.pick(u,{placeHolder:b.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:u[l]}).then((function(e){if(e&&r&&!r.isDisposed()){var t=parseInt(e.label,10);i.displaySizeOnly?r.updateOptions({tabSize:t}):r.updateOptions({tabSize:t,indentSize:t,insertSpaces:i.insertSpaces})}}))}),50)}}}]),i}(h.R6),P=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,!1,!1,{id:i.ID,label:b.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}return(0,s.Z)(i)}(Z);P.ID="editor.action.indentUsingTabs";var I=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,!0,!1,{id:i.ID,label:b.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}return(0,s.Z)(i)}(Z);I.ID="editor.action.indentUsingSpaces";var R=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,!0,!0,{id:i.ID,label:b.NC("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}return(0,s.Z)(i)}(Z);R.ID="editor.action.changeTabDisplaySize";var T=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:i.ID,label:b.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=e.get(m.q),n=t.getModel();if(n){var o=i.getCreationOptions(n.getLanguageId(),n.uri,n.isForSimpleWidget);n.detectIndentation(o.insertSpaces,o.tabSize)}}}]),i}(h.R6);T.ID="editor.action.detectIndentation";var H=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.reindentlines",label:b.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:p.u.writable})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=e.get(_.c_),n=t.getModel();if(n){var o=N(n,i,1,n.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}}]),i}(h.R6),x=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.reindentselectedlines",label:b.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:p.u.writable})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=e.get(_.c_),r=t.getModel();if(r){var s=t.getSelections();if(null!==s){var a,u=[],l=(0,o.Z)(s);try{for(l.s();!(a=l.n()).done;){var c=a.value,h=c.startLineNumber,d=c.endLineNumber;if(h!==d&&1===c.endColumn&&d--,1===h){if(h===d)continue}else h--;var v=N(r,i,h,d);u.push.apply(u,(0,n.Z)(v))}}catch(g){l.e(g)}finally{l.f()}u.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,u),t.pushUndoStop())}}}}]),i}(h.R6),O=function(){function e(t,i){(0,r.Z)(this,e),this._initialSelection=i,this._edits=[],this._selectionId=null;var n,s=(0,o.Z)(t);try{for(s.s();!(n=s.n()).done;){var a=n.value;a.range&&"string"===typeof a.text&&this._edits.push(a)}}catch(u){s.e(u)}finally{s.f()}}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){var i,n=(0,o.Z)(this._edits);try{for(n.s();!(i=n.n()).done;){var r=i.value;t.addEditOperation(g.e.lift(r.range),r.text)}}catch(a){n.e(a)}finally{n.f()}var s=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(s=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(s=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),s||(this._selectionId=t.trackSelection(this._initialSelection))}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this._selectionId)}}]),e}(),A=function(){function e(t,i){var n=this;(0,r.Z)(this,e),this.editor=t,this._languageConfigurationService=i,this.callOnDispose=new l.SL,this.callOnModel=new l.SL,this.callOnDispose.add(t.onDidChangeConfiguration((function(){return n.update()}))),this.callOnDispose.add(t.onDidChangeModel((function(){return n.update()}))),this.callOnDispose.add(t.onDidChangeModelLanguage((function(){return n.update()})))}return(0,s.Z)(e,[{key:"update",value:function(){var e=this;this.callOnModel.clear(),this.editor.getOption(11)<4||this.editor.getOption(54)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((function(t){var i=t.range;e.trigger(i)})))}},{key:"trigger",value:function(e){var t=this.editor.getSelections();if(!(null===t||t.length>1)){var i=this.editor.getModel();if(i&&i.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber)){for(var n=this.editor.getOption(11),o=i.getOptions(),r=o.tabSize,s=o.indentSize,a=o.insertSpaces,u=[],l={shiftIndent:function(e){return d.U.shiftIndent(e,e.length+1,r,s,a)},unshiftIndent:function(e){return d.U.unshiftIndent(e,e.length+1,r,s,a)}},h=e.startLineNumber;h<=e.endLineNumber&&this.shouldIgnoreLine(i,h);)h++;if(!(h>e.endLineNumber)){var v=i.getLineContent(h);if(!/\S/.test(v.substring(0,e.startColumn-1))){var f=(0,C.n8)(n,i,i.getLanguageId(),h,l,this._languageConfigurationService);if(null!==f){var p=c.V8(v),_=y.Y(f,r);if(_!==y.Y(p,r)){var m=y.J(_,r,a);u.push({range:new g.e(h,1,h,p.length+1),text:m}),v=m+v.substr(p.length)}else{var b=(0,C.tI)(i,h,this._languageConfigurationService);if(0===b||8===b)return}}}for(var k=h;h<e.endLineNumber&&!/\S/.test(i.getLineContent(h+1));)h++;if(h!==e.endLineNumber){var w={tokenization:{getLineTokens:function(e){return i.tokenization.getLineTokens(e)},getLanguageId:function(){return i.getLanguageId()},getLanguageIdAtPosition:function(e,t){return i.getLanguageIdAtPosition(e,t)}},getLineContent:function(e){return e===k?v:i.getLineContent(e)}},S=(0,C.n8)(n,w,i.getLanguageId(),h+1,l,this._languageConfigurationService);if(null!==S){var D=y.Y(S,r),N=y.Y(c.V8(i.getLineContent(h+1)),r);if(D!==N)for(var L=D-N,M=h+1;M<=e.endLineNumber;M++){var Z=i.getLineContent(M),P=c.V8(Z),I=y.Y(P,r)+L,R=y.J(I,r,a);R!==P&&u.push({range:new g.e(M,1,M,P.length+1),text:R})}}}if(u.length>0){this.editor.pushUndoStop();var T=new O(u,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",T),this.editor.pushUndoStop()}}}}}},{key:"shouldIgnoreLine",value:function(e,t){e.tokenization.forceTokenization(t);var i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;var n=e.tokenization.getLineTokens(t);if(n.getCount()>0){var o=n.findTokenIndexAtOffset(i);if(o>=0&&1===n.getStandardTokenType(o))return!0}return!1}},{key:"dispose",value:function(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}]),e}();function W(e,t,i,n){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){for(var o="",r=0;r<i;r++)o+=" ";for(var s=new RegExp(o,"gi"),a=1,u=e.getLineCount();a<=u;a++){var l=e.getLineFirstNonWhitespaceColumn(a);if(0===l&&(l=e.getLineMaxColumn(a)),1!==l){var c=new g.e(a,1,a,l),h=e.getValueInRange(c),d=n?h.replace(/\t/gi,o):h.replace(s,"\t");t.addEditOperation(c,d)}}}}A.ID="editor.contrib.autoIndentOnPaste",A=S([D(1,_.c_)],A);var z=function(){function e(t,i){(0,r.Z)(this,e),this.selection=t,this.tabSize=i,this.selectionId=null}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),W(e,t,this.tabSize,!0)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}(),F=function(){function e(t,i){(0,r.Z)(this,e),this.selection=t,this.tabSize=i,this.selectionId=null}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),W(e,t,this.tabSize,!1)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}();(0,h._K)(A.ID,A,2),(0,h.Qr)(L),(0,h.Qr)(M),(0,h.Qr)(P),(0,h.Qr)(I),(0,h.Qr)(R),(0,h.Qr)(T),(0,h.Qr)(H),(0,h.Qr)(x)}}]);
//# sourceMappingURL=monaco-editor-vendor.dbdc571d.832d0c8a.js.map