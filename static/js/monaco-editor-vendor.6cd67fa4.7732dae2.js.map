{"version":3,"file":"static/js/monaco-editor-vendor.6cd67fa4.7732dae2.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/platform/dialogs/common/dialogs.js","../node_modules/monaco-editor/esm/vs/platform/dnd/browser/dnd.js","../node_modules/monaco-editor/esm/vs/platform/editor/common/editor.js","../node_modules/monaco-editor/esm/vs/platform/environment/common/environment.js","../node_modules/monaco-editor/esm/vs/platform/extensions/common/extensions.js","../node_modules/monaco-editor/esm/vs/platform/files/common/files.js","../node_modules/monaco-editor/esm/vs/platform/history/browser/contextScopedHistoryWidget.js","../node_modules/monaco-editor/esm/vs/platform/history/browser/historyWidgetKeybindingHint.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/descriptors.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/extensions.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/graph.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiationService.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/serviceCollection.js","../node_modules/monaco-editor/esm/vs/platform/jsonschemas/common/jsonContributionRegistry.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/abstractKeybindingService.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybinding.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingResolver.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingsRegistry.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/resolvedKeybindingItem.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/baseResolvedKeybinding.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/usLayoutResolvedKeybinding.js","../node_modules/monaco-editor/esm/vs/platform/label/common/label.js","../node_modules/monaco-editor/esm/vs/platform/layout/browser/layoutService.js","../node_modules/monaco-editor/esm/vs/platform/list/browser/listService.js","../node_modules/monaco-editor/esm/vs/platform/log/common/log.js","../node_modules/monaco-editor/esm/vs/platform/log/common/logService.js","../node_modules/monaco-editor/esm/vs/platform/markers/common/markerService.js","../node_modules/monaco-editor/esm/vs/platform/markers/common/markers.js","../node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js","../node_modules/monaco-editor/esm/vs/platform/opener/browser/link.js","../node_modules/monaco-editor/esm/vs/platform/opener/common/opener.js","../node_modules/monaco-editor/esm/vs/platform/progress/common/progress.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/pickerQuickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/commandsQuickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/helpQuickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputBox.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputUtils.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputList.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInput.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputService.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickInput.js","../node_modules/monaco-editor/esm/vs/platform/registry/common/platform.js","../node_modules/monaco-editor/esm/vs/platform/severityIcon/browser/severityIcon.js"],"sourcesContent":["import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IDialogService = createDecorator('dialogService');\n","import { Registry } from '../../registry/common/platform.js';\n//#region Editor / Resources DND\nexport const CodeDataTransfers = {\n    EDITORS: 'CodeEditors',\n    FILES: 'CodeFiles'\n};\nclass DragAndDropContributionRegistry {\n}\nexport const Extensions = {\n    DragAndDropContribution: 'workbench.contributions.dragAndDrop'\n};\nRegistry.add(Extensions.DragAndDropContribution, new DragAndDropContributionRegistry());\n//#endregion\n//#region DND Utilities\n/**\n * A singleton to store transfer data during drag & drop operations that are only valid within the application.\n */\nexport class LocalSelectionTransfer {\n    constructor() {\n        // protect against external instantiation\n    }\n    static getInstance() {\n        return LocalSelectionTransfer.INSTANCE;\n    }\n    hasData(proto) {\n        return proto && proto === this.proto;\n    }\n    getData(proto) {\n        if (this.hasData(proto)) {\n            return this.data;\n        }\n        return undefined;\n    }\n}\nLocalSelectionTransfer.INSTANCE = new LocalSelectionTransfer();\n//#endregion\n","export var EditorOpenSource;\n(function (EditorOpenSource) {\n    /**\n     * Default: the editor is opening via a programmatic call\n     * to the editor service API.\n     */\n    EditorOpenSource[EditorOpenSource[\"API\"] = 0] = \"API\";\n    /**\n     * Indicates that a user action triggered the opening, e.g.\n     * via mouse or keyboard use.\n     */\n    EditorOpenSource[EditorOpenSource[\"USER\"] = 1] = \"USER\";\n})(EditorOpenSource || (EditorOpenSource = {}));\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IEnvironmentService = createDecorator('environmentService');\n","/**\n * **!Do not construct directly!**\n *\n * **!Only static methods because it gets serialized!**\n *\n * This represents the \"canonical\" version for an extension identifier. Extension ids\n * have to be case-insensitive (due to the marketplace), but we must ensure case\n * preservation because the extension API is already public at this time.\n *\n * For example, given an extension with the publisher `\"Hello\"` and the name `\"World\"`,\n * its canonical extension identifier is `\"Hello.World\"`. This extension could be\n * referenced in some other extension's dependencies using the string `\"hello.world\"`.\n *\n * To make matters more complicated, an extension can optionally have an UUID. When two\n * extensions have the same UUID, they are considered equal even if their identifier is different.\n */\nexport class ExtensionIdentifier {\n    constructor(value) {\n        this.value = value;\n        this._lower = value.toLowerCase();\n    }\n    /**\n     * Gives the value by which to index (for equality).\n     */\n    static toKey(id) {\n        if (typeof id === 'string') {\n            return id.toLowerCase();\n        }\n        return id._lower;\n    }\n}\nexport class ExtensionIdentifierSet {\n    constructor(iterable) {\n        this._set = new Set();\n        if (iterable) {\n            for (const value of iterable) {\n                this.add(value);\n            }\n        }\n    }\n    add(id) {\n        this._set.add(ExtensionIdentifier.toKey(id));\n    }\n    has(id) {\n        return this._set.has(ExtensionIdentifier.toKey(id));\n    }\n}\n","//#endregion\n//#region Utilities\nexport var FileKind;\n(function (FileKind) {\n    FileKind[FileKind[\"FILE\"] = 0] = \"FILE\";\n    FileKind[FileKind[\"FOLDER\"] = 1] = \"FOLDER\";\n    FileKind[FileKind[\"ROOT_FOLDER\"] = 2] = \"ROOT_FOLDER\";\n})(FileKind || (FileKind = {}));\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { FindInput } from '../../../base/browser/ui/findinput/findInput.js';\nimport { ReplaceInput } from '../../../base/browser/ui/findinput/replaceInput.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { KeybindingsRegistry } from '../../keybinding/common/keybindingsRegistry.js';\nimport { localize } from '../../../nls.js';\nimport { DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nexport const historyNavigationVisible = new RawContextKey('suggestWidgetVisible', false, localize('suggestWidgetVisible', \"Whether suggestion are visible\"));\nconst HistoryNavigationWidgetFocusContext = 'historyNavigationWidgetFocus';\nconst HistoryNavigationForwardsEnablementContext = 'historyNavigationForwardsEnabled';\nconst HistoryNavigationBackwardsEnablementContext = 'historyNavigationBackwardsEnabled';\nlet lastFocusedWidget = undefined;\nconst widgets = [];\nexport function registerAndCreateHistoryNavigationContext(scopedContextKeyService, widget) {\n    if (widgets.includes(widget)) {\n        throw new Error('Cannot register the same widget multiple times');\n    }\n    widgets.push(widget);\n    const disposableStore = new DisposableStore();\n    const historyNavigationWidgetFocus = new RawContextKey(HistoryNavigationWidgetFocusContext, false).bindTo(scopedContextKeyService);\n    const historyNavigationForwardsEnablement = new RawContextKey(HistoryNavigationForwardsEnablementContext, true).bindTo(scopedContextKeyService);\n    const historyNavigationBackwardsEnablement = new RawContextKey(HistoryNavigationBackwardsEnablementContext, true).bindTo(scopedContextKeyService);\n    const onDidFocus = () => {\n        historyNavigationWidgetFocus.set(true);\n        lastFocusedWidget = widget;\n    };\n    const onDidBlur = () => {\n        historyNavigationWidgetFocus.set(false);\n        if (lastFocusedWidget === widget) {\n            lastFocusedWidget = undefined;\n        }\n    };\n    // Check for currently being focused\n    if (widget.element === document.activeElement) {\n        onDidFocus();\n    }\n    disposableStore.add(widget.onDidFocus(() => onDidFocus()));\n    disposableStore.add(widget.onDidBlur(() => onDidBlur()));\n    disposableStore.add(toDisposable(() => {\n        widgets.splice(widgets.indexOf(widget), 1);\n        onDidBlur();\n    }));\n    return {\n        historyNavigationForwardsEnablement,\n        historyNavigationBackwardsEnablement,\n        dispose() {\n            disposableStore.dispose();\n        }\n    };\n}\nlet ContextScopedFindInput = class ContextScopedFindInput extends FindInput {\n    constructor(container, contextViewProvider, options, contextKeyService) {\n        super(container, contextViewProvider, options);\n        const scopedContextKeyService = this._register(contextKeyService.createScoped(this.inputBox.element));\n        this._register(registerAndCreateHistoryNavigationContext(scopedContextKeyService, this.inputBox));\n    }\n};\nContextScopedFindInput = __decorate([\n    __param(3, IContextKeyService)\n], ContextScopedFindInput);\nexport { ContextScopedFindInput };\nlet ContextScopedReplaceInput = class ContextScopedReplaceInput extends ReplaceInput {\n    constructor(container, contextViewProvider, options, contextKeyService, showReplaceOptions = false) {\n        super(container, contextViewProvider, showReplaceOptions, options);\n        const scopedContextKeyService = this._register(contextKeyService.createScoped(this.inputBox.element));\n        this._register(registerAndCreateHistoryNavigationContext(scopedContextKeyService, this.inputBox));\n    }\n};\nContextScopedReplaceInput = __decorate([\n    __param(3, IContextKeyService)\n], ContextScopedReplaceInput);\nexport { ContextScopedReplaceInput };\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'history.showPrevious',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetFocusContext), ContextKeyExpr.equals(HistoryNavigationBackwardsEnablementContext, true), historyNavigationVisible.isEqualTo(false)),\n    primary: 16 /* KeyCode.UpArrow */,\n    secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n    handler: (accessor) => {\n        lastFocusedWidget === null || lastFocusedWidget === void 0 ? void 0 : lastFocusedWidget.showPreviousValue();\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'history.showNext',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetFocusContext), ContextKeyExpr.equals(HistoryNavigationForwardsEnablementContext, true), historyNavigationVisible.isEqualTo(false)),\n    primary: 18 /* KeyCode.DownArrow */,\n    secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n    handler: (accessor) => {\n        lastFocusedWidget === null || lastFocusedWidget === void 0 ? void 0 : lastFocusedWidget.showNextValue();\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function showHistoryKeybindingHint(keybindingService) {\n    var _a, _b;\n    return ((_a = keybindingService.lookupKeybinding('history.showPrevious')) === null || _a === void 0 ? void 0 : _a.getElectronAccelerator()) === 'Up' && ((_b = keybindingService.lookupKeybinding('history.showNext')) === null || _b === void 0 ? void 0 : _b.getElectronAccelerator()) === 'Down';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class SyncDescriptor {\n    constructor(ctor, staticArguments = [], supportsDelayedInstantiation = false) {\n        this.ctor = ctor;\n        this.staticArguments = staticArguments;\n        this.supportsDelayedInstantiation = supportsDelayedInstantiation;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { SyncDescriptor } from './descriptors.js';\nconst _registry = [];\nexport function registerSingleton(id, ctorOrDescriptor, supportsDelayedInstantiation) {\n    if (!(ctorOrDescriptor instanceof SyncDescriptor)) {\n        ctorOrDescriptor = new SyncDescriptor(ctorOrDescriptor, [], Boolean(supportsDelayedInstantiation));\n    }\n    _registry.push([id, ctorOrDescriptor]);\n}\nexport function getSingletonServiceDescriptors() {\n    return _registry;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// ------ internal util\nexport var _util;\n(function (_util) {\n    _util.serviceIds = new Map();\n    _util.DI_TARGET = '$di$target';\n    _util.DI_DEPENDENCIES = '$di$dependencies';\n    function getServiceDependencies(ctor) {\n        return ctor[_util.DI_DEPENDENCIES] || [];\n    }\n    _util.getServiceDependencies = getServiceDependencies;\n})(_util || (_util = {}));\nexport const IInstantiationService = createDecorator('instantiationService');\nfunction storeServiceDependency(id, target, index) {\n    if (target[_util.DI_TARGET] === target) {\n        target[_util.DI_DEPENDENCIES].push({ id, index });\n    }\n    else {\n        target[_util.DI_DEPENDENCIES] = [{ id, index }];\n        target[_util.DI_TARGET] = target;\n    }\n}\n/**\n * The *only* valid way to create a {{ServiceIdentifier}}.\n */\nexport function createDecorator(serviceId) {\n    if (_util.serviceIds.has(serviceId)) {\n        return _util.serviceIds.get(serviceId);\n    }\n    const id = function (target, key, index) {\n        if (arguments.length !== 3) {\n            throw new Error('@IServiceName-decorator can only be used to decorate a parameter');\n        }\n        storeServiceDependency(id, target, index);\n    };\n    id.toString = () => serviceId;\n    _util.serviceIds.set(serviceId, id);\n    return id;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class Node {\n    constructor(key, data) {\n        this.key = key;\n        this.data = data;\n        this.incoming = new Map();\n        this.outgoing = new Map();\n    }\n}\nexport class Graph {\n    constructor(_hashFn) {\n        this._hashFn = _hashFn;\n        this._nodes = new Map();\n        // empty\n    }\n    roots() {\n        const ret = [];\n        for (const node of this._nodes.values()) {\n            if (node.outgoing.size === 0) {\n                ret.push(node);\n            }\n        }\n        return ret;\n    }\n    insertEdge(from, to) {\n        const fromNode = this.lookupOrInsertNode(from);\n        const toNode = this.lookupOrInsertNode(to);\n        fromNode.outgoing.set(toNode.key, toNode);\n        toNode.incoming.set(fromNode.key, fromNode);\n    }\n    removeNode(data) {\n        const key = this._hashFn(data);\n        this._nodes.delete(key);\n        for (const node of this._nodes.values()) {\n            node.outgoing.delete(key);\n            node.incoming.delete(key);\n        }\n    }\n    lookupOrInsertNode(data) {\n        const key = this._hashFn(data);\n        let node = this._nodes.get(key);\n        if (!node) {\n            node = new Node(key, data);\n            this._nodes.set(key, node);\n        }\n        return node;\n    }\n    isEmpty() {\n        return this._nodes.size === 0;\n    }\n    toString() {\n        const data = [];\n        for (const [key, value] of this._nodes) {\n            data.push(`${key}\\n\\t(-> incoming)[${[...value.incoming.keys()].join(', ')}]\\n\\t(outgoing ->)[${[...value.outgoing.keys()].join(',')}]\\n`);\n        }\n        return data.join('\\n');\n    }\n    /**\n     * This is brute force and slow and **only** be used\n     * to trouble shoot.\n     */\n    findCycleSlow() {\n        for (const [id, node] of this._nodes) {\n            const seen = new Set([id]);\n            const res = this._findCycle(node, seen);\n            if (res) {\n                return res;\n            }\n        }\n        return undefined;\n    }\n    _findCycle(node, seen) {\n        for (const [id, outgoing] of node.outgoing) {\n            if (seen.has(id)) {\n                return [...seen, id].join(' -> ');\n            }\n            seen.add(id);\n            const value = this._findCycle(outgoing, seen);\n            if (value) {\n                return value;\n            }\n            seen.delete(id);\n        }\n        return undefined;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IdleValue } from '../../../base/common/async.js';\nimport { illegalState } from '../../../base/common/errors.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { SyncDescriptor } from './descriptors.js';\nimport { Graph } from './graph.js';\nimport { IInstantiationService, _util } from './instantiation.js';\nimport { ServiceCollection } from './serviceCollection.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\n// TRACING\nconst _enableAllTracing = false;\nclass CyclicDependencyError extends Error {\n    constructor(graph) {\n        var _a;\n        super('cyclic dependency between services');\n        this.message = (_a = graph.findCycleSlow()) !== null && _a !== void 0 ? _a : `UNABLE to detect cycle, dumping graph: \\n${graph.toString()}`;\n    }\n}\nexport class InstantiationService {\n    constructor(_services = new ServiceCollection(), _strict = false, _parent, _enableTracing = _enableAllTracing) {\n        var _a;\n        this._services = _services;\n        this._strict = _strict;\n        this._parent = _parent;\n        this._enableTracing = _enableTracing;\n        this._activeInstantiations = new Set();\n        this._services.set(IInstantiationService, this);\n        this._globalGraph = _enableTracing ? (_a = _parent === null || _parent === void 0 ? void 0 : _parent._globalGraph) !== null && _a !== void 0 ? _a : new Graph(e => e) : undefined;\n    }\n    createChild(services) {\n        return new InstantiationService(services, this._strict, this, this._enableTracing);\n    }\n    invokeFunction(fn, ...args) {\n        const _trace = Trace.traceInvocation(this._enableTracing, fn);\n        let _done = false;\n        try {\n            const accessor = {\n                get: (id) => {\n                    if (_done) {\n                        throw illegalState('service accessor is only valid during the invocation of its target method');\n                    }\n                    const result = this._getOrCreateServiceInstance(id, _trace);\n                    if (!result) {\n                        throw new Error(`[invokeFunction] unknown service '${id}'`);\n                    }\n                    return result;\n                }\n            };\n            return fn(accessor, ...args);\n        }\n        finally {\n            _done = true;\n            _trace.stop();\n        }\n    }\n    createInstance(ctorOrDescriptor, ...rest) {\n        let _trace;\n        let result;\n        if (ctorOrDescriptor instanceof SyncDescriptor) {\n            _trace = Trace.traceCreation(this._enableTracing, ctorOrDescriptor.ctor);\n            result = this._createInstance(ctorOrDescriptor.ctor, ctorOrDescriptor.staticArguments.concat(rest), _trace);\n        }\n        else {\n            _trace = Trace.traceCreation(this._enableTracing, ctorOrDescriptor);\n            result = this._createInstance(ctorOrDescriptor, rest, _trace);\n        }\n        _trace.stop();\n        return result;\n    }\n    _createInstance(ctor, args = [], _trace) {\n        // arguments defined by service decorators\n        const serviceDependencies = _util.getServiceDependencies(ctor).sort((a, b) => a.index - b.index);\n        const serviceArgs = [];\n        for (const dependency of serviceDependencies) {\n            const service = this._getOrCreateServiceInstance(dependency.id, _trace);\n            if (!service) {\n                this._throwIfStrict(`[createInstance] ${ctor.name} depends on UNKNOWN service ${dependency.id}.`, false);\n            }\n            serviceArgs.push(service);\n        }\n        const firstServiceArgPos = serviceDependencies.length > 0 ? serviceDependencies[0].index : args.length;\n        // check for argument mismatches, adjust static args if needed\n        if (args.length !== firstServiceArgPos) {\n            console.trace(`[createInstance] First service dependency of ${ctor.name} at position ${firstServiceArgPos + 1} conflicts with ${args.length} static arguments`);\n            const delta = firstServiceArgPos - args.length;\n            if (delta > 0) {\n                args = args.concat(new Array(delta));\n            }\n            else {\n                args = args.slice(0, firstServiceArgPos);\n            }\n        }\n        // now create the instance\n        return Reflect.construct(ctor, args.concat(serviceArgs));\n    }\n    _setServiceInstance(id, instance) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            this._services.set(id, instance);\n        }\n        else if (this._parent) {\n            this._parent._setServiceInstance(id, instance);\n        }\n        else {\n            throw new Error('illegalState - setting UNKNOWN service instance');\n        }\n    }\n    _getServiceInstanceOrDescriptor(id) {\n        const instanceOrDesc = this._services.get(id);\n        if (!instanceOrDesc && this._parent) {\n            return this._parent._getServiceInstanceOrDescriptor(id);\n        }\n        else {\n            return instanceOrDesc;\n        }\n    }\n    _getOrCreateServiceInstance(id, _trace) {\n        if (this._globalGraph && this._globalGraphImplicitDependency) {\n            this._globalGraph.insertEdge(this._globalGraphImplicitDependency, String(id));\n        }\n        const thing = this._getServiceInstanceOrDescriptor(id);\n        if (thing instanceof SyncDescriptor) {\n            return this._safeCreateAndCacheServiceInstance(id, thing, _trace.branch(id, true));\n        }\n        else {\n            _trace.branch(id, false);\n            return thing;\n        }\n    }\n    _safeCreateAndCacheServiceInstance(id, desc, _trace) {\n        if (this._activeInstantiations.has(id)) {\n            throw new Error(`illegal state - RECURSIVELY instantiating service '${id}'`);\n        }\n        this._activeInstantiations.add(id);\n        try {\n            return this._createAndCacheServiceInstance(id, desc, _trace);\n        }\n        finally {\n            this._activeInstantiations.delete(id);\n        }\n    }\n    _createAndCacheServiceInstance(id, desc, _trace) {\n        var _a;\n        const graph = new Graph(data => data.id.toString());\n        let cycleCount = 0;\n        const stack = [{ id, desc, _trace }];\n        while (stack.length) {\n            const item = stack.pop();\n            graph.lookupOrInsertNode(item);\n            // a weak but working heuristic for cycle checks\n            if (cycleCount++ > 1000) {\n                throw new CyclicDependencyError(graph);\n            }\n            // check all dependencies for existence and if they need to be created first\n            for (const dependency of _util.getServiceDependencies(item.desc.ctor)) {\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(dependency.id);\n                if (!instanceOrDesc) {\n                    this._throwIfStrict(`[createInstance] ${id} depends on ${dependency.id} which is NOT registered.`, true);\n                }\n                // take note of all service dependencies\n                (_a = this._globalGraph) === null || _a === void 0 ? void 0 : _a.insertEdge(String(item.id), String(dependency.id));\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    const d = { id: dependency.id, desc: instanceOrDesc, _trace: item._trace.branch(dependency.id, true) };\n                    graph.insertEdge(item, d);\n                    stack.push(d);\n                }\n            }\n        }\n        while (true) {\n            const roots = graph.roots();\n            // if there is no more roots but still\n            // nodes in the graph we have a cycle\n            if (roots.length === 0) {\n                if (!graph.isEmpty()) {\n                    throw new CyclicDependencyError(graph);\n                }\n                break;\n            }\n            for (const { data } of roots) {\n                // Repeat the check for this still being a service sync descriptor. That's because\n                // instantiating a dependency might have side-effect and recursively trigger instantiation\n                // so that some dependencies are now fullfilled already.\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(data.id);\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    // create instance and overwrite the service collections\n                    const instance = this._createServiceInstanceWithOwner(data.id, data.desc.ctor, data.desc.staticArguments, data.desc.supportsDelayedInstantiation, data._trace);\n                    this._setServiceInstance(data.id, instance);\n                }\n                graph.removeNode(data);\n            }\n        }\n        return this._getServiceInstanceOrDescriptor(id);\n    }\n    _createServiceInstanceWithOwner(id, ctor, args = [], supportsDelayedInstantiation, _trace) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            return this._createServiceInstance(id, ctor, args, supportsDelayedInstantiation, _trace);\n        }\n        else if (this._parent) {\n            return this._parent._createServiceInstanceWithOwner(id, ctor, args, supportsDelayedInstantiation, _trace);\n        }\n        else {\n            throw new Error(`illegalState - creating UNKNOWN service instance ${ctor.name}`);\n        }\n    }\n    _createServiceInstance(id, ctor, args = [], supportsDelayedInstantiation, _trace) {\n        if (!supportsDelayedInstantiation) {\n            // eager instantiation\n            return this._createInstance(ctor, args, _trace);\n        }\n        else {\n            const child = new InstantiationService(undefined, this._strict, this, this._enableTracing);\n            child._globalGraphImplicitDependency = String(id);\n            // Return a proxy object that's backed by an idle value. That\n            // strategy is to instantiate services in our idle time or when actually\n            // needed but not when injected into a consumer\n            // return \"empty events\" when the service isn't instantiated yet\n            const earlyListeners = new Map();\n            const idle = new IdleValue(() => {\n                const result = child._createInstance(ctor, args, _trace);\n                // early listeners that we kept are now being subscribed to\n                // the real service\n                for (const [key, values] of earlyListeners) {\n                    const candidate = result[key];\n                    if (typeof candidate === 'function') {\n                        for (const listener of values) {\n                            candidate.apply(result, listener);\n                        }\n                    }\n                }\n                earlyListeners.clear();\n                return result;\n            });\n            return new Proxy(Object.create(null), {\n                get(target, key) {\n                    if (!idle.isInitialized) {\n                        // looks like an event\n                        if (typeof key === 'string' && (key.startsWith('onDid') || key.startsWith('onWill'))) {\n                            let list = earlyListeners.get(key);\n                            if (!list) {\n                                list = new LinkedList();\n                                earlyListeners.set(key, list);\n                            }\n                            const event = (callback, thisArg, disposables) => {\n                                const rm = list.push([callback, thisArg, disposables]);\n                                return toDisposable(rm);\n                            };\n                            return event;\n                        }\n                    }\n                    // value already exists\n                    if (key in target) {\n                        return target[key];\n                    }\n                    // create value\n                    const obj = idle.value;\n                    let prop = obj[key];\n                    if (typeof prop !== 'function') {\n                        return prop;\n                    }\n                    prop = prop.bind(obj);\n                    target[key] = prop;\n                    return prop;\n                },\n                set(_target, p, value) {\n                    idle.value[p] = value;\n                    return true;\n                },\n                getPrototypeOf(_target) {\n                    return ctor.prototype;\n                }\n            });\n        }\n    }\n    _throwIfStrict(msg, printWarning) {\n        if (printWarning) {\n            console.warn(msg);\n        }\n        if (this._strict) {\n            throw new Error(msg);\n        }\n    }\n}\nexport class Trace {\n    static traceInvocation(_enableTracing, ctor) {\n        return !_enableTracing ? Trace._None : new Trace(2 /* TraceType.Invocation */, ctor.name || new Error().stack.split('\\n').slice(3, 4).join('\\n'));\n    }\n    static traceCreation(_enableTracing, ctor) {\n        return !_enableTracing ? Trace._None : new Trace(1 /* TraceType.Creation */, ctor.name);\n    }\n    constructor(type, name) {\n        this.type = type;\n        this.name = name;\n        this._start = Date.now();\n        this._dep = [];\n    }\n    branch(id, first) {\n        const child = new Trace(3 /* TraceType.Branch */, id.toString());\n        this._dep.push([id, first, child]);\n        return child;\n    }\n    stop() {\n        const dur = Date.now() - this._start;\n        Trace._totals += dur;\n        let causedCreation = false;\n        function printChild(n, trace) {\n            const res = [];\n            const prefix = new Array(n + 1).join('\\t');\n            for (const [id, first, child] of trace._dep) {\n                if (first && child) {\n                    causedCreation = true;\n                    res.push(`${prefix}CREATES -> ${id}`);\n                    const nested = printChild(n + 1, child);\n                    if (nested) {\n                        res.push(nested);\n                    }\n                }\n                else {\n                    res.push(`${prefix}uses -> ${id}`);\n                }\n            }\n            return res.join('\\n');\n        }\n        const lines = [\n            `${this.type === 1 /* TraceType.Creation */ ? 'CREATE' : 'CALL'} ${this.name}`,\n            `${printChild(1, this)}`,\n            `DONE, took ${dur.toFixed(2)}ms (grand total ${Trace._totals.toFixed(2)}ms)`\n        ];\n        if (dur > 2 || causedCreation) {\n            Trace.all.add(lines.join('\\n'));\n        }\n    }\n}\nTrace.all = new Set();\nTrace._None = new class extends Trace {\n    constructor() { super(0 /* TraceType.None */, null); }\n    stop() { }\n    branch() { return this; }\n};\nTrace._totals = 0;\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ServiceCollection {\n    constructor(...entries) {\n        this._entries = new Map();\n        for (const [id, service] of entries) {\n            this.set(id, service);\n        }\n    }\n    set(id, instanceOrDescriptor) {\n        const result = this._entries.get(id);\n        this._entries.set(id, instanceOrDescriptor);\n        return result;\n    }\n    get(id) {\n        return this._entries.get(id);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport * as platform from '../../registry/common/platform.js';\nexport const Extensions = {\n    JSONContribution: 'base.contributions.json'\n};\nfunction normalizeId(id) {\n    if (id.length > 0 && id.charAt(id.length - 1) === '#') {\n        return id.substring(0, id.length - 1);\n    }\n    return id;\n}\nclass JSONContributionRegistry {\n    constructor() {\n        this._onDidChangeSchema = new Emitter();\n        this.schemasById = {};\n    }\n    registerSchema(uri, unresolvedSchemaContent) {\n        this.schemasById[normalizeId(uri)] = unresolvedSchemaContent;\n        this._onDidChangeSchema.fire(uri);\n    }\n    notifySchemaChanged(uri) {\n        this._onDidChangeSchema.fire(uri);\n    }\n}\nconst jsonContributionRegistry = new JSONContributionRegistry();\nplatform.Registry.add(Extensions.JSONContribution, jsonContributionRegistry);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IntervalTimer, TimeoutTimer } from '../../../base/common/async.js';\nimport { illegalState } from '../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { IME } from '../../../base/common/ime.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport * as nls from '../../../nls.js';\nimport { NoMatchingKb } from './keybindingResolver.js';\nconst HIGH_FREQ_COMMANDS = /^(cursor|delete|undo|redo|tab|editor\\.action\\.clipboard)/;\nexport class AbstractKeybindingService extends Disposable {\n    get onDidUpdateKeybindings() {\n        return this._onDidUpdateKeybindings ? this._onDidUpdateKeybindings.event : Event.None; // Sinon stubbing walks properties on prototype\n    }\n    get inChordMode() {\n        return this._currentChords.length > 0;\n    }\n    constructor(_contextKeyService, _commandService, _telemetryService, _notificationService, _logService) {\n        super();\n        this._contextKeyService = _contextKeyService;\n        this._commandService = _commandService;\n        this._telemetryService = _telemetryService;\n        this._notificationService = _notificationService;\n        this._logService = _logService;\n        this._onDidUpdateKeybindings = this._register(new Emitter());\n        this._currentChords = [];\n        this._currentChordChecker = new IntervalTimer();\n        this._currentChordStatusMessage = null;\n        this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n        this._currentSingleModifier = null;\n        this._currentSingleModifierClearTimeout = new TimeoutTimer();\n        this._logging = false;\n    }\n    dispose() {\n        super.dispose();\n    }\n    _log(str) {\n        if (this._logging) {\n            this._logService.info(`[KeybindingService]: ${str}`);\n        }\n    }\n    getKeybindings() {\n        return this._getResolver().getKeybindings();\n    }\n    lookupKeybinding(commandId, context) {\n        const result = this._getResolver().lookupPrimaryKeybinding(commandId, context || this._contextKeyService);\n        if (!result) {\n            return undefined;\n        }\n        return result.resolvedKeybinding;\n    }\n    dispatchEvent(e, target) {\n        return this._dispatch(e, target);\n    }\n    // TODO@ulugbekna: update namings to align with `_doDispatch`\n    // TODO@ulugbekna: this fn doesn't seem to take into account single-modifier keybindings, eg `shift shift`\n    softDispatch(e, target) {\n        this._log(`/ Soft dispatching keyboard event`);\n        const keybinding = this.resolveKeyboardEvent(e);\n        if (keybinding.hasMultipleChords()) {\n            console.warn('keyboard event should not be mapped to multiple chords');\n            return NoMatchingKb;\n        }\n        const [firstChord,] = keybinding.getDispatchChords();\n        if (firstChord === null) {\n            // cannot be dispatched, probably only modifier keys\n            this._log(`\\\\ Keyboard event cannot be dispatched`);\n            return NoMatchingKb;\n        }\n        const contextValue = this._contextKeyService.getContext(target);\n        const currentChords = this._currentChords.map((({ keypress }) => keypress));\n        return this._getResolver().resolve(contextValue, currentChords, firstChord);\n    }\n    _scheduleLeaveChordMode() {\n        const chordLastInteractedTime = Date.now();\n        this._currentChordChecker.cancelAndSet(() => {\n            if (!this._documentHasFocus()) {\n                // Focus has been lost => leave chord mode\n                this._leaveChordMode();\n                return;\n            }\n            if (Date.now() - chordLastInteractedTime > 5000) {\n                // 5 seconds elapsed => leave chord mode\n                this._leaveChordMode();\n            }\n        }, 500);\n    }\n    _expectAnotherChord(firstChord, keypressLabel) {\n        this._currentChords.push({ keypress: firstChord, label: keypressLabel });\n        switch (this._currentChords.length) {\n            case 0:\n                throw illegalState('impossible');\n            case 1:\n                // TODO@ulugbekna: revise this message and the one below (at least, fix terminology)\n                this._currentChordStatusMessage = this._notificationService.status(nls.localize('first.chord', \"({0}) was pressed. Waiting for second key of chord...\", keypressLabel));\n                break;\n            default: {\n                const fullKeypressLabel = this._currentChords.map(({ label }) => label).join(', ');\n                this._currentChordStatusMessage = this._notificationService.status(nls.localize('next.chord', \"({0}) was pressed. Waiting for next key of chord...\", fullKeypressLabel));\n            }\n        }\n        this._scheduleLeaveChordMode();\n        if (IME.enabled) {\n            IME.disable();\n        }\n    }\n    _leaveChordMode() {\n        if (this._currentChordStatusMessage) {\n            this._currentChordStatusMessage.dispose();\n            this._currentChordStatusMessage = null;\n        }\n        this._currentChordChecker.cancel();\n        this._currentChords = [];\n        IME.enable();\n    }\n    _dispatch(e, target) {\n        return this._doDispatch(this.resolveKeyboardEvent(e), target, /*isSingleModiferChord*/ false);\n    }\n    _singleModifierDispatch(e, target) {\n        const keybinding = this.resolveKeyboardEvent(e);\n        const [singleModifier,] = keybinding.getSingleModifierDispatchChords();\n        if (singleModifier) {\n            if (this._ignoreSingleModifiers.has(singleModifier)) {\n                this._log(`+ Ignoring single modifier ${singleModifier} due to it being pressed together with other keys.`);\n                this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n                this._currentSingleModifierClearTimeout.cancel();\n                this._currentSingleModifier = null;\n                return false;\n            }\n            this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n            if (this._currentSingleModifier === null) {\n                // we have a valid `singleModifier`, store it for the next keyup, but clear it in 300ms\n                this._log(`+ Storing single modifier for possible chord ${singleModifier}.`);\n                this._currentSingleModifier = singleModifier;\n                this._currentSingleModifierClearTimeout.cancelAndSet(() => {\n                    this._log(`+ Clearing single modifier due to 300ms elapsed.`);\n                    this._currentSingleModifier = null;\n                }, 300);\n                return false;\n            }\n            if (singleModifier === this._currentSingleModifier) {\n                // bingo!\n                this._log(`/ Dispatching single modifier chord ${singleModifier} ${singleModifier}`);\n                this._currentSingleModifierClearTimeout.cancel();\n                this._currentSingleModifier = null;\n                return this._doDispatch(keybinding, target, /*isSingleModiferChord*/ true);\n            }\n            this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${singleModifier}`);\n            this._currentSingleModifierClearTimeout.cancel();\n            this._currentSingleModifier = null;\n            return false;\n        }\n        // When pressing a modifier and holding it pressed with any other modifier or key combination,\n        // the pressed modifiers should no longer be considered for single modifier dispatch.\n        const [firstChord,] = keybinding.getChords();\n        this._ignoreSingleModifiers = new KeybindingModifierSet(firstChord);\n        if (this._currentSingleModifier !== null) {\n            this._log(`+ Clearing single modifier due to other key up.`);\n        }\n        this._currentSingleModifierClearTimeout.cancel();\n        this._currentSingleModifier = null;\n        return false;\n    }\n    _doDispatch(userKeypress, target, isSingleModiferChord = false) {\n        var _a;\n        let shouldPreventDefault = false;\n        if (userKeypress.hasMultipleChords()) { // warn - because user can press a single chord at a time\n            console.warn('Unexpected keyboard event mapped to multiple chords');\n            return false;\n        }\n        let userPressedChord = null;\n        let currentChords = null;\n        if (isSingleModiferChord) {\n            // The keybinding is the second keypress of a single modifier chord, e.g. \"shift shift\".\n            // A single modifier can only occur when the same modifier is pressed in short sequence,\n            // hence we disregard `_currentChord` and use the same modifier instead.\n            const [dispatchKeyname,] = userKeypress.getSingleModifierDispatchChords();\n            userPressedChord = dispatchKeyname;\n            currentChords = dispatchKeyname ? [dispatchKeyname] : []; // TODO@ulugbekna: in the `else` case we assign an empty array - make sure `resolve` can handle an empty array well\n        }\n        else {\n            [userPressedChord,] = userKeypress.getDispatchChords();\n            currentChords = this._currentChords.map(({ keypress }) => keypress);\n        }\n        if (userPressedChord === null) {\n            this._log(`\\\\ Keyboard event cannot be dispatched in keydown phase.`);\n            // cannot be dispatched, probably only modifier keys\n            return shouldPreventDefault;\n        }\n        const contextValue = this._contextKeyService.getContext(target);\n        const keypressLabel = userKeypress.getLabel();\n        const resolveResult = this._getResolver().resolve(contextValue, currentChords, userPressedChord);\n        switch (resolveResult.kind) {\n            case 0 /* ResultKind.NoMatchingKb */: {\n                this._logService.trace('KeybindingService#dispatch', keypressLabel, `[ No matching keybinding ]`);\n                if (this.inChordMode) {\n                    const currentChordsLabel = this._currentChords.map(({ label }) => label).join(', ');\n                    this._log(`+ Leaving multi-chord mode: Nothing bound to \"${currentChordsLabel}, ${keypressLabel}\".`);\n                    this._notificationService.status(nls.localize('missing.chord', \"The key combination ({0}, {1}) is not a command.\", currentChordsLabel, keypressLabel), { hideAfter: 10 * 1000 /* 10s */ });\n                    this._leaveChordMode();\n                    shouldPreventDefault = true;\n                }\n                return shouldPreventDefault;\n            }\n            case 1 /* ResultKind.MoreChordsNeeded */: {\n                this._logService.trace('KeybindingService#dispatch', keypressLabel, `[ Several keybindings match - more chords needed ]`);\n                shouldPreventDefault = true;\n                this._expectAnotherChord(userPressedChord, keypressLabel);\n                this._log(this._currentChords.length === 1 ? `+ Entering multi-chord mode...` : `+ Continuing multi-chord mode...`);\n                return shouldPreventDefault;\n            }\n            case 2 /* ResultKind.KbFound */: {\n                this._logService.trace('KeybindingService#dispatch', keypressLabel, `[ Will dispatch command ${resolveResult.commandId} ]`);\n                if (resolveResult.commandId === null || resolveResult.commandId === '') {\n                    if (this.inChordMode) {\n                        const currentChordsLabel = this._currentChords.map(({ label }) => label).join(', ');\n                        this._log(`+ Leaving chord mode: Nothing bound to \"${currentChordsLabel}, ${keypressLabel}\".`);\n                        this._notificationService.status(nls.localize('missing.chord', \"The key combination ({0}, {1}) is not a command.\", currentChordsLabel, keypressLabel), { hideAfter: 10 * 1000 /* 10s */ });\n                        this._leaveChordMode();\n                        shouldPreventDefault = true;\n                    }\n                }\n                else {\n                    if (this.inChordMode) {\n                        this._leaveChordMode();\n                    }\n                    if (!resolveResult.isBubble) {\n                        shouldPreventDefault = true;\n                    }\n                    this._log(`+ Invoking command ${resolveResult.commandId}.`);\n                    if (typeof resolveResult.commandArgs === 'undefined') {\n                        this._commandService.executeCommand(resolveResult.commandId).then(undefined, err => this._notificationService.warn(err));\n                    }\n                    else {\n                        this._commandService.executeCommand(resolveResult.commandId, resolveResult.commandArgs).then(undefined, err => this._notificationService.warn(err));\n                    }\n                    if (!HIGH_FREQ_COMMANDS.test(resolveResult.commandId)) {\n                        this._telemetryService.publicLog2('workbenchActionExecuted', { id: resolveResult.commandId, from: 'keybinding', detail: (_a = userKeypress.getUserSettingsLabel()) !== null && _a !== void 0 ? _a : undefined });\n                    }\n                }\n                return shouldPreventDefault;\n            }\n        }\n    }\n    mightProducePrintableCharacter(event) {\n        if (event.ctrlKey || event.metaKey) {\n            // ignore ctrl/cmd-combination but not shift/alt-combinatios\n            return false;\n        }\n        // weak check for certain ranges. this is properly implemented in a subclass\n        // with access to the KeyboardMapperFactory.\n        if ((event.keyCode >= 31 /* KeyCode.KeyA */ && event.keyCode <= 56 /* KeyCode.KeyZ */)\n            || (event.keyCode >= 21 /* KeyCode.Digit0 */ && event.keyCode <= 30 /* KeyCode.Digit9 */)) {\n            return true;\n        }\n        return false;\n    }\n}\nclass KeybindingModifierSet {\n    constructor(source) {\n        this._ctrlKey = source ? source.ctrlKey : false;\n        this._shiftKey = source ? source.shiftKey : false;\n        this._altKey = source ? source.altKey : false;\n        this._metaKey = source ? source.metaKey : false;\n    }\n    has(modifier) {\n        switch (modifier) {\n            case 'ctrl': return this._ctrlKey;\n            case 'shift': return this._shiftKey;\n            case 'alt': return this._altKey;\n            case 'meta': return this._metaKey;\n        }\n    }\n}\nKeybindingModifierSet.EMPTY = new KeybindingModifierSet(null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IKeybindingService = createDecorator('keybindingService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { implies, expressionsAreEqualWithConstantSubstitution } from '../../contextkey/common/contextkey.js';\n// util definitions to make working with the above types easier within this module:\nexport const NoMatchingKb = { kind: 0 /* ResultKind.NoMatchingKb */ };\nconst MoreChordsNeeded = { kind: 1 /* ResultKind.MoreChordsNeeded */ };\nfunction KbFound(commandId, commandArgs, isBubble) {\n    return { kind: 2 /* ResultKind.KbFound */, commandId, commandArgs, isBubble };\n}\n//#endregion\n/**\n * Stores mappings from keybindings to commands and from commands to keybindings.\n * Given a sequence of chords, `resolve`s which keybinding it matches\n */\nexport class KeybindingResolver {\n    constructor(\n    /** built-in and extension-provided keybindings */\n    defaultKeybindings, \n    /** user's keybindings */\n    overrides, log) {\n        var _a;\n        this._log = log;\n        this._defaultKeybindings = defaultKeybindings;\n        this._defaultBoundCommands = new Map();\n        for (const defaultKeybinding of defaultKeybindings) {\n            const command = defaultKeybinding.command;\n            if (command && command.charAt(0) !== '-') {\n                this._defaultBoundCommands.set(command, true);\n            }\n        }\n        this._map = new Map();\n        this._lookupMap = new Map();\n        this._keybindings = KeybindingResolver.handleRemovals([].concat(defaultKeybindings).concat(overrides));\n        for (let i = 0, len = this._keybindings.length; i < len; i++) {\n            const k = this._keybindings[i];\n            if (k.chords.length === 0) {\n                // unbound\n                continue;\n            }\n            // substitute with constants that are registered after startup - https://github.com/microsoft/vscode/issues/174218#issuecomment-1437972127\n            const when = (_a = k.when) === null || _a === void 0 ? void 0 : _a.substituteConstants();\n            if (when && when.type === 0 /* ContextKeyExprType.False */) {\n                // when condition is false\n                continue;\n            }\n            this._addKeyPress(k.chords[0], k);\n        }\n    }\n    static _isTargetedForRemoval(defaultKb, keypress, when) {\n        if (keypress) {\n            for (let i = 0; i < keypress.length; i++) {\n                if (keypress[i] !== defaultKb.chords[i]) {\n                    return false;\n                }\n            }\n        }\n        // `true` means always, as does `undefined`\n        // so we will treat `true` === `undefined`\n        if (when && when.type !== 1 /* ContextKeyExprType.True */) {\n            if (!defaultKb.when) {\n                return false;\n            }\n            if (!expressionsAreEqualWithConstantSubstitution(when, defaultKb.when)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Looks for rules containing \"-commandId\" and removes them.\n     */\n    static handleRemovals(rules) {\n        // Do a first pass and construct a hash-map for removals\n        const removals = new Map();\n        for (let i = 0, len = rules.length; i < len; i++) {\n            const rule = rules[i];\n            if (rule.command && rule.command.charAt(0) === '-') {\n                const command = rule.command.substring(1);\n                if (!removals.has(command)) {\n                    removals.set(command, [rule]);\n                }\n                else {\n                    removals.get(command).push(rule);\n                }\n            }\n        }\n        if (removals.size === 0) {\n            // There are no removals\n            return rules;\n        }\n        // Do a second pass and keep only non-removed keybindings\n        const result = [];\n        for (let i = 0, len = rules.length; i < len; i++) {\n            const rule = rules[i];\n            if (!rule.command || rule.command.length === 0) {\n                result.push(rule);\n                continue;\n            }\n            if (rule.command.charAt(0) === '-') {\n                continue;\n            }\n            const commandRemovals = removals.get(rule.command);\n            if (!commandRemovals || !rule.isDefault) {\n                result.push(rule);\n                continue;\n            }\n            let isRemoved = false;\n            for (const commandRemoval of commandRemovals) {\n                const when = commandRemoval.when;\n                if (this._isTargetedForRemoval(rule, commandRemoval.chords, when)) {\n                    isRemoved = true;\n                    break;\n                }\n            }\n            if (!isRemoved) {\n                result.push(rule);\n                continue;\n            }\n        }\n        return result;\n    }\n    _addKeyPress(keypress, item) {\n        const conflicts = this._map.get(keypress);\n        if (typeof conflicts === 'undefined') {\n            // There is no conflict so far\n            this._map.set(keypress, [item]);\n            this._addToLookupMap(item);\n            return;\n        }\n        for (let i = conflicts.length - 1; i >= 0; i--) {\n            const conflict = conflicts[i];\n            if (conflict.command === item.command) {\n                continue;\n            }\n            // Test if the shorter keybinding is a prefix of the longer one.\n            // If the shorter keybinding is a prefix, it effectively will shadow the longer one and is considered a conflict.\n            let isShorterKbPrefix = true;\n            for (let i = 1; i < conflict.chords.length && i < item.chords.length; i++) {\n                if (conflict.chords[i] !== item.chords[i]) {\n                    // The ith step does not conflict\n                    isShorterKbPrefix = false;\n                    break;\n                }\n            }\n            if (!isShorterKbPrefix) {\n                continue;\n            }\n            if (KeybindingResolver.whenIsEntirelyIncluded(conflict.when, item.when)) {\n                // `item` completely overwrites `conflict`\n                // Remove conflict from the lookupMap\n                this._removeFromLookupMap(conflict);\n            }\n        }\n        conflicts.push(item);\n        this._addToLookupMap(item);\n    }\n    _addToLookupMap(item) {\n        if (!item.command) {\n            return;\n        }\n        let arr = this._lookupMap.get(item.command);\n        if (typeof arr === 'undefined') {\n            arr = [item];\n            this._lookupMap.set(item.command, arr);\n        }\n        else {\n            arr.push(item);\n        }\n    }\n    _removeFromLookupMap(item) {\n        if (!item.command) {\n            return;\n        }\n        const arr = this._lookupMap.get(item.command);\n        if (typeof arr === 'undefined') {\n            return;\n        }\n        for (let i = 0, len = arr.length; i < len; i++) {\n            if (arr[i] === item) {\n                arr.splice(i, 1);\n                return;\n            }\n        }\n    }\n    /**\n     * Returns true if it is provable `a` implies `b`.\n     */\n    static whenIsEntirelyIncluded(a, b) {\n        if (!b || b.type === 1 /* ContextKeyExprType.True */) {\n            return true;\n        }\n        if (!a || a.type === 1 /* ContextKeyExprType.True */) {\n            return false;\n        }\n        return implies(a, b);\n    }\n    getKeybindings() {\n        return this._keybindings;\n    }\n    lookupPrimaryKeybinding(commandId, context) {\n        const items = this._lookupMap.get(commandId);\n        if (typeof items === 'undefined' || items.length === 0) {\n            return null;\n        }\n        if (items.length === 1) {\n            return items[0];\n        }\n        for (let i = items.length - 1; i >= 0; i--) {\n            const item = items[i];\n            if (context.contextMatchesRules(item.when)) {\n                return item;\n            }\n        }\n        return items[items.length - 1];\n    }\n    /**\n     * Looks up a keybinding trigged as a result of pressing a sequence of chords - `[...currentChords, keypress]`\n     *\n     * Example: resolving 3 chords pressed sequentially - `cmd+k cmd+p cmd+i`:\n     * \t`currentChords = [ 'cmd+k' , 'cmd+p' ]` and `keypress = `cmd+i` - last pressed chord\n     */\n    resolve(context, currentChords, keypress) {\n        const pressedChords = [...currentChords, keypress];\n        this._log(`| Resolving ${pressedChords}`);\n        const kbCandidates = this._map.get(pressedChords[0]);\n        if (kbCandidates === undefined) {\n            // No bindings with such 0-th chord\n            this._log(`\\\\ No keybinding entries.`);\n            return NoMatchingKb;\n        }\n        let lookupMap = null;\n        if (pressedChords.length < 2) {\n            lookupMap = kbCandidates;\n        }\n        else {\n            // Fetch all chord bindings for `currentChords`\n            lookupMap = [];\n            for (let i = 0, len = kbCandidates.length; i < len; i++) {\n                const candidate = kbCandidates[i];\n                if (pressedChords.length > candidate.chords.length) { // # of pressed chords can't be less than # of chords in a keybinding to invoke\n                    continue;\n                }\n                let prefixMatches = true;\n                for (let i = 1; i < pressedChords.length; i++) {\n                    if (candidate.chords[i] !== pressedChords[i]) {\n                        prefixMatches = false;\n                        break;\n                    }\n                }\n                if (prefixMatches) {\n                    lookupMap.push(candidate);\n                }\n            }\n        }\n        // check there's a keybinding with a matching when clause\n        const result = this._findCommand(context, lookupMap);\n        if (!result) {\n            this._log(`\\\\ From ${lookupMap.length} keybinding entries, no when clauses matched the context.`);\n            return NoMatchingKb;\n        }\n        // check we got all chords necessary to be sure a particular keybinding needs to be invoked\n        if (pressedChords.length < result.chords.length) {\n            // The chord sequence is not complete\n            this._log(`\\\\ From ${lookupMap.length} keybinding entries, awaiting ${result.chords.length - pressedChords.length} more chord(s), when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`);\n            return MoreChordsNeeded;\n        }\n        this._log(`\\\\ From ${lookupMap.length} keybinding entries, matched ${result.command}, when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`);\n        return KbFound(result.command, result.commandArgs, result.bubble);\n    }\n    _findCommand(context, matches) {\n        for (let i = matches.length - 1; i >= 0; i--) {\n            const k = matches[i];\n            if (!KeybindingResolver._contextMatchesRules(context, k.when)) {\n                continue;\n            }\n            return k;\n        }\n        return null;\n    }\n    static _contextMatchesRules(context, rules) {\n        if (!rules) {\n            return true;\n        }\n        return rules.evaluate(context);\n    }\n}\nfunction printWhenExplanation(when) {\n    if (!when) {\n        return `no when condition`;\n    }\n    return `${when.serialize()}`;\n}\nfunction printSourceExplanation(kb) {\n    return (kb.extensionId\n        ? (kb.isBuiltinExtension ? `built-in extension ${kb.extensionId}` : `user extension ${kb.extensionId}`)\n        : (kb.isDefault ? `built-in` : `user`));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { decodeKeybinding } from '../../../base/common/keybindings.js';\nimport { OS } from '../../../base/common/platform.js';\nimport { CommandsRegistry } from '../../commands/common/commands.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { combinedDisposable, DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\n/**\n * Stores all built-in and extension-provided keybindings (but not ones that user defines themselves)\n */\nclass KeybindingsRegistryImpl {\n    constructor() {\n        this._coreKeybindings = new LinkedList();\n        this._extensionKeybindings = [];\n        this._cachedMergedKeybindings = null;\n    }\n    /**\n     * Take current platform into account and reduce to primary & secondary.\n     */\n    static bindToCurrentPlatform(kb) {\n        if (OS === 1 /* OperatingSystem.Windows */) {\n            if (kb && kb.win) {\n                return kb.win;\n            }\n        }\n        else if (OS === 2 /* OperatingSystem.Macintosh */) {\n            if (kb && kb.mac) {\n                return kb.mac;\n            }\n        }\n        else {\n            if (kb && kb.linux) {\n                return kb.linux;\n            }\n        }\n        return kb;\n    }\n    registerKeybindingRule(rule) {\n        const actualKb = KeybindingsRegistryImpl.bindToCurrentPlatform(rule);\n        const result = new DisposableStore();\n        if (actualKb && actualKb.primary) {\n            const kk = decodeKeybinding(actualKb.primary, OS);\n            if (kk) {\n                result.add(this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, 0, rule.when));\n            }\n        }\n        if (actualKb && Array.isArray(actualKb.secondary)) {\n            for (let i = 0, len = actualKb.secondary.length; i < len; i++) {\n                const k = actualKb.secondary[i];\n                const kk = decodeKeybinding(k, OS);\n                if (kk) {\n                    result.add(this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, -i - 1, rule.when));\n                }\n            }\n        }\n        return result;\n    }\n    registerCommandAndKeybindingRule(desc) {\n        return combinedDisposable(this.registerKeybindingRule(desc), CommandsRegistry.registerCommand(desc));\n    }\n    _registerDefaultKeybinding(keybinding, commandId, commandArgs, weight1, weight2, when) {\n        const remove = this._coreKeybindings.push({\n            keybinding: keybinding,\n            command: commandId,\n            commandArgs: commandArgs,\n            when: when,\n            weight1: weight1,\n            weight2: weight2,\n            extensionId: null,\n            isBuiltinExtension: false\n        });\n        this._cachedMergedKeybindings = null;\n        return toDisposable(() => {\n            remove();\n            this._cachedMergedKeybindings = null;\n        });\n    }\n    getDefaultKeybindings() {\n        if (!this._cachedMergedKeybindings) {\n            this._cachedMergedKeybindings = Array.from(this._coreKeybindings).concat(this._extensionKeybindings);\n            this._cachedMergedKeybindings.sort(sorter);\n        }\n        return this._cachedMergedKeybindings.slice(0);\n    }\n}\nexport const KeybindingsRegistry = new KeybindingsRegistryImpl();\n// Define extension point ids\nexport const Extensions = {\n    EditorModes: 'platform.keybindingsRegistry'\n};\nRegistry.add(Extensions.EditorModes, KeybindingsRegistry);\nfunction sorter(a, b) {\n    if (a.weight1 !== b.weight1) {\n        return a.weight1 - b.weight1;\n    }\n    if (a.command && b.command) {\n        if (a.command < b.command) {\n            return -1;\n        }\n        if (a.command > b.command) {\n            return 1;\n        }\n    }\n    return a.weight2 - b.weight2;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ResolvedKeybindingItem {\n    constructor(resolvedKeybinding, command, commandArgs, when, isDefault, extensionId, isBuiltinExtension) {\n        this._resolvedKeybindingItemBrand = undefined;\n        this.resolvedKeybinding = resolvedKeybinding;\n        this.chords = resolvedKeybinding ? toEmptyArrayIfContainsNull(resolvedKeybinding.getDispatchChords()) : [];\n        if (resolvedKeybinding && this.chords.length === 0) {\n            // handle possible single modifier chord keybindings\n            this.chords = toEmptyArrayIfContainsNull(resolvedKeybinding.getSingleModifierDispatchChords());\n        }\n        this.bubble = (command ? command.charCodeAt(0) === 94 /* CharCode.Caret */ : false);\n        this.command = this.bubble ? command.substr(1) : command;\n        this.commandArgs = commandArgs;\n        this.when = when;\n        this.isDefault = isDefault;\n        this.extensionId = extensionId;\n        this.isBuiltinExtension = isBuiltinExtension;\n    }\n}\nexport function toEmptyArrayIfContainsNull(arr) {\n    const result = [];\n    for (let i = 0, len = arr.length; i < len; i++) {\n        const element = arr[i];\n        if (!element) {\n            return [];\n        }\n        result.push(element);\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { illegalArgument } from '../../../base/common/errors.js';\nimport { AriaLabelProvider, ElectronAcceleratorLabelProvider, UILabelProvider, UserSettingsLabelProvider } from '../../../base/common/keybindingLabels.js';\nimport { ResolvedKeybinding, ResolvedChord } from '../../../base/common/keybindings.js';\nexport class BaseResolvedKeybinding extends ResolvedKeybinding {\n    constructor(os, chords) {\n        super();\n        if (chords.length === 0) {\n            throw illegalArgument(`chords`);\n        }\n        this._os = os;\n        this._chords = chords;\n    }\n    getLabel() {\n        return UILabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getLabel(keybinding));\n    }\n    getAriaLabel() {\n        return AriaLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getAriaLabel(keybinding));\n    }\n    getElectronAccelerator() {\n        if (this._chords.length > 1) {\n            // [Electron Accelerators] Electron cannot handle chords\n            return null;\n        }\n        if (this._chords[0].isDuplicateModifierCase()) {\n            // [Electron Accelerators] Electron cannot handle modifier only keybindings\n            // e.g. \"shift shift\"\n            return null;\n        }\n        return ElectronAcceleratorLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getElectronAccelerator(keybinding));\n    }\n    getUserSettingsLabel() {\n        return UserSettingsLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getUserSettingsLabel(keybinding));\n    }\n    hasMultipleChords() {\n        return (this._chords.length > 1);\n    }\n    getChords() {\n        return this._chords.map((keybinding) => this._getChord(keybinding));\n    }\n    _getChord(keybinding) {\n        return new ResolvedChord(keybinding.ctrlKey, keybinding.shiftKey, keybinding.altKey, keybinding.metaKey, this._getLabel(keybinding), this._getAriaLabel(keybinding));\n    }\n    getDispatchChords() {\n        return this._chords.map((keybinding) => this._getChordDispatch(keybinding));\n    }\n    getSingleModifierDispatchChords() {\n        return this._chords.map((keybinding) => this._getSingleModifierChordDispatch(keybinding));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { KeyCodeUtils, IMMUTABLE_CODE_TO_KEY_CODE } from '../../../base/common/keyCodes.js';\nimport { KeyCodeChord } from '../../../base/common/keybindings.js';\nimport { BaseResolvedKeybinding } from './baseResolvedKeybinding.js';\nimport { toEmptyArrayIfContainsNull } from './resolvedKeybindingItem.js';\n/**\n * Do not instantiate. Use KeybindingService to get a ResolvedKeybinding seeded with information about the current kb layout.\n */\nexport class USLayoutResolvedKeybinding extends BaseResolvedKeybinding {\n    constructor(chords, os) {\n        super(os, chords);\n    }\n    _keyCodeToUILabel(keyCode) {\n        if (this._os === 2 /* OperatingSystem.Macintosh */) {\n            switch (keyCode) {\n                case 15 /* KeyCode.LeftArrow */:\n                    return '';\n                case 16 /* KeyCode.UpArrow */:\n                    return '';\n                case 17 /* KeyCode.RightArrow */:\n                    return '';\n                case 18 /* KeyCode.DownArrow */:\n                    return '';\n            }\n        }\n        return KeyCodeUtils.toString(keyCode);\n    }\n    _getLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        return this._keyCodeToUILabel(chord.keyCode);\n    }\n    _getAriaLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        return KeyCodeUtils.toString(chord.keyCode);\n    }\n    _getElectronAccelerator(chord) {\n        return KeyCodeUtils.toElectronAccelerator(chord.keyCode);\n    }\n    _getUserSettingsLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        const result = KeyCodeUtils.toUserSettingsUS(chord.keyCode);\n        return (result ? result.toLowerCase() : result);\n    }\n    _getChordDispatch(chord) {\n        return USLayoutResolvedKeybinding.getDispatchStr(chord);\n    }\n    static getDispatchStr(chord) {\n        if (chord.isModifierKey()) {\n            return null;\n        }\n        let result = '';\n        if (chord.ctrlKey) {\n            result += 'ctrl+';\n        }\n        if (chord.shiftKey) {\n            result += 'shift+';\n        }\n        if (chord.altKey) {\n            result += 'alt+';\n        }\n        if (chord.metaKey) {\n            result += 'meta+';\n        }\n        result += KeyCodeUtils.toString(chord.keyCode);\n        return result;\n    }\n    _getSingleModifierChordDispatch(keybinding) {\n        if (keybinding.keyCode === 5 /* KeyCode.Ctrl */ && !keybinding.shiftKey && !keybinding.altKey && !keybinding.metaKey) {\n            return 'ctrl';\n        }\n        if (keybinding.keyCode === 4 /* KeyCode.Shift */ && !keybinding.ctrlKey && !keybinding.altKey && !keybinding.metaKey) {\n            return 'shift';\n        }\n        if (keybinding.keyCode === 6 /* KeyCode.Alt */ && !keybinding.ctrlKey && !keybinding.shiftKey && !keybinding.metaKey) {\n            return 'alt';\n        }\n        if (keybinding.keyCode === 57 /* KeyCode.Meta */ && !keybinding.ctrlKey && !keybinding.shiftKey && !keybinding.altKey) {\n            return 'meta';\n        }\n        return null;\n    }\n    /**\n     * *NOTE*: Check return value for `KeyCode.Unknown`.\n     */\n    static _scanCodeToKeyCode(scanCode) {\n        const immutableKeyCode = IMMUTABLE_CODE_TO_KEY_CODE[scanCode];\n        if (immutableKeyCode !== -1 /* KeyCode.DependsOnKbLayout */) {\n            return immutableKeyCode;\n        }\n        switch (scanCode) {\n            case 10 /* ScanCode.KeyA */: return 31 /* KeyCode.KeyA */;\n            case 11 /* ScanCode.KeyB */: return 32 /* KeyCode.KeyB */;\n            case 12 /* ScanCode.KeyC */: return 33 /* KeyCode.KeyC */;\n            case 13 /* ScanCode.KeyD */: return 34 /* KeyCode.KeyD */;\n            case 14 /* ScanCode.KeyE */: return 35 /* KeyCode.KeyE */;\n            case 15 /* ScanCode.KeyF */: return 36 /* KeyCode.KeyF */;\n            case 16 /* ScanCode.KeyG */: return 37 /* KeyCode.KeyG */;\n            case 17 /* ScanCode.KeyH */: return 38 /* KeyCode.KeyH */;\n            case 18 /* ScanCode.KeyI */: return 39 /* KeyCode.KeyI */;\n            case 19 /* ScanCode.KeyJ */: return 40 /* KeyCode.KeyJ */;\n            case 20 /* ScanCode.KeyK */: return 41 /* KeyCode.KeyK */;\n            case 21 /* ScanCode.KeyL */: return 42 /* KeyCode.KeyL */;\n            case 22 /* ScanCode.KeyM */: return 43 /* KeyCode.KeyM */;\n            case 23 /* ScanCode.KeyN */: return 44 /* KeyCode.KeyN */;\n            case 24 /* ScanCode.KeyO */: return 45 /* KeyCode.KeyO */;\n            case 25 /* ScanCode.KeyP */: return 46 /* KeyCode.KeyP */;\n            case 26 /* ScanCode.KeyQ */: return 47 /* KeyCode.KeyQ */;\n            case 27 /* ScanCode.KeyR */: return 48 /* KeyCode.KeyR */;\n            case 28 /* ScanCode.KeyS */: return 49 /* KeyCode.KeyS */;\n            case 29 /* ScanCode.KeyT */: return 50 /* KeyCode.KeyT */;\n            case 30 /* ScanCode.KeyU */: return 51 /* KeyCode.KeyU */;\n            case 31 /* ScanCode.KeyV */: return 52 /* KeyCode.KeyV */;\n            case 32 /* ScanCode.KeyW */: return 53 /* KeyCode.KeyW */;\n            case 33 /* ScanCode.KeyX */: return 54 /* KeyCode.KeyX */;\n            case 34 /* ScanCode.KeyY */: return 55 /* KeyCode.KeyY */;\n            case 35 /* ScanCode.KeyZ */: return 56 /* KeyCode.KeyZ */;\n            case 36 /* ScanCode.Digit1 */: return 22 /* KeyCode.Digit1 */;\n            case 37 /* ScanCode.Digit2 */: return 23 /* KeyCode.Digit2 */;\n            case 38 /* ScanCode.Digit3 */: return 24 /* KeyCode.Digit3 */;\n            case 39 /* ScanCode.Digit4 */: return 25 /* KeyCode.Digit4 */;\n            case 40 /* ScanCode.Digit5 */: return 26 /* KeyCode.Digit5 */;\n            case 41 /* ScanCode.Digit6 */: return 27 /* KeyCode.Digit6 */;\n            case 42 /* ScanCode.Digit7 */: return 28 /* KeyCode.Digit7 */;\n            case 43 /* ScanCode.Digit8 */: return 29 /* KeyCode.Digit8 */;\n            case 44 /* ScanCode.Digit9 */: return 30 /* KeyCode.Digit9 */;\n            case 45 /* ScanCode.Digit0 */: return 21 /* KeyCode.Digit0 */;\n            case 51 /* ScanCode.Minus */: return 88 /* KeyCode.Minus */;\n            case 52 /* ScanCode.Equal */: return 86 /* KeyCode.Equal */;\n            case 53 /* ScanCode.BracketLeft */: return 92 /* KeyCode.BracketLeft */;\n            case 54 /* ScanCode.BracketRight */: return 94 /* KeyCode.BracketRight */;\n            case 55 /* ScanCode.Backslash */: return 93 /* KeyCode.Backslash */;\n            case 56 /* ScanCode.IntlHash */: return 0 /* KeyCode.Unknown */; // missing\n            case 57 /* ScanCode.Semicolon */: return 85 /* KeyCode.Semicolon */;\n            case 58 /* ScanCode.Quote */: return 95 /* KeyCode.Quote */;\n            case 59 /* ScanCode.Backquote */: return 91 /* KeyCode.Backquote */;\n            case 60 /* ScanCode.Comma */: return 87 /* KeyCode.Comma */;\n            case 61 /* ScanCode.Period */: return 89 /* KeyCode.Period */;\n            case 62 /* ScanCode.Slash */: return 90 /* KeyCode.Slash */;\n            case 106 /* ScanCode.IntlBackslash */: return 97 /* KeyCode.IntlBackslash */;\n        }\n        return 0 /* KeyCode.Unknown */;\n    }\n    static _toKeyCodeChord(chord) {\n        if (!chord) {\n            return null;\n        }\n        if (chord instanceof KeyCodeChord) {\n            return chord;\n        }\n        const keyCode = this._scanCodeToKeyCode(chord.scanCode);\n        if (keyCode === 0 /* KeyCode.Unknown */) {\n            return null;\n        }\n        return new KeyCodeChord(chord.ctrlKey, chord.shiftKey, chord.altKey, chord.metaKey, keyCode);\n    }\n    static resolveKeybinding(keybinding, os) {\n        const chords = toEmptyArrayIfContainsNull(keybinding.chords.map(chord => this._toKeyCodeChord(chord)));\n        if (chords.length > 0) {\n            return [new USLayoutResolvedKeybinding(chords, os)];\n        }\n        return [];\n    }\n}\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILabelService = createDecorator('labelService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILayoutService = createDecorator('layoutService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { createStyleSheet } from '../../../base/browser/dom.js';\nimport { PagedList } from '../../../base/browser/ui/list/listPaging.js';\nimport { DefaultStyleController, isSelectionRangeChangeEvent, isSelectionSingleChangeEvent, List, TypeNavigationMode } from '../../../base/browser/ui/list/listWidget.js';\nimport { Table } from '../../../base/browser/ui/table/tableWidget.js';\nimport { TreeFindMode, TreeFindMatchType } from '../../../base/browser/ui/tree/abstractTree.js';\nimport { AsyncDataTree, CompressibleAsyncDataTree } from '../../../base/browser/ui/tree/asyncDataTree.js';\nimport { DataTree } from '../../../base/browser/ui/tree/dataTree.js';\nimport { CompressibleObjectTree, ObjectTree } from '../../../base/browser/ui/tree/objectTree.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { combinedDisposable, Disposable, DisposableStore, dispose, toDisposable } from '../../../base/common/lifecycle.js';\nimport { localize } from '../../../nls.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { Extensions as ConfigurationExtensions } from '../../configuration/common/configurationRegistry.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { InputFocusedContextKey } from '../../contextkey/common/contextkeys.js';\nimport { IContextViewService } from '../../contextview/browser/contextView.js';\nimport { createDecorator, IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { defaultFindWidgetStyles, defaultListStyles, getListStyles } from '../../theme/browser/defaultStyles.js';\nexport const IListService = createDecorator('listService');\nexport class ListService {\n    get lastFocusedList() {\n        return this._lastFocusedWidget;\n    }\n    constructor() {\n        this.disposables = new DisposableStore();\n        this.lists = [];\n        this._lastFocusedWidget = undefined;\n        this._hasCreatedStyleController = false;\n    }\n    setLastFocusedList(widget) {\n        var _a, _b;\n        if (widget === this._lastFocusedWidget) {\n            return;\n        }\n        (_a = this._lastFocusedWidget) === null || _a === void 0 ? void 0 : _a.getHTMLElement().classList.remove('last-focused');\n        this._lastFocusedWidget = widget;\n        (_b = this._lastFocusedWidget) === null || _b === void 0 ? void 0 : _b.getHTMLElement().classList.add('last-focused');\n    }\n    register(widget, extraContextKeys) {\n        if (!this._hasCreatedStyleController) {\n            this._hasCreatedStyleController = true;\n            // create a shared default tree style sheet for performance reasons\n            const styleController = new DefaultStyleController(createStyleSheet(), '');\n            styleController.style(defaultListStyles);\n        }\n        if (this.lists.some(l => l.widget === widget)) {\n            throw new Error('Cannot register the same widget multiple times');\n        }\n        // Keep in our lists list\n        const registeredList = { widget, extraContextKeys };\n        this.lists.push(registeredList);\n        // Check for currently being focused\n        if (widget.getHTMLElement() === document.activeElement) {\n            this.setLastFocusedList(widget);\n        }\n        return combinedDisposable(widget.onDidFocus(() => this.setLastFocusedList(widget)), toDisposable(() => this.lists.splice(this.lists.indexOf(registeredList), 1)), widget.onDidDispose(() => {\n            this.lists = this.lists.filter(l => l !== registeredList);\n            if (this._lastFocusedWidget === widget) {\n                this.setLastFocusedList(undefined);\n            }\n        }));\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport const RawWorkbenchListScrollAtBoundaryContextKey = new RawContextKey('listScrollAtBoundary', 'none');\nexport const WorkbenchListScrollAtTopContextKey = ContextKeyExpr.or(RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('top'), RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('both'));\nexport const WorkbenchListScrollAtBottomContextKey = ContextKeyExpr.or(RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('bottom'), RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('both'));\nexport const RawWorkbenchListFocusContextKey = new RawContextKey('listFocus', true);\nexport const WorkbenchListSupportsMultiSelectContextKey = new RawContextKey('listSupportsMultiselect', true);\nexport const WorkbenchListFocusContextKey = ContextKeyExpr.and(RawWorkbenchListFocusContextKey, ContextKeyExpr.not(InputFocusedContextKey));\nexport const WorkbenchListHasSelectionOrFocus = new RawContextKey('listHasSelectionOrFocus', false);\nexport const WorkbenchListDoubleSelection = new RawContextKey('listDoubleSelection', false);\nexport const WorkbenchListMultiSelection = new RawContextKey('listMultiSelection', false);\nexport const WorkbenchListSelectionNavigation = new RawContextKey('listSelectionNavigation', false);\nexport const WorkbenchListSupportsFind = new RawContextKey('listSupportsFind', true);\nexport const WorkbenchTreeElementCanCollapse = new RawContextKey('treeElementCanCollapse', false);\nexport const WorkbenchTreeElementHasParent = new RawContextKey('treeElementHasParent', false);\nexport const WorkbenchTreeElementCanExpand = new RawContextKey('treeElementCanExpand', false);\nexport const WorkbenchTreeElementHasChild = new RawContextKey('treeElementHasChild', false);\nexport const WorkbenchTreeFindOpen = new RawContextKey('treeFindOpen', false);\nconst WorkbenchListTypeNavigationModeKey = 'listTypeNavigationMode';\n/**\n * @deprecated in favor of WorkbenchListTypeNavigationModeKey\n */\nconst WorkbenchListAutomaticKeyboardNavigationLegacyKey = 'listAutomaticKeyboardNavigation';\nfunction createScopedContextKeyService(contextKeyService, widget) {\n    const result = contextKeyService.createScoped(widget.getHTMLElement());\n    RawWorkbenchListFocusContextKey.bindTo(result);\n    return result;\n}\nfunction createScrollObserver(contextKeyService, widget) {\n    const listScrollAt = RawWorkbenchListScrollAtBoundaryContextKey.bindTo(contextKeyService);\n    const update = () => {\n        const atTop = widget.scrollTop === 0;\n        // We need a threshold `1` since scrollHeight is rounded.\n        // https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#determine_if_an_element_has_been_totally_scrolled\n        const atBottom = widget.scrollHeight - widget.renderHeight - widget.scrollTop < 1;\n        if (atTop && atBottom) {\n            listScrollAt.set('both');\n        }\n        else if (atTop) {\n            listScrollAt.set('top');\n        }\n        else if (atBottom) {\n            listScrollAt.set('bottom');\n        }\n        else {\n            listScrollAt.set('none');\n        }\n    };\n    update();\n    return widget.onDidScroll(update);\n}\nconst multiSelectModifierSettingKey = 'workbench.list.multiSelectModifier';\nconst openModeSettingKey = 'workbench.list.openMode';\nconst horizontalScrollingKey = 'workbench.list.horizontalScrolling';\nconst defaultFindModeSettingKey = 'workbench.list.defaultFindMode';\nconst typeNavigationModeSettingKey = 'workbench.list.typeNavigationMode';\n/** @deprecated in favor of `workbench.list.defaultFindMode` and `workbench.list.typeNavigationMode` */\nconst keyboardNavigationSettingKey = 'workbench.list.keyboardNavigation';\nconst scrollByPageKey = 'workbench.list.scrollByPage';\nconst defaultFindMatchTypeSettingKey = 'workbench.list.defaultFindMatchType';\nconst treeIndentKey = 'workbench.tree.indent';\nconst treeRenderIndentGuidesKey = 'workbench.tree.renderIndentGuides';\nconst listSmoothScrolling = 'workbench.list.smoothScrolling';\nconst mouseWheelScrollSensitivityKey = 'workbench.list.mouseWheelScrollSensitivity';\nconst fastScrollSensitivityKey = 'workbench.list.fastScrollSensitivity';\nconst treeExpandMode = 'workbench.tree.expandMode';\nfunction useAltAsMultipleSelectionModifier(configurationService) {\n    return configurationService.getValue(multiSelectModifierSettingKey) === 'alt';\n}\nclass MultipleSelectionController extends Disposable {\n    constructor(configurationService) {\n        super();\n        this.configurationService = configurationService;\n        this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.registerListeners();\n    }\n    registerListeners() {\n        this._register(this.configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(this.configurationService);\n            }\n        }));\n    }\n    isSelectionSingleChangeEvent(event) {\n        if (this.useAltAsMultipleSelectionModifier) {\n            return event.browserEvent.altKey;\n        }\n        return isSelectionSingleChangeEvent(event);\n    }\n    isSelectionRangeChangeEvent(event) {\n        return isSelectionRangeChangeEvent(event);\n    }\n}\nfunction toWorkbenchListOptions(accessor, options) {\n    var _a;\n    const configurationService = accessor.get(IConfigurationService);\n    const keybindingService = accessor.get(IKeybindingService);\n    const disposables = new DisposableStore();\n    const result = Object.assign(Object.assign({}, options), { keyboardNavigationDelegate: { mightProducePrintableCharacter(e) { return keybindingService.mightProducePrintableCharacter(e); } }, smoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)), mouseWheelScrollSensitivity: configurationService.getValue(mouseWheelScrollSensitivityKey), fastScrollSensitivity: configurationService.getValue(fastScrollSensitivityKey), multipleSelectionController: (_a = options.multipleSelectionController) !== null && _a !== void 0 ? _a : disposables.add(new MultipleSelectionController(configurationService)), keyboardNavigationEventFilter: createKeyboardNavigationEventFilter(keybindingService), scrollByPage: Boolean(configurationService.getValue(scrollByPageKey)) });\n    return [result, disposables];\n}\nlet WorkbenchList = class WorkbenchList extends List {\n    constructor(user, container, delegate, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.disposables.add(createScrollObserver(this.contextKeyService, this));\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(this.onDidChangeSelection(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.listMultiSelection.set(selection.length > 1);\n                this.listDoubleSelection.set(selection.length === 2);\n            });\n        }));\n        this.disposables.add(this.onDidChangeFocus(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n        }));\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new ListResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n};\nWorkbenchList = __decorate([\n    __param(5, IContextKeyService),\n    __param(6, IListService),\n    __param(7, IConfigurationService),\n    __param(8, IInstantiationService)\n], WorkbenchList);\nexport { WorkbenchList };\nlet WorkbenchPagedList = class WorkbenchPagedList extends PagedList {\n    constructor(user, container, delegate, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables = new DisposableStore();\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.disposables.add(createScrollObserver(this.contextKeyService, this.widget));\n        this.horizontalScrolling = options.horizontalScrolling;\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new ListResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables.dispose();\n        super.dispose();\n    }\n};\nWorkbenchPagedList = __decorate([\n    __param(5, IContextKeyService),\n    __param(6, IListService),\n    __param(7, IConfigurationService),\n    __param(8, IInstantiationService)\n], WorkbenchPagedList);\nexport { WorkbenchPagedList };\nlet WorkbenchTable = class WorkbenchTable extends Table {\n    constructor(user, container, delegate, columns, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, columns, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.disposables.add(createScrollObserver(this.contextKeyService, this));\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(this.onDidChangeSelection(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.listMultiSelection.set(selection.length > 1);\n                this.listDoubleSelection.set(selection.length === 2);\n            });\n        }));\n        this.disposables.add(this.onDidChangeFocus(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n        }));\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new TableResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables.dispose();\n        super.dispose();\n    }\n};\nWorkbenchTable = __decorate([\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService),\n    __param(9, IInstantiationService)\n], WorkbenchTable);\nexport { WorkbenchTable };\nclass ResourceNavigator extends Disposable {\n    constructor(widget, options) {\n        var _a;\n        super();\n        this.widget = widget;\n        this._onDidOpen = this._register(new Emitter());\n        this.onDidOpen = this._onDidOpen.event;\n        this._register(Event.filter(this.widget.onDidChangeSelection, e => e.browserEvent instanceof KeyboardEvent)(e => this.onSelectionFromKeyboard(e)));\n        this._register(this.widget.onPointer((e) => this.onPointer(e.element, e.browserEvent)));\n        this._register(this.widget.onMouseDblClick((e) => this.onMouseDblClick(e.element, e.browserEvent)));\n        if (typeof (options === null || options === void 0 ? void 0 : options.openOnSingleClick) !== 'boolean' && (options === null || options === void 0 ? void 0 : options.configurationService)) {\n            this.openOnSingleClick = (options === null || options === void 0 ? void 0 : options.configurationService.getValue(openModeSettingKey)) !== 'doubleClick';\n            this._register(options === null || options === void 0 ? void 0 : options.configurationService.onDidChangeConfiguration(e => {\n                if (e.affectsConfiguration(openModeSettingKey)) {\n                    this.openOnSingleClick = (options === null || options === void 0 ? void 0 : options.configurationService.getValue(openModeSettingKey)) !== 'doubleClick';\n                }\n            }));\n        }\n        else {\n            this.openOnSingleClick = (_a = options === null || options === void 0 ? void 0 : options.openOnSingleClick) !== null && _a !== void 0 ? _a : true;\n        }\n    }\n    onSelectionFromKeyboard(event) {\n        if (event.elements.length !== 1) {\n            return;\n        }\n        const selectionKeyboardEvent = event.browserEvent;\n        const preserveFocus = typeof selectionKeyboardEvent.preserveFocus === 'boolean' ? selectionKeyboardEvent.preserveFocus : true;\n        const pinned = typeof selectionKeyboardEvent.pinned === 'boolean' ? selectionKeyboardEvent.pinned : !preserveFocus;\n        const sideBySide = false;\n        this._open(this.getSelectedElement(), preserveFocus, pinned, sideBySide, event.browserEvent);\n    }\n    onPointer(element, browserEvent) {\n        if (!this.openOnSingleClick) {\n            return;\n        }\n        const isDoubleClick = browserEvent.detail === 2;\n        if (isDoubleClick) {\n            return;\n        }\n        const isMiddleClick = browserEvent.button === 1;\n        const preserveFocus = true;\n        const pinned = isMiddleClick;\n        const sideBySide = browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey;\n        this._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n    }\n    onMouseDblClick(element, browserEvent) {\n        if (!browserEvent) {\n            return;\n        }\n        // copied from AbstractTree\n        const target = browserEvent.target;\n        const onTwistie = target.classList.contains('monaco-tl-twistie')\n            || (target.classList.contains('monaco-icon-label') && target.classList.contains('folder-icon') && browserEvent.offsetX < 16);\n        if (onTwistie) {\n            return;\n        }\n        const preserveFocus = false;\n        const pinned = true;\n        const sideBySide = (browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey);\n        this._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n    }\n    _open(element, preserveFocus, pinned, sideBySide, browserEvent) {\n        if (!element) {\n            return;\n        }\n        this._onDidOpen.fire({\n            editorOptions: {\n                preserveFocus,\n                pinned,\n                revealIfVisible: true\n            },\n            sideBySide,\n            element,\n            browserEvent\n        });\n    }\n}\nclass ListResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n        this.widget = widget;\n    }\n    getSelectedElement() {\n        return this.widget.getSelectedElements()[0];\n    }\n}\nclass TableResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n    }\n    getSelectedElement() {\n        return this.widget.getSelectedElements()[0];\n    }\n}\nclass TreeResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n    }\n    getSelectedElement() {\n        var _a;\n        return (_a = this.widget.getSelection()[0]) !== null && _a !== void 0 ? _a : undefined;\n    }\n}\nfunction createKeyboardNavigationEventFilter(keybindingService) {\n    let inMultiChord = false;\n    return event => {\n        if (event.toKeyCodeChord().isModifierKey()) {\n            return false;\n        }\n        if (inMultiChord) {\n            inMultiChord = false;\n            return false;\n        }\n        const result = keybindingService.softDispatch(event, event.target);\n        if (result.kind === 1 /* ResultKind.MoreChordsNeeded */) {\n            inMultiChord = true;\n            return false;\n        }\n        inMultiChord = false;\n        return result.kind === 0 /* ResultKind.NoMatchingKb */;\n    };\n}\nlet WorkbenchObjectTree = class WorkbenchObjectTree extends ObjectTree {\n    constructor(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchObjectTree = __decorate([\n    __param(5, IInstantiationService),\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService)\n], WorkbenchObjectTree);\nexport { WorkbenchObjectTree };\nlet WorkbenchCompressibleObjectTree = class WorkbenchCompressibleObjectTree extends CompressibleObjectTree {\n    constructor(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchCompressibleObjectTree = __decorate([\n    __param(5, IInstantiationService),\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService)\n], WorkbenchCompressibleObjectTree);\nexport { WorkbenchCompressibleObjectTree };\nlet WorkbenchDataTree = class WorkbenchDataTree extends DataTree {\n    constructor(user, container, delegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchDataTree = __decorate([\n    __param(6, IInstantiationService),\n    __param(7, IContextKeyService),\n    __param(8, IListService),\n    __param(9, IConfigurationService)\n], WorkbenchDataTree);\nexport { WorkbenchDataTree };\nlet WorkbenchAsyncDataTree = class WorkbenchAsyncDataTree extends AsyncDataTree {\n    get onDidOpen() { return this.internals.onDidOpen; }\n    constructor(user, container, delegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchAsyncDataTree = __decorate([\n    __param(6, IInstantiationService),\n    __param(7, IContextKeyService),\n    __param(8, IListService),\n    __param(9, IConfigurationService)\n], WorkbenchAsyncDataTree);\nexport { WorkbenchAsyncDataTree };\nlet WorkbenchCompressibleAsyncDataTree = class WorkbenchCompressibleAsyncDataTree extends CompressibleAsyncDataTree {\n    constructor(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchCompressibleAsyncDataTree = __decorate([\n    __param(7, IInstantiationService),\n    __param(8, IContextKeyService),\n    __param(9, IListService),\n    __param(10, IConfigurationService)\n], WorkbenchCompressibleAsyncDataTree);\nexport { WorkbenchCompressibleAsyncDataTree };\nfunction getDefaultTreeFindMode(configurationService) {\n    const value = configurationService.getValue(defaultFindModeSettingKey);\n    if (value === 'highlight') {\n        return TreeFindMode.Highlight;\n    }\n    else if (value === 'filter') {\n        return TreeFindMode.Filter;\n    }\n    const deprecatedValue = configurationService.getValue(keyboardNavigationSettingKey);\n    if (deprecatedValue === 'simple' || deprecatedValue === 'highlight') {\n        return TreeFindMode.Highlight;\n    }\n    else if (deprecatedValue === 'filter') {\n        return TreeFindMode.Filter;\n    }\n    return undefined;\n}\nfunction getDefaultTreeFindMatchType(configurationService) {\n    const value = configurationService.getValue(defaultFindMatchTypeSettingKey);\n    if (value === 'fuzzy') {\n        return TreeFindMatchType.Fuzzy;\n    }\n    else if (value === 'contiguous') {\n        return TreeFindMatchType.Contiguous;\n    }\n    return undefined;\n}\nfunction workbenchTreeDataPreamble(accessor, options) {\n    var _a;\n    const configurationService = accessor.get(IConfigurationService);\n    const contextViewService = accessor.get(IContextViewService);\n    const contextKeyService = accessor.get(IContextKeyService);\n    const instantiationService = accessor.get(IInstantiationService);\n    const getTypeNavigationMode = () => {\n        // give priority to the context key value to specify a value\n        const modeString = contextKeyService.getContextKeyValue(WorkbenchListTypeNavigationModeKey);\n        if (modeString === 'automatic') {\n            return TypeNavigationMode.Automatic;\n        }\n        else if (modeString === 'trigger') {\n            return TypeNavigationMode.Trigger;\n        }\n        // also check the deprecated context key to set the mode to 'trigger'\n        const modeBoolean = contextKeyService.getContextKeyValue(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n        if (modeBoolean === false) {\n            return TypeNavigationMode.Trigger;\n        }\n        // finally, check the setting\n        const configString = configurationService.getValue(typeNavigationModeSettingKey);\n        if (configString === 'automatic') {\n            return TypeNavigationMode.Automatic;\n        }\n        else if (configString === 'trigger') {\n            return TypeNavigationMode.Trigger;\n        }\n        return undefined;\n    };\n    const horizontalScrolling = options.horizontalScrolling !== undefined ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n    const [workbenchListOptions, disposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n    const additionalScrollHeight = options.additionalScrollHeight;\n    const renderIndentGuides = options.renderIndentGuides !== undefined ? options.renderIndentGuides : configurationService.getValue(treeRenderIndentGuidesKey);\n    return {\n        getTypeNavigationMode,\n        disposable,\n        options: Object.assign(Object.assign({ \n            // ...options, // TODO@Joao why is this not splatted here?\n            keyboardSupport: false }, workbenchListOptions), { indent: typeof configurationService.getValue(treeIndentKey) === 'number' ? configurationService.getValue(treeIndentKey) : undefined, renderIndentGuides, smoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)), defaultFindMode: getDefaultTreeFindMode(configurationService), defaultFindMatchType: getDefaultTreeFindMatchType(configurationService), horizontalScrolling, scrollByPage: Boolean(configurationService.getValue(scrollByPageKey)), additionalScrollHeight, hideTwistiesOfChildlessElements: options.hideTwistiesOfChildlessElements, expandOnlyOnTwistieClick: (_a = options.expandOnlyOnTwistieClick) !== null && _a !== void 0 ? _a : (configurationService.getValue(treeExpandMode) === 'doubleClick'), contextViewProvider: contextViewService, findWidgetStyles: defaultFindWidgetStyles })\n    };\n}\nlet WorkbenchTreeInternals = class WorkbenchTreeInternals {\n    get onDidOpen() { return this.navigator.onDidOpen; }\n    constructor(tree, options, getTypeNavigationMode, overrideStyles, contextKeyService, listService, configurationService) {\n        var _a;\n        this.tree = tree;\n        this.disposables = [];\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, tree);\n        this.disposables.push(createScrollObserver(this.contextKeyService, tree));\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listSupportFindWidget = WorkbenchListSupportsFind.bindTo(this.contextKeyService);\n        this.listSupportFindWidget.set((_a = options.findWidgetEnabled) !== null && _a !== void 0 ? _a : true);\n        this.hasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.hasDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.hasMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.treeElementCanCollapse = WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService);\n        this.treeElementHasParent = WorkbenchTreeElementHasParent.bindTo(this.contextKeyService);\n        this.treeElementCanExpand = WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService);\n        this.treeElementHasChild = WorkbenchTreeElementHasChild.bindTo(this.contextKeyService);\n        this.treeFindOpen = WorkbenchTreeFindOpen.bindTo(this.contextKeyService);\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.updateStyleOverrides(overrideStyles);\n        const updateCollapseContextKeys = () => {\n            const focus = tree.getFocus()[0];\n            if (!focus) {\n                return;\n            }\n            const node = tree.getNode(focus);\n            this.treeElementCanCollapse.set(node.collapsible && !node.collapsed);\n            this.treeElementHasParent.set(!!tree.getParentElement(focus));\n            this.treeElementCanExpand.set(node.collapsible && node.collapsed);\n            this.treeElementHasChild.set(!!tree.getFirstElementChild(focus));\n        };\n        const interestingContextKeys = new Set();\n        interestingContextKeys.add(WorkbenchListTypeNavigationModeKey);\n        interestingContextKeys.add(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n        this.disposables.push(this.contextKeyService, listService.register(tree), tree.onDidChangeSelection(() => {\n            const selection = tree.getSelection();\n            const focus = tree.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.hasMultiSelection.set(selection.length > 1);\n                this.hasDoubleSelection.set(selection.length === 2);\n            });\n        }), tree.onDidChangeFocus(() => {\n            const selection = tree.getSelection();\n            const focus = tree.getFocus();\n            this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n            updateCollapseContextKeys();\n        }), tree.onDidChangeCollapseState(updateCollapseContextKeys), tree.onDidChangeModel(updateCollapseContextKeys), tree.onDidChangeFindOpenState(enabled => this.treeFindOpen.set(enabled)), configurationService.onDidChangeConfiguration(e => {\n            let newOptions = {};\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            if (e.affectsConfiguration(treeIndentKey)) {\n                const indent = configurationService.getValue(treeIndentKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { indent });\n            }\n            if (e.affectsConfiguration(treeRenderIndentGuidesKey) && options.renderIndentGuides === undefined) {\n                const renderIndentGuides = configurationService.getValue(treeRenderIndentGuidesKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { renderIndentGuides });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                newOptions = Object.assign(Object.assign({}, newOptions), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(defaultFindModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n                const defaultFindMode = getDefaultTreeFindMode(configurationService);\n                newOptions = Object.assign(Object.assign({}, newOptions), { defaultFindMode });\n            }\n            if (e.affectsConfiguration(typeNavigationModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n                const typeNavigationMode = getTypeNavigationMode();\n                newOptions = Object.assign(Object.assign({}, newOptions), { typeNavigationMode });\n            }\n            if (e.affectsConfiguration(defaultFindMatchTypeSettingKey)) {\n                const defaultFindMatchType = getDefaultTreeFindMatchType(configurationService);\n                newOptions = Object.assign(Object.assign({}, newOptions), { defaultFindMatchType });\n            }\n            if (e.affectsConfiguration(horizontalScrollingKey) && options.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                newOptions = Object.assign(Object.assign({}, newOptions), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                newOptions = Object.assign(Object.assign({}, newOptions), { scrollByPage });\n            }\n            if (e.affectsConfiguration(treeExpandMode) && options.expandOnlyOnTwistieClick === undefined) {\n                newOptions = Object.assign(Object.assign({}, newOptions), { expandOnlyOnTwistieClick: configurationService.getValue(treeExpandMode) === 'doubleClick' });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { fastScrollSensitivity });\n            }\n            if (Object.keys(newOptions).length > 0) {\n                tree.updateOptions(newOptions);\n            }\n        }), this.contextKeyService.onDidChangeContext(e => {\n            if (e.affectsSome(interestingContextKeys)) {\n                tree.updateOptions({ typeNavigationMode: getTypeNavigationMode() });\n            }\n        }));\n        this.navigator = new TreeResourceNavigator(tree, Object.assign({ configurationService }, options));\n        this.disposables.push(this.navigator);\n    }\n    updateOptions(options) {\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyleOverrides(overrideStyles) {\n        this.tree.style(overrideStyles ? getListStyles(overrideStyles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables = dispose(this.disposables);\n    }\n};\nWorkbenchTreeInternals = __decorate([\n    __param(4, IContextKeyService),\n    __param(5, IListService),\n    __param(6, IConfigurationService)\n], WorkbenchTreeInternals);\nconst configurationRegistry = Registry.as(ConfigurationExtensions.Configuration);\nconfigurationRegistry.registerConfiguration({\n    id: 'workbench',\n    order: 7,\n    title: localize('workbenchConfigurationTitle', \"Workbench\"),\n    type: 'object',\n    properties: {\n        [multiSelectModifierSettingKey]: {\n            type: 'string',\n            enum: ['ctrlCmd', 'alt'],\n            markdownEnumDescriptions: [\n                localize('multiSelectModifier.ctrlCmd', \"Maps to `Control` on Windows and Linux and to `Command` on macOS.\"),\n                localize('multiSelectModifier.alt', \"Maps to `Alt` on Windows and Linux and to `Option` on macOS.\")\n            ],\n            default: 'ctrlCmd',\n            description: localize({\n                key: 'multiSelectModifier',\n                comment: [\n                    '- `ctrlCmd` refers to a value the setting can take and should not be localized.',\n                    '- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized.'\n                ]\n            }, \"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.\")\n        },\n        [openModeSettingKey]: {\n            type: 'string',\n            enum: ['singleClick', 'doubleClick'],\n            default: 'singleClick',\n            description: localize({\n                key: 'openModeModifier',\n                comment: ['`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized.']\n            }, \"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.\")\n        },\n        [horizontalScrollingKey]: {\n            type: 'boolean',\n            default: false,\n            description: localize('horizontalScrolling setting', \"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.\")\n        },\n        [scrollByPageKey]: {\n            type: 'boolean',\n            default: false,\n            description: localize('list.scrollByPage', \"Controls whether clicks in the scrollbar scroll page by page.\")\n        },\n        [treeIndentKey]: {\n            type: 'number',\n            default: 8,\n            minimum: 4,\n            maximum: 40,\n            description: localize('tree indent setting', \"Controls tree indentation in pixels.\")\n        },\n        [treeRenderIndentGuidesKey]: {\n            type: 'string',\n            enum: ['none', 'onHover', 'always'],\n            default: 'onHover',\n            description: localize('render tree indent guides', \"Controls whether the tree should render indent guides.\")\n        },\n        [listSmoothScrolling]: {\n            type: 'boolean',\n            default: false,\n            description: localize('list smoothScrolling setting', \"Controls whether lists and trees have smooth scrolling.\"),\n        },\n        [mouseWheelScrollSensitivityKey]: {\n            type: 'number',\n            default: 1,\n            markdownDescription: localize('Mouse Wheel Scroll Sensitivity', \"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.\")\n        },\n        [fastScrollSensitivityKey]: {\n            type: 'number',\n            default: 5,\n            markdownDescription: localize('Fast Scroll Sensitivity', \"Scrolling speed multiplier when pressing `Alt`.\")\n        },\n        [defaultFindModeSettingKey]: {\n            type: 'string',\n            enum: ['highlight', 'filter'],\n            enumDescriptions: [\n                localize('defaultFindModeSettingKey.highlight', \"Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements.\"),\n                localize('defaultFindModeSettingKey.filter', \"Filter elements when searching.\")\n            ],\n            default: 'highlight',\n            description: localize('defaultFindModeSettingKey', \"Controls the default find mode for lists and trees in the workbench.\")\n        },\n        [keyboardNavigationSettingKey]: {\n            type: 'string',\n            enum: ['simple', 'highlight', 'filter'],\n            enumDescriptions: [\n                localize('keyboardNavigationSettingKey.simple', \"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes.\"),\n                localize('keyboardNavigationSettingKey.highlight', \"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements.\"),\n                localize('keyboardNavigationSettingKey.filter', \"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.\")\n            ],\n            default: 'highlight',\n            description: localize('keyboardNavigationSettingKey', \"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.\"),\n            deprecated: true,\n            deprecationMessage: localize('keyboardNavigationSettingKeyDeprecated', \"Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.\")\n        },\n        [defaultFindMatchTypeSettingKey]: {\n            type: 'string',\n            enum: ['fuzzy', 'contiguous'],\n            enumDescriptions: [\n                localize('defaultFindMatchTypeSettingKey.fuzzy', \"Use fuzzy matching when searching.\"),\n                localize('defaultFindMatchTypeSettingKey.contiguous', \"Use contiguous matching when searching.\")\n            ],\n            default: 'fuzzy',\n            description: localize('defaultFindMatchTypeSettingKey', \"Controls the type of matching used when searching lists and trees in the workbench.\")\n        },\n        [treeExpandMode]: {\n            type: 'string',\n            enum: ['singleClick', 'doubleClick'],\n            default: 'singleClick',\n            description: localize('expand mode', \"Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.\"),\n        },\n        [typeNavigationModeSettingKey]: {\n            type: 'string',\n            enum: ['automatic', 'trigger'],\n            default: 'automatic',\n            description: localize('typeNavigationMode', \"Controls the how type navigation works in lists and trees in the workbench. When set to 'trigger', type navigation begins once the 'list.triggerTypeNavigation' command is run.\"),\n        }\n    }\n});\n","import { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILogService = createDecorator('logService');\nexport var LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Off\"] = 0] = \"Off\";\n    LogLevel[LogLevel[\"Trace\"] = 1] = \"Trace\";\n    LogLevel[LogLevel[\"Debug\"] = 2] = \"Debug\";\n    LogLevel[LogLevel[\"Info\"] = 3] = \"Info\";\n    LogLevel[LogLevel[\"Warning\"] = 4] = \"Warning\";\n    LogLevel[LogLevel[\"Error\"] = 5] = \"Error\";\n})(LogLevel || (LogLevel = {}));\nexport const DEFAULT_LOG_LEVEL = LogLevel.Info;\nexport class AbstractLogger extends Disposable {\n    constructor() {\n        super(...arguments);\n        this.level = DEFAULT_LOG_LEVEL;\n        this._onDidChangeLogLevel = this._register(new Emitter());\n        this.onDidChangeLogLevel = this._onDidChangeLogLevel.event;\n    }\n    setLevel(level) {\n        if (this.level !== level) {\n            this.level = level;\n            this._onDidChangeLogLevel.fire(this.level);\n        }\n    }\n    getLevel() {\n        return this.level;\n    }\n    checkLogLevel(level) {\n        return this.level !== LogLevel.Off && this.level <= level;\n    }\n}\nexport class ConsoleLogger extends AbstractLogger {\n    constructor(logLevel = DEFAULT_LOG_LEVEL, useColors = true) {\n        super();\n        this.useColors = useColors;\n        this.setLevel(logLevel);\n    }\n    trace(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Trace)) {\n            if (this.useColors) {\n                console.log('%cTRACE', 'color: #888', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    debug(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Debug)) {\n            if (this.useColors) {\n                console.log('%cDEBUG', 'background: #eee; color: #888', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    info(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Info)) {\n            if (this.useColors) {\n                console.log('%c INFO', 'color: #33f', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    warn(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Warning)) {\n            if (this.useColors) {\n                console.log('%c WARN', 'color: #993', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    error(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Error)) {\n            if (this.useColors) {\n                console.log('%c  ERR', 'color: #f33', message, ...args);\n            }\n            else {\n                console.error(message, ...args);\n            }\n        }\n    }\n    dispose() {\n        // noop\n    }\n}\nexport class MultiplexLogger extends AbstractLogger {\n    constructor(loggers) {\n        super();\n        this.loggers = loggers;\n        if (loggers.length) {\n            this.setLevel(loggers[0].getLevel());\n        }\n    }\n    setLevel(level) {\n        for (const logger of this.loggers) {\n            logger.setLevel(level);\n        }\n        super.setLevel(level);\n    }\n    trace(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.trace(message, ...args);\n        }\n    }\n    debug(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.debug(message, ...args);\n        }\n    }\n    info(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.info(message, ...args);\n        }\n    }\n    warn(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.warn(message, ...args);\n        }\n    }\n    error(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.error(message, ...args);\n        }\n    }\n    dispose() {\n        for (const logger of this.loggers) {\n            logger.dispose();\n        }\n    }\n}\nexport function LogLevelToString(logLevel) {\n    switch (logLevel) {\n        case LogLevel.Trace: return 'trace';\n        case LogLevel.Debug: return 'debug';\n        case LogLevel.Info: return 'info';\n        case LogLevel.Warning: return 'warn';\n        case LogLevel.Error: return 'error';\n        case LogLevel.Off: return 'off';\n    }\n}\n// Contexts\nexport const CONTEXT_LOG_LEVEL = new RawContextKey('logLevel', LogLevelToString(LogLevel.Info));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { MultiplexLogger } from './log.js';\nexport class LogService extends Disposable {\n    constructor(primaryLogger, otherLoggers = []) {\n        super();\n        this.logger = new MultiplexLogger([primaryLogger, ...otherLoggers]);\n        this._register(primaryLogger.onDidChangeLogLevel(level => this.setLevel(level)));\n    }\n    get onDidChangeLogLevel() {\n        return this.logger.onDidChangeLogLevel;\n    }\n    setLevel(level) {\n        this.logger.setLevel(level);\n    }\n    getLevel() {\n        return this.logger.getLevel();\n    }\n    trace(message, ...args) {\n        this.logger.trace(message, ...args);\n    }\n    debug(message, ...args) {\n        this.logger.debug(message, ...args);\n    }\n    info(message, ...args) {\n        this.logger.info(message, ...args);\n    }\n    warn(message, ...args) {\n        this.logger.warn(message, ...args);\n    }\n    error(message, ...args) {\n        this.logger.error(message, ...args);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFalsyOrEmpty, isNonEmptyArray } from '../../../base/common/arrays.js';\nimport { DebounceEmitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { MarkerSeverity } from './markers.js';\nexport const unsupportedSchemas = new Set([Schemas.inMemory, Schemas.vscodeSourceControl, Schemas.walkThrough, Schemas.walkThroughSnippet]);\nclass DoubleResourceMap {\n    constructor() {\n        this._byResource = new ResourceMap();\n        this._byOwner = new Map();\n    }\n    set(resource, owner, value) {\n        let ownerMap = this._byResource.get(resource);\n        if (!ownerMap) {\n            ownerMap = new Map();\n            this._byResource.set(resource, ownerMap);\n        }\n        ownerMap.set(owner, value);\n        let resourceMap = this._byOwner.get(owner);\n        if (!resourceMap) {\n            resourceMap = new ResourceMap();\n            this._byOwner.set(owner, resourceMap);\n        }\n        resourceMap.set(resource, value);\n    }\n    get(resource, owner) {\n        const ownerMap = this._byResource.get(resource);\n        return ownerMap === null || ownerMap === void 0 ? void 0 : ownerMap.get(owner);\n    }\n    delete(resource, owner) {\n        let removedA = false;\n        let removedB = false;\n        const ownerMap = this._byResource.get(resource);\n        if (ownerMap) {\n            removedA = ownerMap.delete(owner);\n        }\n        const resourceMap = this._byOwner.get(owner);\n        if (resourceMap) {\n            removedB = resourceMap.delete(resource);\n        }\n        if (removedA !== removedB) {\n            throw new Error('illegal state');\n        }\n        return removedA && removedB;\n    }\n    values(key) {\n        var _a, _b, _c, _d;\n        if (typeof key === 'string') {\n            return (_b = (_a = this._byOwner.get(key)) === null || _a === void 0 ? void 0 : _a.values()) !== null && _b !== void 0 ? _b : Iterable.empty();\n        }\n        if (URI.isUri(key)) {\n            return (_d = (_c = this._byResource.get(key)) === null || _c === void 0 ? void 0 : _c.values()) !== null && _d !== void 0 ? _d : Iterable.empty();\n        }\n        return Iterable.map(Iterable.concat(...this._byOwner.values()), map => map[1]);\n    }\n}\nclass MarkerStats {\n    constructor(service) {\n        this.errors = 0;\n        this.infos = 0;\n        this.warnings = 0;\n        this.unknowns = 0;\n        this._data = new ResourceMap();\n        this._service = service;\n        this._subscription = service.onMarkerChanged(this._update, this);\n    }\n    dispose() {\n        this._subscription.dispose();\n    }\n    _update(resources) {\n        for (const resource of resources) {\n            const oldStats = this._data.get(resource);\n            if (oldStats) {\n                this._substract(oldStats);\n            }\n            const newStats = this._resourceStats(resource);\n            this._add(newStats);\n            this._data.set(resource, newStats);\n        }\n    }\n    _resourceStats(resource) {\n        const result = { errors: 0, warnings: 0, infos: 0, unknowns: 0 };\n        // TODO this is a hack\n        if (unsupportedSchemas.has(resource.scheme)) {\n            return result;\n        }\n        for (const { severity } of this._service.read({ resource })) {\n            if (severity === MarkerSeverity.Error) {\n                result.errors += 1;\n            }\n            else if (severity === MarkerSeverity.Warning) {\n                result.warnings += 1;\n            }\n            else if (severity === MarkerSeverity.Info) {\n                result.infos += 1;\n            }\n            else {\n                result.unknowns += 1;\n            }\n        }\n        return result;\n    }\n    _substract(op) {\n        this.errors -= op.errors;\n        this.warnings -= op.warnings;\n        this.infos -= op.infos;\n        this.unknowns -= op.unknowns;\n    }\n    _add(op) {\n        this.errors += op.errors;\n        this.warnings += op.warnings;\n        this.infos += op.infos;\n        this.unknowns += op.unknowns;\n    }\n}\nexport class MarkerService {\n    constructor() {\n        this._onMarkerChanged = new DebounceEmitter({\n            delay: 0,\n            merge: MarkerService._merge\n        });\n        this.onMarkerChanged = this._onMarkerChanged.event;\n        this._data = new DoubleResourceMap();\n        this._stats = new MarkerStats(this);\n    }\n    dispose() {\n        this._stats.dispose();\n        this._onMarkerChanged.dispose();\n    }\n    remove(owner, resources) {\n        for (const resource of resources || []) {\n            this.changeOne(owner, resource, []);\n        }\n    }\n    changeOne(owner, resource, markerData) {\n        if (isFalsyOrEmpty(markerData)) {\n            // remove marker for this (owner,resource)-tuple\n            const removed = this._data.delete(resource, owner);\n            if (removed) {\n                this._onMarkerChanged.fire([resource]);\n            }\n        }\n        else {\n            // insert marker for this (owner,resource)-tuple\n            const markers = [];\n            for (const data of markerData) {\n                const marker = MarkerService._toMarker(owner, resource, data);\n                if (marker) {\n                    markers.push(marker);\n                }\n            }\n            this._data.set(resource, owner, markers);\n            this._onMarkerChanged.fire([resource]);\n        }\n    }\n    static _toMarker(owner, resource, data) {\n        let { code, severity, message, source, startLineNumber, startColumn, endLineNumber, endColumn, relatedInformation, tags, } = data;\n        if (!message) {\n            return undefined;\n        }\n        // santize data\n        startLineNumber = startLineNumber > 0 ? startLineNumber : 1;\n        startColumn = startColumn > 0 ? startColumn : 1;\n        endLineNumber = endLineNumber >= startLineNumber ? endLineNumber : startLineNumber;\n        endColumn = endColumn > 0 ? endColumn : startColumn;\n        return {\n            resource,\n            owner,\n            code,\n            severity,\n            message,\n            source,\n            startLineNumber,\n            startColumn,\n            endLineNumber,\n            endColumn,\n            relatedInformation,\n            tags,\n        };\n    }\n    changeAll(owner, data) {\n        const changes = [];\n        // remove old marker\n        const existing = this._data.values(owner);\n        if (existing) {\n            for (const data of existing) {\n                const first = Iterable.first(data);\n                if (first) {\n                    changes.push(first.resource);\n                    this._data.delete(first.resource, owner);\n                }\n            }\n        }\n        // add new markers\n        if (isNonEmptyArray(data)) {\n            // group by resource\n            const groups = new ResourceMap();\n            for (const { resource, marker: markerData } of data) {\n                const marker = MarkerService._toMarker(owner, resource, markerData);\n                if (!marker) {\n                    // filter bad markers\n                    continue;\n                }\n                const array = groups.get(resource);\n                if (!array) {\n                    groups.set(resource, [marker]);\n                    changes.push(resource);\n                }\n                else {\n                    array.push(marker);\n                }\n            }\n            // insert all\n            for (const [resource, value] of groups) {\n                this._data.set(resource, owner, value);\n            }\n        }\n        if (changes.length > 0) {\n            this._onMarkerChanged.fire(changes);\n        }\n    }\n    read(filter = Object.create(null)) {\n        let { owner, resource, severities, take } = filter;\n        if (!take || take < 0) {\n            take = -1;\n        }\n        if (owner && resource) {\n            // exactly one owner AND resource\n            const data = this._data.get(resource, owner);\n            if (!data) {\n                return [];\n            }\n            else {\n                const result = [];\n                for (const marker of data) {\n                    if (MarkerService._accept(marker, severities)) {\n                        const newLen = result.push(marker);\n                        if (take > 0 && newLen === take) {\n                            break;\n                        }\n                    }\n                }\n                return result;\n            }\n        }\n        else if (!owner && !resource) {\n            // all\n            const result = [];\n            for (const markers of this._data.values()) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n        else {\n            // of one resource OR owner\n            const iterable = this._data.values(resource !== null && resource !== void 0 ? resource : owner);\n            const result = [];\n            for (const markers of iterable) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n    }\n    static _accept(marker, severities) {\n        return severities === undefined || (severities & marker.severity) === marker.severity;\n    }\n    // --- event debounce logic\n    static _merge(all) {\n        const set = new ResourceMap();\n        for (const array of all) {\n            for (const item of array) {\n                set.set(item, true);\n            }\n        }\n        return Array.from(set.keys());\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport Severity from '../../../base/common/severity.js';\nimport { localize } from '../../../nls.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var MarkerSeverity;\n(function (MarkerSeverity) {\n    MarkerSeverity[MarkerSeverity[\"Hint\"] = 1] = \"Hint\";\n    MarkerSeverity[MarkerSeverity[\"Info\"] = 2] = \"Info\";\n    MarkerSeverity[MarkerSeverity[\"Warning\"] = 4] = \"Warning\";\n    MarkerSeverity[MarkerSeverity[\"Error\"] = 8] = \"Error\";\n})(MarkerSeverity || (MarkerSeverity = {}));\n(function (MarkerSeverity) {\n    function compare(a, b) {\n        return b - a;\n    }\n    MarkerSeverity.compare = compare;\n    const _displayStrings = Object.create(null);\n    _displayStrings[MarkerSeverity.Error] = localize('sev.error', \"Error\");\n    _displayStrings[MarkerSeverity.Warning] = localize('sev.warning', \"Warning\");\n    _displayStrings[MarkerSeverity.Info] = localize('sev.info', \"Info\");\n    function toString(a) {\n        return _displayStrings[a] || '';\n    }\n    MarkerSeverity.toString = toString;\n    function fromSeverity(severity) {\n        switch (severity) {\n            case Severity.Error: return MarkerSeverity.Error;\n            case Severity.Warning: return MarkerSeverity.Warning;\n            case Severity.Info: return MarkerSeverity.Info;\n            case Severity.Ignore: return MarkerSeverity.Hint;\n        }\n    }\n    MarkerSeverity.fromSeverity = fromSeverity;\n    function toSeverity(severity) {\n        switch (severity) {\n            case MarkerSeverity.Error: return Severity.Error;\n            case MarkerSeverity.Warning: return Severity.Warning;\n            case MarkerSeverity.Info: return Severity.Info;\n            case MarkerSeverity.Hint: return Severity.Ignore;\n        }\n    }\n    MarkerSeverity.toSeverity = toSeverity;\n})(MarkerSeverity || (MarkerSeverity = {}));\nexport var IMarkerData;\n(function (IMarkerData) {\n    const emptyString = '';\n    function makeKey(markerData) {\n        return makeKeyOptionalMessage(markerData, true);\n    }\n    IMarkerData.makeKey = makeKey;\n    function makeKeyOptionalMessage(markerData, useMessage) {\n        const result = [emptyString];\n        if (markerData.source) {\n            result.push(markerData.source.replace('', '\\\\'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.code) {\n            if (typeof markerData.code === 'string') {\n                result.push(markerData.code.replace('', '\\\\'));\n            }\n            else {\n                result.push(markerData.code.value.replace('', '\\\\'));\n            }\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.severity !== undefined && markerData.severity !== null) {\n            result.push(MarkerSeverity.toString(markerData.severity));\n        }\n        else {\n            result.push(emptyString);\n        }\n        // Modifed to not include the message as part of the marker key to work around\n        // https://github.com/microsoft/vscode/issues/77475\n        if (markerData.message && useMessage) {\n            result.push(markerData.message.replace('', '\\\\'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startLineNumber !== undefined && markerData.startLineNumber !== null) {\n            result.push(markerData.startLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startColumn !== undefined && markerData.startColumn !== null) {\n            result.push(markerData.startColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endLineNumber !== undefined && markerData.endLineNumber !== null) {\n            result.push(markerData.endLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endColumn !== undefined && markerData.endColumn !== null) {\n            result.push(markerData.endColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        result.push(emptyString);\n        return result.join('');\n    }\n    IMarkerData.makeKeyOptionalMessage = makeKeyOptionalMessage;\n})(IMarkerData || (IMarkerData = {}));\nexport const IMarkerService = createDecorator('markerService');\n","import BaseSeverity from '../../../base/common/severity.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var Severity = BaseSeverity;\nexport const INotificationService = createDecorator('notificationService');\nexport class NoOpNotification {\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { $, append, EventHelper } from '../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../base/browser/event.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { EventType as TouchEventType, Gesture } from '../../../base/browser/touch.js';\nimport { Event } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { IOpenerService } from '../common/opener.js';\nimport './link.css';\nlet Link = class Link extends Disposable {\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(enabled) {\n        if (enabled) {\n            this.el.setAttribute('aria-disabled', 'false');\n            this.el.tabIndex = 0;\n            this.el.style.pointerEvents = 'auto';\n            this.el.style.opacity = '1';\n            this.el.style.cursor = 'pointer';\n            this._enabled = false;\n        }\n        else {\n            this.el.setAttribute('aria-disabled', 'true');\n            this.el.tabIndex = -1;\n            this.el.style.pointerEvents = 'none';\n            this.el.style.opacity = '0.4';\n            this.el.style.cursor = 'default';\n            this._enabled = true;\n        }\n        this._enabled = enabled;\n    }\n    constructor(container, _link, options = {}, openerService) {\n        var _a;\n        super();\n        this._link = _link;\n        this._enabled = true;\n        this.el = append(container, $('a.monaco-link', {\n            tabIndex: (_a = _link.tabIndex) !== null && _a !== void 0 ? _a : 0,\n            href: _link.href,\n            title: _link.title\n        }, _link.label));\n        this.el.setAttribute('role', 'button');\n        const onClickEmitter = this._register(new DomEmitter(this.el, 'click'));\n        const onKeyPress = this._register(new DomEmitter(this.el, 'keypress'));\n        const onEnterPress = Event.chain(onKeyPress.event)\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => e.keyCode === 3 /* KeyCode.Enter */)\n            .event;\n        const onTap = this._register(new DomEmitter(this.el, TouchEventType.Tap)).event;\n        this._register(Gesture.addTarget(this.el));\n        const onOpen = Event.any(onClickEmitter.event, onEnterPress, onTap);\n        this._register(onOpen(e => {\n            if (!this.enabled) {\n                return;\n            }\n            EventHelper.stop(e, true);\n            if (options === null || options === void 0 ? void 0 : options.opener) {\n                options.opener(this._link.href);\n            }\n            else {\n                openerService.open(this._link.href, { allowCommands: true });\n            }\n        }));\n        this.enabled = true;\n    }\n};\nLink = __decorate([\n    __param(3, IOpenerService)\n], Link);\nexport { Link };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { equalsIgnoreCase, startsWithIgnoreCase } from '../../../base/common/strings.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IOpenerService = createDecorator('openerService');\nexport function matchesScheme(target, scheme) {\n    if (URI.isUri(target)) {\n        return equalsIgnoreCase(target.scheme, scheme);\n    }\n    else {\n        return startsWithIgnoreCase(target, scheme + ':');\n    }\n}\nexport function matchesSomeScheme(target, ...schemes) {\n    return schemes.some(scheme => matchesScheme(target, scheme));\n}\n/**\n * file:///some/file.js#73\n * file:///some/file.js#L73\n * file:///some/file.js#73,84\n * file:///some/file.js#L73,84\n * file:///some/file.js#73-83\n * file:///some/file.js#L73-L83\n * file:///some/file.js#73,84-83,52\n * file:///some/file.js#L73,84-L83,52\n */\nexport function extractSelection(uri) {\n    let selection = undefined;\n    const match = /^L?(\\d+)(?:,(\\d+))?(-L?(\\d+)(?:,(\\d+))?)?/.exec(uri.fragment);\n    if (match) {\n        selection = {\n            startLineNumber: parseInt(match[1]),\n            startColumn: match[2] ? parseInt(match[2]) : 1,\n            endLineNumber: match[4] ? parseInt(match[4]) : undefined,\n            endColumn: match[4] ? (match[5] ? parseInt(match[5]) : 1) : undefined\n        };\n        uri = uri.with({ fragment: '' });\n    }\n    return { selection, uri };\n}\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IProgressService = createDecorator('progressService');\nexport const emptyProgressRunner = Object.freeze({\n    total() { },\n    worked() { },\n    done() { }\n});\nexport class Progress {\n    constructor(callback, opts) {\n        this.callback = callback;\n        this.report = (opts === null || opts === void 0 ? void 0 : opts.async)\n            ? this._reportAsync.bind(this)\n            : this._reportSync.bind(this);\n    }\n    _reportSync(item) {\n        this._value = item;\n        this.callback(this._value);\n    }\n    _reportAsync(item) {\n        Promise.resolve(this._lastTask).finally(() => {\n            this._value = item;\n            const r = this.callback(this._value);\n            this._lastTask = Promise.resolve(r).finally(() => this._lastTask = undefined);\n        });\n    }\n}\nProgress.None = Object.freeze({ report() { } });\nexport const IEditorProgressService = createDecorator('editorProgressService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { timeout } from '../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { Disposable, DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\nimport { isFunction } from '../../../base/common/types.js';\nexport var TriggerAction;\n(function (TriggerAction) {\n    /**\n     * Do nothing after the button was clicked.\n     */\n    TriggerAction[TriggerAction[\"NO_ACTION\"] = 0] = \"NO_ACTION\";\n    /**\n     * Close the picker.\n     */\n    TriggerAction[TriggerAction[\"CLOSE_PICKER\"] = 1] = \"CLOSE_PICKER\";\n    /**\n     * Update the results of the picker.\n     */\n    TriggerAction[TriggerAction[\"REFRESH_PICKER\"] = 2] = \"REFRESH_PICKER\";\n    /**\n     * Remove the item from the picker.\n     */\n    TriggerAction[TriggerAction[\"REMOVE_ITEM\"] = 3] = \"REMOVE_ITEM\";\n})(TriggerAction || (TriggerAction = {}));\nfunction isPicksWithActive(obj) {\n    const candidate = obj;\n    return Array.isArray(candidate.items);\n}\nfunction isFastAndSlowPicks(obj) {\n    const candidate = obj;\n    return !!candidate.picks && candidate.additionalPicks instanceof Promise;\n}\nexport class PickerQuickAccessProvider extends Disposable {\n    constructor(prefix, options) {\n        super();\n        this.prefix = prefix;\n        this.options = options;\n    }\n    provide(picker, token, runOptions) {\n        var _a;\n        const disposables = new DisposableStore();\n        // Apply options if any\n        picker.canAcceptInBackground = !!((_a = this.options) === null || _a === void 0 ? void 0 : _a.canAcceptInBackground);\n        // Disable filtering & sorting, we control the results\n        picker.matchOnLabel = picker.matchOnDescription = picker.matchOnDetail = picker.sortByLabel = false;\n        // Set initial picks and update on type\n        let picksCts = undefined;\n        const picksDisposable = disposables.add(new MutableDisposable());\n        const updatePickerItems = () => __awaiter(this, void 0, void 0, function* () {\n            const picksDisposables = picksDisposable.value = new DisposableStore();\n            // Cancel any previous ask for picks and busy\n            picksCts === null || picksCts === void 0 ? void 0 : picksCts.dispose(true);\n            picker.busy = false;\n            // Create new cancellation source for this run\n            picksCts = new CancellationTokenSource(token);\n            // Collect picks and support both long running and short or combined\n            const picksToken = picksCts.token;\n            const picksFilter = picker.value.substr(this.prefix.length).trim();\n            const providedPicks = this._getPicks(picksFilter, picksDisposables, picksToken, runOptions);\n            const applyPicks = (picks, skipEmpty) => {\n                var _a;\n                let items;\n                let activeItem = undefined;\n                if (isPicksWithActive(picks)) {\n                    items = picks.items;\n                    activeItem = picks.active;\n                }\n                else {\n                    items = picks;\n                }\n                if (items.length === 0) {\n                    if (skipEmpty) {\n                        return false;\n                    }\n                    // We show the no results pick if we have no input to prevent completely empty pickers #172613\n                    if ((picksFilter.length > 0 || picker.hideInput) && ((_a = this.options) === null || _a === void 0 ? void 0 : _a.noResultsPick)) {\n                        if (isFunction(this.options.noResultsPick)) {\n                            items = [this.options.noResultsPick(picksFilter)];\n                        }\n                        else {\n                            items = [this.options.noResultsPick];\n                        }\n                    }\n                }\n                picker.items = items;\n                if (activeItem) {\n                    picker.activeItems = [activeItem];\n                }\n                return true;\n            };\n            const applyFastAndSlowPicks = (fastAndSlowPicks) => __awaiter(this, void 0, void 0, function* () {\n                let fastPicksApplied = false;\n                let slowPicksApplied = false;\n                yield Promise.all([\n                    // Fast Picks: if `mergeDelay` is configured, in order to reduce\n                    // amount of flicker, we race against the slow picks over some delay\n                    // and then set the fast picks.\n                    // If the slow picks are faster, we reduce the flicker by only\n                    // setting the items once.\n                    (() => __awaiter(this, void 0, void 0, function* () {\n                        if (typeof fastAndSlowPicks.mergeDelay === 'number') {\n                            yield timeout(fastAndSlowPicks.mergeDelay);\n                            if (picksToken.isCancellationRequested) {\n                                return;\n                            }\n                        }\n                        if (!slowPicksApplied) {\n                            fastPicksApplied = applyPicks(fastAndSlowPicks.picks, true /* skip over empty to reduce flicker */);\n                        }\n                    }))(),\n                    // Slow Picks: we await the slow picks and then set them at\n                    // once together with the fast picks, but only if we actually\n                    // have additional results.\n                    (() => __awaiter(this, void 0, void 0, function* () {\n                        picker.busy = true;\n                        try {\n                            const awaitedAdditionalPicks = yield fastAndSlowPicks.additionalPicks;\n                            if (picksToken.isCancellationRequested) {\n                                return;\n                            }\n                            let picks;\n                            let activePick = undefined;\n                            if (isPicksWithActive(fastAndSlowPicks.picks)) {\n                                picks = fastAndSlowPicks.picks.items;\n                                activePick = fastAndSlowPicks.picks.active;\n                            }\n                            else {\n                                picks = fastAndSlowPicks.picks;\n                            }\n                            let additionalPicks;\n                            let additionalActivePick = undefined;\n                            if (isPicksWithActive(awaitedAdditionalPicks)) {\n                                additionalPicks = awaitedAdditionalPicks.items;\n                                additionalActivePick = awaitedAdditionalPicks.active;\n                            }\n                            else {\n                                additionalPicks = awaitedAdditionalPicks;\n                            }\n                            if (additionalPicks.length > 0 || !fastPicksApplied) {\n                                // If we do not have any activePick or additionalActivePick\n                                // we try to preserve the currently active pick from the\n                                // fast results. This fixes an issue where the user might\n                                // have made a pick active before the additional results\n                                // kick in.\n                                // See https://github.com/microsoft/vscode/issues/102480\n                                let fallbackActivePick = undefined;\n                                if (!activePick && !additionalActivePick) {\n                                    const fallbackActivePickCandidate = picker.activeItems[0];\n                                    if (fallbackActivePickCandidate && picks.indexOf(fallbackActivePickCandidate) !== -1) {\n                                        fallbackActivePick = fallbackActivePickCandidate;\n                                    }\n                                }\n                                applyPicks({\n                                    items: [...picks, ...additionalPicks],\n                                    active: activePick || additionalActivePick || fallbackActivePick\n                                });\n                            }\n                        }\n                        finally {\n                            if (!picksToken.isCancellationRequested) {\n                                picker.busy = false;\n                            }\n                            slowPicksApplied = true;\n                        }\n                    }))()\n                ]);\n            });\n            // No Picks\n            if (providedPicks === null) {\n                // Ignore\n            }\n            // Fast and Slow Picks\n            else if (isFastAndSlowPicks(providedPicks)) {\n                yield applyFastAndSlowPicks(providedPicks);\n            }\n            // Fast Picks\n            else if (!(providedPicks instanceof Promise)) {\n                applyPicks(providedPicks);\n            }\n            // Slow Picks\n            else {\n                picker.busy = true;\n                try {\n                    const awaitedPicks = yield providedPicks;\n                    if (picksToken.isCancellationRequested) {\n                        return;\n                    }\n                    if (isFastAndSlowPicks(awaitedPicks)) {\n                        yield applyFastAndSlowPicks(awaitedPicks);\n                    }\n                    else {\n                        applyPicks(awaitedPicks);\n                    }\n                }\n                finally {\n                    if (!picksToken.isCancellationRequested) {\n                        picker.busy = false;\n                    }\n                }\n            }\n        });\n        disposables.add(picker.onDidChangeValue(() => updatePickerItems()));\n        updatePickerItems();\n        // Accept the pick on accept and hide picker\n        disposables.add(picker.onDidAccept(event => {\n            const [item] = picker.selectedItems;\n            if (typeof (item === null || item === void 0 ? void 0 : item.accept) === 'function') {\n                if (!event.inBackground) {\n                    picker.hide(); // hide picker unless we accept in background\n                }\n                item.accept(picker.keyMods, event);\n            }\n        }));\n        // Trigger the pick with button index if button triggered\n        disposables.add(picker.onDidTriggerItemButton(({ button, item }) => __awaiter(this, void 0, void 0, function* () {\n            var _b, _c;\n            if (typeof item.trigger === 'function') {\n                const buttonIndex = (_c = (_b = item.buttons) === null || _b === void 0 ? void 0 : _b.indexOf(button)) !== null && _c !== void 0 ? _c : -1;\n                if (buttonIndex >= 0) {\n                    const result = item.trigger(buttonIndex, picker.keyMods);\n                    const action = (typeof result === 'number') ? result : yield result;\n                    if (token.isCancellationRequested) {\n                        return;\n                    }\n                    switch (action) {\n                        case TriggerAction.NO_ACTION:\n                            break;\n                        case TriggerAction.CLOSE_PICKER:\n                            picker.hide();\n                            break;\n                        case TriggerAction.REFRESH_PICKER:\n                            updatePickerItems();\n                            break;\n                        case TriggerAction.REMOVE_ITEM: {\n                            const index = picker.items.indexOf(item);\n                            if (index !== -1) {\n                                const items = picker.items.slice();\n                                const removed = items.splice(index, 1);\n                                const activeItems = picker.activeItems.filter(activeItem => activeItem !== removed[0]);\n                                const keepScrollPositionBefore = picker.keepScrollPosition;\n                                picker.keepScrollPosition = true;\n                                picker.items = items;\n                                if (activeItems) {\n                                    picker.activeItems = activeItems;\n                                }\n                                picker.keepScrollPosition = keepScrollPositionBefore;\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n        })));\n        return disposables;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { toErrorMessage } from '../../../base/common/errorMessage.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { matchesContiguousSubString, matchesPrefix, matchesWords, or } from '../../../base/common/filters.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { LRUCache } from '../../../base/common/map.js';\nimport { withNullAsUndefined } from '../../../base/common/types.js';\nimport { localize } from '../../../nls.js';\nimport { ICommandService } from '../../commands/common/commands.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IDialogService } from '../../dialogs/common/dialogs.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { PickerQuickAccessProvider } from './pickerQuickAccess.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\nlet AbstractCommandsQuickAccessProvider = class AbstractCommandsQuickAccessProvider extends PickerQuickAccessProvider {\n    constructor(options, instantiationService, keybindingService, commandService, telemetryService, dialogService) {\n        super(AbstractCommandsQuickAccessProvider.PREFIX, options);\n        this.instantiationService = instantiationService;\n        this.keybindingService = keybindingService;\n        this.commandService = commandService;\n        this.telemetryService = telemetryService;\n        this.dialogService = dialogService;\n        this.commandsHistory = this._register(this.instantiationService.createInstance(CommandsHistory));\n        this.options = options;\n    }\n    _getPicks(filter, _disposables, token, runOptions) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            // Ask subclass for all command picks\n            const allCommandPicks = yield this.getCommandPicks(token);\n            if (token.isCancellationRequested) {\n                return [];\n            }\n            // Filter\n            const filteredCommandPicks = [];\n            for (const commandPick of allCommandPicks) {\n                const labelHighlights = withNullAsUndefined(AbstractCommandsQuickAccessProvider.WORD_FILTER(filter, commandPick.label));\n                const aliasHighlights = commandPick.commandAlias ? withNullAsUndefined(AbstractCommandsQuickAccessProvider.WORD_FILTER(filter, commandPick.commandAlias)) : undefined;\n                // Add if matching in label or alias\n                if (labelHighlights || aliasHighlights) {\n                    commandPick.highlights = {\n                        label: labelHighlights,\n                        detail: this.options.showAlias ? aliasHighlights : undefined\n                    };\n                    filteredCommandPicks.push(commandPick);\n                }\n                // Also add if we have a 100% command ID match\n                else if (filter === commandPick.commandId) {\n                    filteredCommandPicks.push(commandPick);\n                }\n            }\n            // Add description to commands that have duplicate labels\n            const mapLabelToCommand = new Map();\n            for (const commandPick of filteredCommandPicks) {\n                const existingCommandForLabel = mapLabelToCommand.get(commandPick.label);\n                if (existingCommandForLabel) {\n                    commandPick.description = commandPick.commandId;\n                    existingCommandForLabel.description = existingCommandForLabel.commandId;\n                }\n                else {\n                    mapLabelToCommand.set(commandPick.label, commandPick);\n                }\n            }\n            // Sort by MRU order and fallback to name otherwise\n            filteredCommandPicks.sort((commandPickA, commandPickB) => {\n                const commandACounter = this.commandsHistory.peek(commandPickA.commandId);\n                const commandBCounter = this.commandsHistory.peek(commandPickB.commandId);\n                if (commandACounter && commandBCounter) {\n                    return commandACounter > commandBCounter ? -1 : 1; // use more recently used command before older\n                }\n                if (commandACounter) {\n                    return -1; // first command was used, so it wins over the non used one\n                }\n                if (commandBCounter) {\n                    return 1; // other command was used so it wins over the command\n                }\n                if (this.options.suggestedCommandIds) {\n                    const commandASuggestion = this.options.suggestedCommandIds.has(commandPickA.commandId);\n                    const commandBSuggestion = this.options.suggestedCommandIds.has(commandPickB.commandId);\n                    if (commandASuggestion && commandBSuggestion) {\n                        return 0; // honor the order of the array\n                    }\n                    if (commandASuggestion) {\n                        return -1; // first command was suggested, so it wins over the non suggested one\n                    }\n                    if (commandBSuggestion) {\n                        return 1; // other command was suggested so it wins over the command\n                    }\n                }\n                // both commands were never used, so we sort by name\n                return commandPickA.label.localeCompare(commandPickB.label);\n            });\n            const commandPicks = [];\n            let addOtherSeparator = false;\n            let addCommonlyUsedSeparator = !!this.options.suggestedCommandIds;\n            for (let i = 0; i < filteredCommandPicks.length; i++) {\n                const commandPick = filteredCommandPicks[i];\n                // Separator: recently used\n                if (i === 0 && this.commandsHistory.peek(commandPick.commandId)) {\n                    commandPicks.push({ type: 'separator', label: localize('recentlyUsed', \"recently used\") });\n                    addOtherSeparator = true;\n                }\n                // Separator: commonly used\n                if (addCommonlyUsedSeparator && !this.commandsHistory.peek(commandPick.commandId) && ((_a = this.options.suggestedCommandIds) === null || _a === void 0 ? void 0 : _a.has(commandPick.commandId))) {\n                    commandPicks.push({ type: 'separator', label: localize('commonlyUsed', \"commonly used\") });\n                    addOtherSeparator = true;\n                    addCommonlyUsedSeparator = false;\n                }\n                // Separator: other commands\n                if (addOtherSeparator && !this.commandsHistory.peek(commandPick.commandId) && !((_b = this.options.suggestedCommandIds) === null || _b === void 0 ? void 0 : _b.has(commandPick.commandId))) {\n                    commandPicks.push({ type: 'separator', label: localize('morecCommands', \"other commands\") });\n                    addOtherSeparator = false;\n                }\n                // Command\n                commandPicks.push(this.toCommandPick(commandPick, runOptions));\n            }\n            if (!this.hasAdditionalCommandPicks(filter, token)) {\n                return commandPicks;\n            }\n            return {\n                picks: commandPicks,\n                additionalPicks: (() => __awaiter(this, void 0, void 0, function* () {\n                    const additionalCommandPicks = yield this.getAdditionalCommandPicks(allCommandPicks, filteredCommandPicks, filter, token);\n                    if (token.isCancellationRequested) {\n                        return [];\n                    }\n                    return additionalCommandPicks.map(commandPick => this.toCommandPick(commandPick, runOptions));\n                }))()\n            };\n        });\n    }\n    toCommandPick(commandPick, runOptions) {\n        if (commandPick.type === 'separator') {\n            return commandPick;\n        }\n        const keybinding = this.keybindingService.lookupKeybinding(commandPick.commandId);\n        const ariaLabel = keybinding ?\n            localize('commandPickAriaLabelWithKeybinding', \"{0}, {1}\", commandPick.label, keybinding.getAriaLabel()) :\n            commandPick.label;\n        return Object.assign(Object.assign({}, commandPick), { ariaLabel, detail: this.options.showAlias && commandPick.commandAlias !== commandPick.label ? commandPick.commandAlias : undefined, keybinding, accept: () => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                // Add to history\n                this.commandsHistory.push(commandPick.commandId);\n                // Telementry\n                this.telemetryService.publicLog2('workbenchActionExecuted', {\n                    id: commandPick.commandId,\n                    from: (_a = runOptions === null || runOptions === void 0 ? void 0 : runOptions.from) !== null && _a !== void 0 ? _a : 'quick open'\n                });\n                // Run\n                try {\n                    ((_b = commandPick.args) === null || _b === void 0 ? void 0 : _b.length)\n                        ? yield this.commandService.executeCommand(commandPick.commandId, ...commandPick.args)\n                        : yield this.commandService.executeCommand(commandPick.commandId);\n                }\n                catch (error) {\n                    if (!isCancellationError(error)) {\n                        this.dialogService.error(localize('canNotRun', \"Command '{0}' resulted in an error\", commandPick.label), toErrorMessage(error));\n                    }\n                }\n            }) });\n    }\n};\nAbstractCommandsQuickAccessProvider.PREFIX = '>';\nAbstractCommandsQuickAccessProvider.WORD_FILTER = or(matchesPrefix, matchesWords, matchesContiguousSubString);\nAbstractCommandsQuickAccessProvider = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IKeybindingService),\n    __param(3, ICommandService),\n    __param(4, ITelemetryService),\n    __param(5, IDialogService)\n], AbstractCommandsQuickAccessProvider);\nexport { AbstractCommandsQuickAccessProvider };\nlet CommandsHistory = class CommandsHistory extends Disposable {\n    constructor(storageService, configurationService) {\n        super();\n        this.storageService = storageService;\n        this.configurationService = configurationService;\n        this.configuredCommandsHistoryLength = 0;\n        this.updateConfiguration();\n        this.load();\n        this.registerListeners();\n    }\n    registerListeners() {\n        this._register(this.configurationService.onDidChangeConfiguration(e => this.updateConfiguration(e)));\n    }\n    updateConfiguration(e) {\n        if (e && !e.affectsConfiguration('workbench.commandPalette.history')) {\n            return;\n        }\n        this.configuredCommandsHistoryLength = CommandsHistory.getConfiguredCommandHistoryLength(this.configurationService);\n        if (CommandsHistory.cache && CommandsHistory.cache.limit !== this.configuredCommandsHistoryLength) {\n            CommandsHistory.cache.limit = this.configuredCommandsHistoryLength;\n            CommandsHistory.saveState(this.storageService);\n        }\n    }\n    load() {\n        const raw = this.storageService.get(CommandsHistory.PREF_KEY_CACHE, 0 /* StorageScope.PROFILE */);\n        let serializedCache;\n        if (raw) {\n            try {\n                serializedCache = JSON.parse(raw);\n            }\n            catch (error) {\n                // invalid data\n            }\n        }\n        const cache = CommandsHistory.cache = new LRUCache(this.configuredCommandsHistoryLength, 1);\n        if (serializedCache) {\n            let entries;\n            if (serializedCache.usesLRU) {\n                entries = serializedCache.entries;\n            }\n            else {\n                entries = serializedCache.entries.sort((a, b) => a.value - b.value);\n            }\n            entries.forEach(entry => cache.set(entry.key, entry.value));\n        }\n        CommandsHistory.counter = this.storageService.getNumber(CommandsHistory.PREF_KEY_COUNTER, 0 /* StorageScope.PROFILE */, CommandsHistory.counter);\n    }\n    push(commandId) {\n        if (!CommandsHistory.cache) {\n            return;\n        }\n        CommandsHistory.cache.set(commandId, CommandsHistory.counter++); // set counter to command\n        CommandsHistory.saveState(this.storageService);\n    }\n    peek(commandId) {\n        var _a;\n        return (_a = CommandsHistory.cache) === null || _a === void 0 ? void 0 : _a.peek(commandId);\n    }\n    static saveState(storageService) {\n        if (!CommandsHistory.cache) {\n            return;\n        }\n        const serializedCache = { usesLRU: true, entries: [] };\n        CommandsHistory.cache.forEach((value, key) => serializedCache.entries.push({ key, value }));\n        storageService.store(CommandsHistory.PREF_KEY_CACHE, JSON.stringify(serializedCache), 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n        storageService.store(CommandsHistory.PREF_KEY_COUNTER, CommandsHistory.counter, 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n    }\n    static getConfiguredCommandHistoryLength(configurationService) {\n        var _a, _b;\n        const config = configurationService.getValue();\n        const configuredCommandHistoryLength = (_b = (_a = config.workbench) === null || _a === void 0 ? void 0 : _a.commandPalette) === null || _b === void 0 ? void 0 : _b.history;\n        if (typeof configuredCommandHistoryLength === 'number') {\n            return configuredCommandHistoryLength;\n        }\n        return CommandsHistory.DEFAULT_COMMANDS_HISTORY_LENGTH;\n    }\n};\nCommandsHistory.DEFAULT_COMMANDS_HISTORY_LENGTH = 50;\nCommandsHistory.PREF_KEY_CACHE = 'commandPalette.mru.cache';\nCommandsHistory.PREF_KEY_COUNTER = 'commandPalette.mru.counter';\nCommandsHistory.counter = 1;\nCommandsHistory = __decorate([\n    __param(0, IStorageService),\n    __param(1, IConfigurationService)\n], CommandsHistory);\nexport { CommandsHistory };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { localize } from '../../../nls.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { Extensions } from '../common/quickAccess.js';\nimport { IQuickInputService } from '../common/quickInput.js';\nlet HelpQuickAccessProvider = class HelpQuickAccessProvider {\n    constructor(quickInputService, keybindingService) {\n        this.quickInputService = quickInputService;\n        this.keybindingService = keybindingService;\n        this.registry = Registry.as(Extensions.Quickaccess);\n    }\n    provide(picker) {\n        const disposables = new DisposableStore();\n        // Open a picker with the selected value if picked\n        disposables.add(picker.onDidAccept(() => {\n            const [item] = picker.selectedItems;\n            if (item) {\n                this.quickInputService.quickAccess.show(item.prefix, { preserveValue: true });\n            }\n        }));\n        // Also open a picker when we detect the user typed the exact\n        // name of a provider (e.g. `?term` for terminals)\n        disposables.add(picker.onDidChangeValue(value => {\n            const providerDescriptor = this.registry.getQuickAccessProvider(value.substr(HelpQuickAccessProvider.PREFIX.length));\n            if (providerDescriptor && providerDescriptor.prefix && providerDescriptor.prefix !== HelpQuickAccessProvider.PREFIX) {\n                this.quickInputService.quickAccess.show(providerDescriptor.prefix, { preserveValue: true });\n            }\n        }));\n        // Fill in all providers\n        picker.items = this.getQuickAccessProviders().filter(p => p.prefix !== HelpQuickAccessProvider.PREFIX);\n        return disposables;\n    }\n    getQuickAccessProviders() {\n        const providers = this.registry\n            .getQuickAccessProviders()\n            .sort((providerA, providerB) => providerA.prefix.localeCompare(providerB.prefix))\n            .flatMap(provider => this.createPicks(provider));\n        return providers;\n    }\n    createPicks(provider) {\n        return provider.helpEntries.map(helpEntry => {\n            const prefix = helpEntry.prefix || provider.prefix;\n            const label = prefix || '\\u2026' /* ... */;\n            return {\n                prefix,\n                label,\n                keybinding: helpEntry.commandId ? this.keybindingService.lookupKeybinding(helpEntry.commandId) : undefined,\n                ariaLabel: localize('helpPickAriaLabel', \"{0}, {1}\", label, helpEntry.description),\n                description: helpEntry.description\n            };\n        });\n    }\n};\nHelpQuickAccessProvider.PREFIX = '?';\nHelpQuickAccessProvider = __decorate([\n    __param(0, IQuickInputService),\n    __param(1, IKeybindingService)\n], HelpQuickAccessProvider);\nexport { HelpQuickAccessProvider };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { DeferredPromise } from '../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { once } from '../../../base/common/functional.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { DefaultQuickAccessFilterValue, Extensions } from '../common/quickAccess.js';\nimport { IQuickInputService, ItemActivation } from '../common/quickInput.js';\nimport { Registry } from '../../registry/common/platform.js';\nlet QuickAccessController = class QuickAccessController extends Disposable {\n    constructor(quickInputService, instantiationService) {\n        super();\n        this.quickInputService = quickInputService;\n        this.instantiationService = instantiationService;\n        this.registry = Registry.as(Extensions.Quickaccess);\n        this.mapProviderToDescriptor = new Map();\n        this.lastAcceptedPickerValues = new Map();\n        this.visibleQuickAccess = undefined;\n    }\n    show(value = '', options) {\n        this.doShowOrPick(value, false, options);\n    }\n    doShowOrPick(value, pick, options) {\n        var _a;\n        // Find provider for the value to show\n        const [provider, descriptor] = this.getOrInstantiateProvider(value);\n        // Return early if quick access is already showing on that same prefix\n        const visibleQuickAccess = this.visibleQuickAccess;\n        const visibleDescriptor = visibleQuickAccess === null || visibleQuickAccess === void 0 ? void 0 : visibleQuickAccess.descriptor;\n        if (visibleQuickAccess && descriptor && visibleDescriptor === descriptor) {\n            // Apply value only if it is more specific than the prefix\n            // from the provider and we are not instructed to preserve\n            if (value !== descriptor.prefix && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n                visibleQuickAccess.picker.value = value;\n            }\n            // Always adjust selection\n            this.adjustValueSelection(visibleQuickAccess.picker, descriptor, options);\n            return;\n        }\n        // Rewrite the filter value based on certain rules unless disabled\n        if (descriptor && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n            let newValue = undefined;\n            // If we have a visible provider with a value, take it's filter value but\n            // rewrite to new provider prefix in case they differ\n            if (visibleQuickAccess && visibleDescriptor && visibleDescriptor !== descriptor) {\n                const newValueCandidateWithoutPrefix = visibleQuickAccess.value.substr(visibleDescriptor.prefix.length);\n                if (newValueCandidateWithoutPrefix) {\n                    newValue = `${descriptor.prefix}${newValueCandidateWithoutPrefix}`;\n                }\n            }\n            // Otherwise, take a default value as instructed\n            if (!newValue) {\n                const defaultFilterValue = provider === null || provider === void 0 ? void 0 : provider.defaultFilterValue;\n                if (defaultFilterValue === DefaultQuickAccessFilterValue.LAST) {\n                    newValue = this.lastAcceptedPickerValues.get(descriptor);\n                }\n                else if (typeof defaultFilterValue === 'string') {\n                    newValue = `${descriptor.prefix}${defaultFilterValue}`;\n                }\n            }\n            if (typeof newValue === 'string') {\n                value = newValue;\n            }\n        }\n        // Create a picker for the provider to use with the initial value\n        // and adjust the filtering to exclude the prefix from filtering\n        const disposables = new DisposableStore();\n        const picker = disposables.add(this.quickInputService.createQuickPick());\n        picker.value = value;\n        this.adjustValueSelection(picker, descriptor, options);\n        picker.placeholder = descriptor === null || descriptor === void 0 ? void 0 : descriptor.placeholder;\n        picker.quickNavigate = options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration;\n        picker.hideInput = !!picker.quickNavigate && !visibleQuickAccess; // only hide input if there was no picker opened already\n        if (typeof (options === null || options === void 0 ? void 0 : options.itemActivation) === 'number' || (options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration)) {\n            picker.itemActivation = (_a = options === null || options === void 0 ? void 0 : options.itemActivation) !== null && _a !== void 0 ? _a : ItemActivation.SECOND /* quick nav is always second */;\n        }\n        picker.contextKey = descriptor === null || descriptor === void 0 ? void 0 : descriptor.contextKey;\n        picker.filterValue = (value) => value.substring(descriptor ? descriptor.prefix.length : 0);\n        // Pick mode: setup a promise that can be resolved\n        // with the selected items and prevent execution\n        let pickPromise = undefined;\n        if (pick) {\n            pickPromise = new DeferredPromise();\n            disposables.add(once(picker.onWillAccept)(e => {\n                e.veto();\n                picker.hide();\n            }));\n        }\n        // Register listeners\n        disposables.add(this.registerPickerListeners(picker, provider, descriptor, value, options === null || options === void 0 ? void 0 : options.providerOptions));\n        // Ask provider to fill the picker as needed if we have one\n        // and pass over a cancellation token that will indicate when\n        // the picker is hiding without a pick being made.\n        const cts = disposables.add(new CancellationTokenSource());\n        if (provider) {\n            disposables.add(provider.provide(picker, cts.token, options === null || options === void 0 ? void 0 : options.providerOptions));\n        }\n        // Finally, trigger disposal and cancellation when the picker\n        // hides depending on items selected or not.\n        once(picker.onDidHide)(() => {\n            if (picker.selectedItems.length === 0) {\n                cts.cancel();\n            }\n            // Start to dispose once picker hides\n            disposables.dispose();\n            // Resolve pick promise with selected items\n            pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.complete(picker.selectedItems.slice(0));\n        });\n        // Finally, show the picker. This is important because a provider\n        // may not call this and then our disposables would leak that rely\n        // on the onDidHide event.\n        picker.show();\n        // Pick mode: return with promise\n        if (pick) {\n            return pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.p;\n        }\n    }\n    adjustValueSelection(picker, descriptor, options) {\n        var _a;\n        let valueSelection;\n        // Preserve: just always put the cursor at the end\n        if (options === null || options === void 0 ? void 0 : options.preserveValue) {\n            valueSelection = [picker.value.length, picker.value.length];\n        }\n        // Otherwise: select the value up until the prefix\n        else {\n            valueSelection = [(_a = descriptor === null || descriptor === void 0 ? void 0 : descriptor.prefix.length) !== null && _a !== void 0 ? _a : 0, picker.value.length];\n        }\n        picker.valueSelection = valueSelection;\n    }\n    registerPickerListeners(picker, provider, descriptor, value, providerOptions) {\n        const disposables = new DisposableStore();\n        // Remember as last visible picker and clean up once picker get's disposed\n        const visibleQuickAccess = this.visibleQuickAccess = { picker, descriptor, value };\n        disposables.add(toDisposable(() => {\n            if (visibleQuickAccess === this.visibleQuickAccess) {\n                this.visibleQuickAccess = undefined;\n            }\n        }));\n        // Whenever the value changes, check if the provider has\n        // changed and if so - re-create the picker from the beginning\n        disposables.add(picker.onDidChangeValue(value => {\n            const [providerForValue] = this.getOrInstantiateProvider(value);\n            if (providerForValue !== provider) {\n                this.show(value, {\n                    // do not rewrite value from user typing!\n                    preserveValue: true,\n                    // persist the value of the providerOptions from the original showing\n                    providerOptions\n                });\n            }\n            else {\n                visibleQuickAccess.value = value; // remember the value in our visible one\n            }\n        }));\n        // Remember picker input for future use when accepting\n        if (descriptor) {\n            disposables.add(picker.onDidAccept(() => {\n                this.lastAcceptedPickerValues.set(descriptor, picker.value);\n            }));\n        }\n        return disposables;\n    }\n    getOrInstantiateProvider(value) {\n        const providerDescriptor = this.registry.getQuickAccessProvider(value);\n        if (!providerDescriptor) {\n            return [undefined, undefined];\n        }\n        let provider = this.mapProviderToDescriptor.get(providerDescriptor);\n        if (!provider) {\n            provider = this.instantiationService.createInstance(providerDescriptor.ctor);\n            this.mapProviderToDescriptor.set(providerDescriptor, provider);\n        }\n        return [provider, providerDescriptor];\n    }\n};\nQuickAccessController = __decorate([\n    __param(0, IQuickInputService),\n    __param(1, IInstantiationService)\n], QuickAccessController);\nexport { QuickAccessController };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { StandardMouseEvent } from '../../../base/browser/mouseEvent.js';\nimport { FindInput } from '../../../base/browser/ui/findinput/findInput.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport Severity from '../../../base/common/severity.js';\nimport './media/quickInput.css';\nconst $ = dom.$;\nexport class QuickInputBox extends Disposable {\n    constructor(parent, inputBoxStyles, toggleStyles) {\n        super();\n        this.parent = parent;\n        this.onKeyDown = (handler) => {\n            return dom.addDisposableListener(this.findInput.inputBox.inputElement, dom.EventType.KEY_DOWN, (e) => {\n                handler(new StandardKeyboardEvent(e));\n            });\n        };\n        this.onMouseDown = (handler) => {\n            return dom.addDisposableListener(this.findInput.inputBox.inputElement, dom.EventType.MOUSE_DOWN, (e) => {\n                handler(new StandardMouseEvent(e));\n            });\n        };\n        this.onDidChange = (handler) => {\n            return this.findInput.onDidChange(handler);\n        };\n        this.container = dom.append(this.parent, $('.quick-input-box'));\n        this.findInput = this._register(new FindInput(this.container, undefined, { label: '', inputBoxStyles, toggleStyles }));\n        const input = this.findInput.inputBox.inputElement;\n        input.role = 'combobox';\n        input.ariaHasPopup = 'menu';\n        input.ariaAutoComplete = 'list';\n        input.ariaExpanded = 'true';\n    }\n    get value() {\n        return this.findInput.getValue();\n    }\n    set value(value) {\n        this.findInput.setValue(value);\n    }\n    select(range = null) {\n        this.findInput.inputBox.select(range);\n    }\n    isSelectionAtEnd() {\n        return this.findInput.inputBox.isSelectionAtEnd();\n    }\n    get placeholder() {\n        return this.findInput.inputBox.inputElement.getAttribute('placeholder') || '';\n    }\n    set placeholder(placeholder) {\n        this.findInput.inputBox.setPlaceHolder(placeholder);\n    }\n    get password() {\n        return this.findInput.inputBox.inputElement.type === 'password';\n    }\n    set password(password) {\n        this.findInput.inputBox.inputElement.type = password ? 'password' : 'text';\n    }\n    set enabled(enabled) {\n        // We can't disable the input box because it is still used for\n        // navigating the list. Instead, we disable the list and the OK\n        // so that nothing can be selected.\n        // TODO: should this be what we do for all find inputs? Or maybe some _other_ API\n        // on findInput to change it to readonly?\n        this.findInput.inputBox.inputElement.toggleAttribute('readonly', !enabled);\n        // TODO: styles of the quick pick need to be moved to the CSS instead of being in line\n        // so things like this can be done in CSS\n        // this.findInput.inputBox.inputElement.classList.toggle('disabled', !enabled);\n    }\n    set toggles(toggles) {\n        this.findInput.setAdditionalToggles(toggles);\n    }\n    setAttribute(name, value) {\n        this.findInput.inputBox.inputElement.setAttribute(name, value);\n    }\n    showDecoration(decoration) {\n        if (decoration === Severity.Ignore) {\n            this.findInput.clearMessage();\n        }\n        else {\n            this.findInput.showMessage({ type: decoration === Severity.Info ? 1 /* MessageType.INFO */ : decoration === Severity.Warning ? 2 /* MessageType.WARNING */ : 3 /* MessageType.ERROR */, content: '' });\n        }\n    }\n    stylesForType(decoration) {\n        return this.findInput.inputBox.stylesForType(decoration === Severity.Info ? 1 /* MessageType.INFO */ : decoration === Severity.Warning ? 2 /* MessageType.WARNING */ : 3 /* MessageType.ERROR */);\n    }\n    setFocus() {\n        this.findInput.focus();\n    }\n    layout() {\n        this.findInput.inputBox.layout();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../base/browser/event.js';\nimport { Event } from '../../../base/common/event.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { Gesture, EventType as GestureEventType } from '../../../base/browser/touch.js';\nimport { renderLabelWithIcons } from '../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { IdGenerator } from '../../../base/common/idGenerator.js';\nimport { parseLinkedText } from '../../../base/common/linkedText.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nconst iconPathToClass = {};\nconst iconClassGenerator = new IdGenerator('quick-input-button-icon-');\nexport function getIconClass(iconPath) {\n    if (!iconPath) {\n        return undefined;\n    }\n    let iconClass;\n    const key = iconPath.dark.toString();\n    if (iconPathToClass[key]) {\n        iconClass = iconPathToClass[key];\n    }\n    else {\n        iconClass = iconClassGenerator.nextId();\n        dom.createCSSRule(`.${iconClass}, .hc-light .${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.light || iconPath.dark)}`);\n        dom.createCSSRule(`.vs-dark .${iconClass}, .hc-black .${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.dark)}`);\n        iconPathToClass[key] = iconClass;\n    }\n    return iconClass;\n}\nexport function renderQuickInputDescription(description, container, actionHandler) {\n    dom.reset(container);\n    const parsed = parseLinkedText(description);\n    let tabIndex = 0;\n    for (const node of parsed.nodes) {\n        if (typeof node === 'string') {\n            container.append(...renderLabelWithIcons(node));\n        }\n        else {\n            let title = node.title;\n            if (!title && node.href.startsWith('command:')) {\n                title = localize('executeCommand', \"Click to execute command '{0}'\", node.href.substring('command:'.length));\n            }\n            else if (!title) {\n                title = node.href;\n            }\n            const anchor = dom.$('a', { href: node.href, title, tabIndex: tabIndex++ }, node.label);\n            anchor.style.textDecoration = 'underline';\n            const handleOpen = (e) => {\n                if (dom.isEventLike(e)) {\n                    dom.EventHelper.stop(e, true);\n                }\n                actionHandler.callback(node.href);\n            };\n            const onClick = actionHandler.disposables.add(new DomEmitter(anchor, dom.EventType.CLICK)).event;\n            const onKeydown = actionHandler.disposables.add(new DomEmitter(anchor, dom.EventType.KEY_DOWN)).event;\n            const onSpaceOrEnter = actionHandler.disposables.add(Event.chain(onKeydown)).filter(e => {\n                const event = new StandardKeyboardEvent(e);\n                return event.equals(10 /* KeyCode.Space */) || event.equals(3 /* KeyCode.Enter */);\n            }).event;\n            actionHandler.disposables.add(Gesture.addTarget(anchor));\n            const onTap = actionHandler.disposables.add(new DomEmitter(anchor, GestureEventType.Tap)).event;\n            Event.any(onClick, onTap, onSpaceOrEnter)(handleOpen, null, actionHandler.disposables);\n            container.appendChild(anchor);\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { IconLabel } from '../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { KeybindingLabel } from '../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { range } from '../../../base/common/arrays.js';\nimport { ThrottledDelayer } from '../../../base/common/async.js';\nimport { compareAnything } from '../../../base/common/comparers.js';\nimport { memoize } from '../../../base/common/decorators.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { getCodiconAriaLabel, matchesFuzzyIconAware, parseLabelWithIcons } from '../../../base/common/iconLabels.js';\nimport { DisposableStore, dispose } from '../../../base/common/lifecycle.js';\nimport * as platform from '../../../base/common/platform.js';\nimport { ltrim } from '../../../base/common/strings.js';\nimport { withNullAsUndefined } from '../../../base/common/types.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nimport { getIconClass } from './quickInputUtils.js';\nimport { Lazy } from '../../../base/common/lazy.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { isDark } from '../../theme/common/theme.js';\nconst $ = dom.$;\nclass ListElement {\n    constructor(mainItem, previous, index, hasCheckbox, fireButtonTriggered, fireSeparatorButtonTriggered, onCheckedEmitter) {\n        var _a, _b, _c;\n        // state will get updated later\n        this._checked = false;\n        this._hidden = false;\n        this.hasCheckbox = hasCheckbox;\n        this.index = index;\n        this.fireButtonTriggered = fireButtonTriggered;\n        this.fireSeparatorButtonTriggered = fireSeparatorButtonTriggered;\n        this._onChecked = onCheckedEmitter;\n        this.onChecked = hasCheckbox\n            ? Event.map(Event.filter(this._onChecked.event, e => e.listElement === this), e => e.checked)\n            : Event.None;\n        if (mainItem.type === 'separator') {\n            this._separator = mainItem;\n        }\n        else {\n            this.item = mainItem;\n            if (previous && previous.type === 'separator' && !previous.buttons) {\n                this._separator = previous;\n            }\n            this.saneDescription = this.item.description;\n            this.saneDetail = this.item.detail;\n            this._labelHighlights = (_a = this.item.highlights) === null || _a === void 0 ? void 0 : _a.label;\n            this._descriptionHighlights = (_b = this.item.highlights) === null || _b === void 0 ? void 0 : _b.description;\n            this._detailHighlights = (_c = this.item.highlights) === null || _c === void 0 ? void 0 : _c.detail;\n            this.saneTooltip = this.item.tooltip;\n        }\n        this._init = new Lazy(() => {\n            var _a;\n            const saneLabel = (_a = mainItem.label) !== null && _a !== void 0 ? _a : '';\n            const saneSortLabel = parseLabelWithIcons(saneLabel).text.trim();\n            const saneAriaLabel = mainItem.ariaLabel || [saneLabel, this.saneDescription, this.saneDetail]\n                .map(s => getCodiconAriaLabel(s))\n                .filter(s => !!s)\n                .join(', ');\n            return {\n                saneLabel,\n                saneSortLabel,\n                saneAriaLabel\n            };\n        });\n    }\n    // #region Lazy Getters\n    get saneLabel() {\n        return this._init.value.saneLabel;\n    }\n    get saneSortLabel() {\n        return this._init.value.saneSortLabel;\n    }\n    get saneAriaLabel() {\n        return this._init.value.saneAriaLabel;\n    }\n    // #endregion\n    // #region Getters and Setters\n    get element() {\n        return this._element;\n    }\n    set element(value) {\n        this._element = value;\n    }\n    get hidden() {\n        return this._hidden;\n    }\n    set hidden(value) {\n        this._hidden = value;\n    }\n    get checked() {\n        return this._checked;\n    }\n    set checked(value) {\n        if (value !== this._checked) {\n            this._checked = value;\n            this._onChecked.fire({ listElement: this, checked: value });\n        }\n    }\n    get separator() {\n        return this._separator;\n    }\n    set separator(value) {\n        this._separator = value;\n    }\n    get labelHighlights() {\n        return this._labelHighlights;\n    }\n    set labelHighlights(value) {\n        this._labelHighlights = value;\n    }\n    get descriptionHighlights() {\n        return this._descriptionHighlights;\n    }\n    set descriptionHighlights(value) {\n        this._descriptionHighlights = value;\n    }\n    get detailHighlights() {\n        return this._detailHighlights;\n    }\n    set detailHighlights(value) {\n        this._detailHighlights = value;\n    }\n}\nclass ListElementRenderer {\n    constructor(colorScheme) {\n        this.colorScheme = colorScheme;\n    }\n    get templateId() {\n        return ListElementRenderer.ID;\n    }\n    renderTemplate(container) {\n        const data = Object.create(null);\n        data.toDisposeElement = [];\n        data.toDisposeTemplate = [];\n        data.entry = dom.append(container, $('.quick-input-list-entry'));\n        // Checkbox\n        const label = dom.append(data.entry, $('label.quick-input-list-label'));\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(label, dom.EventType.CLICK, e => {\n            if (!data.checkbox.offsetParent) { // If checkbox not visible:\n                e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n            }\n        }));\n        data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n        data.checkbox.type = 'checkbox';\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {\n            data.element.checked = data.checkbox.checked;\n        }));\n        // Rows\n        const rows = dom.append(label, $('.quick-input-list-rows'));\n        const row1 = dom.append(rows, $('.quick-input-list-row'));\n        const row2 = dom.append(rows, $('.quick-input-list-row'));\n        // Label\n        data.label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportIcons: true });\n        data.icon = dom.prepend(data.label.element, $('.quick-input-list-icon'));\n        // Keybinding\n        const keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n        data.keybinding = new KeybindingLabel(keybindingContainer, platform.OS);\n        // Detail\n        const detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n        data.detail = new IconLabel(detailContainer, { supportHighlights: true, supportIcons: true });\n        // Separator\n        data.separator = dom.append(data.entry, $('.quick-input-list-separator'));\n        // Actions\n        data.actionBar = new ActionBar(data.entry);\n        data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n        data.toDisposeTemplate.push(data.actionBar);\n        return data;\n    }\n    renderElement(element, index, data) {\n        var _a, _b, _c;\n        data.element = element;\n        element.element = withNullAsUndefined(data.entry);\n        const mainItem = element.item ? element.item : element.separator;\n        data.checkbox.checked = element.checked;\n        data.toDisposeElement.push(element.onChecked(checked => data.checkbox.checked = checked));\n        const { labelHighlights, descriptionHighlights, detailHighlights } = element;\n        if ((_a = element.item) === null || _a === void 0 ? void 0 : _a.iconPath) {\n            const icon = isDark(this.colorScheme) ? element.item.iconPath.dark : ((_b = element.item.iconPath.light) !== null && _b !== void 0 ? _b : element.item.iconPath.dark);\n            const iconUrl = URI.revive(icon);\n            data.icon.className = 'quick-input-list-icon';\n            data.icon.style.backgroundImage = dom.asCSSUrl(iconUrl);\n        }\n        else {\n            data.icon.style.backgroundImage = '';\n            data.icon.className = ((_c = element.item) === null || _c === void 0 ? void 0 : _c.iconClass) ? `quick-input-list-icon ${element.item.iconClass}` : '';\n        }\n        // Label\n        const options = {\n            matches: labelHighlights || [],\n            descriptionTitle: element.saneDescription,\n            descriptionMatches: descriptionHighlights || [],\n            labelEscapeNewLines: true\n        };\n        if (mainItem.type !== 'separator') {\n            options.extraClasses = mainItem.iconClasses;\n            options.italic = mainItem.italic;\n            options.strikethrough = mainItem.strikethrough;\n            data.entry.classList.remove('quick-input-list-separator-as-item');\n        }\n        else {\n            data.entry.classList.add('quick-input-list-separator-as-item');\n        }\n        data.label.setLabel(element.saneLabel, element.saneDescription, options);\n        // Keybinding\n        data.keybinding.set(mainItem.type === 'separator' ? undefined : mainItem.keybinding);\n        // Detail\n        if (element.saneDetail) {\n            data.detail.element.style.display = '';\n            data.detail.setLabel(element.saneDetail, undefined, {\n                matches: detailHighlights,\n                title: element.saneDetail,\n                labelEscapeNewLines: true\n            });\n        }\n        else {\n            data.detail.element.style.display = 'none';\n        }\n        // Separator\n        if (element.item && element.separator && element.separator.label) {\n            data.separator.textContent = element.separator.label;\n            data.separator.style.display = '';\n        }\n        else {\n            data.separator.style.display = 'none';\n        }\n        data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator);\n        // Actions\n        const buttons = mainItem.buttons;\n        if (buttons && buttons.length) {\n            data.actionBar.push(buttons.map((button, index) => {\n                let cssClasses = button.iconClass || (button.iconPath ? getIconClass(button.iconPath) : undefined);\n                if (button.alwaysVisible) {\n                    cssClasses = cssClasses ? `${cssClasses} always-visible` : 'always-visible';\n                }\n                return {\n                    id: `id-${index}`,\n                    class: cssClasses,\n                    enabled: true,\n                    label: '',\n                    tooltip: button.tooltip || '',\n                    run: () => {\n                        mainItem.type !== 'separator'\n                            ? element.fireButtonTriggered({\n                                button,\n                                item: mainItem\n                            })\n                            : element.fireSeparatorButtonTriggered({\n                                button,\n                                separator: mainItem\n                            });\n                    }\n                };\n            }), { icon: true, label: false });\n            data.entry.classList.add('has-actions');\n        }\n        else {\n            data.entry.classList.remove('has-actions');\n        }\n    }\n    disposeElement(element, index, data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.actionBar.clear();\n    }\n    disposeTemplate(data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.toDisposeTemplate = dispose(data.toDisposeTemplate);\n    }\n}\nListElementRenderer.ID = 'listelement';\nclass ListElementDelegate {\n    getHeight(element) {\n        if (!element.item) {\n            // must be a separator\n            return 24;\n        }\n        return element.saneDetail ? 44 : 22;\n    }\n    getTemplateId(element) {\n        return ListElementRenderer.ID;\n    }\n}\nexport var QuickInputListFocus;\n(function (QuickInputListFocus) {\n    QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n    QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n    QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n    QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n    QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n    QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n    QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\nexport class QuickInputList {\n    constructor(parent, id, options) {\n        this.parent = parent;\n        this.options = options;\n        this.inputElements = [];\n        this.elements = [];\n        this.elementsToIndexes = new Map();\n        this.matchOnDescription = false;\n        this.matchOnDetail = false;\n        this.matchOnLabel = true;\n        this.matchOnLabelMode = 'fuzzy';\n        this.sortByLabel = true;\n        this._onChangedAllVisibleChecked = new Emitter();\n        this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\n        this._onChangedCheckedCount = new Emitter();\n        this.onChangedCheckedCount = this._onChangedCheckedCount.event;\n        this._onChangedVisibleCount = new Emitter();\n        this.onChangedVisibleCount = this._onChangedVisibleCount.event;\n        this._onChangedCheckedElements = new Emitter();\n        this.onChangedCheckedElements = this._onChangedCheckedElements.event;\n        this._onButtonTriggered = new Emitter();\n        this.onButtonTriggered = this._onButtonTriggered.event;\n        this._onSeparatorButtonTriggered = new Emitter();\n        this.onSeparatorButtonTriggered = this._onSeparatorButtonTriggered.event;\n        this._onKeyDown = new Emitter();\n        this.onKeyDown = this._onKeyDown.event;\n        this._onLeave = new Emitter();\n        this.onLeave = this._onLeave.event;\n        this._listElementChecked = new Emitter();\n        this._fireCheckedEvents = true;\n        this.elementDisposables = [];\n        this.disposables = [];\n        this.id = id;\n        this.container = dom.append(this.parent, $('.quick-input-list'));\n        const delegate = new ListElementDelegate();\n        const accessibilityProvider = new QuickInputAccessibilityProvider();\n        this.list = options.createList('QuickInput', this.container, delegate, [new ListElementRenderer(this.options.styles.colorScheme)], {\n            identityProvider: {\n                getId: element => {\n                    var _a, _b, _c, _d, _e, _f, _g, _h;\n                    // always prefer item over separator because if item is defined, it must be the main item type\n                    // always prefer a defined id if one was specified and use label as a fallback\n                    return (_h = (_f = (_d = (_b = (_a = element.item) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : (_c = element.item) === null || _c === void 0 ? void 0 : _c.label) !== null && _d !== void 0 ? _d : (_e = element.separator) === null || _e === void 0 ? void 0 : _e.id) !== null && _f !== void 0 ? _f : (_g = element.separator) === null || _g === void 0 ? void 0 : _g.label) !== null && _h !== void 0 ? _h : '';\n                }\n            },\n            setRowLineHeight: false,\n            multipleSelectionSupport: false,\n            horizontalScrolling: false,\n            accessibilityProvider\n        });\n        this.list.getHTMLElement().id = id;\n        this.disposables.push(this.list);\n        this.disposables.push(this.list.onKeyDown(e => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 10 /* KeyCode.Space */:\n                    this.toggleCheckbox();\n                    break;\n                case 31 /* KeyCode.KeyA */:\n                    if (platform.isMacintosh ? e.metaKey : e.ctrlKey) {\n                        this.list.setFocus(range(this.list.length));\n                    }\n                    break;\n                case 16 /* KeyCode.UpArrow */: {\n                    const focus1 = this.list.getFocus();\n                    if (focus1.length === 1 && focus1[0] === 0) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n                case 18 /* KeyCode.DownArrow */: {\n                    const focus2 = this.list.getFocus();\n                    if (focus2.length === 1 && focus2[0] === this.list.length - 1) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n            }\n            this._onKeyDown.fire(event);\n        }));\n        this.disposables.push(this.list.onMouseDown(e => {\n            if (e.browserEvent.button !== 2) {\n                // Works around / fixes #64350.\n                e.browserEvent.preventDefault();\n            }\n        }));\n        this.disposables.push(dom.addDisposableListener(this.container, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space' on checkbox.\n                this._onLeave.fire();\n            }\n        }));\n        this.disposables.push(this.list.onMouseMiddleClick(e => {\n            this._onLeave.fire();\n        }));\n        this.disposables.push(this.list.onContextMenu(e => {\n            if (typeof e.index === 'number') {\n                e.browserEvent.preventDefault();\n                // we want to treat a context menu event as\n                // a gesture to open the item at the index\n                // since we do not have any context menu\n                // this enables for example macOS to Ctrl-\n                // click on an item to open it.\n                this.list.setSelection([e.index]);\n            }\n        }));\n        const delayer = new ThrottledDelayer(options.hoverDelegate.delay);\n        // onMouseOver triggers every time a new element has been moused over\n        // even if it's on the same list item.\n        this.disposables.push(this.list.onMouseOver((e) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            // If we hover over an anchor element, we don't want to show the hover because\n            // the anchor may have a tooltip that we want to show instead.\n            if (e.browserEvent.target instanceof HTMLAnchorElement) {\n                delayer.cancel();\n                return;\n            }\n            if (\n            // anchors are an exception as called out above so we skip them here\n            !(e.browserEvent.relatedTarget instanceof HTMLAnchorElement) &&\n                // check if the mouse is still over the same element\n                dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                return;\n            }\n            try {\n                yield delayer.trigger(() => __awaiter(this, void 0, void 0, function* () {\n                    if (e.element) {\n                        this.showHover(e.element);\n                    }\n                }));\n            }\n            catch (e) {\n                // Ignore cancellation errors due to mouse out\n                if (!isCancellationError(e)) {\n                    throw e;\n                }\n            }\n        })));\n        this.disposables.push(this.list.onMouseOut(e => {\n            var _a;\n            // onMouseOut triggers every time a new element has been moused over\n            // even if it's on the same list item. We only want one event, so we\n            // check if the mouse is still over the same element.\n            if (dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                return;\n            }\n            delayer.cancel();\n        }));\n        this.disposables.push(this._listElementChecked.event(_ => this.fireCheckedEvents()));\n        this.disposables.push(this._onChangedAllVisibleChecked, this._onChangedCheckedCount, this._onChangedVisibleCount, this._onChangedCheckedElements, this._onButtonTriggered, this._onSeparatorButtonTriggered, this._onLeave, this._onKeyDown, delayer);\n    }\n    get onDidChangeFocus() {\n        return Event.map(this.list.onDidChangeFocus, e => e.elements.map(e => e.item));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, e => ({ items: e.elements.map(e => e.item), event: e.browserEvent }));\n    }\n    get scrollTop() {\n        return this.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.list.scrollTop = scrollTop;\n    }\n    get ariaLabel() {\n        return this.list.getHTMLElement().ariaLabel;\n    }\n    set ariaLabel(label) {\n        this.list.getHTMLElement().ariaLabel = label;\n    }\n    getAllVisibleChecked() {\n        return this.allVisibleChecked(this.elements, false);\n    }\n    allVisibleChecked(elements, whenNoneVisible = true) {\n        for (let i = 0, n = elements.length; i < n; i++) {\n            const element = elements[i];\n            if (!element.hidden) {\n                if (!element.checked) {\n                    return false;\n                }\n                else {\n                    whenNoneVisible = true;\n                }\n            }\n        }\n        return whenNoneVisible;\n    }\n    getCheckedCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (elements[i].checked) {\n                count++;\n            }\n        }\n        return count;\n    }\n    getVisibleCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (!elements[i].hidden) {\n                count++;\n            }\n        }\n        return count;\n    }\n    setAllVisibleChecked(checked) {\n        try {\n            this._fireCheckedEvents = false;\n            this.elements.forEach(element => {\n                if (!element.hidden) {\n                    element.checked = checked;\n                }\n            });\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    setElements(inputElements) {\n        this.elementDisposables = dispose(this.elementDisposables);\n        const fireButtonTriggered = (event) => this.fireButtonTriggered(event);\n        const fireSeparatorButtonTriggered = (event) => this.fireSeparatorButtonTriggered(event);\n        this.inputElements = inputElements;\n        const elementsToIndexes = new Map();\n        const hasCheckbox = this.parent.classList.contains('show-checkboxes');\n        this.elements = inputElements.reduce((result, item, index) => {\n            var _a;\n            const previous = index > 0 ? inputElements[index - 1] : undefined;\n            if (item.type === 'separator') {\n                if (!item.buttons) {\n                    // This separator will be rendered as a part of the list item\n                    return result;\n                }\n            }\n            const element = new ListElement(item, previous, index, hasCheckbox, fireButtonTriggered, fireSeparatorButtonTriggered, this._listElementChecked);\n            const resultIndex = result.length;\n            result.push(element);\n            elementsToIndexes.set((_a = element.item) !== null && _a !== void 0 ? _a : element.separator, resultIndex);\n            return result;\n        }, []);\n        this.elementsToIndexes = elementsToIndexes;\n        this.list.splice(0, this.list.length); // Clear focus and selection first, sending the events when the list is empty.\n        this.list.splice(0, this.list.length, this.elements);\n        this._onChangedVisibleCount.fire(this.elements.length);\n    }\n    getFocusedElements() {\n        return this.list.getFocusedElements()\n            .map(e => e.item);\n    }\n    setFocusedElements(items) {\n        this.list.setFocus(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n        if (items.length > 0) {\n            const focused = this.list.getFocus()[0];\n            if (typeof focused === 'number') {\n                this.list.reveal(focused);\n            }\n        }\n    }\n    getActiveDescendant() {\n        return this.list.getHTMLElement().getAttribute('aria-activedescendant');\n    }\n    setSelectedElements(items) {\n        this.list.setSelection(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n    }\n    getCheckedElements() {\n        return this.elements.filter(e => e.checked)\n            .map(e => e.item)\n            .filter(e => !!e);\n    }\n    setCheckedElements(items) {\n        try {\n            this._fireCheckedEvents = false;\n            const checked = new Set();\n            for (const item of items) {\n                checked.add(item);\n            }\n            for (const element of this.elements) {\n                element.checked = checked.has(element.item);\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    set enabled(value) {\n        this.list.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n    }\n    focus(what) {\n        if (!this.list.length) {\n            return;\n        }\n        if (what === QuickInputListFocus.Second && this.list.length < 2) {\n            what = QuickInputListFocus.First;\n        }\n        switch (what) {\n            case QuickInputListFocus.First:\n                this.list.scrollTop = 0;\n                this.list.focusFirst(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Second:\n                this.list.scrollTop = 0;\n                this.list.focusNth(1, undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Last:\n                this.list.scrollTop = this.list.scrollHeight;\n                this.list.focusLast(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Next: {\n                this.list.focusNext(undefined, true, undefined, (e) => !!e.item);\n                const index = this.list.getFocus()[0];\n                if (index !== 0 && !this.elements[index - 1].item && this.list.firstVisibleIndex > index - 1) {\n                    this.list.reveal(index - 1);\n                }\n                break;\n            }\n            case QuickInputListFocus.Previous: {\n                this.list.focusPrevious(undefined, true, undefined, (e) => !!e.item);\n                const index = this.list.getFocus()[0];\n                if (index !== 0 && !this.elements[index - 1].item && this.list.firstVisibleIndex > index - 1) {\n                    this.list.reveal(index - 1);\n                }\n                break;\n            }\n            case QuickInputListFocus.NextPage:\n                this.list.focusNextPage(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.PreviousPage:\n                this.list.focusPreviousPage(undefined, (e) => !!e.item);\n                break;\n        }\n        const focused = this.list.getFocus()[0];\n        if (typeof focused === 'number') {\n            this.list.reveal(focused);\n        }\n    }\n    clearFocus() {\n        this.list.setFocus([]);\n    }\n    domFocus() {\n        this.list.domFocus();\n    }\n    /**\n     * Disposes of the hover and shows a new one for the given index if it has a tooltip.\n     * @param element The element to show the hover for\n     */\n    showHover(element) {\n        var _a, _b, _c;\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            (_b = (_a = this.options.hoverDelegate).onDidHideHover) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_c = this._lastHover) === null || _c === void 0 ? void 0 : _c.dispose();\n        }\n        if (!element.element || !element.saneTooltip) {\n            return;\n        }\n        this._lastHover = this.options.hoverDelegate.showHover({\n            content: element.saneTooltip,\n            target: element.element,\n            linkHandler: (url) => {\n                this.options.linkOpenerDelegate(url);\n            },\n            showPointer: true,\n            container: this.container,\n            hoverPosition: 1 /* HoverPosition.RIGHT */\n        }, false);\n    }\n    layout(maxHeight) {\n        this.list.getHTMLElement().style.maxHeight = maxHeight ? `${\n        // Make sure height aligns with list item heights\n        Math.floor(maxHeight / 44) * 44\n            // Add some extra height so that it's clear there's more to scroll\n            + 6}px` : '';\n        this.list.layout();\n    }\n    filter(query) {\n        if (!(this.sortByLabel || this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.list.layout();\n            return false;\n        }\n        const queryWithWhitespace = query;\n        query = query.trim();\n        // Reset filtering\n        if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.elements.forEach(element => {\n                element.labelHighlights = undefined;\n                element.descriptionHighlights = undefined;\n                element.detailHighlights = undefined;\n                element.hidden = false;\n                const previous = element.index && this.inputElements[element.index - 1];\n                if (element.item) {\n                    element.separator = previous && previous.type === 'separator' && !previous.buttons ? previous : undefined;\n                }\n            });\n        }\n        // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n        else {\n            let currentSeparator;\n            this.elements.forEach(element => {\n                let labelHighlights;\n                if (this.matchOnLabelMode === 'fuzzy') {\n                    labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) : undefined;\n                }\n                else {\n                    labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesContiguousIconAware(queryWithWhitespace, parseLabelWithIcons(element.saneLabel))) : undefined;\n                }\n                const descriptionHighlights = this.matchOnDescription ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) : undefined;\n                const detailHighlights = this.matchOnDetail ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) : undefined;\n                if (labelHighlights || descriptionHighlights || detailHighlights) {\n                    element.labelHighlights = labelHighlights;\n                    element.descriptionHighlights = descriptionHighlights;\n                    element.detailHighlights = detailHighlights;\n                    element.hidden = false;\n                }\n                else {\n                    element.labelHighlights = undefined;\n                    element.descriptionHighlights = undefined;\n                    element.detailHighlights = undefined;\n                    element.hidden = element.item ? !element.item.alwaysShow : true;\n                }\n                // Ensure separators are filtered out first before deciding if we need to bring them back\n                if (element.item) {\n                    element.separator = undefined;\n                }\n                else if (element.separator) {\n                    element.hidden = true;\n                }\n                // we can show the separator unless the list gets sorted by match\n                if (!this.sortByLabel) {\n                    const previous = element.index && this.inputElements[element.index - 1];\n                    currentSeparator = previous && previous.type === 'separator' ? previous : currentSeparator;\n                    if (currentSeparator && !element.hidden) {\n                        element.separator = currentSeparator;\n                        currentSeparator = undefined;\n                    }\n                }\n            });\n        }\n        const shownElements = this.elements.filter(element => !element.hidden);\n        // Sort by value\n        if (this.sortByLabel && query) {\n            const normalizedSearchValue = query.toLowerCase();\n            shownElements.sort((a, b) => {\n                return compareEntries(a, b, normalizedSearchValue);\n            });\n        }\n        this.elementsToIndexes = shownElements.reduce((map, element, index) => {\n            var _a;\n            map.set((_a = element.item) !== null && _a !== void 0 ? _a : element.separator, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length, shownElements);\n        this.list.setFocus([]);\n        this.list.layout();\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n        this._onChangedVisibleCount.fire(shownElements.length);\n        return true;\n    }\n    toggleCheckbox() {\n        try {\n            this._fireCheckedEvents = false;\n            const elements = this.list.getFocusedElements();\n            const allChecked = this.allVisibleChecked(elements);\n            for (const element of elements) {\n                element.checked = !allChecked;\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    display(display) {\n        this.container.style.display = display ? '' : 'none';\n    }\n    isDisplayed() {\n        return this.container.style.display !== 'none';\n    }\n    dispose() {\n        this.elementDisposables = dispose(this.elementDisposables);\n        this.disposables = dispose(this.disposables);\n    }\n    fireCheckedEvents() {\n        if (this._fireCheckedEvents) {\n            this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n            this._onChangedCheckedCount.fire(this.getCheckedCount());\n            this._onChangedCheckedElements.fire(this.getCheckedElements());\n        }\n    }\n    fireButtonTriggered(event) {\n        this._onButtonTriggered.fire(event);\n    }\n    fireSeparatorButtonTriggered(event) {\n        this._onSeparatorButtonTriggered.fire(event);\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n    toggleHover() {\n        const element = this.list.getFocusedElements()[0];\n        if (!(element === null || element === void 0 ? void 0 : element.saneTooltip)) {\n            return;\n        }\n        // if there's a hover already, hide it (toggle off)\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            this._lastHover.dispose();\n            return;\n        }\n        // If there is no hover, show it (toggle on)\n        const focused = this.list.getFocusedElements()[0];\n        if (!focused) {\n            return;\n        }\n        this.showHover(focused);\n        const store = new DisposableStore();\n        store.add(this.list.onDidChangeFocus(e => {\n            if (e.indexes.length) {\n                this.showHover(e.elements[0]);\n            }\n        }));\n        if (this._lastHover) {\n            store.add(this._lastHover);\n        }\n        this._toggleHover = store;\n        this.elementDisposables.push(this._toggleHover);\n    }\n}\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeSelection\", null);\nfunction matchesContiguousIconAware(query, target) {\n    const { text, iconOffsets } = target;\n    // Return early if there are no icon markers in the word to match against\n    if (!iconOffsets || iconOffsets.length === 0) {\n        return matchesContiguous(query, text);\n    }\n    // Trim the word to match against because it could have leading\n    // whitespace now if the word started with an icon\n    const wordToMatchAgainstWithoutIconsTrimmed = ltrim(text, ' ');\n    const leadingWhitespaceOffset = text.length - wordToMatchAgainstWithoutIconsTrimmed.length;\n    // match on value without icon\n    const matches = matchesContiguous(query, wordToMatchAgainstWithoutIconsTrimmed);\n    // Map matches back to offsets with icon and trimming\n    if (matches) {\n        for (const match of matches) {\n            const iconOffset = iconOffsets[match.start + leadingWhitespaceOffset] /* icon offsets at index */ + leadingWhitespaceOffset /* overall leading whitespace offset */;\n            match.start += iconOffset;\n            match.end += iconOffset;\n        }\n    }\n    return matches;\n}\nfunction matchesContiguous(word, wordToMatchAgainst) {\n    const matchIndex = wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());\n    if (matchIndex !== -1) {\n        return [{ start: matchIndex, end: matchIndex + word.length }];\n    }\n    return null;\n}\nfunction compareEntries(elementA, elementB, lookFor) {\n    const labelHighlightsA = elementA.labelHighlights || [];\n    const labelHighlightsB = elementB.labelHighlights || [];\n    if (labelHighlightsA.length && !labelHighlightsB.length) {\n        return -1;\n    }\n    if (!labelHighlightsA.length && labelHighlightsB.length) {\n        return 1;\n    }\n    if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n        return 0;\n    }\n    return compareAnything(elementA.saneSortLabel, elementB.saneSortLabel, lookFor);\n}\nclass QuickInputAccessibilityProvider {\n    getWidgetAriaLabel() {\n        return localize('quickInput', \"Quick Input\");\n    }\n    getAriaLabel(element) {\n        var _a;\n        return ((_a = element.separator) === null || _a === void 0 ? void 0 : _a.label)\n            ? `${element.saneAriaLabel}, ${element.separator.label}`\n            : element.saneAriaLabel;\n    }\n    getWidgetRole() {\n        return 'listbox';\n    }\n    getRole(element) {\n        return element.hasCheckbox ? 'checkbox' : 'option';\n    }\n    isChecked(element) {\n        if (!element.hasCheckbox) {\n            return undefined;\n        }\n        return {\n            value: element.checked,\n            onDidChange: element.onChecked\n        };\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { Button } from '../../../base/browser/ui/button/button.js';\nimport { CountBadge } from '../../../base/browser/ui/countBadge/countBadge.js';\nimport { ProgressBar } from '../../../base/browser/ui/progressbar/progressbar.js';\nimport { Toggle } from '../../../base/browser/ui/toggle/toggle.js';\nimport { Action } from '../../../base/common/actions.js';\nimport { equals } from '../../../base/common/arrays.js';\nimport { TimeoutTimer } from '../../../base/common/async.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable, DisposableStore, dispose } from '../../../base/common/lifecycle.js';\nimport { isIOS } from '../../../base/common/platform.js';\nimport Severity from '../../../base/common/severity.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport { withNullAsUndefined, withUndefinedAsNull } from '../../../base/common/types.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nimport { ItemActivation, NO_KEY_MODS, QuickInputHideReason } from '../common/quickInput.js';\nimport { QuickInputBox } from './quickInputBox.js';\nimport { QuickInputList, QuickInputListFocus } from './quickInputList.js';\nimport { getIconClass, renderQuickInputDescription } from './quickInputUtils.js';\nconst $ = dom.$;\nconst backButton = {\n    iconClass: ThemeIcon.asClassName(Codicon.quickInputBack),\n    tooltip: localize('quickInput.back', \"Back\"),\n    handle: -1 // TODO\n};\nclass QuickInput extends Disposable {\n    constructor(ui) {\n        super();\n        this.ui = ui;\n        this._widgetUpdated = false;\n        this.visible = false;\n        this._enabled = true;\n        this._busy = false;\n        this._ignoreFocusOut = false;\n        this._buttons = [];\n        this.buttonsUpdated = false;\n        this._toggles = [];\n        this.togglesUpdated = false;\n        this.noValidationMessage = QuickInput.noPromptMessage;\n        this._severity = Severity.Ignore;\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.onDidHideEmitter = this._register(new Emitter());\n        this.onDisposeEmitter = this._register(new Emitter());\n        this.visibleDisposables = this._register(new DisposableStore());\n        this.onDidHide = this.onDidHideEmitter.event;\n    }\n    get title() {\n        return this._title;\n    }\n    set title(title) {\n        this._title = title;\n        this.update();\n    }\n    get description() {\n        return this._description;\n    }\n    set description(description) {\n        this._description = description;\n        this.update();\n    }\n    get step() {\n        return this._steps;\n    }\n    set step(step) {\n        this._steps = step;\n        this.update();\n    }\n    get totalSteps() {\n        return this._totalSteps;\n    }\n    set totalSteps(totalSteps) {\n        this._totalSteps = totalSteps;\n        this.update();\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(enabled) {\n        this._enabled = enabled;\n        this.update();\n    }\n    get contextKey() {\n        return this._contextKey;\n    }\n    set contextKey(contextKey) {\n        this._contextKey = contextKey;\n        this.update();\n    }\n    get busy() {\n        return this._busy;\n    }\n    set busy(busy) {\n        this._busy = busy;\n        this.update();\n    }\n    get ignoreFocusOut() {\n        return this._ignoreFocusOut;\n    }\n    set ignoreFocusOut(ignoreFocusOut) {\n        const shouldUpdate = this._ignoreFocusOut !== ignoreFocusOut && !isIOS;\n        this._ignoreFocusOut = ignoreFocusOut && !isIOS;\n        if (shouldUpdate) {\n            this.update();\n        }\n    }\n    get buttons() {\n        return this._buttons;\n    }\n    set buttons(buttons) {\n        this._buttons = buttons;\n        this.buttonsUpdated = true;\n        this.update();\n    }\n    get toggles() {\n        return this._toggles;\n    }\n    set toggles(toggles) {\n        this._toggles = toggles !== null && toggles !== void 0 ? toggles : [];\n        this.togglesUpdated = true;\n        this.update();\n    }\n    get validationMessage() {\n        return this._validationMessage;\n    }\n    set validationMessage(validationMessage) {\n        this._validationMessage = validationMessage;\n        this.update();\n    }\n    get severity() {\n        return this._severity;\n    }\n    set severity(severity) {\n        this._severity = severity;\n        this.update();\n    }\n    show() {\n        if (this.visible) {\n            return;\n        }\n        this.visibleDisposables.add(this.ui.onDidTriggerButton(button => {\n            if (this.buttons.indexOf(button) !== -1) {\n                this.onDidTriggerButtonEmitter.fire(button);\n            }\n        }));\n        this.ui.show(this);\n        // update properties in the controller that get reset in the ui.show() call\n        this.visible = true;\n        // This ensures the message/prompt gets rendered\n        this._lastValidationMessage = undefined;\n        // This ensures the input box has the right severity applied\n        this._lastSeverity = undefined;\n        if (this.buttons.length) {\n            // if there are buttons, the ui.show() clears them out of the UI so we should\n            // rerender them.\n            this.buttonsUpdated = true;\n        }\n        if (this.toggles.length) {\n            // if there are toggles, the ui.show() clears them out of the UI so we should\n            // rerender them.\n            this.togglesUpdated = true;\n        }\n        this.update();\n    }\n    hide() {\n        if (!this.visible) {\n            return;\n        }\n        this.ui.hide();\n    }\n    didHide(reason = QuickInputHideReason.Other) {\n        this.visible = false;\n        this.visibleDisposables.clear();\n        this.onDidHideEmitter.fire({ reason });\n    }\n    update() {\n        var _a, _b;\n        if (!this.visible) {\n            return;\n        }\n        const title = this.getTitle();\n        if (title && this.ui.title.textContent !== title) {\n            this.ui.title.textContent = title;\n        }\n        else if (!title && this.ui.title.innerHTML !== '&nbsp;') {\n            this.ui.title.innerText = '\\u00a0';\n        }\n        const description = this.getDescription();\n        if (this.ui.description1.textContent !== description) {\n            this.ui.description1.textContent = description;\n        }\n        if (this.ui.description2.textContent !== description) {\n            this.ui.description2.textContent = description;\n        }\n        if (this._widgetUpdated) {\n            this._widgetUpdated = false;\n            if (this._widget) {\n                dom.reset(this.ui.widget, this._widget);\n            }\n            else {\n                dom.reset(this.ui.widget);\n            }\n        }\n        if (this.busy && !this.busyDelay) {\n            this.busyDelay = new TimeoutTimer();\n            this.busyDelay.setIfNotSet(() => {\n                if (this.visible) {\n                    this.ui.progressBar.infinite();\n                }\n            }, 800);\n        }\n        if (!this.busy && this.busyDelay) {\n            this.ui.progressBar.stop();\n            this.busyDelay.cancel();\n            this.busyDelay = undefined;\n        }\n        if (this.buttonsUpdated) {\n            this.buttonsUpdated = false;\n            this.ui.leftActionBar.clear();\n            const leftButtons = this.buttons.filter(button => button === backButton);\n            this.ui.leftActionBar.push(leftButtons.map((button, index) => {\n                const action = new Action(`id-${index}`, '', button.iconClass || getIconClass(button.iconPath), true, () => __awaiter(this, void 0, void 0, function* () {\n                    this.onDidTriggerButtonEmitter.fire(button);\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n            this.ui.rightActionBar.clear();\n            const rightButtons = this.buttons.filter(button => button !== backButton);\n            this.ui.rightActionBar.push(rightButtons.map((button, index) => {\n                const action = new Action(`id-${index}`, '', button.iconClass || getIconClass(button.iconPath), true, () => __awaiter(this, void 0, void 0, function* () {\n                    this.onDidTriggerButtonEmitter.fire(button);\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n        }\n        if (this.togglesUpdated) {\n            this.togglesUpdated = false;\n            // HACK: Filter out toggles here that are not concrete Toggle objects. This is to workaround\n            // a layering issue as quick input's interface is in common but Toggle is in browser and\n            // it requires a HTMLElement on its interface\n            const concreteToggles = (_b = (_a = this.toggles) === null || _a === void 0 ? void 0 : _a.filter(opts => opts instanceof Toggle)) !== null && _b !== void 0 ? _b : [];\n            this.ui.inputBox.toggles = concreteToggles;\n        }\n        this.ui.ignoreFocusOut = this.ignoreFocusOut;\n        this.ui.setEnabled(this.enabled);\n        this.ui.setContextKey(this.contextKey);\n        const validationMessage = this.validationMessage || this.noValidationMessage;\n        if (this._lastValidationMessage !== validationMessage) {\n            this._lastValidationMessage = validationMessage;\n            dom.reset(this.ui.message);\n            renderQuickInputDescription(validationMessage, this.ui.message, {\n                callback: (content) => {\n                    this.ui.linkOpenerDelegate(content);\n                },\n                disposables: this.visibleDisposables,\n            });\n        }\n        if (this._lastSeverity !== this.severity) {\n            this._lastSeverity = this.severity;\n            this.showMessageDecoration(this.severity);\n        }\n    }\n    getTitle() {\n        if (this.title && this.step) {\n            return `${this.title} (${this.getSteps()})`;\n        }\n        if (this.title) {\n            return this.title;\n        }\n        if (this.step) {\n            return this.getSteps();\n        }\n        return '';\n    }\n    getDescription() {\n        return this.description || '';\n    }\n    getSteps() {\n        if (this.step && this.totalSteps) {\n            return localize('quickInput.steps', \"{0}/{1}\", this.step, this.totalSteps);\n        }\n        if (this.step) {\n            return String(this.step);\n        }\n        return '';\n    }\n    showMessageDecoration(severity) {\n        this.ui.inputBox.showDecoration(severity);\n        if (severity !== Severity.Ignore) {\n            const styles = this.ui.inputBox.stylesForType(severity);\n            this.ui.message.style.color = styles.foreground ? `${styles.foreground}` : '';\n            this.ui.message.style.backgroundColor = styles.background ? `${styles.background}` : '';\n            this.ui.message.style.border = styles.border ? `1px solid ${styles.border}` : '';\n            this.ui.message.style.marginBottom = '-2px';\n        }\n        else {\n            this.ui.message.style.color = '';\n            this.ui.message.style.backgroundColor = '';\n            this.ui.message.style.border = '';\n            this.ui.message.style.marginBottom = '';\n        }\n    }\n    dispose() {\n        this.hide();\n        this.onDisposeEmitter.fire();\n        super.dispose();\n    }\n}\nQuickInput.noPromptMessage = localize('inputModeEntry', \"Press 'Enter' to confirm your input or 'Escape' to cancel\");\nclass QuickPick extends QuickInput {\n    constructor() {\n        super(...arguments);\n        this._value = '';\n        this.onDidChangeValueEmitter = this._register(new Emitter());\n        this.onWillAcceptEmitter = this._register(new Emitter());\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this._items = [];\n        this.itemsUpdated = false;\n        this._canSelectMany = false;\n        this._canAcceptInBackground = false;\n        this._matchOnDescription = false;\n        this._matchOnDetail = false;\n        this._matchOnLabel = true;\n        this._matchOnLabelMode = 'fuzzy';\n        this._sortByLabel = true;\n        this._autoFocusOnList = true;\n        this._keepScrollPosition = false;\n        this._itemActivation = ItemActivation.FIRST;\n        this._activeItems = [];\n        this.activeItemsUpdated = false;\n        this.activeItemsToConfirm = [];\n        this.onDidChangeActiveEmitter = this._register(new Emitter());\n        this._selectedItems = [];\n        this.selectedItemsUpdated = false;\n        this.selectedItemsToConfirm = [];\n        this.onDidChangeSelectionEmitter = this._register(new Emitter());\n        this.onDidTriggerItemButtonEmitter = this._register(new Emitter());\n        this.onDidTriggerSeparatorButtonEmitter = this._register(new Emitter());\n        this.valueSelectionUpdated = true;\n        this._ok = 'default';\n        this._customButton = false;\n        this.filterValue = (value) => value;\n        this.onDidChangeValue = this.onDidChangeValueEmitter.event;\n        this.onWillAccept = this.onWillAcceptEmitter.event;\n        this.onDidAccept = this.onDidAcceptEmitter.event;\n        this.onDidChangeActive = this.onDidChangeActiveEmitter.event;\n        this.onDidChangeSelection = this.onDidChangeSelectionEmitter.event;\n        this.onDidTriggerItemButton = this.onDidTriggerItemButtonEmitter.event;\n        this.onDidTriggerSeparatorButton = this.onDidTriggerSeparatorButtonEmitter.event;\n    }\n    get quickNavigate() {\n        return this._quickNavigate;\n    }\n    set quickNavigate(quickNavigate) {\n        this._quickNavigate = quickNavigate;\n        this.update();\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this.doSetValue(value);\n    }\n    doSetValue(value, skipUpdate) {\n        if (this._value !== value) {\n            this._value = value;\n            if (!skipUpdate) {\n                this.update();\n            }\n            if (this.visible) {\n                const didFilter = this.ui.list.filter(this.filterValue(this._value));\n                if (didFilter) {\n                    this.trySelectFirst();\n                }\n            }\n            this.onDidChangeValueEmitter.fire(this._value);\n        }\n    }\n    set ariaLabel(ariaLabel) {\n        this._ariaLabel = ariaLabel;\n        this.update();\n    }\n    get ariaLabel() {\n        return this._ariaLabel;\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set placeholder(placeholder) {\n        this._placeholder = placeholder;\n        this.update();\n    }\n    get items() {\n        return this._items;\n    }\n    get scrollTop() {\n        return this.ui.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.ui.list.scrollTop = scrollTop;\n    }\n    set items(items) {\n        this._items = items;\n        this.itemsUpdated = true;\n        this.update();\n    }\n    get canSelectMany() {\n        return this._canSelectMany;\n    }\n    set canSelectMany(canSelectMany) {\n        this._canSelectMany = canSelectMany;\n        this.update();\n    }\n    get canAcceptInBackground() {\n        return this._canAcceptInBackground;\n    }\n    set canAcceptInBackground(canAcceptInBackground) {\n        this._canAcceptInBackground = canAcceptInBackground;\n    }\n    get matchOnDescription() {\n        return this._matchOnDescription;\n    }\n    set matchOnDescription(matchOnDescription) {\n        this._matchOnDescription = matchOnDescription;\n        this.update();\n    }\n    get matchOnDetail() {\n        return this._matchOnDetail;\n    }\n    set matchOnDetail(matchOnDetail) {\n        this._matchOnDetail = matchOnDetail;\n        this.update();\n    }\n    get matchOnLabel() {\n        return this._matchOnLabel;\n    }\n    set matchOnLabel(matchOnLabel) {\n        this._matchOnLabel = matchOnLabel;\n        this.update();\n    }\n    get matchOnLabelMode() {\n        return this._matchOnLabelMode;\n    }\n    set matchOnLabelMode(matchOnLabelMode) {\n        this._matchOnLabelMode = matchOnLabelMode;\n        this.update();\n    }\n    get sortByLabel() {\n        return this._sortByLabel;\n    }\n    set sortByLabel(sortByLabel) {\n        this._sortByLabel = sortByLabel;\n        this.update();\n    }\n    get autoFocusOnList() {\n        return this._autoFocusOnList;\n    }\n    set autoFocusOnList(autoFocusOnList) {\n        this._autoFocusOnList = autoFocusOnList;\n        this.update();\n    }\n    get keepScrollPosition() {\n        return this._keepScrollPosition;\n    }\n    set keepScrollPosition(keepScrollPosition) {\n        this._keepScrollPosition = keepScrollPosition;\n    }\n    get itemActivation() {\n        return this._itemActivation;\n    }\n    set itemActivation(itemActivation) {\n        this._itemActivation = itemActivation;\n    }\n    get activeItems() {\n        return this._activeItems;\n    }\n    set activeItems(activeItems) {\n        this._activeItems = activeItems;\n        this.activeItemsUpdated = true;\n        this.update();\n    }\n    get selectedItems() {\n        return this._selectedItems;\n    }\n    set selectedItems(selectedItems) {\n        this._selectedItems = selectedItems;\n        this.selectedItemsUpdated = true;\n        this.update();\n    }\n    get keyMods() {\n        if (this._quickNavigate) {\n            // Disable keyMods when quick navigate is enabled\n            // because in this model the interaction is purely\n            // keyboard driven and Ctrl/Alt are typically\n            // pressed and hold during this interaction.\n            return NO_KEY_MODS;\n        }\n        return this.ui.keyMods;\n    }\n    set valueSelection(valueSelection) {\n        this._valueSelection = valueSelection;\n        this.valueSelectionUpdated = true;\n        this.update();\n    }\n    get customButton() {\n        return this._customButton;\n    }\n    set customButton(showCustomButton) {\n        this._customButton = showCustomButton;\n        this.update();\n    }\n    get customLabel() {\n        return this._customButtonLabel;\n    }\n    set customLabel(label) {\n        this._customButtonLabel = label;\n        this.update();\n    }\n    get customHover() {\n        return this._customButtonHover;\n    }\n    set customHover(hover) {\n        this._customButtonHover = hover;\n        this.update();\n    }\n    get ok() {\n        return this._ok;\n    }\n    set ok(showOkButton) {\n        this._ok = showOkButton;\n        this.update();\n    }\n    get hideInput() {\n        return !!this._hideInput;\n    }\n    set hideInput(hideInput) {\n        this._hideInput = hideInput;\n        this.update();\n    }\n    trySelectFirst() {\n        if (this.autoFocusOnList) {\n            if (!this.canSelectMany) {\n                this.ui.list.focus(QuickInputListFocus.First);\n            }\n        }\n    }\n    show() {\n        if (!this.visible) {\n            this.visibleDisposables.add(this.ui.inputBox.onDidChange(value => {\n                this.doSetValue(value, true /* skip update since this originates from the UI */);\n            }));\n            this.visibleDisposables.add(this.ui.inputBox.onMouseDown(event => {\n                if (!this.autoFocusOnList) {\n                    this.ui.list.clearFocus();\n                }\n            }));\n            this.visibleDisposables.add((this._hideInput ? this.ui.list : this.ui.inputBox).onKeyDown((event) => {\n                switch (event.keyCode) {\n                    case 18 /* KeyCode.DownArrow */:\n                        this.ui.list.focus(QuickInputListFocus.Next);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 16 /* KeyCode.UpArrow */:\n                        if (this.ui.list.getFocusedElements().length) {\n                            this.ui.list.focus(QuickInputListFocus.Previous);\n                        }\n                        else {\n                            this.ui.list.focus(QuickInputListFocus.Last);\n                        }\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 12 /* KeyCode.PageDown */:\n                        this.ui.list.focus(QuickInputListFocus.NextPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 11 /* KeyCode.PageUp */:\n                        this.ui.list.focus(QuickInputListFocus.PreviousPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 17 /* KeyCode.RightArrow */:\n                        if (!this._canAcceptInBackground) {\n                            return; // needs to be enabled\n                        }\n                        if (!this.ui.inputBox.isSelectionAtEnd()) {\n                            return; // ensure input box selection at end\n                        }\n                        if (this.activeItems[0]) {\n                            this._selectedItems = [this.activeItems[0]];\n                            this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                            this.handleAccept(true);\n                        }\n                        break;\n                    case 14 /* KeyCode.Home */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.First);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                    case 13 /* KeyCode.End */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.Last);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                }\n            }));\n            this.visibleDisposables.add(this.ui.onDidAccept(() => {\n                if (this.canSelectMany) {\n                    // if there are no checked elements, it means that an onDidChangeSelection never fired to overwrite\n                    // `_selectedItems`. In that case, we should emit one with an empty array to ensure that\n                    // `.selectedItems` is up to date.\n                    if (!this.ui.list.getCheckedElements().length) {\n                        this._selectedItems = [];\n                        this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    }\n                }\n                else if (this.activeItems[0]) {\n                    // For single-select, we set `selectedItems` to the item that was accepted.\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                }\n                this.handleAccept(false);\n            }));\n            this.visibleDisposables.add(this.ui.onDidCustom(() => {\n                this.onDidCustomEmitter.fire();\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeFocus(focusedItems => {\n                if (this.activeItemsUpdated) {\n                    return; // Expect another event.\n                }\n                if (this.activeItemsToConfirm !== this._activeItems && equals(focusedItems, this._activeItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._activeItems = focusedItems;\n                this.onDidChangeActiveEmitter.fire(focusedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({ items: selectedItems, event }) => {\n                if (this.canSelectMany) {\n                    if (selectedItems.length) {\n                        this.ui.list.setSelectedElements([]);\n                    }\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(selectedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = selectedItems;\n                this.onDidChangeSelectionEmitter.fire(selectedItems);\n                if (selectedItems.length) {\n                    this.handleAccept(event instanceof MouseEvent && event.button === 1 /* mouse middle click */);\n                }\n            }));\n            this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(checkedItems => {\n                if (!this.canSelectMany) {\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(checkedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = checkedItems;\n                this.onDidChangeSelectionEmitter.fire(checkedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onButtonTriggered(event => this.onDidTriggerItemButtonEmitter.fire(event)));\n            this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(event => this.onDidTriggerSeparatorButtonEmitter.fire(event)));\n            this.visibleDisposables.add(this.registerQuickNavigation());\n            this.valueSelectionUpdated = true;\n        }\n        super.show(); // TODO: Why have show() bubble up while update() trickles down?\n    }\n    handleAccept(inBackground) {\n        // Figure out veto via `onWillAccept` event\n        let veto = false;\n        this.onWillAcceptEmitter.fire({ veto: () => veto = true });\n        // Continue with `onDidAccept` if no veto\n        if (!veto) {\n            this.onDidAcceptEmitter.fire({ inBackground });\n        }\n    }\n    registerQuickNavigation() {\n        return dom.addDisposableListener(this.ui.container, dom.EventType.KEY_UP, e => {\n            if (this.canSelectMany || !this._quickNavigate) {\n                return;\n            }\n            const keyboardEvent = new StandardKeyboardEvent(e);\n            const keyCode = keyboardEvent.keyCode;\n            // Select element when keys are pressed that signal it\n            const quickNavKeys = this._quickNavigate.keybindings;\n            const wasTriggerKeyPressed = quickNavKeys.some(k => {\n                const chords = k.getChords();\n                if (chords.length > 1) {\n                    return false;\n                }\n                if (chords[0].shiftKey && keyCode === 4 /* KeyCode.Shift */) {\n                    if (keyboardEvent.ctrlKey || keyboardEvent.altKey || keyboardEvent.metaKey) {\n                        return false; // this is an optimistic check for the shift key being used to navigate back in quick input\n                    }\n                    return true;\n                }\n                if (chords[0].altKey && keyCode === 6 /* KeyCode.Alt */) {\n                    return true;\n                }\n                if (chords[0].ctrlKey && keyCode === 5 /* KeyCode.Ctrl */) {\n                    return true;\n                }\n                if (chords[0].metaKey && keyCode === 57 /* KeyCode.Meta */) {\n                    return true;\n                }\n                return false;\n            });\n            if (wasTriggerKeyPressed) {\n                if (this.activeItems[0]) {\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    this.handleAccept(false);\n                }\n                // Unset quick navigate after press. It is only valid once\n                // and should not result in any behaviour change afterwards\n                // if the picker remains open because there was no active item\n                this._quickNavigate = undefined;\n            }\n        });\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        // store the scrollTop before it is reset\n        const scrollTopBefore = this.keepScrollPosition ? this.scrollTop : 0;\n        const hasDescription = !!this.description;\n        const visibilities = {\n            title: !!this.title || !!this.step || !!this.buttons.length,\n            description: hasDescription,\n            checkAll: this.canSelectMany && !this._hideCheckAll,\n            checkBox: this.canSelectMany,\n            inputBox: !this._hideInput,\n            progressBar: !this._hideInput || hasDescription,\n            visibleCount: true,\n            count: this.canSelectMany && !this._hideCountBadge,\n            ok: this.ok === 'default' ? this.canSelectMany : this.ok,\n            list: true,\n            message: !!this.validationMessage,\n            customButton: this.customButton\n        };\n        this.ui.setVisibilities(visibilities);\n        super.update();\n        if (this.ui.inputBox.value !== this.value) {\n            this.ui.inputBox.value = this.value;\n        }\n        if (this.valueSelectionUpdated) {\n            this.valueSelectionUpdated = false;\n            this.ui.inputBox.select(this._valueSelection && { start: this._valueSelection[0], end: this._valueSelection[1] });\n        }\n        if (this.ui.inputBox.placeholder !== (this.placeholder || '')) {\n            this.ui.inputBox.placeholder = (this.placeholder || '');\n        }\n        let ariaLabel = this.ariaLabel;\n        // Only set aria label to the input box placeholder if we actually have an input box.\n        if (!ariaLabel && visibilities.inputBox) {\n            ariaLabel = this.placeholder || QuickPick.DEFAULT_ARIA_LABEL;\n            // If we have a title, include it in the aria label.\n            if (this.title) {\n                ariaLabel += ` - ${this.title}`;\n            }\n        }\n        if (this.ui.list.ariaLabel !== ariaLabel) {\n            this.ui.list.ariaLabel = withUndefinedAsNull(ariaLabel);\n        }\n        this.ui.list.matchOnDescription = this.matchOnDescription;\n        this.ui.list.matchOnDetail = this.matchOnDetail;\n        this.ui.list.matchOnLabel = this.matchOnLabel;\n        this.ui.list.matchOnLabelMode = this.matchOnLabelMode;\n        this.ui.list.sortByLabel = this.sortByLabel;\n        if (this.itemsUpdated) {\n            this.itemsUpdated = false;\n            this.ui.list.setElements(this.items);\n            this.ui.list.filter(this.filterValue(this.ui.inputBox.value));\n            this.ui.checkAll.checked = this.ui.list.getAllVisibleChecked();\n            this.ui.visibleCount.setCount(this.ui.list.getVisibleCount());\n            this.ui.count.setCount(this.ui.list.getCheckedCount());\n            switch (this._itemActivation) {\n                case ItemActivation.NONE:\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.SECOND:\n                    this.ui.list.focus(QuickInputListFocus.Second);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.LAST:\n                    this.ui.list.focus(QuickInputListFocus.Last);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                default:\n                    this.trySelectFirst();\n                    break;\n            }\n        }\n        if (this.ui.container.classList.contains('show-checkboxes') !== !!this.canSelectMany) {\n            if (this.canSelectMany) {\n                this.ui.list.clearFocus();\n            }\n            else {\n                this.trySelectFirst();\n            }\n        }\n        if (this.activeItemsUpdated) {\n            this.activeItemsUpdated = false;\n            this.activeItemsToConfirm = this._activeItems;\n            this.ui.list.setFocusedElements(this.activeItems);\n            if (this.activeItemsToConfirm === this._activeItems) {\n                this.activeItemsToConfirm = null;\n            }\n        }\n        if (this.selectedItemsUpdated) {\n            this.selectedItemsUpdated = false;\n            this.selectedItemsToConfirm = this._selectedItems;\n            if (this.canSelectMany) {\n                this.ui.list.setCheckedElements(this.selectedItems);\n            }\n            else {\n                this.ui.list.setSelectedElements(this.selectedItems);\n            }\n            if (this.selectedItemsToConfirm === this._selectedItems) {\n                this.selectedItemsToConfirm = null;\n            }\n        }\n        this.ui.customButton.label = this.customLabel || '';\n        this.ui.customButton.element.title = this.customHover || '';\n        if (!visibilities.inputBox) {\n            // we need to move focus into the tree to detect keybindings\n            // properly when the input box is not visible (quick nav)\n            this.ui.list.domFocus();\n            // Focus the first element in the list if multiselect is enabled\n            if (this.canSelectMany) {\n                this.ui.list.focus(QuickInputListFocus.First);\n            }\n        }\n        // Set the scroll position to what it was before updating the items\n        if (this.keepScrollPosition) {\n            this.scrollTop = scrollTopBefore;\n        }\n    }\n}\nQuickPick.DEFAULT_ARIA_LABEL = localize('quickInputBox.ariaLabel', \"Type to narrow down results.\");\nclass InputBox extends QuickInput {\n    constructor() {\n        super(...arguments);\n        this._value = '';\n        this.valueSelectionUpdated = true;\n        this._password = false;\n        this.onDidValueChangeEmitter = this._register(new Emitter());\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidChangeValue = this.onDidValueChangeEmitter.event;\n        this.onDidAccept = this.onDidAcceptEmitter.event;\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this._value = value || '';\n        this.update();\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set placeholder(placeholder) {\n        this._placeholder = placeholder;\n        this.update();\n    }\n    get password() {\n        return this._password;\n    }\n    set password(password) {\n        this._password = password;\n        this.update();\n    }\n    show() {\n        if (!this.visible) {\n            this.visibleDisposables.add(this.ui.inputBox.onDidChange(value => {\n                if (value === this.value) {\n                    return;\n                }\n                this._value = value;\n                this.onDidValueChangeEmitter.fire(value);\n            }));\n            this.visibleDisposables.add(this.ui.onDidAccept(() => this.onDidAcceptEmitter.fire()));\n            this.valueSelectionUpdated = true;\n        }\n        super.show();\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        this.ui.container.classList.remove('hidden-input');\n        const visibilities = {\n            title: !!this.title || !!this.step || !!this.buttons.length,\n            description: !!this.description || !!this.step,\n            inputBox: true,\n            message: true,\n            progressBar: true\n        };\n        this.ui.setVisibilities(visibilities);\n        super.update();\n        if (this.ui.inputBox.value !== this.value) {\n            this.ui.inputBox.value = this.value;\n        }\n        if (this.valueSelectionUpdated) {\n            this.valueSelectionUpdated = false;\n            this.ui.inputBox.select(this._valueSelection && { start: this._valueSelection[0], end: this._valueSelection[1] });\n        }\n        if (this.ui.inputBox.placeholder !== (this.placeholder || '')) {\n            this.ui.inputBox.placeholder = (this.placeholder || '');\n        }\n        if (this.ui.inputBox.password !== this.password) {\n            this.ui.inputBox.password = this.password;\n        }\n    }\n}\nexport class QuickInputController extends Disposable {\n    constructor(options) {\n        super();\n        this.options = options;\n        this.enabled = true;\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.keyMods = { ctrlCmd: false, alt: false };\n        this.controller = null;\n        this.onShowEmitter = this._register(new Emitter());\n        this.onShow = this.onShowEmitter.event;\n        this.onHideEmitter = this._register(new Emitter());\n        this.onHide = this.onHideEmitter.event;\n        this.idPrefix = options.idPrefix;\n        this.parentElement = options.container;\n        this.styles = options.styles;\n        this.registerKeyModsListeners();\n    }\n    registerKeyModsListeners() {\n        const listener = (e) => {\n            this.keyMods.ctrlCmd = e.ctrlKey || e.metaKey;\n            this.keyMods.alt = e.altKey;\n        };\n        this._register(dom.addDisposableListener(window, dom.EventType.KEY_DOWN, listener, true));\n        this._register(dom.addDisposableListener(window, dom.EventType.KEY_UP, listener, true));\n        this._register(dom.addDisposableListener(window, dom.EventType.MOUSE_DOWN, listener, true));\n    }\n    getUI() {\n        if (this.ui) {\n            return this.ui;\n        }\n        const container = dom.append(this.parentElement, $('.quick-input-widget.show-file-icons'));\n        container.tabIndex = -1;\n        container.style.display = 'none';\n        const styleSheet = dom.createStyleSheet(container);\n        const titleBar = dom.append(container, $('.quick-input-titlebar'));\n        const leftActionBar = this._register(new ActionBar(titleBar));\n        leftActionBar.domNode.classList.add('quick-input-left-action-bar');\n        const title = dom.append(titleBar, $('.quick-input-title'));\n        const rightActionBar = this._register(new ActionBar(titleBar));\n        rightActionBar.domNode.classList.add('quick-input-right-action-bar');\n        const headerContainer = dom.append(container, $('.quick-input-header'));\n        const checkAll = dom.append(headerContainer, $('input.quick-input-check-all'));\n        checkAll.type = 'checkbox';\n        checkAll.setAttribute('aria-label', localize('quickInput.checkAll', \"Toggle all checkboxes\"));\n        this._register(dom.addStandardDisposableListener(checkAll, dom.EventType.CHANGE, e => {\n            const checked = checkAll.checked;\n            list.setAllVisibleChecked(checked);\n        }));\n        this._register(dom.addDisposableListener(checkAll, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space'...\n                inputBox.setFocus();\n            }\n        }));\n        const description2 = dom.append(headerContainer, $('.quick-input-description'));\n        const inputContainer = dom.append(headerContainer, $('.quick-input-and-message'));\n        const filterContainer = dom.append(inputContainer, $('.quick-input-filter'));\n        const inputBox = this._register(new QuickInputBox(filterContainer, this.styles.inputBox, this.styles.toggle));\n        inputBox.setAttribute('aria-describedby', `${this.idPrefix}message`);\n        const visibleCountContainer = dom.append(filterContainer, $('.quick-input-visible-count'));\n        visibleCountContainer.setAttribute('aria-live', 'polite');\n        visibleCountContainer.setAttribute('aria-atomic', 'true');\n        const visibleCount = new CountBadge(visibleCountContainer, { countFormat: localize({ key: 'quickInput.visibleCount', comment: ['This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers.'] }, \"{0} Results\") }, this.styles.countBadge);\n        const countContainer = dom.append(filterContainer, $('.quick-input-count'));\n        countContainer.setAttribute('aria-live', 'polite');\n        const count = new CountBadge(countContainer, { countFormat: localize({ key: 'quickInput.countSelected', comment: ['This tells the user how many items are selected in a list of items to select from. The items can be anything.'] }, \"{0} Selected\") }, this.styles.countBadge);\n        const okContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const ok = new Button(okContainer, this.styles.button);\n        ok.label = localize('ok', \"OK\");\n        this._register(ok.onDidClick(e => {\n            this.onDidAcceptEmitter.fire();\n        }));\n        const customButtonContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const customButton = new Button(customButtonContainer, this.styles.button);\n        customButton.label = localize('custom', \"Custom\");\n        this._register(customButton.onDidClick(e => {\n            this.onDidCustomEmitter.fire();\n        }));\n        const message = dom.append(inputContainer, $(`#${this.idPrefix}message.quick-input-message`));\n        const progressBar = new ProgressBar(container, this.styles.progressBar);\n        progressBar.getContainer().classList.add('quick-input-progress');\n        const widget = dom.append(container, $('.quick-input-html-widget'));\n        widget.tabIndex = -1;\n        const description1 = dom.append(container, $('.quick-input-description'));\n        const listId = this.idPrefix + 'list';\n        const list = this._register(new QuickInputList(container, listId, this.options));\n        inputBox.setAttribute('aria-controls', listId);\n        this._register(list.onDidChangeFocus(() => {\n            var _a;\n            inputBox.setAttribute('aria-activedescendant', (_a = list.getActiveDescendant()) !== null && _a !== void 0 ? _a : '');\n        }));\n        this._register(list.onChangedAllVisibleChecked(checked => {\n            checkAll.checked = checked;\n        }));\n        this._register(list.onChangedVisibleCount(c => {\n            visibleCount.setCount(c);\n        }));\n        this._register(list.onChangedCheckedCount(c => {\n            count.setCount(c);\n        }));\n        this._register(list.onLeave(() => {\n            // Defer to avoid the input field reacting to the triggering key.\n            setTimeout(() => {\n                inputBox.setFocus();\n                if (this.controller instanceof QuickPick && this.controller.canSelectMany) {\n                    list.clearFocus();\n                }\n            }, 0);\n        }));\n        const focusTracker = dom.trackFocus(container);\n        this._register(focusTracker);\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, e => {\n            this.previousFocusElement = e.relatedTarget instanceof HTMLElement ? e.relatedTarget : undefined;\n        }, true));\n        this._register(focusTracker.onDidBlur(() => {\n            if (!this.getUI().ignoreFocusOut && !this.options.ignoreFocusOut()) {\n                this.hide(QuickInputHideReason.Blur);\n            }\n            this.previousFocusElement = undefined;\n        }));\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, (e) => {\n            inputBox.setFocus();\n        }));\n        this._register(dom.addDisposableListener(container, dom.EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 3 /* KeyCode.Enter */:\n                    dom.EventHelper.stop(e, true);\n                    if (this.enabled) {\n                        this.onDidAcceptEmitter.fire();\n                    }\n                    break;\n                case 9 /* KeyCode.Escape */:\n                    dom.EventHelper.stop(e, true);\n                    this.hide(QuickInputHideReason.Gesture);\n                    break;\n                case 2 /* KeyCode.Tab */:\n                    if (!event.altKey && !event.ctrlKey && !event.metaKey) {\n                        // detect only visible actions\n                        const selectors = [\n                            '.quick-input-list .monaco-action-bar .always-visible',\n                            '.quick-input-list-entry:hover .monaco-action-bar',\n                            '.monaco-list-row.focused .monaco-action-bar'\n                        ];\n                        if (container.classList.contains('show-checkboxes')) {\n                            selectors.push('input');\n                        }\n                        else {\n                            selectors.push('input[type=text]');\n                        }\n                        if (this.getUI().list.isDisplayed()) {\n                            selectors.push('.monaco-list');\n                        }\n                        // focus links if there are any\n                        if (this.getUI().message) {\n                            selectors.push('.quick-input-message a');\n                        }\n                        if (this.getUI().widget) {\n                            if (dom.isAncestor(event.target, this.getUI().widget)) {\n                                // let the widget control tab\n                                break;\n                            }\n                            selectors.push('.quick-input-html-widget');\n                        }\n                        const stops = container.querySelectorAll(selectors.join(', '));\n                        if (event.shiftKey && event.target === stops[0]) {\n                            // Clear the focus from the list in order to allow\n                            // screen readers to read operations in the input box.\n                            dom.EventHelper.stop(e, true);\n                            list.clearFocus();\n                        }\n                        else if (!event.shiftKey && dom.isAncestor(event.target, stops[stops.length - 1])) {\n                            dom.EventHelper.stop(e, true);\n                            stops[0].focus();\n                        }\n                    }\n                    break;\n                case 10 /* KeyCode.Space */:\n                    if (event.ctrlKey) {\n                        dom.EventHelper.stop(e, true);\n                        this.getUI().list.toggleHover();\n                    }\n                    break;\n            }\n        }));\n        this.ui = {\n            container,\n            styleSheet,\n            leftActionBar,\n            titleBar,\n            title,\n            description1,\n            description2,\n            widget,\n            rightActionBar,\n            checkAll,\n            inputContainer,\n            filterContainer,\n            inputBox,\n            visibleCountContainer,\n            visibleCount,\n            countContainer,\n            count,\n            okContainer,\n            ok,\n            message,\n            customButtonContainer,\n            customButton,\n            list,\n            progressBar,\n            onDidAccept: this.onDidAcceptEmitter.event,\n            onDidCustom: this.onDidCustomEmitter.event,\n            onDidTriggerButton: this.onDidTriggerButtonEmitter.event,\n            ignoreFocusOut: false,\n            keyMods: this.keyMods,\n            show: controller => this.show(controller),\n            hide: () => this.hide(),\n            setVisibilities: visibilities => this.setVisibilities(visibilities),\n            setEnabled: enabled => this.setEnabled(enabled),\n            setContextKey: contextKey => this.options.setContextKey(contextKey),\n            linkOpenerDelegate: content => this.options.linkOpenerDelegate(content)\n        };\n        this.updateStyles();\n        return this.ui;\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return new Promise((doResolve, reject) => {\n            let resolve = (result) => {\n                var _a;\n                resolve = doResolve;\n                (_a = options.onKeyMods) === null || _a === void 0 ? void 0 : _a.call(options, input.keyMods);\n                doResolve(result);\n            };\n            if (token.isCancellationRequested) {\n                resolve(undefined);\n                return;\n            }\n            const input = this.createQuickPick();\n            let activeItem;\n            const disposables = [\n                input,\n                input.onDidAccept(() => {\n                    if (input.canSelectMany) {\n                        resolve(input.selectedItems.slice());\n                        input.hide();\n                    }\n                    else {\n                        const result = input.activeItems[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidChangeActive(items => {\n                    const focused = items[0];\n                    if (focused && options.onDidFocus) {\n                        options.onDidFocus(focused);\n                    }\n                }),\n                input.onDidChangeSelection(items => {\n                    if (!input.canSelectMany) {\n                        const result = items[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidTriggerItemButton(event => options.onDidTriggerItemButton && options.onDidTriggerItemButton(Object.assign(Object.assign({}, event), { removeItem: () => {\n                        const index = input.items.indexOf(event.item);\n                        if (index !== -1) {\n                            const items = input.items.slice();\n                            const removed = items.splice(index, 1);\n                            const activeItems = input.activeItems.filter(activeItem => activeItem !== removed[0]);\n                            const keepScrollPositionBefore = input.keepScrollPosition;\n                            input.keepScrollPosition = true;\n                            input.items = items;\n                            if (activeItems) {\n                                input.activeItems = activeItems;\n                            }\n                            input.keepScrollPosition = keepScrollPositionBefore;\n                        }\n                    } }))),\n                input.onDidTriggerSeparatorButton(event => { var _a; return (_a = options.onDidTriggerSeparatorButton) === null || _a === void 0 ? void 0 : _a.call(options, event); }),\n                input.onDidChangeValue(value => {\n                    if (activeItem && !value && (input.activeItems.length !== 1 || input.activeItems[0] !== activeItem)) {\n                        input.activeItems = [activeItem];\n                    }\n                }),\n                token.onCancellationRequested(() => {\n                    input.hide();\n                }),\n                input.onDidHide(() => {\n                    dispose(disposables);\n                    resolve(undefined);\n                }),\n            ];\n            input.title = options.title;\n            input.canSelectMany = !!options.canPickMany;\n            input.placeholder = options.placeHolder;\n            input.ignoreFocusOut = !!options.ignoreFocusLost;\n            input.matchOnDescription = !!options.matchOnDescription;\n            input.matchOnDetail = !!options.matchOnDetail;\n            input.matchOnLabel = (options.matchOnLabel === undefined) || options.matchOnLabel; // default to true\n            input.autoFocusOnList = (options.autoFocusOnList === undefined) || options.autoFocusOnList; // default to true\n            input.quickNavigate = options.quickNavigate;\n            input.hideInput = !!options.hideInput;\n            input.contextKey = options.contextKey;\n            input.busy = true;\n            Promise.all([picks, options.activeItem])\n                .then(([items, _activeItem]) => {\n                activeItem = _activeItem;\n                input.busy = false;\n                input.items = items;\n                if (input.canSelectMany) {\n                    input.selectedItems = items.filter(item => item.type !== 'separator' && item.picked);\n                }\n                if (activeItem) {\n                    input.activeItems = [activeItem];\n                }\n            });\n            input.show();\n            Promise.resolve(picks).then(undefined, err => {\n                reject(err);\n                input.hide();\n            });\n        });\n    }\n    createQuickPick() {\n        const ui = this.getUI();\n        return new QuickPick(ui);\n    }\n    createInputBox() {\n        const ui = this.getUI();\n        return new InputBox(ui);\n    }\n    show(controller) {\n        const ui = this.getUI();\n        this.onShowEmitter.fire();\n        const oldController = this.controller;\n        this.controller = controller;\n        oldController === null || oldController === void 0 ? void 0 : oldController.didHide();\n        this.setEnabled(true);\n        ui.leftActionBar.clear();\n        ui.title.textContent = '';\n        ui.description1.textContent = '';\n        ui.description2.textContent = '';\n        dom.reset(ui.widget);\n        ui.rightActionBar.clear();\n        ui.checkAll.checked = false;\n        // ui.inputBox.value = ''; Avoid triggering an event.\n        ui.inputBox.placeholder = '';\n        ui.inputBox.password = false;\n        ui.inputBox.showDecoration(Severity.Ignore);\n        ui.visibleCount.setCount(0);\n        ui.count.setCount(0);\n        dom.reset(ui.message);\n        ui.progressBar.stop();\n        ui.list.setElements([]);\n        ui.list.matchOnDescription = false;\n        ui.list.matchOnDetail = false;\n        ui.list.matchOnLabel = true;\n        ui.list.sortByLabel = true;\n        ui.ignoreFocusOut = false;\n        ui.inputBox.toggles = undefined;\n        const backKeybindingLabel = this.options.backKeybindingLabel();\n        backButton.tooltip = backKeybindingLabel ? localize('quickInput.backWithKeybinding', \"Back ({0})\", backKeybindingLabel) : localize('quickInput.back', \"Back\");\n        ui.container.style.display = '';\n        this.updateLayout();\n        ui.inputBox.setFocus();\n    }\n    setVisibilities(visibilities) {\n        const ui = this.getUI();\n        ui.title.style.display = visibilities.title ? '' : 'none';\n        ui.description1.style.display = visibilities.description && (visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.description2.style.display = visibilities.description && !(visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.checkAll.style.display = visibilities.checkAll ? '' : 'none';\n        ui.inputContainer.style.display = visibilities.inputBox ? '' : 'none';\n        ui.filterContainer.style.display = visibilities.inputBox ? '' : 'none';\n        ui.visibleCountContainer.style.display = visibilities.visibleCount ? '' : 'none';\n        ui.countContainer.style.display = visibilities.count ? '' : 'none';\n        ui.okContainer.style.display = visibilities.ok ? '' : 'none';\n        ui.customButtonContainer.style.display = visibilities.customButton ? '' : 'none';\n        ui.message.style.display = visibilities.message ? '' : 'none';\n        ui.progressBar.getContainer().style.display = visibilities.progressBar ? '' : 'none';\n        ui.list.display(!!visibilities.list);\n        ui.container.classList.toggle('show-checkboxes', !!visibilities.checkBox);\n        ui.container.classList.toggle('hidden-input', !visibilities.inputBox && !visibilities.description);\n        this.updateLayout(); // TODO\n    }\n    setEnabled(enabled) {\n        if (enabled !== this.enabled) {\n            this.enabled = enabled;\n            for (const item of this.getUI().leftActionBar.viewItems) {\n                item.action.enabled = enabled;\n            }\n            for (const item of this.getUI().rightActionBar.viewItems) {\n                item.action.enabled = enabled;\n            }\n            this.getUI().checkAll.disabled = !enabled;\n            this.getUI().inputBox.enabled = enabled;\n            this.getUI().ok.enabled = enabled;\n            this.getUI().list.enabled = enabled;\n        }\n    }\n    hide(reason) {\n        var _a;\n        const controller = this.controller;\n        if (controller) {\n            const focusChanged = !((_a = this.ui) === null || _a === void 0 ? void 0 : _a.container.contains(document.activeElement));\n            this.controller = null;\n            this.onHideEmitter.fire();\n            this.getUI().container.style.display = 'none';\n            if (!focusChanged) {\n                let currentElement = this.previousFocusElement;\n                while (currentElement && !currentElement.offsetParent) {\n                    currentElement = withNullAsUndefined(currentElement.parentElement);\n                }\n                if (currentElement === null || currentElement === void 0 ? void 0 : currentElement.offsetParent) {\n                    currentElement.focus();\n                    this.previousFocusElement = undefined;\n                }\n                else {\n                    this.options.returnFocus();\n                }\n            }\n            controller.didHide(reason);\n        }\n    }\n    layout(dimension, titleBarOffset) {\n        this.dimension = dimension;\n        this.titleBarOffset = titleBarOffset;\n        this.updateLayout();\n    }\n    updateLayout() {\n        if (this.ui && this.isDisplayed()) {\n            this.ui.container.style.top = `${this.titleBarOffset}px`;\n            const style = this.ui.container.style;\n            const width = Math.min(this.dimension.width * 0.62 /* golden cut */, QuickInputController.MAX_WIDTH);\n            style.width = width + 'px';\n            style.marginLeft = '-' + (width / 2) + 'px';\n            this.ui.inputBox.layout();\n            this.ui.list.layout(this.dimension && this.dimension.height * 0.4);\n        }\n    }\n    applyStyles(styles) {\n        this.styles = styles;\n        this.updateStyles();\n    }\n    updateStyles() {\n        if (this.ui) {\n            const { quickInputTitleBackground, quickInputBackground, quickInputForeground, widgetBorder, widgetShadow, } = this.styles.widget;\n            this.ui.titleBar.style.backgroundColor = quickInputTitleBackground !== null && quickInputTitleBackground !== void 0 ? quickInputTitleBackground : '';\n            this.ui.container.style.backgroundColor = quickInputBackground !== null && quickInputBackground !== void 0 ? quickInputBackground : '';\n            this.ui.container.style.color = quickInputForeground !== null && quickInputForeground !== void 0 ? quickInputForeground : '';\n            this.ui.container.style.border = widgetBorder ? `1px solid ${widgetBorder}` : '';\n            this.ui.container.style.boxShadow = widgetShadow ? `0 0 8px 2px ${widgetShadow}` : '';\n            this.ui.list.style(this.styles.list);\n            const content = [];\n            if (this.styles.pickerGroup.pickerGroupBorder) {\n                content.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`);\n            }\n            if (this.styles.pickerGroup.pickerGroupForeground) {\n                content.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);\n            }\n            if (this.styles.pickerGroup.pickerGroupForeground) {\n                content.push(`.quick-input-list .quick-input-list-separator-as-item { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);\n            }\n            if (this.styles.keybindingLabel.keybindingLabelBackground ||\n                this.styles.keybindingLabel.keybindingLabelBorder ||\n                this.styles.keybindingLabel.keybindingLabelBottomBorder ||\n                this.styles.keybindingLabel.keybindingLabelShadow ||\n                this.styles.keybindingLabel.keybindingLabelForeground) {\n                content.push('.quick-input-list .monaco-keybinding > .monaco-keybinding-key {');\n                if (this.styles.keybindingLabel.keybindingLabelBackground) {\n                    content.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBorder) {\n                    // Order matters here. `border-color` must come before `border-bottom-color`.\n                    content.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBottomBorder) {\n                    content.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelShadow) {\n                    content.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelForeground) {\n                    content.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`);\n                }\n                content.push('}');\n            }\n            const newStyles = content.join('\\n');\n            if (newStyles !== this.ui.styleSheet.textContent) {\n                this.ui.styleSheet.textContent = newStyles;\n            }\n        }\n    }\n    isDisplayed() {\n        return this.ui && this.ui.container.style.display !== 'none';\n    }\n}\nQuickInputController.MAX_WIDTH = 600; // Max total width of quick input widget\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { WorkbenchList } from '../../list/browser/listService.js';\nimport { IOpenerService } from '../../opener/common/opener.js';\nimport { QuickAccessController } from './quickAccess.js';\nimport { defaultButtonStyles, defaultCountBadgeStyles, defaultInputBoxStyles, defaultKeybindingLabelStyles, defaultProgressBarStyles, defaultToggleStyles, getListStyles } from '../../theme/browser/defaultStyles.js';\nimport { activeContrastBorder, asCssVariable, pickerGroupBorder, pickerGroupForeground, quickInputBackground, quickInputForeground, quickInputListFocusBackground, quickInputListFocusForeground, quickInputListFocusIconForeground, quickInputTitleBackground, widgetBorder, widgetShadow } from '../../theme/common/colorRegistry.js';\nimport { IThemeService, Themable } from '../../theme/common/themeService.js';\nimport { QuickInputController } from './quickInput.js';\nlet QuickInputService = class QuickInputService extends Themable {\n    get controller() {\n        if (!this._controller) {\n            this._controller = this._register(this.createController());\n        }\n        return this._controller;\n    }\n    get hasController() { return !!this._controller; }\n    get quickAccess() {\n        if (!this._quickAccess) {\n            this._quickAccess = this._register(this.instantiationService.createInstance(QuickAccessController));\n        }\n        return this._quickAccess;\n    }\n    constructor(instantiationService, contextKeyService, themeService, layoutService) {\n        super(themeService);\n        this.instantiationService = instantiationService;\n        this.contextKeyService = contextKeyService;\n        this.layoutService = layoutService;\n        this._onShow = this._register(new Emitter());\n        this._onHide = this._register(new Emitter());\n        this.contexts = new Map();\n    }\n    createController(host = this.layoutService, options) {\n        const defaultOptions = {\n            idPrefix: 'quickInput_',\n            container: host.container,\n            ignoreFocusOut: () => false,\n            backKeybindingLabel: () => undefined,\n            setContextKey: (id) => this.setContextKey(id),\n            linkOpenerDelegate: (content) => {\n                // HACK: https://github.com/microsoft/vscode/issues/173691\n                this.instantiationService.invokeFunction(accessor => {\n                    const openerService = accessor.get(IOpenerService);\n                    openerService.open(content, { allowCommands: true, fromUserGesture: true });\n                });\n            },\n            returnFocus: () => host.focus(),\n            createList: (user, container, delegate, renderers, options) => this.instantiationService.createInstance(WorkbenchList, user, container, delegate, renderers, options),\n            hoverDelegate: {\n                showHover(options, focus) {\n                    return undefined;\n                },\n                delay: 200\n            },\n            styles: this.computeStyles()\n        };\n        const controller = this._register(new QuickInputController(Object.assign(Object.assign({}, defaultOptions), options)));\n        controller.layout(host.dimension, host.offset.quickPickTop);\n        // Layout changes\n        this._register(host.onDidLayout(dimension => controller.layout(dimension, host.offset.quickPickTop)));\n        // Context keys\n        this._register(controller.onShow(() => {\n            this.resetContextKeys();\n            this._onShow.fire();\n        }));\n        this._register(controller.onHide(() => {\n            this.resetContextKeys();\n            this._onHide.fire();\n        }));\n        return controller;\n    }\n    setContextKey(id) {\n        let key;\n        if (id) {\n            key = this.contexts.get(id);\n            if (!key) {\n                key = new RawContextKey(id, false)\n                    .bindTo(this.contextKeyService);\n                this.contexts.set(id, key);\n            }\n        }\n        if (key && key.get()) {\n            return; // already active context\n        }\n        this.resetContextKeys();\n        key === null || key === void 0 ? void 0 : key.set(true);\n    }\n    resetContextKeys() {\n        this.contexts.forEach(context => {\n            if (context.get()) {\n                context.reset();\n            }\n        });\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return this.controller.pick(picks, options, token);\n    }\n    createQuickPick() {\n        return this.controller.createQuickPick();\n    }\n    createInputBox() {\n        return this.controller.createInputBox();\n    }\n    updateStyles() {\n        if (this.hasController) {\n            this.controller.applyStyles(this.computeStyles());\n        }\n    }\n    computeStyles() {\n        return {\n            widget: {\n                quickInputBackground: asCssVariable(quickInputBackground),\n                quickInputForeground: asCssVariable(quickInputForeground),\n                quickInputTitleBackground: asCssVariable(quickInputTitleBackground),\n                widgetBorder: asCssVariable(widgetBorder),\n                widgetShadow: asCssVariable(widgetShadow),\n            },\n            inputBox: defaultInputBoxStyles,\n            toggle: defaultToggleStyles,\n            countBadge: defaultCountBadgeStyles,\n            button: defaultButtonStyles,\n            progressBar: defaultProgressBarStyles,\n            keybindingLabel: defaultKeybindingLabelStyles,\n            list: getListStyles({\n                listBackground: quickInputBackground,\n                listFocusBackground: quickInputListFocusBackground,\n                listFocusForeground: quickInputListFocusForeground,\n                // Look like focused when inactive.\n                listInactiveFocusForeground: quickInputListFocusForeground,\n                listInactiveSelectionIconForeground: quickInputListFocusIconForeground,\n                listInactiveFocusBackground: quickInputListFocusBackground,\n                listFocusOutline: activeContrastBorder,\n                listInactiveFocusOutline: activeContrastBorder,\n            }),\n            pickerGroup: {\n                pickerGroupBorder: asCssVariable(pickerGroupBorder),\n                pickerGroupForeground: asCssVariable(pickerGroupForeground),\n            },\n            colorScheme: this.themeService.getColorTheme().type\n        };\n    }\n};\nQuickInputService = __decorate([\n    __param(0, IInstantiationService),\n    __param(1, IContextKeyService),\n    __param(2, IThemeService),\n    __param(3, ILayoutService)\n], QuickInputService);\nexport { QuickInputService };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { coalesce } from '../../../base/common/arrays.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { Registry } from '../../registry/common/platform.js';\nexport var DefaultQuickAccessFilterValue;\n(function (DefaultQuickAccessFilterValue) {\n    /**\n     * Keep the value as it is given to quick access.\n     */\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"PRESERVE\"] = 0] = \"PRESERVE\";\n    /**\n     * Use the value that was used last time something was accepted from the picker.\n     */\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"LAST\"] = 1] = \"LAST\";\n})(DefaultQuickAccessFilterValue || (DefaultQuickAccessFilterValue = {}));\nexport const Extensions = {\n    Quickaccess: 'workbench.contributions.quickaccess'\n};\nexport class QuickAccessRegistry {\n    constructor() {\n        this.providers = [];\n        this.defaultProvider = undefined;\n    }\n    registerQuickAccessProvider(provider) {\n        // Extract the default provider when no prefix is present\n        if (provider.prefix.length === 0) {\n            this.defaultProvider = provider;\n        }\n        else {\n            this.providers.push(provider);\n        }\n        // sort the providers by decreasing prefix length, such that longer\n        // prefixes take priority: 'ext' vs 'ext install' - the latter should win\n        this.providers.sort((providerA, providerB) => providerB.prefix.length - providerA.prefix.length);\n        return toDisposable(() => {\n            this.providers.splice(this.providers.indexOf(provider), 1);\n            if (this.defaultProvider === provider) {\n                this.defaultProvider = undefined;\n            }\n        });\n    }\n    getQuickAccessProviders() {\n        return coalesce([this.defaultProvider, ...this.providers]);\n    }\n    getQuickAccessProvider(prefix) {\n        const result = prefix ? (this.providers.find(provider => prefix.startsWith(provider.prefix)) || undefined) : undefined;\n        return result || this.defaultProvider;\n    }\n}\nRegistry.add(Extensions.Quickaccess, new QuickAccessRegistry());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const NO_KEY_MODS = { ctrlCmd: false, alt: false };\nexport var QuickInputHideReason;\n(function (QuickInputHideReason) {\n    /**\n     * Focus moved away from the quick input.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Blur\"] = 1] = \"Blur\";\n    /**\n     * An explicit user gesture, e.g. pressing Escape key.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Gesture\"] = 2] = \"Gesture\";\n    /**\n     * Anything else.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Other\"] = 3] = \"Other\";\n})(QuickInputHideReason || (QuickInputHideReason = {}));\nexport var ItemActivation;\n(function (ItemActivation) {\n    ItemActivation[ItemActivation[\"NONE\"] = 0] = \"NONE\";\n    ItemActivation[ItemActivation[\"FIRST\"] = 1] = \"FIRST\";\n    ItemActivation[ItemActivation[\"SECOND\"] = 2] = \"SECOND\";\n    ItemActivation[ItemActivation[\"LAST\"] = 3] = \"LAST\";\n})(ItemActivation || (ItemActivation = {}));\nexport class QuickPickItemScorerAccessor {\n    constructor(options) {\n        this.options = options;\n    }\n}\nexport const quickPickItemScorerAccessor = new QuickPickItemScorerAccessor();\n//#endregion\nexport const IQuickInputService = createDecorator('quickInputService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Assert from '../../../base/common/assert.js';\nimport * as Types from '../../../base/common/types.js';\nclass RegistryImpl {\n    constructor() {\n        this.data = new Map();\n    }\n    add(id, data) {\n        Assert.ok(Types.isString(id));\n        Assert.ok(Types.isObject(data));\n        Assert.ok(!this.data.has(id), 'There is already an extension with this id');\n        this.data.set(id, data);\n    }\n    as(id) {\n        return this.data.get(id) || null;\n    }\n}\nexport const Registry = new RegistryImpl();\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './media/severityIcon.css';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport Severity from '../../../base/common/severity.js';\nexport var SeverityIcon;\n(function (SeverityIcon) {\n    function className(severity) {\n        switch (severity) {\n            case Severity.Ignore:\n                return 'severity-ignore ' + ThemeIcon.asClassName(Codicon.info);\n            case Severity.Info:\n                return ThemeIcon.asClassName(Codicon.info);\n            case Severity.Warning:\n                return ThemeIcon.asClassName(Codicon.warning);\n            case Severity.Error:\n                return ThemeIcon.asClassName(Codicon.error);\n            default:\n                return '';\n        }\n    }\n    SeverityIcon.className = className;\n})(SeverityIcon || (SeverityIcon = {}));\n"],"names":["IDialogService","createDecorator","CodeDataTransfers","EDITORS","FILES","DragAndDropContributionRegistry","_createClass","_classCallCheck","Registry","add","LocalSelectionTransfer","key","value","proto","this","hasData","data","INSTANCE","EditorOpenSource","IEnvironmentService","ExtensionIdentifier","_lower","toLowerCase","id","ExtensionIdentifierSet","iterable","_set","Set","_step","_iterator","_createForOfIteratorHelper","s","n","done","err","e","f","toKey","has","FileKind","__decorate","decorators","target","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","historyNavigationVisible","RawContextKey","localize","HistoryNavigationWidgetFocusContext","HistoryNavigationForwardsEnablementContext","HistoryNavigationBackwardsEnablementContext","lastFocusedWidget","undefined","widgets","registerAndCreateHistoryNavigationContext","scopedContextKeyService","widget","includes","Error","push","disposableStore","DisposableStore","historyNavigationWidgetFocus","bindTo","historyNavigationForwardsEnablement","historyNavigationBackwardsEnablement","onDidFocus","set","onDidBlur","element","document","activeElement","toDisposable","splice","indexOf","dispose","ContextScopedFindInput","_FindInput","_inherits","_super","_createSuper","container","contextViewProvider","options","contextKeyService","_this","call","_register","createScoped","inputBox","FindInput","IContextKeyService","ContextScopedReplaceInput","_ReplaceInput","_super2","_this2","showReplaceOptions","ReplaceInput","KeybindingsRegistry","registerCommandAndKeybindingRule","weight","when","ContextKeyExpr","and","equals","isEqualTo","primary","secondary","handler","accessor","showPreviousValue","showNextValue","showHistoryKeybindingHint","keybindingService","_a","_b","lookupKeybinding","getElectronAccelerator","SyncDescriptor","ctor","staticArguments","supportsDelayedInstantiation","_registry","registerSingleton","ctorOrDescriptor","Boolean","getSingletonServiceDescriptors","_util","serviceIds","Map","DI_TARGET","DI_DEPENDENCIES","getServiceDependencies","IInstantiationService","serviceId","get","index","storeServiceDependency","toString","Node","incoming","outgoing","Graph","_hashFn","_nodes","ret","values","node","size","from","to","fromNode","lookupOrInsertNode","toNode","delete","_step2","_iterator2","_step3","_iterator3","_step3$value","_slicedToArray","concat","_toConsumableArray","keys","join","_step4","_iterator4","_step4$value","seen","res","_findCycle","_step5","_iterator5","_step5$value","CyclicDependencyError","_Error","graph","message","findCycleSlow","_wrapNativeSuper","InstantiationService","_services","ServiceCollection","_strict","_parent","_enableTracing","_activeInstantiations","_globalGraph","services","fn","_trace","Trace","traceInvocation","_done","illegalState","result","_getOrCreateServiceInstance","_len","args","Array","_key","apply","stop","_len2","rest","_key2","traceCreation","_createInstance","serviceDependencies","sort","a","b","serviceArgs","dependency","service","_throwIfStrict","name","firstServiceArgPos","console","trace","delta","slice","construct","instance","_setServiceInstance","instanceOrDesc","_getServiceInstanceOrDescriptor","_globalGraphImplicitDependency","insertEdge","String","thing","_safeCreateAndCacheServiceInstance","branch","_createAndCacheServiceInstance","cycleCount","stack","item","pop","roots","isEmpty","_createServiceInstanceWithOwner","removeNode","_createServiceInstance","child","earlyListeners","idle","IdleValue","candidate","listener","clear","Proxy","create","isInitialized","startsWith","list","LinkedList","callback","thisArg","disposables","rm","obj","prop","bind","_target","p","getPrototypeOf","prototype","msg","printWarning","warn","type","_start","Date","now","_dep","first","dur","_totals","causedCreation","lines","printChild","_step6","prefix","_iterator6","_step6$value","nested","toFixed","all","split","_None","_Trace","_class","_entries","entries","_i","_entries$_i","instanceOrDescriptor","Extensions","JSONContribution","jsonContributionRegistry","JSONContributionRegistry","_onDidChangeSchema","Emitter","schemasById","uri","unresolvedSchemaContent","charAt","substring","fire","platform","HIGH_FREQ_COMMANDS","AbstractKeybindingService","_Disposable","_contextKeyService","_commandService","_telemetryService","_notificationService","_logService","_onDidUpdateKeybindings","_currentChords","_currentChordChecker","IntervalTimer","_currentChordStatusMessage","_ignoreSingleModifiers","KeybindingModifierSet","EMPTY","_currentSingleModifier","_currentSingleModifierClearTimeout","TimeoutTimer","_logging","event","Event","None","_get","_getPrototypeOf","str","info","_getResolver","getKeybindings","commandId","context","lookupPrimaryKeybinding","resolvedKeybinding","_dispatch","_log","keybinding","resolveKeyboardEvent","hasMultipleChords","NoMatchingKb","_keybinding$getDispat","getDispatchChords","firstChord","contextValue","getContext","currentChords","map","_ref","keypress","resolve","chordLastInteractedTime","cancelAndSet","_documentHasFocus","_leaveChordMode","keypressLabel","label","status","nls","fullKeypressLabel","_ref2","_scheduleLeaveChordMode","IME","enabled","disable","cancel","enable","_doDispatch","_this3","_keybinding$getSingle","getSingleModifierDispatchChords","singleModifier","_keybinding$getChords","getChords","userKeypress","_this4","isSingleModiferChord","shouldPreventDefault","userPressedChord","_userKeypress$getSing","dispatchKeyname","_userKeypress$getDisp","_ref3","getLabel","resolveResult","kind","inChordMode","currentChordsLabel","_ref4","hideAfter","_expectAnotherChord","_ref5","isBubble","commandArgs","executeCommand","then","test","publicLog2","detail","getUserSettingsLabel","ctrlKey","metaKey","keyCode","Disposable","source","_ctrlKey","_shiftKey","shiftKey","_altKey","altKey","_metaKey","modifier","IKeybindingService","MoreChordsNeeded","KeybindingResolver","defaultKeybindings","overrides","log","_defaultKeybindings","_defaultBoundCommands","command","_map","_lookupMap","_keybindings","handleRemovals","len","k","chords","substituteConstants","_addKeyPress","conflicts","_addToLookupMap","conflict","isShorterKbPrefix","whenIsEntirelyIncluded","_removeFromLookupMap","arr","items","contextMatchesRules","pressedChords","kbCandidates","lookupMap","prefixMatches","_findCommand","printWhenExplanation","printSourceExplanation","bubble","matches","_contextMatchesRules","defaultKb","expressionsAreEqualWithConstantSubstitution","rules","removals","rule","commandRemovals","isDefault","isRemoved","commandRemoval","_isTargetedForRemoval","implies","evaluate","serialize","kb","extensionId","isBuiltinExtension","KeybindingsRegistryImpl","_coreKeybindings","_extensionKeybindings","_cachedMergedKeybindings","actualKb","bindToCurrentPlatform","kk","decodeKeybinding","OS","_registerDefaultKeybinding","isArray","combinedDisposable","registerKeybindingRule","CommandsRegistry","registerCommand","weight1","weight2","remove","sorter","win","mac","linux","ResolvedKeybindingItem","_resolvedKeybindingItemBrand","toEmptyArrayIfContainsNull","charCodeAt","substr","BaseResolvedKeybinding","_ResolvedKeybinding","os","illegalArgument","_os","_chords","UILabelProvider","toLabel","_getLabel","AriaLabelProvider","_getAriaLabel","isDuplicateModifierCase","ElectronAcceleratorLabelProvider","_getElectronAccelerator","_this5","UserSettingsLabelProvider","_getUserSettingsLabel","_this6","_getChord","ResolvedChord","_this7","_getChordDispatch","_this8","_getSingleModifierChordDispatch","ResolvedKeybinding","USLayoutResolvedKeybinding","_BaseResolvedKeybindi","KeyCodeUtils","chord","_keyCodeToUILabel","toElectronAccelerator","toUserSettingsUS","getDispatchStr","isModifierKey","scanCode","immutableKeyCode","IMMUTABLE_CODE_TO_KEY_CODE","KeyCodeChord","_scanCodeToKeyCode","_toKeyCodeChord","ILabelService","ILayoutService","IListService","ListService","lists","_lastFocusedWidget","_hasCreatedStyleController","getHTMLElement","classList","extraContextKeys","DefaultStyleController","createStyleSheet","style","defaultListStyles","some","l","registeredList","setLastFocusedList","onDidDispose","filter","RawWorkbenchListScrollAtBoundaryContextKey","RawWorkbenchListFocusContextKey","or","WorkbenchListSupportsMultiSelectContextKey","WorkbenchListFocusContextKey","not","InputFocusedContextKey","WorkbenchListHasSelectionOrFocus","WorkbenchListDoubleSelection","WorkbenchListMultiSelection","WorkbenchListSelectionNavigation","WorkbenchListSupportsFind","WorkbenchTreeElementCanCollapse","WorkbenchTreeElementHasParent","WorkbenchTreeElementCanExpand","WorkbenchTreeElementHasChild","WorkbenchTreeFindOpen","WorkbenchListTypeNavigationModeKey","WorkbenchListAutomaticKeyboardNavigationLegacyKey","createScopedContextKeyService","createScrollObserver","listScrollAt","update","atTop","scrollTop","atBottom","scrollHeight","renderHeight","onDidScroll","multiSelectModifierSettingKey","openModeSettingKey","horizontalScrollingKey","defaultFindModeSettingKey","typeNavigationModeSettingKey","keyboardNavigationSettingKey","scrollByPageKey","defaultFindMatchTypeSettingKey","treeIndentKey","treeRenderIndentGuidesKey","listSmoothScrolling","mouseWheelScrollSensitivityKey","fastScrollSensitivityKey","treeExpandMode","useAltAsMultipleSelectionModifier","configurationService","getValue","MultipleSelectionController","registerListeners","onDidChangeConfiguration","affectsConfiguration","browserEvent","isSelectionSingleChangeEvent","isSelectionRangeChangeEvent","toWorkbenchListOptions","IConfigurationService","assign","keyboardNavigationDelegate","mightProducePrintableCharacter","smoothScrolling","mouseWheelScrollSensitivity","fastScrollSensitivity","multipleSelectionController","keyboardNavigationEventFilter","createKeyboardNavigationEventFilter","scrollByPage","WorkbenchList","_List","user","delegate","renderers","listService","instantiationService","horizontalScrolling","_instantiationService","invokeFunction","_instantiationService2","workbenchListOptions","workbenchListOptionsDisposable","keyboardSupport","_assertThisInitialized","listSupportsMultiSelect","multipleSelectionSupport","selectionNavigation","listHasSelectionOrFocus","listDoubleSelection","listMultiSelection","_useAltAsMultipleSelectionModifier","register","updateStyles","overrideStyles","onDidChangeSelection","selection","getSelection","focus","getFocus","bufferChangeEvents","onDidChangeFocus","updateOptions","navigator","ListResourceNavigator","styles","getListStyles","List","WorkbenchPagedList","_PagedList","_super3","_instantiationService3","_instantiationService4","PagedList","WorkbenchTable","_Table","_super4","columns","_instantiationService5","_instantiationService6","TableResourceNavigator","Table","ResourceNavigator","_Disposable2","_super5","_onDidOpen","onDidOpen","KeyboardEvent","onSelectionFromKeyboard","onPointer","onMouseDblClick","openOnSingleClick","elements","selectionKeyboardEvent","preserveFocus","pinned","_open","getSelectedElement","button","sideBySide","contains","offsetX","editorOptions","revealIfVisible","_ResourceNavigator","_super6","getSelectedElements","_ResourceNavigator2","_super7","TreeResourceNavigator","_ResourceNavigator3","_super8","inMultiChord","toKeyCodeChord","softDispatch","WorkbenchObjectTree","_ObjectTree","_super9","_this9","_instantiationService7","workbenchTreeDataPreamble","treeOptions","getTypeNavigationMode","disposable","internals","WorkbenchTreeInternals","ObjectTree","WorkbenchCompressibleObjectTree","_CompressibleObjectTr","_super10","_this10","_instantiationService8","updateStyleOverrides","CompressibleObjectTree","WorkbenchDataTree","_DataTree","_super11","dataSource","_this11","_instantiationService9","DataTree","WorkbenchAsyncDataTree","_AsyncDataTree","_super12","_this12","_instantiationService10","AsyncDataTree","WorkbenchCompressibleAsyncDataTree","_CompressibleAsyncDat","_super13","virtualDelegate","compressionDelegate","_this13","_instantiationService11","CompressibleAsyncDataTree","getDefaultTreeFindMode","TreeFindMode","Highlight","Filter","deprecatedValue","getDefaultTreeFindMatchType","TreeFindMatchType","Fuzzy","Contiguous","contextViewService","IContextViewService","_instantiationService12","_instantiationService13","additionalScrollHeight","renderIndentGuides","modeString","getContextKeyValue","TypeNavigationMode","Automatic","Trigger","configString","indent","defaultFindMode","defaultFindMatchType","hideTwistiesOfChildlessElements","expandOnlyOnTwistieClick","findWidgetStyles","defaultFindWidgetStyles","tree","_this14","listSupportFindWidget","findWidgetEnabled","hasSelectionOrFocus","hasDoubleSelection","hasMultiSelection","treeElementCanCollapse","treeElementHasParent","treeElementCanExpand","treeElementHasChild","treeFindOpen","updateCollapseContextKeys","getNode","collapsible","collapsed","getParentElement","getFirstElementChild","interestingContextKeys","onDidChangeCollapseState","onDidChangeModel","onDidChangeFindOpenState","newOptions","typeNavigationMode","onDidChangeContext","affectsSome","as","ConfigurationExtensions","Configuration","registerConfiguration","order","title","properties","_properties","_defineProperty","enum","markdownEnumDescriptions","default","description","comment","minimum","maximum","markdownDescription","enumDescriptions","deprecated","deprecationMessage","LogLevel","ILogService","DEFAULT_LOG_LEVEL","Info","AbstractLogger","level","_onDidChangeLogLevel","onDidChangeLogLevel","Off","ConsoleLogger","_AbstractLogger","logLevel","useColors","setLevel","checkLogLevel","_console","_console2","Debug","_console3","_console4","_len3","_key3","_console5","_console6","Warning","_len4","_key4","_console7","_console8","_len5","_key5","_console9","_console10","error","MultiplexLogger","_AbstractLogger2","loggers","getLevel","_len6","_key6","logger","_len7","_key7","debug","_len8","_key8","_len9","_key9","_len10","_key10","_step7","_iterator7","LogLevelToString","LogService","primaryLogger","otherLoggers","_this$logger","_this$logger2","_this$logger3","_this$logger4","_this$logger5","unsupportedSchemas","Schemas","inMemory","vscodeSourceControl","walkThrough","walkThroughSnippet","DoubleResourceMap","_byResource","ResourceMap","_byOwner","resource","owner","ownerMap","resourceMap","removedA","removedB","_c","_d","Iterable","empty","URI","isUri","MarkerStats","errors","infos","warnings","unknowns","_data","_service","_subscription","onMarkerChanged","_update","resources","oldStats","_substract","newStats","_resourceStats","_add","scheme","read","severity","MarkerSeverity","op","MarkerService","_onMarkerChanged","DebounceEmitter","delay","merge","_merge","_stats","changeOne","markerData","isFalsyOrEmpty","markers","marker","_toMarker","changes","existing","isNonEmptyArray","groups","array","_step7$value","severities","take","_step8","_iterator8","_accept","newLen","_step11","_iterator11","_step12","_iterator12","_step9","_iterator9","_step10","_iterator10","code","startLineNumber","startColumn","endLineNumber","endColumn","relatedInformation","tags","_step13","_iterator13","_step14","_iterator14","IMarkerData","compare","_displayStrings","fromSeverity","Severity","Ignore","Hint","toSeverity","emptyString","makeKeyOptionalMessage","useMessage","replace","makeKey","IMarkerService","BaseSeverity","INotificationService","NoOpNotification","Link","_link","openerService","_enabled","el","append","$","tabIndex","href","setAttribute","onClickEmitter","DomEmitter","onKeyPress","onEnterPress","chain","StandardKeyboardEvent","onTap","TouchEventType","Tap","Gesture","addTarget","onOpen","any","EventHelper","opener","open","allowCommands","pointerEvents","opacity","cursor","IOpenerService","matchesScheme","equalsIgnoreCase","startsWithIgnoreCase","matchesSomeScheme","schemes","extractSelection","match","exec","fragment","parseInt","with","IProgressService","Progress","freeze","total","worked","opts","report","async","_reportAsync","_reportSync","_value","Promise","_lastTask","finally","IEditorProgressService","TriggerAction","__awaiter","_arguments","P","generator","reject","fulfilled","step","next","rejected","isPicksWithActive","isFastAndSlowPicks","picks","additionalPicks","PickerQuickAccessProvider","picker","token","runOptions","canAcceptInBackground","matchOnLabel","matchOnDescription","matchOnDetail","sortByLabel","picksCts","picksDisposable","MutableDisposable","updatePickerItems","_regeneratorRuntime","mark","_callee4","picksDisposables","picksToken","picksFilter","providedPicks","applyPicks","applyFastAndSlowPicks","awaitedPicks","wrap","_context4","prev","busy","CancellationTokenSource","trim","_getPicks","skipEmpty","activeItem","active","hideInput","noResultsPick","isFunction","activeItems","fastAndSlowPicks","_callee3","fastPicksApplied","slowPicksApplied","_context3","_callee","_context","mergeDelay","timeout","isCancellationRequested","abrupt","_callee2","awaitedAdditionalPicks","activePick","additionalActivePick","fallbackActivePick","fallbackActivePickCandidate","_context2","sent","finish","onDidChangeValue","onDidAccept","selectedItems","accept","inBackground","hide","keyMods","onDidTriggerItemButton","_callee5","buttonIndex","action","removed","keepScrollPositionBefore","_context5","trigger","buttons","t0","t1","NO_ACTION","CLOSE_PICKER","REFRESH_PICKER","REMOVE_ITEM","keepScrollPosition","AbstractCommandsQuickAccessProvider","_PickerQuickAccessPro","commandService","telemetryService","dialogService","PREFIX","commandsHistory","createInstance","CommandsHistory","_disposables","allCommandPicks","filteredCommandPicks","_commandPick2","labelHighlights","aliasHighlights","mapLabelToCommand","_filteredCommandPicks","commandPick","existingCommandForLabel","commandPicks","addOtherSeparator","addCommonlyUsedSeparator","_commandPick","getCommandPicks","withNullAsUndefined","WORD_FILTER","commandAlias","highlights","showAlias","commandPickA","commandPickB","commandACounter","peek","commandBCounter","suggestedCommandIds","commandASuggestion","commandBSuggestion","localeCompare","toCommandPick","hasAdditionalCommandPicks","additionalCommandPicks","getAdditionalCommandPicks","ariaLabel","getAriaLabel","_this$commandService","isCancellationError","toErrorMessage","matchesPrefix","matchesWords","matchesContiguousSubString","ICommandService","ITelemetryService","storageService","configuredCommandsHistoryLength","updateConfiguration","load","getConfiguredCommandHistoryLength","cache","limit","saveState","serializedCache","raw","PREF_KEY_CACHE","JSON","parse","LRUCache","usesLRU","forEach","entry","counter","getNumber","PREF_KEY_COUNTER","store","stringify","configuredCommandHistoryLength","workbench","commandPalette","history","DEFAULT_COMMANDS_HISTORY_LENGTH","IStorageService","HelpQuickAccessProvider","quickInputService","registry","Quickaccess","quickAccess","show","preserveValue","providerDescriptor","getQuickAccessProvider","getQuickAccessProviders","providerA","providerB","flatMap","provider","createPicks","helpEntries","helpEntry","IQuickInputService","QuickAccessController","mapProviderToDescriptor","lastAcceptedPickerValues","visibleQuickAccess","doShowOrPick","pick","_this$getOrInstantiat","getOrInstantiateProvider","_this$getOrInstantiat2","descriptor","visibleDescriptor","adjustValueSelection","newValue","newValueCandidateWithoutPrefix","defaultFilterValue","DefaultQuickAccessFilterValue","LAST","createQuickPick","placeholder","quickNavigate","quickNavigateConfiguration","itemActivation","ItemActivation","SECOND","contextKey","filterValue","pickPromise","DeferredPromise","once","onWillAccept","veto","registerPickerListeners","providerOptions","cts","provide","onDidHide","complete","valueSelection","_this2$getOrInstantia","dom","QuickInputBox","parent","inputBoxStyles","toggleStyles","onKeyDown","addDisposableListener","findInput","inputElement","EventType","KEY_DOWN","onMouseDown","MOUSE_DOWN","StandardMouseEvent","onDidChange","input","role","ariaHasPopup","ariaAutoComplete","ariaExpanded","setValue","range","select","isSelectionAtEnd","getAttribute","setPlaceHolder","password","toggleAttribute","toggles","setAdditionalToggles","decoration","clearMessage","showMessage","content","stylesForType","layout","iconPathToClass","iconClassGenerator","IdGenerator","getIconClass","iconPath","iconClass","dark","nextId","createCSSRule","asCSSUrl","light","ListElement","mainItem","previous","hasCheckbox","fireButtonTriggered","fireSeparatorButtonTriggered","onCheckedEmitter","_checked","_hidden","_onChecked","onChecked","listElement","checked","_separator","saneDescription","saneDetail","_labelHighlights","_descriptionHighlights","_detailHighlights","saneTooltip","tooltip","_init","Lazy","saneLabel","saneSortLabel","parseLabelWithIcons","text","saneAriaLabel","getCodiconAriaLabel","_element","ListElementRenderer","colorScheme","ID","toDisposeElement","toDisposeTemplate","addStandardDisposableListener","CLICK","checkbox","offsetParent","preventDefault","CHANGE","rows","row1","row2","IconLabel","supportHighlights","supportDescriptionHighlights","supportIcons","icon","prepend","keybindingContainer","KeybindingLabel","detailContainer","separator","actionBar","ActionBar","domNode","descriptionHighlights","detailHighlights","isDark","iconUrl","revive","className","backgroundImage","descriptionTitle","descriptionMatches","labelEscapeNewLines","extraClasses","iconClasses","italic","strikethrough","setLabel","display","textContent","toggle","cssClasses","alwaysVisible","class","run","QuickInputListFocus","ListElementDelegate","QuickInputList","inputElements","elementsToIndexes","matchOnLabelMode","_onChangedAllVisibleChecked","onChangedAllVisibleChecked","_onChangedCheckedCount","onChangedCheckedCount","_onChangedVisibleCount","onChangedVisibleCount","_onChangedCheckedElements","onChangedCheckedElements","_onButtonTriggered","onButtonTriggered","_onSeparatorButtonTriggered","onSeparatorButtonTriggered","_onKeyDown","_onLeave","onLeave","_listElementChecked","_fireCheckedEvents","elementDisposables","accessibilityProvider","QuickInputAccessibilityProvider","createList","identityProvider","getId","_e","_f","_g","_h","setRowLineHeight","toggleCheckbox","setFocus","focus1","focus2","x","y","onMouseMiddleClick","onContextMenu","setSelection","delayer","ThrottledDelayer","hoverDelegate","onMouseOver","HTMLAnchorElement","relatedTarget","isAncestor","showHover","onMouseOut","_","fireCheckedEvents","allVisibleChecked","whenNoneVisible","hidden","count","reduce","resultIndex","getFocusedElements","focused","reveal","what","Second","First","focusFirst","focusNth","Last","focusLast","Next","focusNext","firstVisibleIndex","Previous","focusPrevious","NextPage","focusNextPage","PreviousPage","focusPreviousPage","domFocus","_lastHover","isDisposed","onDidHideHover","linkHandler","url","linkOpenerDelegate","showPointer","hoverPosition","maxHeight","Math","floor","query","currentSeparator","queryWithWhitespace","matchesFuzzyIconAware","iconOffsets","matchesContiguous","wordToMatchAgainstWithoutIconsTrimmed","ltrim","leadingWhitespaceOffset","iconOffset","start","end","matchesContiguousIconAware","alwaysShow","shownElements","normalizedSearchValue","elementA","elementB","lookFor","labelHighlightsA","labelHighlightsB","compareAnything","compareEntries","getAllVisibleChecked","allChecked","getCheckedCount","getCheckedElements","indexes","_toggleHover","word","wordToMatchAgainst","matchIndex","memoize","backButton","ThemeIcon","asClassName","Codicon","quickInputBack","handle","QuickInput","ui","_widgetUpdated","visible","_busy","_ignoreFocusOut","_buttons","buttonsUpdated","_toggles","togglesUpdated","noValidationMessage","noPromptMessage","_severity","onDidTriggerButtonEmitter","onDidHideEmitter","onDisposeEmitter","visibleDisposables","_title","_description","_steps","_totalSteps","totalSteps","_contextKey","ignoreFocusOut","shouldUpdate","isIOS","_validationMessage","validationMessage","onDidTriggerButton","_lastValidationMessage","_lastSeverity","reason","QuickInputHideReason","Other","getTitle","innerHTML","innerText","getDescription","description1","description2","_widget","reset","busyDelay","setIfNotSet","progressBar","infinite","leftActionBar","leftButtons","Action","rightActionBar","rightButtons","concreteToggles","Toggle","setEnabled","setContextKey","actionHandler","parsed","parseLinkedText","nodes","_loop","renderLabelWithIcons","anchor","textDecoration","onClick","onKeydown","onSpaceOrEnter","GestureEventType","isEventLike","appendChild","renderQuickInputDescription","showMessageDecoration","getSteps","showDecoration","color","foreground","backgroundColor","background","border","marginBottom","QuickPick","_QuickInput","onDidChangeValueEmitter","onWillAcceptEmitter","onDidAcceptEmitter","onDidCustomEmitter","_items","itemsUpdated","_canSelectMany","_canAcceptInBackground","_matchOnDescription","_matchOnDetail","_matchOnLabel","_matchOnLabelMode","_sortByLabel","_autoFocusOnList","_keepScrollPosition","_itemActivation","FIRST","_activeItems","activeItemsUpdated","activeItemsToConfirm","onDidChangeActiveEmitter","_selectedItems","selectedItemsUpdated","selectedItemsToConfirm","onDidChangeSelectionEmitter","onDidTriggerItemButtonEmitter","onDidTriggerSeparatorButtonEmitter","valueSelectionUpdated","_ok","_customButton","onDidChangeActive","onDidTriggerSeparatorButton","_quickNavigate","doSetValue","skipUpdate","trySelectFirst","_ariaLabel","_placeholder","canSelectMany","autoFocusOnList","NO_KEY_MODS","_valueSelection","showCustomButton","_customButtonLabel","_customButtonHover","hover","showOkButton","_hideInput","clearFocus","handleAccept","onDidCustom","focusedItems","setSelectedElements","MouseEvent","checkedItems","registerQuickNavigation","KEY_UP","keyboardEvent","keybindings","scrollTopBefore","hasDescription","visibilities","checkAll","_hideCheckAll","checkBox","visibleCount","_hideCountBadge","ok","customButton","setVisibilities","DEFAULT_ARIA_LABEL","withUndefinedAsNull","setElements","setCount","getVisibleCount","NONE","setFocusedElements","setCheckedElements","customLabel","customHover","InputBox","_QuickInput2","_password","onDidValueChangeEmitter","QuickInputController","ctrlCmd","alt","controller","onShowEmitter","onShow","onHideEmitter","onHide","idPrefix","parentElement","registerKeyModsListeners","window","styleSheet","titleBar","headerContainer","setAllVisibleChecked","inputContainer","filterContainer","visibleCountContainer","CountBadge","countFormat","countBadge","countContainer","okContainer","Button","onDidClick","customButtonContainer","ProgressBar","getContainer","listId","getActiveDescendant","setTimeout","focusTracker","trackFocus","FOCUS","previousFocusElement","HTMLElement","getUI","Blur","selectors","isDisplayed","stops","querySelectorAll","toggleHover","CancellationToken","doResolve","onKeyMods","removeItem","onCancellationRequested","canPickMany","placeHolder","ignoreFocusLost","_activeItem","picked","oldController","didHide","backKeybindingLabel","updateLayout","viewItems","disabled","focusChanged","currentElement","returnFocus","dimension","titleBarOffset","top","width","min","MAX_WIDTH","marginLeft","height","_this$styles$widget","quickInputTitleBackground","quickInputBackground","quickInputForeground","widgetBorder","widgetShadow","boxShadow","pickerGroup","pickerGroupBorder","pickerGroupForeground","keybindingLabel","keybindingLabelBackground","keybindingLabelBorder","keybindingLabelBottomBorder","keybindingLabelShadow","keybindingLabelForeground","newStyles","QuickInputService","_Themable","themeService","layoutService","_onShow","_onHide","contexts","_controller","createController","_quickAccess","host","defaultOptions","fromUserGesture","computeStyles","offset","quickPickTop","onDidLayout","resetContextKeys","createInputBox","hasController","applyStyles","asCssVariable","defaultInputBoxStyles","defaultToggleStyles","defaultCountBadgeStyles","defaultButtonStyles","defaultProgressBarStyles","defaultKeybindingLabelStyles","listBackground","listFocusBackground","quickInputListFocusBackground","listFocusForeground","quickInputListFocusForeground","listInactiveFocusForeground","listInactiveSelectionIconForeground","quickInputListFocusIconForeground","listInactiveFocusBackground","listFocusOutline","activeContrastBorder","listInactiveFocusOutline","getColorTheme","Themable","IThemeService","QuickAccessRegistry","providers","defaultProvider","coalesce","find","QuickPickItemScorerAccessor","RegistryImpl","Assert","Types","SeverityIcon","warning"],"sourceRoot":""}