{"version":3,"file":"static/js/monaco-editor-vendor.dff5f55e.36945baa.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/editor/editor.api.js","../node_modules/monaco-editor/esm/vs/editor/editor.main.js","../node_modules/monaco-editor/esm/vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js","../node_modules/monaco-editor/esm/vs/editor/contrib/tokenization/browser/tokenization.js","../node_modules/monaco-editor/esm/vs/editor/contrib/unicodeHighlighter/browser/bannerController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter.js","../node_modules/monaco-editor/esm/vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators.js","../node_modules/monaco-editor/esm/vs/editor/contrib/viewportSemanticTokens/browser/viewportSemanticTokens.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/browser/wordHighlighter.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordOperations/browser/wordOperations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordPartOperations/browser/wordPartOperations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/browser/zoneWidget.js","webpack://monaco-editor-nginx/./node_modules/monaco-editor/esm/vs/editor/editor.api.js?0902"],"sourcesContent":["self[\"MonacoEnvironment\"] = (function (paths) {\n      function stripTrailingSlash(str) {\n        return str.replace(/\\/$/, '');\n      }\n      return {\n        globalAPI: false,\n        getWorkerUrl: function (moduleId, label) {\n          var pathPrefix = typeof __webpack_public_path__ === 'string' ? __webpack_public_path__ : \"./\";\n          var result = (pathPrefix ? stripTrailingSlash(pathPrefix) + '/' : '') + paths[label];\n          if (/^((http:)|(https:)|(file:)|(\\/\\/))/.test(result)) {\n            var currentUrl = String(window.location);\n            var currentOrigin = currentUrl.substr(0, currentUrl.length - window.location.hash.length - window.location.search.length - window.location.pathname.length);\n            if (result.substring(0, currentOrigin.length) !== currentOrigin) {\n              if(/^(\\/\\/)/.test(result)) {\n                result = window.location.protocol + result\n              }\n              var js = '/*' + label + '*/importScripts(\"' + result + '\");';\n              var blob = new Blob([js], { type: 'application/javascript' });\n              return URL.createObjectURL(blob);\n            }\n          }\n          return result;\n        }\n      };\n    })({\n  \"editorWorkerService\": \"editor.worker.js\",\n  \"json\": \"json.worker.js\"\n});\nrequire(\"./standalone/browser/accessibilityHelp/accessibilityHelp.js\");\nrequire(\"./contrib/anchorSelect/browser/anchorSelect.js\");\nrequire(\"./contrib/bracketMatching/browser/bracketMatching.js\");\nrequire(\"./browser/coreCommands.js\");\nrequire(\"./contrib/caretOperations/browser/caretOperations.js\");\nrequire(\"./contrib/caretOperations/browser/transpose.js\");\nrequire(\"./contrib/clipboard/browser/clipboard.js\");\nrequire(\"./contrib/codeAction/browser/codeActionContributions.js\");\nrequire(\"./contrib/codelens/browser/codelensController.js\");\nrequire(\"./contrib/colorPicker/browser/colorContributions.js\");\nrequire(\"./contrib/comment/browser/comment.js\");\nrequire(\"./contrib/contextmenu/browser/contextmenu.js\");\nrequire(\"./contrib/cursorUndo/browser/cursorUndo.js\");\nrequire(\"./contrib/dnd/browser/dnd.js\");\nrequire(\"./contrib/documentSymbols/browser/documentSymbols.js\");\nrequire(\"./contrib/find/browser/findController.js\");\nrequire(\"./contrib/folding/browser/folding.js\");\nrequire(\"./contrib/fontZoom/browser/fontZoom.js\");\nrequire(\"./contrib/format/browser/formatActions.js\");\nrequire(\"./contrib/gotoError/browser/gotoError.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneGotoLineQuickAccess.js\");\nrequire(\"./contrib/gotoSymbol/browser/goToCommands.js\");\nrequire(\"./contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js\");\nrequire(\"./contrib/hover/browser/hover.js\");\nrequire(\"./standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js\");\nrequire(\"./contrib/inPlaceReplace/browser/inPlaceReplace.js\");\nrequire(\"./contrib/indentation/browser/indentation.js\");\nrequire(\"./contrib/inlayHints/browser/inlayHintsContribution.js\");\nrequire(\"./contrib/inlineCompletions/browser/inlineCompletionsContribution.js\");\nrequire(\"./standalone/browser/inspectTokens/inspectTokens.js\");\nrequire(\"./contrib/lineSelection/browser/lineSelection.js\");\nrequire(\"./contrib/linesOperations/browser/linesOperations.js\");\nrequire(\"./contrib/linkedEditing/browser/linkedEditing.js\");\nrequire(\"./contrib/links/browser/links.js\");\nrequire(\"./contrib/multicursor/browser/multicursor.js\");\nrequire(\"./contrib/parameterHints/browser/parameterHints.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneCommandsQuickAccess.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneHelpQuickAccess.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess.js\");\nrequire(\"./standalone/browser/referenceSearch/standaloneReferenceSearch.js\");\nrequire(\"./contrib/rename/browser/rename.js\");\nrequire(\"./contrib/smartSelect/browser/smartSelect.js\");\nrequire(\"./contrib/snippet/browser/snippetController2.js\");\nrequire(\"./contrib/suggest/browser/suggestController.js\");\nrequire(\"./standalone/browser/toggleHighContrast/toggleHighContrast.js\");\nrequire(\"./contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js\");\nrequire(\"./contrib/tokenization/browser/tokenization.js\");\nrequire(\"./contrib/unicodeHighlighter/browser/unicodeHighlighter.js\");\nrequire(\"./contrib/unusualLineTerminators/browser/unusualLineTerminators.js\");\nrequire(\"./contrib/viewportSemanticTokens/browser/viewportSemanticTokens.js\");\nrequire(\"./contrib/wordHighlighter/browser/wordHighlighter.js\");\nrequire(\"./contrib/wordOperations/browser/wordOperations.js\");\nrequire(\"./contrib/wordPartOperations/browser/wordPartOperations.js\");\nmodule.exports = require(\"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[0]!./editor.api.js\");\nrequire(\"../language/json/monaco.contribution.js\");","self[\"MonacoEnvironment\"] = (function (paths) {\n      function stripTrailingSlash(str) {\n        return str.replace(/\\/$/, '');\n      }\n      return {\n        globalAPI: false,\n        getWorkerUrl: function (moduleId, label) {\n          var pathPrefix = typeof __webpack_public_path__ === 'string' ? __webpack_public_path__ : \"./\";\n          var result = (pathPrefix ? stripTrailingSlash(pathPrefix) + '/' : '') + paths[label];\n          if (/^((http:)|(https:)|(file:)|(\\/\\/))/.test(result)) {\n            var currentUrl = String(window.location);\n            var currentOrigin = currentUrl.substr(0, currentUrl.length - window.location.hash.length - window.location.search.length - window.location.pathname.length);\n            if (result.substring(0, currentOrigin.length) !== currentOrigin) {\n              if(/^(\\/\\/)/.test(result)) {\n                result = window.location.protocol + result\n              }\n              var js = '/*' + label + '*/importScripts(\"' + result + '\");';\n              var blob = new Blob([js], { type: 'application/javascript' });\n              return URL.createObjectURL(blob);\n            }\n          }\n          return result;\n        }\n      };\n    })({\n  \"editorWorkerService\": \"editor.worker.js\",\n  \"json\": \"json.worker.js\"\n});\nrequire(\"./standalone/browser/accessibilityHelp/accessibilityHelp.js\");\nrequire(\"./contrib/anchorSelect/browser/anchorSelect.js\");\nrequire(\"./contrib/bracketMatching/browser/bracketMatching.js\");\nrequire(\"./browser/coreCommands.js\");\nrequire(\"./contrib/caretOperations/browser/caretOperations.js\");\nrequire(\"./contrib/caretOperations/browser/transpose.js\");\nrequire(\"./contrib/clipboard/browser/clipboard.js\");\nrequire(\"./contrib/codeAction/browser/codeActionContributions.js\");\nrequire(\"./contrib/codelens/browser/codelensController.js\");\nrequire(\"./contrib/colorPicker/browser/colorContributions.js\");\nrequire(\"./contrib/comment/browser/comment.js\");\nrequire(\"./contrib/contextmenu/browser/contextmenu.js\");\nrequire(\"./contrib/cursorUndo/browser/cursorUndo.js\");\nrequire(\"./contrib/dnd/browser/dnd.js\");\nrequire(\"./contrib/documentSymbols/browser/documentSymbols.js\");\nrequire(\"./contrib/find/browser/findController.js\");\nrequire(\"./contrib/folding/browser/folding.js\");\nrequire(\"./contrib/fontZoom/browser/fontZoom.js\");\nrequire(\"./contrib/format/browser/formatActions.js\");\nrequire(\"./contrib/gotoError/browser/gotoError.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneGotoLineQuickAccess.js\");\nrequire(\"./contrib/gotoSymbol/browser/goToCommands.js\");\nrequire(\"./contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js\");\nrequire(\"./contrib/hover/browser/hover.js\");\nrequire(\"./standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js\");\nrequire(\"./contrib/inPlaceReplace/browser/inPlaceReplace.js\");\nrequire(\"./contrib/indentation/browser/indentation.js\");\nrequire(\"./contrib/inlayHints/browser/inlayHintsContribution.js\");\nrequire(\"./contrib/inlineCompletions/browser/inlineCompletionsContribution.js\");\nrequire(\"./standalone/browser/inspectTokens/inspectTokens.js\");\nrequire(\"./contrib/lineSelection/browser/lineSelection.js\");\nrequire(\"./contrib/linesOperations/browser/linesOperations.js\");\nrequire(\"./contrib/linkedEditing/browser/linkedEditing.js\");\nrequire(\"./contrib/links/browser/links.js\");\nrequire(\"./contrib/multicursor/browser/multicursor.js\");\nrequire(\"./contrib/parameterHints/browser/parameterHints.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneCommandsQuickAccess.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneHelpQuickAccess.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess.js\");\nrequire(\"./standalone/browser/referenceSearch/standaloneReferenceSearch.js\");\nrequire(\"./contrib/rename/browser/rename.js\");\nrequire(\"./contrib/smartSelect/browser/smartSelect.js\");\nrequire(\"./contrib/snippet/browser/snippetController2.js\");\nrequire(\"./contrib/suggest/browser/suggestController.js\");\nrequire(\"./standalone/browser/toggleHighContrast/toggleHighContrast.js\");\nrequire(\"./contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js\");\nrequire(\"./contrib/tokenization/browser/tokenization.js\");\nrequire(\"./contrib/unicodeHighlighter/browser/unicodeHighlighter.js\");\nrequire(\"./contrib/unusualLineTerminators/browser/unusualLineTerminators.js\");\nrequire(\"./contrib/viewportSemanticTokens/browser/viewportSemanticTokens.js\");\nrequire(\"./contrib/wordHighlighter/browser/wordHighlighter.js\");\nrequire(\"./contrib/wordOperations/browser/wordOperations.js\");\nrequire(\"./contrib/wordPartOperations/browser/wordPartOperations.js\");\nmodule.exports = require(\"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[0]!./editor.main.js\");\nrequire(\"../language/json/monaco.contribution.js\");","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { TabFocus } from '../../../browser/config/tabFocus.js';\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport * as nls from '../../../../nls.js';\nexport class ToggleTabFocusModeAction extends EditorAction {\n    constructor() {\n        super({\n            id: ToggleTabFocusModeAction.ID,\n            label: nls.localize({ key: 'toggle.tabMovesFocus', comment: ['Turn on/off use of tab key for moving focus around VS Code'] }, \"Toggle Tab Key Moves Focus\"),\n            alias: 'Toggle Tab Key Moves Focus',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: null,\n                primary: 2048 /* CtrlCmd */ | 43 /* KeyM */,\n                mac: { primary: 256 /* WinCtrl */ | 1024 /* Shift */ | 43 /* KeyM */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const oldValue = TabFocus.getTabFocusMode();\n        const newValue = !oldValue;\n        TabFocus.setTabFocusMode(newValue);\n        if (newValue) {\n            alert(nls.localize('toggle.tabMovesFocus.on', \"Pressing Tab will now move focus to the next focusable element\"));\n        }\n        else {\n            alert(nls.localize('toggle.tabMovesFocus.off', \"Pressing Tab will now insert the tab character\"));\n        }\n    }\n}\nToggleTabFocusModeAction.ID = 'editor.action.toggleTabFocusMode';\nregisterEditorAction(ToggleTabFocusModeAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport * as nls from '../../../../nls.js';\nclass ForceRetokenizeAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.forceRetokenize',\n            label: nls.localize('forceRetokenize', \"Developer: Force Retokenize\"),\n            alias: 'Developer: Force Retokenize',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const model = editor.getModel();\n        model.resetTokenization();\n        const sw = new StopWatch(true);\n        model.forceTokenization(model.getLineCount());\n        sw.stop();\n        console.log(`tokenization took ${sw.elapsed()}`);\n    }\n}\nregisterEditorAction(ForceRetokenizeAction);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './bannerController.css';\nimport { $, append, clearNode } from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { MarkdownRenderer } from '../../markdownRenderer/browser/markdownRenderer.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Link } from '../../../../platform/opener/browser/link.js';\nimport { widgetClose } from '../../../../platform/theme/common/iconRegistry.js';\nimport { ThemeIcon } from '../../../../platform/theme/common/themeService.js';\nconst BANNER_ELEMENT_HEIGHT = 26;\nlet BannerController = class BannerController extends Disposable {\n    constructor(_editor, instantiationService) {\n        super();\n        this._editor = _editor;\n        this.instantiationService = instantiationService;\n        this.banner = this._register(this.instantiationService.createInstance(Banner));\n    }\n    hide() {\n        this._editor.setBanner(null, 0);\n        this.banner.clear();\n    }\n    show(item) {\n        this.banner.show(Object.assign(Object.assign({}, item), { onClose: () => {\n                this.hide();\n                if (item.onClose) {\n                    item.onClose();\n                }\n            } }));\n        this._editor.setBanner(this.banner.element, BANNER_ELEMENT_HEIGHT);\n    }\n};\nBannerController = __decorate([\n    __param(1, IInstantiationService)\n], BannerController);\nexport { BannerController };\n// TODO@hediet: Investigate if this can be reused by the workspace banner (bannerPart.ts).\nlet Banner = class Banner extends Disposable {\n    constructor(instantiationService) {\n        super();\n        this.instantiationService = instantiationService;\n        this.markdownRenderer = this.instantiationService.createInstance(MarkdownRenderer, {});\n        this.element = $('div.editor-banner');\n        this.element.tabIndex = 0;\n    }\n    getAriaLabel(item) {\n        if (item.ariaLabel) {\n            return item.ariaLabel;\n        }\n        if (typeof item.message === 'string') {\n            return item.message;\n        }\n        return undefined;\n    }\n    getBannerMessage(message) {\n        if (typeof message === 'string') {\n            const element = $('span');\n            element.innerText = message;\n            return element;\n        }\n        return this.markdownRenderer.render(message).element;\n    }\n    clear() {\n        clearNode(this.element);\n    }\n    show(item) {\n        // Clear previous item\n        clearNode(this.element);\n        // Banner aria label\n        const ariaLabel = this.getAriaLabel(item);\n        if (ariaLabel) {\n            this.element.setAttribute('aria-label', ariaLabel);\n        }\n        // Icon\n        const iconContainer = append(this.element, $('div.icon-container'));\n        iconContainer.setAttribute('aria-hidden', 'true');\n        if (item.icon) {\n            iconContainer.appendChild($(`div${ThemeIcon.asCSSSelector(item.icon)}`));\n        }\n        // Message\n        const messageContainer = append(this.element, $('div.message-container'));\n        messageContainer.setAttribute('aria-hidden', 'true');\n        messageContainer.appendChild(this.getBannerMessage(item.message));\n        // Message Actions\n        this.messageActionsContainer = append(this.element, $('div.message-actions-container'));\n        if (item.actions) {\n            for (const action of item.actions) {\n                this._register(this.instantiationService.createInstance(Link, this.messageActionsContainer, Object.assign(Object.assign({}, action), { tabIndex: -1 }), {}));\n            }\n        }\n        // Action\n        const actionBarContainer = append(this.element, $('div.action-container'));\n        this.actionBar = this._register(new ActionBar(actionBarContainer));\n        this.actionBar.push(this._register(new Action('banner.close', 'Close Banner', ThemeIcon.asClassName(widgetClose), true, () => {\n            if (typeof item.onClose === 'function') {\n                item.onClose();\n            }\n        })), { icon: true, label: false });\n        this.actionBar.setFocusable(false);\n    }\n};\nBanner = __decorate([\n    __param(0, IInstantiationService)\n], Banner);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { InvisibleCharacters } from '../../../../base/common/strings.js';\nimport './unicodeHighlighter.css';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { inUntrustedWorkspace, unicodeHighlightConfigKeys } from '../../../common/config/editorOptions.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { UnicodeTextModelHighlighter } from '../../../common/services/unicodeTextModelHighlighter.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { isModelDecorationInComment, isModelDecorationInString, isModelDecorationVisible } from '../../../common/viewModel/viewModelDecorations.js';\nimport { HoverParticipantRegistry } from '../../hover/browser/hoverTypes.js';\nimport { MarkdownHover, renderMarkdownHovers } from '../../hover/browser/markdownHoverParticipant.js';\nimport { BannerController } from './bannerController.js';\nimport * as nls from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { IWorkspaceTrustManagementService } from '../../../../platform/workspace/common/workspaceTrust.js';\nexport const warningIcon = registerIcon('extensions-warning-message', Codicon.warning, nls.localize('warningIcon', 'Icon shown with a warning message in the extensions editor.'));\nlet UnicodeHighlighter = class UnicodeHighlighter extends Disposable {\n    constructor(_editor, _editorWorkerService, _workspaceTrustService, instantiationService) {\n        super();\n        this._editor = _editor;\n        this._editorWorkerService = _editorWorkerService;\n        this._workspaceTrustService = _workspaceTrustService;\n        this._highlighter = null;\n        this._bannerClosed = false;\n        this._updateState = (state) => {\n            if (state && state.hasMore) {\n                if (this._bannerClosed) {\n                    return;\n                }\n                // This document contains many non-basic ASCII characters.\n                const max = Math.max(state.ambiguousCharacterCount, state.nonBasicAsciiCharacterCount, state.invisibleCharacterCount);\n                let data;\n                if (state.nonBasicAsciiCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters', 'This document contains many non-basic ASCII unicode characters'),\n                        command: new DisableHighlightingOfNonBasicAsciiCharactersAction(),\n                    };\n                }\n                else if (state.ambiguousCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters', 'This document contains many ambiguous unicode characters'),\n                        command: new DisableHighlightingOfAmbiguousCharactersAction(),\n                    };\n                }\n                else if (state.invisibleCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters', 'This document contains many invisible unicode characters'),\n                        command: new DisableHighlightingOfInvisibleCharactersAction(),\n                    };\n                }\n                else {\n                    throw new Error('Unreachable');\n                }\n                this._bannerController.show({\n                    id: 'unicodeHighlightBanner',\n                    message: data.message,\n                    icon: warningIcon,\n                    actions: [\n                        {\n                            label: data.command.shortLabel,\n                            href: `command:${data.command.id}`\n                        }\n                    ],\n                    onClose: () => {\n                        this._bannerClosed = true;\n                    },\n                });\n            }\n            else {\n                this._bannerController.hide();\n            }\n        };\n        this._bannerController = this._register(instantiationService.createInstance(BannerController, _editor));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._bannerClosed = false;\n            this._updateHighlighter();\n        }));\n        this._options = _editor.getOption(113 /* unicodeHighlighting */);\n        this._register(_workspaceTrustService.onDidChangeTrust(e => {\n            this._updateHighlighter();\n        }));\n        this._register(_editor.onDidChangeConfiguration(e => {\n            if (e.hasChanged(113 /* unicodeHighlighting */)) {\n                this._options = _editor.getOption(113 /* unicodeHighlighting */);\n                this._updateHighlighter();\n            }\n        }));\n        this._updateHighlighter();\n    }\n    dispose() {\n        if (this._highlighter) {\n            this._highlighter.dispose();\n            this._highlighter = null;\n        }\n        super.dispose();\n    }\n    _updateHighlighter() {\n        this._updateState(null);\n        if (this._highlighter) {\n            this._highlighter.dispose();\n            this._highlighter = null;\n        }\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const options = resolveOptions(this._workspaceTrustService.isWorkspaceTrusted(), this._options);\n        if ([\n            options.nonBasicASCII,\n            options.ambiguousCharacters,\n            options.invisibleCharacters,\n        ].every((option) => option === false)) {\n            // Don't do anything if the feature is fully disabled\n            return;\n        }\n        const highlightOptions = {\n            nonBasicASCII: options.nonBasicASCII,\n            ambiguousCharacters: options.ambiguousCharacters,\n            invisibleCharacters: options.invisibleCharacters,\n            includeComments: options.includeComments,\n            includeStrings: options.includeStrings,\n            allowedCodePoints: Object.keys(options.allowedCharacters).map(c => c.codePointAt(0)),\n            allowedLocales: Object.keys(options.allowedLocales).map(locale => {\n                if (locale === '_os') {\n                    let osLocale = new Intl.NumberFormat().resolvedOptions().locale;\n                    return osLocale;\n                }\n                else if (locale === '_vscode') {\n                    return platform.language;\n                }\n                return locale;\n            }),\n        };\n        if (this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)) {\n            this._highlighter = new DocumentUnicodeHighlighter(this._editor, highlightOptions, this._updateState, this._editorWorkerService);\n        }\n        else {\n            this._highlighter = new ViewportUnicodeHighlighter(this._editor, highlightOptions, this._updateState);\n        }\n    }\n    getDecorationInfo(decorationId) {\n        if (this._highlighter) {\n            return this._highlighter.getDecorationInfo(decorationId);\n        }\n        return null;\n    }\n};\nUnicodeHighlighter.ID = 'editor.contrib.unicodeHighlighter';\nUnicodeHighlighter = __decorate([\n    __param(1, IEditorWorkerService),\n    __param(2, IWorkspaceTrustManagementService),\n    __param(3, IInstantiationService)\n], UnicodeHighlighter);\nexport { UnicodeHighlighter };\nfunction resolveOptions(trusted, options) {\n    return {\n        nonBasicASCII: options.nonBasicASCII === inUntrustedWorkspace ? !trusted : options.nonBasicASCII,\n        ambiguousCharacters: options.ambiguousCharacters,\n        invisibleCharacters: options.invisibleCharacters,\n        includeComments: options.includeComments === inUntrustedWorkspace ? !trusted : options.includeComments,\n        includeStrings: options.includeStrings === inUntrustedWorkspace ? !trusted : options.includeStrings,\n        allowedCharacters: options.allowedCharacters,\n        allowedLocales: options.allowedLocales,\n    };\n}\nlet DocumentUnicodeHighlighter = class DocumentUnicodeHighlighter extends Disposable {\n    constructor(_editor, _options, _updateState, _editorWorkerService) {\n        super();\n        this._editor = _editor;\n        this._options = _options;\n        this._updateState = _updateState;\n        this._editorWorkerService = _editorWorkerService;\n        this._model = this._editor.getModel();\n        this._decorationIds = new Set();\n        this._updateSoon = this._register(new RunOnceScheduler(() => this._update(), 250));\n        this._register(this._editor.onDidChangeModelContent(() => {\n            this._updateSoon.schedule();\n        }));\n        this._updateSoon.schedule();\n    }\n    dispose() {\n        this._decorationIds = new Set(this._model.deltaDecorations(Array.from(this._decorationIds), []));\n        super.dispose();\n    }\n    _update() {\n        if (this._model.isDisposed()) {\n            return;\n        }\n        if (!this._model.mightContainNonBasicASCII()) {\n            this._decorationIds = new Set(this._editor.deltaDecorations(Array.from(this._decorationIds), []));\n            return;\n        }\n        const modelVersionId = this._model.getVersionId();\n        this._editorWorkerService\n            .computedUnicodeHighlights(this._model.uri, this._options)\n            .then((info) => {\n            if (this._model.isDisposed()) {\n                return;\n            }\n            if (this._model.getVersionId() !== modelVersionId) {\n                // model changed in the meantime\n                return;\n            }\n            this._updateState(info);\n            const decorations = [];\n            if (!info.hasMore) {\n                // Don't show decoration if there are too many.\n                // In this case, a banner is shown.\n                for (const range of info.ranges) {\n                    decorations.push({\n                        range: range,\n                        options: Decorations.instance.getDecorationFromOptions(this._options),\n                    });\n                }\n            }\n            this._decorationIds = new Set(this._editor.deltaDecorations(Array.from(this._decorationIds), decorations));\n        });\n    }\n    getDecorationInfo(decorationId) {\n        if (!this._decorationIds.has(decorationId)) {\n            return null;\n        }\n        const model = this._editor.getModel();\n        const range = model.getDecorationRange(decorationId);\n        const decoration = {\n            range: range,\n            options: Decorations.instance.getDecorationFromOptions(this._options),\n            id: decorationId,\n            ownerId: 0,\n        };\n        if (!isModelDecorationVisible(model, decoration)) {\n            return null;\n        }\n        const text = model.getValueInRange(range);\n        return {\n            reason: computeReason(text, this._options),\n            inComment: isModelDecorationInComment(model, decoration),\n            inString: isModelDecorationInString(model, decoration),\n        };\n    }\n};\nDocumentUnicodeHighlighter = __decorate([\n    __param(3, IEditorWorkerService)\n], DocumentUnicodeHighlighter);\nclass ViewportUnicodeHighlighter extends Disposable {\n    constructor(_editor, _options, _updateState) {\n        super();\n        this._editor = _editor;\n        this._options = _options;\n        this._updateState = _updateState;\n        this._model = this._editor.getModel();\n        this._decorationIds = new Set();\n        this._updateSoon = this._register(new RunOnceScheduler(() => this._update(), 250));\n        this._register(this._editor.onDidLayoutChange(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidScrollChange(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidChangeHiddenAreas(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidChangeModelContent(() => {\n            this._updateSoon.schedule();\n        }));\n        this._updateSoon.schedule();\n    }\n    dispose() {\n        this._decorationIds = new Set(this._model.deltaDecorations(Array.from(this._decorationIds), []));\n        super.dispose();\n    }\n    _update() {\n        if (this._model.isDisposed()) {\n            return;\n        }\n        if (!this._model.mightContainNonBasicASCII()) {\n            this._decorationIds = new Set(this._editor.deltaDecorations(Array.from(this._decorationIds), []));\n            return;\n        }\n        const ranges = this._editor.getVisibleRanges();\n        const decorations = [];\n        const totalResult = {\n            ranges: [],\n            ambiguousCharacterCount: 0,\n            invisibleCharacterCount: 0,\n            nonBasicAsciiCharacterCount: 0,\n            hasMore: false,\n        };\n        for (const range of ranges) {\n            const result = UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model, this._options, range);\n            for (const r of result.ranges) {\n                totalResult.ranges.push(r);\n            }\n            totalResult.ambiguousCharacterCount += totalResult.ambiguousCharacterCount;\n            totalResult.invisibleCharacterCount += totalResult.invisibleCharacterCount;\n            totalResult.nonBasicAsciiCharacterCount += totalResult.nonBasicAsciiCharacterCount;\n            totalResult.hasMore = totalResult.hasMore || result.hasMore;\n        }\n        if (!totalResult.hasMore) {\n            // Don't show decorations if there are too many.\n            // A banner will be shown instead.\n            for (const range of totalResult.ranges) {\n                decorations.push({ range, options: Decorations.instance.getDecorationFromOptions(this._options) });\n            }\n        }\n        this._updateState(totalResult);\n        this._decorationIds = new Set(this._editor.deltaDecorations(Array.from(this._decorationIds), decorations));\n    }\n    getDecorationInfo(decorationId) {\n        if (!this._decorationIds.has(decorationId)) {\n            return null;\n        }\n        const model = this._editor.getModel();\n        const range = model.getDecorationRange(decorationId);\n        const text = model.getValueInRange(range);\n        const decoration = {\n            range: range,\n            options: Decorations.instance.getDecorationFromOptions(this._options),\n            id: decorationId,\n            ownerId: 0,\n        };\n        if (!isModelDecorationVisible(model, decoration)) {\n            return null;\n        }\n        return {\n            reason: computeReason(text, this._options),\n            inComment: isModelDecorationInComment(model, decoration),\n            inString: isModelDecorationInString(model, decoration),\n        };\n    }\n}\nlet UnicodeHighlighterHoverParticipant = class UnicodeHighlighterHoverParticipant {\n    constructor(_editor, _languageService, _openerService) {\n        this._editor = _editor;\n        this._languageService = _languageService;\n        this._openerService = _openerService;\n        this.hoverOrdinal = 4;\n    }\n    computeSync(anchor, lineDecorations) {\n        if (!this._editor.hasModel() || anchor.type !== 1 /* Range */) {\n            return [];\n        }\n        const model = this._editor.getModel();\n        const unicodeHighlighter = this._editor.getContribution(UnicodeHighlighter.ID);\n        if (!unicodeHighlighter) {\n            return [];\n        }\n        const result = [];\n        let index = 300;\n        for (const d of lineDecorations) {\n            const highlightInfo = unicodeHighlighter.getDecorationInfo(d.id);\n            if (!highlightInfo) {\n                continue;\n            }\n            const char = model.getValueInRange(d.range);\n            // text refers to a single character.\n            const codePoint = char.codePointAt(0);\n            const codePointStr = formatCodePointMarkdown(codePoint);\n            let reason;\n            switch (highlightInfo.reason.kind) {\n                case 0 /* Ambiguous */:\n                    reason = nls.localize('unicodeHighlight.characterIsAmbiguous', 'The character {0} could be confused with the character {1}, which is more common in source code.', codePointStr, formatCodePointMarkdown(highlightInfo.reason.confusableWith.codePointAt(0)));\n                    break;\n                case 1 /* Invisible */:\n                    reason = nls.localize('unicodeHighlight.characterIsInvisible', 'The character {0} is invisible.', codePointStr);\n                    break;\n                case 2 /* NonBasicAscii */:\n                    reason = nls.localize('unicodeHighlight.characterIsNonBasicAscii', 'The character {0} is not a basic ASCII character.', codePointStr);\n                    break;\n            }\n            const adjustSettingsArgs = {\n                codePoint: codePoint,\n                reason: highlightInfo.reason,\n                inComment: highlightInfo.inComment,\n                inString: highlightInfo.inString,\n            };\n            const adjustSettings = nls.localize('unicodeHighlight.adjustSettings', 'Adjust settings');\n            const contents = [{\n                    value: `${reason} [${adjustSettings}](command:${ShowExcludeOptions.ID}?${encodeURIComponent(JSON.stringify(adjustSettingsArgs))})`,\n                    isTrusted: true,\n                }];\n            result.push(new MarkdownHover(this, d.range, contents, index++));\n        }\n        return result;\n    }\n    renderHoverParts(context, hoverParts) {\n        return renderMarkdownHovers(context, hoverParts, this._editor, this._languageService, this._openerService);\n    }\n};\nUnicodeHighlighterHoverParticipant = __decorate([\n    __param(1, ILanguageService),\n    __param(2, IOpenerService)\n], UnicodeHighlighterHoverParticipant);\nexport { UnicodeHighlighterHoverParticipant };\nfunction codePointToHex(codePoint) {\n    return `U+${codePoint.toString(16).padStart(4, '0')}`;\n}\nfunction formatCodePointMarkdown(codePoint) {\n    let value = `\\`${codePointToHex(codePoint)}\\``;\n    if (!InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n        // Don't render any control characters or any invisible characters, as they cannot be seen anyways.\n        value += ` \"${`${renderCodePointAsInlineCode(codePoint)}`}\"`;\n    }\n    return value;\n}\nfunction renderCodePointAsInlineCode(codePoint) {\n    if (codePoint === 96 /* BackTick */) {\n        return '`` ` ``';\n    }\n    return '`' + String.fromCodePoint(codePoint) + '`';\n}\nfunction computeReason(char, options) {\n    return UnicodeTextModelHighlighter.computeUnicodeHighlightReason(char, options);\n}\nclass Decorations {\n    constructor() {\n        this.map = new Map();\n    }\n    getDecorationFromOptions(options) {\n        return this.getDecoration(!options.includeComments, !options.includeStrings);\n    }\n    getDecoration(hideInComments, hideInStrings) {\n        const key = `${hideInComments}${hideInStrings}`;\n        let options = this.map.get(key);\n        if (!options) {\n            options = ModelDecorationOptions.createDynamic({\n                description: 'unicode-highlight',\n                stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\n                className: 'unicode-highlight',\n                showIfCollapsed: true,\n                overviewRuler: null,\n                minimap: null,\n                hideInCommentTokens: hideInComments,\n                hideInStringTokens: hideInStrings,\n            });\n            this.map.set(key, options);\n        }\n        return options;\n    }\n}\nDecorations.instance = new Decorations();\nexport class DisableHighlightingInCommentsAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingInComments', 'Disable highlighting of characters in comments'),\n            alias: 'Disable highlighting of characters in comments',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingInComments.shortLabel', 'Disable Highlight In Comments');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.includeComments, false, 1 /* USER */);\n        });\n    }\n}\nexport class DisableHighlightingInStringsAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingInStrings', 'Disable highlighting of characters in strings'),\n            alias: 'Disable highlighting of characters in strings',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingInStrings.shortLabel', 'Disable Highlight In Strings');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.includeStrings, false, 1 /* USER */);\n        });\n    }\n}\nexport class DisableHighlightingOfAmbiguousCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters', 'Disable highlighting of ambiguous characters'),\n            alias: 'Disable highlighting of ambiguous characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel', 'Disable Ambiguous Highlight');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.ambiguousCharacters, false, 1 /* USER */);\n        });\n    }\n}\nDisableHighlightingOfAmbiguousCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters';\nexport class DisableHighlightingOfInvisibleCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfInvisibleCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfInvisibleCharacters', 'Disable highlighting of invisible characters'),\n            alias: 'Disable highlighting of invisible characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel', 'Disable Invisible Highlight');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.invisibleCharacters, false, 1 /* USER */);\n        });\n    }\n}\nDisableHighlightingOfInvisibleCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters';\nexport class DisableHighlightingOfNonBasicAsciiCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfNonBasicAsciiCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters', 'Disable highlighting of non basic ASCII characters'),\n            alias: 'Disable highlighting of non basic ASCII characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel', 'Disable Non ASCII Highlight');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.nonBasicASCII, false, 1 /* USER */);\n        });\n    }\n}\nDisableHighlightingOfNonBasicAsciiCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters';\nexport class ShowExcludeOptions extends EditorAction {\n    constructor() {\n        super({\n            id: ShowExcludeOptions.ID,\n            label: nls.localize('action.unicodeHighlight.showExcludeOptions', \"Show Exclude Options\"),\n            alias: 'Show Exclude Options',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { codePoint, reason, inString, inComment } = args;\n            const char = String.fromCodePoint(codePoint);\n            const quickPickService = accessor.get(IQuickInputService);\n            const configurationService = accessor.get(IConfigurationService);\n            function getExcludeCharFromBeingHighlightedLabel(codePoint) {\n                if (InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n                    return nls.localize('unicodeHighlight.excludeInvisibleCharFromBeingHighlighted', 'Exclude {0} (invisible character) from being highlighted', codePointToHex(codePoint));\n                }\n                return nls.localize('unicodeHighlight.excludeCharFromBeingHighlighted', 'Exclude {0} from being highlighted', `${codePointToHex(codePoint)} \"${char}\"`);\n            }\n            const options = [];\n            if (reason.kind === 0 /* Ambiguous */) {\n                for (const locale of reason.notAmbiguousInLocales) {\n                    options.push({\n                        label: nls.localize(\"unicodeHighlight.allowCommonCharactersInLanguage\", \"Allow unicode characters that are more common in the language \\\"{0}\\\".\", locale),\n                        run: () => __awaiter(this, void 0, void 0, function* () {\n                            excludeLocaleFromBeingHighlighted(configurationService, [locale]);\n                        }),\n                    });\n                }\n            }\n            options.push({\n                label: getExcludeCharFromBeingHighlightedLabel(codePoint),\n                run: () => excludeCharFromBeingHighlighted(configurationService, [codePoint])\n            });\n            if (inComment) {\n                const action = new DisableHighlightingInCommentsAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else if (inString) {\n                const action = new DisableHighlightingInStringsAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            if (reason.kind === 0 /* Ambiguous */) {\n                const action = new DisableHighlightingOfAmbiguousCharactersAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else if (reason.kind === 1 /* Invisible */) {\n                const action = new DisableHighlightingOfInvisibleCharactersAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else if (reason.kind === 2 /* NonBasicAscii */) {\n                const action = new DisableHighlightingOfNonBasicAsciiCharactersAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else {\n                expectNever(reason);\n            }\n            const result = yield quickPickService.pick(options, { title: nls.localize('unicodeHighlight.configureUnicodeHighlightOptions', 'Configure Unicode Highlight Options') });\n            if (result) {\n                yield result.run();\n            }\n        });\n    }\n}\nShowExcludeOptions.ID = 'editor.action.unicodeHighlight.showExcludeOptions';\nfunction excludeCharFromBeingHighlighted(configurationService, charCodes) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const existingValue = configurationService.getValue(unicodeHighlightConfigKeys.allowedCharacters);\n        let value;\n        if ((typeof existingValue === 'object') && existingValue) {\n            value = existingValue;\n        }\n        else {\n            value = {};\n        }\n        for (const charCode of charCodes) {\n            value[String.fromCodePoint(charCode)] = true;\n        }\n        yield configurationService.updateValue(unicodeHighlightConfigKeys.allowedCharacters, value, 1 /* USER */);\n    });\n}\nfunction excludeLocaleFromBeingHighlighted(configurationService, locales) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const existingValue = (_a = configurationService.inspect(unicodeHighlightConfigKeys.allowedLocales).user) === null || _a === void 0 ? void 0 : _a.value;\n        let value;\n        if ((typeof existingValue === 'object') && existingValue) {\n            // Copy value, as the existing value is read only\n            value = Object.assign({}, existingValue);\n        }\n        else {\n            value = {};\n        }\n        for (const locale of locales) {\n            value[locale] = true;\n        }\n        yield configurationService.updateValue(unicodeHighlightConfigKeys.allowedLocales, value, 1 /* USER */);\n    });\n}\nfunction expectNever(value) {\n    throw new Error(`Unexpected value: ${value}`);\n}\nregisterEditorAction(DisableHighlightingOfAmbiguousCharactersAction);\nregisterEditorAction(DisableHighlightingOfInvisibleCharactersAction);\nregisterEditorAction(DisableHighlightingOfNonBasicAsciiCharactersAction);\nregisterEditorAction(ShowExcludeOptions);\nregisterEditorContribution(UnicodeHighlighter.ID, UnicodeHighlighter);\nHoverParticipantRegistry.register(UnicodeHighlighterHoverParticipant);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport * as nls from '../../../../nls.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nconst ignoreUnusualLineTerminators = 'ignoreUnusualLineTerminators';\nfunction writeIgnoreState(codeEditorService, model, state) {\n    codeEditorService.setModelProperty(model.uri, ignoreUnusualLineTerminators, state);\n}\nfunction readIgnoreState(codeEditorService, model) {\n    return codeEditorService.getModelProperty(model.uri, ignoreUnusualLineTerminators);\n}\nlet UnusualLineTerminatorsDetector = class UnusualLineTerminatorsDetector extends Disposable {\n    constructor(_editor, _dialogService, _codeEditorService) {\n        super();\n        this._editor = _editor;\n        this._dialogService = _dialogService;\n        this._codeEditorService = _codeEditorService;\n        this._config = this._editor.getOption(114 /* unusualLineTerminators */);\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(114 /* unusualLineTerminators */)) {\n                this._config = this._editor.getOption(114 /* unusualLineTerminators */);\n                this._checkForUnusualLineTerminators();\n            }\n        }));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._checkForUnusualLineTerminators();\n        }));\n        this._register(this._editor.onDidChangeModelContent((e) => {\n            if (e.isUndoing) {\n                // skip checking in case of undoing\n                return;\n            }\n            this._checkForUnusualLineTerminators();\n        }));\n    }\n    _checkForUnusualLineTerminators() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._config === 'off') {\n                return;\n            }\n            if (!this._editor.hasModel()) {\n                return;\n            }\n            const model = this._editor.getModel();\n            if (!model.mightContainUnusualLineTerminators()) {\n                return;\n            }\n            const ignoreState = readIgnoreState(this._codeEditorService, model);\n            if (ignoreState === true) {\n                // this model should be ignored\n                return;\n            }\n            if (this._editor.getOption(81 /* readOnly */)) {\n                // read only editor => sorry!\n                return;\n            }\n            if (this._config === 'auto') {\n                // just do it!\n                model.removeUnusualLineTerminators(this._editor.getSelections());\n                return;\n            }\n            const result = yield this._dialogService.confirm({\n                title: nls.localize('unusualLineTerminators.title', \"Unusual Line Terminators\"),\n                message: nls.localize('unusualLineTerminators.message', \"Detected unusual line terminators\"),\n                detail: nls.localize('unusualLineTerminators.detail', \"The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\\n\\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.\", basename(model.uri)),\n                primaryButton: nls.localize('unusualLineTerminators.fix', \"Remove Unusual Line Terminators\"),\n                secondaryButton: nls.localize('unusualLineTerminators.ignore', \"Ignore\")\n            });\n            if (!result.confirmed) {\n                // this model should be ignored\n                writeIgnoreState(this._codeEditorService, model, true);\n                return;\n            }\n            model.removeUnusualLineTerminators(this._editor.getSelections());\n        });\n    }\n};\nUnusualLineTerminatorsDetector.ID = 'editor.contrib.unusualLineTerminatorsDetector';\nUnusualLineTerminatorsDetector = __decorate([\n    __param(1, IDialogService),\n    __param(2, ICodeEditorService)\n], UnusualLineTerminatorsDetector);\nexport { UnusualLineTerminatorsDetector };\nregisterEditorContribution(UnusualLineTerminatorsDetector.ID, UnusualLineTerminatorsDetector);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { createCancelablePromise, RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { getDocumentRangeSemanticTokens, hasDocumentRangeSemanticTokensProvider } from '../../../common/services/getSemanticTokens.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { isSemanticColoringEnabled, SEMANTIC_HIGHLIGHTING_SETTING_ID } from '../../../common/services/modelService.js';\nimport { toMultilineTokens2 } from '../../../common/services/semanticTokensProviderStyling.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nlet ViewportSemanticTokensContribution = class ViewportSemanticTokensContribution extends Disposable {\n    constructor(editor, _modelService, _themeService, _configurationService, languageFeatureDebounceService, languageFeaturesService) {\n        super();\n        this._modelService = _modelService;\n        this._themeService = _themeService;\n        this._configurationService = _configurationService;\n        this._editor = editor;\n        this._provider = languageFeaturesService.documentRangeSemanticTokensProvider;\n        this._debounceInformation = languageFeatureDebounceService.for(this._provider, 'DocumentRangeSemanticTokens', { min: 100, max: 500 });\n        this._tokenizeViewport = this._register(new RunOnceScheduler(() => this._tokenizeViewportNow(), 100));\n        this._outstandingRequests = [];\n        const scheduleTokenizeViewport = () => {\n            if (this._editor.hasModel()) {\n                this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()));\n            }\n        };\n        this._register(this._editor.onDidScrollChange(() => {\n            scheduleTokenizeViewport();\n        }));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._cancelAll();\n            scheduleTokenizeViewport();\n        }));\n        this._register(this._editor.onDidChangeModelContent((e) => {\n            this._cancelAll();\n            scheduleTokenizeViewport();\n        }));\n        this._register(this._provider.onDidChange(() => {\n            this._cancelAll();\n            scheduleTokenizeViewport();\n        }));\n        this._register(this._configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(SEMANTIC_HIGHLIGHTING_SETTING_ID)) {\n                this._cancelAll();\n                scheduleTokenizeViewport();\n            }\n        }));\n        this._register(this._themeService.onDidColorThemeChange(() => {\n            this._cancelAll();\n            scheduleTokenizeViewport();\n        }));\n    }\n    _cancelAll() {\n        for (const request of this._outstandingRequests) {\n            request.cancel();\n        }\n        this._outstandingRequests = [];\n    }\n    _removeOutstandingRequest(req) {\n        for (let i = 0, len = this._outstandingRequests.length; i < len; i++) {\n            if (this._outstandingRequests[i] === req) {\n                this._outstandingRequests.splice(i, 1);\n                return;\n            }\n        }\n    }\n    _tokenizeViewportNow() {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        if (model.hasCompleteSemanticTokens()) {\n            return;\n        }\n        if (!isSemanticColoringEnabled(model, this._themeService, this._configurationService)) {\n            if (model.hasSomeSemanticTokens()) {\n                model.setSemanticTokens(null, false);\n            }\n            return;\n        }\n        if (!hasDocumentRangeSemanticTokensProvider(this._provider, model)) {\n            if (model.hasSomeSemanticTokens()) {\n                model.setSemanticTokens(null, false);\n            }\n            return;\n        }\n        const visibleRanges = this._editor.getVisibleRangesPlusViewportAboveBelow();\n        this._outstandingRequests = this._outstandingRequests.concat(visibleRanges.map(range => this._requestRange(model, range)));\n    }\n    _requestRange(model, range) {\n        const requestVersionId = model.getVersionId();\n        const request = createCancelablePromise(token => Promise.resolve(getDocumentRangeSemanticTokens(this._provider, model, range, token)));\n        const sw = new StopWatch(false);\n        request.then((r) => {\n            this._debounceInformation.update(model, sw.elapsed());\n            if (!r || !r.tokens || model.isDisposed() || model.getVersionId() !== requestVersionId) {\n                return;\n            }\n            const { provider, tokens: result } = r;\n            const styling = this._modelService.getSemanticTokensProviderStyling(provider);\n            model.setPartialSemanticTokens(range, toMultilineTokens2(result, styling, model.getLanguageId()));\n        }).then(() => this._removeOutstandingRequest(request), () => this._removeOutstandingRequest(request));\n        return request;\n    }\n};\nViewportSemanticTokensContribution.ID = 'editor.contrib.viewportSemanticTokens';\nViewportSemanticTokensContribution = __decorate([\n    __param(1, IModelService),\n    __param(2, IThemeService),\n    __param(3, IConfigurationService),\n    __param(4, ILanguageFeatureDebounceService),\n    __param(5, ILanguageFeaturesService)\n], ViewportSemanticTokensContribution);\nregisterEditorContribution(ViewportSemanticTokensContribution.ID, ViewportSemanticTokensContribution);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { createCancelablePromise, first, timeout } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution, registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { MinimapPosition, OverviewRulerLane } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { DocumentHighlightKind } from '../../../common/languages.js';\nimport * as nls from '../../../../nls.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { activeContrastBorder, editorSelectionHighlight, editorSelectionHighlightBorder, minimapSelectionOccurrenceHighlight, overviewRulerSelectionHighlightForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant, themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nconst editorWordHighlight = registerColor('editor.wordHighlightBackground', { dark: '#575757B8', light: '#57575740', hc: null }, nls.localize('wordHighlight', 'Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst editorWordHighlightStrong = registerColor('editor.wordHighlightStrongBackground', { dark: '#004972B8', light: '#0e639c40', hc: null }, nls.localize('wordHighlightStrong', 'Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst editorWordHighlightBorder = registerColor('editor.wordHighlightBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('wordHighlightBorder', 'Border color of a symbol during read-access, like reading a variable.'));\nconst editorWordHighlightStrongBorder = registerColor('editor.wordHighlightStrongBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('wordHighlightStrongBorder', 'Border color of a symbol during write-access, like writing to a variable.'));\nconst overviewRulerWordHighlightForeground = registerColor('editorOverviewRuler.wordHighlightForeground', { dark: '#A0A0A0CC', light: '#A0A0A0CC', hc: '#A0A0A0CC' }, nls.localize('overviewRulerWordHighlightForeground', 'Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst overviewRulerWordHighlightStrongForeground = registerColor('editorOverviewRuler.wordHighlightStrongForeground', { dark: '#C0A0C0CC', light: '#C0A0C0CC', hc: '#C0A0C0CC' }, nls.localize('overviewRulerWordHighlightStrongForeground', 'Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst ctxHasWordHighlights = new RawContextKey('hasWordHighlights', false);\nexport function getOccurrencesAtPosition(registry, model, position, token) {\n    const orderedByScore = registry.ordered(model);\n    // in order of score ask the occurrences provider\n    // until someone response with a good result\n    // (good = none empty array)\n    return first(orderedByScore.map(provider => () => {\n        return Promise.resolve(provider.provideDocumentHighlights(model, position, token))\n            .then(undefined, onUnexpectedExternalError);\n    }), arrays.isNonEmptyArray);\n}\nclass OccurenceAtPositionRequest {\n    constructor(_model, _selection, _wordSeparators) {\n        this._model = _model;\n        this._selection = _selection;\n        this._wordSeparators = _wordSeparators;\n        this._wordRange = this._getCurrentWordRange(_model, _selection);\n        this._result = null;\n    }\n    get result() {\n        if (!this._result) {\n            this._result = createCancelablePromise(token => this._compute(this._model, this._selection, this._wordSeparators, token));\n        }\n        return this._result;\n    }\n    _getCurrentWordRange(model, selection) {\n        const word = model.getWordAtPosition(selection.getPosition());\n        if (word) {\n            return new Range(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\n        }\n        return null;\n    }\n    isValid(model, selection, decorationIds) {\n        const lineNumber = selection.startLineNumber;\n        const startColumn = selection.startColumn;\n        const endColumn = selection.endColumn;\n        const currentWordRange = this._getCurrentWordRange(model, selection);\n        let requestIsValid = Boolean(this._wordRange && this._wordRange.equalsRange(currentWordRange));\n        // Even if we are on a different word, if that word is in the decorations ranges, the request is still valid\n        // (Same symbol)\n        for (let i = 0, len = decorationIds.length; !requestIsValid && i < len; i++) {\n            let range = model.getDecorationRange(decorationIds[i]);\n            if (range && range.startLineNumber === lineNumber) {\n                if (range.startColumn <= startColumn && range.endColumn >= endColumn) {\n                    requestIsValid = true;\n                }\n            }\n        }\n        return requestIsValid;\n    }\n    cancel() {\n        this.result.cancel();\n    }\n}\nclass SemanticOccurenceAtPositionRequest extends OccurenceAtPositionRequest {\n    constructor(model, selection, wordSeparators, providers) {\n        super(model, selection, wordSeparators);\n        this._providers = providers;\n    }\n    _compute(model, selection, wordSeparators, token) {\n        return getOccurrencesAtPosition(this._providers, model, selection.getPosition(), token).then(value => value || []);\n    }\n}\nclass TextualOccurenceAtPositionRequest extends OccurenceAtPositionRequest {\n    constructor(model, selection, wordSeparators) {\n        super(model, selection, wordSeparators);\n        this._selectionIsEmpty = selection.isEmpty();\n    }\n    _compute(model, selection, wordSeparators, token) {\n        return timeout(250, token).then(() => {\n            if (!selection.isEmpty()) {\n                return [];\n            }\n            const word = model.getWordAtPosition(selection.getPosition());\n            if (!word || word.word.length > 1000) {\n                return [];\n            }\n            const matches = model.findMatches(word.word, true, false, true, wordSeparators, false);\n            return matches.map(m => {\n                return {\n                    range: m.range,\n                    kind: DocumentHighlightKind.Text\n                };\n            });\n        });\n    }\n    isValid(model, selection, decorationIds) {\n        const currentSelectionIsEmpty = selection.isEmpty();\n        if (this._selectionIsEmpty !== currentSelectionIsEmpty) {\n            return false;\n        }\n        return super.isValid(model, selection, decorationIds);\n    }\n}\nfunction computeOccurencesAtPosition(registry, model, selection, wordSeparators) {\n    if (registry.has(model)) {\n        return new SemanticOccurenceAtPositionRequest(model, selection, wordSeparators, registry);\n    }\n    return new TextualOccurenceAtPositionRequest(model, selection, wordSeparators);\n}\nregisterModelAndPositionCommand('_executeDocumentHighlights', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    return getOccurrencesAtPosition(languageFeaturesService.documentHighlightProvider, model, position, CancellationToken.None);\n});\nclass WordHighlighter {\n    constructor(editor, providers, contextKeyService) {\n        this.toUnhook = new DisposableStore();\n        this.workerRequestTokenId = 0;\n        this.workerRequestCompleted = false;\n        this.workerRequestValue = [];\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n        this.editor = editor;\n        this.providers = providers;\n        this._hasWordHighlights = ctxHasWordHighlights.bindTo(contextKeyService);\n        this._ignorePositionChangeEvent = false;\n        this.occurrencesHighlight = this.editor.getOption(72 /* occurrencesHighlight */);\n        this.model = this.editor.getModel();\n        this.toUnhook.add(editor.onDidChangeCursorPosition((e) => {\n            if (this._ignorePositionChangeEvent) {\n                // We are changing the position => ignore this event\n                return;\n            }\n            if (!this.occurrencesHighlight) {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            this._onPositionChanged(e);\n        }));\n        this.toUnhook.add(editor.onDidChangeModelContent((e) => {\n            this._stopAll();\n        }));\n        this.toUnhook.add(editor.onDidChangeConfiguration((e) => {\n            let newValue = this.editor.getOption(72 /* occurrencesHighlight */);\n            if (this.occurrencesHighlight !== newValue) {\n                this.occurrencesHighlight = newValue;\n                this._stopAll();\n            }\n        }));\n        this._decorationIds = [];\n        this.workerRequestTokenId = 0;\n        this.workerRequest = null;\n        this.workerRequestCompleted = false;\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n    }\n    hasDecorations() {\n        return (this._decorationIds.length > 0);\n    }\n    restore() {\n        if (!this.occurrencesHighlight) {\n            return;\n        }\n        this._run();\n    }\n    _getSortedHighlights() {\n        return arrays.coalesce(this._decorationIds\n            .map((id) => this.model.getDecorationRange(id))\n            .sort(Range.compareRangesUsingStarts));\n    }\n    moveNext() {\n        let highlights = this._getSortedHighlights();\n        let index = highlights.findIndex((range) => range.containsPosition(this.editor.getPosition()));\n        let newIndex = ((index + 1) % highlights.length);\n        let dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n            const word = this._getWord();\n            if (word) {\n                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);\n                alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);\n            }\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    }\n    moveBack() {\n        let highlights = this._getSortedHighlights();\n        let index = highlights.findIndex((range) => range.containsPosition(this.editor.getPosition()));\n        let newIndex = ((index - 1 + highlights.length) % highlights.length);\n        let dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n            const word = this._getWord();\n            if (word) {\n                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);\n                alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);\n            }\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    }\n    _removeDecorations() {\n        if (this._decorationIds.length > 0) {\n            // remove decorations\n            this._decorationIds = this.editor.deltaDecorations(this._decorationIds, []);\n            this._hasWordHighlights.set(false);\n        }\n    }\n    _stopAll() {\n        // Remove any existing decorations\n        this._removeDecorations();\n        // Cancel any renderDecorationsTimer\n        if (this.renderDecorationsTimer !== -1) {\n            clearTimeout(this.renderDecorationsTimer);\n            this.renderDecorationsTimer = -1;\n        }\n        // Cancel any worker request\n        if (this.workerRequest !== null) {\n            this.workerRequest.cancel();\n            this.workerRequest = null;\n        }\n        // Invalidate any worker request callback\n        if (!this.workerRequestCompleted) {\n            this.workerRequestTokenId++;\n            this.workerRequestCompleted = true;\n        }\n    }\n    _onPositionChanged(e) {\n        // disabled\n        if (!this.occurrencesHighlight) {\n            this._stopAll();\n            return;\n        }\n        // ignore typing & other\n        if (e.reason !== 3 /* Explicit */) {\n            this._stopAll();\n            return;\n        }\n        this._run();\n    }\n    _getWord() {\n        let editorSelection = this.editor.getSelection();\n        let lineNumber = editorSelection.startLineNumber;\n        let startColumn = editorSelection.startColumn;\n        return this.model.getWordAtPosition({\n            lineNumber: lineNumber,\n            column: startColumn\n        });\n    }\n    _run() {\n        let editorSelection = this.editor.getSelection();\n        // ignore multiline selection\n        if (editorSelection.startLineNumber !== editorSelection.endLineNumber) {\n            this._stopAll();\n            return;\n        }\n        let startColumn = editorSelection.startColumn;\n        let endColumn = editorSelection.endColumn;\n        const word = this._getWord();\n        // The selection must be inside a word or surround one word at most\n        if (!word || word.startColumn > startColumn || word.endColumn < endColumn) {\n            this._stopAll();\n            return;\n        }\n        // All the effort below is trying to achieve this:\n        // - when cursor is moved to a word, trigger immediately a findOccurrences request\n        // - 250ms later after the last cursor move event, render the occurrences\n        // - no flickering!\n        const workerRequestIsValid = (this.workerRequest && this.workerRequest.isValid(this.model, editorSelection, this._decorationIds));\n        // There are 4 cases:\n        // a) old workerRequest is valid & completed, renderDecorationsTimer fired\n        // b) old workerRequest is valid & completed, renderDecorationsTimer not fired\n        // c) old workerRequest is valid, but not completed\n        // d) old workerRequest is not valid\n        // For a) no action is needed\n        // For c), member 'lastCursorPositionChangeTime' will be used when installing the timer so no action is needed\n        this.lastCursorPositionChangeTime = (new Date()).getTime();\n        if (workerRequestIsValid) {\n            if (this.workerRequestCompleted && this.renderDecorationsTimer !== -1) {\n                // case b)\n                // Delay the firing of renderDecorationsTimer by an extra 250 ms\n                clearTimeout(this.renderDecorationsTimer);\n                this.renderDecorationsTimer = -1;\n                this._beginRenderDecorations();\n            }\n        }\n        else {\n            // case d)\n            // Stop all previous actions and start fresh\n            this._stopAll();\n            let myRequestId = ++this.workerRequestTokenId;\n            this.workerRequestCompleted = false;\n            this.workerRequest = computeOccurencesAtPosition(this.providers, this.model, this.editor.getSelection(), this.editor.getOption(117 /* wordSeparators */));\n            this.workerRequest.result.then(data => {\n                if (myRequestId === this.workerRequestTokenId) {\n                    this.workerRequestCompleted = true;\n                    this.workerRequestValue = data || [];\n                    this._beginRenderDecorations();\n                }\n            }, onUnexpectedError);\n        }\n    }\n    _beginRenderDecorations() {\n        let currentTime = (new Date()).getTime();\n        let minimumRenderTime = this.lastCursorPositionChangeTime + 250;\n        if (currentTime >= minimumRenderTime) {\n            // Synchronous\n            this.renderDecorationsTimer = -1;\n            this.renderDecorations();\n        }\n        else {\n            // Asynchronous\n            this.renderDecorationsTimer = setTimeout(() => {\n                this.renderDecorations();\n            }, (minimumRenderTime - currentTime));\n        }\n    }\n    renderDecorations() {\n        this.renderDecorationsTimer = -1;\n        let decorations = [];\n        for (const info of this.workerRequestValue) {\n            if (info.range) {\n                decorations.push({\n                    range: info.range,\n                    options: WordHighlighter._getDecorationOptions(info.kind)\n                });\n            }\n        }\n        this._decorationIds = this.editor.deltaDecorations(this._decorationIds, decorations);\n        this._hasWordHighlights.set(this.hasDecorations());\n    }\n    static _getDecorationOptions(kind) {\n        if (kind === DocumentHighlightKind.Write) {\n            return this._WRITE_OPTIONS;\n        }\n        else if (kind === DocumentHighlightKind.Text) {\n            return this._TEXT_OPTIONS;\n        }\n        else {\n            return this._REGULAR_OPTIONS;\n        }\n    }\n    dispose() {\n        this._stopAll();\n        this.toUnhook.dispose();\n    }\n}\nWordHighlighter._WRITE_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight-strong',\n    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlightStrong',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightStrongForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nWordHighlighter._TEXT_OPTIONS = ModelDecorationOptions.register({\n    description: 'selection-highlight',\n    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\n    className: 'selectionHighlight',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerSelectionHighlightForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nWordHighlighter._REGULAR_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight',\n    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlight',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nlet WordHighlighterContribution = class WordHighlighterContribution extends Disposable {\n    constructor(editor, contextKeyService, languageFeaturesService) {\n        super();\n        this.wordHighlighter = null;\n        const createWordHighlighterIfPossible = () => {\n            if (editor.hasModel()) {\n                this.wordHighlighter = new WordHighlighter(editor, languageFeaturesService.documentHighlightProvider, contextKeyService);\n            }\n        };\n        this._register(editor.onDidChangeModel((e) => {\n            if (this.wordHighlighter) {\n                this.wordHighlighter.dispose();\n                this.wordHighlighter = null;\n            }\n            createWordHighlighterIfPossible();\n        }));\n        createWordHighlighterIfPossible();\n    }\n    static get(editor) {\n        return editor.getContribution(WordHighlighterContribution.ID);\n    }\n    saveViewState() {\n        if (this.wordHighlighter && this.wordHighlighter.hasDecorations()) {\n            return true;\n        }\n        return false;\n    }\n    moveNext() {\n        if (this.wordHighlighter) {\n            this.wordHighlighter.moveNext();\n        }\n    }\n    moveBack() {\n        if (this.wordHighlighter) {\n            this.wordHighlighter.moveBack();\n        }\n    }\n    restoreViewState(state) {\n        if (this.wordHighlighter && state) {\n            this.wordHighlighter.restore();\n        }\n    }\n    dispose() {\n        if (this.wordHighlighter) {\n            this.wordHighlighter.dispose();\n            this.wordHighlighter = null;\n        }\n        super.dispose();\n    }\n};\nWordHighlighterContribution.ID = 'editor.contrib.wordHighlighter';\nWordHighlighterContribution = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, ILanguageFeaturesService)\n], WordHighlighterContribution);\nclass WordHighlightNavigationAction extends EditorAction {\n    constructor(next, opts) {\n        super(opts);\n        this._isNext = next;\n    }\n    run(accessor, editor) {\n        const controller = WordHighlighterContribution.get(editor);\n        if (!controller) {\n            return;\n        }\n        if (this._isNext) {\n            controller.moveNext();\n        }\n        else {\n            controller.moveBack();\n        }\n    }\n}\nclass NextWordHighlightAction extends WordHighlightNavigationAction {\n    constructor() {\n        super(true, {\n            id: 'editor.action.wordHighlight.next',\n            label: nls.localize('wordHighlight.next.label', \"Go to Next Symbol Highlight\"),\n            alias: 'Go to Next Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 65 /* F7 */,\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nclass PrevWordHighlightAction extends WordHighlightNavigationAction {\n    constructor() {\n        super(false, {\n            id: 'editor.action.wordHighlight.prev',\n            label: nls.localize('wordHighlight.previous.label', \"Go to Previous Symbol Highlight\"),\n            alias: 'Go to Previous Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* Shift */ | 65 /* F7 */,\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nclass TriggerWordHighlightAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.wordHighlight.trigger',\n            label: nls.localize('wordHighlight.trigger.label', \"Trigger Symbol Highlight\"),\n            alias: 'Trigger Symbol Highlight',\n            precondition: ctxHasWordHighlights.toNegated(),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 0,\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        const controller = WordHighlighterContribution.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.restoreViewState(true);\n    }\n}\nregisterEditorContribution(WordHighlighterContribution.ID, WordHighlighterContribution);\nregisterEditorAction(NextWordHighlightAction);\nregisterEditorAction(PrevWordHighlightAction);\nregisterEditorAction(TriggerWordHighlightAction);\nregisterThemingParticipant((theme, collector) => {\n    const selectionHighlight = theme.getColor(editorSelectionHighlight);\n    if (selectionHighlight) {\n        collector.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${selectionHighlight}; }`);\n        collector.addRule(`.monaco-editor .selectionHighlight { background-color: ${selectionHighlight.transparent(0.5)}; }`);\n    }\n    const wordHighlight = theme.getColor(editorWordHighlight);\n    if (wordHighlight) {\n        collector.addRule(`.monaco-editor .wordHighlight { background-color: ${wordHighlight}; }`);\n    }\n    const wordHighlightStrong = theme.getColor(editorWordHighlightStrong);\n    if (wordHighlightStrong) {\n        collector.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${wordHighlightStrong}; }`);\n    }\n    const selectionHighlightBorder = theme.getColor(editorSelectionHighlightBorder);\n    if (selectionHighlightBorder) {\n        collector.addRule(`.monaco-editor .selectionHighlight { border: 1px ${theme.type === 'hc' ? 'dotted' : 'solid'} ${selectionHighlightBorder}; box-sizing: border-box; }`);\n    }\n    const wordHighlightBorder = theme.getColor(editorWordHighlightBorder);\n    if (wordHighlightBorder) {\n        collector.addRule(`.monaco-editor .wordHighlight { border: 1px ${theme.type === 'hc' ? 'dashed' : 'solid'} ${wordHighlightBorder}; box-sizing: border-box; }`);\n    }\n    const wordHighlightStrongBorder = theme.getColor(editorWordHighlightStrongBorder);\n    if (wordHighlightStrongBorder) {\n        collector.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${theme.type === 'hc' ? 'dashed' : 'solid'} ${wordHighlightStrongBorder}; box-sizing: border-box; }`);\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { ReplaceCommand } from '../../../common/commands/replaceCommand.js';\nimport { EditorOptions } from '../../../common/config/editorOptions.js';\nimport { CursorState } from '../../../common/cursorCommon.js';\nimport { WordOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { getMapForWordSeparators } from '../../../common/core/wordCharacterClassifier.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport * as nls from '../../../../nls.js';\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../../../../platform/accessibility/common/accessibility.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IsWindowsContext } from '../../../../platform/contextkey/common/contextkeys.js';\nexport class MoveWordCommand extends EditorCommand {\n    constructor(opts) {\n        super(opts);\n        this._inSelectionMode = opts.inSelectionMode;\n        this._wordNavigationType = opts.wordNavigationType;\n    }\n    runEditorCommand(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(117 /* wordSeparators */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const result = selections.map((sel) => {\n            const inPosition = new Position(sel.positionLineNumber, sel.positionColumn);\n            const outPosition = this._move(wordSeparators, model, inPosition, this._wordNavigationType);\n            return this._moveTo(sel, outPosition, this._inSelectionMode);\n        });\n        model.pushStackElement();\n        editor._getViewModel().setCursorStates('moveWordCommand', 3 /* Explicit */, result.map(r => CursorState.fromModelSelection(r)));\n        if (result.length === 1) {\n            const pos = new Position(result[0].positionLineNumber, result[0].positionColumn);\n            editor.revealPosition(pos, 0 /* Smooth */);\n        }\n    }\n    _moveTo(from, to, inSelectionMode) {\n        if (inSelectionMode) {\n            // move just position\n            return new Selection(from.selectionStartLineNumber, from.selectionStartColumn, to.lineNumber, to.column);\n        }\n        else {\n            // move everything\n            return new Selection(to.lineNumber, to.column, to.lineNumber, to.column);\n        }\n    }\n}\nexport class WordLeftCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordOperations.moveWordLeft(wordSeparators, model, position, wordNavigationType);\n    }\n}\nexport class WordRightCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordOperations.moveWordRight(wordSeparators, model, position, wordNavigationType);\n    }\n}\nexport class CursorWordStartLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordStartLeft',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordEndLeft',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordLeft extends WordLeftCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 1 /* WordStartFast */,\n            id: 'cursorWordLeft',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* CtrlCmd */ | 15 /* LeftArrow */,\n                mac: { primary: 512 /* Alt */ | 15 /* LeftArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordStartLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordStartLeftSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordEndLeftSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordLeftSelect extends WordLeftCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 1 /* WordStartFast */,\n            id: 'cursorWordLeftSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 15 /* LeftArrow */,\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 15 /* LeftArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\n// Accessibility navigation commands should only be enabled on windows since they are tuned to what NVDA expects\nexport class CursorWordAccessibilityLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 3 /* WordAccessibility */,\n            id: 'cursorWordAccessibilityLeft',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordAccessibilityLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 3 /* WordAccessibility */,\n            id: 'cursorWordAccessibilityLeftSelect',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordStartRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordStartRight',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndRight extends WordRightCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordEndRight',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* CtrlCmd */ | 17 /* RightArrow */,\n                mac: { primary: 512 /* Alt */ | 17 /* RightArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordRight',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordStartRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordStartRightSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndRightSelect extends WordRightCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordEndRightSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 17 /* RightArrow */,\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 17 /* RightArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordRightSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordAccessibilityRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 3 /* WordAccessibility */,\n            id: 'cursorWordAccessibilityRight',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordAccessibilityRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 3 /* WordAccessibility */,\n            id: 'cursorWordAccessibilityRightSelect',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class DeleteWordCommand extends EditorCommand {\n    constructor(opts) {\n        super(opts);\n        this._whitespaceHeuristics = opts.whitespaceHeuristics;\n        this._wordNavigationType = opts.wordNavigationType;\n    }\n    runEditorCommand(accessor, editor, args) {\n        const languageConfigurationService = accessor.get(ILanguageConfigurationService);\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(117 /* wordSeparators */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const autoClosingBrackets = editor.getOption(5 /* autoClosingBrackets */);\n        const autoClosingQuotes = editor.getOption(8 /* autoClosingQuotes */);\n        const autoClosingPairs = languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getAutoClosingPairs();\n        const viewModel = editor._getViewModel();\n        const commands = selections.map((sel) => {\n            const deleteRange = this._delete({\n                wordSeparators,\n                model,\n                selection: sel,\n                whitespaceHeuristics: this._whitespaceHeuristics,\n                autoClosingDelete: editor.getOption(6 /* autoClosingDelete */),\n                autoClosingBrackets,\n                autoClosingQuotes,\n                autoClosingPairs,\n                autoClosedCharacters: viewModel.getCursorAutoClosedCharacters()\n            }, this._wordNavigationType);\n            return new ReplaceCommand(deleteRange, '');\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nexport class DeleteWordLeftCommand extends DeleteWordCommand {\n    _delete(ctx, wordNavigationType) {\n        let r = WordOperations.deleteWordLeft(ctx, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        return new Range(1, 1, 1, 1);\n    }\n}\nexport class DeleteWordRightCommand extends DeleteWordCommand {\n    _delete(ctx, wordNavigationType) {\n        let r = WordOperations.deleteWordRight(ctx, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        const lineCount = ctx.model.getLineCount();\n        const maxColumn = ctx.model.getLineMaxColumn(lineCount);\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\n    }\n}\nexport class DeleteWordStartLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'deleteWordStartLeft',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordEndLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'deleteWordEndLeft',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'deleteWordLeft',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* CtrlCmd */ | 1 /* Backspace */,\n                mac: { primary: 512 /* Alt */ | 1 /* Backspace */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nexport class DeleteWordStartRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'deleteWordStartRight',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordEndRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'deleteWordEndRight',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'deleteWordRight',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* CtrlCmd */ | 20 /* Delete */,\n                mac: { primary: 512 /* Alt */ | 20 /* Delete */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nexport class DeleteInsideWord extends EditorAction {\n    constructor() {\n        super({\n            id: 'deleteInsideWord',\n            precondition: EditorContextKeys.writable,\n            label: nls.localize('deleteInsideWord', \"Delete Word\"),\n            alias: 'Delete Word'\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(117 /* wordSeparators */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const commands = selections.map((sel) => {\n            const deleteRange = WordOperations.deleteInsideWord(wordSeparators, model, sel);\n            return new ReplaceCommand(deleteRange, '');\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nregisterEditorCommand(new CursorWordStartLeft());\nregisterEditorCommand(new CursorWordEndLeft());\nregisterEditorCommand(new CursorWordLeft());\nregisterEditorCommand(new CursorWordStartLeftSelect());\nregisterEditorCommand(new CursorWordEndLeftSelect());\nregisterEditorCommand(new CursorWordLeftSelect());\nregisterEditorCommand(new CursorWordStartRight());\nregisterEditorCommand(new CursorWordEndRight());\nregisterEditorCommand(new CursorWordRight());\nregisterEditorCommand(new CursorWordStartRightSelect());\nregisterEditorCommand(new CursorWordEndRightSelect());\nregisterEditorCommand(new CursorWordRightSelect());\nregisterEditorCommand(new CursorWordAccessibilityLeft());\nregisterEditorCommand(new CursorWordAccessibilityLeftSelect());\nregisterEditorCommand(new CursorWordAccessibilityRight());\nregisterEditorCommand(new CursorWordAccessibilityRightSelect());\nregisterEditorCommand(new DeleteWordStartLeft());\nregisterEditorCommand(new DeleteWordEndLeft());\nregisterEditorCommand(new DeleteWordLeft());\nregisterEditorCommand(new DeleteWordStartRight());\nregisterEditorCommand(new DeleteWordEndRight());\nregisterEditorCommand(new DeleteWordRight());\nregisterEditorAction(DeleteInsideWord);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { WordPartOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { DeleteWordCommand, MoveWordCommand } from '../../wordOperations/browser/wordOperations.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nexport class DeleteWordPartLeft extends DeleteWordCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'deleteWordPartLeft',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1 /* Backspace */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n    _delete(ctx, wordNavigationType) {\n        let r = WordPartOperations.deleteWordPartLeft(ctx);\n        if (r) {\n            return r;\n        }\n        return new Range(1, 1, 1, 1);\n    }\n}\nexport class DeleteWordPartRight extends DeleteWordCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'deleteWordPartRight',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 20 /* Delete */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n    _delete(ctx, wordNavigationType) {\n        let r = WordPartOperations.deleteWordPartRight(ctx);\n        if (r) {\n            return r;\n        }\n        const lineCount = ctx.model.getLineCount();\n        const maxColumn = ctx.model.getLineMaxColumn(lineCount);\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\n    }\n}\nexport class WordPartLeftCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordPartOperations.moveWordPartLeft(wordSeparators, model, position);\n    }\n}\nexport class CursorWordPartLeft extends WordPartLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordPartLeft',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 15 /* LeftArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\n// Register previous id for compatibility purposes\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeft', 'cursorWordPartLeft');\nexport class CursorWordPartLeftSelect extends WordPartLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordPartLeftSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1024 /* Shift */ | 15 /* LeftArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\n// Register previous id for compatibility purposes\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeftSelect', 'cursorWordPartLeftSelect');\nexport class WordPartRightCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordPartOperations.moveWordPartRight(wordSeparators, model, position);\n    }\n}\nexport class CursorWordPartRight extends WordPartRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordPartRight',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 17 /* RightArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordPartRightSelect extends WordPartRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordPartRightSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1024 /* Shift */ | 17 /* RightArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nregisterEditorCommand(new DeleteWordPartLeft());\nregisterEditorCommand(new DeleteWordPartRight());\nregisterEditorCommand(new CursorWordPartLeft());\nregisterEditorCommand(new CursorWordPartLeftSelect());\nregisterEditorCommand(new CursorWordPartRight());\nregisterEditorCommand(new CursorWordPartRightSelect());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Sash } from '../../../../base/browser/ui/sash/sash.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { IdGenerator } from '../../../../base/common/idGenerator.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport * as objects from '../../../../base/common/objects.js';\nimport './zoneWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nconst defaultColor = new Color(new RGBA(0, 122, 204));\nconst defaultOptions = {\n    showArrow: true,\n    showFrame: true,\n    className: '',\n    frameColor: defaultColor,\n    arrowColor: defaultColor,\n    keepEditorSelection: false\n};\nconst WIDGET_ID = 'vs.editor.contrib.zoneWidget';\nexport class ViewZoneDelegate {\n    constructor(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight) {\n        this.id = ''; // A valid zone id should be greater than 0\n        this.domNode = domNode;\n        this.afterLineNumber = afterLineNumber;\n        this.afterColumn = afterColumn;\n        this.heightInLines = heightInLines;\n        this._onDomNodeTop = onDomNodeTop;\n        this._onComputedHeight = onComputedHeight;\n    }\n    onDomNodeTop(top) {\n        this._onDomNodeTop(top);\n    }\n    onComputedHeight(height) {\n        this._onComputedHeight(height);\n    }\n}\nexport class OverlayWidgetDelegate {\n    constructor(id, domNode) {\n        this._id = id;\n        this._domNode = domNode;\n    }\n    getId() {\n        return this._id;\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return null;\n    }\n}\nclass Arrow {\n    constructor(_editor) {\n        this._editor = _editor;\n        this._ruleName = Arrow._IdGenerator.nextId();\n        this._decorations = [];\n        this._color = null;\n        this._height = -1;\n        //\n    }\n    dispose() {\n        this.hide();\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n    }\n    set color(value) {\n        if (this._color !== value) {\n            this._color = value;\n            this._updateStyle();\n        }\n    }\n    set height(value) {\n        if (this._height !== value) {\n            this._height = value;\n            this._updateStyle();\n        }\n    }\n    _updateStyle() {\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n        dom.createCSSRule(`.monaco-editor ${this._ruleName}`, `border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `);\n    }\n    show(where) {\n        if (where.column === 1) {\n            // the arrow isn't pretty at column 1 and we need to push it out a little\n            where = { lineNumber: where.lineNumber, column: 2 };\n        }\n        this._decorations = this._editor.deltaDecorations(this._decorations, [{ range: Range.fromPositions(where), options: { description: 'zone-widget-arrow', className: this._ruleName, stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ } }]);\n    }\n    hide() {\n        this._editor.deltaDecorations(this._decorations, []);\n    }\n}\nArrow._IdGenerator = new IdGenerator('.arrow-decoration-');\nexport class ZoneWidget {\n    constructor(editor, options = {}) {\n        this._arrow = null;\n        this._overlayWidget = null;\n        this._resizeSash = null;\n        this._positionMarkerId = [];\n        this._viewZone = null;\n        this._disposables = new DisposableStore();\n        this.container = null;\n        this._isShowing = false;\n        this.editor = editor;\n        this.options = objects.deepClone(options);\n        objects.mixin(this.options, defaultOptions, false);\n        this.domNode = document.createElement('div');\n        if (!this.options.isAccessible) {\n            this.domNode.setAttribute('aria-hidden', 'true');\n            this.domNode.setAttribute('role', 'presentation');\n        }\n        this._disposables.add(this.editor.onDidLayoutChange((info) => {\n            const width = this._getWidth(info);\n            this.domNode.style.width = width + 'px';\n            this.domNode.style.left = this._getLeft(info) + 'px';\n            this._onWidth(width);\n        }));\n    }\n    dispose() {\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n                this._viewZone = null;\n            });\n        }\n        this.editor.deltaDecorations(this._positionMarkerId, []);\n        this._positionMarkerId = [];\n        this._disposables.dispose();\n    }\n    create() {\n        this.domNode.classList.add('zone-widget');\n        if (this.options.className) {\n            this.domNode.classList.add(this.options.className);\n        }\n        this.container = document.createElement('div');\n        this.container.classList.add('zone-widget-container');\n        this.domNode.appendChild(this.container);\n        if (this.options.showArrow) {\n            this._arrow = new Arrow(this.editor);\n            this._disposables.add(this._arrow);\n        }\n        this._fillContainer(this.container);\n        this._initSash();\n        this._applyStyles();\n    }\n    style(styles) {\n        if (styles.frameColor) {\n            this.options.frameColor = styles.frameColor;\n        }\n        if (styles.arrowColor) {\n            this.options.arrowColor = styles.arrowColor;\n        }\n        this._applyStyles();\n    }\n    _applyStyles() {\n        if (this.container && this.options.frameColor) {\n            let frameColor = this.options.frameColor.toString();\n            this.container.style.borderTopColor = frameColor;\n            this.container.style.borderBottomColor = frameColor;\n        }\n        if (this._arrow && this.options.arrowColor) {\n            let arrowColor = this.options.arrowColor.toString();\n            this._arrow.color = arrowColor;\n        }\n    }\n    _getWidth(info) {\n        return info.width - info.minimap.minimapWidth - info.verticalScrollbarWidth;\n    }\n    _getLeft(info) {\n        // If minimap is to the left, we move beyond it\n        if (info.minimap.minimapWidth > 0 && info.minimap.minimapLeft === 0) {\n            return info.minimap.minimapWidth;\n        }\n        return 0;\n    }\n    _onViewZoneTop(top) {\n        this.domNode.style.top = top + 'px';\n    }\n    _onViewZoneHeight(height) {\n        this.domNode.style.height = `${height}px`;\n        if (this.container) {\n            let containerHeight = height - this._decoratingElementsHeight();\n            this.container.style.height = `${containerHeight}px`;\n            const layoutInfo = this.editor.getLayoutInfo();\n            this._doLayout(containerHeight, this._getWidth(layoutInfo));\n        }\n        if (this._resizeSash) {\n            this._resizeSash.layout();\n        }\n    }\n    get position() {\n        const [id] = this._positionMarkerId;\n        if (!id) {\n            return undefined;\n        }\n        const model = this.editor.getModel();\n        if (!model) {\n            return undefined;\n        }\n        const range = model.getDecorationRange(id);\n        if (!range) {\n            return undefined;\n        }\n        return range.getStartPosition();\n    }\n    show(rangeOrPos, heightInLines) {\n        const range = Range.isIRange(rangeOrPos) ? Range.lift(rangeOrPos) : Range.fromPositions(rangeOrPos);\n        this._isShowing = true;\n        this._showImpl(range, heightInLines);\n        this._isShowing = false;\n        this._positionMarkerId = this.editor.deltaDecorations(this._positionMarkerId, [{ range, options: ModelDecorationOptions.EMPTY }]);\n    }\n    hide() {\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n            });\n            this._viewZone = null;\n        }\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        if (this._arrow) {\n            this._arrow.hide();\n        }\n    }\n    _decoratingElementsHeight() {\n        let lineHeight = this.editor.getOption(59 /* lineHeight */);\n        let result = 0;\n        if (this.options.showArrow) {\n            let arrowHeight = Math.round(lineHeight / 3);\n            result += 2 * arrowHeight;\n        }\n        if (this.options.showFrame) {\n            let frameThickness = Math.round(lineHeight / 9);\n            result += 2 * frameThickness;\n        }\n        return result;\n    }\n    _showImpl(where, heightInLines) {\n        const position = where.getStartPosition();\n        const layoutInfo = this.editor.getLayoutInfo();\n        const width = this._getWidth(layoutInfo);\n        this.domNode.style.width = `${width}px`;\n        this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\n        // Render the widget as zone (rendering) and widget (lifecycle)\n        const viewZoneDomNode = document.createElement('div');\n        viewZoneDomNode.style.overflow = 'hidden';\n        const lineHeight = this.editor.getOption(59 /* lineHeight */);\n        // adjust heightInLines to viewport\n        const maxHeightInLines = Math.max(12, (this.editor.getLayoutInfo().height / lineHeight) * 0.8);\n        heightInLines = Math.min(heightInLines, maxHeightInLines);\n        let arrowHeight = 0;\n        let frameThickness = 0;\n        // Render the arrow one 1/3 of an editor line height\n        if (this._arrow && this.options.showArrow) {\n            arrowHeight = Math.round(lineHeight / 3);\n            this._arrow.height = arrowHeight;\n            this._arrow.show(position);\n        }\n        // Render the frame as 1/9 of an editor line height\n        if (this.options.showFrame) {\n            frameThickness = Math.round(lineHeight / 9);\n        }\n        // insert zone widget\n        this.editor.changeViewZones((accessor) => {\n            if (this._viewZone) {\n                accessor.removeZone(this._viewZone.id);\n            }\n            if (this._overlayWidget) {\n                this.editor.removeOverlayWidget(this._overlayWidget);\n                this._overlayWidget = null;\n            }\n            this.domNode.style.top = '-1000px';\n            this._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, (top) => this._onViewZoneTop(top), (height) => this._onViewZoneHeight(height));\n            this._viewZone.id = accessor.addZone(this._viewZone);\n            this._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + this._viewZone.id, this.domNode);\n            this.editor.addOverlayWidget(this._overlayWidget);\n        });\n        if (this.container && this.options.showFrame) {\n            const width = this.options.frameWidth ? this.options.frameWidth : frameThickness;\n            this.container.style.borderTopWidth = width + 'px';\n            this.container.style.borderBottomWidth = width + 'px';\n        }\n        let containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\n        if (this.container) {\n            this.container.style.top = arrowHeight + 'px';\n            this.container.style.height = containerHeight + 'px';\n            this.container.style.overflow = 'hidden';\n        }\n        this._doLayout(containerHeight, width);\n        if (!this.options.keepEditorSelection) {\n            this.editor.setSelection(where);\n        }\n        const model = this.editor.getModel();\n        if (model) {\n            const revealLine = where.endLineNumber + 1;\n            if (revealLine <= model.getLineCount()) {\n                // reveal line below the zone widget\n                this.revealLine(revealLine, false);\n            }\n            else {\n                // reveal last line atop\n                this.revealLine(model.getLineCount(), true);\n            }\n        }\n    }\n    revealLine(lineNumber, isLastLine) {\n        if (isLastLine) {\n            this.editor.revealLineInCenter(lineNumber, 0 /* Smooth */);\n        }\n        else {\n            this.editor.revealLine(lineNumber, 0 /* Smooth */);\n        }\n    }\n    setCssClass(className, classToReplace) {\n        if (!this.container) {\n            return;\n        }\n        if (classToReplace) {\n            this.container.classList.remove(classToReplace);\n        }\n        this.container.classList.add(className);\n    }\n    _onWidth(widthInPixel) {\n        // implement in subclass\n    }\n    _doLayout(heightInPixel, widthInPixel) {\n        // implement in subclass\n    }\n    _relayout(newHeightInLines) {\n        if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    this._viewZone.heightInLines = newHeightInLines;\n                    accessor.layoutZone(this._viewZone.id);\n                }\n            });\n        }\n    }\n    // --- sash\n    _initSash() {\n        if (this._resizeSash) {\n            return;\n        }\n        this._resizeSash = this._disposables.add(new Sash(this.domNode, this, { orientation: 1 /* HORIZONTAL */ }));\n        if (!this.options.isResizeable) {\n            this._resizeSash.state = 0 /* Disabled */;\n        }\n        let data;\n        this._disposables.add(this._resizeSash.onDidStart((e) => {\n            if (this._viewZone) {\n                data = {\n                    startY: e.startY,\n                    heightInLines: this._viewZone.heightInLines,\n                };\n            }\n        }));\n        this._disposables.add(this._resizeSash.onDidEnd(() => {\n            data = undefined;\n        }));\n        this._disposables.add(this._resizeSash.onDidChange((evt) => {\n            if (data) {\n                let lineDelta = (evt.currentY - data.startY) / this.editor.getOption(59 /* lineHeight */);\n                let roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\n                let newHeightInLines = data.heightInLines + roundedLineDelta;\n                if (newHeightInLines > 5 && newHeightInLines < 35) {\n                    this._relayout(newHeightInLines);\n                }\n            }\n        }));\n    }\n    getHorizontalSashLeft() {\n        return 0;\n    }\n    getHorizontalSashTop() {\n        return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - (this._decoratingElementsHeight() / 2);\n    }\n    getHorizontalSashWidth() {\n        const layoutInfo = this.editor.getLayoutInfo();\n        return layoutInfo.width - layoutInfo.minimap.minimapWidth;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nimport { EditorOptions } from './common/config/editorOptions.js';\nimport { createMonacoBaseAPI } from './common/services/editorBaseApi.js';\nimport { createMonacoEditorAPI } from './standalone/browser/standaloneEditor.js';\nimport { createMonacoLanguagesAPI } from './standalone/browser/standaloneLanguages.js';\nimport { globals } from '../base/common/platform.js';\nimport { FormattingConflicts } from './contrib/format/browser/format.js';\n// Set defaults for standalone editor\nEditorOptions.wrappingIndent.defaultValue = 0 /* None */;\nEditorOptions.glyphMargin.defaultValue = false;\nEditorOptions.autoIndent.defaultValue = 3 /* Advanced */;\nEditorOptions.overviewRulerLanes.defaultValue = 2;\n// We need to register a formatter selector which simply picks the first available formatter.\n// See https://github.com/microsoft/monaco-editor/issues/2327\nFormattingConflicts.setFormatterSelector((formatter, document, mode) => Promise.resolve(formatter[0]));\nconst api = createMonacoBaseAPI();\napi.editor = createMonacoEditorAPI();\napi.languages = createMonacoLanguagesAPI();\nexport const CancellationTokenSource = api.CancellationTokenSource;\nexport const Emitter = api.Emitter;\nexport const KeyCode = api.KeyCode;\nexport const KeyMod = api.KeyMod;\nexport const Position = api.Position;\nexport const Range = api.Range;\nexport const Selection = api.Selection;\nexport const SelectionDirection = api.SelectionDirection;\nexport const MarkerSeverity = api.MarkerSeverity;\nexport const MarkerTag = api.MarkerTag;\nexport const Uri = api.Uri;\nexport const Token = api.Token;\nexport const editor = api.editor;\nexport const languages = api.languages;\nif (((_a = globals.MonacoEnvironment) === null || _a === void 0 ? void 0 : _a.globalAPI) || (typeof define === 'function' && define.amd)) {\n    self.monaco = api;\n}\nif (typeof self.require !== 'undefined' && typeof self.require.config === 'function') {\n    self.require.config({\n        ignoreDuplicateModules: [\n            'vscode-languageserver-types',\n            'vscode-languageserver-types/main',\n            'vscode-languageserver-textdocument',\n            'vscode-languageserver-textdocument/main',\n            'vscode-nls',\n            'vscode-nls/vscode-nls',\n            'jsonc-parser',\n            'jsonc-parser/main',\n            'vscode-uri',\n            'vscode-uri/index',\n            'vs/basic-languages/typescript/typescript'\n        ]\n    });\n}\n"],"names":["paths","self","globalAPI","getWorkerUrl","moduleId","label","pathPrefix","__webpack_public_path__","result","replace","test","currentUrl","String","window","location","currentOrigin","substr","length","hash","search","pathname","substring","protocol","blob","Blob","type","URL","createObjectURL","require","module","exports","ToggleTabFocusModeAction","id","ID","nls","key","comment","alias","precondition","undefined","kbOpts","kbExpr","primary","mac","weight","accessor","editor","newValue","TabFocus","alert","EditorAction","registerEditorAction","ForceRetokenizeAction","hasModel","model","getModel","resetTokenization","sw","StopWatch","forceTokenization","getLineCount","stop","console","log","elapsed","__decorate","decorators","target","desc","d","c","arguments","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","BannerController","_editor","instantiationService","banner","_register","createInstance","Banner","this","setBanner","clear","item","show","assign","onClose","hide","element","Disposable","IInstantiationService","markdownRenderer","MarkdownRenderer","$","tabIndex","ariaLabel","message","innerText","render","clearNode","getAriaLabel","setAttribute","iconContainer","append","icon","appendChild","ThemeIcon","messageContainer","getBannerMessage","messageActionsContainer","actions","action","Link","actionBarContainer","actionBar","ActionBar","push","Action","widgetClose","setFocusable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","done","then","apply","warningIcon","registerIcon","Codicon","UnicodeHighlighter","_editorWorkerService","_workspaceTrustService","_highlighter","_bannerClosed","_updateState","state","hasMore","data","max","Math","ambiguousCharacterCount","nonBasicAsciiCharacterCount","invisibleCharacterCount","command","DisableHighlightingOfNonBasicAsciiCharactersAction","DisableHighlightingOfAmbiguousCharactersAction","Error","DisableHighlightingOfInvisibleCharactersAction","_bannerController","shortLabel","href","onDidChangeModel","_updateHighlighter","_options","getOption","onDidChangeTrust","onDidChangeConfiguration","hasChanged","dispose","options","trusted","nonBasicASCII","inUntrustedWorkspace","ambiguousCharacters","invisibleCharacters","includeComments","includeStrings","allowedCharacters","allowedLocales","resolveOptions","isWorkspaceTrusted","every","option","highlightOptions","allowedCodePoints","keys","map","codePointAt","locale","Intl","NumberFormat","resolvedOptions","platform","canComputeUnicodeHighlights","uri","DocumentUnicodeHighlighter","ViewportUnicodeHighlighter","decorationId","getDecorationInfo","IEditorWorkerService","IWorkspaceTrustManagementService","_model","_decorationIds","Set","_updateSoon","RunOnceScheduler","_update","onDidChangeModelContent","schedule","deltaDecorations","Array","from","isDisposed","mightContainNonBasicASCII","modelVersionId","getVersionId","computedUnicodeHighlights","info","decorations","ranges","range","Decorations","instance","getDecorationFromOptions","has","getDecorationRange","decoration","ownerId","isModelDecorationVisible","reason","computeReason","getValueInRange","inComment","isModelDecorationInComment","inString","isModelDecorationInString","onDidLayoutChange","onDidScrollChange","onDidChangeHiddenAreas","getVisibleRanges","totalResult","UnicodeTextModelHighlighter","text","UnicodeHighlighterHoverParticipant","_languageService","_openerService","hoverOrdinal","anchor","lineDecorations","unicodeHighlighter","getContribution","index","highlightInfo","codePoint","codePointStr","formatCodePointMarkdown","kind","confusableWith","adjustSettingsArgs","adjustSettings","contents","ShowExcludeOptions","encodeURIComponent","JSON","stringify","isTrusted","MarkdownHover","context","hoverParts","renderMarkdownHovers","codePointToHex","toString","padStart","InvisibleCharacters","fromCodePoint","renderCodePointAsInlineCode","char","ILanguageService","IOpenerService","Map","getDecoration","hideInComments","hideInStrings","get","ModelDecorationOptions","description","stickiness","className","showIfCollapsed","overviewRuler","minimap","hideInCommentTokens","hideInStringTokens","set","DisableHighlightingInCommentsAction","args","configurationService","IConfigurationService","runAction","updateValue","unicodeHighlightConfigKeys","DisableHighlightingInStringsAction","getExcludeCharFromBeingHighlightedLabel","quickPickService","IQuickInputService","notAmbiguousInLocales","run","excludeLocaleFromBeingHighlighted","excludeCharFromBeingHighlighted","expectNever","pick","title","charCodes","existingValue","getValue","charCode","f","locales","_a","inspect","user","registerEditorContribution","HoverParticipantRegistry","ignoreUnusualLineTerminators","writeIgnoreState","codeEditorService","setModelProperty","readIgnoreState","getModelProperty","UnusualLineTerminatorsDetector","_dialogService","_codeEditorService","_config","_checkForUnusualLineTerminators","isUndoing","mightContainUnusualLineTerminators","removeUnusualLineTerminators","getSelections","confirm","detail","basename","primaryButton","secondaryButton","confirmed","IDialogService","ICodeEditorService","ViewportSemanticTokensContribution","_modelService","_themeService","_configurationService","languageFeatureDebounceService","languageFeaturesService","_provider","documentRangeSemanticTokensProvider","_debounceInformation","for","min","_tokenizeViewport","_tokenizeViewportNow","_outstandingRequests","scheduleTokenizeViewport","_cancelAll","onDidChange","affectsConfiguration","SEMANTIC_HIGHLIGHTING_SETTING_ID","onDidColorThemeChange","cancel","req","len","splice","hasCompleteSemanticTokens","isSemanticColoringEnabled","hasDocumentRangeSemanticTokensProvider","visibleRanges","getVisibleRangesPlusViewportAboveBelow","concat","_requestRange","hasSomeSemanticTokens","setSemanticTokens","requestVersionId","request","createCancelablePromise","token","getDocumentRangeSemanticTokens","update","tokens","provider","styling","getSemanticTokensProviderStyling","setPartialSemanticTokens","toMultilineTokens2","getLanguageId","_removeOutstandingRequest","IModelService","IThemeService","ILanguageFeatureDebounceService","ILanguageFeaturesService","editorWordHighlight","registerColor","dark","light","hc","editorWordHighlightStrong","editorWordHighlightBorder","activeContrastBorder","editorWordHighlightStrongBorder","overviewRulerWordHighlightForeground","overviewRulerWordHighlightStrongForeground","ctxHasWordHighlights","RawContextKey","getOccurrencesAtPosition","registry","position","orderedByScore","ordered","first","provideDocumentHighlights","onUnexpectedExternalError","arrays","OccurenceAtPositionRequest","_selection","_wordSeparators","_wordRange","_getCurrentWordRange","_result","_compute","selection","word","getWordAtPosition","getPosition","Range","startLineNumber","startColumn","endColumn","decorationIds","lineNumber","currentWordRange","requestIsValid","Boolean","equalsRange","SemanticOccurenceAtPositionRequest","wordSeparators","providers","_providers","TextualOccurenceAtPositionRequest","_selectionIsEmpty","isEmpty","timeout","findMatches","m","DocumentHighlightKind","currentSelectionIsEmpty","registerModelAndPositionCommand","documentHighlightProvider","CancellationToken","WordHighlighter","contextKeyService","toUnhook","DisposableStore","workerRequestTokenId","workerRequestCompleted","workerRequestValue","lastCursorPositionChangeTime","renderDecorationsTimer","_hasWordHighlights","bindTo","_ignorePositionChangeEvent","occurrencesHighlight","add","onDidChangeCursorPosition","_onPositionChanged","_stopAll","workerRequest","_run","sort","highlights","_getSortedHighlights","newIndex","findIndex","containsPosition","dest","setPosition","getStartPosition","revealRangeInCenterIfOutsideViewport","_getWord","lineContent","getLineContent","_removeDecorations","clearTimeout","editorSelection","getSelection","column","endLineNumber","workerRequestIsValid","isValid","Date","getTime","_beginRenderDecorations","myRequestId","onUnexpectedError","currentTime","minimumRenderTime","renderDecorations","setTimeout","_getDecorationOptions","hasDecorations","_WRITE_OPTIONS","_TEXT_OPTIONS","_REGULAR_OPTIONS","color","themeColorFromId","OverviewRulerLane","minimapSelectionOccurrenceHighlight","MinimapPosition","overviewRulerSelectionHighlightForeground","WordHighlighterContribution","wordHighlighter","createWordHighlighterIfPossible","moveNext","moveBack","restore","IContextKeyService","WordHighlightNavigationAction","opts","_isNext","controller","NextWordHighlightAction","EditorContextKeys","PrevWordHighlightAction","TriggerWordHighlightAction","toNegated","restoreViewState","registerThemingParticipant","theme","collector","selectionHighlight","getColor","editorSelectionHighlight","addRule","transparent","wordHighlight","wordHighlightStrong","selectionHighlightBorder","editorSelectionHighlightBorder","wordHighlightBorder","wordHighlightStrongBorder","MoveWordCommand","_inSelectionMode","inSelectionMode","_wordNavigationType","wordNavigationType","getMapForWordSeparators","sel","inPosition","Position","positionLineNumber","positionColumn","outPosition","_move","_moveTo","pushStackElement","_getViewModel","setCursorStates","CursorState","pos","revealPosition","to","Selection","selectionStartLineNumber","selectionStartColumn","EditorCommand","WordLeftCommand","WordOperations","WordRightCommand","CursorWordStartLeft","CursorWordEndLeft","CursorWordLeft","ContextKeyExpr","CONTEXT_ACCESSIBILITY_MODE_ENABLED","IsWindowsContext","negate","CursorWordStartLeftSelect","CursorWordEndLeftSelect","CursorWordLeftSelect","CursorWordAccessibilityLeft","_","EditorOptions","CursorWordAccessibilityLeftSelect","CursorWordStartRight","CursorWordEndRight","CursorWordRight","CursorWordStartRightSelect","CursorWordEndRightSelect","CursorWordRightSelect","CursorWordAccessibilityRight","CursorWordAccessibilityRightSelect","DeleteWordCommand","_whitespaceHeuristics","whitespaceHeuristics","languageConfigurationService","ILanguageConfigurationService","selections","autoClosingBrackets","autoClosingQuotes","autoClosingPairs","getLanguageConfiguration","getAutoClosingPairs","viewModel","commands","deleteRange","_delete","autoClosingDelete","autoClosedCharacters","getCursorAutoClosedCharacters","ReplaceCommand","pushUndoStop","executeCommands","DeleteWordLeftCommand","ctx","DeleteWordRightCommand","lineCount","maxColumn","getLineMaxColumn","DeleteWordStartLeft","DeleteWordEndLeft","DeleteWordLeft","DeleteWordStartRight","DeleteWordEndRight","DeleteWordRight","DeleteInsideWord","registerEditorCommand","DeleteWordPartLeft","WordPartOperations","DeleteWordPartRight","WordPartLeftCommand","CursorWordPartLeft","CommandsRegistry","CursorWordPartLeftSelect","WordPartRightCommand","CursorWordPartRight","CursorWordPartRightSelect","defaultColor","Color","RGBA","defaultOptions","showArrow","showFrame","frameColor","arrowColor","keepEditorSelection","ViewZoneDelegate","domNode","afterLineNumber","afterColumn","heightInLines","onDomNodeTop","onComputedHeight","_onDomNodeTop","_onComputedHeight","top","height","OverlayWidgetDelegate","_id","_domNode","Arrow","_ruleName","_IdGenerator","nextId","_decorations","_color","_height","dom","removeCSSRulesContainingSelector","_updateStyle","createCSSRule","where","IdGenerator","ZoneWidget","_arrow","_overlayWidget","_resizeSash","_positionMarkerId","_viewZone","_disposables","container","_isShowing","objects","document","createElement","isAccessible","width","_getWidth","style","left","_getLeft","_onWidth","removeOverlayWidget","changeViewZones","removeZone","classList","_fillContainer","_initSash","_applyStyles","styles","borderTopColor","borderBottomColor","minimapWidth","verticalScrollbarWidth","minimapLeft","containerHeight","_decoratingElementsHeight","layoutInfo","getLayoutInfo","_doLayout","layout","rangeOrPos","_showImpl","lineHeight","round","viewZoneDomNode","overflow","maxHeightInLines","arrowHeight","frameThickness","_onViewZoneTop","_onViewZoneHeight","addZone","addOverlayWidget","frameWidth","borderTopWidth","borderBottomWidth","setSelection","revealLine","isLastLine","revealLineInCenter","classToReplace","remove","widthInPixel","heightInPixel","newHeightInLines","layoutZone","Sash","orientation","isResizeable","onDidStart","startY","onDidEnd","evt","lineDelta","currentY","roundedLineDelta","ceil","floor","_relayout","parseInt","formatter","mode","api","languages","CancellationTokenSource","Emitter","KeyCode","KeyMod","SelectionDirection","MarkerSeverity","MarkerTag","Uri","Token","define","monaco","config","ignoreDuplicateModules"],"sourceRoot":""}