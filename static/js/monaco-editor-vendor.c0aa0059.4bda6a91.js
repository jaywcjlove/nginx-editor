"use strict";(self.webpackChunkmonaco_editor_nginx=self.webpackChunkmonaco_editor_nginx||[]).push([[545],{6815:function(e,t,n){n.d(t,{N:function(){return o}});var i=n(16688);function o(e,t){e instanceof i.Z?(e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)):(e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px")}},68915:function(e,t,n){n.d(t,{z:function(){return M}});var i=n(37762),o=n(15671),r=n(43144),s=n(60136),a=n(27277),u=n(12426),l=n(71881),c=n(28941),d=n(10526),h=n(57151),f=n(4827),v=n(72380),p=n(90497),m=n(29439),g=function(){function e(t,n){(0,o.Z)(this,e),this.key=t,this.migrate=n}return(0,r.Z)(e,[{key:"apply",value:function(t){var n=e._read(t,this.key);this.migrate(n,(function(n){return e._read(t,n)}),(function(n,i){return e._write(t,n,i)}))}}],[{key:"_read",value:function(e,t){if("undefined"!==typeof e){var n=t.indexOf(".");if(n>=0){var i=t.substring(0,n);return this._read(e[i],t.substring(n+1))}return e[t]}}},{key:"_write",value:function(e,t,n){var i=t.indexOf(".");if(i>=0){var o=t.substring(0,i);return e[o]=e[o]||{},void this._write(e[o],t.substring(i+1),n)}e[t]=n}}]),e}();function _(e,t){g.items.push(new g(e,t))}function C(e,t){_(e,(function(n,o,r){if("undefined"!==typeof n){var s,a=(0,i.Z)(t);try{for(a.s();!(s=a.n()).done;){var u=(0,m.Z)(s.value,2),l=u[0],c=u[1];if(n===l)return void r(e,c)}}catch(d){a.e(d)}finally{a.f()}}}))}g.items=[],C("wordWrap",[[!0,"on"],[!1,"off"]]),C("lineNumbers",[[!0,"on"],[!1,"off"]]),C("cursorBlinking",[["visible","solid"]]),C("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),C("renderLineHighlight",[[!0,"line"],[!1,"none"]]),C("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),C("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),C("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),C("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),C("autoIndent",[[!1,"advanced"],[!0,"full"]]),C("matchBrackets",[[!0,"always"],[!1,"never"]]),_("autoClosingBrackets",(function(e,t,n){!1===e&&(n("autoClosingBrackets","never"),"undefined"===typeof t("autoClosingQuotes")&&n("autoClosingQuotes","never"),"undefined"===typeof t("autoSurround")&&n("autoSurround","never"))})),_("renderIndentGuides",(function(e,t,n){"undefined"!==typeof e&&(n("renderIndentGuides",void 0),"undefined"===typeof t("guides.indentation")&&n("guides.indentation",!!e))})),_("highlightActiveIndentGuide",(function(e,t,n){"undefined"!==typeof e&&(n("highlightActiveIndentGuide",void 0),"undefined"===typeof t("guides.highlightActiveIndentation")&&n("guides.highlightActiveIndentation",!!e))}));var y={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};_("suggest.filteredTypes",(function(e,t,n){if(e&&"object"===typeof e){for(var i=0,o=Object.entries(y);i<o.length;i++){var r=o[i];!1===e[r[0]]&&"undefined"===typeof t("suggest.".concat(r[1]))&&n("suggest.".concat(r[1]),!1)}n("suggest.filteredTypes",void 0)}})),_("quickSuggestions",(function(e,t,n){if("boolean"===typeof e){var i=e?"on":"off";n("quickSuggestions",{comments:i,strings:i,other:i})}}));var w=n(29805),S=n(31492),x=n(22055),b=n(56493),E=n(99277),k=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},T=function(e,t){return function(n,i){t(n,i,e)}},M=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(e,i,r,s){var a;return(0,o.Z)(this,n),(a=t.call(this))._accessibilityService=s,a._onDidChange=a._register(new c.Q5),a.onDidChange=a._onDidChange.event,a._onDidChangeFast=a._register(new c.Q5),a.onDidChangeFast=a._onDidChangeFast.event,a._isDominatedByLongLines=!1,a._viewLineCount=1,a._lineNumbersDigitCount=1,a._reservedHeight=0,a._computeOptionsMemory=new S.LJ,a.isSimpleWidget=e,a._containerObserver=a._register(new v.I(r,i.dimension)),a._rawOptions=O(i),a._validatedOptions=Z.validateOptions(a._rawOptions),a.options=a._computeOptions(),a.options.get(10)&&a._containerObserver.startObserving(),a._register(x.C.onDidChangeZoomLevel((function(){return a._recomputeOptions()}))),a._register(w.n.onDidChangeTabFocus((function(){return a._recomputeOptions()}))),a._register(a._containerObserver.onDidChange((function(){return a._recomputeOptions()}))),a._register(p.g.onDidChange((function(){return a._recomputeOptions()}))),a._register(u.PixelRatio.onDidChange((function(){return a._recomputeOptions()}))),a._register(a._accessibilityService.onDidChangeScreenReaderOptimized((function(){return a._recomputeOptions()}))),a}return(0,r.Z)(n,[{key:"_recomputeOptions",value:function(){var e=this._computeOptions(),t=Z.checkEquals(this.options,e);null!==t&&(this.options=e,this._onDidChangeFast.fire(t),this._onDidChange.fire(t))}},{key:"_computeOptions",value:function(){var e=this._readEnvConfiguration(),t=b.E4.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),n=this._readFontInfo(t),i={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:n,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:w.n.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return Z.computeOptions(this._validatedOptions,i)}},{key:"_readEnvConfiguration",value:function(){return{extraEditorClassName:A(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:u.isWebKit||u.isFirefox,pixelRatio:u.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}},{key:"_readFontInfo",value:function(e){return p.g.readFontInfo(e)}},{key:"getRawOptions",value:function(){return this._rawOptions}},{key:"updateOptions",value:function(e){var t=O(e);Z.applyUpdate(this._rawOptions,t)&&(this._validatedOptions=Z.validateOptions(this._rawOptions),this._recomputeOptions())}},{key:"observeContainer",value:function(e){this._containerObserver.observe(e)}},{key:"setIsDominatedByLongLines",value:function(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}},{key:"setModelLineCount",value:function(e){var t=function(e){var t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}},{key:"setViewLineCount",value:function(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}},{key:"setReservedHeight",value:function(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}}]),n}(d.JT);function A(){var e="";return u.isSafari||u.isWebkitWebView||(e+="no-user-select "),u.isSafari&&(e+="no-minimap-shadow ",e+="enable-user-select "),f.dz&&(e+="mac "),e}M=k([T(3,E.F)],M);var L=function(){function e(){(0,o.Z)(this,e),this._values=[]}return(0,r.Z)(e,[{key:"_read",value:function(e){return this._values[e]}},{key:"get",value:function(e){return this._values[e]}},{key:"_write",value:function(e,t){this._values[e]=t}}]),e}(),P=function(){function e(){(0,o.Z)(this,e),this._values=[]}return(0,r.Z)(e,[{key:"_read",value:function(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}},{key:"get",value:function(e){return this._read(e)}},{key:"_write",value:function(e,t){this._values[e]=t}}]),e}(),Z=function(){function e(){(0,o.Z)(this,e)}return(0,r.Z)(e,null,[{key:"validateOptions",value:function(e){var t,n=new L,o=(0,i.Z)(S.Bc);try{for(o.s();!(t=o.n()).done;){var r=t.value,s="_never_"===r.name?void 0:e[r.name];n._write(r.id,r.validate(s))}}catch(a){o.e(a)}finally{o.f()}return n}},{key:"computeOptions",value:function(e,t){var n,o=new P,r=(0,i.Z)(S.Bc);try{for(r.s();!(n=r.n()).done;){var s=n.value;o._write(s.id,s.compute(t,o,e._read(s.id)))}}catch(a){r.e(a)}finally{r.f()}return o}},{key:"_deepEquals",value:function(t,n){if("object"!==typeof t||"object"!==typeof n||!t||!n)return t===n;if(Array.isArray(t)||Array.isArray(n))return!(!Array.isArray(t)||!Array.isArray(n))&&l.fS(t,n);if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t)if(!e._deepEquals(t[i],n[i]))return!1;return!0}},{key:"checkEquals",value:function(t,n){var o,r=[],s=!1,a=(0,i.Z)(S.Bc);try{for(a.s();!(o=a.n()).done;){var u=o.value,l=!e._deepEquals(t._read(u.id),n._read(u.id));r[u.id]=l,l&&(s=!0)}}catch(c){a.e(c)}finally{a.f()}return s?new S.Bb(r):null}},{key:"applyUpdate",value:function(e,t){var n,o=!1,r=(0,i.Z)(S.Bc);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(t.hasOwnProperty(s.name)){var a=s.applyUpdate(e[s.name],t[s.name]);e[s.name]=a.newValue,o=o||a.didChange}}}catch(u){r.e(u)}finally{r.f()}return o}}]),e}();function O(e){var t=h.I8(e);return function(e){g.items.forEach((function(t){return t.apply(e)}))}(t),t}},72380:function(e,t,n){n.d(t,{I:function(){return d}});var i=n(15671),o=n(43144),r=n(11752),s=n(61120),a=n(60136),u=n(27277),l=n(10526),c=n(28941),d=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e,o){var r;return(0,i.Z)(this,n),(r=t.call(this))._onDidChange=r._register(new c.Q5),r.onDidChange=r._onDidChange.event,r._referenceDomElement=e,r._width=-1,r._height=-1,r._resizeObserver=null,r.measureReferenceDomElement(!1,o),r}return(0,o.Z)(n,[{key:"dispose",value:function(){this.stopObserving(),(0,r.Z)((0,s.Z)(n.prototype),"dispose",this).call(this)}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"startObserving",value:function(){var e=this;!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver((function(t){t&&t[0]&&t[0].contentRect?e.observe({width:t[0].contentRect.width,height:t[0].contentRect.height}):e.observe()})),this._resizeObserver.observe(this._referenceDomElement))}},{key:"stopObserving",value:function(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}},{key:"observe",value:function(e){this.measureReferenceDomElement(!0,e)}},{key:"measureReferenceDomElement",value:function(e,t){var n=0,i=0;t?(n=t.width,i=t.height):this._referenceDomElement&&(n=this._referenceDomElement.clientWidth,i=this._referenceDomElement.clientHeight),n=Math.max(5,n),i=Math.max(5,i),this._width===n&&this._height===i||(this._width=n,this._height=i,e&&this._onDidChange.fire())}}]),n}(l.JT)},90497:function(e,t,n){n.d(t,{g:function(){return y}});var i=n(37762),o=n(15671),r=n(43144),s=n(11752),a=n(61120),u=n(60136),l=n(27277),c=n(12426),d=n(28941),h=n(10526),f=n(6815),v=function(){function e(t,n){(0,o.Z)(this,e),this.chr=t,this.type=n,this.width=0}return(0,r.Z)(e,[{key:"fulfill",value:function(e){this.width=e}}]),e}(),p=function(){function e(t,n){(0,o.Z)(this,e),this._bareFontInfo=t,this._requests=n,this._container=null,this._testElements=null}return(0,r.Z)(e,[{key:"read",value:function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}},{key:"_createDomElements",value:function(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";var n=document.createElement("div");(0,f.N)(n,this._bareFontInfo),t.appendChild(n);var o=document.createElement("div");(0,f.N)(o,this._bareFontInfo),o.style.fontWeight="bold",t.appendChild(o);var r=document.createElement("div");(0,f.N)(r,this._bareFontInfo),r.style.fontStyle="italic",t.appendChild(r);var s,a=[],u=(0,i.Z)(this._requests);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=void 0;0===l.type&&(c=n),2===l.type&&(c=o),1===l.type&&(c=r),c.appendChild(document.createElement("br"));var d=document.createElement("span");e._render(d,l),c.appendChild(d),a.push(d)}}catch(h){u.e(h)}finally{u.f()}this._container=t,this._testElements=a}},{key:"_readFromDomElements",value:function(){for(var e=0,t=this._requests.length;e<t;e++){var n=this._requests[e],i=this._testElements[e];n.fulfill(i.offsetWidth/256)}}}],[{key:"_render",value:function(e,t){if(" "===t.chr){for(var n="\xa0",i=0;i<8;i++)n+=n;e.innerText=n}else{for(var o=t.chr,r=0;r<8;r++)o+=o;e.textContent=o}}}]),e}();var m=n(31492),g=n(56493),_=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.call(this))._onDidChange=e._register(new d.Q5),e.onDidChange=e._onDidChange.event,e._cache=new C,e._evictUntrustedReadingsTimeout=-1,e}return(0,r.Z)(n,[{key:"dispose",value:function(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),(0,s.Z)((0,a.Z)(n.prototype),"dispose",this).call(this)}},{key:"clearAllFontInfos",value:function(){this._cache=new C,this._onDidChange.fire()}},{key:"_writeToCache",value:function(e,t){var n=this;this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=window.setTimeout((function(){n._evictUntrustedReadingsTimeout=-1,n._evictUntrustedReadings()}),5e3))}},{key:"_evictUntrustedReadings",value:function(){var e,t=this._cache.getValues(),n=!1,o=(0,i.Z)(t);try{for(o.s();!(e=o.n()).done;){var r=e.value;r.isTrusted||(n=!0,this._cache.remove(r))}}catch(s){o.e(s)}finally{o.f()}n&&this._onDidChange.fire()}},{key:"readFontInfo",value:function(e){if(!this._cache.has(e)){var t=this._actualReadFontInfo(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new g.pR({pixelRatio:c.PixelRatio.value,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}},{key:"_createRequest",value:function(e,t,n,i){var o=new v(e,t);return n.push(o),null===i||void 0===i||i.push(o),o}},{key:"_actualReadFontInfo",value:function(e){for(var t=[],n=[],i=this._createRequest("n",0,t,n),o=this._createRequest("\uff4d",0,t,null),r=this._createRequest(" ",0,t,n),s=this._createRequest("0",0,t,n),a=this._createRequest("1",0,t,n),u=this._createRequest("2",0,t,n),l=this._createRequest("3",0,t,n),d=this._createRequest("4",0,t,n),h=this._createRequest("5",0,t,n),f=this._createRequest("6",0,t,n),v=this._createRequest("7",0,t,n),_=this._createRequest("8",0,t,n),C=this._createRequest("9",0,t,n),y=this._createRequest("\u2192",0,t,n),w=this._createRequest("\uffeb",0,t,null),S=this._createRequest("\xb7",0,t,n),x=this._createRequest(String.fromCharCode(11825),0,t,null),b="|/-_ilm%",E=0,k=b.length;E<k;E++)this._createRequest(b.charAt(E),0,t,n),this._createRequest(b.charAt(E),1,t,n),this._createRequest(b.charAt(E),2,t,n);!function(e,t){new p(e,t).read()}(e,t);for(var T=Math.max(s.width,a.width,u.width,l.width,d.width,h.width,f.width,v.width,_.width,C.width),M=e.fontFeatureSettings===m.n0.OFF,A=n[0].width,L=1,P=n.length;M&&L<P;L++){var Z=A-n[L].width;if(Z<-.001||Z>.001){M=!1;break}}var O=!0;return M&&w.width!==A&&(O=!1),w.width>y.width&&(O=!1),new g.pR({pixelRatio:c.PixelRatio.value,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:M,typicalHalfwidthCharacterWidth:i.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:O,spaceWidth:r.width,middotWidth:S.width,wsmiddotWidth:x.width,maxDigitWidth:T},!0)}}]),n}(h.JT),C=function(){function e(){(0,o.Z)(this,e),this._keys=Object.create(null),this._values=Object.create(null)}return(0,r.Z)(e,[{key:"has",value:function(e){var t=e.getId();return!!this._values[t]}},{key:"get",value:function(e){var t=e.getId();return this._values[t]}},{key:"put",value:function(e,t){var n=e.getId();this._keys[n]=e,this._values[n]=t}},{key:"remove",value:function(e){var t=e.getId();delete this._keys[t],delete this._values[t]}},{key:"getValues",value:function(){var e=this;return Object.keys(this._keys).map((function(t){return e._values[t]}))}}]),e}(),y=new _},29805:function(e,t,n){n.d(t,{n:function(){return s}});var i=n(15671),o=n(43144),r=n(28941),s=new(function(){function e(){(0,i.Z)(this,e),this._tabFocus=!1,this._onDidChangeTabFocus=new r.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}return(0,o.Z)(e,[{key:"getTabFocusMode",value:function(){return this._tabFocus}},{key:"setTabFocusMode",value:function(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}}]),e}())},4731:function(e,t,n){n.d(t,{Iq:function(){return S},ZP:function(){return y},rp:function(){return k},sB:function(){return C}});var i,o=n(37762),r=n(60136),s=n(27277),a=n(43144),u=n(15671),l=n(93741),c=n(89378),d=n(97766),h=n(10849),f=n(30788),v=n(34538),p=n(53210),m=n(81371),g=(0,a.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,u.Z)(this,e),this.hitTarget=t,this.type=0})),_=(0,a.Z)((function e(t,n,i){(0,u.Z)(this,e),this.position=t,this.spanNode=n,this.injectedText=i,this.type=1}));!function(e){e.createFromDOMInfo=function(e,t,n){var i=e.getPositionFromDOMInfo(t,n);return i?new _(i,t,null):new g(t)}}(i||(i={}));var C=(0,a.Z)((function e(t,n){(0,u.Z)(this,e),this.lastViewCursorsRenderData=t,this.lastTextareaPosition=n})),y=function(){function e(){(0,u.Z)(this,e)}return(0,a.Z)(e,null,[{key:"_deduceRage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!t&&e?new f.e(e.lineNumber,e.column,e.lineNumber,e.column):null!==t&&void 0!==t?t:null}},{key:"createUnknown",value:function(e,t,n){return{type:0,element:e,mouseColumn:t,position:n,range:this._deduceRage(n)}}},{key:"createTextarea",value:function(e,t){return{type:1,element:e,mouseColumn:t,position:null,range:null}}},{key:"createMargin",value:function(e,t,n,i,o,r){return{type:e,element:t,mouseColumn:n,position:i,range:o,detail:r}}},{key:"createViewZone",value:function(e,t,n,i,o){return{type:e,element:t,mouseColumn:n,position:i,range:this._deduceRage(i),detail:o}}},{key:"createContentText",value:function(e,t,n,i,o){return{type:6,element:e,mouseColumn:t,position:n,range:this._deduceRage(n,i),detail:o}}},{key:"createContentEmpty",value:function(e,t,n,i){return{type:7,element:e,mouseColumn:t,position:n,range:this._deduceRage(n),detail:i}}},{key:"createContentWidget",value:function(e,t,n){return{type:9,element:e,mouseColumn:t,position:null,range:null,detail:n}}},{key:"createScrollbar",value:function(e,t,n){return{type:11,element:e,mouseColumn:t,position:n,range:this._deduceRage(n)}}},{key:"createOverlayWidget",value:function(e,t,n){return{type:12,element:e,mouseColumn:t,position:null,range:null,detail:n}}},{key:"createOutsideEditor",value:function(e,t){return{type:13,element:null,mouseColumn:e,position:t,range:this._deduceRage(t)}}},{key:"_typeToString",value:function(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}},{key:"toString",value:function(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}]),e}(),w=function(){function e(){(0,u.Z)(this,e)}return(0,a.Z)(e,null,[{key:"isTextArea",value:function(e){return 2===e.length&&3===e[0]&&6===e[1]}},{key:"isChildOfViewLines",value:function(e){return e.length>=4&&3===e[0]&&7===e[3]}},{key:"isStrictChildOfViewLines",value:function(e){return e.length>4&&3===e[0]&&7===e[3]}},{key:"isChildOfScrollableElement",value:function(e){return e.length>=2&&3===e[0]&&5===e[1]}},{key:"isChildOfMinimap",value:function(e){return e.length>=2&&3===e[0]&&8===e[1]}},{key:"isChildOfContentWidgets",value:function(e){return e.length>=4&&3===e[0]&&1===e[3]}},{key:"isChildOfOverflowingContentWidgets",value:function(e){return e.length>=1&&2===e[0]}},{key:"isChildOfOverlayWidgets",value:function(e){return e.length>=2&&3===e[0]&&4===e[1]}}]),e}(),S=function(){function e(t,n,i){(0,u.Z)(this,e),this.viewModel=t.viewModel;var o=t.configuration.options;this.layoutInfo=o.get(133),this.viewDomNode=n.viewDomNode,this.lineHeight=o.get(61),this.stickyTabStops=o.get(106),this.typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=t,this._viewHelper=n}return(0,a.Z)(e,[{key:"getZoneAtCoord",value:function(t){return e.getZoneAtCoord(this._context,t)}},{key:"getFullLineRangeAtCoord",value:function(e){if(this._context.viewLayout.isAfterLines(e)){var t=this._context.viewModel.getLineCount(),n=this._context.viewModel.getLineMaxColumn(t);return{range:new f.e(t,n,t,n),isAfterLines:!0}}var i=this._context.viewLayout.getLineNumberAtVerticalOffset(e),o=this._context.viewModel.getLineMaxColumn(i);return{range:new f.e(i,1,i,o),isAfterLines:!1}}},{key:"getLineNumberAtVerticalOffset",value:function(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}},{key:"isAfterLines",value:function(e){return this._context.viewLayout.isAfterLines(e)}},{key:"isInTopPadding",value:function(e){return this._context.viewLayout.isInTopPadding(e)}},{key:"isInBottomPadding",value:function(e){return this._context.viewLayout.isInBottomPadding(e)}},{key:"getVerticalOffsetForLineNumber",value:function(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}},{key:"findAttribute",value:function(t,n){return e._findAttribute(t,n,this._viewHelper.viewDomNode)}},{key:"getLineWidth",value:function(e){return this._viewHelper.getLineWidth(e)}},{key:"visibleRangeForPosition",value:function(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}},{key:"getPositionFromDOMInfo",value:function(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}},{key:"getCurrentScrollTop",value:function(){return this._context.viewLayout.getCurrentScrollTop()}},{key:"getCurrentScrollLeft",value:function(){return this._context.viewLayout.getCurrentScrollLeft()}}],[{key:"getZoneAtCoord",value:function(e,t){var n=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(n){var i,o=n.verticalOffset+n.height/2,r=e.viewModel.getLineCount(),s=null,a=null;return n.afterLineNumber!==r&&(a=new h.L(n.afterLineNumber+1,1)),n.afterLineNumber>0&&(s=new h.L(n.afterLineNumber,e.viewModel.getLineMaxColumn(n.afterLineNumber))),i=null===a?s:null===s?a:t<o?s:a,{viewZoneId:n.id,afterLineNumber:n.afterLineNumber,positionBefore:s,positionAfter:a,position:i}}return null}},{key:"_findAttribute",value:function(e,t,n){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===n)return null;e=e.parentNode}return null}}]),e}(),x=function(e){(0,r.Z)(n,e);var t=(0,s.Z)(n);function n(e,i,o,r,s){var a;return(0,u.Z)(this,n),(a=t.call(this,e,i,o,r))._ctx=e,s?(a.target=s,a.targetPath=c.K.collect(s,e.viewDomNode)):(a.target=null,a.targetPath=new Uint8Array(0)),a}return(0,a.Z)(n,[{key:"toString",value:function(){return"pos(".concat(this.pos.x,",").concat(this.pos.y,"), editorPos(").concat(this.editorPos.x,",").concat(this.editorPos.y,"), relativePos(").concat(this.relativePos.x,",").concat(this.relativePos.y,"), mouseVerticalOffset: ").concat(this.mouseVerticalOffset,", mouseContentHorizontalOffset: ").concat(this.mouseContentHorizontalOffset,"\n\ttarget: ").concat(this.target?this.target.outerHTML:null)}},{key:"_getMouseColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?v.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}},{key:"fulfillUnknown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return y.createUnknown(this.target,this._getMouseColumn(e),e)}},{key:"fulfillTextarea",value:function(){return y.createTextarea(this.target,this._getMouseColumn())}},{key:"fulfillMargin",value:function(e,t,n,i){return y.createMargin(e,this.target,this._getMouseColumn(t),t,n,i)}},{key:"fulfillViewZone",value:function(e,t,n){return y.createViewZone(e,this.target,this._getMouseColumn(t),t,n)}},{key:"fulfillContentText",value:function(e,t,n){return y.createContentText(this.target,this._getMouseColumn(e),e,t,n)}},{key:"fulfillContentEmpty",value:function(e,t){return y.createContentEmpty(this.target,this._getMouseColumn(e),e,t)}},{key:"fulfillContentWidget",value:function(e){return y.createContentWidget(this.target,this._getMouseColumn(),e)}},{key:"fulfillScrollbar",value:function(e){return y.createScrollbar(this.target,this._getMouseColumn(e),e)}},{key:"fulfillOverlayWidget",value:function(e){return y.createOverlayWidget(this.target,this._getMouseColumn(),e)}},{key:"withTarget",value:function(e){return new n(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}]),n}((0,a.Z)((function e(t,n,i,o){(0,u.Z)(this,e),this.editorPos=n,this.pos=i,this.relativePos=o,this.mouseVerticalOffset=Math.max(0,t.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=t.getCurrentScrollLeft()+this.relativePos.x-t.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<t.layoutInfo.contentLeft&&this.relativePos.x>=t.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,k._getMouseColumn(this.mouseContentHorizontalOffset,t.typicalHalfwidthCharacterWidth))}))),b={isAfterLines:!0};function E(e){return{isAfterLines:!1,horizontalDistanceToText:e}}var k=function(){function e(t,n){(0,u.Z)(this,e),this._context=t,this._viewHelper=n}return(0,a.Z)(e,[{key:"mouseTargetIsWidget",value:function(e){var t=e.target,n=c.K.collect(t,this._viewHelper.viewDomNode);return!(!w.isChildOfContentWidgets(n)&&!w.isChildOfOverflowingContentWidgets(n))||!!w.isChildOfOverlayWidgets(n)}},{key:"createMouseTarget",value:function(t,n,i,o,r){var s=new S(this._context,this._viewHelper,t),a=new x(s,n,i,o,r);try{return e._createMouseTarget(s,a,!1)}catch(u){return a.fulfillUnknown()}}},{key:"getMouseColumn",value:function(t){var n=this._context.configuration.options,i=n.get(133),o=this._context.viewLayout.getCurrentScrollLeft()+t.x-i.contentLeft;return e._getMouseColumn(o,n.get(46).typicalHalfwidthCharacterWidth)}}],[{key:"_createMouseTarget",value:function(t,n,i){if(null===n.target){if(i)return n.fulfillUnknown();var o=e._doHitTest(t,n);return 1===o.type?e.createMouseTargetFromHitTestPosition(t,n,o.spanNode,o.position,o.injectedText):this._createMouseTarget(t,n.withTarget(o.hitTarget),!0)}var r=n,s=null;return(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=s||e._hitTestContentWidget(t,r))||e._hitTestOverlayWidget(t,r))||e._hitTestMinimap(t,r))||e._hitTestScrollbarSlider(t,r))||e._hitTestViewZone(t,r))||e._hitTestMargin(t,r))||e._hitTestViewCursor(t,r))||e._hitTestTextArea(t,r))||e._hitTestViewLines(t,r,i))||e._hitTestScrollbar(t,r))||n.fulfillUnknown()}},{key:"_hitTestContentWidget",value:function(e,t){if(w.isChildOfContentWidgets(t.targetPath)||w.isChildOfOverflowingContentWidgets(t.targetPath)){var n=e.findAttribute(t.target,"widgetId");return n?t.fulfillContentWidget(n):t.fulfillUnknown()}return null}},{key:"_hitTestOverlayWidget",value:function(e,t){if(w.isChildOfOverlayWidgets(t.targetPath)){var n=e.findAttribute(t.target,"widgetId");return n?t.fulfillOverlayWidget(n):t.fulfillUnknown()}return null}},{key:"_hitTestViewCursor",value:function(e,t){if(t.target){var n,i=e.lastRenderData.lastViewCursorsRenderData,r=(0,o.Z)(i);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(t.target===s.domNode)return t.fulfillContentText(s.position,null,{mightBeForeignElement:!1,injectedText:null})}}catch(v){r.e(v)}finally{r.f()}}if(t.isInContentArea){var a,u=e.lastRenderData.lastViewCursorsRenderData,l=t.mouseContentHorizontalOffset,c=t.mouseVerticalOffset,d=(0,o.Z)(u);try{for(d.s();!(a=d.n()).done;){var h=a.value;if(!(l<h.contentLeft)&&!(l>h.contentLeft+h.width)){var f=e.getVerticalOffsetForLineNumber(h.position.lineNumber);if(f<=c&&c<=f+h.height)return t.fulfillContentText(h.position,null,{mightBeForeignElement:!1,injectedText:null})}}}catch(v){d.e(v)}finally{d.f()}}return null}},{key:"_hitTestViewZone",value:function(e,t){var n=e.getZoneAtCoord(t.mouseVerticalOffset);if(n){var i=t.isInContentArea?8:5;return t.fulfillViewZone(i,n.position,n)}return null}},{key:"_hitTestTextArea",value:function(e,t){return w.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):t.fulfillTextarea():null}},{key:"_hitTestMargin",value:function(e,t){if(t.isInMarginArea){var n=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),i=n.range.getStartPosition(),o=Math.abs(t.relativePos.x),r={isAfterLines:n.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return(o-=e.layoutInfo.glyphMarginLeft)<=e.layoutInfo.glyphMarginWidth?t.fulfillMargin(2,i,n.range,r):(o-=e.layoutInfo.glyphMarginWidth)<=e.layoutInfo.lineNumbersWidth?t.fulfillMargin(3,i,n.range,r):(o-=e.layoutInfo.lineNumbersWidth,t.fulfillMargin(4,i,n.range,r))}return null}},{key:"_hitTestViewLines",value:function(t,n,i){if(!w.isChildOfViewLines(n.targetPath))return null;if(t.isInTopPadding(n.mouseVerticalOffset))return n.fulfillContentEmpty(new h.L(1,1),b);if(t.isAfterLines(n.mouseVerticalOffset)||t.isInBottomPadding(n.mouseVerticalOffset)){var o=t.viewModel.getLineCount(),r=t.viewModel.getLineMaxColumn(o);return n.fulfillContentEmpty(new h.L(o,r),b)}if(i){if(w.isStrictChildOfViewLines(n.targetPath)){var s=t.getLineNumberAtVerticalOffset(n.mouseVerticalOffset);if(0===t.viewModel.getLineLength(s)){var a=t.getLineWidth(s),u=E(n.mouseContentHorizontalOffset-a);return n.fulfillContentEmpty(new h.L(s,1),u)}var l=t.getLineWidth(s);if(n.mouseContentHorizontalOffset>=l){var c=E(n.mouseContentHorizontalOffset-l),d=new h.L(s,t.viewModel.getLineMaxColumn(s));return n.fulfillContentEmpty(d,c)}}return n.fulfillUnknown()}var f=e._doHitTest(t,n);return 1===f.type?e.createMouseTargetFromHitTestPosition(t,n,f.spanNode,f.position,f.injectedText):this._createMouseTarget(t,n.withTarget(f.hitTarget),!0)}},{key:"_hitTestMinimap",value:function(e,t){if(w.isChildOfMinimap(t.targetPath)){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.viewModel.getLineMaxColumn(n);return t.fulfillScrollbar(new h.L(n,i))}return null}},{key:"_hitTestScrollbarSlider",value:function(e,t){if(w.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){var n=t.target.className;if(n&&/\b(slider|scrollbar)\b/.test(n)){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.viewModel.getLineMaxColumn(i);return t.fulfillScrollbar(new h.L(i,o))}}return null}},{key:"_hitTestScrollbar",value:function(e,t){if(w.isChildOfScrollableElement(t.targetPath)){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.viewModel.getLineMaxColumn(n);return t.fulfillScrollbar(new h.L(n,i))}return null}},{key:"_getMouseColumn",value:function(e,t){return e<0?1:Math.round(e/t)+1}},{key:"createMouseTargetFromHitTestPosition",value:function(e,t,n,i,o){var r=i.lineNumber,s=i.column,a=e.getLineWidth(r);if(t.mouseContentHorizontalOffset>a){var u=E(t.mouseContentHorizontalOffset-a);return t.fulfillContentEmpty(i,u)}var l=e.visibleRangeForPosition(r,s);if(!l)return t.fulfillUnknown(i);var c=l.left;if(t.mouseContentHorizontalOffset===c)return t.fulfillContentText(i,null,{mightBeForeignElement:!!o,injectedText:o});var d=[];if(d.push({offset:l.left,column:s}),s>1){var v=e.visibleRangeForPosition(r,s-1);v&&d.push({offset:v.left,column:s-1})}if(s<e.viewModel.getLineMaxColumn(r)){var p=e.visibleRangeForPosition(r,s+1);p&&d.push({offset:p.left,column:s+1})}d.sort((function(e,t){return e.offset-t.offset}));for(var m=t.pos.toClientCoordinates(),g=n.getBoundingClientRect(),_=g.left<=m.clientX&&m.clientX<=g.right,C=1;C<d.length;C++){var y=d[C-1],w=d[C];if(y.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=w.offset){var S=new f.e(r,y.column,r,w.column),x=Math.abs(y.offset-t.mouseContentHorizontalOffset)<Math.abs(w.offset-t.mouseContentHorizontalOffset)?new h.L(r,y.column):new h.L(r,w.column);return t.fulfillContentText(x,S,{mightBeForeignElement:!_||!!o,injectedText:o})}}return t.fulfillContentText(i,null,{mightBeForeignElement:!_||!!o,injectedText:o})}},{key:"_doHitTestWithCaretRangeFromPoint",value:function(e,t){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.getVerticalOffsetForLineNumber(n)+Math.floor(e.lineHeight/2),o=t.pos.y+(i-t.mouseVerticalOffset);o<=t.editorPos.y&&(o=t.editorPos.y+1),o>=t.editorPos.y+t.editorPos.height&&(o=t.editorPos.y+t.editorPos.height-1);var r=new l.YN(t.pos.x,o),s=this._actualDoHitTestWithCaretRangeFromPoint(e,r.toClientCoordinates());return 1===s.type?s:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}},{key:"_actualDoHitTestWithCaretRangeFromPoint",value:function(e,t){var n,o=p.getShadowRoot(e.viewDomNode);if(n=o?"undefined"===typeof o.caretRangeFromPoint?function(e,t,n){var i=document.createRange(),o=e.elementFromPoint(t,n);if(null!==o){for(;o&&o.firstChild&&o.firstChild.nodeType!==o.firstChild.TEXT_NODE&&o.lastChild&&o.lastChild.firstChild;)o=o.lastChild;var r,s=o.getBoundingClientRect(),a=window.getComputedStyle(o,null).getPropertyValue("font"),u=o.innerText,l=s.left,c=0;if(t>s.left+s.width)c=u.length;else for(var d=T.getInstance(),h=0;h<u.length+1;h++){if(t<(l+=r=d.getCharWidth(u.charAt(h),a)/2)){c=h;break}l+=r}i.setStart(o.firstChild,c),i.setEnd(o.firstChild,c)}return i}(o,t.clientX,t.clientY):o.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return new g;var r=n.startContainer;if(r.nodeType===r.TEXT_NODE){var s=r.parentNode,a=s?s.parentNode:null,u=a?a.parentNode:null;return(u&&u.nodeType===u.ELEMENT_NODE?u.className:null)===d.Nt.CLASS_NAME?i.createFromDOMInfo(e,s,n.startOffset):new g(r.parentNode)}if(r.nodeType===r.ELEMENT_NODE){var l=r.parentNode,c=l?l.parentNode:null;return(c&&c.nodeType===c.ELEMENT_NODE?c.className:null)===d.Nt.CLASS_NAME?i.createFromDOMInfo(e,r,r.textContent.length):new g(r)}return new g}},{key:"_doHitTestWithCaretPositionFromPoint",value:function(e,t){var n=document.caretPositionFromPoint(t.clientX,t.clientY);if(n.offsetNode.nodeType===n.offsetNode.TEXT_NODE){var o=n.offsetNode.parentNode,r=o?o.parentNode:null,s=r?r.parentNode:null;return(s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===d.Nt.CLASS_NAME?i.createFromDOMInfo(e,n.offsetNode.parentNode,n.offset):new g(n.offsetNode.parentNode)}if(n.offsetNode.nodeType===n.offsetNode.ELEMENT_NODE){var a=n.offsetNode.parentNode,u=a&&a.nodeType===a.ELEMENT_NODE?a.className:null,l=a?a.parentNode:null,c=l&&l.nodeType===l.ELEMENT_NODE?l.className:null;if(u===d.Nt.CLASS_NAME){var h=n.offsetNode.childNodes[Math.min(n.offset,n.offsetNode.childNodes.length-1)];if(h)return i.createFromDOMInfo(e,h,0)}else if(c===d.Nt.CLASS_NAME)return i.createFromDOMInfo(e,n.offsetNode,0)}return new g(n.offsetNode)}},{key:"_snapToSoftTabBoundary",value:function(e,t){var n=t.getLineContent(e.lineNumber),i=t.model.getOptions().tabSize,o=m.l.atomicPosition(n,e.column-1,i,2);return-1!==o?new h.L(e.lineNumber,o+1):e}},{key:"_doHitTest",value:function(e,t){var n=new g;if("function"===typeof document.caretRangeFromPoint?n=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(n=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),1===n.type){var i=e.viewModel.getInjectedTextAt(n.position),o=e.viewModel.normalizePosition(n.position,2);!i&&o.equals(n.position)||(n=new _(o,n.spanNode,i))}return 1===n.type&&e.stickyTabStops&&(n=new _(this._snapToSoftTabBoundary(n.position,e.viewModel),n.spanNode,n.injectedText)),n}}]),e}();var T=function(){function e(){(0,u.Z)(this,e),this._cache={},this._canvas=document.createElement("canvas")}return(0,a.Z)(e,[{key:"getCharWidth",value:function(e,t){var n=e+t;if(this._cache[n])return this._cache[n];var i=this._canvas.getContext("2d");i.font=t;var o=i.measureText(e).width;return this._cache[n]=o,o}}],[{key:"getInstance",value:function(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE}}]),e}();T._INSTANCE=null},58023:function(e,t,n){n.d(t,{a:function(){return M}});var i=n(15671),o=n(43144),r=n(11752),s=n(61120),a=n(60136),u=n(27277),l=n(53210),c=n(4827),d=n(6287),h=n(10526),f=n(97326),v=n(98022),p=n(32590),m=n(4731),g=n(93741),_=n(22055),C=n(10849),y=n(52091),w=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e,o,r){var s;(0,i.Z)(this,n),(s=t.call(this))._mouseLeaveMonitor=null,s._context=e,s.viewController=o,s.viewHelper=r,s.mouseTargetFactory=new m.rp(s._context,r),s._mouseDownOperation=s._register(new S(s._context,s.viewController,s.viewHelper,(function(e,t){return s._createMouseTarget(e,t)}),(function(e){return s._getMouseColumn(e)}))),s.lastMouseLeaveTime=-1,s._height=s._context.configuration.options.get(133).height;var a=new g.N5(s.viewHelper.viewDomNode);s._register(a.onContextMenu(s.viewHelper.viewDomNode,(function(e){return s._onContextMenu(e,!0)}))),s._register(a.onMouseMove(s.viewHelper.viewDomNode,(function(e){s._onMouseMove(e),s._mouseLeaveMonitor||(s._mouseLeaveMonitor=l.addDisposableListener(document,"mousemove",(function(e){s.viewHelper.viewDomNode.contains(e.target)||s._onMouseLeave(new g.gy(e,!1,s.viewHelper.viewDomNode))})))}))),s._register(a.onMouseUp(s.viewHelper.viewDomNode,(function(e){return s._onMouseUp(e)}))),s._register(a.onMouseLeave(s.viewHelper.viewDomNode,(function(e){return s._onMouseLeave(e)})));var u=0;s._register(a.onPointerDown(s.viewHelper.viewDomNode,(function(e,t){u=t}))),s._register(l.addDisposableListener(s.viewHelper.viewDomNode,l.EventType.POINTER_UP,(function(e){s._mouseDownOperation.onPointerUp()}))),s._register(a.onMouseDown(s.viewHelper.viewDomNode,(function(e){return s._onMouseDown(e,u)})));return s._register(l.addDisposableListener(s.viewHelper.viewDomNode,l.EventType.MOUSE_WHEEL,(function(e){if(s.viewController.emitMouseWheel(e),s._context.configuration.options.get(70)){var t=new v.q(e);if(c.dz?(e.metaKey||e.ctrlKey)&&!e.shiftKey&&!e.altKey:e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey){var n=_.C.getZoomLevel(),i=t.deltaY>0?1:-1;_.C.setZoomLevel(n+i),t.preventDefault(),t.stopPropagation()}}}),{capture:!0,passive:!1})),s._context.addEventHandler((0,f.Z)(s)),s}return(0,o.Z)(n,[{key:"dispose",value:function(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),(0,r.Z)((0,s.Z)(n.prototype),"dispose",this).call(this)}},{key:"onConfigurationChanged",value:function(e){if(e.hasChanged(133)){var t=this._context.configuration.options.get(133).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}},{key:"onCursorStateChanged",value:function(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}},{key:"onFocusChanged",value:function(e){return!1}},{key:"onScrollChanged",value:function(e){return this._mouseDownOperation.onScrollChanged(),!1}},{key:"getTargetAtClientPoint",value:function(e,t){var n=new g.rU(e,t).toPageCoordinates(),i=(0,g.kG)(this.viewHelper.viewDomNode);if(n.y<i.y||n.y>i.y+i.height||n.x<i.x||n.x>i.x+i.width)return null;var o=(0,g.Pp)(this.viewHelper.viewDomNode,i,n);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),i,n,o,null)}},{key:"_createMouseTarget",value:function(e,t){var n=this,i=e.target;if(!this.viewHelper.viewDomNode.contains(i)){var o=l.getShadowRoot(this.viewHelper.viewDomNode);o&&(i=o.elementsFromPoint(e.posx,e.posy).find((function(e){return n.viewHelper.viewDomNode.contains(e)})))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,t?i:null)}},{key:"_getMouseColumn",value:function(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}},{key:"_onContextMenu",value:function(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}},{key:"_onMouseMove",value:function(e){(this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),this._mouseDownOperation.isActive())||(e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)}))}},{key:"_onMouseLeave",value:function(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})}},{key:"_onMouseUp",value:function(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}},{key:"_onMouseDown",value:function(e,t){var n=this,i=this._createMouseTarget(e,!0),o=6===i.type||7===i.type,r=2===i.type||3===i.type||4===i.type,s=3===i.type,a=this._context.configuration.options.get(100),u=8===i.type||5===i.type,l=9===i.type,d=e.leftButton||e.middleButton;c.dz&&e.leftButton&&e.ctrlKey&&(d=!1);var h=function(){e.preventDefault(),n.viewHelper.focusTextArea()};if(d&&(o||s&&a))h(),this._mouseDownOperation.start(i.type,e,t);else if(r)e.preventDefault();else if(u){var f=i.detail;d&&this.viewHelper.shouldSuppressMouseDownOnViewZone(f.viewZoneId)&&(h(),this._mouseDownOperation.start(i.type,e,t),e.preventDefault())}else l&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)&&(h(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:i})}}]),n}(n(82978).O),S=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e,o,r,s,a){var u;return(0,i.Z)(this,n),(u=t.call(this))._context=e,u._viewController=o,u._viewHelper=r,u._createMouseTarget=s,u._getMouseColumn=a,u._mouseMoveMonitor=u._register(new g.AL(u._viewHelper.viewDomNode)),u._onScrollTimeout=u._register(new p._F),u._mouseState=new x,u._currentSelection=new y.Y(1,1,1,1),u._isActive=!1,u._lastMouseEvent=null,u}return(0,o.Z)(n,[{key:"dispose",value:function(){(0,r.Z)((0,s.Z)(n.prototype),"dispose",this).call(this)}},{key:"isActive",value:function(){return this._isActive}},{key:"_onMouseDownThenMove",value:function(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);var t=this._findMousePosition(e,!1);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}},{key:"start",value:function(e,t,n){var i=this;this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);var o=this._findMousePosition(t,!0);if(o&&o.position){this._mouseState.trySetCount(t.detail,o.position),t.detail=this._mouseState.count;var r=this._context.configuration.options;if(!r.get(83)&&r.get(31)&&!r.get(18)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===o.type&&o.position&&this._currentSelection.containsPosition(o.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,n,t.buttons,(function(e){return i._onMouseDownThenMove(e)}),(function(e){var t=i._findMousePosition(i._lastMouseEvent,!1);e&&e instanceof KeyboardEvent?i._viewController.emitMouseDropCanceled():i._viewController.emitMouseDrop({event:i._lastMouseEvent,target:t?i._createMouseTarget(i._lastMouseEvent,!0):null}),i._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(o,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,n,t.buttons,(function(e){return i._onMouseDownThenMove(e)}),(function(){return i._stop()})))}}},{key:"_stop",value:function(){this._isActive=!1,this._onScrollTimeout.cancel()}},{key:"onHeightChanged",value:function(){this._mouseMoveMonitor.stopMonitoring()}},{key:"onPointerUp",value:function(){this._mouseMoveMonitor.stopMonitoring()}},{key:"onScrollChanged",value:function(){var e=this;this._isActive&&this._onScrollTimeout.setIfNotSet((function(){if(e._lastMouseEvent){var t=e._findMousePosition(e._lastMouseEvent,!1);t&&(e._mouseState.isDragAndDrop||e._dispatchMouse(t,!0))}}),10)}},{key:"onCursorStateChanged",value:function(e){this._currentSelection=e.selections[0]}},{key:"_getPositionOutsideEditor",value:function(e){var t=e.editorPos,n=this._context.viewModel,i=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){var r=Math.max(i.getCurrentScrollTop()-(t.y-e.posy),0),s=m.Iq.getZoneAtCoord(this._context,r);if(s){var a=this._helpPositionJumpOverViewZone(s);if(a)return m.ZP.createOutsideEditor(o,a)}var u=i.getLineNumberAtVerticalOffset(r);return m.ZP.createOutsideEditor(o,new C.L(u,1))}if(e.posy>t.y+t.height){var l=i.getCurrentScrollTop()+e.relativePos.y,c=m.Iq.getZoneAtCoord(this._context,l);if(c){var d=this._helpPositionJumpOverViewZone(c);if(d)return m.ZP.createOutsideEditor(o,d)}var h=i.getLineNumberAtVerticalOffset(l);return m.ZP.createOutsideEditor(o,new C.L(h,n.getLineMaxColumn(h)))}var f=i.getLineNumberAtVerticalOffset(i.getCurrentScrollTop()+e.relativePos.y);return e.posx<t.x?m.ZP.createOutsideEditor(o,new C.L(f,1)):e.posx>t.x+t.width?m.ZP.createOutsideEditor(o,new C.L(f,n.getLineMaxColumn(f))):null}},{key:"_findMousePosition",value:function(e,t){var n=this._getPositionOutsideEditor(e);if(n)return n;var i=this._createMouseTarget(e,t);if(!i.position)return null;if(8===i.type||5===i.type){var o=this._helpPositionJumpOverViewZone(i.detail);if(o)return m.ZP.createViewZone(i.type,i.element,i.mouseColumn,o,i.detail)}return i}},{key:"_helpPositionJumpOverViewZone",value:function(e){var t=new C.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),n=e.positionBefore,i=e.positionAfter;return n&&i?n.isBefore(t)?n:i:null}},{key:"_dispatchMouse",value:function(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===e.type&&null!==e.detail.injectedText})}}]),n}(h.JT),x=function(){function e(){(0,i.Z)(this,e),this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return(0,o.Z)(e,[{key:"altKey",get:function(){return this._altKey}},{key:"ctrlKey",get:function(){return this._ctrlKey}},{key:"metaKey",get:function(){return this._metaKey}},{key:"shiftKey",get:function(){return this._shiftKey}},{key:"leftButton",get:function(){return this._leftButton}},{key:"middleButton",get:function(){return this._middleButton}},{key:"startedOnLineNumbers",get:function(){return this._startedOnLineNumbers}},{key:"count",get:function(){return this._lastMouseDownCount}},{key:"setModifiers",value:function(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}},{key:"setStartButtons",value:function(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}},{key:"setStartedOnLineNumbers",value:function(e){this._startedOnLineNumbers=e}},{key:"trySetCount",value:function(t,n){var i=(new Date).getTime();i-this._lastSetMouseDownCountTime>e.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=i,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(n)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=n,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)}}]),e}();x.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var b=n(54656),E=n(21852),k=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e,o,r){var s;(0,i.Z)(this,n),(s=t.call(this,e,o,r))._register(d.o.addTarget(s.viewHelper.linesContentDomNode)),s._register(l.addDisposableListener(s.viewHelper.linesContentDomNode,d.t.Tap,(function(e){return s.onTap(e)}))),s._register(l.addDisposableListener(s.viewHelper.linesContentDomNode,d.t.Change,(function(e){return s.onChange(e)}))),s._register(l.addDisposableListener(s.viewHelper.linesContentDomNode,d.t.Contextmenu,(function(e){return s._onContextMenu(new g.gy(e,!1,s.viewHelper.viewDomNode),!1)}))),s._lastPointerType="mouse",s._register(l.addDisposableListener(s.viewHelper.linesContentDomNode,"pointerdown",(function(e){var t=e.pointerType;s._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"})));var a=new g.tC(s.viewHelper.viewDomNode);return s._register(a.onPointerMove(s.viewHelper.viewDomNode,(function(e){return s._onMouseMove(e)}))),s._register(a.onPointerUp(s.viewHelper.viewDomNode,(function(e){return s._onMouseUp(e)}))),s._register(a.onPointerLeave(s.viewHelper.viewDomNode,(function(e){return s._onMouseLeave(e)}))),s._register(a.onPointerDown(s.viewHelper.viewDomNode,(function(e,t){return s._onMouseDown(e,t)}))),s}return(0,o.Z)(n,[{key:"onTap",value:function(e){if(e.initialTarget&&this.viewHelper.linesContentDomNode.contains(e.initialTarget)){e.preventDefault(),this.viewHelper.focusTextArea();var t=this._createMouseTarget(new g.gy(e,!1,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===t.type&&null!==t.detail.injectedText})}}},{key:"onChange",value:function(e){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}},{key:"_onMouseDown",value:function(e,t){"touch"!==e.browserEvent.pointerType&&(0,r.Z)((0,s.Z)(n.prototype),"_onMouseDown",this).call(this,e,t)}}]),n}(w),T=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e,o,r){var s;return(0,i.Z)(this,n),(s=t.call(this,e,o,r))._register(d.o.addTarget(s.viewHelper.linesContentDomNode)),s._register(l.addDisposableListener(s.viewHelper.linesContentDomNode,d.t.Tap,(function(e){return s.onTap(e)}))),s._register(l.addDisposableListener(s.viewHelper.linesContentDomNode,d.t.Change,(function(e){return s.onChange(e)}))),s._register(l.addDisposableListener(s.viewHelper.linesContentDomNode,d.t.Contextmenu,(function(e){return s._onContextMenu(new g.gy(e,!1,s.viewHelper.viewDomNode),!1)}))),s}return(0,o.Z)(n,[{key:"onTap",value:function(e){e.preventDefault(),this.viewHelper.focusTextArea();var t=this._createMouseTarget(new g.gy(e,!1,this.viewHelper.viewDomNode),!1);if(t.position){var n=document.createEvent("CustomEvent");n.initEvent(E.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(n),this.viewController.moveTo(t.position)}}},{key:"onChange",value:function(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}]),n}(w),M=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e,o,r){var s;return(0,i.Z)(this,n),s=t.call(this),c.gn&&b.D.pointerEvents?s.handler=s._register(new k(e,o,r)):window.TouchEvent?s.handler=s._register(new T(e,o,r)):s.handler=s._register(new w(e,o,r)),s}return(0,o.Z)(n,[{key:"getTargetAtClientPoint",value:function(e,t){return this.handler.getTargetAtClientPoint(e,t)}}]),n}(h.JT)},87806:function(e,t,n){n.d(t,{H:function(){return P}});var i=n(29439),o=n(11752),r=n(61120),s=n(60136),a=n(27277),u=n(15671),l=n(43144),c=n(87697),d=n(12426),h=n(16688),f=n(4827),v=n(26684),p=n(6815),m=n(21852),g=n(66539),_=n(89378),C=n(6264),y=n(16543),w=n(31492),S=n(7497),x=n(10849),b=n(30788),E=n(52091),k=n(68537),T=n(56417),M=n(17424),A=function(){function e(t,n,i,o,r){(0,u.Z)(this,e),this._context=t,this.modelLineNumber=n,this.distanceToModelLineStart=i,this.widthOfHiddenLineTextBefore=o,this.distanceToModelLineEnd=r,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}return(0,l.Z)(e,[{key:"prepareRender",value:function(e){var t=new x.L(this.modelLineNumber,this.distanceToModelLineStart+1),n=new x.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}},{key:"definePresentation",value:function(e){return this._previousPresentation||(this._previousPresentation=e||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}]),e}(),L=d.isFirefox,P=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(e,o,r){var s;(0,u.Z)(this,n),(s=t.call(this,e))._primaryCursorPosition=new x.L(1,1),s._primaryCursorVisibleRange=null,s._viewController=o,s._visibleRangeProvider=r,s._scrollLeft=0,s._scrollTop=0;var a=s._context.configuration.options,l=a.get(133);s._setAccessibilityOptions(a),s._contentLeft=l.contentLeft,s._contentWidth=l.contentWidth,s._contentHeight=l.height,s._fontInfo=a.get(46),s._lineHeight=a.get(61),s._emptySelectionClipboard=a.get(33),s._copyWithSyntaxHighlighting=a.get(21),s._visibleTextArea=null,s._selections=[new E.Y(1,1,1,1)],s._modelSelections=[new E.Y(1,1,1,1)],s._lastRenderPosition=null,s.textArea=(0,h.X)(document.createElement("textarea")),_.K.write(s.textArea,6),s.textArea.setClassName("inputarea ".concat(k.S)),s.textArea.setAttribute("wrap","off"),s.textArea.setAttribute("autocorrect","off"),s.textArea.setAttribute("autocapitalize","off"),s.textArea.setAttribute("autocomplete","off"),s.textArea.setAttribute("spellcheck","false"),s.textArea.setAttribute("aria-label",s._getAriaLabel(a)),s.textArea.setAttribute("tabindex",String(a.get(114))),s.textArea.setAttribute("role","textbox"),s.textArea.setAttribute("aria-roledescription",c.NC("editor","editor")),s.textArea.setAttribute("aria-multiline","true"),s.textArea.setAttribute("aria-haspopup","false"),s.textArea.setAttribute("aria-autocomplete","both"),a.get(30)&&a.get(83)&&s.textArea.setAttribute("readonly","true"),s.textAreaCover=(0,h.X)(document.createElement("div")),s.textAreaCover.setPosition("absolute");var v={getLineCount:function(){return s._context.viewModel.getLineCount()},getLineMaxColumn:function(e){return s._context.viewModel.getLineMaxColumn(e)},getValueInRange:function(e,t){return s._context.viewModel.getValueInRange(e,t)}},C={getDataToCopy:function(){var e=s._context.viewModel.getPlainTextToCopy(s._modelSelections,s._emptySelectionClipboard,f.ED),t=s._context.viewModel.model.getEOL(),n=s._emptySelectionClipboard&&1===s._modelSelections.length&&s._modelSelections[0].isEmpty(),i=Array.isArray(e)?e:null,o=Array.isArray(e)?e.join(t):e,r=void 0,a=null;if(m.RA.forceCopyWithSyntaxHighlighting||s._copyWithSyntaxHighlighting&&o.length<65536){var u=s._context.viewModel.getRichTextToCopy(s._modelSelections,s._emptySelectionClipboard);u&&(r=u.html,a=u.mode)}return{isFromEmptySelection:n,multicursorText:i,text:o,html:r,mode:a}},getScreenReaderContent:function(e){if(1===s._accessibilitySupport){var t=s._selections[0];if(f.dz&&t.isEmpty()){var n=t.getStartPosition(),o=s._getWordBeforePosition(n);if(0===o.length&&(o=s._getCharacterBeforePosition(n)),o.length>0)return new g.un(o,o.length,o.length,n,n)}if(d.isSafari&&!t.isEmpty()){var r="vscode-placeholder";return new g.un(r,0,r.length,null,null)}return g.un.EMPTY}if(d.isAndroid){var a=s._selections[0];if(a.isEmpty()){var u=a.getStartPosition(),l=s._getAndroidWordAtPosition(u),c=(0,i.Z)(l,2),h=c[0],p=c[1];if(h.length>0)return new g.un(h,p,p,u,u)}return g.un.EMPTY}return g.ee.fromEditorSelection(e,v,s._selections[0],s._accessibilityPageSize,0===s._accessibilitySupport)},deduceModelPosition:function(e,t,n){return s._context.viewModel.deduceModelPositionRelativeToViewPosition(e,t,n)}},y=s._register(new m.Tj(s.textArea.domNode));return s._textAreaInput=s._register(new m.Fz(C,y,f.OS,d)),s._register(s._textAreaInput.onKeyDown((function(e){s._viewController.emitKeyDown(e)}))),s._register(s._textAreaInput.onKeyUp((function(e){s._viewController.emitKeyUp(e)}))),s._register(s._textAreaInput.onPaste((function(e){var t=!1,n=null,i=null;e.metadata&&(t=s._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,n="undefined"!==typeof e.metadata.multicursorText?e.metadata.multicursorText:null,i=e.metadata.mode),s._viewController.paste(e.text,t,n,i)}))),s._register(s._textAreaInput.onCut((function(){s._viewController.cut()}))),s._register(s._textAreaInput.onType((function(e){e.replacePrevCharCnt||e.replaceNextCharCnt||e.positionDelta?(g.al&&console.log(" => compositionType: <<".concat(e.text,">>, ").concat(e.replacePrevCharCnt,", ").concat(e.replaceNextCharCnt,", ").concat(e.positionDelta)),s._viewController.compositionType(e.text,e.replacePrevCharCnt,e.replaceNextCharCnt,e.positionDelta)):(g.al&&console.log(" => type: <<".concat(e.text,">>")),s._viewController.type(e.text))}))),s._register(s._textAreaInput.onSelectionChangeRequest((function(e){s._viewController.setSelection(e)}))),s._register(s._textAreaInput.onCompositionStart((function(e){var t=s.textArea.domNode,n=s._modelSelections[0],i=function(){var e=t.value.substring(0,Math.min(t.selectionStart,t.selectionEnd)),i=e.lastIndexOf("\n"),o=e.substring(i+1),r=o.lastIndexOf("\t"),a=o.length-r-1,u=n.getStartPosition(),l=Math.min(u.column-1,a);return{distanceToModelLineStart:u.column-1-l,widthOfHiddenTextBefore:function(e,t){if(0===e.length)return 0;var n=document.createElement("div");n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";var i=document.createElement("span");(0,p.N)(i,t),i.style.whiteSpace="pre",i.append(e),n.appendChild(i),document.body.appendChild(n);var o=i.offsetWidth;return document.body.removeChild(n),o}(o.substring(0,o.length-l),s._fontInfo)}}(),o=i.distanceToModelLineStart,r=i.widthOfHiddenTextBefore,a=function(){var e=t.value.substring(Math.max(t.selectionStart,t.selectionEnd)),i=e.indexOf("\n"),o=-1===i?e:e.substring(0,i),r=o.indexOf("\t"),a=-1===r?o.length:o.length-r-1,u=n.getEndPosition(),l=Math.min(s._context.viewModel.model.getLineMaxColumn(u.lineNumber)-u.column,a);return{distanceToModelLineEnd:s._context.viewModel.model.getLineMaxColumn(u.lineNumber)-u.column-l}}().distanceToModelLineEnd;s._context.viewModel.revealRange("keyboard",!0,b.e.fromPositions(s._selections[0].getStartPosition()),0,1),s._visibleTextArea=new A(s._context,n.startLineNumber,o,r,a),s._visibleTextArea.prepareRender(s._visibleRangeProvider),s._render(),s.textArea.setClassName("inputarea ".concat(k.S," ime-input")),s._viewController.compositionStart(),s._context.viewModel.onCompositionStart()}))),s._register(s._textAreaInput.onCompositionUpdate((function(e){s._visibleTextArea&&(s._visibleTextArea.prepareRender(s._visibleRangeProvider),s._render())}))),s._register(s._textAreaInput.onCompositionEnd((function(){s._visibleTextArea=null,s._render(),s.textArea.setClassName("inputarea ".concat(k.S)),s._viewController.compositionEnd(),s._context.viewModel.onCompositionEnd()}))),s._register(s._textAreaInput.onFocus((function(){s._context.viewModel.setHasFocus(!0)}))),s._register(s._textAreaInput.onBlur((function(){s._context.viewModel.setHasFocus(!1)}))),s}return(0,l.Z)(n,[{key:"dispose",value:function(){(0,o.Z)((0,r.Z)(n.prototype),"dispose",this).call(this)}},{key:"_getAndroidWordAtPosition",value:function(e){for(var t=this._context.viewModel.getLineContent(e.lineNumber),n=(0,S.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?'),i=!0,o=e.column,r=!0,s=e.column,a=0;a<50&&(i||r);){if(i&&o<=1&&(i=!1),i){var u=t.charCodeAt(o-2);0!==n.get(u)?i=!1:o--}if(r&&s>t.length&&(r=!1),r){var l=t.charCodeAt(s-1);0!==n.get(l)?r=!1:s++}a++}return[t.substring(o-1,s-1),e.column-o]}},{key:"_getWordBeforePosition",value:function(e){for(var t=this._context.viewModel.getLineContent(e.lineNumber),n=(0,S.u)(this._context.configuration.options.get(119)),i=e.column,o=0;i>1;){var r=t.charCodeAt(i-2);if(0!==n.get(r)||o>50)return t.substring(i-1,e.column-1);o++,i--}return t.substring(0,e.column-1)}},{key:"_getCharacterBeforePosition",value:function(e){if(e.column>1){var t=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!v.ZG(t.charCodeAt(0)))return t}return""}},{key:"_getAriaLabel",value:function(e){return 1===e.get(2)?c.NC("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",f.IJ?"Shift+Alt+F1":"Alt+F1"):e.get(4)}},{key:"_setAccessibilityOptions",value:function(e){this._accessibilitySupport=e.get(2);var t=e.get(3);2===this._accessibilitySupport&&t===w.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}},{key:"onConfigurationChanged",value:function(e){var t=this._context.configuration.options,n=t.get(133);return this._setAccessibilityOptions(t),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._contentHeight=n.height,this._fontInfo=t.get(46),this._lineHeight=t.get(61),this._emptySelectionClipboard=t.get(33),this._copyWithSyntaxHighlighting=t.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(114))),(e.hasChanged(30)||e.hasChanged(83))&&(t.get(30)&&t.get(83)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}},{key:"onCursorStateChanged",value:function(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}},{key:"onDecorationsChanged",value:function(e){return!0}},{key:"onFlushed",value:function(e){return!0}},{key:"onLinesChanged",value:function(e){return!0}},{key:"onLinesDeleted",value:function(e){return!0}},{key:"onLinesInserted",value:function(e){return!0}},{key:"onScrollChanged",value:function(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}},{key:"onZonesChanged",value:function(e){return!0}},{key:"isFocused",value:function(){return this._textAreaInput.isFocused()}},{key:"focusTextArea",value:function(){this._textAreaInput.focusTextArea()}},{key:"getLastRenderData",value:function(){return this._lastRenderPosition}},{key:"setAriaOptions",value:function(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}},{key:"prepareRender",value:function(e){var t;this._primaryCursorPosition=new x.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),null===(t=this._visibleTextArea)||void 0===t||t.prepareRender(e)}},{key:"render",value:function(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}},{key:"_render",value:function(){if(this._visibleTextArea){var e=this._visibleTextArea.visibleTextareaStart,t=this._visibleTextArea.visibleTextareaEnd,n=this._visibleTextArea.startPosition,i=this._visibleTextArea.endPosition;if(n&&i&&e&&t&&t.left>=this._scrollLeft&&e.left<=this._scrollLeft+this._contentWidth){var o=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,r=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart)),s=this._visibleTextArea.widthOfHiddenLineTextBefore,a=this._contentLeft+e.left-this._scrollLeft,u=t.left-e.left+1;if(a<this._contentLeft){var l=this._contentLeft-a;a+=l,s+=l,u-=l}u>this._contentWidth&&(u=this._contentWidth);var c=this._context.viewModel.getViewLineData(n.lineNumber),d=c.tokens.findTokenIndexAtOffset(n.column-1),h=d===c.tokens.findTokenIndexAtOffset(i.column-1),v=this._visibleTextArea.definePresentation(h?c.tokens.getPresentation(d):null);this.textArea.domNode.scrollTop=r*this._lineHeight,this.textArea.domNode.scrollLeft=s,this._doRender({lastRenderPosition:null,top:o,left:a,width:u,height:this._lineHeight,useCover:!1,color:(T.RW.getColorMap()||[])[v.foreground],italic:v.italic,bold:v.bold,underline:v.underline,strikethrough:v.strikethrough})}}else if(this._primaryCursorVisibleRange){var p=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(p<this._contentLeft||p>this._contentLeft+this._contentWidth)this._renderAtTopLeft();else{var m=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(m<0||m>this._contentHeight)this._renderAtTopLeft();else if(f.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:m,left:p,width:L?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;var g=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=g*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:m,left:p,width:L?0:1,height:L?0:1,useCover:!1})}}else this._renderAtTopLeft()}},{key:"_newlinecount",value:function(e){for(var t=0,n=-1;;){if(-1===(n=e.indexOf("\n",n+1)))break;t++}return t}},{key:"_renderAtTopLeft",value:function(){this._doRender({lastRenderPosition:null,top:0,left:0,width:L?0:1,height:L?0:1,useCover:!0})}},{key:"_doRender",value:function(e){this._lastRenderPosition=e.lastRenderPosition;var t=this.textArea,n=this.textAreaCover;(0,p.N)(t,this._fontInfo),t.setTop(e.top),t.setLeft(e.left),t.setWidth(e.width),t.setHeight(e.height),t.setColor(e.color?M.Il.Format.CSS.formatHex(e.color):""),t.setFontStyle(e.italic?"italic":""),e.bold&&t.setFontWeight("bold"),t.setTextDecoration("".concat(e.underline?" underline":"").concat(e.strikethrough?" line-through":"")),n.setTop(e.useCover?e.top:0),n.setLeft(e.useCover?e.left:0),n.setWidth(e.useCover?e.width:0),n.setHeight(e.useCover?e.height:0);var i=this._context.configuration.options;i.get(52)?n.setClassName("monaco-editor-background textAreaCover "+y.Z.OUTER_CLASS_NAME):0!==i.get(62).renderType?n.setClassName("monaco-editor-background textAreaCover "+C.x.CLASS_NAME):n.setClassName("monaco-editor-background textAreaCover")}}]),n}(_.E)},21852:function(e,t,n){n.d(t,{Fz:function(){return b},Nl:function(){return S},RA:function(){return w},Tj:function(){return k},pd:function(){return i}});var i,o=n(29439),r=n(11752),s=n(61120),a=n(60136),u=n(27277),l=n(15671),c=n(43144),d=n(12426),h=n(53210),f=n(81882),v=n(32590),p=n(28941),m=n(10526),g=n(67609),_=n(26684),C=n(66539),y=n(52091);!function(e){e.Tap="-monaco-textarea-synthetic-tap"}(i||(i={}));var w={forceCopyWithSyntaxHighlighting:!1},S=function(){function e(){(0,l.Z)(this,e),this._lastState=null}return(0,c.Z)(e,[{key:"set",value:function(e,t){this._lastState={lastCopiedValue:e,data:t}}},{key:"get",value:function(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}]),e}();S.INSTANCE=new S;var x=function(){function e(){(0,l.Z)(this,e),this._lastTypeTextLength=0}return(0,c.Z)(e,[{key:"handleCompositionUpdate",value:function(e){var t={text:e=e||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,t}}]),e}(),b=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e,i,r,s){var a;(0,l.Z)(this,n),(a=t.call(this))._host=e,a._textArea=i,a._OS=r,a._browser=s,a._onFocus=a._register(new p.Q5),a.onFocus=a._onFocus.event,a._onBlur=a._register(new p.Q5),a.onBlur=a._onBlur.event,a._onKeyDown=a._register(new p.Q5),a.onKeyDown=a._onKeyDown.event,a._onKeyUp=a._register(new p.Q5),a.onKeyUp=a._onKeyUp.event,a._onCut=a._register(new p.Q5),a.onCut=a._onCut.event,a._onPaste=a._register(new p.Q5),a.onPaste=a._onPaste.event,a._onType=a._register(new p.Q5),a.onType=a._onType.event,a._onCompositionStart=a._register(new p.Q5),a.onCompositionStart=a._onCompositionStart.event,a._onCompositionUpdate=a._register(new p.Q5),a.onCompositionUpdate=a._onCompositionUpdate.event,a._onCompositionEnd=a._register(new p.Q5),a.onCompositionEnd=a._onCompositionEnd.event,a._onSelectionChangeRequest=a._register(new p.Q5),a.onSelectionChangeRequest=a._onSelectionChangeRequest.event,a._asyncTriggerCut=a._register(new v.pY((function(){return a._onCut.fire()}),0)),a._asyncFocusGainWriteScreenReaderContent=a._register(new v.pY((function(){return a.writeScreenReaderContent("asyncFocusGain")}),0)),a._textAreaState=C.un.EMPTY,a._selectionChangeListener=null,a.writeScreenReaderContent("ctor"),a._hasFocus=!1,a._currentComposition=null;var u=null;return a._register(a._textArea.onKeyDown((function(e){var t=new f.y(e);(109===t.keyCode||a._currentComposition&&1===t.keyCode)&&t.stopPropagation(),t.equals(9)&&t.preventDefault(),u=t,a._onKeyDown.fire(t)}))),a._register(a._textArea.onKeyUp((function(e){var t=new f.y(e);a._onKeyUp.fire(t)}))),a._register(a._textArea.onCompositionStart((function(e){C.al&&console.log("[compositionstart]",e);var t=new x;if(a._currentComposition)a._currentComposition=t;else{if(a._currentComposition=t,2===a._OS&&u&&u.equals(109)&&a._textAreaState.selectionStart===a._textAreaState.selectionEnd&&a._textAreaState.selectionStart>0&&a._textAreaState.value.substr(a._textAreaState.selectionStart-1,1)===e.data&&("ArrowRight"===u.code||"ArrowLeft"===u.code))return C.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",e),t.handleCompositionUpdate("x"),void a._onCompositionStart.fire({data:e.data});a._browser.isAndroid,a._onCompositionStart.fire({data:e.data})}}))),a._register(a._textArea.onCompositionUpdate((function(e){C.al&&console.log("[compositionupdate]",e);var t=a._currentComposition;if(t){if(a._browser.isAndroid){var n=C.un.readFromTextArea(a._textArea),i=C.un.deduceAndroidCompositionInput(a._textAreaState,n);return a._textAreaState=n,a._onType.fire(i),void a._onCompositionUpdate.fire(e)}var o=t.handleCompositionUpdate(e.data);a._textAreaState=C.un.readFromTextArea(a._textArea),a._onType.fire(o),a._onCompositionUpdate.fire(e)}}))),a._register(a._textArea.onCompositionEnd((function(e){C.al&&console.log("[compositionend]",e);var t=a._currentComposition;if(t){if(a._currentComposition=null,a._browser.isAndroid){var n=C.un.readFromTextArea(a._textArea),i=C.un.deduceAndroidCompositionInput(a._textAreaState,n);return a._textAreaState=n,a._onType.fire(i),void a._onCompositionEnd.fire()}var o=t.handleCompositionUpdate(e.data);a._textAreaState=C.un.readFromTextArea(a._textArea),a._onType.fire(o),a._onCompositionEnd.fire()}}))),a._register(a._textArea.onInput((function(e){if(C.al&&console.log("[input]",e),a._textArea.setIgnoreSelectionChangeTime("received input event"),!a._currentComposition){var t=C.un.readFromTextArea(a._textArea),n=C.un.deduceInput(a._textAreaState,t,2===a._OS);0===n.replacePrevCharCnt&&1===n.text.length&&_.ZG(n.text.charCodeAt(0))||(a._textAreaState=t,""===n.text&&0===n.replacePrevCharCnt&&0===n.replaceNextCharCnt&&0===n.positionDelta||a._onType.fire(n))}}))),a._register(a._textArea.onCut((function(e){a._textArea.setIgnoreSelectionChangeTime("received cut event"),a._ensureClipboardGetsEditorSelection(e),a._asyncTriggerCut.schedule()}))),a._register(a._textArea.onCopy((function(e){a._ensureClipboardGetsEditorSelection(e)}))),a._register(a._textArea.onPaste((function(e){if(a._textArea.setIgnoreSelectionChangeTime("received paste event"),e.preventDefault(),e.clipboardData){var t=E.getTextData(e.clipboardData),n=(0,o.Z)(t,2),i=n[0],r=n[1];i&&(r=r||S.INSTANCE.get(i),a._onPaste.fire({text:i,metadata:r}))}}))),a._register(a._textArea.onFocus((function(){var e=a._hasFocus;a._setHasFocus(!0),a._browser.isSafari&&!e&&a._hasFocus&&a._asyncFocusGainWriteScreenReaderContent.schedule()}))),a._register(a._textArea.onBlur((function(){a._currentComposition&&(a._currentComposition=null,a.writeScreenReaderContent("blurWithoutCompositionEnd"),a._onCompositionEnd.fire()),a._setHasFocus(!1)}))),a._register(a._textArea.onSyntheticTap((function(){a._browser.isAndroid&&a._currentComposition&&(a._currentComposition=null,a.writeScreenReaderContent("tapWithoutCompositionEnd"),a._onCompositionEnd.fire())}))),a}return(0,c.Z)(n,[{key:"_installSelectionChangeListener",value:function(){var e=this,t=0;return h.addDisposableListener(document,"selectionchange",(function(n){if(e._hasFocus&&!e._currentComposition&&e._browser.isChrome){var i=Date.now(),o=i-t;if(t=i,!(o<5)){var r=i-e._textArea.getIgnoreSelectionChangeTime();if(e._textArea.resetSelectionChangeTime(),!(r<100)&&e._textAreaState.selectionStartPosition&&e._textAreaState.selectionEndPosition){var s=e._textArea.getValue();if(e._textAreaState.value===s){var a=e._textArea.getSelectionStart(),u=e._textArea.getSelectionEnd();if(e._textAreaState.selectionStart!==a||e._textAreaState.selectionEnd!==u){var l=e._textAreaState.deduceEditorPosition(a),c=e._host.deduceModelPosition(l[0],l[1],l[2]),d=e._textAreaState.deduceEditorPosition(u),h=e._host.deduceModelPosition(d[0],d[1],d[2]),f=new y.Y(c.lineNumber,c.column,h.lineNumber,h.column);e._onSelectionChangeRequest.fire(f)}}}}}}))}},{key:"dispose",value:function(){(0,r.Z)((0,s.Z)(n.prototype),"dispose",this).call(this),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}},{key:"focusTextArea",value:function(){this._setHasFocus(!0),this.refreshFocusState()}},{key:"isFocused",value:function(){return this._hasFocus}},{key:"refreshFocusState",value:function(){this._setHasFocus(this._textArea.hasFocus())}},{key:"_setHasFocus",value:function(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}},{key:"_setAndWriteTextAreaState",value:function(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}},{key:"writeScreenReaderContent",value:function(e){this._currentComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}},{key:"_ensureClipboardGetsEditorSelection",value:function(e){var t=this._host.getDataToCopy(),n={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};S.INSTANCE.set(this._browser.isFirefox?t.text.replace(/\r\n/g,"\n"):t.text,n),e.preventDefault(),e.clipboardData&&E.setTextData(e.clipboardData,t.text,t.html,n)}}]),n}(m.JT),E=function(){function e(){(0,l.Z)(this,e)}return(0,c.Z)(e,null,[{key:"getTextData",value:function(e){var t=e.getData(g.v.text),n=null,i=e.getData("vscode-editor-data");if("string"===typeof i)try{1!==(n=JSON.parse(i)).version&&(n=null)}catch(o){}return 0===t.length&&null===n&&e.files.length>0?[Array.prototype.slice.call(e.files,0).map((function(e){return e.name})).join("\n"),null]:[t,n]}},{key:"setTextData",value:function(e,t,n,i){e.setData(g.v.text,t),"string"===typeof n&&e.setData("text/html",n),e.setData("vscode-editor-data",JSON.stringify(i))}}]),e}(),k=function(e){(0,a.Z)(n,e);var t=(0,u.Z)(n);function n(e){var o;return(0,l.Z)(this,n),(o=t.call(this))._actual=e,o.onKeyDown=o._register(h.createEventEmitter(o._actual,"keydown")).event,o.onKeyUp=o._register(h.createEventEmitter(o._actual,"keyup")).event,o.onCompositionStart=o._register(h.createEventEmitter(o._actual,"compositionstart")).event,o.onCompositionUpdate=o._register(h.createEventEmitter(o._actual,"compositionupdate")).event,o.onCompositionEnd=o._register(h.createEventEmitter(o._actual,"compositionend")).event,o.onInput=o._register(h.createEventEmitter(o._actual,"input")).event,o.onCut=o._register(h.createEventEmitter(o._actual,"cut")).event,o.onCopy=o._register(h.createEventEmitter(o._actual,"copy")).event,o.onPaste=o._register(h.createEventEmitter(o._actual,"paste")).event,o.onFocus=o._register(h.createEventEmitter(o._actual,"focus")).event,o.onBlur=o._register(h.createEventEmitter(o._actual,"blur")).event,o._onSyntheticTap=o._register(new p.Q5),o.onSyntheticTap=o._onSyntheticTap.event,o._ignoreSelectionChangeTime=0,o._register(h.addDisposableListener(o._actual,i.Tap,(function(){return o._onSyntheticTap.fire()}))),o}return(0,c.Z)(n,[{key:"hasFocus",value:function(){var e=h.getShadowRoot(this._actual);return e?e.activeElement===this._actual:!!h.isInDOM(this._actual)&&document.activeElement===this._actual}},{key:"setIgnoreSelectionChangeTime",value:function(e){this._ignoreSelectionChangeTime=Date.now()}},{key:"getIgnoreSelectionChangeTime",value:function(){return this._ignoreSelectionChangeTime}},{key:"resetSelectionChangeTime",value:function(){this._ignoreSelectionChangeTime=0}},{key:"getValue",value:function(){return this._actual.value}},{key:"setValue",value:function(e,t){var n=this._actual;n.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),n.value=t)}},{key:"getSelectionStart",value:function(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}},{key:"getSelectionEnd",value:function(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}},{key:"setSelectionRange",value:function(e,t,n){var i=this._actual,o=h.getShadowRoot(i),r=(o?o.activeElement:document.activeElement)===i,s=i.selectionStart,a=i.selectionEnd;if(r&&s===t&&a===n)d.isFirefox&&window.parent!==window&&i.focus();else{if(r)return this.setIgnoreSelectionChangeTime("setSelectionRange"),i.setSelectionRange(t,n),void(d.isFirefox&&window.parent!==window&&i.focus());try{var u=h.saveParentsScrollTop(i);this.setIgnoreSelectionChangeTime("setSelectionRange"),i.focus(),i.setSelectionRange(t,n),h.restoreParentsScrollTop(i,u)}catch(l){}}}}]),n}(m.JT)},66539:function(e,t,n){n.d(t,{al:function(){return u},ee:function(){return c},un:function(){return l}});var i=n(15671),o=n(43144),r=n(26684),s=n(10849),a=n(30788),u=!1,l=function(){function e(t,n,o,r,s){(0,i.Z)(this,e),this.value=t,this.selectionStart=n,this.selectionEnd=o,this.selectionStartPosition=r,this.selectionEndPosition=s}return(0,o.Z)(e,[{key:"toString",value:function(){return"[ <".concat(this.value,">, selectionStart: ").concat(this.selectionStart,", selectionEnd: ").concat(this.selectionEnd,"]")}},{key:"collapseSelection",value:function(){return new e(this.value,this.value.length,this.value.length,null,null)}},{key:"writeToTextArea",value:function(e,t,n){u&&console.log("writeToTextArea ".concat(e,": ").concat(this.toString())),t.setValue(e,this.value),n&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}},{key:"deduceEditorPosition",value:function(e){if(e<=this.selectionStart){var t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){var n=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,n,1)}var i=this.value.substring(this.selectionStart,e);if(-1===i.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,i,1);var o=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,o,-1)}},{key:"_finishDeduceEditorPosition",value:function(e,t,n){for(var i=0,o=-1;-1!==(o=t.indexOf("\n",o+1));)i++;return[e,n*t.length,i]}}],[{key:"readFromTextArea",value:function(t){return new e(t.getValue(),t.getSelectionStart(),t.getSelectionEnd(),null,null)}},{key:"deduceInput",value:function(e,t,n){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};u&&(console.log("------------------------deduceInput"),console.log("PREVIOUS STATE: ".concat(e.toString())),console.log("CURRENT STATE: ".concat(t.toString())));var i=Math.min(r.Mh(e.value,t.value),e.selectionStart,t.selectionStart),o=Math.min(r.P1(e.value,t.value),e.value.length-e.selectionEnd,t.value.length-t.selectionEnd),s=e.value.substring(i,e.value.length-o),a=t.value.substring(i,t.value.length-o),l=e.selectionStart-i,c=e.selectionEnd-i,d=t.selectionStart-i,h=t.selectionEnd-i;if(u&&(console.log("AFTER DIFFING PREVIOUS STATE: <".concat(s,">, selectionStart: ").concat(l,", selectionEnd: ").concat(c)),console.log("AFTER DIFFING CURRENT STATE: <".concat(a,">, selectionStart: ").concat(d,", selectionEnd: ").concat(h))),d===h){var f=e.selectionStart-i;return u&&console.log("REMOVE PREVIOUS: ".concat(f," chars")),{text:a,replacePrevCharCnt:f,replaceNextCharCnt:0,positionDelta:0}}return{text:a,replacePrevCharCnt:c-l,replaceNextCharCnt:0,positionDelta:0}}},{key:"deduceAndroidCompositionInput",value:function(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(u&&(console.log("------------------------deduceAndroidCompositionInput"),console.log("PREVIOUS STATE: ".concat(e.toString())),console.log("CURRENT STATE: ".concat(t.toString()))),e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};var n=Math.min(r.Mh(e.value,t.value),e.selectionEnd),i=Math.min(r.P1(e.value,t.value),e.value.length-e.selectionEnd),o=e.value.substring(n,e.value.length-i),s=t.value.substring(n,t.value.length-i),a=e.selectionStart-n,l=e.selectionEnd-n,c=t.selectionStart-n,d=t.selectionEnd-n;return u&&(console.log("AFTER DIFFING PREVIOUS STATE: <".concat(o,">, selectionStart: ").concat(a,", selectionEnd: ").concat(l)),console.log("AFTER DIFFING CURRENT STATE: <".concat(s,">, selectionStart: ").concat(c,", selectionEnd: ").concat(d))),{text:s,replacePrevCharCnt:l,replaceNextCharCnt:o.length-l,positionDelta:d-s.length}}}]),e}();l.EMPTY=new l("",0,0,null,null);var c=function(){function e(){(0,i.Z)(this,e)}return(0,o.Z)(e,null,[{key:"_getPageOfLine",value:function(e,t){return Math.floor((e-1)/t)}},{key:"_getRangeForPage",value:function(e,t){var n=e*t,i=n+1,o=n+t;return new a.e(i,1,o+1,1)}},{key:"fromEditorSelection",value:function(t,n,i,o,r){var u,c=e._getPageOfLine(i.startLineNumber,o),d=e._getRangeForPage(c,o),h=e._getPageOfLine(i.endLineNumber,o),f=e._getRangeForPage(h,o),v=d.intersectRanges(new a.e(1,1,i.startLineNumber,i.startColumn)),p=n.getValueInRange(v,1),m=n.getLineCount(),g=n.getLineMaxColumn(m),_=f.intersectRanges(new a.e(i.endLineNumber,i.endColumn,m,g)),C=n.getValueInRange(_,1);if(c===h||c+1===h)u=n.getValueInRange(i,1);else{var y=d.intersectRanges(i),w=f.intersectRanges(i);u=n.getValueInRange(y,1)+String.fromCharCode(8230)+n.getValueInRange(w,1)}if(r){var S=500;p.length>S&&(p=p.substring(p.length-S,p.length)),C.length>S&&(C=C.substring(0,S)),u.length>1e3&&(u=u.substring(0,S)+String.fromCharCode(8230)+u.substring(u.length-S,u.length))}return new l(p+u+C,p.length,p.length+u.length,new s.L(i.startLineNumber,i.startColumn),new s.L(i.endLineNumber,i.endColumn))}}]),e}()},23605:function(e,t,n){n.r(t),n.d(t,{CoreEditingCommands:function(){return A},CoreEditorCommand:function(){return k},CoreNavigationCommands:function(){return T},EditorScroll_:function(){return i},RevealLine_:function(){return o}});var i,o,r=n(29439),s=n(15671),a=n(43144),u=n(60136),l=n(27277),c=n(87697),d=n(12426),h=n(64272),f=n(58340),v=n(98351),p=n(56692),m=n(92336),g=n(16263),_=n(68372),C=n(4614),y=n(52720),w=n(10849),S=n(30788),x=n(44474),b=n(49525),E=n(90031),k=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"runEditorCommand",value:function(e,t,n){var i=t._getViewModel();i&&this.runCoreEditorCommand(i,n||{})}}]),n}(v._l);!function(e){e.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!h.Kn(e))return!1;var t=e;return!!h.HD(t.to)&&(!(!h.o8(t.by)&&!h.HD(t.by))&&(!(!h.o8(t.value)&&!h.hj(t.value))&&!(!h.o8(t.revealCursor)&&!h.jn(t.revealCursor))))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},e.RawDirection={Up:"up",Down:"down"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"},e.parse=function(t){var n,i;switch(t.to){case e.RawDirection.Up:n=1;break;case e.RawDirection.Down:n=2;break;default:return null}switch(t.by){case e.RawUnit.Line:i=1;break;case e.RawUnit.WrappedLine:i=2;break;case e.RawUnit.Page:i=3;break;case e.RawUnit.HalfPage:i=4;break;case e.RawUnit.Editor:i=5;break;default:i=2}return{direction:n,unit:i,value:Math.floor(t.value||1),revealCursor:!!t.revealCursor,select:!!t.select}}}(i||(i={})),function(e){e.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!h.Kn(e))return!1;var t=e;return!(!h.hj(t.lineNumber)&&!h.HD(t.lineNumber))&&!(!h.o8(t.at)&&!h.HD(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},e.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(o||(o={}));var T,M=function(){function e(t){var n=this;(0,s.Z)(this,e),t.addImplementation(1e4,"code-editor",(function(e,t){var i=e.get(p.$).getFocusedCodeEditor();return!(!i||!i.hasTextFocus())&&n._runEditorCommand(e,i,t)})),t.addImplementation(1e3,"generic-dom-input-textarea",(function(e,t){var i=document.activeElement;return!!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>=0)&&(n.runDOMCommand(),!0)})),t.addImplementation(0,"generic-dom",(function(e,t){var i=e.get(p.$).getActiveCodeEditor();return!!i&&(i.focus(),n._runEditorCommand(e,i,t))}))}return(0,a.Z)(e,[{key:"_runEditorCommand",value:function(e,t,n){var i=this.runEditorCommand(e,t,n);return i||!0}}]),e}();!function(e){var t=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._minimalReveal=e.minimalReveal,i._inSelectionMode=e.inSelectionMode,i}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[C.P.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)])&&e.revealPrimaryCursor(t.source,!0,this._minimalReveal)}}]),n}(k);e.MoveTo=(0,v.fK)(new t({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=(0,v.fK)(new t({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));var n=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement();var n=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);e.setCursorStates(t.source,3,n.viewStates.map((function(e){return g.Vi.fromViewState(e)}))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:n.fromLineNumber,fromViewVisualColumn:n.fromVisualColumn,toViewLineNumber:n.toLineNumber,toViewVisualColumn:n.toVisualColumn}),n.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source)}}]),n}(k);e.ColumnSelect=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"columnSelect",precondition:void 0})}return(0,a.Z)(n,[{key:"_getColumnSelectResult",value:function(e,t,n,i){var o=e.model.validatePosition(i.position),r=e.coordinatesConverter.validateViewPosition(new w.L(i.viewPosition.lineNumber,i.viewPosition.column),o),s=i.doColumnSelect?n.fromViewLineNumber:r.lineNumber,a=i.doColumnSelect?n.fromViewVisualColumn:i.mouseColumn-1;return m.U.columnSelect(e.cursorConfig,e,s,a,r.lineNumber,i.mouseColumn-1)}}]),n}(n))),e.CursorColumnSelectLeft=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:3599,linux:{primary:0}}})}return(0,a.Z)(n,[{key:"_getColumnSelectResult",value:function(e,t,n,i){return m.U.columnSelectLeft(e.cursorConfig,e,n)}}]),n}(n))),e.CursorColumnSelectRight=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:3601,linux:{primary:0}}})}return(0,a.Z)(n,[{key:"_getColumnSelectResult",value:function(e,t,n,i){return m.U.columnSelectRight(e.cursorConfig,e,n)}}]),n}(n)));var r=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._isPaged=e.isPaged,i}return(0,a.Z)(n,[{key:"_getColumnSelectResult",value:function(e,t,n,i){return m.U.columnSelectUp(e.cursorConfig,e,n,this._isPaged)}}]),n}(n);e.CursorColumnSelectUp=(0,v.fK)(new r({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=(0,v.fK)(new r({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:3595,linux:{primary:0}}}));var h=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._isPaged=e.isPaged,i}return(0,a.Z)(n,[{key:"_getColumnSelectResult",value:function(e,t,n,i){return m.U.columnSelectDown(e.cursorConfig,e,n,this._isPaged)}}]),n}(n);e.CursorColumnSelectDown=(0,v.fK)(new h({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=(0,v.fK)(new h({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:3596,linux:{primary:0}}}));var p=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"cursorMove",precondition:void 0,description:C.N.description})}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){var n=C.N.parse(t);n&&this._runCursorMove(e,t.source,n)}},{key:"_runCursorMove",value:function(e,t,i){e.model.pushStackElement(),e.setCursorStates(t,3,n._move(e,e.getCursorStates(),i)),e.revealPrimaryCursor(t,!0)}}],[{key:"_move",value:function(e,t,n){var i=n.select,o=n.value;switch(n.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return C.P.simpleMove(e,t,n.direction,i,o,n.unit);case 11:case 13:case 12:case 14:return C.P.viewportMove(e,t,n.direction,i,o);default:return null}}}]),n}(k);e.CursorMoveImpl=p,e.CursorMove=(0,v.fK)(new p);var _=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._staticArgs=e.args,i}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){var n=this._staticArgs;-1===this._staticArgs.value&&(n={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.pageSize||e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,C.P.simpleMove(e,e.getCursorStates(),n.direction,n.select,n.value,n.unit)),e.revealPrimaryCursor(t.source,!0)}}]),n}(k);e.CursorLeft=(0,v.fK)(new _({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=(0,v.fK)(new _({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:1039}})),e.CursorRight=(0,v.fK)(new _({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=(0,v.fK)(new _({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:1041}})),e.CursorUp=(0,v.fK)(new _({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=(0,v.fK)(new _({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=(0,v.fK)(new _({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:11}})),e.CursorPageUpSelect=(0,v.fK)(new _({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:1035}})),e.CursorDown=(0,v.fK)(new _({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=(0,v.fK)(new _({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=(0,v.fK)(new _({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:12}})),e.CursorPageDownSelect=(0,v.fK)(new _({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:1036}})),e.CreateCursor=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"createCursor",precondition:void 0})}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){var n;n=t.wholeLine?C.P.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):C.P.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);var i=e.getCursorStates();if(i.length>1)for(var o=n.modelState?n.modelState.position:null,r=n.viewState?n.viewState.position:null,s=0,a=i.length;s<a;s++){var u=i[s];if((!o||u.modelState.selection.containsPosition(o))&&(!r||u.viewState.selection.containsPosition(r)))return i.splice(s,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,i)}i.push(n),e.model.pushStackElement(),e.setCursorStates(t.source,3,i)}}]),n}(k))),e.LastCursorMoveToSelect=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"_lastCursorMoveToSelect",precondition:void 0})}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){var n=e.getLastAddedCursorIndex(),i=e.getCursorStates(),o=i.slice(0);o[n]=C.P.moveTo(e,i[n],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}}]),n}(k)));var y=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._inSelectionMode=e.inSelectionMode,i}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,C.P.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}]),n}(k);e.CursorHome=(0,v.fK)(new y({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=(0,v.fK)(new y({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));var b=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._inSelectionMode=e.inSelectionMode,i}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}},{key:"_exec",value:function(e){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n],r=o.modelState.position.lineNumber;t[n]=g.Vi.fromModelState(o.modelState.move(this._inSelectionMode,r,1,0))}return t}}]),n}(k);e.CursorLineStart=(0,v.fK)(new b({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=(0,v.fK)(new b({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:1311}}}));var E=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._inSelectionMode=e.inSelectionMode,i}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,C.P.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealPrimaryCursor(t.source,!0)}}]),n}(k);e.CursorEnd=(0,v.fK)(new E({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:x.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:c.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=(0,v.fK)(new E({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:x.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:c.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));var T=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._inSelectionMode=e.inSelectionMode,i}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}},{key:"_exec",value:function(e,t){for(var n=[],i=0,o=t.length;i<o;i++){var r=t[i],s=r.modelState.position.lineNumber,a=e.model.getLineMaxColumn(s);n[i]=g.Vi.fromModelState(r.modelState.move(this._inSelectionMode,s,a,0))}return n}}]),n}(k);e.CursorLineEnd=(0,v.fK)(new T({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=(0,v.fK)(new T({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:1315}}}));var A=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._inSelectionMode=e.inSelectionMode,i}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,C.P.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}]),n}(k);e.CursorTop=(0,v.fK)(new A({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=(0,v.fK)(new A({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:3086,mac:{primary:3088}}}));var L=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._inSelectionMode=e.inSelectionMode,i}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,C.P.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}]),n}(k);e.CursorBottom=(0,v.fK)(new L({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=(0,v.fK)(new L({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:3085,mac:{primary:3090}}}));var P=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"editorScroll",precondition:void 0,description:i.description})}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){var n=i.parse(t);n&&this._runEditorScroll(e,t.source,n)}},{key:"_runEditorScroll",value:function(e,t,n){var i=this._computeDesiredScrollTop(e,n);if(n.revealCursor){var o=e.getCompletelyVisibleViewRangeAtScrollTop(i);e.setCursorStates(t,3,[C.P.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),o,n.select)])}e.viewLayout.setScrollPosition({scrollTop:i},0)}},{key:"_computeDesiredScrollTop",value:function(e,t){if(1===t.unit){var n,i=e.getCompletelyVisibleViewRange(),o=e.coordinatesConverter.convertViewRangeToModelRange(i);n=1===t.direction?Math.max(1,o.startLineNumber-t.value):Math.min(e.model.getLineCount(),o.startLineNumber+t.value);var r=e.coordinatesConverter.convertModelPositionToViewPosition(new w.L(n,1));return e.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber)}if(5===t.unit){var s=0;return 2===t.direction&&(s=e.model.getLineCount()-e.cursorConfig.pageSize),e.viewLayout.getVerticalOffsetForLineNumber(s)}var a;a=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;var u=(1===t.direction?-1:1)*a;return e.viewLayout.getCurrentScrollTop()+u*e.cursorConfig.lineHeight}}]),n}(k);e.EditorScrollImpl=P,e.EditorScroll=(0,v.fK)(new P),e.ScrollLineUp=(0,v.fK)(new(function(t){(0,u.Z)(i,t);var n=(0,l.Z)(i);function i(){return(0,s.Z)(this,i),n.call(this,{id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:2064,mac:{primary:267}}})}return(0,a.Z)(i,[{key:"runCoreEditorCommand",value:function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}]),i}(k))),e.ScrollPageUp=(0,v.fK)(new(function(t){(0,u.Z)(i,t);var n=(0,l.Z)(i);function i(){return(0,s.Z)(this,i),n.call(this,{id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}return(0,a.Z)(i,[{key:"runCoreEditorCommand",value:function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}]),i}(k))),e.ScrollEditorTop=(0,v.fK)(new(function(t){(0,u.Z)(i,t);var n=(0,l.Z)(i);function i(){return(0,s.Z)(this,i),n.call(this,{id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus}})}return(0,a.Z)(i,[{key:"runCoreEditorCommand",value:function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}]),i}(k))),e.ScrollLineDown=(0,v.fK)(new(function(t){(0,u.Z)(i,t);var n=(0,l.Z)(i);function i(){return(0,s.Z)(this,i),n.call(this,{id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:2066,mac:{primary:268}}})}return(0,a.Z)(i,[{key:"runCoreEditorCommand",value:function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}]),i}(k))),e.ScrollPageDown=(0,v.fK)(new(function(t){(0,u.Z)(i,t);var n=(0,l.Z)(i);function i(){return(0,s.Z)(this,i),n.call(this,{id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}return(0,a.Z)(i,[{key:"runCoreEditorCommand",value:function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}]),i}(k))),e.ScrollEditorBottom=(0,v.fK)(new(function(t){(0,u.Z)(i,t);var n=(0,l.Z)(i);function i(){return(0,s.Z)(this,i),n.call(this,{id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus}})}return(0,a.Z)(i,[{key:"runCoreEditorCommand",value:function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}}]),i}(k)));var Z=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._inSelectionMode=e.inSelectionMode,i}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[C.P.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),e.revealPrimaryCursor(t.source,!0)}}]),n}(k);e.WordSelect=(0,v.fK)(new Z({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=(0,v.fK)(new Z({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"lastCursorWordSelect",precondition:void 0})}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){var n=e.getLastAddedCursorIndex(),i=e.getCursorStates(),o=i.slice(0),r=i[n];o[n]=C.P.word(e,r,r.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}}]),n}(k)));var O=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._inSelectionMode=e.inSelectionMode,i}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[C.P.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!1)}}]),n}(k);e.LineSelect=(0,v.fK)(new O({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=(0,v.fK)(new O({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));var D=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e))._inSelectionMode=e.inSelectionMode,i}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){var n=e.getLastAddedCursorIndex(),i=e.getCursorStates(),o=i.slice(0);o[n]=C.P.line(e,i[n],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}}]),n}(k);e.LastCursorLineSelect=(0,v.fK)(new D({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=(0,v.fK)(new D({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.CancelSelection=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"cancelSelection",precondition:x.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:9,secondary:[1033]}})}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[C.P.cancelSelection(e,e.getPrimaryCursorState())]),e.revealPrimaryCursor(t.source,!0)}}]),n}(k))),e.RemoveSecondaryCursors=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"removeSecondaryCursors",precondition:x.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:x.u.textInputFocus,primary:9,secondary:[1033]}})}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealPrimaryCursor(t.source,!0),(0,f.i7)(c.NC("removedCursor","Removed secondary cursors"))}}]),n}(k))),e.RevealLine=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"revealLine",precondition:void 0,description:o.description})}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){var n=t,i=n.lineNumber||0,r="number"===typeof i?i+1:parseInt(i)+1;r<1&&(r=1);var s=e.model.getLineCount();r>s&&(r=s);var a=new S.e(r,1,r,e.model.getLineMaxColumn(r)),u=0;if(n.at)switch(n.at){case o.RawAtArgument.Top:u=3;break;case o.RawAtArgument.Center:u=1;break;case o.RawAtArgument.Bottom:u=4}var l=e.coordinatesConverter.convertModelRangeToViewRange(a);e.revealRange(t.source,!1,l,u,0)}}]),n}(k))),e.SelectAll=new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,v.Sq)}return(0,a.Z)(n,[{key:"runDOMCommand",value:function(){d.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}},{key:"runEditorCommand",value:function(e,t,n){var i=t._getViewModel();i&&this.runCoreEditorCommand(i,n)}},{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[C.P.selectAll(e,e.getPrimaryCursorState())])}}]),n}(M)),e.SetSelection=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"setSelection",precondition:void 0})}return(0,a.Z)(n,[{key:"runCoreEditorCommand",value:function(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[g.Vi.fromModelSelection(t.selection)])}}]),n}(k)))}(T||(T={}));var A,L=b.Ao.and(x.u.textInputFocus,x.u.columnSelection);function P(e,t){E.W.registerKeybindingRule({id:e,primary:t,when:L,weight:1})}function Z(e){return e.register(),e}P(T.CursorColumnSelectLeft.id,1039),P(T.CursorColumnSelectRight.id,1041),P(T.CursorColumnSelectUp.id,1040),P(T.CursorColumnSelectPageUp.id,1035),P(T.CursorColumnSelectDown.id,1042),P(T.CursorColumnSelectPageDown.id,1036),function(e){var t=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"runEditorCommand",value:function(e,t,n){var i=t._getViewModel();i&&this.runCoreEditingCommand(t,i,n||{})}}]),n}(v._l);e.CoreEditingCommand=t,e.LineBreakInsert=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"lineBreakInsert",precondition:x.u.writable,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:0,mac:{primary:301}}})}return(0,a.Z)(n,[{key:"runCoreEditingCommand",value:function(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,y.u6.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map((function(e){return e.modelState.selection}))))}}]),n}(t))),e.Outdent=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"outdent",precondition:x.u.writable,kbOpts:{weight:0,kbExpr:b.Ao.and(x.u.editorTextFocus,x.u.tabDoesNotMoveFocus),primary:1026}})}return(0,a.Z)(n,[{key:"runCoreEditingCommand",value:function(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,y.u6.outdent(t.cursorConfig,t.model,t.getCursorStates().map((function(e){return e.modelState.selection})))),e.pushUndoStop()}}]),n}(t))),e.Tab=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"tab",precondition:x.u.writable,kbOpts:{weight:0,kbExpr:b.Ao.and(x.u.editorTextFocus,x.u.tabDoesNotMoveFocus),primary:2}})}return(0,a.Z)(n,[{key:"runCoreEditingCommand",value:function(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,y.u6.tab(t.cursorConfig,t.model,t.getCursorStates().map((function(e){return e.modelState.selection})))),e.pushUndoStop()}}]),n}(t))),e.DeleteLeft=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}return(0,a.Z)(n,[{key:"runCoreEditingCommand",value:function(e,t,n){var i=_.A.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((function(e){return e.modelState.selection})),t.getCursorAutoClosedCharacters()),o=(0,r.Z)(i,2),s=o[0],a=o[1];s&&e.pushUndoStop(),e.executeCommands(this.id,a),t.setPrevEditOperationType(2)}}]),n}(t))),e.DeleteRight=(0,v.fK)(new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,{id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:x.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}return(0,a.Z)(n,[{key:"runCoreEditingCommand",value:function(e,t,n){var i=_.A.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((function(e){return e.modelState.selection}))),o=(0,r.Z)(i,2),s=o[0],a=o[1];s&&e.pushUndoStop(),e.executeCommands(this.id,a),t.setPrevEditOperationType(3)}}]),n}(t))),e.Undo=new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,v.n_)}return(0,a.Z)(n,[{key:"runDOMCommand",value:function(){document.execCommand("undo")}},{key:"runEditorCommand",value:function(e,t,n){if(t.hasModel()&&!0!==t.getOption(83))return t.getModel().undo()}}]),n}(M)),e.Redo=new(function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,v.kz)}return(0,a.Z)(n,[{key:"runDOMCommand",value:function(){document.execCommand("redo")}},{key:"runEditorCommand",value:function(e,t,n){if(t.hasModel()&&!0!==t.getOption(83))return t.getModel().redo()}}]),n}(M))}(A||(A={}));var O=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,i,o){var r;return(0,s.Z)(this,n),(r=t.call(this,{id:e,precondition:void 0,description:o}))._handlerId=i,r}return(0,a.Z)(n,[{key:"runCommand",value:function(e,t){var n=e.get(p.$).getFocusedCodeEditor();n&&n.trigger("keyboard",this._handlerId,t)}}]),n}(v.mY);function D(e,t){Z(new O("default:"+e,e)),Z(new O(e,e,t))}D("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),D("replacePreviousChar"),D("compositionType"),D("compositionStart"),D("compositionEnd"),D("paste"),D("cut")},23068:function(e,t,n){n.d(t,{Bo:function(){return h},Z0:function(){return p},dR:function(){return v}});var i=n(74165),o=n(37762),r=n(92575),s=n(71881),a=n(77314),u=n(67609),l=n(50605),c=n(29582),d=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{u(i.next(e))}catch(t){r(t)}}function a(e){try{u(i.throw(e))}catch(t){r(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))};function h(e){var t,n=new a.Hl,r=(0,o.Z)(e.items);try{var s=function(){var e=t.value,o=e.type;if("string"===e.kind){var r=new Promise((function(t){return e.getAsString(t)}));n.append(o,(0,a.ZO)(r))}else if("file"===e.kind){var s=e.getAsFile();s&&n.append(o,function(e){var t=this,n=e.path?l.o.parse(e.path):void 0;return(0,a.Ix)(e.name,n,(function(){return d(t,void 0,void 0,(0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,e.arrayBuffer();case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})))}))}(s))}};for(r.s();!(t=r.n()).done;)s()}catch(u){r.e(u)}finally{r.f()}return n}var f=Object.freeze([c.Km.EDITORS,c.Km.FILES,r.g.RESOURCES]);function v(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.dataTransfer&&(i||!e.has(u.v.uriList))){var r,s=(0,c.GR)(t).filter((function(e){return e.resource})).map((function(e){return e.resource.toString()})),d=(0,o.Z)(null===(n=t.dataTransfer)||void 0===n?void 0:n.items);try{for(d.s();!(r=d.n()).done;){var h=r.value,v=h.getAsFile();v&&s.push(v.path?l.o.file(v.path).toString():v.name)}}catch(C){d.e(C)}finally{d.f()}s.length&&e.replace(u.v.uriList,(0,a.ZO)(p.create(s)))}var m,g=(0,o.Z)(f);try{for(g.s();!(m=g.n()).done;){var _=m.value;e.delete(_)}}catch(C){g.e(C)}finally{g.f()}}var p=Object.freeze({create:function(e){return(0,s.EB)(e.map((function(e){return e.toString()}))).join("\r\n")},parse:function(e){return e.split("\r\n").filter((function(e){return!e.startsWith("#")}))}})}}]);
//# sourceMappingURL=monaco-editor-vendor.c0aa0059.4bda6a91.js.map