{"version":3,"file":"static/js/monaco-editor-vendor.a3a53265.b3cc700b.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/base/browser/fastDomNode.js","../node_modules/monaco-editor/esm/vs/base/browser/formattedTextRenderer.js","../node_modules/monaco-editor/esm/vs/base/browser/globalPointerMoveMonitor.js","../node_modules/monaco-editor/esm/vs/base/browser/keyboardEvent.js","../node_modules/monaco-editor/esm/vs/base/browser/markdownRenderer.js","../node_modules/monaco-editor/esm/vs/base/browser/iframe.js","../node_modules/monaco-editor/esm/vs/base/browser/mouseEvent.js","../node_modules/monaco-editor/esm/vs/base/browser/performance.js","../node_modules/monaco-editor/esm/vs/base/browser/touch.js","../node_modules/monaco-editor/esm/vs/base/browser/trustedTypes.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionViewItems.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionbar.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/aria/aria.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/button/button.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/contextview/contextview.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/countBadge/countBadge.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdown.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdownActionViewItem.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInput.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInputToggles.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/replaceInput.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/highlightedlabel/highlightedLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/hover/hoverWidget.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabelHover.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabels.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class FastDomNode {\n    constructor(domNode) {\n        this.domNode = domNode;\n        this._maxWidth = '';\n        this._width = '';\n        this._height = '';\n        this._top = '';\n        this._left = '';\n        this._bottom = '';\n        this._right = '';\n        this._paddingLeft = '';\n        this._fontFamily = '';\n        this._fontWeight = '';\n        this._fontSize = '';\n        this._fontStyle = '';\n        this._fontFeatureSettings = '';\n        this._fontVariationSettings = '';\n        this._textDecoration = '';\n        this._lineHeight = '';\n        this._letterSpacing = '';\n        this._className = '';\n        this._display = '';\n        this._position = '';\n        this._visibility = '';\n        this._color = '';\n        this._backgroundColor = '';\n        this._layerHint = false;\n        this._contain = 'none';\n        this._boxShadow = '';\n    }\n    setMaxWidth(_maxWidth) {\n        const maxWidth = numberAsPixels(_maxWidth);\n        if (this._maxWidth === maxWidth) {\n            return;\n        }\n        this._maxWidth = maxWidth;\n        this.domNode.style.maxWidth = this._maxWidth;\n    }\n    setWidth(_width) {\n        const width = numberAsPixels(_width);\n        if (this._width === width) {\n            return;\n        }\n        this._width = width;\n        this.domNode.style.width = this._width;\n    }\n    setHeight(_height) {\n        const height = numberAsPixels(_height);\n        if (this._height === height) {\n            return;\n        }\n        this._height = height;\n        this.domNode.style.height = this._height;\n    }\n    setTop(_top) {\n        const top = numberAsPixels(_top);\n        if (this._top === top) {\n            return;\n        }\n        this._top = top;\n        this.domNode.style.top = this._top;\n    }\n    setLeft(_left) {\n        const left = numberAsPixels(_left);\n        if (this._left === left) {\n            return;\n        }\n        this._left = left;\n        this.domNode.style.left = this._left;\n    }\n    setBottom(_bottom) {\n        const bottom = numberAsPixels(_bottom);\n        if (this._bottom === bottom) {\n            return;\n        }\n        this._bottom = bottom;\n        this.domNode.style.bottom = this._bottom;\n    }\n    setRight(_right) {\n        const right = numberAsPixels(_right);\n        if (this._right === right) {\n            return;\n        }\n        this._right = right;\n        this.domNode.style.right = this._right;\n    }\n    setPaddingLeft(_paddingLeft) {\n        const paddingLeft = numberAsPixels(_paddingLeft);\n        if (this._paddingLeft === paddingLeft) {\n            return;\n        }\n        this._paddingLeft = paddingLeft;\n        this.domNode.style.paddingLeft = this._paddingLeft;\n    }\n    setFontFamily(fontFamily) {\n        if (this._fontFamily === fontFamily) {\n            return;\n        }\n        this._fontFamily = fontFamily;\n        this.domNode.style.fontFamily = this._fontFamily;\n    }\n    setFontWeight(fontWeight) {\n        if (this._fontWeight === fontWeight) {\n            return;\n        }\n        this._fontWeight = fontWeight;\n        this.domNode.style.fontWeight = this._fontWeight;\n    }\n    setFontSize(_fontSize) {\n        const fontSize = numberAsPixels(_fontSize);\n        if (this._fontSize === fontSize) {\n            return;\n        }\n        this._fontSize = fontSize;\n        this.domNode.style.fontSize = this._fontSize;\n    }\n    setFontStyle(fontStyle) {\n        if (this._fontStyle === fontStyle) {\n            return;\n        }\n        this._fontStyle = fontStyle;\n        this.domNode.style.fontStyle = this._fontStyle;\n    }\n    setFontFeatureSettings(fontFeatureSettings) {\n        if (this._fontFeatureSettings === fontFeatureSettings) {\n            return;\n        }\n        this._fontFeatureSettings = fontFeatureSettings;\n        this.domNode.style.fontFeatureSettings = this._fontFeatureSettings;\n    }\n    setFontVariationSettings(fontVariationSettings) {\n        if (this._fontVariationSettings === fontVariationSettings) {\n            return;\n        }\n        this._fontVariationSettings = fontVariationSettings;\n        this.domNode.style.fontVariationSettings = this._fontVariationSettings;\n    }\n    setTextDecoration(textDecoration) {\n        if (this._textDecoration === textDecoration) {\n            return;\n        }\n        this._textDecoration = textDecoration;\n        this.domNode.style.textDecoration = this._textDecoration;\n    }\n    setLineHeight(_lineHeight) {\n        const lineHeight = numberAsPixels(_lineHeight);\n        if (this._lineHeight === lineHeight) {\n            return;\n        }\n        this._lineHeight = lineHeight;\n        this.domNode.style.lineHeight = this._lineHeight;\n    }\n    setLetterSpacing(_letterSpacing) {\n        const letterSpacing = numberAsPixels(_letterSpacing);\n        if (this._letterSpacing === letterSpacing) {\n            return;\n        }\n        this._letterSpacing = letterSpacing;\n        this.domNode.style.letterSpacing = this._letterSpacing;\n    }\n    setClassName(className) {\n        if (this._className === className) {\n            return;\n        }\n        this._className = className;\n        this.domNode.className = this._className;\n    }\n    toggleClassName(className, shouldHaveIt) {\n        this.domNode.classList.toggle(className, shouldHaveIt);\n        this._className = this.domNode.className;\n    }\n    setDisplay(display) {\n        if (this._display === display) {\n            return;\n        }\n        this._display = display;\n        this.domNode.style.display = this._display;\n    }\n    setPosition(position) {\n        if (this._position === position) {\n            return;\n        }\n        this._position = position;\n        this.domNode.style.position = this._position;\n    }\n    setVisibility(visibility) {\n        if (this._visibility === visibility) {\n            return;\n        }\n        this._visibility = visibility;\n        this.domNode.style.visibility = this._visibility;\n    }\n    setColor(color) {\n        if (this._color === color) {\n            return;\n        }\n        this._color = color;\n        this.domNode.style.color = this._color;\n    }\n    setBackgroundColor(backgroundColor) {\n        if (this._backgroundColor === backgroundColor) {\n            return;\n        }\n        this._backgroundColor = backgroundColor;\n        this.domNode.style.backgroundColor = this._backgroundColor;\n    }\n    setLayerHinting(layerHint) {\n        if (this._layerHint === layerHint) {\n            return;\n        }\n        this._layerHint = layerHint;\n        this.domNode.style.transform = this._layerHint ? 'translate3d(0px, 0px, 0px)' : '';\n    }\n    setBoxShadow(boxShadow) {\n        if (this._boxShadow === boxShadow) {\n            return;\n        }\n        this._boxShadow = boxShadow;\n        this.domNode.style.boxShadow = boxShadow;\n    }\n    setContain(contain) {\n        if (this._contain === contain) {\n            return;\n        }\n        this._contain = contain;\n        this.domNode.style.contain = this._contain;\n    }\n    setAttribute(name, value) {\n        this.domNode.setAttribute(name, value);\n    }\n    removeAttribute(name) {\n        this.domNode.removeAttribute(name);\n    }\n    appendChild(child) {\n        this.domNode.appendChild(child.domNode);\n    }\n    removeChild(child) {\n        this.domNode.removeChild(child.domNode);\n    }\n}\nfunction numberAsPixels(value) {\n    return (typeof value === 'number' ? `${value}px` : value);\n}\nexport function createFastDomNode(domNode) {\n    return new FastDomNode(domNode);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as DOM from './dom.js';\nexport function renderText(text, options = {}) {\n    const element = createElement(options);\n    element.textContent = text;\n    return element;\n}\nexport function renderFormattedText(formattedText, options = {}) {\n    const element = createElement(options);\n    _renderFormattedText(element, parseFormattedText(formattedText, !!options.renderCodeSegments), options.actionHandler, options.renderCodeSegments);\n    return element;\n}\nexport function createElement(options) {\n    const tagName = options.inline ? 'span' : 'div';\n    const element = document.createElement(tagName);\n    if (options.className) {\n        element.className = options.className;\n    }\n    return element;\n}\nclass StringStream {\n    constructor(source) {\n        this.source = source;\n        this.index = 0;\n    }\n    eos() {\n        return this.index >= this.source.length;\n    }\n    next() {\n        const next = this.peek();\n        this.advance();\n        return next;\n    }\n    peek() {\n        return this.source[this.index];\n    }\n    advance() {\n        this.index++;\n    }\n}\nfunction _renderFormattedText(element, treeNode, actionHandler, renderCodeSegments) {\n    let child;\n    if (treeNode.type === 2 /* FormatType.Text */) {\n        child = document.createTextNode(treeNode.content || '');\n    }\n    else if (treeNode.type === 3 /* FormatType.Bold */) {\n        child = document.createElement('b');\n    }\n    else if (treeNode.type === 4 /* FormatType.Italics */) {\n        child = document.createElement('i');\n    }\n    else if (treeNode.type === 7 /* FormatType.Code */ && renderCodeSegments) {\n        child = document.createElement('code');\n    }\n    else if (treeNode.type === 5 /* FormatType.Action */ && actionHandler) {\n        const a = document.createElement('a');\n        actionHandler.disposables.add(DOM.addStandardDisposableListener(a, 'click', (event) => {\n            actionHandler.callback(String(treeNode.index), event);\n        }));\n        child = a;\n    }\n    else if (treeNode.type === 8 /* FormatType.NewLine */) {\n        child = document.createElement('br');\n    }\n    else if (treeNode.type === 1 /* FormatType.Root */) {\n        child = element;\n    }\n    if (child && element !== child) {\n        element.appendChild(child);\n    }\n    if (child && Array.isArray(treeNode.children)) {\n        treeNode.children.forEach((nodeChild) => {\n            _renderFormattedText(child, nodeChild, actionHandler, renderCodeSegments);\n        });\n    }\n}\nfunction parseFormattedText(content, parseCodeSegments) {\n    const root = {\n        type: 1 /* FormatType.Root */,\n        children: []\n    };\n    let actionViewItemIndex = 0;\n    let current = root;\n    const stack = [];\n    const stream = new StringStream(content);\n    while (!stream.eos()) {\n        let next = stream.next();\n        const isEscapedFormatType = (next === '\\\\' && formatTagType(stream.peek(), parseCodeSegments) !== 0 /* FormatType.Invalid */);\n        if (isEscapedFormatType) {\n            next = stream.next(); // unread the backslash if it escapes a format tag type\n        }\n        if (!isEscapedFormatType && isFormatTag(next, parseCodeSegments) && next === stream.peek()) {\n            stream.advance();\n            if (current.type === 2 /* FormatType.Text */) {\n                current = stack.pop();\n            }\n            const type = formatTagType(next, parseCodeSegments);\n            if (current.type === type || (current.type === 5 /* FormatType.Action */ && type === 6 /* FormatType.ActionClose */)) {\n                current = stack.pop();\n            }\n            else {\n                const newCurrent = {\n                    type: type,\n                    children: []\n                };\n                if (type === 5 /* FormatType.Action */) {\n                    newCurrent.index = actionViewItemIndex;\n                    actionViewItemIndex++;\n                }\n                current.children.push(newCurrent);\n                stack.push(current);\n                current = newCurrent;\n            }\n        }\n        else if (next === '\\n') {\n            if (current.type === 2 /* FormatType.Text */) {\n                current = stack.pop();\n            }\n            current.children.push({\n                type: 8 /* FormatType.NewLine */\n            });\n        }\n        else {\n            if (current.type !== 2 /* FormatType.Text */) {\n                const textCurrent = {\n                    type: 2 /* FormatType.Text */,\n                    content: next\n                };\n                current.children.push(textCurrent);\n                stack.push(current);\n                current = textCurrent;\n            }\n            else {\n                current.content += next;\n            }\n        }\n    }\n    if (current.type === 2 /* FormatType.Text */) {\n        current = stack.pop();\n    }\n    if (stack.length) {\n        // incorrectly formatted string literal\n    }\n    return root;\n}\nfunction isFormatTag(char, supportCodeSegments) {\n    return formatTagType(char, supportCodeSegments) !== 0 /* FormatType.Invalid */;\n}\nfunction formatTagType(char, supportCodeSegments) {\n    switch (char) {\n        case '*':\n            return 3 /* FormatType.Bold */;\n        case '_':\n            return 4 /* FormatType.Italics */;\n        case '[':\n            return 5 /* FormatType.Action */;\n        case ']':\n            return 6 /* FormatType.ActionClose */;\n        case '`':\n            return supportCodeSegments ? 7 /* FormatType.Code */ : 0 /* FormatType.Invalid */;\n        default:\n            return 0 /* FormatType.Invalid */;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from './dom.js';\nimport { DisposableStore, toDisposable } from '../common/lifecycle.js';\nexport class GlobalPointerMoveMonitor {\n    constructor() {\n        this._hooks = new DisposableStore();\n        this._pointerMoveCallback = null;\n        this._onStopCallback = null;\n    }\n    dispose() {\n        this.stopMonitoring(false);\n        this._hooks.dispose();\n    }\n    stopMonitoring(invokeStopCallback, browserEvent) {\n        if (!this.isMonitoring()) {\n            // Not monitoring\n            return;\n        }\n        // Unhook\n        this._hooks.clear();\n        this._pointerMoveCallback = null;\n        const onStopCallback = this._onStopCallback;\n        this._onStopCallback = null;\n        if (invokeStopCallback && onStopCallback) {\n            onStopCallback(browserEvent);\n        }\n    }\n    isMonitoring() {\n        return !!this._pointerMoveCallback;\n    }\n    startMonitoring(initialElement, pointerId, initialButtons, pointerMoveCallback, onStopCallback) {\n        if (this.isMonitoring()) {\n            this.stopMonitoring(false);\n        }\n        this._pointerMoveCallback = pointerMoveCallback;\n        this._onStopCallback = onStopCallback;\n        let eventSource = initialElement;\n        try {\n            initialElement.setPointerCapture(pointerId);\n            this._hooks.add(toDisposable(() => {\n                try {\n                    initialElement.releasePointerCapture(pointerId);\n                }\n                catch (err) {\n                    // See https://github.com/microsoft/vscode/issues/161731\n                    //\n                    // `releasePointerCapture` sometimes fails when being invoked with the exception:\n                    //     DOMException: Failed to execute 'releasePointerCapture' on 'Element':\n                    //     No active pointer with the given id is found.\n                    //\n                    // There's no need to do anything in case of failure\n                }\n            }));\n        }\n        catch (err) {\n            // See https://github.com/microsoft/vscode/issues/144584\n            // See https://github.com/microsoft/vscode/issues/146947\n            // `setPointerCapture` sometimes fails when being invoked\n            // from a `mousedown` listener on macOS and Windows\n            // and it always fails on Linux with the exception:\n            //     DOMException: Failed to execute 'setPointerCapture' on 'Element':\n            //     No active pointer with the given id is found.\n            // In case of failure, we bind the listeners on the window\n            eventSource = window;\n        }\n        this._hooks.add(dom.addDisposableListener(eventSource, dom.EventType.POINTER_MOVE, (e) => {\n            if (e.buttons !== initialButtons) {\n                // Buttons state has changed in the meantime\n                this.stopMonitoring(true);\n                return;\n            }\n            e.preventDefault();\n            this._pointerMoveCallback(e);\n        }));\n        this._hooks.add(dom.addDisposableListener(eventSource, dom.EventType.POINTER_UP, (e) => this.stopMonitoring(true)));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { EVENT_KEY_CODE_MAP, KeyCodeUtils } from '../common/keyCodes.js';\nimport { KeyCodeChord } from '../common/keybindings.js';\nimport * as platform from '../common/platform.js';\nfunction extractKeyCode(e) {\n    if (e.charCode) {\n        // \"keypress\" events mostly\n        const char = String.fromCharCode(e.charCode).toUpperCase();\n        return KeyCodeUtils.fromString(char);\n    }\n    const keyCode = e.keyCode;\n    // browser quirks\n    if (keyCode === 3) {\n        return 7 /* KeyCode.PauseBreak */;\n    }\n    else if (browser.isFirefox) {\n        switch (keyCode) {\n            case 59: return 85 /* KeyCode.Semicolon */;\n            case 60:\n                if (platform.isLinux) {\n                    return 97 /* KeyCode.IntlBackslash */;\n                }\n                break;\n            case 61: return 86 /* KeyCode.Equal */;\n            // based on: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode#numpad_keys\n            case 107: return 109 /* KeyCode.NumpadAdd */;\n            case 109: return 111 /* KeyCode.NumpadSubtract */;\n            case 173: return 88 /* KeyCode.Minus */;\n            case 224:\n                if (platform.isMacintosh) {\n                    return 57 /* KeyCode.Meta */;\n                }\n                break;\n        }\n    }\n    else if (browser.isWebKit) {\n        if (platform.isMacintosh && keyCode === 93) {\n            // the two meta keys in the Mac have different key codes (91 and 93)\n            return 57 /* KeyCode.Meta */;\n        }\n        else if (!platform.isMacintosh && keyCode === 92) {\n            return 57 /* KeyCode.Meta */;\n        }\n    }\n    // cross browser keycodes:\n    return EVENT_KEY_CODE_MAP[keyCode] || 0 /* KeyCode.Unknown */;\n}\nconst ctrlKeyMod = (platform.isMacintosh ? 256 /* KeyMod.WinCtrl */ : 2048 /* KeyMod.CtrlCmd */);\nconst altKeyMod = 512 /* KeyMod.Alt */;\nconst shiftKeyMod = 1024 /* KeyMod.Shift */;\nconst metaKeyMod = (platform.isMacintosh ? 2048 /* KeyMod.CtrlCmd */ : 256 /* KeyMod.WinCtrl */);\nexport class StandardKeyboardEvent {\n    constructor(source) {\n        this._standardKeyboardEventBrand = true;\n        const e = source;\n        this.browserEvent = e;\n        this.target = e.target;\n        this.ctrlKey = e.ctrlKey;\n        this.shiftKey = e.shiftKey;\n        this.altKey = e.altKey;\n        this.metaKey = e.metaKey;\n        this.altGraphKey = e.getModifierState('AltGraph');\n        this.keyCode = extractKeyCode(e);\n        this.code = e.code;\n        // console.info(e.type + \": keyCode: \" + e.keyCode + \", which: \" + e.which + \", charCode: \" + e.charCode + \", detail: \" + e.detail + \" ====> \" + this.keyCode + ' -- ' + KeyCode[this.keyCode]);\n        this.ctrlKey = this.ctrlKey || this.keyCode === 5 /* KeyCode.Ctrl */;\n        this.altKey = this.altKey || this.keyCode === 6 /* KeyCode.Alt */;\n        this.shiftKey = this.shiftKey || this.keyCode === 4 /* KeyCode.Shift */;\n        this.metaKey = this.metaKey || this.keyCode === 57 /* KeyCode.Meta */;\n        this._asKeybinding = this._computeKeybinding();\n        this._asKeyCodeChord = this._computeKeyCodeChord();\n        // console.log(`code: ${e.code}, keyCode: ${e.keyCode}, key: ${e.key}`);\n    }\n    preventDefault() {\n        if (this.browserEvent && this.browserEvent.preventDefault) {\n            this.browserEvent.preventDefault();\n        }\n    }\n    stopPropagation() {\n        if (this.browserEvent && this.browserEvent.stopPropagation) {\n            this.browserEvent.stopPropagation();\n        }\n    }\n    toKeyCodeChord() {\n        return this._asKeyCodeChord;\n    }\n    equals(other) {\n        return this._asKeybinding === other;\n    }\n    _computeKeybinding() {\n        let key = 0 /* KeyCode.Unknown */;\n        if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n            key = this.keyCode;\n        }\n        let result = 0;\n        if (this.ctrlKey) {\n            result |= ctrlKeyMod;\n        }\n        if (this.altKey) {\n            result |= altKeyMod;\n        }\n        if (this.shiftKey) {\n            result |= shiftKeyMod;\n        }\n        if (this.metaKey) {\n            result |= metaKeyMod;\n        }\n        result |= key;\n        return result;\n    }\n    _computeKeyCodeChord() {\n        let key = 0 /* KeyCode.Unknown */;\n        if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n            key = this.keyCode;\n        }\n        return new KeyCodeChord(this.ctrlKey, this.shiftKey, this.altKey, this.metaKey, key);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as DOM from './dom.js';\nimport * as dompurify from './dompurify/dompurify.js';\nimport { DomEmitter } from './event.js';\nimport { createElement } from './formattedTextRenderer.js';\nimport { StandardKeyboardEvent } from './keyboardEvent.js';\nimport { StandardMouseEvent } from './mouseEvent.js';\nimport { renderLabelWithIcons } from './ui/iconLabel/iconLabels.js';\nimport { onUnexpectedError } from '../common/errors.js';\nimport { Event } from '../common/event.js';\nimport { escapeDoubleQuotes, parseHrefAndDimensions, removeMarkdownEscapes } from '../common/htmlContent.js';\nimport { markdownEscapeEscapedIcons } from '../common/iconLabels.js';\nimport { defaultGenerator } from '../common/idGenerator.js';\nimport { Lazy } from '../common/lazy.js';\nimport { DisposableStore } from '../common/lifecycle.js';\nimport { marked } from '../common/marked/marked.js';\nimport { parse } from '../common/marshalling.js';\nimport { FileAccess, Schemas } from '../common/network.js';\nimport { cloneAndChange } from '../common/objects.js';\nimport { dirname, resolvePath } from '../common/resources.js';\nimport { escape } from '../common/strings.js';\nimport { URI } from '../common/uri.js';\nconst defaultMarkedRenderers = Object.freeze({\n    image: (href, title, text) => {\n        let dimensions = [];\n        let attributes = [];\n        if (href) {\n            ({ href, dimensions } = parseHrefAndDimensions(href));\n            attributes.push(`src=\"${escapeDoubleQuotes(href)}\"`);\n        }\n        if (text) {\n            attributes.push(`alt=\"${escapeDoubleQuotes(text)}\"`);\n        }\n        if (title) {\n            attributes.push(`title=\"${escapeDoubleQuotes(title)}\"`);\n        }\n        if (dimensions.length) {\n            attributes = attributes.concat(dimensions);\n        }\n        return '<img ' + attributes.join(' ') + '>';\n    },\n    paragraph: (text) => {\n        return `<p>${text}</p>`;\n    },\n    link: (href, title, text) => {\n        if (typeof href !== 'string') {\n            return '';\n        }\n        // Remove markdown escapes. Workaround for https://github.com/chjj/marked/issues/829\n        if (href === text) { // raw link case\n            text = removeMarkdownEscapes(text);\n        }\n        title = typeof title === 'string' ? escapeDoubleQuotes(removeMarkdownEscapes(title)) : '';\n        href = removeMarkdownEscapes(href);\n        // HTML Encode href\n        href = href.replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/'/g, '&#39;');\n        return `<a href=\"${href}\" title=\"${title || href}\">${text}</a>`;\n    },\n});\n/**\n * Low-level way create a html element from a markdown string.\n *\n * **Note** that for most cases you should be using [`MarkdownRenderer`](./src/vs/editor/contrib/markdownRenderer/browser/markdownRenderer.ts)\n * which comes with support for pretty code block rendering and which uses the default way of handling links.\n */\nexport function renderMarkdown(markdown, options = {}, markedOptions = {}) {\n    var _a, _b;\n    const disposables = new DisposableStore();\n    let isDisposed = false;\n    const element = createElement(options);\n    const _uriMassage = function (part) {\n        let data;\n        try {\n            data = parse(decodeURIComponent(part));\n        }\n        catch (e) {\n            // ignore\n        }\n        if (!data) {\n            return part;\n        }\n        data = cloneAndChange(data, value => {\n            if (markdown.uris && markdown.uris[value]) {\n                return URI.revive(markdown.uris[value]);\n            }\n            else {\n                return undefined;\n            }\n        });\n        return encodeURIComponent(JSON.stringify(data));\n    };\n    const _href = function (href, isDomUri) {\n        const data = markdown.uris && markdown.uris[href];\n        let uri = URI.revive(data);\n        if (isDomUri) {\n            if (href.startsWith(Schemas.data + ':')) {\n                return href;\n            }\n            if (!uri) {\n                uri = URI.parse(href);\n            }\n            // this URI will end up as \"src\"-attribute of a dom node\n            // and because of that special rewriting needs to be done\n            // so that the URI uses a protocol that's understood by\n            // browsers (like http or https)\n            return FileAccess.uriToBrowserUri(uri).toString(true);\n        }\n        if (!uri) {\n            return href;\n        }\n        if (URI.parse(href).toString() === uri.toString()) {\n            return href; // no transformation performed\n        }\n        if (uri.query) {\n            uri = uri.with({ query: _uriMassage(uri.query) });\n        }\n        return uri.toString();\n    };\n    const renderer = new marked.Renderer();\n    renderer.image = defaultMarkedRenderers.image;\n    renderer.link = defaultMarkedRenderers.link;\n    renderer.paragraph = defaultMarkedRenderers.paragraph;\n    // Will collect [id, renderedElement] tuples\n    const codeBlocks = [];\n    const syncCodeBlocks = [];\n    if (options.codeBlockRendererSync) {\n        renderer.code = (code, lang) => {\n            const id = defaultGenerator.nextId();\n            const value = options.codeBlockRendererSync(postProcessCodeBlockLanguageId(lang), code);\n            syncCodeBlocks.push([id, value]);\n            return `<div class=\"code\" data-code=\"${id}\">${escape(code)}</div>`;\n        };\n    }\n    else if (options.codeBlockRenderer) {\n        renderer.code = (code, lang) => {\n            const id = defaultGenerator.nextId();\n            const value = options.codeBlockRenderer(postProcessCodeBlockLanguageId(lang), code);\n            codeBlocks.push(value.then(element => [id, element]));\n            return `<div class=\"code\" data-code=\"${id}\">${escape(code)}</div>`;\n        };\n    }\n    if (options.actionHandler) {\n        const _activateLink = function (event) {\n            let target = event.target;\n            if (target.tagName !== 'A') {\n                target = target.parentElement;\n                if (!target || target.tagName !== 'A') {\n                    return;\n                }\n            }\n            try {\n                let href = target.dataset['href'];\n                if (href) {\n                    if (markdown.baseUri) {\n                        href = resolveWithBaseUri(URI.from(markdown.baseUri), href);\n                    }\n                    options.actionHandler.callback(href, event);\n                }\n            }\n            catch (err) {\n                onUnexpectedError(err);\n            }\n            finally {\n                event.preventDefault();\n            }\n        };\n        const onClick = options.actionHandler.disposables.add(new DomEmitter(element, 'click'));\n        const onAuxClick = options.actionHandler.disposables.add(new DomEmitter(element, 'auxclick'));\n        options.actionHandler.disposables.add(Event.any(onClick.event, onAuxClick.event)(e => {\n            const mouseEvent = new StandardMouseEvent(e);\n            if (!mouseEvent.leftButton && !mouseEvent.middleButton) {\n                return;\n            }\n            _activateLink(mouseEvent);\n        }));\n        options.actionHandler.disposables.add(DOM.addDisposableListener(element, 'keydown', (e) => {\n            const keyboardEvent = new StandardKeyboardEvent(e);\n            if (!keyboardEvent.equals(10 /* KeyCode.Space */) && !keyboardEvent.equals(3 /* KeyCode.Enter */)) {\n                return;\n            }\n            _activateLink(keyboardEvent);\n        }));\n    }\n    if (!markdown.supportHtml) {\n        // TODO: Can we deprecated this in favor of 'supportHtml'?\n        // Use our own sanitizer so that we can let through only spans.\n        // Otherwise, we'd be letting all html be rendered.\n        // If we want to allow markdown permitted tags, then we can delete sanitizer and sanitize.\n        // We always pass the output through dompurify after this so that we don't rely on\n        // marked for sanitization.\n        markedOptions.sanitizer = (html) => {\n            const match = markdown.isTrusted ? html.match(/^(<span[^>]+>)|(<\\/\\s*span>)$/) : undefined;\n            return match ? html : '';\n        };\n        markedOptions.sanitize = true;\n        markedOptions.silent = true;\n    }\n    markedOptions.renderer = renderer;\n    // values that are too long will freeze the UI\n    let value = (_a = markdown.value) !== null && _a !== void 0 ? _a : '';\n    if (value.length > 100000) {\n        value = `${value.substr(0, 100000)}…`;\n    }\n    // escape theme icons\n    if (markdown.supportThemeIcons) {\n        value = markdownEscapeEscapedIcons(value);\n    }\n    let renderedMarkdown;\n    if (options.fillInIncompleteTokens) {\n        // The defaults are applied by parse but not lexer()/parser(), and they need to be present\n        const opts = Object.assign(Object.assign({}, marked.defaults), markedOptions);\n        const tokens = marked.lexer(value, opts);\n        const newTokens = fillInIncompleteTokens(tokens);\n        renderedMarkdown = marked.parser(newTokens, opts);\n    }\n    else {\n        renderedMarkdown = marked.parse(value, markedOptions);\n    }\n    // Rewrite theme icons\n    if (markdown.supportThemeIcons) {\n        const elements = renderLabelWithIcons(renderedMarkdown);\n        renderedMarkdown = elements.map(e => typeof e === 'string' ? e : e.outerHTML).join('');\n    }\n    const htmlParser = new DOMParser();\n    const markdownHtmlDoc = htmlParser.parseFromString(sanitizeRenderedMarkdown(markdown, renderedMarkdown), 'text/html');\n    markdownHtmlDoc.body.querySelectorAll('img')\n        .forEach(img => {\n        const src = img.getAttribute('src'); // Get the raw 'src' attribute value as text, not the resolved 'src'\n        if (src) {\n            let href = src;\n            try {\n                if (markdown.baseUri) { // absolute or relative local path, or file: uri\n                    href = resolveWithBaseUri(URI.from(markdown.baseUri), href);\n                }\n            }\n            catch (err) { }\n            img.src = _href(href, true);\n        }\n    });\n    markdownHtmlDoc.body.querySelectorAll('a')\n        .forEach(a => {\n        const href = a.getAttribute('href'); // Get the raw 'href' attribute value as text, not the resolved 'href'\n        a.setAttribute('href', ''); // Clear out href. We use the `data-href` for handling clicks instead\n        if (!href\n            || /^data:|javascript:/i.test(href)\n            || (/^command:/i.test(href) && !markdown.isTrusted)\n            || /^command:(\\/\\/\\/)?_workbench\\.downloadResource/i.test(href)) {\n            // drop the link\n            a.replaceWith(...a.childNodes);\n        }\n        else {\n            let resolvedHref = _href(href, false);\n            if (markdown.baseUri) {\n                resolvedHref = resolveWithBaseUri(URI.from(markdown.baseUri), href);\n            }\n            a.dataset.href = resolvedHref;\n        }\n    });\n    element.innerHTML = sanitizeRenderedMarkdown(markdown, markdownHtmlDoc.body.innerHTML);\n    if (codeBlocks.length > 0) {\n        Promise.all(codeBlocks).then((tuples) => {\n            var _a, _b;\n            if (isDisposed) {\n                return;\n            }\n            const renderedElements = new Map(tuples);\n            const placeholderElements = element.querySelectorAll(`div[data-code]`);\n            for (const placeholderElement of placeholderElements) {\n                const renderedElement = renderedElements.get((_a = placeholderElement.dataset['code']) !== null && _a !== void 0 ? _a : '');\n                if (renderedElement) {\n                    DOM.reset(placeholderElement, renderedElement);\n                }\n            }\n            (_b = options.asyncRenderCallback) === null || _b === void 0 ? void 0 : _b.call(options);\n        });\n    }\n    else if (syncCodeBlocks.length > 0) {\n        const renderedElements = new Map(syncCodeBlocks);\n        const placeholderElements = element.querySelectorAll(`div[data-code]`);\n        for (const placeholderElement of placeholderElements) {\n            const renderedElement = renderedElements.get((_b = placeholderElement.dataset['code']) !== null && _b !== void 0 ? _b : '');\n            if (renderedElement) {\n                DOM.reset(placeholderElement, renderedElement);\n            }\n        }\n    }\n    // signal size changes for image tags\n    if (options.asyncRenderCallback) {\n        for (const img of element.getElementsByTagName('img')) {\n            const listener = disposables.add(DOM.addDisposableListener(img, 'load', () => {\n                listener.dispose();\n                options.asyncRenderCallback();\n            }));\n        }\n    }\n    return {\n        element,\n        dispose: () => {\n            isDisposed = true;\n            disposables.dispose();\n        }\n    };\n}\nfunction postProcessCodeBlockLanguageId(lang) {\n    if (!lang) {\n        return '';\n    }\n    const parts = lang.split(/[\\s+|:|,|\\{|\\?]/, 1);\n    if (parts.length) {\n        return parts[0];\n    }\n    return lang;\n}\nfunction resolveWithBaseUri(baseUri, href) {\n    const hasScheme = /^\\w[\\w\\d+.-]*:/.test(href);\n    if (hasScheme) {\n        return href;\n    }\n    if (baseUri.path.endsWith('/')) {\n        return resolvePath(baseUri, href).toString();\n    }\n    else {\n        return resolvePath(dirname(baseUri), href).toString();\n    }\n}\nfunction sanitizeRenderedMarkdown(options, renderedMarkdown) {\n    const { config, allowedSchemes } = getSanitizerOptions(options);\n    dompurify.addHook('uponSanitizeAttribute', (element, e) => {\n        if (e.attrName === 'style' || e.attrName === 'class') {\n            if (element.tagName === 'SPAN') {\n                if (e.attrName === 'style') {\n                    e.keepAttr = /^(color\\:(#[0-9a-fA-F]+|var\\(--vscode(-[a-zA-Z]+)+\\));)?(background-color\\:(#[0-9a-fA-F]+|var\\(--vscode(-[a-zA-Z]+)+\\));)?$/.test(e.attrValue);\n                    return;\n                }\n                else if (e.attrName === 'class') {\n                    e.keepAttr = /^codicon codicon-[a-z\\-]+( codicon-modifier-[a-z\\-]+)?$/.test(e.attrValue);\n                    return;\n                }\n            }\n            e.keepAttr = false;\n            return;\n        }\n    });\n    const hook = DOM.hookDomPurifyHrefAndSrcSanitizer(allowedSchemes);\n    try {\n        return dompurify.sanitize(renderedMarkdown, Object.assign(Object.assign({}, config), { RETURN_TRUSTED_TYPE: true }));\n    }\n    finally {\n        dompurify.removeHook('uponSanitizeAttribute');\n        hook.dispose();\n    }\n}\nexport const allowedMarkdownAttr = [\n    'align',\n    'autoplay',\n    'alt',\n    'class',\n    'controls',\n    'data-code',\n    'data-href',\n    'height',\n    'href',\n    'loop',\n    'muted',\n    'playsinline',\n    'poster',\n    'src',\n    'style',\n    'target',\n    'title',\n    'width',\n    'start',\n];\nfunction getSanitizerOptions(options) {\n    const allowedSchemes = [\n        Schemas.http,\n        Schemas.https,\n        Schemas.mailto,\n        Schemas.data,\n        Schemas.file,\n        Schemas.vscodeFileResource,\n        Schemas.vscodeRemote,\n        Schemas.vscodeRemoteResource,\n    ];\n    if (options.isTrusted) {\n        allowedSchemes.push(Schemas.command);\n    }\n    return {\n        config: {\n            // allowedTags should included everything that markdown renders to.\n            // Since we have our own sanitize function for marked, it's possible we missed some tag so let dompurify make sure.\n            // HTML tags that can result from markdown are from reading https://spec.commonmark.org/0.29/\n            // HTML table tags that can result from markdown are from https://github.github.com/gfm/#tables-extension-\n            ALLOWED_TAGS: [...DOM.basicMarkupHtmlTags],\n            ALLOWED_ATTR: allowedMarkdownAttr,\n            ALLOW_UNKNOWN_PROTOCOLS: true,\n        },\n        allowedSchemes\n    };\n}\n/**\n * Strips all markdown from `string`, if it's an IMarkdownString. For example\n * `# Header` would be output as `Header`. If it's not, the string is returned.\n */\nexport function renderStringAsPlaintext(string) {\n    return typeof string === 'string' ? string : renderMarkdownAsPlaintext(string);\n}\n/**\n * Strips all markdown from `markdown`. For example `# Header` would be output as `Header`.\n */\nexport function renderMarkdownAsPlaintext(markdown) {\n    var _a;\n    // values that are too long will freeze the UI\n    let value = (_a = markdown.value) !== null && _a !== void 0 ? _a : '';\n    if (value.length > 100000) {\n        value = `${value.substr(0, 100000)}…`;\n    }\n    const html = marked.parse(value, { renderer: plainTextRenderer.value }).replace(/&(#\\d+|[a-zA-Z]+);/g, m => { var _a; return (_a = unescapeInfo.get(m)) !== null && _a !== void 0 ? _a : m; });\n    return sanitizeRenderedMarkdown({ isTrusted: false }, html).toString();\n}\nconst unescapeInfo = new Map([\n    ['&quot;', '\"'],\n    ['&nbsp;', ' '],\n    ['&amp;', '&'],\n    ['&#39;', '\\''],\n    ['&lt;', '<'],\n    ['&gt;', '>'],\n]);\nconst plainTextRenderer = new Lazy(() => {\n    const renderer = new marked.Renderer();\n    renderer.code = (code) => {\n        return code;\n    };\n    renderer.blockquote = (quote) => {\n        return quote;\n    };\n    renderer.html = (_html) => {\n        return '';\n    };\n    renderer.heading = (text, _level, _raw) => {\n        return text + '\\n';\n    };\n    renderer.hr = () => {\n        return '';\n    };\n    renderer.list = (body, _ordered) => {\n        return body;\n    };\n    renderer.listitem = (text) => {\n        return text + '\\n';\n    };\n    renderer.paragraph = (text) => {\n        return text + '\\n';\n    };\n    renderer.table = (header, body) => {\n        return header + body + '\\n';\n    };\n    renderer.tablerow = (content) => {\n        return content;\n    };\n    renderer.tablecell = (content, _flags) => {\n        return content + ' ';\n    };\n    renderer.strong = (text) => {\n        return text;\n    };\n    renderer.em = (text) => {\n        return text;\n    };\n    renderer.codespan = (code) => {\n        return code;\n    };\n    renderer.br = () => {\n        return '\\n';\n    };\n    renderer.del = (text) => {\n        return text;\n    };\n    renderer.image = (_href, _title, _text) => {\n        return '';\n    };\n    renderer.text = (text) => {\n        return text;\n    };\n    renderer.link = (_href, _title, text) => {\n        return text;\n    };\n    return renderer;\n});\nfunction mergeRawTokenText(tokens) {\n    let mergedTokenText = '';\n    tokens.forEach(token => {\n        mergedTokenText += token.raw;\n    });\n    return mergedTokenText;\n}\nfunction completeSingleLinePattern(token) {\n    for (const subtoken of token.tokens) {\n        if (subtoken.type === 'text') {\n            const lines = subtoken.raw.split('\\n');\n            const lastLine = lines[lines.length - 1];\n            if (lastLine.includes('`')) {\n                return completeCodespan(token);\n            }\n            else if (lastLine.includes('**')) {\n                return completeDoublestar(token);\n            }\n            else if (lastLine.match(/\\*\\w/)) {\n                return completeStar(token);\n            }\n            else if (lastLine.match(/(^|\\s)__\\w/)) {\n                return completeDoubleUnderscore(token);\n            }\n            else if (lastLine.match(/(^|\\s)_\\w/)) {\n                return completeUnderscore(token);\n            }\n            else if (lastLine.match(/(^|\\s)\\[.*\\]\\(\\w*/)) {\n                return completeLinkTarget(token);\n            }\n            else if (lastLine.match(/(^|\\s)\\[\\w/)) {\n                return completeLinkText(token);\n            }\n        }\n    }\n    return undefined;\n}\n// function completeListItemPattern(token: marked.Tokens.List): marked.Tokens.List | undefined {\n// \t// Patch up this one list item\n// \tconst lastItem = token.items[token.items.length - 1];\n// \tconst newList = completeSingleLinePattern(lastItem);\n// \tif (!newList || newList.type !== 'list') {\n// \t\t// Nothing to fix, or not a pattern we were expecting\n// \t\treturn;\n// \t}\n// \t// Re-parse the whole list with the last item replaced\n// \tconst completeList = marked.lexer(mergeRawTokenText(token.items.slice(0, token.items.length - 1)) + newList.items[0].raw);\n// \tif (completeList.length === 1 && completeList[0].type === 'list') {\n// \t\treturn completeList[0];\n// \t}\n// \t// Not a pattern we were expecting\n// \treturn undefined;\n// }\nexport function fillInIncompleteTokens(tokens) {\n    let i;\n    let newTokens;\n    for (i = 0; i < tokens.length; i++) {\n        const token = tokens[i];\n        if (token.type === 'paragraph' && token.raw.match(/(\\n|^)```/)) {\n            // If the code block was complete, it would be in a type='code'\n            newTokens = completeCodeBlock(tokens.slice(i));\n            break;\n        }\n        if (token.type === 'paragraph' && token.raw.match(/(\\n|^)\\|/)) {\n            newTokens = completeTable(tokens.slice(i));\n            break;\n        }\n        // if (i === tokens.length - 1 && token.type === 'list') {\n        // \tconst newListToken = completeListItemPattern(token);\n        // \tif (newListToken) {\n        // \t\tnewTokens = [newListToken];\n        // \t\tbreak;\n        // \t}\n        // }\n        if (i === tokens.length - 1 && token.type === 'paragraph') {\n            // Only operates on a single token, because any newline that follows this should break these patterns\n            const newToken = completeSingleLinePattern(token);\n            if (newToken) {\n                newTokens = [newToken];\n                break;\n            }\n        }\n    }\n    if (newTokens) {\n        const newTokensList = [\n            ...tokens.slice(0, i),\n            ...newTokens\n        ];\n        newTokensList.links = tokens.links;\n        return newTokensList;\n    }\n    return tokens;\n}\nfunction completeCodeBlock(tokens) {\n    const mergedRawText = mergeRawTokenText(tokens);\n    return marked.lexer(mergedRawText + '\\n```');\n}\nfunction completeCodespan(token) {\n    return completeWithString(token, '`');\n}\nfunction completeStar(tokens) {\n    return completeWithString(tokens, '*');\n}\nfunction completeUnderscore(tokens) {\n    return completeWithString(tokens, '_');\n}\nfunction completeLinkTarget(tokens) {\n    return completeWithString(tokens, ')');\n}\nfunction completeLinkText(tokens) {\n    return completeWithString(tokens, '](about:blank)');\n}\nfunction completeDoublestar(tokens) {\n    return completeWithString(tokens, '**');\n}\nfunction completeDoubleUnderscore(tokens) {\n    return completeWithString(tokens, '__');\n}\nfunction completeWithString(tokens, closingString) {\n    const mergedRawText = mergeRawTokenText(Array.isArray(tokens) ? tokens : [tokens]);\n    // If it was completed correctly, this should be a single token.\n    // Expecting either a Paragraph or a List\n    return marked.lexer(mergedRawText + closingString)[0];\n}\nfunction completeTable(tokens) {\n    const mergedRawText = mergeRawTokenText(tokens);\n    const lines = mergedRawText.split('\\n');\n    let numCols; // The number of line1 col headers\n    let hasSeparatorRow = false;\n    for (let i = 0; i < lines.length; i++) {\n        const line = lines[i].trim();\n        if (typeof numCols === 'undefined' && line.match(/^\\s*\\|/)) {\n            const line1Matches = line.match(/(\\|[^\\|]+)(?=\\||$)/g);\n            if (line1Matches) {\n                numCols = line1Matches.length;\n            }\n        }\n        else if (typeof numCols === 'number') {\n            if (line.match(/^\\s*\\|/)) {\n                if (i !== lines.length - 1) {\n                    // We got the line1 header row, and the line2 separator row, but there are more lines, and it wasn't parsed as a table!\n                    // That's strange and means that the table is probably malformed in the source, so I won't try to patch it up.\n                    return undefined;\n                }\n                // Got a line2 separator row- partial or complete, doesn't matter, we'll replace it with a correct one\n                hasSeparatorRow = true;\n            }\n            else {\n                // The line after the header row isn't a valid separator row, so the table is malformed, don't fix it up\n                return undefined;\n            }\n        }\n    }\n    if (typeof numCols === 'number' && numCols > 0) {\n        const prefixText = hasSeparatorRow ? lines.slice(0, -1).join('\\n') : mergedRawText;\n        const line1EndsInPipe = !!prefixText.match(/\\|\\s*$/);\n        const newRawText = prefixText + (line1EndsInPipe ? '' : '|') + `\\n|${' --- |'.repeat(numCols)}`;\n        return marked.lexer(newRawText);\n    }\n    return undefined;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nlet hasDifferentOriginAncestorFlag = false;\nlet sameOriginWindowChainCache = null;\nfunction getParentWindowIfSameOrigin(w) {\n    if (!w.parent || w.parent === w) {\n        return null;\n    }\n    // Cannot really tell if we have access to the parent window unless we try to access something in it\n    try {\n        const location = w.location;\n        const parentLocation = w.parent.location;\n        if (location.origin !== 'null' && parentLocation.origin !== 'null' && location.origin !== parentLocation.origin) {\n            hasDifferentOriginAncestorFlag = true;\n            return null;\n        }\n    }\n    catch (e) {\n        hasDifferentOriginAncestorFlag = true;\n        return null;\n    }\n    return w.parent;\n}\nexport class IframeUtils {\n    /**\n     * Returns a chain of embedded windows with the same origin (which can be accessed programmatically).\n     * Having a chain of length 1 might mean that the current execution environment is running outside of an iframe or inside an iframe embedded in a window with a different origin.\n     * To distinguish if at one point the current execution environment is running inside a window with a different origin, see hasDifferentOriginAncestor()\n     */\n    static getSameOriginWindowChain() {\n        if (!sameOriginWindowChainCache) {\n            sameOriginWindowChainCache = [];\n            let w = window;\n            let parent;\n            do {\n                parent = getParentWindowIfSameOrigin(w);\n                if (parent) {\n                    sameOriginWindowChainCache.push({\n                        window: w,\n                        iframeElement: w.frameElement || null\n                    });\n                }\n                else {\n                    sameOriginWindowChainCache.push({\n                        window: w,\n                        iframeElement: null\n                    });\n                }\n                w = parent;\n            } while (w);\n        }\n        return sameOriginWindowChainCache.slice(0);\n    }\n    /**\n     * Returns the position of `childWindow` relative to `ancestorWindow`\n     */\n    static getPositionOfChildWindowRelativeToAncestorWindow(childWindow, ancestorWindow) {\n        if (!ancestorWindow || childWindow === ancestorWindow) {\n            return {\n                top: 0,\n                left: 0\n            };\n        }\n        let top = 0, left = 0;\n        const windowChain = this.getSameOriginWindowChain();\n        for (const windowChainEl of windowChain) {\n            top += windowChainEl.window.scrollY;\n            left += windowChainEl.window.scrollX;\n            if (windowChainEl.window === ancestorWindow) {\n                break;\n            }\n            if (!windowChainEl.iframeElement) {\n                break;\n            }\n            const boundingRect = windowChainEl.iframeElement.getBoundingClientRect();\n            top += boundingRect.top;\n            left += boundingRect.left;\n        }\n        return {\n            top: top,\n            left: left\n        };\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { IframeUtils } from './iframe.js';\nimport * as platform from '../common/platform.js';\nexport class StandardMouseEvent {\n    constructor(e) {\n        this.timestamp = Date.now();\n        this.browserEvent = e;\n        this.leftButton = e.button === 0;\n        this.middleButton = e.button === 1;\n        this.rightButton = e.button === 2;\n        this.buttons = e.buttons;\n        this.target = e.target;\n        this.detail = e.detail || 1;\n        if (e.type === 'dblclick') {\n            this.detail = 2;\n        }\n        this.ctrlKey = e.ctrlKey;\n        this.shiftKey = e.shiftKey;\n        this.altKey = e.altKey;\n        this.metaKey = e.metaKey;\n        if (typeof e.pageX === 'number') {\n            this.posx = e.pageX;\n            this.posy = e.pageY;\n        }\n        else {\n            // Probably hit by MSGestureEvent\n            this.posx = e.clientX + this.target.ownerDocument.body.scrollLeft + this.target.ownerDocument.documentElement.scrollLeft;\n            this.posy = e.clientY + this.target.ownerDocument.body.scrollTop + this.target.ownerDocument.documentElement.scrollTop;\n        }\n        // Find the position of the iframe this code is executing in relative to the iframe where the event was captured.\n        const iframeOffsets = IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(window, e.view);\n        this.posx -= iframeOffsets.left;\n        this.posy -= iframeOffsets.top;\n    }\n    preventDefault() {\n        this.browserEvent.preventDefault();\n    }\n    stopPropagation() {\n        this.browserEvent.stopPropagation();\n    }\n}\nexport class StandardWheelEvent {\n    constructor(e, deltaX = 0, deltaY = 0) {\n        this.browserEvent = e || null;\n        this.target = e ? (e.target || e.targetNode || e.srcElement) : null;\n        this.deltaY = deltaY;\n        this.deltaX = deltaX;\n        if (e) {\n            // Old (deprecated) wheel events\n            const e1 = e;\n            const e2 = e;\n            // vertical delta scroll\n            if (typeof e1.wheelDeltaY !== 'undefined') {\n                this.deltaY = e1.wheelDeltaY / 120;\n            }\n            else if (typeof e2.VERTICAL_AXIS !== 'undefined' && e2.axis === e2.VERTICAL_AXIS) {\n                this.deltaY = -e2.detail / 3;\n            }\n            else if (e.type === 'wheel') {\n                // Modern wheel event\n                // https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n                const ev = e;\n                if (ev.deltaMode === ev.DOM_DELTA_LINE) {\n                    // the deltas are expressed in lines\n                    if (browser.isFirefox && !platform.isMacintosh) {\n                        this.deltaY = -e.deltaY / 3;\n                    }\n                    else {\n                        this.deltaY = -e.deltaY;\n                    }\n                }\n                else {\n                    this.deltaY = -e.deltaY / 40;\n                }\n            }\n            // horizontal delta scroll\n            if (typeof e1.wheelDeltaX !== 'undefined') {\n                if (browser.isSafari && platform.isWindows) {\n                    this.deltaX = -(e1.wheelDeltaX / 120);\n                }\n                else {\n                    this.deltaX = e1.wheelDeltaX / 120;\n                }\n            }\n            else if (typeof e2.HORIZONTAL_AXIS !== 'undefined' && e2.axis === e2.HORIZONTAL_AXIS) {\n                this.deltaX = -e.detail / 3;\n            }\n            else if (e.type === 'wheel') {\n                // Modern wheel event\n                // https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n                const ev = e;\n                if (ev.deltaMode === ev.DOM_DELTA_LINE) {\n                    // the deltas are expressed in lines\n                    if (browser.isFirefox && !platform.isMacintosh) {\n                        this.deltaX = -e.deltaX / 3;\n                    }\n                    else {\n                        this.deltaX = -e.deltaX;\n                    }\n                }\n                else {\n                    this.deltaX = -e.deltaX / 40;\n                }\n            }\n            // Assume a vertical scroll if nothing else worked\n            if (this.deltaY === 0 && this.deltaX === 0 && e.wheelDelta) {\n                this.deltaY = e.wheelDelta / 120;\n            }\n        }\n    }\n    preventDefault() {\n        var _a;\n        (_a = this.browserEvent) === null || _a === void 0 ? void 0 : _a.preventDefault();\n    }\n    stopPropagation() {\n        var _a;\n        (_a = this.browserEvent) === null || _a === void 0 ? void 0 : _a.stopPropagation();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport var inputLatency;\n(function (inputLatency) {\n    const totalKeydownTime = { total: 0, min: Number.MAX_VALUE, max: 0 };\n    const totalInputTime = Object.assign({}, totalKeydownTime);\n    const totalRenderTime = Object.assign({}, totalKeydownTime);\n    const totalInputLatencyTime = Object.assign({}, totalKeydownTime);\n    let measurementsCount = 0;\n    const state = {\n        keydown: 0 /* EventPhase.Before */,\n        input: 0 /* EventPhase.Before */,\n        render: 0 /* EventPhase.Before */,\n    };\n    /**\n     * Record the start of the keydown event.\n     */\n    function onKeyDown() {\n        /** Direct Check C. See explanation in {@link recordIfFinished} */\n        recordIfFinished();\n        performance.mark('inputlatency/start');\n        performance.mark('keydown/start');\n        state.keydown = 1 /* EventPhase.InProgress */;\n        queueMicrotask(markKeyDownEnd);\n    }\n    inputLatency.onKeyDown = onKeyDown;\n    /**\n     * Mark the end of the keydown event.\n     */\n    function markKeyDownEnd() {\n        if (state.keydown === 1 /* EventPhase.InProgress */) {\n            performance.mark('keydown/end');\n            state.keydown = 2 /* EventPhase.Finished */;\n        }\n    }\n    /**\n     * Record the start of the beforeinput event.\n     */\n    function onBeforeInput() {\n        performance.mark('input/start');\n        state.input = 1 /* EventPhase.InProgress */;\n        /** Schedule Task A. See explanation in {@link recordIfFinished} */\n        scheduleRecordIfFinishedTask();\n    }\n    inputLatency.onBeforeInput = onBeforeInput;\n    /**\n     * Record the start of the input event.\n     */\n    function onInput() {\n        if (state.input === 0 /* EventPhase.Before */) {\n            // it looks like we didn't receive a `beforeinput`\n            onBeforeInput();\n        }\n        queueMicrotask(markInputEnd);\n    }\n    inputLatency.onInput = onInput;\n    function markInputEnd() {\n        if (state.input === 1 /* EventPhase.InProgress */) {\n            performance.mark('input/end');\n            state.input = 2 /* EventPhase.Finished */;\n        }\n    }\n    /**\n     * Record the start of the keyup event.\n     */\n    function onKeyUp() {\n        /** Direct Check D. See explanation in {@link recordIfFinished} */\n        recordIfFinished();\n    }\n    inputLatency.onKeyUp = onKeyUp;\n    /**\n     * Record the start of the selectionchange event.\n     */\n    function onSelectionChange() {\n        /** Direct Check E. See explanation in {@link recordIfFinished} */\n        recordIfFinished();\n    }\n    inputLatency.onSelectionChange = onSelectionChange;\n    /**\n     * Record the start of the animation frame performing the rendering.\n     */\n    function onRenderStart() {\n        // Render may be triggered during input, but we only measure the following animation frame\n        if (state.keydown === 2 /* EventPhase.Finished */ && state.input === 2 /* EventPhase.Finished */ && state.render === 0 /* EventPhase.Before */) {\n            // Only measure the first render after keyboard input\n            performance.mark('render/start');\n            state.render = 1 /* EventPhase.InProgress */;\n            queueMicrotask(markRenderEnd);\n            /** Schedule Task B. See explanation in {@link recordIfFinished} */\n            scheduleRecordIfFinishedTask();\n        }\n    }\n    inputLatency.onRenderStart = onRenderStart;\n    /**\n     * Mark the end of the animation frame performing the rendering.\n     */\n    function markRenderEnd() {\n        if (state.render === 1 /* EventPhase.InProgress */) {\n            performance.mark('render/end');\n            state.render = 2 /* EventPhase.Finished */;\n        }\n    }\n    function scheduleRecordIfFinishedTask() {\n        // Here we can safely assume that the `setTimeout` will not be\n        // artificially delayed by 4ms because we schedule it from\n        // event handlers\n        setTimeout(recordIfFinished);\n    }\n    /**\n     * Record the input latency sample if input handling and rendering are finished.\n     *\n     * The challenge here is that we want to record the latency in such a way that it includes\n     * also the layout and painting work the browser does during the animation frame task.\n     *\n     * Simply scheduling a new task (via `setTimeout`) from the animation frame task would\n     * schedule the new task at the end of the task queue (after other code that uses `setTimeout`),\n     * so we need to use multiple strategies to make sure our task runs before others:\n     *\n     * We schedule tasks (A and B):\n     *    - we schedule a task A (via a `setTimeout` call) when the input starts in `markInputStart`.\n     *      If the animation frame task is scheduled quickly by the browser, then task A has a very good\n     *      chance of being the very first task after the animation frame and thus will record the input latency.\n     *    - however, if the animation frame task is scheduled a bit later, then task A might execute\n     *      before the animation frame task. We therefore schedule another task B from `markRenderStart`.\n     *\n     * We do direct checks in browser event handlers (C, D, E):\n     *    - if the browser has multiple keydown events queued up, they will be scheduled before the `setTimeout` tasks,\n     *      so we do a direct check in the keydown event handler (C).\n     *    - depending on timing, sometimes the animation frame is scheduled even before the `keyup` event, so we\n     *      do a direct check there too (E).\n     *    - the browser oftentimes emits a `selectionchange` event after an `input`, so we do a direct check there (D).\n     */\n    function recordIfFinished() {\n        if (state.keydown === 2 /* EventPhase.Finished */ && state.input === 2 /* EventPhase.Finished */ && state.render === 2 /* EventPhase.Finished */) {\n            performance.mark('inputlatency/end');\n            performance.measure('keydown', 'keydown/start', 'keydown/end');\n            performance.measure('input', 'input/start', 'input/end');\n            performance.measure('render', 'render/start', 'render/end');\n            performance.measure('inputlatency', 'inputlatency/start', 'inputlatency/end');\n            addMeasure('keydown', totalKeydownTime);\n            addMeasure('input', totalInputTime);\n            addMeasure('render', totalRenderTime);\n            addMeasure('inputlatency', totalInputLatencyTime);\n            // console.info(\n            // \t`input latency=${performance.getEntriesByName('inputlatency')[0].duration.toFixed(1)} [` +\n            // \t`keydown=${performance.getEntriesByName('keydown')[0].duration.toFixed(1)}, ` +\n            // \t`input=${performance.getEntriesByName('input')[0].duration.toFixed(1)}, ` +\n            // \t`render=${performance.getEntriesByName('render')[0].duration.toFixed(1)}` +\n            // \t`]`\n            // );\n            measurementsCount++;\n            reset();\n        }\n    }\n    function addMeasure(entryName, cumulativeMeasurement) {\n        const duration = performance.getEntriesByName(entryName)[0].duration;\n        cumulativeMeasurement.total += duration;\n        cumulativeMeasurement.min = Math.min(cumulativeMeasurement.min, duration);\n        cumulativeMeasurement.max = Math.max(cumulativeMeasurement.max, duration);\n    }\n    /**\n     * Clear the current sample.\n     */\n    function reset() {\n        performance.clearMarks('keydown/start');\n        performance.clearMarks('keydown/end');\n        performance.clearMarks('input/start');\n        performance.clearMarks('input/end');\n        performance.clearMarks('render/start');\n        performance.clearMarks('render/end');\n        performance.clearMarks('inputlatency/start');\n        performance.clearMarks('inputlatency/end');\n        performance.clearMeasures('keydown');\n        performance.clearMeasures('input');\n        performance.clearMeasures('render');\n        performance.clearMeasures('inputlatency');\n        state.keydown = 0 /* EventPhase.Before */;\n        state.input = 0 /* EventPhase.Before */;\n        state.render = 0 /* EventPhase.Before */;\n    }\n    /**\n     * Gets all input latency samples and clears the internal buffers to start recording a new set\n     * of samples.\n     */\n    function getAndClearMeasurements() {\n        if (measurementsCount === 0) {\n            return undefined;\n        }\n        // Assemble the result\n        const result = {\n            keydown: cumulativeToFinalMeasurement(totalKeydownTime),\n            input: cumulativeToFinalMeasurement(totalInputTime),\n            render: cumulativeToFinalMeasurement(totalRenderTime),\n            total: cumulativeToFinalMeasurement(totalInputLatencyTime),\n            sampleCount: measurementsCount\n        };\n        // Clear the cumulative measurements\n        clearCumulativeMeasurement(totalKeydownTime);\n        clearCumulativeMeasurement(totalInputTime);\n        clearCumulativeMeasurement(totalRenderTime);\n        clearCumulativeMeasurement(totalInputLatencyTime);\n        measurementsCount = 0;\n        return result;\n    }\n    inputLatency.getAndClearMeasurements = getAndClearMeasurements;\n    function cumulativeToFinalMeasurement(cumulative) {\n        return {\n            average: cumulative.total / measurementsCount,\n            max: cumulative.max,\n            min: cumulative.min,\n        };\n    }\n    function clearCumulativeMeasurement(cumulative) {\n        cumulative.total = 0;\n        cumulative.min = Number.MAX_VALUE;\n        cumulative.max = 0;\n    }\n})(inputLatency || (inputLatency = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport * as DomUtils from './dom.js';\nimport * as arrays from '../common/arrays.js';\nimport { memoize } from '../common/decorators.js';\nimport { Disposable, markAsSingleton, toDisposable } from '../common/lifecycle.js';\nimport { LinkedList } from '../common/linkedList.js';\nexport var EventType;\n(function (EventType) {\n    EventType.Tap = '-monaco-gesturetap';\n    EventType.Change = '-monaco-gesturechange';\n    EventType.Start = '-monaco-gesturestart';\n    EventType.End = '-monaco-gesturesend';\n    EventType.Contextmenu = '-monaco-gesturecontextmenu';\n})(EventType || (EventType = {}));\nexport class Gesture extends Disposable {\n    constructor() {\n        super();\n        this.dispatched = false;\n        this.targets = new LinkedList();\n        this.ignoreTargets = new LinkedList();\n        this.activeTouches = {};\n        this.handle = null;\n        this._lastSetTapCountTime = 0;\n        this._register(DomUtils.addDisposableListener(document, 'touchstart', (e) => this.onTouchStart(e), { passive: false }));\n        this._register(DomUtils.addDisposableListener(document, 'touchend', (e) => this.onTouchEnd(e)));\n        this._register(DomUtils.addDisposableListener(document, 'touchmove', (e) => this.onTouchMove(e), { passive: false }));\n    }\n    static addTarget(element) {\n        if (!Gesture.isTouchDevice()) {\n            return Disposable.None;\n        }\n        if (!Gesture.INSTANCE) {\n            Gesture.INSTANCE = markAsSingleton(new Gesture());\n        }\n        const remove = Gesture.INSTANCE.targets.push(element);\n        return toDisposable(remove);\n    }\n    static ignoreTarget(element) {\n        if (!Gesture.isTouchDevice()) {\n            return Disposable.None;\n        }\n        if (!Gesture.INSTANCE) {\n            Gesture.INSTANCE = markAsSingleton(new Gesture());\n        }\n        const remove = Gesture.INSTANCE.ignoreTargets.push(element);\n        return toDisposable(remove);\n    }\n    static isTouchDevice() {\n        // `'ontouchstart' in window` always evaluates to true with typescript's modern typings. This causes `window` to be\n        // `never` later in `window.navigator`. That's why we need the explicit `window as Window` cast\n        return 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n    }\n    dispose() {\n        if (this.handle) {\n            this.handle.dispose();\n            this.handle = null;\n        }\n        super.dispose();\n    }\n    onTouchStart(e) {\n        const timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n        if (this.handle) {\n            this.handle.dispose();\n            this.handle = null;\n        }\n        for (let i = 0, len = e.targetTouches.length; i < len; i++) {\n            const touch = e.targetTouches.item(i);\n            this.activeTouches[touch.identifier] = {\n                id: touch.identifier,\n                initialTarget: touch.target,\n                initialTimeStamp: timestamp,\n                initialPageX: touch.pageX,\n                initialPageY: touch.pageY,\n                rollingTimestamps: [timestamp],\n                rollingPageX: [touch.pageX],\n                rollingPageY: [touch.pageY]\n            };\n            const evt = this.newGestureEvent(EventType.Start, touch.target);\n            evt.pageX = touch.pageX;\n            evt.pageY = touch.pageY;\n            this.dispatchEvent(evt);\n        }\n        if (this.dispatched) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dispatched = false;\n        }\n    }\n    onTouchEnd(e) {\n        const timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n        const activeTouchCount = Object.keys(this.activeTouches).length;\n        for (let i = 0, len = e.changedTouches.length; i < len; i++) {\n            const touch = e.changedTouches.item(i);\n            if (!this.activeTouches.hasOwnProperty(String(touch.identifier))) {\n                console.warn('move of an UNKNOWN touch', touch);\n                continue;\n            }\n            const data = this.activeTouches[touch.identifier], holdTime = Date.now() - data.initialTimeStamp;\n            if (holdTime < Gesture.HOLD_DELAY\n                && Math.abs(data.initialPageX - arrays.tail(data.rollingPageX)) < 30\n                && Math.abs(data.initialPageY - arrays.tail(data.rollingPageY)) < 30) {\n                const evt = this.newGestureEvent(EventType.Tap, data.initialTarget);\n                evt.pageX = arrays.tail(data.rollingPageX);\n                evt.pageY = arrays.tail(data.rollingPageY);\n                this.dispatchEvent(evt);\n            }\n            else if (holdTime >= Gesture.HOLD_DELAY\n                && Math.abs(data.initialPageX - arrays.tail(data.rollingPageX)) < 30\n                && Math.abs(data.initialPageY - arrays.tail(data.rollingPageY)) < 30) {\n                const evt = this.newGestureEvent(EventType.Contextmenu, data.initialTarget);\n                evt.pageX = arrays.tail(data.rollingPageX);\n                evt.pageY = arrays.tail(data.rollingPageY);\n                this.dispatchEvent(evt);\n            }\n            else if (activeTouchCount === 1) {\n                const finalX = arrays.tail(data.rollingPageX);\n                const finalY = arrays.tail(data.rollingPageY);\n                const deltaT = arrays.tail(data.rollingTimestamps) - data.rollingTimestamps[0];\n                const deltaX = finalX - data.rollingPageX[0];\n                const deltaY = finalY - data.rollingPageY[0];\n                // We need to get all the dispatch targets on the start of the inertia event\n                const dispatchTo = [...this.targets].filter(t => data.initialTarget instanceof Node && t.contains(data.initialTarget));\n                this.inertia(dispatchTo, timestamp, // time now\n                Math.abs(deltaX) / deltaT, // speed\n                deltaX > 0 ? 1 : -1, // x direction\n                finalX, // x now\n                Math.abs(deltaY) / deltaT, // y speed\n                deltaY > 0 ? 1 : -1, // y direction\n                finalY // y now\n                );\n            }\n            this.dispatchEvent(this.newGestureEvent(EventType.End, data.initialTarget));\n            // forget about this touch\n            delete this.activeTouches[touch.identifier];\n        }\n        if (this.dispatched) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dispatched = false;\n        }\n    }\n    newGestureEvent(type, initialTarget) {\n        const event = document.createEvent('CustomEvent');\n        event.initEvent(type, false, true);\n        event.initialTarget = initialTarget;\n        event.tapCount = 0;\n        return event;\n    }\n    dispatchEvent(event) {\n        if (event.type === EventType.Tap) {\n            const currentTime = (new Date()).getTime();\n            let setTapCount = 0;\n            if (currentTime - this._lastSetTapCountTime > Gesture.CLEAR_TAP_COUNT_TIME) {\n                setTapCount = 1;\n            }\n            else {\n                setTapCount = 2;\n            }\n            this._lastSetTapCountTime = currentTime;\n            event.tapCount = setTapCount;\n        }\n        else if (event.type === EventType.Change || event.type === EventType.Contextmenu) {\n            // tap is canceled by scrolling or context menu\n            this._lastSetTapCountTime = 0;\n        }\n        if (event.initialTarget instanceof Node) {\n            for (const ignoreTarget of this.ignoreTargets) {\n                if (ignoreTarget.contains(event.initialTarget)) {\n                    return;\n                }\n            }\n            for (const target of this.targets) {\n                if (target.contains(event.initialTarget)) {\n                    target.dispatchEvent(event);\n                    this.dispatched = true;\n                }\n            }\n        }\n    }\n    inertia(dispatchTo, t1, vX, dirX, x, vY, dirY, y) {\n        this.handle = DomUtils.scheduleAtNextAnimationFrame(() => {\n            const now = Date.now();\n            // velocity: old speed + accel_over_time\n            const deltaT = now - t1;\n            let delta_pos_x = 0, delta_pos_y = 0;\n            let stopped = true;\n            vX += Gesture.SCROLL_FRICTION * deltaT;\n            vY += Gesture.SCROLL_FRICTION * deltaT;\n            if (vX > 0) {\n                stopped = false;\n                delta_pos_x = dirX * vX * deltaT;\n            }\n            if (vY > 0) {\n                stopped = false;\n                delta_pos_y = dirY * vY * deltaT;\n            }\n            // dispatch translation event\n            const evt = this.newGestureEvent(EventType.Change);\n            evt.translationX = delta_pos_x;\n            evt.translationY = delta_pos_y;\n            dispatchTo.forEach(d => d.dispatchEvent(evt));\n            if (!stopped) {\n                this.inertia(dispatchTo, now, vX, dirX, x + delta_pos_x, vY, dirY, y + delta_pos_y);\n            }\n        });\n    }\n    onTouchMove(e) {\n        const timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n        for (let i = 0, len = e.changedTouches.length; i < len; i++) {\n            const touch = e.changedTouches.item(i);\n            if (!this.activeTouches.hasOwnProperty(String(touch.identifier))) {\n                console.warn('end of an UNKNOWN touch', touch);\n                continue;\n            }\n            const data = this.activeTouches[touch.identifier];\n            const evt = this.newGestureEvent(EventType.Change, data.initialTarget);\n            evt.translationX = touch.pageX - arrays.tail(data.rollingPageX);\n            evt.translationY = touch.pageY - arrays.tail(data.rollingPageY);\n            evt.pageX = touch.pageX;\n            evt.pageY = touch.pageY;\n            this.dispatchEvent(evt);\n            // only keep a few data points, to average the final speed\n            if (data.rollingPageX.length > 3) {\n                data.rollingPageX.shift();\n                data.rollingPageY.shift();\n                data.rollingTimestamps.shift();\n            }\n            data.rollingPageX.push(touch.pageX);\n            data.rollingPageY.push(touch.pageY);\n            data.rollingTimestamps.push(timestamp);\n        }\n        if (this.dispatched) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dispatched = false;\n        }\n    }\n}\nGesture.SCROLL_FRICTION = -0.005;\nGesture.HOLD_DELAY = 700;\nGesture.CLEAR_TAP_COUNT_TIME = 400; // ms\n__decorate([\n    memoize\n], Gesture, \"isTouchDevice\", null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { onUnexpectedError } from '../common/errors.js';\nexport function createTrustedTypesPolicy(policyName, policyOptions) {\n    var _a;\n    const monacoEnvironment = globalThis.MonacoEnvironment;\n    if (monacoEnvironment === null || monacoEnvironment === void 0 ? void 0 : monacoEnvironment.createTrustedTypesPolicy) {\n        try {\n            return monacoEnvironment.createTrustedTypesPolicy(policyName, policyOptions);\n        }\n        catch (err) {\n            onUnexpectedError(err);\n            return undefined;\n        }\n    }\n    try {\n        return (_a = window.trustedTypes) === null || _a === void 0 ? void 0 : _a.createPolicy(policyName, policyOptions);\n    }\n    catch (err) {\n        onUnexpectedError(err);\n        return undefined;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFirefox } from '../../browser.js';\nimport { DataTransfers } from '../../dnd.js';\nimport { $, addDisposableListener, append, EventHelper, EventType } from '../../dom.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { setupCustomHover } from '../iconLabel/iconLabelHover.js';\nimport { SelectBox } from '../selectBox/selectBox.js';\nimport { Action, ActionRunner, Separator } from '../../../common/actions.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport * as types from '../../../common/types.js';\nimport './actionbar.css';\nimport * as nls from '../../../../nls.js';\nexport class BaseActionViewItem extends Disposable {\n    get action() {\n        return this._action;\n    }\n    constructor(context, action, options = {}) {\n        super();\n        this.options = options;\n        this._context = context || this;\n        this._action = action;\n        if (action instanceof Action) {\n            this._register(action.onDidChange(event => {\n                if (!this.element) {\n                    // we have not been rendered yet, so there\n                    // is no point in updating the UI\n                    return;\n                }\n                this.handleActionChangeEvent(event);\n            }));\n        }\n    }\n    handleActionChangeEvent(event) {\n        if (event.enabled !== undefined) {\n            this.updateEnabled();\n        }\n        if (event.checked !== undefined) {\n            this.updateChecked();\n        }\n        if (event.class !== undefined) {\n            this.updateClass();\n        }\n        if (event.label !== undefined) {\n            this.updateLabel();\n            this.updateTooltip();\n        }\n        if (event.tooltip !== undefined) {\n            this.updateTooltip();\n        }\n    }\n    get actionRunner() {\n        if (!this._actionRunner) {\n            this._actionRunner = this._register(new ActionRunner());\n        }\n        return this._actionRunner;\n    }\n    set actionRunner(actionRunner) {\n        this._actionRunner = actionRunner;\n    }\n    isEnabled() {\n        return this._action.enabled;\n    }\n    setActionContext(newContext) {\n        this._context = newContext;\n    }\n    render(container) {\n        const element = this.element = container;\n        this._register(Gesture.addTarget(container));\n        const enableDragging = this.options && this.options.draggable;\n        if (enableDragging) {\n            container.draggable = true;\n            if (isFirefox) {\n                // Firefox: requires to set a text data transfer to get going\n                this._register(addDisposableListener(container, EventType.DRAG_START, e => { var _a; return (_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.setData(DataTransfers.TEXT, this._action.label); }));\n            }\n        }\n        this._register(addDisposableListener(element, TouchEventType.Tap, e => this.onClick(e, true))); // Preserve focus on tap #125470\n        this._register(addDisposableListener(element, EventType.MOUSE_DOWN, e => {\n            if (!enableDragging) {\n                EventHelper.stop(e, true); // do not run when dragging is on because that would disable it\n            }\n            if (this._action.enabled && e.button === 0) {\n                element.classList.add('active');\n            }\n        }));\n        if (platform.isMacintosh) {\n            // macOS: allow to trigger the button when holding Ctrl+key and pressing the\n            // main mouse button. This is for scenarios where e.g. some interaction forces\n            // the Ctrl+key to be pressed and hold but the user still wants to interact\n            // with the actions (for example quick access in quick navigation mode).\n            this._register(addDisposableListener(element, EventType.CONTEXT_MENU, e => {\n                if (e.button === 0 && e.ctrlKey === true) {\n                    this.onClick(e);\n                }\n            }));\n        }\n        this._register(addDisposableListener(element, EventType.CLICK, e => {\n            EventHelper.stop(e, true);\n            // menus do not use the click event\n            if (!(this.options && this.options.isMenu)) {\n                this.onClick(e);\n            }\n        }));\n        this._register(addDisposableListener(element, EventType.DBLCLICK, e => {\n            EventHelper.stop(e, true);\n        }));\n        [EventType.MOUSE_UP, EventType.MOUSE_OUT].forEach(event => {\n            this._register(addDisposableListener(element, event, e => {\n                EventHelper.stop(e);\n                element.classList.remove('active');\n            }));\n        });\n    }\n    onClick(event, preserveFocus = false) {\n        var _a;\n        EventHelper.stop(event, true);\n        const context = types.isUndefinedOrNull(this._context) ? ((_a = this.options) === null || _a === void 0 ? void 0 : _a.useEventAsContext) ? event : { preserveFocus } : this._context;\n        this.actionRunner.run(this._action, context);\n    }\n    // Only set the tabIndex on the element once it is about to get focused\n    // That way this element wont be a tab stop when it is not needed #106441\n    focus() {\n        if (this.element) {\n            this.element.tabIndex = 0;\n            this.element.focus();\n            this.element.classList.add('focused');\n        }\n    }\n    blur() {\n        if (this.element) {\n            this.element.blur();\n            this.element.tabIndex = -1;\n            this.element.classList.remove('focused');\n        }\n    }\n    setFocusable(focusable) {\n        if (this.element) {\n            this.element.tabIndex = focusable ? 0 : -1;\n        }\n    }\n    get trapsArrowNavigation() {\n        return false;\n    }\n    updateEnabled() {\n        // implement in subclass\n    }\n    updateLabel() {\n        // implement in subclass\n    }\n    getTooltip() {\n        return this.action.tooltip;\n    }\n    updateTooltip() {\n        var _a;\n        if (!this.element) {\n            return;\n        }\n        const title = (_a = this.getTooltip()) !== null && _a !== void 0 ? _a : '';\n        this.updateAriaLabel();\n        if (!this.options.hoverDelegate) {\n            this.element.title = title;\n        }\n        else {\n            this.element.title = '';\n            if (!this.customHover) {\n                this.customHover = setupCustomHover(this.options.hoverDelegate, this.element, title);\n                this._store.add(this.customHover);\n            }\n            else {\n                this.customHover.update(title);\n            }\n        }\n    }\n    updateAriaLabel() {\n        var _a;\n        if (this.element) {\n            const title = (_a = this.getTooltip()) !== null && _a !== void 0 ? _a : '';\n            this.element.setAttribute('aria-label', title);\n        }\n    }\n    updateClass() {\n        // implement in subclass\n    }\n    updateChecked() {\n        // implement in subclass\n    }\n    dispose() {\n        if (this.element) {\n            this.element.remove();\n            this.element = undefined;\n        }\n        this._context = undefined;\n        super.dispose();\n    }\n}\nexport class ActionViewItem extends BaseActionViewItem {\n    constructor(context, action, options) {\n        super(context, action, options);\n        this.options = options;\n        this.options.icon = options.icon !== undefined ? options.icon : false;\n        this.options.label = options.label !== undefined ? options.label : true;\n        this.cssClass = '';\n    }\n    render(container) {\n        super.render(container);\n        if (this.element) {\n            this.label = append(this.element, $('a.action-label'));\n        }\n        if (this.label) {\n            this.label.setAttribute('role', this.getDefaultAriaRole());\n        }\n        if (this.options.label && this.options.keybinding && this.element) {\n            append(this.element, $('span.keybinding')).textContent = this.options.keybinding;\n        }\n        this.updateClass();\n        this.updateLabel();\n        this.updateTooltip();\n        this.updateEnabled();\n        this.updateChecked();\n    }\n    getDefaultAriaRole() {\n        if (this._action.id === Separator.ID) {\n            return 'presentation'; // A separator is a presentation item\n        }\n        else {\n            if (this.options.isMenu) {\n                return 'menuitem';\n            }\n            else {\n                return 'button';\n            }\n        }\n    }\n    // Only set the tabIndex on the element once it is about to get focused\n    // That way this element wont be a tab stop when it is not needed #106441\n    focus() {\n        if (this.label) {\n            this.label.tabIndex = 0;\n            this.label.focus();\n        }\n    }\n    blur() {\n        if (this.label) {\n            this.label.tabIndex = -1;\n        }\n    }\n    setFocusable(focusable) {\n        if (this.label) {\n            this.label.tabIndex = focusable ? 0 : -1;\n        }\n    }\n    updateLabel() {\n        if (this.options.label && this.label) {\n            this.label.textContent = this.action.label;\n        }\n    }\n    getTooltip() {\n        let title = null;\n        if (this.action.tooltip) {\n            title = this.action.tooltip;\n        }\n        else if (!this.options.label && this.action.label && this.options.icon) {\n            title = this.action.label;\n            if (this.options.keybinding) {\n                title = nls.localize({ key: 'titleLabel', comment: ['action title', 'action keybinding'] }, \"{0} ({1})\", title, this.options.keybinding);\n            }\n        }\n        return title !== null && title !== void 0 ? title : undefined;\n    }\n    updateClass() {\n        var _a;\n        if (this.cssClass && this.label) {\n            this.label.classList.remove(...this.cssClass.split(' '));\n        }\n        if (this.options.icon) {\n            this.cssClass = this.action.class;\n            if (this.label) {\n                this.label.classList.add('codicon');\n                if (this.cssClass) {\n                    this.label.classList.add(...this.cssClass.split(' '));\n                }\n            }\n            this.updateEnabled();\n        }\n        else {\n            (_a = this.label) === null || _a === void 0 ? void 0 : _a.classList.remove('codicon');\n        }\n    }\n    updateEnabled() {\n        var _a, _b;\n        if (this.action.enabled) {\n            if (this.label) {\n                this.label.removeAttribute('aria-disabled');\n                this.label.classList.remove('disabled');\n            }\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.classList.remove('disabled');\n        }\n        else {\n            if (this.label) {\n                this.label.setAttribute('aria-disabled', 'true');\n                this.label.classList.add('disabled');\n            }\n            (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.add('disabled');\n        }\n    }\n    updateAriaLabel() {\n        var _a;\n        if (this.label) {\n            const title = (_a = this.getTooltip()) !== null && _a !== void 0 ? _a : '';\n            this.label.setAttribute('aria-label', title);\n        }\n    }\n    updateChecked() {\n        if (this.label) {\n            if (this.action.checked !== undefined) {\n                this.label.classList.toggle('checked', this.action.checked);\n                this.label.setAttribute('aria-checked', this.action.checked ? 'true' : 'false');\n                this.label.setAttribute('role', 'checkbox');\n            }\n            else {\n                this.label.classList.remove('checked');\n                this.label.setAttribute('aria-checked', '');\n                this.label.setAttribute('role', this.getDefaultAriaRole());\n            }\n        }\n    }\n}\nexport class SelectActionViewItem extends BaseActionViewItem {\n    constructor(ctx, action, options, selected, contextViewProvider, styles, selectBoxOptions) {\n        super(ctx, action);\n        this.selectBox = new SelectBox(options, selected, contextViewProvider, styles, selectBoxOptions);\n        this.selectBox.setFocusable(false);\n        this._register(this.selectBox);\n        this.registerListeners();\n    }\n    select(index) {\n        this.selectBox.select(index);\n    }\n    registerListeners() {\n        this._register(this.selectBox.onDidSelect(e => this.runAction(e.selected, e.index)));\n    }\n    runAction(option, index) {\n        this.actionRunner.run(this._action, this.getActionContext(option, index));\n    }\n    getActionContext(option, index) {\n        return option;\n    }\n    setFocusable(focusable) {\n        this.selectBox.setFocusable(focusable);\n    }\n    focus() {\n        var _a;\n        (_a = this.selectBox) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    blur() {\n        var _a;\n        (_a = this.selectBox) === null || _a === void 0 ? void 0 : _a.blur();\n    }\n    render(container) {\n        this.selectBox.render(container);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as DOM from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { ActionViewItem, BaseActionViewItem } from './actionViewItems.js';\nimport { ActionRunner, Separator } from '../../../common/actions.js';\nimport { Emitter } from '../../../common/event.js';\nimport { Disposable, DisposableMap, DisposableStore, dispose } from '../../../common/lifecycle.js';\nimport * as types from '../../../common/types.js';\nimport './actionbar.css';\nexport class ActionBar extends Disposable {\n    constructor(container, options = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        super();\n        this._actionRunnerDisposables = this._register(new DisposableStore());\n        this.viewItemDisposables = this._register(new DisposableMap());\n        // Trigger Key Tracking\n        this.triggerKeyDown = false;\n        this.focusable = true;\n        this._onDidBlur = this._register(new Emitter());\n        this.onDidBlur = this._onDidBlur.event;\n        this._onDidCancel = this._register(new Emitter({ onWillAddFirstListener: () => this.cancelHasListener = true }));\n        this.onDidCancel = this._onDidCancel.event;\n        this.cancelHasListener = false;\n        this._onDidRun = this._register(new Emitter());\n        this.onDidRun = this._onDidRun.event;\n        this._onWillRun = this._register(new Emitter());\n        this.onWillRun = this._onWillRun.event;\n        this.options = options;\n        this._context = (_a = options.context) !== null && _a !== void 0 ? _a : null;\n        this._orientation = (_b = this.options.orientation) !== null && _b !== void 0 ? _b : 0 /* ActionsOrientation.HORIZONTAL */;\n        this._triggerKeys = {\n            keyDown: (_d = (_c = this.options.triggerKeys) === null || _c === void 0 ? void 0 : _c.keyDown) !== null && _d !== void 0 ? _d : false,\n            keys: (_f = (_e = this.options.triggerKeys) === null || _e === void 0 ? void 0 : _e.keys) !== null && _f !== void 0 ? _f : [3 /* KeyCode.Enter */, 10 /* KeyCode.Space */]\n        };\n        if (this.options.actionRunner) {\n            this._actionRunner = this.options.actionRunner;\n        }\n        else {\n            this._actionRunner = new ActionRunner();\n            this._actionRunnerDisposables.add(this._actionRunner);\n        }\n        this._actionRunnerDisposables.add(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));\n        this._actionRunnerDisposables.add(this._actionRunner.onWillRun(e => this._onWillRun.fire(e)));\n        this.viewItems = [];\n        this.focusedItem = undefined;\n        this.domNode = document.createElement('div');\n        this.domNode.className = 'monaco-action-bar';\n        if (options.animated !== false) {\n            this.domNode.classList.add('animated');\n        }\n        let previousKeys;\n        let nextKeys;\n        switch (this._orientation) {\n            case 0 /* ActionsOrientation.HORIZONTAL */:\n                previousKeys = [15 /* KeyCode.LeftArrow */];\n                nextKeys = [17 /* KeyCode.RightArrow */];\n                break;\n            case 1 /* ActionsOrientation.VERTICAL */:\n                previousKeys = [16 /* KeyCode.UpArrow */];\n                nextKeys = [18 /* KeyCode.DownArrow */];\n                this.domNode.className += ' vertical';\n                break;\n        }\n        this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            let eventHandled = true;\n            const focusedItem = typeof this.focusedItem === 'number' ? this.viewItems[this.focusedItem] : undefined;\n            if (previousKeys && (event.equals(previousKeys[0]) || event.equals(previousKeys[1]))) {\n                eventHandled = this.focusPrevious();\n            }\n            else if (nextKeys && (event.equals(nextKeys[0]) || event.equals(nextKeys[1]))) {\n                eventHandled = this.focusNext();\n            }\n            else if (event.equals(9 /* KeyCode.Escape */) && this.cancelHasListener) {\n                this._onDidCancel.fire();\n            }\n            else if (event.equals(14 /* KeyCode.Home */)) {\n                eventHandled = this.focusFirst();\n            }\n            else if (event.equals(13 /* KeyCode.End */)) {\n                eventHandled = this.focusLast();\n            }\n            else if (event.equals(2 /* KeyCode.Tab */) && focusedItem instanceof BaseActionViewItem && focusedItem.trapsArrowNavigation) {\n                eventHandled = this.focusNext();\n            }\n            else if (this.isTriggerKeyEvent(event)) {\n                // Staying out of the else branch even if not triggered\n                if (this._triggerKeys.keyDown) {\n                    this.doTrigger(event);\n                }\n                else {\n                    this.triggerKeyDown = true;\n                }\n            }\n            else {\n                eventHandled = false;\n            }\n            if (eventHandled) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        }));\n        this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            // Run action on Enter/Space\n            if (this.isTriggerKeyEvent(event)) {\n                if (!this._triggerKeys.keyDown && this.triggerKeyDown) {\n                    this.triggerKeyDown = false;\n                    this.doTrigger(event);\n                }\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            // Recompute focused item\n            else if (event.equals(2 /* KeyCode.Tab */) || event.equals(1024 /* KeyMod.Shift */ | 2 /* KeyCode.Tab */)) {\n                this.updateFocusedItem();\n            }\n        }));\n        this.focusTracker = this._register(DOM.trackFocus(this.domNode));\n        this._register(this.focusTracker.onDidBlur(() => {\n            if (DOM.getActiveElement() === this.domNode || !DOM.isAncestor(DOM.getActiveElement(), this.domNode)) {\n                this._onDidBlur.fire();\n                this.previouslyFocusedItem = this.focusedItem;\n                this.focusedItem = undefined;\n                this.triggerKeyDown = false;\n            }\n        }));\n        this._register(this.focusTracker.onDidFocus(() => this.updateFocusedItem()));\n        this.actionsList = document.createElement('ul');\n        this.actionsList.className = 'actions-container';\n        if (this.options.highlightToggledItems) {\n            this.actionsList.classList.add('highlight-toggled');\n        }\n        this.actionsList.setAttribute('role', this.options.ariaRole || 'toolbar');\n        if (this.options.ariaLabel) {\n            this.actionsList.setAttribute('aria-label', this.options.ariaLabel);\n        }\n        this.domNode.appendChild(this.actionsList);\n        container.appendChild(this.domNode);\n    }\n    refreshRole() {\n        if (this.length() >= 2) {\n            this.actionsList.setAttribute('role', this.options.ariaRole || 'toolbar');\n        }\n        else {\n            this.actionsList.setAttribute('role', 'presentation');\n        }\n    }\n    // Some action bars should not be focusable at times\n    // When an action bar is not focusable make sure to make all the elements inside it not focusable\n    // When an action bar is focusable again, make sure the first item can be focused\n    setFocusable(focusable) {\n        this.focusable = focusable;\n        if (this.focusable) {\n            const firstEnabled = this.viewItems.find(vi => vi instanceof BaseActionViewItem && vi.isEnabled());\n            if (firstEnabled instanceof BaseActionViewItem) {\n                firstEnabled.setFocusable(true);\n            }\n        }\n        else {\n            this.viewItems.forEach(vi => {\n                if (vi instanceof BaseActionViewItem) {\n                    vi.setFocusable(false);\n                }\n            });\n        }\n    }\n    isTriggerKeyEvent(event) {\n        let ret = false;\n        this._triggerKeys.keys.forEach(keyCode => {\n            ret = ret || event.equals(keyCode);\n        });\n        return ret;\n    }\n    updateFocusedItem() {\n        for (let i = 0; i < this.actionsList.children.length; i++) {\n            const elem = this.actionsList.children[i];\n            if (DOM.isAncestor(DOM.getActiveElement(), elem)) {\n                this.focusedItem = i;\n                break;\n            }\n        }\n    }\n    get context() {\n        return this._context;\n    }\n    set context(context) {\n        this._context = context;\n        this.viewItems.forEach(i => i.setActionContext(context));\n    }\n    get actionRunner() {\n        return this._actionRunner;\n    }\n    set actionRunner(actionRunner) {\n        this._actionRunner = actionRunner;\n        // when setting a new `IActionRunner` make sure to dispose old listeners and\n        // start to forward events from the new listener\n        this._actionRunnerDisposables.clear();\n        this._actionRunnerDisposables.add(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));\n        this._actionRunnerDisposables.add(this._actionRunner.onWillRun(e => this._onWillRun.fire(e)));\n        this.viewItems.forEach(item => item.actionRunner = actionRunner);\n    }\n    getContainer() {\n        return this.domNode;\n    }\n    getAction(indexOrElement) {\n        var _a;\n        // by index\n        if (typeof indexOrElement === 'number') {\n            return (_a = this.viewItems[indexOrElement]) === null || _a === void 0 ? void 0 : _a.action;\n        }\n        // by element\n        if (indexOrElement instanceof HTMLElement) {\n            while (indexOrElement.parentElement !== this.actionsList) {\n                if (!indexOrElement.parentElement) {\n                    return undefined;\n                }\n                indexOrElement = indexOrElement.parentElement;\n            }\n            for (let i = 0; i < this.actionsList.childNodes.length; i++) {\n                if (this.actionsList.childNodes[i] === indexOrElement) {\n                    return this.viewItems[i].action;\n                }\n            }\n        }\n        return undefined;\n    }\n    push(arg, options = {}) {\n        const actions = Array.isArray(arg) ? arg : [arg];\n        let index = types.isNumber(options.index) ? options.index : null;\n        actions.forEach((action) => {\n            const actionViewItemElement = document.createElement('li');\n            actionViewItemElement.className = 'action-item';\n            actionViewItemElement.setAttribute('role', 'presentation');\n            let item;\n            const viewItemOptions = Object.assign({ hoverDelegate: this.options.hoverDelegate }, options);\n            if (this.options.actionViewItemProvider) {\n                item = this.options.actionViewItemProvider(action, viewItemOptions);\n            }\n            if (!item) {\n                item = new ActionViewItem(this.context, action, viewItemOptions);\n            }\n            // Prevent native context menu on actions\n            if (!this.options.allowContextMenu) {\n                this.viewItemDisposables.set(item, DOM.addDisposableListener(actionViewItemElement, DOM.EventType.CONTEXT_MENU, (e) => {\n                    DOM.EventHelper.stop(e, true);\n                }));\n            }\n            item.actionRunner = this._actionRunner;\n            item.setActionContext(this.context);\n            item.render(actionViewItemElement);\n            if (this.focusable && item instanceof BaseActionViewItem && this.viewItems.length === 0) {\n                // We need to allow for the first enabled item to be focused on using tab navigation #106441\n                item.setFocusable(true);\n            }\n            if (index === null || index < 0 || index >= this.actionsList.children.length) {\n                this.actionsList.appendChild(actionViewItemElement);\n                this.viewItems.push(item);\n            }\n            else {\n                this.actionsList.insertBefore(actionViewItemElement, this.actionsList.children[index]);\n                this.viewItems.splice(index, 0, item);\n                index++;\n            }\n        });\n        if (typeof this.focusedItem === 'number') {\n            // After a clear actions might be re-added to simply toggle some actions. We should preserve focus #97128\n            this.focus(this.focusedItem);\n        }\n        this.refreshRole();\n    }\n    clear() {\n        if (this.isEmpty()) {\n            return;\n        }\n        this.viewItems = dispose(this.viewItems);\n        this.viewItemDisposables.clearAndDisposeAll();\n        DOM.clearNode(this.actionsList);\n        this.refreshRole();\n    }\n    length() {\n        return this.viewItems.length;\n    }\n    isEmpty() {\n        return this.viewItems.length === 0;\n    }\n    focus(arg) {\n        let selectFirst = false;\n        let index = undefined;\n        if (arg === undefined) {\n            selectFirst = true;\n        }\n        else if (typeof arg === 'number') {\n            index = arg;\n        }\n        else if (typeof arg === 'boolean') {\n            selectFirst = arg;\n        }\n        if (selectFirst && typeof this.focusedItem === 'undefined') {\n            const firstEnabled = this.viewItems.findIndex(item => item.isEnabled());\n            // Focus the first enabled item\n            this.focusedItem = firstEnabled === -1 ? undefined : firstEnabled;\n            this.updateFocus(undefined, undefined, true);\n        }\n        else {\n            if (index !== undefined) {\n                this.focusedItem = index;\n            }\n            this.updateFocus(undefined, undefined, true);\n        }\n    }\n    focusFirst() {\n        this.focusedItem = this.length() - 1;\n        return this.focusNext(true);\n    }\n    focusLast() {\n        this.focusedItem = 0;\n        return this.focusPrevious(true);\n    }\n    focusNext(forceLoop) {\n        if (typeof this.focusedItem === 'undefined') {\n            this.focusedItem = this.viewItems.length - 1;\n        }\n        else if (this.viewItems.length <= 1) {\n            return false;\n        }\n        const startIndex = this.focusedItem;\n        let item;\n        do {\n            if (!forceLoop && this.options.preventLoopNavigation && this.focusedItem + 1 >= this.viewItems.length) {\n                this.focusedItem = startIndex;\n                return false;\n            }\n            this.focusedItem = (this.focusedItem + 1) % this.viewItems.length;\n            item = this.viewItems[this.focusedItem];\n        } while (this.focusedItem !== startIndex && ((this.options.focusOnlyEnabledItems && !item.isEnabled()) || item.action.id === Separator.ID));\n        this.updateFocus();\n        return true;\n    }\n    focusPrevious(forceLoop) {\n        if (typeof this.focusedItem === 'undefined') {\n            this.focusedItem = 0;\n        }\n        else if (this.viewItems.length <= 1) {\n            return false;\n        }\n        const startIndex = this.focusedItem;\n        let item;\n        do {\n            this.focusedItem = this.focusedItem - 1;\n            if (this.focusedItem < 0) {\n                if (!forceLoop && this.options.preventLoopNavigation) {\n                    this.focusedItem = startIndex;\n                    return false;\n                }\n                this.focusedItem = this.viewItems.length - 1;\n            }\n            item = this.viewItems[this.focusedItem];\n        } while (this.focusedItem !== startIndex && ((this.options.focusOnlyEnabledItems && !item.isEnabled()) || item.action.id === Separator.ID));\n        this.updateFocus(true);\n        return true;\n    }\n    updateFocus(fromRight, preventScroll, forceFocus = false) {\n        var _a;\n        if (typeof this.focusedItem === 'undefined') {\n            this.actionsList.focus({ preventScroll });\n        }\n        if (this.previouslyFocusedItem !== undefined && this.previouslyFocusedItem !== this.focusedItem) {\n            (_a = this.viewItems[this.previouslyFocusedItem]) === null || _a === void 0 ? void 0 : _a.blur();\n        }\n        const actionViewItem = this.focusedItem !== undefined && this.viewItems[this.focusedItem];\n        if (actionViewItem) {\n            let focusItem = true;\n            if (!types.isFunction(actionViewItem.focus)) {\n                focusItem = false;\n            }\n            if (this.options.focusOnlyEnabledItems && types.isFunction(actionViewItem.isEnabled) && !actionViewItem.isEnabled()) {\n                focusItem = false;\n            }\n            if (actionViewItem.action.id === Separator.ID) {\n                focusItem = false;\n            }\n            if (!focusItem) {\n                this.actionsList.focus({ preventScroll });\n                this.previouslyFocusedItem = undefined;\n            }\n            else if (forceFocus || this.previouslyFocusedItem !== this.focusedItem) {\n                actionViewItem.focus(fromRight);\n                this.previouslyFocusedItem = this.focusedItem;\n            }\n        }\n    }\n    doTrigger(event) {\n        if (typeof this.focusedItem === 'undefined') {\n            return; //nothing to focus\n        }\n        // trigger action\n        const actionViewItem = this.viewItems[this.focusedItem];\n        if (actionViewItem instanceof BaseActionViewItem) {\n            const context = (actionViewItem._context === null || actionViewItem._context === undefined) ? event : actionViewItem._context;\n            this.run(actionViewItem._action, context);\n        }\n    }\n    run(action, context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._actionRunner.run(action, context);\n        });\n    }\n    dispose() {\n        this._context = undefined;\n        this.viewItems = dispose(this.viewItems);\n        this.getContainer().remove();\n        super.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport './aria.css';\n// Use a max length since we are inserting the whole msg in the DOM and that can cause browsers to freeze for long messages #94233\nconst MAX_MESSAGE_LENGTH = 20000;\nlet ariaContainer;\nlet alertContainer;\nlet alertContainer2;\nlet statusContainer;\nlet statusContainer2;\nexport function setARIAContainer(parent) {\n    ariaContainer = document.createElement('div');\n    ariaContainer.className = 'monaco-aria-container';\n    const createAlertContainer = () => {\n        const element = document.createElement('div');\n        element.className = 'monaco-alert';\n        element.setAttribute('role', 'alert');\n        element.setAttribute('aria-atomic', 'true');\n        ariaContainer.appendChild(element);\n        return element;\n    };\n    alertContainer = createAlertContainer();\n    alertContainer2 = createAlertContainer();\n    const createStatusContainer = () => {\n        const element = document.createElement('div');\n        element.className = 'monaco-status';\n        element.setAttribute('aria-live', 'polite');\n        element.setAttribute('aria-atomic', 'true');\n        ariaContainer.appendChild(element);\n        return element;\n    };\n    statusContainer = createStatusContainer();\n    statusContainer2 = createStatusContainer();\n    parent.appendChild(ariaContainer);\n}\n/**\n * Given the provided message, will make sure that it is read as alert to screen readers.\n */\nexport function alert(msg) {\n    if (!ariaContainer) {\n        return;\n    }\n    // Use alternate containers such that duplicated messages get read out by screen readers #99466\n    if (alertContainer.textContent !== msg) {\n        dom.clearNode(alertContainer2);\n        insertMessage(alertContainer, msg);\n    }\n    else {\n        dom.clearNode(alertContainer);\n        insertMessage(alertContainer2, msg);\n    }\n}\n/**\n * Given the provided message, will make sure that it is read as status to screen readers.\n */\nexport function status(msg) {\n    if (!ariaContainer) {\n        return;\n    }\n    if (statusContainer.textContent !== msg) {\n        dom.clearNode(statusContainer2);\n        insertMessage(statusContainer, msg);\n    }\n    else {\n        dom.clearNode(statusContainer);\n        insertMessage(statusContainer2, msg);\n    }\n}\nfunction insertMessage(target, msg) {\n    dom.clearNode(target);\n    if (msg.length > MAX_MESSAGE_LENGTH) {\n        msg = msg.substr(0, MAX_MESSAGE_LENGTH);\n    }\n    target.textContent = msg;\n    // See https://www.paciellogroup.com/blog/2012/06/html5-accessibility-chops-aria-rolealert-browser-support/\n    target.style.visibility = 'hidden';\n    target.style.visibility = 'visible';\n}\n","import { addDisposableListener, EventHelper, EventType, reset, trackFocus } from '../../dom.js';\nimport { sanitize } from '../../dompurify/dompurify.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { renderMarkdown, renderStringAsPlaintext } from '../../markdownRenderer.js';\nimport { Gesture, EventType as TouchEventType } from '../../touch.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nimport { Color } from '../../../common/color.js';\nimport { Emitter } from '../../../common/event.js';\nimport { isMarkdownString, markdownStringEqual } from '../../../common/htmlContent.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './button.css';\nexport const unthemedButtonStyles = {\n    buttonBackground: '#0E639C',\n    buttonHoverBackground: '#006BB3',\n    buttonSeparator: Color.white.toString(),\n    buttonForeground: Color.white.toString(),\n    buttonBorder: undefined,\n    buttonSecondaryBackground: undefined,\n    buttonSecondaryForeground: undefined,\n    buttonSecondaryHoverBackground: undefined\n};\nexport class Button extends Disposable {\n    get onDidClick() { return this._onDidClick.event; }\n    constructor(container, options) {\n        super();\n        this._label = '';\n        this._onDidClick = this._register(new Emitter());\n        this.options = options;\n        this._element = document.createElement('a');\n        this._element.classList.add('monaco-button');\n        this._element.tabIndex = 0;\n        this._element.setAttribute('role', 'button');\n        this._element.classList.toggle('secondary', !!options.secondary);\n        const background = options.secondary ? options.buttonSecondaryBackground : options.buttonBackground;\n        const foreground = options.secondary ? options.buttonSecondaryForeground : options.buttonForeground;\n        this._element.style.color = foreground || '';\n        this._element.style.backgroundColor = background || '';\n        if (options.supportShortLabel) {\n            this._labelShortElement = document.createElement('div');\n            this._labelShortElement.classList.add('monaco-button-label-short');\n            this._element.appendChild(this._labelShortElement);\n            this._labelElement = document.createElement('div');\n            this._labelElement.classList.add('monaco-button-label');\n            this._element.appendChild(this._labelElement);\n            this._element.classList.add('monaco-text-button-with-short-label');\n        }\n        container.appendChild(this._element);\n        this._register(Gesture.addTarget(this._element));\n        [EventType.CLICK, TouchEventType.Tap].forEach(eventType => {\n            this._register(addDisposableListener(this._element, eventType, e => {\n                if (!this.enabled) {\n                    EventHelper.stop(e);\n                    return;\n                }\n                this._onDidClick.fire(e);\n            }));\n        });\n        this._register(addDisposableListener(this._element, EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            let eventHandled = false;\n            if (this.enabled && (event.equals(3 /* KeyCode.Enter */) || event.equals(10 /* KeyCode.Space */))) {\n                this._onDidClick.fire(e);\n                eventHandled = true;\n            }\n            else if (event.equals(9 /* KeyCode.Escape */)) {\n                this._element.blur();\n                eventHandled = true;\n            }\n            if (eventHandled) {\n                EventHelper.stop(event, true);\n            }\n        }));\n        this._register(addDisposableListener(this._element, EventType.MOUSE_OVER, e => {\n            if (!this._element.classList.contains('disabled')) {\n                this.updateBackground(true);\n            }\n        }));\n        this._register(addDisposableListener(this._element, EventType.MOUSE_OUT, e => {\n            this.updateBackground(false); // restore standard styles\n        }));\n        // Also set hover background when button is focused for feedback\n        this.focusTracker = this._register(trackFocus(this._element));\n        this._register(this.focusTracker.onDidFocus(() => { if (this.enabled) {\n            this.updateBackground(true);\n        } }));\n        this._register(this.focusTracker.onDidBlur(() => { if (this.enabled) {\n            this.updateBackground(false);\n        } }));\n    }\n    dispose() {\n        super.dispose();\n        this._element.remove();\n    }\n    getContentElements(content) {\n        const elements = [];\n        for (let segment of renderLabelWithIcons(content)) {\n            if (typeof (segment) === 'string') {\n                segment = segment.trim();\n                // Ignore empty segment\n                if (segment === '') {\n                    continue;\n                }\n                // Convert string segments to <span> nodes\n                const node = document.createElement('span');\n                node.textContent = segment;\n                elements.push(node);\n            }\n            else {\n                elements.push(segment);\n            }\n        }\n        return elements;\n    }\n    updateBackground(hover) {\n        let background;\n        if (this.options.secondary) {\n            background = hover ? this.options.buttonSecondaryHoverBackground : this.options.buttonSecondaryBackground;\n        }\n        else {\n            background = hover ? this.options.buttonHoverBackground : this.options.buttonBackground;\n        }\n        if (background) {\n            this._element.style.backgroundColor = background;\n        }\n    }\n    get element() {\n        return this._element;\n    }\n    set label(value) {\n        var _a;\n        if (this._label === value) {\n            return;\n        }\n        if (isMarkdownString(this._label) && isMarkdownString(value) && markdownStringEqual(this._label, value)) {\n            return;\n        }\n        this._element.classList.add('monaco-text-button');\n        const labelElement = this.options.supportShortLabel ? this._labelElement : this._element;\n        if (isMarkdownString(value)) {\n            const rendered = renderMarkdown(value, { inline: true });\n            rendered.dispose();\n            // Don't include outer `<p>`\n            const root = (_a = rendered.element.querySelector('p')) === null || _a === void 0 ? void 0 : _a.innerHTML;\n            if (root) {\n                // Only allow a very limited set of inline html tags\n                const sanitized = sanitize(root, { ADD_TAGS: ['b', 'i', 'u', 'code', 'span'], ALLOWED_ATTR: ['class'], RETURN_TRUSTED_TYPE: true });\n                labelElement.innerHTML = sanitized;\n            }\n            else {\n                reset(labelElement);\n            }\n        }\n        else {\n            if (this.options.supportIcons) {\n                reset(labelElement, ...this.getContentElements(value));\n            }\n            else {\n                labelElement.textContent = value;\n            }\n        }\n        if (typeof this.options.title === 'string') {\n            this._element.title = this.options.title;\n        }\n        else if (this.options.title) {\n            this._element.title = renderStringAsPlaintext(value);\n        }\n        this._label = value;\n    }\n    get label() {\n        return this._label;\n    }\n    set enabled(value) {\n        if (value) {\n            this._element.classList.remove('disabled');\n            this._element.setAttribute('aria-disabled', String(false));\n            this._element.tabIndex = 0;\n        }\n        else {\n            this._element.classList.add('disabled');\n            this._element.setAttribute('aria-disabled', String(true));\n        }\n    }\n    get enabled() {\n        return !this._element.classList.contains('disabled');\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { BrowserFeatures } from '../../canIUse.js';\nimport * as DOM from '../../dom.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { Range } from '../../../common/range.js';\nimport './contextview.css';\nexport function isAnchor(obj) {\n    const anchor = obj;\n    return !!anchor && typeof anchor.x === 'number' && typeof anchor.y === 'number';\n}\nexport var LayoutAnchorMode;\n(function (LayoutAnchorMode) {\n    LayoutAnchorMode[LayoutAnchorMode[\"AVOID\"] = 0] = \"AVOID\";\n    LayoutAnchorMode[LayoutAnchorMode[\"ALIGN\"] = 1] = \"ALIGN\";\n})(LayoutAnchorMode || (LayoutAnchorMode = {}));\n/**\n * Lays out a one dimensional view next to an anchor in a viewport.\n *\n * @returns The view offset within the viewport.\n */\nexport function layout(viewportSize, viewSize, anchor) {\n    const layoutAfterAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset : anchor.offset + anchor.size;\n    const layoutBeforeAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset + anchor.size : anchor.offset;\n    if (anchor.position === 0 /* LayoutAnchorPosition.Before */) {\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // happy case, lay it out after the anchor\n        }\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // ok case, lay it out before the anchor\n        }\n        return Math.max(viewportSize - viewSize, 0); // sad case, lay it over the anchor\n    }\n    else {\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // happy case, lay it out before the anchor\n        }\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // ok case, lay it out after the anchor\n        }\n        return 0; // sad case, lay it over the anchor\n    }\n}\nexport class ContextView extends Disposable {\n    constructor(container, domPosition) {\n        super();\n        this.container = null;\n        this.delegate = null;\n        this.toDisposeOnClean = Disposable.None;\n        this.toDisposeOnSetContainer = Disposable.None;\n        this.shadowRoot = null;\n        this.shadowRootHostElement = null;\n        this.view = DOM.$('.context-view');\n        this.useFixedPosition = false;\n        this.useShadowDOM = false;\n        DOM.hide(this.view);\n        this.setContainer(container, domPosition);\n        this._register(toDisposable(() => this.setContainer(null, 1 /* ContextViewDOMPosition.ABSOLUTE */)));\n    }\n    setContainer(container, domPosition) {\n        var _a;\n        if (this.container) {\n            this.toDisposeOnSetContainer.dispose();\n            if (this.shadowRoot) {\n                this.shadowRoot.removeChild(this.view);\n                this.shadowRoot = null;\n                (_a = this.shadowRootHostElement) === null || _a === void 0 ? void 0 : _a.remove();\n                this.shadowRootHostElement = null;\n            }\n            else {\n                this.container.removeChild(this.view);\n            }\n            this.container = null;\n        }\n        if (container) {\n            this.container = container;\n            this.useFixedPosition = domPosition !== 1 /* ContextViewDOMPosition.ABSOLUTE */;\n            this.useShadowDOM = domPosition === 3 /* ContextViewDOMPosition.FIXED_SHADOW */;\n            if (this.useShadowDOM) {\n                this.shadowRootHostElement = DOM.$('.shadow-root-host');\n                this.container.appendChild(this.shadowRootHostElement);\n                this.shadowRoot = this.shadowRootHostElement.attachShadow({ mode: 'open' });\n                const style = document.createElement('style');\n                style.textContent = SHADOW_ROOT_CSS;\n                this.shadowRoot.appendChild(style);\n                this.shadowRoot.appendChild(this.view);\n                this.shadowRoot.appendChild(DOM.$('slot'));\n            }\n            else {\n                this.container.appendChild(this.view);\n            }\n            const toDisposeOnSetContainer = new DisposableStore();\n            ContextView.BUBBLE_UP_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, (e) => {\n                    this.onDOMEvent(e, false);\n                }));\n            });\n            ContextView.BUBBLE_DOWN_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, (e) => {\n                    this.onDOMEvent(e, true);\n                }, true));\n            });\n            this.toDisposeOnSetContainer = toDisposeOnSetContainer;\n        }\n    }\n    show(delegate) {\n        var _a, _b;\n        if (this.isVisible()) {\n            this.hide();\n        }\n        // Show static box\n        DOM.clearNode(this.view);\n        this.view.className = 'context-view';\n        this.view.style.top = '0px';\n        this.view.style.left = '0px';\n        this.view.style.zIndex = '2575';\n        this.view.style.position = this.useFixedPosition ? 'fixed' : 'absolute';\n        DOM.show(this.view);\n        // Render content\n        this.toDisposeOnClean = delegate.render(this.view) || Disposable.None;\n        // Set active delegate\n        this.delegate = delegate;\n        // Layout\n        this.doLayout();\n        // Focus\n        (_b = (_a = this.delegate).focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    getViewElement() {\n        return this.view;\n    }\n    layout() {\n        if (!this.isVisible()) {\n            return;\n        }\n        if (this.delegate.canRelayout === false && !(platform.isIOS && BrowserFeatures.pointerEvents)) {\n            this.hide();\n            return;\n        }\n        if (this.delegate.layout) {\n            this.delegate.layout();\n        }\n        this.doLayout();\n    }\n    doLayout() {\n        // Check that we still have a delegate - this.delegate.layout may have hidden\n        if (!this.isVisible()) {\n            return;\n        }\n        // Get anchor\n        const anchor = this.delegate.getAnchor();\n        // Compute around\n        let around;\n        // Get the element's position and size (to anchor the view)\n        if (DOM.isHTMLElement(anchor)) {\n            const elementPosition = DOM.getDomNodePagePosition(anchor);\n            // In areas where zoom is applied to the element or its ancestors, we need to adjust the size of the element\n            // e.g. The title bar has counter zoom behavior meaning it applies the inverse of zoom level.\n            // Window Zoom Level: 1.5, Title Bar Zoom: 1/1.5, Size Multiplier: 1.5\n            const zoom = DOM.getDomNodeZoomLevel(anchor);\n            around = {\n                top: elementPosition.top * zoom,\n                left: elementPosition.left * zoom,\n                width: elementPosition.width * zoom,\n                height: elementPosition.height * zoom\n            };\n        }\n        else if (isAnchor(anchor)) {\n            around = {\n                top: anchor.y,\n                left: anchor.x,\n                width: anchor.width || 1,\n                height: anchor.height || 2\n            };\n        }\n        else {\n            around = {\n                top: anchor.posy,\n                left: anchor.posx,\n                // We are about to position the context view where the mouse\n                // cursor is. To prevent the view being exactly under the mouse\n                // when showing and thus potentially triggering an action within,\n                // we treat the mouse location like a small sized block element.\n                width: 2,\n                height: 2\n            };\n        }\n        const viewSizeWidth = DOM.getTotalWidth(this.view);\n        const viewSizeHeight = DOM.getTotalHeight(this.view);\n        const anchorPosition = this.delegate.anchorPosition || 0 /* AnchorPosition.BELOW */;\n        const anchorAlignment = this.delegate.anchorAlignment || 0 /* AnchorAlignment.LEFT */;\n        const anchorAxisAlignment = this.delegate.anchorAxisAlignment || 0 /* AnchorAxisAlignment.VERTICAL */;\n        let top;\n        let left;\n        if (anchorAxisAlignment === 0 /* AnchorAxisAlignment.VERTICAL */) {\n            const verticalAnchor = { offset: around.top - window.pageYOffset, size: around.height, position: anchorPosition === 0 /* AnchorPosition.BELOW */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */ };\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */, mode: LayoutAnchorMode.ALIGN };\n            top = layout(window.innerHeight, viewSizeHeight, verticalAnchor) + window.pageYOffset;\n            // if view intersects vertically with anchor,  we must avoid the anchor\n            if (Range.intersects({ start: top, end: top + viewSizeHeight }, { start: verticalAnchor.offset, end: verticalAnchor.offset + verticalAnchor.size })) {\n                horizontalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            left = layout(window.innerWidth, viewSizeWidth, horizontalAnchor);\n        }\n        else {\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */ };\n            const verticalAnchor = { offset: around.top, size: around.height, position: anchorPosition === 0 /* AnchorPosition.BELOW */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */, mode: LayoutAnchorMode.ALIGN };\n            left = layout(window.innerWidth, viewSizeWidth, horizontalAnchor);\n            // if view intersects horizontally with anchor, we must avoid the anchor\n            if (Range.intersects({ start: left, end: left + viewSizeWidth }, { start: horizontalAnchor.offset, end: horizontalAnchor.offset + horizontalAnchor.size })) {\n                verticalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            top = layout(window.innerHeight, viewSizeHeight, verticalAnchor) + window.pageYOffset;\n        }\n        this.view.classList.remove('top', 'bottom', 'left', 'right');\n        this.view.classList.add(anchorPosition === 0 /* AnchorPosition.BELOW */ ? 'bottom' : 'top');\n        this.view.classList.add(anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 'left' : 'right');\n        this.view.classList.toggle('fixed', this.useFixedPosition);\n        const containerPosition = DOM.getDomNodePagePosition(this.container);\n        this.view.style.top = `${top - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).top : containerPosition.top)}px`;\n        this.view.style.left = `${left - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).left : containerPosition.left)}px`;\n        this.view.style.width = 'initial';\n    }\n    hide(data) {\n        const delegate = this.delegate;\n        this.delegate = null;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.onHide) {\n            delegate.onHide(data);\n        }\n        this.toDisposeOnClean.dispose();\n        DOM.hide(this.view);\n    }\n    isVisible() {\n        return !!this.delegate;\n    }\n    onDOMEvent(e, onCapture) {\n        if (this.delegate) {\n            if (this.delegate.onDOMEvent) {\n                this.delegate.onDOMEvent(e, document.activeElement);\n            }\n            else if (onCapture && !DOM.isAncestor(e.target, this.container)) {\n                this.hide();\n            }\n        }\n    }\n    dispose() {\n        this.hide();\n        super.dispose();\n    }\n}\nContextView.BUBBLE_UP_EVENTS = ['click', 'keydown', 'focus', 'blur'];\nContextView.BUBBLE_DOWN_EVENTS = ['click'];\nconst SHADOW_ROOT_CSS = /* css */ `\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t.codicon[class*='codicon-'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe WPC\", \"Segoe UI\", \"HelveticaNeue-Light\", system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang SC\", \"Hiragino Sans GB\", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang TC\", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, \"Hiragino Kaku Gothic Pro\", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, \"Nanum Gothic\", \"Apple SD Gothic Neo\", \"AppleGothic\", sans-serif; }\n\n\t:host-context(.windows) { font-family: \"Segoe WPC\", \"Segoe UI\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft YaHei\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft Jhenghei\", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Yu Gothic UI\", \"Meiryo UI\", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Malgun Gothic\", \"Dotom\", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans SC\", \"Source Han Sans CN\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans TC\", \"Source Han Sans TW\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans J\", \"Source Han Sans JP\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans K\", \"Source Han Sans JR\", \"Source Han Sans\", \"UnDotum\", \"FBaekmuk Gulim\", sans-serif; }\n`;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, append } from '../../dom.js';\nimport { format } from '../../../common/strings.js';\nimport './countBadge.css';\nexport class CountBadge {\n    constructor(container, options, styles) {\n        this.options = options;\n        this.styles = styles;\n        this.count = 0;\n        this.element = append(container, $('.monaco-count-badge'));\n        this.countFormat = this.options.countFormat || '{0}';\n        this.titleFormat = this.options.titleFormat || '';\n        this.setCount(this.options.count || 0);\n    }\n    setCount(count) {\n        this.count = count;\n        this.render();\n    }\n    setTitleFormat(titleFormat) {\n        this.titleFormat = titleFormat;\n        this.render();\n    }\n    render() {\n        var _a, _b;\n        this.element.textContent = format(this.countFormat, this.count);\n        this.element.title = format(this.titleFormat, this.count);\n        this.element.style.backgroundColor = (_a = this.styles.badgeBackground) !== null && _a !== void 0 ? _a : '';\n        this.element.style.color = (_b = this.styles.badgeForeground) !== null && _b !== void 0 ? _b : '';\n        if (this.styles.badgeBorder) {\n            this.element.style.border = `1px solid ${this.styles.badgeBorder}`;\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, addDisposableListener, append, EventHelper, EventType } from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { EventType as GestureEventType, Gesture } from '../../touch.js';\nimport { ActionRunner } from '../../../common/actions.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nclass BaseDropdown extends ActionRunner {\n    constructor(container, options) {\n        super();\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n        this._element = append(container, $('.monaco-dropdown'));\n        this._label = append(this._element, $('.dropdown-label'));\n        let labelRenderer = options.labelRenderer;\n        if (!labelRenderer) {\n            labelRenderer = (container) => {\n                container.textContent = options.label || '';\n                return null;\n            };\n        }\n        for (const event of [EventType.CLICK, EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n            this._register(addDisposableListener(this.element, event, e => EventHelper.stop(e, true))); // prevent default click behaviour to trigger\n        }\n        for (const event of [EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n            this._register(addDisposableListener(this._label, event, e => {\n                if (e instanceof MouseEvent && (e.detail > 1 || e.button !== 0)) {\n                    // prevent right click trigger to allow separate context menu (https://github.com/microsoft/vscode/issues/151064)\n                    // prevent multiple clicks to open multiple context menus (https://github.com/microsoft/vscode/issues/41363)\n                    return;\n                }\n                if (this.visible) {\n                    this.hide();\n                }\n                else {\n                    this.show();\n                }\n            }));\n        }\n        this._register(addDisposableListener(this._label, EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(3 /* KeyCode.Enter */) || event.equals(10 /* KeyCode.Space */)) {\n                EventHelper.stop(e, true); // https://github.com/microsoft/vscode/issues/57997\n                if (this.visible) {\n                    this.hide();\n                }\n                else {\n                    this.show();\n                }\n            }\n        }));\n        const cleanupFn = labelRenderer(this._label);\n        if (cleanupFn) {\n            this._register(cleanupFn);\n        }\n        this._register(Gesture.addTarget(this._label));\n    }\n    get element() {\n        return this._element;\n    }\n    show() {\n        if (!this.visible) {\n            this.visible = true;\n            this._onDidChangeVisibility.fire(true);\n        }\n    }\n    hide() {\n        if (this.visible) {\n            this.visible = false;\n            this._onDidChangeVisibility.fire(false);\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.hide();\n        if (this.boxContainer) {\n            this.boxContainer.remove();\n            this.boxContainer = undefined;\n        }\n        if (this.contents) {\n            this.contents.remove();\n            this.contents = undefined;\n        }\n        if (this._label) {\n            this._label.remove();\n            this._label = undefined;\n        }\n    }\n}\nexport class DropdownMenu extends BaseDropdown {\n    constructor(container, _options) {\n        super(container, _options);\n        this._options = _options;\n        this._actions = [];\n        this.actions = _options.actions || [];\n    }\n    set menuOptions(options) {\n        this._menuOptions = options;\n    }\n    get menuOptions() {\n        return this._menuOptions;\n    }\n    get actions() {\n        if (this._options.actionProvider) {\n            return this._options.actionProvider.getActions();\n        }\n        return this._actions;\n    }\n    set actions(actions) {\n        this._actions = actions;\n    }\n    show() {\n        super.show();\n        this.element.classList.add('active');\n        this._options.contextMenuProvider.showContextMenu({\n            getAnchor: () => this.element,\n            getActions: () => this.actions,\n            getActionsContext: () => this.menuOptions ? this.menuOptions.context : null,\n            getActionViewItem: (action, options) => this.menuOptions && this.menuOptions.actionViewItemProvider ? this.menuOptions.actionViewItemProvider(action, options) : undefined,\n            getKeyBinding: action => this.menuOptions && this.menuOptions.getKeyBinding ? this.menuOptions.getKeyBinding(action) : undefined,\n            getMenuClassName: () => this._options.menuClassName || '',\n            onHide: () => this.onHide(),\n            actionRunner: this.menuOptions ? this.menuOptions.actionRunner : undefined,\n            anchorAlignment: this.menuOptions ? this.menuOptions.anchorAlignment : 0 /* AnchorAlignment.LEFT */,\n            domForShadowRoot: this._options.menuAsChild ? this.element : undefined,\n            skipTelemetry: this._options.skipTelemetry\n        });\n    }\n    hide() {\n        super.hide();\n    }\n    onHide() {\n        this.hide();\n        this.element.classList.remove('active');\n    }\n}\n","import { $, append } from '../../dom.js';\nimport { BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { DropdownMenu } from './dropdown.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nexport class DropdownMenuActionViewItem extends BaseActionViewItem {\n    constructor(action, menuActionsOrProvider, contextMenuProvider, options = Object.create(null)) {\n        super(null, action, options);\n        this.actionItem = null;\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n        this.menuActionsOrProvider = menuActionsOrProvider;\n        this.contextMenuProvider = contextMenuProvider;\n        this.options = options;\n        if (this.options.actionRunner) {\n            this.actionRunner = this.options.actionRunner;\n        }\n    }\n    render(container) {\n        this.actionItem = container;\n        const labelRenderer = (el) => {\n            this.element = append(el, $('a.action-label'));\n            let classNames = [];\n            if (typeof this.options.classNames === 'string') {\n                classNames = this.options.classNames.split(/\\s+/g).filter(s => !!s);\n            }\n            else if (this.options.classNames) {\n                classNames = this.options.classNames;\n            }\n            // todo@aeschli: remove codicon, should come through `this.options.classNames`\n            if (!classNames.find(c => c === 'icon')) {\n                classNames.push('codicon');\n            }\n            this.element.classList.add(...classNames);\n            this.element.setAttribute('role', 'button');\n            this.element.setAttribute('aria-haspopup', 'true');\n            this.element.setAttribute('aria-expanded', 'false');\n            this.element.title = this._action.label || '';\n            this.element.ariaLabel = this._action.label || '';\n            return null;\n        };\n        const isActionsArray = Array.isArray(this.menuActionsOrProvider);\n        const options = {\n            contextMenuProvider: this.contextMenuProvider,\n            labelRenderer: labelRenderer,\n            menuAsChild: this.options.menuAsChild,\n            actions: isActionsArray ? this.menuActionsOrProvider : undefined,\n            actionProvider: isActionsArray ? undefined : this.menuActionsOrProvider,\n            skipTelemetry: this.options.skipTelemetry\n        };\n        this.dropdownMenu = this._register(new DropdownMenu(container, options));\n        this._register(this.dropdownMenu.onDidChangeVisibility(visible => {\n            var _a;\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', `${visible}`);\n            this._onDidChangeVisibility.fire(visible);\n        }));\n        this.dropdownMenu.menuOptions = {\n            actionViewItemProvider: this.options.actionViewItemProvider,\n            actionRunner: this.actionRunner,\n            getKeyBinding: this.options.keybindingProvider,\n            context: this._context\n        };\n        if (this.options.anchorAlignmentProvider) {\n            const that = this;\n            this.dropdownMenu.menuOptions = Object.assign(Object.assign({}, this.dropdownMenu.menuOptions), { get anchorAlignment() {\n                    return that.options.anchorAlignmentProvider();\n                } });\n        }\n        this.updateTooltip();\n        this.updateEnabled();\n    }\n    getTooltip() {\n        let title = null;\n        if (this.action.tooltip) {\n            title = this.action.tooltip;\n        }\n        else if (this.action.label) {\n            title = this.action.label;\n        }\n        return title !== null && title !== void 0 ? title : undefined;\n    }\n    setActionContext(newContext) {\n        super.setActionContext(newContext);\n        if (this.dropdownMenu) {\n            if (this.dropdownMenu.menuOptions) {\n                this.dropdownMenu.menuOptions.context = newContext;\n            }\n            else {\n                this.dropdownMenu.menuOptions = { context: newContext };\n            }\n        }\n    }\n    show() {\n        var _a;\n        (_a = this.dropdownMenu) === null || _a === void 0 ? void 0 : _a.show();\n    }\n    updateEnabled() {\n        var _a, _b;\n        const disabled = !this.action.enabled;\n        (_a = this.actionItem) === null || _a === void 0 ? void 0 : _a.classList.toggle('disabled', disabled);\n        (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.toggle('disabled', disabled);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { CaseSensitiveToggle, RegexToggle, WholeWordsToggle } from './findInputToggles.js';\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\nimport { Widget } from '../widget.js';\nimport { Emitter } from '../../../common/event.js';\nimport './findInput.css';\nimport * as nls from '../../../../nls.js';\nimport { DisposableStore, MutableDisposable } from '../../../common/lifecycle.js';\nconst NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\nexport class FindInput extends Widget {\n    constructor(parent, contextViewProvider, options) {\n        super();\n        this.fixFocusOnOptionClickEnabled = true;\n        this.imeSessionInProgress = false;\n        this.additionalTogglesDisposables = this._register(new MutableDisposable());\n        this.additionalToggles = [];\n        this._onDidOptionChange = this._register(new Emitter());\n        this.onDidOptionChange = this._onDidOptionChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._onMouseDown = this._register(new Emitter());\n        this.onMouseDown = this._onMouseDown.event;\n        this._onInput = this._register(new Emitter());\n        this._onKeyUp = this._register(new Emitter());\n        this._onCaseSensitiveKeyDown = this._register(new Emitter());\n        this.onCaseSensitiveKeyDown = this._onCaseSensitiveKeyDown.event;\n        this._onRegexKeyDown = this._register(new Emitter());\n        this.onRegexKeyDown = this._onRegexKeyDown.event;\n        this._lastHighlightFindOptions = 0;\n        this.placeholder = options.placeholder || '';\n        this.validation = options.validation;\n        this.label = options.label || NLS_DEFAULT_LABEL;\n        this.showCommonFindToggles = !!options.showCommonFindToggles;\n        const appendCaseSensitiveLabel = options.appendCaseSensitiveLabel || '';\n        const appendWholeWordsLabel = options.appendWholeWordsLabel || '';\n        const appendRegexLabel = options.appendRegexLabel || '';\n        const history = options.history || [];\n        const flexibleHeight = !!options.flexibleHeight;\n        const flexibleWidth = !!options.flexibleWidth;\n        const flexibleMaxHeight = options.flexibleMaxHeight;\n        this.domNode = document.createElement('div');\n        this.domNode.classList.add('monaco-findInput');\n        this.inputBox = this._register(new HistoryInputBox(this.domNode, contextViewProvider, {\n            placeholder: this.placeholder || '',\n            ariaLabel: this.label || '',\n            validationOptions: {\n                validation: this.validation\n            },\n            history,\n            showHistoryHint: options.showHistoryHint,\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight,\n            inputBoxStyles: options.inputBoxStyles,\n        }));\n        if (this.showCommonFindToggles) {\n            this.regex = this._register(new RegexToggle(Object.assign({ appendTitle: appendRegexLabel, isChecked: false }, options.toggleStyles)));\n            this._register(this.regex.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n                this.validate();\n            }));\n            this._register(this.regex.onKeyDown(e => {\n                this._onRegexKeyDown.fire(e);\n            }));\n            this.wholeWords = this._register(new WholeWordsToggle(Object.assign({ appendTitle: appendWholeWordsLabel, isChecked: false }, options.toggleStyles)));\n            this._register(this.wholeWords.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n                this.validate();\n            }));\n            this.caseSensitive = this._register(new CaseSensitiveToggle(Object.assign({ appendTitle: appendCaseSensitiveLabel, isChecked: false }, options.toggleStyles)));\n            this._register(this.caseSensitive.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n                this.validate();\n            }));\n            this._register(this.caseSensitive.onKeyDown(e => {\n                this._onCaseSensitiveKeyDown.fire(e);\n            }));\n            // Arrow-Key support to navigate between options\n            const indexes = [this.caseSensitive.domNode, this.wholeWords.domNode, this.regex.domNode];\n            this.onkeydown(this.domNode, (event) => {\n                if (event.equals(15 /* KeyCode.LeftArrow */) || event.equals(17 /* KeyCode.RightArrow */) || event.equals(9 /* KeyCode.Escape */)) {\n                    const index = indexes.indexOf(document.activeElement);\n                    if (index >= 0) {\n                        let newIndex = -1;\n                        if (event.equals(17 /* KeyCode.RightArrow */)) {\n                            newIndex = (index + 1) % indexes.length;\n                        }\n                        else if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                            if (index === 0) {\n                                newIndex = indexes.length - 1;\n                            }\n                            else {\n                                newIndex = index - 1;\n                            }\n                        }\n                        if (event.equals(9 /* KeyCode.Escape */)) {\n                            indexes[index].blur();\n                            this.inputBox.focus();\n                        }\n                        else if (newIndex >= 0) {\n                            indexes[newIndex].focus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                    }\n                }\n            });\n        }\n        this.controls = document.createElement('div');\n        this.controls.className = 'controls';\n        this.controls.style.display = this.showCommonFindToggles ? '' : 'none';\n        if (this.caseSensitive) {\n            this.controls.append(this.caseSensitive.domNode);\n        }\n        if (this.wholeWords) {\n            this.controls.appendChild(this.wholeWords.domNode);\n        }\n        if (this.regex) {\n            this.controls.appendChild(this.regex.domNode);\n        }\n        this.setAdditionalToggles(options === null || options === void 0 ? void 0 : options.additionalToggles);\n        if (this.controls) {\n            this.domNode.appendChild(this.controls);\n        }\n        parent === null || parent === void 0 ? void 0 : parent.appendChild(this.domNode);\n        this._register(dom.addDisposableListener(this.inputBox.inputElement, 'compositionstart', (e) => {\n            this.imeSessionInProgress = true;\n        }));\n        this._register(dom.addDisposableListener(this.inputBox.inputElement, 'compositionend', (e) => {\n            this.imeSessionInProgress = false;\n            this._onInput.fire();\n        }));\n        this.onkeydown(this.inputBox.inputElement, (e) => this._onKeyDown.fire(e));\n        this.onkeyup(this.inputBox.inputElement, (e) => this._onKeyUp.fire(e));\n        this.oninput(this.inputBox.inputElement, (e) => this._onInput.fire());\n        this.onmousedown(this.inputBox.inputElement, (e) => this._onMouseDown.fire(e));\n    }\n    get onDidChange() {\n        return this.inputBox.onDidChange;\n    }\n    layout(style) {\n        this.inputBox.layout();\n        this.updateInputBoxPadding(style.collapsedFindWidget);\n    }\n    enable() {\n        var _a, _b, _c;\n        this.domNode.classList.remove('disabled');\n        this.inputBox.enable();\n        (_a = this.regex) === null || _a === void 0 ? void 0 : _a.enable();\n        (_b = this.wholeWords) === null || _b === void 0 ? void 0 : _b.enable();\n        (_c = this.caseSensitive) === null || _c === void 0 ? void 0 : _c.enable();\n        for (const toggle of this.additionalToggles) {\n            toggle.enable();\n        }\n    }\n    disable() {\n        var _a, _b, _c;\n        this.domNode.classList.add('disabled');\n        this.inputBox.disable();\n        (_a = this.regex) === null || _a === void 0 ? void 0 : _a.disable();\n        (_b = this.wholeWords) === null || _b === void 0 ? void 0 : _b.disable();\n        (_c = this.caseSensitive) === null || _c === void 0 ? void 0 : _c.disable();\n        for (const toggle of this.additionalToggles) {\n            toggle.disable();\n        }\n    }\n    setFocusInputOnOptionClick(value) {\n        this.fixFocusOnOptionClickEnabled = value;\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    }\n    setAdditionalToggles(toggles) {\n        for (const currentToggle of this.additionalToggles) {\n            currentToggle.domNode.remove();\n        }\n        this.additionalToggles = [];\n        this.additionalTogglesDisposables.value = new DisposableStore();\n        for (const toggle of toggles !== null && toggles !== void 0 ? toggles : []) {\n            this.additionalTogglesDisposables.value.add(toggle);\n            this.controls.appendChild(toggle.domNode);\n            this.additionalTogglesDisposables.value.add(toggle.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n            }));\n            this.additionalToggles.push(toggle);\n        }\n        if (this.additionalToggles.length > 0) {\n            this.controls.style.display = '';\n        }\n        this.updateInputBoxPadding();\n    }\n    updateInputBoxPadding(controlsHidden = false) {\n        var _a, _b, _c, _d, _e, _f;\n        if (controlsHidden) {\n            this.inputBox.paddingRight = 0;\n        }\n        else {\n            this.inputBox.paddingRight =\n                (((_b = (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.width()) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = this.wholeWords) === null || _c === void 0 ? void 0 : _c.width()) !== null && _d !== void 0 ? _d : 0) + ((_f = (_e = this.regex) === null || _e === void 0 ? void 0 : _e.width()) !== null && _f !== void 0 ? _f : 0))\n                    + this.additionalToggles.reduce((r, t) => r + t.width(), 0);\n        }\n    }\n    getValue() {\n        return this.inputBox.value;\n    }\n    setValue(value) {\n        if (this.inputBox.value !== value) {\n            this.inputBox.value = value;\n        }\n    }\n    select() {\n        this.inputBox.select();\n    }\n    focus() {\n        this.inputBox.focus();\n    }\n    getCaseSensitive() {\n        var _a, _b;\n        return (_b = (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : false;\n    }\n    setCaseSensitive(value) {\n        if (this.caseSensitive) {\n            this.caseSensitive.checked = value;\n        }\n    }\n    getWholeWords() {\n        var _a, _b;\n        return (_b = (_a = this.wholeWords) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : false;\n    }\n    setWholeWords(value) {\n        if (this.wholeWords) {\n            this.wholeWords.checked = value;\n        }\n    }\n    getRegex() {\n        var _a, _b;\n        return (_b = (_a = this.regex) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : false;\n    }\n    setRegex(value) {\n        if (this.regex) {\n            this.regex.checked = value;\n            this.validate();\n        }\n    }\n    focusOnCaseSensitive() {\n        var _a;\n        (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    highlightFindOptions() {\n        this.domNode.classList.remove('highlight-' + (this._lastHighlightFindOptions));\n        this._lastHighlightFindOptions = 1 - this._lastHighlightFindOptions;\n        this.domNode.classList.add('highlight-' + (this._lastHighlightFindOptions));\n    }\n    validate() {\n        this.inputBox.validate();\n    }\n    showMessage(message) {\n        this.inputBox.showMessage(message);\n    }\n    clearMessage() {\n        this.inputBox.hideMessage();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Toggle } from '../toggle/toggle.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport * as nls from '../../../../nls.js';\nconst NLS_CASE_SENSITIVE_TOGGLE_LABEL = nls.localize('caseDescription', \"Match Case\");\nconst NLS_WHOLE_WORD_TOGGLE_LABEL = nls.localize('wordsDescription', \"Match Whole Word\");\nconst NLS_REGEX_TOGGLE_LABEL = nls.localize('regexDescription', \"Use Regular Expression\");\nexport class CaseSensitiveToggle extends Toggle {\n    constructor(opts) {\n        super({\n            icon: Codicon.caseSensitive,\n            title: NLS_CASE_SENSITIVE_TOGGLE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class WholeWordsToggle extends Toggle {\n    constructor(opts) {\n        super({\n            icon: Codicon.wholeWord,\n            title: NLS_WHOLE_WORD_TOGGLE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class RegexToggle extends Toggle {\n    constructor(opts) {\n        super({\n            icon: Codicon.regex,\n            title: NLS_REGEX_TOGGLE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { Toggle } from '../toggle/toggle.js';\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\nimport { Widget } from '../widget.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport { Emitter } from '../../../common/event.js';\nimport './findInput.css';\nimport * as nls from '../../../../nls.js';\nconst NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\nconst NLS_PRESERVE_CASE_LABEL = nls.localize('label.preserveCaseToggle', \"Preserve Case\");\nclass PreserveCaseToggle extends Toggle {\n    constructor(opts) {\n        super({\n            // TODO: does this need its own icon?\n            icon: Codicon.preserveCase,\n            title: NLS_PRESERVE_CASE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class ReplaceInput extends Widget {\n    constructor(parent, contextViewProvider, _showOptionButtons, options) {\n        super();\n        this._showOptionButtons = _showOptionButtons;\n        this.fixFocusOnOptionClickEnabled = true;\n        this.cachedOptionsWidth = 0;\n        this._onDidOptionChange = this._register(new Emitter());\n        this.onDidOptionChange = this._onDidOptionChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._onMouseDown = this._register(new Emitter());\n        this._onInput = this._register(new Emitter());\n        this._onKeyUp = this._register(new Emitter());\n        this._onPreserveCaseKeyDown = this._register(new Emitter());\n        this.onPreserveCaseKeyDown = this._onPreserveCaseKeyDown.event;\n        this.contextViewProvider = contextViewProvider;\n        this.placeholder = options.placeholder || '';\n        this.validation = options.validation;\n        this.label = options.label || NLS_DEFAULT_LABEL;\n        const appendPreserveCaseLabel = options.appendPreserveCaseLabel || '';\n        const history = options.history || [];\n        const flexibleHeight = !!options.flexibleHeight;\n        const flexibleWidth = !!options.flexibleWidth;\n        const flexibleMaxHeight = options.flexibleMaxHeight;\n        this.domNode = document.createElement('div');\n        this.domNode.classList.add('monaco-findInput');\n        this.inputBox = this._register(new HistoryInputBox(this.domNode, this.contextViewProvider, {\n            ariaLabel: this.label || '',\n            placeholder: this.placeholder || '',\n            validationOptions: {\n                validation: this.validation\n            },\n            history,\n            showHistoryHint: options.showHistoryHint,\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight,\n            inputBoxStyles: options.inputBoxStyles\n        }));\n        this.preserveCase = this._register(new PreserveCaseToggle(Object.assign({ appendTitle: appendPreserveCaseLabel, isChecked: false }, options.toggleStyles)));\n        this._register(this.preserveCase.onChange(viaKeyboard => {\n            this._onDidOptionChange.fire(viaKeyboard);\n            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                this.inputBox.focus();\n            }\n            this.validate();\n        }));\n        this._register(this.preserveCase.onKeyDown(e => {\n            this._onPreserveCaseKeyDown.fire(e);\n        }));\n        if (this._showOptionButtons) {\n            this.cachedOptionsWidth = this.preserveCase.width();\n        }\n        else {\n            this.cachedOptionsWidth = 0;\n        }\n        // Arrow-Key support to navigate between options\n        const indexes = [this.preserveCase.domNode];\n        this.onkeydown(this.domNode, (event) => {\n            if (event.equals(15 /* KeyCode.LeftArrow */) || event.equals(17 /* KeyCode.RightArrow */) || event.equals(9 /* KeyCode.Escape */)) {\n                const index = indexes.indexOf(document.activeElement);\n                if (index >= 0) {\n                    let newIndex = -1;\n                    if (event.equals(17 /* KeyCode.RightArrow */)) {\n                        newIndex = (index + 1) % indexes.length;\n                    }\n                    else if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                        if (index === 0) {\n                            newIndex = indexes.length - 1;\n                        }\n                        else {\n                            newIndex = index - 1;\n                        }\n                    }\n                    if (event.equals(9 /* KeyCode.Escape */)) {\n                        indexes[index].blur();\n                        this.inputBox.focus();\n                    }\n                    else if (newIndex >= 0) {\n                        indexes[newIndex].focus();\n                    }\n                    dom.EventHelper.stop(event, true);\n                }\n            }\n        });\n        const controls = document.createElement('div');\n        controls.className = 'controls';\n        controls.style.display = this._showOptionButtons ? 'block' : 'none';\n        controls.appendChild(this.preserveCase.domNode);\n        this.domNode.appendChild(controls);\n        parent === null || parent === void 0 ? void 0 : parent.appendChild(this.domNode);\n        this.onkeydown(this.inputBox.inputElement, (e) => this._onKeyDown.fire(e));\n        this.onkeyup(this.inputBox.inputElement, (e) => this._onKeyUp.fire(e));\n        this.oninput(this.inputBox.inputElement, (e) => this._onInput.fire());\n        this.onmousedown(this.inputBox.inputElement, (e) => this._onMouseDown.fire(e));\n    }\n    enable() {\n        this.domNode.classList.remove('disabled');\n        this.inputBox.enable();\n        this.preserveCase.enable();\n    }\n    disable() {\n        this.domNode.classList.add('disabled');\n        this.inputBox.disable();\n        this.preserveCase.disable();\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    }\n    select() {\n        this.inputBox.select();\n    }\n    focus() {\n        this.inputBox.focus();\n    }\n    getPreserveCase() {\n        return this.preserveCase.checked;\n    }\n    setPreserveCase(value) {\n        this.preserveCase.checked = value;\n    }\n    focusOnPreserve() {\n        this.preserveCase.focus();\n    }\n    validate() {\n        var _a;\n        (_a = this.inputBox) === null || _a === void 0 ? void 0 : _a.validate();\n    }\n    set width(newWidth) {\n        this.inputBox.paddingRight = this.cachedOptionsWidth;\n        this.domNode.style.width = newWidth + 'px';\n    }\n    dispose() {\n        super.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nimport * as objects from '../../../common/objects.js';\n/**\n * A widget which can render a label with substring highlights, often\n * originating from a filter function like the fuzzy matcher.\n */\nexport class HighlightedLabel {\n    /**\n     * Create a new {@link HighlightedLabel}.\n     *\n     * @param container The parent container to append to.\n     */\n    constructor(container, options) {\n        var _a;\n        this.text = '';\n        this.title = '';\n        this.highlights = [];\n        this.didEverRender = false;\n        this.supportIcons = (_a = options === null || options === void 0 ? void 0 : options.supportIcons) !== null && _a !== void 0 ? _a : false;\n        this.domNode = dom.append(container, dom.$('span.monaco-highlighted-label'));\n    }\n    /**\n     * The label's DOM node.\n     */\n    get element() {\n        return this.domNode;\n    }\n    /**\n     * Set the label and highlights.\n     *\n     * @param text The label to display.\n     * @param highlights The ranges to highlight.\n     * @param title An optional title for the hover tooltip.\n     * @param escapeNewLines Whether to escape new lines.\n     * @returns\n     */\n    set(text, highlights = [], title = '', escapeNewLines) {\n        if (!text) {\n            text = '';\n        }\n        if (escapeNewLines) {\n            // adjusts highlights inplace\n            text = HighlightedLabel.escapeNewLines(text, highlights);\n        }\n        if (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\n            return;\n        }\n        this.text = text;\n        this.title = title;\n        this.highlights = highlights;\n        this.render();\n    }\n    render() {\n        const children = [];\n        let pos = 0;\n        for (const highlight of this.highlights) {\n            if (highlight.end === highlight.start) {\n                continue;\n            }\n            if (pos < highlight.start) {\n                const substring = this.text.substring(pos, highlight.start);\n                if (this.supportIcons) {\n                    children.push(...renderLabelWithIcons(substring));\n                }\n                else {\n                    children.push(substring);\n                }\n                pos = highlight.start;\n            }\n            const substring = this.text.substring(pos, highlight.end);\n            const element = dom.$('span.highlight', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]);\n            if (highlight.extraClasses) {\n                element.classList.add(...highlight.extraClasses);\n            }\n            children.push(element);\n            pos = highlight.end;\n        }\n        if (pos < this.text.length) {\n            const substring = this.text.substring(pos);\n            if (this.supportIcons) {\n                children.push(...renderLabelWithIcons(substring));\n            }\n            else {\n                children.push(substring);\n            }\n        }\n        dom.reset(this.domNode, ...children);\n        if (this.title) {\n            this.domNode.title = this.title;\n        }\n        else {\n            this.domNode.removeAttribute('title');\n        }\n        this.didEverRender = true;\n    }\n    static escapeNewLines(text, highlights) {\n        let total = 0;\n        let extra = 0;\n        return text.replace(/\\r\\n|\\r|\\n/g, (match, offset) => {\n            extra = match === '\\r\\n' ? -1 : 0;\n            offset += total;\n            for (const highlight of highlights) {\n                if (highlight.end <= offset) {\n                    continue;\n                }\n                if (highlight.start >= offset) {\n                    highlight.start += extra;\n                }\n                if (highlight.end >= offset) {\n                    highlight.end += extra;\n                }\n            }\n            total += extra;\n            return '\\u23CE';\n        });\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { DomScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './hover.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nexport class HoverWidget extends Disposable {\n    constructor() {\n        super();\n        this.containerDomNode = document.createElement('div');\n        this.containerDomNode.className = 'monaco-hover';\n        this.containerDomNode.tabIndex = 0;\n        this.containerDomNode.setAttribute('role', 'tooltip');\n        this.contentsDomNode = document.createElement('div');\n        this.contentsDomNode.className = 'monaco-hover-content';\n        this.scrollbar = this._register(new DomScrollableElement(this.contentsDomNode, {\n            consumeMouseWheelIfScrollbarIsNeeded: true\n        }));\n        this.containerDomNode.appendChild(this.scrollbar.getDomNode());\n    }\n    onContentsChanged() {\n        this.scrollbar.scanDomNode();\n    }\n}\nexport class HoverAction extends Disposable {\n    static render(parent, actionOptions, keybindingLabel) {\n        return new HoverAction(parent, actionOptions, keybindingLabel);\n    }\n    constructor(parent, actionOptions, keybindingLabel) {\n        super();\n        this.actionContainer = dom.append(parent, $('div.action-container'));\n        this.actionContainer.setAttribute('tabindex', '0');\n        this.action = dom.append(this.actionContainer, $('a.action'));\n        this.action.setAttribute('role', 'button');\n        if (actionOptions.iconClass) {\n            dom.append(this.action, $(`span.icon.${actionOptions.iconClass}`));\n        }\n        const label = dom.append(this.action, $('span'));\n        label.textContent = keybindingLabel ? `${actionOptions.label} (${keybindingLabel})` : actionOptions.label;\n        this._register(dom.addDisposableListener(this.actionContainer, dom.EventType.CLICK, e => {\n            e.stopPropagation();\n            e.preventDefault();\n            actionOptions.run(this.actionContainer);\n        }));\n        this._register(dom.addDisposableListener(this.actionContainer, dom.EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(3 /* KeyCode.Enter */) || event.equals(10 /* KeyCode.Space */)) {\n                e.stopPropagation();\n                e.preventDefault();\n                actionOptions.run(this.actionContainer);\n            }\n        }));\n        this.setEnabled(true);\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.actionContainer.classList.remove('disabled');\n            this.actionContainer.removeAttribute('aria-disabled');\n        }\n        else {\n            this.actionContainer.classList.add('disabled');\n            this.actionContainer.setAttribute('aria-disabled', 'true');\n        }\n    }\n}\nexport function getHoverAccessibleViewHint(shouldHaveHint, keybinding) {\n    return shouldHaveHint && keybinding ? localize('acessibleViewHint', \"Inspect this in the accessible view with {0}.\", keybinding) : shouldHaveHint ? localize('acessibleViewHintNoKbOpen', \"Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding.\") : '';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './iconlabel.css';\nimport * as dom from '../../dom.js';\nimport { HighlightedLabel } from '../highlightedlabel/highlightedLabel.js';\nimport { setupCustomHover, setupNativeHover } from './iconLabelHover.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport { equals } from '../../../common/objects.js';\nimport { Range } from '../../../common/range.js';\nclass FastLabelNode {\n    constructor(_element) {\n        this._element = _element;\n    }\n    get element() {\n        return this._element;\n    }\n    set textContent(content) {\n        if (this.disposed || content === this._textContent) {\n            return;\n        }\n        this._textContent = content;\n        this._element.textContent = content;\n    }\n    set className(className) {\n        if (this.disposed || className === this._className) {\n            return;\n        }\n        this._className = className;\n        this._element.className = className;\n    }\n    set empty(empty) {\n        if (this.disposed || empty === this._empty) {\n            return;\n        }\n        this._empty = empty;\n        this._element.style.marginLeft = empty ? '0' : '';\n    }\n    dispose() {\n        this.disposed = true;\n    }\n}\nexport class IconLabel extends Disposable {\n    constructor(container, options) {\n        super();\n        this.customHovers = new Map();\n        this.creationOptions = options;\n        this.domNode = this._register(new FastLabelNode(dom.append(container, dom.$('.monaco-icon-label'))));\n        this.labelContainer = dom.append(this.domNode.element, dom.$('.monaco-icon-label-container'));\n        const nameContainer = dom.append(this.labelContainer, dom.$('span.monaco-icon-name-container'));\n        if ((options === null || options === void 0 ? void 0 : options.supportHighlights) || (options === null || options === void 0 ? void 0 : options.supportIcons)) {\n            this.nameNode = new LabelWithHighlights(nameContainer, !!options.supportIcons);\n        }\n        else {\n            this.nameNode = new Label(nameContainer);\n        }\n        this.hoverDelegate = options === null || options === void 0 ? void 0 : options.hoverDelegate;\n    }\n    get element() {\n        return this.domNode.element;\n    }\n    setLabel(label, description, options) {\n        const labelClasses = ['monaco-icon-label'];\n        const containerClasses = ['monaco-icon-label-container'];\n        let ariaLabel = '';\n        if (options) {\n            if (options.extraClasses) {\n                labelClasses.push(...options.extraClasses);\n            }\n            if (options.italic) {\n                labelClasses.push('italic');\n            }\n            if (options.strikethrough) {\n                labelClasses.push('strikethrough');\n            }\n            if (options.disabledCommand) {\n                containerClasses.push('disabled');\n            }\n            if (options.title) {\n                ariaLabel += options.title;\n            }\n        }\n        this.domNode.className = labelClasses.join(' ');\n        this.domNode.element.setAttribute('aria-label', ariaLabel);\n        this.labelContainer.className = containerClasses.join(' ');\n        this.setupHover((options === null || options === void 0 ? void 0 : options.descriptionTitle) ? this.labelContainer : this.element, options === null || options === void 0 ? void 0 : options.title);\n        this.nameNode.setLabel(label, options);\n        if (description || this.descriptionNode) {\n            const descriptionNode = this.getOrCreateDescriptionNode();\n            if (descriptionNode instanceof HighlightedLabel) {\n                descriptionNode.set(description || '', options ? options.descriptionMatches : undefined, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n                this.setupHover(descriptionNode.element, options === null || options === void 0 ? void 0 : options.descriptionTitle);\n            }\n            else {\n                descriptionNode.textContent = description && (options === null || options === void 0 ? void 0 : options.labelEscapeNewLines) ? HighlightedLabel.escapeNewLines(description, []) : (description || '');\n                this.setupHover(descriptionNode.element, (options === null || options === void 0 ? void 0 : options.descriptionTitle) || '');\n                descriptionNode.empty = !description;\n            }\n        }\n    }\n    setupHover(htmlElement, tooltip) {\n        const previousCustomHover = this.customHovers.get(htmlElement);\n        if (previousCustomHover) {\n            previousCustomHover.dispose();\n            this.customHovers.delete(htmlElement);\n        }\n        if (!tooltip) {\n            htmlElement.removeAttribute('title');\n            return;\n        }\n        if (!this.hoverDelegate) {\n            setupNativeHover(htmlElement, tooltip);\n        }\n        else {\n            const hoverDisposable = setupCustomHover(this.hoverDelegate, htmlElement, tooltip);\n            if (hoverDisposable) {\n                this.customHovers.set(htmlElement, hoverDisposable);\n            }\n        }\n    }\n    dispose() {\n        super.dispose();\n        for (const disposable of this.customHovers.values()) {\n            disposable.dispose();\n        }\n        this.customHovers.clear();\n    }\n    getOrCreateDescriptionNode() {\n        var _a;\n        if (!this.descriptionNode) {\n            const descriptionContainer = this._register(new FastLabelNode(dom.append(this.labelContainer, dom.$('span.monaco-icon-description-container'))));\n            if ((_a = this.creationOptions) === null || _a === void 0 ? void 0 : _a.supportDescriptionHighlights) {\n                this.descriptionNode = new HighlightedLabel(dom.append(descriptionContainer.element, dom.$('span.label-description')), { supportIcons: !!this.creationOptions.supportIcons });\n            }\n            else {\n                this.descriptionNode = this._register(new FastLabelNode(dom.append(descriptionContainer.element, dom.$('span.label-description'))));\n            }\n        }\n        return this.descriptionNode;\n    }\n}\nclass Label {\n    constructor(container) {\n        this.container = container;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId }));\n            }\n            this.singleLabel.textContent = label;\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                dom.append(this.container, dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' }, l));\n                if (i < label.length - 1) {\n                    dom.append(this.container, dom.$('span.label-separator', undefined, (options === null || options === void 0 ? void 0 : options.separator) || '/'));\n                }\n            }\n        }\n    }\n}\nfunction splitMatches(labels, separator, matches) {\n    if (!matches) {\n        return undefined;\n    }\n    let labelStart = 0;\n    return labels.map(label => {\n        const labelRange = { start: labelStart, end: labelStart + label.length };\n        const result = matches\n            .map(match => Range.intersect(labelRange, match))\n            .filter(range => !Range.isEmpty(range))\n            .map(({ start, end }) => ({ start: start - labelStart, end: end - labelStart }));\n        labelStart = labelRange.end + separator.length;\n        return result;\n    });\n}\nclass LabelWithHighlights {\n    constructor(container, supportIcons) {\n        this.container = container;\n        this.supportIcons = supportIcons;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = new HighlightedLabel(dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId })), { supportIcons: this.supportIcons });\n            }\n            this.singleLabel.set(label, options === null || options === void 0 ? void 0 : options.matches, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            const separator = (options === null || options === void 0 ? void 0 : options.separator) || '/';\n            const matches = splitMatches(label, separator, options === null || options === void 0 ? void 0 : options.matches);\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const m = matches ? matches[i] : undefined;\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                const name = dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' });\n                const highlightedLabel = new HighlightedLabel(dom.append(this.container, name), { supportIcons: this.supportIcons });\n                highlightedLabel.set(l, m, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n                if (i < label.length - 1) {\n                    dom.append(name, dom.$('span.label-separator', undefined, separator));\n                }\n            }\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../dom.js';\nimport { TimeoutTimer } from '../../../common/async.js';\nimport { CancellationTokenSource } from '../../../common/cancellation.js';\nimport { isMarkdownString } from '../../../common/htmlContent.js';\nimport { stripIcons } from '../../../common/iconLabels.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nimport { isFunction, isString } from '../../../common/types.js';\nimport { localize } from '../../../../nls.js';\nexport function setupNativeHover(htmlElement, tooltip) {\n    if (isString(tooltip)) {\n        // Icons don't render in the native hover so we strip them out\n        htmlElement.title = stripIcons(tooltip);\n    }\n    else if (tooltip === null || tooltip === void 0 ? void 0 : tooltip.markdownNotSupportedFallback) {\n        htmlElement.title = tooltip.markdownNotSupportedFallback;\n    }\n    else {\n        htmlElement.removeAttribute('title');\n    }\n}\nclass UpdatableHoverWidget {\n    constructor(hoverDelegate, target, fadeInAnimation) {\n        this.hoverDelegate = hoverDelegate;\n        this.target = target;\n        this.fadeInAnimation = fadeInAnimation;\n    }\n    update(content, focus, options) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._cancellationTokenSource) {\n                // there's an computation ongoing, cancel it\n                this._cancellationTokenSource.dispose(true);\n                this._cancellationTokenSource = undefined;\n            }\n            if (this.isDisposed) {\n                return;\n            }\n            let resolvedContent;\n            if (content === undefined || isString(content) || content instanceof HTMLElement) {\n                resolvedContent = content;\n            }\n            else if (!isFunction(content.markdown)) {\n                resolvedContent = (_a = content.markdown) !== null && _a !== void 0 ? _a : content.markdownNotSupportedFallback;\n            }\n            else {\n                // compute the content, potentially long-running\n                // show 'Loading' if no hover is up yet\n                if (!this._hoverWidget) {\n                    this.show(localize('iconLabel.loading', \"Loading...\"), focus);\n                }\n                // compute the content\n                this._cancellationTokenSource = new CancellationTokenSource();\n                const token = this._cancellationTokenSource.token;\n                resolvedContent = yield content.markdown(token);\n                if (resolvedContent === undefined) {\n                    resolvedContent = content.markdownNotSupportedFallback;\n                }\n                if (this.isDisposed || token.isCancellationRequested) {\n                    // either the widget has been closed in the meantime\n                    // or there has been a new call to `update`\n                    return;\n                }\n            }\n            this.show(resolvedContent, focus, options);\n        });\n    }\n    show(content, focus, options) {\n        const oldHoverWidget = this._hoverWidget;\n        if (this.hasContent(content)) {\n            const hoverOptions = Object.assign({ content, target: this.target, showPointer: this.hoverDelegate.placement === 'element', hoverPosition: 2 /* HoverPosition.BELOW */, skipFadeInAnimation: !this.fadeInAnimation || !!oldHoverWidget }, options);\n            this._hoverWidget = this.hoverDelegate.showHover(hoverOptions, focus);\n        }\n        oldHoverWidget === null || oldHoverWidget === void 0 ? void 0 : oldHoverWidget.dispose();\n    }\n    hasContent(content) {\n        if (!content) {\n            return false;\n        }\n        if (isMarkdownString(content)) {\n            return !!content.value;\n        }\n        return true;\n    }\n    get isDisposed() {\n        var _a;\n        return (_a = this._hoverWidget) === null || _a === void 0 ? void 0 : _a.isDisposed;\n    }\n    dispose() {\n        var _a, _b;\n        (_a = this._hoverWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n        (_b = this._cancellationTokenSource) === null || _b === void 0 ? void 0 : _b.dispose(true);\n        this._cancellationTokenSource = undefined;\n    }\n}\nexport function setupCustomHover(hoverDelegate, htmlElement, content, options) {\n    let hoverPreparation;\n    let hoverWidget;\n    const hideHover = (disposeWidget, disposePreparation) => {\n        var _a;\n        const hadHover = hoverWidget !== undefined;\n        if (disposeWidget) {\n            hoverWidget === null || hoverWidget === void 0 ? void 0 : hoverWidget.dispose();\n            hoverWidget = undefined;\n        }\n        if (disposePreparation) {\n            hoverPreparation === null || hoverPreparation === void 0 ? void 0 : hoverPreparation.dispose();\n            hoverPreparation = undefined;\n        }\n        if (hadHover) {\n            (_a = hoverDelegate.onDidHideHover) === null || _a === void 0 ? void 0 : _a.call(hoverDelegate);\n        }\n    };\n    const triggerShowHover = (delay, focus, target) => {\n        return new TimeoutTimer(() => __awaiter(this, void 0, void 0, function* () {\n            if (!hoverWidget || hoverWidget.isDisposed) {\n                hoverWidget = new UpdatableHoverWidget(hoverDelegate, target || htmlElement, delay > 0);\n                yield hoverWidget.update(content, focus, options);\n            }\n        }), delay);\n    };\n    const onMouseOver = () => {\n        if (hoverPreparation) {\n            return;\n        }\n        const toDispose = new DisposableStore();\n        const onMouseLeave = (e) => hideHover(false, e.fromElement === htmlElement);\n        toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_LEAVE, onMouseLeave, true));\n        const onMouseDown = () => hideHover(true, true);\n        toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_DOWN, onMouseDown, true));\n        const target = {\n            targetElements: [htmlElement],\n            dispose: () => { }\n        };\n        if (hoverDelegate.placement === undefined || hoverDelegate.placement === 'mouse') {\n            // track the mouse position\n            const onMouseMove = (e) => {\n                target.x = e.x + 10;\n                if ((e.target instanceof HTMLElement) && e.target.classList.contains('action-label')) {\n                    hideHover(true, true);\n                }\n            };\n            toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_MOVE, onMouseMove, true));\n        }\n        toDispose.add(triggerShowHover(hoverDelegate.delay, false, target));\n        hoverPreparation = toDispose;\n    };\n    const mouseOverDomEmitter = dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_OVER, onMouseOver, true);\n    const hover = {\n        show: focus => {\n            hideHover(false, true); // terminate a ongoing mouse over preparation\n            triggerShowHover(0, focus); // show hover immediately\n        },\n        hide: () => {\n            hideHover(true, true);\n        },\n        update: (newContent, hoverOptions) => __awaiter(this, void 0, void 0, function* () {\n            content = newContent;\n            yield (hoverWidget === null || hoverWidget === void 0 ? void 0 : hoverWidget.update(content, undefined, hoverOptions));\n        }),\n        dispose: () => {\n            mouseOverDomEmitter.dispose();\n            hideHover(true, true);\n        }\n    };\n    return hover;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { ThemeIcon } from '../../../common/themables.js';\nconst labelWithIconsRegex = new RegExp(`(\\\\\\\\)?\\\\$\\\\((${ThemeIcon.iconNameExpression}(?:${ThemeIcon.iconModifierExpression})?)\\\\)`, 'g');\nexport function renderLabelWithIcons(text) {\n    const elements = new Array();\n    let match;\n    let textStart = 0, textStop = 0;\n    while ((match = labelWithIconsRegex.exec(text)) !== null) {\n        textStop = match.index || 0;\n        if (textStart < textStop) {\n            elements.push(text.substring(textStart, textStop));\n        }\n        textStart = (match.index || 0) + match[0].length;\n        const [, escaped, codicon] = match;\n        elements.push(escaped ? `$(${codicon})` : renderIcon({ id: codicon }));\n    }\n    if (textStart < text.length) {\n        elements.push(text.substring(textStart));\n    }\n    return elements;\n}\nexport function renderIcon(icon) {\n    const node = dom.$(`span`);\n    node.classList.add(...ThemeIcon.asClassNameArray(icon));\n    return node;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport * as aria from '../aria/aria.js';\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Widget } from '../widget.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { HistoryNavigator } from '../../../common/history.js';\nimport { equals } from '../../../common/objects.js';\nimport './inputBox.css';\nimport * as nls from '../../../../nls.js';\nconst $ = dom.$;\nexport const unthemedInboxStyles = {\n    inputBackground: '#3C3C3C',\n    inputForeground: '#CCCCCC',\n    inputValidationInfoBorder: '#55AAFF',\n    inputValidationInfoBackground: '#063B49',\n    inputValidationWarningBorder: '#B89500',\n    inputValidationWarningBackground: '#352A05',\n    inputValidationErrorBorder: '#BE1100',\n    inputValidationErrorBackground: '#5A1D1D',\n    inputBorder: undefined,\n    inputValidationErrorForeground: undefined,\n    inputValidationInfoForeground: undefined,\n    inputValidationWarningForeground: undefined\n};\nexport class InputBox extends Widget {\n    constructor(container, contextViewProvider, options) {\n        var _a;\n        super();\n        this.state = 'idle';\n        this.maxHeight = Number.POSITIVE_INFINITY;\n        this._onDidChange = this._register(new Emitter());\n        this.onDidChange = this._onDidChange.event;\n        this._onDidHeightChange = this._register(new Emitter());\n        this.onDidHeightChange = this._onDidHeightChange.event;\n        this.contextViewProvider = contextViewProvider;\n        this.options = options;\n        this.message = null;\n        this.placeholder = this.options.placeholder || '';\n        this.tooltip = (_a = this.options.tooltip) !== null && _a !== void 0 ? _a : (this.placeholder || '');\n        this.ariaLabel = this.options.ariaLabel || '';\n        if (this.options.validationOptions) {\n            this.validation = this.options.validationOptions.validation;\n        }\n        this.element = dom.append(container, $('.monaco-inputbox.idle'));\n        const tagName = this.options.flexibleHeight ? 'textarea' : 'input';\n        const wrapper = dom.append(this.element, $('.ibwrapper'));\n        this.input = dom.append(wrapper, $(tagName + '.input.empty'));\n        this.input.setAttribute('autocorrect', 'off');\n        this.input.setAttribute('autocapitalize', 'off');\n        this.input.setAttribute('spellcheck', 'false');\n        this.onfocus(this.input, () => this.element.classList.add('synthetic-focus'));\n        this.onblur(this.input, () => this.element.classList.remove('synthetic-focus'));\n        if (this.options.flexibleHeight) {\n            this.maxHeight = typeof this.options.flexibleMaxHeight === 'number' ? this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\n            this.mirror = dom.append(wrapper, $('div.mirror'));\n            this.mirror.innerText = '\\u00a0';\n            this.scrollableElement = new ScrollableElement(this.element, { vertical: 1 /* ScrollbarVisibility.Auto */ });\n            if (this.options.flexibleWidth) {\n                this.input.setAttribute('wrap', 'off');\n                this.mirror.style.whiteSpace = 'pre';\n                this.mirror.style.wordWrap = 'initial';\n            }\n            dom.append(container, this.scrollableElement.getDomNode());\n            this._register(this.scrollableElement);\n            // from ScrollableElement to DOM\n            this._register(this.scrollableElement.onScroll(e => this.input.scrollTop = e.scrollTop));\n            const onSelectionChange = this._register(new DomEmitter(document, 'selectionchange'));\n            const onAnchoredSelectionChange = Event.filter(onSelectionChange.event, () => {\n                const selection = document.getSelection();\n                return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === wrapper;\n            });\n            // from DOM to ScrollableElement\n            this._register(onAnchoredSelectionChange(this.updateScrollDimensions, this));\n            this._register(this.onDidHeightChange(this.updateScrollDimensions, this));\n        }\n        else {\n            this.input.type = this.options.type || 'text';\n            this.input.setAttribute('wrap', 'off');\n        }\n        if (this.ariaLabel) {\n            this.input.setAttribute('aria-label', this.ariaLabel);\n        }\n        if (this.placeholder && !this.options.showPlaceholderOnFocus) {\n            this.setPlaceHolder(this.placeholder);\n        }\n        if (this.tooltip) {\n            this.setTooltip(this.tooltip);\n        }\n        this.oninput(this.input, () => this.onValueChange());\n        this.onblur(this.input, () => this.onBlur());\n        this.onfocus(this.input, () => this.onFocus());\n        this._register(this.ignoreGesture(this.input));\n        setTimeout(() => this.updateMirror(), 0);\n        // Support actions\n        if (this.options.actions) {\n            this.actionbar = this._register(new ActionBar(this.element));\n            this.actionbar.push(this.options.actions, { icon: true, label: false });\n        }\n        this.applyStyles();\n    }\n    onBlur() {\n        this._hideMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', '');\n        }\n    }\n    onFocus() {\n        this._showMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', this.placeholder || '');\n        }\n    }\n    setPlaceHolder(placeHolder) {\n        this.placeholder = placeHolder;\n        this.input.setAttribute('placeholder', placeHolder);\n    }\n    setTooltip(tooltip) {\n        this.tooltip = tooltip;\n        this.input.title = tooltip;\n    }\n    get inputElement() {\n        return this.input;\n    }\n    get value() {\n        return this.input.value;\n    }\n    set value(newValue) {\n        if (this.input.value !== newValue) {\n            this.input.value = newValue;\n            this.onValueChange();\n        }\n    }\n    get height() {\n        return typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\n    }\n    focus() {\n        this.input.focus();\n    }\n    blur() {\n        this.input.blur();\n    }\n    hasFocus() {\n        return document.activeElement === this.input;\n    }\n    select(range = null) {\n        this.input.select();\n        if (range) {\n            this.input.setSelectionRange(range.start, range.end);\n            if (range.end === this.input.value.length) {\n                this.input.scrollLeft = this.input.scrollWidth;\n            }\n        }\n    }\n    isSelectionAtEnd() {\n        return this.input.selectionEnd === this.input.value.length && this.input.selectionStart === this.input.selectionEnd;\n    }\n    enable() {\n        this.input.removeAttribute('disabled');\n    }\n    disable() {\n        this.blur();\n        this.input.disabled = true;\n        this._hideMessage();\n    }\n    set paddingRight(paddingRight) {\n        // Set width to avoid hint text overlapping buttons\n        this.input.style.width = `calc(100% - ${paddingRight}px)`;\n        if (this.mirror) {\n            this.mirror.style.paddingRight = paddingRight + 'px';\n        }\n    }\n    updateScrollDimensions() {\n        if (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\n            return;\n        }\n        const scrollHeight = this.cachedContentHeight;\n        const height = this.cachedHeight;\n        const scrollTop = this.input.scrollTop;\n        this.scrollableElement.setScrollDimensions({ scrollHeight, height });\n        this.scrollableElement.setScrollPosition({ scrollTop });\n    }\n    showMessage(message, force) {\n        if (this.state === 'open' && equals(this.message, message)) {\n            // Already showing\n            return;\n        }\n        this.message = message;\n        this.element.classList.remove('idle');\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add(this.classForType(message.type));\n        const styles = this.stylesForType(this.message.type);\n        this.element.style.border = `1px solid ${dom.asCssValueWithDefault(styles.border, 'transparent')}`;\n        if (this.message.content && (this.hasFocus() || force)) {\n            this._showMessage();\n        }\n    }\n    hideMessage() {\n        this.message = null;\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add('idle');\n        this._hideMessage();\n        this.applyStyles();\n    }\n    validate() {\n        let errorMsg = null;\n        if (this.validation) {\n            errorMsg = this.validation(this.value);\n            if (errorMsg) {\n                this.inputElement.setAttribute('aria-invalid', 'true');\n                this.showMessage(errorMsg);\n            }\n            else if (this.inputElement.hasAttribute('aria-invalid')) {\n                this.inputElement.removeAttribute('aria-invalid');\n                this.hideMessage();\n            }\n        }\n        return errorMsg === null || errorMsg === void 0 ? void 0 : errorMsg.type;\n    }\n    stylesForType(type) {\n        const styles = this.options.inputBoxStyles;\n        switch (type) {\n            case 1 /* MessageType.INFO */: return { border: styles.inputValidationInfoBorder, background: styles.inputValidationInfoBackground, foreground: styles.inputValidationInfoForeground };\n            case 2 /* MessageType.WARNING */: return { border: styles.inputValidationWarningBorder, background: styles.inputValidationWarningBackground, foreground: styles.inputValidationWarningForeground };\n            default: return { border: styles.inputValidationErrorBorder, background: styles.inputValidationErrorBackground, foreground: styles.inputValidationErrorForeground };\n        }\n    }\n    classForType(type) {\n        switch (type) {\n            case 1 /* MessageType.INFO */: return 'info';\n            case 2 /* MessageType.WARNING */: return 'warning';\n            default: return 'error';\n        }\n    }\n    _showMessage() {\n        if (!this.contextViewProvider || !this.message) {\n            return;\n        }\n        let div;\n        const layout = () => div.style.width = dom.getTotalWidth(this.element) + 'px';\n        this.contextViewProvider.showContextView({\n            getAnchor: () => this.element,\n            anchorAlignment: 1 /* AnchorAlignment.RIGHT */,\n            render: (container) => {\n                var _a, _b;\n                if (!this.message) {\n                    return null;\n                }\n                div = dom.append(container, $('.monaco-inputbox-container'));\n                layout();\n                const renderOptions = {\n                    inline: true,\n                    className: 'monaco-inputbox-message'\n                };\n                const spanElement = (this.message.formatContent\n                    ? renderFormattedText(this.message.content, renderOptions)\n                    : renderText(this.message.content, renderOptions));\n                spanElement.classList.add(this.classForType(this.message.type));\n                const styles = this.stylesForType(this.message.type);\n                spanElement.style.backgroundColor = (_a = styles.background) !== null && _a !== void 0 ? _a : '';\n                spanElement.style.color = (_b = styles.foreground) !== null && _b !== void 0 ? _b : '';\n                spanElement.style.border = styles.border ? `1px solid ${styles.border}` : '';\n                dom.append(div, spanElement);\n                return null;\n            },\n            onHide: () => {\n                this.state = 'closed';\n            },\n            layout: layout\n        });\n        // ARIA Support\n        let alertText;\n        if (this.message.type === 3 /* MessageType.ERROR */) {\n            alertText = nls.localize('alertErrorMessage', \"Error: {0}\", this.message.content);\n        }\n        else if (this.message.type === 2 /* MessageType.WARNING */) {\n            alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", this.message.content);\n        }\n        else {\n            alertText = nls.localize('alertInfoMessage', \"Info: {0}\", this.message.content);\n        }\n        aria.alert(alertText);\n        this.state = 'open';\n    }\n    _hideMessage() {\n        if (!this.contextViewProvider) {\n            return;\n        }\n        if (this.state === 'open') {\n            this.contextViewProvider.hideContextView();\n        }\n        this.state = 'idle';\n    }\n    onValueChange() {\n        this._onDidChange.fire(this.value);\n        this.validate();\n        this.updateMirror();\n        this.input.classList.toggle('empty', !this.value);\n        if (this.state === 'open' && this.contextViewProvider) {\n            this.contextViewProvider.layout();\n        }\n    }\n    updateMirror() {\n        if (!this.mirror) {\n            return;\n        }\n        const value = this.value;\n        const lastCharCode = value.charCodeAt(value.length - 1);\n        const suffix = lastCharCode === 10 ? ' ' : '';\n        const mirrorTextContent = (value + suffix)\n            .replace(/\\u000c/g, ''); // Don't measure with the form feed character, which messes up sizing\n        if (mirrorTextContent) {\n            this.mirror.textContent = value + suffix;\n        }\n        else {\n            this.mirror.innerText = '\\u00a0';\n        }\n        this.layout();\n    }\n    applyStyles() {\n        var _a, _b, _c;\n        const styles = this.options.inputBoxStyles;\n        const background = (_a = styles.inputBackground) !== null && _a !== void 0 ? _a : '';\n        const foreground = (_b = styles.inputForeground) !== null && _b !== void 0 ? _b : '';\n        const border = (_c = styles.inputBorder) !== null && _c !== void 0 ? _c : '';\n        this.element.style.backgroundColor = background;\n        this.element.style.color = foreground;\n        this.input.style.backgroundColor = 'inherit';\n        this.input.style.color = foreground;\n        // there's always a border, even if the color is not set.\n        this.element.style.border = `1px solid ${dom.asCssValueWithDefault(border, 'transparent')}`;\n    }\n    layout() {\n        if (!this.mirror) {\n            return;\n        }\n        const previousHeight = this.cachedContentHeight;\n        this.cachedContentHeight = dom.getTotalHeight(this.mirror);\n        if (previousHeight !== this.cachedContentHeight) {\n            this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\n            this.input.style.height = this.cachedHeight + 'px';\n            this._onDidHeightChange.fire(this.cachedContentHeight);\n        }\n    }\n    insertAtCursor(text) {\n        const inputElement = this.inputElement;\n        const start = inputElement.selectionStart;\n        const end = inputElement.selectionEnd;\n        const content = inputElement.value;\n        if (start !== null && end !== null) {\n            this.value = content.substr(0, start) + text + content.substr(end);\n            inputElement.setSelectionRange(start + 1, start + 1);\n            this.layout();\n        }\n    }\n    dispose() {\n        var _a;\n        this._hideMessage();\n        this.message = null;\n        (_a = this.actionbar) === null || _a === void 0 ? void 0 : _a.dispose();\n        super.dispose();\n    }\n}\nexport class HistoryInputBox extends InputBox {\n    constructor(container, contextViewProvider, options) {\n        const NLS_PLACEHOLDER_HISTORY_HINT = nls.localize({ key: 'history.inputbox.hint', comment: ['Text will be prefixed with \\u21C5 plus a single space, then used as a hint where input field keeps history'] }, \"for history\");\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX = ` or \\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT}`;\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS = ` (\\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT})`;\n        super(container, contextViewProvider, options);\n        this._onDidFocus = this._register(new Emitter());\n        this.onDidFocus = this._onDidFocus.event;\n        this._onDidBlur = this._register(new Emitter());\n        this.onDidBlur = this._onDidBlur.event;\n        this.history = new HistoryNavigator(options.history, 100);\n        // Function to append the history suffix to the placeholder if necessary\n        const addSuffix = () => {\n            if (options.showHistoryHint && options.showHistoryHint() && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX) && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS) && this.history.getHistory().length) {\n                const suffix = this.placeholder.endsWith(')') ? NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX : NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS;\n                const suffixedPlaceholder = this.placeholder + suffix;\n                if (options.showPlaceholderOnFocus && document.activeElement !== this.input) {\n                    this.placeholder = suffixedPlaceholder;\n                }\n                else {\n                    this.setPlaceHolder(suffixedPlaceholder);\n                }\n            }\n        };\n        // Spot the change to the textarea class attribute which occurs when it changes between non-empty and empty,\n        // and add the history suffix to the placeholder if not yet present\n        this.observer = new MutationObserver((mutationList, observer) => {\n            mutationList.forEach((mutation) => {\n                if (!mutation.target.textContent) {\n                    addSuffix();\n                }\n            });\n        });\n        this.observer.observe(this.input, { attributeFilter: ['class'] });\n        this.onfocus(this.input, () => addSuffix());\n        this.onblur(this.input, () => {\n            const resetPlaceholder = (historyHint) => {\n                if (!this.placeholder.endsWith(historyHint)) {\n                    return false;\n                }\n                else {\n                    const revertedPlaceholder = this.placeholder.slice(0, this.placeholder.length - historyHint.length);\n                    if (options.showPlaceholderOnFocus) {\n                        this.placeholder = revertedPlaceholder;\n                    }\n                    else {\n                        this.setPlaceHolder(revertedPlaceholder);\n                    }\n                    return true;\n                }\n            };\n            if (!resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS)) {\n                resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX);\n            }\n        });\n    }\n    dispose() {\n        super.dispose();\n        if (this.observer) {\n            this.observer.disconnect();\n            this.observer = undefined;\n        }\n    }\n    addToHistory(always) {\n        if (this.value && (always || this.value !== this.getCurrentValue())) {\n            this.history.add(this.value);\n        }\n    }\n    isAtLastInHistory() {\n        return this.history.isLast();\n    }\n    isNowhereInHistory() {\n        return this.history.isNowhere();\n    }\n    showNextValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let next = this.getNextValue();\n        if (next) {\n            next = next === this.value ? this.getNextValue() : next;\n        }\n        this.value = next !== null && next !== void 0 ? next : '';\n        aria.status(this.value ? this.value : nls.localize('clearedInput', \"Cleared Input\"));\n    }\n    showPreviousValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let previous = this.getPreviousValue();\n        if (previous) {\n            previous = previous === this.value ? this.getPreviousValue() : previous;\n        }\n        if (previous) {\n            this.value = previous;\n            aria.status(this.value);\n        }\n    }\n    onBlur() {\n        super.onBlur();\n        this._onDidBlur.fire();\n    }\n    onFocus() {\n        super.onFocus();\n        this._onDidFocus.fire();\n    }\n    getCurrentValue() {\n        let currentValue = this.history.current();\n        if (!currentValue) {\n            currentValue = this.history.last();\n            this.history.next();\n        }\n        return currentValue;\n    }\n    getPreviousValue() {\n        return this.history.previous() || this.history.first();\n    }\n    getNextValue() {\n        return this.history.next();\n    }\n}\n"],"names":["FastDomNode","domNode","_classCallCheck","this","_maxWidth","_width","_height","_top","_left","_bottom","_right","_paddingLeft","_fontFamily","_fontWeight","_fontSize","_fontStyle","_fontFeatureSettings","_fontVariationSettings","_textDecoration","_lineHeight","_letterSpacing","_className","_display","_position","_visibility","_color","_backgroundColor","_layerHint","_contain","_boxShadow","_createClass","key","value","maxWidth","numberAsPixels","style","width","height","top","left","bottom","right","paddingLeft","fontFamily","fontWeight","fontSize","fontStyle","fontFeatureSettings","fontVariationSettings","textDecoration","lineHeight","letterSpacing","className","shouldHaveIt","classList","toggle","display","position","visibility","color","backgroundColor","layerHint","transform","boxShadow","contain","name","setAttribute","removeAttribute","child","appendChild","removeChild","concat","createFastDomNode","renderText","text","element","createElement","arguments","length","undefined","textContent","renderFormattedText","formattedText","options","_renderFormattedText","content","parseCodeSegments","root","type","children","actionViewItemIndex","current","stack","stream","StringStream","eos","next","isEscapedFormatType","formatTagType","peek","isFormatTag","advance","pop","newCurrent","index","push","textCurrent","parseFormattedText","renderCodeSegments","actionHandler","tagName","inline","document","source","treeNode","createTextNode","a","disposables","add","DOM","event","callback","String","Array","isArray","forEach","nodeChild","char","supportCodeSegments","GlobalPointerMoveMonitor","_hooks","DisposableStore","_pointerMoveCallback","_onStopCallback","stopMonitoring","dispose","invokeStopCallback","browserEvent","isMonitoring","clear","onStopCallback","initialElement","pointerId","initialButtons","pointerMoveCallback","_this","eventSource","setPointerCapture","toDisposable","releasePointerCapture","err","window","dom","POINTER_MOVE","e","buttons","preventDefault","POINTER_UP","ctrlKeyMod","platform","metaKeyMod","StandardKeyboardEvent","_standardKeyboardEventBrand","target","ctrlKey","shiftKey","altKey","metaKey","altGraphKey","getModifierState","keyCode","charCode","fromCharCode","toUpperCase","KeyCodeUtils","fromString","browser","EVENT_KEY_CODE_MAP","extractKeyCode","code","_asKeybinding","_computeKeybinding","_asKeyCodeChord","_computeKeyCodeChord","stopPropagation","other","result","KeyCodeChord","defaultMarkedRenderers","Object","freeze","image","href","title","dimensions","attributes","_parseHrefAndDimensio","parseHrefAndDimensions","escapeDoubleQuotes","join","paragraph","link","removeMarkdownEscapes","replace","renderMarkdown","markdown","_a","_b","markedOptions","isDisposed","_uriMassage","part","data","parse","decodeURIComponent","cloneAndChange","uris","URI","revive","encodeURIComponent","JSON","stringify","_href","isDomUri","uri","startsWith","Schemas","FileAccess","uriToBrowserUri","toString","query","with","renderer","marked","Renderer","codeBlocks","syncCodeBlocks","codeBlockRendererSync","lang","id","defaultGenerator","nextId","postProcessCodeBlockLanguageId","escape","codeBlockRenderer","then","_activateLink","parentElement","dataset","baseUri","resolveWithBaseUri","from","onUnexpectedError","onClick","DomEmitter","onAuxClick","Event","any","mouseEvent","StandardMouseEvent","leftButton","middleButton","keyboardEvent","equals","supportHtml","sanitizer","html","isTrusted","match","sanitize","silent","renderedMarkdown","substr","supportThemeIcons","markdownEscapeEscapedIcons","fillInIncompleteTokens","opts","assign","defaults","newTokens","tokens","i","token","raw","completeCodeBlock","slice","completeTable","newToken","completeSingleLinePattern","newTokensList","_toConsumableArray","links","lexer","parser","renderLabelWithIcons","map","outerHTML","markdownHtmlDoc","DOMParser","parseFromString","sanitizeRenderedMarkdown","body","querySelectorAll","img","src","getAttribute","test","replaceWith","apply","childNodes","resolvedHref","innerHTML","Promise","all","tuples","_step","renderedElements","Map","placeholderElements","_iterator","_createForOfIteratorHelper","s","n","done","placeholderElement","renderedElement","get","f","asyncRenderCallback","call","_step2","_iterator2","_step3","_iterator3","getElementsByTagName","_loop","listener","parts","split","path","endsWith","resolvePath","dirname","_getSanitizerOptions","allowedSchemes","http","https","mailto","file","vscodeFileResource","vscodeRemote","vscodeRemoteResource","command","config","ALLOWED_TAGS","ALLOWED_ATTR","allowedMarkdownAttr","ALLOW_UNKNOWN_PROTOCOLS","getSanitizerOptions","dompurify","attrName","keepAttr","attrValue","hook","RETURN_TRUSTED_TYPE","renderStringAsPlaintext","string","plainTextRenderer","m","unescapeInfo","renderMarkdownAsPlaintext","Lazy","blockquote","quote","_html","heading","_level","_raw","hr","list","_ordered","listitem","table","header","tablerow","tablecell","_flags","strong","em","codespan","br","del","_title","_text","mergeRawTokenText","mergedTokenText","_step4","_iterator4","subtoken","lines","lastLine","includes","completeCodespan","completeWithString","completeStar","completeDoubleUnderscore","completeUnderscore","completeLinkTarget","completeLinkText","mergedRawText","closingString","numCols","hasSeparatorRow","line","trim","line1Matches","prefixText","line1EndsInPipe","newRawText","repeat","sameOriginWindowChainCache","getParentWindowIfSameOrigin","w","parent","location","parentLocation","origin","IframeUtils","iframeElement","frameElement","childWindow","ancestorWindow","windowChain","getSameOriginWindowChain","windowChainEl","scrollY","scrollX","boundingRect","getBoundingClientRect","timestamp","Date","now","button","rightButton","detail","pageX","posx","posy","pageY","clientX","ownerDocument","scrollLeft","documentElement","clientY","scrollTop","iframeOffsets","getPositionOfChildWindowRelativeToAncestorWindow","view","StandardWheelEvent","deltaX","deltaY","targetNode","srcElement","e1","e2","wheelDeltaY","VERTICAL_AXIS","axis","ev","deltaMode","DOM_DELTA_LINE","wheelDeltaX","HORIZONTAL_AXIS","wheelDelta","inputLatency","totalKeydownTime","total","min","Number","MAX_VALUE","max","totalInputTime","totalRenderTime","totalInputLatencyTime","measurementsCount","state","keydown","input","render","markKeyDownEnd","performance","mark","onBeforeInput","scheduleRecordIfFinishedTask","markInputEnd","markRenderEnd","setTimeout","recordIfFinished","measure","addMeasure","clearMarks","clearMeasures","entryName","cumulativeMeasurement","duration","getEntriesByName","Math","cumulativeToFinalMeasurement","cumulative","average","clearCumulativeMeasurement","onKeyDown","queueMicrotask","onInput","onKeyUp","onSelectionChange","onRenderStart","getAndClearMeasurements","sampleCount","EventType","__decorate","decorators","desc","d","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Tap","Change","Start","End","Contextmenu","Gesture","_Disposable","_inherits","_super","_createSuper","dispatched","targets","LinkedList","ignoreTargets","activeTouches","handle","_lastSetTapCountTime","_register","DomUtils","onTouchStart","passive","onTouchEnd","onTouchMove","_get","_getPrototypeOf","prototype","len","targetTouches","touch","item","identifier","initialTarget","initialTimeStamp","initialPageX","initialPageY","rollingTimestamps","rollingPageX","rollingPageY","evt","newGestureEvent","dispatchEvent","_this2","activeTouchCount","keys","changedTouches","hasOwnProperty","console","warn","holdTime","HOLD_DELAY","abs","arrays","finalX","finalY","deltaT","dispatchTo","filter","t","Node","contains","inertia","createEvent","initEvent","tapCount","currentTime","getTime","setTapCount","CLEAR_TAP_COUNT_TIME","t1","vX","dirX","x","vY","dirY","y","_this3","delta_pos_x","delta_pos_y","stopped","SCROLL_FRICTION","translationX","translationY","shift","isTouchDevice","Disposable","None","INSTANCE","markAsSingleton","remove","navigator","maxTouchPoints","memoize","createTrustedTypesPolicy","policyName","policyOptions","monacoEnvironment","globalThis","MonacoEnvironment","trustedTypes","createPolicy","BaseActionViewItem","context","action","_context","_assertThisInitialized","_action","Action","onDidChange","handleActionChangeEvent","enabled","updateEnabled","checked","updateChecked","class","updateClass","label","updateLabel","updateTooltip","tooltip","_actionRunner","ActionRunner","set","actionRunner","newContext","container","addTarget","enableDragging","draggable","isFirefox","addDisposableListener","DRAG_START","dataTransfer","setData","DataTransfers","TEXT","TouchEventType","MOUSE_DOWN","EventHelper","stop","CONTEXT_MENU","CLICK","isMenu","DBLCLICK","MOUSE_UP","MOUSE_OUT","preserveFocus","types","useEventAsContext","run","tabIndex","focus","blur","focusable","getTooltip","updateAriaLabel","hoverDelegate","customHover","update","setupCustomHover","_store","ActionViewItem","_BaseActionViewItem","_super2","icon","cssClass","append","$","getDefaultAriaRole","keybinding","Separator","ID","nls","comment","_this$label$classList","_this$label$classList2","SelectActionViewItem","_BaseActionViewItem2","_super3","ctx","selected","contextViewProvider","styles","selectBoxOptions","_this4","selectBox","SelectBox","setFocusable","registerListeners","select","_this5","onDidSelect","runAction","option","getActionContext","__awaiter","thisArg","_arguments","P","generator","resolve","reject","fulfilled","step","rejected","ActionBar","_c","_d","_e","_f","previousKeys","nextKeys","_actionRunnerDisposables","viewItemDisposables","DisposableMap","triggerKeyDown","_onDidBlur","Emitter","onDidBlur","_onDidCancel","onWillAddFirstListener","cancelHasListener","onDidCancel","_onDidRun","onDidRun","_onWillRun","onWillRun","_orientation","orientation","_triggerKeys","keyDown","triggerKeys","fire","viewItems","focusedItem","animated","KEY_DOWN","eventHandled","focusPrevious","focusNext","focusFirst","focusLast","trapsArrowNavigation","isTriggerKeyEvent","doTrigger","KEY_UP","updateFocusedItem","focusTracker","previouslyFocusedItem","onDidFocus","actionsList","highlightToggledItems","ariaRole","ariaLabel","firstEnabled","find","vi","isEnabled","ret","elem","setActionContext","indexOrElement","HTMLElement","arg","actions","actionViewItemElement","viewItemOptions","actionViewItemProvider","allowContextMenu","insertBefore","splice","refreshRole","isEmpty","clearAndDisposeAll","selectFirst","findIndex","updateFocus","forceLoop","startIndex","preventLoopNavigation","focusOnlyEnabledItems","fromRight","preventScroll","forceFocus","actionViewItem","focusItem","_regeneratorRuntime","_callee","wrap","prev","getContainer","ariaContainer","alertContainer","alertContainer2","statusContainer","statusContainer2","MAX_MESSAGE_LENGTH","setARIAContainer","createAlertContainer","createStatusContainer","alert","msg","clearNode","insertMessage","status","Button","Color","white","_label","_onDidClick","_element","secondary","background","buttonSecondaryBackground","buttonBackground","foreground","buttonSecondaryForeground","buttonForeground","supportShortLabel","_labelShortElement","_labelElement","eventType","MOUSE_OVER","updateBackground","trackFocus","elements","segment","node","hover","buttonSecondaryHoverBackground","buttonHoverBackground","isMarkdownString","markdownStringEqual","labelElement","rendered","querySelector","sanitized","ADD_TAGS","reset","supportIcons","getContentElements","LayoutAnchorMode","layout","viewportSize","viewSize","anchor","layoutAfterAnchorBoundary","mode","ALIGN","offset","size","layoutBeforeAnchorBoundary","ContextView","domPosition","delegate","toDisposeOnClean","toDisposeOnSetContainer","shadowRoot","shadowRootHostElement","useFixedPosition","useShadowDOM","setContainer","attachShadow","SHADOW_ROOT_CSS","BUBBLE_UP_EVENTS","onDOMEvent","BUBBLE_DOWN_EVENTS","isVisible","hide","zIndex","doLayout","canRelayout","BrowserFeatures","pointerEvents","around","getAnchor","elementPosition","zoom","obj","isAnchor","viewSizeWidth","viewSizeHeight","anchorPosition","anchorAlignment","anchorAxisAlignment","verticalAnchor","pageYOffset","horizontalAnchor","innerHeight","Range","intersects","start","end","AVOID","innerWidth","containerPosition","onHide","onCapture","activeElement","CountBadge","count","countFormat","titleFormat","setCount","format","badgeBackground","badgeForeground","badgeBorder","border","DropdownMenu","_BaseDropdown","_options","_actions","_menuOptions","actionProvider","getActions","contextMenuProvider","showContextMenu","getActionsContext","menuOptions","getActionViewItem","getKeyBinding","getMenuClassName","menuClassName","domForShadowRoot","menuAsChild","skipTelemetry","_ActionRunner","BaseDropdown","_onDidChangeVisibility","onDidChangeVisibility","labelRenderer","_i","_arr","GestureEventType","_i2","_arr2","MouseEvent","visible","show","cleanupFn","boxContainer","contents","DropdownMenuActionViewItem","menuActionsOrProvider","create","actionItem","isActionsArray","el","_this2$element$classL","classNames","dropdownMenu","keybindingProvider","anchorAlignmentProvider","that","disabled","NLS_DEFAULT_LABEL","FindInput","_Widget","fixFocusOnOptionClickEnabled","imeSessionInProgress","additionalTogglesDisposables","MutableDisposable","additionalToggles","_onDidOptionChange","onDidOptionChange","_onKeyDown","_onMouseDown","onMouseDown","_onInput","_onKeyUp","_onCaseSensitiveKeyDown","onCaseSensitiveKeyDown","_onRegexKeyDown","onRegexKeyDown","_lastHighlightFindOptions","placeholder","validation","showCommonFindToggles","appendCaseSensitiveLabel","appendWholeWordsLabel","appendRegexLabel","history","flexibleHeight","flexibleWidth","flexibleMaxHeight","inputBox","HistoryInputBox","validationOptions","showHistoryHint","inputBoxStyles","regex","RegexToggle","appendTitle","isChecked","toggleStyles","onChange","viaKeyboard","validate","wholeWords","WholeWordsToggle","caseSensitive","CaseSensitiveToggle","indexes","onkeydown","indexOf","newIndex","controls","setAdditionalToggles","inputElement","onkeyup","oninput","onmousedown","updateInputBoxPadding","collapsedFindWidget","enable","disable","toggles","controlsHidden","paddingRight","reduce","message","showMessage","hideMessage","Widget","NLS_CASE_SENSITIVE_TOGGLE_LABEL","NLS_WHOLE_WORD_TOGGLE_LABEL","NLS_REGEX_TOGGLE_LABEL","_Toggle","Codicon","inputActiveOptionBorder","inputActiveOptionForeground","inputActiveOptionBackground","Toggle","_Toggle2","wholeWord","_Toggle3","NLS_PRESERVE_CASE_LABEL","PreserveCaseToggle","preserveCase","ReplaceInput","_showOptionButtons","cachedOptionsWidth","_onPreserveCaseKeyDown","onPreserveCaseKeyDown","appendPreserveCaseLabel","newWidth","HighlightedLabel","highlights","didEverRender","escapeNewLines","objects","pos","highlight","substring","_element$classList","extraClasses","extra","HoverWidget","containerDomNode","contentsDomNode","scrollbar","DomScrollableElement","consumeMouseWheelIfScrollbarIsNeeded","getDomNode","scanDomNode","HoverAction","_Disposable2","actionOptions","keybindingLabel","actionContainer","iconClass","setEnabled","getHoverAccessibleViewHint","shouldHaveHint","localize","FastLabelNode","disposed","_textContent","empty","_empty","marginLeft","IconLabel","customHovers","creationOptions","labelContainer","nameContainer","supportHighlights","nameNode","LabelWithHighlights","Label","description","labelClasses","containerClasses","italic","strikethrough","disabledCommand","setupHover","descriptionTitle","setLabel","descriptionNode","getOrCreateDescriptionNode","descriptionMatches","labelEscapeNewLines","htmlElement","previousCustomHover","delete","hoverDisposable","setupNativeHover","values","descriptionContainer","supportDescriptionHighlights","singleLabel","innerText","domId","l","separator","matches","labels","labelStart","labelRange","intersect","range","_ref","splitMatches","isString","stripIcons","markdownNotSupportedFallback","UpdatableHoverWidget","fadeInAnimation","resolvedContent","_cancellationTokenSource","abrupt","isFunction","_hoverWidget","CancellationTokenSource","sent","isCancellationRequested","oldHoverWidget","hasContent","hoverOptions","showPointer","placement","hoverPosition","skipFadeInAnimation","showHover","hoverPreparation","hoverWidget","hideHover","disposeWidget","disposePreparation","hadHover","onDidHideHover","triggerShowHover","delay","TimeoutTimer","_callee2","_context2","mouseOverDomEmitter","toDispose","MOUSE_LEAVE","fromElement","targetElements","MOUSE_MOVE","newContent","_callee3","_context3","labelWithIconsRegex","RegExp","ThemeIcon","iconNameExpression","iconModifierExpression","textStart","textStop","exec","_match","_match2","_slicedToArray","escaped","codicon","renderIcon","_node$classList","asClassNameArray","unthemedInboxStyles","inputBackground","inputForeground","inputValidationInfoBorder","inputValidationInfoBackground","inputValidationWarningBorder","inputValidationWarningBackground","inputValidationErrorBorder","inputValidationErrorBackground","inputBorder","inputValidationErrorForeground","inputValidationInfoForeground","inputValidationWarningForeground","InputBox","maxHeight","POSITIVE_INFINITY","_onDidChange","_onDidHeightChange","onDidHeightChange","wrapper","onfocus","onblur","mirror","scrollableElement","ScrollableElement","vertical","whiteSpace","wordWrap","onScroll","onAnchoredSelectionChange","selection","getSelection","anchorNode","updateScrollDimensions","showPlaceholderOnFocus","setPlaceHolder","setTooltip","onValueChange","onBlur","onFocus","ignoreGesture","updateMirror","actionbar","applyStyles","_hideMessage","_showMessage","placeHolder","newValue","cachedHeight","getTotalHeight","setSelectionRange","scrollWidth","selectionEnd","selectionStart","cachedContentHeight","scrollHeight","setScrollDimensions","setScrollPosition","force","classForType","stylesForType","asCssValueWithDefault","hasFocus","errorMsg","hasAttribute","div","alertText","getTotalWidth","showContextView","renderOptions","spanElement","formatContent","aria","hideContextView","suffix","charCodeAt","previousHeight","_InputBox","NLS_PLACEHOLDER_HISTORY_HINT","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS","_onDidFocus","HistoryNavigator","addSuffix","getHistory","suffixedPlaceholder","observer","MutationObserver","mutationList","mutation","observe","attributeFilter","resetPlaceholder","historyHint","revertedPlaceholder","disconnect","always","getCurrentValue","isLast","isNowhere","has","addToHistory","getNextValue","previous","getPreviousValue","currentValue","last","first"],"sourceRoot":""}