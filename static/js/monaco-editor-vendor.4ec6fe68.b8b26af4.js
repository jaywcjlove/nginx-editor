"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6184],{61950:(e,t,n)=>{n.d(t,{V:()=>r,y:()=>o});var i=n(98248);class r{constructor(e){const t=(0,i.W)(e);this._defaultValue=t,this._asciiMap=r._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){const t=new Uint8Array(256);return t.fill(e),t}set(e,t){const n=(0,i.W)(t);e>=0&&e<256?this._asciiMap[e]=n:this._map.set(e,n)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class o{constructor(){this._actual=new r(0)}add(e){this._actual.set(e,1)}has(e){return 1===this._actual.get(e)}clear(){return this._actual.clear()}}},47221:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(12780);class r{static _nextVisibleColumn(e,t,n){return 9===e?r.nextRenderTabStop(t,n):i.ne(e)||i.Ss(e)?t+2:t+1}static visibleColumnFromColumn(e,t,n){const r=Math.min(t-1,e.length),o=e.substring(0,r),s=new i.km(o);let a=0;for(;!s.eol();){const e=i.Z5(o,r,s.offset);s.nextGraphemeLength(),a=this._nextVisibleColumn(e,a,n)}return a}static columnFromVisibleColumn(e,t,n){if(t<=0)return 1;const r=e.length,o=new i.km(e);let s=0,a=1;for(;!o.eol();){const l=i.Z5(e,r,o.offset);o.nextGraphemeLength();const u=this._nextVisibleColumn(l,s,n),c=o.offset+1;if(u>=t){return u-t<t-s?c:a}s=u,a=c}return r+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}},94597:(e,t,n)=>{n.d(t,{k:()=>r});var i=n(99005);class r{static insert(e,t){return{range:new i.Q(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}},16871:(e,t,n)=>{n.d(t,{A3:()=>y,AQ:()=>F,Am:()=>x,As:()=>A,BD:()=>X,Bo:()=>J,CM:()=>N,D0:()=>u,H0:()=>k,I2:()=>K,IW:()=>Z,If:()=>$,JB:()=>M,L0:()=>g,Mf:()=>l,P1:()=>re,Pe:()=>ne,Qt:()=>b,WD:()=>ie,WS:()=>te,WY:()=>oe,Xr:()=>R,aZ:()=>D,bB:()=>ee,hz:()=>S,je:()=>h,kG:()=>a,kM:()=>c,l5:()=>H,lQ:()=>G,n4:()=>j,ob:()=>w,ow:()=>v,s7:()=>Y,sC:()=>d,sH:()=>q,sN:()=>z,ss:()=>Q,tK:()=>P,tp:()=>E,vP:()=>_,vV:()=>L,vp:()=>V,w4:()=>f,we:()=>m,x9:()=>B,yI:()=>W,yw:()=>I,zp:()=>U});var i=n(51413),r=n(57397),o=n(63573),s=n(19700);const a=(0,o.x1A)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},i.kg("lineHighlight","Background color for the highlight of line at the cursor position.")),l=(0,o.x1A)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:o.b1q},i.kg("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),u=((0,o.x1A)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},i.kg("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),(0,o.x1A)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:o.buw,hcLight:o.buw},i.kg("rangeHighlightBorder","Background color of the border around highlighted ranges.")),(0,o.x1A)("editor.symbolHighlightBackground",{dark:o.Ubg,light:o.Ubg,hcDark:null,hcLight:null},i.kg("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),(0,o.x1A)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:o.buw,hcLight:o.buw},i.kg("symbolHighlightBorder","Background color of the border around highlighted symbols.")),(0,o.x1A)("editorCursor.foreground",{dark:"#AEAFAD",light:r.Q1.black,hcDark:r.Q1.white,hcLight:"#0F4A85"},i.kg("caret","Color of the editor cursor."))),c=(0,o.x1A)("editorCursor.background",null,i.kg("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),d=(0,o.x1A)("editorMultiCursor.primary.foreground",{dark:u,light:u,hcDark:u,hcLight:u},i.kg("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),h=(0,o.x1A)("editorMultiCursor.primary.background",{dark:c,light:c,hcDark:c,hcLight:c},i.kg("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),m=(0,o.x1A)("editorMultiCursor.secondary.foreground",{dark:u,light:u,hcDark:u,hcLight:u},i.kg("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),g=(0,o.x1A)("editorMultiCursor.secondary.background",{dark:c,light:c,hcDark:c,hcLight:c},i.kg("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),f=(0,o.x1A)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},i.kg("editorWhitespaces","Color of whitespace characters in the editor.")),b=(0,o.x1A)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:r.Q1.white,hcLight:"#292929"},i.kg("editorLineNumbers","Color of editor line numbers.")),C=(0,o.x1A)("editorIndentGuide.background",{dark:f,light:f,hcDark:f,hcLight:f},i.kg("editorIndentGuides","Color of the editor indentation guides."),!1,i.kg("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),p=(0,o.x1A)("editorIndentGuide.activeBackground",{dark:f,light:f,hcDark:f,hcLight:f},i.kg("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,i.kg("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),L=(0,o.x1A)("editorIndentGuide.background1",{dark:C,light:C,hcDark:C,hcLight:C},i.kg("editorIndentGuides1","Color of the editor indentation guides (1).")),w=(0,o.x1A)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorIndentGuides2","Color of the editor indentation guides (2).")),S=(0,o.x1A)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorIndentGuides3","Color of the editor indentation guides (3).")),v=(0,o.x1A)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorIndentGuides4","Color of the editor indentation guides (4).")),_=(0,o.x1A)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorIndentGuides5","Color of the editor indentation guides (5).")),N=(0,o.x1A)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorIndentGuides6","Color of the editor indentation guides (6).")),k=(0,o.x1A)("editorIndentGuide.activeBackground1",{dark:p,light:p,hcDark:p,hcLight:p},i.kg("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),x=(0,o.x1A)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),P=(0,o.x1A)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),y=(0,o.x1A)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),E=(0,o.x1A)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),A=(0,o.x1A)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),T=(0,o.x1A)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:o.buw,hcLight:o.buw},i.kg("editorActiveLineNumber","Color of editor active line number"),!1,i.kg("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),M=((0,o.x1A)("editorLineNumber.activeForeground",{dark:T,light:T,hcDark:T,hcLight:T},i.kg("editorActiveLineNumber","Color of editor active line number")),(0,o.x1A)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},i.kg("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."))),B=((0,o.x1A)("editorRuler.foreground",{dark:"#5A5A5A",light:r.Q1.lightgrey,hcDark:r.Q1.white,hcLight:"#292929"},i.kg("editorRuler","Color of the editor rulers.")),(0,o.x1A)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},i.kg("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,o.x1A)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},i.kg("editorBracketMatchBackground","Background color behind matching brackets")),(0,o.x1A)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:o.b1q,hcLight:o.b1q},i.kg("editorBracketMatchBorder","Color for matching brackets boxes")),(0,o.x1A)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},i.kg("editorOverviewRulerBorder","Color of the overview ruler border."))),R=(0,o.x1A)("editorOverviewRuler.background",null,i.kg("editorOverviewRulerBackground","Background color of the editor overview ruler.")),I=((0,o.x1A)("editorGutter.background",{dark:o.YtV,light:o.YtV,hcDark:o.YtV,hcLight:o.YtV},i.kg("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),(0,o.x1A)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:r.Q1.fromHex("#fff").transparent(.8),hcLight:o.b1q},i.kg("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),(0,o.x1A)("editorUnnecessaryCode.opacity",{dark:r.Q1.fromHex("#000a"),light:r.Q1.fromHex("#0007"),hcDark:null,hcLight:null},i.kg("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out."))),O=((0,o.x1A)("editorGhostText.border",{dark:null,light:null,hcDark:r.Q1.fromHex("#fff").transparent(.8),hcLight:r.Q1.fromHex("#292929").transparent(.8)},i.kg("editorGhostTextBorder","Border color of ghost text in the editor.")),(0,o.x1A)("editorGhostText.foreground",{dark:r.Q1.fromHex("#ffffff56"),light:r.Q1.fromHex("#0007"),hcDark:null,hcLight:null},i.kg("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),(0,o.x1A)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},i.kg("editorGhostTextBackground","Background color of the ghost text in the editor.")),new r.Q1(new r.bU(0,122,204,.6))),V=(0,o.x1A)("editorOverviewRuler.rangeHighlightForeground",{dark:O,light:O,hcDark:O,hcLight:O},i.kg("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),W=(0,o.x1A)("editorOverviewRuler.errorForeground",{dark:new r.Q1(new r.bU(255,18,18,.7)),light:new r.Q1(new r.bU(255,18,18,.7)),hcDark:new r.Q1(new r.bU(255,50,50,1)),hcLight:"#B5200D"},i.kg("overviewRuleError","Overview ruler marker color for errors.")),D=(0,o.x1A)("editorOverviewRuler.warningForeground",{dark:o.Hng,light:o.Hng,hcDark:o.Stt,hcLight:o.Stt},i.kg("overviewRuleWarning","Overview ruler marker color for warnings.")),F=(0,o.x1A)("editorOverviewRuler.infoForeground",{dark:o.pOz,light:o.pOz,hcDark:o.IIb,hcLight:o.IIb},i.kg("overviewRuleInfo","Overview ruler marker color for infos.")),z=(0,o.x1A)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},i.kg("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),G=(0,o.x1A)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},i.kg("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),Q=(0,o.x1A)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},i.kg("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),H=(0,o.x1A)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),q=(0,o.x1A)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),U=(0,o.x1A)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),Y=(0,o.x1A)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new r.Q1(new r.bU(255,18,18,.8)),light:new r.Q1(new r.bU(255,18,18,.8)),hcDark:new r.Q1(new r.bU(255,50,50,1)),hcLight:""},i.kg("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),j=(0,o.x1A)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),K=(0,o.x1A)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),J=(0,o.x1A)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),$=(0,o.x1A)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),X=(0,o.x1A)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Z=(0,o.x1A)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),ee=(0,o.x1A)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),te=(0,o.x1A)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),ne=(0,o.x1A)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),ie=(0,o.x1A)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),re=(0,o.x1A)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),oe=(0,o.x1A)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},i.kg("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,o.x1A)("editorUnicodeHighlight.border",{dark:o.Hng,light:o.Hng,hcDark:o.Hng,hcLight:o.Hng},i.kg("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,o.x1A)("editorUnicodeHighlight.background",{dark:o.whs,light:o.whs,hcDark:o.whs,hcLight:o.whs},i.kg("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,s.zy)(((e,t)=>{const n=e.getColor(o.YtV),i=e.getColor(a),r=i&&!i.isTransparent()?i:n;r&&t.addRule(".monaco-editor .inputarea.ime-input { background-color: ".concat(r,"; }"))}))},7262:(e,t,n)=>{function i(e){let t=0,n=0,i=0,r=0;for(let o=0,s=e.length;o<s;o++){const a=e.charCodeAt(o);13===a?(0===t&&(n=o),t++,o+1<s&&10===e.charCodeAt(o+1)?(r|=2,o++):r|=3,i=o+1):10===a&&(r|=1,0===t&&(n=o),t++,i=o+1)}return 0===t&&(n=e.length),[t,n,e.length-i,r]}n.d(t,{W:()=>i})},77327:(e,t,n)=>{n.d(t,{P:()=>o});var i=n(12780),r=n(47221);function o(e,t,n){let o=i.HG(e);return-1===o&&(o=e.length),function(e,t,n){let i=0;for(let s=0;s<e.length;s++)"\t"===e.charAt(s)?i=r.A.nextIndentTabStop(i,t):i++;let o="";if(!n){const e=Math.floor(i/t);i%=t;for(let t=0;t<e;t++)o+="\t"}for(let r=0;r<i;r++)o+=" ";return o}(e.substring(0,o),t,n)+e.substring(o)}},32499:(e,t,n)=>{n.d(t,{M:()=>a,S:()=>l});var i=n(29591),r=n(75188),o=n(99005),s=n(21457);class a{static fromRangeInclusive(e){return new a(e.startLineNumber,e.endLineNumber+1)}static joinMany(e){if(0===e.length)return[];let t=new l(e[0].slice());for(let n=1;n<e.length;n++)t=t.getUnion(new l(e[n].slice()));return t.ranges}static join(e){if(0===e.length)throw new i.D7("lineRanges cannot be empty");let t=e[0].startLineNumber,n=e[0].endLineNumberExclusive;for(let i=1;i<e.length;i++)t=Math.min(t,e[i].startLineNumber),n=Math.max(n,e[i].endLineNumberExclusive);return new a(t,n)}static ofLength(e,t){return new a(e,e+t)}static deserialize(e){return new a(e[0],e[1])}constructor(e,t){if(e>t)throw new i.D7("startLineNumber ".concat(e," cannot be after endLineNumberExclusive ").concat(t));this.startLineNumber=e,this.endLineNumberExclusive=t}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new a(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new a(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new a(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return"[".concat(this.startLineNumber,",").concat(this.endLineNumberExclusive,")")}intersect(e){const t=Math.max(this.startLineNumber,e.startLineNumber),n=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(t<=n)return new a(t,n)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new o.Q(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new o.Q(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){const t=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)t.push(e(n));return t}forEach(e){for(let t=this.startLineNumber;t<this.endLineNumberExclusive;t++)e(t)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new r.L(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(0===e.length)return;const t=(0,s.hw)(this._normalizedRanges,(t=>t.endLineNumberExclusive>=e.startLineNumber)),n=(0,s.iM)(this._normalizedRanges,(t=>t.startLineNumber<=e.endLineNumberExclusive))+1;if(t===n)this._normalizedRanges.splice(t,0,e);else if(t===n-1){const n=this._normalizedRanges[t];this._normalizedRanges[t]=n.join(e)}else{const i=this._normalizedRanges[t].join(this._normalizedRanges[n-1]).join(e);this._normalizedRanges.splice(t,n-t,i)}}contains(e){const t=(0,s.lx)(this._normalizedRanges,(t=>t.startLineNumber<=e));return!!t&&t.endLineNumberExclusive>e}intersects(e){const t=(0,s.lx)(this._normalizedRanges,(t=>t.startLineNumber<e.endLineNumberExclusive));return!!t&&t.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(0===this._normalizedRanges.length)return e;if(0===e._normalizedRanges.length)return this;const t=[];let n=0,i=0,r=null;for(;n<this._normalizedRanges.length||i<e._normalizedRanges.length;){let o=null;if(n<this._normalizedRanges.length&&i<e._normalizedRanges.length){const t=this._normalizedRanges[n],r=e._normalizedRanges[i];t.startLineNumber<r.startLineNumber?(o=t,n++):(o=r,i++)}else n<this._normalizedRanges.length?(o=this._normalizedRanges[n],n++):(o=e._normalizedRanges[i],i++);null===r?r=o:r.endLineNumberExclusive>=o.startLineNumber?r=new a(r.startLineNumber,Math.max(r.endLineNumberExclusive,o.endLineNumberExclusive)):(t.push(r),r=o)}return null!==r&&t.push(r),new l(t)}subtractFrom(e){const t=(0,s.hw)(this._normalizedRanges,(t=>t.endLineNumberExclusive>=e.startLineNumber)),n=(0,s.iM)(this._normalizedRanges,(t=>t.startLineNumber<=e.endLineNumberExclusive))+1;if(t===n)return new l([e]);const i=[];let r=e.startLineNumber;for(let o=t;o<n;o++){const e=this._normalizedRanges[o];e.startLineNumber>r&&i.push(new a(r,e.startLineNumber)),r=e.endLineNumberExclusive}return r<e.endLineNumberExclusive&&i.push(new a(r,e.endLineNumberExclusive)),new l(i)}toString(){return this._normalizedRanges.map((e=>e.toString())).join(", ")}getIntersection(e){const t=[];let n=0,i=0;for(;n<this._normalizedRanges.length&&i<e._normalizedRanges.length;){const r=this._normalizedRanges[n],o=e._normalizedRanges[i],s=r.intersect(o);s&&!s.isEmpty&&t.push(s),r.endLineNumberExclusive<o.endLineNumberExclusive?n++:i++}return new l(t)}getWithDelta(e){return new l(this._normalizedRanges.map((t=>t.delta(e))))}}},75188:(e,t,n)=>{n.d(t,{L:()=>r,h:()=>o});var i=n(29591);class r{static addRange(e,t){let n=0;for(;n<t.length&&t[n].endExclusive<e.start;)n++;let i=n;for(;i<t.length&&t[i].start<=e.endExclusive;)i++;if(n===i)t.splice(n,0,e);else{const o=Math.min(e.start,t[n].start),s=Math.max(e.endExclusive,t[i-1].endExclusive);t.splice(n,i-n,new r(o,s))}}static tryCreate(e,t){if(!(e>t))return new r(e,t)}static ofLength(e){return new r(0,e)}static ofStartAndLength(e,t){return new r(e,e+t)}constructor(e,t){if(this.start=e,this.endExclusive=t,e>t)throw new i.D7("Invalid range: ".concat(this.toString()))}get isEmpty(){return this.start===this.endExclusive}delta(e){return new r(this.start+e,this.endExclusive+e)}deltaStart(e){return new r(this.start+e,this.endExclusive)}deltaEnd(e){return new r(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return"[".concat(this.start,", ").concat(this.endExclusive,")")}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new r(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){const t=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);if(t<=n)return new r(t,n)}intersects(e){return Math.max(this.start,e.start)<Math.min(this.endExclusive,e.endExclusive)}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}substring(e){return e.substring(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new i.D7("Invalid clipping range: ".concat(this.toString()));return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new i.D7("Invalid clipping range: ".concat(this.toString()));return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}forEach(e){for(let t=this.start;t<this.endExclusive;t++)e(t)}}class o{constructor(){this._sortedRanges=[]}addRange(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<e.start;)t++;let n=t;for(;n<this._sortedRanges.length&&this._sortedRanges[n].start<=e.endExclusive;)n++;if(t===n)this._sortedRanges.splice(t,0,e);else{const i=Math.min(e.start,this._sortedRanges[t].start),o=Math.max(e.endExclusive,this._sortedRanges[n-1].endExclusive);this._sortedRanges.splice(t,n-t,new r(i,o))}}toString(){return this._sortedRanges.map((e=>e.toString())).join(", ")}intersectsStrict(e){let t=0;for(;t<this._sortedRanges.length&&this._sortedRanges[t].endExclusive<=e.start;)t++;return t<this._sortedRanges.length&&this._sortedRanges[t].start<e.endExclusive}intersectWithRange(e){const t=new o;for(const n of this._sortedRanges){const i=n.intersect(e);i&&t.addRange(i)}return t}intersectWithRangeLength(e){return this.intersectWithRange(e).length}get length(){return this._sortedRanges.reduce(((e,t)=>e+t.length),0)}}},23525:(e,t,n)=>{n.d(t,{y:()=>i});class i{constructor(e,t){this.lineNumber=e,this.column=t}with(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lineNumber,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.column;return e===this.lineNumber&&t===this.column?this:new i(e,t)}delta(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.with(this.lineNumber+e,this.column+t)}equals(e){return i.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return i.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return i.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){const n=0|e.lineNumber,i=0|t.lineNumber;if(n===i){return(0|e.column)-(0|t.column)}return n-i}clone(){return new i(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new i(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"===typeof e.lineNumber&&"number"===typeof e.column}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}},99005:(e,t,n)=>{n.d(t,{Q:()=>r});var i=n(23525);class r{constructor(e,t,n,i){e>n||e===n&&t>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return r.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return r.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))}static strictContainsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<=e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>=e.endColumn))}containsRange(e){return r.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))}strictContainsRange(e){return r.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)))}plusRange(e){return r.plusRange(this,e)}static plusRange(e,t){let n,i,o,s;return t.startLineNumber<e.startLineNumber?(n=t.startLineNumber,i=t.startColumn):t.startLineNumber===e.startLineNumber?(n=t.startLineNumber,i=Math.min(t.startColumn,e.startColumn)):(n=e.startLineNumber,i=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new r(n,i,o,s)}intersectRanges(e){return r.intersectRanges(this,e)}static intersectRanges(e,t){let n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,s=e.endColumn;const a=t.startLineNumber,l=t.startColumn,u=t.endLineNumber,c=t.endColumn;return n<a?(n=a,i=l):n===a&&(i=Math.max(i,l)),o>u?(o=u,s=c):o===u&&(s=Math.min(s,c)),n>o||n===o&&i>s?null:new r(n,i,o,s)}equalsRange(e){return r.equalsRange(this,e)}static equalsRange(e,t){return!e&&!t||!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return r.getEndPosition(this)}static getEndPosition(e){return new i.y(e.endLineNumber,e.endColumn)}getStartPosition(){return r.getStartPosition(this)}static getStartPosition(e){return new i.y(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new r(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new r(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return r.collapseToStart(this)}static collapseToStart(e){return new r(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return r.collapseToEnd(this)}static collapseToEnd(e){return new r(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new r(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new r(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new r(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"===typeof e.startLineNumber&&"number"===typeof e.startColumn&&"number"===typeof e.endLineNumber&&"number"===typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const n=0|e.startLineNumber,i=0|t.startLineNumber;if(n===i){const n=0|e.startColumn,i=0|t.startColumn;if(n===i){const n=0|e.endLineNumber,i=0|t.endLineNumber;if(n===i){return(0|e.endColumn)-(0|t.endColumn)}return n-i}return n-i}return n-i}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}}},14260:(e,t,n)=>{n.d(t,{D:()=>i});class i{constructor(e,t,n,r){this._rgba8Brand=void 0,this.r=i._clamp(e),this.g=i._clamp(t),this.b=i._clamp(n),this.a=i._clamp(r)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:0|e}}i.Empty=new i(0,0,0,0)},5190:(e,t,n)=>{n.d(t,{L:()=>o});var i=n(23525),r=n(99005);class o extends r.Q{constructor(e,t,n,i){super(e,t,n,i),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=n,this.positionColumn=i}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return o.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return 0===this.getDirection()?new o(this.startLineNumber,this.startColumn,e,t):new o(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new i.y(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new i.y(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(e,t){return 0===this.getDirection()?new o(e,t,this.endLineNumber,this.endColumn):new o(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new o(e.lineNumber,e.column,t.lineNumber,t.column)}static fromRange(e,t){return 0===t?new o(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):new o(e.endLineNumber,e.endColumn,e.startLineNumber,e.startColumn)}static liftSelection(e){return new o(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0}static isISelection(e){return e&&"number"===typeof e.selectionStartLineNumber&&"number"===typeof e.selectionStartColumn&&"number"===typeof e.positionLineNumber&&"number"===typeof e.positionColumn}static createWithDirection(e,t,n,i,r){return 0===r?new o(e,t,n,i):new o(n,i,e,t)}}},16724:(e,t,n)=>{n.d(t,{Su:()=>d,b7:()=>c,fe:()=>h});var i=n(12780),r=n(66731),o=n(77394);let s,a,l;function u(){return s||(s=new TextDecoder("UTF-16LE")),s}function c(){return l||(l=r.cm()?u():(a||(a=new TextDecoder("UTF-16BE")),a)),l}function d(e,t,n){const i=new Uint16Array(e.buffer,t,n);return n>0&&(65279===i[0]||65534===i[0])?function(e,t,n){const i=[];let r=0;for(let s=0;s<n;s++){const n=o.$l(e,t);t+=2,i[r++]=String.fromCharCode(n)}return i.join("")}(e,t,n):u().decode(i)}class h{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return c().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}appendCharCode(e){const t=this._capacity-this._bufferLength;t<=1&&(0===t||i.pc(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let n=0;n<t;n++)this._buffer[this._bufferLength++]=e.charCodeAt(n)}}},63877:(e,t,n)=>{n.d(t,{k:()=>s,x:()=>a});var i=n(77394),r=n(16724);function o(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class s{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,n,i){this.oldPosition=e,this.oldText=t,this.newPosition=n,this.newText=i}toString(){return 0===this.oldText.length?"(insert@".concat(this.oldPosition,' "').concat(o(this.newText),'")'):0===this.newText.length?"(delete@".concat(this.oldPosition,' "').concat(o(this.oldText),'")'):"(replace@".concat(this.oldPosition,' "').concat(o(this.oldText),'" with "').concat(o(this.newText),'")')}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,n){const r=t.length;i.Sw(e,r,n),n+=4;for(let o=0;o<r;o++)i.gN(e,t.charCodeAt(o),n),n+=2;return n}static _readString(e,t){const n=i.bb(e,t);return t+=4,(0,r.Su)(e,t,n)}writeSize(){return 8+s._writeStringSize(this.oldText)+s._writeStringSize(this.newText)}write(e,t){return i.Sw(e,this.oldPosition,t),t+=4,i.Sw(e,this.newPosition,t),t+=4,t=s._writeString(e,this.oldText,t),t=s._writeString(e,this.newText,t)}static read(e,t,n){const r=i.bb(e,t);t+=4;const o=i.bb(e,t);t+=4;const a=s._readString(e,t);t+=s._writeStringSize(a);const l=s._readString(e,t);return t+=s._writeStringSize(l),n.push(new s(r,a,o,l)),t}}function a(e,t){if(null===e||0===e.length)return t;return new l(e,t).compress()}class l{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,n=this._getPrev(e),i=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===n){this._acceptCurr(i),i=this._getCurr(++t);continue}if(null===i){this._acceptPrev(n),n=this._getPrev(++e);continue}if(i.oldEnd<=n.newPosition){this._acceptCurr(i),i=this._getCurr(++t);continue}if(n.newEnd<=i.oldPosition){this._acceptPrev(n),n=this._getPrev(++e);continue}if(i.oldPosition<n.newPosition){const[e,t]=l._splitCurr(i,n.newPosition-i.oldPosition);this._acceptCurr(e),i=t;continue}if(n.newPosition<i.oldPosition){const[e,t]=l._splitPrev(n,i.oldPosition-n.newPosition);this._acceptPrev(e),n=t;continue}let r,o;if(i.oldEnd===n.newEnd)r=n,o=i,n=this._getPrev(++e),i=this._getCurr(++t);else if(i.oldEnd<n.newEnd){const[e,s]=l._splitPrev(n,i.oldLength);r=e,o=i,n=s,i=this._getCurr(++t)}else{const[t,s]=l._splitCurr(i,n.newLength);r=n,o=t,n=this._getPrev(++e),i=s}this._result[this._resultLen++]=new s(r.oldPosition,r.oldText,o.newPosition,o.newText),this._prevDeltaOffset+=r.newLength-r.oldLength,this._currDeltaOffset+=o.newLength-o.oldLength}const r=l._merge(this._result);return l._removeNoOps(r)}_acceptCurr(e){this._result[this._resultLen++]=l._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=l._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new s(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new s(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const n=e.newText.substr(0,t),i=e.newText.substr(t);return[new s(e.oldPosition,e.oldText,e.newPosition,n),new s(e.oldEnd,"",e.newPosition+t,i)]}static _splitCurr(e,t){const n=e.oldText.substr(0,t),i=e.oldText.substr(t);return[new s(e.oldPosition,n,e.newPosition,e.newText),new s(e.oldPosition+t,i,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;const t=[];let n=0,i=e[0];for(let r=1;r<e.length;r++){const o=e[r];i.oldEnd===o.oldPosition?i=new s(i.oldPosition,i.oldText+o.oldText,i.newPosition,i.newText+o.newText):(t[n++]=i,i=o)}return t[n++]=i,t}static _removeNoOps(e){if(0===e.length)return e;const t=[];let n=0;for(let i=0;i<e.length;i++){const r=e[i];r.oldText!==r.newText&&(t[n++]=r)}return t}}},94019:(e,t,n)=>{n.d(t,{CO:()=>m,WR:()=>d,mF:()=>c});var i=n(28070),r=n(29591),o=n(23525),s=n(75188),a=n(35573);class l{constructor(e){this.text=e,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)"\n"===e.charAt(t)&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}getOffsetRange(e){return new s.L(this.getOffset(e.getStartPosition()),this.getOffset(e.getEndPosition()))}get textLength(){const e=this.lineStartOffsetByLineIdx.length-1;return new a.W(e,this.text.length-this.lineStartOffsetByLineIdx[e])}}var u=n(99005);class c{constructor(e){this.edits=e,(0,i.Ft)((()=>(0,i.Xo)(e,((e,t)=>e.range.getEndPosition().isBeforeOrEqual(t.range.getStartPosition())))))}apply(e){let t="",n=new o.y(1,1);for(const r of this.edits){const i=r.range,o=i.getStartPosition(),s=i.getEndPosition(),a=h(n,o);a.isEmpty()||(t+=e.getValueOfRange(a)),t+=r.text,n=s}const i=h(n,e.endPositionExclusive);return i.isEmpty()||(t+=e.getValueOfRange(i)),t}applyToString(e){const t=new g(e);return this.apply(t)}getNewRanges(){const e=[];let t=0,n=0,i=0;for(const r of this.edits){const s=a.W.ofText(r.text),l=o.y.lift({lineNumber:r.range.startLineNumber+n,column:r.range.startColumn+(r.range.startLineNumber===t?i:0)}),u=s.createRange(l);e.push(u),n=u.endLineNumber-r.range.endLineNumber,i=u.endColumn-r.range.endColumn,t=r.range.endLineNumber}return e}}class d{constructor(e,t){this.range=e,this.text=t}}function h(e,t){if(e.lineNumber===t.lineNumber&&e.column===Number.MAX_SAFE_INTEGER)return u.Q.fromPositions(t,t);if(!e.isBeforeOrEqual(t))throw new r.D7("start must be before end");return new u.Q(e.lineNumber,e.column,t.lineNumber,t.column)}class m{get endPositionExclusive(){return this.length.addToPosition(new o.y(1,1))}}class g extends m{constructor(e){super(),this.value=e,this._t=new l(this.value)}getValueOfRange(e){return this._t.getOffsetRange(e).substring(this.value)}get length(){return this._t.textLength}}},35573:(e,t,n)=>{n.d(t,{W:()=>o});var i=n(23525),r=n(99005);class o{static betweenPositions(e,t){return e.lineNumber===t.lineNumber?new o(0,t.column-e.column):new o(t.lineNumber-e.lineNumber,t.column-1)}static ofRange(e){return o.betweenPositions(e.getStartPosition(),e.getEndPosition())}static ofText(e){let t=0,n=0;for(const i of e)"\n"===i?(t++,n=0):n++;return new o(t,n)}constructor(e,t){this.lineCount=e,this.columnCount=t}isGreaterThanOrEqualTo(e){return this.lineCount!==e.lineCount?this.lineCount>e.lineCount:this.columnCount>=e.columnCount}createRange(e){return 0===this.lineCount?new r.Q(e.lineNumber,e.column,e.lineNumber,e.column+this.columnCount):new r.Q(e.lineNumber,e.column,e.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(e){return 0===this.lineCount?new i.y(e.lineNumber,e.column+this.columnCount):new i.y(e.lineNumber+this.lineCount,this.columnCount+1)}toString(){return"".concat(this.lineCount,",").concat(this.columnCount)}}o.zero=new o(0,0)},76142:(e,t,n)=>{n.d(t,{R:()=>i});const i={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},89294:(e,t,n)=>{n.d(t,{i:()=>a});var i=n(67512),r=n(61950);class o extends r.V{constructor(e,t){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=t,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let n=0,i=e.length;n<i;n++)this.set(e.charCodeAt(n),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(e,t){let n=null;for(const i of this._getIntlSegmenterWordsOnLine(e)){if(i.index>t)break;n=i}return n}findNextIntlWordAtOrAfterOffset(e,t){for(const n of this._getIntlSegmenterWordsOnLine(e))if(!(n.index<t))return n;return null}_getIntlSegmenterWordsOnLine(e){return this._segmenter?(this._cachedLine===e||(this._cachedLine=e,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(e))),this._cachedSegments):[]}_filterWordSegments(e){const t=[];for(const n of e)this._isWordLike(n)&&t.push(n);return t}_isWordLike(e){return!!e.isWordLike}}const s=new i.qK(10);function a(e,t){const n="".concat(e,"/").concat(t.join(","));let i=s.get(n);return i||(i=new o(e,t),s.set(n,i)),i}},95550:(e,t,n)=>{n.d(t,{Io:()=>a,J3:()=>o,Ld:()=>s,Th:()=>u});var i=n(47522),r=n(30453);const o="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="(-?\\d*\\.\\d\\w*)|([^";for(const n of o)e.indexOf(n)>=0||(t+="\\"+n);return t+="\\s]+)",new RegExp(t,"g")}();function a(e){let t=s;if(e&&e instanceof RegExp)if(e.global)t=e;else{let n="g";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.unicode&&(n+="u"),t=new RegExp(e.source,n)}return t.lastIndex=0,t}const l=new r.w;function u(e,t,n,r,o){if(t=a(t),o||(o=i.f.first(l)),n.length>o.maxLen){let i=e-o.maxLen/2;return i<0?i=0:r+=i,u(e,t,n=n.substring(i,e+o.maxLen/2),r,o)}const s=Date.now(),d=e-1-r;let h=-1,m=null;for(let i=1;!(Date.now()-s>=o.timeBudget);i++){const e=d-o.windowSize*i;t.lastIndex=Math.max(0,e);const r=c(t,n,d,h);if(!r&&m)break;if(m=r,e<=0)break;h=e}if(m){const e={word:m[0],startColumn:r+1+m.index,endColumn:r+1+m.index+m[0].length};return t.lastIndex=0,e}return null}function c(e,t,n,i){let r;for(;r=e.exec(t);){const t=r.index||0;if(t<=n&&e.lastIndex>=n)return r;if(i>0&&t>i)return null}return null}l.unshift({maxLen:1e3,windowSize:15,timeBudget:150})},94466:(e,t,n)=>{n.d(t,{_:()=>w});var i=n(29591),r=n(12780),o=n(61498),s=n(21457),a=n(97447),l=n(23525),u=n(99005),c=n(5190);class d{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new a.mG(new u.Q(1,1,1,1),0,0,new l.y(1,1),0),new a.mG(new u.Q(1,1,1,1),0,0,new l.y(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new a.MF(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!t.isEmpty()?c.L.fromRange(t.collapseToEnd(),this.modelState.selection.getDirection()):c.L.fromRange(t,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,n){this._setState(e,t,n)}static _validatePositionWithCache(e,t,n,i){return t.equals(n)?i:e.normalizePosition(t,2)}static _validateViewState(e,t){const n=t.position,i=t.selectionStart.getStartPosition(),r=t.selectionStart.getEndPosition(),o=e.normalizePosition(n,2),s=this._validatePositionWithCache(e,i,n,o),l=this._validatePositionWithCache(e,r,i,s);return n.equals(o)&&i.equals(s)&&r.equals(l)?t:new a.mG(u.Q.fromPositions(s,l),t.selectionStartKind,t.selectionStartLeftoverVisibleColumns+i.column-s.column,o,t.leftoverVisibleColumns+n.column-o.column)}_setState(e,t,n){if(n&&(n=d._validateViewState(e.viewModel,n)),t){const n=e.model.validateRange(t.selectionStart),i=t.selectionStart.equalsRange(n)?t.selectionStartLeftoverVisibleColumns:0,r=e.model.validatePosition(t.position),o=t.position.equals(r)?t.leftoverVisibleColumns:0;t=new a.mG(n,t.selectionStartKind,i,r,o)}else{if(!n)return;const i=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(n.selectionStart)),r=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(n.position));t=new a.mG(i,n.selectionStartKind,n.selectionStartLeftoverVisibleColumns,r,n.leftoverVisibleColumns)}if(n){const i=e.coordinatesConverter.validateViewRange(n.selectionStart,t.selectionStart),r=e.coordinatesConverter.validateViewPosition(n.position,t.position);n=new a.mG(i,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,r,t.leftoverVisibleColumns)}else{const i=e.coordinatesConverter.convertModelPositionToViewPosition(new l.y(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),r=e.coordinatesConverter.convertModelPositionToViewPosition(new l.y(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),o=new u.Q(i.lineNumber,i.column,r.lineNumber,r.column),s=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);n=new a.mG(o,t.selectionStartKind,t.selectionStartLeftoverVisibleColumns,s,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=n,this._updateTrackedRange(e)}}class h{constructor(e){this.context=e,this.cursors=[new d(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map((e=>e.readSelectionFromMarkers(this.context)))}getAll(){return this.cursors.map((e=>e.asCursorState()))}getViewPositions(){return this.cursors.map((e=>e.viewState.position))}getTopMostViewPosition(){return(0,s.kh)(this.cursors,(0,o.VE)((e=>e.viewState.position),l.y.compare)).viewState.position}getBottomMostViewPosition(){return(0,s.ot)(this.cursors,(0,o.VE)((e=>e.viewState.position),l.y.compare)).viewState.position}getSelections(){return this.cursors.map((e=>e.modelState.selection))}getViewSelections(){return this.cursors.map((e=>e.viewState.selection))}setSelections(e){this.setStates(a.MF.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){null!==e&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.cursors.length-1,n=e.length;if(t<n){const e=n-t;for(let t=0;t<e;t++)this._addSecondaryCursor()}else if(t>n){const e=t-n;for(let t=0;t<e;t++)this._removeSecondaryCursor(this.cursors.length-2)}for(let i=0;i<n;i++)this.cursors[i+1].setState(this.context,e[i].modelState,e[i].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new d(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(1===this.cursors.length)return;const e=this.cursors.slice(0),t=[];for(let n=0,i=e.length;n<i;n++)t.push({index:n,selection:e[n].modelState.selection});t.sort((0,o.VE)((e=>e.selection),u.Q.compareRangesUsingStarts));for(let n=0;n<t.length-1;n++){const i=t[n],r=t[n+1],o=i.selection,s=r.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(l=s.isEmpty()||o.isEmpty()?s.getStartPosition().isBeforeOrEqual(o.getEndPosition()):s.getStartPosition().isBefore(o.getEndPosition()),l){const o=i.index<r.index?n:n+1,s=i.index<r.index?n+1:n,l=t[s].index,u=t[o].index,d=t[s].selection,h=t[o].selection;if(!d.equalsSelection(h)){const n=d.plusRange(h),i=d.selectionStartLineNumber===d.startLineNumber&&d.selectionStartColumn===d.startColumn,r=h.selectionStartLineNumber===h.startLineNumber&&h.selectionStartColumn===h.startColumn;let s,m;l===this.lastAddedCursorIndex?(s=i,this.lastAddedCursorIndex=u):s=r,m=s?new c.L(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new c.L(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn),t[o].selection=m;const g=a.MF.fromModelSelection(m);e[u].setState(this.context,g.modelState,g.viewState)}for(const e of t)e.index>l&&e.index--;e.splice(l,1),t.splice(s,1),this._removeSecondaryCursor(l-1),n--}}}}class m{constructor(e,t,n,i){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=n,this.cursorConfig=i}}var g=n(96642),f=n(85545),b=n(82015),C=n(35376),p=n(87766),L=n(94795);class w extends p.jG{constructor(e,t,n,i){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=n,this.context=new m(this._model,this._viewModel,this._coordinatesConverter,i),this._cursors=new h(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,p.AS)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new m(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const n=this._autoClosedActions[t];n.isValid(e)||(n.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,n,i){let r=!1;const o=this.context.cursorConfig.multiCursorLimit;null!==i&&i.length>o&&(i=i.slice(0,o),r=!0);const s=S.from(this._model,this);return this._cursors.setStates(i),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,n,s,r)}setCursorColumnSelectData(e){this._columnSelectData=e}revealAll(e,t,n,i,r,o){const s=this._cursors.getViewPositions();let a=null,l=null;s.length>1?l=this._cursors.getViewSelections():a=u.Q.fromPositions(s[0],s[0]),e.emitViewEvent(new C.Hf(t,n,a,l,i,r,o))}revealPrimary(e,t,n,i,r,o){const s=[this._cursors.getPrimaryCursor().viewState.selection];e.emitViewEvent(new C.Hf(t,n,null,s,i,r,o))}saveState(){const e=[],t=this._cursors.getSelections();for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push({inSelectionMode:!i.isEmpty(),selectionStart:{lineNumber:i.selectionStartLineNumber,column:i.selectionStartColumn},position:{lineNumber:i.positionLineNumber,column:i.positionColumn}})}return e}restoreState(e,t){const n=[];for(let i=0,r=t.length;i<r;i++){const e=t[i];let r=1,o=1;e.position&&e.position.lineNumber&&(r=e.position.lineNumber),e.position&&e.position.column&&(o=e.position.column);let s=r,a=o;e.selectionStart&&e.selectionStart.lineNumber&&(s=e.selectionStart.lineNumber),e.selectionStart&&e.selectionStart.column&&(a=e.selectionStart.column),n.push({selectionStartLineNumber:s,selectionStartColumn:a,positionLineNumber:r,positionColumn:o})}this.setStates(e,"restoreState",0,a.MF.fromModelSelections(n)),this.revealAll(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,t){if(t instanceof b.vn){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const n=t.rawContentChangedEvent;if(this._knownModelVersionId=n.versionId,this._isHandling)return;const i=n.containsEvent(1);if(this._prevEditOperationType=0,i)this._cursors.dispose(),this._cursors=new h(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&n.resultingSelection&&n.resultingSelection.length>0){const t=a.MF.fromModelSelections(n.resultingSelection);this.setStates(e,"modelChange",n.isUndoing?5:n.isRedoing?6:2,t)&&this.revealAll(e,"modelChange",!1,0,!0,0)}else{const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,a.MF.fromModelSelections(t))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),n=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,t),toViewLineNumber:n.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,n)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,n,i){this.setStates(e,t,i,a.MF.fromModelSelections(n))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){const n=[],i=[];for(let s=0,a=e.length;s<a;s++)n.push({range:e[s],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),i.push({range:t[s],options:{description:"auto-closed-enclosing",stickiness:1}});const r=this._model.deltaDecorations([],n),o=this._model.deltaDecorations([],i);this._autoClosedActions.push(new v(this._model,r,o))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=_.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);const n=[],i=[];for(let t=0;t<e.commands.length;t++){const r=e.commands[t];r instanceof f.yl&&r.enclosingRange&&r.closeCharacterRange&&(n.push(r.closeCharacterRange),i.push(r.enclosingRange))}n.length>0&&this._pushAutoClosedAction(n,i),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,n,i,r){const o=S.from(this._model,this);if(o.equals(i))return!1;const s=this._cursors.getSelections(),a=this._cursors.getViewSelections();if(e.emitViewEvent(new C.rg(a,s,n)),!i||i.cursorState.length!==o.cursorState.length||o.cursorState.some(((e,t)=>!e.modelState.equals(i.cursorState[t].modelState)))){const a=i?i.cursorState.map((e=>e.modelState.selection)):null,l=i?i.modelVersionId:0;e.emitOutgoingEvent(new L.S8(a,s,l,o.modelVersionId,t||"keyboard",n,r))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!i.text||i.text.indexOf("\n")>=0)return null;const r=i.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!r)return null;const o=r[1],s=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(o);if(!s||1!==s.length)return null;const a=s[0].open,l=i.text.length-r[2].length-1,u=i.text.lastIndexOf(a,l-1);if(-1===u)return null;t.push([u,l])}return t}executeEdits(e,t,n,i){let r=null;"snippet"===t&&(r=this._findAutoClosingPairs(n)),r&&(n[0]._isTracked=!0);const o=[],s=[],a=this._model.pushEditOperations(this.getSelections(),n,(e=>{if(r)for(let n=0,i=r.length;n<i;n++){const[t,i]=r[n],a=e[n],l=a.range.startLineNumber,c=a.range.startColumn-1+t,d=a.range.startColumn-1+i;o.push(new u.Q(l,d+1,l,d+2)),s.push(new u.Q(l,c+1,l,d+2))}const t=i(e);return t&&(this._isHandling=!0),t}));a&&(this._isHandling=!1,this.setSelections(e,t,a,0)),o.length>0&&this._pushAutoClosedAction(o,s)}_executeEdit(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(this.context.cursorConfig.readOnly)return;const o=S.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(s){(0,i.dz)(s)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,n,r,o,!1)&&this.revealAll(t,n,!1,0,!0,0)}getAutoClosedCharacters(){return v.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new k(this._model,this.getSelections())}endComposition(e,t){const n=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit((()=>{"keyboard"===t&&this._executeEditOperation(f.TK.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,n,this.getSelections(),this.getAutoClosedCharacters()))}),e,t)}type(e,t,n){this._executeEdit((()=>{if("keyboard"===n){const e=t.length;let n=0;for(;n<e;){const e=r.iy(t,n),i=t.substr(n,e);this._executeEditOperation(f.TK.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),i)),n+=e}}else this._executeEditOperation(f.TK.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))}),e,n)}compositionType(e,t,n,i,r,o){if(0!==t.length||0!==n||0!==i)this._executeEdit((()=>{this._executeEditOperation(f.TK.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,n,i,r))}),e,o);else if(0!==r){const t=this.getSelections().map((e=>{const t=e.getPosition();return new c.L(t.lineNumber,t.column+r,t.lineNumber,t.column+r)}));this.setSelections(e,o,t,0)}}paste(e,t,n,i,r){this._executeEdit((()=>{this._executeEditOperation(f.TK.paste(this.context.cursorConfig,this._model,this.getSelections(),t,n,i||[]))}),e,r,4)}cut(e,t){this._executeEdit((()=>{this._executeEditOperation(g.g.cut(this.context.cursorConfig,this._model,this.getSelections()))}),e,t)}executeCommand(e,t,n){this._executeEdit((()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new a.vY(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,n)}executeCommands(e,t,n){this._executeEdit((()=>{this._executeEditOperation(new a.vY(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,n)}}class S{static from(e,t){return new S(e.getVersionId(),t.getCursorStates())}constructor(e,t){this.modelVersionId=e,this.cursorState=t}equals(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,n=this.cursorState.length;t<n;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class v{static getAllAutoClosedCharacters(e){let t=[];for(const n of e)t=t.concat(n.getAutoClosedCharactersRanges());return t}constructor(e,t,n){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=n}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const n=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);n&&e.push(n)}return e}isValid(e){const t=[];for(let n=0;n<this._autoClosedEnclosingDecorations.length;n++){const e=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[n]);if(e&&(t.push(e),e.startLineNumber!==e.endLineNumber))return!1}t.sort(u.Q.compareRangesUsingStarts),e.sort(u.Q.compareRangesUsingStarts);for(let n=0;n<e.length;n++){if(n>=t.length)return!1;if(!t[n].strictContainsRange(e[n]))return!1}return!0}}class _{static executeCommands(e,t,n){const i={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},r=this._innerExecuteCommands(i,n);for(let o=0,s=i.trackedRanges.length;o<s;o++)i.model._setTrackedRange(i.trackedRanges[o],null,0);return r}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const n=this._getEditOperations(e,t);if(0===n.operations.length)return null;const i=n.operations,r=this._getLoserCursorMap(i);if(r.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const o=[];for(let l=0,u=i.length;l<u;l++)r.hasOwnProperty(i[l].identifier.major.toString())||o.push(i[l]);n.hadTrackedEditOperation&&o.length>0&&(o[0]._isTracked=!0);let s=e.model.pushEditOperations(e.selectionsBefore,o,(n=>{const i=[];for(let t=0;t<e.selectionsBefore.length;t++)i[t]=[];for(const e of n)e.identifier&&i[e.identifier.major].push(e);const r=(e,t)=>e.identifier.minor-t.identifier.minor,o=[];for(let s=0;s<e.selectionsBefore.length;s++)i[s].length>0?(i[s].sort(r),o[s]=t[s].computeCursorState(e.model,{getInverseEditOperations:()=>i[s],getTrackedSelection:t=>{const n=parseInt(t,10),i=e.model._getTrackedRange(e.trackedRanges[n]);return 0===e.trackedRangesDirection[n]?new c.L(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new c.L(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}})):o[s]=e.selectionsBefore[s];return o}));s||(s=e.selectionsBefore);const a=[];for(const l in r)r.hasOwnProperty(l)&&a.push(parseInt(l,10));a.sort(((e,t)=>t-e));for(const l of a)s.splice(l,1);return s}static _arrayIsEmpty(e){for(let t=0,n=e.length;t<n;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let n=[],i=!1;for(let r=0,o=t.length;r<o;r++){const o=t[r];if(o){const t=this._getEditOperationsFromCommand(e,r,o);n=n.concat(t.operations),i=i||t.hadTrackedEditOperation}}return{operations:n,hadTrackedEditOperation:i}}static _getEditOperationsFromCommand(e,t,n){const r=[];let o=0;const s=function(e,i){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u.Q.isEmpty(e)&&""===i||r.push({identifier:{major:t,minor:o++},range:e,text:i,forceMoveMarkers:s,isAutoWhitespaceEdit:n.insertsAutoWhitespace})};let a=!1;const l={addEditOperation:s,addTrackedEditOperation:(e,t,n)=>{a=!0,s(e,t,n)},trackSelection:(t,n)=>{const i=c.L.liftSelection(t);let r;if(i.isEmpty())if("boolean"===typeof n)r=n?2:3;else{const t=e.model.getLineMaxColumn(i.startLineNumber);r=i.startColumn===t?2:3}else r=1;const o=e.trackedRanges.length,s=e.model._setTrackedRange(null,i,r);return e.trackedRanges[o]=s,e.trackedRangesDirection[o]=i.getDirection(),o.toString()}};try{n.getEditOperations(e.model,l)}catch(d){return(0,i.dz)(d),{operations:[],hadTrackedEditOperation:!1}}return{operations:r,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){(e=e.slice(0)).sort(((e,t)=>-u.Q.compareRangesUsingEnds(e.range,t.range)));const t={};for(let n=1;n<e.length;n++){const i=e[n-1],r=e[n];if(u.Q.getStartPosition(i.range).isBefore(u.Q.getEndPosition(r.range))){let o;o=i.identifier.major>r.identifier.major?i.identifier.major:r.identifier.major,t[o.toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===o&&(e.splice(t,1),t<n&&n--,t--);n>0&&n--}}return t}}class N{constructor(e,t,n){this.text=e,this.startSelection=t,this.endSelection=n}}class k{static _capture(e,t){const n=[];for(const i of t){if(i.startLineNumber!==i.endLineNumber)return null;n.push(new N(e.getLineContent(i.startLineNumber),i.startColumn-1,i.endColumn-1))}return n}constructor(e,t){this._original=k._capture(e,t)}deduceOutcome(e,t){if(!this._original)return null;const n=k._capture(e,t);if(!n)return null;if(this._original.length!==n.length)return null;const i=[];for(let r=0,o=this._original.length;r<o;r++)i.push(k._deduceOutcome(this._original[r],n[r]));return i}static _deduceOutcome(e,t){const n=Math.min(e.startSelection,t.startSelection,r.Qp(e.text,t.text)),i=Math.min(e.text.length-e.endSelection,t.text.length-t.endSelection,r.Vi(e.text,t.text)),o=e.text.substring(n,e.text.length-i),s=t.text.substring(n,t.text.length-i);return new f.vS(o,e.startSelection-n,e.endSelection-n,s,t.startSelection-n,t.endSelection-n)}}},77665:(e,t,n)=>{n.d(t,{s:()=>r});var i=n(47221);class r{static whitespaceVisibleColumn(e,t,n){const r=e.length;let o=0,s=-1,a=-1;for(let l=0;l<r;l++){if(l===t)return[s,a,o];o%n===0&&(s=l,a=o);switch(e.charCodeAt(l)){case 32:o+=1;break;case 9:o=i.A.nextRenderTabStop(o,n);break;default:return[-1,-1,-1]}}return t===r?[s,a,o]:[-1,-1,-1]}static atomicPosition(e,t,n,o){const s=e.length,[a,l,u]=r.whitespaceVisibleColumn(e,t,n);if(-1===u)return-1;let c;switch(o){case 0:c=!0;break;case 1:c=!1;break;case 2:if(u%n===0)return t;c=u%n<=n/2}if(c){if(-1===a)return-1;let t=l;for(let r=a;r<s;++r){if(t===l+n)return a;switch(e.charCodeAt(r)){case 32:t+=1;break;case 9:t=i.A.nextRenderTabStop(t,n);break;default:return-1}}return t===l+n?a:-1}const d=i.A.nextRenderTabStop(u,n);let h=u;for(let r=t;r<s;r++){if(h===d)return r;switch(e.charCodeAt(r)){case 32:h+=1;break;case 9:h=i.A.nextRenderTabStop(h,n);break;default:return-1}}return h===d?s:-1}}},22003:(e,t,n)=>{n.d(t,{X:()=>s});var i=n(97447),r=n(23525),o=n(99005);class s{static columnSelect(e,t,n,s,a,l){const u=Math.abs(a-n)+1,c=n>a,d=s>l,h=s<l,m=[];for(let g=0;g<u;g++){const a=n+(c?-g:g),u=e.columnFromVisibleColumn(t,a,s),f=e.columnFromVisibleColumn(t,a,l),b=e.visibleColumnFromColumn(t,new r.y(a,u)),C=e.visibleColumnFromColumn(t,new r.y(a,f));if(h){if(b>l)continue;if(C<s)continue}if(d){if(C>s)continue;if(b<l)continue}m.push(new i.mG(new o.Q(a,u,a,u),0,0,new r.y(a,f),0))}if(0===m.length)for(let g=0;g<u;g++){const e=n+(c?-g:g),s=t.getLineMaxColumn(e);m.push(new i.mG(new o.Q(e,s,e,s),0,0,new r.y(e,s),0))}return{viewStates:m,reversed:c,fromLineNumber:n,fromVisualColumn:s,toLineNumber:a,toVisualColumn:l}}static columnSelectLeft(e,t,n){let i=n.toViewVisualColumn;return i>0&&i--,s.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,i)}static columnSelectRight(e,t,n){let i=0;const o=Math.min(n.fromViewLineNumber,n.toViewLineNumber),s=Math.max(n.fromViewLineNumber,n.toViewLineNumber);for(let l=o;l<=s;l++){const n=t.getLineMaxColumn(l),o=e.visibleColumnFromColumn(t,new r.y(l,n));i=Math.max(i,o)}let a=n.toViewVisualColumn;return a<i&&a++,this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,a)}static columnSelectUp(e,t,n,i){const r=i?e.pageSize:1,o=Math.max(1,n.toViewLineNumber-r);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,o,n.toViewVisualColumn)}static columnSelectDown(e,t,n,i){const r=i?e.pageSize:1,o=Math.min(t.getLineCount(),n.toViewLineNumber+r);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,o,n.toViewVisualColumn)}}},96642:(e,t,n)=>{n.d(t,{g:()=>c});var i=n(12780),r=n(77932),o=n(97447),s=n(47221),a=n(91596),l=n(99005),u=n(23525);class c{static deleteRight(e,t,n,i){const o=[];let s=3!==e;for(let u=0,c=i.length;u<c;u++){const e=i[u];let c=e;if(c.isEmpty()){const i=e.getPosition(),r=a.I.right(t,n,i);c=new l.Q(r.lineNumber,r.column,i.lineNumber,i.column)}c.isEmpty()?o[u]=null:(c.startLineNumber!==c.endLineNumber&&(s=!0),o[u]=new r.iu(c,""))}return[s,o]}static isAutoClosingPairDelete(e,t,n,i,r,s,a){if("never"===t&&"never"===n)return!1;if("never"===e)return!1;for(let l=0,u=s.length;l<u;l++){const u=s[l],c=u.getPosition();if(!u.isEmpty())return!1;const d=r.getLineContent(c.lineNumber);if(c.column<2||c.column>=d.length+1)return!1;const h=d.charAt(c.column-2),m=i.get(h);if(!m)return!1;if((0,o.vG)(h)){if("never"===n)return!1}else if("never"===t)return!1;const g=d.charAt(c.column-1);let f=!1;for(const e of m)e.open===h&&e.close===g&&(f=!0);if(!f)return!1;if("auto"===e){let e=!1;for(let t=0,n=a.length;t<n;t++){const n=a[t];if(c.lineNumber===n.startLineNumber&&c.column===n.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingPairDelete(e,t,n){const i=[];for(let o=0,s=n.length;o<s;o++){const e=n[o].getPosition(),t=new l.Q(e.lineNumber,e.column-1,e.lineNumber,e.column+1);i[o]=new r.iu(t,"")}return[!0,i]}static deleteLeft(e,t,n,i,o){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,n,i,o))return this._runAutoClosingPairDelete(t,n,i);const s=[];let a=2!==e;for(let l=0,u=i.length;l<u;l++){const e=c.getDeleteRange(i[l],n,t);e.isEmpty()?s[l]=null:(e.startLineNumber!==e.endLineNumber&&(a=!0),s[l]=new r.iu(e,""))}return[a,s]}static getDeleteRange(e,t,n){if(!e.isEmpty())return e;const r=e.getPosition();if(n.useTabStops&&r.column>1){const e=t.getLineContent(r.lineNumber),o=i.HG(e),a=-1===o?e.length+1:o+1;if(r.column<=a){const e=n.visibleColumnFromColumn(t,r),i=s.A.prevIndentTabStop(e,n.indentSize),o=n.columnFromVisibleColumn(t,r.lineNumber,i);return new l.Q(r.lineNumber,o,r.lineNumber,r.column)}}return l.Q.fromPositions(c.getPositionAfterDeleteLeft(r,t),r)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const n=i.Wd(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,n+1)}if(e.lineNumber>1){const n=e.lineNumber-1;return new u.y(n,t.getLineMaxColumn(n))}return e}static cut(e,t,n){const i=[];let s=null;n.sort(((e,t)=>u.y.compare(e.getStartPosition(),t.getEndPosition())));for(let o=0,a=n.length;o<a;o++){const a=n[o];if(a.isEmpty())if(e.emptySelectionClipboard){const e=a.getPosition();let n,u,c,d;e.lineNumber<t.getLineCount()?(n=e.lineNumber,u=1,c=e.lineNumber+1,d=1):e.lineNumber>1&&(null===s||void 0===s?void 0:s.endLineNumber)!==e.lineNumber?(n=e.lineNumber-1,u=t.getLineMaxColumn(e.lineNumber-1),c=e.lineNumber,d=t.getLineMaxColumn(e.lineNumber)):(n=e.lineNumber,u=1,c=e.lineNumber,d=t.getLineMaxColumn(e.lineNumber));const h=new l.Q(n,u,c,d);s=h,h.isEmpty()?i[o]=null:i[o]=new r.iu(h,"")}else i[o]=null;else i[o]=new r.iu(a,"")}return new o.vY(0,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},11288:(e,t,n)=>{n.d(t,{S:()=>i,c:()=>c});var i,r=n(32031),o=n(97447),s=n(91596),a=n(2409),l=n(23525),u=n(99005);class c{static addCursorDown(e,t,n){const i=[];let r=0;for(let a=0,l=t.length;a<l;a++){const l=t[a];i[r++]=new o.MF(l.modelState,l.viewState),i[r++]=n?o.MF.fromModelState(s.I.translateDown(e.cursorConfig,e.model,l.modelState)):o.MF.fromViewState(s.I.translateDown(e.cursorConfig,e,l.viewState))}return i}static addCursorUp(e,t,n){const i=[];let r=0;for(let a=0,l=t.length;a<l;a++){const l=t[a];i[r++]=new o.MF(l.modelState,l.viewState),i[r++]=n?o.MF.fromModelState(s.I.translateUp(e.cursorConfig,e.model,l.modelState)):o.MF.fromViewState(s.I.translateUp(e.cursorConfig,e,l.viewState))}return i}static moveToBeginningOfLine(e,t,n){const i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];i[r]=this._moveToLineStart(e,o,n)}return i}static _moveToLineStart(e,t,n){const i=t.viewState.position.column,r=i===t.modelState.position.column,o=t.viewState.position.lineNumber,s=e.getLineFirstNonWhitespaceColumn(o);return r||i===s?this._moveToLineStartByModel(e,t,n):this._moveToLineStartByView(e,t,n)}static _moveToLineStartByView(e,t,n){return o.MF.fromViewState(s.I.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,n))}static _moveToLineStartByModel(e,t,n){return o.MF.fromModelState(s.I.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,n))}static moveToEndOfLine(e,t,n,i){const r=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];r[o]=this._moveToLineEnd(e,s,n,i)}return r}static _moveToLineEnd(e,t,n,i){const r=t.viewState.position,o=e.getLineMaxColumn(r.lineNumber),s=r.column===o,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber),u=o-r.column===l-a.column;return s||u?this._moveToLineEndByModel(e,t,n,i):this._moveToLineEndByView(e,t,n,i)}static _moveToLineEndByView(e,t,n,i){return o.MF.fromViewState(s.I.moveToEndOfLine(e.cursorConfig,e,t.viewState,n,i))}static _moveToLineEndByModel(e,t,n,i){return o.MF.fromModelState(s.I.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,n,i))}static expandLineSelection(e,t){const n=[];for(let i=0,r=t.length;i<r;i++){const r=t[i],s=r.modelState.selection.startLineNumber,a=e.model.getLineCount();let c,d=r.modelState.selection.endLineNumber;d===a?c=e.model.getLineMaxColumn(a):(d++,c=1),n[i]=o.MF.fromModelState(new o.mG(new u.Q(s,1,s,1),0,0,new l.y(d,c),0))}return n}static moveToBeginningOfBuffer(e,t,n){const i=[];for(let r=0,a=t.length;r<a;r++){const a=t[r];i[r]=o.MF.fromModelState(s.I.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,n))}return i}static moveToEndOfBuffer(e,t,n){const i=[];for(let r=0,a=t.length;r<a;r++){const a=t[r];i[r]=o.MF.fromModelState(s.I.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,n))}return i}static selectAll(e,t){const n=e.model.getLineCount(),i=e.model.getLineMaxColumn(n);return o.MF.fromModelState(new o.mG(new u.Q(1,1,1,1),0,0,new l.y(n,i),0))}static line(e,t,n,i,r){const s=e.model.validatePosition(i),a=r?e.coordinatesConverter.validateViewPosition(new l.y(r.lineNumber,r.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);if(!n){const t=e.model.getLineCount();let n=s.lineNumber+1,i=1;return n>t&&(n=t,i=e.model.getLineMaxColumn(n)),o.MF.fromModelState(new o.mG(new u.Q(s.lineNumber,1,n,i),2,0,new l.y(n,i),0))}const c=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<c)return o.MF.fromViewState(t.viewState.move(!0,a.lineNumber,1,0));if(s.lineNumber>c){const n=e.getLineCount();let i=a.lineNumber+1,r=1;return i>n&&(i=n,r=e.getLineMaxColumn(i)),o.MF.fromViewState(t.viewState.move(!0,i,r,0))}{const e=t.modelState.selectionStart.getEndPosition();return o.MF.fromModelState(t.modelState.move(!0,e.lineNumber,e.column,0))}}static word(e,t,n,i){const r=e.model.validatePosition(i);return o.MF.fromModelState(a.z.word(e.cursorConfig,e.model,t.modelState,n,r))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new o.MF(t.modelState,t.viewState);const n=t.viewState.position.lineNumber,i=t.viewState.position.column;return o.MF.fromViewState(new o.mG(new u.Q(n,i,n,i),0,0,new l.y(n,i),0))}static moveTo(e,t,n,i,r){if(n){if(1===t.modelState.selectionStartKind)return this.word(e,t,n,i);if(2===t.modelState.selectionStartKind)return this.line(e,t,n,i,r)}const s=e.model.validatePosition(i),a=r?e.coordinatesConverter.validateViewPosition(new l.y(r.lineNumber,r.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);return o.MF.fromViewState(t.viewState.move(n,a.lineNumber,a.column,0))}static simpleMove(e,t,n,i,r,a){switch(n){case 0:return 4===a?this._moveHalfLineLeft(e,t,i):this._moveLeft(e,t,i,r);case 1:return 4===a?this._moveHalfLineRight(e,t,i):this._moveRight(e,t,i,r);case 2:return 2===a?this._moveUpByViewLines(e,t,i,r):this._moveUpByModelLines(e,t,i,r);case 3:return 2===a?this._moveDownByViewLines(e,t,i,r):this._moveDownByModelLines(e,t,i,r);case 4:return 2===a?t.map((t=>o.MF.fromViewState(s.I.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,i)))):t.map((t=>o.MF.fromModelState(s.I.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,i))));case 5:return 2===a?t.map((t=>o.MF.fromViewState(s.I.moveToNextBlankLine(e.cursorConfig,e,t.viewState,i)))):t.map((t=>o.MF.fromModelState(s.I.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,i))));case 6:return this._moveToViewMinColumn(e,t,i);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,i);case 8:return this._moveToViewCenterColumn(e,t,i);case 9:return this._moveToViewMaxColumn(e,t,i);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,i);default:return null}}static viewportMove(e,t,n,i,r){const o=e.getCompletelyVisibleViewRange(),s=e.coordinatesConverter.convertViewRangeToModelRange(o);switch(n){case 11:{const n=this._firstLineNumberInRange(e.model,s,r),o=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,o)]}case 13:{const n=this._lastLineNumberInRange(e.model,s,r),o=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,o)]}case 12:{const n=Math.round((s.startLineNumber+s.endLineNumber)/2),r=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,r)]}case 14:{const n=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];n[r]=this.findPositionInViewportIfOutside(e,s,o,i)}return n}default:return null}}static findPositionInViewportIfOutside(e,t,n,i){const r=t.viewState.position.lineNumber;if(n.startLineNumber<=r&&r<=n.endLineNumber-1)return new o.MF(t.modelState,t.viewState);{let a;a=r>n.endLineNumber-1?n.endLineNumber-1:r<n.startLineNumber?n.startLineNumber:r;const l=s.I.vertical(e.cursorConfig,e,r,t.viewState.position.column,t.viewState.leftoverVisibleColumns,a,!1);return o.MF.fromViewState(t.viewState.move(i,l.lineNumber,l.column,l.leftoverVisibleColumns))}}static _firstLineNumberInRange(e,t,n){let i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.min(t.endLineNumber,i+n-1)}static _lastLineNumberInRange(e,t,n){let i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.max(i,t.endLineNumber-n+1)}static _moveLeft(e,t,n,i){return t.map((t=>o.MF.fromViewState(s.I.moveLeft(e.cursorConfig,e,t.viewState,n,i))))}static _moveHalfLineLeft(e,t,n){const i=[];for(let r=0,a=t.length;r<a;r++){const a=t[r],l=a.viewState.position.lineNumber,u=Math.round(e.getLineLength(l)/2);i[r]=o.MF.fromViewState(s.I.moveLeft(e.cursorConfig,e,a.viewState,n,u))}return i}static _moveRight(e,t,n,i){return t.map((t=>o.MF.fromViewState(s.I.moveRight(e.cursorConfig,e,t.viewState,n,i))))}static _moveHalfLineRight(e,t,n){const i=[];for(let r=0,a=t.length;r<a;r++){const a=t[r],l=a.viewState.position.lineNumber,u=Math.round(e.getLineLength(l)/2);i[r]=o.MF.fromViewState(s.I.moveRight(e.cursorConfig,e,a.viewState,n,u))}return i}static _moveDownByViewLines(e,t,n,i){const r=[];for(let a=0,l=t.length;a<l;a++){const l=t[a];r[a]=o.MF.fromViewState(s.I.moveDown(e.cursorConfig,e,l.viewState,n,i))}return r}static _moveDownByModelLines(e,t,n,i){const r=[];for(let a=0,l=t.length;a<l;a++){const l=t[a];r[a]=o.MF.fromModelState(s.I.moveDown(e.cursorConfig,e.model,l.modelState,n,i))}return r}static _moveUpByViewLines(e,t,n,i){const r=[];for(let a=0,l=t.length;a<l;a++){const l=t[a];r[a]=o.MF.fromViewState(s.I.moveUp(e.cursorConfig,e,l.viewState,n,i))}return r}static _moveUpByModelLines(e,t,n,i){const r=[];for(let a=0,l=t.length;a<l;a++){const l=t[a];r[a]=o.MF.fromModelState(s.I.moveUp(e.cursorConfig,e.model,l.modelState,n,i))}return r}static _moveToViewPosition(e,t,n,i,r){return o.MF.fromViewState(t.viewState.move(n,i,r,0))}static _moveToModelPosition(e,t,n,i,r){return o.MF.fromModelState(t.modelState.move(n,i,r,0))}static _moveToViewMinColumn(e,t,n){const i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=e.getLineMinColumn(s);i[r]=this._moveToViewPosition(e,o,n,s,a)}return i}static _moveToViewFirstNonWhitespaceColumn(e,t,n){const i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=e.getLineFirstNonWhitespaceColumn(s);i[r]=this._moveToViewPosition(e,o,n,s,a)}return i}static _moveToViewCenterColumn(e,t,n){const i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=Math.round((e.getLineMaxColumn(s)+e.getLineMinColumn(s))/2);i[r]=this._moveToViewPosition(e,o,n,s,a)}return i}static _moveToViewMaxColumn(e,t,n){const i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=e.getLineMaxColumn(s);i[r]=this._moveToViewPosition(e,o,n,s,a)}return i}static _moveToViewLastNonWhitespaceColumn(e,t,n){const i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=e.getLineLastNonWhitespaceColumn(s);i[r]=this._moveToViewPosition(e,o,n,s,a)}return i}}!function(e){e.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!r.Gv(e))return!1;const t=e;return!!r.Kg(t.to)&&(!(!r.b0(t.select)&&!r.Lm(t.select))&&(!(!r.b0(t.by)&&!r.Kg(t.by))&&!(!r.b0(t.value)&&!r.Et(t.value))))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},e.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},e.parse=function(t){if(!t.to)return null;let n;switch(t.to){case e.RawDirection.Left:n=0;break;case e.RawDirection.Right:n=1;break;case e.RawDirection.Up:n=2;break;case e.RawDirection.Down:n=3;break;case e.RawDirection.PrevBlankLine:n=4;break;case e.RawDirection.NextBlankLine:n=5;break;case e.RawDirection.WrappedLineStart:n=6;break;case e.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=7;break;case e.RawDirection.WrappedLineColumnCenter:n=8;break;case e.RawDirection.WrappedLineEnd:n=9;break;case e.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=10;break;case e.RawDirection.ViewPortTop:n=11;break;case e.RawDirection.ViewPortBottom:n=13;break;case e.RawDirection.ViewPortCenter:n=12;break;case e.RawDirection.ViewPortIfOutside:n=14;break;default:return null}let i=0;switch(t.by){case e.RawUnit.Line:i=1;break;case e.RawUnit.WrappedLine:i=2;break;case e.RawUnit.Character:i=3;break;case e.RawUnit.HalfLine:i=4}return{direction:n,unit:i,select:!!t.select,value:t.value||1}}}(i||(i={}))},91596:(e,t,n)=>{n.d(t,{I:()=>c});var i=n(12780),r=n(47221),o=n(23525),s=n(99005),a=n(77665),l=n(97447);class u{constructor(e,t,n){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=n}}class c{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-i.MV(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const n=t.lineNumber-1;return new o.y(n,e.getLineMaxColumn(n))}return t}static leftPositionAtomicSoftTabs(e,t,n){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const i=e.getLineMinColumn(t.lineNumber),r=e.getLineContent(t.lineNumber),s=a.s.atomicPosition(r,t.column-1,n,0);if(-1!==s&&s+1>=i)return new o.y(t.lineNumber,s+1)}return this.leftPosition(e,t)}static left(e,t,n){const i=e.stickyTabStops?c.leftPositionAtomicSoftTabs(t,n,e.tabSize):c.leftPosition(t,n);return new u(i.lineNumber,i.column,0)}static moveLeft(e,t,n,i,r){let o,s;if(n.hasSelection()&&!i)o=n.selection.startLineNumber,s=n.selection.startColumn;else{const i=n.position.delta(void 0,-(r-1)),a=t.normalizePosition(c.clipPositionColumn(i,t),0),l=c.left(e,t,a);o=l.lineNumber,s=l.column}return n.move(i,o,s,0)}static clipPositionColumn(e,t){return new o.y(e.lineNumber,c.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,n){return e<t?t:e>n?n:e}static rightPosition(e,t,n){return n<e.getLineMaxColumn(t)?n+=i.iy(e.getLineContent(t),n-1):t<e.getLineCount()&&(t+=1,n=e.getLineMinColumn(t)),new o.y(t,n)}static rightPositionAtomicSoftTabs(e,t,n,i,r){if(n<e.getLineIndentColumn(t)){const r=e.getLineContent(t),s=a.s.atomicPosition(r,n-1,i,1);if(-1!==s)return new o.y(t,s+1)}return this.rightPosition(e,t,n)}static right(e,t,n){const i=e.stickyTabStops?c.rightPositionAtomicSoftTabs(t,n.lineNumber,n.column,e.tabSize,e.indentSize):c.rightPosition(t,n.lineNumber,n.column);return new u(i.lineNumber,i.column,0)}static moveRight(e,t,n,i,r){let o,s;if(n.hasSelection()&&!i)o=n.selection.endLineNumber,s=n.selection.endColumn;else{const i=n.position.delta(void 0,r-1),a=t.normalizePosition(c.clipPositionColumn(i,t),1),l=c.right(e,t,a);o=l.lineNumber,s=l.column}return n.move(i,o,s,0)}static vertical(e,t,n,i,s,a,l,c){const d=r.A.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize)+s,h=t.getLineCount(),m=1===n&&1===i,g=n===h&&i===t.getLineMaxColumn(n),f=a<n?m:g;if((n=a)<1?(n=1,i=l?t.getLineMinColumn(n):Math.min(t.getLineMaxColumn(n),i)):n>h?(n=h,i=l?t.getLineMaxColumn(n):Math.min(t.getLineMaxColumn(n),i)):i=e.columnFromVisibleColumn(t,n,d),s=f?0:d-r.A.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize),void 0!==c){const e=new o.y(n,i),r=t.normalizePosition(e,c);s+=i-r.column,n=r.lineNumber,i=r.column}return new u(n,i,s)}static down(e,t,n,i,r,o,s){return this.vertical(e,t,n,i,r,n+o,s,4)}static moveDown(e,t,n,i,r){let s,a;n.hasSelection()&&!i?(s=n.selection.endLineNumber,a=n.selection.endColumn):(s=n.position.lineNumber,a=n.position.column);let l,u=0;do{l=c.down(e,t,s+u,a,n.leftoverVisibleColumns,r,!0);if(t.normalizePosition(new o.y(l.lineNumber,l.column),2).lineNumber>s)break}while(u++<10&&s+u<t.getLineCount());return n.move(i,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateDown(e,t,n){const i=n.selection,r=c.down(e,t,i.selectionStartLineNumber,i.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),a=c.down(e,t,i.positionLineNumber,i.positionColumn,n.leftoverVisibleColumns,1,!1);return new l.mG(new s.Q(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new o.y(a.lineNumber,a.column),a.leftoverVisibleColumns)}static up(e,t,n,i,r,o,s){return this.vertical(e,t,n,i,r,n-o,s,3)}static moveUp(e,t,n,i,r){let o,s;n.hasSelection()&&!i?(o=n.selection.startLineNumber,s=n.selection.startColumn):(o=n.position.lineNumber,s=n.position.column);const a=c.up(e,t,o,s,n.leftoverVisibleColumns,r,!0);return n.move(i,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateUp(e,t,n){const i=n.selection,r=c.up(e,t,i.selectionStartLineNumber,i.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),a=c.up(e,t,i.positionLineNumber,i.positionColumn,n.leftoverVisibleColumns,1,!1);return new l.mG(new s.Q(r.lineNumber,r.column,r.lineNumber,r.column),0,r.leftoverVisibleColumns,new o.y(a.lineNumber,a.column),a.leftoverVisibleColumns)}static _isBlankLine(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}static moveToPrevBlankLine(e,t,n,i){let r=n.position.lineNumber;for(;r>1&&this._isBlankLine(t,r);)r--;for(;r>1&&!this._isBlankLine(t,r);)r--;return n.move(i,r,t.getLineMinColumn(r),0)}static moveToNextBlankLine(e,t,n,i){const r=t.getLineCount();let o=n.position.lineNumber;for(;o<r&&this._isBlankLine(t,o);)o++;for(;o<r&&!this._isBlankLine(t,o);)o++;return n.move(i,o,t.getLineMinColumn(o),0)}static moveToBeginningOfLine(e,t,n,i){const r=n.position.lineNumber,o=t.getLineMinColumn(r),s=t.getLineFirstNonWhitespaceColumn(r)||o;let a;return a=n.position.column===s?o:s,n.move(i,r,a,0)}static moveToEndOfLine(e,t,n,i,r){const o=n.position.lineNumber,s=t.getLineMaxColumn(o);return n.move(i,o,s,r?1073741824-s:0)}static moveToBeginningOfBuffer(e,t,n,i){return n.move(i,1,1,0)}static moveToEndOfBuffer(e,t,n,i){const r=t.getLineCount(),o=t.getLineMaxColumn(r);return n.move(i,r,o,0)}}},85545:(e,t,n)=>{n.d(t,{TK:()=>C,vS:()=>L,yl:()=>p});var i=n(29591),r=n(12780),o=n(77932),s=n(90984),a=n(77668),l=n(97447),u=n(89294),c=n(99005),d=n(23525),h=n(53966),m=n(80158),g=n(20944),f=n(47893),b=n(89658);class C{static indent(e,t,n){if(null===t||null===n)return[];const i=[];for(let r=0,o=n.length;r<o;r++)i[r]=new s.Y(n[r],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return i}static outdent(e,t,n){const i=[];for(let r=0,o=n.length;r<o;r++)i[r]=new s.Y(n[r],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService);return i}static shiftIndent(e,t,n){return n=n||1,s.Y.shiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,n){return n=n||1,s.Y.unshiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,n,i){const r=[];for(let s=0,a=n.length;s<a;s++)r[s]=new o.iu(n[s],i[s]);return new l.vY(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,n,i,r){const s=[];for(let a=0,l=n.length;a<l;a++){const e=n[a],t=e.getPosition();if(r&&!e.isEmpty()&&(r=!1),r&&i.indexOf("\n")!==i.length-1&&(r=!1),r){const n=new c.Q(t.lineNumber,1,t.lineNumber,1);s[a]=new o.ui(n,i,e,!0)}else s[a]=new o.iu(e,i)}return new l.vY(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,n,i,o){if(i)return null;if(1===t.length)return null;if(o&&o.length===t.length)return o;if("spread"===e.multiCursorPaste){10===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1)),13===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1));const e=r.uz(n);if(e.length===t.length)return e}return null}static paste(e,t,n,i,r,o){const s=this._distributePasteToCursors(e,n,i,r,o);return s?(n=n.sort(c.Q.compareRangesUsingStarts),this._distributedPaste(e,t,n,s)):this._simplePaste(e,t,n,i,r)}static _goodIndentForLine(e,t,n){let i=null,o="";const s=(0,f.vn)(e.autoIndent,t,n,!1,e.languageConfigurationService);if(s)i=s.action,o=s.indentation;else if(n>1){let i;for(i=n-1;i>=1;i--){const e=t.getLineContent(i);if(r.lT(e)>=0)break}if(i<1)return null;const s=t.getLineMaxColumn(i),a=(0,b.h)(e.autoIndent,t,new c.Q(i,s,i,s),e.languageConfigurationService);a&&(o=a.indentation+a.appendText)}return i&&(i===h.l.Indent&&(o=C.shiftIndent(e,o)),i===h.l.Outdent&&(o=C.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(e,t,n,i){let r="";const s=n.getStartPosition();if(e.insertSpaces){const n=e.visibleColumnFromColumn(t,s),i=e.indentSize,o=i-n%i;for(let e=0;e<o;e++)r+=" "}else r="\t";return new o.iu(n,r,i)}static tab(e,t,n){const i=[];for(let r=0,a=n.length;r<a;r++){const a=n[r];if(a.isEmpty()){const n=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(n)&&t.tokenization.isCheapToTokenize(a.startLineNumber)){let s=this._goodIndentForLine(e,t,a.startLineNumber);s=s||"\t";const l=e.normalizeIndentation(s);if(!n.startsWith(l)){i[r]=new o.iu(new c.Q(a.startLineNumber,1,a.startLineNumber,n.length+1),l,!0);continue}}i[r]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){const n=t.getLineMaxColumn(a.startLineNumber);if(1!==a.startColumn||a.endColumn!==n){i[r]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}i[r]=new s.Y(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent},e.languageConfigurationService)}}return i}static compositionType(e,t,n,i,r,o,s,a){const u=i.map((e=>this._compositionType(n,e,r,o,s,a)));return new l.vY(4,u,{shouldPushStackElementBefore:S(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,n,i,r,s){if(!t.isEmpty())return null;const a=t.getPosition(),l=Math.max(1,a.column-i),u=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+r),d=new c.Q(a.lineNumber,l,a.lineNumber,u);return e.getValueInRange(d)===n&&0===s?null:new o.iP(d,n,0,s)}static _typeCommand(e,t,n){return n?new o.q2(e,t,!0):new o.iu(e,t,!0)}static _enter(e,t,n,i){if(0===e.autoIndent)return C._typeCommand(i,"\n",n);if(!t.tokenization.isCheapToTokenize(i.getStartPosition().lineNumber)||1===e.autoIndent){const o=t.getLineContent(i.startLineNumber),s=r.UU(o).substring(0,i.startColumn-1);return C._typeCommand(i,"\n"+e.normalizeIndentation(s),n)}const s=(0,b.h)(e.autoIndent,t,i,e.languageConfigurationService);if(s){if(s.indentAction===h.l.None)return C._typeCommand(i,"\n"+e.normalizeIndentation(s.indentation+s.appendText),n);if(s.indentAction===h.l.Indent)return C._typeCommand(i,"\n"+e.normalizeIndentation(s.indentation+s.appendText),n);if(s.indentAction===h.l.IndentOutdent){const t=e.normalizeIndentation(s.indentation),r=e.normalizeIndentation(s.indentation+s.appendText),a="\n"+r+"\n"+t;return n?new o.q2(i,a,!0):new o.iP(i,a,-1,r.length-t.length,!0)}if(s.indentAction===h.l.Outdent){const t=C.unshiftIndent(e,s.indentation);return C._typeCommand(i,"\n"+e.normalizeIndentation(t+s.appendText),n)}}const a=t.getLineContent(i.startLineNumber),l=r.UU(a).substring(0,i.startColumn-1);if(e.autoIndent>=4){const s=(0,f.MU)(e.autoIndent,t,i,{unshiftIndent:t=>C.unshiftIndent(e,t),shiftIndent:t=>C.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)},e.languageConfigurationService);if(s){let a=e.visibleColumnFromColumn(t,i.getEndPosition());const l=i.endColumn,u=t.getLineContent(i.endLineNumber),c=r.HG(u);if(i=c>=0?i.setEndPosition(i.endLineNumber,Math.max(i.endColumn,c+1)):i.setEndPosition(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),n)return new o.q2(i,"\n"+e.normalizeIndentation(s.afterEnter),!0);{let t=0;return l<=c+1&&(e.insertSpaces||(a=Math.ceil(a/e.indentSize)),t=Math.min(a+1-e.normalizeIndentation(s.afterEnter).length-1,0)),new o.iP(i,"\n"+e.normalizeIndentation(s.afterEnter),0,t,!0)}}}return C._typeCommand(i,"\n"+e.normalizeIndentation(l),n)}static _isAutoIndentType(e,t,n){if(e.autoIndent<4)return!1;for(let i=0,r=n.length;i<r;i++)if(!t.tokenization.isCheapToTokenize(n[i].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,n,i){const r=(0,m.Cw)(t,n.startLineNumber,n.startColumn),o=(0,f._t)(e.autoIndent,t,n,i,{shiftIndent:t=>C.shiftIndent(e,t),unshiftIndent:t=>C.unshiftIndent(e,t)},e.languageConfigurationService);if(null===o)return null;if(o!==e.normalizeIndentation(r)){const r=t.getLineFirstNonWhitespaceColumn(n.startLineNumber);return 0===r?C._typeCommand(new c.Q(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(o)+i,!1):C._typeCommand(new c.Q(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(o)+t.getLineContent(n.startLineNumber).substring(r-1,n.startColumn-1)+i,!1)}return null}static _isAutoClosingOvertype(e,t,n,i,r){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(r))return!1;for(let o=0,s=n.length;o<s;o++){const s=n[o];if(!s.isEmpty())return!1;const a=s.getPosition(),u=t.getLineContent(a.lineNumber);if(u.charAt(a.column-1)!==r)return!1;const c=(0,l.vG)(r);if(92===(a.column>2?u.charCodeAt(a.column-2):0)&&c)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,n=i.length;t<n;t++){const n=i[t];if(a.lineNumber===n.startLineNumber&&a.column===n.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,n,i,r){const s=[];for(let a=0,l=i.length;a<l;a++){const e=i[a].getPosition(),t=new c.Q(e.lineNumber,e.column,e.lineNumber,e.column+1);s[a]=new o.iu(t,r)}return new l.vY(4,s,{shouldPushStackElementBefore:S(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const n=t.charAt(0),i=e.autoClosingPairs.autoClosingPairsOpenByStart.get(n)||[],r=e.autoClosingPairs.autoClosingPairsCloseByStart.get(n)||[],o=i.some((e=>t.startsWith(e.open))),s=r.some((e=>t.startsWith(e.close)));return!o&&s}static _findAutoClosingPairOpen(e,t,n,i){const r=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(i);if(!r)return null;let o=null;for(const s of r)if(null===o||s.open.length>o.open.length){let e=!0;for(const r of n){if(t.getValueInRange(new c.Q(r.lineNumber,r.column-s.open.length+1,r.lineNumber,r.column))+i!==s.open){e=!1;break}}e&&(o=s)}return o}static _findContainedAutoClosingPair(e,t){if(t.open.length<=1)return null;const n=t.close.charAt(t.close.length-1),i=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(n)||[];let r=null;for(const o of i)o.open!==t.open&&t.open.includes(o.open)&&t.close.endsWith(o.close)&&(!r||o.open.length>r.open.length)&&(r=o);return r}static _getAutoClosingPairClose(e,t,n,i,r){for(const l of n)if(!l.isEmpty())return null;const o=n.map((e=>{const t=e.getPosition();return r?{lineNumber:t.lineNumber,beforeColumn:t.column-i.length,afterColumn:t.column}:{lineNumber:t.lineNumber,beforeColumn:t.column,afterColumn:t.column}})),s=this._findAutoClosingPairOpen(e,t,o.map((e=>new d.y(e.lineNumber,e.beforeColumn))),i);if(!s)return null;let a,c;if((0,l.vG)(i))a=e.autoClosingQuotes,c=e.shouldAutoCloseBefore.quote;else{!!e.blockCommentStartToken&&s.open.includes(e.blockCommentStartToken)?(a=e.autoClosingComments,c=e.shouldAutoCloseBefore.comment):(a=e.autoClosingBrackets,c=e.shouldAutoCloseBefore.bracket)}if("never"===a)return null;const h=this._findContainedAutoClosingPair(e,s),m=h?h.close:"";let f=!0;for(const l of o){const{lineNumber:n,beforeColumn:r,afterColumn:o}=l,d=t.getLineContent(n),h=d.substring(0,r-1),b=d.substring(o-1);if(b.startsWith(m)||(f=!1),b.length>0){const t=b.charAt(0);if(!C._isBeforeClosingBrace(e,b)&&!c(t))return null}if(1===s.open.length&&("'"===i||'"'===i)&&"always"!==a){const t=(0,u.i)(e.wordSeparators,[]);if(h.length>0){const e=h.charCodeAt(h.length-1);if(0===t.get(e))return null}}if(!t.tokenization.isCheapToTokenize(n))return null;t.tokenization.forceTokenization(n);const p=t.tokenization.getLineTokens(n),L=(0,g.BQ)(p,r-1);if(!s.shouldAutoClose(L,r-L.firstCharOffset))return null;const w=s.findNeutralCharacter();if(w){const e=t.tokenization.getTokenTypeIfInsertingCharacter(n,r,w);if(!s.isOK(e))return null}}return f?s.close.substring(0,s.close.length-m.length):s.close}static _runAutoClosingOpenCharType(e,t,n,i,r,o,s){const a=[];for(let l=0,u=i.length;l<u;l++){const e=i[l];a[l]=new p(e,r,!o,s)}return new l.vY(4,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return(0,l.vG)(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,n,i){if(!C._shouldSurroundChar(e,i)||!e.surroundingPairs.hasOwnProperty(i))return!1;const r=(0,l.vG)(i);for(const o of n){if(o.isEmpty())return!1;let e=!0;for(let n=o.startLineNumber;n<=o.endLineNumber;n++){const i=t.getLineContent(n),r=n===o.startLineNumber?o.startColumn-1:0,s=n===o.endLineNumber?o.endColumn-1:i.length,a=i.substring(r,s);if(/[^ \t]/.test(a)){e=!1;break}}if(e)return!1;if(r&&o.startLineNumber===o.endLineNumber&&o.startColumn+1===o.endColumn){const e=t.getValueInRange(o);if((0,l.vG)(e))return!1}}return!0}static _runSurroundSelectionType(e,t,n,i,r){const o=[];for(let s=0,l=i.length;s<l;s++){const e=i[s],n=t.surroundingPairs[r];o[s]=new a.i(e,r,n)}return new l.vY(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,n){return!(1!==n.length||!t.tokenization.isCheapToTokenize(n[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,n,s,a){if(!t.electricChars.hasOwnProperty(a)||!s.isEmpty())return null;const u=s.getPosition();n.tokenization.forceTokenization(u.lineNumber);const d=n.tokenization.getLineTokens(u.lineNumber);let h;try{h=t.onElectricCharacter(a,d,u.column)}catch(m){return(0,i.dz)(m),null}if(!h)return null;if(h.matchOpenBracket){const i=(d.getLineContent()+a).lastIndexOf(h.matchOpenBracket)+1,s=n.bracketPairs.findMatchingBracketUp(h.matchOpenBracket,{lineNumber:u.lineNumber,column:i},500);if(s){if(s.startLineNumber===u.lineNumber)return null;const i=n.getLineContent(s.startLineNumber),d=r.UU(i),h=t.normalizeIndentation(d),m=n.getLineContent(u.lineNumber),g=n.getLineFirstNonWhitespaceColumn(u.lineNumber)||u.column,f=h+m.substring(g-1,u.column-1)+a,b=new c.Q(u.lineNumber,1,u.lineNumber,u.column),C=new o.iu(b,f);return new l.vY(w(f,e),[C],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,n,i,r,s){if(!i)return null;let u=null;for(const o of i)if(null===u)u=o.insertedText;else if(u!==o.insertedText)return null;if(!u||1!==u.length)return null;const d=u;let h=!1;for(const o of i)if(0!==o.deletedText.length){h=!0;break}if(h){if(!C._shouldSurroundChar(t,d)||!t.surroundingPairs.hasOwnProperty(d))return null;const e=(0,l.vG)(d);for(const t of i){if(0!==t.deletedSelectionStart||t.deletedSelectionEnd!==t.deletedText.length)return null;if(/^[ \t]+$/.test(t.deletedText))return null;if(e&&(0,l.vG)(t.deletedText))return null}const n=[];for(const t of r){if(!t.isEmpty())return null;n.push(t.getPosition())}if(n.length!==i.length)return null;const o=[];for(let r=0,s=n.length;r<s;r++)o.push(new a.y(n[r],i[r].deletedText,t.surroundingPairs[d]));return new l.vY(4,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(t,n,r,s,d)){const e=r.map((e=>new o.iu(new c.Q(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)));return new l.vY(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const m=this._getAutoClosingPairClose(t,n,r,d,!0);return null!==m?this._runAutoClosingOpenCharType(e,t,n,r,d,!0,m):null}static typeWithInterceptors(e,t,n,i,r,s,a){if(!e&&"\n"===a){const e=[];for(let t=0,o=r.length;t<o;t++)e[t]=C._enter(n,i,!1,r[t]);return new l.vY(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(n,i,r)){const e=[];let t=!1;for(let o=0,s=r.length;o<s;o++)if(e[o]=this._runAutoIndentType(n,i,r[o],a),!e[o]){t=!0;break}if(!t)return new l.vY(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(n,i,r,s,a))return this._runAutoClosingOvertype(t,n,i,r,a);if(!e){const e=this._getAutoClosingPairClose(n,i,r,a,!1);if(e)return this._runAutoClosingOpenCharType(t,n,i,r,a,!1,e)}if(!e&&this._isSurroundSelectionType(n,i,r,a))return this._runSurroundSelectionType(t,n,i,r,a);if(!e&&this._isTypeInterceptorElectricChar(n,i,r)){const e=this._typeInterceptorElectricChar(t,n,i,r[0],a);if(e)return e}const u=[];for(let l=0,d=r.length;l<d;l++)u[l]=new o.iu(r[l],a);const c=w(a,t);return new l.vY(c,u,{shouldPushStackElementBefore:S(t,c),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,n,i,r){const s=[];for(let l=0,u=i.length;l<u;l++)s[l]=new o.iu(i[l],r);const a=w(r,e);return new l.vY(a,s,{shouldPushStackElementBefore:S(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,n){if(null===t||null===n)return[];const i=[];for(let r=0,s=n.length;r<s;r++){let s=n[r].positionLineNumber;if(1===s)i[r]=new o.q2(new c.Q(1,1,1,1),"\n");else{s--;const n=t.getLineMaxColumn(s);i[r]=this._enter(e,t,!1,new c.Q(s,n,s,n))}}return i}static lineInsertAfter(e,t,n){if(null===t||null===n)return[];const i=[];for(let r=0,o=n.length;r<o;r++){const o=n[r].positionLineNumber,s=t.getLineMaxColumn(o);i[r]=this._enter(e,t,!1,new c.Q(o,s,o,s))}return i}static lineBreakInsert(e,t,n){const i=[];for(let r=0,o=n.length;r<o;r++)i[r]=this._enter(e,t,!0,n[r]);return i}}class p extends o.iP{constructor(e,t,n,i){super(e,(n?t:"")+i,0,-i.length),this._openCharacter=t,this._closeCharacter=i,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new c.Q(n.startLineNumber,n.endColumn-this._closeCharacter.length,n.endLineNumber,n.endColumn),this.enclosingRange=new c.Q(n.startLineNumber,n.endColumn-this._openCharacter.length-this._closeCharacter.length,n.endLineNumber,n.endColumn),super.computeCursorState(e,t)}}class L{constructor(e,t,n,i,r,o){this.deletedText=e,this.deletedSelectionStart=t,this.deletedSelectionEnd=n,this.insertedText=i,this.insertedSelectionStart=r,this.insertedSelectionEnd=o}}function w(e,t){return" "===e?5===t||6===t?6:5:4}function S(e,t){return!(!_(e)||_(t))||5!==e&&v(e)!==v(t)}function v(e){return 6===e||5===e?"space":e}function _(e){return 4===e||5===e||6===e}},2409:(e,t,n)=>{n.d(t,{c:()=>c,z:()=>u});var i=n(12780),r=n(97447),o=n(96642),s=n(89294),a=n(23525),l=n(99005);class u{static _createWord(e,t,n,i,r){return{start:i,end:r,wordType:t,nextCharClass:n}}static _createIntlWord(e,t){return{start:e.index,end:e.index+e.segment.length,wordType:1,nextCharClass:t}}static _findPreviousWordOnLine(e,t,n){const i=t.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(i,e,n)}static _doFindPreviousWordOnLine(e,t,n){let i=0;const r=t.findPrevIntlWordBeforeOrAtOffset(e,n.column-2);for(let o=n.column-2;o>=0;o--){const n=e.charCodeAt(o),s=t.get(n);if(r&&o===r.index)return this._createIntlWord(r,s);if(0===s){if(2===i)return this._createWord(e,i,s,o+1,this._findEndOfWord(e,t,i,o+1));i=1}else if(2===s){if(1===i)return this._createWord(e,i,s,o+1,this._findEndOfWord(e,t,i,o+1));i=2}else if(1===s&&0!==i)return this._createWord(e,i,s,o+1,this._findEndOfWord(e,t,i,o+1))}return 0!==i?this._createWord(e,i,1,0,this._findEndOfWord(e,t,i,0)):null}static _findEndOfWord(e,t,n,i){const r=t.findNextIntlWordAtOrAfterOffset(e,i),o=e.length;for(let s=i;s<o;s++){const i=e.charCodeAt(s),o=t.get(i);if(r&&s===r.index+r.segment.length)return s;if(1===o)return s;if(1===n&&2===o)return s;if(2===n&&0===o)return s}return o}static _findNextWordOnLine(e,t,n){const i=t.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(i,e,n)}static _doFindNextWordOnLine(e,t,n){let i=0;const r=e.length,o=t.findNextIntlWordAtOrAfterOffset(e,n.column-1);for(let s=n.column-1;s<r;s++){const n=e.charCodeAt(s),r=t.get(n);if(o&&s===o.index)return this._createIntlWord(o,r);if(0===r){if(2===i)return this._createWord(e,i,r,this._findStartOfWord(e,t,i,s-1),s);i=1}else if(2===r){if(1===i)return this._createWord(e,i,r,this._findStartOfWord(e,t,i,s-1),s);i=2}else if(1===r&&0!==i)return this._createWord(e,i,r,this._findStartOfWord(e,t,i,s-1),s)}return 0!==i?this._createWord(e,i,1,this._findStartOfWord(e,t,i,r-1),r):null}static _findStartOfWord(e,t,n,i){const r=t.findPrevIntlWordBeforeOrAtOffset(e,i);for(let o=i;o>=0;o--){const i=e.charCodeAt(o),s=t.get(i);if(r&&o===r.index)return o;if(1===s)return o+1;if(1===n&&2===s)return o+1;if(2===n&&0===s)return o+1}return 0}static moveWordLeft(e,t,n,i){let r=n.lineNumber,o=n.column;1===o&&r>1&&(r-=1,o=t.getLineMaxColumn(r));let s=u._findPreviousWordOnLine(e,t,new a.y(r,o));if(0===i)return new a.y(r,s?s.start+1:1);if(1===i)return s&&2===s.wordType&&s.end-s.start===1&&0===s.nextCharClass&&(s=u._findPreviousWordOnLine(e,t,new a.y(r,s.start+1))),new a.y(r,s?s.start+1:1);if(3===i){for(;s&&2===s.wordType;)s=u._findPreviousWordOnLine(e,t,new a.y(r,s.start+1));return new a.y(r,s?s.start+1:1)}return s&&o<=s.end+1&&(s=u._findPreviousWordOnLine(e,t,new a.y(r,s.start+1))),new a.y(r,s?s.end+1:1)}static _moveWordPartLeft(e,t){const n=t.lineNumber,r=e.getLineMaxColumn(n);if(1===t.column)return n>1?new a.y(n-1,e.getLineMaxColumn(n-1)):t;const o=e.getLineContent(n);for(let s=t.column-1;s>1;s--){const e=o.charCodeAt(s-2),t=o.charCodeAt(s-1);if(95===e&&95!==t)return new a.y(n,s);if(45===e&&45!==t)return new a.y(n,s);if((i.Lv(e)||i.DB(e))&&i.Wv(t))return new a.y(n,s);if(i.Wv(e)&&i.Wv(t)&&s+1<r){const e=o.charCodeAt(s);if(i.Lv(e)||i.DB(e))return new a.y(n,s)}}return new a.y(n,1)}static moveWordRight(e,t,n,i){let r=n.lineNumber,o=n.column,s=!1;o===t.getLineMaxColumn(r)&&r<t.getLineCount()&&(s=!0,r+=1,o=1);let l=u._findNextWordOnLine(e,t,new a.y(r,o));if(2===i)l&&2===l.wordType&&l.end-l.start===1&&0===l.nextCharClass&&(l=u._findNextWordOnLine(e,t,new a.y(r,l.end+1))),o=l?l.end+1:t.getLineMaxColumn(r);else if(3===i){for(s&&(o=0);l&&(2===l.wordType||l.start+1<=o);)l=u._findNextWordOnLine(e,t,new a.y(r,l.end+1));o=l?l.start+1:t.getLineMaxColumn(r)}else l&&!s&&o>=l.start+1&&(l=u._findNextWordOnLine(e,t,new a.y(r,l.end+1))),o=l?l.start+1:t.getLineMaxColumn(r);return new a.y(r,o)}static _moveWordPartRight(e,t){const n=t.lineNumber,r=e.getLineMaxColumn(n);if(t.column===r)return n<e.getLineCount()?new a.y(n+1,1):t;const o=e.getLineContent(n);for(let s=t.column+1;s<r;s++){const e=o.charCodeAt(s-2),t=o.charCodeAt(s-1);if(95!==e&&95===t)return new a.y(n,s);if(45!==e&&45===t)return new a.y(n,s);if((i.Lv(e)||i.DB(e))&&i.Wv(t))return new a.y(n,s);if(i.Wv(e)&&i.Wv(t)&&s+1<r){const e=o.charCodeAt(s);if(i.Lv(e)||i.DB(e))return new a.y(n,s)}}return new a.y(n,r)}static _deleteWordLeftWhitespace(e,t){const n=e.getLineContent(t.lineNumber),r=t.column-2,o=i.lT(n,r);return o+1<r?new l.Q(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const n=e.wordSeparators,i=e.model,r=e.selection,s=e.whitespaceHeuristics;if(!r.isEmpty())return r;if(o.g.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const t=e.selection.getPosition();return new l.Q(t.lineNumber,t.column-1,t.lineNumber,t.column+1)}const c=new a.y(r.positionLineNumber,r.positionColumn);let d=c.lineNumber,h=c.column;if(1===d&&1===h)return null;if(s){const e=this._deleteWordLeftWhitespace(i,c);if(e)return e}let m=u._findPreviousWordOnLine(n,i,c);return 0===t?m?h=m.start+1:h>1?h=1:(d--,h=i.getLineMaxColumn(d)):(m&&h<=m.end+1&&(m=u._findPreviousWordOnLine(n,i,new a.y(d,m.start+1))),m?h=m.end+1:h>1?h=1:(d--,h=i.getLineMaxColumn(d))),new l.Q(d,h,c.lineNumber,c.column)}static deleteInsideWord(e,t,n){if(!n.isEmpty())return n;const i=new a.y(n.positionLineNumber,n.positionColumn),r=this._deleteInsideWordWhitespace(t,i);return r||this._deleteInsideWordDetermineDeleteRange(e,t,i)}static _charAtIsWhitespace(e,t){const n=e.charCodeAt(t);return 32===n||9===n}static _deleteInsideWordWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=n.length;if(0===i)return null;let r=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(n,r))return null;let o=Math.min(t.column-1,i-1);if(!this._charAtIsWhitespace(n,o))return null;for(;r>0&&this._charAtIsWhitespace(n,r-1);)r--;for(;o+1<i&&this._charAtIsWhitespace(n,o+1);)o++;return new l.Q(t.lineNumber,r+1,t.lineNumber,o+2)}static _deleteInsideWordDetermineDeleteRange(e,t,n){const i=t.getLineContent(n.lineNumber),r=i.length;if(0===r)return n.lineNumber>1?new l.Q(n.lineNumber-1,t.getLineMaxColumn(n.lineNumber-1),n.lineNumber,1):n.lineNumber<t.getLineCount()?new l.Q(n.lineNumber,1,n.lineNumber+1,1):new l.Q(n.lineNumber,1,n.lineNumber,1);const o=e=>e.start+1<=n.column&&n.column<=e.end+1,s=(e,t)=>(e=Math.min(e,n.column),t=Math.max(t,n.column),new l.Q(n.lineNumber,e,n.lineNumber,t)),a=e=>{let t=e.start+1,n=e.end+1,o=!1;for(;n-1<r&&this._charAtIsWhitespace(i,n-1);)o=!0,n++;if(!o)for(;t>1&&this._charAtIsWhitespace(i,t-2);)t--;return s(t,n)},c=u._findPreviousWordOnLine(e,t,n);if(c&&o(c))return a(c);const d=u._findNextWordOnLine(e,t,n);return d&&o(d)?a(d):c&&d?s(c.end+1,d.start+1):c?s(c.start+1,c.end+1):d?s(d.start+1,d.end+1):s(1,r+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),i=u._moveWordPartLeft(e,n);return new l.Q(n.lineNumber,n.column,i.lineNumber,i.column)}static _findFirstNonWhitespaceChar(e,t){const n=e.length;for(let i=t;i<n;i++){const t=e.charAt(i);if(" "!==t&&"\t"!==t)return i}return n}static _deleteWordRightWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=t.column-1,r=this._findFirstNonWhitespaceChar(n,i);return i+1<r?new l.Q(t.lineNumber,t.column,t.lineNumber,r+1):null}static deleteWordRight(e,t){const n=e.wordSeparators,i=e.model,r=e.selection,o=e.whitespaceHeuristics;if(!r.isEmpty())return r;const s=new a.y(r.positionLineNumber,r.positionColumn);let c=s.lineNumber,d=s.column;const h=i.getLineCount(),m=i.getLineMaxColumn(c);if(c===h&&d===m)return null;if(o){const e=this._deleteWordRightWhitespace(i,s);if(e)return e}let g=u._findNextWordOnLine(n,i,s);return 2===t?g?d=g.end+1:d<m||c===h?d=m:(c++,g=u._findNextWordOnLine(n,i,new a.y(c,1)),d=g?g.start+1:i.getLineMaxColumn(c)):(g&&d>=g.start+1&&(g=u._findNextWordOnLine(n,i,new a.y(c,g.end+1))),g?d=g.start+1:d<m||c===h?d=m:(c++,g=u._findNextWordOnLine(n,i,new a.y(c,1)),d=g?g.start+1:i.getLineMaxColumn(c))),new l.Q(c,d,s.lineNumber,s.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),i=u._moveWordPartRight(e,n);return new l.Q(n.lineNumber,n.column,i.lineNumber,i.column)}static _createWordAtPosition(e,t,n){const i=new l.Q(t,n.start+1,t,n.end+1);return{word:e.getValueInRange(i),startColumn:i.startColumn,endColumn:i.endColumn}}static getWordAtPosition(e,t,n,i){const r=(0,s.i)(t,n),o=u._findPreviousWordOnLine(r,e,i);if(o&&1===o.wordType&&o.start<=i.column-1&&i.column-1<=o.end)return u._createWordAtPosition(e,i.lineNumber,o);const a=u._findNextWordOnLine(r,e,i);return a&&1===a.wordType&&a.start<=i.column-1&&i.column-1<=a.end?u._createWordAtPosition(e,i.lineNumber,a):null}static word(e,t,n,i,o){const c=(0,s.i)(e.wordSeparators,e.wordSegmenterLocales),d=u._findPreviousWordOnLine(c,t,o),h=u._findNextWordOnLine(c,t,o);if(!i){let e,n;return d&&1===d.wordType&&d.start<=o.column-1&&o.column-1<=d.end?(e=d.start+1,n=d.end+1):h&&1===h.wordType&&h.start<=o.column-1&&o.column-1<=h.end?(e=h.start+1,n=h.end+1):(e=d?d.end+1:1,n=h?h.start+1:t.getLineMaxColumn(o.lineNumber)),new r.mG(new l.Q(o.lineNumber,e,o.lineNumber,n),1,0,new a.y(o.lineNumber,n),0)}let m,g;d&&1===d.wordType&&d.start<o.column-1&&o.column-1<d.end?(m=d.start+1,g=d.end+1):h&&1===h.wordType&&h.start<o.column-1&&o.column-1<h.end?(m=h.start+1,g=h.end+1):(m=o.column,g=o.column);const f=o.lineNumber;let b;if(n.selectionStart.containsPosition(o))b=n.selectionStart.endColumn;else if(o.isBeforeOrEqual(n.selectionStart.getStartPosition())){b=m;const e=new a.y(f,b);n.selectionStart.containsPosition(e)&&(b=n.selectionStart.endColumn)}else{b=g;const e=new a.y(f,b);n.selectionStart.containsPosition(e)&&(b=n.selectionStart.startColumn)}return n.move(!0,f,b,0)}}class c extends u{static deleteWordPartLeft(e){const t=d([u.deleteWordLeft(e,0),u.deleteWordLeft(e,2),u._deleteWordPartLeft(e.model,e.selection)]);return t.sort(l.Q.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=d([u.deleteWordRight(e,0),u.deleteWordRight(e,2),u._deleteWordPartRight(e.model,e.selection)]);return t.sort(l.Q.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,n){const i=d([u.moveWordLeft(e,t,n,0),u.moveWordLeft(e,t,n,2),u._moveWordPartLeft(t,n)]);return i.sort(a.y.compare),i[2]}static moveWordPartRight(e,t,n){const i=d([u.moveWordRight(e,t,n,0),u.moveWordRight(e,t,n,2),u._moveWordPartRight(t,n)]);return i.sort(a.y.compare),i[0]}}function d(e){return e.filter((e=>Boolean(e)))}},97447:(e,t,n)=>{n.d(t,{MF:()=>m,d$:()=>h,mG:()=>b,vG:()=>p,vY:()=>C});var i=n(23525),r=n(99005),o=n(5190),s=n(20944),a=n(47221),l=n(77327);const u=()=>!0,c=()=>!1,d=e=>" "===e||"\t"===e;class h{static shouldRecreate(e){return e.hasChanged(145)||e.hasChanged(131)||e.hasChanged(37)||e.hasChanged(77)||e.hasChanged(79)||e.hasChanged(80)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(9)||e.hasChanged(10)||e.hasChanged(14)||e.hasChanged(128)||e.hasChanged(50)||e.hasChanged(91)||e.hasChanged(130)}constructor(e,t,n,i){var r;this.languageConfigurationService=i,this._cursorMoveConfigurationBrand=void 0,this._languageId=e;const o=n.options,s=o.get(145),a=o.get(50);this.readOnly=o.get(91),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=o.get(116),this.lineHeight=a.lineHeight,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(s.height/this.lineHeight)-2),this.useTabStops=o.get(128),this.wordSeparators=o.get(131),this.emptySelectionClipboard=o.get(37),this.copyWithSyntaxHighlighting=o.get(25),this.multiCursorMergeOverlapping=o.get(77),this.multiCursorPaste=o.get(79),this.multiCursorLimit=o.get(80),this.autoClosingBrackets=o.get(6),this.autoClosingComments=o.get(7),this.autoClosingQuotes=o.get(11),this.autoClosingDelete=o.get(9),this.autoClosingOvertype=o.get(10),this.autoSurround=o.get(14),this.autoIndent=o.get(12),this.wordSegmenterLocales=o.get(130),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(e,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(e,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(e,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(e).getAutoClosingPairs();const l=this.languageConfigurationService.getLanguageConfiguration(e).getSurroundingPairs();if(l)for(const c of l)this.surroundingPairs[c.open]=c.close;const u=this.languageConfigurationService.getLanguageConfiguration(e).comments;this.blockCommentStartToken=null!==(r=null===u||void 0===u?void 0:u.blockCommentStartToken)&&void 0!==r?r:null}get electricChars(){var e;if(!this._electricChars){this._electricChars={};const t=null===(e=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===e?void 0:e.getElectricCharacters();if(t)for(const e of t)this._electricChars[e]=!0}return this._electricChars}onElectricCharacter(e,t,n){const i=(0,s.BQ)(t,n-1),r=this.languageConfigurationService.getLanguageConfiguration(i.languageId).electricCharacter;return r?r.onElectricCharacter(e,i,n-i.firstCharOffset):null}normalizeIndentation(e){return(0,l.P)(e,this.indentSize,this.insertSpaces)}_getShouldAutoClose(e,t,n){switch(t){case"beforeWhitespace":return d;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(e,n);case"always":return u;case"never":return c}}_getLanguageDefinedShouldAutoClose(e,t){const n=this.languageConfigurationService.getLanguageConfiguration(e).getAutoCloseBeforeSet(t);return e=>-1!==n.indexOf(e)}visibleColumnFromColumn(e,t){return a.A.visibleColumnFromColumn(e.getLineContent(t.lineNumber),t.column,this.tabSize)}columnFromVisibleColumn(e,t,n){const i=a.A.columnFromVisibleColumn(e.getLineContent(t),n,this.tabSize),r=e.getLineMinColumn(t);if(i<r)return r;const o=e.getLineMaxColumn(t);return i>o?o:i}}class m{static fromModelState(e){return new g(e)}static fromViewState(e){return new f(e)}static fromModelSelection(e){const t=o.L.liftSelection(e),n=new b(r.Q.fromPositions(t.getSelectionStart()),0,0,t.getPosition(),0);return m.fromModelState(n)}static fromModelSelections(e){const t=[];for(let n=0,i=e.length;n<i;n++)t[n]=this.fromModelSelection(e[n]);return t}constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class g{constructor(e){this.modelState=e,this.viewState=null}}class f{constructor(e){this.modelState=null,this.viewState=e}}class b{constructor(e,t,n,i,r){this.selectionStart=e,this.selectionStartKind=t,this.selectionStartLeftoverVisibleColumns=n,this.position=i,this.leftoverVisibleColumns=r,this._singleCursorStateBrand=void 0,this.selection=b._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.selectionStartKind===e.selectionStartKind&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,n,o){return e?new b(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new i.y(t,n),o):new b(new r.Q(t,n,t,n),0,o,new i.y(t,n),o)}static _computeSelection(e,t){return e.isEmpty()||!t.isBeforeOrEqual(e.getStartPosition())?o.L.fromPositions(e.getStartPosition(),t):o.L.fromPositions(e.getEndPosition(),t)}}class C{constructor(e,t,n){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=n.shouldPushStackElementBefore,this.shouldPushStackElementAfter=n.shouldPushStackElementAfter}}function p(e){return"'"===e||'"'===e||"`"===e}}}]);
//# sourceMappingURL=monaco-editor-vendor.4ec6fe68.b8b26af4.js.map