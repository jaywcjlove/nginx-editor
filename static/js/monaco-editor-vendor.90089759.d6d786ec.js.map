{"version":3,"file":"static/js/monaco-editor-vendor.90089759.d6d786ec.js","mappings":"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","sources":["../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/inspectTokens/inspectTokens.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/standaloneCodeEditorService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/colorizer.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/standaloneCodeEditor.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/standaloneEditor.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/common/monarch/monarchCompile.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/standaloneLanguages.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/standaloneLayoutService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/quickInput/standaloneQuickInputService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/standaloneServices.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/common/themes.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/standaloneThemeService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/common/monarch/monarchCommon.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/common/monarch/monarchLexer.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/standalone/common/standaloneTheme.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport './accessibilityHelp.css';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { renderFormattedText } from '../../../../base/browser/formattedTextRenderer.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { Widget } from '../../../../base/browser/ui/widget.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ToggleTabFocusModeAction } from '../../../contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { AccessibilityHelpNLS } from '../../../common/standaloneStrings.js';\nconst CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE = new RawContextKey('accessibilityHelpWidgetVisible', false);\nlet AccessibilityHelpController = class AccessibilityHelpController extends Disposable {\n    static get(editor) {\n        return editor.getContribution(AccessibilityHelpController.ID);\n    }\n    constructor(editor, instantiationService) {\n        super();\n        this._editor = editor;\n        this._widget = this._register(instantiationService.createInstance(AccessibilityHelpWidget, this._editor));\n    }\n    show() {\n        this._widget.show();\n    }\n    hide() {\n        this._widget.hide();\n    }\n};\nAccessibilityHelpController.ID = 'editor.contrib.accessibilityHelpController';\nAccessibilityHelpController = __decorate([\n    __param(1, IInstantiationService)\n], AccessibilityHelpController);\nfunction getSelectionLabel(selections, charactersSelected) {\n    if (!selections || selections.length === 0) {\n        return AccessibilityHelpNLS.noSelection;\n    }\n    if (selections.length === 1) {\n        if (charactersSelected) {\n            return strings.format(AccessibilityHelpNLS.singleSelectionRange, selections[0].positionLineNumber, selections[0].positionColumn, charactersSelected);\n        }\n        return strings.format(AccessibilityHelpNLS.singleSelection, selections[0].positionLineNumber, selections[0].positionColumn);\n    }\n    if (charactersSelected) {\n        return strings.format(AccessibilityHelpNLS.multiSelectionRange, selections.length, charactersSelected);\n    }\n    if (selections.length > 0) {\n        return strings.format(AccessibilityHelpNLS.multiSelection, selections.length);\n    }\n    return '';\n}\nlet AccessibilityHelpWidget = class AccessibilityHelpWidget extends Widget {\n    constructor(editor, _contextKeyService, _keybindingService, _openerService) {\n        super();\n        this._contextKeyService = _contextKeyService;\n        this._keybindingService = _keybindingService;\n        this._openerService = _openerService;\n        this._editor = editor;\n        this._isVisibleKey = CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE.bindTo(this._contextKeyService);\n        this._domNode = createFastDomNode(document.createElement('div'));\n        this._domNode.setClassName('accessibilityHelpWidget');\n        this._domNode.setDisplay('none');\n        this._domNode.setAttribute('role', 'dialog');\n        this._domNode.setAttribute('aria-hidden', 'true');\n        this._contentDomNode = createFastDomNode(document.createElement('div'));\n        this._contentDomNode.setAttribute('role', 'document');\n        this._domNode.appendChild(this._contentDomNode);\n        this._isVisible = false;\n        this._register(this._editor.onDidLayoutChange(() => {\n            if (this._isVisible) {\n                this._layout();\n            }\n        }));\n        // Intentionally not configurable!\n        this._register(dom.addStandardDisposableListener(this._contentDomNode.domNode, 'keydown', (e) => {\n            if (!this._isVisible) {\n                return;\n            }\n            if (e.equals(2048 /* KeyMod.CtrlCmd */ | 35 /* KeyCode.KeyE */)) {\n                alert(AccessibilityHelpNLS.emergencyConfOn);\n                this._editor.updateOptions({\n                    accessibilitySupport: 'on'\n                });\n                dom.clearNode(this._contentDomNode.domNode);\n                this._buildContent();\n                this._contentDomNode.domNode.focus();\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            if (e.equals(2048 /* KeyMod.CtrlCmd */ | 38 /* KeyCode.KeyH */)) {\n                alert(AccessibilityHelpNLS.openingDocs);\n                let url = this._editor.getRawOptions().accessibilityHelpUrl;\n                if (typeof url === 'undefined') {\n                    url = 'https://go.microsoft.com/fwlink/?linkid=852450';\n                }\n                this._openerService.open(URI.parse(url));\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        }));\n        this.onblur(this._contentDomNode.domNode, () => {\n            this.hide();\n        });\n        this._editor.addOverlayWidget(this);\n    }\n    dispose() {\n        this._editor.removeOverlayWidget(this);\n        super.dispose();\n    }\n    getId() {\n        return AccessibilityHelpWidget.ID;\n    }\n    getDomNode() {\n        return this._domNode.domNode;\n    }\n    getPosition() {\n        return {\n            preference: null\n        };\n    }\n    show() {\n        if (this._isVisible) {\n            return;\n        }\n        this._isVisible = true;\n        this._isVisibleKey.set(true);\n        this._layout();\n        this._domNode.setDisplay('block');\n        this._domNode.setAttribute('aria-hidden', 'false');\n        this._contentDomNode.domNode.tabIndex = 0;\n        this._buildContent();\n        this._contentDomNode.domNode.focus();\n    }\n    _descriptionForCommand(commandId, msg, noKbMsg) {\n        const kb = this._keybindingService.lookupKeybinding(commandId);\n        if (kb) {\n            return strings.format(msg, kb.getAriaLabel());\n        }\n        return strings.format(noKbMsg, commandId);\n    }\n    _buildContent() {\n        const options = this._editor.getOptions();\n        const selections = this._editor.getSelections();\n        let charactersSelected = 0;\n        if (selections) {\n            const model = this._editor.getModel();\n            if (model) {\n                selections.forEach((selection) => {\n                    charactersSelected += model.getValueLengthInRange(selection);\n                });\n            }\n        }\n        let text = getSelectionLabel(selections, charactersSelected);\n        if (options.get(58 /* EditorOption.inDiffEditor */)) {\n            if (options.get(86 /* EditorOption.readOnly */)) {\n                text += AccessibilityHelpNLS.readonlyDiffEditor;\n            }\n            else {\n                text += AccessibilityHelpNLS.editableDiffEditor;\n            }\n        }\n        else {\n            if (options.get(86 /* EditorOption.readOnly */)) {\n                text += AccessibilityHelpNLS.readonlyEditor;\n            }\n            else {\n                text += AccessibilityHelpNLS.editableEditor;\n            }\n        }\n        const turnOnMessage = (platform.isMacintosh\n            ? AccessibilityHelpNLS.changeConfigToOnMac\n            : AccessibilityHelpNLS.changeConfigToOnWinLinux);\n        switch (options.get(2 /* EditorOption.accessibilitySupport */)) {\n            case 0 /* AccessibilitySupport.Unknown */:\n                text += '\\n\\n - ' + turnOnMessage;\n                break;\n            case 2 /* AccessibilitySupport.Enabled */:\n                text += '\\n\\n - ' + AccessibilityHelpNLS.auto_on;\n                break;\n            case 1 /* AccessibilitySupport.Disabled */:\n                text += '\\n\\n - ' + AccessibilityHelpNLS.auto_off;\n                text += ' ' + turnOnMessage;\n                break;\n        }\n        if (options.get(137 /* EditorOption.tabFocusMode */)) {\n            text += '\\n\\n - ' + this._descriptionForCommand(ToggleTabFocusModeAction.ID, AccessibilityHelpNLS.tabFocusModeOnMsg, AccessibilityHelpNLS.tabFocusModeOnMsgNoKb);\n        }\n        else {\n            text += '\\n\\n - ' + this._descriptionForCommand(ToggleTabFocusModeAction.ID, AccessibilityHelpNLS.tabFocusModeOffMsg, AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);\n        }\n        const openDocMessage = (platform.isMacintosh\n            ? AccessibilityHelpNLS.openDocMac\n            : AccessibilityHelpNLS.openDocWinLinux);\n        text += '\\n\\n - ' + openDocMessage;\n        text += '\\n\\n' + AccessibilityHelpNLS.outroMsg;\n        this._contentDomNode.domNode.appendChild(renderFormattedText(text));\n        // Per https://www.w3.org/TR/wai-aria/roles#document, Authors SHOULD provide a title or label for documents\n        this._contentDomNode.domNode.setAttribute('aria-label', text);\n    }\n    hide() {\n        if (!this._isVisible) {\n            return;\n        }\n        this._isVisible = false;\n        this._isVisibleKey.reset();\n        this._domNode.setDisplay('none');\n        this._domNode.setAttribute('aria-hidden', 'true');\n        this._contentDomNode.domNode.tabIndex = -1;\n        dom.clearNode(this._contentDomNode.domNode);\n        this._editor.focus();\n    }\n    _layout() {\n        const editorLayout = this._editor.getLayoutInfo();\n        const w = Math.max(5, Math.min(AccessibilityHelpWidget.WIDTH, editorLayout.width - 40));\n        const h = Math.max(5, Math.min(AccessibilityHelpWidget.HEIGHT, editorLayout.height - 40));\n        this._domNode.setWidth(w);\n        this._domNode.setHeight(h);\n        const top = Math.round((editorLayout.height - h) / 2);\n        this._domNode.setTop(top);\n        const left = Math.round((editorLayout.width - w) / 2);\n        this._domNode.setLeft(left);\n    }\n};\nAccessibilityHelpWidget.ID = 'editor.contrib.accessibilityHelpWidget';\nAccessibilityHelpWidget.WIDTH = 500;\nAccessibilityHelpWidget.HEIGHT = 300;\nAccessibilityHelpWidget = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, IKeybindingService),\n    __param(3, IOpenerService)\n], AccessibilityHelpWidget);\nclass ShowAccessibilityHelpAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.showAccessibilityHelp',\n            label: AccessibilityHelpNLS.showAccessibilityHelpAction,\n            alias: 'Show Accessibility Help',\n            precondition: undefined,\n            kbOpts: {\n                primary: 512 /* KeyMod.Alt */ | 59 /* KeyCode.F1 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */,\n                linux: {\n                    primary: 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 59 /* KeyCode.F1 */,\n                    secondary: [512 /* KeyMod.Alt */ | 59 /* KeyCode.F1 */]\n                }\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = AccessibilityHelpController.get(editor);\n        controller === null || controller === void 0 ? void 0 : controller.show();\n    }\n}\nregisterEditorContribution(AccessibilityHelpController.ID, AccessibilityHelpController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorAction(ShowAccessibilityHelpAction);\nconst AccessibilityHelpCommand = EditorCommand.bindToContribution(AccessibilityHelpController.get);\nregisterEditorCommand(new AccessibilityHelpCommand({\n    id: 'closeAccessibilityHelp',\n    precondition: CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE,\n    handler: x => x.hide(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 100,\n        kbExpr: EditorContextKeys.focus,\n        primary: 9 /* KeyCode.Escape */,\n        secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */]\n    }\n}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './iPadShowKeyboard.css';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { isIOS } from '../../../../base/common/platform.js';\nclass IPadShowKeyboard extends Disposable {\n    constructor(editor) {\n        super();\n        this.editor = editor;\n        this.widget = null;\n        if (isIOS) {\n            this._register(editor.onDidChangeConfiguration(() => this.update()));\n            this.update();\n        }\n    }\n    update() {\n        const shouldHaveWidget = (!this.editor.getOption(86 /* EditorOption.readOnly */));\n        if (!this.widget && shouldHaveWidget) {\n            this.widget = new ShowKeyboardWidget(this.editor);\n        }\n        else if (this.widget && !shouldHaveWidget) {\n            this.widget.dispose();\n            this.widget = null;\n        }\n    }\n    dispose() {\n        super.dispose();\n        if (this.widget) {\n            this.widget.dispose();\n            this.widget = null;\n        }\n    }\n}\nIPadShowKeyboard.ID = 'editor.contrib.iPadShowKeyboard';\nexport { IPadShowKeyboard };\nclass ShowKeyboardWidget extends Disposable {\n    constructor(editor) {\n        super();\n        this.editor = editor;\n        this._domNode = document.createElement('textarea');\n        this._domNode.className = 'iPadShowKeyboard';\n        this._register(dom.addDisposableListener(this._domNode, 'touchstart', (e) => {\n            this.editor.focus();\n        }));\n        this._register(dom.addDisposableListener(this._domNode, 'focus', (e) => {\n            this.editor.focus();\n        }));\n        this.editor.addOverlayWidget(this);\n    }\n    dispose() {\n        this.editor.removeOverlayWidget(this);\n        super.dispose();\n    }\n    // ----- IOverlayWidget API\n    getId() {\n        return ShowKeyboardWidget.ID;\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return {\n            preference: 1 /* OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER */\n        };\n    }\n}\nShowKeyboardWidget.ID = 'editor.contrib.ShowKeyboardWidget';\nregisterEditorContribution(IPadShowKeyboard.ID, IPadShowKeyboard, 3 /* EditorContributionInstantiation.Eventually */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport './inspectTokens.css';\nimport { $, append, reset } from '../../../../base/browser/dom.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { TokenizationRegistry } from '../../../common/languages.js';\nimport { TokenMetadata } from '../../../common/encodedTokenAttributes.js';\nimport { NullState, nullTokenize, nullTokenizeEncoded } from '../../../common/languages/nullTokenize.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { IStandaloneThemeService } from '../../common/standaloneTheme.js';\nimport { InspectTokensNLS } from '../../../common/standaloneStrings.js';\nlet InspectTokensController = class InspectTokensController extends Disposable {\n    static get(editor) {\n        return editor.getContribution(InspectTokensController.ID);\n    }\n    constructor(editor, standaloneColorService, languageService) {\n        super();\n        this._editor = editor;\n        this._languageService = languageService;\n        this._widget = null;\n        this._register(this._editor.onDidChangeModel((e) => this.stop()));\n        this._register(this._editor.onDidChangeModelLanguage((e) => this.stop()));\n        this._register(TokenizationRegistry.onDidChange((e) => this.stop()));\n        this._register(this._editor.onKeyUp((e) => e.keyCode === 9 /* KeyCode.Escape */ && this.stop()));\n    }\n    dispose() {\n        this.stop();\n        super.dispose();\n    }\n    launch() {\n        if (this._widget) {\n            return;\n        }\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        this._widget = new InspectTokensWidget(this._editor, this._languageService);\n    }\n    stop() {\n        if (this._widget) {\n            this._widget.dispose();\n            this._widget = null;\n        }\n    }\n};\nInspectTokensController.ID = 'editor.contrib.inspectTokens';\nInspectTokensController = __decorate([\n    __param(1, IStandaloneThemeService),\n    __param(2, ILanguageService)\n], InspectTokensController);\nclass InspectTokens extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.inspectTokens',\n            label: InspectTokensNLS.inspectTokensAction,\n            alias: 'Developer: Inspect Tokens',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        const controller = InspectTokensController.get(editor);\n        controller === null || controller === void 0 ? void 0 : controller.launch();\n    }\n}\nfunction renderTokenText(tokenText) {\n    let result = '';\n    for (let charIndex = 0, len = tokenText.length; charIndex < len; charIndex++) {\n        const charCode = tokenText.charCodeAt(charIndex);\n        switch (charCode) {\n            case 9 /* CharCode.Tab */:\n                result += '\\u2192'; // &rarr;\n                break;\n            case 32 /* CharCode.Space */:\n                result += '\\u00B7'; // &middot;\n                break;\n            default:\n                result += String.fromCharCode(charCode);\n        }\n    }\n    return result;\n}\nfunction getSafeTokenizationSupport(languageIdCodec, languageId) {\n    const tokenizationSupport = TokenizationRegistry.get(languageId);\n    if (tokenizationSupport) {\n        return tokenizationSupport;\n    }\n    const encodedLanguageId = languageIdCodec.encodeLanguageId(languageId);\n    return {\n        getInitialState: () => NullState,\n        tokenize: (line, hasEOL, state) => nullTokenize(languageId, state),\n        tokenizeEncoded: (line, hasEOL, state) => nullTokenizeEncoded(encodedLanguageId, state)\n    };\n}\nclass InspectTokensWidget extends Disposable {\n    constructor(editor, languageService) {\n        super();\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = true;\n        this._editor = editor;\n        this._languageService = languageService;\n        this._model = this._editor.getModel();\n        this._domNode = document.createElement('div');\n        this._domNode.className = 'tokens-inspect-widget';\n        this._tokenizationSupport = getSafeTokenizationSupport(this._languageService.languageIdCodec, this._model.getLanguageId());\n        this._compute(this._editor.getPosition());\n        this._register(this._editor.onDidChangeCursorPosition((e) => this._compute(this._editor.getPosition())));\n        this._editor.addContentWidget(this);\n    }\n    dispose() {\n        this._editor.removeContentWidget(this);\n        super.dispose();\n    }\n    getId() {\n        return InspectTokensWidget._ID;\n    }\n    _compute(position) {\n        const data = this._getTokensAtLine(position.lineNumber);\n        let token1Index = 0;\n        for (let i = data.tokens1.length - 1; i >= 0; i--) {\n            const t = data.tokens1[i];\n            if (position.column - 1 >= t.offset) {\n                token1Index = i;\n                break;\n            }\n        }\n        let token2Index = 0;\n        for (let i = (data.tokens2.length >>> 1); i >= 0; i--) {\n            if (position.column - 1 >= data.tokens2[(i << 1)]) {\n                token2Index = i;\n                break;\n            }\n        }\n        const lineContent = this._model.getLineContent(position.lineNumber);\n        let tokenText = '';\n        if (token1Index < data.tokens1.length) {\n            const tokenStartIndex = data.tokens1[token1Index].offset;\n            const tokenEndIndex = token1Index + 1 < data.tokens1.length ? data.tokens1[token1Index + 1].offset : lineContent.length;\n            tokenText = lineContent.substring(tokenStartIndex, tokenEndIndex);\n        }\n        reset(this._domNode, $('h2.tm-token', undefined, renderTokenText(tokenText), $('span.tm-token-length', undefined, `${tokenText.length} ${tokenText.length === 1 ? 'char' : 'chars'}`)));\n        append(this._domNode, $('hr.tokens-inspect-separator', { 'style': 'clear:both' }));\n        const metadata = (token2Index << 1) + 1 < data.tokens2.length ? this._decodeMetadata(data.tokens2[(token2Index << 1) + 1]) : null;\n        append(this._domNode, $('table.tm-metadata-table', undefined, $('tbody', undefined, $('tr', undefined, $('td.tm-metadata-key', undefined, 'language'), $('td.tm-metadata-value', undefined, `${metadata ? metadata.languageId : '-?-'}`)), $('tr', undefined, $('td.tm-metadata-key', undefined, 'token type'), $('td.tm-metadata-value', undefined, `${metadata ? this._tokenTypeToString(metadata.tokenType) : '-?-'}`)), $('tr', undefined, $('td.tm-metadata-key', undefined, 'font style'), $('td.tm-metadata-value', undefined, `${metadata ? this._fontStyleToString(metadata.fontStyle) : '-?-'}`)), $('tr', undefined, $('td.tm-metadata-key', undefined, 'foreground'), $('td.tm-metadata-value', undefined, `${metadata ? Color.Format.CSS.formatHex(metadata.foreground) : '-?-'}`)), $('tr', undefined, $('td.tm-metadata-key', undefined, 'background'), $('td.tm-metadata-value', undefined, `${metadata ? Color.Format.CSS.formatHex(metadata.background) : '-?-'}`)))));\n        append(this._domNode, $('hr.tokens-inspect-separator'));\n        if (token1Index < data.tokens1.length) {\n            append(this._domNode, $('span.tm-token-type', undefined, data.tokens1[token1Index].type));\n        }\n        this._editor.layoutContentWidget(this);\n    }\n    _decodeMetadata(metadata) {\n        const colorMap = TokenizationRegistry.getColorMap();\n        const languageId = TokenMetadata.getLanguageId(metadata);\n        const tokenType = TokenMetadata.getTokenType(metadata);\n        const fontStyle = TokenMetadata.getFontStyle(metadata);\n        const foreground = TokenMetadata.getForeground(metadata);\n        const background = TokenMetadata.getBackground(metadata);\n        return {\n            languageId: this._languageService.languageIdCodec.decodeLanguageId(languageId),\n            tokenType: tokenType,\n            fontStyle: fontStyle,\n            foreground: colorMap[foreground],\n            background: colorMap[background]\n        };\n    }\n    _tokenTypeToString(tokenType) {\n        switch (tokenType) {\n            case 0 /* StandardTokenType.Other */: return 'Other';\n            case 1 /* StandardTokenType.Comment */: return 'Comment';\n            case 2 /* StandardTokenType.String */: return 'String';\n            case 3 /* StandardTokenType.RegEx */: return 'RegEx';\n            default: return '??';\n        }\n    }\n    _fontStyleToString(fontStyle) {\n        let r = '';\n        if (fontStyle & 1 /* FontStyle.Italic */) {\n            r += 'italic ';\n        }\n        if (fontStyle & 2 /* FontStyle.Bold */) {\n            r += 'bold ';\n        }\n        if (fontStyle & 4 /* FontStyle.Underline */) {\n            r += 'underline ';\n        }\n        if (fontStyle & 8 /* FontStyle.Strikethrough */) {\n            r += 'strikethrough ';\n        }\n        if (r.length === 0) {\n            r = '---';\n        }\n        return r;\n    }\n    _getTokensAtLine(lineNumber) {\n        const stateBeforeLine = this._getStateBeforeLine(lineNumber);\n        const tokenizationResult1 = this._tokenizationSupport.tokenize(this._model.getLineContent(lineNumber), true, stateBeforeLine);\n        const tokenizationResult2 = this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(lineNumber), true, stateBeforeLine);\n        return {\n            startState: stateBeforeLine,\n            tokens1: tokenizationResult1.tokens,\n            tokens2: tokenizationResult2.tokens,\n            endState: tokenizationResult1.endState\n        };\n    }\n    _getStateBeforeLine(lineNumber) {\n        let state = this._tokenizationSupport.getInitialState();\n        for (let i = 1; i < lineNumber; i++) {\n            const tokenizationResult = this._tokenizationSupport.tokenize(this._model.getLineContent(i), true, state);\n            state = tokenizationResult.endState;\n        }\n        return state;\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return {\n            position: this._editor.getPosition(),\n            preference: [2 /* ContentWidgetPositionPreference.BELOW */, 1 /* ContentWidgetPositionPreference.ABOVE */]\n        };\n    }\n}\nInspectTokensWidget._ID = 'editor.contrib.inspectTokensWidget';\nregisterEditorContribution(InspectTokensController.ID, InspectTokensController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorAction(InspectTokens);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { Extensions } from '../../../../platform/quickinput/common/quickAccess.js';\nimport { QuickCommandNLS } from '../../../common/standaloneStrings.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { AbstractEditorCommandsQuickAccessProvider } from '../../../contrib/quickAccess/browser/commandsQuickAccess.js';\nimport { withNullAsUndefined } from '../../../../base/common/types.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nlet StandaloneCommandsQuickAccessProvider = class StandaloneCommandsQuickAccessProvider extends AbstractEditorCommandsQuickAccessProvider {\n    get activeTextEditorControl() { return withNullAsUndefined(this.codeEditorService.getFocusedCodeEditor()); }\n    constructor(instantiationService, codeEditorService, keybindingService, commandService, telemetryService, dialogService) {\n        super({ showAlias: false }, instantiationService, keybindingService, commandService, telemetryService, dialogService);\n        this.codeEditorService = codeEditorService;\n    }\n    getCommandPicks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.getCodeEditorCommandPicks();\n        });\n    }\n};\nStandaloneCommandsQuickAccessProvider = __decorate([\n    __param(0, IInstantiationService),\n    __param(1, ICodeEditorService),\n    __param(2, IKeybindingService),\n    __param(3, ICommandService),\n    __param(4, ITelemetryService),\n    __param(5, IDialogService)\n], StandaloneCommandsQuickAccessProvider);\nexport { StandaloneCommandsQuickAccessProvider };\nclass GotoLineAction extends EditorAction {\n    constructor() {\n        super({\n            id: GotoLineAction.ID,\n            label: QuickCommandNLS.quickCommandActionLabel,\n            alias: 'Command Palette',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 59 /* KeyCode.F1 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            contextMenuOpts: {\n                group: 'z_commands',\n                order: 1\n            }\n        });\n    }\n    run(accessor) {\n        accessor.get(IQuickInputService).quickAccess.show(StandaloneCommandsQuickAccessProvider.PREFIX);\n    }\n}\nGotoLineAction.ID = 'editor.action.quickCommand';\nexport { GotoLineAction };\nregisterEditorAction(GotoLineAction);\nRegistry.as(Extensions.Quickaccess).registerQuickAccessProvider({\n    ctor: StandaloneCommandsQuickAccessProvider,\n    prefix: StandaloneCommandsQuickAccessProvider.PREFIX,\n    helpEntries: [{ description: QuickCommandNLS.quickCommandHelp, commandId: GotoLineAction.ID }]\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { AbstractGotoLineQuickAccessProvider } from '../../../contrib/quickAccess/browser/gotoLineQuickAccess.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { Extensions } from '../../../../platform/quickinput/common/quickAccess.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { withNullAsUndefined } from '../../../../base/common/types.js';\nimport { GoToLineNLS } from '../../../common/standaloneStrings.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nlet StandaloneGotoLineQuickAccessProvider = class StandaloneGotoLineQuickAccessProvider extends AbstractGotoLineQuickAccessProvider {\n    constructor(editorService) {\n        super();\n        this.editorService = editorService;\n        this.onDidActiveTextEditorControlChange = Event.None;\n    }\n    get activeTextEditorControl() {\n        return withNullAsUndefined(this.editorService.getFocusedCodeEditor());\n    }\n};\nStandaloneGotoLineQuickAccessProvider = __decorate([\n    __param(0, ICodeEditorService)\n], StandaloneGotoLineQuickAccessProvider);\nexport { StandaloneGotoLineQuickAccessProvider };\nclass GotoLineAction extends EditorAction {\n    constructor() {\n        super({\n            id: GotoLineAction.ID,\n            label: GoToLineNLS.gotoLineActionLabel,\n            alias: 'Go to Line/Column...',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 37 /* KeyCode.KeyG */,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 37 /* KeyCode.KeyG */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor) {\n        accessor.get(IQuickInputService).quickAccess.show(StandaloneGotoLineQuickAccessProvider.PREFIX);\n    }\n}\nGotoLineAction.ID = 'editor.action.gotoLine';\nexport { GotoLineAction };\nregisterEditorAction(GotoLineAction);\nRegistry.as(Extensions.Quickaccess).registerQuickAccessProvider({\n    ctor: StandaloneGotoLineQuickAccessProvider,\n    prefix: StandaloneGotoLineQuickAccessProvider.PREFIX,\n    helpEntries: [{ description: GoToLineNLS.gotoLineActionLabel, commandId: GotoLineAction.ID }]\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport '../../../../base/browser/ui/codicons/codiconStyles.js'; // The codicon symbol styles are defined here and must be loaded\nimport '../../../contrib/symbolIcons/browser/symbolIcons.js'; // The codicon symbol colors are defined here and must be loaded to get colors\nimport { AbstractGotoSymbolQuickAccessProvider } from '../../../contrib/quickAccess/browser/gotoSymbolQuickAccess.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { Extensions } from '../../../../platform/quickinput/common/quickAccess.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { withNullAsUndefined } from '../../../../base/common/types.js';\nimport { QuickOutlineNLS } from '../../../common/standaloneStrings.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { IQuickInputService, ItemActivation } from '../../../../platform/quickinput/common/quickInput.js';\nimport { IOutlineModelService } from '../../../contrib/documentSymbols/browser/outlineModel.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nlet StandaloneGotoSymbolQuickAccessProvider = class StandaloneGotoSymbolQuickAccessProvider extends AbstractGotoSymbolQuickAccessProvider {\n    constructor(editorService, languageFeaturesService, outlineModelService) {\n        super(languageFeaturesService, outlineModelService);\n        this.editorService = editorService;\n        this.onDidActiveTextEditorControlChange = Event.None;\n    }\n    get activeTextEditorControl() {\n        return withNullAsUndefined(this.editorService.getFocusedCodeEditor());\n    }\n};\nStandaloneGotoSymbolQuickAccessProvider = __decorate([\n    __param(0, ICodeEditorService),\n    __param(1, ILanguageFeaturesService),\n    __param(2, IOutlineModelService)\n], StandaloneGotoSymbolQuickAccessProvider);\nexport { StandaloneGotoSymbolQuickAccessProvider };\nclass GotoSymbolAction extends EditorAction {\n    constructor() {\n        super({\n            id: GotoSymbolAction.ID,\n            label: QuickOutlineNLS.quickOutlineActionLabel,\n            alias: 'Go to Symbol...',\n            precondition: EditorContextKeys.hasDocumentSymbolProvider,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 45 /* KeyCode.KeyO */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            contextMenuOpts: {\n                group: 'navigation',\n                order: 3\n            }\n        });\n    }\n    run(accessor) {\n        accessor.get(IQuickInputService).quickAccess.show(AbstractGotoSymbolQuickAccessProvider.PREFIX, { itemActivation: ItemActivation.NONE });\n    }\n}\nGotoSymbolAction.ID = 'editor.action.quickOutline';\nexport { GotoSymbolAction };\nregisterEditorAction(GotoSymbolAction);\nRegistry.as(Extensions.Quickaccess).registerQuickAccessProvider({\n    ctor: StandaloneGotoSymbolQuickAccessProvider,\n    prefix: AbstractGotoSymbolQuickAccessProvider.PREFIX,\n    helpEntries: [\n        { description: QuickOutlineNLS.quickOutlineActionLabel, prefix: AbstractGotoSymbolQuickAccessProvider.PREFIX, commandId: GotoSymbolAction.ID },\n        { description: QuickOutlineNLS.quickOutlineByCategoryActionLabel, prefix: AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY }\n    ]\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { Extensions } from '../../../../platform/quickinput/common/quickAccess.js';\nimport { QuickHelpNLS } from '../../../common/standaloneStrings.js';\nimport { HelpQuickAccessProvider } from '../../../../platform/quickinput/browser/helpQuickAccess.js';\nRegistry.as(Extensions.Quickaccess).registerQuickAccessProvider({\n    ctor: HelpQuickAccessProvider,\n    prefix: '',\n    helpEntries: [{ description: QuickHelpNLS.helpQuickAccessActionLabel }]\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { ReferencesController } from '../../../contrib/gotoSymbol/browser/peek/referencesController.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\nlet StandaloneReferencesController = class StandaloneReferencesController extends ReferencesController {\n    constructor(editor, contextKeyService, editorService, notificationService, instantiationService, storageService, configurationService) {\n        super(true, editor, contextKeyService, editorService, notificationService, instantiationService, storageService, configurationService);\n    }\n};\nStandaloneReferencesController = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, ICodeEditorService),\n    __param(3, INotificationService),\n    __param(4, IInstantiationService),\n    __param(5, IStorageService),\n    __param(6, IConfigurationService)\n], StandaloneReferencesController);\nexport { StandaloneReferencesController };\nregisterEditorContribution(ReferencesController.ID, StandaloneReferencesController, 4 /* EditorContributionInstantiation.Lazy */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { windowOpenNoOpener } from '../../../base/browser/dom.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { AbstractCodeEditorService } from '../../browser/services/abstractCodeEditorService.js';\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nlet StandaloneCodeEditorService = class StandaloneCodeEditorService extends AbstractCodeEditorService {\n    constructor(contextKeyService, themeService) {\n        super(themeService);\n        this.onCodeEditorAdd(() => this._checkContextKey());\n        this.onCodeEditorRemove(() => this._checkContextKey());\n        this._editorIsOpen = contextKeyService.createKey('editorIsOpen', false);\n        this._activeCodeEditor = null;\n        this.registerCodeEditorOpenHandler((input, source, sideBySide) => __awaiter(this, void 0, void 0, function* () {\n            if (!source) {\n                return null;\n            }\n            return this.doOpenEditor(source, input);\n        }));\n    }\n    _checkContextKey() {\n        let hasCodeEditor = false;\n        for (const editor of this.listCodeEditors()) {\n            if (!editor.isSimpleWidget) {\n                hasCodeEditor = true;\n                break;\n            }\n        }\n        this._editorIsOpen.set(hasCodeEditor);\n    }\n    setActiveCodeEditor(activeCodeEditor) {\n        this._activeCodeEditor = activeCodeEditor;\n    }\n    getActiveCodeEditor() {\n        return this._activeCodeEditor;\n    }\n    doOpenEditor(editor, input) {\n        const model = this.findModel(editor, input.resource);\n        if (!model) {\n            if (input.resource) {\n                const schema = input.resource.scheme;\n                if (schema === Schemas.http || schema === Schemas.https) {\n                    // This is a fully qualified http or https URL\n                    windowOpenNoOpener(input.resource.toString());\n                    return editor;\n                }\n            }\n            return null;\n        }\n        const selection = (input.options ? input.options.selection : null);\n        if (selection) {\n            if (typeof selection.endLineNumber === 'number' && typeof selection.endColumn === 'number') {\n                editor.setSelection(selection);\n                editor.revealRangeInCenter(selection, 1 /* ScrollType.Immediate */);\n            }\n            else {\n                const pos = {\n                    lineNumber: selection.startLineNumber,\n                    column: selection.startColumn\n                };\n                editor.setPosition(pos);\n                editor.revealPositionInCenter(pos, 1 /* ScrollType.Immediate */);\n            }\n        }\n        return editor;\n    }\n    findModel(editor, resource) {\n        const model = editor.getModel();\n        if (model && model.uri.toString() !== resource.toString()) {\n            return null;\n        }\n        return model;\n    }\n};\nStandaloneCodeEditorService = __decorate([\n    __param(0, IContextKeyService),\n    __param(1, IThemeService)\n], StandaloneCodeEditorService);\nexport { StandaloneCodeEditorService };\nregisterSingleton(ICodeEditorService, StandaloneCodeEditorService, 0 /* InstantiationType.Eager */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar _a;\nimport * as strings from '../../../base/common/strings.js';\nimport { LineTokens } from '../../common/tokens/lineTokens.js';\nimport { TokenizationRegistry } from '../../common/languages.js';\nimport { RenderLineInput, renderViewLine2 as renderViewLine } from '../../common/viewLayout/viewLineRenderer.js';\nimport { ViewLineRenderingData } from '../../common/viewModel.js';\nimport { MonarchTokenizer } from '../common/monarch/monarchLexer.js';\nconst ttPolicy = (_a = window.trustedTypes) === null || _a === void 0 ? void 0 : _a.createPolicy('standaloneColorizer', { createHTML: value => value });\nexport class Colorizer {\n    static colorizeElement(themeService, languageService, domNode, options) {\n        options = options || {};\n        const theme = options.theme || 'vs';\n        const mimeType = options.mimeType || domNode.getAttribute('lang') || domNode.getAttribute('data-lang');\n        if (!mimeType) {\n            console.error('Mode not detected');\n            return Promise.resolve();\n        }\n        const languageId = languageService.getLanguageIdByMimeType(mimeType) || mimeType;\n        themeService.setTheme(theme);\n        const text = domNode.firstChild ? domNode.firstChild.nodeValue : '';\n        domNode.className += ' ' + theme;\n        const render = (str) => {\n            var _a;\n            const trustedhtml = (_a = ttPolicy === null || ttPolicy === void 0 ? void 0 : ttPolicy.createHTML(str)) !== null && _a !== void 0 ? _a : str;\n            domNode.innerHTML = trustedhtml;\n        };\n        return this.colorize(languageService, text || '', languageId, options).then(render, (err) => console.error(err));\n    }\n    static colorize(languageService, text, languageId, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const languageIdCodec = languageService.languageIdCodec;\n            let tabSize = 4;\n            if (options && typeof options.tabSize === 'number') {\n                tabSize = options.tabSize;\n            }\n            if (strings.startsWithUTF8BOM(text)) {\n                text = text.substr(1);\n            }\n            const lines = strings.splitLines(text);\n            if (!languageService.isRegisteredLanguageId(languageId)) {\n                return _fakeColorize(lines, tabSize, languageIdCodec);\n            }\n            const tokenizationSupport = yield TokenizationRegistry.getOrCreate(languageId);\n            if (tokenizationSupport) {\n                return _colorize(lines, tabSize, tokenizationSupport, languageIdCodec);\n            }\n            return _fakeColorize(lines, tabSize, languageIdCodec);\n        });\n    }\n    static colorizeLine(line, mightContainNonBasicASCII, mightContainRTL, tokens, tabSize = 4) {\n        const isBasicASCII = ViewLineRenderingData.isBasicASCII(line, mightContainNonBasicASCII);\n        const containsRTL = ViewLineRenderingData.containsRTL(line, isBasicASCII, mightContainRTL);\n        const renderResult = renderViewLine(new RenderLineInput(false, true, line, false, isBasicASCII, containsRTL, 0, tokens, [], tabSize, 0, 0, 0, 0, -1, 'none', false, false, null));\n        return renderResult.html;\n    }\n    static colorizeModelLine(model, lineNumber, tabSize = 4) {\n        const content = model.getLineContent(lineNumber);\n        model.tokenization.forceTokenization(lineNumber);\n        const tokens = model.tokenization.getLineTokens(lineNumber);\n        const inflatedTokens = tokens.inflate();\n        return this.colorizeLine(content, model.mightContainNonBasicASCII(), model.mightContainRTL(), inflatedTokens, tabSize);\n    }\n}\nfunction _colorize(lines, tabSize, tokenizationSupport, languageIdCodec) {\n    return new Promise((c, e) => {\n        const execute = () => {\n            const result = _actualColorize(lines, tabSize, tokenizationSupport, languageIdCodec);\n            if (tokenizationSupport instanceof MonarchTokenizer) {\n                const status = tokenizationSupport.getLoadStatus();\n                if (status.loaded === false) {\n                    status.promise.then(execute, e);\n                    return;\n                }\n            }\n            c(result);\n        };\n        execute();\n    });\n}\nfunction _fakeColorize(lines, tabSize, languageIdCodec) {\n    let html = [];\n    const defaultMetadata = ((0 /* FontStyle.None */ << 11 /* MetadataConsts.FONT_STYLE_OFFSET */)\n        | (1 /* ColorId.DefaultForeground */ << 15 /* MetadataConsts.FOREGROUND_OFFSET */)\n        | (2 /* ColorId.DefaultBackground */ << 24 /* MetadataConsts.BACKGROUND_OFFSET */)) >>> 0;\n    const tokens = new Uint32Array(2);\n    tokens[0] = 0;\n    tokens[1] = defaultMetadata;\n    for (let i = 0, length = lines.length; i < length; i++) {\n        const line = lines[i];\n        tokens[0] = line.length;\n        const lineTokens = new LineTokens(tokens, line, languageIdCodec);\n        const isBasicASCII = ViewLineRenderingData.isBasicASCII(line, /* check for basic ASCII */ true);\n        const containsRTL = ViewLineRenderingData.containsRTL(line, isBasicASCII, /* check for RTL */ true);\n        const renderResult = renderViewLine(new RenderLineInput(false, true, line, false, isBasicASCII, containsRTL, 0, lineTokens, [], tabSize, 0, 0, 0, 0, -1, 'none', false, false, null));\n        html = html.concat(renderResult.html);\n        html.push('<br/>');\n    }\n    return html.join('');\n}\nfunction _actualColorize(lines, tabSize, tokenizationSupport, languageIdCodec) {\n    let html = [];\n    let state = tokenizationSupport.getInitialState();\n    for (let i = 0, length = lines.length; i < length; i++) {\n        const line = lines[i];\n        const tokenizeResult = tokenizationSupport.tokenizeEncoded(line, true, state);\n        LineTokens.convertToEndOffset(tokenizeResult.tokens, line.length);\n        const lineTokens = new LineTokens(tokenizeResult.tokens, line, languageIdCodec);\n        const isBasicASCII = ViewLineRenderingData.isBasicASCII(line, /* check for basic ASCII */ true);\n        const containsRTL = ViewLineRenderingData.containsRTL(line, isBasicASCII, /* check for RTL */ true);\n        const renderResult = renderViewLine(new RenderLineInput(false, true, line, false, isBasicASCII, containsRTL, 0, lineTokens.inflate(), [], tabSize, 0, 0, 0, 0, -1, 'none', false, false, null));\n        html = html.concat(renderResult.html);\n        html.push('<br/>');\n        state = tokenizeResult.endState;\n    }\n    return html.join('');\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as aria from '../../../base/browser/ui/aria/aria.js';\nimport { Disposable, toDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\nimport { CodeEditorWidget } from '../../browser/widget/codeEditorWidget.js';\nimport { DiffEditorWidget } from '../../browser/widget/diffEditorWidget.js';\nimport { InternalEditorAction } from '../../common/editorAction.js';\nimport { StandaloneKeybindingService, updateConfigurationService } from './standaloneServices.js';\nimport { IStandaloneThemeService } from '../common/standaloneTheme.js';\nimport { MenuId, MenuRegistry } from '../../../platform/actions/common/actions.js';\nimport { CommandsRegistry, ICommandService } from '../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { IAccessibilityService } from '../../../platform/accessibility/common/accessibility.js';\nimport { StandaloneCodeEditorNLS } from '../../common/standaloneStrings.js';\nimport { IClipboardService } from '../../../platform/clipboard/common/clipboardService.js';\nimport { IEditorProgressService } from '../../../platform/progress/common/progress.js';\nimport { IModelService } from '../../common/services/model.js';\nimport { ILanguageService } from '../../common/languages/language.js';\nimport { StandaloneCodeEditorService } from './standaloneCodeEditorService.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../../common/languages/modesRegistry.js';\nimport { ILanguageConfigurationService } from '../../common/languages/languageConfigurationRegistry.js';\nimport { ILanguageFeaturesService } from '../../common/services/languageFeatures.js';\nlet LAST_GENERATED_COMMAND_ID = 0;\nlet ariaDomNodeCreated = false;\n/**\n * Create ARIA dom node inside parent,\n * or only for the first editor instantiation inside document.body.\n * @param parent container element for ARIA dom node\n */\nfunction createAriaDomNode(parent) {\n    if (!parent) {\n        if (ariaDomNodeCreated) {\n            return;\n        }\n        ariaDomNodeCreated = true;\n    }\n    aria.setARIAContainer(parent || document.body);\n}\n/**\n * A code editor to be used both by the standalone editor and the standalone diff editor.\n */\nlet StandaloneCodeEditor = class StandaloneCodeEditor extends CodeEditorWidget {\n    constructor(domElement, _options, instantiationService, codeEditorService, commandService, contextKeyService, keybindingService, themeService, notificationService, accessibilityService, languageConfigurationService, languageFeaturesService) {\n        const options = Object.assign({}, _options);\n        options.ariaLabel = options.ariaLabel || StandaloneCodeEditorNLS.editorViewAccessibleLabel;\n        options.ariaLabel = options.ariaLabel + ';' + (StandaloneCodeEditorNLS.accessibilityHelpMessage);\n        super(domElement, options, {}, instantiationService, codeEditorService, commandService, contextKeyService, themeService, notificationService, accessibilityService, languageConfigurationService, languageFeaturesService);\n        if (keybindingService instanceof StandaloneKeybindingService) {\n            this._standaloneKeybindingService = keybindingService;\n        }\n        else {\n            this._standaloneKeybindingService = null;\n        }\n        createAriaDomNode(options.ariaContainerElement);\n    }\n    addCommand(keybinding, handler, context) {\n        if (!this._standaloneKeybindingService) {\n            console.warn('Cannot add command because the editor is configured with an unrecognized KeybindingService');\n            return null;\n        }\n        const commandId = 'DYNAMIC_' + (++LAST_GENERATED_COMMAND_ID);\n        const whenExpression = ContextKeyExpr.deserialize(context);\n        this._standaloneKeybindingService.addDynamicKeybinding(commandId, keybinding, handler, whenExpression);\n        return commandId;\n    }\n    createContextKey(key, defaultValue) {\n        return this._contextKeyService.createKey(key, defaultValue);\n    }\n    addAction(_descriptor) {\n        if ((typeof _descriptor.id !== 'string') || (typeof _descriptor.label !== 'string') || (typeof _descriptor.run !== 'function')) {\n            throw new Error('Invalid action descriptor, `id`, `label` and `run` are required properties!');\n        }\n        if (!this._standaloneKeybindingService) {\n            console.warn('Cannot add keybinding because the editor is configured with an unrecognized KeybindingService');\n            return Disposable.None;\n        }\n        // Read descriptor options\n        const id = _descriptor.id;\n        const label = _descriptor.label;\n        const precondition = ContextKeyExpr.and(ContextKeyExpr.equals('editorId', this.getId()), ContextKeyExpr.deserialize(_descriptor.precondition));\n        const keybindings = _descriptor.keybindings;\n        const keybindingsWhen = ContextKeyExpr.and(precondition, ContextKeyExpr.deserialize(_descriptor.keybindingContext));\n        const contextMenuGroupId = _descriptor.contextMenuGroupId || null;\n        const contextMenuOrder = _descriptor.contextMenuOrder || 0;\n        const run = (accessor, ...args) => {\n            return Promise.resolve(_descriptor.run(this, ...args));\n        };\n        const toDispose = new DisposableStore();\n        // Generate a unique id to allow the same descriptor.id across multiple editor instances\n        const uniqueId = this.getId() + ':' + id;\n        // Register the command\n        toDispose.add(CommandsRegistry.registerCommand(uniqueId, run));\n        // Register the context menu item\n        if (contextMenuGroupId) {\n            const menuItem = {\n                command: {\n                    id: uniqueId,\n                    title: label\n                },\n                when: precondition,\n                group: contextMenuGroupId,\n                order: contextMenuOrder\n            };\n            toDispose.add(MenuRegistry.appendMenuItem(MenuId.EditorContext, menuItem));\n        }\n        // Register the keybindings\n        if (Array.isArray(keybindings)) {\n            for (const kb of keybindings) {\n                toDispose.add(this._standaloneKeybindingService.addDynamicKeybinding(uniqueId, kb, run, keybindingsWhen));\n            }\n        }\n        // Finally, register an internal editor action\n        const internalAction = new InternalEditorAction(uniqueId, label, label, precondition, run, this._contextKeyService);\n        // Store it under the original id, such that trigger with the original id will work\n        this._actions.set(id, internalAction);\n        toDispose.add(toDisposable(() => {\n            this._actions.delete(id);\n        }));\n        return toDispose;\n    }\n    _triggerCommand(handlerId, payload) {\n        if (this._codeEditorService instanceof StandaloneCodeEditorService) {\n            // Help commands find this editor as the active editor\n            try {\n                this._codeEditorService.setActiveCodeEditor(this);\n                super._triggerCommand(handlerId, payload);\n            }\n            finally {\n                this._codeEditorService.setActiveCodeEditor(null);\n            }\n        }\n        else {\n            super._triggerCommand(handlerId, payload);\n        }\n    }\n};\nStandaloneCodeEditor = __decorate([\n    __param(2, IInstantiationService),\n    __param(3, ICodeEditorService),\n    __param(4, ICommandService),\n    __param(5, IContextKeyService),\n    __param(6, IKeybindingService),\n    __param(7, IThemeService),\n    __param(8, INotificationService),\n    __param(9, IAccessibilityService),\n    __param(10, ILanguageConfigurationService),\n    __param(11, ILanguageFeaturesService)\n], StandaloneCodeEditor);\nexport { StandaloneCodeEditor };\nlet StandaloneEditor = class StandaloneEditor extends StandaloneCodeEditor {\n    constructor(domElement, _options, instantiationService, codeEditorService, commandService, contextKeyService, keybindingService, themeService, notificationService, configurationService, accessibilityService, modelService, languageService, languageConfigurationService, languageFeaturesService) {\n        const options = Object.assign({}, _options);\n        updateConfigurationService(configurationService, options, false);\n        const themeDomRegistration = themeService.registerEditorContainer(domElement);\n        if (typeof options.theme === 'string') {\n            themeService.setTheme(options.theme);\n        }\n        if (typeof options.autoDetectHighContrast !== 'undefined') {\n            themeService.setAutoDetectHighContrast(Boolean(options.autoDetectHighContrast));\n        }\n        const _model = options.model;\n        delete options.model;\n        super(domElement, options, instantiationService, codeEditorService, commandService, contextKeyService, keybindingService, themeService, notificationService, accessibilityService, languageConfigurationService, languageFeaturesService);\n        this._configurationService = configurationService;\n        this._standaloneThemeService = themeService;\n        this._register(themeDomRegistration);\n        let model;\n        if (typeof _model === 'undefined') {\n            const languageId = languageService.getLanguageIdByMimeType(options.language) || options.language || PLAINTEXT_LANGUAGE_ID;\n            model = createTextModel(modelService, languageService, options.value || '', languageId, undefined);\n            this._ownsModel = true;\n        }\n        else {\n            model = _model;\n            this._ownsModel = false;\n        }\n        this._attachModel(model);\n        if (model) {\n            const e = {\n                oldModelUrl: null,\n                newModelUrl: model.uri\n            };\n            this._onDidChangeModel.fire(e);\n        }\n    }\n    dispose() {\n        super.dispose();\n    }\n    updateOptions(newOptions) {\n        updateConfigurationService(this._configurationService, newOptions, false);\n        if (typeof newOptions.theme === 'string') {\n            this._standaloneThemeService.setTheme(newOptions.theme);\n        }\n        if (typeof newOptions.autoDetectHighContrast !== 'undefined') {\n            this._standaloneThemeService.setAutoDetectHighContrast(Boolean(newOptions.autoDetectHighContrast));\n        }\n        super.updateOptions(newOptions);\n    }\n    _postDetachModelCleanup(detachedModel) {\n        super._postDetachModelCleanup(detachedModel);\n        if (detachedModel && this._ownsModel) {\n            detachedModel.dispose();\n            this._ownsModel = false;\n        }\n    }\n};\nStandaloneEditor = __decorate([\n    __param(2, IInstantiationService),\n    __param(3, ICodeEditorService),\n    __param(4, ICommandService),\n    __param(5, IContextKeyService),\n    __param(6, IKeybindingService),\n    __param(7, IStandaloneThemeService),\n    __param(8, INotificationService),\n    __param(9, IConfigurationService),\n    __param(10, IAccessibilityService),\n    __param(11, IModelService),\n    __param(12, ILanguageService),\n    __param(13, ILanguageConfigurationService),\n    __param(14, ILanguageFeaturesService)\n], StandaloneEditor);\nexport { StandaloneEditor };\nlet StandaloneDiffEditor = class StandaloneDiffEditor extends DiffEditorWidget {\n    constructor(domElement, _options, instantiationService, contextKeyService, codeEditorService, themeService, notificationService, configurationService, contextMenuService, editorProgressService, clipboardService) {\n        const options = Object.assign({}, _options);\n        updateConfigurationService(configurationService, options, true);\n        const themeDomRegistration = themeService.registerEditorContainer(domElement);\n        if (typeof options.theme === 'string') {\n            themeService.setTheme(options.theme);\n        }\n        if (typeof options.autoDetectHighContrast !== 'undefined') {\n            themeService.setAutoDetectHighContrast(Boolean(options.autoDetectHighContrast));\n        }\n        super(domElement, options, {}, clipboardService, contextKeyService, instantiationService, codeEditorService, themeService, notificationService, contextMenuService, editorProgressService);\n        this._configurationService = configurationService;\n        this._standaloneThemeService = themeService;\n        this._register(themeDomRegistration);\n    }\n    dispose() {\n        super.dispose();\n    }\n    updateOptions(newOptions) {\n        updateConfigurationService(this._configurationService, newOptions, true);\n        if (typeof newOptions.theme === 'string') {\n            this._standaloneThemeService.setTheme(newOptions.theme);\n        }\n        if (typeof newOptions.autoDetectHighContrast !== 'undefined') {\n            this._standaloneThemeService.setAutoDetectHighContrast(Boolean(newOptions.autoDetectHighContrast));\n        }\n        super.updateOptions(newOptions);\n    }\n    _createInnerEditor(instantiationService, container, options) {\n        return instantiationService.createInstance(StandaloneCodeEditor, container, options);\n    }\n    getOriginalEditor() {\n        return super.getOriginalEditor();\n    }\n    getModifiedEditor() {\n        return super.getModifiedEditor();\n    }\n    addCommand(keybinding, handler, context) {\n        return this.getModifiedEditor().addCommand(keybinding, handler, context);\n    }\n    createContextKey(key, defaultValue) {\n        return this.getModifiedEditor().createContextKey(key, defaultValue);\n    }\n    addAction(descriptor) {\n        return this.getModifiedEditor().addAction(descriptor);\n    }\n};\nStandaloneDiffEditor = __decorate([\n    __param(2, IInstantiationService),\n    __param(3, IContextKeyService),\n    __param(4, ICodeEditorService),\n    __param(5, IStandaloneThemeService),\n    __param(6, INotificationService),\n    __param(7, IConfigurationService),\n    __param(8, IContextMenuService),\n    __param(9, IEditorProgressService),\n    __param(10, IClipboardService)\n], StandaloneDiffEditor);\nexport { StandaloneDiffEditor };\n/**\n * @internal\n */\nexport function createTextModel(modelService, languageService, value, languageId, uri) {\n    value = value || '';\n    if (!languageId) {\n        const firstLF = value.indexOf('\\n');\n        let firstLine = value;\n        if (firstLF !== -1) {\n            firstLine = value.substring(0, firstLF);\n        }\n        return doCreateModel(modelService, value, languageService.createByFilepathOrFirstLine(uri || null, firstLine), uri);\n    }\n    return doCreateModel(modelService, value, languageService.createById(languageId), uri);\n}\n/**\n * @internal\n */\nfunction doCreateModel(modelService, value, languageSelection, uri) {\n    return modelService.createModel(value, languageSelection, uri);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './standalone-tokens.css';\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { splitLines } from '../../../base/common/strings.js';\nimport { FontMeasurements } from '../../browser/config/fontMeasurements.js';\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\nimport { DiffNavigator } from '../../browser/widget/diffNavigator.js';\nimport { ApplyUpdateResult, ConfigurationChangedEvent, EditorOptions } from '../../common/config/editorOptions.js';\nimport { BareFontInfo, FontInfo } from '../../common/config/fontInfo.js';\nimport { EditorType } from '../../common/editorCommon.js';\nimport { FindMatch, TextModelResolvedOptions } from '../../common/model.js';\nimport * as languages from '../../common/languages.js';\nimport { ILanguageConfigurationService } from '../../common/languages/languageConfigurationRegistry.js';\nimport { NullState, nullTokenize } from '../../common/languages/nullTokenize.js';\nimport { ILanguageService } from '../../common/languages/language.js';\nimport { IModelService } from '../../common/services/model.js';\nimport { createWebWorker as actualCreateWebWorker } from '../../browser/services/webWorker.js';\nimport * as standaloneEnums from '../../common/standalone/standaloneEnums.js';\nimport { Colorizer } from './colorizer.js';\nimport { createTextModel, StandaloneDiffEditor, StandaloneEditor } from './standaloneCodeEditor.js';\nimport { StandaloneKeybindingService, StandaloneServices } from './standaloneServices.js';\nimport { IStandaloneThemeService } from '../common/standaloneTheme.js';\nimport { CommandsRegistry } from '../../../platform/commands/common/commands.js';\nimport { IMarkerService } from '../../../platform/markers/common/markers.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { EditorCommand } from '../../browser/editorExtensions.js';\nimport { MenuRegistry, MenuId } from '../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../platform/contextkey/common/contextkey.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../../common/languages/modesRegistry.js';\nimport { LineRange, LineRangeMapping, RangeMapping } from '../../common/diff/linesDiffComputer.js';\n/**\n * Create a new editor under `domElement`.\n * `domElement` should be empty (not contain other dom nodes).\n * The editor will read the size of `domElement`.\n */\nexport function create(domElement, options, override) {\n    const instantiationService = StandaloneServices.initialize(override || {});\n    return instantiationService.createInstance(StandaloneEditor, domElement, options);\n}\n/**\n * Emitted when an editor is created.\n * Creating a diff editor might cause this listener to be invoked with the two editors.\n * @event\n */\nexport function onDidCreateEditor(listener) {\n    const codeEditorService = StandaloneServices.get(ICodeEditorService);\n    return codeEditorService.onCodeEditorAdd((editor) => {\n        listener(editor);\n    });\n}\n/**\n * Emitted when an diff editor is created.\n * @event\n */\nexport function onDidCreateDiffEditor(listener) {\n    const codeEditorService = StandaloneServices.get(ICodeEditorService);\n    return codeEditorService.onDiffEditorAdd((editor) => {\n        listener(editor);\n    });\n}\n/**\n * Get all the created editors.\n */\nexport function getEditors() {\n    const codeEditorService = StandaloneServices.get(ICodeEditorService);\n    return codeEditorService.listCodeEditors();\n}\n/**\n * Get all the created diff editors.\n */\nexport function getDiffEditors() {\n    const codeEditorService = StandaloneServices.get(ICodeEditorService);\n    return codeEditorService.listDiffEditors();\n}\n/**\n * Create a new diff editor under `domElement`.\n * `domElement` should be empty (not contain other dom nodes).\n * The editor will read the size of `domElement`.\n */\nexport function createDiffEditor(domElement, options, override) {\n    const instantiationService = StandaloneServices.initialize(override || {});\n    return instantiationService.createInstance(StandaloneDiffEditor, domElement, options);\n}\nexport function createDiffNavigator(diffEditor, opts) {\n    const instantiationService = StandaloneServices.initialize({});\n    return instantiationService.createInstance(DiffNavigator, diffEditor, opts);\n}\n/**\n * Add a command.\n */\nexport function addCommand(descriptor) {\n    if ((typeof descriptor.id !== 'string') || (typeof descriptor.run !== 'function')) {\n        throw new Error('Invalid command descriptor, `id` and `run` are required properties!');\n    }\n    return CommandsRegistry.registerCommand(descriptor.id, descriptor.run);\n}\n/**\n * Add an action to all editors.\n */\nexport function addEditorAction(descriptor) {\n    if ((typeof descriptor.id !== 'string') || (typeof descriptor.label !== 'string') || (typeof descriptor.run !== 'function')) {\n        throw new Error('Invalid action descriptor, `id`, `label` and `run` are required properties!');\n    }\n    const precondition = ContextKeyExpr.deserialize(descriptor.precondition);\n    const run = (accessor, ...args) => {\n        return EditorCommand.runEditorCommand(accessor, args, precondition, (accessor, editor, args) => Promise.resolve(descriptor.run(editor, ...args)));\n    };\n    const toDispose = new DisposableStore();\n    // Register the command\n    toDispose.add(CommandsRegistry.registerCommand(descriptor.id, run));\n    // Register the context menu item\n    if (descriptor.contextMenuGroupId) {\n        const menuItem = {\n            command: {\n                id: descriptor.id,\n                title: descriptor.label\n            },\n            when: precondition,\n            group: descriptor.contextMenuGroupId,\n            order: descriptor.contextMenuOrder || 0\n        };\n        toDispose.add(MenuRegistry.appendMenuItem(MenuId.EditorContext, menuItem));\n    }\n    // Register the keybindings\n    if (Array.isArray(descriptor.keybindings)) {\n        const keybindingService = StandaloneServices.get(IKeybindingService);\n        if (!(keybindingService instanceof StandaloneKeybindingService)) {\n            console.warn('Cannot add keybinding because the editor is configured with an unrecognized KeybindingService');\n        }\n        else {\n            const keybindingsWhen = ContextKeyExpr.and(precondition, ContextKeyExpr.deserialize(descriptor.keybindingContext));\n            toDispose.add(keybindingService.addDynamicKeybindings(descriptor.keybindings.map((keybinding) => {\n                return {\n                    keybinding,\n                    command: descriptor.id,\n                    when: keybindingsWhen\n                };\n            })));\n        }\n    }\n    return toDispose;\n}\n/**\n * Add a keybinding rule.\n */\nexport function addKeybindingRule(rule) {\n    return addKeybindingRules([rule]);\n}\n/**\n * Add keybinding rules.\n */\nexport function addKeybindingRules(rules) {\n    const keybindingService = StandaloneServices.get(IKeybindingService);\n    if (!(keybindingService instanceof StandaloneKeybindingService)) {\n        console.warn('Cannot add keybinding because the editor is configured with an unrecognized KeybindingService');\n        return Disposable.None;\n    }\n    return keybindingService.addDynamicKeybindings(rules.map((rule) => {\n        return {\n            keybinding: rule.keybinding,\n            command: rule.command,\n            commandArgs: rule.commandArgs,\n            when: ContextKeyExpr.deserialize(rule.when),\n        };\n    }));\n}\n/**\n * Create a new editor model.\n * You can specify the language that should be set for this model or let the language be inferred from the `uri`.\n */\nexport function createModel(value, language, uri) {\n    const languageService = StandaloneServices.get(ILanguageService);\n    const languageId = languageService.getLanguageIdByMimeType(language) || language;\n    return createTextModel(StandaloneServices.get(IModelService), languageService, value, languageId, uri);\n}\n/**\n * Change the language for a model.\n */\nexport function setModelLanguage(model, mimeTypeOrLanguageId) {\n    const languageService = StandaloneServices.get(ILanguageService);\n    const modelService = StandaloneServices.get(IModelService);\n    const languageId = languageService.getLanguageIdByMimeType(mimeTypeOrLanguageId) || mimeTypeOrLanguageId || PLAINTEXT_LANGUAGE_ID;\n    modelService.setMode(model, languageService.createById(languageId));\n}\n/**\n * Set the markers for a model.\n */\nexport function setModelMarkers(model, owner, markers) {\n    if (model) {\n        const markerService = StandaloneServices.get(IMarkerService);\n        markerService.changeOne(owner, model.uri, markers);\n    }\n}\n/**\n * Remove all markers of an owner.\n */\nexport function removeAllMarkers(owner) {\n    const markerService = StandaloneServices.get(IMarkerService);\n    markerService.changeAll(owner, []);\n}\n/**\n * Get markers for owner and/or resource\n *\n * @returns list of markers\n */\nexport function getModelMarkers(filter) {\n    const markerService = StandaloneServices.get(IMarkerService);\n    return markerService.read(filter);\n}\n/**\n * Emitted when markers change for a model.\n * @event\n */\nexport function onDidChangeMarkers(listener) {\n    const markerService = StandaloneServices.get(IMarkerService);\n    return markerService.onMarkerChanged(listener);\n}\n/**\n * Get the model that has `uri` if it exists.\n */\nexport function getModel(uri) {\n    const modelService = StandaloneServices.get(IModelService);\n    return modelService.getModel(uri);\n}\n/**\n * Get all the created models.\n */\nexport function getModels() {\n    const modelService = StandaloneServices.get(IModelService);\n    return modelService.getModels();\n}\n/**\n * Emitted when a model is created.\n * @event\n */\nexport function onDidCreateModel(listener) {\n    const modelService = StandaloneServices.get(IModelService);\n    return modelService.onModelAdded(listener);\n}\n/**\n * Emitted right before a model is disposed.\n * @event\n */\nexport function onWillDisposeModel(listener) {\n    const modelService = StandaloneServices.get(IModelService);\n    return modelService.onModelRemoved(listener);\n}\n/**\n * Emitted when a different language is set to a model.\n * @event\n */\nexport function onDidChangeModelLanguage(listener) {\n    const modelService = StandaloneServices.get(IModelService);\n    return modelService.onModelLanguageChanged((e) => {\n        listener({\n            model: e.model,\n            oldLanguage: e.oldLanguageId\n        });\n    });\n}\n/**\n * Create a new web worker that has model syncing capabilities built in.\n * Specify an AMD module to load that will `create` an object that will be proxied.\n */\nexport function createWebWorker(opts) {\n    return actualCreateWebWorker(StandaloneServices.get(IModelService), StandaloneServices.get(ILanguageConfigurationService), opts);\n}\n/**\n * Colorize the contents of `domNode` using attribute `data-lang`.\n */\nexport function colorizeElement(domNode, options) {\n    const languageService = StandaloneServices.get(ILanguageService);\n    const themeService = StandaloneServices.get(IStandaloneThemeService);\n    themeService.registerEditorContainer(domNode);\n    return Colorizer.colorizeElement(themeService, languageService, domNode, options);\n}\n/**\n * Colorize `text` using language `languageId`.\n */\nexport function colorize(text, languageId, options) {\n    const languageService = StandaloneServices.get(ILanguageService);\n    const themeService = StandaloneServices.get(IStandaloneThemeService);\n    themeService.registerEditorContainer(document.body);\n    return Colorizer.colorize(languageService, text, languageId, options);\n}\n/**\n * Colorize a line in a model.\n */\nexport function colorizeModelLine(model, lineNumber, tabSize = 4) {\n    const themeService = StandaloneServices.get(IStandaloneThemeService);\n    themeService.registerEditorContainer(document.body);\n    return Colorizer.colorizeModelLine(model, lineNumber, tabSize);\n}\n/**\n * @internal\n */\nfunction getSafeTokenizationSupport(language) {\n    const tokenizationSupport = languages.TokenizationRegistry.get(language);\n    if (tokenizationSupport) {\n        return tokenizationSupport;\n    }\n    return {\n        getInitialState: () => NullState,\n        tokenize: (line, hasEOL, state) => nullTokenize(language, state)\n    };\n}\n/**\n * Tokenize `text` using language `languageId`\n */\nexport function tokenize(text, languageId) {\n    // Needed in order to get the mode registered for subsequent look-ups\n    languages.TokenizationRegistry.getOrCreate(languageId);\n    const tokenizationSupport = getSafeTokenizationSupport(languageId);\n    const lines = splitLines(text);\n    const result = [];\n    let state = tokenizationSupport.getInitialState();\n    for (let i = 0, len = lines.length; i < len; i++) {\n        const line = lines[i];\n        const tokenizationResult = tokenizationSupport.tokenize(line, true, state);\n        result[i] = tokenizationResult.tokens;\n        state = tokenizationResult.endState;\n    }\n    return result;\n}\n/**\n * Define a new theme or update an existing theme.\n */\nexport function defineTheme(themeName, themeData) {\n    const standaloneThemeService = StandaloneServices.get(IStandaloneThemeService);\n    standaloneThemeService.defineTheme(themeName, themeData);\n}\n/**\n * Switches to a theme.\n */\nexport function setTheme(themeName) {\n    const standaloneThemeService = StandaloneServices.get(IStandaloneThemeService);\n    standaloneThemeService.setTheme(themeName);\n}\n/**\n * Clears all cached font measurements and triggers re-measurement.\n */\nexport function remeasureFonts() {\n    FontMeasurements.clearAllFontInfos();\n}\n/**\n * Register a command.\n */\nexport function registerCommand(id, handler) {\n    return CommandsRegistry.registerCommand({ id, handler });\n}\n/**\n * @internal\n */\nexport function createMonacoEditorAPI() {\n    return {\n        // methods\n        create: create,\n        getEditors: getEditors,\n        getDiffEditors: getDiffEditors,\n        onDidCreateEditor: onDidCreateEditor,\n        onDidCreateDiffEditor: onDidCreateDiffEditor,\n        createDiffEditor: createDiffEditor,\n        createDiffNavigator: createDiffNavigator,\n        addCommand: addCommand,\n        addEditorAction: addEditorAction,\n        addKeybindingRule: addKeybindingRule,\n        addKeybindingRules: addKeybindingRules,\n        createModel: createModel,\n        setModelLanguage: setModelLanguage,\n        setModelMarkers: setModelMarkers,\n        getModelMarkers: getModelMarkers,\n        removeAllMarkers: removeAllMarkers,\n        onDidChangeMarkers: onDidChangeMarkers,\n        getModels: getModels,\n        getModel: getModel,\n        onDidCreateModel: onDidCreateModel,\n        onWillDisposeModel: onWillDisposeModel,\n        onDidChangeModelLanguage: onDidChangeModelLanguage,\n        createWebWorker: createWebWorker,\n        colorizeElement: colorizeElement,\n        colorize: colorize,\n        colorizeModelLine: colorizeModelLine,\n        tokenize: tokenize,\n        defineTheme: defineTheme,\n        setTheme: setTheme,\n        remeasureFonts: remeasureFonts,\n        registerCommand: registerCommand,\n        // enums\n        AccessibilitySupport: standaloneEnums.AccessibilitySupport,\n        ContentWidgetPositionPreference: standaloneEnums.ContentWidgetPositionPreference,\n        CursorChangeReason: standaloneEnums.CursorChangeReason,\n        DefaultEndOfLine: standaloneEnums.DefaultEndOfLine,\n        EditorAutoIndentStrategy: standaloneEnums.EditorAutoIndentStrategy,\n        EditorOption: standaloneEnums.EditorOption,\n        EndOfLinePreference: standaloneEnums.EndOfLinePreference,\n        EndOfLineSequence: standaloneEnums.EndOfLineSequence,\n        MinimapPosition: standaloneEnums.MinimapPosition,\n        MouseTargetType: standaloneEnums.MouseTargetType,\n        OverlayWidgetPositionPreference: standaloneEnums.OverlayWidgetPositionPreference,\n        OverviewRulerLane: standaloneEnums.OverviewRulerLane,\n        RenderLineNumbersType: standaloneEnums.RenderLineNumbersType,\n        RenderMinimap: standaloneEnums.RenderMinimap,\n        ScrollbarVisibility: standaloneEnums.ScrollbarVisibility,\n        ScrollType: standaloneEnums.ScrollType,\n        TextEditorCursorBlinkingStyle: standaloneEnums.TextEditorCursorBlinkingStyle,\n        TextEditorCursorStyle: standaloneEnums.TextEditorCursorStyle,\n        TrackedRangeStickiness: standaloneEnums.TrackedRangeStickiness,\n        WrappingIndent: standaloneEnums.WrappingIndent,\n        InjectedTextCursorStops: standaloneEnums.InjectedTextCursorStops,\n        PositionAffinity: standaloneEnums.PositionAffinity,\n        // classes\n        ConfigurationChangedEvent: ConfigurationChangedEvent,\n        BareFontInfo: BareFontInfo,\n        FontInfo: FontInfo,\n        TextModelResolvedOptions: TextModelResolvedOptions,\n        FindMatch: FindMatch,\n        ApplyUpdateResult: ApplyUpdateResult,\n        LineRange: LineRange,\n        LineRangeMapping: LineRangeMapping,\n        RangeMapping: RangeMapping,\n        // vars\n        EditorType: EditorType,\n        EditorOptions: EditorOptions\n    };\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/*\n * This module only exports 'compile' which compiles a JSON language definition\n * into a typed and checked ILexer definition.\n */\nimport * as monarchCommon from './monarchCommon.js';\n/*\n * Type helpers\n *\n * Note: this is just for sanity checks on the JSON description which is\n * helpful for the programmer. No checks are done anymore once the lexer is\n * already 'compiled and checked'.\n *\n */\nfunction isArrayOf(elemType, obj) {\n    if (!obj) {\n        return false;\n    }\n    if (!(Array.isArray(obj))) {\n        return false;\n    }\n    for (const el of obj) {\n        if (!(elemType(el))) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction bool(prop, defValue) {\n    if (typeof prop === 'boolean') {\n        return prop;\n    }\n    return defValue;\n}\nfunction string(prop, defValue) {\n    if (typeof (prop) === 'string') {\n        return prop;\n    }\n    return defValue;\n}\nfunction arrayToHash(array) {\n    const result = {};\n    for (const e of array) {\n        result[e] = true;\n    }\n    return result;\n}\nfunction createKeywordMatcher(arr, caseInsensitive = false) {\n    if (caseInsensitive) {\n        arr = arr.map(function (x) { return x.toLowerCase(); });\n    }\n    const hash = arrayToHash(arr);\n    if (caseInsensitive) {\n        return function (word) {\n            return hash[word.toLowerCase()] !== undefined && hash.hasOwnProperty(word.toLowerCase());\n        };\n    }\n    else {\n        return function (word) {\n            return hash[word] !== undefined && hash.hasOwnProperty(word);\n        };\n    }\n}\n// Lexer helpers\n/**\n * Compiles a regular expression string, adding the 'i' flag if 'ignoreCase' is set, and the 'u' flag if 'unicode' is set.\n * Also replaces @\\w+ or sequences with the content of the specified attribute\n * @\\w+ replacement can be avoided by escaping `@` signs with another `@` sign.\n * @example /@attr/ will be replaced with the value of lexer[attr]\n * @example /@@text/ will not be replaced and will become /@text/.\n */\nfunction compileRegExp(lexer, str) {\n    // @@ must be interpreted as a literal @, so we replace all occurences of @@ with a placeholder character\n    str = str.replace(/@@/g, `\\x01`);\n    let n = 0;\n    let hadExpansion;\n    do {\n        hadExpansion = false;\n        str = str.replace(/@(\\w+)/g, function (s, attr) {\n            hadExpansion = true;\n            let sub = '';\n            if (typeof (lexer[attr]) === 'string') {\n                sub = lexer[attr];\n            }\n            else if (lexer[attr] && lexer[attr] instanceof RegExp) {\n                sub = lexer[attr].source;\n            }\n            else {\n                if (lexer[attr] === undefined) {\n                    throw monarchCommon.createError(lexer, 'language definition does not contain attribute \\'' + attr + '\\', used at: ' + str);\n                }\n                else {\n                    throw monarchCommon.createError(lexer, 'attribute reference \\'' + attr + '\\' must be a string, used at: ' + str);\n                }\n            }\n            return (monarchCommon.empty(sub) ? '' : '(?:' + sub + ')');\n        });\n        n++;\n    } while (hadExpansion && n < 5);\n    // handle escaped @@\n    str = str.replace(/\\x01/g, '@');\n    const flags = (lexer.ignoreCase ? 'i' : '') + (lexer.unicode ? 'u' : '');\n    return new RegExp(str, flags);\n}\n/**\n * Compiles guard functions for case matches.\n * This compiles 'cases' attributes into efficient match functions.\n *\n */\nfunction selectScrutinee(id, matches, state, num) {\n    if (num < 0) {\n        return id;\n    }\n    if (num < matches.length) {\n        return matches[num];\n    }\n    if (num >= 100) {\n        num = num - 100;\n        const parts = state.split('.');\n        parts.unshift(state);\n        if (num < parts.length) {\n            return parts[num];\n        }\n    }\n    return null;\n}\nfunction createGuard(lexer, ruleName, tkey, val) {\n    // get the scrutinee and pattern\n    let scrut = -1; // -1: $!, 0-99: $n, 100+n: $Sn\n    let oppat = tkey;\n    let matches = tkey.match(/^\\$(([sS]?)(\\d\\d?)|#)(.*)$/);\n    if (matches) {\n        if (matches[3]) { // if digits\n            scrut = parseInt(matches[3]);\n            if (matches[2]) {\n                scrut = scrut + 100; // if [sS] present\n            }\n        }\n        oppat = matches[4];\n    }\n    // get operator\n    let op = '~';\n    let pat = oppat;\n    if (!oppat || oppat.length === 0) {\n        op = '!=';\n        pat = '';\n    }\n    else if (/^\\w*$/.test(pat)) { // just a word\n        op = '==';\n    }\n    else {\n        matches = oppat.match(/^(@|!@|~|!~|==|!=)(.*)$/);\n        if (matches) {\n            op = matches[1];\n            pat = matches[2];\n        }\n    }\n    // set the tester function\n    let tester;\n    // special case a regexp that matches just words\n    if ((op === '~' || op === '!~') && /^(\\w|\\|)*$/.test(pat)) {\n        const inWords = createKeywordMatcher(pat.split('|'), lexer.ignoreCase);\n        tester = function (s) { return (op === '~' ? inWords(s) : !inWords(s)); };\n    }\n    else if (op === '@' || op === '!@') {\n        const words = lexer[pat];\n        if (!words) {\n            throw monarchCommon.createError(lexer, 'the @ match target \\'' + pat + '\\' is not defined, in rule: ' + ruleName);\n        }\n        if (!(isArrayOf(function (elem) { return (typeof (elem) === 'string'); }, words))) {\n            throw monarchCommon.createError(lexer, 'the @ match target \\'' + pat + '\\' must be an array of strings, in rule: ' + ruleName);\n        }\n        const inWords = createKeywordMatcher(words, lexer.ignoreCase);\n        tester = function (s) { return (op === '@' ? inWords(s) : !inWords(s)); };\n    }\n    else if (op === '~' || op === '!~') {\n        if (pat.indexOf('$') < 0) {\n            // precompile regular expression\n            const re = compileRegExp(lexer, '^' + pat + '$');\n            tester = function (s) { return (op === '~' ? re.test(s) : !re.test(s)); };\n        }\n        else {\n            tester = function (s, id, matches, state) {\n                const re = compileRegExp(lexer, '^' + monarchCommon.substituteMatches(lexer, pat, id, matches, state) + '$');\n                return re.test(s);\n            };\n        }\n    }\n    else { // if (op==='==' || op==='!=') {\n        if (pat.indexOf('$') < 0) {\n            const patx = monarchCommon.fixCase(lexer, pat);\n            tester = function (s) { return (op === '==' ? s === patx : s !== patx); };\n        }\n        else {\n            const patx = monarchCommon.fixCase(lexer, pat);\n            tester = function (s, id, matches, state, eos) {\n                const patexp = monarchCommon.substituteMatches(lexer, patx, id, matches, state);\n                return (op === '==' ? s === patexp : s !== patexp);\n            };\n        }\n    }\n    // return the branch object\n    if (scrut === -1) {\n        return {\n            name: tkey, value: val, test: function (id, matches, state, eos) {\n                return tester(id, id, matches, state, eos);\n            }\n        };\n    }\n    else {\n        return {\n            name: tkey, value: val, test: function (id, matches, state, eos) {\n                const scrutinee = selectScrutinee(id, matches, state, scrut);\n                return tester(!scrutinee ? '' : scrutinee, id, matches, state, eos);\n            }\n        };\n    }\n}\n/**\n * Compiles an action: i.e. optimize regular expressions and case matches\n * and do many sanity checks.\n *\n * This is called only during compilation but if the lexer definition\n * contains user functions as actions (which is usually not allowed), then this\n * may be called during lexing. It is important therefore to compile common cases efficiently\n */\nfunction compileAction(lexer, ruleName, action) {\n    if (!action) {\n        return { token: '' };\n    }\n    else if (typeof (action) === 'string') {\n        return action; // { token: action };\n    }\n    else if (action.token || action.token === '') {\n        if (typeof (action.token) !== 'string') {\n            throw monarchCommon.createError(lexer, 'a \\'token\\' attribute must be of type string, in rule: ' + ruleName);\n        }\n        else {\n            // only copy specific typed fields (only happens once during compile Lexer)\n            const newAction = { token: action.token };\n            if (action.token.indexOf('$') >= 0) {\n                newAction.tokenSubst = true;\n            }\n            if (typeof (action.bracket) === 'string') {\n                if (action.bracket === '@open') {\n                    newAction.bracket = 1 /* monarchCommon.MonarchBracket.Open */;\n                }\n                else if (action.bracket === '@close') {\n                    newAction.bracket = -1 /* monarchCommon.MonarchBracket.Close */;\n                }\n                else {\n                    throw monarchCommon.createError(lexer, 'a \\'bracket\\' attribute must be either \\'@open\\' or \\'@close\\', in rule: ' + ruleName);\n                }\n            }\n            if (action.next) {\n                if (typeof (action.next) !== 'string') {\n                    throw monarchCommon.createError(lexer, 'the next state must be a string value in rule: ' + ruleName);\n                }\n                else {\n                    let next = action.next;\n                    if (!/^(@pop|@push|@popall)$/.test(next)) {\n                        if (next[0] === '@') {\n                            next = next.substr(1); // peel off starting @ sign\n                        }\n                        if (next.indexOf('$') < 0) { // no dollar substitution, we can check if the state exists\n                            if (!monarchCommon.stateExists(lexer, monarchCommon.substituteMatches(lexer, next, '', [], ''))) {\n                                throw monarchCommon.createError(lexer, 'the next state \\'' + action.next + '\\' is not defined in rule: ' + ruleName);\n                            }\n                        }\n                    }\n                    newAction.next = next;\n                }\n            }\n            if (typeof (action.goBack) === 'number') {\n                newAction.goBack = action.goBack;\n            }\n            if (typeof (action.switchTo) === 'string') {\n                newAction.switchTo = action.switchTo;\n            }\n            if (typeof (action.log) === 'string') {\n                newAction.log = action.log;\n            }\n            if (typeof (action.nextEmbedded) === 'string') {\n                newAction.nextEmbedded = action.nextEmbedded;\n                lexer.usesEmbedded = true;\n            }\n            return newAction;\n        }\n    }\n    else if (Array.isArray(action)) {\n        const results = [];\n        for (let i = 0, len = action.length; i < len; i++) {\n            results[i] = compileAction(lexer, ruleName, action[i]);\n        }\n        return { group: results };\n    }\n    else if (action.cases) {\n        // build an array of test cases\n        const cases = [];\n        // for each case, push a test function and result value\n        for (const tkey in action.cases) {\n            if (action.cases.hasOwnProperty(tkey)) {\n                const val = compileAction(lexer, ruleName, action.cases[tkey]);\n                // what kind of case\n                if (tkey === '@default' || tkey === '@' || tkey === '') {\n                    cases.push({ test: undefined, value: val, name: tkey });\n                }\n                else if (tkey === '@eos') {\n                    cases.push({ test: function (id, matches, state, eos) { return eos; }, value: val, name: tkey });\n                }\n                else {\n                    cases.push(createGuard(lexer, ruleName, tkey, val)); // call separate function to avoid local variable capture\n                }\n            }\n        }\n        // create a matching function\n        const def = lexer.defaultToken;\n        return {\n            test: function (id, matches, state, eos) {\n                for (const _case of cases) {\n                    const didmatch = (!_case.test || _case.test(id, matches, state, eos));\n                    if (didmatch) {\n                        return _case.value;\n                    }\n                }\n                return def;\n            }\n        };\n    }\n    else {\n        throw monarchCommon.createError(lexer, 'an action must be a string, an object with a \\'token\\' or \\'cases\\' attribute, or an array of actions; in rule: ' + ruleName);\n    }\n}\n/**\n * Helper class for creating matching rules\n */\nclass Rule {\n    constructor(name) {\n        this.regex = new RegExp('');\n        this.action = { token: '' };\n        this.matchOnlyAtLineStart = false;\n        this.name = '';\n        this.name = name;\n    }\n    setRegex(lexer, re) {\n        let sregex;\n        if (typeof (re) === 'string') {\n            sregex = re;\n        }\n        else if (re instanceof RegExp) {\n            sregex = re.source;\n        }\n        else {\n            throw monarchCommon.createError(lexer, 'rules must start with a match string or regular expression: ' + this.name);\n        }\n        this.matchOnlyAtLineStart = (sregex.length > 0 && sregex[0] === '^');\n        this.name = this.name + ': ' + sregex;\n        this.regex = compileRegExp(lexer, '^(?:' + (this.matchOnlyAtLineStart ? sregex.substr(1) : sregex) + ')');\n    }\n    setAction(lexer, act) {\n        this.action = compileAction(lexer, this.name, act);\n    }\n}\n/**\n * Compiles a json description function into json where all regular expressions,\n * case matches etc, are compiled and all include rules are expanded.\n * We also compile the bracket definitions, supply defaults, and do many sanity checks.\n * If the 'jsonStrict' parameter is 'false', we allow at certain locations\n * regular expression objects and functions that get called during lexing.\n * (Currently we have no samples that need this so perhaps we should always have\n * jsonStrict to true).\n */\nexport function compile(languageId, json) {\n    if (!json || typeof (json) !== 'object') {\n        throw new Error('Monarch: expecting a language definition object');\n    }\n    // Create our lexer\n    const lexer = {};\n    lexer.languageId = languageId;\n    lexer.includeLF = bool(json.includeLF, false);\n    lexer.noThrow = false; // raise exceptions during compilation\n    lexer.maxStack = 100;\n    // Set standard fields: be defensive about types\n    lexer.start = (typeof json.start === 'string' ? json.start : null);\n    lexer.ignoreCase = bool(json.ignoreCase, false);\n    lexer.unicode = bool(json.unicode, false);\n    lexer.tokenPostfix = string(json.tokenPostfix, '.' + lexer.languageId);\n    lexer.defaultToken = string(json.defaultToken, 'source');\n    lexer.usesEmbedded = false; // becomes true if we find a nextEmbedded action\n    // For calling compileAction later on\n    const lexerMin = json;\n    lexerMin.languageId = languageId;\n    lexerMin.includeLF = lexer.includeLF;\n    lexerMin.ignoreCase = lexer.ignoreCase;\n    lexerMin.unicode = lexer.unicode;\n    lexerMin.noThrow = lexer.noThrow;\n    lexerMin.usesEmbedded = lexer.usesEmbedded;\n    lexerMin.stateNames = json.tokenizer;\n    lexerMin.defaultToken = lexer.defaultToken;\n    // Compile an array of rules into newrules where RegExp objects are created.\n    function addRules(state, newrules, rules) {\n        for (const rule of rules) {\n            let include = rule.include;\n            if (include) {\n                if (typeof (include) !== 'string') {\n                    throw monarchCommon.createError(lexer, 'an \\'include\\' attribute must be a string at: ' + state);\n                }\n                if (include[0] === '@') {\n                    include = include.substr(1); // peel off starting @\n                }\n                if (!json.tokenizer[include]) {\n                    throw monarchCommon.createError(lexer, 'include target \\'' + include + '\\' is not defined at: ' + state);\n                }\n                addRules(state + '.' + include, newrules, json.tokenizer[include]);\n            }\n            else {\n                const newrule = new Rule(state);\n                // Set up new rule attributes\n                if (Array.isArray(rule) && rule.length >= 1 && rule.length <= 3) {\n                    newrule.setRegex(lexerMin, rule[0]);\n                    if (rule.length >= 3) {\n                        if (typeof (rule[1]) === 'string') {\n                            newrule.setAction(lexerMin, { token: rule[1], next: rule[2] });\n                        }\n                        else if (typeof (rule[1]) === 'object') {\n                            const rule1 = rule[1];\n                            rule1.next = rule[2];\n                            newrule.setAction(lexerMin, rule1);\n                        }\n                        else {\n                            throw monarchCommon.createError(lexer, 'a next state as the last element of a rule can only be given if the action is either an object or a string, at: ' + state);\n                        }\n                    }\n                    else {\n                        newrule.setAction(lexerMin, rule[1]);\n                    }\n                }\n                else {\n                    if (!rule.regex) {\n                        throw monarchCommon.createError(lexer, 'a rule must either be an array, or an object with a \\'regex\\' or \\'include\\' field at: ' + state);\n                    }\n                    if (rule.name) {\n                        if (typeof rule.name === 'string') {\n                            newrule.name = rule.name;\n                        }\n                    }\n                    if (rule.matchOnlyAtStart) {\n                        newrule.matchOnlyAtLineStart = bool(rule.matchOnlyAtLineStart, false);\n                    }\n                    newrule.setRegex(lexerMin, rule.regex);\n                    newrule.setAction(lexerMin, rule.action);\n                }\n                newrules.push(newrule);\n            }\n        }\n    }\n    // compile the tokenizer rules\n    if (!json.tokenizer || typeof (json.tokenizer) !== 'object') {\n        throw monarchCommon.createError(lexer, 'a language definition must define the \\'tokenizer\\' attribute as an object');\n    }\n    lexer.tokenizer = [];\n    for (const key in json.tokenizer) {\n        if (json.tokenizer.hasOwnProperty(key)) {\n            if (!lexer.start) {\n                lexer.start = key;\n            }\n            const rules = json.tokenizer[key];\n            lexer.tokenizer[key] = new Array();\n            addRules('tokenizer.' + key, lexer.tokenizer[key], rules);\n        }\n    }\n    lexer.usesEmbedded = lexerMin.usesEmbedded; // can be set during compileAction\n    // Set simple brackets\n    if (json.brackets) {\n        if (!(Array.isArray(json.brackets))) {\n            throw monarchCommon.createError(lexer, 'the \\'brackets\\' attribute must be defined as an array');\n        }\n    }\n    else {\n        json.brackets = [\n            { open: '{', close: '}', token: 'delimiter.curly' },\n            { open: '[', close: ']', token: 'delimiter.square' },\n            { open: '(', close: ')', token: 'delimiter.parenthesis' },\n            { open: '<', close: '>', token: 'delimiter.angle' }\n        ];\n    }\n    const brackets = [];\n    for (const el of json.brackets) {\n        let desc = el;\n        if (desc && Array.isArray(desc) && desc.length === 3) {\n            desc = { token: desc[2], open: desc[0], close: desc[1] };\n        }\n        if (desc.open === desc.close) {\n            throw monarchCommon.createError(lexer, 'open and close brackets in a \\'brackets\\' attribute must be different: ' + desc.open +\n                '\\n hint: use the \\'bracket\\' attribute if matching on equal brackets is required.');\n        }\n        if (typeof desc.open === 'string' && typeof desc.token === 'string' && typeof desc.close === 'string') {\n            brackets.push({\n                token: desc.token + lexer.tokenPostfix,\n                open: monarchCommon.fixCase(lexer, desc.open),\n                close: monarchCommon.fixCase(lexer, desc.close)\n            });\n        }\n        else {\n            throw monarchCommon.createError(lexer, 'every element in the \\'brackets\\' array must be a \\'{open,close,token}\\' object or array');\n        }\n    }\n    lexer.brackets = brackets;\n    // Disable throw so the syntax highlighter goes, no matter what\n    lexer.noThrow = true;\n    return lexer;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Color } from '../../../base/common/color.js';\nimport { Range } from '../../common/core/range.js';\nimport * as languages from '../../common/languages.js';\nimport { ILanguageConfigurationService } from '../../common/languages/languageConfigurationRegistry.js';\nimport { ModesRegistry } from '../../common/languages/modesRegistry.js';\nimport { ILanguageService } from '../../common/languages/language.js';\nimport * as standaloneEnums from '../../common/standalone/standaloneEnums.js';\nimport { StandaloneServices } from './standaloneServices.js';\nimport { compile } from '../common/monarch/monarchCompile.js';\nimport { MonarchTokenizer } from '../common/monarch/monarchLexer.js';\nimport { IStandaloneThemeService } from '../common/standaloneTheme.js';\nimport { IMarkerService } from '../../../platform/markers/common/markers.js';\nimport { ILanguageFeaturesService } from '../../common/services/languageFeatures.js';\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\n/**\n * Register information about a new language.\n */\nexport function register(language) {\n    // Intentionally using the `ModesRegistry` here to avoid\n    // instantiating services too quickly in the standalone editor.\n    ModesRegistry.registerLanguage(language);\n}\n/**\n * Get the information of all the registered languages.\n */\nexport function getLanguages() {\n    let result = [];\n    result = result.concat(ModesRegistry.getLanguages());\n    return result;\n}\nexport function getEncodedLanguageId(languageId) {\n    const languageService = StandaloneServices.get(ILanguageService);\n    return languageService.languageIdCodec.encodeLanguageId(languageId);\n}\n/**\n * An event emitted when a language is needed for the first time (e.g. a model has it set).\n * @event\n */\nexport function onLanguage(languageId, callback) {\n    const languageService = StandaloneServices.get(ILanguageService);\n    const disposable = languageService.onDidEncounterLanguage((encounteredLanguageId) => {\n        if (encounteredLanguageId === languageId) {\n            // stop listening\n            disposable.dispose();\n            // invoke actual listener\n            callback();\n        }\n    });\n    return disposable;\n}\n/**\n * Set the editing configuration for a language.\n */\nexport function setLanguageConfiguration(languageId, configuration) {\n    const languageService = StandaloneServices.get(ILanguageService);\n    if (!languageService.isRegisteredLanguageId(languageId)) {\n        throw new Error(`Cannot set configuration for unknown language ${languageId}`);\n    }\n    const languageConfigurationService = StandaloneServices.get(ILanguageConfigurationService);\n    return languageConfigurationService.register(languageId, configuration, 100);\n}\n/**\n * @internal\n */\nexport class EncodedTokenizationSupportAdapter {\n    constructor(languageId, actual) {\n        this._languageId = languageId;\n        this._actual = actual;\n    }\n    getInitialState() {\n        return this._actual.getInitialState();\n    }\n    tokenize(line, hasEOL, state) {\n        if (typeof this._actual.tokenize === 'function') {\n            return TokenizationSupportAdapter.adaptTokenize(this._languageId, this._actual, line, state);\n        }\n        throw new Error('Not supported!');\n    }\n    tokenizeEncoded(line, hasEOL, state) {\n        const result = this._actual.tokenizeEncoded(line, state);\n        return new languages.EncodedTokenizationResult(result.tokens, result.endState);\n    }\n}\n/**\n * @internal\n */\nexport class TokenizationSupportAdapter {\n    constructor(_languageId, _actual, _languageService, _standaloneThemeService) {\n        this._languageId = _languageId;\n        this._actual = _actual;\n        this._languageService = _languageService;\n        this._standaloneThemeService = _standaloneThemeService;\n    }\n    getInitialState() {\n        return this._actual.getInitialState();\n    }\n    static _toClassicTokens(tokens, language) {\n        const result = [];\n        let previousStartIndex = 0;\n        for (let i = 0, len = tokens.length; i < len; i++) {\n            const t = tokens[i];\n            let startIndex = t.startIndex;\n            // Prevent issues stemming from a buggy external tokenizer.\n            if (i === 0) {\n                // Force first token to start at first index!\n                startIndex = 0;\n            }\n            else if (startIndex < previousStartIndex) {\n                // Force tokens to be after one another!\n                startIndex = previousStartIndex;\n            }\n            result[i] = new languages.Token(startIndex, t.scopes, language);\n            previousStartIndex = startIndex;\n        }\n        return result;\n    }\n    static adaptTokenize(language, actual, line, state) {\n        const actualResult = actual.tokenize(line, state);\n        const tokens = TokenizationSupportAdapter._toClassicTokens(actualResult.tokens, language);\n        let endState;\n        // try to save an object if possible\n        if (actualResult.endState.equals(state)) {\n            endState = state;\n        }\n        else {\n            endState = actualResult.endState;\n        }\n        return new languages.TokenizationResult(tokens, endState);\n    }\n    tokenize(line, hasEOL, state) {\n        return TokenizationSupportAdapter.adaptTokenize(this._languageId, this._actual, line, state);\n    }\n    _toBinaryTokens(languageIdCodec, tokens) {\n        const languageId = languageIdCodec.encodeLanguageId(this._languageId);\n        const tokenTheme = this._standaloneThemeService.getColorTheme().tokenTheme;\n        const result = [];\n        let resultLen = 0;\n        let previousStartIndex = 0;\n        for (let i = 0, len = tokens.length; i < len; i++) {\n            const t = tokens[i];\n            const metadata = tokenTheme.match(languageId, t.scopes);\n            if (resultLen > 0 && result[resultLen - 1] === metadata) {\n                // same metadata\n                continue;\n            }\n            let startIndex = t.startIndex;\n            // Prevent issues stemming from a buggy external tokenizer.\n            if (i === 0) {\n                // Force first token to start at first index!\n                startIndex = 0;\n            }\n            else if (startIndex < previousStartIndex) {\n                // Force tokens to be after one another!\n                startIndex = previousStartIndex;\n            }\n            result[resultLen++] = startIndex;\n            result[resultLen++] = metadata;\n            previousStartIndex = startIndex;\n        }\n        const actualResult = new Uint32Array(resultLen);\n        for (let i = 0; i < resultLen; i++) {\n            actualResult[i] = result[i];\n        }\n        return actualResult;\n    }\n    tokenizeEncoded(line, hasEOL, state) {\n        const actualResult = this._actual.tokenize(line, state);\n        const tokens = this._toBinaryTokens(this._languageService.languageIdCodec, actualResult.tokens);\n        let endState;\n        // try to save an object if possible\n        if (actualResult.endState.equals(state)) {\n            endState = state;\n        }\n        else {\n            endState = actualResult.endState;\n        }\n        return new languages.EncodedTokenizationResult(tokens, endState);\n    }\n}\nfunction isATokensProvider(provider) {\n    return (typeof provider.getInitialState === 'function');\n}\nfunction isEncodedTokensProvider(provider) {\n    return 'tokenizeEncoded' in provider;\n}\nfunction isThenable(obj) {\n    return obj && typeof obj.then === 'function';\n}\n/**\n * Change the color map that is used for token colors.\n * Supported formats (hex): #RRGGBB, $RRGGBBAA, #RGB, #RGBA\n */\nexport function setColorMap(colorMap) {\n    const standaloneThemeService = StandaloneServices.get(IStandaloneThemeService);\n    if (colorMap) {\n        const result = [null];\n        for (let i = 1, len = colorMap.length; i < len; i++) {\n            result[i] = Color.fromHex(colorMap[i]);\n        }\n        standaloneThemeService.setColorMapOverride(result);\n    }\n    else {\n        standaloneThemeService.setColorMapOverride(null);\n    }\n}\n/**\n * @internal\n */\nfunction createTokenizationSupportAdapter(languageId, provider) {\n    if (isEncodedTokensProvider(provider)) {\n        return new EncodedTokenizationSupportAdapter(languageId, provider);\n    }\n    else {\n        return new TokenizationSupportAdapter(languageId, provider, StandaloneServices.get(ILanguageService), StandaloneServices.get(IStandaloneThemeService));\n    }\n}\n/**\n * Register a tokens provider factory for a language. This tokenizer will be exclusive with a tokenizer\n * set using `setTokensProvider` or one created using `setMonarchTokensProvider`, but will work together\n * with a tokens provider set using `registerDocumentSemanticTokensProvider` or `registerDocumentRangeSemanticTokensProvider`.\n */\nexport function registerTokensProviderFactory(languageId, factory) {\n    const adaptedFactory = {\n        createTokenizationSupport: () => __awaiter(this, void 0, void 0, function* () {\n            const result = yield Promise.resolve(factory.create());\n            if (!result) {\n                return null;\n            }\n            if (isATokensProvider(result)) {\n                return createTokenizationSupportAdapter(languageId, result);\n            }\n            return new MonarchTokenizer(StandaloneServices.get(ILanguageService), StandaloneServices.get(IStandaloneThemeService), languageId, compile(languageId, result), StandaloneServices.get(IConfigurationService));\n        })\n    };\n    return languages.TokenizationRegistry.registerFactory(languageId, adaptedFactory);\n}\n/**\n * Set the tokens provider for a language (manual implementation). This tokenizer will be exclusive\n * with a tokenizer created using `setMonarchTokensProvider`, or with `registerTokensProviderFactory`,\n * but will work together with a tokens provider set using `registerDocumentSemanticTokensProvider`\n * or `registerDocumentRangeSemanticTokensProvider`.\n */\nexport function setTokensProvider(languageId, provider) {\n    const languageService = StandaloneServices.get(ILanguageService);\n    if (!languageService.isRegisteredLanguageId(languageId)) {\n        throw new Error(`Cannot set tokens provider for unknown language ${languageId}`);\n    }\n    if (isThenable(provider)) {\n        return registerTokensProviderFactory(languageId, { create: () => provider });\n    }\n    return languages.TokenizationRegistry.register(languageId, createTokenizationSupportAdapter(languageId, provider));\n}\n/**\n * Set the tokens provider for a language (monarch implementation). This tokenizer will be exclusive\n * with a tokenizer set using `setTokensProvider`, or with `registerTokensProviderFactory`, but will\n * work together with a tokens provider set using `registerDocumentSemanticTokensProvider` or\n * `registerDocumentRangeSemanticTokensProvider`.\n */\nexport function setMonarchTokensProvider(languageId, languageDef) {\n    const create = (languageDef) => {\n        return new MonarchTokenizer(StandaloneServices.get(ILanguageService), StandaloneServices.get(IStandaloneThemeService), languageId, compile(languageId, languageDef), StandaloneServices.get(IConfigurationService));\n    };\n    if (isThenable(languageDef)) {\n        return registerTokensProviderFactory(languageId, { create: () => languageDef });\n    }\n    return languages.TokenizationRegistry.register(languageId, create(languageDef));\n}\n/**\n * Register a reference provider (used by e.g. reference search).\n */\nexport function registerReferenceProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.referenceProvider.register(languageSelector, provider);\n}\n/**\n * Register a rename provider (used by e.g. rename symbol).\n */\nexport function registerRenameProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.renameProvider.register(languageSelector, provider);\n}\n/**\n * Register a signature help provider (used by e.g. parameter hints).\n */\nexport function registerSignatureHelpProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.signatureHelpProvider.register(languageSelector, provider);\n}\n/**\n * Register a hover provider (used by e.g. editor hover).\n */\nexport function registerHoverProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.hoverProvider.register(languageSelector, {\n        provideHover: (model, position, token) => {\n            const word = model.getWordAtPosition(position);\n            return Promise.resolve(provider.provideHover(model, position, token)).then((value) => {\n                if (!value) {\n                    return undefined;\n                }\n                if (!value.range && word) {\n                    value.range = new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn);\n                }\n                if (!value.range) {\n                    value.range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n                }\n                return value;\n            });\n        }\n    });\n}\n/**\n * Register a document symbol provider (used by e.g. outline).\n */\nexport function registerDocumentSymbolProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.documentSymbolProvider.register(languageSelector, provider);\n}\n/**\n * Register a document highlight provider (used by e.g. highlight occurrences).\n */\nexport function registerDocumentHighlightProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.documentHighlightProvider.register(languageSelector, provider);\n}\n/**\n * Register an linked editing range provider.\n */\nexport function registerLinkedEditingRangeProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.linkedEditingRangeProvider.register(languageSelector, provider);\n}\n/**\n * Register a definition provider (used by e.g. go to definition).\n */\nexport function registerDefinitionProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.definitionProvider.register(languageSelector, provider);\n}\n/**\n * Register a implementation provider (used by e.g. go to implementation).\n */\nexport function registerImplementationProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.implementationProvider.register(languageSelector, provider);\n}\n/**\n * Register a type definition provider (used by e.g. go to type definition).\n */\nexport function registerTypeDefinitionProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.typeDefinitionProvider.register(languageSelector, provider);\n}\n/**\n * Register a code lens provider (used by e.g. inline code lenses).\n */\nexport function registerCodeLensProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.codeLensProvider.register(languageSelector, provider);\n}\n/**\n * Register a code action provider (used by e.g. quick fix).\n */\nexport function registerCodeActionProvider(languageSelector, provider, metadata) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.codeActionProvider.register(languageSelector, {\n        providedCodeActionKinds: metadata === null || metadata === void 0 ? void 0 : metadata.providedCodeActionKinds,\n        documentation: metadata === null || metadata === void 0 ? void 0 : metadata.documentation,\n        provideCodeActions: (model, range, context, token) => {\n            const markerService = StandaloneServices.get(IMarkerService);\n            const markers = markerService.read({ resource: model.uri }).filter(m => {\n                return Range.areIntersectingOrTouching(m, range);\n            });\n            return provider.provideCodeActions(model, range, { markers, only: context.only, trigger: context.trigger }, token);\n        },\n        resolveCodeAction: provider.resolveCodeAction\n    });\n}\n/**\n * Register a formatter that can handle only entire models.\n */\nexport function registerDocumentFormattingEditProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.documentFormattingEditProvider.register(languageSelector, provider);\n}\n/**\n * Register a formatter that can handle a range inside a model.\n */\nexport function registerDocumentRangeFormattingEditProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.documentRangeFormattingEditProvider.register(languageSelector, provider);\n}\n/**\n * Register a formatter than can do formatting as the user types.\n */\nexport function registerOnTypeFormattingEditProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.onTypeFormattingEditProvider.register(languageSelector, provider);\n}\n/**\n * Register a link provider that can find links in text.\n */\nexport function registerLinkProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.linkProvider.register(languageSelector, provider);\n}\n/**\n * Register a completion item provider (use by e.g. suggestions).\n */\nexport function registerCompletionItemProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.completionProvider.register(languageSelector, provider);\n}\n/**\n * Register a document color provider (used by Color Picker, Color Decorator).\n */\nexport function registerColorProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.colorProvider.register(languageSelector, provider);\n}\n/**\n * Register a folding range provider\n */\nexport function registerFoldingRangeProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.foldingRangeProvider.register(languageSelector, provider);\n}\n/**\n * Register a declaration provider\n */\nexport function registerDeclarationProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.declarationProvider.register(languageSelector, provider);\n}\n/**\n * Register a selection range provider\n */\nexport function registerSelectionRangeProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.selectionRangeProvider.register(languageSelector, provider);\n}\n/**\n * Register a document semantic tokens provider. A semantic tokens provider will complement and enhance a\n * simple top-down tokenizer. Simple top-down tokenizers can be set either via `setMonarchTokensProvider`\n * or `setTokensProvider`.\n *\n * For the best user experience, register both a semantic tokens provider and a top-down tokenizer.\n */\nexport function registerDocumentSemanticTokensProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.documentSemanticTokensProvider.register(languageSelector, provider);\n}\n/**\n * Register a document range semantic tokens provider. A semantic tokens provider will complement and enhance a\n * simple top-down tokenizer. Simple top-down tokenizers can be set either via `setMonarchTokensProvider`\n * or `setTokensProvider`.\n *\n * For the best user experience, register both a semantic tokens provider and a top-down tokenizer.\n */\nexport function registerDocumentRangeSemanticTokensProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.documentRangeSemanticTokensProvider.register(languageSelector, provider);\n}\n/**\n * Register an inline completions provider.\n */\nexport function registerInlineCompletionsProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.inlineCompletionsProvider.register(languageSelector, provider);\n}\n/**\n * Register an inlay hints provider.\n */\nexport function registerInlayHintsProvider(languageSelector, provider) {\n    const languageFeaturesService = StandaloneServices.get(ILanguageFeaturesService);\n    return languageFeaturesService.inlayHintsProvider.register(languageSelector, provider);\n}\n/**\n * @internal\n */\nexport function createMonacoLanguagesAPI() {\n    return {\n        register: register,\n        getLanguages: getLanguages,\n        onLanguage: onLanguage,\n        getEncodedLanguageId: getEncodedLanguageId,\n        // provider methods\n        setLanguageConfiguration: setLanguageConfiguration,\n        setColorMap: setColorMap,\n        registerTokensProviderFactory: registerTokensProviderFactory,\n        setTokensProvider: setTokensProvider,\n        setMonarchTokensProvider: setMonarchTokensProvider,\n        registerReferenceProvider: registerReferenceProvider,\n        registerRenameProvider: registerRenameProvider,\n        registerCompletionItemProvider: registerCompletionItemProvider,\n        registerSignatureHelpProvider: registerSignatureHelpProvider,\n        registerHoverProvider: registerHoverProvider,\n        registerDocumentSymbolProvider: registerDocumentSymbolProvider,\n        registerDocumentHighlightProvider: registerDocumentHighlightProvider,\n        registerLinkedEditingRangeProvider: registerLinkedEditingRangeProvider,\n        registerDefinitionProvider: registerDefinitionProvider,\n        registerImplementationProvider: registerImplementationProvider,\n        registerTypeDefinitionProvider: registerTypeDefinitionProvider,\n        registerCodeLensProvider: registerCodeLensProvider,\n        registerCodeActionProvider: registerCodeActionProvider,\n        registerDocumentFormattingEditProvider: registerDocumentFormattingEditProvider,\n        registerDocumentRangeFormattingEditProvider: registerDocumentRangeFormattingEditProvider,\n        registerOnTypeFormattingEditProvider: registerOnTypeFormattingEditProvider,\n        registerLinkProvider: registerLinkProvider,\n        registerColorProvider: registerColorProvider,\n        registerFoldingRangeProvider: registerFoldingRangeProvider,\n        registerDeclarationProvider: registerDeclarationProvider,\n        registerSelectionRangeProvider: registerSelectionRangeProvider,\n        registerDocumentSemanticTokensProvider: registerDocumentSemanticTokensProvider,\n        registerDocumentRangeSemanticTokensProvider: registerDocumentRangeSemanticTokensProvider,\n        registerInlineCompletionsProvider: registerInlineCompletionsProvider,\n        registerInlayHintsProvider: registerInlayHintsProvider,\n        // enums\n        DocumentHighlightKind: standaloneEnums.DocumentHighlightKind,\n        CompletionItemKind: standaloneEnums.CompletionItemKind,\n        CompletionItemTag: standaloneEnums.CompletionItemTag,\n        CompletionItemInsertTextRule: standaloneEnums.CompletionItemInsertTextRule,\n        SymbolKind: standaloneEnums.SymbolKind,\n        SymbolTag: standaloneEnums.SymbolTag,\n        IndentAction: standaloneEnums.IndentAction,\n        CompletionTriggerKind: standaloneEnums.CompletionTriggerKind,\n        SignatureHelpTriggerKind: standaloneEnums.SignatureHelpTriggerKind,\n        InlayHintKind: standaloneEnums.InlayHintKind,\n        InlineCompletionTriggerKind: standaloneEnums.InlineCompletionTriggerKind,\n        CodeActionTriggerType: standaloneEnums.CodeActionTriggerType,\n        // classes\n        FoldingRangeKind: languages.FoldingRangeKind,\n    };\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../base/browser/dom.js';\nimport { Event } from '../../../base/common/event.js';\nimport { ILayoutService } from '../../../platform/layout/browser/layoutService.js';\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nlet StandaloneLayoutService = class StandaloneLayoutService {\n    get dimension() {\n        if (!this._dimension) {\n            this._dimension = dom.getClientArea(window.document.body);\n        }\n        return this._dimension;\n    }\n    get hasContainer() {\n        return false;\n    }\n    get container() {\n        // On a page, multiple editors can be created. Therefore, there are multiple containers, not\n        // just a single one. Please use `ICodeEditorService` to get the current focused code editor\n        // and use its container if necessary. You can also instantiate `EditorScopedLayoutService`\n        // which implements `ILayoutService` but is not a part of the service collection because\n        // it is code editor instance specific.\n        throw new Error(`ILayoutService.container is not available in the standalone editor!`);\n    }\n    focus() {\n        var _a;\n        (_a = this._codeEditorService.getFocusedCodeEditor()) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    constructor(_codeEditorService) {\n        this._codeEditorService = _codeEditorService;\n        this.onDidLayout = Event.None;\n        this.offset = { top: 0, quickPickTop: 0 };\n    }\n};\nStandaloneLayoutService = __decorate([\n    __param(0, ICodeEditorService)\n], StandaloneLayoutService);\nlet EditorScopedLayoutService = class EditorScopedLayoutService extends StandaloneLayoutService {\n    get hasContainer() {\n        return false;\n    }\n    get container() {\n        return this._container;\n    }\n    constructor(_container, codeEditorService) {\n        super(codeEditorService);\n        this._container = _container;\n    }\n};\nEditorScopedLayoutService = __decorate([\n    __param(1, ICodeEditorService)\n], EditorScopedLayoutService);\nexport { EditorScopedLayoutService };\nregisterSingleton(ILayoutService, StandaloneLayoutService, 1 /* InstantiationType.Delayed */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport './standaloneQuickInput.css';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { EditorScopedLayoutService } from '../standaloneLayoutService.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { QuickInputService } from '../../../../platform/quickinput/browser/quickInputService.js';\nimport { once } from '../../../../base/common/functional.js';\nlet EditorScopedQuickInputService = class EditorScopedQuickInputService extends QuickInputService {\n    constructor(editor, instantiationService, contextKeyService, themeService, accessibilityService, codeEditorService) {\n        super(instantiationService, contextKeyService, themeService, accessibilityService, new EditorScopedLayoutService(editor.getContainerDomNode(), codeEditorService));\n        this.host = undefined;\n        // Use the passed in code editor as host for the quick input widget\n        const contribution = QuickInputEditorContribution.get(editor);\n        if (contribution) {\n            const widget = contribution.widget;\n            this.host = {\n                _serviceBrand: undefined,\n                get hasContainer() { return true; },\n                get container() { return widget.getDomNode(); },\n                get dimension() { return editor.getLayoutInfo(); },\n                get onDidLayout() { return editor.onDidLayoutChange; },\n                focus: () => editor.focus(),\n                offset: { top: 0, quickPickTop: 0 }\n            };\n        }\n        else {\n            this.host = undefined;\n        }\n    }\n    createController() {\n        return super.createController(this.host);\n    }\n};\nEditorScopedQuickInputService = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IContextKeyService),\n    __param(3, IThemeService),\n    __param(4, IAccessibilityService),\n    __param(5, ICodeEditorService)\n], EditorScopedQuickInputService);\nlet StandaloneQuickInputService = class StandaloneQuickInputService {\n    get activeService() {\n        const editor = this.codeEditorService.getFocusedCodeEditor();\n        if (!editor) {\n            throw new Error('Quick input service needs a focused editor to work.');\n        }\n        // Find the quick input implementation for the focused\n        // editor or create it lazily if not yet created\n        let quickInputService = this.mapEditorToService.get(editor);\n        if (!quickInputService) {\n            const newQuickInputService = quickInputService = this.instantiationService.createInstance(EditorScopedQuickInputService, editor);\n            this.mapEditorToService.set(editor, quickInputService);\n            once(editor.onDidDispose)(() => {\n                newQuickInputService.dispose();\n                this.mapEditorToService.delete(editor);\n            });\n        }\n        return quickInputService;\n    }\n    get quickAccess() { return this.activeService.quickAccess; }\n    constructor(instantiationService, codeEditorService) {\n        this.instantiationService = instantiationService;\n        this.codeEditorService = codeEditorService;\n        this.mapEditorToService = new Map();\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return this.activeService /* TS fail */.pick(picks, options, token);\n    }\n    createQuickPick() {\n        return this.activeService.createQuickPick();\n    }\n    createInputBox() {\n        return this.activeService.createInputBox();\n    }\n};\nStandaloneQuickInputService = __decorate([\n    __param(0, IInstantiationService),\n    __param(1, ICodeEditorService)\n], StandaloneQuickInputService);\nexport { StandaloneQuickInputService };\nclass QuickInputEditorContribution {\n    static get(editor) {\n        return editor.getContribution(QuickInputEditorContribution.ID);\n    }\n    constructor(editor) {\n        this.editor = editor;\n        this.widget = new QuickInputEditorWidget(this.editor);\n    }\n    dispose() {\n        this.widget.dispose();\n    }\n}\nQuickInputEditorContribution.ID = 'editor.controller.quickInput';\nexport { QuickInputEditorContribution };\nclass QuickInputEditorWidget {\n    constructor(codeEditor) {\n        this.codeEditor = codeEditor;\n        this.domNode = document.createElement('div');\n        this.codeEditor.addOverlayWidget(this);\n    }\n    getId() {\n        return QuickInputEditorWidget.ID;\n    }\n    getDomNode() {\n        return this.domNode;\n    }\n    getPosition() {\n        return { preference: 2 /* OverlayWidgetPositionPreference.TOP_CENTER */ };\n    }\n    dispose() {\n        this.codeEditor.removeOverlayWidget(this);\n    }\n}\nQuickInputEditorWidget.ID = 'editor.contrib.quickInputWidget';\nexport { QuickInputEditorWidget };\nregisterEditorContribution(QuickInputEditorContribution.ID, QuickInputEditorContribution, 4 /* EditorContributionInstantiation.Lazy */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport '../../common/languages/languageConfigurationRegistry.js';\nimport './standaloneCodeEditorService.js';\nimport './standaloneLayoutService.js';\nimport '../../../platform/undoRedo/common/undoRedoService.js';\nimport '../../common/services/languageFeatureDebounce.js';\nimport '../../common/services/semanticTokensStylingService.js';\nimport '../../common/services/languageFeaturesService.js';\nimport * as strings from '../../../base/common/strings.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { KeyCodeChord, decodeKeybinding } from '../../../base/common/keybindings.js';\nimport { ImmortalReference, toDisposable, DisposableStore, Disposable, combinedDisposable } from '../../../base/common/lifecycle.js';\nimport { OS, isLinux, isMacintosh } from '../../../base/common/platform.js';\nimport Severity from '../../../base/common/severity.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { IBulkEditService, ResourceEdit, ResourceTextEdit } from '../../browser/services/bulkEditService.js';\nimport { isDiffEditorConfigurationKey, isEditorConfigurationKey } from '../../common/config/editorConfigurationSchema.js';\nimport { EditOperation } from '../../common/core/editOperation.js';\nimport { Position as Pos } from '../../common/core/position.js';\nimport { Range } from '../../common/core/range.js';\nimport { IModelService } from '../../common/services/model.js';\nimport { ITextModelService } from '../../common/services/resolverService.js';\nimport { ITextResourceConfigurationService, ITextResourcePropertiesService } from '../../common/services/textResourceConfiguration.js';\nimport { CommandsRegistry, ICommandService } from '../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\nimport { Configuration, ConfigurationModel, ConfigurationChangeEvent } from '../../../platform/configuration/common/configurationModels.js';\nimport { IContextKeyService } from '../../../platform/contextkey/common/contextkey.js';\nimport { IDialogService } from '../../../platform/dialogs/common/dialogs.js';\nimport { createDecorator, IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\nimport { AbstractKeybindingService } from '../../../platform/keybinding/common/abstractKeybindingService.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { KeybindingResolver } from '../../../platform/keybinding/common/keybindingResolver.js';\nimport { KeybindingsRegistry } from '../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ResolvedKeybindingItem } from '../../../platform/keybinding/common/resolvedKeybindingItem.js';\nimport { USLayoutResolvedKeybinding } from '../../../platform/keybinding/common/usLayoutResolvedKeybinding.js';\nimport { ILabelService } from '../../../platform/label/common/label.js';\nimport { INotificationService, NoOpNotification } from '../../../platform/notification/common/notification.js';\nimport { IEditorProgressService, IProgressService } from '../../../platform/progress/common/progress.js';\nimport { ITelemetryService } from '../../../platform/telemetry/common/telemetry.js';\nimport { IWorkspaceContextService, WorkspaceFolder } from '../../../platform/workspace/common/workspace.js';\nimport { ILayoutService } from '../../../platform/layout/browser/layoutService.js';\nimport { StandaloneServicesNLS } from '../../common/standaloneStrings.js';\nimport { basename } from '../../../base/common/resources.js';\nimport { ICodeEditorService } from '../../browser/services/codeEditorService.js';\nimport { ConsoleLogger, ILogService } from '../../../platform/log/common/log.js';\nimport { IWorkspaceTrustManagementService } from '../../../platform/workspace/common/workspaceTrust.js';\nimport { IContextMenuService, IContextViewService } from '../../../platform/contextview/browser/contextView.js';\nimport { ContextViewService } from '../../../platform/contextview/browser/contextViewService.js';\nimport { LanguageService } from '../../common/services/languageService.js';\nimport { ContextMenuService } from '../../../platform/contextview/browser/contextMenuService.js';\nimport { getSingletonServiceDescriptors, registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nimport { OpenerService } from '../../browser/services/openerService.js';\nimport { IEditorWorkerService } from '../../common/services/editorWorker.js';\nimport { EditorWorkerService } from '../../browser/services/editorWorkerService.js';\nimport { ILanguageService } from '../../common/languages/language.js';\nimport { MarkerDecorationsService } from '../../common/services/markerDecorationsService.js';\nimport { IMarkerDecorationsService } from '../../common/services/markerDecorations.js';\nimport { ModelService } from '../../common/services/modelService.js';\nimport { StandaloneQuickInputService } from './quickInput/standaloneQuickInputService.js';\nimport { StandaloneThemeService } from './standaloneThemeService.js';\nimport { IStandaloneThemeService } from '../common/standaloneTheme.js';\nimport { AccessibilityService } from '../../../platform/accessibility/browser/accessibilityService.js';\nimport { IAccessibilityService } from '../../../platform/accessibility/common/accessibility.js';\nimport { IMenuService } from '../../../platform/actions/common/actions.js';\nimport { MenuService } from '../../../platform/actions/common/menuService.js';\nimport { BrowserClipboardService } from '../../../platform/clipboard/browser/clipboardService.js';\nimport { IClipboardService } from '../../../platform/clipboard/common/clipboardService.js';\nimport { ContextKeyService } from '../../../platform/contextkey/browser/contextKeyService.js';\nimport { SyncDescriptor } from '../../../platform/instantiation/common/descriptors.js';\nimport { InstantiationService } from '../../../platform/instantiation/common/instantiationService.js';\nimport { ServiceCollection } from '../../../platform/instantiation/common/serviceCollection.js';\nimport { IListService, ListService } from '../../../platform/list/browser/listService.js';\nimport { IMarkerService } from '../../../platform/markers/common/markers.js';\nimport { MarkerService } from '../../../platform/markers/common/markerService.js';\nimport { IOpenerService } from '../../../platform/opener/common/opener.js';\nimport { IQuickInputService } from '../../../platform/quickinput/common/quickInput.js';\nimport { IStorageService, InMemoryStorageService } from '../../../platform/storage/common/storage.js';\nimport { DefaultConfiguration } from '../../../platform/configuration/common/configurations.js';\nimport { IAudioCueService } from '../../../platform/audioCues/browser/audioCueService.js';\nimport { LogService } from '../../../platform/log/common/logService.js';\nimport { getEditorFeatures } from '../../common/editorFeatures.js';\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nclass SimpleModel {\n    constructor(model) {\n        this.disposed = false;\n        this.model = model;\n        this._onWillDispose = new Emitter();\n    }\n    get textEditorModel() {\n        return this.model;\n    }\n    dispose() {\n        this.disposed = true;\n        this._onWillDispose.fire();\n    }\n}\nlet StandaloneTextModelService = class StandaloneTextModelService {\n    constructor(modelService) {\n        this.modelService = modelService;\n    }\n    createModelReference(resource) {\n        const model = this.modelService.getModel(resource);\n        if (!model) {\n            return Promise.reject(new Error(`Model not found`));\n        }\n        return Promise.resolve(new ImmortalReference(new SimpleModel(model)));\n    }\n};\nStandaloneTextModelService = __decorate([\n    __param(0, IModelService)\n], StandaloneTextModelService);\nclass StandaloneEditorProgressService {\n    show() {\n        return StandaloneEditorProgressService.NULL_PROGRESS_RUNNER;\n    }\n    showWhile(promise, delay) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield promise;\n        });\n    }\n}\nStandaloneEditorProgressService.NULL_PROGRESS_RUNNER = {\n    done: () => { },\n    total: () => { },\n    worked: () => { }\n};\nclass StandaloneProgressService {\n    withProgress(_options, task, onDidCancel) {\n        return task({\n            report: () => { },\n        });\n    }\n}\nclass StandaloneDialogService {\n    confirm(confirmation) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const confirmed = this.doConfirm(confirmation.message, confirmation.detail);\n            return {\n                confirmed,\n                checkboxChecked: false // unsupported\n            };\n        });\n    }\n    doConfirm(message, detail) {\n        let messageText = message;\n        if (detail) {\n            messageText = messageText + '\\n\\n' + detail;\n        }\n        return window.confirm(messageText);\n    }\n    prompt(prompt) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            let result = undefined;\n            const confirmed = this.doConfirm(prompt.message, prompt.detail);\n            if (confirmed) {\n                const promptButtons = [...((_a = prompt.buttons) !== null && _a !== void 0 ? _a : [])];\n                if (prompt.cancelButton && typeof prompt.cancelButton !== 'string' && typeof prompt.cancelButton !== 'boolean') {\n                    promptButtons.push(prompt.cancelButton);\n                }\n                result = yield ((_b = promptButtons[0]) === null || _b === void 0 ? void 0 : _b.run({ checkboxChecked: false }));\n            }\n            return { result };\n        });\n    }\n    error(message, detail) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.prompt({ type: Severity.Error, message, detail });\n        });\n    }\n}\nclass StandaloneNotificationService {\n    info(message) {\n        return this.notify({ severity: Severity.Info, message });\n    }\n    warn(message) {\n        return this.notify({ severity: Severity.Warning, message });\n    }\n    error(error) {\n        return this.notify({ severity: Severity.Error, message: error });\n    }\n    notify(notification) {\n        switch (notification.severity) {\n            case Severity.Error:\n                console.error(notification.message);\n                break;\n            case Severity.Warning:\n                console.warn(notification.message);\n                break;\n            default:\n                console.log(notification.message);\n                break;\n        }\n        return StandaloneNotificationService.NO_OP;\n    }\n    prompt(severity, message, choices, options) {\n        return StandaloneNotificationService.NO_OP;\n    }\n    status(message, options) {\n        return Disposable.None;\n    }\n}\nStandaloneNotificationService.NO_OP = new NoOpNotification();\nexport { StandaloneNotificationService };\nlet StandaloneCommandService = class StandaloneCommandService {\n    constructor(instantiationService) {\n        this._onWillExecuteCommand = new Emitter();\n        this._onDidExecuteCommand = new Emitter();\n        this.onDidExecuteCommand = this._onDidExecuteCommand.event;\n        this._instantiationService = instantiationService;\n    }\n    executeCommand(id, ...args) {\n        const command = CommandsRegistry.getCommand(id);\n        if (!command) {\n            return Promise.reject(new Error(`command '${id}' not found`));\n        }\n        try {\n            this._onWillExecuteCommand.fire({ commandId: id, args });\n            const result = this._instantiationService.invokeFunction.apply(this._instantiationService, [command.handler, ...args]);\n            this._onDidExecuteCommand.fire({ commandId: id, args });\n            return Promise.resolve(result);\n        }\n        catch (err) {\n            return Promise.reject(err);\n        }\n    }\n};\nStandaloneCommandService = __decorate([\n    __param(0, IInstantiationService)\n], StandaloneCommandService);\nexport { StandaloneCommandService };\nlet StandaloneKeybindingService = class StandaloneKeybindingService extends AbstractKeybindingService {\n    constructor(contextKeyService, commandService, telemetryService, notificationService, logService, codeEditorService) {\n        super(contextKeyService, commandService, telemetryService, notificationService, logService);\n        this._cachedResolver = null;\n        this._dynamicKeybindings = [];\n        this._domNodeListeners = [];\n        const addContainer = (domNode) => {\n            const disposables = new DisposableStore();\n            // for standard keybindings\n            disposables.add(dom.addDisposableListener(domNode, dom.EventType.KEY_DOWN, (e) => {\n                const keyEvent = new StandardKeyboardEvent(e);\n                const shouldPreventDefault = this._dispatch(keyEvent, keyEvent.target);\n                if (shouldPreventDefault) {\n                    keyEvent.preventDefault();\n                    keyEvent.stopPropagation();\n                }\n            }));\n            // for single modifier chord keybindings (e.g. shift shift)\n            disposables.add(dom.addDisposableListener(domNode, dom.EventType.KEY_UP, (e) => {\n                const keyEvent = new StandardKeyboardEvent(e);\n                const shouldPreventDefault = this._singleModifierDispatch(keyEvent, keyEvent.target);\n                if (shouldPreventDefault) {\n                    keyEvent.preventDefault();\n                }\n            }));\n            this._domNodeListeners.push(new DomNodeListeners(domNode, disposables));\n        };\n        const removeContainer = (domNode) => {\n            for (let i = 0; i < this._domNodeListeners.length; i++) {\n                const domNodeListeners = this._domNodeListeners[i];\n                if (domNodeListeners.domNode === domNode) {\n                    this._domNodeListeners.splice(i, 1);\n                    domNodeListeners.dispose();\n                }\n            }\n        };\n        const addCodeEditor = (codeEditor) => {\n            if (codeEditor.getOption(58 /* EditorOption.inDiffEditor */)) {\n                return;\n            }\n            addContainer(codeEditor.getContainerDomNode());\n        };\n        const removeCodeEditor = (codeEditor) => {\n            if (codeEditor.getOption(58 /* EditorOption.inDiffEditor */)) {\n                return;\n            }\n            removeContainer(codeEditor.getContainerDomNode());\n        };\n        this._register(codeEditorService.onCodeEditorAdd(addCodeEditor));\n        this._register(codeEditorService.onCodeEditorRemove(removeCodeEditor));\n        codeEditorService.listCodeEditors().forEach(addCodeEditor);\n        const addDiffEditor = (diffEditor) => {\n            addContainer(diffEditor.getContainerDomNode());\n        };\n        const removeDiffEditor = (diffEditor) => {\n            removeContainer(diffEditor.getContainerDomNode());\n        };\n        this._register(codeEditorService.onDiffEditorAdd(addDiffEditor));\n        this._register(codeEditorService.onDiffEditorRemove(removeDiffEditor));\n        codeEditorService.listDiffEditors().forEach(addDiffEditor);\n    }\n    addDynamicKeybinding(command, keybinding, handler, when) {\n        return combinedDisposable(CommandsRegistry.registerCommand(command, handler), this.addDynamicKeybindings([{\n                keybinding,\n                command,\n                when\n            }]));\n    }\n    addDynamicKeybindings(rules) {\n        const entries = rules.map((rule) => {\n            var _a;\n            const keybinding = decodeKeybinding(rule.keybinding, OS);\n            return {\n                keybinding,\n                command: (_a = rule.command) !== null && _a !== void 0 ? _a : null,\n                commandArgs: rule.commandArgs,\n                when: rule.when,\n                weight1: 1000,\n                weight2: 0,\n                extensionId: null,\n                isBuiltinExtension: false\n            };\n        });\n        this._dynamicKeybindings = this._dynamicKeybindings.concat(entries);\n        this.updateResolver();\n        return toDisposable(() => {\n            // Search the first entry and remove them all since they will be contiguous\n            for (let i = 0; i < this._dynamicKeybindings.length; i++) {\n                if (this._dynamicKeybindings[i] === entries[0]) {\n                    this._dynamicKeybindings.splice(i, entries.length);\n                    this.updateResolver();\n                    return;\n                }\n            }\n        });\n    }\n    updateResolver() {\n        this._cachedResolver = null;\n        this._onDidUpdateKeybindings.fire();\n    }\n    _getResolver() {\n        if (!this._cachedResolver) {\n            const defaults = this._toNormalizedKeybindingItems(KeybindingsRegistry.getDefaultKeybindings(), true);\n            const overrides = this._toNormalizedKeybindingItems(this._dynamicKeybindings, false);\n            this._cachedResolver = new KeybindingResolver(defaults, overrides, (str) => this._log(str));\n        }\n        return this._cachedResolver;\n    }\n    _documentHasFocus() {\n        return document.hasFocus();\n    }\n    _toNormalizedKeybindingItems(items, isDefault) {\n        const result = [];\n        let resultLen = 0;\n        for (const item of items) {\n            const when = item.when || undefined;\n            const keybinding = item.keybinding;\n            if (!keybinding) {\n                // This might be a removal keybinding item in user settings => accept it\n                result[resultLen++] = new ResolvedKeybindingItem(undefined, item.command, item.commandArgs, when, isDefault, null, false);\n            }\n            else {\n                const resolvedKeybindings = USLayoutResolvedKeybinding.resolveKeybinding(keybinding, OS);\n                for (const resolvedKeybinding of resolvedKeybindings) {\n                    result[resultLen++] = new ResolvedKeybindingItem(resolvedKeybinding, item.command, item.commandArgs, when, isDefault, null, false);\n                }\n            }\n        }\n        return result;\n    }\n    resolveKeyboardEvent(keyboardEvent) {\n        const chord = new KeyCodeChord(keyboardEvent.ctrlKey, keyboardEvent.shiftKey, keyboardEvent.altKey, keyboardEvent.metaKey, keyboardEvent.keyCode);\n        return new USLayoutResolvedKeybinding([chord], OS);\n    }\n};\nStandaloneKeybindingService = __decorate([\n    __param(0, IContextKeyService),\n    __param(1, ICommandService),\n    __param(2, ITelemetryService),\n    __param(3, INotificationService),\n    __param(4, ILogService),\n    __param(5, ICodeEditorService)\n], StandaloneKeybindingService);\nexport { StandaloneKeybindingService };\nclass DomNodeListeners extends Disposable {\n    constructor(domNode, disposables) {\n        super();\n        this.domNode = domNode;\n        this._register(disposables);\n    }\n}\nfunction isConfigurationOverrides(thing) {\n    return thing\n        && typeof thing === 'object'\n        && (!thing.overrideIdentifier || typeof thing.overrideIdentifier === 'string')\n        && (!thing.resource || thing.resource instanceof URI);\n}\nexport class StandaloneConfigurationService {\n    constructor() {\n        this._onDidChangeConfiguration = new Emitter();\n        this.onDidChangeConfiguration = this._onDidChangeConfiguration.event;\n        const defaultConfiguration = new DefaultConfiguration();\n        this._configuration = new Configuration(defaultConfiguration.reload(), new ConfigurationModel(), new ConfigurationModel(), new ConfigurationModel());\n        defaultConfiguration.dispose();\n    }\n    getValue(arg1, arg2) {\n        const section = typeof arg1 === 'string' ? arg1 : undefined;\n        const overrides = isConfigurationOverrides(arg1) ? arg1 : isConfigurationOverrides(arg2) ? arg2 : {};\n        return this._configuration.getValue(section, overrides, undefined);\n    }\n    updateValues(values) {\n        const previous = { data: this._configuration.toData() };\n        const changedKeys = [];\n        for (const entry of values) {\n            const [key, value] = entry;\n            if (this.getValue(key) === value) {\n                continue;\n            }\n            this._configuration.updateValue(key, value);\n            changedKeys.push(key);\n        }\n        if (changedKeys.length > 0) {\n            const configurationChangeEvent = new ConfigurationChangeEvent({ keys: changedKeys, overrides: [] }, previous, this._configuration);\n            configurationChangeEvent.source = 8 /* ConfigurationTarget.MEMORY */;\n            configurationChangeEvent.sourceConfig = null;\n            this._onDidChangeConfiguration.fire(configurationChangeEvent);\n        }\n        return Promise.resolve();\n    }\n    updateValue(key, value, arg3, arg4) {\n        return this.updateValues([[key, value]]);\n    }\n    inspect(key, options = {}) {\n        return this._configuration.inspect(key, options, undefined);\n    }\n}\nlet StandaloneResourceConfigurationService = class StandaloneResourceConfigurationService {\n    constructor(configurationService, modelService, languageService) {\n        this.configurationService = configurationService;\n        this.modelService = modelService;\n        this.languageService = languageService;\n        this._onDidChangeConfiguration = new Emitter();\n        this.configurationService.onDidChangeConfiguration((e) => {\n            this._onDidChangeConfiguration.fire({ affectedKeys: e.affectedKeys, affectsConfiguration: (resource, configuration) => e.affectsConfiguration(configuration) });\n        });\n    }\n    getValue(resource, arg2, arg3) {\n        const position = Pos.isIPosition(arg2) ? arg2 : null;\n        const section = position ? (typeof arg3 === 'string' ? arg3 : undefined) : (typeof arg2 === 'string' ? arg2 : undefined);\n        const language = resource ? this.getLanguage(resource, position) : undefined;\n        if (typeof section === 'undefined') {\n            return this.configurationService.getValue({\n                resource,\n                overrideIdentifier: language\n            });\n        }\n        return this.configurationService.getValue(section, {\n            resource,\n            overrideIdentifier: language\n        });\n    }\n    getLanguage(resource, position) {\n        const model = this.modelService.getModel(resource);\n        if (model) {\n            return position ? model.getLanguageIdAtPosition(position.lineNumber, position.column) : model.getLanguageId();\n        }\n        return this.languageService.guessLanguageIdByFilepathOrFirstLine(resource);\n    }\n};\nStandaloneResourceConfigurationService = __decorate([\n    __param(0, IConfigurationService),\n    __param(1, IModelService),\n    __param(2, ILanguageService)\n], StandaloneResourceConfigurationService);\nlet StandaloneResourcePropertiesService = class StandaloneResourcePropertiesService {\n    constructor(configurationService) {\n        this.configurationService = configurationService;\n    }\n    getEOL(resource, language) {\n        const eol = this.configurationService.getValue('files.eol', { overrideIdentifier: language, resource });\n        if (eol && typeof eol === 'string' && eol !== 'auto') {\n            return eol;\n        }\n        return (isLinux || isMacintosh) ? '\\n' : '\\r\\n';\n    }\n};\nStandaloneResourcePropertiesService = __decorate([\n    __param(0, IConfigurationService)\n], StandaloneResourcePropertiesService);\nclass StandaloneTelemetryService {\n    publicLog(eventName, data) {\n        return Promise.resolve(undefined);\n    }\n    publicLog2(eventName, data) {\n        return this.publicLog(eventName, data);\n    }\n}\nclass StandaloneWorkspaceContextService {\n    constructor() {\n        const resource = URI.from({ scheme: StandaloneWorkspaceContextService.SCHEME, authority: 'model', path: '/' });\n        this.workspace = { id: '4064f6ec-cb38-4ad0-af64-ee6467e63c82', folders: [new WorkspaceFolder({ uri: resource, name: '', index: 0 })] };\n    }\n    getWorkspace() {\n        return this.workspace;\n    }\n    getWorkspaceFolder(resource) {\n        return resource && resource.scheme === StandaloneWorkspaceContextService.SCHEME ? this.workspace.folders[0] : null;\n    }\n}\nStandaloneWorkspaceContextService.SCHEME = 'inmemory';\nexport function updateConfigurationService(configurationService, source, isDiffEditor) {\n    if (!source) {\n        return;\n    }\n    if (!(configurationService instanceof StandaloneConfigurationService)) {\n        return;\n    }\n    const toUpdate = [];\n    Object.keys(source).forEach((key) => {\n        if (isEditorConfigurationKey(key)) {\n            toUpdate.push([`editor.${key}`, source[key]]);\n        }\n        if (isDiffEditor && isDiffEditorConfigurationKey(key)) {\n            toUpdate.push([`diffEditor.${key}`, source[key]]);\n        }\n    });\n    if (toUpdate.length > 0) {\n        configurationService.updateValues(toUpdate);\n    }\n}\nlet StandaloneBulkEditService = class StandaloneBulkEditService {\n    constructor(_modelService) {\n        this._modelService = _modelService;\n        //\n    }\n    hasPreviewHandler() {\n        return false;\n    }\n    apply(editsIn, _options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const edits = Array.isArray(editsIn) ? editsIn : ResourceEdit.convert(editsIn);\n            const textEdits = new Map();\n            for (const edit of edits) {\n                if (!(edit instanceof ResourceTextEdit)) {\n                    throw new Error('bad edit - only text edits are supported');\n                }\n                const model = this._modelService.getModel(edit.resource);\n                if (!model) {\n                    throw new Error('bad edit - model not found');\n                }\n                if (typeof edit.versionId === 'number' && model.getVersionId() !== edit.versionId) {\n                    throw new Error('bad state - model changed in the meantime');\n                }\n                let array = textEdits.get(model);\n                if (!array) {\n                    array = [];\n                    textEdits.set(model, array);\n                }\n                array.push(EditOperation.replaceMove(Range.lift(edit.textEdit.range), edit.textEdit.text));\n            }\n            let totalEdits = 0;\n            let totalFiles = 0;\n            for (const [model, edits] of textEdits) {\n                model.pushStackElement();\n                model.pushEditOperations([], edits, () => []);\n                model.pushStackElement();\n                totalFiles += 1;\n                totalEdits += edits.length;\n            }\n            return {\n                ariaSummary: strings.format(StandaloneServicesNLS.bulkEditServiceSummary, totalEdits, totalFiles),\n                isApplied: totalEdits > 0\n            };\n        });\n    }\n};\nStandaloneBulkEditService = __decorate([\n    __param(0, IModelService)\n], StandaloneBulkEditService);\nclass StandaloneUriLabelService {\n    getUriLabel(resource, options) {\n        if (resource.scheme === 'file') {\n            return resource.fsPath;\n        }\n        return resource.path;\n    }\n    getUriBasenameLabel(resource) {\n        return basename(resource);\n    }\n}\nlet StandaloneContextViewService = class StandaloneContextViewService extends ContextViewService {\n    constructor(layoutService, _codeEditorService) {\n        super(layoutService);\n        this._codeEditorService = _codeEditorService;\n    }\n    showContextView(delegate, container, shadowRoot) {\n        if (!container) {\n            const codeEditor = this._codeEditorService.getFocusedCodeEditor() || this._codeEditorService.getActiveCodeEditor();\n            if (codeEditor) {\n                container = codeEditor.getContainerDomNode();\n            }\n        }\n        return super.showContextView(delegate, container, shadowRoot);\n    }\n};\nStandaloneContextViewService = __decorate([\n    __param(0, ILayoutService),\n    __param(1, ICodeEditorService)\n], StandaloneContextViewService);\nclass StandaloneWorkspaceTrustManagementService {\n    constructor() {\n        this._neverEmitter = new Emitter();\n        this.onDidChangeTrust = this._neverEmitter.event;\n    }\n    isWorkspaceTrusted() {\n        return true;\n    }\n}\nclass StandaloneLanguageService extends LanguageService {\n    constructor() {\n        super();\n    }\n}\nclass StandaloneLogService extends LogService {\n    constructor() {\n        super(new ConsoleLogger());\n    }\n}\nlet StandaloneContextMenuService = class StandaloneContextMenuService extends ContextMenuService {\n    constructor(telemetryService, notificationService, contextViewService, keybindingService, menuService, contextKeyService) {\n        super(telemetryService, notificationService, contextViewService, keybindingService, menuService, contextKeyService);\n        this.configure({ blockMouse: false }); // we do not want that in the standalone editor\n    }\n};\nStandaloneContextMenuService = __decorate([\n    __param(0, ITelemetryService),\n    __param(1, INotificationService),\n    __param(2, IContextViewService),\n    __param(3, IKeybindingService),\n    __param(4, IMenuService),\n    __param(5, IContextKeyService)\n], StandaloneContextMenuService);\nclass StandaloneAudioService {\n    playAudioCue(cue, allowManyInParallel) {\n        return __awaiter(this, void 0, void 0, function* () {\n        });\n    }\n}\nregisterSingleton(IConfigurationService, StandaloneConfigurationService, 0 /* InstantiationType.Eager */);\nregisterSingleton(ITextResourceConfigurationService, StandaloneResourceConfigurationService, 0 /* InstantiationType.Eager */);\nregisterSingleton(ITextResourcePropertiesService, StandaloneResourcePropertiesService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IWorkspaceContextService, StandaloneWorkspaceContextService, 0 /* InstantiationType.Eager */);\nregisterSingleton(ILabelService, StandaloneUriLabelService, 0 /* InstantiationType.Eager */);\nregisterSingleton(ITelemetryService, StandaloneTelemetryService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IDialogService, StandaloneDialogService, 0 /* InstantiationType.Eager */);\nregisterSingleton(INotificationService, StandaloneNotificationService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IMarkerService, MarkerService, 0 /* InstantiationType.Eager */);\nregisterSingleton(ILanguageService, StandaloneLanguageService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IStandaloneThemeService, StandaloneThemeService, 0 /* InstantiationType.Eager */);\nregisterSingleton(ILogService, StandaloneLogService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IModelService, ModelService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IMarkerDecorationsService, MarkerDecorationsService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IContextKeyService, ContextKeyService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IProgressService, StandaloneProgressService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IEditorProgressService, StandaloneEditorProgressService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IStorageService, InMemoryStorageService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IEditorWorkerService, EditorWorkerService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IBulkEditService, StandaloneBulkEditService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IWorkspaceTrustManagementService, StandaloneWorkspaceTrustManagementService, 0 /* InstantiationType.Eager */);\nregisterSingleton(ITextModelService, StandaloneTextModelService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IAccessibilityService, AccessibilityService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IListService, ListService, 0 /* InstantiationType.Eager */);\nregisterSingleton(ICommandService, StandaloneCommandService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IKeybindingService, StandaloneKeybindingService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IQuickInputService, StandaloneQuickInputService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IContextViewService, StandaloneContextViewService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IOpenerService, OpenerService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IClipboardService, BrowserClipboardService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IContextMenuService, StandaloneContextMenuService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IMenuService, MenuService, 0 /* InstantiationType.Eager */);\nregisterSingleton(IAudioCueService, StandaloneAudioService, 0 /* InstantiationType.Eager */);\n/**\n * We don't want to eagerly instantiate services because embedders get a one time chance\n * to override services when they create the first editor.\n */\nexport var StandaloneServices;\n(function (StandaloneServices) {\n    const serviceCollection = new ServiceCollection();\n    for (const [id, descriptor] of getSingletonServiceDescriptors()) {\n        serviceCollection.set(id, descriptor);\n    }\n    const instantiationService = new InstantiationService(serviceCollection, true);\n    serviceCollection.set(IInstantiationService, instantiationService);\n    function get(serviceId) {\n        const r = serviceCollection.get(serviceId);\n        if (!r) {\n            throw new Error('Missing service ' + serviceId);\n        }\n        if (r instanceof SyncDescriptor) {\n            return instantiationService.invokeFunction((accessor) => accessor.get(serviceId));\n        }\n        else {\n            return r;\n        }\n    }\n    StandaloneServices.get = get;\n    let initialized = false;\n    function initialize(overrides) {\n        if (initialized) {\n            return instantiationService;\n        }\n        initialized = true;\n        // Add singletons that were registered after this module loaded\n        for (const [id, descriptor] of getSingletonServiceDescriptors()) {\n            if (!serviceCollection.get(id)) {\n                serviceCollection.set(id, descriptor);\n            }\n        }\n        // Initialize the service collection with the overrides, but only if the\n        // service was not instantiated in the meantime.\n        for (const serviceId in overrides) {\n            if (overrides.hasOwnProperty(serviceId)) {\n                const serviceIdentifier = createDecorator(serviceId);\n                const r = serviceCollection.get(serviceIdentifier);\n                if (r instanceof SyncDescriptor) {\n                    serviceCollection.set(serviceIdentifier, overrides[serviceId]);\n                }\n            }\n        }\n        // Instantiate all editor features\n        const editorFeatures = getEditorFeatures();\n        for (const feature of editorFeatures) {\n            try {\n                instantiationService.createInstance(feature);\n            }\n            catch (err) {\n                onUnexpectedError(err);\n            }\n        }\n        return instantiationService;\n    }\n    StandaloneServices.initialize = initialize;\n})(StandaloneServices || (StandaloneServices = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { editorActiveIndentGuides, editorIndentGuides } from '../../common/core/editorColorRegistry.js';\nimport { editorBackground, editorForeground, editorInactiveSelection, editorSelectionHighlight } from '../../../platform/theme/common/colorRegistry.js';\n/* -------------------------------- Begin vs theme -------------------------------- */\nexport const vs = {\n    base: 'vs',\n    inherit: false,\n    rules: [\n        { token: '', foreground: '000000', background: 'fffffe' },\n        { token: 'invalid', foreground: 'cd3131' },\n        { token: 'emphasis', fontStyle: 'italic' },\n        { token: 'strong', fontStyle: 'bold' },\n        { token: 'variable', foreground: '001188' },\n        { token: 'variable.predefined', foreground: '4864AA' },\n        { token: 'constant', foreground: 'dd0000' },\n        { token: 'comment', foreground: '008000' },\n        { token: 'number', foreground: '098658' },\n        { token: 'number.hex', foreground: '3030c0' },\n        { token: 'regexp', foreground: '800000' },\n        { token: 'annotation', foreground: '808080' },\n        { token: 'type', foreground: '008080' },\n        { token: 'delimiter', foreground: '000000' },\n        { token: 'delimiter.html', foreground: '383838' },\n        { token: 'delimiter.xml', foreground: '0000FF' },\n        { token: 'tag', foreground: '800000' },\n        { token: 'tag.id.pug', foreground: '4F76AC' },\n        { token: 'tag.class.pug', foreground: '4F76AC' },\n        { token: 'meta.scss', foreground: '800000' },\n        { token: 'metatag', foreground: 'e00000' },\n        { token: 'metatag.content.html', foreground: 'FF0000' },\n        { token: 'metatag.html', foreground: '808080' },\n        { token: 'metatag.xml', foreground: '808080' },\n        { token: 'metatag.php', fontStyle: 'bold' },\n        { token: 'key', foreground: '863B00' },\n        { token: 'string.key.json', foreground: 'A31515' },\n        { token: 'string.value.json', foreground: '0451A5' },\n        { token: 'attribute.name', foreground: 'FF0000' },\n        { token: 'attribute.value', foreground: '0451A5' },\n        { token: 'attribute.value.number', foreground: '098658' },\n        { token: 'attribute.value.unit', foreground: '098658' },\n        { token: 'attribute.value.html', foreground: '0000FF' },\n        { token: 'attribute.value.xml', foreground: '0000FF' },\n        { token: 'string', foreground: 'A31515' },\n        { token: 'string.html', foreground: '0000FF' },\n        { token: 'string.sql', foreground: 'FF0000' },\n        { token: 'string.yaml', foreground: '0451A5' },\n        { token: 'keyword', foreground: '0000FF' },\n        { token: 'keyword.json', foreground: '0451A5' },\n        { token: 'keyword.flow', foreground: 'AF00DB' },\n        { token: 'keyword.flow.scss', foreground: '0000FF' },\n        { token: 'operator.scss', foreground: '666666' },\n        { token: 'operator.sql', foreground: '778899' },\n        { token: 'operator.swift', foreground: '666666' },\n        { token: 'predefined.sql', foreground: 'C700C7' },\n    ],\n    colors: {\n        [editorBackground]: '#FFFFFE',\n        [editorForeground]: '#000000',\n        [editorInactiveSelection]: '#E5EBF1',\n        [editorIndentGuides]: '#D3D3D3',\n        [editorActiveIndentGuides]: '#939393',\n        [editorSelectionHighlight]: '#ADD6FF4D'\n    }\n};\n/* -------------------------------- End vs theme -------------------------------- */\n/* -------------------------------- Begin vs-dark theme -------------------------------- */\nexport const vs_dark = {\n    base: 'vs-dark',\n    inherit: false,\n    rules: [\n        { token: '', foreground: 'D4D4D4', background: '1E1E1E' },\n        { token: 'invalid', foreground: 'f44747' },\n        { token: 'emphasis', fontStyle: 'italic' },\n        { token: 'strong', fontStyle: 'bold' },\n        { token: 'variable', foreground: '74B0DF' },\n        { token: 'variable.predefined', foreground: '4864AA' },\n        { token: 'variable.parameter', foreground: '9CDCFE' },\n        { token: 'constant', foreground: '569CD6' },\n        { token: 'comment', foreground: '608B4E' },\n        { token: 'number', foreground: 'B5CEA8' },\n        { token: 'number.hex', foreground: '5BB498' },\n        { token: 'regexp', foreground: 'B46695' },\n        { token: 'annotation', foreground: 'cc6666' },\n        { token: 'type', foreground: '3DC9B0' },\n        { token: 'delimiter', foreground: 'DCDCDC' },\n        { token: 'delimiter.html', foreground: '808080' },\n        { token: 'delimiter.xml', foreground: '808080' },\n        { token: 'tag', foreground: '569CD6' },\n        { token: 'tag.id.pug', foreground: '4F76AC' },\n        { token: 'tag.class.pug', foreground: '4F76AC' },\n        { token: 'meta.scss', foreground: 'A79873' },\n        { token: 'meta.tag', foreground: 'CE9178' },\n        { token: 'metatag', foreground: 'DD6A6F' },\n        { token: 'metatag.content.html', foreground: '9CDCFE' },\n        { token: 'metatag.html', foreground: '569CD6' },\n        { token: 'metatag.xml', foreground: '569CD6' },\n        { token: 'metatag.php', fontStyle: 'bold' },\n        { token: 'key', foreground: '9CDCFE' },\n        { token: 'string.key.json', foreground: '9CDCFE' },\n        { token: 'string.value.json', foreground: 'CE9178' },\n        { token: 'attribute.name', foreground: '9CDCFE' },\n        { token: 'attribute.value', foreground: 'CE9178' },\n        { token: 'attribute.value.number.css', foreground: 'B5CEA8' },\n        { token: 'attribute.value.unit.css', foreground: 'B5CEA8' },\n        { token: 'attribute.value.hex.css', foreground: 'D4D4D4' },\n        { token: 'string', foreground: 'CE9178' },\n        { token: 'string.sql', foreground: 'FF0000' },\n        { token: 'keyword', foreground: '569CD6' },\n        { token: 'keyword.flow', foreground: 'C586C0' },\n        { token: 'keyword.json', foreground: 'CE9178' },\n        { token: 'keyword.flow.scss', foreground: '569CD6' },\n        { token: 'operator.scss', foreground: '909090' },\n        { token: 'operator.sql', foreground: '778899' },\n        { token: 'operator.swift', foreground: '909090' },\n        { token: 'predefined.sql', foreground: 'FF00FF' },\n    ],\n    colors: {\n        [editorBackground]: '#1E1E1E',\n        [editorForeground]: '#D4D4D4',\n        [editorInactiveSelection]: '#3A3D41',\n        [editorIndentGuides]: '#404040',\n        [editorActiveIndentGuides]: '#707070',\n        [editorSelectionHighlight]: '#ADD6FF26'\n    }\n};\n/* -------------------------------- End vs-dark theme -------------------------------- */\n/* -------------------------------- Begin hc-black theme -------------------------------- */\nexport const hc_black = {\n    base: 'hc-black',\n    inherit: false,\n    rules: [\n        { token: '', foreground: 'FFFFFF', background: '000000' },\n        { token: 'invalid', foreground: 'f44747' },\n        { token: 'emphasis', fontStyle: 'italic' },\n        { token: 'strong', fontStyle: 'bold' },\n        { token: 'variable', foreground: '1AEBFF' },\n        { token: 'variable.parameter', foreground: '9CDCFE' },\n        { token: 'constant', foreground: '569CD6' },\n        { token: 'comment', foreground: '608B4E' },\n        { token: 'number', foreground: 'FFFFFF' },\n        { token: 'regexp', foreground: 'C0C0C0' },\n        { token: 'annotation', foreground: '569CD6' },\n        { token: 'type', foreground: '3DC9B0' },\n        { token: 'delimiter', foreground: 'FFFF00' },\n        { token: 'delimiter.html', foreground: 'FFFF00' },\n        { token: 'tag', foreground: '569CD6' },\n        { token: 'tag.id.pug', foreground: '4F76AC' },\n        { token: 'tag.class.pug', foreground: '4F76AC' },\n        { token: 'meta', foreground: 'D4D4D4' },\n        { token: 'meta.tag', foreground: 'CE9178' },\n        { token: 'metatag', foreground: '569CD6' },\n        { token: 'metatag.content.html', foreground: '1AEBFF' },\n        { token: 'metatag.html', foreground: '569CD6' },\n        { token: 'metatag.xml', foreground: '569CD6' },\n        { token: 'metatag.php', fontStyle: 'bold' },\n        { token: 'key', foreground: '9CDCFE' },\n        { token: 'string.key', foreground: '9CDCFE' },\n        { token: 'string.value', foreground: 'CE9178' },\n        { token: 'attribute.name', foreground: '569CD6' },\n        { token: 'attribute.value', foreground: '3FF23F' },\n        { token: 'string', foreground: 'CE9178' },\n        { token: 'string.sql', foreground: 'FF0000' },\n        { token: 'keyword', foreground: '569CD6' },\n        { token: 'keyword.flow', foreground: 'C586C0' },\n        { token: 'operator.sql', foreground: '778899' },\n        { token: 'operator.swift', foreground: '909090' },\n        { token: 'predefined.sql', foreground: 'FF00FF' },\n    ],\n    colors: {\n        [editorBackground]: '#000000',\n        [editorForeground]: '#FFFFFF',\n        [editorIndentGuides]: '#FFFFFF',\n        [editorActiveIndentGuides]: '#FFFFFF',\n    }\n};\n/* -------------------------------- End hc-black theme -------------------------------- */\n/* -------------------------------- Begin hc-light theme -------------------------------- */\nexport const hc_light = {\n    base: 'hc-light',\n    inherit: false,\n    rules: [\n        { token: '', foreground: '292929', background: 'FFFFFF' },\n        { token: 'invalid', foreground: 'B5200D' },\n        { token: 'emphasis', fontStyle: 'italic' },\n        { token: 'strong', fontStyle: 'bold' },\n        { token: 'variable', foreground: '264F70' },\n        { token: 'variable.predefined', foreground: '4864AA' },\n        { token: 'constant', foreground: 'dd0000' },\n        { token: 'comment', foreground: '008000' },\n        { token: 'number', foreground: '098658' },\n        { token: 'number.hex', foreground: '3030c0' },\n        { token: 'regexp', foreground: '800000' },\n        { token: 'annotation', foreground: '808080' },\n        { token: 'type', foreground: '008080' },\n        { token: 'delimiter', foreground: '000000' },\n        { token: 'delimiter.html', foreground: '383838' },\n        { token: 'tag', foreground: '800000' },\n        { token: 'tag.id.pug', foreground: '4F76AC' },\n        { token: 'tag.class.pug', foreground: '4F76AC' },\n        { token: 'meta.scss', foreground: '800000' },\n        { token: 'metatag', foreground: 'e00000' },\n        { token: 'metatag.content.html', foreground: 'B5200D' },\n        { token: 'metatag.html', foreground: '808080' },\n        { token: 'metatag.xml', foreground: '808080' },\n        { token: 'metatag.php', fontStyle: 'bold' },\n        { token: 'key', foreground: '863B00' },\n        { token: 'string.key.json', foreground: 'A31515' },\n        { token: 'string.value.json', foreground: '0451A5' },\n        { token: 'attribute.name', foreground: '264F78' },\n        { token: 'attribute.value', foreground: '0451A5' },\n        { token: 'string', foreground: 'A31515' },\n        { token: 'string.sql', foreground: 'B5200D' },\n        { token: 'keyword', foreground: '0000FF' },\n        { token: 'keyword.flow', foreground: 'AF00DB' },\n        { token: 'operator.sql', foreground: '778899' },\n        { token: 'operator.swift', foreground: '666666' },\n        { token: 'predefined.sql', foreground: 'C700C7' },\n    ],\n    colors: {\n        [editorBackground]: '#FFFFFF',\n        [editorForeground]: '#292929',\n        [editorIndentGuides]: '#292929',\n        [editorActiveIndentGuides]: '#292929',\n    }\n};\n/* -------------------------------- End hc-light theme -------------------------------- */\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { addMatchMediaChangeListener } from '../../../base/browser/browser.js';\nimport { Color } from '../../../base/common/color.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { TokenizationRegistry } from '../../common/languages.js';\nimport { TokenMetadata } from '../../common/encodedTokenAttributes.js';\nimport { TokenTheme, generateTokensCSSForColorMap } from '../../common/languages/supports/tokenization.js';\nimport { hc_black, hc_light, vs, vs_dark } from '../common/themes.js';\nimport { Registry } from '../../../platform/registry/common/platform.js';\nimport { asCssVariableName, Extensions } from '../../../platform/theme/common/colorRegistry.js';\nimport { Extensions as ThemingExtensions } from '../../../platform/theme/common/themeService.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { ColorScheme, isDark, isHighContrast } from '../../../platform/theme/common/theme.js';\nimport { getIconsStyleSheet, UnthemedProductIconTheme } from '../../../platform/theme/browser/iconsStyleSheet.js';\nexport const VS_LIGHT_THEME_NAME = 'vs';\nexport const VS_DARK_THEME_NAME = 'vs-dark';\nexport const HC_BLACK_THEME_NAME = 'hc-black';\nexport const HC_LIGHT_THEME_NAME = 'hc-light';\nconst colorRegistry = Registry.as(Extensions.ColorContribution);\nconst themingRegistry = Registry.as(ThemingExtensions.ThemingContribution);\nclass StandaloneTheme {\n    constructor(name, standaloneThemeData) {\n        this.semanticHighlighting = false;\n        this.themeData = standaloneThemeData;\n        const base = standaloneThemeData.base;\n        if (name.length > 0) {\n            if (isBuiltinTheme(name)) {\n                this.id = name;\n            }\n            else {\n                this.id = base + ' ' + name;\n            }\n            this.themeName = name;\n        }\n        else {\n            this.id = base;\n            this.themeName = base;\n        }\n        this.colors = null;\n        this.defaultColors = Object.create(null);\n        this._tokenTheme = null;\n    }\n    get base() {\n        return this.themeData.base;\n    }\n    notifyBaseUpdated() {\n        if (this.themeData.inherit) {\n            this.colors = null;\n            this._tokenTheme = null;\n        }\n    }\n    getColors() {\n        if (!this.colors) {\n            const colors = new Map();\n            for (const id in this.themeData.colors) {\n                colors.set(id, Color.fromHex(this.themeData.colors[id]));\n            }\n            if (this.themeData.inherit) {\n                const baseData = getBuiltinRules(this.themeData.base);\n                for (const id in baseData.colors) {\n                    if (!colors.has(id)) {\n                        colors.set(id, Color.fromHex(baseData.colors[id]));\n                    }\n                }\n            }\n            this.colors = colors;\n        }\n        return this.colors;\n    }\n    getColor(colorId, useDefault) {\n        const color = this.getColors().get(colorId);\n        if (color) {\n            return color;\n        }\n        if (useDefault !== false) {\n            return this.getDefault(colorId);\n        }\n        return undefined;\n    }\n    getDefault(colorId) {\n        let color = this.defaultColors[colorId];\n        if (color) {\n            return color;\n        }\n        color = colorRegistry.resolveDefaultColor(colorId, this);\n        this.defaultColors[colorId] = color;\n        return color;\n    }\n    defines(colorId) {\n        return this.getColors().has(colorId);\n    }\n    get type() {\n        switch (this.base) {\n            case VS_LIGHT_THEME_NAME: return ColorScheme.LIGHT;\n            case HC_BLACK_THEME_NAME: return ColorScheme.HIGH_CONTRAST_DARK;\n            case HC_LIGHT_THEME_NAME: return ColorScheme.HIGH_CONTRAST_LIGHT;\n            default: return ColorScheme.DARK;\n        }\n    }\n    get tokenTheme() {\n        if (!this._tokenTheme) {\n            let rules = [];\n            let encodedTokensColors = [];\n            if (this.themeData.inherit) {\n                const baseData = getBuiltinRules(this.themeData.base);\n                rules = baseData.rules;\n                if (baseData.encodedTokensColors) {\n                    encodedTokensColors = baseData.encodedTokensColors;\n                }\n            }\n            // Pick up default colors from `editor.foreground` and `editor.background` if available\n            const editorForeground = this.themeData.colors['editor.foreground'];\n            const editorBackground = this.themeData.colors['editor.background'];\n            if (editorForeground || editorBackground) {\n                const rule = { token: '' };\n                if (editorForeground) {\n                    rule.foreground = editorForeground;\n                }\n                if (editorBackground) {\n                    rule.background = editorBackground;\n                }\n                rules.push(rule);\n            }\n            rules = rules.concat(this.themeData.rules);\n            if (this.themeData.encodedTokensColors) {\n                encodedTokensColors = this.themeData.encodedTokensColors;\n            }\n            this._tokenTheme = TokenTheme.createFromRawTokenTheme(rules, encodedTokensColors);\n        }\n        return this._tokenTheme;\n    }\n    getTokenStyleMetadata(type, modifiers, modelLanguage) {\n        // use theme rules match\n        const style = this.tokenTheme._match([type].concat(modifiers).join('.'));\n        const metadata = style.metadata;\n        const foreground = TokenMetadata.getForeground(metadata);\n        const fontStyle = TokenMetadata.getFontStyle(metadata);\n        return {\n            foreground: foreground,\n            italic: Boolean(fontStyle & 1 /* FontStyle.Italic */),\n            bold: Boolean(fontStyle & 2 /* FontStyle.Bold */),\n            underline: Boolean(fontStyle & 4 /* FontStyle.Underline */),\n            strikethrough: Boolean(fontStyle & 8 /* FontStyle.Strikethrough */)\n        };\n    }\n}\nfunction isBuiltinTheme(themeName) {\n    return (themeName === VS_LIGHT_THEME_NAME\n        || themeName === VS_DARK_THEME_NAME\n        || themeName === HC_BLACK_THEME_NAME\n        || themeName === HC_LIGHT_THEME_NAME);\n}\nfunction getBuiltinRules(builtinTheme) {\n    switch (builtinTheme) {\n        case VS_LIGHT_THEME_NAME:\n            return vs;\n        case VS_DARK_THEME_NAME:\n            return vs_dark;\n        case HC_BLACK_THEME_NAME:\n            return hc_black;\n        case HC_LIGHT_THEME_NAME:\n            return hc_light;\n    }\n}\nfunction newBuiltInTheme(builtinTheme) {\n    const themeData = getBuiltinRules(builtinTheme);\n    return new StandaloneTheme(builtinTheme, themeData);\n}\nexport class StandaloneThemeService extends Disposable {\n    constructor() {\n        super();\n        this._onColorThemeChange = this._register(new Emitter());\n        this.onDidColorThemeChange = this._onColorThemeChange.event;\n        this._onProductIconThemeChange = this._register(new Emitter());\n        this.onDidProductIconThemeChange = this._onProductIconThemeChange.event;\n        this._environment = Object.create(null);\n        this._builtInProductIconTheme = new UnthemedProductIconTheme();\n        this._autoDetectHighContrast = true;\n        this._knownThemes = new Map();\n        this._knownThemes.set(VS_LIGHT_THEME_NAME, newBuiltInTheme(VS_LIGHT_THEME_NAME));\n        this._knownThemes.set(VS_DARK_THEME_NAME, newBuiltInTheme(VS_DARK_THEME_NAME));\n        this._knownThemes.set(HC_BLACK_THEME_NAME, newBuiltInTheme(HC_BLACK_THEME_NAME));\n        this._knownThemes.set(HC_LIGHT_THEME_NAME, newBuiltInTheme(HC_LIGHT_THEME_NAME));\n        const iconsStyleSheet = getIconsStyleSheet(this);\n        this._codiconCSS = iconsStyleSheet.getCSS();\n        this._themeCSS = '';\n        this._allCSS = `${this._codiconCSS}\\n${this._themeCSS}`;\n        this._globalStyleElement = null;\n        this._styleElements = [];\n        this._colorMapOverride = null;\n        this.setTheme(VS_LIGHT_THEME_NAME);\n        this._onOSSchemeChanged();\n        iconsStyleSheet.onDidChange(() => {\n            this._codiconCSS = iconsStyleSheet.getCSS();\n            this._updateCSS();\n        });\n        addMatchMediaChangeListener('(forced-colors: active)', () => {\n            this._onOSSchemeChanged();\n        });\n    }\n    registerEditorContainer(domNode) {\n        if (dom.isInShadowDOM(domNode)) {\n            return this._registerShadowDomContainer(domNode);\n        }\n        return this._registerRegularEditorContainer();\n    }\n    _registerRegularEditorContainer() {\n        if (!this._globalStyleElement) {\n            this._globalStyleElement = dom.createStyleSheet();\n            this._globalStyleElement.className = 'monaco-colors';\n            this._globalStyleElement.textContent = this._allCSS;\n            this._styleElements.push(this._globalStyleElement);\n        }\n        return Disposable.None;\n    }\n    _registerShadowDomContainer(domNode) {\n        const styleElement = dom.createStyleSheet(domNode);\n        styleElement.className = 'monaco-colors';\n        styleElement.textContent = this._allCSS;\n        this._styleElements.push(styleElement);\n        return {\n            dispose: () => {\n                for (let i = 0; i < this._styleElements.length; i++) {\n                    if (this._styleElements[i] === styleElement) {\n                        this._styleElements.splice(i, 1);\n                        return;\n                    }\n                }\n            }\n        };\n    }\n    defineTheme(themeName, themeData) {\n        if (!/^[a-z0-9\\-]+$/i.test(themeName)) {\n            throw new Error('Illegal theme name!');\n        }\n        if (!isBuiltinTheme(themeData.base) && !isBuiltinTheme(themeName)) {\n            throw new Error('Illegal theme base!');\n        }\n        // set or replace theme\n        this._knownThemes.set(themeName, new StandaloneTheme(themeName, themeData));\n        if (isBuiltinTheme(themeName)) {\n            this._knownThemes.forEach(theme => {\n                if (theme.base === themeName) {\n                    theme.notifyBaseUpdated();\n                }\n            });\n        }\n        if (this._theme.themeName === themeName) {\n            this.setTheme(themeName); // refresh theme\n        }\n    }\n    getColorTheme() {\n        return this._theme;\n    }\n    setColorMapOverride(colorMapOverride) {\n        this._colorMapOverride = colorMapOverride;\n        this._updateThemeOrColorMap();\n    }\n    setTheme(themeName) {\n        let theme;\n        if (this._knownThemes.has(themeName)) {\n            theme = this._knownThemes.get(themeName);\n        }\n        else {\n            theme = this._knownThemes.get(VS_LIGHT_THEME_NAME);\n        }\n        this._updateActualTheme(theme);\n    }\n    _updateActualTheme(desiredTheme) {\n        if (!desiredTheme || this._theme === desiredTheme) {\n            // Nothing to do\n            return;\n        }\n        this._theme = desiredTheme;\n        this._updateThemeOrColorMap();\n    }\n    _onOSSchemeChanged() {\n        if (this._autoDetectHighContrast) {\n            const wantsHighContrast = window.matchMedia(`(forced-colors: active)`).matches;\n            if (wantsHighContrast !== isHighContrast(this._theme.type)) {\n                // switch to high contrast or non-high contrast but stick to dark or light\n                let newThemeName;\n                if (isDark(this._theme.type)) {\n                    newThemeName = wantsHighContrast ? HC_BLACK_THEME_NAME : VS_DARK_THEME_NAME;\n                }\n                else {\n                    newThemeName = wantsHighContrast ? HC_LIGHT_THEME_NAME : VS_LIGHT_THEME_NAME;\n                }\n                this._updateActualTheme(this._knownThemes.get(newThemeName));\n            }\n        }\n    }\n    setAutoDetectHighContrast(autoDetectHighContrast) {\n        this._autoDetectHighContrast = autoDetectHighContrast;\n        this._onOSSchemeChanged();\n    }\n    _updateThemeOrColorMap() {\n        const cssRules = [];\n        const hasRule = {};\n        const ruleCollector = {\n            addRule: (rule) => {\n                if (!hasRule[rule]) {\n                    cssRules.push(rule);\n                    hasRule[rule] = true;\n                }\n            }\n        };\n        themingRegistry.getThemingParticipants().forEach(p => p(this._theme, ruleCollector, this._environment));\n        const colorVariables = [];\n        for (const item of colorRegistry.getColors()) {\n            const color = this._theme.getColor(item.id, true);\n            if (color) {\n                colorVariables.push(`${asCssVariableName(item.id)}: ${color.toString()};`);\n            }\n        }\n        ruleCollector.addRule(`.monaco-editor { ${colorVariables.join('\\n')} }`);\n        const colorMap = this._colorMapOverride || this._theme.tokenTheme.getColorMap();\n        ruleCollector.addRule(generateTokensCSSForColorMap(colorMap));\n        this._themeCSS = cssRules.join('\\n');\n        this._updateCSS();\n        TokenizationRegistry.setColorMap(colorMap);\n        this._onColorThemeChange.fire(this._theme);\n    }\n    _updateCSS() {\n        this._allCSS = `${this._codiconCSS}\\n${this._themeCSS}`;\n        this._styleElements.forEach(styleElement => styleElement.textContent = this._allCSS);\n    }\n    getFileIconTheme() {\n        return {\n            hasFileIcons: false,\n            hasFolderIcons: false,\n            hidesExplorerArrows: false\n        };\n    }\n    getProductIconTheme() {\n        return this._builtInProductIconTheme;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport { IStandaloneThemeService } from '../../common/standaloneTheme.js';\nimport { ToggleHighContrastNLS } from '../../../common/standaloneStrings.js';\nimport { isDark, isHighContrast } from '../../../../platform/theme/common/theme.js';\nimport { HC_BLACK_THEME_NAME, HC_LIGHT_THEME_NAME, VS_DARK_THEME_NAME, VS_LIGHT_THEME_NAME } from '../standaloneThemeService.js';\nclass ToggleHighContrast extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.toggleHighContrast',\n            label: ToggleHighContrastNLS.toggleHighContrast,\n            alias: 'Toggle High Contrast Theme',\n            precondition: undefined\n        });\n        this._originalThemeName = null;\n    }\n    run(accessor, editor) {\n        const standaloneThemeService = accessor.get(IStandaloneThemeService);\n        const currentTheme = standaloneThemeService.getColorTheme();\n        if (isHighContrast(currentTheme.type)) {\n            // We must toggle back to the integrator's theme\n            standaloneThemeService.setTheme(this._originalThemeName || (isDark(currentTheme.type) ? VS_DARK_THEME_NAME : VS_LIGHT_THEME_NAME));\n            this._originalThemeName = null;\n        }\n        else {\n            standaloneThemeService.setTheme(isDark(currentTheme.type) ? HC_BLACK_THEME_NAME : HC_LIGHT_THEME_NAME);\n            this._originalThemeName = currentTheme.themeName;\n        }\n    }\n}\nregisterEditorAction(ToggleHighContrast);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function isFuzzyActionArr(what) {\n    return (Array.isArray(what));\n}\nexport function isFuzzyAction(what) {\n    return !isFuzzyActionArr(what);\n}\nexport function isString(what) {\n    return (typeof what === 'string');\n}\nexport function isIAction(what) {\n    return !isString(what);\n}\n// Small helper functions\n/**\n * Is a string null, undefined, or empty?\n */\nexport function empty(s) {\n    return (s ? false : true);\n}\n/**\n * Puts a string to lower case if 'ignoreCase' is set.\n */\nexport function fixCase(lexer, str) {\n    return (lexer.ignoreCase && str ? str.toLowerCase() : str);\n}\n/**\n * Ensures there are no bad characters in a CSS token class.\n */\nexport function sanitize(s) {\n    return s.replace(/[&<>'\"_]/g, '-'); // used on all output token CSS classes\n}\n// Logging\n/**\n * Logs a message.\n */\nexport function log(lexer, msg) {\n    console.log(`${lexer.languageId}: ${msg}`);\n}\n// Throwing errors\nexport function createError(lexer, msg) {\n    return new Error(`${lexer.languageId}: ${msg}`);\n}\n// Helper functions for rule finding and substitution\n/**\n * substituteMatches is used on lexer strings and can substitutes predefined patterns:\n * \t\t$$  => $\n * \t\t$#  => id\n * \t\t$n  => matched entry n\n * \t\t@attr => contents of lexer[attr]\n *\n * See documentation for more info\n */\nexport function substituteMatches(lexer, str, id, matches, state) {\n    const re = /\\$((\\$)|(#)|(\\d\\d?)|[sS](\\d\\d?)|@(\\w+))/g;\n    let stateMatches = null;\n    return str.replace(re, function (full, sub, dollar, hash, n, s, attr, ofs, total) {\n        if (!empty(dollar)) {\n            return '$'; // $$\n        }\n        if (!empty(hash)) {\n            return fixCase(lexer, id); // default $#\n        }\n        if (!empty(n) && n < matches.length) {\n            return fixCase(lexer, matches[n]); // $n\n        }\n        if (!empty(attr) && lexer && typeof (lexer[attr]) === 'string') {\n            return lexer[attr]; //@attribute\n        }\n        if (stateMatches === null) { // split state on demand\n            stateMatches = state.split('.');\n            stateMatches.unshift(state);\n        }\n        if (!empty(s) && s < stateMatches.length) {\n            return fixCase(lexer, stateMatches[s]); //$Sn\n        }\n        return '';\n    });\n}\n/**\n * Find the tokenizer rules for a specific state (i.e. next action)\n */\nexport function findRules(lexer, inState) {\n    let state = inState;\n    while (state && state.length > 0) {\n        const rules = lexer.tokenizer[state];\n        if (rules) {\n            return rules;\n        }\n        const idx = state.lastIndexOf('.');\n        if (idx < 0) {\n            state = null; // no further parent\n        }\n        else {\n            state = state.substr(0, idx);\n        }\n    }\n    return null;\n}\n/**\n * Is a certain state defined? In contrast to 'findRules' this works on a ILexerMin.\n * This is used during compilation where we may know the defined states\n * but not yet whether the corresponding rules are correct.\n */\nexport function stateExists(lexer, inState) {\n    let state = inState;\n    while (state && state.length > 0) {\n        const exist = lexer.stateNames[state];\n        if (exist) {\n            return true;\n        }\n        const idx = state.lastIndexOf('.');\n        if (idx < 0) {\n            state = null; // no further parent\n        }\n        else {\n            state = state.substr(0, idx);\n        }\n    }\n    return false;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as languages from '../../../common/languages.js';\nimport { NullState, nullTokenizeEncoded, nullTokenize } from '../../../common/languages/nullTokenize.js';\nimport * as monarchCommon from './monarchCommon.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nconst CACHE_STACK_DEPTH = 5;\n/**\n * Reuse the same stack elements up to a certain depth.\n */\nclass MonarchStackElementFactory {\n    static create(parent, state) {\n        return this._INSTANCE.create(parent, state);\n    }\n    constructor(maxCacheDepth) {\n        this._maxCacheDepth = maxCacheDepth;\n        this._entries = Object.create(null);\n    }\n    create(parent, state) {\n        if (parent !== null && parent.depth >= this._maxCacheDepth) {\n            // no caching above a certain depth\n            return new MonarchStackElement(parent, state);\n        }\n        let stackElementId = MonarchStackElement.getStackElementId(parent);\n        if (stackElementId.length > 0) {\n            stackElementId += '|';\n        }\n        stackElementId += state;\n        let result = this._entries[stackElementId];\n        if (result) {\n            return result;\n        }\n        result = new MonarchStackElement(parent, state);\n        this._entries[stackElementId] = result;\n        return result;\n    }\n}\nMonarchStackElementFactory._INSTANCE = new MonarchStackElementFactory(CACHE_STACK_DEPTH);\nclass MonarchStackElement {\n    constructor(parent, state) {\n        this.parent = parent;\n        this.state = state;\n        this.depth = (this.parent ? this.parent.depth : 0) + 1;\n    }\n    static getStackElementId(element) {\n        let result = '';\n        while (element !== null) {\n            if (result.length > 0) {\n                result += '|';\n            }\n            result += element.state;\n            element = element.parent;\n        }\n        return result;\n    }\n    static _equals(a, b) {\n        while (a !== null && b !== null) {\n            if (a === b) {\n                return true;\n            }\n            if (a.state !== b.state) {\n                return false;\n            }\n            a = a.parent;\n            b = b.parent;\n        }\n        if (a === null && b === null) {\n            return true;\n        }\n        return false;\n    }\n    equals(other) {\n        return MonarchStackElement._equals(this, other);\n    }\n    push(state) {\n        return MonarchStackElementFactory.create(this, state);\n    }\n    pop() {\n        return this.parent;\n    }\n    popall() {\n        let result = this;\n        while (result.parent) {\n            result = result.parent;\n        }\n        return result;\n    }\n    switchTo(state) {\n        return MonarchStackElementFactory.create(this.parent, state);\n    }\n}\nclass EmbeddedLanguageData {\n    constructor(languageId, state) {\n        this.languageId = languageId;\n        this.state = state;\n    }\n    equals(other) {\n        return (this.languageId === other.languageId\n            && this.state.equals(other.state));\n    }\n    clone() {\n        const stateClone = this.state.clone();\n        // save an object\n        if (stateClone === this.state) {\n            return this;\n        }\n        return new EmbeddedLanguageData(this.languageId, this.state);\n    }\n}\n/**\n * Reuse the same line states up to a certain depth.\n */\nclass MonarchLineStateFactory {\n    static create(stack, embeddedLanguageData) {\n        return this._INSTANCE.create(stack, embeddedLanguageData);\n    }\n    constructor(maxCacheDepth) {\n        this._maxCacheDepth = maxCacheDepth;\n        this._entries = Object.create(null);\n    }\n    create(stack, embeddedLanguageData) {\n        if (embeddedLanguageData !== null) {\n            // no caching when embedding\n            return new MonarchLineState(stack, embeddedLanguageData);\n        }\n        if (stack !== null && stack.depth >= this._maxCacheDepth) {\n            // no caching above a certain depth\n            return new MonarchLineState(stack, embeddedLanguageData);\n        }\n        const stackElementId = MonarchStackElement.getStackElementId(stack);\n        let result = this._entries[stackElementId];\n        if (result) {\n            return result;\n        }\n        result = new MonarchLineState(stack, null);\n        this._entries[stackElementId] = result;\n        return result;\n    }\n}\nMonarchLineStateFactory._INSTANCE = new MonarchLineStateFactory(CACHE_STACK_DEPTH);\nclass MonarchLineState {\n    constructor(stack, embeddedLanguageData) {\n        this.stack = stack;\n        this.embeddedLanguageData = embeddedLanguageData;\n    }\n    clone() {\n        const embeddedlanguageDataClone = this.embeddedLanguageData ? this.embeddedLanguageData.clone() : null;\n        // save an object\n        if (embeddedlanguageDataClone === this.embeddedLanguageData) {\n            return this;\n        }\n        return MonarchLineStateFactory.create(this.stack, this.embeddedLanguageData);\n    }\n    equals(other) {\n        if (!(other instanceof MonarchLineState)) {\n            return false;\n        }\n        if (!this.stack.equals(other.stack)) {\n            return false;\n        }\n        if (this.embeddedLanguageData === null && other.embeddedLanguageData === null) {\n            return true;\n        }\n        if (this.embeddedLanguageData === null || other.embeddedLanguageData === null) {\n            return false;\n        }\n        return this.embeddedLanguageData.equals(other.embeddedLanguageData);\n    }\n}\nclass MonarchClassicTokensCollector {\n    constructor() {\n        this._tokens = [];\n        this._languageId = null;\n        this._lastTokenType = null;\n        this._lastTokenLanguage = null;\n    }\n    enterLanguage(languageId) {\n        this._languageId = languageId;\n    }\n    emit(startOffset, type) {\n        if (this._lastTokenType === type && this._lastTokenLanguage === this._languageId) {\n            return;\n        }\n        this._lastTokenType = type;\n        this._lastTokenLanguage = this._languageId;\n        this._tokens.push(new languages.Token(startOffset, type, this._languageId));\n    }\n    nestedLanguageTokenize(embeddedLanguageLine, hasEOL, embeddedLanguageData, offsetDelta) {\n        const nestedLanguageId = embeddedLanguageData.languageId;\n        const embeddedModeState = embeddedLanguageData.state;\n        const nestedLanguageTokenizationSupport = languages.TokenizationRegistry.get(nestedLanguageId);\n        if (!nestedLanguageTokenizationSupport) {\n            this.enterLanguage(nestedLanguageId);\n            this.emit(offsetDelta, '');\n            return embeddedModeState;\n        }\n        const nestedResult = nestedLanguageTokenizationSupport.tokenize(embeddedLanguageLine, hasEOL, embeddedModeState);\n        if (offsetDelta !== 0) {\n            for (const token of nestedResult.tokens) {\n                this._tokens.push(new languages.Token(token.offset + offsetDelta, token.type, token.language));\n            }\n        }\n        else {\n            this._tokens = this._tokens.concat(nestedResult.tokens);\n        }\n        this._lastTokenType = null;\n        this._lastTokenLanguage = null;\n        this._languageId = null;\n        return nestedResult.endState;\n    }\n    finalize(endState) {\n        return new languages.TokenizationResult(this._tokens, endState);\n    }\n}\nclass MonarchModernTokensCollector {\n    constructor(languageService, theme) {\n        this._languageService = languageService;\n        this._theme = theme;\n        this._prependTokens = null;\n        this._tokens = [];\n        this._currentLanguageId = 0 /* LanguageId.Null */;\n        this._lastTokenMetadata = 0;\n    }\n    enterLanguage(languageId) {\n        this._currentLanguageId = this._languageService.languageIdCodec.encodeLanguageId(languageId);\n    }\n    emit(startOffset, type) {\n        const metadata = this._theme.match(this._currentLanguageId, type) | 1024 /* MetadataConsts.BALANCED_BRACKETS_MASK */;\n        if (this._lastTokenMetadata === metadata) {\n            return;\n        }\n        this._lastTokenMetadata = metadata;\n        this._tokens.push(startOffset);\n        this._tokens.push(metadata);\n    }\n    static _merge(a, b, c) {\n        const aLen = (a !== null ? a.length : 0);\n        const bLen = b.length;\n        const cLen = (c !== null ? c.length : 0);\n        if (aLen === 0 && bLen === 0 && cLen === 0) {\n            return new Uint32Array(0);\n        }\n        if (aLen === 0 && bLen === 0) {\n            return c;\n        }\n        if (bLen === 0 && cLen === 0) {\n            return a;\n        }\n        const result = new Uint32Array(aLen + bLen + cLen);\n        if (a !== null) {\n            result.set(a);\n        }\n        for (let i = 0; i < bLen; i++) {\n            result[aLen + i] = b[i];\n        }\n        if (c !== null) {\n            result.set(c, aLen + bLen);\n        }\n        return result;\n    }\n    nestedLanguageTokenize(embeddedLanguageLine, hasEOL, embeddedLanguageData, offsetDelta) {\n        const nestedLanguageId = embeddedLanguageData.languageId;\n        const embeddedModeState = embeddedLanguageData.state;\n        const nestedLanguageTokenizationSupport = languages.TokenizationRegistry.get(nestedLanguageId);\n        if (!nestedLanguageTokenizationSupport) {\n            this.enterLanguage(nestedLanguageId);\n            this.emit(offsetDelta, '');\n            return embeddedModeState;\n        }\n        const nestedResult = nestedLanguageTokenizationSupport.tokenizeEncoded(embeddedLanguageLine, hasEOL, embeddedModeState);\n        if (offsetDelta !== 0) {\n            for (let i = 0, len = nestedResult.tokens.length; i < len; i += 2) {\n                nestedResult.tokens[i] += offsetDelta;\n            }\n        }\n        this._prependTokens = MonarchModernTokensCollector._merge(this._prependTokens, this._tokens, nestedResult.tokens);\n        this._tokens = [];\n        this._currentLanguageId = 0;\n        this._lastTokenMetadata = 0;\n        return nestedResult.endState;\n    }\n    finalize(endState) {\n        return new languages.EncodedTokenizationResult(MonarchModernTokensCollector._merge(this._prependTokens, this._tokens, null), endState);\n    }\n}\nlet MonarchTokenizer = class MonarchTokenizer {\n    constructor(languageService, standaloneThemeService, languageId, lexer, _configurationService) {\n        this._configurationService = _configurationService;\n        this._languageService = languageService;\n        this._standaloneThemeService = standaloneThemeService;\n        this._languageId = languageId;\n        this._lexer = lexer;\n        this._embeddedLanguages = Object.create(null);\n        this.embeddedLoaded = Promise.resolve(undefined);\n        // Set up listening for embedded modes\n        let emitting = false;\n        this._tokenizationRegistryListener = languages.TokenizationRegistry.onDidChange((e) => {\n            if (emitting) {\n                return;\n            }\n            let isOneOfMyEmbeddedModes = false;\n            for (let i = 0, len = e.changedLanguages.length; i < len; i++) {\n                const language = e.changedLanguages[i];\n                if (this._embeddedLanguages[language]) {\n                    isOneOfMyEmbeddedModes = true;\n                    break;\n                }\n            }\n            if (isOneOfMyEmbeddedModes) {\n                emitting = true;\n                languages.TokenizationRegistry.fire([this._languageId]);\n                emitting = false;\n            }\n        });\n        this._maxTokenizationLineLength = this._configurationService.getValue('editor.maxTokenizationLineLength', {\n            overrideIdentifier: this._languageId\n        });\n        this._configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration('editor.maxTokenizationLineLength')) {\n                this._maxTokenizationLineLength = this._configurationService.getValue('editor.maxTokenizationLineLength', {\n                    overrideIdentifier: this._languageId\n                });\n            }\n        });\n    }\n    dispose() {\n        this._tokenizationRegistryListener.dispose();\n    }\n    getLoadStatus() {\n        const promises = [];\n        for (const nestedLanguageId in this._embeddedLanguages) {\n            const tokenizationSupport = languages.TokenizationRegistry.get(nestedLanguageId);\n            if (tokenizationSupport) {\n                // The nested language is already loaded\n                if (tokenizationSupport instanceof MonarchTokenizer) {\n                    const nestedModeStatus = tokenizationSupport.getLoadStatus();\n                    if (nestedModeStatus.loaded === false) {\n                        promises.push(nestedModeStatus.promise);\n                    }\n                }\n                continue;\n            }\n            if (!languages.TokenizationRegistry.isResolved(nestedLanguageId)) {\n                // The nested language is in the process of being loaded\n                promises.push(languages.TokenizationRegistry.getOrCreate(nestedLanguageId));\n            }\n        }\n        if (promises.length === 0) {\n            return {\n                loaded: true\n            };\n        }\n        return {\n            loaded: false,\n            promise: Promise.all(promises).then(_ => undefined)\n        };\n    }\n    getInitialState() {\n        const rootState = MonarchStackElementFactory.create(null, this._lexer.start);\n        return MonarchLineStateFactory.create(rootState, null);\n    }\n    tokenize(line, hasEOL, lineState) {\n        if (line.length >= this._maxTokenizationLineLength) {\n            return nullTokenize(this._languageId, lineState);\n        }\n        const tokensCollector = new MonarchClassicTokensCollector();\n        const endLineState = this._tokenize(line, hasEOL, lineState, tokensCollector);\n        return tokensCollector.finalize(endLineState);\n    }\n    tokenizeEncoded(line, hasEOL, lineState) {\n        if (line.length >= this._maxTokenizationLineLength) {\n            return nullTokenizeEncoded(this._languageService.languageIdCodec.encodeLanguageId(this._languageId), lineState);\n        }\n        const tokensCollector = new MonarchModernTokensCollector(this._languageService, this._standaloneThemeService.getColorTheme().tokenTheme);\n        const endLineState = this._tokenize(line, hasEOL, lineState, tokensCollector);\n        return tokensCollector.finalize(endLineState);\n    }\n    _tokenize(line, hasEOL, lineState, collector) {\n        if (lineState.embeddedLanguageData) {\n            return this._nestedTokenize(line, hasEOL, lineState, 0, collector);\n        }\n        else {\n            return this._myTokenize(line, hasEOL, lineState, 0, collector);\n        }\n    }\n    _findLeavingNestedLanguageOffset(line, state) {\n        let rules = this._lexer.tokenizer[state.stack.state];\n        if (!rules) {\n            rules = monarchCommon.findRules(this._lexer, state.stack.state); // do parent matching\n            if (!rules) {\n                throw monarchCommon.createError(this._lexer, 'tokenizer state is not defined: ' + state.stack.state);\n            }\n        }\n        let popOffset = -1;\n        let hasEmbeddedPopRule = false;\n        for (const rule of rules) {\n            if (!monarchCommon.isIAction(rule.action) || rule.action.nextEmbedded !== '@pop') {\n                continue;\n            }\n            hasEmbeddedPopRule = true;\n            let regex = rule.regex;\n            const regexSource = rule.regex.source;\n            if (regexSource.substr(0, 4) === '^(?:' && regexSource.substr(regexSource.length - 1, 1) === ')') {\n                const flags = (regex.ignoreCase ? 'i' : '') + (regex.unicode ? 'u' : '');\n                regex = new RegExp(regexSource.substr(4, regexSource.length - 5), flags);\n            }\n            const result = line.search(regex);\n            if (result === -1 || (result !== 0 && rule.matchOnlyAtLineStart)) {\n                continue;\n            }\n            if (popOffset === -1 || result < popOffset) {\n                popOffset = result;\n            }\n        }\n        if (!hasEmbeddedPopRule) {\n            throw monarchCommon.createError(this._lexer, 'no rule containing nextEmbedded: \"@pop\" in tokenizer embedded state: ' + state.stack.state);\n        }\n        return popOffset;\n    }\n    _nestedTokenize(line, hasEOL, lineState, offsetDelta, tokensCollector) {\n        const popOffset = this._findLeavingNestedLanguageOffset(line, lineState);\n        if (popOffset === -1) {\n            // tokenization will not leave nested language\n            const nestedEndState = tokensCollector.nestedLanguageTokenize(line, hasEOL, lineState.embeddedLanguageData, offsetDelta);\n            return MonarchLineStateFactory.create(lineState.stack, new EmbeddedLanguageData(lineState.embeddedLanguageData.languageId, nestedEndState));\n        }\n        const nestedLanguageLine = line.substring(0, popOffset);\n        if (nestedLanguageLine.length > 0) {\n            // tokenize with the nested language\n            tokensCollector.nestedLanguageTokenize(nestedLanguageLine, false, lineState.embeddedLanguageData, offsetDelta);\n        }\n        const restOfTheLine = line.substring(popOffset);\n        return this._myTokenize(restOfTheLine, hasEOL, lineState, offsetDelta + popOffset, tokensCollector);\n    }\n    _safeRuleName(rule) {\n        if (rule) {\n            return rule.name;\n        }\n        return '(unknown)';\n    }\n    _myTokenize(lineWithoutLF, hasEOL, lineState, offsetDelta, tokensCollector) {\n        tokensCollector.enterLanguage(this._languageId);\n        const lineWithoutLFLength = lineWithoutLF.length;\n        const line = (hasEOL && this._lexer.includeLF ? lineWithoutLF + '\\n' : lineWithoutLF);\n        const lineLength = line.length;\n        let embeddedLanguageData = lineState.embeddedLanguageData;\n        let stack = lineState.stack;\n        let pos = 0;\n        let groupMatching = null;\n        // See https://github.com/microsoft/monaco-editor/issues/1235\n        // Evaluate rules at least once for an empty line\n        let forceEvaluation = true;\n        while (forceEvaluation || pos < lineLength) {\n            const pos0 = pos;\n            const stackLen0 = stack.depth;\n            const groupLen0 = groupMatching ? groupMatching.groups.length : 0;\n            const state = stack.state;\n            let matches = null;\n            let matched = null;\n            let action = null;\n            let rule = null;\n            let enteringEmbeddedLanguage = null;\n            // check if we need to process group matches first\n            if (groupMatching) {\n                matches = groupMatching.matches;\n                const groupEntry = groupMatching.groups.shift();\n                matched = groupEntry.matched;\n                action = groupEntry.action;\n                rule = groupMatching.rule;\n                // cleanup if necessary\n                if (groupMatching.groups.length === 0) {\n                    groupMatching = null;\n                }\n            }\n            else {\n                // otherwise we match on the token stream\n                if (!forceEvaluation && pos >= lineLength) {\n                    // nothing to do\n                    break;\n                }\n                forceEvaluation = false;\n                // get the rules for this state\n                let rules = this._lexer.tokenizer[state];\n                if (!rules) {\n                    rules = monarchCommon.findRules(this._lexer, state); // do parent matching\n                    if (!rules) {\n                        throw monarchCommon.createError(this._lexer, 'tokenizer state is not defined: ' + state);\n                    }\n                }\n                // try each rule until we match\n                const restOfLine = line.substr(pos);\n                for (const rule of rules) {\n                    if (pos === 0 || !rule.matchOnlyAtLineStart) {\n                        matches = restOfLine.match(rule.regex);\n                        if (matches) {\n                            matched = matches[0];\n                            action = rule.action;\n                            break;\n                        }\n                    }\n                }\n            }\n            // We matched 'rule' with 'matches' and 'action'\n            if (!matches) {\n                matches = [''];\n                matched = '';\n            }\n            if (!action) {\n                // bad: we didn't match anything, and there is no action to take\n                // we need to advance the stream or we get progress trouble\n                if (pos < lineLength) {\n                    matches = [line.charAt(pos)];\n                    matched = matches[0];\n                }\n                action = this._lexer.defaultToken;\n            }\n            if (matched === null) {\n                // should never happen, needed for strict null checking\n                break;\n            }\n            // advance stream\n            pos += matched.length;\n            // maybe call action function (used for 'cases')\n            while (monarchCommon.isFuzzyAction(action) && monarchCommon.isIAction(action) && action.test) {\n                action = action.test(matched, matches, state, pos === lineLength);\n            }\n            let result = null;\n            // set the result: either a string or an array of actions\n            if (typeof action === 'string' || Array.isArray(action)) {\n                result = action;\n            }\n            else if (action.group) {\n                result = action.group;\n            }\n            else if (action.token !== null && action.token !== undefined) {\n                // do $n replacements?\n                if (action.tokenSubst) {\n                    result = monarchCommon.substituteMatches(this._lexer, action.token, matched, matches, state);\n                }\n                else {\n                    result = action.token;\n                }\n                // enter embedded language?\n                if (action.nextEmbedded) {\n                    if (action.nextEmbedded === '@pop') {\n                        if (!embeddedLanguageData) {\n                            throw monarchCommon.createError(this._lexer, 'cannot pop embedded language if not inside one');\n                        }\n                        embeddedLanguageData = null;\n                    }\n                    else if (embeddedLanguageData) {\n                        throw monarchCommon.createError(this._lexer, 'cannot enter embedded language from within an embedded language');\n                    }\n                    else {\n                        enteringEmbeddedLanguage = monarchCommon.substituteMatches(this._lexer, action.nextEmbedded, matched, matches, state);\n                    }\n                }\n                // state transformations\n                if (action.goBack) { // back up the stream..\n                    pos = Math.max(0, pos - action.goBack);\n                }\n                if (action.switchTo && typeof action.switchTo === 'string') {\n                    let nextState = monarchCommon.substituteMatches(this._lexer, action.switchTo, matched, matches, state); // switch state without a push...\n                    if (nextState[0] === '@') {\n                        nextState = nextState.substr(1); // peel off starting '@'\n                    }\n                    if (!monarchCommon.findRules(this._lexer, nextState)) {\n                        throw monarchCommon.createError(this._lexer, 'trying to switch to a state \\'' + nextState + '\\' that is undefined in rule: ' + this._safeRuleName(rule));\n                    }\n                    else {\n                        stack = stack.switchTo(nextState);\n                    }\n                }\n                else if (action.transform && typeof action.transform === 'function') {\n                    throw monarchCommon.createError(this._lexer, 'action.transform not supported');\n                }\n                else if (action.next) {\n                    if (action.next === '@push') {\n                        if (stack.depth >= this._lexer.maxStack) {\n                            throw monarchCommon.createError(this._lexer, 'maximum tokenizer stack size reached: [' +\n                                stack.state + ',' + stack.parent.state + ',...]');\n                        }\n                        else {\n                            stack = stack.push(state);\n                        }\n                    }\n                    else if (action.next === '@pop') {\n                        if (stack.depth <= 1) {\n                            throw monarchCommon.createError(this._lexer, 'trying to pop an empty stack in rule: ' + this._safeRuleName(rule));\n                        }\n                        else {\n                            stack = stack.pop();\n                        }\n                    }\n                    else if (action.next === '@popall') {\n                        stack = stack.popall();\n                    }\n                    else {\n                        let nextState = monarchCommon.substituteMatches(this._lexer, action.next, matched, matches, state);\n                        if (nextState[0] === '@') {\n                            nextState = nextState.substr(1); // peel off starting '@'\n                        }\n                        if (!monarchCommon.findRules(this._lexer, nextState)) {\n                            throw monarchCommon.createError(this._lexer, 'trying to set a next state \\'' + nextState + '\\' that is undefined in rule: ' + this._safeRuleName(rule));\n                        }\n                        else {\n                            stack = stack.push(nextState);\n                        }\n                    }\n                }\n                if (action.log && typeof (action.log) === 'string') {\n                    monarchCommon.log(this._lexer, this._lexer.languageId + ': ' + monarchCommon.substituteMatches(this._lexer, action.log, matched, matches, state));\n                }\n            }\n            // check result\n            if (result === null) {\n                throw monarchCommon.createError(this._lexer, 'lexer rule has no well-defined action in rule: ' + this._safeRuleName(rule));\n            }\n            const computeNewStateForEmbeddedLanguage = (enteringEmbeddedLanguage) => {\n                // support language names, mime types, and language ids\n                const languageId = (this._languageService.getLanguageIdByLanguageName(enteringEmbeddedLanguage)\n                    || this._languageService.getLanguageIdByMimeType(enteringEmbeddedLanguage)\n                    || enteringEmbeddedLanguage);\n                const embeddedLanguageData = this._getNestedEmbeddedLanguageData(languageId);\n                if (pos < lineLength) {\n                    // there is content from the embedded language on this line\n                    const restOfLine = lineWithoutLF.substr(pos);\n                    return this._nestedTokenize(restOfLine, hasEOL, MonarchLineStateFactory.create(stack, embeddedLanguageData), offsetDelta + pos, tokensCollector);\n                }\n                else {\n                    return MonarchLineStateFactory.create(stack, embeddedLanguageData);\n                }\n            };\n            // is the result a group match?\n            if (Array.isArray(result)) {\n                if (groupMatching && groupMatching.groups.length > 0) {\n                    throw monarchCommon.createError(this._lexer, 'groups cannot be nested: ' + this._safeRuleName(rule));\n                }\n                if (matches.length !== result.length + 1) {\n                    throw monarchCommon.createError(this._lexer, 'matched number of groups does not match the number of actions in rule: ' + this._safeRuleName(rule));\n                }\n                let totalLen = 0;\n                for (let i = 1; i < matches.length; i++) {\n                    totalLen += matches[i].length;\n                }\n                if (totalLen !== matched.length) {\n                    throw monarchCommon.createError(this._lexer, 'with groups, all characters should be matched in consecutive groups in rule: ' + this._safeRuleName(rule));\n                }\n                groupMatching = {\n                    rule: rule,\n                    matches: matches,\n                    groups: []\n                };\n                for (let i = 0; i < result.length; i++) {\n                    groupMatching.groups[i] = {\n                        action: result[i],\n                        matched: matches[i + 1]\n                    };\n                }\n                pos -= matched.length;\n                // call recursively to initiate first result match\n                continue;\n            }\n            else {\n                // regular result\n                // check for '@rematch'\n                if (result === '@rematch') {\n                    pos -= matched.length;\n                    matched = ''; // better set the next state too..\n                    matches = null;\n                    result = '';\n                    // Even though `@rematch` was specified, if `nextEmbedded` also specified,\n                    // a state transition should occur.\n                    if (enteringEmbeddedLanguage !== null) {\n                        return computeNewStateForEmbeddedLanguage(enteringEmbeddedLanguage);\n                    }\n                }\n                // check progress\n                if (matched.length === 0) {\n                    if (lineLength === 0 || stackLen0 !== stack.depth || state !== stack.state || (!groupMatching ? 0 : groupMatching.groups.length) !== groupLen0) {\n                        continue;\n                    }\n                    else {\n                        throw monarchCommon.createError(this._lexer, 'no progress in tokenizer in rule: ' + this._safeRuleName(rule));\n                    }\n                }\n                // return the result (and check for brace matching)\n                // todo: for efficiency we could pre-sanitize tokenPostfix and substitutions\n                let tokenType = null;\n                if (monarchCommon.isString(result) && result.indexOf('@brackets') === 0) {\n                    const rest = result.substr('@brackets'.length);\n                    const bracket = findBracket(this._lexer, matched);\n                    if (!bracket) {\n                        throw monarchCommon.createError(this._lexer, '@brackets token returned but no bracket defined as: ' + matched);\n                    }\n                    tokenType = monarchCommon.sanitize(bracket.token + rest);\n                }\n                else {\n                    const token = (result === '' ? '' : result + this._lexer.tokenPostfix);\n                    tokenType = monarchCommon.sanitize(token);\n                }\n                if (pos0 < lineWithoutLFLength) {\n                    tokensCollector.emit(pos0 + offsetDelta, tokenType);\n                }\n            }\n            if (enteringEmbeddedLanguage !== null) {\n                return computeNewStateForEmbeddedLanguage(enteringEmbeddedLanguage);\n            }\n        }\n        return MonarchLineStateFactory.create(stack, embeddedLanguageData);\n    }\n    _getNestedEmbeddedLanguageData(languageId) {\n        if (!this._languageService.isRegisteredLanguageId(languageId)) {\n            return new EmbeddedLanguageData(languageId, NullState);\n        }\n        if (languageId !== this._languageId) {\n            // Fire language loading event\n            languages.TokenizationRegistry.getOrCreate(languageId);\n            this._embeddedLanguages[languageId] = true;\n        }\n        const tokenizationSupport = languages.TokenizationRegistry.get(languageId);\n        if (tokenizationSupport) {\n            return new EmbeddedLanguageData(languageId, tokenizationSupport.getInitialState());\n        }\n        return new EmbeddedLanguageData(languageId, NullState);\n    }\n};\nMonarchTokenizer = __decorate([\n    __param(4, IConfigurationService)\n], MonarchTokenizer);\nexport { MonarchTokenizer };\n/**\n * Searches for a bracket in the 'brackets' attribute that matches the input.\n */\nfunction findBracket(lexer, matched) {\n    if (!matched) {\n        return null;\n    }\n    matched = monarchCommon.fixCase(lexer, matched);\n    const brackets = lexer.brackets;\n    for (const bracket of brackets) {\n        if (bracket.open === matched) {\n            return { token: bracket.token, bracketType: 1 /* monarchCommon.MonarchBracket.Open */ };\n        }\n        else if (bracket.close === matched) {\n            return { token: bracket.token, bracketType: -1 /* monarchCommon.MonarchBracket.Close */ };\n        }\n    }\n    return null;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const IStandaloneThemeService = createDecorator('themeService');\n"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","CONTEXT_ACCESSIBILITY_WIDGET_VISIBLE","RawContextKey","AccessibilityHelpController","_Disposable","_inherits","_super","_createSuper","editor","instantiationService","_this","_classCallCheck","call","_editor","_widget","_register","createInstance","AccessibilityHelpWidget","_createClass","value","this","show","hide","getContribution","ID","Disposable","IInstantiationService","_Widget","_super2","_contextKeyService","_keybindingService","_openerService","_this2","_isVisibleKey","bindTo","_domNode","createFastDomNode","document","createElement","setClassName","setDisplay","setAttribute","_contentDomNode","appendChild","_isVisible","onDidLayoutChange","_layout","dom","addStandardDisposableListener","domNode","e","equals","alert","AccessibilityHelpNLS","emergencyConfOn","updateOptions","accessibilitySupport","clearNode","_buildContent","focus","preventDefault","stopPropagation","openingDocs","url","getRawOptions","accessibilityHelpUrl","open","URI","parse","onblur","addOverlayWidget","_assertThisInitialized","removeOverlayWidget","_get","_getPrototypeOf","prototype","preference","set","tabIndex","commandId","msg","noKbMsg","kb","lookupKeybinding","strings","getAriaLabel","options","getOptions","selections","getSelections","charactersSelected","model","getModel","forEach","selection","getValueLengthInRange","text","singleSelectionRange","positionLineNumber","positionColumn","singleSelection","multiSelectionRange","multiSelection","noSelection","getSelectionLabel","get","readonlyDiffEditor","editableDiffEditor","readonlyEditor","editableEditor","turnOnMessage","platform","changeConfigToOnMac","changeConfigToOnWinLinux","auto_on","auto_off","_descriptionForCommand","ToggleTabFocusModeAction","tabFocusModeOnMsg","tabFocusModeOnMsgNoKb","tabFocusModeOffMsg","tabFocusModeOffMsgNoKb","openDocMac","openDocWinLinux","outroMsg","renderFormattedText","reset","editorLayout","getLayoutInfo","w","Math","max","min","WIDTH","width","h","HEIGHT","height","setWidth","setHeight","top","round","setTop","left","setLeft","Widget","IContextKeyService","IKeybindingService","IOpenerService","ShowAccessibilityHelpAction","_EditorAction","_super3","id","label","showAccessibilityHelpAction","alias","precondition","undefined","kbOpts","primary","weight","linux","secondary","accessor","controller","EditorAction","registerEditorContribution","registerEditorAction","AccessibilityHelpCommand","EditorCommand","bindToContribution","registerEditorCommand","handler","x","kbExpr","EditorContextKeys","IPadShowKeyboard","widget","isIOS","onDidChangeConfiguration","update","shouldHaveWidget","getOption","ShowKeyboardWidget","dispose","_Disposable2","className","addDisposableListener","InspectTokensController","standaloneColorService","languageService","_languageService","onDidChangeModel","stop","onDidChangeModelLanguage","TokenizationRegistry","onDidChange","onKeyUp","keyCode","hasModel","InspectTokensWidget","IStandaloneThemeService","ILanguageService","InspectTokens","InspectTokensNLS","inspectTokensAction","launch","allowEditorOverflow","_model","_tokenizationSupport","languageIdCodec","languageId","tokenizationSupport","encodedLanguageId","encodeLanguageId","getInitialState","NullState","tokenize","line","hasEOL","state","nullTokenize","tokenizeEncoded","nullTokenizeEncoded","getSafeTokenizationSupport","getLanguageId","_compute","getPosition","onDidChangeCursorPosition","addContentWidget","removeContentWidget","_ID","position","data","_getTokensAtLine","lineNumber","token1Index","tokens1","t","column","offset","token2Index","tokens2","lineContent","getLineContent","tokenText","tokenStartIndex","tokenEndIndex","substring","$","result","charIndex","len","charCode","charCodeAt","String","fromCharCode","renderTokenText","concat","append","metadata","_decodeMetadata","_tokenTypeToString","tokenType","_fontStyleToString","fontStyle","Color","Format","CSS","formatHex","foreground","background","type","layoutContentWidget","colorMap","getColorMap","TokenMetadata","getTokenType","getFontStyle","getForeground","getBackground","decodeLanguageId","stateBeforeLine","_getStateBeforeLine","tokenizationResult1","tokenizationResult2","startState","tokens","endState","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","apply","StandaloneCommandsQuickAccessProvider","_AbstractEditorComman","codeEditorService","keybindingService","commandService","telemetryService","dialogService","showAlias","withNullAsUndefined","getFocusedCodeEditor","_regeneratorRuntime","mark","_callee","wrap","_context","prev","abrupt","getCodeEditorCommandPicks","AbstractEditorCommandsQuickAccessProvider","ICodeEditorService","ICommandService","ITelemetryService","IDialogService","GotoLineAction","QuickCommandNLS","quickCommandActionLabel","contextMenuOpts","group","order","IQuickInputService","quickAccess","PREFIX","Registry","as","Extensions","Quickaccess","registerQuickAccessProvider","ctor","prefix","helpEntries","description","quickCommandHelp","StandaloneGotoLineQuickAccessProvider","_AbstractGotoLineQuic","editorService","onDidActiveTextEditorControlChange","Event","None","AbstractGotoLineQuickAccessProvider","GoToLineNLS","gotoLineActionLabel","mac","StandaloneGotoSymbolQuickAccessProvider","_AbstractGotoSymbolQu","languageFeaturesService","outlineModelService","AbstractGotoSymbolQuickAccessProvider","ILanguageFeaturesService","IOutlineModelService","GotoSymbolAction","QuickOutlineNLS","quickOutlineActionLabel","hasDocumentSymbolProvider","itemActivation","ItemActivation","NONE","quickOutlineByCategoryActionLabel","PREFIX_BY_CATEGORY","HelpQuickAccessProvider","QuickHelpNLS","helpQuickAccessActionLabel","StandaloneReferencesController","_ReferencesController","contextKeyService","notificationService","storageService","configurationService","ReferencesController","INotificationService","IStorageService","IConfigurationService","StandaloneCodeEditorService","_AbstractCodeEditorSe","themeService","onCodeEditorAdd","_checkContextKey","onCodeEditorRemove","_editorIsOpen","createKey","_activeCodeEditor","registerCodeEditorOpenHandler","input","source","sideBySide","doOpenEditor","_step","hasCodeEditor","_iterator","_createForOfIteratorHelper","listCodeEditors","s","n","isSimpleWidget","err","f","activeCodeEditor","findModel","resource","schema","scheme","Schemas","http","https","windowOpenNoOpener","toString","endLineNumber","endColumn","setSelection","revealRangeInCenter","pos","startLineNumber","startColumn","setPosition","revealPositionInCenter","uri","AbstractCodeEditorService","IThemeService","registerSingleton","_a","ttPolicy","window","trustedTypes","createPolicy","createHTML","Colorizer","theme","mimeType","getAttribute","console","error","getLanguageIdByMimeType","setTheme","firstChild","nodeValue","colorize","str","trustedhtml","innerHTML","tabSize","lines","substr","isRegisteredLanguageId","_fakeColorize","getOrCreate","sent","_colorize","mightContainNonBasicASCII","mightContainRTL","isBasicASCII","ViewLineRenderingData","containsRTL","renderViewLine","RenderLineInput","html","content","tokenization","forceTokenization","inflatedTokens","getLineTokens","inflate","colorizeLine","execute","tokenizeResult","LineTokens","convertToEndOffset","lineTokens","renderResult","push","join","_actualColorize","MonarchTokenizer","status","getLoadStatus","loaded","promise","Uint32Array","LAST_GENERATED_COMMAND_ID","ariaDomNodeCreated","StandaloneCodeEditor","_CodeEditorWidget","domElement","_options","accessibilityService","languageConfigurationService","assign","ariaLabel","StandaloneCodeEditorNLS","editorViewAccessibleLabel","accessibilityHelpMessage","StandaloneKeybindingService","_standaloneKeybindingService","parent","aria","body","createAriaDomNode","ariaContainerElement","keybinding","context","warn","whenExpression","ContextKeyExpr","deserialize","addDynamicKeybinding","defaultValue","_descriptor","run","Error","and","getId","keybindings","keybindingsWhen","keybindingContext","contextMenuGroupId","contextMenuOrder","_len","args","Array","_key","toDispose","DisposableStore","uniqueId","add","CommandsRegistry","registerCommand","menuItem","command","title","when","MenuRegistry","appendMenuItem","MenuId","EditorContext","isArray","internalAction","InternalEditorAction","_actions","toDisposable","delete","handlerId","payload","_codeEditorService","setActiveCodeEditor","CodeEditorWidget","StandaloneEditor","_StandaloneCodeEditor","modelService","_this3","updateConfigurationService","themeDomRegistration","registerEditorContainer","autoDetectHighContrast","setAutoDetectHighContrast","Boolean","_configurationService","_standaloneThemeService","language","PLAINTEXT_LANGUAGE_ID","createTextModel","_ownsModel","_attachModel","oldModelUrl","newModelUrl","_onDidChangeModel","fire","newOptions","detachedModel","IAccessibilityService","ILanguageConfigurationService","IModelService","StandaloneDiffEditor","_DiffEditorWidget","contextMenuService","editorProgressService","clipboardService","_this4","container","getModifiedEditor","addCommand","createContextKey","descriptor","addAction","DiffEditorWidget","firstLF","indexOf","firstLine","doCreateModel","createByFilepathOrFirstLine","createById","languageSelection","createModel","IContextMenuService","IEditorProgressService","IClipboardService","create","override","StandaloneServices","initialize","onDidCreateEditor","listener","onDidCreateDiffEditor","onDiffEditorAdd","getEditors","getDiffEditors","listDiffEditors","createDiffEditor","createDiffNavigator","diffEditor","opts","DiffNavigator","addEditorAction","runEditorCommand","_toConsumableArray","addDynamicKeybindings","map","addKeybindingRule","rule","addKeybindingRules","rules","commandArgs","setModelLanguage","mimeTypeOrLanguageId","setMode","setModelMarkers","owner","markers","IMarkerService","changeOne","removeAllMarkers","changeAll","getModelMarkers","filter","read","onDidChangeMarkers","onMarkerChanged","getModels","onDidCreateModel","onModelAdded","onWillDisposeModel","onModelRemoved","onModelLanguageChanged","oldLanguage","oldLanguageId","createWebWorker","actualCreateWebWorker","colorizeElement","colorizeModelLine","languages","splitLines","tokenizationResult","defineTheme","themeName","themeData","remeasureFonts","FontMeasurements","clearAllFontInfos","createMonacoEditorAPI","AccessibilitySupport","standaloneEnums","ContentWidgetPositionPreference","CursorChangeReason","DefaultEndOfLine","EditorAutoIndentStrategy","EditorOption","EndOfLinePreference","EndOfLineSequence","MinimapPosition","MouseTargetType","OverlayWidgetPositionPreference","OverviewRulerLane","RenderLineNumbersType","RenderMinimap","ScrollbarVisibility","ScrollType","TextEditorCursorBlinkingStyle","TextEditorCursorStyle","TrackedRangeStickiness","WrappingIndent","InjectedTextCursorStops","PositionAffinity","ConfigurationChangedEvent","BareFontInfo","FontInfo","TextModelResolvedOptions","FindMatch","ApplyUpdateResult","LineRange","LineRangeMapping","RangeMapping","EditorType","EditorOptions","bool","prop","defValue","string","createKeywordMatcher","arr","caseInsensitive","toLowerCase","hash","array","_step2","_iterator2","arrayToHash","word","hasOwnProperty","compileRegExp","lexer","replace","hadExpansion","attr","sub","RegExp","monarchCommon","flags","ignoreCase","unicode","createGuard","ruleName","tkey","val","scrut","oppat","matches","match","parseInt","tester","op","pat","test","words","elemType","obj","isArrayOf","elem","inWords","re","patx","eos","patexp","split","name","scrutinee","num","parts","unshift","selectScrutinee","compileAction","action","token","newAction","tokenSubst","bracket","goBack","switchTo","log","nextEmbedded","usesEmbedded","results","cases","def","defaultToken","_i","_cases","_case","Rule","regex","matchOnlyAtLineStart","sregex","act","compile","json","includeLF","noThrow","maxStack","start","tokenPostfix","lexerMin","addRules","newrules","_step3","_iterator3","include","tokenizer","newrule","setRegex","setAction","rule1","matchOnlyAtStart","stateNames","brackets","close","_step4","_iterator4","register","ModesRegistry","registerLanguage","getLanguages","getEncodedLanguageId","onLanguage","callback","disposable","onDidEncounterLanguage","encounteredLanguageId","setLanguageConfiguration","configuration","EncodedTokenizationSupportAdapter","actual","_languageId","_actual","TokenizationSupportAdapter","adaptTokenize","tokenTheme","getColorTheme","resultLen","previousStartIndex","scopes","startIndex","actualResult","_toBinaryTokens","_toClassicTokens","isThenable","setColorMap","standaloneThemeService","fromHex","setColorMapOverride","createTokenizationSupportAdapter","provider","isEncodedTokensProvider","registerTokensProviderFactory","factory","adaptedFactory","createTokenizationSupport","registerFactory","setTokensProvider","setMonarchTokensProvider","languageDef","registerReferenceProvider","languageSelector","referenceProvider","registerRenameProvider","renameProvider","registerSignatureHelpProvider","signatureHelpProvider","registerHoverProvider","hoverProvider","provideHover","getWordAtPosition","range","Range","registerDocumentSymbolProvider","documentSymbolProvider","registerDocumentHighlightProvider","documentHighlightProvider","registerLinkedEditingRangeProvider","linkedEditingRangeProvider","registerDefinitionProvider","definitionProvider","registerImplementationProvider","implementationProvider","registerTypeDefinitionProvider","typeDefinitionProvider","registerCodeLensProvider","codeLensProvider","registerCodeActionProvider","codeActionProvider","providedCodeActionKinds","documentation","provideCodeActions","m","areIntersectingOrTouching","only","trigger","resolveCodeAction","registerDocumentFormattingEditProvider","documentFormattingEditProvider","registerDocumentRangeFormattingEditProvider","documentRangeFormattingEditProvider","registerOnTypeFormattingEditProvider","onTypeFormattingEditProvider","registerLinkProvider","linkProvider","registerCompletionItemProvider","completionProvider","registerColorProvider","colorProvider","registerFoldingRangeProvider","foldingRangeProvider","registerDeclarationProvider","declarationProvider","registerSelectionRangeProvider","selectionRangeProvider","registerDocumentSemanticTokensProvider","documentSemanticTokensProvider","registerDocumentRangeSemanticTokensProvider","documentRangeSemanticTokensProvider","registerInlineCompletionsProvider","inlineCompletionsProvider","registerInlayHintsProvider","inlayHintsProvider","createMonacoLanguagesAPI","DocumentHighlightKind","CompletionItemKind","CompletionItemTag","CompletionItemInsertTextRule","SymbolKind","SymbolTag","IndentAction","CompletionTriggerKind","SignatureHelpTriggerKind","InlayHintKind","InlineCompletionTriggerKind","CodeActionTriggerType","FoldingRangeKind","StandaloneLayoutService","onDidLayout","quickPickTop","_dimension","getClientArea","EditorScopedLayoutService","_StandaloneLayoutServ","_container","ILayoutService","EditorScopedQuickInputService","_QuickInputService","getContainerDomNode","host","contribution","QuickInputEditorContribution","_serviceBrand","hasContainer","getDomNode","dimension","QuickInputService","StandaloneQuickInputService","mapEditorToService","Map","quickInputService","newQuickInputService","once","onDidDispose","activeService","picks","CancellationToken","pick","createQuickPick","createInputBox","QuickInputEditorWidget","codeEditor","SimpleModel","disposed","_onWillDispose","Emitter","StandaloneTextModelService","ImmortalReference","StandaloneEditorProgressService","NULL_PROGRESS_RUNNER","delay","total","worked","StandaloneProgressService","task","onDidCancel","report","StandaloneDialogService","confirmation","_callee2","confirmed","_context2","doConfirm","message","detail","checkboxChecked","messageText","confirm","prompt","_b","_callee3","promptButtons","_context3","buttons","cancelButton","_callee4","_context4","Severity","StandaloneNotificationService","notify","severity","Info","Warning","notification","NO_OP","choices","NoOpNotification","StandaloneCommandService","_onWillExecuteCommand","_onDidExecuteCommand","onDidExecuteCommand","event","_instantiationService","getCommand","invokeFunction","_AbstractKeybindingSe","logService","_cachedResolver","_dynamicKeybindings","_domNodeListeners","addContainer","disposables","EventType","KEY_DOWN","keyEvent","StandardKeyboardEvent","_dispatch","KEY_UP","_singleModifierDispatch","DomNodeListeners","removeContainer","domNodeListeners","splice","addCodeEditor","addDiffEditor","onDiffEditorRemove","combinedDisposable","entries","decodeKeybinding","OS","weight1","weight2","extensionId","isBuiltinExtension","updateResolver","_onDidUpdateKeybindings","defaults","_toNormalizedKeybindingItems","KeybindingsRegistry","getDefaultKeybindings","overrides","KeybindingResolver","_log","hasFocus","items","isDefault","item","resolvedKeybindings","USLayoutResolvedKeybinding","resolveKeybinding","resolvedKeybinding","ResolvedKeybindingItem","keyboardEvent","chord","KeyCodeChord","ctrlKey","shiftKey","altKey","metaKey","AbstractKeybindingService","ILogService","isConfigurationOverrides","thing","overrideIdentifier","StandaloneConfigurationService","_onDidChangeConfiguration","defaultConfiguration","DefaultConfiguration","_configuration","Configuration","reload","ConfigurationModel","arg1","arg2","section","getValue","values","previous","toData","changedKeys","entry","_entry","_slicedToArray","updateValue","configurationChangeEvent","ConfigurationChangeEvent","keys","sourceConfig","arg3","arg4","updateValues","inspect","StandaloneResourceConfigurationService","_this5","affectedKeys","affectsConfiguration","Pos","isIPosition","getLanguage","getLanguageIdAtPosition","guessLanguageIdByFilepathOrFirstLine","StandaloneResourcePropertiesService","eol","isLinux","isMacintosh","StandaloneTelemetryService","eventName","publicLog","StandaloneWorkspaceContextService","from","SCHEME","authority","path","workspace","folders","WorkspaceFolder","index","isDiffEditor","toUpdate","isEditorConfigurationKey","isDiffEditorConfigurationKey","StandaloneBulkEditService","_modelService","editsIn","_callee5","edits","textEdits","edit","totalEdits","totalFiles","_iterator5","_step5","_step5$value","_edits","_context5","ResourceEdit","convert","ResourceTextEdit","versionId","getVersionId","EditOperation","replaceMove","lift","textEdit","t0","finish","pushStackElement","pushEditOperations","ariaSummary","StandaloneServicesNLS","bulkEditServiceSummary","isApplied","StandaloneUriLabelService","fsPath","basename","StandaloneContextViewService","_ContextViewService","layoutService","_this6","delegate","shadowRoot","getActiveCodeEditor","ContextViewService","StandaloneWorkspaceTrustManagementService","_neverEmitter","onDidChangeTrust","StandaloneLanguageService","_LanguageService","_super4","LanguageService","StandaloneLogService","_LogService","_super5","ConsoleLogger","LogService","StandaloneContextMenuService","_ContextMenuService","_super6","contextViewService","menuService","_this7","configure","blockMouse","ContextMenuService","IContextViewService","IMenuService","StandaloneAudioService","cue","allowManyInParallel","_callee6","_context6","ITextResourceConfigurationService","ITextResourcePropertiesService","IWorkspaceContextService","ILabelService","MarkerService","StandaloneThemeService","ModelService","IMarkerDecorationsService","MarkerDecorationsService","ContextKeyService","IProgressService","InMemoryStorageService","IEditorWorkerService","EditorWorkerService","IBulkEditService","IWorkspaceTrustManagementService","ITextModelService","AccessibilityService","IListService","ListService","OpenerService","BrowserClipboardService","MenuService","IAudioCueService","_step6","serviceCollection","ServiceCollection","_iterator6","getSingletonServiceDescriptors","_step6$value","InstantiationService","serviceId","SyncDescriptor","initialized","_step7","_iterator7","_step7$value","serviceIdentifier","createDecorator","_step8","editorFeatures","getEditorFeatures","_iterator8","feature","onUnexpectedError","vs","base","inherit","colors","_colors","_defineProperty","editorBackground","editorForeground","editorInactiveSelection","editorIndentGuides","editorActiveIndentGuides","editorSelectionHighlight","vs_dark","_colors2","hc_black","_colors3","hc_light","_colors4","VS_LIGHT_THEME_NAME","VS_DARK_THEME_NAME","HC_BLACK_THEME_NAME","HC_LIGHT_THEME_NAME","colorRegistry","ColorContribution","themingRegistry","ThemingExtensions","ThemingContribution","StandaloneTheme","standaloneThemeData","semanticHighlighting","isBuiltinTheme","defaultColors","_tokenTheme","baseData","getBuiltinRules","has","colorId","useDefault","color","getColors","getDefault","resolveDefaultColor","ColorScheme","LIGHT","HIGH_CONTRAST_DARK","HIGH_CONTRAST_LIGHT","DARK","encodedTokensColors","TokenTheme","createFromRawTokenTheme","modifiers","modelLanguage","_match","italic","bold","underline","strikethrough","builtinTheme","newBuiltInTheme","_onColorThemeChange","onDidColorThemeChange","_onProductIconThemeChange","onDidProductIconThemeChange","_environment","_builtInProductIconTheme","UnthemedProductIconTheme","_autoDetectHighContrast","_knownThemes","iconsStyleSheet","getIconsStyleSheet","_codiconCSS","getCSS","_themeCSS","_allCSS","_globalStyleElement","_styleElements","_colorMapOverride","_onOSSchemeChanged","_updateCSS","addMatchMediaChangeListener","isInShadowDOM","_registerShadowDomContainer","_registerRegularEditorContainer","createStyleSheet","textContent","styleElement","notifyBaseUpdated","_theme","colorMapOverride","_updateThemeOrColorMap","_updateActualTheme","desiredTheme","newThemeName","wantsHighContrast","matchMedia","isHighContrast","isDark","cssRules","hasRule","ruleCollector","addRule","getThemingParticipants","p","colorVariables","getColor","asCssVariableName","generateTokensCSSForColorMap","hasFileIcons","hasFolderIcons","hidesExplorerArrows","ToggleHighContrast","ToggleHighContrastNLS","toggleHighContrast","_originalThemeName","currentTheme","isFuzzyAction","what","isFuzzyActionArr","isString","isIAction","empty","fixCase","sanitize","createError","substituteMatches","stateMatches","full","dollar","ofs","findRules","inState","idx","lastIndexOf","stateExists","MonarchStackElementFactory","maxCacheDepth","_maxCacheDepth","_entries","depth","MonarchStackElement","stackElementId","getStackElementId","_INSTANCE","other","_equals","element","a","b","EmbeddedLanguageData","clone","MonarchLineStateFactory","stack","embeddedLanguageData","MonarchLineState","MonarchClassicTokensCollector","_tokens","_lastTokenType","_lastTokenLanguage","startOffset","embeddedLanguageLine","offsetDelta","nestedLanguageId","embeddedModeState","nestedLanguageTokenizationSupport","enterLanguage","emit","nestedResult","MonarchModernTokensCollector","_prependTokens","_currentLanguageId","_lastTokenMetadata","_merge","aLen","bLen","cLen","_lexer","_embeddedLanguages","embeddedLoaded","emitting","_tokenizationRegistryListener","isOneOfMyEmbeddedModes","changedLanguages","_maxTokenizationLineLength","promises","nestedModeStatus","isResolved","all","_","rootState","lineState","tokensCollector","endLineState","_tokenize","finalize","collector","_nestedTokenize","_myTokenize","popOffset","hasEmbeddedPopRule","regexSource","search","_findLeavingNestedLanguageOffset","nestedEndState","nestedLanguageTokenize","nestedLanguageLine","restOfTheLine","lineWithoutLF","lineWithoutLFLength","lineLength","groupMatching","forceEvaluation","pos0","stackLen0","groupLen0","groups","matched","enteringEmbeddedLanguage","groupEntry","shift","restOfLine","charAt","nextState","_safeRuleName","transform","pop","popall","computeNewStateForEmbeddedLanguage","getLanguageIdByLanguageName","_getNestedEmbeddedLanguageData","totalLen","rest","findBracket","bracketType"],"sourceRoot":""}