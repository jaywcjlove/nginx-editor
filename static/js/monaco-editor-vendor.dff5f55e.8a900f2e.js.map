{"version":3,"file":"static/js/monaco-editor-vendor.dff5f55e.8a900f2e.js","mappings":"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","sources":["webpack://website/../node_modules/monaco-editor/esm/vs/editor/editor.api.js?bb58","../../node_modules/monaco-editor/esm/vs/editor/editor.api.js","../../node_modules/monaco-editor/esm/vs/editor/editor.main.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/tokenization/browser/tokenization.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/unicodeHighlighter/browser/bannerController.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/browser/highlightDecorations.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/browser/wordHighlighter.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/wordOperations/browser/wordOperations.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/wordPartOperations/browser/wordPartOperations.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/browser/zoneWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorOptions } from './common/config/editorOptions.js';\nimport { createMonacoBaseAPI } from './common/services/editorBaseApi.js';\nimport { createMonacoEditorAPI } from './standalone/browser/standaloneEditor.js';\nimport { createMonacoLanguagesAPI } from './standalone/browser/standaloneLanguages.js';\nimport { FormattingConflicts } from './contrib/format/browser/format.js';\n// Set defaults for standalone editor\nEditorOptions.wrappingIndent.defaultValue = 0 /* WrappingIndent.None */;\nEditorOptions.glyphMargin.defaultValue = false;\nEditorOptions.autoIndent.defaultValue = 3 /* EditorAutoIndentStrategy.Advanced */;\nEditorOptions.overviewRulerLanes.defaultValue = 2;\n// We need to register a formatter selector which simply picks the first available formatter.\n// See https://github.com/microsoft/monaco-editor/issues/2327\nFormattingConflicts.setFormatterSelector((formatter, document, mode) => Promise.resolve(formatter[0]));\nconst api = createMonacoBaseAPI();\napi.editor = createMonacoEditorAPI();\napi.languages = createMonacoLanguagesAPI();\nexport const CancellationTokenSource = api.CancellationTokenSource;\nexport const Emitter = api.Emitter;\nexport const KeyCode = api.KeyCode;\nexport const KeyMod = api.KeyMod;\nexport const Position = api.Position;\nexport const Range = api.Range;\nexport const Selection = api.Selection;\nexport const SelectionDirection = api.SelectionDirection;\nexport const MarkerSeverity = api.MarkerSeverity;\nexport const MarkerTag = api.MarkerTag;\nexport const Uri = api.Uri;\nexport const Token = api.Token;\nexport const editor = api.editor;\nexport const languages = api.languages;\nconst monacoEnvironment = globalThis.MonacoEnvironment;\nif ((monacoEnvironment === null || monacoEnvironment === void 0 ? void 0 : monacoEnvironment.globalAPI) || (typeof define === 'function' && define.amd)) {\n    globalThis.monaco = api;\n}\nif (typeof globalThis.require !== 'undefined' && typeof globalThis.require.config === 'function') {\n    globalThis.require.config({\n        ignoreDuplicateModules: [\n            'vscode-languageserver-types',\n            'vscode-languageserver-types/main',\n            'vscode-languageserver-textdocument',\n            'vscode-languageserver-textdocument/main',\n            'vscode-nls',\n            'vscode-nls/vscode-nls',\n            'jsonc-parser',\n            'jsonc-parser/main',\n            'vscode-uri',\n            'vscode-uri/index',\n            'vs/basic-languages/typescript/typescript'\n        ]\n    });\n}\n","self[\"MonacoEnvironment\"] = (function (paths) {\n      function stripTrailingSlash(str) {\n        return str.replace(/\\/$/, '');\n      }\n      return {\n        globalAPI: false,\n        getWorkerUrl: function (moduleId, label) {\n          var pathPrefix = typeof __webpack_public_path__ === 'string' ? __webpack_public_path__ : \"./\";\n          var result = (pathPrefix ? stripTrailingSlash(pathPrefix) + '/' : '') + paths[label];\n          if (/^((http:)|(https:)|(file:)|(\\/\\/))/.test(result)) {\n            var currentUrl = String(window.location);\n            var currentOrigin = currentUrl.substr(0, currentUrl.length - window.location.hash.length - window.location.search.length - window.location.pathname.length);\n            if (result.substring(0, currentOrigin.length) !== currentOrigin) {\n              if(/^(\\/\\/)/.test(result)) {\n                result = window.location.protocol + result\n              }\n              var js = '/*' + label + '*/importScripts(\"' + result + '\");';\n              var blob = new Blob([js], { type: 'application/javascript' });\n              return URL.createObjectURL(blob);\n            }\n          }\n          return result;\n        }\n      };\n    })({\n  \"editorWorkerService\": \"editor.worker.js\",\n  \"json\": \"json.worker.js\"\n});\nimport \"./contrib/anchorSelect/browser/anchorSelect.js\";\nimport \"./contrib/bracketMatching/browser/bracketMatching.js\";\nimport \"./browser/coreCommands.js\";\nimport \"./contrib/caretOperations/browser/caretOperations.js\";\nimport \"./contrib/caretOperations/browser/transpose.js\";\nimport \"./contrib/clipboard/browser/clipboard.js\";\nimport \"./contrib/codeAction/browser/codeActionContributions.js\";\nimport \"./browser/widget/codeEditor/codeEditorWidget.js\";\nimport \"./contrib/codelens/browser/codelensController.js\";\nimport \"./contrib/colorPicker/browser/colorContributions.js\";\nimport \"./contrib/colorPicker/browser/standaloneColorPickerActions.js\";\nimport \"./contrib/comment/browser/comment.js\";\nimport \"./contrib/contextmenu/browser/contextmenu.js\";\nimport \"./contrib/cursorUndo/browser/cursorUndo.js\";\nimport \"./browser/widget/diffEditor/diffEditor.contribution.js\";\nimport \"./contrib/diffEditorBreadcrumbs/browser/contribution.js\";\nimport \"./contrib/dnd/browser/dnd.js\";\nimport \"./contrib/documentSymbols/browser/documentSymbols.js\";\nimport \"./contrib/dropOrPasteInto/browser/copyPasteContribution.js\";\nimport \"./contrib/dropOrPasteInto/browser/dropIntoEditorContribution.js\";\nimport \"./contrib/find/browser/findController.js\";\nimport \"./contrib/folding/browser/folding.js\";\nimport \"./contrib/fontZoom/browser/fontZoom.js\";\nimport \"./contrib/format/browser/formatActions.js\";\nimport \"./contrib/gotoError/browser/gotoError.js\";\nimport \"./standalone/browser/quickAccess/standaloneGotoLineQuickAccess.js\";\nimport \"./contrib/gotoSymbol/browser/goToCommands.js\";\nimport \"./contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js\";\nimport \"./contrib/hover/browser/hoverContribution.js\";\nimport \"./standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js\";\nimport \"./contrib/inPlaceReplace/browser/inPlaceReplace.js\";\nimport \"./contrib/indentation/browser/indentation.js\";\nimport \"./contrib/inlayHints/browser/inlayHintsContribution.js\";\nimport \"./contrib/inlineCompletions/browser/inlineCompletions.contribution.js\";\nimport \"./contrib/inlineEdit/browser/inlineEdit.contribution.js\";\nimport \"./contrib/inlineProgress/browser/inlineProgress.js\";\nimport \"./standalone/browser/inspectTokens/inspectTokens.js\";\nimport \"./contrib/lineSelection/browser/lineSelection.js\";\nimport \"./contrib/linesOperations/browser/linesOperations.js\";\nimport \"./contrib/linkedEditing/browser/linkedEditing.js\";\nimport \"./contrib/links/browser/links.js\";\nimport \"./contrib/longLinesHelper/browser/longLinesHelper.js\";\nimport \"./contrib/multicursor/browser/multicursor.js\";\nimport \"./contrib/parameterHints/browser/parameterHints.js\";\nimport \"./standalone/browser/quickAccess/standaloneCommandsQuickAccess.js\";\nimport \"./standalone/browser/quickAccess/standaloneHelpQuickAccess.js\";\nimport \"./standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess.js\";\nimport \"./contrib/readOnlyMessage/browser/contribution.js\";\nimport \"./standalone/browser/referenceSearch/standaloneReferenceSearch.js\";\nimport \"./contrib/rename/browser/rename.js\";\nimport \"./contrib/sectionHeaders/browser/sectionHeaders.js\";\nimport \"./contrib/semanticTokens/browser/documentSemanticTokens.js\";\nimport \"./contrib/semanticTokens/browser/viewportSemanticTokens.js\";\nimport \"./contrib/smartSelect/browser/smartSelect.js\";\nimport \"./contrib/snippet/browser/snippetController2.js\";\nimport \"./contrib/stickyScroll/browser/stickyScrollContribution.js\";\nimport \"./contrib/suggest/browser/suggestController.js\";\nimport \"./contrib/suggest/browser/suggestInlineCompletions.js\";\nimport \"./standalone/browser/toggleHighContrast/toggleHighContrast.js\";\nimport \"./contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js\";\nimport \"./contrib/tokenization/browser/tokenization.js\";\nimport \"./contrib/unicodeHighlighter/browser/unicodeHighlighter.js\";\nimport \"./contrib/unusualLineTerminators/browser/unusualLineTerminators.js\";\nimport \"./contrib/wordHighlighter/browser/wordHighlighter.js\";\nimport \"./contrib/wordOperations/browser/wordOperations.js\";\nimport \"./contrib/wordPartOperations/browser/wordPartOperations.js\";\n\nimport * as monaco from \"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[1]!./editor.api.js\";\nexport * from \"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[1]!./editor.api.js\";\nexport default monaco;\n\t\t\nimport \"../language/json/monaco.contribution.js\";","self[\"MonacoEnvironment\"] = (function (paths) {\n      function stripTrailingSlash(str) {\n        return str.replace(/\\/$/, '');\n      }\n      return {\n        globalAPI: false,\n        getWorkerUrl: function (moduleId, label) {\n          var pathPrefix = typeof __webpack_public_path__ === 'string' ? __webpack_public_path__ : \"./\";\n          var result = (pathPrefix ? stripTrailingSlash(pathPrefix) + '/' : '') + paths[label];\n          if (/^((http:)|(https:)|(file:)|(\\/\\/))/.test(result)) {\n            var currentUrl = String(window.location);\n            var currentOrigin = currentUrl.substr(0, currentUrl.length - window.location.hash.length - window.location.search.length - window.location.pathname.length);\n            if (result.substring(0, currentOrigin.length) !== currentOrigin) {\n              if(/^(\\/\\/)/.test(result)) {\n                result = window.location.protocol + result\n              }\n              var js = '/*' + label + '*/importScripts(\"' + result + '\");';\n              var blob = new Blob([js], { type: 'application/javascript' });\n              return URL.createObjectURL(blob);\n            }\n          }\n          return result;\n        }\n      };\n    })({\n  \"editorWorkerService\": \"editor.worker.js\",\n  \"json\": \"json.worker.js\"\n});\nimport \"./contrib/anchorSelect/browser/anchorSelect.js\";\nimport \"./contrib/bracketMatching/browser/bracketMatching.js\";\nimport \"./browser/coreCommands.js\";\nimport \"./contrib/caretOperations/browser/caretOperations.js\";\nimport \"./contrib/caretOperations/browser/transpose.js\";\nimport \"./contrib/clipboard/browser/clipboard.js\";\nimport \"./contrib/codeAction/browser/codeActionContributions.js\";\nimport \"./browser/widget/codeEditor/codeEditorWidget.js\";\nimport \"./contrib/codelens/browser/codelensController.js\";\nimport \"./contrib/colorPicker/browser/colorContributions.js\";\nimport \"./contrib/colorPicker/browser/standaloneColorPickerActions.js\";\nimport \"./contrib/comment/browser/comment.js\";\nimport \"./contrib/contextmenu/browser/contextmenu.js\";\nimport \"./contrib/cursorUndo/browser/cursorUndo.js\";\nimport \"./browser/widget/diffEditor/diffEditor.contribution.js\";\nimport \"./contrib/diffEditorBreadcrumbs/browser/contribution.js\";\nimport \"./contrib/dnd/browser/dnd.js\";\nimport \"./contrib/documentSymbols/browser/documentSymbols.js\";\nimport \"./contrib/dropOrPasteInto/browser/copyPasteContribution.js\";\nimport \"./contrib/dropOrPasteInto/browser/dropIntoEditorContribution.js\";\nimport \"./contrib/find/browser/findController.js\";\nimport \"./contrib/folding/browser/folding.js\";\nimport \"./contrib/fontZoom/browser/fontZoom.js\";\nimport \"./contrib/format/browser/formatActions.js\";\nimport \"./contrib/gotoError/browser/gotoError.js\";\nimport \"./standalone/browser/quickAccess/standaloneGotoLineQuickAccess.js\";\nimport \"./contrib/gotoSymbol/browser/goToCommands.js\";\nimport \"./contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js\";\nimport \"./contrib/hover/browser/hoverContribution.js\";\nimport \"./standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js\";\nimport \"./contrib/inPlaceReplace/browser/inPlaceReplace.js\";\nimport \"./contrib/indentation/browser/indentation.js\";\nimport \"./contrib/inlayHints/browser/inlayHintsContribution.js\";\nimport \"./contrib/inlineCompletions/browser/inlineCompletions.contribution.js\";\nimport \"./contrib/inlineEdit/browser/inlineEdit.contribution.js\";\nimport \"./contrib/inlineProgress/browser/inlineProgress.js\";\nimport \"./standalone/browser/inspectTokens/inspectTokens.js\";\nimport \"./contrib/lineSelection/browser/lineSelection.js\";\nimport \"./contrib/linesOperations/browser/linesOperations.js\";\nimport \"./contrib/linkedEditing/browser/linkedEditing.js\";\nimport \"./contrib/links/browser/links.js\";\nimport \"./contrib/longLinesHelper/browser/longLinesHelper.js\";\nimport \"./contrib/multicursor/browser/multicursor.js\";\nimport \"./contrib/parameterHints/browser/parameterHints.js\";\nimport \"./standalone/browser/quickAccess/standaloneCommandsQuickAccess.js\";\nimport \"./standalone/browser/quickAccess/standaloneHelpQuickAccess.js\";\nimport \"./standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess.js\";\nimport \"./contrib/readOnlyMessage/browser/contribution.js\";\nimport \"./standalone/browser/referenceSearch/standaloneReferenceSearch.js\";\nimport \"./contrib/rename/browser/rename.js\";\nimport \"./contrib/sectionHeaders/browser/sectionHeaders.js\";\nimport \"./contrib/semanticTokens/browser/documentSemanticTokens.js\";\nimport \"./contrib/semanticTokens/browser/viewportSemanticTokens.js\";\nimport \"./contrib/smartSelect/browser/smartSelect.js\";\nimport \"./contrib/snippet/browser/snippetController2.js\";\nimport \"./contrib/stickyScroll/browser/stickyScrollContribution.js\";\nimport \"./contrib/suggest/browser/suggestController.js\";\nimport \"./contrib/suggest/browser/suggestInlineCompletions.js\";\nimport \"./standalone/browser/toggleHighContrast/toggleHighContrast.js\";\nimport \"./contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js\";\nimport \"./contrib/tokenization/browser/tokenization.js\";\nimport \"./contrib/unicodeHighlighter/browser/unicodeHighlighter.js\";\nimport \"./contrib/unusualLineTerminators/browser/unusualLineTerminators.js\";\nimport \"./contrib/wordHighlighter/browser/wordHighlighter.js\";\nimport \"./contrib/wordOperations/browser/wordOperations.js\";\nimport \"./contrib/wordPartOperations/browser/wordPartOperations.js\";\n\nimport * as monaco from \"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[1]!./editor.main.js\";\nexport * from \"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[1]!./editor.main.js\";\nexport default monaco;\n\t\t\nimport \"../language/json/monaco.contribution.js\";","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { TabFocus } from '../../../browser/config/tabFocus.js';\nimport * as nls from '../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../platform/actions/common/actions.js';\nexport class ToggleTabFocusModeAction extends Action2 {\n    constructor() {\n        super({\n            id: ToggleTabFocusModeAction.ID,\n            title: nls.localize2({ key: 'toggle.tabMovesFocus', comment: ['Turn on/off use of tab key for moving focus around VS Code'] }, 'Toggle Tab Key Moves Focus'),\n            precondition: undefined,\n            keybinding: {\n                primary: 2048 /* KeyMod.CtrlCmd */ | 43 /* KeyCode.KeyM */,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 43 /* KeyCode.KeyM */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            metadata: {\n                description: nls.localize2('tabMovesFocusDescriptions', \"Determines whether the tab key moves focus around the workbench or inserts the tab character in the current editor. This is also called tab trapping, tab navigation, or tab focus mode.\"),\n            },\n            f1: true\n        });\n    }\n    run() {\n        const oldValue = TabFocus.getTabFocusMode();\n        const newValue = !oldValue;\n        TabFocus.setTabFocusMode(newValue);\n        if (newValue) {\n            alert(nls.localize('toggle.tabMovesFocus.on', \"Pressing Tab will now move focus to the next focusable element\"));\n        }\n        else {\n            alert(nls.localize('toggle.tabMovesFocus.off', \"Pressing Tab will now insert the tab character\"));\n        }\n    }\n}\nToggleTabFocusModeAction.ID = 'editor.action.toggleTabFocusMode';\nregisterAction2(ToggleTabFocusModeAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport * as nls from '../../../../nls.js';\nclass ForceRetokenizeAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.forceRetokenize',\n            label: nls.localize('forceRetokenize', \"Developer: Force Retokenize\"),\n            alias: 'Developer: Force Retokenize',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const model = editor.getModel();\n        model.tokenization.resetTokenization();\n        const sw = new StopWatch();\n        model.tokenization.forceTokenization(model.getLineCount());\n        sw.stop();\n        console.log(`tokenization took ${sw.elapsed()}`);\n    }\n}\nregisterEditorAction(ForceRetokenizeAction);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './bannerController.css';\nimport { $, append, clearNode } from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { MarkdownRenderer } from '../../../browser/widget/markdownRenderer/browser/markdownRenderer.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Link } from '../../../../platform/opener/browser/link.js';\nimport { widgetClose } from '../../../../platform/theme/common/iconRegistry.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nconst BANNER_ELEMENT_HEIGHT = 26;\nlet BannerController = class BannerController extends Disposable {\n    constructor(_editor, instantiationService) {\n        super();\n        this._editor = _editor;\n        this.instantiationService = instantiationService;\n        this.banner = this._register(this.instantiationService.createInstance(Banner));\n    }\n    hide() {\n        this._editor.setBanner(null, 0);\n        this.banner.clear();\n    }\n    show(item) {\n        this.banner.show({\n            ...item,\n            onClose: () => {\n                var _a;\n                this.hide();\n                (_a = item.onClose) === null || _a === void 0 ? void 0 : _a.call(item);\n            }\n        });\n        this._editor.setBanner(this.banner.element, BANNER_ELEMENT_HEIGHT);\n    }\n};\nBannerController = __decorate([\n    __param(1, IInstantiationService)\n], BannerController);\nexport { BannerController };\n// TODO@hediet: Investigate if this can be reused by the workspace banner (bannerPart.ts).\nlet Banner = class Banner extends Disposable {\n    constructor(instantiationService) {\n        super();\n        this.instantiationService = instantiationService;\n        this.markdownRenderer = this.instantiationService.createInstance(MarkdownRenderer, {});\n        this.element = $('div.editor-banner');\n        this.element.tabIndex = 0;\n    }\n    getAriaLabel(item) {\n        if (item.ariaLabel) {\n            return item.ariaLabel;\n        }\n        if (typeof item.message === 'string') {\n            return item.message;\n        }\n        return undefined;\n    }\n    getBannerMessage(message) {\n        if (typeof message === 'string') {\n            const element = $('span');\n            element.innerText = message;\n            return element;\n        }\n        return this.markdownRenderer.render(message).element;\n    }\n    clear() {\n        clearNode(this.element);\n    }\n    show(item) {\n        // Clear previous item\n        clearNode(this.element);\n        // Banner aria label\n        const ariaLabel = this.getAriaLabel(item);\n        if (ariaLabel) {\n            this.element.setAttribute('aria-label', ariaLabel);\n        }\n        // Icon\n        const iconContainer = append(this.element, $('div.icon-container'));\n        iconContainer.setAttribute('aria-hidden', 'true');\n        if (item.icon) {\n            iconContainer.appendChild($(`div${ThemeIcon.asCSSSelector(item.icon)}`));\n        }\n        // Message\n        const messageContainer = append(this.element, $('div.message-container'));\n        messageContainer.setAttribute('aria-hidden', 'true');\n        messageContainer.appendChild(this.getBannerMessage(item.message));\n        // Message Actions\n        this.messageActionsContainer = append(this.element, $('div.message-actions-container'));\n        if (item.actions) {\n            for (const action of item.actions) {\n                this._register(this.instantiationService.createInstance(Link, this.messageActionsContainer, { ...action, tabIndex: -1 }, {}));\n            }\n        }\n        // Action\n        const actionBarContainer = append(this.element, $('div.action-container'));\n        this.actionBar = this._register(new ActionBar(actionBarContainer));\n        this.actionBar.push(this._register(new Action('banner.close', 'Close Banner', ThemeIcon.asClassName(widgetClose), true, () => {\n            if (typeof item.onClose === 'function') {\n                item.onClose();\n            }\n        })), { icon: true, label: false });\n        this.actionBar.setFocusable(false);\n    }\n};\nBanner = __decorate([\n    __param(0, IInstantiationService)\n], Banner);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { InvisibleCharacters, isBasicASCII } from '../../../../base/common/strings.js';\nimport './unicodeHighlighter.css';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { inUntrustedWorkspace, unicodeHighlightConfigKeys } from '../../../common/config/editorOptions.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { UnicodeTextModelHighlighter } from '../../../common/services/unicodeTextModelHighlighter.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { isModelDecorationInComment, isModelDecorationInString, isModelDecorationVisible } from '../../../common/viewModel/viewModelDecorations.js';\nimport { HoverParticipantRegistry } from '../../hover/browser/hoverTypes.js';\nimport { MarkdownHover, renderMarkdownHovers } from '../../hover/browser/markdownHoverParticipant.js';\nimport { BannerController } from './bannerController.js';\nimport * as nls from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { IWorkspaceTrustManagementService } from '../../../../platform/workspace/common/workspaceTrust.js';\nexport const warningIcon = registerIcon('extensions-warning-message', Codicon.warning, nls.localize('warningIcon', 'Icon shown with a warning message in the extensions editor.'));\nlet UnicodeHighlighter = class UnicodeHighlighter extends Disposable {\n    constructor(_editor, _editorWorkerService, _workspaceTrustService, instantiationService) {\n        super();\n        this._editor = _editor;\n        this._editorWorkerService = _editorWorkerService;\n        this._workspaceTrustService = _workspaceTrustService;\n        this._highlighter = null;\n        this._bannerClosed = false;\n        this._updateState = (state) => {\n            if (state && state.hasMore) {\n                if (this._bannerClosed) {\n                    return;\n                }\n                // This document contains many non-basic ASCII characters.\n                const max = Math.max(state.ambiguousCharacterCount, state.nonBasicAsciiCharacterCount, state.invisibleCharacterCount);\n                let data;\n                if (state.nonBasicAsciiCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters', 'This document contains many non-basic ASCII unicode characters'),\n                        command: new DisableHighlightingOfNonBasicAsciiCharactersAction(),\n                    };\n                }\n                else if (state.ambiguousCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters', 'This document contains many ambiguous unicode characters'),\n                        command: new DisableHighlightingOfAmbiguousCharactersAction(),\n                    };\n                }\n                else if (state.invisibleCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters', 'This document contains many invisible unicode characters'),\n                        command: new DisableHighlightingOfInvisibleCharactersAction(),\n                    };\n                }\n                else {\n                    throw new Error('Unreachable');\n                }\n                this._bannerController.show({\n                    id: 'unicodeHighlightBanner',\n                    message: data.message,\n                    icon: warningIcon,\n                    actions: [\n                        {\n                            label: data.command.shortLabel,\n                            href: `command:${data.command.id}`\n                        }\n                    ],\n                    onClose: () => {\n                        this._bannerClosed = true;\n                    },\n                });\n            }\n            else {\n                this._bannerController.hide();\n            }\n        };\n        this._bannerController = this._register(instantiationService.createInstance(BannerController, _editor));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._bannerClosed = false;\n            this._updateHighlighter();\n        }));\n        this._options = _editor.getOption(125 /* EditorOption.unicodeHighlighting */);\n        this._register(_workspaceTrustService.onDidChangeTrust(e => {\n            this._updateHighlighter();\n        }));\n        this._register(_editor.onDidChangeConfiguration(e => {\n            if (e.hasChanged(125 /* EditorOption.unicodeHighlighting */)) {\n                this._options = _editor.getOption(125 /* EditorOption.unicodeHighlighting */);\n                this._updateHighlighter();\n            }\n        }));\n        this._updateHighlighter();\n    }\n    dispose() {\n        if (this._highlighter) {\n            this._highlighter.dispose();\n            this._highlighter = null;\n        }\n        super.dispose();\n    }\n    _updateHighlighter() {\n        this._updateState(null);\n        if (this._highlighter) {\n            this._highlighter.dispose();\n            this._highlighter = null;\n        }\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const options = resolveOptions(this._workspaceTrustService.isWorkspaceTrusted(), this._options);\n        if ([\n            options.nonBasicASCII,\n            options.ambiguousCharacters,\n            options.invisibleCharacters,\n        ].every((option) => option === false)) {\n            // Don't do anything if the feature is fully disabled\n            return;\n        }\n        const highlightOptions = {\n            nonBasicASCII: options.nonBasicASCII,\n            ambiguousCharacters: options.ambiguousCharacters,\n            invisibleCharacters: options.invisibleCharacters,\n            includeComments: options.includeComments,\n            includeStrings: options.includeStrings,\n            allowedCodePoints: Object.keys(options.allowedCharacters).map(c => c.codePointAt(0)),\n            allowedLocales: Object.keys(options.allowedLocales).map(locale => {\n                if (locale === '_os') {\n                    const osLocale = new Intl.NumberFormat().resolvedOptions().locale;\n                    return osLocale;\n                }\n                else if (locale === '_vscode') {\n                    return platform.language;\n                }\n                return locale;\n            }),\n        };\n        if (this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)) {\n            this._highlighter = new DocumentUnicodeHighlighter(this._editor, highlightOptions, this._updateState, this._editorWorkerService);\n        }\n        else {\n            this._highlighter = new ViewportUnicodeHighlighter(this._editor, highlightOptions, this._updateState);\n        }\n    }\n    getDecorationInfo(decoration) {\n        if (this._highlighter) {\n            return this._highlighter.getDecorationInfo(decoration);\n        }\n        return null;\n    }\n};\nUnicodeHighlighter.ID = 'editor.contrib.unicodeHighlighter';\nUnicodeHighlighter = __decorate([\n    __param(1, IEditorWorkerService),\n    __param(2, IWorkspaceTrustManagementService),\n    __param(3, IInstantiationService)\n], UnicodeHighlighter);\nexport { UnicodeHighlighter };\nfunction resolveOptions(trusted, options) {\n    return {\n        nonBasicASCII: options.nonBasicASCII === inUntrustedWorkspace ? !trusted : options.nonBasicASCII,\n        ambiguousCharacters: options.ambiguousCharacters,\n        invisibleCharacters: options.invisibleCharacters,\n        includeComments: options.includeComments === inUntrustedWorkspace ? !trusted : options.includeComments,\n        includeStrings: options.includeStrings === inUntrustedWorkspace ? !trusted : options.includeStrings,\n        allowedCharacters: options.allowedCharacters,\n        allowedLocales: options.allowedLocales,\n    };\n}\nlet DocumentUnicodeHighlighter = class DocumentUnicodeHighlighter extends Disposable {\n    constructor(_editor, _options, _updateState, _editorWorkerService) {\n        super();\n        this._editor = _editor;\n        this._options = _options;\n        this._updateState = _updateState;\n        this._editorWorkerService = _editorWorkerService;\n        this._model = this._editor.getModel();\n        this._decorations = this._editor.createDecorationsCollection();\n        this._updateSoon = this._register(new RunOnceScheduler(() => this._update(), 250));\n        this._register(this._editor.onDidChangeModelContent(() => {\n            this._updateSoon.schedule();\n        }));\n        this._updateSoon.schedule();\n    }\n    dispose() {\n        this._decorations.clear();\n        super.dispose();\n    }\n    _update() {\n        if (this._model.isDisposed()) {\n            return;\n        }\n        if (!this._model.mightContainNonBasicASCII()) {\n            this._decorations.clear();\n            return;\n        }\n        const modelVersionId = this._model.getVersionId();\n        this._editorWorkerService\n            .computedUnicodeHighlights(this._model.uri, this._options)\n            .then((info) => {\n            if (this._model.isDisposed()) {\n                return;\n            }\n            if (this._model.getVersionId() !== modelVersionId) {\n                // model changed in the meantime\n                return;\n            }\n            this._updateState(info);\n            const decorations = [];\n            if (!info.hasMore) {\n                // Don't show decoration if there are too many.\n                // In this case, a banner is shown.\n                for (const range of info.ranges) {\n                    decorations.push({\n                        range: range,\n                        options: Decorations.instance.getDecorationFromOptions(this._options),\n                    });\n                }\n            }\n            this._decorations.set(decorations);\n        });\n    }\n    getDecorationInfo(decoration) {\n        if (!this._decorations.has(decoration)) {\n            return null;\n        }\n        const model = this._editor.getModel();\n        if (!isModelDecorationVisible(model, decoration)) {\n            return null;\n        }\n        const text = model.getValueInRange(decoration.range);\n        return {\n            reason: computeReason(text, this._options),\n            inComment: isModelDecorationInComment(model, decoration),\n            inString: isModelDecorationInString(model, decoration),\n        };\n    }\n};\nDocumentUnicodeHighlighter = __decorate([\n    __param(3, IEditorWorkerService)\n], DocumentUnicodeHighlighter);\nclass ViewportUnicodeHighlighter extends Disposable {\n    constructor(_editor, _options, _updateState) {\n        super();\n        this._editor = _editor;\n        this._options = _options;\n        this._updateState = _updateState;\n        this._model = this._editor.getModel();\n        this._decorations = this._editor.createDecorationsCollection();\n        this._updateSoon = this._register(new RunOnceScheduler(() => this._update(), 250));\n        this._register(this._editor.onDidLayoutChange(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidScrollChange(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidChangeHiddenAreas(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidChangeModelContent(() => {\n            this._updateSoon.schedule();\n        }));\n        this._updateSoon.schedule();\n    }\n    dispose() {\n        this._decorations.clear();\n        super.dispose();\n    }\n    _update() {\n        if (this._model.isDisposed()) {\n            return;\n        }\n        if (!this._model.mightContainNonBasicASCII()) {\n            this._decorations.clear();\n            return;\n        }\n        const ranges = this._editor.getVisibleRanges();\n        const decorations = [];\n        const totalResult = {\n            ranges: [],\n            ambiguousCharacterCount: 0,\n            invisibleCharacterCount: 0,\n            nonBasicAsciiCharacterCount: 0,\n            hasMore: false,\n        };\n        for (const range of ranges) {\n            const result = UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model, this._options, range);\n            for (const r of result.ranges) {\n                totalResult.ranges.push(r);\n            }\n            totalResult.ambiguousCharacterCount += totalResult.ambiguousCharacterCount;\n            totalResult.invisibleCharacterCount += totalResult.invisibleCharacterCount;\n            totalResult.nonBasicAsciiCharacterCount += totalResult.nonBasicAsciiCharacterCount;\n            totalResult.hasMore = totalResult.hasMore || result.hasMore;\n        }\n        if (!totalResult.hasMore) {\n            // Don't show decorations if there are too many.\n            // A banner will be shown instead.\n            for (const range of totalResult.ranges) {\n                decorations.push({ range, options: Decorations.instance.getDecorationFromOptions(this._options) });\n            }\n        }\n        this._updateState(totalResult);\n        this._decorations.set(decorations);\n    }\n    getDecorationInfo(decoration) {\n        if (!this._decorations.has(decoration)) {\n            return null;\n        }\n        const model = this._editor.getModel();\n        const text = model.getValueInRange(decoration.range);\n        if (!isModelDecorationVisible(model, decoration)) {\n            return null;\n        }\n        return {\n            reason: computeReason(text, this._options),\n            inComment: isModelDecorationInComment(model, decoration),\n            inString: isModelDecorationInString(model, decoration),\n        };\n    }\n}\nconst configureUnicodeHighlightOptionsStr = nls.localize('unicodeHighlight.configureUnicodeHighlightOptions', 'Configure Unicode Highlight Options');\nlet UnicodeHighlighterHoverParticipant = class UnicodeHighlighterHoverParticipant {\n    constructor(_editor, _languageService, _openerService) {\n        this._editor = _editor;\n        this._languageService = _languageService;\n        this._openerService = _openerService;\n        this.hoverOrdinal = 5;\n    }\n    computeSync(anchor, lineDecorations) {\n        if (!this._editor.hasModel() || anchor.type !== 1 /* HoverAnchorType.Range */) {\n            return [];\n        }\n        const model = this._editor.getModel();\n        const unicodeHighlighter = this._editor.getContribution(UnicodeHighlighter.ID);\n        if (!unicodeHighlighter) {\n            return [];\n        }\n        const result = [];\n        const existedReason = new Set();\n        let index = 300;\n        for (const d of lineDecorations) {\n            const highlightInfo = unicodeHighlighter.getDecorationInfo(d);\n            if (!highlightInfo) {\n                continue;\n            }\n            const char = model.getValueInRange(d.range);\n            // text refers to a single character.\n            const codePoint = char.codePointAt(0);\n            const codePointStr = formatCodePointMarkdown(codePoint);\n            let reason;\n            switch (highlightInfo.reason.kind) {\n                case 0 /* UnicodeHighlighterReasonKind.Ambiguous */: {\n                    if (isBasicASCII(highlightInfo.reason.confusableWith)) {\n                        reason = nls.localize('unicodeHighlight.characterIsAmbiguousASCII', 'The character {0} could be confused with the ASCII character {1}, which is more common in source code.', codePointStr, formatCodePointMarkdown(highlightInfo.reason.confusableWith.codePointAt(0)));\n                    }\n                    else {\n                        reason = nls.localize('unicodeHighlight.characterIsAmbiguous', 'The character {0} could be confused with the character {1}, which is more common in source code.', codePointStr, formatCodePointMarkdown(highlightInfo.reason.confusableWith.codePointAt(0)));\n                    }\n                    break;\n                }\n                case 1 /* UnicodeHighlighterReasonKind.Invisible */:\n                    reason = nls.localize('unicodeHighlight.characterIsInvisible', 'The character {0} is invisible.', codePointStr);\n                    break;\n                case 2 /* UnicodeHighlighterReasonKind.NonBasicAscii */:\n                    reason = nls.localize('unicodeHighlight.characterIsNonBasicAscii', 'The character {0} is not a basic ASCII character.', codePointStr);\n                    break;\n            }\n            if (existedReason.has(reason)) {\n                continue;\n            }\n            existedReason.add(reason);\n            const adjustSettingsArgs = {\n                codePoint: codePoint,\n                reason: highlightInfo.reason,\n                inComment: highlightInfo.inComment,\n                inString: highlightInfo.inString,\n            };\n            const adjustSettings = nls.localize('unicodeHighlight.adjustSettings', 'Adjust settings');\n            const uri = `command:${ShowExcludeOptions.ID}?${encodeURIComponent(JSON.stringify(adjustSettingsArgs))}`;\n            const markdown = new MarkdownString('', true)\n                .appendMarkdown(reason)\n                .appendText(' ')\n                .appendLink(uri, adjustSettings, configureUnicodeHighlightOptionsStr);\n            result.push(new MarkdownHover(this, d.range, [markdown], false, index++));\n        }\n        return result;\n    }\n    renderHoverParts(context, hoverParts) {\n        return renderMarkdownHovers(context, hoverParts, this._editor, this._languageService, this._openerService);\n    }\n};\nUnicodeHighlighterHoverParticipant = __decorate([\n    __param(1, ILanguageService),\n    __param(2, IOpenerService)\n], UnicodeHighlighterHoverParticipant);\nexport { UnicodeHighlighterHoverParticipant };\nfunction codePointToHex(codePoint) {\n    return `U+${codePoint.toString(16).padStart(4, '0')}`;\n}\nfunction formatCodePointMarkdown(codePoint) {\n    let value = `\\`${codePointToHex(codePoint)}\\``;\n    if (!InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n        // Don't render any control characters or any invisible characters, as they cannot be seen anyways.\n        value += ` \"${`${renderCodePointAsInlineCode(codePoint)}`}\"`;\n    }\n    return value;\n}\nfunction renderCodePointAsInlineCode(codePoint) {\n    if (codePoint === 96 /* CharCode.BackTick */) {\n        return '`` ` ``';\n    }\n    return '`' + String.fromCodePoint(codePoint) + '`';\n}\nfunction computeReason(char, options) {\n    return UnicodeTextModelHighlighter.computeUnicodeHighlightReason(char, options);\n}\nclass Decorations {\n    constructor() {\n        this.map = new Map();\n    }\n    getDecorationFromOptions(options) {\n        return this.getDecoration(!options.includeComments, !options.includeStrings);\n    }\n    getDecoration(hideInComments, hideInStrings) {\n        const key = `${hideInComments}${hideInStrings}`;\n        let options = this.map.get(key);\n        if (!options) {\n            options = ModelDecorationOptions.createDynamic({\n                description: 'unicode-highlight',\n                stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n                className: 'unicode-highlight',\n                showIfCollapsed: true,\n                overviewRuler: null,\n                minimap: null,\n                hideInCommentTokens: hideInComments,\n                hideInStringTokens: hideInStrings,\n            });\n            this.map.set(key, options);\n        }\n        return options;\n    }\n}\nDecorations.instance = new Decorations();\nexport class DisableHighlightingInCommentsAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingInComments', 'Disable highlighting of characters in comments'),\n            alias: 'Disable highlighting of characters in comments',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingInComments.shortLabel', 'Disable Highlight In Comments');\n    }\n    async run(accessor, editor, args) {\n        const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n        if (configurationService) {\n            this.runAction(configurationService);\n        }\n    }\n    async runAction(configurationService) {\n        await configurationService.updateValue(unicodeHighlightConfigKeys.includeComments, false, 2 /* ConfigurationTarget.USER */);\n    }\n}\nexport class DisableHighlightingInStringsAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingInStrings', 'Disable highlighting of characters in strings'),\n            alias: 'Disable highlighting of characters in strings',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingInStrings.shortLabel', 'Disable Highlight In Strings');\n    }\n    async run(accessor, editor, args) {\n        const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n        if (configurationService) {\n            this.runAction(configurationService);\n        }\n    }\n    async runAction(configurationService) {\n        await configurationService.updateValue(unicodeHighlightConfigKeys.includeStrings, false, 2 /* ConfigurationTarget.USER */);\n    }\n}\nexport class DisableHighlightingOfAmbiguousCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters', 'Disable highlighting of ambiguous characters'),\n            alias: 'Disable highlighting of ambiguous characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel', 'Disable Ambiguous Highlight');\n    }\n    async run(accessor, editor, args) {\n        const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n        if (configurationService) {\n            this.runAction(configurationService);\n        }\n    }\n    async runAction(configurationService) {\n        await configurationService.updateValue(unicodeHighlightConfigKeys.ambiguousCharacters, false, 2 /* ConfigurationTarget.USER */);\n    }\n}\nDisableHighlightingOfAmbiguousCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters';\nexport class DisableHighlightingOfInvisibleCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfInvisibleCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfInvisibleCharacters', 'Disable highlighting of invisible characters'),\n            alias: 'Disable highlighting of invisible characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel', 'Disable Invisible Highlight');\n    }\n    async run(accessor, editor, args) {\n        const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n        if (configurationService) {\n            this.runAction(configurationService);\n        }\n    }\n    async runAction(configurationService) {\n        await configurationService.updateValue(unicodeHighlightConfigKeys.invisibleCharacters, false, 2 /* ConfigurationTarget.USER */);\n    }\n}\nDisableHighlightingOfInvisibleCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters';\nexport class DisableHighlightingOfNonBasicAsciiCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfNonBasicAsciiCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters', 'Disable highlighting of non basic ASCII characters'),\n            alias: 'Disable highlighting of non basic ASCII characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel', 'Disable Non ASCII Highlight');\n    }\n    async run(accessor, editor, args) {\n        const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n        if (configurationService) {\n            this.runAction(configurationService);\n        }\n    }\n    async runAction(configurationService) {\n        await configurationService.updateValue(unicodeHighlightConfigKeys.nonBasicASCII, false, 2 /* ConfigurationTarget.USER */);\n    }\n}\nDisableHighlightingOfNonBasicAsciiCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters';\nexport class ShowExcludeOptions extends EditorAction {\n    constructor() {\n        super({\n            id: ShowExcludeOptions.ID,\n            label: nls.localize('action.unicodeHighlight.showExcludeOptions', \"Show Exclude Options\"),\n            alias: 'Show Exclude Options',\n            precondition: undefined\n        });\n    }\n    async run(accessor, editor, args) {\n        const { codePoint, reason, inString, inComment } = args;\n        const char = String.fromCodePoint(codePoint);\n        const quickPickService = accessor.get(IQuickInputService);\n        const configurationService = accessor.get(IConfigurationService);\n        function getExcludeCharFromBeingHighlightedLabel(codePoint) {\n            if (InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n                return nls.localize('unicodeHighlight.excludeInvisibleCharFromBeingHighlighted', 'Exclude {0} (invisible character) from being highlighted', codePointToHex(codePoint));\n            }\n            return nls.localize('unicodeHighlight.excludeCharFromBeingHighlighted', 'Exclude {0} from being highlighted', `${codePointToHex(codePoint)} \"${char}\"`);\n        }\n        const options = [];\n        if (reason.kind === 0 /* UnicodeHighlighterReasonKind.Ambiguous */) {\n            for (const locale of reason.notAmbiguousInLocales) {\n                options.push({\n                    label: nls.localize(\"unicodeHighlight.allowCommonCharactersInLanguage\", \"Allow unicode characters that are more common in the language \\\"{0}\\\".\", locale),\n                    run: async () => {\n                        excludeLocaleFromBeingHighlighted(configurationService, [locale]);\n                    },\n                });\n            }\n        }\n        options.push({\n            label: getExcludeCharFromBeingHighlightedLabel(codePoint),\n            run: () => excludeCharFromBeingHighlighted(configurationService, [codePoint])\n        });\n        if (inComment) {\n            const action = new DisableHighlightingInCommentsAction();\n            options.push({ label: action.label, run: async () => action.runAction(configurationService) });\n        }\n        else if (inString) {\n            const action = new DisableHighlightingInStringsAction();\n            options.push({ label: action.label, run: async () => action.runAction(configurationService) });\n        }\n        if (reason.kind === 0 /* UnicodeHighlighterReasonKind.Ambiguous */) {\n            const action = new DisableHighlightingOfAmbiguousCharactersAction();\n            options.push({ label: action.label, run: async () => action.runAction(configurationService) });\n        }\n        else if (reason.kind === 1 /* UnicodeHighlighterReasonKind.Invisible */) {\n            const action = new DisableHighlightingOfInvisibleCharactersAction();\n            options.push({ label: action.label, run: async () => action.runAction(configurationService) });\n        }\n        else if (reason.kind === 2 /* UnicodeHighlighterReasonKind.NonBasicAscii */) {\n            const action = new DisableHighlightingOfNonBasicAsciiCharactersAction();\n            options.push({ label: action.label, run: async () => action.runAction(configurationService) });\n        }\n        else {\n            expectNever(reason);\n        }\n        const result = await quickPickService.pick(options, { title: configureUnicodeHighlightOptionsStr });\n        if (result) {\n            await result.run();\n        }\n    }\n}\nShowExcludeOptions.ID = 'editor.action.unicodeHighlight.showExcludeOptions';\nasync function excludeCharFromBeingHighlighted(configurationService, charCodes) {\n    const existingValue = configurationService.getValue(unicodeHighlightConfigKeys.allowedCharacters);\n    let value;\n    if ((typeof existingValue === 'object') && existingValue) {\n        value = existingValue;\n    }\n    else {\n        value = {};\n    }\n    for (const charCode of charCodes) {\n        value[String.fromCodePoint(charCode)] = true;\n    }\n    await configurationService.updateValue(unicodeHighlightConfigKeys.allowedCharacters, value, 2 /* ConfigurationTarget.USER */);\n}\nasync function excludeLocaleFromBeingHighlighted(configurationService, locales) {\n    var _a;\n    const existingValue = (_a = configurationService.inspect(unicodeHighlightConfigKeys.allowedLocales).user) === null || _a === void 0 ? void 0 : _a.value;\n    let value;\n    if ((typeof existingValue === 'object') && existingValue) {\n        // Copy value, as the existing value is read only\n        value = Object.assign({}, existingValue);\n    }\n    else {\n        value = {};\n    }\n    for (const locale of locales) {\n        value[locale] = true;\n    }\n    await configurationService.updateValue(unicodeHighlightConfigKeys.allowedLocales, value, 2 /* ConfigurationTarget.USER */);\n}\nfunction expectNever(value) {\n    throw new Error(`Unexpected value: ${value}`);\n}\nregisterEditorAction(DisableHighlightingOfAmbiguousCharactersAction);\nregisterEditorAction(DisableHighlightingOfInvisibleCharactersAction);\nregisterEditorAction(DisableHighlightingOfNonBasicAsciiCharactersAction);\nregisterEditorAction(ShowExcludeOptions);\nregisterEditorContribution(UnicodeHighlighter.ID, UnicodeHighlighter, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nHoverParticipantRegistry.register(UnicodeHighlighterHoverParticipant);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport * as nls from '../../../../nls.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nconst ignoreUnusualLineTerminators = 'ignoreUnusualLineTerminators';\nfunction writeIgnoreState(codeEditorService, model, state) {\n    codeEditorService.setModelProperty(model.uri, ignoreUnusualLineTerminators, state);\n}\nfunction readIgnoreState(codeEditorService, model) {\n    return codeEditorService.getModelProperty(model.uri, ignoreUnusualLineTerminators);\n}\nlet UnusualLineTerminatorsDetector = class UnusualLineTerminatorsDetector extends Disposable {\n    constructor(_editor, _dialogService, _codeEditorService) {\n        super();\n        this._editor = _editor;\n        this._dialogService = _dialogService;\n        this._codeEditorService = _codeEditorService;\n        this._isPresentingDialog = false;\n        this._config = this._editor.getOption(126 /* EditorOption.unusualLineTerminators */);\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(126 /* EditorOption.unusualLineTerminators */)) {\n                this._config = this._editor.getOption(126 /* EditorOption.unusualLineTerminators */);\n                this._checkForUnusualLineTerminators();\n            }\n        }));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._checkForUnusualLineTerminators();\n        }));\n        this._register(this._editor.onDidChangeModelContent((e) => {\n            if (e.isUndoing) {\n                // skip checking in case of undoing\n                return;\n            }\n            this._checkForUnusualLineTerminators();\n        }));\n        this._checkForUnusualLineTerminators();\n    }\n    async _checkForUnusualLineTerminators() {\n        if (this._config === 'off') {\n            return;\n        }\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        if (!model.mightContainUnusualLineTerminators()) {\n            return;\n        }\n        const ignoreState = readIgnoreState(this._codeEditorService, model);\n        if (ignoreState === true) {\n            // this model should be ignored\n            return;\n        }\n        if (this._editor.getOption(91 /* EditorOption.readOnly */)) {\n            // read only editor => sorry!\n            return;\n        }\n        if (this._config === 'auto') {\n            // just do it!\n            model.removeUnusualLineTerminators(this._editor.getSelections());\n            return;\n        }\n        if (this._isPresentingDialog) {\n            // we're currently showing the dialog, which is async.\n            // avoid spamming the user\n            return;\n        }\n        let result;\n        try {\n            this._isPresentingDialog = true;\n            result = await this._dialogService.confirm({\n                title: nls.localize('unusualLineTerminators.title', \"Unusual Line Terminators\"),\n                message: nls.localize('unusualLineTerminators.message', \"Detected unusual line terminators\"),\n                detail: nls.localize('unusualLineTerminators.detail', \"The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\\n\\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.\", basename(model.uri)),\n                primaryButton: nls.localize({ key: 'unusualLineTerminators.fix', comment: ['&& denotes a mnemonic'] }, \"&&Remove Unusual Line Terminators\"),\n                cancelButton: nls.localize('unusualLineTerminators.ignore', \"Ignore\")\n            });\n        }\n        finally {\n            this._isPresentingDialog = false;\n        }\n        if (!result.confirmed) {\n            // this model should be ignored\n            writeIgnoreState(this._codeEditorService, model, true);\n            return;\n        }\n        model.removeUnusualLineTerminators(this._editor.getSelections());\n    }\n};\nUnusualLineTerminatorsDetector.ID = 'editor.contrib.unusualLineTerminatorsDetector';\nUnusualLineTerminatorsDetector = __decorate([\n    __param(1, IDialogService),\n    __param(2, ICodeEditorService)\n], UnusualLineTerminatorsDetector);\nexport { UnusualLineTerminatorsDetector };\nregisterEditorContribution(UnusualLineTerminatorsDetector.ID, UnusualLineTerminatorsDetector, 1 /* EditorContributionInstantiation.AfterFirstRender */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './highlightDecorations.css';\nimport { OverviewRulerLane } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { DocumentHighlightKind } from '../../../common/languages.js';\nimport * as nls from '../../../../nls.js';\nimport { activeContrastBorder, editorSelectionHighlight, minimapSelectionOccurrenceHighlight, overviewRulerSelectionHighlightForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant, themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nconst wordHighlightBackground = registerColor('editor.wordHighlightBackground', { dark: '#575757B8', light: '#57575740', hcDark: null, hcLight: null }, nls.localize('wordHighlight', 'Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\nregisterColor('editor.wordHighlightStrongBackground', { dark: '#004972B8', light: '#0e639c40', hcDark: null, hcLight: null }, nls.localize('wordHighlightStrong', 'Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\nregisterColor('editor.wordHighlightTextBackground', { light: wordHighlightBackground, dark: wordHighlightBackground, hcDark: wordHighlightBackground, hcLight: wordHighlightBackground }, nls.localize('wordHighlightText', 'Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst wordHighlightBorder = registerColor('editor.wordHighlightBorder', { light: null, dark: null, hcDark: activeContrastBorder, hcLight: activeContrastBorder }, nls.localize('wordHighlightBorder', 'Border color of a symbol during read-access, like reading a variable.'));\nregisterColor('editor.wordHighlightStrongBorder', { light: null, dark: null, hcDark: activeContrastBorder, hcLight: activeContrastBorder }, nls.localize('wordHighlightStrongBorder', 'Border color of a symbol during write-access, like writing to a variable.'));\nregisterColor('editor.wordHighlightTextBorder', { light: wordHighlightBorder, dark: wordHighlightBorder, hcDark: wordHighlightBorder, hcLight: wordHighlightBorder }, nls.localize('wordHighlightTextBorder', \"Border color of a textual occurrence for a symbol.\"));\nconst overviewRulerWordHighlightForeground = registerColor('editorOverviewRuler.wordHighlightForeground', { dark: '#A0A0A0CC', light: '#A0A0A0CC', hcDark: '#A0A0A0CC', hcLight: '#A0A0A0CC' }, nls.localize('overviewRulerWordHighlightForeground', 'Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst overviewRulerWordHighlightStrongForeground = registerColor('editorOverviewRuler.wordHighlightStrongForeground', { dark: '#C0A0C0CC', light: '#C0A0C0CC', hcDark: '#C0A0C0CC', hcLight: '#C0A0C0CC' }, nls.localize('overviewRulerWordHighlightStrongForeground', 'Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst overviewRulerWordHighlightTextForeground = registerColor('editorOverviewRuler.wordHighlightTextForeground', { dark: overviewRulerSelectionHighlightForeground, light: overviewRulerSelectionHighlightForeground, hcDark: overviewRulerSelectionHighlightForeground, hcLight: overviewRulerSelectionHighlightForeground }, nls.localize('overviewRulerWordHighlightTextForeground', 'Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst _WRITE_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight-strong',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlightStrong',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightStrongForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: 1 /* MinimapPosition.Inline */\n    },\n});\nconst _TEXT_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight-text',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlightText',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightTextForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: 1 /* MinimapPosition.Inline */\n    },\n});\nconst _SELECTION_HIGHLIGHT_OPTIONS = ModelDecorationOptions.register({\n    description: 'selection-highlight-overview',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'selectionHighlight',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerSelectionHighlightForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: 1 /* MinimapPosition.Inline */\n    },\n});\nconst _SELECTION_HIGHLIGHT_OPTIONS_NO_OVERVIEW = ModelDecorationOptions.register({\n    description: 'selection-highlight',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'selectionHighlight',\n});\nconst _REGULAR_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlight',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: 1 /* MinimapPosition.Inline */\n    },\n});\nexport function getHighlightDecorationOptions(kind) {\n    if (kind === DocumentHighlightKind.Write) {\n        return _WRITE_OPTIONS;\n    }\n    else if (kind === DocumentHighlightKind.Text) {\n        return _TEXT_OPTIONS;\n    }\n    else {\n        return _REGULAR_OPTIONS;\n    }\n}\nexport function getSelectionHighlightDecorationOptions(hasSemanticHighlights) {\n    // Show in overviewRuler only if model has no semantic highlighting\n    return (hasSemanticHighlights ? _SELECTION_HIGHLIGHT_OPTIONS_NO_OVERVIEW : _SELECTION_HIGHLIGHT_OPTIONS);\n}\nregisterThemingParticipant((theme, collector) => {\n    const selectionHighlight = theme.getColor(editorSelectionHighlight);\n    if (selectionHighlight) {\n        collector.addRule(`.monaco-editor .selectionHighlight { background-color: ${selectionHighlight.transparent(0.5)}; }`);\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar WordHighlighter_1, WordHighlighterContribution_1;\nimport * as nls from '../../../../nls.js';\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { createCancelablePromise, first, timeout } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { isDiffEditor } from '../../../browser/editorBrowser.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution, registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { DocumentHighlightKind } from '../../../common/languages.js';\nimport { shouldSynchronizeModel } from '../../../common/model.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { getHighlightDecorationOptions } from './highlightDecorations.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { ResourceMap } from '../../../../base/common/map.js';\nimport { score } from '../../../common/languageSelector.js';\n// import { TextualMultiDocumentHighlightFeature } from 'vs/editor/contrib/wordHighlighter/browser/textualHighlightProvider';\n// import { registerEditorFeature } from 'vs/editor/common/editorFeatures';\nconst ctxHasWordHighlights = new RawContextKey('hasWordHighlights', false);\nexport function getOccurrencesAtPosition(registry, model, position, token) {\n    const orderedByScore = registry.ordered(model);\n    // in order of score ask the occurrences provider\n    // until someone response with a good result\n    // (good = none empty array)\n    return first(orderedByScore.map(provider => () => {\n        return Promise.resolve(provider.provideDocumentHighlights(model, position, token))\n            .then(undefined, onUnexpectedExternalError);\n    }), arrays.isNonEmptyArray).then(result => {\n        if (result) {\n            const map = new ResourceMap();\n            map.set(model.uri, result);\n            return map;\n        }\n        return new ResourceMap();\n    });\n}\nexport function getOccurrencesAcrossMultipleModels(registry, model, position, wordSeparators, token, otherModels) {\n    const orderedByScore = registry.ordered(model);\n    // in order of score ask the occurrences provider\n    // until someone response with a good result\n    // (good = none empty array)\n    return first(orderedByScore.map(provider => () => {\n        const filteredModels = otherModels.filter(otherModel => {\n            return shouldSynchronizeModel(otherModel);\n        }).filter(otherModel => {\n            return score(provider.selector, otherModel.uri, otherModel.getLanguageId(), true, undefined, undefined) > 0;\n        });\n        return Promise.resolve(provider.provideMultiDocumentHighlights(model, position, filteredModels, token))\n            .then(undefined, onUnexpectedExternalError);\n    }), (t) => t instanceof ResourceMap && t.size > 0);\n}\nclass OccurenceAtPositionRequest {\n    constructor(_model, _selection, _wordSeparators) {\n        this._model = _model;\n        this._selection = _selection;\n        this._wordSeparators = _wordSeparators;\n        this._wordRange = this._getCurrentWordRange(_model, _selection);\n        this._result = null;\n    }\n    get result() {\n        if (!this._result) {\n            this._result = createCancelablePromise(token => this._compute(this._model, this._selection, this._wordSeparators, token));\n        }\n        return this._result;\n    }\n    _getCurrentWordRange(model, selection) {\n        const word = model.getWordAtPosition(selection.getPosition());\n        if (word) {\n            return new Range(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\n        }\n        return null;\n    }\n    isValid(model, selection, decorations) {\n        const lineNumber = selection.startLineNumber;\n        const startColumn = selection.startColumn;\n        const endColumn = selection.endColumn;\n        const currentWordRange = this._getCurrentWordRange(model, selection);\n        let requestIsValid = Boolean(this._wordRange && this._wordRange.equalsRange(currentWordRange));\n        // Even if we are on a different word, if that word is in the decorations ranges, the request is still valid\n        // (Same symbol)\n        for (let i = 0, len = decorations.length; !requestIsValid && i < len; i++) {\n            const range = decorations.getRange(i);\n            if (range && range.startLineNumber === lineNumber) {\n                if (range.startColumn <= startColumn && range.endColumn >= endColumn) {\n                    requestIsValid = true;\n                }\n            }\n        }\n        return requestIsValid;\n    }\n    cancel() {\n        this.result.cancel();\n    }\n}\nclass SemanticOccurenceAtPositionRequest extends OccurenceAtPositionRequest {\n    constructor(model, selection, wordSeparators, providers) {\n        super(model, selection, wordSeparators);\n        this._providers = providers;\n    }\n    _compute(model, selection, wordSeparators, token) {\n        return getOccurrencesAtPosition(this._providers, model, selection.getPosition(), token).then(value => {\n            if (!value) {\n                return new ResourceMap();\n            }\n            return value;\n        });\n    }\n}\nclass MultiModelOccurenceRequest extends OccurenceAtPositionRequest {\n    constructor(model, selection, wordSeparators, providers, otherModels) {\n        super(model, selection, wordSeparators);\n        this._providers = providers;\n        this._otherModels = otherModels;\n    }\n    _compute(model, selection, wordSeparators, token) {\n        return getOccurrencesAcrossMultipleModels(this._providers, model, selection.getPosition(), wordSeparators, token, this._otherModels).then(value => {\n            if (!value) {\n                return new ResourceMap();\n            }\n            return value;\n        });\n    }\n}\nclass TextualOccurenceRequest extends OccurenceAtPositionRequest {\n    constructor(model, selection, word, wordSeparators, otherModels) {\n        super(model, selection, wordSeparators);\n        this._otherModels = otherModels;\n        this._selectionIsEmpty = selection.isEmpty();\n        this._word = word;\n    }\n    _compute(model, selection, wordSeparators, token) {\n        return timeout(250, token).then(() => {\n            const result = new ResourceMap();\n            let wordResult;\n            if (this._word) {\n                wordResult = this._word;\n            }\n            else {\n                wordResult = model.getWordAtPosition(selection.getPosition());\n            }\n            if (!wordResult) {\n                return new ResourceMap();\n            }\n            const allModels = [model, ...this._otherModels];\n            for (const otherModel of allModels) {\n                if (otherModel.isDisposed()) {\n                    continue;\n                }\n                const matches = otherModel.findMatches(wordResult.word, true, false, true, wordSeparators, false);\n                const highlights = matches.map(m => ({\n                    range: m.range,\n                    kind: DocumentHighlightKind.Text\n                }));\n                if (highlights) {\n                    result.set(otherModel.uri, highlights);\n                }\n            }\n            return result;\n        });\n    }\n    isValid(model, selection, decorations) {\n        const currentSelectionIsEmpty = selection.isEmpty();\n        if (this._selectionIsEmpty !== currentSelectionIsEmpty) {\n            return false;\n        }\n        return super.isValid(model, selection, decorations);\n    }\n}\nfunction computeOccurencesAtPosition(registry, model, selection, word, wordSeparators) {\n    if (registry.has(model)) {\n        return new SemanticOccurenceAtPositionRequest(model, selection, wordSeparators, registry);\n    }\n    return new TextualOccurenceRequest(model, selection, word, wordSeparators, []);\n}\nfunction computeOccurencesMultiModel(registry, model, selection, word, wordSeparators, otherModels) {\n    if (registry.has(model)) {\n        return new MultiModelOccurenceRequest(model, selection, wordSeparators, registry, otherModels);\n    }\n    return new TextualOccurenceRequest(model, selection, word, wordSeparators, otherModels);\n}\nregisterModelAndPositionCommand('_executeDocumentHighlights', async (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const map = await getOccurrencesAtPosition(languageFeaturesService.documentHighlightProvider, model, position, CancellationToken.None);\n    return map === null || map === void 0 ? void 0 : map.get(model.uri);\n});\nlet WordHighlighter = WordHighlighter_1 = class WordHighlighter {\n    constructor(editor, providers, multiProviders, contextKeyService, codeEditorService) {\n        this.toUnhook = new DisposableStore();\n        this.workerRequestTokenId = 0;\n        this.workerRequestCompleted = false;\n        this.workerRequestValue = new ResourceMap();\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n        this.editor = editor;\n        this.providers = providers;\n        this.multiDocumentProviders = multiProviders;\n        this.codeEditorService = codeEditorService;\n        this._hasWordHighlights = ctxHasWordHighlights.bindTo(contextKeyService);\n        this._ignorePositionChangeEvent = false;\n        this.occurrencesHighlight = this.editor.getOption(81 /* EditorOption.occurrencesHighlight */);\n        this.model = this.editor.getModel();\n        this.toUnhook.add(editor.onDidChangeCursorPosition((e) => {\n            if (this._ignorePositionChangeEvent) {\n                // We are changing the position => ignore this event\n                return;\n            }\n            if (this.occurrencesHighlight === 'off') {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            this._onPositionChanged(e);\n        }));\n        this.toUnhook.add(editor.onDidFocusEditorText((e) => {\n            if (this.occurrencesHighlight === 'off') {\n                // Early exit if nothing needs to be done\n                return;\n            }\n            if (!this.workerRequest) {\n                this._run();\n            }\n        }));\n        this.toUnhook.add(editor.onDidChangeModelContent((e) => {\n            this._stopAll();\n        }));\n        this.toUnhook.add(editor.onDidChangeModel((e) => {\n            if (!e.newModelUrl && e.oldModelUrl) {\n                this._stopSingular();\n            }\n            else {\n                if (WordHighlighter_1.query) {\n                    this._run();\n                }\n            }\n        }));\n        this.toUnhook.add(editor.onDidChangeConfiguration((e) => {\n            const newValue = this.editor.getOption(81 /* EditorOption.occurrencesHighlight */);\n            if (this.occurrencesHighlight !== newValue) {\n                this.occurrencesHighlight = newValue;\n                this._stopAll();\n            }\n        }));\n        this.decorations = this.editor.createDecorationsCollection();\n        this.workerRequestTokenId = 0;\n        this.workerRequest = null;\n        this.workerRequestCompleted = false;\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n        // if there is a query already, highlight off that query\n        if (WordHighlighter_1.query) {\n            this._run();\n        }\n    }\n    hasDecorations() {\n        return (this.decorations.length > 0);\n    }\n    restore() {\n        if (this.occurrencesHighlight === 'off') {\n            return;\n        }\n        this._run();\n    }\n    _getSortedHighlights() {\n        return (this.decorations.getRanges()\n            .sort(Range.compareRangesUsingStarts));\n    }\n    moveNext() {\n        const highlights = this._getSortedHighlights();\n        const index = highlights.findIndex((range) => range.containsPosition(this.editor.getPosition()));\n        const newIndex = ((index + 1) % highlights.length);\n        const dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n            const word = this._getWord();\n            if (word) {\n                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);\n                alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);\n            }\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    }\n    moveBack() {\n        const highlights = this._getSortedHighlights();\n        const index = highlights.findIndex((range) => range.containsPosition(this.editor.getPosition()));\n        const newIndex = ((index - 1 + highlights.length) % highlights.length);\n        const dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n            const word = this._getWord();\n            if (word) {\n                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);\n                alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);\n            }\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    }\n    _removeSingleDecorations() {\n        // return if no model\n        if (!this.editor.hasModel()) {\n            return;\n        }\n        const currentDecorationIDs = WordHighlighter_1.storedDecorations.get(this.editor.getModel().uri);\n        if (!currentDecorationIDs) {\n            return;\n        }\n        this.editor.removeDecorations(currentDecorationIDs);\n        WordHighlighter_1.storedDecorations.delete(this.editor.getModel().uri);\n        if (this.decorations.length > 0) {\n            this.decorations.clear();\n            this._hasWordHighlights.set(false);\n        }\n    }\n    _removeAllDecorations() {\n        const currentEditors = this.codeEditorService.listCodeEditors();\n        const deleteURI = [];\n        // iterate over editors and store models in currentModels\n        for (const editor of currentEditors) {\n            if (!editor.hasModel()) {\n                continue;\n            }\n            const currentDecorationIDs = WordHighlighter_1.storedDecorations.get(editor.getModel().uri);\n            if (!currentDecorationIDs) {\n                continue;\n            }\n            editor.removeDecorations(currentDecorationIDs);\n            deleteURI.push(editor.getModel().uri);\n            const editorHighlighterContrib = WordHighlighterContribution.get(editor);\n            if (!(editorHighlighterContrib === null || editorHighlighterContrib === void 0 ? void 0 : editorHighlighterContrib.wordHighlighter)) {\n                continue;\n            }\n            if (editorHighlighterContrib.wordHighlighter.decorations.length > 0) {\n                editorHighlighterContrib.wordHighlighter.decorations.clear();\n                editorHighlighterContrib.wordHighlighter.workerRequest = null;\n                editorHighlighterContrib.wordHighlighter._hasWordHighlights.set(false);\n            }\n        }\n        for (const uri of deleteURI) {\n            WordHighlighter_1.storedDecorations.delete(uri);\n        }\n    }\n    _stopSingular() {\n        var _a, _b, _c, _d;\n        // Remove any existing decorations + a possible query, and re - run to update decorations\n        this._removeSingleDecorations();\n        if (this.editor.hasTextFocus()) {\n            if (((_a = this.editor.getModel()) === null || _a === void 0 ? void 0 : _a.uri.scheme) !== Schemas.vscodeNotebookCell && ((_c = (_b = WordHighlighter_1.query) === null || _b === void 0 ? void 0 : _b.modelInfo) === null || _c === void 0 ? void 0 : _c.model.uri.scheme) !== Schemas.vscodeNotebookCell) { // clear query if focused non-nb editor\n                WordHighlighter_1.query = null;\n                this._run(); // TODO: @Yoyokrazy -- investigate why we need a full rerun here. likely addressed a case/patch in the first iteration of this feature\n            }\n            else { // remove modelInfo to account for nb cell being disposed\n                if ((_d = WordHighlighter_1.query) === null || _d === void 0 ? void 0 : _d.modelInfo) {\n                    WordHighlighter_1.query.modelInfo = null;\n                }\n            }\n        }\n        // Cancel any renderDecorationsTimer\n        if (this.renderDecorationsTimer !== -1) {\n            clearTimeout(this.renderDecorationsTimer);\n            this.renderDecorationsTimer = -1;\n        }\n        // Cancel any worker request\n        if (this.workerRequest !== null) {\n            this.workerRequest.cancel();\n            this.workerRequest = null;\n        }\n        // Invalidate any worker request callback\n        if (!this.workerRequestCompleted) {\n            this.workerRequestTokenId++;\n            this.workerRequestCompleted = true;\n        }\n    }\n    _stopAll() {\n        // Remove any existing decorations\n        // TODO: @Yoyokrazy -- this triggers as notebooks scroll, causing highlights to disappear momentarily.\n        // maybe a nb type check?\n        this._removeAllDecorations();\n        // Cancel any renderDecorationsTimer\n        if (this.renderDecorationsTimer !== -1) {\n            clearTimeout(this.renderDecorationsTimer);\n            this.renderDecorationsTimer = -1;\n        }\n        // Cancel any worker request\n        if (this.workerRequest !== null) {\n            this.workerRequest.cancel();\n            this.workerRequest = null;\n        }\n        // Invalidate any worker request callback\n        if (!this.workerRequestCompleted) {\n            this.workerRequestTokenId++;\n            this.workerRequestCompleted = true;\n        }\n    }\n    _onPositionChanged(e) {\n        var _a;\n        // disabled\n        if (this.occurrencesHighlight === 'off') {\n            this._stopAll();\n            return;\n        }\n        // ignore typing & other\n        // need to check if the model is a notebook cell, should not stop if nb\n        if (e.reason !== 3 /* CursorChangeReason.Explicit */ && ((_a = this.editor.getModel()) === null || _a === void 0 ? void 0 : _a.uri.scheme) !== Schemas.vscodeNotebookCell) {\n            this._stopAll();\n            return;\n        }\n        this._run();\n    }\n    _getWord() {\n        const editorSelection = this.editor.getSelection();\n        const lineNumber = editorSelection.startLineNumber;\n        const startColumn = editorSelection.startColumn;\n        if (this.model.isDisposed()) {\n            return null;\n        }\n        return this.model.getWordAtPosition({\n            lineNumber: lineNumber,\n            column: startColumn\n        });\n    }\n    getOtherModelsToHighlight(model) {\n        if (!model) {\n            return [];\n        }\n        // notebook case\n        const isNotebookEditor = model.uri.scheme === Schemas.vscodeNotebookCell;\n        if (isNotebookEditor) {\n            const currentModels = [];\n            const currentEditors = this.codeEditorService.listCodeEditors();\n            for (const editor of currentEditors) {\n                const tempModel = editor.getModel();\n                if (tempModel && tempModel !== model && tempModel.uri.scheme === Schemas.vscodeNotebookCell) {\n                    currentModels.push(tempModel);\n                }\n            }\n            return currentModels;\n        }\n        // inline case\n        // ? current works when highlighting outside of an inline diff, highlighting in.\n        // ? broken when highlighting within a diff editor. highlighting the main editor does not work\n        // ? editor group service could be useful here\n        const currentModels = [];\n        const currentEditors = this.codeEditorService.listCodeEditors();\n        for (const editor of currentEditors) {\n            if (!isDiffEditor(editor)) {\n                continue;\n            }\n            const diffModel = editor.getModel();\n            if (!diffModel) {\n                continue;\n            }\n            if (model === diffModel.modified) { // embedded inline chat diff would pass this, allowing highlights\n                //? currentModels.push(diffModel.original);\n                currentModels.push(diffModel.modified);\n            }\n        }\n        if (currentModels.length) { // no matching editors have been found\n            return currentModels;\n        }\n        // multi-doc OFF\n        if (this.occurrencesHighlight === 'singleFile') {\n            return [];\n        }\n        // multi-doc ON\n        for (const editor of currentEditors) {\n            const tempModel = editor.getModel();\n            const isValidModel = tempModel && tempModel !== model;\n            if (isValidModel) {\n                currentModels.push(tempModel);\n            }\n        }\n        return currentModels;\n    }\n    _run() {\n        var _a;\n        let workerRequestIsValid;\n        const hasTextFocus = this.editor.hasTextFocus();\n        if (!hasTextFocus) { // new nb cell scrolled in, didChangeModel fires\n            if (!WordHighlighter_1.query) { // no previous query, nothing to highlight off of\n                return;\n            }\n        }\n        else { // has text focus\n            const editorSelection = this.editor.getSelection();\n            // ignore multiline selection\n            if (!editorSelection || editorSelection.startLineNumber !== editorSelection.endLineNumber) {\n                WordHighlighter_1.query = null;\n                this._stopAll();\n                return;\n            }\n            const startColumn = editorSelection.startColumn;\n            const endColumn = editorSelection.endColumn;\n            const word = this._getWord();\n            // The selection must be inside a word or surround one word at most\n            if (!word || word.startColumn > startColumn || word.endColumn < endColumn) {\n                // no previous query, nothing to highlight\n                WordHighlighter_1.query = null;\n                this._stopAll();\n                return;\n            }\n            // All the effort below is trying to achieve this:\n            // - when cursor is moved to a word, trigger immediately a findOccurrences request\n            // - 250ms later after the last cursor move event, render the occurrences\n            // - no flickering!\n            workerRequestIsValid = (this.workerRequest && this.workerRequest.isValid(this.model, editorSelection, this.decorations));\n            WordHighlighter_1.query = {\n                modelInfo: {\n                    model: this.model,\n                    selection: editorSelection,\n                },\n                word: word\n            };\n        }\n        // There are 4 cases:\n        // a) old workerRequest is valid & completed, renderDecorationsTimer fired\n        // b) old workerRequest is valid & completed, renderDecorationsTimer not fired\n        // c) old workerRequest is valid, but not completed\n        // d) old workerRequest is not valid\n        // For a) no action is needed\n        // For c), member 'lastCursorPositionChangeTime' will be used when installing the timer so no action is needed\n        this.lastCursorPositionChangeTime = (new Date()).getTime();\n        if (workerRequestIsValid) {\n            if (this.workerRequestCompleted && this.renderDecorationsTimer !== -1) {\n                // case b)\n                // Delay the firing of renderDecorationsTimer by an extra 250 ms\n                clearTimeout(this.renderDecorationsTimer);\n                this.renderDecorationsTimer = -1;\n                this._beginRenderDecorations();\n            }\n        }\n        else {\n            // case d)\n            // Stop all previous actions and start fresh\n            this._stopAll();\n            const myRequestId = ++this.workerRequestTokenId;\n            this.workerRequestCompleted = false;\n            const otherModelsToHighlight = this.getOtherModelsToHighlight(this.editor.getModel());\n            // when reaching here, there are two possible states.\n            // \t\t1) we have text focus, and a valid query was updated.\n            // \t\t2) we do not have text focus, and a valid query is cached.\n            // the query will ALWAYS have the correct data for the current highlight request, so it can always be passed to the workerRequest safely\n            if (!WordHighlighter_1.query.modelInfo || WordHighlighter_1.query.modelInfo.model.isDisposed()) {\n                return;\n            }\n            this.workerRequest = this.computeWithModel(WordHighlighter_1.query.modelInfo.model, WordHighlighter_1.query.modelInfo.selection, WordHighlighter_1.query.word, otherModelsToHighlight);\n            (_a = this.workerRequest) === null || _a === void 0 ? void 0 : _a.result.then(data => {\n                if (myRequestId === this.workerRequestTokenId) {\n                    this.workerRequestCompleted = true;\n                    this.workerRequestValue = data || [];\n                    this._beginRenderDecorations();\n                }\n            }, onUnexpectedError);\n        }\n    }\n    computeWithModel(model, selection, word, otherModels) {\n        if (!otherModels.length) {\n            return computeOccurencesAtPosition(this.providers, model, selection, word, this.editor.getOption(131 /* EditorOption.wordSeparators */));\n        }\n        else {\n            return computeOccurencesMultiModel(this.multiDocumentProviders, model, selection, word, this.editor.getOption(131 /* EditorOption.wordSeparators */), otherModels);\n        }\n    }\n    _beginRenderDecorations() {\n        const currentTime = (new Date()).getTime();\n        const minimumRenderTime = this.lastCursorPositionChangeTime + 250;\n        if (currentTime >= minimumRenderTime) {\n            // Synchronous\n            this.renderDecorationsTimer = -1;\n            this.renderDecorations();\n        }\n        else {\n            // Asynchronous\n            this.renderDecorationsTimer = setTimeout(() => {\n                this.renderDecorations();\n            }, (minimumRenderTime - currentTime));\n        }\n    }\n    renderDecorations() {\n        var _a, _b, _c;\n        this.renderDecorationsTimer = -1;\n        // create new loop, iterate over current editors using this.codeEditorService.listCodeEditors(),\n        // if the URI of that codeEditor is in the map, then add the decorations to the decorations array\n        // then set the decorations for the editor\n        const currentEditors = this.codeEditorService.listCodeEditors();\n        for (const editor of currentEditors) {\n            const editorHighlighterContrib = WordHighlighterContribution.get(editor);\n            if (!editorHighlighterContrib) {\n                continue;\n            }\n            const newDecorations = [];\n            const uri = (_a = editor.getModel()) === null || _a === void 0 ? void 0 : _a.uri;\n            if (uri && this.workerRequestValue.has(uri)) {\n                const oldDecorationIDs = WordHighlighter_1.storedDecorations.get(uri);\n                const newDocumentHighlights = this.workerRequestValue.get(uri);\n                if (newDocumentHighlights) {\n                    for (const highlight of newDocumentHighlights) {\n                        if (!highlight.range) {\n                            continue;\n                        }\n                        newDecorations.push({\n                            range: highlight.range,\n                            options: getHighlightDecorationOptions(highlight.kind)\n                        });\n                    }\n                }\n                let newDecorationIDs = [];\n                editor.changeDecorations((changeAccessor) => {\n                    newDecorationIDs = changeAccessor.deltaDecorations(oldDecorationIDs !== null && oldDecorationIDs !== void 0 ? oldDecorationIDs : [], newDecorations);\n                });\n                WordHighlighter_1.storedDecorations = WordHighlighter_1.storedDecorations.set(uri, newDecorationIDs);\n                if (newDecorations.length > 0) {\n                    (_b = editorHighlighterContrib.wordHighlighter) === null || _b === void 0 ? void 0 : _b.decorations.set(newDecorations);\n                    (_c = editorHighlighterContrib.wordHighlighter) === null || _c === void 0 ? void 0 : _c._hasWordHighlights.set(true);\n                }\n            }\n        }\n    }\n    dispose() {\n        this._stopSingular();\n        this.toUnhook.dispose();\n    }\n};\nWordHighlighter.storedDecorations = new ResourceMap();\nWordHighlighter.query = null;\nWordHighlighter = WordHighlighter_1 = __decorate([\n    __param(4, ICodeEditorService)\n], WordHighlighter);\nlet WordHighlighterContribution = WordHighlighterContribution_1 = class WordHighlighterContribution extends Disposable {\n    static get(editor) {\n        return editor.getContribution(WordHighlighterContribution_1.ID);\n    }\n    constructor(editor, contextKeyService, languageFeaturesService, codeEditorService) {\n        super();\n        this._wordHighlighter = null;\n        const createWordHighlighterIfPossible = () => {\n            if (editor.hasModel() && !editor.getModel().isTooLargeForTokenization()) {\n                this._wordHighlighter = new WordHighlighter(editor, languageFeaturesService.documentHighlightProvider, languageFeaturesService.multiDocumentHighlightProvider, contextKeyService, codeEditorService);\n            }\n        };\n        this._register(editor.onDidChangeModel((e) => {\n            if (this._wordHighlighter) {\n                this._wordHighlighter.dispose();\n                this._wordHighlighter = null;\n            }\n            createWordHighlighterIfPossible();\n        }));\n        createWordHighlighterIfPossible();\n    }\n    get wordHighlighter() {\n        return this._wordHighlighter;\n    }\n    saveViewState() {\n        if (this._wordHighlighter && this._wordHighlighter.hasDecorations()) {\n            return true;\n        }\n        return false;\n    }\n    moveNext() {\n        var _a;\n        (_a = this._wordHighlighter) === null || _a === void 0 ? void 0 : _a.moveNext();\n    }\n    moveBack() {\n        var _a;\n        (_a = this._wordHighlighter) === null || _a === void 0 ? void 0 : _a.moveBack();\n    }\n    restoreViewState(state) {\n        if (this._wordHighlighter && state) {\n            this._wordHighlighter.restore();\n        }\n    }\n    dispose() {\n        if (this._wordHighlighter) {\n            this._wordHighlighter.dispose();\n            this._wordHighlighter = null;\n        }\n        super.dispose();\n    }\n};\nWordHighlighterContribution.ID = 'editor.contrib.wordHighlighter';\nWordHighlighterContribution = WordHighlighterContribution_1 = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, ILanguageFeaturesService),\n    __param(3, ICodeEditorService)\n], WordHighlighterContribution);\nexport { WordHighlighterContribution };\nclass WordHighlightNavigationAction extends EditorAction {\n    constructor(next, opts) {\n        super(opts);\n        this._isNext = next;\n    }\n    run(accessor, editor) {\n        const controller = WordHighlighterContribution.get(editor);\n        if (!controller) {\n            return;\n        }\n        if (this._isNext) {\n            controller.moveNext();\n        }\n        else {\n            controller.moveBack();\n        }\n    }\n}\nclass NextWordHighlightAction extends WordHighlightNavigationAction {\n    constructor() {\n        super(true, {\n            id: 'editor.action.wordHighlight.next',\n            label: nls.localize('wordHighlight.next.label', \"Go to Next Symbol Highlight\"),\n            alias: 'Go to Next Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 65 /* KeyCode.F7 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nclass PrevWordHighlightAction extends WordHighlightNavigationAction {\n    constructor() {\n        super(false, {\n            id: 'editor.action.wordHighlight.prev',\n            label: nls.localize('wordHighlight.previous.label', \"Go to Previous Symbol Highlight\"),\n            alias: 'Go to Previous Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 65 /* KeyCode.F7 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nclass TriggerWordHighlightAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.wordHighlight.trigger',\n            label: nls.localize('wordHighlight.trigger.label', \"Trigger Symbol Highlight\"),\n            alias: 'Trigger Symbol Highlight',\n            precondition: ctxHasWordHighlights.toNegated(),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 0,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        const controller = WordHighlighterContribution.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.restoreViewState(true);\n    }\n}\nregisterEditorContribution(WordHighlighterContribution.ID, WordHighlighterContribution, 0 /* EditorContributionInstantiation.Eager */); // eager because it uses `saveViewState`/`restoreViewState`\nregisterEditorAction(NextWordHighlightAction);\nregisterEditorAction(PrevWordHighlightAction);\nregisterEditorAction(TriggerWordHighlightAction);\n// registerEditorFeature(TextualMultiDocumentHighlightFeature);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { ReplaceCommand } from '../../../common/commands/replaceCommand.js';\nimport { EditorOptions } from '../../../common/config/editorOptions.js';\nimport { CursorState } from '../../../common/cursorCommon.js';\nimport { WordOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { getMapForWordSeparators } from '../../../common/core/wordCharacterClassifier.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport * as nls from '../../../../nls.js';\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../../../../platform/accessibility/common/accessibility.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IsWindowsContext } from '../../../../platform/contextkey/common/contextkeys.js';\nexport class MoveWordCommand extends EditorCommand {\n    constructor(opts) {\n        super(opts);\n        this._inSelectionMode = opts.inSelectionMode;\n        this._wordNavigationType = opts.wordNavigationType;\n    }\n    runEditorCommand(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(131 /* EditorOption.wordSeparators */), editor.getOption(130 /* EditorOption.wordSegmenterLocales */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const result = selections.map((sel) => {\n            const inPosition = new Position(sel.positionLineNumber, sel.positionColumn);\n            const outPosition = this._move(wordSeparators, model, inPosition, this._wordNavigationType);\n            return this._moveTo(sel, outPosition, this._inSelectionMode);\n        });\n        model.pushStackElement();\n        editor._getViewModel().setCursorStates('moveWordCommand', 3 /* CursorChangeReason.Explicit */, result.map(r => CursorState.fromModelSelection(r)));\n        if (result.length === 1) {\n            const pos = new Position(result[0].positionLineNumber, result[0].positionColumn);\n            editor.revealPosition(pos, 0 /* ScrollType.Smooth */);\n        }\n    }\n    _moveTo(from, to, inSelectionMode) {\n        if (inSelectionMode) {\n            // move just position\n            return new Selection(from.selectionStartLineNumber, from.selectionStartColumn, to.lineNumber, to.column);\n        }\n        else {\n            // move everything\n            return new Selection(to.lineNumber, to.column, to.lineNumber, to.column);\n        }\n    }\n}\nexport class WordLeftCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordOperations.moveWordLeft(wordSeparators, model, position, wordNavigationType);\n    }\n}\nexport class WordRightCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordOperations.moveWordRight(wordSeparators, model, position, wordNavigationType);\n    }\n}\nexport class CursorWordStartLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartLeft',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndLeft',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordLeft extends WordLeftCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 1 /* WordNavigationType.WordStartFast */,\n            id: 'cursorWordLeft',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 15 /* KeyCode.LeftArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordStartLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartLeftSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndLeftSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordLeftSelect extends WordLeftCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 1 /* WordNavigationType.WordStartFast */,\n            id: 'cursorWordLeftSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\n// Accessibility navigation commands should only be enabled on windows since they are tuned to what NVDA expects\nexport class CursorWordAccessibilityLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityLeft',\n            precondition: undefined\n        });\n    }\n    _move(wordCharacterClassifier, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue, wordCharacterClassifier.intlSegmenterLocales), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordAccessibilityLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityLeftSelect',\n            precondition: undefined\n        });\n    }\n    _move(wordCharacterClassifier, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue, wordCharacterClassifier.intlSegmenterLocales), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordStartRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartRight',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndRight extends WordRightCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndRight',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 17 /* KeyCode.RightArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordRight',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordStartRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartRightSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndRightSelect extends WordRightCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndRightSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordRightSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordAccessibilityRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityRight',\n            precondition: undefined\n        });\n    }\n    _move(wordCharacterClassifier, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue, wordCharacterClassifier.intlSegmenterLocales), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordAccessibilityRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityRightSelect',\n            precondition: undefined\n        });\n    }\n    _move(wordCharacterClassifier, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue, wordCharacterClassifier.intlSegmenterLocales), model, position, wordNavigationType);\n    }\n}\nexport class DeleteWordCommand extends EditorCommand {\n    constructor(opts) {\n        super(opts);\n        this._whitespaceHeuristics = opts.whitespaceHeuristics;\n        this._wordNavigationType = opts.wordNavigationType;\n    }\n    runEditorCommand(accessor, editor, args) {\n        const languageConfigurationService = accessor.get(ILanguageConfigurationService);\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(131 /* EditorOption.wordSeparators */), editor.getOption(130 /* EditorOption.wordSegmenterLocales */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const autoClosingBrackets = editor.getOption(6 /* EditorOption.autoClosingBrackets */);\n        const autoClosingQuotes = editor.getOption(11 /* EditorOption.autoClosingQuotes */);\n        const autoClosingPairs = languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getAutoClosingPairs();\n        const viewModel = editor._getViewModel();\n        const commands = selections.map((sel) => {\n            const deleteRange = this._delete({\n                wordSeparators,\n                model,\n                selection: sel,\n                whitespaceHeuristics: this._whitespaceHeuristics,\n                autoClosingDelete: editor.getOption(9 /* EditorOption.autoClosingDelete */),\n                autoClosingBrackets,\n                autoClosingQuotes,\n                autoClosingPairs,\n                autoClosedCharacters: viewModel.getCursorAutoClosedCharacters(),\n            }, this._wordNavigationType);\n            return new ReplaceCommand(deleteRange, '');\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nexport class DeleteWordLeftCommand extends DeleteWordCommand {\n    _delete(ctx, wordNavigationType) {\n        const r = WordOperations.deleteWordLeft(ctx, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        return new Range(1, 1, 1, 1);\n    }\n}\nexport class DeleteWordRightCommand extends DeleteWordCommand {\n    _delete(ctx, wordNavigationType) {\n        const r = WordOperations.deleteWordRight(ctx, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        const lineCount = ctx.model.getLineCount();\n        const maxColumn = ctx.model.getLineMaxColumn(lineCount);\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\n    }\n}\nexport class DeleteWordStartLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordStartLeft',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordEndLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordEndLeft',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordLeft',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1 /* KeyCode.Backspace */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 1 /* KeyCode.Backspace */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class DeleteWordStartRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordStartRight',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordEndRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordEndRight',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordRight',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 20 /* KeyCode.Delete */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 20 /* KeyCode.Delete */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class DeleteInsideWord extends EditorAction {\n    constructor() {\n        super({\n            id: 'deleteInsideWord',\n            precondition: EditorContextKeys.writable,\n            label: nls.localize('deleteInsideWord', \"Delete Word\"),\n            alias: 'Delete Word'\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(131 /* EditorOption.wordSeparators */), editor.getOption(130 /* EditorOption.wordSegmenterLocales */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const commands = selections.map((sel) => {\n            const deleteRange = WordOperations.deleteInsideWord(wordSeparators, model, sel);\n            return new ReplaceCommand(deleteRange, '');\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nregisterEditorCommand(new CursorWordStartLeft());\nregisterEditorCommand(new CursorWordEndLeft());\nregisterEditorCommand(new CursorWordLeft());\nregisterEditorCommand(new CursorWordStartLeftSelect());\nregisterEditorCommand(new CursorWordEndLeftSelect());\nregisterEditorCommand(new CursorWordLeftSelect());\nregisterEditorCommand(new CursorWordStartRight());\nregisterEditorCommand(new CursorWordEndRight());\nregisterEditorCommand(new CursorWordRight());\nregisterEditorCommand(new CursorWordStartRightSelect());\nregisterEditorCommand(new CursorWordEndRightSelect());\nregisterEditorCommand(new CursorWordRightSelect());\nregisterEditorCommand(new CursorWordAccessibilityLeft());\nregisterEditorCommand(new CursorWordAccessibilityLeftSelect());\nregisterEditorCommand(new CursorWordAccessibilityRight());\nregisterEditorCommand(new CursorWordAccessibilityRightSelect());\nregisterEditorCommand(new DeleteWordStartLeft());\nregisterEditorCommand(new DeleteWordEndLeft());\nregisterEditorCommand(new DeleteWordLeft());\nregisterEditorCommand(new DeleteWordStartRight());\nregisterEditorCommand(new DeleteWordEndRight());\nregisterEditorCommand(new DeleteWordRight());\nregisterEditorAction(DeleteInsideWord);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { WordPartOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { DeleteWordCommand, MoveWordCommand } from '../../wordOperations/browser/wordOperations.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nexport class DeleteWordPartLeft extends DeleteWordCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordPartLeft',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 1 /* KeyCode.Backspace */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    _delete(ctx, wordNavigationType) {\n        const r = WordPartOperations.deleteWordPartLeft(ctx);\n        if (r) {\n            return r;\n        }\n        return new Range(1, 1, 1, 1);\n    }\n}\nexport class DeleteWordPartRight extends DeleteWordCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordPartRight',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 20 /* KeyCode.Delete */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    _delete(ctx, wordNavigationType) {\n        const r = WordPartOperations.deleteWordPartRight(ctx);\n        if (r) {\n            return r;\n        }\n        const lineCount = ctx.model.getLineCount();\n        const maxColumn = ctx.model.getLineMaxColumn(lineCount);\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\n    }\n}\nexport class WordPartLeftCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordPartOperations.moveWordPartLeft(wordSeparators, model, position);\n    }\n}\nexport class CursorWordPartLeft extends WordPartLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordPartLeft',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\n// Register previous id for compatibility purposes\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeft', 'cursorWordPartLeft');\nexport class CursorWordPartLeftSelect extends WordPartLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordPartLeftSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\n// Register previous id for compatibility purposes\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeftSelect', 'cursorWordPartLeftSelect');\nexport class WordPartRightCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordPartOperations.moveWordPartRight(wordSeparators, model, position);\n    }\n}\nexport class CursorWordPartRight extends WordPartRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordPartRight',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordPartRightSelect extends WordPartRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordPartRightSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nregisterEditorCommand(new DeleteWordPartLeft());\nregisterEditorCommand(new DeleteWordPartRight());\nregisterEditorCommand(new CursorWordPartLeft());\nregisterEditorCommand(new CursorWordPartLeftSelect());\nregisterEditorCommand(new CursorWordPartRight());\nregisterEditorCommand(new CursorWordPartRightSelect());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Sash } from '../../../../base/browser/ui/sash/sash.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { IdGenerator } from '../../../../base/common/idGenerator.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport * as objects from '../../../../base/common/objects.js';\nimport './zoneWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nconst defaultColor = new Color(new RGBA(0, 122, 204));\nconst defaultOptions = {\n    showArrow: true,\n    showFrame: true,\n    className: '',\n    frameColor: defaultColor,\n    arrowColor: defaultColor,\n    keepEditorSelection: false\n};\nconst WIDGET_ID = 'vs.editor.contrib.zoneWidget';\nclass ViewZoneDelegate {\n    constructor(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight, showInHiddenAreas, ordinal) {\n        this.id = ''; // A valid zone id should be greater than 0\n        this.domNode = domNode;\n        this.afterLineNumber = afterLineNumber;\n        this.afterColumn = afterColumn;\n        this.heightInLines = heightInLines;\n        this.showInHiddenAreas = showInHiddenAreas;\n        this.ordinal = ordinal;\n        this._onDomNodeTop = onDomNodeTop;\n        this._onComputedHeight = onComputedHeight;\n    }\n    onDomNodeTop(top) {\n        this._onDomNodeTop(top);\n    }\n    onComputedHeight(height) {\n        this._onComputedHeight(height);\n    }\n}\nexport class OverlayWidgetDelegate {\n    constructor(id, domNode) {\n        this._id = id;\n        this._domNode = domNode;\n    }\n    getId() {\n        return this._id;\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return null;\n    }\n}\nclass Arrow {\n    constructor(_editor) {\n        this._editor = _editor;\n        this._ruleName = Arrow._IdGenerator.nextId();\n        this._decorations = this._editor.createDecorationsCollection();\n        this._color = null;\n        this._height = -1;\n    }\n    dispose() {\n        this.hide();\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n    }\n    set color(value) {\n        if (this._color !== value) {\n            this._color = value;\n            this._updateStyle();\n        }\n    }\n    set height(value) {\n        if (this._height !== value) {\n            this._height = value;\n            this._updateStyle();\n        }\n    }\n    _updateStyle() {\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n        dom.createCSSRule(`.monaco-editor ${this._ruleName}`, `border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `);\n    }\n    show(where) {\n        if (where.column === 1) {\n            // the arrow isn't pretty at column 1 and we need to push it out a little\n            where = { lineNumber: where.lineNumber, column: 2 };\n        }\n        this._decorations.set([{\n                range: Range.fromPositions(where),\n                options: {\n                    description: 'zone-widget-arrow',\n                    className: this._ruleName,\n                    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */\n                }\n            }]);\n    }\n    hide() {\n        this._decorations.clear();\n    }\n}\nArrow._IdGenerator = new IdGenerator('.arrow-decoration-');\nexport class ZoneWidget {\n    constructor(editor, options = {}) {\n        this._arrow = null;\n        this._overlayWidget = null;\n        this._resizeSash = null;\n        this._viewZone = null;\n        this._disposables = new DisposableStore();\n        this.container = null;\n        this._isShowing = false;\n        this.editor = editor;\n        this._positionMarkerId = this.editor.createDecorationsCollection();\n        this.options = objects.deepClone(options);\n        objects.mixin(this.options, defaultOptions, false);\n        this.domNode = document.createElement('div');\n        if (!this.options.isAccessible) {\n            this.domNode.setAttribute('aria-hidden', 'true');\n            this.domNode.setAttribute('role', 'presentation');\n        }\n        this._disposables.add(this.editor.onDidLayoutChange((info) => {\n            const width = this._getWidth(info);\n            this.domNode.style.width = width + 'px';\n            this.domNode.style.left = this._getLeft(info) + 'px';\n            this._onWidth(width);\n        }));\n    }\n    dispose() {\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n                this._viewZone = null;\n            });\n        }\n        this._positionMarkerId.clear();\n        this._disposables.dispose();\n    }\n    create() {\n        this.domNode.classList.add('zone-widget');\n        if (this.options.className) {\n            this.domNode.classList.add(this.options.className);\n        }\n        this.container = document.createElement('div');\n        this.container.classList.add('zone-widget-container');\n        this.domNode.appendChild(this.container);\n        if (this.options.showArrow) {\n            this._arrow = new Arrow(this.editor);\n            this._disposables.add(this._arrow);\n        }\n        this._fillContainer(this.container);\n        this._initSash();\n        this._applyStyles();\n    }\n    style(styles) {\n        if (styles.frameColor) {\n            this.options.frameColor = styles.frameColor;\n        }\n        if (styles.arrowColor) {\n            this.options.arrowColor = styles.arrowColor;\n        }\n        this._applyStyles();\n    }\n    _applyStyles() {\n        if (this.container && this.options.frameColor) {\n            const frameColor = this.options.frameColor.toString();\n            this.container.style.borderTopColor = frameColor;\n            this.container.style.borderBottomColor = frameColor;\n        }\n        if (this._arrow && this.options.arrowColor) {\n            const arrowColor = this.options.arrowColor.toString();\n            this._arrow.color = arrowColor;\n        }\n    }\n    _getWidth(info) {\n        return info.width - info.minimap.minimapWidth - info.verticalScrollbarWidth;\n    }\n    _getLeft(info) {\n        // If minimap is to the left, we move beyond it\n        if (info.minimap.minimapWidth > 0 && info.minimap.minimapLeft === 0) {\n            return info.minimap.minimapWidth;\n        }\n        return 0;\n    }\n    _onViewZoneTop(top) {\n        this.domNode.style.top = top + 'px';\n    }\n    _onViewZoneHeight(height) {\n        var _a;\n        this.domNode.style.height = `${height}px`;\n        if (this.container) {\n            const containerHeight = height - this._decoratingElementsHeight();\n            this.container.style.height = `${containerHeight}px`;\n            const layoutInfo = this.editor.getLayoutInfo();\n            this._doLayout(containerHeight, this._getWidth(layoutInfo));\n        }\n        (_a = this._resizeSash) === null || _a === void 0 ? void 0 : _a.layout();\n    }\n    get position() {\n        const range = this._positionMarkerId.getRange(0);\n        if (!range) {\n            return undefined;\n        }\n        return range.getStartPosition();\n    }\n    show(rangeOrPos, heightInLines) {\n        const range = Range.isIRange(rangeOrPos) ? Range.lift(rangeOrPos) : Range.fromPositions(rangeOrPos);\n        this._isShowing = true;\n        this._showImpl(range, heightInLines);\n        this._isShowing = false;\n        this._positionMarkerId.set([{ range, options: ModelDecorationOptions.EMPTY }]);\n    }\n    hide() {\n        var _a;\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n            });\n            this._viewZone = null;\n        }\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        (_a = this._arrow) === null || _a === void 0 ? void 0 : _a.hide();\n        this._positionMarkerId.clear();\n    }\n    _decoratingElementsHeight() {\n        const lineHeight = this.editor.getOption(67 /* EditorOption.lineHeight */);\n        let result = 0;\n        if (this.options.showArrow) {\n            const arrowHeight = Math.round(lineHeight / 3);\n            result += 2 * arrowHeight;\n        }\n        if (this.options.showFrame) {\n            const frameThickness = Math.round(lineHeight / 9);\n            result += 2 * frameThickness;\n        }\n        return result;\n    }\n    _showImpl(where, heightInLines) {\n        const position = where.getStartPosition();\n        const layoutInfo = this.editor.getLayoutInfo();\n        const width = this._getWidth(layoutInfo);\n        this.domNode.style.width = `${width}px`;\n        this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\n        // Render the widget as zone (rendering) and widget (lifecycle)\n        const viewZoneDomNode = document.createElement('div');\n        viewZoneDomNode.style.overflow = 'hidden';\n        const lineHeight = this.editor.getOption(67 /* EditorOption.lineHeight */);\n        // adjust heightInLines to viewport\n        if (!this.options.allowUnlimitedHeight) {\n            const maxHeightInLines = Math.max(12, (this.editor.getLayoutInfo().height / lineHeight) * 0.8);\n            heightInLines = Math.min(heightInLines, maxHeightInLines);\n        }\n        let arrowHeight = 0;\n        let frameThickness = 0;\n        // Render the arrow one 1/3 of an editor line height\n        if (this._arrow && this.options.showArrow) {\n            arrowHeight = Math.round(lineHeight / 3);\n            this._arrow.height = arrowHeight;\n            this._arrow.show(position);\n        }\n        // Render the frame as 1/9 of an editor line height\n        if (this.options.showFrame) {\n            frameThickness = Math.round(lineHeight / 9);\n        }\n        // insert zone widget\n        this.editor.changeViewZones((accessor) => {\n            if (this._viewZone) {\n                accessor.removeZone(this._viewZone.id);\n            }\n            if (this._overlayWidget) {\n                this.editor.removeOverlayWidget(this._overlayWidget);\n                this._overlayWidget = null;\n            }\n            this.domNode.style.top = '-1000px';\n            this._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, (top) => this._onViewZoneTop(top), (height) => this._onViewZoneHeight(height), this.options.showInHiddenAreas, this.options.ordinal);\n            this._viewZone.id = accessor.addZone(this._viewZone);\n            this._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + this._viewZone.id, this.domNode);\n            this.editor.addOverlayWidget(this._overlayWidget);\n        });\n        if (this.container && this.options.showFrame) {\n            const width = this.options.frameWidth ? this.options.frameWidth : frameThickness;\n            this.container.style.borderTopWidth = width + 'px';\n            this.container.style.borderBottomWidth = width + 'px';\n        }\n        const containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\n        if (this.container) {\n            this.container.style.top = arrowHeight + 'px';\n            this.container.style.height = containerHeight + 'px';\n            this.container.style.overflow = 'hidden';\n        }\n        this._doLayout(containerHeight, width);\n        if (!this.options.keepEditorSelection) {\n            this.editor.setSelection(where);\n        }\n        const model = this.editor.getModel();\n        if (model) {\n            const range = model.validateRange(new Range(where.startLineNumber, 1, where.endLineNumber + 1, 1));\n            this.revealRange(range, range.startLineNumber === model.getLineCount());\n        }\n    }\n    revealRange(range, isLastLine) {\n        if (isLastLine) {\n            this.editor.revealLineNearTop(range.endLineNumber, 0 /* ScrollType.Smooth */);\n        }\n        else {\n            this.editor.revealRange(range, 0 /* ScrollType.Smooth */);\n        }\n    }\n    setCssClass(className, classToReplace) {\n        if (!this.container) {\n            return;\n        }\n        if (classToReplace) {\n            this.container.classList.remove(classToReplace);\n        }\n        this.container.classList.add(className);\n    }\n    _onWidth(widthInPixel) {\n        // implement in subclass\n    }\n    _doLayout(heightInPixel, widthInPixel) {\n        // implement in subclass\n    }\n    _relayout(newHeightInLines) {\n        if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    this._viewZone.heightInLines = newHeightInLines;\n                    accessor.layoutZone(this._viewZone.id);\n                }\n            });\n        }\n    }\n    // --- sash\n    _initSash() {\n        if (this._resizeSash) {\n            return;\n        }\n        this._resizeSash = this._disposables.add(new Sash(this.domNode, this, { orientation: 1 /* Orientation.HORIZONTAL */ }));\n        if (!this.options.isResizeable) {\n            this._resizeSash.state = 0 /* SashState.Disabled */;\n        }\n        let data;\n        this._disposables.add(this._resizeSash.onDidStart((e) => {\n            if (this._viewZone) {\n                data = {\n                    startY: e.startY,\n                    heightInLines: this._viewZone.heightInLines,\n                };\n            }\n        }));\n        this._disposables.add(this._resizeSash.onDidEnd(() => {\n            data = undefined;\n        }));\n        this._disposables.add(this._resizeSash.onDidChange((evt) => {\n            if (data) {\n                const lineDelta = (evt.currentY - data.startY) / this.editor.getOption(67 /* EditorOption.lineHeight */);\n                const roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\n                const newHeightInLines = data.heightInLines + roundedLineDelta;\n                if (newHeightInLines > 5 && newHeightInLines < 35) {\n                    this._relayout(newHeightInLines);\n                }\n            }\n        }));\n    }\n    getHorizontalSashLeft() {\n        return 0;\n    }\n    getHorizontalSashTop() {\n        return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - (this._decoratingElementsHeight() / 2);\n    }\n    getHorizontalSashWidth() {\n        const layoutInfo = this.editor.getLayoutInfo();\n        return layoutInfo.width - layoutInfo.minimap.minimapWidth;\n    }\n}\n"],"names":["wrappingIndent","defaultValue","glyphMargin","autoIndent","overviewRulerLanes","setFormatterSelector","formatter","document","mode","Promise","resolve","api","editor","languages","CancellationTokenSource","Emitter","KeyCode","KeyMod","Position","Range","Selection","SelectionDirection","MarkerSeverity","MarkerTag","Uri","Token","monacoEnvironment","globalThis","MonacoEnvironment","globalAPI","define","monaco","require","config","ignoreDuplicateModules","paths","self","getWorkerUrl","moduleId","label","pathPrefix","__webpack_public_path__","result","replace","test","currentUrl","String","window","location","currentOrigin","substr","length","hash","search","pathname","substring","protocol","blob","Blob","type","URL","createObjectURL","ToggleTabFocusModeAction","Action2","constructor","super","id","ID","title","nls","key","comment","precondition","undefined","keybinding","primary","mac","weight","metadata","description","f1","run","newValue","TabFocus","getTabFocusMode","setTabFocusMode","alert","registerAction2","ForceRetokenizeAction","EditorAction","alias","accessor","hasModel","model","getModel","tokenization","resetTokenization","sw","StopWatch","forceTokenization","getLineCount","stop","console","log","concat","elapsed","registerEditorAction","__decorate","decorators","target","desc","d","c","arguments","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","BannerController","Disposable","_editor","instantiationService","this","banner","_register","createInstance","Banner","hide","setBanner","clear","show","item","onClose","_a","call","element","IInstantiationService","markdownRenderer","MarkdownRenderer","$","tabIndex","getAriaLabel","ariaLabel","message","getBannerMessage","innerText","render","clearNode","setAttribute","iconContainer","append","icon","appendChild","ThemeIcon","asCSSSelector","messageContainer","messageActionsContainer","actions","action","Link","actionBarContainer","actionBar","ActionBar","push","Action","asClassName","widgetClose","setFocusable","warningIcon","registerIcon","Codicon","warning","UnicodeHighlighter","_editorWorkerService","_workspaceTrustService","_highlighter","_bannerClosed","_updateState","state","hasMore","max","Math","ambiguousCharacterCount","nonBasicAsciiCharacterCount","invisibleCharacterCount","data","command","DisableHighlightingOfNonBasicAsciiCharactersAction","DisableHighlightingOfAmbiguousCharactersAction","Error","DisableHighlightingOfInvisibleCharactersAction","_bannerController","shortLabel","href","onDidChangeModel","_updateHighlighter","_options","getOption","onDidChangeTrust","e","onDidChangeConfiguration","hasChanged","dispose","options","trusted","nonBasicASCII","inUntrustedWorkspace","ambiguousCharacters","invisibleCharacters","includeComments","includeStrings","allowedCharacters","allowedLocales","resolveOptions","isWorkspaceTrusted","every","option","highlightOptions","allowedCodePoints","keys","map","codePointAt","locale","Intl","NumberFormat","resolvedOptions","platform","canComputeUnicodeHighlights","uri","DocumentUnicodeHighlighter","ViewportUnicodeHighlighter","getDecorationInfo","decoration","IEditorWorkerService","IWorkspaceTrustManagementService","_model","_decorations","createDecorationsCollection","_updateSoon","RunOnceScheduler","_update","onDidChangeModelContent","schedule","isDisposed","mightContainNonBasicASCII","modelVersionId","getVersionId","computedUnicodeHighlights","then","info","decorations","range","ranges","Decorations","instance","getDecorationFromOptions","set","has","isModelDecorationVisible","reason","computeReason","getValueInRange","inComment","isModelDecorationInComment","inString","isModelDecorationInString","onDidLayoutChange","onDidScrollChange","onDidChangeHiddenAreas","getVisibleRanges","totalResult","UnicodeTextModelHighlighter","computeUnicodeHighlights","text","configureUnicodeHighlightOptionsStr","UnicodeHighlighterHoverParticipant","_languageService","_openerService","hoverOrdinal","computeSync","anchor","lineDecorations","unicodeHighlighter","getContribution","existedReason","Set","index","highlightInfo","codePoint","codePointStr","formatCodePointMarkdown","kind","isBasicASCII","confusableWith","add","adjustSettingsArgs","adjustSettings","ShowExcludeOptions","encodeURIComponent","JSON","stringify","markdown","MarkdownString","appendMarkdown","appendText","appendLink","MarkdownHover","renderHoverParts","context","hoverParts","renderMarkdownHovers","codePointToHex","toString","padStart","value","InvisibleCharacters","isInvisibleCharacter","fromCodePoint","renderCodePointAsInlineCode","char","computeUnicodeHighlightReason","ILanguageService","IOpenerService","Map","getDecoration","hideInComments","hideInStrings","get","ModelDecorationOptions","createDynamic","stickiness","className","showIfCollapsed","overviewRuler","minimap","hideInCommentTokens","hideInStringTokens","DisableHighlightingInCommentsAction","args","configurationService","IConfigurationService","runAction","updateValue","unicodeHighlightConfigKeys","DisableHighlightingInStringsAction","quickPickService","IQuickInputService","notAmbiguousInLocales","async","excludeLocaleFromBeingHighlighted","getExcludeCharFromBeingHighlightedLabel","charCodes","existingValue","getValue","charCode","excludeCharFromBeingHighlighted","expectNever","pick","locales","inspect","user","assign","registerEditorContribution","HoverParticipantRegistry","register","ignoreUnusualLineTerminators","UnusualLineTerminatorsDetector","_dialogService","_codeEditorService","_isPresentingDialog","_config","_checkForUnusualLineTerminators","isUndoing","mightContainUnusualLineTerminators","ignoreState","codeEditorService","getModelProperty","readIgnoreState","removeUnusualLineTerminators","getSelections","confirm","detail","basename","primaryButton","cancelButton","confirmed","setModelProperty","writeIgnoreState","IDialogService","ICodeEditorService","wordHighlightBackground","registerColor","dark","light","hcDark","hcLight","wordHighlightBorder","activeContrastBorder","overviewRulerWordHighlightForeground","overviewRulerWordHighlightStrongForeground","overviewRulerWordHighlightTextForeground","overviewRulerSelectionHighlightForeground","_WRITE_OPTIONS","color","themeColorFromId","position","OverviewRulerLane","Center","minimapSelectionOccurrenceHighlight","_TEXT_OPTIONS","_SELECTION_HIGHLIGHT_OPTIONS","_SELECTION_HIGHLIGHT_OPTIONS_NO_OVERVIEW","_REGULAR_OPTIONS","getHighlightDecorationOptions","DocumentHighlightKind","Write","Text","getSelectionHighlightDecorationOptions","hasSemanticHighlights","registerThemingParticipant","theme","collector","selectionHighlight","getColor","editorSelectionHighlight","addRule","transparent","WordHighlighter_1","WordHighlighterContribution_1","ctxHasWordHighlights","RawContextKey","getOccurrencesAtPosition","registry","token","orderedByScore","ordered","first","provider","provideDocumentHighlights","onUnexpectedExternalError","arrays","ResourceMap","OccurenceAtPositionRequest","_selection","_wordSeparators","_wordRange","_getCurrentWordRange","_result","createCancelablePromise","_compute","selection","word","getWordAtPosition","getPosition","startLineNumber","startColumn","endColumn","isValid","lineNumber","currentWordRange","requestIsValid","Boolean","equalsRange","len","getRange","cancel","SemanticOccurenceAtPositionRequest","wordSeparators","providers","_providers","MultiModelOccurenceRequest","otherModels","_otherModels","filteredModels","filter","otherModel","shouldSynchronizeModel","score","selector","getLanguageId","provideMultiDocumentHighlights","t","size","getOccurrencesAcrossMultipleModels","TextualOccurenceRequest","_selectionIsEmpty","isEmpty","_word","timeout","wordResult","allModels","highlights","findMatches","m","currentSelectionIsEmpty","registerModelAndPositionCommand","languageFeaturesService","ILanguageFeaturesService","documentHighlightProvider","CancellationToken","None","WordHighlighter","multiProviders","contextKeyService","toUnhook","DisposableStore","workerRequestTokenId","workerRequestCompleted","workerRequestValue","lastCursorPositionChangeTime","renderDecorationsTimer","multiDocumentProviders","_hasWordHighlights","bindTo","_ignorePositionChangeEvent","occurrencesHighlight","onDidChangeCursorPosition","_onPositionChanged","onDidFocusEditorText","workerRequest","_run","_stopAll","newModelUrl","oldModelUrl","_stopSingular","query","hasDecorations","restore","_getSortedHighlights","getRanges","sort","compareRangesUsingStarts","moveNext","newIndex","findIndex","containsPosition","dest","setPosition","getStartPosition","revealRangeInCenterIfOutsideViewport","_getWord","lineContent","getLineContent","moveBack","_removeSingleDecorations","currentDecorationIDs","storedDecorations","removeDecorations","delete","_removeAllDecorations","currentEditors","listCodeEditors","deleteURI","editorHighlighterContrib","WordHighlighterContribution","wordHighlighter","_b","_c","_d","hasTextFocus","scheme","Schemas","vscodeNotebookCell","modelInfo","clearTimeout","editorSelection","getSelection","column","getOtherModelsToHighlight","currentModels","tempModel","isDiffEditor","diffModel","modified","workerRequestIsValid","endLineNumber","Date","getTime","_beginRenderDecorations","myRequestId","otherModelsToHighlight","computeWithModel","onUnexpectedError","computeOccurencesMultiModel","computeOccurencesAtPosition","currentTime","minimumRenderTime","renderDecorations","setTimeout","newDecorations","oldDecorationIDs","newDocumentHighlights","highlight","newDecorationIDs","changeDecorations","changeAccessor","deltaDecorations","_wordHighlighter","createWordHighlighterIfPossible","isTooLargeForTokenization","multiDocumentHighlightProvider","saveViewState","restoreViewState","IContextKeyService","WordHighlightNavigationAction","next","opts","_isNext","controller","TriggerWordHighlightAction","toNegated","kbOpts","kbExpr","EditorContextKeys","editorTextFocus","MoveWordCommand","EditorCommand","_inSelectionMode","inSelectionMode","_wordNavigationType","wordNavigationType","runEditorCommand","getMapForWordSeparators","sel","inPosition","positionLineNumber","positionColumn","outPosition","_move","_moveTo","pushStackElement","_getViewModel","setCursorStates","CursorState","fromModelSelection","pos","revealPosition","from","to","selectionStartLineNumber","selectionStartColumn","WordLeftCommand","WordOperations","moveWordLeft","WordRightCommand","moveWordRight","DeleteWordCommand","_whitespaceHeuristics","whitespaceHeuristics","languageConfigurationService","ILanguageConfigurationService","selections","autoClosingBrackets","autoClosingQuotes","autoClosingPairs","getLanguageConfiguration","getAutoClosingPairs","viewModel","commands","deleteRange","_delete","autoClosingDelete","autoClosedCharacters","getCursorAutoClosedCharacters","ReplaceCommand","pushUndoStop","executeCommands","DeleteWordLeftCommand","ctx","deleteWordLeft","DeleteWordRightCommand","deleteWordRight","lineCount","maxColumn","getLineMaxColumn","DeleteInsideWord","writable","deleteInsideWord","registerEditorCommand","ContextKeyExpr","and","textInputFocus","CONTEXT_ACCESSIBILITY_MODE_ENABLED","IsWindowsContext","negate","wordCharacterClassifier","EditorOptions","intlSegmenterLocales","DeleteWordPartLeft","WordPartOperations","deleteWordPartLeft","DeleteWordPartRight","deleteWordPartRight","WordPartLeftCommand","moveWordPartLeft","CommandsRegistry","registerCommandAlias","WordPartRightCommand","moveWordPartRight","defaultColor","Color","RGBA","defaultOptions","showArrow","showFrame","frameColor","arrowColor","keepEditorSelection","ViewZoneDelegate","domNode","afterLineNumber","afterColumn","heightInLines","onDomNodeTop","onComputedHeight","showInHiddenAreas","ordinal","_onDomNodeTop","_onComputedHeight","top","height","OverlayWidgetDelegate","_id","_domNode","getId","getDomNode","Arrow","_ruleName","_IdGenerator","nextId","_color","_height","dom","_updateStyle","where","fromPositions","IdGenerator","ZoneWidget","_arrow","_overlayWidget","_resizeSash","_viewZone","_disposables","container","_isShowing","_positionMarkerId","objects","createElement","isAccessible","width","_getWidth","style","left","_getLeft","_onWidth","removeOverlayWidget","changeViewZones","removeZone","create","classList","_fillContainer","_initSash","_applyStyles","styles","borderTopColor","borderBottomColor","minimapWidth","verticalScrollbarWidth","minimapLeft","_onViewZoneTop","_onViewZoneHeight","containerHeight","_decoratingElementsHeight","layoutInfo","getLayoutInfo","_doLayout","layout","rangeOrPos","isIRange","lift","_showImpl","EMPTY","lineHeight","round","viewZoneDomNode","overflow","allowUnlimitedHeight","maxHeightInLines","min","arrowHeight","frameThickness","addZone","addOverlayWidget","frameWidth","borderTopWidth","borderBottomWidth","setSelection","validateRange","revealRange","isLastLine","revealLineNearTop","setCssClass","classToReplace","remove","widthInPixel","heightInPixel","_relayout","newHeightInLines","layoutZone","Sash","orientation","isResizeable","onDidStart","startY","onDidEnd","onDidChange","evt","lineDelta","currentY","roundedLineDelta","ceil","floor","getHorizontalSashLeft","getHorizontalSashTop","parseInt","getHorizontalSashWidth"],"sourceRoot":""}