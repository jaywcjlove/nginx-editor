"use strict";(self.webpackChunkmonaco_editor_nginx=self.webpackChunkmonaco_editor_nginx||[]).push([[6658],{21019:function(e,t,i){i.d(t,{hT:function(){return H},Hb:function(){return z},mR:function(){return F}});var n,o,r=i(97326),s=i(11752),a=i(61120),u=i(37762),l=i(15671),c=i(43144),h=i(60136),d=i(27277),v=i(32959),g=i(36467),f=i(38102),_=i(65096),p=i(65631),m=i(17429),y=i(78519),b=i(70133),k=i(99964),w=i(24250),C=i(64606),S=i(75256),D=i(71049),N=i(98926),M=i(8022),Z=i(92763),L=function(e){(0,h.Z)(i,e);var t=(0,d.Z)(i);function i(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new v.Dimension(10,10);return(0,l.Z)(this,i),(n=t.call(this))._editor=e,n.allowEditorOverflow=!0,n.suppressMouseDown=!1,n._resizableNode=n._register(new Z.f),n._contentPosition=null,n._isResizing=!1,n._resizableNode.domNode.style.position="absolute",n._resizableNode.minSize=v.Dimension.lift(o),n._resizableNode.layout(o.height,o.width),n._resizableNode.enableSashes(!0,!0,!0,!0),n._register(n._resizableNode.onDidResize((function(e){n._resize(new v.Dimension(e.dimension.width,e.dimension.height)),e.done&&(n._isResizing=!1)}))),n._register(n._resizableNode.onDidWillResize((function(){n._isResizing=!0}))),n}return(0,c.Z)(i,[{key:"isResizing",get:function(){return this._isResizing}},{key:"getDomNode",value:function(){return this._resizableNode.domNode}},{key:"getPosition",value:function(){return this._contentPosition}},{key:"position",get:function(){var e;return(null===(e=this._contentPosition)||void 0===e?void 0:e.position)?p.L.lift(this._contentPosition.position):void 0}},{key:"_availableVerticalSpaceAbove",value:function(e){var t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);if(t&&i)return v.getDomNodePagePosition(t).top+i.top-30}},{key:"_availableVerticalSpaceBelow",value:function(e){var t=this._editor.getDomNode(),i=this._editor.getScrolledVisiblePosition(e);if(t&&i){var n=v.getDomNodePagePosition(t),o=v.getClientArea(t.ownerDocument.body),r=n.top+i.top+i.height;return o.height-r-24}}},{key:"_findPositionPreference",value:function(e,t){var i,n,o,r=Math.min(null!==(i=this._availableVerticalSpaceBelow(t))&&void 0!==i?i:1/0,e),s=Math.min(null!==(n=this._availableVerticalSpaceAbove(t))&&void 0!==n?n:1/0,e),a=Math.min(Math.max(s,r),e),u=Math.min(e,a);return 1===(o=this._editor.getOption(60).above?u<=s?1:2:u<=r?2:1)?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),o}},{key:"_resize",value:function(e){this._resizableNode.layout(e.height,e.width)}}]),i}(_.JT),P=i(77819),T=i(93897),I=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},R=function(e,t){return function(i,n){t(i,n,e)}},x=v.$,H=n=function(e){(0,h.Z)(i,e);var t=(0,d.Z)(i);function i(e,n,o){var r;(0,l.Z)(this,i),(r=t.call(this))._editor=e,r._instantiationService=n,r._keybindingService=o,r._currentResult=null,r._widget=r._register(r._instantiationService.createInstance(z,r._editor)),r._participants=[];var s,a=(0,u.Z)(w.Ae.getAll());try{for(a.s();!(s=a.n()).done;){var c=s.value;r._participants.push(r._instantiationService.createInstance(c,r._editor))}}catch(h){a.e(h)}finally{a.f()}return r._participants.sort((function(e,t){return e.hoverOrdinal-t.hoverOrdinal})),r._computer=new E(r._editor,r._participants),r._hoverOperation=r._register(new k.H(r._editor,r._computer)),r._register(r._hoverOperation.onResult((function(e){if(r._computer.anchor){var t=e.hasLoadingMessage?r._addLoadingMessage(e.value):e.value;r._withResult(new O(r._computer.anchor,t,e.isComplete))}}))),r._register(v.addStandardDisposableListener(r._widget.getDomNode(),"keydown",(function(e){e.equals(9)&&r.hide()}))),r._register(b.RW.onDidChange((function(){r._widget.position&&r._currentResult&&r._setCurrentResult(r._currentResult)}))),r}return(0,c.Z)(i,[{key:"widget",get:function(){return this._widget}},{key:"maybeShowAt",value:function(e){if(this._widget.isResizing)return!0;var t,i=[],n=(0,u.Z)(this._participants);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(o.suggestHoverAnchor){var r=o.suggestHoverAnchor(e);r&&i.push(r)}}}catch(l){n.e(l)}finally{n.f()}var s=e.target;if(6===s.type&&i.push(new w.Qj(0,s.range,e.event.posx,e.event.posy)),7===s.type){var a=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!s.detail.isAfterLines&&"number"===typeof s.detail.horizontalDistanceToText&&s.detail.horizontalDistanceToText<a&&i.push(new w.Qj(0,s.range,e.event.posx,e.event.posy))}return 0===i.length?this._startShowingOrUpdateHover(null,0,0,!1,e):(i.sort((function(e,t){return t.priority-e.priority})),this._startShowingOrUpdateHover(i[0],0,0,!1,e))}},{key:"startShowingAtRange",value:function(e,t,i,n){this._startShowingOrUpdateHover(new w.Qj(0,e,void 0,void 0),t,i,n,null)}},{key:"_startShowingOrUpdateHover",value:function(e,t,i,n,o){return this._widget.position&&this._currentResult?this._editor.getOption(60).sticky&&o&&this._widget.isMouseGettingCloser(o.event.posx,o.event.posy)?(e&&this._startHoverOperationIfNecessary(e,t,i,n,!0),!0):e?!(!e||!this._currentResult.anchor.equals(e))||(e.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(e)),this._startHoverOperationIfNecessary(e,t,i,n,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(e,t,i,n,!1),!0)):(this._setCurrentResult(null),!1):!!e&&(this._startHoverOperationIfNecessary(e,t,i,n,!1),!0)}},{key:"_startHoverOperationIfNecessary",value:function(e,t,i,n,o){this._computer.anchor&&this._computer.anchor.equals(e)||(this._hoverOperation.cancel(),this._computer.anchor=e,this._computer.shouldFocus=n,this._computer.source=i,this._computer.insistOnKeepingHoverVisible=o,this._hoverOperation.start(t))}},{key:"_setCurrentResult",value:function(e){this._currentResult!==e&&(e&&0===e.messages.length&&(e=null),this._currentResult=e,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}},{key:"hide",value:function(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}},{key:"isColorPickerVisible",get:function(){return this._widget.isColorPickerVisible}},{key:"isVisibleFromKeyboard",get:function(){return this._widget.isVisibleFromKeyboard}},{key:"isVisible",get:function(){return this._widget.isVisible}},{key:"isFocused",get:function(){return this._widget.isFocused}},{key:"isResizing",get:function(){return this._widget.isResizing}},{key:"containsNode",value:function(e){return!!e&&this._widget.getDomNode().contains(e)}},{key:"_addLoadingMessage",value:function(e){if(this._computer.anchor){var t,i=(0,u.Z)(this._participants);try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.createLoadingMessage){var o=n.createLoadingMessage(this._computer.anchor);if(o)return e.slice(0).concat([o])}}}catch(r){i.e(r)}finally{i.f()}}return e}},{key:"_withResult",value:function(e){if(this._widget.position&&this._currentResult&&this._currentResult.isComplete){if(!e.isComplete)return;if(this._computer.insistOnKeepingHoverVisible&&0===e.messages.length)return}this._setCurrentResult(e)}},{key:"_renderMessages",value:function(e,t){var i,o=this,r=n.computeHoverRanges(this._editor,e.range,t),s=r.showAtPosition,a=r.showAtSecondaryPosition,l=r.highlightRange,c=new _.SL,h=c.add(new F(this._keybindingService)),d=document.createDocumentFragment(),v=null,g={fragment:d,statusBar:h,setColorPicker:function(e){return v=e},onContentsChanged:function(){return o._widget.onContentsChanged()},setMinimumDimensions:function(e){return o._widget.setMinimumDimensions(e)},hide:function(){return o.hide()}},f=(0,u.Z)(this._participants);try{var p=function(){var e=i.value,n=t.filter((function(t){return t.owner===e}));n.length>0&&c.add(e.renderHoverParts(g,n))};for(f.s();!(i=f.n()).done;)p()}catch(b){f.e(b)}finally{f.f()}var m=t.some((function(e){return e.isBeforeContent}));if(h.hasContent&&d.appendChild(h.hoverElement),d.hasChildNodes()){if(l){var y=this._editor.createDecorationsCollection();y.set([{range:l,options:n._DECORATION_OPTIONS}]),c.add((0,_.OF)((function(){y.clear()})))}this._widget.showAt(d,new W(v,s,a,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,m,e.initialMousePosX,e.initialMousePosY,c))}else c.dispose()}},{key:"focus",value:function(){this._widget.focus()}},{key:"scrollUp",value:function(){this._widget.scrollUp()}},{key:"scrollDown",value:function(){this._widget.scrollDown()}},{key:"scrollLeft",value:function(){this._widget.scrollLeft()}},{key:"scrollRight",value:function(){this._widget.scrollRight()}},{key:"pageUp",value:function(){this._widget.pageUp()}},{key:"pageDown",value:function(){this._widget.pageDown()}},{key:"goToTop",value:function(){this._widget.goToTop()}},{key:"goToBottom",value:function(){this._widget.goToBottom()}}],[{key:"computeHoverRanges",value:function(e,t,i){var n=1;if(e.hasModel()){var o=e._getViewModel(),r=o.coordinatesConverter,s=r.convertModelRangeToViewRange(t),a=new p.L(s.startLineNumber,o.getLineMinColumn(s.startLineNumber));n=r.convertViewPositionToModelPosition(a).column}var l,c=t.startLineNumber,h=t.startColumn,d=i[0].range,v=null,g=(0,u.Z)(i);try{for(g.s();!(l=g.n()).done;){var f=l.value;d=m.e.plusRange(d,f.range),f.range.startLineNumber===c&&f.range.endLineNumber===c&&(h=Math.max(Math.min(h,f.range.startColumn),n)),f.forceShowAtRange&&(v=f.range)}}catch(_){g.e(_)}finally{g.f()}return{showAtPosition:v?v.getStartPosition():new p.L(c,t.startColumn),showAtSecondaryPosition:v?v.getStartPosition():new p.L(c,h),highlightRange:d}}}]),i}(_.JT);H._DECORATION_OPTIONS=y.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),H=n=I([R(1,C.TG),R(2,S.d)],H);var O=function(){function e(t,i,n){(0,l.Z)(this,e),this.anchor=t,this.messages=i,this.isComplete=n}return(0,c.Z)(e,[{key:"filter",value:function(e){var t=this.messages.filter((function(t){return t.isValidForHoverAnchor(e)}));return t.length===this.messages.length?this:new A(this,this.anchor,t,this.isComplete)}}]),e}(),A=function(e){(0,h.Z)(i,e);var t=(0,d.Z)(i);function i(e,n,o,r){var s;return(0,l.Z)(this,i),(s=t.call(this,n,o,r)).original=e,s}return(0,c.Z)(i,[{key:"filter",value:function(e){return this.original.filter(e)}}]),i}(O),W=(0,c.Z)((function e(t,i,n,o,r,s,a,u,c,h){(0,l.Z)(this,e),this.colorPicker=t,this.showAtPosition=i,this.showAtSecondaryPosition=n,this.preferAbove=o,this.stoleFocus=r,this.source=s,this.isBeforeContent=a,this.initialMousePosX=u,this.initialMousePosY=c,this.disposables=h,this.closestMouseDistance=void 0})),z=o=function(e){(0,h.Z)(i,e);var t=(0,d.Z)(i);function i(e,n,o,s,a){var u;(0,l.Z)(this,i);var c=e.getOption(66)+8,h=new v.Dimension(150,c);(u=t.call(this,e,h))._configurationService=o,u._accessibilityService=s,u._keybindingService=a,u._hover=u._register(new g.c8),u._minimumSize=h,u._hoverVisibleKey=N.u.hoverVisible.bindTo(n),u._hoverFocusedKey=N.u.hoverFocused.bindTo(n),v.append(u._resizableNode.domNode,u._hover.containerDomNode),u._resizableNode.domNode.style.zIndex="50",u._register(u._editor.onDidLayoutChange((function(){return u._layout()}))),u._register(u._editor.onDidChangeConfiguration((function(e){e.hasChanged(50)&&u._updateFont()})));var d=u._register(v.trackFocus(u._resizableNode.domNode));return u._register(d.onDidFocus((function(){u._hoverFocusedKey.set(!0)}))),u._register(d.onDidBlur((function(){u._hoverFocusedKey.set(!1)}))),u._setHoverData(void 0),u._layout(),u._editor.addContentWidget((0,r.Z)(u)),u}return(0,c.Z)(i,[{key:"isColorPickerVisible",get:function(){var e;return Boolean(null===(e=this._visibleData)||void 0===e?void 0:e.colorPicker)}},{key:"isVisibleFromKeyboard",get:function(){var e;return 1===(null===(e=this._visibleData)||void 0===e?void 0:e.source)}},{key:"isVisible",get:function(){var e;return null!==(e=this._hoverVisibleKey.get())&&void 0!==e&&e}},{key:"isFocused",get:function(){var e;return null!==(e=this._hoverFocusedKey.get())&&void 0!==e&&e}},{key:"dispose",value:function(){var e;(0,s.Z)((0,a.Z)(i.prototype),"dispose",this).call(this),null===(e=this._visibleData)||void 0===e||e.disposables.dispose(),this._editor.removeContentWidget(this)}},{key:"getId",value:function(){return o.ID}},{key:"_setContentsDomNodeDimensions",value:function(e,t){var i=this._hover.contentsDomNode;return o._applyDimensions(i,e,t)}},{key:"_setContainerDomNodeDimensions",value:function(e,t){var i=this._hover.containerDomNode;return o._applyDimensions(i,e,t)}},{key:"_setHoverWidgetDimensions",value:function(e,t){this._setContentsDomNodeDimensions(e,t),this._setContainerDomNodeDimensions(e,t),this._layoutContentWidget()}},{key:"_setHoverWidgetMaxDimensions",value:function(e,t){o._applyMaxDimensions(this._hover.contentsDomNode,e,t),o._applyMaxDimensions(this._hover.containerDomNode,e,t),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth","number"===typeof e?"".concat(e,"px"):e),this._layoutContentWidget()}},{key:"_hasHorizontalScrollbar",value:function(){var e=this._hover.scrollbar.getScrollDimensions();return e.scrollWidth>e.width}},{key:"_adjustContentsBottomPadding",value:function(){var e=this._hover.contentsDomNode,t="".concat(this._hover.scrollbar.options.horizontalScrollbarSize,"px");e.style.paddingBottom!==t&&(e.style.paddingBottom=t)}},{key:"_setAdjustedHoverWidgetDimensions",value:function(e){this._setHoverWidgetMaxDimensions("none","none");var t=e.width,i=e.height;this._setHoverWidgetDimensions(t,i),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(t,i-10))}},{key:"_updateResizableNodeMaxDimensions",value:function(){var e,t,i=null!==(e=this._findMaximumRenderingWidth())&&void 0!==e?e:1/0,n=null!==(t=this._findMaximumRenderingHeight())&&void 0!==t?t:1/0;this._resizableNode.maxSize=new v.Dimension(i,n),this._setHoverWidgetMaxDimensions(i,n)}},{key:"_resize",value:function(e){var t,i;o._lastDimensions=new v.Dimension(e.width,e.height),this._setAdjustedHoverWidgetDimensions(e),this._resizableNode.layout(e.height,e.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),null===(i=null===(t=this._visibleData)||void 0===t?void 0:t.colorPicker)||void 0===i||i.layout()}},{key:"_findAvailableSpaceVertically",value:function(){var e,t=null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition;if(t)return 1===this._positionPreference?this._availableVerticalSpaceAbove(t):this._availableVerticalSpaceBelow(t)}},{key:"_findMaximumRenderingHeight",value:function(){var e=this._findAvailableSpaceVertically();if(e){var t=6;return Array.from(this._hover.contentsDomNode.children).forEach((function(e){t+=e.clientHeight})),this._hasHorizontalScrollbar()&&(t+=10),Math.min(e,t)}}},{key:"_isHoverTextOverflowing",value:function(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");var e=Array.from(this._hover.contentsDomNode.children).some((function(e){return e.scrollWidth>e.clientWidth}));return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),e}},{key:"_findMaximumRenderingWidth",value:function(){if(this._editor&&this._editor.hasModel()){var e=this._isHoverTextOverflowing(),t="undefined"===typeof this._contentWidth?0:this._contentWidth-2;if(e||this._hover.containerDomNode.clientWidth<t){return v.getClientArea(this._hover.containerDomNode.ownerDocument.body).width-14}return this._hover.containerDomNode.clientWidth+2}}},{key:"isMouseGettingCloser",value:function(e,t){if(!this._visibleData)return!1;if("undefined"===typeof this._visibleData.initialMousePosX||"undefined"===typeof this._visibleData.initialMousePosY)return this._visibleData.initialMousePosX=e,this._visibleData.initialMousePosY=t,!1;var i=v.getDomNodePagePosition(this.getDomNode());"undefined"===typeof this._visibleData.closestMouseDistance&&(this._visibleData.closestMouseDistance=V(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,i.left,i.top,i.width,i.height));var n=V(e,t,i.left,i.top,i.width,i.height);return!(n>this._visibleData.closestMouseDistance+4)&&(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,n),!0)}},{key:"_setHoverData",value:function(e){var t;null===(t=this._visibleData)||void 0===t||t.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!e),this._hover.containerDomNode.classList.toggle("hidden",!e)}},{key:"_layout",value:function(){var e=this._editor.getOption(50),t=e.fontSize,i=e.lineHeight,n=this._hover.contentsDomNode;n.style.fontSize="".concat(t,"px"),n.style.lineHeight="".concat(i/t),this._updateMaxDimensions()}},{key:"_updateFont",value:function(){var e=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"_updateContent",value:function(e){var t=this._hover.contentsDomNode;t.style.paddingBottom="",t.textContent="",t.appendChild(e)}},{key:"_layoutContentWidget",value:function(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}},{key:"_updateMaxDimensions",value:function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250,o._lastDimensions.height),t=Math.max(.66*this._editor.getLayoutInfo().width,500,o._lastDimensions.width);this._setHoverWidgetMaxDimensions(t,e)}},{key:"_render",value:function(e,t){this._setHoverData(t),this._updateFont(),this._updateContent(e),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}},{key:"getPosition",value:function(){var e;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[null!==(e=this._positionPreference)&&void 0!==e?e:1]}:null}},{key:"showAt",value:function(e,t){var i,n,o,r;if(this._editor&&this._editor.hasModel()){this._render(e,t);var s=v.getTotalHeight(this._hover.containerDomNode),a=t.showAtPosition;this._positionPreference=null!==(i=this._findPositionPreference(s,a))&&void 0!==i?i:1,this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),null===(n=t.colorPicker)||void 0===n||n.layout();var u=(0,g.uX)(!0===this._configurationService.getValue("accessibility.verbosity.hover")&&this._accessibilityService.isScreenReaderOptimized(),null!==(r=null===(o=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))||void 0===o?void 0:o.getAriaLabel())&&void 0!==r?r:"");u&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+u)}}},{key:"hide",value:function(){if(this._visibleData){var e=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new v.Dimension(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}},{key:"_removeConstraintsRenderNormally",value:function(){var e=this._editor.getLayoutInfo();this._resizableNode.layout(e.height,e.width),this._setHoverWidgetDimensions("auto","auto")}},{key:"_adjustHoverHeightForScrollbar",value:function(e){var t,i=this._hover.containerDomNode,n=this._hover.contentsDomNode,o=null!==(t=this._findMaximumRenderingHeight())&&void 0!==t?t:1/0;this._setContainerDomNodeDimensions(v.getTotalWidth(i),Math.min(o,e)),this._setContentsDomNodeDimensions(v.getTotalWidth(n),Math.min(o,e-10))}},{key:"setMinimumDimensions",value:function(e){this._minimumSize=new v.Dimension(Math.max(this._minimumSize.width,e.width),Math.max(this._minimumSize.height,e.height)),this._updateMinimumWidth()}},{key:"_updateMinimumWidth",value:function(){var e="undefined"===typeof this._contentWidth?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new v.Dimension(e,this._minimumSize.height)}},{key:"onContentsChanged",value:function(){var e;this._removeConstraintsRenderNormally();var t=this._hover.containerDomNode,i=v.getTotalHeight(t),n=v.getTotalWidth(t);if(this._resizableNode.layout(i,n),this._setHoverWidgetDimensions(n,i),i=v.getTotalHeight(t),n=v.getTotalWidth(t),this._contentWidth=n,this._updateMinimumWidth(),this._resizableNode.layout(i,n),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(i)),null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition){var o=v.getTotalHeight(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(o,this._visibleData.showAtPosition)}this._layoutContentWidget()}},{key:"focus",value:function(){this._hover.containerDomNode.focus()}},{key:"scrollUp",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e-t.lineHeight})}},{key:"scrollDown",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:e+t.lineHeight})}},{key:"scrollLeft",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e-30})}},{key:"scrollRight",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e+30})}},{key:"pageUp",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e-t})}},{key:"pageDown",value:function(){var e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e+t})}},{key:"goToTop",value:function(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}},{key:"goToBottom",value:function(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}}],[{key:"_applyDimensions",value:function(e,t,i){var n="number"===typeof t?"".concat(t,"px"):t,o="number"===typeof i?"".concat(i,"px"):i;e.style.width=n,e.style.height=o}},{key:"_applyMaxDimensions",value:function(e,t,i){var n="number"===typeof t?"".concat(t,"px"):t,o="number"===typeof i?"".concat(i,"px"):i;e.style.maxWidth=n,e.style.maxHeight=o}}]),i}(L);z.ID="editor.contrib.resizableContentHoverWidget",z._lastDimensions=new v.Dimension(0,0),z=o=I([R(1,M.i6),R(2,P.Ui),R(3,T.F),R(4,S.d)],z);var F=function(e){(0,h.Z)(i,e);var t=(0,d.Z)(i);function i(e){var n;return(0,l.Z)(this,i),(n=t.call(this))._keybindingService=e,n._hasContent=!1,n.hoverElement=x("div.hover-row.status-bar"),n.actionsElement=v.append(n.hoverElement,x("div.actions")),n}return(0,c.Z)(i,[{key:"hasContent",get:function(){return this._hasContent}},{key:"addAction",value:function(e){var t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(g.Sr.render(this.actionsElement,e,i))}},{key:"append",value:function(e){var t=v.append(this.actionsElement,e);return this._hasContent=!0,t}}]),i}(_.JT);F=I([R(0,S.d)],F);var E=function(){function e(t,i){(0,l.Z)(this,e),this._editor=t,this._participants=i,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}return(0,c.Z)(e,[{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor=e}},{key:"shouldFocus",get:function(){return this._shouldFocus},set:function(e){this._shouldFocus=e}},{key:"source",get:function(){return this._source},set:function(e){this._source=e}},{key:"insistOnKeepingHoverVisible",get:function(){return this._insistOnKeepingHoverVisible},set:function(e){this._insistOnKeepingHoverVisible=e}},{key:"computeAsync",value:function(t){var i=this._anchor;if(!this._editor.hasModel()||!i)return D.Aq.EMPTY;var n=e._getLineDecorations(this._editor,i);return D.Aq.merge(this._participants.map((function(e){return e.computeAsync?e.computeAsync(i,n,t):D.Aq.EMPTY})))}},{key:"computeSync",value:function(){if(!this._editor.hasModel()||!this._anchor)return[];var t,i=e._getLineDecorations(this._editor,this._anchor),n=[],o=(0,u.Z)(this._participants);try{for(o.s();!(t=o.n()).done;){var r=t.value;n=n.concat(r.computeSync(this._anchor,i))}}catch(s){o.e(s)}finally{o.f()}return(0,f.kX)(n)}}],[{key:"_getLineDecorations",value:function(e,t){if(1!==t.type&&!t.supportsMarkerHover)return[];var i=e.getModel(),n=t.range.startLineNumber;if(n>i.getLineCount())return[];var o=i.getLineMaxColumn(n);return e.getLineDecorations(n).filter((function(e){if(e.options.isWholeLine)return!0;var i=e.range.startLineNumber===n?e.range.startColumn:1,r=e.range.endLineNumber===n?e.range.endColumn:o;if(e.options.showIfCollapsed){if(i>t.range.startColumn+1||t.range.endColumn-1>r)return!1}else if(i>t.range.startColumn||t.range.endColumn>r)return!1;return!0}))}}]),e}();function V(e,t,i,n,o,r){var s=i+o/2,a=n+r/2,u=Math.max(Math.abs(e-s)-o/2,0),l=Math.max(Math.abs(t-a)-r/2,0);return Math.sqrt(u*u+l*l)}},93630:function(e,t,i){i.d(t,{R8:function(){return v}});var n=i(74165),o=i(43144),r=i(15671),s=i(71049),a=i(7388),u=i(74146),l=i(95253),c=i(65441),h=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{u(n.next(e))}catch(t){r(t)}}function a(e){try{u(n.throw(e))}catch(t){r(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},d=(0,o.Z)((function e(t,i,n){(0,r.Z)(this,e),this.provider=t,this.hover=i,this.ordinal=n}));function v(e,t,i,o){var r=e.ordered(t).map((function(e,r){return function(e,t,i,o,r){return h(this,void 0,void 0,(0,n.Z)().mark((function s(){var a;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Promise.resolve(e.provideHover(i,o,r));case 3:if(!(a=n.sent)||!g(a)){n.next=6;break}return n.abrupt("return",new d(e,a,t));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),(0,u.Cp)(n.t0);case 11:return n.abrupt("return",void 0);case 12:case"end":return n.stop()}}),s,null,[[0,8]])})))}(e,r,t,i,o)}));return s.Aq.fromPromises(r).coalesce()}function g(e){var t="undefined"!==typeof e.range,i="undefined"!==typeof e.contents&&e.contents&&e.contents.length>0;return t&&i}(0,l.sb)("_executeHoverProvider",(function(e,t,i){return function(e,t,i,n){return v(e,t,i,n).map((function(e){return e.hover})).toPromise()}(e.get(c.p).hoverProvider,t,i,a.T.None)}))},29596:function(e,t,i){i.r(t),i.d(t,{ModesHoverController:function(){return re}});var n=i(15671),o=i(43144),r=i(11752),s=i(61120),a=i(60136),u=i(27277),l=i(89490),c=i(65096),h=i(95253),d=i(17429),v=i(98926),g=i(58188),f=i(86018),_=i(21019),p=i(93433),m=i(37762),y=i(97326),b=i(32959),k=i(38102),w=i(71047),C=i(46757),S=i(99964),D=i(36467),N=b.$,M=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(e,o,r){var s;return(0,n.Z)(this,i),(s=t.call(this))._renderDisposeables=s._register(new c.SL),s._editor=e,s._isVisible=!1,s._messages=[],s._hover=s._register(new D.c8),s._hover.containerDomNode.classList.toggle("hidden",!s._isVisible),s._markdownRenderer=s._register(new C.$({editor:s._editor},o,r)),s._computer=new Z(s._editor),s._hoverOperation=s._register(new S.H(s._editor,s._computer)),s._register(s._hoverOperation.onResult((function(e){s._withResult(e.value)}))),s._register(s._editor.onDidChangeModelDecorations((function(){return s._onModelDecorationsChanged()}))),s._register(s._editor.onDidChangeConfiguration((function(e){e.hasChanged(50)&&s._updateFont()}))),s._editor.addOverlayWidget((0,y.Z)(s)),s}return(0,o.Z)(i,[{key:"dispose",value:function(){this._editor.removeOverlayWidget(this),(0,r.Z)((0,s.Z)(i.prototype),"dispose",this).call(this)}},{key:"getId",value:function(){return i.ID}},{key:"getDomNode",value:function(){return this._hover.containerDomNode}},{key:"getPosition",value:function(){return null}},{key:"_updateFont",value:function(){var e=this;Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((function(t){return e._editor.applyFontInfo(t)}))}},{key:"_onModelDecorationsChanged",value:function(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}},{key:"startShowingAt",value:function(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}},{key:"hide",value:function(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}},{key:"_withResult",value:function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}},{key:"_renderMessages",value:function(e,t){this._renderDisposeables.clear();var i,n=document.createDocumentFragment(),o=(0,m.Z)(t);try{for(o.s();!(i=o.n()).done;){var r=i.value,s=N("div.hover-row.markdown-hover"),a=b.append(s,N("div.hover-contents")),u=this._renderDisposeables.add(this._markdownRenderer.render(r.value));a.appendChild(u.element),n.appendChild(s)}}catch(l){o.e(l)}finally{o.f()}this._updateContents(n),this._showAt(e)}},{key:"_updateContents",value:function(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}},{key:"_showAt",value:function(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));var t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),n=this._editor.getScrollTop(),o=this._editor.getOption(66),r=i-n-(this._hover.containerDomNode.clientHeight-o)/2;this._hover.containerDomNode.style.left="".concat(t.glyphMarginLeft+t.glyphMarginWidth,"px"),this._hover.containerDomNode.style.top="".concat(Math.max(Math.round(r),0),"px")}}]),i}(c.JT);M.ID="editor.contrib.modesGlyphHoverWidget";var Z=function(){function e(t){(0,n.Z)(this,e),this._editor=t,this._lineNumber=-1}return(0,o.Z)(e,[{key:"lineNumber",get:function(){return this._lineNumber},set:function(e){this._lineNumber=e}},{key:"computeSync",value:function(){var e=function(e){return{value:e}},t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;var n,o=(0,m.Z)(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(r.options.glyphMarginClassName){var s=r.options.glyphMarginHoverMessage;s&&!(0,w.CP)(s)&&i.push.apply(i,(0,p.Z)((0,k._2)(s).map(e)))}}}catch(a){o.e(a)}finally{o.f()}return i}}]),e}(),L=i(64606),P=i(51713),T=i(43980),I=i(41335),R=i(24250),x=i(80592),H=i(71049),O=i(74146),A=i(44641),W=i(65441),z=i(36053),F=i(47150),E=i(32714),V=i(53222),U=i(50543),B=i(18420),Q=i(81266),K=i(28322),j=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Y=function(e,t){return function(i,n){t(i,n,e)}},q=b.$,G=function(){function e(t,i,o){(0,n.Z)(this,e),this.owner=t,this.range=i,this.marker=o}return(0,o.Z)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),J={type:1,filter:{include:V.yN.QuickFix},triggerAction:V.aQ.QuickFixHover},X=function(){function e(t,i,o,r){(0,n.Z)(this,e),this._editor=t,this._markerDecorationsService=i,this._openerService=o,this._languageFeaturesService=r,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}return(0,o.Z)(e,[{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type&&!e.supportsMarkerHover)return[];var i,n=this._editor.getModel(),o=e.range.startLineNumber,r=n.getLineMaxColumn(o),s=[],a=(0,m.Z)(t);try{for(a.s();!(i=a.n()).done;){var u=i.value,l=u.range.startLineNumber===o?u.range.startColumn:1,c=u.range.endLineNumber===o?u.range.endColumn:r,h=this._markerDecorationsService.getMarker(n.uri,u);if(h){var v=new d.e(e.range.startLineNumber,l,e.range.startLineNumber,c);s.push(new G(this,v,h))}}}catch(g){a.e(g)}finally{a.f()}return s}},{key:"renderHoverParts",value:function(e,t){var i=this;if(!t.length)return c.JT.None;var n=new c.SL;t.forEach((function(t){return e.fragment.appendChild(i.renderMarkerHover(t,n))}));var o=1===t.length?t[0]:t.sort((function(e,t){return Q.ZL.compare(e.marker.severity,t.marker.severity)}))[0];return this.renderMarkerStatusbar(e,o,n),n}},{key:"renderMarkerHover",value:function(e,t){var i=this,n=q("div.hover-row"),o=b.append(n,q("div.marker.hover-contents")),r=e.marker,s=r.source,a=r.message,u=r.code,l=r.relatedInformation;this._editor.applyFontInfo(o);var c=b.append(o,q("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=a,s||u)if(u&&"string"!==typeof u){var h=q("span");if(s)b.append(h,q("span")).innerText=s;var d=b.append(h,q("a.code-link"));d.setAttribute("href",u.target.toString()),t.add(b.addDisposableListener(d,"click",(function(e){i._openerService.open(u.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()}))),b.append(d,q("span")).innerText=u.value;var v=b.append(o,h);v.style.opacity="0.6",v.style.paddingLeft="6px"}else{var g=b.append(o,q("span"));g.style.opacity="0.6",g.style.paddingLeft="6px",g.innerText=s&&u?"".concat(s,"(").concat(u,")"):s||"(".concat(u,")")}if((0,k.Of)(l)){var f,_=(0,m.Z)(l);try{var p=function(){var e=f.value,n=e.message,r=e.resource,s=e.startLineNumber,a=e.startColumn,u=b.append(o,q("div"));u.style.marginTop="8px";var l=b.append(u,q("a"));l.innerText="".concat((0,A.EZ)(r),"(").concat(s,", ").concat(a,"): "),l.style.cursor="pointer",t.add(b.addDisposableListener(l,"click",(function(e){e.stopPropagation(),e.preventDefault(),i._openerService&&i._openerService.open(r,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:s,startColumn:a}}}).catch(O.dL)})));var c=b.append(u,q("span"));c.innerText=n,i._editor.applyFontInfo(c)};for(_.s();!(f=_.n()).done;)p()}catch(y){_.e(y)}finally{_.f()}}return n}},{key:"renderMarkerStatusbar",value:function(e,t,i){var n=this;if(t.marker.severity!==Q.ZL.Error&&t.marker.severity!==Q.ZL.Warning&&t.marker.severity!==Q.ZL.Info||e.statusBar.addAction({label:B.NC("view problem","View Problem"),commandId:U.NextMarkerAction.ID,run:function(){var i;e.hide(),null===(i=U.MarkerController.get(n._editor))||void 0===i||i.showAtMarker(t.marker),n._editor.focus()}}),!this._editor.getOption(90)){var o=e.statusBar.append(q("div"));this.recentMarkerCodeActionsInfo&&(Q.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===Q.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(o.textContent=B.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);var r=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?c.JT.None:i.add((0,H.Vg)((function(){return o.textContent=B.NC("checkingForQuickFixes","Checking for quick fixes...")}),200));o.textContent||(o.textContent=String.fromCharCode(160));var s=this.getCodeActions(t.marker);i.add((0,c.OF)((function(){return s.cancel()}))),s.then((function(s){if(r.dispose(),n.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:s.validActions.length>0},!n.recentMarkerCodeActionsInfo.hasCodeActions)return s.dispose(),void(o.textContent=B.NC("noQuickFixes","No quick fixes available"));o.style.display="none";var a=!1;i.add((0,c.OF)((function(){a||s.dispose()}))),e.statusBar.addAction({label:B.NC("quick fixes","Quick Fix..."),commandId:F.cz,run:function(t){a=!0;var i=E.G.get(n._editor),o=b.getDomNodePagePosition(t);e.hide(),null===i||void 0===i||i.showCodeActions(J,s,{x:o.left,y:o.top,width:o.width,height:o.height})}})}),O.dL)}}},{key:"getCodeActions",value:function(e){var t=this;return(0,H.PG)((function(i){return(0,F.aI)(t._languageFeaturesService.codeActionProvider,t._editor.getModel(),new d.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),J,K.Ex.None,i)}))}}]),e}();X=j([Y(1,z.i),Y(2,P.v4),Y(3,W.p)],X);var $,ee=i(26755),te=i(75256),ie=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ne=function(e,t){return function(i,n){t(i,n,e)}},oe=!1,re=$=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(e,o,r,s,a){var u;return(0,n.Z)(this,i),(u=t.call(this))._editor=e,u._instantiationService=o,u._openerService=r,u._languageService=s,u._keybindingService=a,u._toUnhook=new c.SL,u._hoverActivatedByColorDecoratorClick=!1,u._isMouseDown=!1,u._hoverClicked=!1,u._contentWidget=null,u._glyphWidget=null,u._reactToEditorMouseMoveRunner=u._register(new H.pY((function(){return u._reactToEditorMouseMove(u._mouseMoveEvent)}),0)),u._hookEvents(),u._register(u._editor.onDidChangeConfiguration((function(e){e.hasChanged(60)&&(u._unhookEvents(),u._hookEvents())}))),u._register(u._editor.onMouseLeave((function(){u._mouseMoveEvent=void 0,u._reactToEditorMouseMoveRunner.cancel()}))),u}return(0,o.Z)(i,[{key:"_hookEvents",value:function(){var e=this,t=this._editor.getOption(60);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._hidingDelay=t.hidingDelay,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((function(t){return e._onEditorMouseDown(t)}))),this._toUnhook.add(this._editor.onMouseUp((function(t){return e._onEditorMouseUp(t)}))),this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)})))):(this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)})))),this._toUnhook.add(this._editor.onMouseLeave((function(t){return e._onEditorMouseLeave(t)}))),this._toUnhook.add(this._editor.onDidChangeModel((function(){return e._hideWidgets()}))),this._toUnhook.add(this._editor.onDidScrollChange((function(t){return e._onEditorScrollChanged(t)})))}},{key:"_unhookEvents",value:function(){this._toUnhook.clear()}},{key:"_onEditorScrollChanged",value:function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}},{key:"_onEditorMouseDown",value:function(e){var t;this._isMouseDown=!0;var i=e.target;9!==i.type||i.detail!==_.Hb.ID?12===i.type&&i.detail===M.ID||(12!==i.type&&(this._hoverClicked=!1),(null===(t=this._contentWidget)||void 0===t?void 0:t.widget.isResizing)||this._hideWidgets()):this._hoverClicked=!0}},{key:"_onEditorMouseUp",value:function(e){this._isMouseDown=!1}},{key:"_onEditorMouseLeave",value:function(e){var t,i,n=e.event.browserEvent.relatedTarget;(null===(t=this._contentWidget)||void 0===t?void 0:t.widget.isResizing)||(null===(i=this._contentWidget)||void 0===i?void 0:i.containsNode(n))||this._hideWidgets()}},{key:"_isMouseOverWidget",value:function(e){var t,i,n,o,r,s=e.target;return!(!this._isHoverSticky||9!==s.type||s.detail!==_.Hb.ID)||(!(!this._isHoverSticky||!(null===(t=this._contentWidget)||void 0===t?void 0:t.containsNode(null===(i=e.event.browserEvent.view)||void 0===i?void 0:i.document.activeElement))||(null===(o=null===(n=e.event.browserEvent.view)||void 0===n?void 0:n.getSelection())||void 0===o?void 0:o.isCollapsed))||(!(this._isHoverSticky||9!==s.type||s.detail!==_.Hb.ID||!(null===(r=this._contentWidget)||void 0===r?void 0:r.isColorPickerVisible))||!(!this._isHoverSticky||12!==s.type||s.detail!==M.ID)))}},{key:"_onEditorMouseMove",value:function(e){var t,i,n,o;(this._mouseMoveEvent=e,(null===(t=this._contentWidget)||void 0===t?void 0:t.isFocused)||(null===(i=this._contentWidget)||void 0===i?void 0:i.isResizing))||(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&(null===(n=this._contentWidget)||void 0===n?void 0:n.isVisibleFromKeyboard)||(this._isMouseOverWidget(e)?this._reactToEditorMouseMoveRunner.cancel():(null===(o=this._contentWidget)||void 0===o?void 0:o.isVisible)&&this._isHoverSticky&&this._hidingDelay>0?this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(this._hidingDelay):this._reactToEditorMouseMove(e)))}},{key:"_reactToEditorMouseMove",value:function(e){var t,i,n;if(e){var o=e.target,r=null===(t=o.element)||void 0===t?void 0:t.classList.contains("colorpicker-color-decoration"),s=this._editor.getOption(146);if(r&&("click"===s&&!this._hoverActivatedByColorDecoratorClick||"hover"===s&&!this._isHoverEnabled||"clickAndHover"===s&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick)||!(r||this._isHoverEnabled||this._hoverActivatedByColorDecoratorClick))this._hideWidgets();else if(this._getOrCreateContentWidget().maybeShowAt(e))null===(i=this._glyphWidget)||void 0===i||i.hide();else{if(2===o.type&&o.position)return null===(n=this._contentWidget)||void 0===n||n.hide(),this._glyphWidget||(this._glyphWidget=new M(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(o.position.lineNumber);oe,this._hideWidgets()}}}},{key:"_onKeyDown",value:function(e){var t;if(this._editor.hasModel()){var i=this._keybindingService.softDispatch(e,this._editor.getDomNode()),n=1===i.kind||2===i.kind&&"editor.action.showHover"===i.commandId&&(null===(t=this._contentWidget)||void 0===t?void 0:t.isVisible);5===e.keyCode||6===e.keyCode||57===e.keyCode||4===e.keyCode||n||this._hideWidgets()}}},{key:"_hideWidgets",value:function(){var e,t,i;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible)||ee.QG.dropDownVisible||(this._hoverActivatedByColorDecoratorClick=!1,this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(i=this._contentWidget)||void 0===i||i.hide())}},{key:"_getOrCreateContentWidget",value:function(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(_.hT,this._editor)),this._contentWidget}},{key:"showContentHover",value:function(e,t,i,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._hoverActivatedByColorDecoratorClick=o,this._getOrCreateContentWidget().startShowingAtRange(e,t,i,n)}},{key:"focus",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.focus()}},{key:"scrollUp",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollUp()}},{key:"scrollDown",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollDown()}},{key:"scrollLeft",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollLeft()}},{key:"scrollRight",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollRight()}},{key:"pageUp",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.pageUp()}},{key:"pageDown",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.pageDown()}},{key:"goToTop",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.goToTop()}},{key:"goToBottom",value:function(){var e;null===(e=this._contentWidget)||void 0===e||e.goToBottom()}},{key:"isColorPickerVisible",get:function(){var e;return null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible}},{key:"isHoverVisible",get:function(){var e;return null===(e=this._contentWidget)||void 0===e?void 0:e.isVisible}},{key:"dispose",value:function(){var e,t;(0,r.Z)((0,s.Z)(i.prototype),"dispose",this).call(this),this._unhookEvents(),this._toUnhook.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}}],[{key:"get",value:function(e){return e.getContribution($.ID)}}]),i}(c.JT);re.ID="editor.contrib.hover",re=$=ie([ne(1,L.TG),ne(2,P.v4),ne(3,g.O),ne(4,te.d)],re);var se=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,n.Z)(this,i),t.call(this,{id:"editor.action.showHover",label:B.NC({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse.","If the hover is already visible, it will take focus."]},"Show or Focus Hover"),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:v.u.editorTextFocus,primary:(0,l.gx)(2089,2087),weight:100}})}return(0,o.Z)(i,[{key:"run",value:function(e,t,i){if(t.hasModel()){var n=re.get(t);if(n){var o=t.getPosition(),r=new d.e(o.lineNumber,o.column,o.lineNumber,o.column),s=2===t.getOption(2)||!!(null===i||void 0===i?void 0:i.focus);n.isHoverVisible?n.focus():n.showContentHover(r,1,1,s)}}}}]),i}(h.R6),ae=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,n.Z)(this,i),t.call(this,{id:"editor.action.showDefinitionPreviewHover",label:B.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}return(0,o.Z)(i,[{key:"run",value:function(e,t){var i=re.get(t);if(i){var n=t.getPosition();if(n){var o=new d.e(n.lineNumber,n.column,n.lineNumber,n.column),r=f.GotoDefinitionAtPositionEditorContribution.get(t);if(r)r.startFindDefinitionFromCursor(n).then((function(){i.showContentHover(o,1,1,!0)}))}}}}]),i}(h.R6),ue=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,n.Z)(this,i),t.call(this,{id:"editor.action.scrollUpHover",label:B.NC({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:16,weight:100}})}return(0,o.Z)(i,[{key:"run",value:function(e,t){var i=re.get(t);i&&i.scrollUp()}}]),i}(h.R6),le=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,n.Z)(this,i),t.call(this,{id:"editor.action.scrollDownHover",label:B.NC({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:18,weight:100}})}return(0,o.Z)(i,[{key:"run",value:function(e,t){var i=re.get(t);i&&i.scrollDown()}}]),i}(h.R6),ce=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,n.Z)(this,i),t.call(this,{id:"editor.action.scrollLeftHover",label:B.NC({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:15,weight:100}})}return(0,o.Z)(i,[{key:"run",value:function(e,t){var i=re.get(t);i&&i.scrollLeft()}}]),i}(h.R6),he=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,n.Z)(this,i),t.call(this,{id:"editor.action.scrollRightHover",label:B.NC({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:17,weight:100}})}return(0,o.Z)(i,[{key:"run",value:function(e,t){var i=re.get(t);i&&i.scrollRight()}}]),i}(h.R6),de=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,n.Z)(this,i),t.call(this,{id:"editor.action.pageUpHover",label:B.NC({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:11,secondary:[528],weight:100}})}return(0,o.Z)(i,[{key:"run",value:function(e,t){var i=re.get(t);i&&i.pageUp()}}]),i}(h.R6),ve=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,n.Z)(this,i),t.call(this,{id:"editor.action.pageDownHover",label:B.NC({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:12,secondary:[530],weight:100}})}return(0,o.Z)(i,[{key:"run",value:function(e,t){var i=re.get(t);i&&i.pageDown()}}]),i}(h.R6),ge=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,n.Z)(this,i),t.call(this,{id:"editor.action.goToTopHover",label:B.NC({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:14,secondary:[2064],weight:100}})}return(0,o.Z)(i,[{key:"run",value:function(e,t){var i=re.get(t);i&&i.goToTop()}}]),i}(h.R6),fe=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,n.Z)(this,i),t.call(this,{id:"editor.action.goToBottomHover",label:B.NC({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:13,secondary:[2066],weight:100}})}return(0,o.Z)(i,[{key:"run",value:function(e,t){var i=re.get(t);i&&i.goToBottom()}}]),i}(h.R6);(0,h._K)(re.ID,re,2),(0,h.Qr)(se),(0,h.Qr)(ae),(0,h.Qr)(ue),(0,h.Qr)(le),(0,h.Qr)(ce),(0,h.Qr)(he),(0,h.Qr)(de),(0,h.Qr)(ve),(0,h.Qr)(ge),(0,h.Qr)(fe),R.Ae.register(x.D5),R.Ae.register(X),(0,I.Ic)((function(e,t){var i=e.getColor(T.CNo);i&&(t.addRule(".monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(i.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-top: 1px solid ".concat(i.transparent(.5),"; }")),t.addRule(".monaco-editor .monaco-hover hr { border-bottom: 0px solid ".concat(i.transparent(.5),"; }")))}))},99964:function(e,t,i){i.d(t,{H:function(){return p}});var n=i(74165),o=i(11752),r=i(61120),s=i(60136),a=i(27277),u=i(43144),l=i(15671),c=i(71049),h=i(74146),d=i(13880),v=i(65096),g=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{u(n.next(e))}catch(t){r(t)}}function a(e){try{u(n.throw(e))}catch(t){r(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},f=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"===typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,o){(function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)})(n,o,(t=e[i](t)).done,t.value)}))}}},_=(0,u.Z)((function e(t,i,n){(0,l.Z)(this,e),this.value=t,this.isComplete=i,this.hasLoadingMessage=n})),p=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(e,n){var o;return(0,l.Z)(this,i),(o=t.call(this))._editor=e,o._computer=n,o._onResult=o._register(new d.Q5),o.onResult=o._onResult.event,o._firstWaitScheduler=o._register(new c.pY((function(){return o._triggerAsyncComputation()}),0)),o._secondWaitScheduler=o._register(new c.pY((function(){return o._triggerSyncComputation()}),0)),o._loadingMessageScheduler=o._register(new c.pY((function(){return o._triggerLoadingMessage()}),0)),o._state=0,o._asyncIterable=null,o._asyncIterableDone=!1,o._result=[],o}return(0,u.Z)(i,[{key:"dispose",value:function(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),(0,o.Z)((0,r.Z)(i.prototype),"dispose",this).call(this)}},{key:"_hoverTime",get:function(){return this._editor.getOption(60).delay}},{key:"_firstWaitTime",get:function(){return this._hoverTime/2}},{key:"_secondWaitTime",get:function(){return this._hoverTime-this._firstWaitTime}},{key:"_loadingMessageTime",get:function(){return 3*this._hoverTime}},{key:"_setState",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._state=e,t&&this._fireResult()}},{key:"_triggerAsyncComputation",value:function(){var e=this;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,c.zS)((function(t){return e._computer.computeAsync(t)})),g(e,void 0,void 0,(0,n.Z)().mark((function e(){var t,i,o,r,s,a,u,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.prev=1,s=!0,a=f(this._asyncIterable);case 3:return e.next=5,a.next();case 5:if(u=e.sent,t=u.done){e.next=15;break}r=u.value,s=!1,(l=r)&&(this._result.push(l),this._fireResult());case 12:s=!0,e.next=3;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),i={error:e.t0};case 20:if(e.prev=20,e.prev=21,s||t||!(o=a.return)){e.next=25;break}return e.next=25,o.call(a);case 25:if(e.prev=25,!i){e.next=28;break}throw i.error;case 28:return e.finish(25);case 29:return e.finish(20);case 30:this._asyncIterableDone=!0,3!==this._state&&4!==this._state||this._setState(0),e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),(0,h.dL)(e.t1);case 37:case"end":return e.stop()}}),e,this,[[0,34],[1,17,20,30],[21,,25,29]])})))):this._asyncIterableDone=!0}},{key:"_triggerSyncComputation",value:function(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}},{key:"_triggerLoadingMessage",value:function(){3===this._state&&this._setState(4)}},{key:"_fireResult",value:function(){if(1!==this._state&&2!==this._state){var e=0===this._state,t=4===this._state;this._onResult.fire(new _(this._result.slice(0),e,t))}}},{key:"start",value:function(e){if(0===e)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}},{key:"cancel",value:function(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}]),i}(v.JT)},24250:function(e,t,i){i.d(t,{Ae:function(){return a},Qj:function(){return r},YM:function(){return s}});var n=i(15671),o=i(43144),r=function(){function e(t,i,o,r){(0,n.Z)(this,e),this.priority=t,this.range=i,this.initialMousePosX=o,this.initialMousePosY=r,this.type=1}return(0,o.Z)(e,[{key:"equals",value:function(e){return 1===e.type&&this.range.equalsRange(e.range)}},{key:"canAdoptVisibleHover",value:function(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}]),e}(),s=function(){function e(t,i,o,r,s,a){(0,n.Z)(this,e),this.priority=t,this.owner=i,this.range=o,this.initialMousePosX=r,this.initialMousePosY=s,this.supportsMarkerHover=a,this.type=2}return(0,o.Z)(e,[{key:"equals",value:function(e){return 2===e.type&&this.owner===e.owner}},{key:"canAdoptVisibleHover",value:function(e,t){return 2===e.type&&this.owner===e.owner}}]),e}(),a=new(function(){function e(){(0,n.Z)(this,e),this._participants=[]}return(0,o.Z)(e,[{key:"register",value:function(e){this._participants.push(e)}},{key:"getAll",value:function(){return this._participants}}]),e}())},80592:function(e,t,i){i.d(t,{D5:function(){return S},c:function(){return D},hU:function(){return C}});var n=i(37762),o=i(15671),r=i(43144),s=i(32959),a=i(38102),u=i(71049),l=i(71047),c=i(65096),h=i(46757),d=i(65631),v=i(17429),g=i(58188),f=i(93630),_=i(18420),p=i(77819),m=i(51713),y=i(65441),b=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},k=function(e,t){return function(i,n){t(i,n,e)}},w=s.$,C=function(){function e(t,i,n,r,s){(0,o.Z)(this,e),this.owner=t,this.range=i,this.contents=n,this.isBeforeContent=r,this.ordinal=s}return(0,r.Z)(e,[{key:"isValidForHoverAnchor",value:function(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}]),e}(),S=function(){function e(t,i,n,r,s){(0,o.Z)(this,e),this._editor=t,this._languageService=i,this._openerService=n,this._configurationService=r,this._languageFeaturesService=s,this.hoverOrdinal=3}return(0,r.Z)(e,[{key:"createLoadingMessage",value:function(e){return new C(this,e.range,[(new l.W5).appendText(_.NC("modesContentHover.loading","Loading..."))],!1,2e3)}},{key:"computeSync",value:function(e,t){if(!this._editor.hasModel()||1!==e.type)return[];var i=this._editor.getModel(),o=e.range.startLineNumber,r=i.getLineMaxColumn(o),s=[],u=1e3,c=i.getLineLength(o),h=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._editor.getOption(116),g=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:h}),f=!1;d>=0&&c>d&&e.range.startColumn>=d&&(f=!0,s.push(new C(this,e.range,[{value:_.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,u++))),!f&&"number"===typeof g&&c>=g&&s.push(new C(this,e.range,[{value:_.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,u++));var p,m=!1,y=(0,n.Z)(t);try{for(y.s();!(p=y.n()).done;){var b=p.value,k=b.range.startLineNumber===o?b.range.startColumn:1,w=b.range.endLineNumber===o?b.range.endColumn:r,S=b.options.hoverMessage;if(S&&!(0,l.CP)(S)){b.options.beforeContentClassName&&(m=!0);var D=new v.e(e.range.startLineNumber,k,e.range.startLineNumber,w);s.push(new C(this,D,(0,a._2)(S),m,u++))}}}catch(N){y.e(N)}finally{y.f()}return s}},{key:"computeAsync",value:function(e,t,i){var n=this;if(!this._editor.hasModel()||1!==e.type)return u.Aq.EMPTY;var o=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(o))return u.Aq.EMPTY;var r=new d.L(e.range.startLineNumber,e.range.startColumn);return(0,f.R8)(this._languageFeaturesService.hoverProvider,o,r,i).filter((function(e){return!(0,l.CP)(e.hover.contents)})).map((function(t){var i=t.hover.range?v.e.lift(t.hover.range):e.range;return new C(n,i,t.hover.contents,!1,t.ordinal)}))}},{key:"renderHoverParts",value:function(e,t){return D(e,t,this._editor,this._languageService,this._openerService)}}]),e}();function D(e,t,i,o,r){t.sort((function(e,t){return e.ordinal-t.ordinal}));var a,u=new c.SL,d=(0,n.Z)(t);try{for(d.s();!(a=d.n()).done;){var v,g=a.value,f=(0,n.Z)(g.contents);try{var _=function(){var t=v.value;if((0,l.CP)(t))return 1;var n=w("div.hover-row.markdown-hover"),a=s.append(n,w("div.hover-contents")),c=u.add(new h.$({editor:i},o,r));u.add(c.onDidRenderAsync((function(){a.className="hover-contents code-hover-contents",e.onContentsChanged()})));var d=u.add(c.render(t));a.appendChild(d.element),e.fragment.appendChild(n)};for(f.s();!(v=f.n()).done;)_()}catch(p){f.e(p)}finally{f.f()}}}catch(p){d.e(p)}finally{d.f()}return u}S=b([k(1,g.O),k(2,m.v4),k(3,p.Ui),k(4,y.p)],S)},2135:function(e,t,i){i.r(t);var n,o=i(60136),r=i(27277),s=i(15671),a=i(43144),u=i(71049),l=i(74146),c=i(16836),h=i(95253),d=i(17429),v=i(96601),g=i(98926),f=i(78519),_=i(88697),p=i(18420),m=function(){function e(t,i,n){(0,s.Z)(this,e),this._editRange=t,this._originalSelection=i,this._text=n}return(0,a.Z)(e,[{key:"getEditOperations",value:function(e,t){t.addTrackedEditOperation(this._editRange,this._text)}},{key:"computeCursorState",value:function(e,t){var i=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new v.Y(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new v.Y(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)}}]),e}(),y=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},b=function(e,t){return function(i,n){t(i,n,e)}},k=n=function(){function e(t,i){(0,s.Z)(this,e),this.editor=t,this.editorWorkerService=i,this.decorations=this.editor.createDecorationsCollection()}return(0,a.Z)(e,[{key:"dispose",value:function(){}},{key:"run",value:function(e,t){var i,o=this;null===(i=this.currentRequest)||void 0===i||i.cancel();var r=this.editor.getSelection(),s=this.editor.getModel();if(s&&r){var a=r;if(a.startLineNumber===a.endLineNumber){var h=new c.yy(this.editor,5),g=s.uri;return this.editorWorkerService.canNavigateValueSet(g)?(this.currentRequest=(0,u.PG)((function(e){return o.editorWorkerService.navigateValueSet(g,a,t)})),this.currentRequest.then((function(t){var i;if(t&&t.range&&t.value&&h.validate(o.editor)){var r=d.e.lift(t.range),s=t.range,c=t.value.length-(a.endColumn-a.startColumn);s={startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.startColumn+t.value.length},c>1&&(a=new v.Y(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+c-1));var g=new m(r,a,t.value);o.editor.pushUndoStop(),o.editor.executeCommand(e,g),o.editor.pushUndoStop(),o.decorations.set([{range:s,options:n.DECORATION}]),null===(i=o.decorationRemover)||void 0===i||i.cancel(),o.decorationRemover=(0,u.Vs)(350),o.decorationRemover.then((function(){return o.decorations.clear()})).catch(l.dL)}})).catch(l.dL)):Promise.resolve(void 0)}}}}],[{key:"get",value:function(e){return e.getContribution(n.ID)}}]),e}();k.ID="editor.contrib.inPlaceReplaceController",k.DECORATION=f.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),k=n=y([b(1,_.p)],k);var w=function(e){(0,o.Z)(i,e);var t=(0,r.Z)(i);function i(){return(0,s.Z)(this,i),t.call(this,{id:"editor.action.inPlaceReplace.up",label:p.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:3159,weight:100}})}return(0,a.Z)(i,[{key:"run",value:function(e,t){var i=k.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}]),i}(h.R6),C=function(e){(0,o.Z)(i,e);var t=(0,r.Z)(i);function i(){return(0,s.Z)(this,i),t.call(this,{id:"editor.action.inPlaceReplace.down",label:p.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:3161,weight:100}})}return(0,a.Z)(i,[{key:"run",value:function(e,t){var i=k.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}]),i}(h.R6);(0,h._K)(k.ID,k,4),(0,h.Qr)(w),(0,h.Qr)(C)},25494:function(e,t,i){function n(e,t){for(var i=0,n=0;n<e.length;n++)"\t"===e.charAt(n)?i+=t:i++;return i}function o(e,t,i){e=e<0?0:e;var n="";if(!i){var o=Math.floor(e/t);e%=t;for(var r=0;r<o;r++)n+="\t"}for(var s=0;s<e;s++)n+=" ";return n}i.d(t,{J:function(){return o},Y:function(){return n}})},21376:function(e,t,i){i.r(t),i.d(t,{AutoIndentOnPaste:function(){return A},AutoIndentOnPasteCommand:function(){return O},ChangeIndentationSizeAction:function(){return L},ChangeTabDisplaySize:function(){return I},DetectIndentation:function(){return R},IndentUsingSpaces:function(){return T},IndentUsingTabs:function(){return P},IndentationToSpacesAction:function(){return M},IndentationToSpacesCommand:function(){return z},IndentationToTabsAction:function(){return Z},IndentationToTabsCommand:function(){return F},ReindentLinesAction:function(){return x},ReindentSelectedLinesAction:function(){return H},getReindentEditOperations:function(){return N}});var n=i(93433),o=i(37762),r=i(15671),s=i(43144),a=i(60136),u=i(27277),l=i(65096),c=i(31906),h=i(95253),d=i(2413),v=i(62557),g=i(17429),f=i(96601),_=i(98926),p=i(19536),m=i(26246),y=i(25494),b=i(18420),k=i(67949),w=i(52368),C=i(40469),S=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},D=function(e,t){return function(i,n){t(i,n,e)}};function N(e,t,i,n,o){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];var r=t.getLanguageConfiguration(e.getLanguageId()).indentationRules;if(!r)return[];for(n=Math.min(n,e.getLineCount());i<=n&&r.unIndentedLinePattern;){var s=e.getLineContent(i);if(!r.unIndentedLinePattern.test(s))break;i++}if(i>n-1)return[];var a,u=e.getOptions(),l=u.tabSize,h=u.indentSize,g=u.insertSpaces,_=function(e,t){return t=t||1,d.U.shiftIndent(e,e.length+t,l,h,g)},p=function(e,t){return t=t||1,d.U.unshiftIndent(e,e.length+t,l,h,g)},m=[],y=e.getLineContent(i),b=y;if(void 0!==o&&null!==o){a=o;var k=c.V8(y);b=a+y.substring(k.length),r.decreaseIndentPattern&&r.decreaseIndentPattern.test(b)&&(b=(a=p(a))+y.substring(k.length)),y!==b&&m.push(v.h.replaceMove(new f.Y(i,1,i,k.length+1),(0,w.x)(a,h,g)))}else a=c.V8(y);var C=a;r.increaseIndentPattern&&r.increaseIndentPattern.test(b)?(C=_(C),a=_(a)):r.indentNextLinePattern&&r.indentNextLinePattern.test(b)&&(C=_(C));for(var S=++i;S<=n;S++){var D=e.getLineContent(S),N=c.V8(D),M=C+D.substring(N.length);r.decreaseIndentPattern&&r.decreaseIndentPattern.test(M)&&(C=p(C),a=p(a)),N!==C&&m.push(v.h.replaceMove(new f.Y(S,1,S,N.length+1),(0,w.x)(C,h,g))),r.unIndentedLinePattern&&r.unIndentedLinePattern.test(D)||(C=r.increaseIndentPattern&&r.increaseIndentPattern.test(M)?a=_(a):r.indentNextLinePattern&&r.indentNextLinePattern.test(M)?_(C):a)}return m}var M=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:i.ID,label:b.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:_.u.writable})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=t.getModel();if(i){var n=i.getOptions(),o=t.getSelection();if(o){var r=new z(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}}}]),i}(h.R6);M.ID="editor.action.indentationToSpaces";var Z=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:i.ID,label:b.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:_.u.writable})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=t.getModel();if(i){var n=i.getOptions(),o=t.getSelection();if(o){var r=new F(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}}}]),i}(h.R6);Z.ID="editor.action.indentationToTabs";var L=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(e,n,o){var s;return(0,r.Z)(this,i),(s=t.call(this,o)).insertSpaces=e,s.displaySizeOnly=n,s}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=this,n=e.get(k.eJ),o=e.get(m.q),r=t.getModel();if(r){var s=o.getCreationOptions(r.getLanguageId(),r.uri,r.isForSimpleWidget),a=r.getOptions(),u=[1,2,3,4,5,6,7,8].map((function(e){return{id:e.toString(),label:e.toString(),description:e===s.tabSize&&e===a.tabSize?b.NC("configuredTabSize","Configured Tab Size"):e===s.tabSize?b.NC("defaultTabSize","Default Tab Size"):e===a.tabSize?b.NC("currentTabSize","Current Tab Size"):void 0}})),l=Math.min(r.getOptions().tabSize-1,7);setTimeout((function(){n.pick(u,{placeHolder:b.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:u[l]}).then((function(e){if(e&&r&&!r.isDisposed()){var t=parseInt(e.label,10);i.displaySizeOnly?r.updateOptions({tabSize:t}):r.updateOptions({tabSize:t,indentSize:t,insertSpaces:i.insertSpaces})}}))}),50)}}}]),i}(h.R6),P=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,!1,!1,{id:i.ID,label:b.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}return(0,s.Z)(i)}(L);P.ID="editor.action.indentUsingTabs";var T=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,!0,!1,{id:i.ID,label:b.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}return(0,s.Z)(i)}(L);T.ID="editor.action.indentUsingSpaces";var I=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,!0,!0,{id:i.ID,label:b.NC("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}return(0,s.Z)(i)}(L);I.ID="editor.action.changeTabDisplaySize";var R=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:i.ID,label:b.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=e.get(m.q),n=t.getModel();if(n){var o=i.getCreationOptions(n.getLanguageId(),n.uri,n.isForSimpleWidget);n.detectIndentation(o.insertSpaces,o.tabSize)}}}]),i}(h.R6);R.ID="editor.action.detectIndentation";var x=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.reindentlines",label:b.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:_.u.writable})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=e.get(p.c_),n=t.getModel();if(n){var o=N(n,i,1,n.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}}]),i}(h.R6),H=function(e){(0,a.Z)(i,e);var t=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),t.call(this,{id:"editor.action.reindentselectedlines",label:b.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:_.u.writable})}return(0,s.Z)(i,[{key:"run",value:function(e,t){var i=e.get(p.c_),r=t.getModel();if(r){var s=t.getSelections();if(null!==s){var a,u=[],l=(0,o.Z)(s);try{for(l.s();!(a=l.n()).done;){var c=a.value,h=c.startLineNumber,d=c.endLineNumber;if(h!==d&&1===c.endColumn&&d--,1===h){if(h===d)continue}else h--;var v=N(r,i,h,d);u.push.apply(u,(0,n.Z)(v))}}catch(g){l.e(g)}finally{l.f()}u.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,u),t.pushUndoStop())}}}}]),i}(h.R6),O=function(){function e(t,i){(0,r.Z)(this,e),this._initialSelection=i,this._edits=[],this._selectionId=null;var n,s=(0,o.Z)(t);try{for(s.s();!(n=s.n()).done;){var a=n.value;a.range&&"string"===typeof a.text&&this._edits.push(a)}}catch(u){s.e(u)}finally{s.f()}}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){var i,n=(0,o.Z)(this._edits);try{for(n.s();!(i=n.n()).done;){var r=i.value;t.addEditOperation(g.e.lift(r.range),r.text)}}catch(a){n.e(a)}finally{n.f()}var s=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(s=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(s=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),s||(this._selectionId=t.trackSelection(this._initialSelection))}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this._selectionId)}}]),e}(),A=function(){function e(t,i){var n=this;(0,r.Z)(this,e),this.editor=t,this._languageConfigurationService=i,this.callOnDispose=new l.SL,this.callOnModel=new l.SL,this.callOnDispose.add(t.onDidChangeConfiguration((function(){return n.update()}))),this.callOnDispose.add(t.onDidChangeModel((function(){return n.update()}))),this.callOnDispose.add(t.onDidChangeModelLanguage((function(){return n.update()})))}return(0,s.Z)(e,[{key:"update",value:function(){var e=this;this.callOnModel.clear(),this.editor.getOption(12)<4||this.editor.getOption(55)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((function(t){var i=t.range;e.trigger(i)})))}},{key:"trigger",value:function(e){var t=this.editor.getSelections();if(!(null===t||t.length>1)){var i=this.editor.getModel();if(i&&i.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber)){for(var n=this.editor.getOption(12),o=i.getOptions(),r=o.tabSize,s=o.indentSize,a=o.insertSpaces,u=[],l={shiftIndent:function(e){return d.U.shiftIndent(e,e.length+1,r,s,a)},unshiftIndent:function(e){return d.U.unshiftIndent(e,e.length+1,r,s,a)}},h=e.startLineNumber;h<=e.endLineNumber&&this.shouldIgnoreLine(i,h);)h++;if(!(h>e.endLineNumber)){var v=i.getLineContent(h);if(!/\S/.test(v.substring(0,e.startColumn-1))){var f=(0,C.n8)(n,i,i.getLanguageId(),h,l,this._languageConfigurationService);if(null!==f){var _=c.V8(v),p=y.Y(f,r);if(p!==y.Y(_,r)){var m=y.J(p,r,a);u.push({range:new g.e(h,1,h,_.length+1),text:m}),v=m+v.substr(_.length)}else{var b=(0,C.tI)(i,h,this._languageConfigurationService);if(0===b||8===b)return}}}for(var k=h;h<e.endLineNumber&&!/\S/.test(i.getLineContent(h+1));)h++;if(h!==e.endLineNumber){var w={tokenization:{getLineTokens:function(e){return i.tokenization.getLineTokens(e)},getLanguageId:function(){return i.getLanguageId()},getLanguageIdAtPosition:function(e,t){return i.getLanguageIdAtPosition(e,t)}},getLineContent:function(e){return e===k?v:i.getLineContent(e)}},S=(0,C.n8)(n,w,i.getLanguageId(),h+1,l,this._languageConfigurationService);if(null!==S){var D=y.Y(S,r),N=y.Y(c.V8(i.getLineContent(h+1)),r);if(D!==N)for(var M=D-N,Z=h+1;Z<=e.endLineNumber;Z++){var L=i.getLineContent(Z),P=c.V8(L),T=y.Y(P,r)+M,I=y.J(T,r,a);I!==P&&u.push({range:new g.e(Z,1,Z,P.length+1),text:I})}}}if(u.length>0){this.editor.pushUndoStop();var R=new O(u,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",R),this.editor.pushUndoStop()}}}}}},{key:"shouldIgnoreLine",value:function(e,t){e.tokenization.forceTokenization(t);var i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;var n=e.tokenization.getLineTokens(t);if(n.getCount()>0){var o=n.findTokenIndexAtOffset(i);if(o>=0&&1===n.getStandardTokenType(o))return!0}return!1}},{key:"dispose",value:function(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}]),e}();function W(e,t,i,n){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){for(var o="",r=0;r<i;r++)o+=" ";for(var s=new RegExp(o,"gi"),a=1,u=e.getLineCount();a<=u;a++){var l=e.getLineFirstNonWhitespaceColumn(a);if(0===l&&(l=e.getLineMaxColumn(a)),1!==l){var c=new g.e(a,1,a,l),h=e.getValueInRange(c),d=n?h.replace(/\t/gi,o):h.replace(s,"\t");t.addEditOperation(c,d)}}}}A.ID="editor.contrib.autoIndentOnPaste",A=S([D(1,p.c_)],A);var z=function(){function e(t,i){(0,r.Z)(this,e),this.selection=t,this.tabSize=i,this.selectionId=null}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),W(e,t,this.tabSize,!0)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}(),F=function(){function e(t,i){(0,r.Z)(this,e),this.selection=t,this.tabSize=i,this.selectionId=null}return(0,s.Z)(e,[{key:"getEditOperations",value:function(e,t){this.selectionId=t.trackSelection(this.selection),W(e,t,this.tabSize,!1)}},{key:"computeCursorState",value:function(e,t){return t.getTrackedSelection(this.selectionId)}}]),e}();(0,h._K)(A.ID,A,2),(0,h.Qr)(M),(0,h.Qr)(Z),(0,h.Qr)(P),(0,h.Qr)(T),(0,h.Qr)(I),(0,h.Qr)(R),(0,h.Qr)(x),(0,h.Qr)(H)}}]);
//# sourceMappingURL=monaco-editor-vendor.dbdc571d.f791d1b4.js.map