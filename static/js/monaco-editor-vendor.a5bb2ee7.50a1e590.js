"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6998],{67555:(e,t,i)=>{i.d(t,{S:()=>s});const s="monaco-mouse-cursor-text"},20998:(e,t,i)=>{i.d(t,{z:()=>c});var s=i(32605),o=i(73990),n=i(87766);const r="done",l="active",h="infinite",a="infinite-long-running",d="discrete";class c extends n.jG{constructor(e,t){super(),this.progressSignal=this._register(new n.HE),this.workedVal=0,this.showDelayedScheduler=this._register(new o.uC((()=>(0,s.WU)(this.element)),0)),this.longRunningScheduler=this._register(new o.uC((()=>this.infiniteLongRunning()),c.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e,t)}create(e,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(null===t||void 0===t?void 0:t.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(l,h,a,d),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel(),this.progressSignal.clear()}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(r),this.element.classList.contains(h)?(this.bit.style.opacity="0",e?setTimeout((()=>this.off()),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((()=>this.off()),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(d,r,a),this.element.classList.add(l,h),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(a)}getContainer(){return this.element}}c.LONG_RUNNING_INFINITE_THRESHOLD=1e4},37647:(e,t,i)=>{i.d(t,{v:()=>l});var s=i(32605),o=i(83444),n=i(48250),r=i(87766);class l{constructor(){let e;this._onDidWillResize=new n.vl,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new n.vl,this.onDidResize=this._onDidResize.event,this._sashListener=new r.Cm,this._size=new s.fg(0,0),this._minSize=new s.fg(0,0),this._maxSize=new s.fg(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new o.m(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new o.m(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new o.m(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:o.B.North}),this._southSash=new o.m(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:o.B.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t=0,i=0;this._sashListener.add(n.Jh.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)((()=>{void 0===e&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)}))),this._sashListener.add(n.Jh.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)((()=>{void 0!==e&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(this._eastSash.onDidChange((s=>{e&&(i=s.currentX-s.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))}))),this._sashListener.add(this._westSash.onDidChange((s=>{e&&(i=-(s.currentX-s.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))}))),this._sashListener.add(this._northSash.onDidChange((s=>{e&&(t=-(s.currentY-s.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))}))),this._sashListener.add(this._southSash.onDidChange((s=>{e&&(t=s.currentY-s.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))}))),this._sashListener.add(n.Jh.any(this._eastSash.onDidReset,this._westSash.onDidReset)((e=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(n.Jh.any(this._northSash.onDidReset,this._southSash.onDidReset)((e=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))})))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,s){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=s?3:0}layout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size.height,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size.width;const{height:i,width:o}=this._minSize,{height:n,width:r}=this._maxSize;e=Math.max(i,Math.min(n,e)),t=Math.max(o,Math.min(r,t));const l=new s.fg(t,e);s.fg.equals(l,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=l,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}},83444:(e,t,i)=>{i.d(t,{B:()=>u,m:()=>b});var s=i(32605),o=i(59725),n=i(58538),r=i(73990),l=i(30254),h=i(48250),a=i(87766),d=i(66731),c=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};var u;!function(e){e.North="north",e.South="south",e.East="east",e.West="west"}(u||(u={}));const p=new h.vl;const m=new h.vl;class g{constructor(e){this.el=e,this.disposables=new a.Cm}get onPointerMove(){return this.disposables.add(new o.f((0,s.zk)(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new o.f((0,s.zk)(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}c([l.B],g.prototype,"onPointerMove",null),c([l.B],g.prototype,"onPointerUp",null);class v{get onPointerMove(){return this.disposables.add(new o.f(this.el,n.B.Change)).event}get onPointerUp(){return this.disposables.add(new o.f(this.el,n.B.End)).event}constructor(e){this.el=e,this.disposables=new a.Cm}dispose(){this.disposables.dispose()}}c([l.B],v.prototype,"onPointerMove",null),c([l.B],v.prototype,"onPointerUp",null);class f{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(e){this.factory=e}dispose(){}}c([l.B],f.prototype,"onPointerMove",null),c([l.B],f.prototype,"onPointerUp",null);const S="pointer-events-disabled";class b extends a.jG{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",0===e),this.el.classList.toggle("minimum",1===e),this.el.classList.toggle("maximum",2===e),this._state=e,this.onDidEnablementChange.fire(e))}set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=t=>{this.orthogonalStartDragHandleDisposables.clear(),0!==t&&(this._orthogonalStartDragHandle=(0,s.BC)(this.el,(0,s.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,a.s)((()=>this._orthogonalStartDragHandle.remove()))),this.orthogonalStartDragHandleDisposables.add(new o.f(this._orthogonalStartDragHandle,"mouseenter")).event((()=>b.onMouseEnter(e)),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new o.f(this._orthogonalStartDragHandle,"mouseleave")).event((()=>b.onMouseLeave(e)),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=t=>{this.orthogonalEndDragHandleDisposables.clear(),0!==t&&(this._orthogonalEndDragHandle=(0,s.BC)(this.el,(0,s.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,a.s)((()=>this._orthogonalEndDragHandle.remove()))),this.orthogonalEndDragHandleDisposables.add(new o.f(this._orthogonalEndDragHandle,"mouseenter")).event((()=>b.onMouseEnter(e)),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new o.f(this._orthogonalEndDragHandle,"mouseleave")).event((()=>b.onMouseLeave(e)),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(t,this)),t(e.state)}this._orthogonalEndSash=e}}constructor(e,t,i){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new r.ve(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new h.vl),this._onDidStart=this._register(new h.vl),this._onDidChange=this._register(new h.vl),this._onDidReset=this._register(new h.vl),this._onDidEnd=this._register(new h.vl),this.orthogonalStartSashDisposables=this._register(new a.Cm),this.orthogonalStartDragHandleDisposables=this._register(new a.Cm),this.orthogonalEndSashDisposables=this._register(new a.Cm),this.orthogonalEndDragHandleDisposables=this._register(new a.Cm),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,s.BC)(e,(0,s.$)(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add("orthogonal-edge-".concat(i.orthogonalEdge)),d.zx&&this.el.classList.add("mac");const l=this._register(new o.f(this.el,"mousedown")).event;this._register(l((t=>this.onPointerStart(t,new g(e))),this));const c=this._register(new o.f(this.el,"dblclick")).event;this._register(c(this.onPointerDoublePress,this));const u=this._register(new o.f(this.el,"mouseenter")).event;this._register(u((()=>b.onMouseEnter(this))));const f=this._register(new o.f(this.el,"mouseleave")).event;this._register(f((()=>b.onMouseLeave(this)))),this._register(n.q.addTarget(this.el));const S=this._register(new o.f(this.el,n.B.Start)).event;this._register(S((e=>this.onPointerStart(e,new v(this.el))),this));const _=this._register(new o.f(this.el,n.B.Tap)).event;let w;this._register(_((e=>{if(w)return clearTimeout(w),w=void 0,void this.onPointerDoublePress(e);clearTimeout(w),w=setTimeout((()=>w=void 0),250)}),this)),"number"===typeof i.size?(this.size=i.size,0===i.orientation?this.el.style.width="".concat(this.size,"px"):this.el.style.height="".concat(this.size,"px")):(this.size=4,this._register(p.event((e=>{this.size=e,this.layout()})))),this._register(m.event((e=>this.hoverDelay=e))),this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",false),this.layout()}onPointerStart(e,t){s.fs.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const s=this.getOrthogonalSash(e);s&&(i=!0,e.__orthogonalSashEvent=!0,s.onPointerStart(e,new f(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new f(t))),!this.state)return;const o=this.el.ownerDocument.getElementsByTagName("iframe");for(const s of o)s.classList.add(S);const n=e.pageX,r=e.pageY,l=e.altKey,h={startX:n,currentX:n,startY:r,currentY:r,altKey:l};this.el.classList.add("active"),this._onDidStart.fire(h);const c=(0,s.li)(this.el),u=()=>{let e="";e=i?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":d.zx?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":d.zx?"col-resize":"ew-resize",c.textContent="* { cursor: ".concat(e," !important; }")},p=new a.Cm;u(),i||this.onDidEnablementChange.event(u,null,p);t.onPointerMove((e=>{s.fs.stop(e,!1);const t={startX:n,currentX:e.pageX,startY:r,currentY:e.pageY,altKey:l};this._onDidChange.fire(t)}),null,p),t.onPointerUp((e=>{s.fs.stop(e,!1),this.el.removeChild(c),this.el.classList.remove("active"),this._onDidEnd.fire(),p.dispose();for(const t of o)t.classList.remove(S)}),null,p),p.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger((()=>e.el.classList.add("hover")),e.hoverDelay).then(void 0,(()=>{})),!t&&e.linkedSash&&b.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&b.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){b.onMouseLeave(this)}layout(){if(0===this.orientation){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){var t;const i=null!==(t=e.initialTarget)&&void 0!==t?t:e.target;if(i&&i instanceof HTMLElement)return i.classList.contains("orthogonal-drag-handle")?i.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}dispose(){super.dispose(),this.el.remove()}}},89067:(e,t,i)=>{i.d(t,{MU:()=>I,QC:()=>C,Se:()=>x,oO:()=>E});var s=i(49685),o=i(32605),n=i(86675),r=i(46601),l=i(78656),h=i(70118),a=i(73990),d=i(70145);const c=11;class u extends h.x{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px","undefined"!==typeof e.top&&(this.bgDomNode.style.top="0px"),"undefined"!==typeof e.left&&(this.bgDomNode.style.left="0px"),"undefined"!==typeof e.bottom&&(this.bgDomNode.style.bottom="0px"),"undefined"!==typeof e.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...d.L.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px","undefined"!==typeof e.top&&(this.domNode.style.top=e.top+"px"),"undefined"!==typeof e.left&&(this.domNode.style.left=e.left+"px"),"undefined"!==typeof e.bottom&&(this.domNode.style.bottom=e.bottom+"px"),"undefined"!==typeof e.right&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new l._),this._register(o.b2(this.bgDomNode,o.Bx.POINTER_DOWN,(e=>this._arrowPointerDown(e)))),this._register(o.b2(this.domNode,o.Bx.POINTER_DOWN,(e=>this._arrowPointerDown(e)))),this._pointerdownRepeatTimer=this._register(new o.Be),this._pointerdownScheduleRepeatTimer=this._register(new a.pc)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet((()=>{this._pointerdownRepeatTimer.cancelAndSet((()=>this._onActivate()),1e3/24,o.zk(e))}),200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>{}),(()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()})),e.preventDefault()}}var p=i(87766);class m extends p.jG{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new a.pc)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((()=>{var e;null===(e=this._domNode)||void 0===e||e.setClassName(this._visibleClassName)}),0))}_hide(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(t=this._domNode)||void 0===t||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}var g=i(66731);class v extends h.x{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new m(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new l._),this._shouldRender=!0,this.domNode=(0,n.Z)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(o.ko(this.domNode.domNode,o.Bx.POINTER_DOWN,(e=>this._domNodePointerDown(e))))}_createArrow(e){const t=this._register(new u(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,s){this.slider=(0,n.Z)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"===typeof i&&this.slider.setWidth(i),"number"===typeof s&&this.slider.setHeight(s),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(o.ko(this.slider.domNode,o.Bx.POINTER_DOWN,(e=>{0===e.button&&(e.preventDefault(),this._sliderPointerDown(e))}))),this.onclick(this.slider.domNode,(e=>{e.leftButton&&e.stopPropagation()}))}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),s=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);i<=o&&o<=s?0===e.button&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let t,i;if(e.target===this.domNode.domNode&&"number"===typeof e.offsetX&&"number"===typeof e.offsetY)t=e.offsetX,i=e.offsetY;else{const s=o.BK(this.domNode.domNode);t=e.pageX-s.left,i=e.pageY-s.top}const s=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(s):this._scrollbarState.getDesiredScrollPositionFromOffset(s)),0===e.button&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._sliderPointerPosition(e),i=this._sliderOrthogonalPointerPosition(e),s=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>{const o=this._sliderOrthogonalPointerPosition(e),n=Math.abs(o-i);if(g.uF&&n>140)return void this._setDesiredScrollPositionNow(s.getScrollPosition());const r=this._sliderPointerPosition(e)-t;this._setDesiredScrollPositionNow(s.getDesiredScrollPositionFromDelta(r))}),(()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()})),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}var f=i(32666),S=i(21030);class b extends v{constructor(e,t,i){const s=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new f.m(t.horizontalHasArrows?t.arrowSize:0,2===t.horizontal?0:t.horizontalScrollbarSize,2===t.vertical?0:t.verticalScrollbarSize,s.width,s.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const e=(t.arrowSize-c)/2,i=(t.horizontalScrollbarSize-c)/2;this._createArrow({className:"scra",icon:S.W.scrollbarButtonLeft,top:i,left:e,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new r.$(null,1,0))}),this._createArrow({className:"scra",icon:S.W.scrollbarButtonRight,top:i,left:void 0,bottom:void 0,right:e,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new r.$(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(2===e.horizontal?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}class _ extends v{constructor(e,t,i){const s=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new f.m(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0,s.height,s.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const e=(t.arrowSize-c)/2,i=(t.verticalScrollbarSize-c)/2;this._createArrow({className:"scra",icon:S.W.scrollbarButtonUp,top:e,left:i,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new r.$(null,0,1))}),this._createArrow({className:"scra",icon:S.W.scrollbarButtonDown,top:void 0,left:i,bottom:e,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new r.$(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,t){return t}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}var w=i(48250),y=i(82609);class D{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class C{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let e=1,t=0,i=1,s=this._rear;for(;;){const o=s===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[s].score*o,s===this._front)break;s=(this._capacity+s-1)%this._capacity,i++}return t<=.5}acceptStandardWheelEvent(e){if(s.H8){const t=o.zk(e.browserEvent),i=(0,s.pR)(t);this.accept(Date.now(),e.deltaX*i,e.deltaY*i)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,t,i){let s=null;const o=new D(e,t,i);-1===this._front&&-1===this._rear?(this._memory[0]=o,this._front=0,this._rear=0):(s=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=o),o.score=this._computeScore(o,s)}_computeScore(e,t){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let i=.5;if(this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(i+=.25),t){const s=Math.abs(e.deltaX),o=Math.abs(e.deltaY),n=Math.abs(t.deltaX),r=Math.abs(t.deltaY),l=Math.max(Math.min(s,n),1),h=Math.max(Math.min(o,r),1),a=Math.max(s,n),d=Math.max(o,r);a%l===0&&d%h===0&&(i-=.5)}return Math.min(Math.max(i,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}C.INSTANCE=new C;class N extends h.x{get options(){return this._options}constructor(e,t,i){super(),this._onScroll=this._register(new w.vl),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new w.vl),e.style.overflow="hidden",this._options=function(e){const t={lazyRender:"undefined"!==typeof e.lazyRender&&e.lazyRender,className:"undefined"!==typeof e.className?e.className:"",useShadows:"undefined"===typeof e.useShadows||e.useShadows,handleMouseWheel:"undefined"===typeof e.handleMouseWheel||e.handleMouseWheel,flipAxes:"undefined"!==typeof e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:"undefined"!==typeof e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:"undefined"!==typeof e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:"undefined"!==typeof e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:"undefined"!==typeof e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:"undefined"!==typeof e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:"undefined"===typeof e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:"undefined"===typeof e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:"undefined"!==typeof e.arrowSize?e.arrowSize:11,listenOnDomNode:"undefined"!==typeof e.listenOnDomNode?e.listenOnDomNode:null,horizontal:"undefined"!==typeof e.horizontal?e.horizontal:1,horizontalScrollbarSize:"undefined"!==typeof e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:"undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:"undefined"!==typeof e.horizontalHasArrows&&e.horizontalHasArrows,vertical:"undefined"!==typeof e.vertical?e.vertical:1,verticalScrollbarSize:"undefined"!==typeof e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:"undefined"!==typeof e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:"undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:"undefined"!==typeof e.scrollByPage&&e.scrollByPage};t.horizontalSliderSize="undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize="undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,g.zx&&(t.className+=" mac");return t}(t),this._scrollable=i,this._register(this._scrollable.onScroll((e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)})));const s={onMouseWheel:e=>this._onMouseWheel(e),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new _(this._scrollable,this._options,s)),this._horizontalScrollbar=this._register(new b(this._scrollable,this._options,s)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,n.Z)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,n.Z)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,n.Z)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(e=>this._onMouseOver(e))),this.onmouseleave(this._listenOnDomNode,(e=>this._onMouseLeave(e))),this._hideTimeout=this._register(new a.pc),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,p.AS)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,g.zx&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){"undefined"!==typeof e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),"undefined"!==typeof e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),"undefined"!==typeof e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),"undefined"!==typeof e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),"undefined"!==typeof e.horizontal&&(this._options.horizontal=e.horizontal),"undefined"!==typeof e.vertical&&(this._options.vertical=e.vertical),"undefined"!==typeof e.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),"undefined"!==typeof e.verticalScrollbarSize&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),"undefined"!==typeof e.scrollByPage&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new r.$(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=(0,p.AS)(this._mouseWheelToDispose),e)){const e=e=>{this._onMouseWheel(new r.$(e))};this._mouseWheelToDispose.push(o.ko(this._listenOnDomNode,o.Bx.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(e){var t;if(null===(t=e.browserEvent)||void 0===t?void 0:t.defaultPrevented)return;const i=C.INSTANCE;i.acceptStandardWheelEvent(e);let s=!1;if(e.deltaY||e.deltaX){let t=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&o+t===0?o=t=0:Math.abs(t)>=Math.abs(o)?o=0:t=0),this._options.flipAxes&&([t,o]=[o,t]);const n=!g.zx&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!n||o||(o=t,t=0),e.browserEvent&&e.browserEvent.altKey&&(o*=this._options.fastScrollSensitivity,t*=this._options.fastScrollSensitivity);const r=this._scrollable.getFutureScrollPosition();let l={};if(t){const e=50*t,i=r.scrollTop-(e<0?Math.floor(e):Math.ceil(e));this._verticalScrollbar.writeScrollPosition(l,i)}if(o){const e=50*o,t=r.scrollLeft-(e<0?Math.floor(e):Math.ceil(e));this._horizontalScrollbar.writeScrollPosition(l,t)}if(l=this._scrollable.validateScrollPosition(l),r.scrollLeft!==l.scrollLeft||r.scrollTop!==l.scrollTop){this._options.mouseWheelSmoothScroll&&i.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(l):this._scrollable.setScrollPositionNow(l),s=!0}}let o=s;!o&&this._options.alwaysConsumeMouseWheel&&(o=!0),!o&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(o=!0),o&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,s=i?" left":"",o=t?" top":"",n=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName("shadow".concat(s)),this._topShadowDomNode.setClassName("shadow".concat(o)),this._topLeftShadowDomNode.setClassName("shadow".concat(n).concat(o).concat(s))}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((()=>this._hide()),500)}}class x extends N{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const i=new y.yE({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:t=>o.PG(o.zk(e),t)});super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class E extends N{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class I extends N{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const i=new y.yE({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:t=>o.PG(o.zk(e),t)});super(e,t,i),this._register(i),this._element=e,this._register(this.onScroll((e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)}))),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},32666:(e,t,i)=>{i.d(t,{m:()=>s});class s{constructor(e,t,i,s,o,n){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=s,this._scrollSize=o,this._scrollPosition=n,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new s(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,s,o){const n=Math.max(0,i-e),r=Math.max(0,n-2*t),l=s>0&&s>i;if(!l)return{computedAvailableSize:Math.round(n),computedIsNeeded:l,computedSliderSize:Math.round(r),computedSliderRatio:0,computedSliderPosition:0};const h=Math.round(Math.max(20,Math.floor(i*r/s))),a=(r-h)/(s-i),d=o*a;return{computedAvailableSize:Math.round(n),computedIsNeeded:l,computedSliderSize:Math.round(h),computedSliderRatio:a,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const e=s._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}},19330:(e,t,i)=>{i.d(t,{a:()=>D});var s=i(32605),o=i(59725),n=i(46250),r=i(38427),l=i(13132),h=i(48128),a=i(37155),d=i(61498),c=i(48250),u=i(57443),p=i(87766),m=i(66731),g=i(51413);const v=s.$,f="selectOption.entry.template";class S{get templateId(){return f}renderTemplate(e){const t=Object.create(null);return t.root=e,t.text=s.BC(e,v(".option-text")),t.detail=s.BC(e,v(".option-detail")),t.decoratorRight=s.BC(e,v(".option-decorator-right")),t}renderElement(e,t,i){const s=i,o=e.text,n=e.detail,r=e.decoratorRight,l=e.isDisabled;s.text.textContent=o,s.detail.textContent=n||"",s.decoratorRight.innerText=r||"",l?s.root.classList.add("option-disabled"):s.root.classList.remove("option-disabled")}disposeTemplate(e){}}class b extends p.jG{constructor(e,t,i,s,o){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=s,this.selectBoxOptions=o||Object.create(null),"number"!==typeof this.selectBoxOptions.minBottomMargin?this.selectBoxOptions.minBottomMargin=b.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding","string"===typeof this.selectBoxOptions.ariaLabel&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),"string"===typeof this.selectBoxOptions.ariaDescription&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new c.vl,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(i),this.selected=t||0,e&&this.setOptions(e,t),this.initStyleSheet()}setTitle(e){!this._hover&&e?this._hover=this._register((0,l.i)().setupUpdatableHover((0,h.nZ)("mouse"),this.selectElement,e)):this._hover&&this._hover.update(e)}getHeight(){return 22}getTemplateId(){return f}constructSelectDropDown(e){this.contextViewProvider=e,this.selectDropDownContainer=s.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=s.BC(this.selectDropDownContainer,v(".select-box-details-pane"));const t=s.BC(this.selectDropDownContainer,v(".select-box-dropdown-container-width-control")),i=s.BC(t,v(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",s.BC(i,this.widthControlElement),this._dropDownPosition=0,this.styleElement=s.li(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(s.ko(this.selectDropDownContainer,s.Bx.DRAG_START,(e=>{s.fs.stop(e,!0)})))}registerListeners(){let e;this._register(s.b2(this.selectElement,"change",(e=>{this.selected=e.target.selectedIndex,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}))),this._register(s.ko(this.selectElement,s.Bx.CLICK,(e=>{s.fs.stop(e),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()}))),this._register(s.ko(this.selectElement,s.Bx.MOUSE_DOWN,(e=>{s.fs.stop(e)}))),this._register(s.ko(this.selectElement,"touchstart",(t=>{e=this._isVisible}))),this._register(s.ko(this.selectElement,"touchend",(t=>{s.fs.stop(t),e?this.hideSelectDropDown(!0):this.showSelectDropDown()}))),this._register(s.ko(this.selectElement,s.Bx.KEY_DOWN,(e=>{const t=new n.Z(e);let i=!1;m.zx?18!==t.keyCode&&16!==t.keyCode&&10!==t.keyCode&&3!==t.keyCode||(i=!0):(18===t.keyCode&&t.altKey||16===t.keyCode&&t.altKey||10===t.keyCode||3===t.keyCode)&&(i=!0),i&&(this.showSelectDropDown(),s.fs.stop(e,!0))})))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){d.aI(this.options,e)||(this.options=e,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach(((e,t)=>{this.selectElement.add(this.createOption(e.text,t,e.isDisabled)),"string"===typeof e.description&&(this._hasDetails=!0)}))),void 0!==t&&(this.select(t),this._currentSelection=this.selected)}setOptionsList(){var e;null===(e=this.selectList)||void 0===e||e.splice(0,this.selectList.length,this.options)}select(e){e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){this.container=e,e.classList.add("select-container"),e.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const e=[];this.styles.listFocusBackground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ".concat(this.styles.listFocusBackground," !important; }")),this.styles.listFocusForeground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ".concat(this.styles.listFocusForeground," !important; }")),this.styles.decoratorRightForeground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ".concat(this.styles.decoratorRightForeground,"; }")),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(e.push(".monaco-select-box-dropdown-container { border: 1px solid ".concat(this.styles.selectBorder," } ")),e.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ".concat(this.styles.selectBorder," } ")),e.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ".concat(this.styles.selectBorder," } "))):this.styles.selectListBorder&&(e.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ".concat(this.styles.selectListBorder," } ")),e.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ".concat(this.styles.selectListBorder," } "))),this.styles.listHoverForeground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ".concat(this.styles.listHoverForeground," !important; }")),this.styles.listHoverBackground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ".concat(this.styles.listHoverBackground," !important; }")),this.styles.listFocusOutline&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ".concat(this.styles.listFocusOutline," !important; outline-offset: -1.6px !important; }")),this.styles.listHoverOutline&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ".concat(this.styles.listHoverOutline," !important; outline-offset: -1.6px !important; }")),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=e.join("\n")}styleSelectElement(){var e,t,i;const s=null!==(e=this.styles.selectBackground)&&void 0!==e?e:"",o=null!==(t=this.styles.selectForeground)&&void 0!==t?t:"",n=null!==(i=this.styles.selectBorder)&&void 0!==i?i:"";this.selectElement.style.backgroundColor=s,this.selectElement.style.color=o,this.selectElement.style.borderColor=n}styleList(){var e,t;const i=null!==(e=this.styles.selectBackground)&&void 0!==e?e:"",o=s.gI(this.styles.selectListBackground,i);this.selectDropDownListContainer.style.backgroundColor=o,this.selectionDetailsPane.style.backgroundColor=o;const n=null!==(t=this.styles.focusBorder)&&void 0!==t?t:"";this.selectDropDownContainer.style.outlineColor=n,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(e,t,i){const s=document.createElement("option");return s.value=e,s.text=e,s.disabled=!!i,s}showSelectDropDown(){this.selectionDetailsPane.innerText="",this.contextViewProvider&&!this._isVisible&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:e=>this.renderSelectDropDown(e),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(e){this.contextViewProvider&&this._isVisible&&(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),e&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(e,t){return e.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(t),{dispose:()=>{try{e.removeChild(this.selectDropDownContainer)}catch(t){}}}}measureMaxDetailsHeight(){let e=0;return this.options.forEach(((t,i)=>{this.updateDetail(i),this.selectionDetailsPane.offsetHeight>e&&(e=this.selectionDetailsPane.offsetHeight)})),e}layoutSelectDropDown(e){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const t=s.zk(this.selectElement),i=s.BK(this.selectElement),o=s.zk(this.selectElement).getComputedStyle(this.selectElement),n=parseFloat(o.getPropertyValue("--dropdown-padding-top"))+parseFloat(o.getPropertyValue("--dropdown-padding-bottom")),r=t.innerHeight-i.top-i.height-(this.selectBoxOptions.minBottomMargin||0),l=i.top-b.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,h=this.selectElement.offsetWidth,a=this.setWidthControlElement(this.widthControlElement),d=Math.max(a,Math.round(h)).toString()+"px";this.selectDropDownContainer.style.width=d,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let c=this.selectList.contentHeight;this._hasDetails&&void 0===this._cachedMaxDetailsHeight&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const u=this._hasDetails?this._cachedMaxDetailsHeight:0,p=c+n+u,m=Math.floor((r-n-u)/this.getHeight()),g=Math.floor((l-n-u)/this.getHeight());if(e)return!(i.top+i.height>t.innerHeight-22||i.top<b.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||m<1&&g<1)&&(m<b.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&g>m&&this.options.length>m?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(i.top+i.height>t.innerHeight-22||i.top<b.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||0===this._dropDownPosition&&m<1||1===this._dropDownPosition&&g<1)return this.hideSelectDropDown(!0),!1;if(0===this._dropDownPosition){if(this._isVisible&&m+g<1)return this.hideSelectDropDown(!0),!1;p>r&&(c=m*this.getHeight())}else p>l&&(c=g*this.getHeight());return this.selectList.layout(c),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=c+n+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=c+n+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=d,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}return!1}setWidthControlElement(e){let t=0;if(e){let i=0,o=0;this.options.forEach(((e,t)=>{const s=e.detail?e.detail.length:0,n=e.decoratorRight?e.decoratorRight.length:0,r=e.text.length+s+n;r>o&&(i=t,o=r)})),e.textContent=this.options[i].text+(this.options[i].decoratorRight?this.options[i].decoratorRight+" ":""),t=s.Tr(e)}return t}createSelectList(e){if(this.selectList)return;this.selectDropDownListContainer=s.BC(e,v(".select-box-dropdown-list-container")),this.listRenderer=new S,this.selectList=new a.B8("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:e=>{let t=e.text;return e.detail&&(t+=". ".concat(e.detail)),e.decoratorRight&&(t+=". ".concat(e.decoratorRight)),e.description&&(t+=". ".concat(e.description)),t},getWidgetAriaLabel:()=>(0,g.kg)({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>m.zx?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const t=this._register(new o.f(this.selectDropDownListContainer,"keydown")),i=c.Jh.chain(t.event,(e=>e.filter((()=>this.selectList.length>0)).map((e=>new n.Z(e)))));this._register(c.Jh.chain(i,(e=>e.filter((e=>3===e.keyCode))))(this.onEnter,this)),this._register(c.Jh.chain(i,(e=>e.filter((e=>2===e.keyCode))))(this.onEnter,this)),this._register(c.Jh.chain(i,(e=>e.filter((e=>9===e.keyCode))))(this.onEscape,this)),this._register(c.Jh.chain(i,(e=>e.filter((e=>16===e.keyCode))))(this.onUpArrow,this)),this._register(c.Jh.chain(i,(e=>e.filter((e=>18===e.keyCode))))(this.onDownArrow,this)),this._register(c.Jh.chain(i,(e=>e.filter((e=>12===e.keyCode))))(this.onPageDown,this)),this._register(c.Jh.chain(i,(e=>e.filter((e=>11===e.keyCode))))(this.onPageUp,this)),this._register(c.Jh.chain(i,(e=>e.filter((e=>14===e.keyCode))))(this.onHome,this)),this._register(c.Jh.chain(i,(e=>e.filter((e=>13===e.keyCode))))(this.onEnd,this)),this._register(c.Jh.chain(i,(e=>e.filter((e=>e.keyCode>=21&&e.keyCode<=56||e.keyCode>=85&&e.keyCode<=113))))(this.onCharacter,this)),this._register(s.ko(this.selectList.getHTMLElement(),s.Bx.POINTER_UP,(e=>this.onPointerUp(e)))),this._register(this.selectList.onMouseOver((e=>"undefined"!==typeof e.index&&this.selectList.setFocus([e.index])))),this._register(this.selectList.onDidChangeFocus((e=>this.onListFocus(e)))),this._register(s.ko(this.selectDropDownContainer,s.Bx.FOCUS_OUT,(e=>{this._isVisible&&!s.QX(e.relatedTarget,this.selectDropDownContainer)&&this.onListBlur()}))),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(e){if(!this.selectList.length)return;s.fs.stop(e);const t=e.target;if(!t)return;if(t.classList.contains("slider"))return;const i=t.closest(".monaco-list-row");if(!i)return;const o=Number(i.getAttribute("data-index")),n=i.classList.contains("option-disabled");o>=0&&o<this.options.length&&!n&&(this.selected=o,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(e,t){const i=e=>{for(let t=0;t<e.childNodes.length;t++){const s=e.childNodes.item(t);"img"===(s.tagName&&s.tagName.toLowerCase())?e.removeChild(s):i(s)}},s=(0,r.Gc)({value:e,supportThemeIcons:!0},{actionHandler:t});return s.element.classList.add("select-box-description-markdown"),i(s.element),s.element}onListFocus(e){this._isVisible&&this._hasDetails&&this.updateDetail(e.indexes[0])}updateDetail(e){var t,i;this.selectionDetailsPane.innerText="";const s=this.options[e],o=null!==(t=null===s||void 0===s?void 0:s.description)&&void 0!==t?t:"",n=null!==(i=null===s||void 0===s?void 0:s.descriptionIsMarkdown)&&void 0!==i&&i;if(o){if(n){const e=s.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(o,e))}else this.selectionDetailsPane.innerText=o;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(e){s.fs.stop(e),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(e){s.fs.stop(e),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(e){if(this.selected<this.options.length-1){s.fs.stop(e,!0);const t=this.options[this.selected+1].isDisabled;if(t&&this.options.length>this.selected+2)this.selected+=2;else{if(t)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(e){if(this.selected>0){s.fs.stop(e,!0);this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onPageUp(e){s.fs.stop(e),this.selectList.focusPreviousPage(),setTimeout((()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)}),1)}onPageDown(e){s.fs.stop(e),this.selectList.focusNextPage(),setTimeout((()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)}),1)}onHome(e){s.fs.stop(e),this.options.length<2||(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(e){s.fs.stop(e),this.options.length<2||(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(e){const t=u.YM.toString(e.keyCode);let i=-1;for(let o=0;o<this.options.length-1;o++)if(i=(o+this.selected+1)%this.options.length,this.options[i].text.charAt(0).toUpperCase()===t&&!this.options[i].isDisabled){this.select(i),this.selectList.setFocus([i]),this.selectList.reveal(this.selectList.getFocus()[0]),s.fs.stop(e);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}b.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,b.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,b.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;var _=i(58538);class w extends p.jG{constructor(e,t,i,s){super(),this.selected=0,this.selectBoxOptions=s||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box","string"===typeof this.selectBoxOptions.ariaLabel&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),"string"===typeof this.selectBoxOptions.ariaDescription&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new c.vl),this.styles=i,this.registerListeners(),this.setOptions(e,t)}registerListeners(){this._register(_.q.addTarget(this.selectElement)),[_.B.Tap].forEach((e=>{this._register(s.ko(this.selectElement,e,(e=>{this.selectElement.focus()})))})),this._register(s.b2(this.selectElement,"click",(e=>{s.fs.stop(e,!0)}))),this._register(s.b2(this.selectElement,"change",(e=>{this.selectElement.title=e.target.value,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value})}))),this._register(s.b2(this.selectElement,"keydown",(e=>{let t=!1;m.zx?18!==e.keyCode&&16!==e.keyCode&&10!==e.keyCode||(t=!0):(18===e.keyCode&&e.altKey||10===e.keyCode||3===e.keyCode)&&(t=!0),t&&e.stopPropagation()})))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,t){this.options&&d.aI(this.options,e)||(this.options=e,this.selectElement.options.length=0,this.options.forEach(((e,t)=>{this.selectElement.add(this.createOption(e.text,t,e.isDisabled))}))),void 0!==t&&this.select(t)}select(e){0===this.options.length?this.selected=0:e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&"string"===typeof this.options[this.selected].text?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){e.classList.add("select-container"),e.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var e,t,i;this.selectElement&&(this.selectElement.style.backgroundColor=null!==(e=this.styles.selectBackground)&&void 0!==e?e:"",this.selectElement.style.color=null!==(t=this.styles.selectForeground)&&void 0!==t?t:"",this.selectElement.style.borderColor=null!==(i=this.styles.selectBorder)&&void 0!==i?i:"")}createOption(e,t,i){const s=document.createElement("option");return s.value=e,s.text=e,s.disabled=!!i,s}}var y=i(70118);class D extends y.x{constructor(e,t,i,s,o){super(),m.zx&&!(null===o||void 0===o?void 0:o.useCustomDrawn)?this.selectBoxDelegate=new w(e,t,s,o):this.selectBoxDelegate=new b(e,t,i,s,o),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(e,t){this.selectBoxDelegate.setOptions(e,t)}select(e){this.selectBoxDelegate.select(e)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(e){this.selectBoxDelegate.setFocusable(e)}render(e){this.selectBoxDelegate.render(e)}}},86793:(e,t,i)=>{i.d(t,{X:()=>b,U:()=>_});var s=i(32605),o=i(59725),n=i(83444),r=i(89067),l=i(61498),h=i(57397),a=i(48250),d=i(87766),c=i(56880),u=i(82609),p=i(32031);const m={separatorBorder:h.Q1.transparent};class g{set size(e){this._size=e}get size(){return this._size}get visible(){return"undefined"===typeof this._cachedVisibleSize}setVisible(e,t){var i,s;if(e!==this.visible){e?(this.size=(0,c.qE)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"===typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e);try{null===(s=(i=this.view).setVisible)||void 0===s||s.call(i,e)}catch(o){console.error("Splitview: Failed to set visible view"),console.error(o)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var e;return null===(e=this.view.proportionalLayout)||void 0===e||e}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}constructor(e,t,i,s){this.container=e,this.view=t,this.disposable=s,this._cachedVisibleSize=void 0,"number"===typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}layout(e,t){this.layoutContainer(e);try{this.view.layout(this.size,e,t)}catch(i){console.error("Splitview: Failed to layout view"),console.error(i)}}dispose(){this.disposable.dispose()}}class v extends g{layoutContainer(e){this.container.style.top="".concat(e,"px"),this.container.style.height="".concat(this.size,"px")}}class f extends g{layoutContainer(e){this.container.style.left="".concat(e,"px"),this.container.style.width="".concat(this.size,"px")}}var S,b;!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(S||(S={})),function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}},e.Auto=function(e){return{type:"auto",index:e}},e.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}}}(b||(b={}));class _ extends d.jG{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i,n,l,h,d;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=S.Idle,this._onDidSashChange=this._register(new a.vl),this._onDidSashReset=this._register(new a.vl),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(i=t.orientation)&&void 0!==i?i:0,this.inverseAltBehavior=null!==(n=t.inverseAltBehavior)&&void 0!==n&&n,this.proportionalLayout=null===(l=t.proportionalLayout)||void 0===l||l,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=(0,s.BC)(this.el,(0,s.$)(".sash-container")),this.viewContainer=(0,s.$)(".split-view-container"),this.scrollable=this._register(new u.yE({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:e=>(0,s.PG)((0,s.zk)(this.el),e)})),this.scrollableElement=this._register(new r.oO(this.viewContainer,{vertical:0===this.orientation?null!==(h=t.scrollbarVisibility)&&void 0!==h?h:1:2,horizontal:1===this.orientation?null!==(d=t.scrollbarVisibility)&&void 0!==d?d:1:2},this.scrollable));const c=this._register(new o.f(this.viewContainer,"scroll")).event;this._register(c((e=>{const t=this.scrollableElement.getScrollPosition(),i=Math.abs(this.viewContainer.scrollLeft-t.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,s=Math.abs(this.viewContainer.scrollTop-t.scrollTop)<=1?void 0:this.viewContainer.scrollTop;void 0===i&&void 0===s||this.scrollableElement.setScrollPosition({scrollLeft:i,scrollTop:s})}))),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((e=>{e.scrollTopChanged&&(this.viewContainer.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this.viewContainer.scrollLeft=e.scrollLeft)}))),(0,s.BC)(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||m),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach(((e,t)=>{const i=p.b0(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},s=e.view;this.doAddView(s,i,t,!0)})),this._contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.length,s=arguments.length>3?arguments[3]:void 0;this.doAddView(e,t,i,s)}layout(e,t){const i=Math.max(this.size,this._contentSize);if(this.size=e,this.layoutContext=t,this.proportions){let t=0;for(let i=0;i<this.viewItems.length;i++){const s=this.viewItems[i],o=this.proportions[i];"number"===typeof o?t+=o:e-=s.size}for(let i=0;i<this.viewItems.length;i++){const s=this.viewItems[i],o=this.proportions[i];"number"===typeof o&&t>0&&(s.size=(0,c.qE)(Math.round(o*e/t),s.minimumSize,s.maximumSize))}}else{const t=(0,l.y1)(this.viewItems.length),s=t.filter((e=>1===this.viewItems[e].priority)),o=t.filter((e=>2===this.viewItems[e].priority));this.resize(this.viewItems.length-1,e-i,void 0,s,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map((e=>e.proportionalLayout&&e.visible?e.size/this._contentSize:void 0)))}onSashStart(e){let{sash:t,start:i,alt:o}=e;for(const s of this.viewItems)s.enabled=!1;const n=this.sashItems.findIndex((e=>e.sash===t)),r=(0,d.qE)((0,s.ko)(this.el.ownerDocument.body,"keydown",(e=>h(this.sashDragState.current,e.altKey))),(0,s.ko)(this.el.ownerDocument.body,"keyup",(()=>h(this.sashDragState.current,!1)))),h=(e,t)=>{const i=this.viewItems.map((e=>e.size));let s,o,h=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(t=!t),t){if(n===this.sashItems.length-1){const e=this.viewItems[n];h=(e.minimumSize-e.size)/2,a=(e.maximumSize-e.size)/2}else{const e=this.viewItems[n+1];h=(e.size-e.maximumSize)/2,a=(e.size-e.minimumSize)/2}}if(!t){const e=(0,l.y1)(n,-1),t=(0,l.y1)(n+1,this.viewItems.length),r=e.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),h=e.reduce(((e,t)=>e+(this.viewItems[t].viewMaximumSize-i[t])),0),a=0===t.length?Number.POSITIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),d=0===t.length?Number.NEGATIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].viewMaximumSize)),0),c=Math.max(r,d),u=Math.min(a,h),p=this.findFirstSnapIndex(e),m=this.findFirstSnapIndex(t);if("number"===typeof p){const e=this.viewItems[p],t=Math.floor(e.viewMinimumSize/2);s={index:p,limitDelta:e.visible?c-t:c+t,size:e.size}}if("number"===typeof m){const e=this.viewItems[m],t=Math.floor(e.viewMinimumSize/2);o={index:m,limitDelta:e.visible?u+t:u-t,size:e.size}}}this.sashDragState={start:e,current:e,index:n,sizes:i,minDelta:h,maxDelta:a,alt:t,snapBefore:s,snapAfter:o,disposable:r}};h(i,o)}onSashChange(e){let{current:t}=e;const{index:i,start:s,sizes:o,alt:n,minDelta:r,maxDelta:l,snapBefore:h,snapAfter:a}=this.sashDragState;this.sashDragState.current=t;const d=t-s,c=this.resize(i,d,o,void 0,void 0,r,l,h,a);if(n){const e=i===this.sashItems.length-1,t=this.viewItems.map((e=>e.size)),s=e?i:i+1,o=this.viewItems[s],n=o.size-o.maximumSize,r=o.size-o.minimumSize,l=e?i-1:i+1;this.resize(l,-c,t,void 0,void 0,n,r)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t="number"===typeof t?t:e.size,t=(0,c.qE)(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(!(e<0||e>=this.viewItems.length)){if(this.state!==S.Idle)throw new Error("Cant modify splitview");this.state=S.Busy;try{const i=(0,l.y1)(this.viewItems.length).filter((t=>t!==e)),s=[...i.filter((e=>1===this.viewItems[e].priority)),e],o=i.filter((e=>2===this.viewItems[e].priority)),n=this.viewItems[e];t=Math.round(t),t=(0,c.qE)(t,n.minimumSize,Math.min(n.maximumSize,this.size)),n.size=t,this.relayout(s,o)}finally{this.state=S.Idle}}}distributeViewSizes(){const e=[];let t=0;for(const r of this.viewItems)r.maximumSize-r.minimumSize>0&&(e.push(r),t+=r.size);const i=Math.floor(t/e.length);for(const r of e)r.size=(0,c.qE)(i,r.minimumSize,r.maximumSize);const s=(0,l.y1)(this.viewItems.length),o=s.filter((e=>1===this.viewItems[e].priority)),n=s.filter((e=>2===this.viewItems[e].priority));this.relayout(o,n)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.length,o=arguments.length>3?arguments[3]:void 0;if(this.state!==S.Idle)throw new Error("Cant modify splitview");this.state=S.Busy;try{const r=(0,s.$)(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(r):this.viewContainer.insertBefore(r,this.viewContainer.children.item(i));const h=e.onDidChange((e=>this.onViewChange(m,e))),c=(0,d.s)((()=>this.viewContainer.removeChild(r))),u=(0,d.qE)(h,c);let p;"number"===typeof t?p=t:("auto"===t.type&&(t=this.areViewsDistributed()?{type:"distribute"}:{type:"split",index:t.index}),p="split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize);const m=0===this.orientation?new v(r,e,p,u):new f(r,e,p,u);if(this.viewItems.splice(i,0,m),this.viewItems.length>1){const e={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},t=0===this.orientation?new n.m(this.sashContainer,{getHorizontalSashTop:e=>this.getSashPosition(e),getHorizontalSashWidth:this.getSashOrthogonalSize},{...e,orientation:1}):new n.m(this.sashContainer,{getVerticalSashLeft:e=>this.getSashPosition(e),getVerticalSashHeight:this.getSashOrthogonalSize},{...e,orientation:0}),s=0===this.orientation?e=>({sash:t,start:e.startY,current:e.currentY,alt:e.altKey}):e=>({sash:t,start:e.startX,current:e.currentX,alt:e.altKey}),o=a.Jh.map(t.onDidStart,s)(this.onSashStart,this),r=a.Jh.map(t.onDidChange,s)(this.onSashChange,this),h=a.Jh.map(t.onDidEnd,(()=>this.sashItems.findIndex((e=>e.sash===t)))),c=h(this.onSashEnd,this),u=t.onDidReset((()=>{const e=this.sashItems.findIndex((e=>e.sash===t)),i=(0,l.y1)(e,-1),s=(0,l.y1)(e+1,this.viewItems.length),o=this.findFirstSnapIndex(i),n=this.findFirstSnapIndex(s);("number"!==typeof o||this.viewItems[o].visible)&&("number"!==typeof n||this.viewItems[n].visible)&&this._onDidSashReset.fire(e)})),p=(0,d.qE)(o,r,c,u,t),m={sash:t,disposable:p};this.sashItems.splice(i-1,0,m)}let g;r.appendChild(e.element),"number"!==typeof t&&"split"===t.type&&(g=[t.index]),o||this.relayout([i],g),o||"number"===typeof t||"distribute"!==t.type||this.distributeViewSizes()}finally{this.state=S.Idle}}relayout(e,t){const i=this.viewItems.reduce(((e,t)=>e+t.size),0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.map((e=>e.size)),s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Number.NEGATIVE_INFINITY,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Number.POSITIVE_INFINITY,h=arguments.length>7?arguments[7]:void 0,a=arguments.length>8?arguments[8]:void 0;if(e<0||e>=this.viewItems.length)return 0;const d=(0,l.y1)(e,-1),u=(0,l.y1)(e+1,this.viewItems.length);if(o)for(const c of o)(0,l._A)(d,c),(0,l._A)(u,c);if(s)for(const c of s)(0,l.r7)(d,c),(0,l.r7)(u,c);const p=d.map((e=>this.viewItems[e])),m=d.map((e=>i[e])),g=u.map((e=>this.viewItems[e])),v=u.map((e=>i[e])),f=d.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),S=d.reduce(((e,t)=>e+(this.viewItems[t].maximumSize-i[t])),0),b=0===u.length?Number.POSITIVE_INFINITY:u.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),_=0===u.length?Number.NEGATIVE_INFINITY:u.reduce(((e,t)=>e+(i[t]-this.viewItems[t].maximumSize)),0),w=Math.max(f,_,n),y=Math.min(b,S,r);let D=!1;if(h){const e=this.viewItems[h.index],i=t>=h.limitDelta;D=i!==e.visible,e.setVisible(i,h.size)}if(!D&&a){const e=this.viewItems[a.index],i=t<a.limitDelta;D=i!==e.visible,e.setVisible(i,a.size)}if(D)return this.resize(e,t,i,s,o,n,r);for(let l=0,C=t=(0,c.qE)(t,w,y);l<p.length;l++){const e=p[l],t=(0,c.qE)(m[l]+C,e.minimumSize,e.maximumSize);C-=t-m[l],e.size=t}for(let l=0,C=t;l<g.length;l++){const e=g[l],t=(0,c.qE)(v[l]-C,e.minimumSize,e.maximumSize);C+=t-v[l],e.size=t}return t}distributeEmptySpace(e){const t=this.viewItems.reduce(((e,t)=>e+t.size),0);let i=this.size-t;const s=(0,l.y1)(this.viewItems.length-1,-1),o=s.filter((e=>1===this.viewItems[e].priority)),n=s.filter((e=>2===this.viewItems[e].priority));for(const r of n)(0,l._A)(s,r);for(const r of o)(0,l.r7)(s,r);"number"===typeof e&&(0,l.r7)(s,e);for(let r=0;0!==i&&r<s.length;r++){const e=this.viewItems[s[r]],t=(0,c.qE)(e.size+i,e.minimumSize,e.maximumSize);i-=t-e.size,e.size=t}}layoutViews(){this._contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach((e=>e.sash.layout())),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map((t=>e=t.size-t.minimumSize>0||e));e=!1;const i=this.viewItems.map((t=>e=t.maximumSize-t.size>0||e)),s=[...this.viewItems].reverse();e=!1;const o=s.map((t=>e=t.size-t.minimumSize>0||e)).reverse();e=!1;const n=s.map((t=>e=t.maximumSize-t.size>0||e)).reverse();let r=0;for(let h=0;h<this.sashItems.length;h++){const{sash:e}=this.sashItems[h];r+=this.viewItems[h].size;const s=!(t[h]&&n[h+1]),a=!(i[h]&&o[h+1]);if(s&&a){const i=(0,l.y1)(h,-1),s=(0,l.y1)(h+1,this.viewItems.length),n=this.findFirstSnapIndex(i),a=this.findFirstSnapIndex(s),d="number"===typeof n&&!this.viewItems[n].visible,c="number"===typeof a&&!this.viewItems[a].visible;d&&o[h]&&(r>0||this.startSnappingEnabled)?e.state=1:c&&t[h]&&(r<this._contentSize||this.endSnappingEnabled)?e.state=2:e.state=0}else e.state=s&&!a?1:!s&&a?2:3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const e=this.viewItems[t];if(e.visible&&e.snap)return t}for(const t of e){const e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return t}}areViewsDistributed(){let e,t;for(const i of this.viewItems)if(e=void 0===e?i.size:Math.min(e,i.size),t=void 0===t?i.size:Math.max(t,i.size),t-e>2)return!1;return!0}dispose(){var e;null===(e=this.sashDragState)||void 0===e||e.disposable.dispose(),(0,d.AS)(this.viewItems),this.viewItems=[],this.sashItems.forEach((e=>e.disposable.dispose())),this.sashItems=[],super.dispose()}}},98425:(e,t,i)=>{i.d(t,{X:()=>u});var s=i(32605),o=i(13132),n=i(48128),r=i(37155),l=i(86793),h=i(48250),a=i(87766);class d{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=d.TemplateId,this.renderedTemplates=new Set;const s=new Map(t.map((e=>[e.templateId,e])));this.renderers=[];for(const o of e){const e=s.get(o.templateId);if(!e)throw new Error("Table cell renderer for template id ".concat(o.templateId," not found."));this.renderers.push(e)}}renderTemplate(e){const t=(0,s.BC)(e,(0,s.$)(".monaco-table-tr")),i=[],o=[];for(let r=0;r<this.columns.length;r++){const e=this.renderers[r],n=(0,s.BC)(t,(0,s.$)(".monaco-table-td",{"data-col-index":r}));n.style.width="".concat(this.getColumnSize(r),"px"),i.push(n),o.push(e.renderTemplate(n))}const n={container:e,cellContainers:i,cellTemplateData:o};return this.renderedTemplates.add(n),n}renderElement(e,t,i,s){for(let o=0;o<this.columns.length;o++){const n=this.columns[o].project(e);this.renderers[o].renderElement(n,t,i.cellTemplateData[o],s)}}disposeElement(e,t,i,s){for(let o=0;o<this.columns.length;o++){const n=this.renderers[o];if(n.disposeElement){const r=this.columns[o].project(e);n.disposeElement(r,t,i.cellTemplateData[o],s)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++){this.renderers[t].disposeTemplate(e.cellTemplateData[t])}(0,s.w_)(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width="".concat(t,"px")}}d.TemplateId="row";class c extends a.jG{get minimumSize(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}get maximumSize(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:h.Jh.None}constructor(e,t){super(),this.column=e,this.index=t,this._onDidLayout=new h.vl,this.onDidLayout=this._onDidLayout.event,this.element=(0,s.$)(".monaco-table-th",{"data-col-index":t},e.label),e.tooltip&&this._register((0,o.i)().setupUpdatableHover((0,n.nZ)("mouse"),this.element,e.tooltip))}layout(e){this._onDidLayout.fire([this.index,e])}}class u{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(e,t,i,o,n,p){this.virtualDelegate=i,this.domId="table_id_".concat(++u.InstanceCount),this.disposables=new a.Cm,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,s.BC)(t,(0,s.$)(".monaco-table.".concat(this.domId)));const m=o.map(((e,t)=>this.disposables.add(new c(e,t)))),g={size:m.reduce(((e,t)=>e+t.column.weight),0),views:m.map((e=>({size:e.column.weight,view:e})))};this.splitview=this.disposables.add(new l.U(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:g})),this.splitview.el.style.height="".concat(i.headerRowHeight,"px"),this.splitview.el.style.lineHeight="".concat(i.headerRowHeight,"px");const v=new d(o,n,(e=>this.splitview.getViewSize(e)));var f;this.list=this.disposables.add(new r.B8(e,this.domNode,(f=i,{getHeight:e=>f.getHeight(e),getTemplateId:()=>d.TemplateId}),[v],p)),h.Jh.any(...m.map((e=>e.onDidLayout)))((e=>{let[t,i]=e;return v.layoutColumn(t,i)}),null,this.disposables),this.splitview.onDidSashReset((e=>{const t=o.reduce(((e,t)=>e+t.weight),0),i=o[e].weight/t*this.cachedWidth;this.splitview.resizeView(e,i)}),null,this.disposables),this.styleElement=(0,s.li)(this.domNode),this.style(r.bG)}updateOptions(e){this.list.updateOptions(e)}splice(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(".monaco-table.".concat(this.domId," > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ").concat(this.virtualDelegate.headerRowHeight+1,"px;\n\t\t\theight: calc(100% - ").concat(this.virtualDelegate.headerRowHeight,"px);\n\t\t}")),this.styleElement.textContent=t.join("\n"),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}u.InstanceCount=0},25897:(e,t,i)=>{i.d(t,{l:()=>a,F:()=>h});var s=i(70118),o=i(70145),n=i(48250),r=i(48128),l=i(13132);const h={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class a extends s.x{constructor(e){var t;super(),this._onChange=this._register(new n.vl),this.onChange=this._onChange.event,this._onKeyDown=this._register(new n.vl),this.onKeyDown=this._onKeyDown.event,this._opts=e,this._checked=this._opts.isChecked;const i=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,i.push(...o.L.asClassNameArray(this._icon))),this._opts.actionClassName&&i.push(...this._opts.actionClassName.split(" ")),this._checked&&i.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register((0,l.i)().setupUpdatableHover(null!==(t=e.hoverDelegate)&&void 0!==t?t:(0,r.nZ)("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...i),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(e=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),e.preventDefault())})),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,(e=>{if(10===e.keyCode||3===e.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),e.preventDefault(),void e.stopPropagation();this._onKeyDown.fire(e)}))}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},79239:(e,t,i)=>{i.d(t,{s:()=>p,i:()=>u});var s=i(97567),o=i(41037),n=i(63169),r=i(21030),l=i(70145),h=i(48250),a=i(87766),d=i(51413),c=i(48128);class u extends a.jG{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{orientation:0};var d;super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new h._B),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new a.Cm),i.hoverDelegate=null!==(d=i.hoverDelegate)&&void 0!==d?d:this._register((0,c.bW)()),this.options=i,this.lookupKeybindings="function"===typeof this.options.getKeyBinding,this.toggleMenuAction=this._register(new p((()=>{var e;return null===(e=this.toggleMenuActionViewItem)||void 0===e?void 0:e.show()}),i.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",e.appendChild(this.element),this.actionBar=this._register(new s.E(this.element,{orientation:i.orientation,ariaLabel:i.ariaLabel,actionRunner:i.actionRunner,allowContextMenu:i.allowContextMenu,highlightToggledItems:i.highlightToggledItems,hoverDelegate:i.hoverDelegate,actionViewItemProvider:(e,s)=>{var h;if(e.id===p.ID)return this.toggleMenuActionViewItem=new o.d(e,e.menuActions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:l.L.asClassNameArray(null!==(h=i.moreIcon)&&void 0!==h?h:r.W.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(i.actionViewItemProvider){const t=i.actionViewItemProvider(e,s);if(t)return t}if(e instanceof n.YH){const i=new o.d(e,e.actions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:e.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return i.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(i),this.disposables.add(this._onDidChangeDropdownVisibility.add(i.onDidChangeVisibility)),i}}}))}set actionRunner(e){this.actionBar.actionRunner=e}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(e){return this.actionBar.getAction(e)}setActions(e,t){this.clear();const i=e?e.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),i.push(this.toggleMenuAction)),i.forEach((e=>{this.actionBar.push(e,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(e)})}))}getKeybindingLabel(e){var t,i,s;const o=this.lookupKeybindings?null===(i=(t=this.options).getKeyBinding)||void 0===i?void 0:i.call(t,e):void 0;return null!==(s=null===o||void 0===o?void 0:o.getLabel())&&void 0!==s?s:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}class p extends n.rc{constructor(e,t){t=t||d.kg("moreActions","More Actions..."),super(p.ID,t,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=e}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(e){this._menuActions=e}}p.ID="toolbar.toggle.more"},32092:(e,t,i)=>{i.d(t,{DO:()=>j,w0:()=>E,KP:()=>s,RD:()=>k,vD:()=>z});var s,o=i(32605),n=(i(59725),i(46250)),r=(i(97567),i(69571),i(12311)),l=i(48425),h=i(37155),a=i(25897),d=i(7304),c=i(71069),u=(i(63169),i(61498)),p=i(73990),m=i(21030),g=i(70145),v=i(67512),f=i(48250),S=i(86373),b=i(87766),_=i(56880),w=i(32031),y=i(51413),D=(i(48128),i(2698));class C extends l.ur{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function N(e){return e instanceof l.ur?new C(e):e}class x{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=b.jG.None,this.disposables=new b.Cm}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){var i,s;null===(s=(i=this.dnd).onDragStart)||void 0===s||s.call(i,N(e),t)}onDragOver(e,t,i,s,o){let n=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const r=this.dnd.onDragOver(N(e),t&&t.element,i,s,o),l=this.autoExpandNode!==t;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),"undefined"===typeof t)return r;if(l&&"boolean"!==typeof r&&r.autoExpand&&(this.autoExpandDisposable=(0,p.EQ)((()=>{const e=this.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),this.autoExpandNode=void 0}),500,this.disposables)),"boolean"===typeof r||!r.accept||"undefined"===typeof r.bubble||r.feedback){if(!n){return{accept:"boolean"===typeof r?r:r.accept,effect:"boolean"===typeof r?void 0:r.effect,feedback:[i]}}return r}if(1===r.bubble){const i=this.modelProvider(),n=i.getNodeLocation(t),r=i.getParentNodeLocation(n),l=i.getNode(r),h=r&&i.getListIndex(r);return this.onDragOver(e,l,h,s,o,!1)}const h=this.modelProvider(),a=h.getNodeLocation(t),d=h.getListIndex(a),c=h.getListRenderCount(a);return{...r,feedback:(0,u.y1)(d,d+c)}}drop(e,t,i,s,o){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(N(e),t&&t.element,i,s,o)}onDragEnd(e){var t,i;null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}class E{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){var i,s;null===(s=(i=this.delegate).setDynamicHeight)||void 0===s||s.call(i,e.element,t)}}!function(e){e.None="none",e.OnHover="onHover",e.Always="always"}(s||(s={}));class I{get elements(){return this._elements}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._elements=t,this.disposables=new b.Cm,this.onDidChange=f.Jh.forEach(e,(e=>this._elements=e),this.disposables)}dispose(){this.disposables.dispose()}}class P{constructor(e,t,i,s,o){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};var r;this.renderer=e,this.modelProvider=t,this.activeNodes=s,this.renderedIndentGuides=o,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=P.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=b.jG.None,this.disposables=new b.Cm,this.templateId=e.templateId,this.updateOptions(n),f.Jh.map(i,(e=>e.node))(this.onDidChangeNodeTwistieState,this,this.disposables),null===(r=e.onDidChangeTwistieState)||void 0===r||r.call(e,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof e.indent){const t=(0,_.qE)(e.indent,0,40);if(t!==this.indent){this.indent=t;for(const[e,t]of this.renderedNodes)this.renderTreeElement(e,t)}}if("undefined"!==typeof e.renderIndentGuides){const t=e.renderIndentGuides!==s.None;if(t!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=t;for(const[e,t]of this.renderedNodes)this._renderIndentGuides(e,t);if(this.indentGuidesDisposable.dispose(),t){const e=new b.Cm;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,e),this.indentGuidesDisposable=e,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}"undefined"!==typeof e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=(0,o.BC)(e,(0,o.$)(".monaco-tl-row")),i=(0,o.BC)(t,(0,o.$)(".monaco-tl-indent")),s=(0,o.BC)(t,(0,o.$)(".monaco-tl-twistie")),n=(0,o.BC)(t,(0,o.$)(".monaco-tl-contents")),r=this.renderer.renderTemplate(n);return{container:e,indent:i,twistie:s,indentGuidesDisposable:b.jG.None,templateData:r}}renderElement(e,t,i,s){this.renderedNodes.set(e,i),this.renderedElements.set(e.element,e),this.renderTreeElement(e,i),this.renderer.renderElement(e,t,i.templateData,s)}disposeElement(e,t,i,s){var o,n;i.indentGuidesDisposable.dispose(),null===(n=(o=this.renderer).disposeElement)||void 0===n||n.call(o,e,t,i.templateData,s),"number"===typeof s&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}renderTreeElement(e,t){const i=P.DefaultIndent+(e.depth-1)*this.indent;t.twistie.style.paddingLeft="".concat(i,"px"),t.indent.style.width="".concat(i+this.indent-16,"px"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded"),t.twistie.classList.remove(...g.L.asClassNameArray(m.W.treeItemExpanded));let s=!1;this.renderer.renderTwistie&&(s=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(s||t.twistie.classList.add(...g.L.asClassNameArray(m.W.treeItemExpanded)),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,t)}_renderIndentGuides(e,t){if((0,o.w_)(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new b.Cm,s=this.modelProvider();for(;;){const n=s.getNodeLocation(e),r=s.getParentNodeLocation(n);if(!r)break;const l=s.getNode(r),h=(0,o.$)(".indent-guide",{style:"width: ".concat(this.indent,"px")});this.activeIndentNodes.has(l)&&h.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(h):t.indent.insertBefore(h,t.indent.firstElementChild),this.renderedIndentGuides.add(l,h),i.add((0,b.s)((()=>this.renderedIndentGuides.delete(l,h)))),e=l}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach((e=>{const s=i.getNodeLocation(e);try{const o=i.getParentNodeLocation(s);e.collapsible&&e.children.length>0&&!e.collapsed?t.add(e):o&&t.add(i.getNode(o))}catch(o){}})),this.activeIndentNodes.forEach((e=>{t.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.remove("active")))})),t.forEach((e=>{this.activeIndentNodes.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.add("active")))})),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,b.AS)(this.disposables)}}P.DefaultIndent=8;class L{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new b.Cm,e.onWillRefilter(this.reset,this,this.disposables)}filter(e,t){let i=1;if(this._filter){const s=this._filter.filter(e,t);if(i="boolean"===typeof s?s?1:0:(0,d.iZ)(s)?(0,d.Mn)(s.visibility):s,0===i)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:S.ne.Default,visibility:i};const s=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),o=Array.isArray(s)?s:[s];for(const n of o){const e=n&&n.toString();if("undefined"===typeof e)return{data:S.ne.Default,visibility:i};let t;if(this.tree.findMatchType===k.Contiguous){const i=e.toLowerCase().indexOf(this._lowercasePattern);if(i>-1){t=[Number.MAX_SAFE_INTEGER,0];for(let e=this._lowercasePattern.length;e>0;e--)t.push(i+e-1)}}else t=(0,S.dt)(this._pattern,this._lowercasePattern,0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(t)return this._matchCount++,1===o.length?{data:t,visibility:i}:{data:{label:e,score:t},visibility:i}}return this.tree.findMode===z.Filter?"number"===typeof this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:S.ne.Default,visibility:i}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,b.AS)(this.disposables)}}a.l;a.l;r.x8,a.F;var z,k;!function(e){e[e.Highlight=0]="Highlight",e[e.Filter=1]="Filter"}(z||(z={})),function(e){e[e.Fuzzy=0]="Fuzzy",e[e.Contiguous=1]="Contiguous"}(k||(k={}));b.jG;class M{get pattern(){return this._pattern}get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}constructor(e,t,i,s,o){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};var r,l;this.tree=e,this.view=i,this.filter=s,this.contextViewProvider=o,this.options=n,this._pattern="",this.width=0,this._onDidChangeMode=new f.vl,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new f.vl,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new f.vl,this._onDidChangeOpenState=new f.vl,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new b.Cm,this.disposables=new b.Cm,this._mode=null!==(r=e.options.defaultFindMode)&&void 0!==r?r:z.Highlight,this._matchType=null!==(l=e.options.defaultFindMatchType)&&void 0!==l?l:k.Fuzzy,t.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0!==e.defaultFindMode&&(this.mode=e.defaultFindMode),void 0!==e.defaultFindMatchType&&(this.matchType=e.defaultFindMatchType)}onDidSpliceModel(){this.widget&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}render(){var e,t,i,s;const o=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&o?null===(e=this.tree.options.showNotFoundMessage)||void 0===e||e?null===(t=this.widget)||void 0===t||t.showMessage({type:2,content:(0,y.kg)("not found","No elements found.")}):null===(i=this.widget)||void 0===i||i.showMessage({type:2}):null===(s=this.widget)||void 0===s||s.clearMessage()}shouldAllowFocus(e){return!this.widget||!this.pattern||(this.filter.totalCount>0&&this.filter.matchCount<=1||!S.ne.isDefault(e.filterData))}layout(e){var t;this.width=e,null===(t=this.widget)||void 0===t||t.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function T(e,t){return e.position===t.position&&A(e,t)}function A(e,t){return e.node.element===t.node.element&&e.startIndex===t.startIndex&&e.height===t.height&&e.endIndex===t.endIndex}class F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.stickyNodes=e}get count(){return this.stickyNodes.length}equal(e){return(0,u.aI)(this.stickyNodes,e.stickyNodes,T)}lastNodePartiallyVisible(){if(0===this.count)return!1;const e=this.stickyNodes[this.count-1];if(1===this.count)return 0!==e.position;const t=this.stickyNodes[this.count-2];return t.position+t.height!==e.position}animationStateChanged(e){if(!(0,u.aI)(this.stickyNodes,e.stickyNodes,A))return!1;if(0===this.count)return!1;const t=this.stickyNodes[this.count-1],i=e.stickyNodes[e.count-1];return t.position!==i.position}}class R{constrainStickyScrollNodes(e,t,i){for(let s=0;s<e.length;s++){const o=e[s];if(o.position+o.height>i||s>=t)return e.slice(0,s)}return e}}class O extends b.jG{constructor(e,t,i,s,o){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};var r;super(),this.tree=e,this.model=t,this.view=i,this.treeDelegate=o,this.maxWidgetViewRatio=.4;const l=this.validateStickySettings(n);this.stickyScrollMaxItemCount=l.stickyScrollMaxItemCount,this.stickyScrollDelegate=null!==(r=n.stickyScrollDelegate)&&void 0!==r?r:new R,this._widget=this._register(new B(i.getScrollableElement(),i,e,s,o,n.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(i.onDidScroll((()=>this.update()))),this._register(i.onDidChangeContentHeight((()=>this.update()))),this._register(e.onDidChangeCollapseState((()=>this.update()))),this.update()}get height(){return this._widget.height}getNodeAtHeight(e){let t;if(t=0===e?this.view.firstVisibleIndex:this.view.indexAt(e+this.view.scrollTop),!(t<0||t>=this.view.length))return this.view.element(t)}update(){const e=this.getNodeAtHeight(0);if(!e||0===this.tree.scrollTop)return void this._widget.setState(void 0);const t=this.findStickyState(e);this._widget.setState(t)}findStickyState(e){const t=[];let i=e,s=0,o=this.getNextStickyNode(i,void 0,s);for(;o&&(t.push(o),s+=o.height,!(t.length<=this.stickyScrollMaxItemCount)||(i=this.getNextVisibleNode(o),i));)o=this.getNextStickyNode(i,o.node,s);const n=this.constrainStickyNodes(t);return n.length?new F(n):void 0}getNextVisibleNode(e){return this.getNodeAtHeight(e.position+e.height)}getNextStickyNode(e,t,i){const s=this.getAncestorUnderPrevious(e,t);if(s){if(s===e){if(!this.nodeIsUncollapsedParent(e))return;if(this.nodeTopAlignsWithStickyNodesBottom(e,i))return}return this.createStickyScrollNode(s,i)}}nodeTopAlignsWithStickyNodesBottom(e,t){const i=this.getNodeIndex(e),s=this.view.getElementTop(i),o=t;return this.view.scrollTop===s-o}createStickyScrollNode(e,t){const i=this.treeDelegate.getHeight(e),{startIndex:s,endIndex:o}=this.getNodeRange(e);return{node:e,position:this.calculateStickyNodePosition(o,t,i),height:i,startIndex:s,endIndex:o}}getAncestorUnderPrevious(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=e,s=this.getParentNode(i);for(;s;){if(s===t)return i;i=s,s=this.getParentNode(i)}if(void 0===t)return i}calculateStickyNodePosition(e,t,i){let s=this.view.getRelativeTop(e);if(null===s&&this.view.firstVisibleIndex===e&&e+1<this.view.length){const t=this.treeDelegate.getHeight(this.view.element(e)),i=this.view.getRelativeTop(e+1);s=i?i-t/this.view.renderHeight:null}if(null===s)return t;const o=this.view.element(e),n=this.treeDelegate.getHeight(o),r=s*this.view.renderHeight+n;return t+i>r&&t<=r?r-i:t}constrainStickyNodes(e){if(0===e.length)return[];const t=this.view.renderHeight*this.maxWidgetViewRatio,i=e[e.length-1];if(e.length<=this.stickyScrollMaxItemCount&&i.position+i.height<=t)return e;const s=this.stickyScrollDelegate.constrainStickyScrollNodes(e,this.stickyScrollMaxItemCount,t);if(!s.length)return[];const o=s[s.length-1];if(s.length>this.stickyScrollMaxItemCount||o.position+o.height>t)throw new Error("stickyScrollDelegate violates constraints");return s}getParentNode(e){const t=this.model.getNodeLocation(e),i=this.model.getParentNodeLocation(t);return i?this.model.getNode(i):void 0}nodeIsUncollapsedParent(e){const t=this.model.getNodeLocation(e);return this.model.getListRenderCount(t)>1}getNodeIndex(e){const t=this.model.getNodeLocation(e);return this.model.getListIndex(t)}getNodeRange(e){const t=this.model.getNodeLocation(e),i=this.model.getListIndex(t);if(i<0)throw new Error("Node not found in tree");return{startIndex:i,endIndex:i+this.model.getListRenderCount(t)-1}}nodePositionTopBelowWidget(e){const t=[];let i=this.getParentNode(e);for(;i;)t.push(i),i=this.getParentNode(i);let s=0;for(let o=0;o<t.length&&o<this.stickyScrollMaxItemCount;o++)s+=this.treeDelegate.getHeight(t[o]);return s}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.stickyScrollMaxItemCount)return;const t=this.validateStickySettings(e);this.stickyScrollMaxItemCount!==t.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=t.stickyScrollMaxItemCount,this.update())}validateStickySettings(e){let t=7;return"number"===typeof e.stickyScrollMaxItemCount&&(t=Math.max(e.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:t}}}class B{constructor(e,t,i,s,n,r){this.view=t,this.tree=i,this.treeRenderers=s,this.treeDelegate=n,this.accessibilityProvider=r,this._previousElements=[],this._previousStateDisposables=new b.Cm,this._rootDomNode=(0,o.$)(".monaco-tree-sticky-container.empty"),e.appendChild(this._rootDomNode);const l=(0,o.$)(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(l),this.stickyScrollFocus=new H(this._rootDomNode,t),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}get height(){if(!this._previousState)return 0;const e=this._previousState.stickyNodes[this._previousState.count-1];return e.position+e.height}setState(e){const t=!!this._previousState&&this._previousState.count>0,i=!!e&&e.count>0;if(!t&&!i||t&&i&&this._previousState.equal(e))return;if(t!==i&&this.setVisible(i),!i)return this._previousState=void 0,this._previousElements=[],void this._previousStateDisposables.clear();const s=e.stickyNodes[e.count-1];if(this._previousState&&e.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top="".concat(s.position,"px");else{this._previousStateDisposables.clear();const t=Array(e.count);for(let i=e.count-1;i>=0;i--){const s=e.stickyNodes[i],{element:o,disposable:n}=this.createElement(s,i,e.count);t[i]=o,this._rootDomNode.appendChild(o),this._previousStateDisposables.add(n)}this.stickyScrollFocus.updateElements(t,e),this._previousElements=t}this._previousState=e,this._rootDomNode.style.height="".concat(s.position+s.height,"px")}createElement(e,t,i){const s=e.startIndex,o=document.createElement("div");o.style.top="".concat(e.position,"px"),!1!==this.tree.options.setRowHeight&&(o.style.height="".concat(e.height,"px")),!1!==this.tree.options.setRowLineHeight&&(o.style.lineHeight="".concat(e.height,"px")),o.classList.add("monaco-tree-sticky-row"),o.classList.add("monaco-list-row"),o.setAttribute("data-index","".concat(s)),o.setAttribute("data-parity",s%2===0?"even":"odd"),o.setAttribute("id",this.view.getElementID(s));const n=this.setAccessibilityAttributes(o,e.node.element,t,i),r=this.treeDelegate.getTemplateId(e.node),l=this.treeRenderers.find((e=>e.templateId===r));if(!l)throw new Error("No renderer found for template id ".concat(r));let h=e.node;h===this.tree.getNode(this.tree.getNodeLocation(e.node))&&(h=new Proxy(e.node,{}));const a=l.renderTemplate(o);l.renderElement(h,e.startIndex,a,e.height);const d=(0,b.s)((()=>{n.dispose(),l.disposeElement(h,e.startIndex,a,e.height),l.disposeTemplate(a),o.remove()}));return{element:o,disposable:d}}setAccessibilityAttributes(e,t,i,s){var o;if(!this.accessibilityProvider)return b.jG.None;this.accessibilityProvider.getSetSize&&e.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(t,i,s))),this.accessibilityProvider.getPosInSet&&e.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(t,i))),this.accessibilityProvider.getRole&&e.setAttribute("role",null!==(o=this.accessibilityProvider.getRole(t))&&void 0!==o?o:"treeitem");const n=this.accessibilityProvider.getAriaLabel(t),r=n&&"string"!==typeof n?n:(0,D.lk)(n),l=(0,D.fm)((t=>{const i=t.readObservable(r);i?e.setAttribute("aria-label",i):e.removeAttribute("aria-label")}));"string"===typeof n||n&&e.setAttribute("aria-label",n.get());const h=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(t);return"number"===typeof h&&e.setAttribute("aria-level","".concat(h)),e.setAttribute("aria-selected",String(!1)),l}setVisible(e){this._rootDomNode.classList.toggle("empty",!e),e||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class H extends b.jG{get domHasFocus(){return this._domHasFocus}set domHasFocus(e){e!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(e),this._domHasFocus=e)}constructor(e,t){super(),this.container=e,this.view=t,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new f.vl,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new f.vl,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",(()=>this.onFocus())),this.container.addEventListener("blur",(()=>this.onBlur())),this._register(this.view.onDidFocus((()=>this.toggleStickyScrollFocused(!1)))),this._register(this.view.onKeyDown((e=>this.onKeyDown(e)))),this._register(this.view.onMouseDown((e=>this.onMouseDown(e)))),this._register(this.view.onContextMenu((e=>this.handleContextMenu(e))))}handleContextMenu(e){const t=e.browserEvent.target;if(!(0,h.Es)(t)&&!(0,h.xu)(t))return void(this.focusedLast()&&this.view.domFocus());if(!(0,o.kx)(e.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const t=this.state.stickyNodes.findIndex((t=>{var i;return t.node.element===(null===(i=e.element)||void 0===i?void 0:i.element)}));if(-1===t)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");return this.container.focus(),void this.setFocus(t)}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const i=this.state.stickyNodes[this.focusedIndex].node.element,s=this.elements[this.focusedIndex];this._onContextMenu.fire({element:i,anchor:s,browserEvent:e.browserEvent,isStickyScroll:!0})}onKeyDown(e){if(this.domHasFocus&&this.state)if("ArrowUp"===e.key)this.setFocusedElement(Math.max(0,this.focusedIndex-1)),e.preventDefault(),e.stopPropagation();else if("ArrowDown"===e.key||"ArrowRight"===e.key){if(this.focusedIndex>=this.state.count-1){const e=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([e]),this.scrollNodeUnderWidget(e,this.state)}else this.setFocusedElement(this.focusedIndex+1);e.preventDefault(),e.stopPropagation()}}onMouseDown(e){const t=e.browserEvent.target;((0,h.Es)(t)||(0,h.xu)(t))&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation())}updateElements(e,t){if(t&&0===t.count)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(t&&t.count!==e.length)throw new Error("Sticky scroll focus received illigel state");const i=this.focusedIndex;if(this.removeFocus(),this.elements=e,this.state=t,t){const e=(0,_.qE)(i,0,t.count-1);this.setFocus(e)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=t?0:-1}setFocusedElement(e){const t=this.state;if(!t)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(e),!(e<t.count-1)&&t.lastNodePartiallyVisible()){const i=t.stickyNodes[e];this.scrollNodeUnderWidget(i.endIndex+1,t)}}scrollNodeUnderWidget(e,t){const i=t.stickyNodes[t.count-1],s=t.count>1?t.stickyNodes[t.count-2]:void 0,o=this.view.getElementTop(e),n=s?s.position+s.height+i.height:i.height;this.view.scrollTop=o-n}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return!!this.state&&this.view.getHTMLElement().classList.contains("sticky-scroll-focused")}removeFocus(){-1!==this.focusedIndex&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(e){if(0>e)throw new Error("addFocus() can not remove focus");if(!this.state&&e>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&e>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const t=this.focusedIndex;t>=0&&this.toggleElementFocus(this.elements[t],!1),e>=0&&this.toggleElementFocus(this.elements[e],!0),this.focusedIndex=e}toggleElementFocus(e,t){this.toggleElementActiveFocus(e,t&&this.domHasFocus),this.toggleElementPassiveFocus(e,t)}toggleCurrentElementActiveFocus(e){-1!==this.focusedIndex&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],e)}toggleElementActiveFocus(e,t){e.classList.toggle("focused",t)}toggleElementPassiveFocus(e,t){e.classList.toggle("passive-focused",t)}toggleStickyScrollFocused(e){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",e)}onFocus(){if(!this.state||0===this.elements.length)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),-1===this.focusedIndex&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function V(e){let t=c.Lx.Unknown;return(0,o.XD)(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=c.Lx.Twistie:(0,o.XD)(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?t=c.Lx.Element:(0,o.XD)(e.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(t=c.Lx.Filter),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function W(e){const t=(0,h.Es)(e.browserEvent.target);return{element:e.element?e.element.element:null,browserEvent:e.browserEvent,anchor:e.anchor,isStickyScroll:t}}function G(e,t){t(e),e.children.forEach((e=>G(e,t)))}class U{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new f.vl,this.onDidChange=this._onDidChange.event}set(e,t){!(null===t||void 0===t?void 0:t.__forceEvent)&&(0,u.aI)(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map((e=>e.element))),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice(e){let{insertedNodes:t,deletedNodes:i}=e;if(!this.identityProvider){const e=this.createNodeSet(),t=t=>e.delete(t);return i.forEach((e=>G(e,t))),void this.set([...e.values()])}const s=new Set,o=e=>s.add(this.identityProvider.getId(e.element).toString());i.forEach((e=>G(e,o)));const n=new Map,r=e=>n.set(this.identityProvider.getId(e.element).toString(),e);t.forEach((e=>G(e,r)));const l=[];for(const h of this.nodes){const e=this.identityProvider.getId(h.element).toString();if(s.has(e)){const t=n.get(e);t&&t.visible&&l.push(t)}else l.push(h)}if(this.nodes.length>0&&0===l.length){const e=this.getFirstViewElementWithTrait();e&&l.push(e)}this._set(l,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class Y extends h.MH{constructor(e,t,i){super(e),this.tree=t,this.stickyScrollProvider=i}onViewPointer(e){if((0,h.Bm)(e.browserEvent.target)||(0,h.B6)(e.browserEvent.target)||(0,h.bm)(e.browserEvent.target))return;if(e.browserEvent.isHandledByList)return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,s=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,o=(0,h.xu)(e.browserEvent.target);let n=!1;if(n=!!o||("function"===typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick),o)this.handleStickyScrollMouseEvent(e,t);else{if(n&&!s&&2!==e.browserEvent.detail)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return super.onViewPointer(e)}if(t.collapsible&&(!o||s)){const i=this.tree.getNodeLocation(t),o=e.browserEvent.altKey;if(this.tree.setFocus([i]),this.tree.toggleCollapsed(i,o),s)return void(e.browserEvent.isHandledByList=!0)}o||super.onViewPointer(e)}handleStickyScrollMouseEvent(e,t){if((0,h.b$)(e.browserEvent.target)||(0,h.W0)(e.browserEvent.target))return;const i=this.stickyScrollProvider();if(!i)throw new Error("Sticky scroll controller not found");const s=this.list.indexOf(t),o=this.list.getElementTop(s),n=i.nodePositionTopBelowWidget(t);this.tree.scrollTop=o-n,this.list.domFocus(),this.list.setFocus([s]),this.list.setSelection([s])}onDoubleClick(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&(e.browserEvent.isHandledByList||super.onDoubleClick(e))}onMouseDown(e){const t=e.browserEvent.target;(0,h.Es)(t)||(0,h.xu)(t)||super.onMouseDown(e)}onContextMenu(e){const t=e.browserEvent.target;(0,h.Es)(t)||(0,h.xu)(t)||super.onContextMenu(e)}}class K extends h.B8{constructor(e,t,i,s,o,n,r,l){super(e,t,i,s,l),this.focusTrait=o,this.selectionTrait=n,this.anchorTrait=r}createMouseController(e){return new Y(this,e.tree,e.stickyScrollProvider)}splice(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(super.splice(e,t,i),0===i.length)return;const s=[],o=[];let n;i.forEach(((t,i)=>{this.focusTrait.has(t)&&s.push(e+i),this.selectionTrait.has(t)&&o.push(e+i),this.anchorTrait.has(t)&&(n=e+i)})),s.length>0&&super.setFocus((0,u.dM)([...super.getFocus(),...s])),o.length>0&&super.setSelection((0,u.dM)([...super.getSelection(),...o])),"number"===typeof n&&super.setAnchor(n)}setFocus(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super.setFocus(e,t),i||this.focusTrait.set(e.map((e=>this.element(e))),t)}setSelection(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super.setSelection(e,t),i||this.selectionTrait.set(e.map((e=>this.element(e))),t)}setAnchor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.setAnchor(e),t||("undefined"===typeof e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class j{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return f.Jh.filter(f.Jh.map(this.view.onMouseDblClick,V),(e=>e.target!==c.Lx.Filter))}get onMouseOver(){return f.Jh.map(this.view.onMouseOver,V)}get onMouseOut(){return f.Jh.map(this.view.onMouseOut,V)}get onContextMenu(){var e,t;return f.Jh.any(f.Jh.filter(f.Jh.map(this.view.onContextMenu,W),(e=>!e.isStickyScroll)),null!==(t=null===(e=this.stickyScrollController)||void 0===e?void 0:e.onContextMenu)&&void 0!==t?t:f.Jh.None)}get onPointer(){return f.Jh.map(this.view.onPointer,V)}get onKeyDown(){return this.view.onKeyDown}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return f.Jh.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var e,t;return null!==(t=null===(e=this.findController)||void 0===e?void 0:e.mode)&&void 0!==t?t:z.Highlight}set findMode(e){this.findController&&(this.findController.mode=e)}get findMatchType(){var e,t;return null!==(t=null===(e=this.findController)||void 0===e?void 0:e.matchType)&&void 0!==t?t:k.Fuzzy}set findMatchType(e){this.findController&&(this.findController.matchType=e)}get expandOnDoubleClick(){return"undefined"===typeof this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return"undefined"===typeof this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(e,t,i,r){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var a;this._user=e,this._options=l,this.eventBufferer=new f.at,this.onDidChangeFindOpenState=f.Jh.None,this.onDidChangeStickyScrollFocused=f.Jh.None,this.disposables=new b.Cm,this._onWillRefilter=new f.vl,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new f.vl,this.treeDelegate=new E(i);const d=new f.Wj,c=new f.Wj,u=this.disposables.add(new I(c.event)),m=new v.db;this.renderers=r.map((e=>new P(e,(()=>this.model),d.event,u,m,l)));for(const s of this.renderers)this.disposables.add(s);let g;var S,_;l.keyboardNavigationLabelProvider&&(g=new L(this,l.keyboardNavigationLabelProvider,l.filter),l={...l,filter:g},this.disposables.add(g)),this.focus=new U((()=>this.view.getFocusedElements()[0]),l.identityProvider),this.selection=new U((()=>this.view.getSelectedElements()[0]),l.identityProvider),this.anchor=new U((()=>this.view.getAnchorElement()),l.identityProvider),this.view=new K(e,t,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...(S=()=>this.model,_=l,_&&{..._,identityProvider:_.identityProvider&&{getId:e=>_.identityProvider.getId(e.element)},dnd:_.dnd&&new x(S,_.dnd),multipleSelectionController:_.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>_.multipleSelectionController.isSelectionSingleChangeEvent({...e,element:e.element}),isSelectionRangeChangeEvent:e=>_.multipleSelectionController.isSelectionRangeChangeEvent({...e,element:e.element})},accessibilityProvider:_.accessibilityProvider&&{..._.accessibilityProvider,getSetSize(e){const t=S(),i=t.getNodeLocation(e),s=t.getParentNodeLocation(i);return t.getNode(s).visibleChildrenCount},getPosInSet:e=>e.visibleChildIndex+1,isChecked:_.accessibilityProvider&&_.accessibilityProvider.isChecked?e=>_.accessibilityProvider.isChecked(e.element):void 0,getRole:_.accessibilityProvider&&_.accessibilityProvider.getRole?e=>_.accessibilityProvider.getRole(e.element):()=>"treeitem",getAriaLabel:e=>_.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>_.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:_.accessibilityProvider&&_.accessibilityProvider.getWidgetRole?()=>_.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:_.accessibilityProvider&&_.accessibilityProvider.getAriaLevel?e=>_.accessibilityProvider.getAriaLevel(e.element):e=>e.depth,getActiveDescendantId:_.accessibilityProvider.getActiveDescendantId&&(e=>_.accessibilityProvider.getActiveDescendantId(e.element))},keyboardNavigationLabelProvider:_.keyboardNavigationLabelProvider&&{..._.keyboardNavigationLabelProvider,getKeyboardNavigationLabel:e=>_.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(e,this.view,l),d.input=this.model.onDidChangeCollapseState;const w=f.Jh.forEach(this.model.onDidSplice,(e=>{this.eventBufferer.bufferEvents((()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)}))}),this.disposables);w((()=>null),null,this.disposables);const y=this.disposables.add(new f.vl),D=this.disposables.add(new p.ve(0));if(this.disposables.add(f.Jh.any(w,this.focus.onDidChange,this.selection.onDidChange)((()=>{D.trigger((()=>{const e=new Set;for(const t of this.focus.getNodes())e.add(t);for(const t of this.selection.getNodes())e.add(t);y.fire([...e.values()])}))}))),c.input=y.event,!1!==l.keyboardSupport){const e=f.Jh.chain(this.view.onKeyDown,(e=>e.filter((e=>!(0,h.B6)(e.target))).map((e=>new n.Z(e)))));f.Jh.chain(e,(e=>e.filter((e=>15===e.keyCode))))(this.onLeftArrow,this,this.disposables),f.Jh.chain(e,(e=>e.filter((e=>17===e.keyCode))))(this.onRightArrow,this,this.disposables),f.Jh.chain(e,(e=>e.filter((e=>10===e.keyCode))))(this.onSpace,this,this.disposables)}if((null===(a=l.findWidgetEnabled)||void 0===a||a)&&l.keyboardNavigationLabelProvider&&l.contextViewProvider){const e=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new M(this,this.model,this.view,g,l.contextViewProvider,e),this.focusNavigationFilter=e=>this.findController.shouldAllowFocus(e),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=f.Jh.None,this.onDidChangeFindMatchType=f.Jh.None;l.enableStickyScroll&&(this.stickyScrollController=new O(this,this.model,this.view,this.renderers,this.treeDelegate,l),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=(0,o.li)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===s.Always)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;this._options={...this._options,...e};for(const i of this.renderers)i.updateOptions(e);this.view.updateOptions(this._options),null===(t=this.findController)||void 0===t||t.updateOptions(e),this.updateStickyScroll(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===s.Always)}get options(){return this._options}updateStickyScroll(e){var t;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new O(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=f.Jh.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),null===(t=this.stickyScrollController)||void 0===t||t.updateOptions(e)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(e){this.view.ariaLabel=e}domFocus(){var e;(null===(e=this.stickyScrollController)||void 0===e?void 0:e.focusedLast())?this.stickyScrollController.domFocus():this.view.domFocus()}layout(e,t){var i;this.view.layout(e,t),(0,w.Et)(t)&&(null===(i=this.findController)||void 0===i||i.layout(t))}style(e){var t,i;const s=".".concat(this.view.domId),n=[];e.treeIndentGuidesStroke&&(n.push(".monaco-list".concat(s,":hover .monaco-tl-indent > .indent-guide, .monaco-list").concat(s,".always .monaco-tl-indent > .indent-guide  { border-color: ").concat(e.treeInactiveIndentGuidesStroke,"; }")),n.push(".monaco-list".concat(s," .monaco-tl-indent > .indent-guide.active { border-color: ").concat(e.treeIndentGuidesStroke,"; }")));const r=null!==(t=e.treeStickyScrollBackground)&&void 0!==t?t:e.listBackground;r&&(n.push(".monaco-list".concat(s," .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ").concat(r,"; }")),n.push(".monaco-list".concat(s," .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ").concat(r,"; }"))),e.treeStickyScrollBorder&&n.push(".monaco-list".concat(s," .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ").concat(e.treeStickyScrollBorder,"; }")),e.treeStickyScrollShadow&&n.push(".monaco-list".concat(s," .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ").concat(e.treeStickyScrollShadow," 0 6px 6px -6px inset; height: 3px; }")),e.listFocusForeground&&(n.push(".monaco-list".concat(s,".sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ").concat(e.listFocusForeground,"; }")),n.push(".monaco-list".concat(s,":not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }")));const l=(0,o.gI)(e.listFocusAndSelectionOutline,(0,o.gI)(e.listSelectionOutline,null!==(i=e.listFocusOutline)&&void 0!==i?i:""));l&&(n.push(".monaco-list".concat(s,".sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ").concat(l,"; outline-offset: -1px;}")),n.push(".monaco-list".concat(s,":not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}"))),e.listFocusOutline&&(n.push(".monaco-list".concat(s,".sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ").concat(e.listFocusOutline,"; outline-offset: -1px; }")),n.push(".monaco-list".concat(s,":not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }")),n.push(".monaco-workbench.context-menu-visible .monaco-list".concat(s,".last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ").concat(e.listFocusOutline,"; outline-offset: -1px; }")),n.push(".monaco-workbench.context-menu-visible .monaco-list".concat(s,".last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }")),n.push(".monaco-workbench.context-menu-visible .monaco-list".concat(s,".last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }"))),this.styleElement.textContent=n.join("\n"),this.view.style(e)}getParentElement(e){const t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.model.setCollapsed(e,!0,t)}expand(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.model.setCollapsed(e,!1,t)}toggleCollapsed(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.model.setCollapsed(e,void 0,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){this.eventBufferer.bufferEvents((()=>{const i=e.map((e=>this.model.getNode(e)));this.selection.set(i,t);const s=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setSelection(s,t,!0)}))}getSelection(){return this.selection.get()}setFocus(e,t){this.eventBufferer.bufferEvents((()=>{const i=e.map((e=>this.model.getNode(e)));this.focus.set(i,t);const s=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setFocus(s,t,!0)}))}focusNext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,o.kx)(i)&&i.altKey?void 0:this.focusNavigationFilter;this.view.focusNext(e,t,i,s)}focusPrevious(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,o.kx)(i)&&i.altKey?void 0:this.focusNavigationFilter;this.view.focusPrevious(e,t,i,s)}focusNextPage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.kx)(e)&&e.altKey?void 0:this.focusNavigationFilter;return this.view.focusNextPage(e,t)}focusPreviousPage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.kx)(e)&&e.altKey?void 0:this.focusNavigationFilter;return this.view.focusPreviousPage(e,t,(()=>{var e,t;return null!==(t=null===(e=this.stickyScrollController)||void 0===e?void 0:e.height)&&void 0!==t?t:0}))}focusFirst(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.kx)(e)&&e.altKey?void 0:this.focusNavigationFilter;this.view.focusFirst(e,t)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);if(-1!==i)if(this.stickyScrollController){const s=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(e));this.view.reveal(i,t,s)}else this.view.reveal(i,t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],s=this.model.getNodeLocation(i);if(!this.model.setCollapsed(s,!0)){const e=this.model.getParentNodeLocation(s);if(!e)return;const t=this.model.getListIndex(e);this.view.reveal(t),this.view.setFocus([t])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],s=this.model.getNodeLocation(i);if(!this.model.setCollapsed(s,!1)){if(!i.children.some((e=>e.visible)))return;const[e]=this.view.getFocus(),t=e+1;this.view.reveal(t),this.view.setFocus([t])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],s=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(s,void 0,o)}dispose(){var e;(0,b.AS)(this.disposables),null===(e=this.stickyScrollController)||void 0===e||e.dispose(),this.view.dispose()}}},74945:(e,t,i)=>{i.d(t,{d:()=>L,t:()=>E});var s=i(48425),o=i(32092),n=i(7304),r=i(66828),l=i(71069),h=i(73990),a=i(21030),d=i(70145),c=i(29591),u=i(48250),p=i(47522),m=i(87766),g=i(32031);function v(e){return{...e,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function f(e,t){return!!t.parent&&(t.parent===e||f(e,t.parent))}class S{get element(){return this.node.element.element}get children(){return this.node.children.map((e=>new S(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class b{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,s){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,s)}renderTwistie(e,t){return e.slow?(t.classList.add(...d.L.asClassNameArray(a.W.treeItemLoading)),!0):(t.classList.remove(...d.L.asClassNameArray(a.W.treeItemLoading)),!1)}disposeElement(e,t,i,s){var o,n;null===(n=(o=this.renderer).disposeElement)||void 0===n||n.call(o,this.nodeMapper.map(e),t,i.templateData,s)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function _(e){return{browserEvent:e.browserEvent,elements:e.elements.map((e=>e.element))}}function w(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class y extends s.ur{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function D(e){return e instanceof s.ur?new y(e):e}class C{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){var i,s;null===(s=(i=this.dnd).onDragStart)||void 0===s||s.call(i,D(e),t)}onDragOver(e,t,i,s,o){return this.dnd.onDragOver(D(e),t&&t.element,i,s,o)}drop(e,t,i,s,o){this.dnd.drop(D(e),t&&t.element,i,s,o)}onDragEnd(e){var t,i;null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}dispose(){this.dnd.dispose()}}function N(e){return e&&{...e,collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new C(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent({...t,element:t.element}),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent({...t,element:t.element})},accessibilityProvider:e.accessibilityProvider&&{...e.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:e.accessibilityProvider.isChecked?t=>{var i;return!!(null===(i=e.accessibilityProvider)||void 0===i?void 0:i.isChecked(t.element))}:void 0,getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider.getAriaLevel&&(t=>e.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))},filter:e.filter&&{filter:(t,i)=>e.filter.filter(t.element,i)},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)},sorter:void 0,expandOnlyOnTwistieClick:"undefined"===typeof e.expandOnlyOnTwistieClick?void 0:"function"!==typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:t=>e.expandOnlyOnTwistieClick(t.element),defaultFindVisibility:t=>t.hasChildren&&t.stale?1:"number"===typeof e.defaultFindVisibility?e.defaultFindVisibility:"undefined"===typeof e.defaultFindVisibility?2:e.defaultFindVisibility(t.element)}}function x(e,t){t(e),e.children.forEach((e=>x(e,t)))}class E{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return u.Jh.map(this.tree.onDidChangeFocus,_)}get onDidChangeSelection(){return u.Jh.map(this.tree.onDidChangeSelection,_)}get onMouseDblClick(){return u.Jh.map(this.tree.onMouseDblClick,w)}get onPointer(){return u.Jh.map(this.tree.onPointer,w)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(e,t,i,s,o){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new u.vl,this._onDidChangeNodeSlowState=new u.vl,this.nodeMapper=new l.y2((e=>new S(e))),this.disposables=new m.Cm,this.identityProvider=n.identityProvider,this.autoExpandSingleChildren="undefined"!==typeof n.autoExpandSingleChildren&&n.autoExpandSingleChildren,this.sorter=n.sorter,this.getDefaultCollapseState=e=>n.collapseByDefault?n.collapseByDefault(e)?l.Yo.PreserveOrCollapsed:l.Yo.PreserveOrExpanded:void 0,this.tree=this.createTree(e,t,i,s,n),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=v({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(e,t,i,s,n){const l=new o.w0(i),h=s.map((e=>new b(e,this.nodeMapper,this._onDidChangeNodeSlowState.event))),a=N(n)||{};return new r.u(e,t,l,h,a)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}async setInput(e,t){this.refreshPromises.forEach((e=>e.cancel())),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};await this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&"number"===typeof t.scrollTop&&(this.scrollTop=t.scrollTop)}async _updateChildren(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if("undefined"===typeof this.root.element)throw new l.jh(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await u.Jh.toPromise(this._onDidRender.event));const n=this.getDataNode(e);if(await this.refreshAndRenderNode(n,t,s,o),i)try{this.tree.rerender(n)}catch(r){}}rerender(e){if(void 0===e||e===this.root.element)return void this.tree.rerender();const t=this.getDataNode(e);this.tree.rerender(t)}getNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element;const t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}collapse(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}async expand(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("undefined"===typeof this.root.element)throw new l.jh(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await u.Jh.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i))return!1;if(i.refreshPromise&&(await this.root.refreshPromise,await u.Jh.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i))return!1;const s=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(await this.root.refreshPromise,await u.Jh.toPromise(this._onDidRender.event)),s}setSelection(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map((e=>e.element))}setFocus(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map((e=>e.element))}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getParentElement(e){const t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}getFirstElementChild(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element;const t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new l.jh(this.user,"Data tree node not found: ".concat(e));return t}async refreshAndRenderNode(e,t,i,s){await this.refreshNode(e,t,i),this.disposables.isDisposed||this.render(e,i,s)}async refreshNode(e,t,i){let s;if(this.subTreeRefreshPromises.forEach(((o,n)=>{!s&&function(e,t){return e===t||f(e,t)||f(t,e)}(n,e)&&(s=o.then((()=>this.refreshNode(e,t,i))))})),s)return s;if(e!==this.root){if(this.tree.getNode(e).collapsed)return e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0,void this.setChildren(e,[],t,i)}return this.doRefreshSubTree(e,t,i)}async doRefreshSubTree(e,t,i){let s;e.refreshPromise=new Promise((e=>s=e)),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)}));try{const s=await this.doRefreshNode(e,t,i);e.stale=!1,await h.HC.settled(s.map((e=>this.doRefreshSubTree(e,t,i))))}finally{s()}}async doRefreshNode(e,t,i){let s;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const t=this.doGetChildren(e);if((0,g.xZ)(t))s=Promise.resolve(t);else{const i=(0,h.wR)(800);i.then((()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)}),(e=>null)),s=t.finally((()=>i.cancel()))}}else s=Promise.resolve(p.f.empty());try{const o=await s;return this.setChildren(e,o,t,i)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),(0,c.MB)(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}doGetChildren(e){let t=this.refreshPromises.get(e);if(t)return t;const i=this.dataSource.getChildren(e.element);return(0,g.xZ)(i)?this.processChildren(i):(t=(0,h.SS)((async()=>this.processChildren(await i))),this.refreshPromises.set(e,t),t.finally((()=>{this.refreshPromises.delete(e)})))}_onDidChangeCollapseState(e){let{node:t,deep:i}=e;null!==t.element&&!t.collapsed&&t.element.stale&&(i?this.collapse(t.element.element):this.refreshAndRenderNode(t.element,!1).catch(c.dz))}setChildren(e,t,i,s){const o=[...t];if(0===e.children.length&&0===o.length)return[];const n=new Map,r=new Map;for(const l of e.children)n.set(l.element,l),this.identityProvider&&r.set(l.id,{node:l,collapsed:this.tree.hasElement(l)&&this.tree.isCollapsed(l)});const h=[],a=o.map((t=>{const o=!!this.dataSource.hasChildren(t);if(!this.identityProvider){const i=v({element:t,parent:e,hasChildren:o,defaultCollapseState:this.getDefaultCollapseState(t)});return o&&i.defaultCollapseState===l.Yo.PreserveOrExpanded&&h.push(i),i}const a=this.identityProvider.getId(t).toString(),d=r.get(a);if(d){const e=d.node;return n.delete(e.element),this.nodes.delete(e.element),this.nodes.set(t,e),e.element=t,e.hasChildren=o,i?d.collapsed?(e.children.forEach((e=>x(e,(e=>this.nodes.delete(e.element))))),e.children.splice(0,e.children.length),e.stale=!0):h.push(e):o&&!d.collapsed&&h.push(e),e}const c=v({element:t,parent:e,id:a,hasChildren:o,defaultCollapseState:this.getDefaultCollapseState(t)});return s&&s.viewState.focus&&s.viewState.focus.indexOf(a)>-1&&s.focus.push(c),s&&s.viewState.selection&&s.viewState.selection.indexOf(a)>-1&&s.selection.push(c),(s&&s.viewState.expanded&&s.viewState.expanded.indexOf(a)>-1||o&&c.defaultCollapseState===l.Yo.PreserveOrExpanded)&&h.push(c),c}));for(const l of n.values())x(l,(e=>this.nodes.delete(e.element)));for(const l of a)this.nodes.set(l.element,l);return e.children.splice(0,e.children.length,...a),e!==this.root&&this.autoExpandSingleChildren&&1===a.length&&0===h.length&&(a[0].forceExpanded=!0,h.push(a[0])),h}render(e,t,i){const s=e.children.map((e=>this.asTreeElement(e,t))),o=i&&{...i,diffIdentityProvider:i.diffIdentityProvider&&{getId:e=>i.diffIdentityProvider.getId(e.element)}};this.tree.setChildren(e===this.root?null:e,s,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:e.forceExpanded?(i=!1,e.forceExpanded=!1):i=e.defaultCollapseState,{element:e,children:e.hasChildren?p.f.map(e.children,(e=>this.asTreeElement(e,t))):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose(),this.tree.dispose()}}class I{get element(){return{elements:this.node.element.elements.map((e=>e.element)),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((e=>new I(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e){this.node=e}}class P{constructor(e,t,i,s){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=s,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,s){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,s)}renderCompressedElements(e,t,i,s){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,s)}renderTwistie(e,t){return e.slow?(t.classList.add(...d.L.asClassNameArray(a.W.treeItemLoading)),!0):(t.classList.remove(...d.L.asClassNameArray(a.W.treeItemLoading)),!1)}disposeElement(e,t,i,s){var o,n;null===(n=(o=this.renderer).disposeElement)||void 0===n||n.call(o,this.nodeMapper.map(e),t,i.templateData,s)}disposeCompressedElements(e,t,i,s){var o,n;null===(n=(o=this.renderer).disposeCompressedElements)||void 0===n||n.call(o,this.compressibleNodeMapperProvider().map(e),t,i.templateData,s)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,m.AS)(this.disposables)}}class L extends E{constructor(e,t,i,s,o,n){let r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};super(e,t,i,o,n,r),this.compressionDelegate=s,this.compressibleNodeMapper=new l.y2((e=>new I(e))),this.filter=r.filter}createTree(e,t,i,s,n){const l=new o.w0(i),h=s.map((e=>new P(e,this.nodeMapper,(()=>this.compressibleNodeMapper),this._onDidChangeNodeSlowState.event))),a=function(e){const t=e&&N(e);return t&&{...t,keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{...t.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((e=>e.element)))}}}(n)||{};return new r._(e,t,l,h,a)}asTreeElement(e,t){return{incompressible:this.compressionDelegate.isIncompressible(e.element),...super.asTreeElement(e,t)}}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tree.updateOptions(e)}render(e,t,i){if(!this.identityProvider)return super.render(e,t);const s=e=>this.identityProvider.getId(e).toString(),o=e=>{const t=new Set;for(const i of e){const e=this.tree.getCompressedTreeNode(i===this.root?null:i);if(e.element)for(const i of e.element.elements)t.add(s(i.element))}return t},n=o(this.tree.getSelection()),r=o(this.tree.getFocus());super.render(e,t,i);const l=this.getSelection();let h=!1;const a=this.getFocus();let d=!1;const c=e=>{const t=e.element;if(t)for(let i=0;i<t.elements.length;i++){const e=s(t.elements[i].element),o=t.elements[t.elements.length-1].element;n.has(e)&&-1===l.indexOf(o)&&(l.push(o),h=!0),r.has(e)&&-1===a.indexOf(o)&&(a.push(o),d=!0)}e.children.forEach(c)};c(this.tree.getCompressedTreeNode(e===this.root?null:e)),h&&this.setSelection(l),d&&this.setFocus(a)}processChildren(e){return this.filter&&(e=p.f.filter(e,(e=>{const t=this.filter.filter(e,1),i="boolean"===typeof(s=t)?s?1:0:(0,n.iZ)(s)?(0,n.Mn)(s.visibility):(0,n.Mn)(s);var s;if(2===i)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===i}))),super.processChildren(e)}}},8877:(e,t,i)=>{i.d(t,{f:()=>n});var s=i(32092),o=i(58853);class n extends s.DO{constructor(e,t,i,s,o){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};super(e,t,i,s,n),this.user=e,this.dataSource=o,this.identityProvider=n.identityProvider}createModel(e,t,i){return new o.v(e,t,i)}}},7304:(e,t,i)=>{i.d(t,{G6:()=>p,Mn:()=>c,iZ:()=>d});var s=i(71069),o=i(61498),n=i(73990),r=i(52687),l=i(97853),h=i(48250),a=i(47522);function d(e){return"object"===typeof e&&"visibility"in e&&"data"in e}function c(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function u(e){return"boolean"===typeof e.collapsible}class p{constructor(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o;this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new h.at,this._onDidChangeCollapseState=new h.vl,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new h.vl,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new h.vl,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new n.ve(r.h),this.collapseByDefault="undefined"!==typeof s.collapseByDefault&&s.collapseByDefault,this.allowNonCollapsibleParents=null!==(o=s.allowNonCollapsibleParents)&&void 0!==o&&o,this.filter=s.filter,this.autoExpandSingleChildren="undefined"!==typeof s.autoExpandSingleChildren&&s.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.f.empty(),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(0===e.length)throw new s.jh(this.user,"Invalid tree location");o.diffIdentityProvider?this.spliceSmart(o.diffIdentityProvider,e,t,i,o):this.spliceSimple(e,t,i,o)}spliceSmart(e,t,i,s,o,n){var r;void 0===s&&(s=a.f.empty()),void 0===n&&(n=null!==(r=o.diffDepth)&&void 0!==r?r:0);const{parentNode:h}=this.getParentNodeWithListIndex(t);if(!h.lastDiffIds)return this.spliceSimple(t,i,s,o);const d=[...s],c=t[t.length-1],u=new l.uP({getElements:()=>h.lastDiffIds},{getElements:()=>[...h.children.slice(0,c),...d,...h.children.slice(c+i)].map((t=>e.getId(t.element).toString()))}).ComputeDiff(!1);if(u.quitEarly)return h.lastDiffIds=void 0,this.spliceSimple(t,i,d,o);const p=t.slice(0,-1),m=(t,i,s)=>{if(n>0)for(let r=0;r<s;r++)t--,i--,this.spliceSmart(e,[...p,t,0],Number.MAX_SAFE_INTEGER,d[i].children,o,n-1)};let g=Math.min(h.children.length,c+i),v=d.length;for(const l of u.changes.sort(((e,t)=>t.originalStart-e.originalStart)))m(g,v,g-(l.originalStart+l.originalLength)),g=l.originalStart,v=l.modifiedStart-c,this.spliceSimple([...p,g],l.originalLength,a.f.slice(d,v,v+l.modifiedLength),o);m(g,v,g)}spliceSimple(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.f.empty(),{onDidCreateNode:s,onDidDeleteNode:n,diffIdentityProvider:r}=arguments.length>3?arguments[3]:void 0;const{parentNode:l,listIndex:h,revealed:d,visible:c}=this.getParentNodeWithListIndex(e),u=[],p=a.f.map(i,(e=>this.createTreeNode(e,l,l.visible?1:0,d,u,s))),m=e[e.length-1];let g=0;for(let o=m;o>=0&&o<l.children.length;o--){const e=l.children[o];if(e.visible){g=e.visibleChildIndex;break}}const v=[];let f=0,S=0;for(const o of p)v.push(o),S+=o.renderNodeCount,o.visible&&(o.visibleChildIndex=g+f++);const b=(0,o.V4)(l.children,m,t,v);r?l.lastDiffIds?(0,o.V4)(l.lastDiffIds,m,t,v.map((e=>r.getId(e.element).toString()))):l.lastDiffIds=l.children.map((e=>r.getId(e.element).toString())):l.lastDiffIds=void 0;let _=0;for(const o of b)o.visible&&_++;if(0!==_)for(let o=m+v.length;o<l.children.length;o++){const e=l.children[o];e.visible&&(e.visibleChildIndex-=_)}if(l.visibleChildrenCount+=f-_,d&&c){const e=b.reduce(((e,t)=>e+(t.visible?t.renderNodeCount:0)),0);this._updateAncestorsRenderNodeCount(l,S-e),this.list.splice(h,e,u)}if(b.length>0&&n){const e=t=>{n(t),t.children.forEach(e)};b.forEach(e)}this._onDidSplice.fire({insertedNodes:v,deletedNodes:b});let w=l;for(;w;){if(2===w.visibility){this.refilterDelayer.trigger((()=>this.refilter()));break}w=w.parent}}rerender(e){if(0===e.length)throw new s.jh(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:o}=this.getTreeNodeWithListIndex(e);t.visible&&o&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:s}=this.getTreeNodeWithListIndex(e);return i&&s?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);"undefined"===typeof t&&(t=!i.collapsible);const s={collapsible:t};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,s)))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const s=this.getTreeNode(e);"undefined"===typeof t&&(t=!s.collapsed);const o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,o)))}_setCollapseState(e,t){const{node:i,listIndex:s,revealed:o}=this.getTreeNodeWithListIndex(e),n=this._setListNodeCollapseState(i,s,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&n&&!u(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let s=-1;for(let e=0;e<i.children.length;e++){if(i.children[e].visible){if(s>-1){s=-1;break}s=e}}s>-1&&this._setCollapseState([...e,s],t)}return n}_setListNodeCollapseState(e,t,i,s){const o=this._setNodeCollapseState(e,s,!1);if(!i||!e.visible||!o)return o;const n=e.renderNodeCount,r=this.updateNodeAfterCollapseChange(e),l=n-(-1===t?0:1);return this.list.splice(t+1,l,r.slice(1)),o}_setNodeCollapseState(e,t,i){let s;if(e===this.root?s=!1:(u(t)?(s=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(s=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):s=!1,s&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!u(t)&&t.recursive)for(const o of e.children)s=this._setNodeCollapseState(o,t,!0)||s;return s}expandTo(e){this.eventBufferer.bufferEvents((()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})}))}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}createTreeNode(e,t,i,s,o,n){const r={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"===typeof e.collapsible?e.collapsible:"undefined"!==typeof e.collapsed,collapsed:"undefined"===typeof e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(r,i);r.visibility=l,s&&o.push(r);const h=e.children||a.f.empty(),d=s&&0!==l&&!r.collapsed;let c=0,u=1;for(const a of h){const e=this.createTreeNode(a,r,l,d,o,n);r.children.push(e),u+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=c++)}return this.allowNonCollapsibleParents||(r.collapsible=r.collapsible||r.children.length>0),r.visibleChildrenCount=c,r.visible=2===l?c>0:1===l,r.visible?r.collapsed||(r.renderNodeCount=u):(r.renderNodeCount=0,s&&o.pop()),null===n||void 0===n||n(r),r}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i){let s,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e!==this.root){if(s=this._filterNode(e,t),0===s)return e.visible=!1,e.renderNodeCount=0,!1;o&&i.push(e)}const n=i.length;e.renderNodeCount=e===this.root?0:1;let r=!1;if(e.collapsed&&0===s)e.visibleChildrenCount=0;else{let t=0;for(const n of e.children)r=this._updateNodeAfterFilterChange(n,s,i,o&&!e.collapsed)||r,n.visible&&(n.visibleChildIndex=t++);e.visibleChildrenCount=t}return e!==this.root&&(e.visible=2===s?r:1===s,e.visibility=s),e.visible?e.collapsed||(e.renderNodeCount+=i.length-n):(e.renderNodeCount=0,o&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return"boolean"===typeof i?(e.filterData=void 0,i?1:0):d(i)?(e.filterData=i.data,c(i.visibility)):(e.filterData=void 0,c(i))}hasTreeNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root;if(!e||0===e.length)return!0;const[i,...s]=e;return!(i<0||i>t.children.length)&&this.hasTreeNode(s,t.children[i])}getTreeNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root;if(!e||0===e.length)return t;const[i,...o]=e;if(i<0||i>t.children.length)throw new s.jh(this.user,"Invalid tree location");return this.getTreeNode(o,t.children[i])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:o,visible:n}=this.getParentNodeWithListIndex(e),r=e[e.length-1];if(r<0||r>t.children.length)throw new s.jh(this.user,"Invalid tree location");const l=t.children[r];return{node:l,listIndex:i,revealed:o,visible:n&&l.visible}}getParentNodeWithListIndex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const[r,...l]=e;if(r<0||r>t.children.length)throw new s.jh(this.user,"Invalid tree location");for(let s=0;s<r;s++)i+=t.children[s].renderNodeCount;return o=o&&!t.collapsed,n=n&&t.visible,0===l.length?{parentNode:t,listIndex:i,revealed:o,visible:n}:this.getParentNodeWithListIndex(l,t.children[r],i+1,o,n)}getNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){return 0===e.length?void 0:1===e.length?[]:(0,o.bS)(e)[0]}getFirstElementChild(e){const t=this.getTreeNode(e);if(0!==t.children.length)return t.children[0].element}}},66828:(e,t,i)=>{i.d(t,{_:()=>C,u:()=>_});var s=i(32092),o=i(58853),n=i(71069),r=i(61498),l=i(48250),h=i(47522);function a(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:h.f.map(h.f.from(e.children),a),collapsible:e.collapsible,collapsed:e.collapsed}}function d(e){const t=[e.element],i=e.incompressible||!1;let s,o;for(;[o,s]=h.f.consume(h.f.from(e.children),2),1===o.length&&!o[0].incompressible;)e=o[0],t.push(e.element);return{element:{elements:t,incompressible:i},children:h.f.map(h.f.concat(o,s),d),collapsible:e.collapsible,collapsed:e.collapsed}}function c(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=i<e.element.elements.length-1?[c(e,i+1)]:h.f.map(h.f.from(e.children),(e=>c(e,0))),0===i&&e.element.incompressible?{element:e.element.elements[i],children:t,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[i],children:t,collapsible:e.collapsible,collapsed:e.collapsed}}function u(e){return c(e,0)}function p(e,t,i){return e.element===t?{...e,children:i}:{...e,children:h.f.map(h.f.from(e.children),(e=>p(e,t,i)))}}class m{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new o.v(e,t,i),this.enabled="undefined"===typeof i.compressionEnabled||i.compressionEnabled,this.identityProvider=i.identityProvider}setChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.f.empty(),i=arguments.length>2?arguments[2]:void 0;const s=i.diffIdentityProvider&&(o=i.diffIdentityProvider,{getId:e=>e.elements.map((e=>o.getId(e).toString())).join("\0")});var o;if(null===e){const e=h.f.map(t,this.enabled?d:a);return void this._setChildren(null,e,{diffIdentityProvider:s,diffDepth:1/0})}const l=this.nodes.get(e);if(!l)throw new n.jh(this.user,"Unknown compressed tree node");const c=this.model.getNode(l),m=this.model.getParentNodeLocation(l),g=this.model.getNode(m),v=p(u(c),e,t),f=(this.enabled?d:a)(v),S=i.diffIdentityProvider?(e,t)=>i.diffIdentityProvider.getId(e)===i.diffIdentityProvider.getId(t):void 0;if((0,r.aI)(f.element.elements,c.element.elements,S))return void this._setChildren(l,f.children||h.f.empty(),{diffIdentityProvider:s,diffDepth:1});const b=g.children.map((e=>e===c?f:e));this._setChildren(g.element,b,{diffIdentityProvider:s,diffDepth:c.depth-g.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const t=this.model.getNode().children,i=h.f.map(t,u),s=h.f.map(i,e?d:a);this._setChildren(null,s,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const s=new Set;this.model.setChildren(e,t,{...i,onDidCreateNode:e=>{for(const t of e.element.elements)s.add(t),this.nodes.set(t,e.element)},onDidDeleteNode:e=>{for(const t of e.element.elements)s.has(t)||this.nodes.delete(t)}})}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if("undefined"===typeof e)return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return null===i?null:i.elements[i.elements.length-1]}getFirstElementChild(e){const t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const s=this.getCompressedNode(e);return this.model.setCollapsed(s,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;const t=this.nodes.get(e);if(!t)throw new n.jh(this.user,"Tree element not found: ".concat(e));return t}}const g=e=>e[e.length-1];class v{get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((e=>new v(this.unwrapper,e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(e,t){this.unwrapper=e,this.node=t}}class f{get onDidSplice(){return l.Jh.map(this.model.onDidSplice,(e=>{let{insertedNodes:t,deletedNodes:i}=e;return{insertedNodes:t.map((e=>this.nodeMapper.map(e))),deletedNodes:i.map((e=>this.nodeMapper.map(e)))}}))}get onDidChangeCollapseState(){return l.Jh.map(this.model.onDidChangeCollapseState,(e=>{let{node:t,deep:i}=e;return{node:this.nodeMapper.map(t),deep:i}}))}get onDidChangeRenderNodeCount(){return l.Jh.map(this.model.onDidChangeRenderNodeCount,(e=>this.nodeMapper.map(e)))}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.rootRef=null,this.elementMapper=i.elementMapper||g;const s=e=>this.elementMapper(e.elements);this.nodeMapper=new n.y2((e=>new v(s,e))),this.model=new m(e,function(e,t){return{splice(i,s,o){t.splice(i,s,o.map((t=>e.map(t))))},updateElementHeight(e,i){t.updateElementHeight(e,i)}}}(this.nodeMapper,t),function(e,t){return{...t,identityProvider:t.identityProvider&&{getId:i=>t.identityProvider.getId(e(i))},sorter:t.sorter&&{compare:(e,i)=>t.sorter.compare(e.elements[0],i.elements[0])},filter:t.filter&&{filter:(i,s)=>t.filter.filter(e(i),s)}}}(s,i))}setChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.f.empty(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.model.setChildren(e,t,i)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const t=this.model.getFirstElementChild(e);return null===t||"undefined"===typeof t?t:this.elementMapper(t.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.model.getNode(e)}}var S=i(30254),b=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};class _ extends s.DO{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(e,t,i,s){super(e,t,i,s,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}),this.user=e}setChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.f.empty(),i=arguments.length>2?arguments[2]:void 0;this.model.setChildren(e,t,i)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new o.v(e,t,i)}}class w{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(e,t,i){this._compressedTreeNodeProvider=e,this.stickyScrollDelegate=t,this.renderer=i,this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,s){let o=this.stickyScrollDelegate.getCompressedNode(e);o||(o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element)),1===o.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,s)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,s))}disposeElement(e,t,i,s){var o,n,r,l;i.compressedTreeNode?null===(n=(o=this.renderer).disposeCompressedElements)||void 0===n||n.call(o,i.compressedTreeNode,t,i.data,s):null===(l=(r=this.renderer).disposeElement)||void 0===l||l.call(r,e,t,i.data,s)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}b([S.B],w.prototype,"compressedTreeNodeProvider",null);class y{constructor(e){this.modelProvider=e,this.compressedStickyNodes=new Map}getCompressedNode(e){return this.compressedStickyNodes.get(e)}constrainStickyScrollNodes(e,t,i){if(this.compressedStickyNodes.clear(),0===e.length)return[];for(let s=0;s<e.length;s++){const o=e[s],n=o.position+o.height;if(s+1<e.length&&n+e[s+1].height>i||s>=t-1&&t<e.length){const t=e.slice(0,s),i=e.slice(s);return[...t,this.compressStickyNodes(i)]}}return e}compressStickyNodes(e){if(0===e.length)throw new Error("Can't compress empty sticky nodes");const t=this.modelProvider();if(!t.isCompressionEnabled())return e[0];const i=[];for(let h=0;h<e.length;h++){const s=e[h],o=t.getCompressedTreeNode(s.node.element);if(o.element){if(0!==h&&o.element.incompressible)break;i.push(...o.element.elements)}}if(i.length<2)return e[0];const s=e[e.length-1],o={elements:i,incompressible:!1},n={...s.node,children:[],element:o},r=new Proxy(e[0].node,{}),l={node:r,startIndex:e[0].startIndex,endIndex:s.endIndex,position:e[0].position,height:e[0].height};return this.compressedStickyNodes.set(r,n),l}}function D(e,t){return t&&{...t,keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(i){let s;try{s=e().getCompressedTreeNode(i)}catch(o){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return 1===s.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(s.element.elements)}}}}class C extends _{constructor(e,t,i,s){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const n=()=>this,r=new y((()=>this.model));super(e,t,i,s.map((e=>new w(n,r,e))),{...D(n,o),stickyScrollDelegate:r})}setChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.f.empty(),i=arguments.length>2?arguments[2]:void 0;this.model.setChildren(e,t,i)}createModel(e,t,i){return new f(e,t,i)}updateOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super.updateOptions(e),"undefined"!==typeof e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.model.getCompressedTreeNode(e)}}},58853:(e,t,i)=>{i.d(t,{v:()=>r});var s=i(7304),o=i(71069),n=i(47522);class r{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new s.G6(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare:(e,t)=>i.sorter.compare(e.element,t.element)}),this.identityProvider=i.identityProvider}setChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.f.empty(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=this.getElementLocation(e);this._setChildren(s,this.preserveCollapseState(t),i)}_setChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.f.empty(),i=arguments.length>2?arguments[2]:void 0;const s=new Set,o=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,{...i,onDidCreateNode:e=>{var t;if(null===e.element)return;const n=e;if(s.add(n.element),this.nodes.set(n.element,n),this.identityProvider){const e=this.identityProvider.getId(n.element).toString();o.add(e),this.nodesByIdentity.set(e,n)}null===(t=i.onDidCreateNode)||void 0===t||t.call(i,n)},onDidDeleteNode:e=>{var t;if(null===e.element)return;const n=e;if(s.has(n.element)||this.nodes.delete(n.element),this.identityProvider){const e=this.identityProvider.getId(n.element).toString();o.has(e)||this.nodesByIdentity.delete(e)}null===(t=i.onDidDeleteNode)||void 0===t||t.call(i,n)}})}preserveCollapseState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.f.empty();return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),n.f.map(e,(e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider){const i=this.identityProvider.getId(e.element).toString();t=this.nodesByIdentity.get(i)}if(!t){let t;return t="undefined"===typeof e.collapsed?void 0:e.collapsed===o.Yo.Collapsed||e.collapsed===o.Yo.PreserveOrCollapsed||e.collapsed!==o.Yo.Expanded&&e.collapsed!==o.Yo.PreserveOrExpanded&&Boolean(e.collapsed),{...e,children:this.preserveCollapseState(e.children),collapsed:t}}const i="boolean"===typeof e.collapsible?e.collapsible:t.collapsible;let s;return s="undefined"===typeof e.collapsed||e.collapsed===o.Yo.PreserveOrCollapsed||e.collapsed===o.Yo.PreserveOrExpanded?t.collapsed:e.collapsed===o.Yo.Collapsed||e.collapsed!==o.Yo.Expanded&&Boolean(e.collapsed),{...e,collapsible:i,collapsed:s,children:this.preserveCollapseState(e.children)}}))}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const s=this.getElementLocation(e);return this.model.setCollapsed(s,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new o.jh(this.user,"Tree element not found: ".concat(e));return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new o.jh(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new o.jh(this.user,"Tree element not found: ".concat(e));const i=this.model.getNodeLocation(t),s=this.model.getParentNodeLocation(i);return this.model.getNode(s).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new o.jh(this.user,"Tree element not found: ".concat(e));return this.model.getNodeLocation(t)}}},71069:(e,t,i)=>{var s,o;i.d(t,{Lx:()=>o,Yo:()=>s,jh:()=>n,y2:()=>r}),function(e){e[e.Expanded=0]="Expanded",e[e.Collapsed=1]="Collapsed",e[e.PreserveOrExpanded=2]="PreserveOrExpanded",e[e.PreserveOrCollapsed=3]="PreserveOrCollapsed"}(s||(s={})),function(e){e[e.Unknown=0]="Unknown",e[e.Twistie=1]="Twistie",e[e.Element=2]="Element",e[e.Filter=3]="Filter"}(o||(o={}));class n extends Error{constructor(e,t){super("TreeError [".concat(e,"] ").concat(t))}}class r{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}},70118:(e,t,i)=>{i.d(t,{x:()=>h});var s=i(32605),o=i(46250),n=i(46601),r=i(58538),l=i(87766);class h extends l.jG{onclick(e,t){this._register(s.ko(e,s.Bx.CLICK,(i=>t(new n.P(s.zk(e),i)))))}onmousedown(e,t){this._register(s.ko(e,s.Bx.MOUSE_DOWN,(i=>t(new n.P(s.zk(e),i)))))}onmouseover(e,t){this._register(s.ko(e,s.Bx.MOUSE_OVER,(i=>t(new n.P(s.zk(e),i)))))}onmouseleave(e,t){this._register(s.ko(e,s.Bx.MOUSE_LEAVE,(i=>t(new n.P(s.zk(e),i)))))}onkeydown(e,t){this._register(s.ko(e,s.Bx.KEY_DOWN,(e=>t(new o.Z(e)))))}onkeyup(e,t){this._register(s.ko(e,s.Bx.KEY_UP,(e=>t(new o.Z(e)))))}oninput(e,t){this._register(s.ko(e,s.Bx.INPUT,t))}onblur(e,t){this._register(s.ko(e,s.Bx.BLUR,t))}onfocus(e,t){this._register(s.ko(e,s.Bx.FOCUS,t))}ignoreGesture(e){return r.q.ignoreTarget(e)}}},8141:(e,t,i)=>{function s(e,t){const i=e;"number"!==typeof i.vscodeWindowId&&Object.defineProperty(i,"vscodeWindowId",{get:()=>t})}i.d(t,{G:()=>o,y:()=>s});const o=window},63169:(e,t,i)=>{i.d(t,{HJ:()=>d,LN:()=>l,YH:()=>a,ih:()=>c,rc:()=>r,wv:()=>h});var s=i(48250),o=i(87766),n=i(51413);class r extends o.jG{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4?arguments[4]:void 0;super(),this._onDidChange=this._register(new s.vl),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=e,this._label=t,this._cssClass=i,this._enabled=o,this._actionCallback=n}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}async run(e,t){this._actionCallback&&await this._actionCallback(e)}}class l extends o.jG{constructor(){super(...arguments),this._onWillRun=this._register(new s.vl),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new s.vl),this.onDidRun=this._onDidRun.event}async run(e,t){if(!e.enabled)return;let i;this._onWillRun.fire({action:e});try{await this.runAction(e,t)}catch(s){i=s}this._onDidRun.fire({action:e,error:i})}async runAction(e,t){await e.run(t)}}class h{constructor(){this.id=h.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(){let e=[];for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];for(const o of i)o.length&&(e=e.length?[...e,new h,...o]:o);return e}async run(){}}h.ID="vs.actions.separator";class a{get actions(){return this._actions}constructor(e,t,i,s){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=e,this.label=t,this.class=s,this._actions=i}async run(){}}class d extends r{constructor(){super(d.ID,n.kg("submenu.empty","(empty)"),void 0,!1)}}function c(e){var t;return{id:e.id,label:e.label,class:e.class,enabled:null===(t=e.enabled)||void 0===t||t,checked:e.checked,run:async function(){return e.run(...arguments)},tooltip:e.label}}d.ID="vs.actions.empty"},61498:(e,t,i)=>{function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[e.length-(1+t)]}function o(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}function n(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let s=0,o=e.length;s<o;s++)if(!i(e[s],t[s]))return!1;return!0}function r(e,t){const i=e.length-1;t<i&&(e[t]=e[i]),e.pop()}function l(e,t,i){return function(e,t){let i=0,s=e-1;for(;i<=s;){const e=(i+s)/2|0,o=t(e);if(o<0)i=e+1;else{if(!(o>0))return e;s=e-1}}return-(i+1)}(e.length,(s=>i(e[s],t)))}function h(e,t,i){if((e|=0)>=t.length)throw new TypeError("invalid index");const s=t[Math.floor(t.length*Math.random())],o=[],n=[],r=[];for(const l of t){const e=i(l,s);e<0?o.push(l):e>0?n.push(l):r.push(l)}return e<o.length?h(e,o,i):e<o.length+r.length?r[0]:h(e-(o.length+r.length),n,i)}function a(e,t){const i=[];let s;for(const o of e.slice(0).sort(t))s&&0===t(s[0],o)?s.push(o):(s=[o],i.push(s));return i}function*d(e,t){let i,s;for(const o of e)void 0!==s&&t(s,o)?i.push(o):(i&&(yield i),i=[o]),s=o;i&&(yield i)}function c(e,t){for(let i=0;i<=e.length;i++)t(0===i?void 0:e[i-1],i===e.length?void 0:e[i])}function u(e,t){for(let i=0;i<e.length;i++)t(0===i?void 0:e[i-1],e[i],i+1===e.length?void 0:e[i+1])}function p(e){return e.filter((e=>!!e))}function m(e){let t=0;for(let i=0;i<e.length;i++)e[i]&&(e[t]=e[i],t+=1);e.length=t}function g(e){return!Array.isArray(e)||0===e.length}function v(e){return Array.isArray(e)&&e.length>0}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;const i=new Set;return e.filter((e=>{const s=t(e);return!i.has(s)&&(i.add(s),!0)}))}function S(e,t){return e.length>0?e[0]:t}function b(e,t){let i="number"===typeof t?e:0;"number"===typeof t?i=e:(i=0,t=e);const s=[];if(i<=t)for(let o=i;o<t;o++)s.push(o);else for(let o=i;o>t;o--)s.push(o);return s}function _(e,t,i){const s=e.slice(0,t),o=e.slice(t);return s.concat(i,o)}function w(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.unshift(t))}function y(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.push(t))}function D(e,t){for(const i of t)e.push(i)}function C(e){return Array.isArray(e)?e:[e]}function N(e,t,i,s){const o=x(e,t);let n=e.splice(o,i);return void 0===n&&(n=[]),function(e,t,i){const s=x(e,t),o=e.length,n=i.length;e.length=o+n;for(let r=o-1;r>=s;r--)e[r+n]=e[r];for(let r=0;r<n;r++)e[r+s]=i[r]}(e,o,s),n}function x(e,t){return t<0?Math.max(t+e.length,0):Math.min(t,e.length)}var E;function I(e,t){return(i,s)=>t(e(i),e(s))}function P(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(e,i)=>{for(const s of t){const t=s(e,i);if(!E.isNeitherLessOrGreaterThan(t))return t}return E.neitherLessOrGreaterThan}}i.d(t,{$z:()=>a,Ct:()=>g,E4:()=>D,EI:()=>v,El:()=>l,Fy:()=>S,Hw:()=>k,RT:()=>s,SK:()=>m,SO:()=>h,TS:()=>z,U9:()=>L,UH:()=>r,V4:()=>N,VE:()=>I,Yc:()=>p,_A:()=>w,_j:()=>C,aI:()=>n,bS:()=>o,c1:()=>T,dM:()=>f,j3:()=>M,kj:()=>u,n:()=>d,nH:()=>P,nK:()=>_,pN:()=>c,r7:()=>y,t9:()=>A,y1:()=>b}),function(e){e.isLessThan=function(e){return e<0},e.isLessThanOrEqual=function(e){return e<=0},e.isGreaterThan=function(e){return e>0},e.isNeitherLessOrGreaterThan=function(e){return 0===e},e.greaterThan=1,e.lessThan=-1,e.neitherLessOrGreaterThan=0}(E||(E={}));const L=(e,t)=>e-t,z=(e,t)=>L(e?1:0,t?1:0);function k(e){return(t,i)=>-e(t,i)}class M{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}peek(){if(0!==this.length)return this.items[this.firstIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}takeCount(e){const t=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,t}}class T{constructor(e){this.iterate=e}toArray(){const e=[];return this.iterate((t=>(e.push(t),!0))),e}filter(e){return new T((t=>this.iterate((i=>!e(i)||t(i)))))}map(e){return new T((t=>this.iterate((i=>t(e(i))))))}findLast(e){let t;return this.iterate((i=>(e(i)&&(t=i),!0))),t}findLastMaxBy(e){let t,i=!0;return this.iterate((s=>((i||E.isGreaterThan(e(s,t)))&&(i=!1,t=s),!0))),t}}T.empty=new T((e=>{}));class A{constructor(e){this._indexMap=e}static createSortPermutation(e,t){const i=Array.from(e.keys()).sort(((i,s)=>t(e[i],e[s])));return new A(i)}apply(e){return e.map(((t,i)=>e[this._indexMap[i]]))}inverse(){const e=this._indexMap.slice();for(let t=0;t<this._indexMap.length;t++)e[this._indexMap[t]]=t;return new A(e)}}},21457:(e,t,i)=>{function s(e,t){const i=function(e,t){for(let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;i>=0;i--){if(t(e[i]))return i}return-1}(e,t);if(-1!==i)return e[i]}function o(e,t){const i=n(e,t);return-1===i?void 0:e[i]}function n(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;for(;i<s;){const o=Math.floor((i+s)/2);t(e[o])?i=o+1:s=o}return i-1}function r(e,t){const i=l(e,t);return i===e.length?void 0:e[i]}function l(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;for(;i<s;){const o=Math.floor((i+s)/2);t(e[o])?s=o:i=o+1}return i}i.d(t,{Cn:()=>a,TM:()=>u,Uk:()=>s,XP:()=>r,hw:()=>l,iM:()=>n,kh:()=>c,lx:()=>o,oH:()=>p,ot:()=>d,vJ:()=>h});class h{constructor(e){this._array=e,this._findLastMonotonousLastIdx=0}findLastMonotonous(e){if(h.assertInvariants){if(this._prevFindLastPredicate)for(const t of this._array)if(this._prevFindLastPredicate(t)&&!e(t))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.");this._prevFindLastPredicate=e}const t=n(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=t+1,-1===t?void 0:this._array[t]}}function a(e,t){if(0===e.length)return;let i=e[0];for(let s=1;s<e.length;s++){const o=e[s];t(o,i)>0&&(i=o)}return i}function d(e,t){if(0===e.length)return;let i=e[0];for(let s=1;s<e.length;s++){const o=e[s];t(o,i)>=0&&(i=o)}return i}function c(e,t){return a(e,((e,i)=>-t(e,i)))}function u(e,t){if(0===e.length)return-1;let i=0;for(let s=1;s<e.length;s++){t(e[s],e[i])>0&&(i=s)}return i}function p(e,t){for(const i of e){const e=t(i);if(void 0!==e)return e}}h.assertInvariants=!1},28070:(e,t,i)=>{i.d(t,{Ft:()=>l,V7:()=>r,Xo:()=>h,ok:()=>o,xb:()=>n});var s=i(29591);function o(e,t){if(!e)throw new Error(t?"Assertion failed (".concat(t,")"):"Assertion Failed")}function n(e){throw new Error(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unreachable")}function r(e){e||(0,s.dz)(new s.D7("Soft Assertion Failed"))}function l(e){e()||(e(),(0,s.dz)(new s.D7("Assertion Failed")))}function h(e,t){let i=0;for(;i<e.length-1;){if(!t(e[i],e[i+1]))return!1;i++}return!0}}}]);
//# sourceMappingURL=monaco-editor-vendor.a5bb2ee7.50a1e590.js.map