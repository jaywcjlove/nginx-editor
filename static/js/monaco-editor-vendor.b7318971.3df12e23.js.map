{"version":3,"file":"static/js/monaco-editor-vendor.b7318971.3df12e23.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/platform/accessibility/browser/accessibilityService.js","../node_modules/monaco-editor/esm/vs/platform/accessibility/common/accessibility.js","../node_modules/monaco-editor/esm/vs/platform/action/common/actionCommonCategories.js","../node_modules/monaco-editor/esm/vs/platform/actionWidget/browser/actionList.js","../node_modules/monaco-editor/esm/vs/platform/actionWidget/browser/actionWidget.js","../node_modules/monaco-editor/esm/vs/platform/actions/browser/menuEntryActionViewItem.js","../node_modules/monaco-editor/esm/vs/platform/action/common/action.js","../node_modules/monaco-editor/esm/vs/platform/actions/browser/toolbar.js","../node_modules/monaco-editor/esm/vs/platform/actions/common/actions.js","../node_modules/monaco-editor/esm/vs/platform/actions/common/menuService.js","../node_modules/monaco-editor/esm/vs/platform/audioCues/browser/audioCueService.js","../node_modules/monaco-editor/esm/vs/platform/clipboard/browser/clipboardService.js","../node_modules/monaco-editor/esm/vs/platform/clipboard/common/clipboardService.js","../node_modules/monaco-editor/esm/vs/platform/commands/common/commands.js","../node_modules/monaco-editor/esm/vs/platform/configuration/common/configuration.js","../node_modules/monaco-editor/esm/vs/platform/configuration/common/configurationModels.js","../node_modules/monaco-editor/esm/vs/platform/configuration/common/configurationRegistry.js","../node_modules/monaco-editor/esm/vs/platform/configuration/common/configurations.js","../node_modules/monaco-editor/esm/vs/platform/contextkey/browser/contextKeyService.js","../node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js","../node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkeys.js","../node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextMenuService.js","../node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextMenuHandler.js","../node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextView.js","../node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextViewService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { addDisposableListener } from '../../../base/browser/dom.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../common/accessibility.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nlet AccessibilityService = class AccessibilityService extends Disposable {\n    constructor(_contextKeyService, _layoutService, _configurationService) {\n        super();\n        this._contextKeyService = _contextKeyService;\n        this._layoutService = _layoutService;\n        this._configurationService = _configurationService;\n        this._accessibilitySupport = 0 /* AccessibilitySupport.Unknown */;\n        this._onDidChangeScreenReaderOptimized = new Emitter();\n        this._onDidChangeReducedMotion = new Emitter();\n        this._accessibilityModeEnabledContext = CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);\n        const updateContextKey = () => this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());\n        this._register(this._configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration('editor.accessibilitySupport')) {\n                updateContextKey();\n                this._onDidChangeScreenReaderOptimized.fire();\n            }\n            if (e.affectsConfiguration('workbench.reduceMotion')) {\n                this._configMotionReduced = this._configurationService.getValue('workbench.reduceMotion');\n                this._onDidChangeReducedMotion.fire();\n            }\n        }));\n        updateContextKey();\n        this._register(this.onDidChangeScreenReaderOptimized(() => updateContextKey()));\n        const reduceMotionMatcher = window.matchMedia(`(prefers-reduced-motion: reduce)`);\n        this._systemMotionReduced = reduceMotionMatcher.matches;\n        this._configMotionReduced = this._configurationService.getValue('workbench.reduceMotion');\n        this.initReducedMotionListeners(reduceMotionMatcher);\n    }\n    initReducedMotionListeners(reduceMotionMatcher) {\n        if (!this._layoutService.hasContainer) {\n            // we can't use `ILayoutService.container` because the application\n            // doesn't have a single container\n            return;\n        }\n        this._register(addDisposableListener(reduceMotionMatcher, 'change', () => {\n            this._systemMotionReduced = reduceMotionMatcher.matches;\n            if (this._configMotionReduced === 'auto') {\n                this._onDidChangeReducedMotion.fire();\n            }\n        }));\n        const updateRootClasses = () => {\n            const reduce = this.isMotionReduced();\n            this._layoutService.container.classList.toggle('reduce-motion', reduce);\n            this._layoutService.container.classList.toggle('enable-motion', !reduce);\n        };\n        updateRootClasses();\n        this._register(this.onDidChangeReducedMotion(() => updateRootClasses()));\n    }\n    get onDidChangeScreenReaderOptimized() {\n        return this._onDidChangeScreenReaderOptimized.event;\n    }\n    isScreenReaderOptimized() {\n        const config = this._configurationService.getValue('editor.accessibilitySupport');\n        return config === 'on' || (config === 'auto' && this._accessibilitySupport === 2 /* AccessibilitySupport.Enabled */);\n    }\n    get onDidChangeReducedMotion() {\n        return this._onDidChangeReducedMotion.event;\n    }\n    isMotionReduced() {\n        const config = this._configMotionReduced;\n        return config === 'on' || (config === 'auto' && this._systemMotionReduced);\n    }\n    getAccessibilitySupport() {\n        return this._accessibilitySupport;\n    }\n};\nAccessibilityService = __decorate([\n    __param(0, IContextKeyService),\n    __param(1, ILayoutService),\n    __param(2, IConfigurationService)\n], AccessibilityService);\nexport { AccessibilityService };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IAccessibilityService = createDecorator('accessibilityService');\nexport const CONTEXT_ACCESSIBILITY_MODE_ENABLED = new RawContextKey('accessibilityModeEnabled', false);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { localize } from '../../../nls.js';\nexport const Categories = Object.freeze({\n    View: { value: localize('view', \"View\"), original: 'View' },\n    Help: { value: localize('help', \"Help\"), original: 'Help' },\n    Test: { value: localize('test', \"Test\"), original: 'Test' },\n    Preferences: { value: localize('preferences', \"Preferences\"), original: 'Preferences' },\n    Developer: { value: localize({ key: 'developer', comment: ['A developer on Code itself or someone diagnosing issues in Code'] }, \"Developer\"), original: 'Developer' }\n});\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { HighlightedLabel } from '../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nimport { KeybindingLabel } from '../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { List } from '../../../base/browser/ui/list/listWidget.js';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { OS } from '../../../base/common/platform.js';\nimport './actionWidget.css';\nimport { localize } from '../../../nls.js';\nimport { IContextViewService } from '../../contextview/browser/contextView.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { defaultListStyles } from '../../theme/browser/defaultStyles.js';\nimport { asCssVariable } from '../../theme/common/colorRegistry.js';\nexport const acceptSelectedActionCommand = 'acceptSelectedCodeAction';\nexport const previewSelectedActionCommand = 'previewSelectedCodeAction';\nclass HeaderRenderer {\n    get templateId() { return \"header\" /* ActionListItemKind.Header */; }\n    renderTemplate(container) {\n        container.classList.add('group-header');\n        const text = document.createElement('span');\n        container.append(text);\n        return { container, text };\n    }\n    renderElement(element, _index, templateData) {\n        var _a, _b;\n        templateData.text.textContent = (_b = (_a = element.group) === null || _a === void 0 ? void 0 : _a.title) !== null && _b !== void 0 ? _b : '';\n    }\n    disposeTemplate(_templateData) {\n        // noop\n    }\n}\nlet ActionItemRenderer = class ActionItemRenderer {\n    get templateId() { return \"action\" /* ActionListItemKind.Action */; }\n    constructor(_supportsPreview, _keybindingService) {\n        this._supportsPreview = _supportsPreview;\n        this._keybindingService = _keybindingService;\n    }\n    renderTemplate(container) {\n        container.classList.add(this.templateId);\n        const icon = document.createElement('div');\n        icon.className = 'icon';\n        container.append(icon);\n        const text = document.createElement('span');\n        text.className = 'title';\n        container.append(text);\n        const keybinding = new KeybindingLabel(container, OS);\n        return { container, icon, text, keybinding };\n    }\n    renderElement(element, _index, data) {\n        var _a, _b, _c;\n        if ((_a = element.group) === null || _a === void 0 ? void 0 : _a.icon) {\n            data.icon.className = ThemeIcon.asClassName(element.group.icon);\n            if (element.group.icon.color) {\n                data.icon.style.color = asCssVariable(element.group.icon.color.id);\n            }\n        }\n        else {\n            data.icon.className = ThemeIcon.asClassName(Codicon.lightBulb);\n            data.icon.style.color = 'var(--vscode-editorLightBulb-foreground)';\n        }\n        if (!element.item || !element.label) {\n            return;\n        }\n        data.text.textContent = stripNewlines(element.label);\n        if (!element.keybinding) {\n            dom.hide(data.keybinding.element);\n        }\n        else {\n            data.keybinding.set(element.keybinding);\n            dom.show(data.keybinding.element);\n        }\n        const actionTitle = (_b = this._keybindingService.lookupKeybinding(acceptSelectedActionCommand)) === null || _b === void 0 ? void 0 : _b.getLabel();\n        const previewTitle = (_c = this._keybindingService.lookupKeybinding(previewSelectedActionCommand)) === null || _c === void 0 ? void 0 : _c.getLabel();\n        data.container.classList.toggle('option-disabled', element.disabled);\n        if (element.disabled) {\n            data.container.title = element.label;\n        }\n        else if (actionTitle && previewTitle) {\n            if (this._supportsPreview) {\n                data.container.title = localize({ key: 'label-preview', comment: ['placeholders are keybindings, e.g \"F2 to apply, Shift+F2 to preview\"'] }, \"{0} to apply, {1} to preview\", actionTitle, previewTitle);\n            }\n            else {\n                data.container.title = localize({ key: 'label', comment: ['placeholder is a keybinding, e.g \"F2 to apply\"'] }, \"{0} to apply\", actionTitle);\n            }\n        }\n        else {\n            data.container.title = '';\n        }\n        if (element.description) {\n            const label = new HighlightedLabel(dom.append(data.container, dom.$('span.label-description')));\n            label.element.classList.add('action-list-description');\n            label.set(element.description);\n        }\n    }\n    disposeTemplate(_templateData) {\n        // noop\n    }\n};\nActionItemRenderer = __decorate([\n    __param(1, IKeybindingService)\n], ActionItemRenderer);\nclass AcceptSelectedEvent extends UIEvent {\n    constructor() { super('acceptSelectedAction'); }\n}\nclass PreviewSelectedEvent extends UIEvent {\n    constructor() { super('previewSelectedAction'); }\n}\nlet ActionList = class ActionList extends Disposable {\n    constructor(user, preview, items, _delegate, _contextViewService, _keybindingService) {\n        super();\n        this._delegate = _delegate;\n        this._contextViewService = _contextViewService;\n        this._keybindingService = _keybindingService;\n        this._actionLineHeight = 24;\n        this._headerLineHeight = 26;\n        this.domNode = document.createElement('div');\n        this.domNode.classList.add('actionList');\n        const virtualDelegate = {\n            getHeight: element => element.kind === \"header\" /* ActionListItemKind.Header */ ? this._headerLineHeight : this._actionLineHeight,\n            getTemplateId: element => element.kind\n        };\n        this._list = this._register(new List(user, this.domNode, virtualDelegate, [\n            new ActionItemRenderer(preview, this._keybindingService),\n            new HeaderRenderer(),\n        ], {\n            keyboardSupport: false,\n            accessibilityProvider: {\n                getAriaLabel: element => {\n                    if (element.kind === \"action\" /* ActionListItemKind.Action */) {\n                        let label = element.label ? stripNewlines(element === null || element === void 0 ? void 0 : element.label) : '';\n                        if (element.disabled) {\n                            label = localize({ key: 'customQuickFixWidget.labels', comment: [`Action widget labels for accessibility.`] }, \"{0}, Disabled Reason: {1}\", label, element.disabled);\n                        }\n                        return label;\n                    }\n                    return null;\n                },\n                getWidgetAriaLabel: () => localize({ key: 'customQuickFixWidget', comment: [`An action widget option`] }, \"Action Widget\"),\n                getRole: (e) => e.kind === \"action\" /* ActionListItemKind.Action */ ? 'option' : 'separator',\n                getWidgetRole: () => 'listbox'\n            },\n        }));\n        this._list.style(defaultListStyles);\n        this._register(this._list.onMouseClick(e => this.onListClick(e)));\n        this._register(this._list.onMouseOver(e => this.onListHover(e)));\n        this._register(this._list.onDidChangeFocus(() => this._list.domFocus()));\n        this._register(this._list.onDidChangeSelection(e => this.onListSelection(e)));\n        this._allMenuItems = items;\n        this._list.splice(0, this._list.length, this._allMenuItems);\n        if (this._list.length) {\n            this.focusNext();\n        }\n    }\n    focusCondition(element) {\n        return !element.disabled && element.kind === \"action\" /* ActionListItemKind.Action */;\n    }\n    hide(didCancel) {\n        this._delegate.onHide(didCancel);\n        this._contextViewService.hideContextView();\n    }\n    layout(minWidth) {\n        // Updating list height, depending on how many separators and headers there are.\n        const numHeaders = this._allMenuItems.filter(item => item.kind === 'header').length;\n        const itemsHeight = this._allMenuItems.length * this._actionLineHeight;\n        const heightWithHeaders = itemsHeight + numHeaders * this._headerLineHeight - numHeaders * this._actionLineHeight;\n        this._list.layout(heightWithHeaders);\n        // For finding width dynamically (not using resize observer)\n        const itemWidths = this._allMenuItems.map((_, index) => {\n            const element = document.getElementById(this._list.getElementID(index));\n            if (element) {\n                element.style.width = 'auto';\n                const width = element.getBoundingClientRect().width;\n                element.style.width = '';\n                return width;\n            }\n            return 0;\n        });\n        // resize observer - can be used in the future since list widget supports dynamic height but not width\n        const width = Math.max(...itemWidths, minWidth);\n        const maxVhPrecentage = 0.7;\n        const height = Math.min(heightWithHeaders, document.body.clientHeight * maxVhPrecentage);\n        this._list.layout(height, width);\n        this.domNode.style.height = `${height}px`;\n        this._list.domFocus();\n        return width;\n    }\n    focusPrevious() {\n        this._list.focusPrevious(1, true, undefined, this.focusCondition);\n    }\n    focusNext() {\n        this._list.focusNext(1, true, undefined, this.focusCondition);\n    }\n    acceptSelected(preview) {\n        const focused = this._list.getFocus();\n        if (focused.length === 0) {\n            return;\n        }\n        const focusIndex = focused[0];\n        const element = this._list.element(focusIndex);\n        if (!this.focusCondition(element)) {\n            return;\n        }\n        const event = preview ? new PreviewSelectedEvent() : new AcceptSelectedEvent();\n        this._list.setSelection([focusIndex], event);\n    }\n    onListSelection(e) {\n        if (!e.elements.length) {\n            return;\n        }\n        const element = e.elements[0];\n        if (element.item && this.focusCondition(element)) {\n            this._delegate.onSelect(element.item, e.browserEvent instanceof PreviewSelectedEvent);\n        }\n        else {\n            this._list.setSelection([]);\n        }\n    }\n    onListHover(e) {\n        this._list.setFocus(typeof e.index === 'number' ? [e.index] : []);\n    }\n    onListClick(e) {\n        if (e.element && this.focusCondition(e.element)) {\n            this._list.setFocus([]);\n        }\n    }\n};\nActionList = __decorate([\n    __param(4, IContextViewService),\n    __param(5, IKeybindingService)\n], ActionList);\nexport { ActionList };\nfunction stripNewlines(str) {\n    return str.replace(/\\r\\n|\\r|\\n/g, ' ');\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { Disposable, DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\nimport './actionWidget.css';\nimport { localize } from '../../../nls.js';\nimport { acceptSelectedActionCommand, ActionList, previewSelectedActionCommand } from './actionList.js';\nimport { Action2, registerAction2 } from '../../actions/common/actions.js';\nimport { IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { IContextViewService } from '../../contextview/browser/contextView.js';\nimport { registerSingleton } from '../../instantiation/common/extensions.js';\nimport { createDecorator, IInstantiationService } from '../../instantiation/common/instantiation.js';\nconst ActionWidgetContextKeys = {\n    Visible: new RawContextKey('codeActionMenuVisible', false, localize('codeActionMenuVisible', \"Whether the action widget list is visible\"))\n};\nexport const IActionWidgetService = createDecorator('actionWidgetService');\nlet ActionWidgetService = class ActionWidgetService extends Disposable {\n    get isVisible() {\n        return ActionWidgetContextKeys.Visible.getValue(this._contextKeyService) || false;\n    }\n    constructor(_contextViewService, _contextKeyService, _instantiationService) {\n        super();\n        this._contextViewService = _contextViewService;\n        this._contextKeyService = _contextKeyService;\n        this._instantiationService = _instantiationService;\n        this._list = this._register(new MutableDisposable());\n    }\n    show(user, supportsPreview, items, delegate, anchor, container, actionBarActions) {\n        const visibleContext = ActionWidgetContextKeys.Visible.bindTo(this._contextKeyService);\n        const list = this._instantiationService.createInstance(ActionList, user, supportsPreview, items, delegate);\n        this._contextViewService.showContextView({\n            getAnchor: () => anchor,\n            render: (container) => {\n                visibleContext.set(true);\n                return this._renderWidget(container, list, actionBarActions !== null && actionBarActions !== void 0 ? actionBarActions : []);\n            },\n            onHide: (didCancel) => {\n                visibleContext.reset();\n                this._onWidgetClosed(didCancel);\n            },\n        }, container, false);\n    }\n    acceptSelected(preview) {\n        var _a;\n        (_a = this._list.value) === null || _a === void 0 ? void 0 : _a.acceptSelected(preview);\n    }\n    focusPrevious() {\n        var _a, _b;\n        (_b = (_a = this._list) === null || _a === void 0 ? void 0 : _a.value) === null || _b === void 0 ? void 0 : _b.focusPrevious();\n    }\n    focusNext() {\n        var _a, _b;\n        (_b = (_a = this._list) === null || _a === void 0 ? void 0 : _a.value) === null || _b === void 0 ? void 0 : _b.focusNext();\n    }\n    hide() {\n        var _a;\n        (_a = this._list.value) === null || _a === void 0 ? void 0 : _a.hide();\n        this._list.clear();\n    }\n    _renderWidget(element, list, actionBarActions) {\n        var _a;\n        const widget = document.createElement('div');\n        widget.classList.add('action-widget');\n        element.appendChild(widget);\n        this._list.value = list;\n        if (this._list.value) {\n            widget.appendChild(this._list.value.domNode);\n        }\n        else {\n            throw new Error('List has no value');\n        }\n        const renderDisposables = new DisposableStore();\n        // Invisible div to block mouse interaction in the rest of the UI\n        const menuBlock = document.createElement('div');\n        const block = element.appendChild(menuBlock);\n        block.classList.add('context-view-block');\n        renderDisposables.add(dom.addDisposableListener(block, dom.EventType.MOUSE_DOWN, e => e.stopPropagation()));\n        // Invisible div to block mouse interaction with the menu\n        const pointerBlockDiv = document.createElement('div');\n        const pointerBlock = element.appendChild(pointerBlockDiv);\n        pointerBlock.classList.add('context-view-pointerBlock');\n        // Removes block on click INSIDE widget or ANY mouse movement\n        renderDisposables.add(dom.addDisposableListener(pointerBlock, dom.EventType.POINTER_MOVE, () => pointerBlock.remove()));\n        renderDisposables.add(dom.addDisposableListener(pointerBlock, dom.EventType.MOUSE_DOWN, () => pointerBlock.remove()));\n        // Action bar\n        let actionBarWidth = 0;\n        if (actionBarActions.length) {\n            const actionBar = this._createActionBar('.action-widget-action-bar', actionBarActions);\n            if (actionBar) {\n                widget.appendChild(actionBar.getContainer().parentElement);\n                renderDisposables.add(actionBar);\n                actionBarWidth = actionBar.getContainer().offsetWidth;\n            }\n        }\n        const width = (_a = this._list.value) === null || _a === void 0 ? void 0 : _a.layout(actionBarWidth);\n        widget.style.width = `${width}px`;\n        const focusTracker = renderDisposables.add(dom.trackFocus(element));\n        renderDisposables.add(focusTracker.onDidBlur(() => this.hide()));\n        return renderDisposables;\n    }\n    _createActionBar(className, actions) {\n        if (!actions.length) {\n            return undefined;\n        }\n        const container = dom.$(className);\n        const actionBar = new ActionBar(container);\n        actionBar.push(actions, { icon: false, label: true });\n        return actionBar;\n    }\n    _onWidgetClosed(didCancel) {\n        var _a;\n        (_a = this._list.value) === null || _a === void 0 ? void 0 : _a.hide(didCancel);\n    }\n};\nActionWidgetService = __decorate([\n    __param(0, IContextViewService),\n    __param(1, IContextKeyService),\n    __param(2, IInstantiationService)\n], ActionWidgetService);\nregisterSingleton(IActionWidgetService, ActionWidgetService, 1 /* InstantiationType.Delayed */);\nconst weight = 100 /* KeybindingWeight.EditorContrib */ + 1000;\nregisterAction2(class extends Action2 {\n    constructor() {\n        super({\n            id: 'hideCodeActionWidget',\n            title: {\n                value: localize('hideCodeActionWidget.title', \"Hide action widget\"),\n                original: 'Hide action widget'\n            },\n            precondition: ActionWidgetContextKeys.Visible,\n            keybinding: {\n                weight,\n                primary: 9 /* KeyCode.Escape */,\n                secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */]\n            },\n        });\n    }\n    run(accessor) {\n        accessor.get(IActionWidgetService).hide();\n    }\n});\nregisterAction2(class extends Action2 {\n    constructor() {\n        super({\n            id: 'selectPrevCodeAction',\n            title: {\n                value: localize('selectPrevCodeAction.title', \"Select previous action\"),\n                original: 'Select previous action'\n            },\n            precondition: ActionWidgetContextKeys.Visible,\n            keybinding: {\n                weight,\n                primary: 16 /* KeyCode.UpArrow */,\n                secondary: [2048 /* KeyMod.CtrlCmd */ | 16 /* KeyCode.UpArrow */],\n                mac: { primary: 16 /* KeyCode.UpArrow */, secondary: [2048 /* KeyMod.CtrlCmd */ | 16 /* KeyCode.UpArrow */, 256 /* KeyMod.WinCtrl */ | 46 /* KeyCode.KeyP */] },\n            }\n        });\n    }\n    run(accessor) {\n        const widgetService = accessor.get(IActionWidgetService);\n        if (widgetService instanceof ActionWidgetService) {\n            widgetService.focusPrevious();\n        }\n    }\n});\nregisterAction2(class extends Action2 {\n    constructor() {\n        super({\n            id: 'selectNextCodeAction',\n            title: {\n                value: localize('selectNextCodeAction.title', \"Select next action\"),\n                original: 'Select next action'\n            },\n            precondition: ActionWidgetContextKeys.Visible,\n            keybinding: {\n                weight,\n                primary: 18 /* KeyCode.DownArrow */,\n                secondary: [2048 /* KeyMod.CtrlCmd */ | 18 /* KeyCode.DownArrow */],\n                mac: { primary: 18 /* KeyCode.DownArrow */, secondary: [2048 /* KeyMod.CtrlCmd */ | 18 /* KeyCode.DownArrow */, 256 /* KeyMod.WinCtrl */ | 44 /* KeyCode.KeyN */] }\n            }\n        });\n    }\n    run(accessor) {\n        const widgetService = accessor.get(IActionWidgetService);\n        if (widgetService instanceof ActionWidgetService) {\n            widgetService.focusNext();\n        }\n    }\n});\nregisterAction2(class extends Action2 {\n    constructor() {\n        super({\n            id: acceptSelectedActionCommand,\n            title: {\n                value: localize('acceptSelected.title', \"Accept selected action\"),\n                original: 'Accept selected action'\n            },\n            precondition: ActionWidgetContextKeys.Visible,\n            keybinding: {\n                weight,\n                primary: 3 /* KeyCode.Enter */,\n                secondary: [2048 /* KeyMod.CtrlCmd */ | 84 /* KeyCode.Period */],\n            }\n        });\n    }\n    run(accessor) {\n        const widgetService = accessor.get(IActionWidgetService);\n        if (widgetService instanceof ActionWidgetService) {\n            widgetService.acceptSelected();\n        }\n    }\n});\nregisterAction2(class extends Action2 {\n    constructor() {\n        super({\n            id: previewSelectedActionCommand,\n            title: {\n                value: localize('previewSelected.title', \"Preview selected action\"),\n                original: 'Preview selected action'\n            },\n            precondition: ActionWidgetContextKeys.Visible,\n            keybinding: {\n                weight,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 3 /* KeyCode.Enter */,\n            }\n        });\n    }\n    run(accessor) {\n        const widgetService = accessor.get(IActionWidgetService);\n        if (widgetService instanceof ActionWidgetService) {\n            widgetService.acceptSelected(true);\n        }\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { $, addDisposableListener, append, asCSSUrl, EventType, ModifierKeyEmitter, prepend } from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionViewItem, BaseActionViewItem, SelectActionViewItem } from '../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { DropdownMenuActionViewItem } from '../../../base/browser/ui/dropdown/dropdownActionViewItem.js';\nimport { ActionRunner, Separator, SubmenuAction } from '../../../base/common/actions.js';\nimport { UILabelProvider } from '../../../base/common/keybindingLabels.js';\nimport { combinedDisposable, MutableDisposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { isLinux, isWindows, OS } from '../../../base/common/platform.js';\nimport './menuEntryActionViewItem.css';\nimport { localize } from '../../../nls.js';\nimport { IMenuService, MenuItemAction, SubmenuItemAction } from '../common/actions.js';\nimport { isICommandActionToggleInfo } from '../../action/common/action.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { IContextMenuService, IContextViewService } from '../../contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { INotificationService } from '../../notification/common/notification.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { IThemeService } from '../../theme/common/themeService.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport { isDark } from '../../theme/common/theme.js';\nimport { assertType } from '../../../base/common/types.js';\nimport { asCssVariable, selectBorder } from '../../theme/common/colorRegistry.js';\nimport { defaultSelectBoxStyles } from '../../theme/browser/defaultStyles.js';\nexport function createAndFillInContextMenuActions(menu, options, target, primaryGroup) {\n    const groups = menu.getActions(options);\n    const modifierKeyEmitter = ModifierKeyEmitter.getInstance();\n    const useAlternativeActions = modifierKeyEmitter.keyStatus.altKey || ((isWindows || isLinux) && modifierKeyEmitter.keyStatus.shiftKey);\n    fillInActions(groups, target, useAlternativeActions, primaryGroup ? actionGroup => actionGroup === primaryGroup : actionGroup => actionGroup === 'navigation');\n}\nexport function createAndFillInActionBarActions(menu, options, target, primaryGroup, shouldInlineSubmenu, useSeparatorsInPrimaryActions) {\n    const groups = menu.getActions(options);\n    const isPrimaryAction = typeof primaryGroup === 'string' ? (actionGroup) => actionGroup === primaryGroup : primaryGroup;\n    // Action bars handle alternative actions on their own so the alternative actions should be ignored\n    fillInActions(groups, target, false, isPrimaryAction, shouldInlineSubmenu, useSeparatorsInPrimaryActions);\n}\nfunction fillInActions(groups, target, useAlternativeActions, isPrimaryAction = actionGroup => actionGroup === 'navigation', shouldInlineSubmenu = () => false, useSeparatorsInPrimaryActions = false) {\n    let primaryBucket;\n    let secondaryBucket;\n    if (Array.isArray(target)) {\n        primaryBucket = target;\n        secondaryBucket = target;\n    }\n    else {\n        primaryBucket = target.primary;\n        secondaryBucket = target.secondary;\n    }\n    const submenuInfo = new Set();\n    for (const [group, actions] of groups) {\n        let target;\n        if (isPrimaryAction(group)) {\n            target = primaryBucket;\n            if (target.length > 0 && useSeparatorsInPrimaryActions) {\n                target.push(new Separator());\n            }\n        }\n        else {\n            target = secondaryBucket;\n            if (target.length > 0) {\n                target.push(new Separator());\n            }\n        }\n        for (let action of actions) {\n            if (useAlternativeActions) {\n                action = action instanceof MenuItemAction && action.alt ? action.alt : action;\n            }\n            const newLen = target.push(action);\n            // keep submenu info for later inlining\n            if (action instanceof SubmenuAction) {\n                submenuInfo.add({ group, action, index: newLen - 1 });\n            }\n        }\n    }\n    // ask the outside if submenu should be inlined or not. only ask when\n    // there would be enough space\n    for (const { group, action, index } of submenuInfo) {\n        const target = isPrimaryAction(group) ? primaryBucket : secondaryBucket;\n        // inlining submenus with length 0 or 1 is easy,\n        // larger submenus need to be checked with the overall limit\n        const submenuActions = action.actions;\n        if (submenuActions.length <= 1 && shouldInlineSubmenu(action, group, target.length)) {\n            target.splice(index, 1, ...submenuActions);\n        }\n    }\n}\nlet MenuEntryActionViewItem = class MenuEntryActionViewItem extends ActionViewItem {\n    constructor(action, options, _keybindingService, _notificationService, _contextKeyService, _themeService, _contextMenuService) {\n        super(undefined, action, { icon: !!(action.class || action.item.icon), label: !action.class && !action.item.icon, draggable: options === null || options === void 0 ? void 0 : options.draggable, keybinding: options === null || options === void 0 ? void 0 : options.keybinding, hoverDelegate: options === null || options === void 0 ? void 0 : options.hoverDelegate });\n        this._keybindingService = _keybindingService;\n        this._notificationService = _notificationService;\n        this._contextKeyService = _contextKeyService;\n        this._themeService = _themeService;\n        this._contextMenuService = _contextMenuService;\n        this._wantsAltCommand = false;\n        this._itemClassDispose = this._register(new MutableDisposable());\n        this._altKey = ModifierKeyEmitter.getInstance();\n    }\n    get _menuItemAction() {\n        return this._action;\n    }\n    get _commandAction() {\n        return this._wantsAltCommand && this._menuItemAction.alt || this._menuItemAction;\n    }\n    onClick(event) {\n        return __awaiter(this, void 0, void 0, function* () {\n            event.preventDefault();\n            event.stopPropagation();\n            try {\n                yield this.actionRunner.run(this._commandAction, this._context);\n            }\n            catch (err) {\n                this._notificationService.error(err);\n            }\n        });\n    }\n    render(container) {\n        super.render(container);\n        container.classList.add('menu-entry');\n        this._updateItemClass(this._menuItemAction.item);\n        let mouseOver = false;\n        let alternativeKeyDown = this._altKey.keyStatus.altKey || ((isWindows || isLinux) && this._altKey.keyStatus.shiftKey);\n        const updateAltState = () => {\n            var _a;\n            const wantsAltCommand = mouseOver && alternativeKeyDown && !!((_a = this._commandAction.alt) === null || _a === void 0 ? void 0 : _a.enabled);\n            if (wantsAltCommand !== this._wantsAltCommand) {\n                this._wantsAltCommand = wantsAltCommand;\n                this.updateLabel();\n                this.updateTooltip();\n                this.updateClass();\n            }\n        };\n        if (this._menuItemAction.alt) {\n            this._register(this._altKey.event(value => {\n                alternativeKeyDown = value.altKey || ((isWindows || isLinux) && value.shiftKey);\n                updateAltState();\n            }));\n        }\n        this._register(addDisposableListener(container, 'mouseleave', _ => {\n            mouseOver = false;\n            updateAltState();\n        }));\n        this._register(addDisposableListener(container, 'mouseenter', _ => {\n            mouseOver = true;\n            updateAltState();\n        }));\n    }\n    updateLabel() {\n        if (this.options.label && this.label) {\n            this.label.textContent = this._commandAction.label;\n        }\n    }\n    getTooltip() {\n        var _a;\n        const keybinding = this._keybindingService.lookupKeybinding(this._commandAction.id, this._contextKeyService);\n        const keybindingLabel = keybinding && keybinding.getLabel();\n        const tooltip = this._commandAction.tooltip || this._commandAction.label;\n        let title = keybindingLabel\n            ? localize('titleAndKb', \"{0} ({1})\", tooltip, keybindingLabel)\n            : tooltip;\n        if (!this._wantsAltCommand && ((_a = this._menuItemAction.alt) === null || _a === void 0 ? void 0 : _a.enabled)) {\n            const altTooltip = this._menuItemAction.alt.tooltip || this._menuItemAction.alt.label;\n            const altKeybinding = this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id, this._contextKeyService);\n            const altKeybindingLabel = altKeybinding && altKeybinding.getLabel();\n            const altTitleSection = altKeybindingLabel\n                ? localize('titleAndKb', \"{0} ({1})\", altTooltip, altKeybindingLabel)\n                : altTooltip;\n            title = localize('titleAndKbAndAlt', \"{0}\\n[{1}] {2}\", title, UILabelProvider.modifierLabels[OS].altKey, altTitleSection);\n        }\n        return title;\n    }\n    updateClass() {\n        if (this.options.icon) {\n            if (this._commandAction !== this._menuItemAction) {\n                if (this._menuItemAction.alt) {\n                    this._updateItemClass(this._menuItemAction.alt.item);\n                }\n            }\n            else {\n                this._updateItemClass(this._menuItemAction.item);\n            }\n        }\n    }\n    _updateItemClass(item) {\n        this._itemClassDispose.value = undefined;\n        const { element, label } = this;\n        if (!element || !label) {\n            return;\n        }\n        const icon = this._commandAction.checked && isICommandActionToggleInfo(item.toggled) && item.toggled.icon ? item.toggled.icon : item.icon;\n        if (!icon) {\n            return;\n        }\n        if (ThemeIcon.isThemeIcon(icon)) {\n            // theme icons\n            const iconClasses = ThemeIcon.asClassNameArray(icon);\n            label.classList.add(...iconClasses);\n            this._itemClassDispose.value = toDisposable(() => {\n                label.classList.remove(...iconClasses);\n            });\n        }\n        else {\n            // icon path/url\n            label.style.backgroundImage = (isDark(this._themeService.getColorTheme().type)\n                ? asCSSUrl(icon.dark)\n                : asCSSUrl(icon.light));\n            label.classList.add('icon');\n            this._itemClassDispose.value = combinedDisposable(toDisposable(() => {\n                label.style.backgroundImage = '';\n                label.classList.remove('icon');\n            }), this._themeService.onDidColorThemeChange(() => {\n                // refresh when the theme changes in case we go between dark <-> light\n                this.updateClass();\n            }));\n        }\n    }\n};\nMenuEntryActionViewItem = __decorate([\n    __param(2, IKeybindingService),\n    __param(3, INotificationService),\n    __param(4, IContextKeyService),\n    __param(5, IThemeService),\n    __param(6, IContextMenuService)\n], MenuEntryActionViewItem);\nexport { MenuEntryActionViewItem };\nlet SubmenuEntryActionViewItem = class SubmenuEntryActionViewItem extends DropdownMenuActionViewItem {\n    constructor(action, options, _contextMenuService, _themeService) {\n        var _a, _b;\n        const dropdownOptions = Object.assign({}, options !== null && options !== void 0 ? options : Object.create(null), {\n            menuAsChild: (_a = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _a !== void 0 ? _a : false,\n            classNames: (_b = options === null || options === void 0 ? void 0 : options.classNames) !== null && _b !== void 0 ? _b : (ThemeIcon.isThemeIcon(action.item.icon) ? ThemeIcon.asClassName(action.item.icon) : undefined),\n        });\n        super(action, { getActions: () => action.actions }, _contextMenuService, dropdownOptions);\n        this._contextMenuService = _contextMenuService;\n        this._themeService = _themeService;\n    }\n    render(container) {\n        super.render(container);\n        assertType(this.element);\n        container.classList.add('menu-entry');\n        const action = this._action;\n        const { icon } = action.item;\n        if (icon && !ThemeIcon.isThemeIcon(icon)) {\n            this.element.classList.add('icon');\n            const setBackgroundImage = () => {\n                if (this.element) {\n                    this.element.style.backgroundImage = (isDark(this._themeService.getColorTheme().type)\n                        ? asCSSUrl(icon.dark)\n                        : asCSSUrl(icon.light));\n                }\n            };\n            setBackgroundImage();\n            this._register(this._themeService.onDidColorThemeChange(() => {\n                // refresh when the theme changes in case we go between dark <-> light\n                setBackgroundImage();\n            }));\n        }\n    }\n};\nSubmenuEntryActionViewItem = __decorate([\n    __param(2, IContextMenuService),\n    __param(3, IThemeService)\n], SubmenuEntryActionViewItem);\nexport { SubmenuEntryActionViewItem };\nlet DropdownWithDefaultActionViewItem = class DropdownWithDefaultActionViewItem extends BaseActionViewItem {\n    constructor(submenuAction, options, _keybindingService, _notificationService, _contextMenuService, _menuService, _instaService, _storageService) {\n        var _a, _b, _c;\n        super(null, submenuAction);\n        this._keybindingService = _keybindingService;\n        this._notificationService = _notificationService;\n        this._contextMenuService = _contextMenuService;\n        this._menuService = _menuService;\n        this._instaService = _instaService;\n        this._storageService = _storageService;\n        this._container = null;\n        this._options = options;\n        this._storageKey = `${submenuAction.item.submenu.id}_lastActionId`;\n        // determine default action\n        let defaultAction;\n        const defaultActionId = _storageService.get(this._storageKey, 1 /* StorageScope.WORKSPACE */);\n        if (defaultActionId) {\n            defaultAction = submenuAction.actions.find(a => defaultActionId === a.id);\n        }\n        if (!defaultAction) {\n            defaultAction = submenuAction.actions[0];\n        }\n        this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, defaultAction, { keybinding: this._getDefaultActionKeybindingLabel(defaultAction) });\n        const dropdownOptions = Object.assign({}, options !== null && options !== void 0 ? options : Object.create(null), {\n            menuAsChild: (_a = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _a !== void 0 ? _a : true,\n            classNames: (_b = options === null || options === void 0 ? void 0 : options.classNames) !== null && _b !== void 0 ? _b : ['codicon', 'codicon-chevron-down'],\n            actionRunner: (_c = options === null || options === void 0 ? void 0 : options.actionRunner) !== null && _c !== void 0 ? _c : new ActionRunner()\n        });\n        this._dropdown = new DropdownMenuActionViewItem(submenuAction, submenuAction.actions, this._contextMenuService, dropdownOptions);\n        this._dropdown.actionRunner.onDidRun((e) => {\n            if (e.action instanceof MenuItemAction) {\n                this.update(e.action);\n            }\n        });\n    }\n    update(lastAction) {\n        this._storageService.store(this._storageKey, lastAction.id, 1 /* StorageScope.WORKSPACE */, 0 /* StorageTarget.USER */);\n        this._defaultAction.dispose();\n        this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, lastAction, { keybinding: this._getDefaultActionKeybindingLabel(lastAction) });\n        this._defaultAction.actionRunner = new class extends ActionRunner {\n            runAction(action, context) {\n                return __awaiter(this, void 0, void 0, function* () {\n                    yield action.run(undefined);\n                });\n            }\n        }();\n        if (this._container) {\n            this._defaultAction.render(prepend(this._container, $('.action-container')));\n        }\n    }\n    _getDefaultActionKeybindingLabel(defaultAction) {\n        var _a;\n        let defaultActionKeybinding;\n        if ((_a = this._options) === null || _a === void 0 ? void 0 : _a.renderKeybindingWithDefaultActionLabel) {\n            const kb = this._keybindingService.lookupKeybinding(defaultAction.id);\n            if (kb) {\n                defaultActionKeybinding = `(${kb.getLabel()})`;\n            }\n        }\n        return defaultActionKeybinding;\n    }\n    setActionContext(newContext) {\n        super.setActionContext(newContext);\n        this._defaultAction.setActionContext(newContext);\n        this._dropdown.setActionContext(newContext);\n    }\n    render(container) {\n        this._container = container;\n        super.render(this._container);\n        this._container.classList.add('monaco-dropdown-with-default');\n        const primaryContainer = $('.action-container');\n        this._defaultAction.render(append(this._container, primaryContainer));\n        this._register(addDisposableListener(primaryContainer, EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(17 /* KeyCode.RightArrow */)) {\n                this._defaultAction.element.tabIndex = -1;\n                this._dropdown.focus();\n                event.stopPropagation();\n            }\n        }));\n        const dropdownContainer = $('.dropdown-action-container');\n        this._dropdown.render(append(this._container, dropdownContainer));\n        this._register(addDisposableListener(dropdownContainer, EventType.KEY_DOWN, (e) => {\n            var _a;\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                this._defaultAction.element.tabIndex = 0;\n                this._dropdown.setFocusable(false);\n                (_a = this._defaultAction.element) === null || _a === void 0 ? void 0 : _a.focus();\n                event.stopPropagation();\n            }\n        }));\n    }\n    focus(fromRight) {\n        if (fromRight) {\n            this._dropdown.focus();\n        }\n        else {\n            this._defaultAction.element.tabIndex = 0;\n            this._defaultAction.element.focus();\n        }\n    }\n    blur() {\n        this._defaultAction.element.tabIndex = -1;\n        this._dropdown.blur();\n        this._container.blur();\n    }\n    setFocusable(focusable) {\n        if (focusable) {\n            this._defaultAction.element.tabIndex = 0;\n        }\n        else {\n            this._defaultAction.element.tabIndex = -1;\n            this._dropdown.setFocusable(false);\n        }\n    }\n    dispose() {\n        this._defaultAction.dispose();\n        this._dropdown.dispose();\n        super.dispose();\n    }\n};\nDropdownWithDefaultActionViewItem = __decorate([\n    __param(2, IKeybindingService),\n    __param(3, INotificationService),\n    __param(4, IContextMenuService),\n    __param(5, IMenuService),\n    __param(6, IInstantiationService),\n    __param(7, IStorageService)\n], DropdownWithDefaultActionViewItem);\nexport { DropdownWithDefaultActionViewItem };\nlet SubmenuEntrySelectActionViewItem = class SubmenuEntrySelectActionViewItem extends SelectActionViewItem {\n    constructor(action, contextViewService) {\n        super(null, action, action.actions.map(a => ({\n            text: a.id === Separator.ID ? '\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500' : a.label,\n            isDisabled: !a.enabled,\n        })), 0, contextViewService, defaultSelectBoxStyles, { ariaLabel: action.tooltip, optionsAsChildren: true });\n        this.select(Math.max(0, action.actions.findIndex(a => a.checked)));\n    }\n    render(container) {\n        super.render(container);\n        container.style.borderColor = asCssVariable(selectBorder);\n    }\n    runAction(option, index) {\n        const action = this.action.actions[index];\n        if (action) {\n            this.actionRunner.run(action);\n        }\n    }\n};\nSubmenuEntrySelectActionViewItem = __decorate([\n    __param(1, IContextViewService)\n], SubmenuEntrySelectActionViewItem);\n/**\n * Creates action view items for menu actions or submenu actions.\n */\nexport function createActionViewItem(instaService, action, options) {\n    if (action instanceof MenuItemAction) {\n        return instaService.createInstance(MenuEntryActionViewItem, action, options);\n    }\n    else if (action instanceof SubmenuItemAction) {\n        if (action.item.isSelection) {\n            return instaService.createInstance(SubmenuEntrySelectActionViewItem, action);\n        }\n        else {\n            if (action.item.rememberDefaultAction) {\n                return instaService.createInstance(DropdownWithDefaultActionViewItem, action, options);\n            }\n            else {\n                return instaService.createInstance(SubmenuEntryActionViewItem, action, options);\n            }\n        }\n    }\n    else {\n        return undefined;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function isICommandActionToggleInfo(thing) {\n    return thing ? thing.condition !== undefined : false;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { addDisposableListener } from '../../../base/browser/dom.js';\nimport { ToolBar } from '../../../base/browser/ui/toolbar/toolbar.js';\nimport { Separator, toAction } from '../../../base/common/actions.js';\nimport { coalesceInPlace } from '../../../base/common/arrays.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { localize } from '../../../nls.js';\nimport { IMenuService, MenuItemAction, SubmenuItemAction } from '../common/actions.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../contextview/browser/contextView.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\n/**\n * The `WorkbenchToolBar` does\n * - support hiding of menu items\n * - lookup keybindings for each actions automatically\n * - send `workbenchActionExecuted`-events for each action\n *\n * See {@link MenuWorkbenchToolBar} for a toolbar that is backed by a menu.\n */\nlet WorkbenchToolBar = class WorkbenchToolBar extends ToolBar {\n    constructor(container, _options, _menuService, _contextKeyService, _contextMenuService, keybindingService, telemetryService) {\n        super(container, _contextMenuService, Object.assign(Object.assign({ \n            // defaults\n            getKeyBinding: (action) => { var _a; return (_a = keybindingService.lookupKeybinding(action.id)) !== null && _a !== void 0 ? _a : undefined; } }, _options), { \n            // mandatory (overide options)\n            allowContextMenu: true }));\n        this._options = _options;\n        this._menuService = _menuService;\n        this._contextKeyService = _contextKeyService;\n        this._contextMenuService = _contextMenuService;\n        this._sessionDisposables = this._store.add(new DisposableStore());\n        // telemetry logic\n        if (_options === null || _options === void 0 ? void 0 : _options.telemetrySource) {\n            this._store.add(this.actionBar.onDidRun(e => telemetryService.publicLog2('workbenchActionExecuted', { id: e.action.id, from: _options.telemetrySource })));\n        }\n    }\n    setActions(_primary, _secondary = [], menuIds) {\n        var _a, _b, _c;\n        this._sessionDisposables.clear();\n        const primary = _primary.slice();\n        const secondary = _secondary.slice();\n        const toggleActions = [];\n        let toggleActionsCheckedCount = 0;\n        const extraSecondary = [];\n        let someAreHidden = false;\n        // unless disabled, move all hidden items to secondary group or ignore them\n        if (((_a = this._options) === null || _a === void 0 ? void 0 : _a.hiddenItemStrategy) !== -1 /* HiddenItemStrategy.NoHide */) {\n            for (let i = 0; i < primary.length; i++) {\n                const action = primary[i];\n                if (!(action instanceof MenuItemAction) && !(action instanceof SubmenuItemAction)) {\n                    // console.warn(`Action ${action.id}/${action.label} is not a MenuItemAction`);\n                    continue;\n                }\n                if (!action.hideActions) {\n                    continue;\n                }\n                // collect all toggle actions\n                toggleActions.push(action.hideActions.toggle);\n                if (action.hideActions.toggle.checked) {\n                    toggleActionsCheckedCount++;\n                }\n                // hidden items move into overflow or ignore\n                if (action.hideActions.isHidden) {\n                    someAreHidden = true;\n                    primary[i] = undefined;\n                    if (((_b = this._options) === null || _b === void 0 ? void 0 : _b.hiddenItemStrategy) !== 0 /* HiddenItemStrategy.Ignore */) {\n                        extraSecondary[i] = action;\n                    }\n                }\n            }\n        }\n        // count for max\n        if (((_c = this._options) === null || _c === void 0 ? void 0 : _c.maxNumberOfItems) !== undefined) {\n            let count = 0;\n            for (let i = 0; i < primary.length; i++) {\n                const action = primary[i];\n                if (!action) {\n                    continue;\n                }\n                if (++count >= this._options.maxNumberOfItems) {\n                    primary[i] = undefined;\n                    extraSecondary[i] = action;\n                }\n            }\n        }\n        coalesceInPlace(primary);\n        coalesceInPlace(extraSecondary);\n        super.setActions(primary, Separator.join(extraSecondary, secondary));\n        // add context menu for toggle actions\n        if (toggleActions.length > 0) {\n            this._sessionDisposables.add(addDisposableListener(this.getElement(), 'contextmenu', e => {\n                var _a, _b, _c, _d;\n                const action = this.getItemAction(e.target);\n                if (!(action)) {\n                    return;\n                }\n                e.preventDefault();\n                e.stopPropagation();\n                let noHide = false;\n                // last item cannot be hidden when using ignore strategy\n                if (toggleActionsCheckedCount === 1 && ((_a = this._options) === null || _a === void 0 ? void 0 : _a.hiddenItemStrategy) === 0 /* HiddenItemStrategy.Ignore */) {\n                    noHide = true;\n                    for (let i = 0; i < toggleActions.length; i++) {\n                        if (toggleActions[i].checked) {\n                            toggleActions[i] = toAction({\n                                id: action.id,\n                                label: action.label,\n                                checked: true,\n                                enabled: false,\n                                run() { }\n                            });\n                            break; // there is only one\n                        }\n                    }\n                }\n                // add \"hide foo\" actions\n                let hideAction;\n                if (!noHide && (action instanceof MenuItemAction || action instanceof SubmenuItemAction)) {\n                    if (!action.hideActions) {\n                        // no context menu for MenuItemAction instances that support no hiding\n                        // those are fake actions and need to be cleaned up\n                        return;\n                    }\n                    hideAction = action.hideActions.hide;\n                }\n                else {\n                    hideAction = toAction({\n                        id: 'label',\n                        label: localize('hide', \"Hide\"),\n                        enabled: false,\n                        run() { }\n                    });\n                }\n                const actions = Separator.join([hideAction], toggleActions);\n                // add \"Reset Menu\" action\n                if (((_b = this._options) === null || _b === void 0 ? void 0 : _b.resetMenu) && !menuIds) {\n                    menuIds = [this._options.resetMenu];\n                }\n                if (someAreHidden && menuIds) {\n                    actions.push(new Separator());\n                    actions.push(toAction({\n                        id: 'resetThisMenu',\n                        label: localize('resetThisMenu', \"Reset Menu\"),\n                        run: () => this._menuService.resetHiddenStates(menuIds)\n                    }));\n                }\n                this._contextMenuService.showContextMenu({\n                    getAnchor: () => e,\n                    getActions: () => actions,\n                    // add context menu actions (iff appicable)\n                    menuId: (_c = this._options) === null || _c === void 0 ? void 0 : _c.contextMenu,\n                    menuActionOptions: Object.assign({ renderShortTitle: true }, (_d = this._options) === null || _d === void 0 ? void 0 : _d.menuOptions),\n                    contextKeyService: this._contextKeyService,\n                });\n            }));\n        }\n    }\n};\nWorkbenchToolBar = __decorate([\n    __param(2, IMenuService),\n    __param(3, IContextKeyService),\n    __param(4, IContextMenuService),\n    __param(5, IKeybindingService),\n    __param(6, ITelemetryService)\n], WorkbenchToolBar);\nexport { WorkbenchToolBar };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { SubmenuAction } from '../../../base/common/actions.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport { MicrotaskEmitter } from '../../../base/common/event.js';\nimport { DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\nimport { CommandsRegistry, ICommandService } from '../../commands/common/commands.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nimport { KeybindingsRegistry } from '../../keybinding/common/keybindingsRegistry.js';\nexport function isIMenuItem(item) {\n    return item.command !== undefined;\n}\nexport function isISubmenuItem(item) {\n    return item.submenu !== undefined;\n}\nclass MenuId {\n    /**\n     * Create a new `MenuId` with the unique identifier. Will throw if a menu\n     * with the identifier already exists, use `MenuId.for(ident)` or a unique\n     * identifier\n     */\n    constructor(identifier) {\n        if (MenuId._instances.has(identifier)) {\n            throw new TypeError(`MenuId with identifier '${identifier}' already exists. Use MenuId.for(ident) or a unique identifier`);\n        }\n        MenuId._instances.set(identifier, this);\n        this.id = identifier;\n    }\n}\nMenuId._instances = new Map();\nMenuId.CommandPalette = new MenuId('CommandPalette');\nMenuId.DebugBreakpointsContext = new MenuId('DebugBreakpointsContext');\nMenuId.DebugCallStackContext = new MenuId('DebugCallStackContext');\nMenuId.DebugConsoleContext = new MenuId('DebugConsoleContext');\nMenuId.DebugVariablesContext = new MenuId('DebugVariablesContext');\nMenuId.DebugWatchContext = new MenuId('DebugWatchContext');\nMenuId.DebugToolBar = new MenuId('DebugToolBar');\nMenuId.DebugToolBarStop = new MenuId('DebugToolBarStop');\nMenuId.EditorContext = new MenuId('EditorContext');\nMenuId.SimpleEditorContext = new MenuId('SimpleEditorContext');\nMenuId.EditorContent = new MenuId('EditorContent');\nMenuId.EditorContextCopy = new MenuId('EditorContextCopy');\nMenuId.EditorContextPeek = new MenuId('EditorContextPeek');\nMenuId.EditorContextShare = new MenuId('EditorContextShare');\nMenuId.EditorTitle = new MenuId('EditorTitle');\nMenuId.EditorTitleRun = new MenuId('EditorTitleRun');\nMenuId.EditorTitleContext = new MenuId('EditorTitleContext');\nMenuId.EmptyEditorGroup = new MenuId('EmptyEditorGroup');\nMenuId.EmptyEditorGroupContext = new MenuId('EmptyEditorGroupContext');\nMenuId.ExplorerContext = new MenuId('ExplorerContext');\nMenuId.ExtensionContext = new MenuId('ExtensionContext');\nMenuId.GlobalActivity = new MenuId('GlobalActivity');\nMenuId.CommandCenter = new MenuId('CommandCenter');\nMenuId.LayoutControlMenuSubmenu = new MenuId('LayoutControlMenuSubmenu');\nMenuId.LayoutControlMenu = new MenuId('LayoutControlMenu');\nMenuId.MenubarMainMenu = new MenuId('MenubarMainMenu');\nMenuId.MenubarAppearanceMenu = new MenuId('MenubarAppearanceMenu');\nMenuId.MenubarDebugMenu = new MenuId('MenubarDebugMenu');\nMenuId.MenubarEditMenu = new MenuId('MenubarEditMenu');\nMenuId.MenubarCopy = new MenuId('MenubarCopy');\nMenuId.MenubarFileMenu = new MenuId('MenubarFileMenu');\nMenuId.MenubarGoMenu = new MenuId('MenubarGoMenu');\nMenuId.MenubarHelpMenu = new MenuId('MenubarHelpMenu');\nMenuId.MenubarLayoutMenu = new MenuId('MenubarLayoutMenu');\nMenuId.MenubarNewBreakpointMenu = new MenuId('MenubarNewBreakpointMenu');\nMenuId.PanelAlignmentMenu = new MenuId('PanelAlignmentMenu');\nMenuId.PanelPositionMenu = new MenuId('PanelPositionMenu');\nMenuId.MenubarPreferencesMenu = new MenuId('MenubarPreferencesMenu');\nMenuId.MenubarRecentMenu = new MenuId('MenubarRecentMenu');\nMenuId.MenubarSelectionMenu = new MenuId('MenubarSelectionMenu');\nMenuId.MenubarShare = new MenuId('MenubarShare');\nMenuId.MenubarSwitchEditorMenu = new MenuId('MenubarSwitchEditorMenu');\nMenuId.MenubarSwitchGroupMenu = new MenuId('MenubarSwitchGroupMenu');\nMenuId.MenubarTerminalMenu = new MenuId('MenubarTerminalMenu');\nMenuId.MenubarViewMenu = new MenuId('MenubarViewMenu');\nMenuId.MenubarHomeMenu = new MenuId('MenubarHomeMenu');\nMenuId.OpenEditorsContext = new MenuId('OpenEditorsContext');\nMenuId.ProblemsPanelContext = new MenuId('ProblemsPanelContext');\nMenuId.SCMChangeContext = new MenuId('SCMChangeContext');\nMenuId.SCMResourceContext = new MenuId('SCMResourceContext');\nMenuId.SCMResourceFolderContext = new MenuId('SCMResourceFolderContext');\nMenuId.SCMResourceGroupContext = new MenuId('SCMResourceGroupContext');\nMenuId.SCMSourceControl = new MenuId('SCMSourceControl');\nMenuId.SCMTitle = new MenuId('SCMTitle');\nMenuId.SearchContext = new MenuId('SearchContext');\nMenuId.SearchActionMenu = new MenuId('SearchActionContext');\nMenuId.StatusBarWindowIndicatorMenu = new MenuId('StatusBarWindowIndicatorMenu');\nMenuId.StatusBarRemoteIndicatorMenu = new MenuId('StatusBarRemoteIndicatorMenu');\nMenuId.StickyScrollContext = new MenuId('StickyScrollContext');\nMenuId.TestItem = new MenuId('TestItem');\nMenuId.TestItemGutter = new MenuId('TestItemGutter');\nMenuId.TestPeekElement = new MenuId('TestPeekElement');\nMenuId.TestPeekTitle = new MenuId('TestPeekTitle');\nMenuId.TouchBarContext = new MenuId('TouchBarContext');\nMenuId.TitleBarContext = new MenuId('TitleBarContext');\nMenuId.TitleBarTitleContext = new MenuId('TitleBarTitleContext');\nMenuId.TunnelContext = new MenuId('TunnelContext');\nMenuId.TunnelPrivacy = new MenuId('TunnelPrivacy');\nMenuId.TunnelProtocol = new MenuId('TunnelProtocol');\nMenuId.TunnelPortInline = new MenuId('TunnelInline');\nMenuId.TunnelTitle = new MenuId('TunnelTitle');\nMenuId.TunnelLocalAddressInline = new MenuId('TunnelLocalAddressInline');\nMenuId.TunnelOriginInline = new MenuId('TunnelOriginInline');\nMenuId.ViewItemContext = new MenuId('ViewItemContext');\nMenuId.ViewContainerTitle = new MenuId('ViewContainerTitle');\nMenuId.ViewContainerTitleContext = new MenuId('ViewContainerTitleContext');\nMenuId.ViewTitle = new MenuId('ViewTitle');\nMenuId.ViewTitleContext = new MenuId('ViewTitleContext');\nMenuId.CommentEditorActions = new MenuId('CommentEditorActions');\nMenuId.CommentThreadTitle = new MenuId('CommentThreadTitle');\nMenuId.CommentThreadActions = new MenuId('CommentThreadActions');\nMenuId.CommentThreadAdditionalActions = new MenuId('CommentThreadAdditionalActions');\nMenuId.CommentThreadTitleContext = new MenuId('CommentThreadTitleContext');\nMenuId.CommentThreadCommentContext = new MenuId('CommentThreadCommentContext');\nMenuId.CommentTitle = new MenuId('CommentTitle');\nMenuId.CommentActions = new MenuId('CommentActions');\nMenuId.InteractiveToolbar = new MenuId('InteractiveToolbar');\nMenuId.InteractiveCellTitle = new MenuId('InteractiveCellTitle');\nMenuId.InteractiveCellDelete = new MenuId('InteractiveCellDelete');\nMenuId.InteractiveCellExecute = new MenuId('InteractiveCellExecute');\nMenuId.InteractiveInputExecute = new MenuId('InteractiveInputExecute');\nMenuId.NotebookToolbar = new MenuId('NotebookToolbar');\nMenuId.NotebookCellTitle = new MenuId('NotebookCellTitle');\nMenuId.NotebookCellDelete = new MenuId('NotebookCellDelete');\nMenuId.NotebookCellInsert = new MenuId('NotebookCellInsert');\nMenuId.NotebookCellBetween = new MenuId('NotebookCellBetween');\nMenuId.NotebookCellListTop = new MenuId('NotebookCellTop');\nMenuId.NotebookCellExecute = new MenuId('NotebookCellExecute');\nMenuId.NotebookCellExecutePrimary = new MenuId('NotebookCellExecutePrimary');\nMenuId.NotebookDiffCellInputTitle = new MenuId('NotebookDiffCellInputTitle');\nMenuId.NotebookDiffCellMetadataTitle = new MenuId('NotebookDiffCellMetadataTitle');\nMenuId.NotebookDiffCellOutputsTitle = new MenuId('NotebookDiffCellOutputsTitle');\nMenuId.NotebookOutputToolbar = new MenuId('NotebookOutputToolbar');\nMenuId.NotebookEditorLayoutConfigure = new MenuId('NotebookEditorLayoutConfigure');\nMenuId.NotebookKernelSource = new MenuId('NotebookKernelSource');\nMenuId.BulkEditTitle = new MenuId('BulkEditTitle');\nMenuId.BulkEditContext = new MenuId('BulkEditContext');\nMenuId.TimelineItemContext = new MenuId('TimelineItemContext');\nMenuId.TimelineTitle = new MenuId('TimelineTitle');\nMenuId.TimelineTitleContext = new MenuId('TimelineTitleContext');\nMenuId.TimelineFilterSubMenu = new MenuId('TimelineFilterSubMenu');\nMenuId.AccountsContext = new MenuId('AccountsContext');\nMenuId.PanelTitle = new MenuId('PanelTitle');\nMenuId.AuxiliaryBarTitle = new MenuId('AuxiliaryBarTitle');\nMenuId.TerminalInstanceContext = new MenuId('TerminalInstanceContext');\nMenuId.TerminalEditorInstanceContext = new MenuId('TerminalEditorInstanceContext');\nMenuId.TerminalNewDropdownContext = new MenuId('TerminalNewDropdownContext');\nMenuId.TerminalTabContext = new MenuId('TerminalTabContext');\nMenuId.TerminalTabEmptyAreaContext = new MenuId('TerminalTabEmptyAreaContext');\nMenuId.TerminalInlineTabContext = new MenuId('TerminalInlineTabContext');\nMenuId.WebviewContext = new MenuId('WebviewContext');\nMenuId.InlineCompletionsActions = new MenuId('InlineCompletionsActions');\nMenuId.NewFile = new MenuId('NewFile');\nMenuId.MergeInput1Toolbar = new MenuId('MergeToolbar1Toolbar');\nMenuId.MergeInput2Toolbar = new MenuId('MergeToolbar2Toolbar');\nMenuId.MergeBaseToolbar = new MenuId('MergeBaseToolbar');\nMenuId.MergeInputResultToolbar = new MenuId('MergeToolbarResultToolbar');\nMenuId.InlineSuggestionToolbar = new MenuId('InlineSuggestionToolbar');\nexport { MenuId };\nexport const IMenuService = createDecorator('menuService');\nclass MenuRegistryChangeEvent {\n    static for(id) {\n        let value = this._all.get(id);\n        if (!value) {\n            value = new MenuRegistryChangeEvent(id);\n            this._all.set(id, value);\n        }\n        return value;\n    }\n    static merge(events) {\n        const ids = new Set();\n        for (const item of events) {\n            if (item instanceof MenuRegistryChangeEvent) {\n                ids.add(item.id);\n            }\n        }\n        return ids;\n    }\n    constructor(id) {\n        this.id = id;\n        this.has = candidate => candidate === id;\n    }\n}\nMenuRegistryChangeEvent._all = new Map();\nexport const MenuRegistry = new class {\n    constructor() {\n        this._commands = new Map();\n        this._menuItems = new Map();\n        this._onDidChangeMenu = new MicrotaskEmitter({\n            merge: MenuRegistryChangeEvent.merge\n        });\n        this.onDidChangeMenu = this._onDidChangeMenu.event;\n    }\n    addCommand(command) {\n        this._commands.set(command.id, command);\n        this._onDidChangeMenu.fire(MenuRegistryChangeEvent.for(MenuId.CommandPalette));\n        return toDisposable(() => {\n            if (this._commands.delete(command.id)) {\n                this._onDidChangeMenu.fire(MenuRegistryChangeEvent.for(MenuId.CommandPalette));\n            }\n        });\n    }\n    getCommand(id) {\n        return this._commands.get(id);\n    }\n    getCommands() {\n        const map = new Map();\n        this._commands.forEach((value, key) => map.set(key, value));\n        return map;\n    }\n    appendMenuItem(id, item) {\n        let list = this._menuItems.get(id);\n        if (!list) {\n            list = new LinkedList();\n            this._menuItems.set(id, list);\n        }\n        const rm = list.push(item);\n        this._onDidChangeMenu.fire(MenuRegistryChangeEvent.for(id));\n        return toDisposable(rm);\n    }\n    appendMenuItems(items) {\n        const result = new DisposableStore();\n        for (const { id, item } of items) {\n            result.add(this.appendMenuItem(id, item));\n        }\n        return result;\n    }\n    getMenuItems(id) {\n        let result;\n        if (this._menuItems.has(id)) {\n            result = [...this._menuItems.get(id)];\n        }\n        else {\n            result = [];\n        }\n        if (id === MenuId.CommandPalette) {\n            // CommandPalette is special because it shows\n            // all commands by default\n            this._appendImplicitItems(result);\n        }\n        return result;\n    }\n    _appendImplicitItems(result) {\n        const set = new Set();\n        for (const item of result) {\n            if (isIMenuItem(item)) {\n                set.add(item.command.id);\n                if (item.alt) {\n                    set.add(item.alt.id);\n                }\n            }\n        }\n        this._commands.forEach((command, id) => {\n            if (!set.has(id)) {\n                result.push({ command });\n            }\n        });\n    }\n};\nexport class SubmenuItemAction extends SubmenuAction {\n    constructor(item, hideActions, actions) {\n        super(`submenuitem.${item.submenu.id}`, typeof item.title === 'string' ? item.title : item.title.value, actions, 'submenu');\n        this.item = item;\n        this.hideActions = hideActions;\n    }\n}\n// implements IAction, does NOT extend Action, so that no one\n// subscribes to events of Action or modified properties\nlet MenuItemAction = class MenuItemAction {\n    static label(action, options) {\n        return (options === null || options === void 0 ? void 0 : options.renderShortTitle) && action.shortTitle\n            ? (typeof action.shortTitle === 'string' ? action.shortTitle : action.shortTitle.value)\n            : (typeof action.title === 'string' ? action.title : action.title.value);\n    }\n    constructor(item, alt, options, hideActions, contextKeyService, _commandService) {\n        var _a, _b;\n        this.hideActions = hideActions;\n        this._commandService = _commandService;\n        this.id = item.id;\n        this.label = MenuItemAction.label(item, options);\n        this.tooltip = (_b = (typeof item.tooltip === 'string' ? item.tooltip : (_a = item.tooltip) === null || _a === void 0 ? void 0 : _a.value)) !== null && _b !== void 0 ? _b : '';\n        this.enabled = !item.precondition || contextKeyService.contextMatchesRules(item.precondition);\n        this.checked = undefined;\n        if (item.toggled) {\n            const toggled = (item.toggled.condition ? item.toggled : { condition: item.toggled });\n            this.checked = contextKeyService.contextMatchesRules(toggled.condition);\n            if (this.checked && toggled.tooltip) {\n                this.tooltip = typeof toggled.tooltip === 'string' ? toggled.tooltip : toggled.tooltip.value;\n            }\n            if (toggled.title) {\n                this.label = typeof toggled.title === 'string' ? toggled.title : toggled.title.value;\n            }\n        }\n        this.item = item;\n        this.alt = alt ? new MenuItemAction(alt, undefined, options, hideActions, contextKeyService, _commandService) : undefined;\n        this._options = options;\n        if (ThemeIcon.isThemeIcon(item.icon)) {\n            this.class = ThemeIcon.asClassName(item.icon);\n        }\n    }\n    run(...args) {\n        var _a, _b;\n        let runArgs = [];\n        if ((_a = this._options) === null || _a === void 0 ? void 0 : _a.arg) {\n            runArgs = [...runArgs, this._options.arg];\n        }\n        if ((_b = this._options) === null || _b === void 0 ? void 0 : _b.shouldForwardArgs) {\n            runArgs = [...runArgs, ...args];\n        }\n        return this._commandService.executeCommand(this.id, ...runArgs);\n    }\n};\nMenuItemAction = __decorate([\n    __param(4, IContextKeyService),\n    __param(5, ICommandService)\n], MenuItemAction);\nexport { MenuItemAction };\nexport class Action2 {\n    constructor(desc) {\n        this.desc = desc;\n    }\n}\nexport function registerAction2(ctor) {\n    const disposables = new DisposableStore();\n    const action = new ctor();\n    const _a = action.desc, { f1, menu, keybinding, description } = _a, command = __rest(_a, [\"f1\", \"menu\", \"keybinding\", \"description\"]);\n    // command\n    disposables.add(CommandsRegistry.registerCommand({\n        id: command.id,\n        handler: (accessor, ...args) => action.run(accessor, ...args),\n        description: description,\n    }));\n    // menu\n    if (Array.isArray(menu)) {\n        for (const item of menu) {\n            disposables.add(MenuRegistry.appendMenuItem(item.id, Object.assign({ command: Object.assign(Object.assign({}, command), { precondition: item.precondition === null ? undefined : command.precondition }) }, item)));\n        }\n    }\n    else if (menu) {\n        disposables.add(MenuRegistry.appendMenuItem(menu.id, Object.assign({ command: Object.assign(Object.assign({}, command), { precondition: menu.precondition === null ? undefined : command.precondition }) }, menu)));\n    }\n    if (f1) {\n        disposables.add(MenuRegistry.appendMenuItem(MenuId.CommandPalette, { command, when: command.precondition }));\n        disposables.add(MenuRegistry.addCommand(command));\n    }\n    // keybinding\n    if (Array.isArray(keybinding)) {\n        for (const item of keybinding) {\n            disposables.add(KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({}, item), { id: command.id, when: command.precondition ? ContextKeyExpr.and(command.precondition, item.when) : item.when })));\n        }\n    }\n    else if (keybinding) {\n        disposables.add(KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({}, keybinding), { id: command.id, when: command.precondition ? ContextKeyExpr.and(command.precondition, keybinding.when) : keybinding.when })));\n    }\n    return disposables;\n}\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { DebounceEmitter, Emitter } from '../../../base/common/event.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { isIMenuItem, isISubmenuItem, MenuItemAction, MenuRegistry, SubmenuItemAction } from './actions.js';\nimport { ICommandService } from '../../commands/common/commands.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { Separator, toAction } from '../../../base/common/actions.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { removeFastWithoutKeepingOrder } from '../../../base/common/arrays.js';\nimport { localize } from '../../../nls.js';\nlet MenuService = class MenuService {\n    constructor(_commandService, storageService) {\n        this._commandService = _commandService;\n        this._hiddenStates = new PersistedMenuHideState(storageService);\n    }\n    createMenu(id, contextKeyService, options) {\n        return new MenuImpl(id, this._hiddenStates, Object.assign({ emitEventsForSubmenuChanges: false, eventDebounceDelay: 50 }, options), this._commandService, contextKeyService);\n    }\n    resetHiddenStates(ids) {\n        this._hiddenStates.reset(ids);\n    }\n};\nMenuService = __decorate([\n    __param(0, ICommandService),\n    __param(1, IStorageService)\n], MenuService);\nexport { MenuService };\nlet PersistedMenuHideState = class PersistedMenuHideState {\n    constructor(_storageService) {\n        this._storageService = _storageService;\n        this._disposables = new DisposableStore();\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._ignoreChangeEvent = false;\n        this._hiddenByDefaultCache = new Map();\n        try {\n            const raw = _storageService.get(PersistedMenuHideState._key, 0 /* StorageScope.PROFILE */, '{}');\n            this._data = JSON.parse(raw);\n        }\n        catch (err) {\n            this._data = Object.create(null);\n        }\n        this._disposables.add(_storageService.onDidChangeValue(e => {\n            if (e.key !== PersistedMenuHideState._key) {\n                return;\n            }\n            if (!this._ignoreChangeEvent) {\n                try {\n                    const raw = _storageService.get(PersistedMenuHideState._key, 0 /* StorageScope.PROFILE */, '{}');\n                    this._data = JSON.parse(raw);\n                }\n                catch (err) {\n                    console.log('FAILED to read storage after UPDATE', err);\n                }\n            }\n            this._onDidChange.fire();\n        }));\n    }\n    dispose() {\n        this._onDidChange.dispose();\n        this._disposables.dispose();\n    }\n    _isHiddenByDefault(menu, commandId) {\n        var _a;\n        return (_a = this._hiddenByDefaultCache.get(`${menu.id}/${commandId}`)) !== null && _a !== void 0 ? _a : false;\n    }\n    setDefaultState(menu, commandId, hidden) {\n        this._hiddenByDefaultCache.set(`${menu.id}/${commandId}`, hidden);\n    }\n    isHidden(menu, commandId) {\n        var _a, _b;\n        const hiddenByDefault = this._isHiddenByDefault(menu, commandId);\n        const state = (_b = (_a = this._data[menu.id]) === null || _a === void 0 ? void 0 : _a.includes(commandId)) !== null && _b !== void 0 ? _b : false;\n        return hiddenByDefault ? !state : state;\n    }\n    updateHidden(menu, commandId, hidden) {\n        const hiddenByDefault = this._isHiddenByDefault(menu, commandId);\n        if (hiddenByDefault) {\n            hidden = !hidden;\n        }\n        const entries = this._data[menu.id];\n        if (!hidden) {\n            // remove and cleanup\n            if (entries) {\n                const idx = entries.indexOf(commandId);\n                if (idx >= 0) {\n                    removeFastWithoutKeepingOrder(entries, idx);\n                }\n                if (entries.length === 0) {\n                    delete this._data[menu.id];\n                }\n            }\n        }\n        else {\n            // add unless already added\n            if (!entries) {\n                this._data[menu.id] = [commandId];\n            }\n            else {\n                const idx = entries.indexOf(commandId);\n                if (idx < 0) {\n                    entries.push(commandId);\n                }\n            }\n        }\n        this._persist();\n    }\n    reset(menus) {\n        if (menus === undefined) {\n            // reset all\n            this._data = Object.create(null);\n            this._persist();\n        }\n        else {\n            // reset only for a specific menu\n            for (const { id } of menus) {\n                if (this._data[id]) {\n                    delete this._data[id];\n                }\n            }\n            this._persist();\n        }\n    }\n    _persist() {\n        try {\n            this._ignoreChangeEvent = true;\n            const raw = JSON.stringify(this._data);\n            this._storageService.store(PersistedMenuHideState._key, raw, 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n        }\n        finally {\n            this._ignoreChangeEvent = false;\n        }\n    }\n};\nPersistedMenuHideState._key = 'menu.hiddenCommands';\nPersistedMenuHideState = __decorate([\n    __param(0, IStorageService)\n], PersistedMenuHideState);\nlet MenuInfo = class MenuInfo {\n    constructor(_id, _hiddenStates, _collectContextKeysForSubmenus, _commandService, _contextKeyService) {\n        this._id = _id;\n        this._hiddenStates = _hiddenStates;\n        this._collectContextKeysForSubmenus = _collectContextKeysForSubmenus;\n        this._commandService = _commandService;\n        this._contextKeyService = _contextKeyService;\n        this._menuGroups = [];\n        this._structureContextKeys = new Set();\n        this._preconditionContextKeys = new Set();\n        this._toggledContextKeys = new Set();\n        this.refresh();\n    }\n    get structureContextKeys() {\n        return this._structureContextKeys;\n    }\n    get preconditionContextKeys() {\n        return this._preconditionContextKeys;\n    }\n    get toggledContextKeys() {\n        return this._toggledContextKeys;\n    }\n    refresh() {\n        // reset\n        this._menuGroups.length = 0;\n        this._structureContextKeys.clear();\n        this._preconditionContextKeys.clear();\n        this._toggledContextKeys.clear();\n        const menuItems = MenuRegistry.getMenuItems(this._id);\n        let group;\n        menuItems.sort(MenuInfo._compareMenuItems);\n        for (const item of menuItems) {\n            // group by groupId\n            const groupName = item.group || '';\n            if (!group || group[0] !== groupName) {\n                group = [groupName, []];\n                this._menuGroups.push(group);\n            }\n            group[1].push(item);\n            // keep keys for eventing\n            this._collectContextKeys(item);\n        }\n    }\n    _collectContextKeys(item) {\n        MenuInfo._fillInKbExprKeys(item.when, this._structureContextKeys);\n        if (isIMenuItem(item)) {\n            // keep precondition keys for event if applicable\n            if (item.command.precondition) {\n                MenuInfo._fillInKbExprKeys(item.command.precondition, this._preconditionContextKeys);\n            }\n            // keep toggled keys for event if applicable\n            if (item.command.toggled) {\n                const toggledExpression = item.command.toggled.condition || item.command.toggled;\n                MenuInfo._fillInKbExprKeys(toggledExpression, this._toggledContextKeys);\n            }\n        }\n        else if (this._collectContextKeysForSubmenus) {\n            // recursively collect context keys from submenus so that this\n            // menu fires events when context key changes affect submenus\n            MenuRegistry.getMenuItems(item.submenu).forEach(this._collectContextKeys, this);\n        }\n    }\n    createActionGroups(options) {\n        const result = [];\n        for (const group of this._menuGroups) {\n            const [id, items] = group;\n            const activeActions = [];\n            for (const item of items) {\n                if (this._contextKeyService.contextMatchesRules(item.when)) {\n                    const isMenuItem = isIMenuItem(item);\n                    if (isMenuItem) {\n                        this._hiddenStates.setDefaultState(this._id, item.command.id, !!item.isHiddenByDefault);\n                    }\n                    const menuHide = createMenuHide(this._id, isMenuItem ? item.command : item, this._hiddenStates);\n                    if (isMenuItem) {\n                        // MenuItemAction\n                        activeActions.push(new MenuItemAction(item.command, item.alt, options, menuHide, this._contextKeyService, this._commandService));\n                    }\n                    else {\n                        // SubmenuItemAction\n                        const groups = new MenuInfo(item.submenu, this._hiddenStates, this._collectContextKeysForSubmenus, this._commandService, this._contextKeyService).createActionGroups(options);\n                        const submenuActions = Separator.join(...groups.map(g => g[1]));\n                        if (submenuActions.length > 0) {\n                            activeActions.push(new SubmenuItemAction(item, menuHide, submenuActions));\n                        }\n                    }\n                }\n            }\n            if (activeActions.length > 0) {\n                result.push([id, activeActions]);\n            }\n        }\n        return result;\n    }\n    static _fillInKbExprKeys(exp, set) {\n        if (exp) {\n            for (const key of exp.keys()) {\n                set.add(key);\n            }\n        }\n    }\n    static _compareMenuItems(a, b) {\n        const aGroup = a.group;\n        const bGroup = b.group;\n        if (aGroup !== bGroup) {\n            // Falsy groups come last\n            if (!aGroup) {\n                return 1;\n            }\n            else if (!bGroup) {\n                return -1;\n            }\n            // 'navigation' group comes first\n            if (aGroup === 'navigation') {\n                return -1;\n            }\n            else if (bGroup === 'navigation') {\n                return 1;\n            }\n            // lexical sort for groups\n            const value = aGroup.localeCompare(bGroup);\n            if (value !== 0) {\n                return value;\n            }\n        }\n        // sort on priority - default is 0\n        const aPrio = a.order || 0;\n        const bPrio = b.order || 0;\n        if (aPrio < bPrio) {\n            return -1;\n        }\n        else if (aPrio > bPrio) {\n            return 1;\n        }\n        // sort on titles\n        return MenuInfo._compareTitles(isIMenuItem(a) ? a.command.title : a.title, isIMenuItem(b) ? b.command.title : b.title);\n    }\n    static _compareTitles(a, b) {\n        const aStr = typeof a === 'string' ? a : a.original;\n        const bStr = typeof b === 'string' ? b : b.original;\n        return aStr.localeCompare(bStr);\n    }\n};\nMenuInfo = __decorate([\n    __param(3, ICommandService),\n    __param(4, IContextKeyService)\n], MenuInfo);\nlet MenuImpl = class MenuImpl {\n    constructor(id, hiddenStates, options, commandService, contextKeyService) {\n        this._disposables = new DisposableStore();\n        this._menuInfo = new MenuInfo(id, hiddenStates, options.emitEventsForSubmenuChanges, commandService, contextKeyService);\n        // Rebuild this menu whenever the menu registry reports an event for this MenuId.\n        // This usually happen while code and extensions are loaded and affects the over\n        // structure of the menu\n        const rebuildMenuSoon = new RunOnceScheduler(() => {\n            this._menuInfo.refresh();\n            this._onDidChange.fire({ menu: this, isStructuralChange: true, isEnablementChange: true, isToggleChange: true });\n        }, options.eventDebounceDelay);\n        this._disposables.add(rebuildMenuSoon);\n        this._disposables.add(MenuRegistry.onDidChangeMenu(e => {\n            if (e.has(id)) {\n                rebuildMenuSoon.schedule();\n            }\n        }));\n        // When context keys or storage state changes we need to check if the menu also has changed. However,\n        // we only do that when someone listens on this menu because (1) these events are\n        // firing often and (2) menu are often leaked\n        const lazyListener = this._disposables.add(new DisposableStore());\n        const merge = (events) => {\n            let isStructuralChange = false;\n            let isEnablementChange = false;\n            let isToggleChange = false;\n            for (const item of events) {\n                isStructuralChange = isStructuralChange || item.isStructuralChange;\n                isEnablementChange = isEnablementChange || item.isEnablementChange;\n                isToggleChange = isToggleChange || item.isToggleChange;\n                if (isStructuralChange && isEnablementChange && isToggleChange) {\n                    // everything is TRUE, no need to continue iterating\n                    break;\n                }\n            }\n            return { menu: this, isStructuralChange, isEnablementChange, isToggleChange };\n        };\n        const startLazyListener = () => {\n            lazyListener.add(contextKeyService.onDidChangeContext(e => {\n                const isStructuralChange = e.affectsSome(this._menuInfo.structureContextKeys);\n                const isEnablementChange = e.affectsSome(this._menuInfo.preconditionContextKeys);\n                const isToggleChange = e.affectsSome(this._menuInfo.toggledContextKeys);\n                if (isStructuralChange || isEnablementChange || isToggleChange) {\n                    this._onDidChange.fire({ menu: this, isStructuralChange, isEnablementChange, isToggleChange });\n                }\n            }));\n            lazyListener.add(hiddenStates.onDidChange(e => {\n                this._onDidChange.fire({ menu: this, isStructuralChange: true, isEnablementChange: false, isToggleChange: false });\n            }));\n        };\n        this._onDidChange = new DebounceEmitter({\n            // start/stop context key listener\n            onWillAddFirstListener: startLazyListener,\n            onDidRemoveLastListener: lazyListener.clear.bind(lazyListener),\n            delay: options.eventDebounceDelay,\n            merge\n        });\n        this.onDidChange = this._onDidChange.event;\n    }\n    getActions(options) {\n        return this._menuInfo.createActionGroups(options);\n    }\n    dispose() {\n        this._disposables.dispose();\n        this._onDidChange.dispose();\n    }\n};\nMenuImpl = __decorate([\n    __param(3, ICommandService),\n    __param(4, IContextKeyService)\n], MenuImpl);\nfunction createMenuHide(menu, command, states) {\n    const id = isISubmenuItem(command) ? command.submenu.id : command.id;\n    const title = typeof command.title === 'string' ? command.title : command.title.value;\n    const hide = toAction({\n        id: `hide/${menu.id}/${id}`,\n        label: localize('hide.label', 'Hide \\'{0}\\'', title),\n        run() { states.updateHidden(menu, id, true); }\n    });\n    const toggle = toAction({\n        id: `toggle/${menu.id}/${id}`,\n        label: title,\n        get checked() { return !states.isHidden(menu, id); },\n        run() { states.updateHidden(menu, id, !!this.checked); }\n    });\n    return {\n        hide,\n        toggle,\n        get isHidden() { return !toggle.checked; },\n    };\n}\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nimport { localize } from '../../../nls.js';\nexport const IAudioCueService = createDecorator('audioCue');\n/**\n * Corresponds to the audio files in ./media.\n*/\nclass Sound {\n    static register(options) {\n        const sound = new Sound(options.fileName);\n        return sound;\n    }\n    constructor(fileName) {\n        this.fileName = fileName;\n    }\n}\nSound.error = Sound.register({ fileName: 'error.mp3' });\nSound.warning = Sound.register({ fileName: 'warning.mp3' });\nSound.foldedArea = Sound.register({ fileName: 'foldedAreas.mp3' });\nSound.break = Sound.register({ fileName: 'break.mp3' });\nSound.quickFixes = Sound.register({ fileName: 'quickFixes.mp3' });\nSound.taskCompleted = Sound.register({ fileName: 'taskCompleted.mp3' });\nSound.taskFailed = Sound.register({ fileName: 'taskFailed.mp3' });\nSound.terminalBell = Sound.register({ fileName: 'terminalBell.mp3' });\nSound.diffLineInserted = Sound.register({ fileName: 'diffLineInserted.mp3' });\nSound.diffLineDeleted = Sound.register({ fileName: 'diffLineDeleted.mp3' });\nSound.diffLineModified = Sound.register({ fileName: 'diffLineModified.mp3' });\nexport { Sound };\nclass AudioCue {\n    static register(options) {\n        const audioCue = new AudioCue(options.sound, options.name, options.settingsKey);\n        AudioCue._audioCues.add(audioCue);\n        return audioCue;\n    }\n    constructor(sound, name, settingsKey) {\n        this.sound = sound;\n        this.name = name;\n        this.settingsKey = settingsKey;\n    }\n}\nAudioCue._audioCues = new Set();\nAudioCue.error = AudioCue.register({\n    name: localize('audioCues.lineHasError.name', 'Error on Line'),\n    sound: Sound.error,\n    settingsKey: 'audioCues.lineHasError',\n});\nAudioCue.warning = AudioCue.register({\n    name: localize('audioCues.lineHasWarning.name', 'Warning on Line'),\n    sound: Sound.warning,\n    settingsKey: 'audioCues.lineHasWarning',\n});\nAudioCue.foldedArea = AudioCue.register({\n    name: localize('audioCues.lineHasFoldedArea.name', 'Folded Area on Line'),\n    sound: Sound.foldedArea,\n    settingsKey: 'audioCues.lineHasFoldedArea',\n});\nAudioCue.break = AudioCue.register({\n    name: localize('audioCues.lineHasBreakpoint.name', 'Breakpoint on Line'),\n    sound: Sound.break,\n    settingsKey: 'audioCues.lineHasBreakpoint',\n});\nAudioCue.inlineSuggestion = AudioCue.register({\n    name: localize('audioCues.lineHasInlineSuggestion.name', 'Inline Suggestion on Line'),\n    sound: Sound.quickFixes,\n    settingsKey: 'audioCues.lineHasInlineSuggestion',\n});\nAudioCue.terminalQuickFix = AudioCue.register({\n    name: localize('audioCues.terminalQuickFix.name', 'Terminal Quick Fix'),\n    sound: Sound.quickFixes,\n    settingsKey: 'audioCues.terminalQuickFix',\n});\nAudioCue.onDebugBreak = AudioCue.register({\n    name: localize('audioCues.onDebugBreak.name', 'Debugger Stopped on Breakpoint'),\n    sound: Sound.break,\n    settingsKey: 'audioCues.onDebugBreak',\n});\nAudioCue.noInlayHints = AudioCue.register({\n    name: localize('audioCues.noInlayHints', 'No Inlay Hints on Line'),\n    sound: Sound.error,\n    settingsKey: 'audioCues.noInlayHints'\n});\nAudioCue.taskCompleted = AudioCue.register({\n    name: localize('audioCues.taskCompleted', 'Task Completed'),\n    sound: Sound.taskCompleted,\n    settingsKey: 'audioCues.taskCompleted'\n});\nAudioCue.taskFailed = AudioCue.register({\n    name: localize('audioCues.taskFailed', 'Task Failed'),\n    sound: Sound.taskFailed,\n    settingsKey: 'audioCues.taskFailed'\n});\nAudioCue.terminalCommandFailed = AudioCue.register({\n    name: localize('audioCues.terminalCommandFailed', 'Terminal Command Failed'),\n    sound: Sound.taskFailed,\n    settingsKey: 'audioCues.terminalCommandFailed'\n});\nAudioCue.terminalBell = AudioCue.register({\n    name: localize('audioCues.terminalBell', 'Terminal Bell'),\n    sound: Sound.terminalBell,\n    settingsKey: 'audioCues.terminalBell'\n});\nAudioCue.notebookCellCompleted = AudioCue.register({\n    name: localize('audioCues.notebookCellCompleted', 'Notebook Cell Completed'),\n    sound: Sound.taskCompleted,\n    settingsKey: 'audioCues.notebookCellCompleted'\n});\nAudioCue.notebookCellFailed = AudioCue.register({\n    name: localize('audioCues.notebookCellFailed', 'Notebook Cell Failed'),\n    sound: Sound.taskFailed,\n    settingsKey: 'audioCues.notebookCellFailed'\n});\nAudioCue.diffLineInserted = AudioCue.register({\n    name: localize('audioCues.diffLineInserted', 'Diff Line Inserted'),\n    sound: Sound.diffLineInserted,\n    settingsKey: 'audioCues.diffLineInserted'\n});\nAudioCue.diffLineDeleted = AudioCue.register({\n    name: localize('audioCues.diffLineDeleted', 'Diff Line Deleted'),\n    sound: Sound.diffLineDeleted,\n    settingsKey: 'audioCues.diffLineDeleted'\n});\nAudioCue.diffLineModified = AudioCue.register({\n    name: localize('audioCues.diffLineModified', 'Diff Line Modified'),\n    sound: Sound.diffLineModified,\n    settingsKey: 'audioCues.diffLineModified'\n});\nexport { AudioCue };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { isSafari, isWebkitWebView } from '../../../base/browser/browser.js';\nimport { $, addDisposableListener } from '../../../base/browser/dom.js';\nimport { DeferredPromise } from '../../../base/common/async.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { ILogService } from '../../log/common/log.js';\nlet BrowserClipboardService = class BrowserClipboardService extends Disposable {\n    constructor(layoutService, logService) {\n        super();\n        this.layoutService = layoutService;\n        this.logService = logService;\n        this.mapTextToType = new Map(); // unsupported in web (only in-memory)\n        this.findText = ''; // unsupported in web (only in-memory)\n        this.resources = [];\n        if (isSafari || isWebkitWebView) {\n            this.installWebKitWriteTextWorkaround();\n        }\n    }\n    // In Safari, it has the following note:\n    //\n    // \"The request to write to the clipboard must be triggered during a user gesture.\n    // A call to clipboard.write or clipboard.writeText outside the scope of a user\n    // gesture(such as \"click\" or \"touch\" event handlers) will result in the immediate\n    // rejection of the promise returned by the API call.\"\n    // From: https://webkit.org/blog/10855/async-clipboard-api/\n    //\n    // Since extensions run in a web worker, and handle gestures in an asynchronous way,\n    // they are not classified by Safari as \"in response to a user gesture\" and will reject.\n    //\n    // This function sets up some handlers to work around that behavior.\n    installWebKitWriteTextWorkaround() {\n        const handler = () => {\n            const currentWritePromise = new DeferredPromise();\n            // Cancel the previous promise since we just created a new one in response to this new event\n            if (this.webKitPendingClipboardWritePromise && !this.webKitPendingClipboardWritePromise.isSettled) {\n                this.webKitPendingClipboardWritePromise.cancel();\n            }\n            this.webKitPendingClipboardWritePromise = currentWritePromise;\n            // The ctor of ClipboardItem allows you to pass in a promise that will resolve to a string.\n            // This allows us to pass in a Promise that will either be cancelled by another event or\n            // resolved with the contents of the first call to this.writeText.\n            // see https://developer.mozilla.org/en-US/docs/Web/API/ClipboardItem/ClipboardItem#parameters\n            navigator.clipboard.write([new ClipboardItem({\n                    'text/plain': currentWritePromise.p,\n                })]).catch((err) => __awaiter(this, void 0, void 0, function* () {\n                if (!(err instanceof Error) || err.name !== 'NotAllowedError' || !currentWritePromise.isRejected) {\n                    this.logService.error(err);\n                }\n            }));\n        };\n        if (this.layoutService.hasContainer) {\n            this._register(addDisposableListener(this.layoutService.container, 'click', handler));\n            this._register(addDisposableListener(this.layoutService.container, 'keydown', handler));\n        }\n    }\n    writeText(text, type) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // With type: only in-memory is supported\n            if (type) {\n                this.mapTextToType.set(type, text);\n                return;\n            }\n            if (this.webKitPendingClipboardWritePromise) {\n                // For Safari, we complete this Promise which allows the call to `navigator.clipboard.write()`\n                // above to resolve and successfully copy to the clipboard. If we let this continue, Safari\n                // would throw an error because this call stack doesn't appear to originate from a user gesture.\n                return this.webKitPendingClipboardWritePromise.complete(text);\n            }\n            // Guard access to navigator.clipboard with try/catch\n            // as we have seen DOMExceptions in certain browsers\n            // due to security policies.\n            try {\n                return yield navigator.clipboard.writeText(text);\n            }\n            catch (error) {\n                console.error(error);\n            }\n            // Fallback to textarea and execCommand solution\n            const activeElement = document.activeElement;\n            const textArea = document.body.appendChild($('textarea', { 'aria-hidden': true }));\n            textArea.style.height = '1px';\n            textArea.style.width = '1px';\n            textArea.style.position = 'absolute';\n            textArea.value = text;\n            textArea.focus();\n            textArea.select();\n            document.execCommand('copy');\n            if (activeElement instanceof HTMLElement) {\n                activeElement.focus();\n            }\n            document.body.removeChild(textArea);\n            return;\n        });\n    }\n    readText(type) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // With type: only in-memory is supported\n            if (type) {\n                return this.mapTextToType.get(type) || '';\n            }\n            // Guard access to navigator.clipboard with try/catch\n            // as we have seen DOMExceptions in certain browsers\n            // due to security policies.\n            try {\n                return yield navigator.clipboard.readText();\n            }\n            catch (error) {\n                console.error(error);\n                return '';\n            }\n        });\n    }\n    readFindText() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.findText;\n        });\n    }\n    writeFindText(text) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.findText = text;\n        });\n    }\n    readResources() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.resources;\n        });\n    }\n};\nBrowserClipboardService = __decorate([\n    __param(0, ILayoutService),\n    __param(1, ILogService)\n], BrowserClipboardService);\nexport { BrowserClipboardService };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IClipboardService = createDecorator('clipboardService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\nimport { validateConstraints } from '../../../base/common/types.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ICommandService = createDecorator('commandService');\nexport const CommandsRegistry = new class {\n    constructor() {\n        this._commands = new Map();\n        this._onDidRegisterCommand = new Emitter();\n        this.onDidRegisterCommand = this._onDidRegisterCommand.event;\n    }\n    registerCommand(idOrCommand, handler) {\n        if (!idOrCommand) {\n            throw new Error(`invalid command`);\n        }\n        if (typeof idOrCommand === 'string') {\n            if (!handler) {\n                throw new Error(`invalid command`);\n            }\n            return this.registerCommand({ id: idOrCommand, handler });\n        }\n        // add argument validation if rich command metadata is provided\n        if (idOrCommand.description) {\n            const constraints = [];\n            for (const arg of idOrCommand.description.args) {\n                constraints.push(arg.constraint);\n            }\n            const actualHandler = idOrCommand.handler;\n            idOrCommand.handler = function (accessor, ...args) {\n                validateConstraints(args, constraints);\n                return actualHandler(accessor, ...args);\n            };\n        }\n        // find a place to store the command\n        const { id } = idOrCommand;\n        let commands = this._commands.get(id);\n        if (!commands) {\n            commands = new LinkedList();\n            this._commands.set(id, commands);\n        }\n        const removeFn = commands.unshift(idOrCommand);\n        const ret = toDisposable(() => {\n            removeFn();\n            const command = this._commands.get(id);\n            if (command === null || command === void 0 ? void 0 : command.isEmpty()) {\n                this._commands.delete(id);\n            }\n        });\n        // tell the world about this command\n        this._onDidRegisterCommand.fire(id);\n        return ret;\n    }\n    registerCommandAlias(oldId, newId) {\n        return CommandsRegistry.registerCommand(oldId, (accessor, ...args) => accessor.get(ICommandService).executeCommand(newId, ...args));\n    }\n    getCommand(id) {\n        const list = this._commands.get(id);\n        if (!list || list.isEmpty()) {\n            return undefined;\n        }\n        return Iterable.first(list);\n    }\n    getCommands() {\n        const result = new Map();\n        for (const key of this._commands.keys()) {\n            const command = this.getCommand(key);\n            if (command) {\n                result.set(key, command);\n            }\n        }\n        return result;\n    }\n};\nCommandsRegistry.registerCommand('noop', () => { });\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IConfigurationService = createDecorator('configurationService');\nexport function toValuesTree(properties, conflictReporter) {\n    const root = Object.create(null);\n    for (const key in properties) {\n        addToValueTree(root, key, properties[key], conflictReporter);\n    }\n    return root;\n}\nexport function addToValueTree(settingsTreeRoot, key, value, conflictReporter) {\n    const segments = key.split('.');\n    const last = segments.pop();\n    let curr = settingsTreeRoot;\n    for (let i = 0; i < segments.length; i++) {\n        const s = segments[i];\n        let obj = curr[s];\n        switch (typeof obj) {\n            case 'undefined':\n                obj = curr[s] = Object.create(null);\n                break;\n            case 'object':\n                break;\n            default:\n                conflictReporter(`Ignoring ${key} as ${segments.slice(0, i + 1).join('.')} is ${JSON.stringify(obj)}`);\n                return;\n        }\n        curr = obj;\n    }\n    if (typeof curr === 'object' && curr !== null) {\n        try {\n            curr[last] = value; // workaround https://github.com/microsoft/vscode/issues/13606\n        }\n        catch (e) {\n            conflictReporter(`Ignoring ${key} as ${segments.join('.')} is ${JSON.stringify(curr)}`);\n        }\n    }\n    else {\n        conflictReporter(`Ignoring ${key} as ${segments.join('.')} is ${JSON.stringify(curr)}`);\n    }\n}\nexport function removeFromValueTree(valueTree, key) {\n    const segments = key.split('.');\n    doRemoveFromValueTree(valueTree, segments);\n}\nfunction doRemoveFromValueTree(valueTree, segments) {\n    const first = segments.shift();\n    if (segments.length === 0) {\n        // Reached last segment\n        delete valueTree[first];\n        return;\n    }\n    if (Object.keys(valueTree).indexOf(first) !== -1) {\n        const value = valueTree[first];\n        if (typeof value === 'object' && !Array.isArray(value)) {\n            doRemoveFromValueTree(value, segments);\n            if (Object.keys(value).length === 0) {\n                delete valueTree[first];\n            }\n        }\n    }\n}\n/**\n * A helper function to get the configuration value with a specific settings path (e.g. config.some.setting)\n */\nexport function getConfigurationValue(config, settingPath, defaultValue) {\n    function accessSetting(config, path) {\n        let current = config;\n        for (const component of path) {\n            if (typeof current !== 'object' || current === null) {\n                return undefined;\n            }\n            current = current[component];\n        }\n        return current;\n    }\n    const path = settingPath.split('.');\n    const result = accessSetting(config, path);\n    return typeof result === 'undefined' ? defaultValue : result;\n}\nexport function getLanguageTagSettingPlainKey(settingKey) {\n    return settingKey.replace(/[\\[\\]]/g, '');\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as arrays from '../../../base/common/arrays.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport * as objects from '../../../base/common/objects.js';\nimport * as types from '../../../base/common/types.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { addToValueTree, getConfigurationValue, removeFromValueTree, toValuesTree } from './configuration.js';\nimport { Extensions, overrideIdentifiersFromKey, OVERRIDE_PROPERTY_REGEX } from './configurationRegistry.js';\nimport { Registry } from '../../registry/common/platform.js';\nfunction freeze(data) {\n    return Object.isFrozen(data) ? data : objects.deepFreeze(data);\n}\nexport class ConfigurationModel {\n    constructor(_contents = {}, _keys = [], _overrides = [], raw) {\n        this._contents = _contents;\n        this._keys = _keys;\n        this._overrides = _overrides;\n        this.raw = raw;\n        this.overrideConfigurations = new Map();\n    }\n    get rawConfiguration() {\n        var _a;\n        if (!this._rawConfiguration) {\n            if ((_a = this.raw) === null || _a === void 0 ? void 0 : _a.length) {\n                const rawConfigurationModels = this.raw.map(raw => {\n                    if (raw instanceof ConfigurationModel) {\n                        return raw;\n                    }\n                    const parser = new ConfigurationModelParser('');\n                    parser.parseRaw(raw);\n                    return parser.configurationModel;\n                });\n                this._rawConfiguration = rawConfigurationModels.reduce((previous, current) => current === previous ? current : previous.merge(current), rawConfigurationModels[0]);\n            }\n            else {\n                // raw is same as current\n                this._rawConfiguration = this;\n            }\n        }\n        return this._rawConfiguration;\n    }\n    get contents() {\n        return this._contents;\n    }\n    get overrides() {\n        return this._overrides;\n    }\n    get keys() {\n        return this._keys;\n    }\n    isEmpty() {\n        return this._keys.length === 0 && Object.keys(this._contents).length === 0 && this._overrides.length === 0;\n    }\n    getValue(section) {\n        return section ? getConfigurationValue(this.contents, section) : this.contents;\n    }\n    inspect(section, overrideIdentifier) {\n        const value = this.rawConfiguration.getValue(section);\n        const override = overrideIdentifier ? this.rawConfiguration.getOverrideValue(section, overrideIdentifier) : undefined;\n        const merged = overrideIdentifier ? this.rawConfiguration.override(overrideIdentifier).getValue(section) : value;\n        return { value, override, merged };\n    }\n    getOverrideValue(section, overrideIdentifier) {\n        const overrideContents = this.getContentsForOverrideIdentifer(overrideIdentifier);\n        return overrideContents\n            ? section ? getConfigurationValue(overrideContents, section) : overrideContents\n            : undefined;\n    }\n    override(identifier) {\n        let overrideConfigurationModel = this.overrideConfigurations.get(identifier);\n        if (!overrideConfigurationModel) {\n            overrideConfigurationModel = this.createOverrideConfigurationModel(identifier);\n            this.overrideConfigurations.set(identifier, overrideConfigurationModel);\n        }\n        return overrideConfigurationModel;\n    }\n    merge(...others) {\n        var _a, _b;\n        const contents = objects.deepClone(this.contents);\n        const overrides = objects.deepClone(this.overrides);\n        const keys = [...this.keys];\n        const raws = ((_a = this.raw) === null || _a === void 0 ? void 0 : _a.length) ? [...this.raw] : [this];\n        for (const other of others) {\n            raws.push(...(((_b = other.raw) === null || _b === void 0 ? void 0 : _b.length) ? other.raw : [other]));\n            if (other.isEmpty()) {\n                continue;\n            }\n            this.mergeContents(contents, other.contents);\n            for (const otherOverride of other.overrides) {\n                const [override] = overrides.filter(o => arrays.equals(o.identifiers, otherOverride.identifiers));\n                if (override) {\n                    this.mergeContents(override.contents, otherOverride.contents);\n                    override.keys.push(...otherOverride.keys);\n                    override.keys = arrays.distinct(override.keys);\n                }\n                else {\n                    overrides.push(objects.deepClone(otherOverride));\n                }\n            }\n            for (const key of other.keys) {\n                if (keys.indexOf(key) === -1) {\n                    keys.push(key);\n                }\n            }\n        }\n        return new ConfigurationModel(contents, keys, overrides, raws.every(raw => raw instanceof ConfigurationModel) ? undefined : raws);\n    }\n    createOverrideConfigurationModel(identifier) {\n        const overrideContents = this.getContentsForOverrideIdentifer(identifier);\n        if (!overrideContents || typeof overrideContents !== 'object' || !Object.keys(overrideContents).length) {\n            // If there are no valid overrides, return self\n            return this;\n        }\n        const contents = {};\n        for (const key of arrays.distinct([...Object.keys(this.contents), ...Object.keys(overrideContents)])) {\n            let contentsForKey = this.contents[key];\n            const overrideContentsForKey = overrideContents[key];\n            // If there are override contents for the key, clone and merge otherwise use base contents\n            if (overrideContentsForKey) {\n                // Clone and merge only if base contents and override contents are of type object otherwise just override\n                if (typeof contentsForKey === 'object' && typeof overrideContentsForKey === 'object') {\n                    contentsForKey = objects.deepClone(contentsForKey);\n                    this.mergeContents(contentsForKey, overrideContentsForKey);\n                }\n                else {\n                    contentsForKey = overrideContentsForKey;\n                }\n            }\n            contents[key] = contentsForKey;\n        }\n        return new ConfigurationModel(contents, this.keys, this.overrides);\n    }\n    mergeContents(source, target) {\n        for (const key of Object.keys(target)) {\n            if (key in source) {\n                if (types.isObject(source[key]) && types.isObject(target[key])) {\n                    this.mergeContents(source[key], target[key]);\n                    continue;\n                }\n            }\n            source[key] = objects.deepClone(target[key]);\n        }\n    }\n    getContentsForOverrideIdentifer(identifier) {\n        let contentsForIdentifierOnly = null;\n        let contents = null;\n        const mergeContents = (contentsToMerge) => {\n            if (contentsToMerge) {\n                if (contents) {\n                    this.mergeContents(contents, contentsToMerge);\n                }\n                else {\n                    contents = objects.deepClone(contentsToMerge);\n                }\n            }\n        };\n        for (const override of this.overrides) {\n            if (arrays.equals(override.identifiers, [identifier])) {\n                contentsForIdentifierOnly = override.contents;\n            }\n            else if (override.identifiers.includes(identifier)) {\n                mergeContents(override.contents);\n            }\n        }\n        // Merge contents of the identifier only at the end to take precedence.\n        mergeContents(contentsForIdentifierOnly);\n        return contents;\n    }\n    toJSON() {\n        return {\n            contents: this.contents,\n            overrides: this.overrides,\n            keys: this.keys\n        };\n    }\n    // Update methods\n    addValue(key, value) {\n        this.updateValue(key, value, true);\n    }\n    setValue(key, value) {\n        this.updateValue(key, value, false);\n    }\n    removeValue(key) {\n        const index = this.keys.indexOf(key);\n        if (index === -1) {\n            return;\n        }\n        this.keys.splice(index, 1);\n        removeFromValueTree(this.contents, key);\n        if (OVERRIDE_PROPERTY_REGEX.test(key)) {\n            this.overrides.splice(this.overrides.findIndex(o => arrays.equals(o.identifiers, overrideIdentifiersFromKey(key))), 1);\n        }\n    }\n    updateValue(key, value, add) {\n        addToValueTree(this.contents, key, value, e => console.error(e));\n        add = add || this.keys.indexOf(key) === -1;\n        if (add) {\n            this.keys.push(key);\n        }\n        if (OVERRIDE_PROPERTY_REGEX.test(key)) {\n            this.overrides.push({\n                identifiers: overrideIdentifiersFromKey(key),\n                keys: Object.keys(this.contents[key]),\n                contents: toValuesTree(this.contents[key], message => console.error(message)),\n            });\n        }\n    }\n}\nexport class ConfigurationModelParser {\n    constructor(_name) {\n        this._name = _name;\n        this._raw = null;\n        this._configurationModel = null;\n        this._restrictedConfigurations = [];\n    }\n    get configurationModel() {\n        return this._configurationModel || new ConfigurationModel();\n    }\n    parseRaw(raw, options) {\n        this._raw = raw;\n        const { contents, keys, overrides, restricted, hasExcludedProperties } = this.doParseRaw(raw, options);\n        this._configurationModel = new ConfigurationModel(contents, keys, overrides, hasExcludedProperties ? [raw] : undefined /* raw has not changed */);\n        this._restrictedConfigurations = restricted || [];\n    }\n    doParseRaw(raw, options) {\n        const configurationProperties = Registry.as(Extensions.Configuration).getConfigurationProperties();\n        const filtered = this.filter(raw, configurationProperties, true, options);\n        raw = filtered.raw;\n        const contents = toValuesTree(raw, message => console.error(`Conflict in settings file ${this._name}: ${message}`));\n        const keys = Object.keys(raw);\n        const overrides = this.toOverrides(raw, message => console.error(`Conflict in settings file ${this._name}: ${message}`));\n        return { contents, keys, overrides, restricted: filtered.restricted, hasExcludedProperties: filtered.hasExcludedProperties };\n    }\n    filter(properties, configurationProperties, filterOverriddenProperties, options) {\n        let hasExcludedProperties = false;\n        if (!(options === null || options === void 0 ? void 0 : options.scopes) && !(options === null || options === void 0 ? void 0 : options.skipRestricted)) {\n            return { raw: properties, restricted: [], hasExcludedProperties };\n        }\n        const raw = {};\n        const restricted = [];\n        for (const key in properties) {\n            if (OVERRIDE_PROPERTY_REGEX.test(key) && filterOverriddenProperties) {\n                const result = this.filter(properties[key], configurationProperties, false, options);\n                raw[key] = result.raw;\n                hasExcludedProperties = hasExcludedProperties || result.hasExcludedProperties;\n                restricted.push(...result.restricted);\n            }\n            else {\n                const propertySchema = configurationProperties[key];\n                const scope = propertySchema ? typeof propertySchema.scope !== 'undefined' ? propertySchema.scope : 3 /* ConfigurationScope.WINDOW */ : undefined;\n                if (propertySchema === null || propertySchema === void 0 ? void 0 : propertySchema.restricted) {\n                    restricted.push(key);\n                }\n                // Load unregistered configurations always.\n                if ((scope === undefined || options.scopes === undefined || options.scopes.includes(scope)) // Check scopes\n                    && !(options.skipRestricted && (propertySchema === null || propertySchema === void 0 ? void 0 : propertySchema.restricted))) { // Check restricted\n                    raw[key] = properties[key];\n                }\n                else {\n                    hasExcludedProperties = true;\n                }\n            }\n        }\n        return { raw, restricted, hasExcludedProperties };\n    }\n    toOverrides(raw, conflictReporter) {\n        const overrides = [];\n        for (const key of Object.keys(raw)) {\n            if (OVERRIDE_PROPERTY_REGEX.test(key)) {\n                const overrideRaw = {};\n                for (const keyInOverrideRaw in raw[key]) {\n                    overrideRaw[keyInOverrideRaw] = raw[key][keyInOverrideRaw];\n                }\n                overrides.push({\n                    identifiers: overrideIdentifiersFromKey(key),\n                    keys: Object.keys(overrideRaw),\n                    contents: toValuesTree(overrideRaw, conflictReporter)\n                });\n            }\n        }\n        return overrides;\n    }\n}\nclass ConfigurationInspectValue {\n    constructor(key, overrides, _value, overrideIdentifiers, defaultConfiguration, policyConfiguration, applicationConfiguration, userConfiguration, localUserConfiguration, remoteUserConfiguration, workspaceConfiguration, folderConfigurationModel, memoryConfigurationModel) {\n        this.key = key;\n        this.overrides = overrides;\n        this._value = _value;\n        this.overrideIdentifiers = overrideIdentifiers;\n        this.defaultConfiguration = defaultConfiguration;\n        this.policyConfiguration = policyConfiguration;\n        this.applicationConfiguration = applicationConfiguration;\n        this.userConfiguration = userConfiguration;\n        this.localUserConfiguration = localUserConfiguration;\n        this.remoteUserConfiguration = remoteUserConfiguration;\n        this.workspaceConfiguration = workspaceConfiguration;\n        this.folderConfigurationModel = folderConfigurationModel;\n        this.memoryConfigurationModel = memoryConfigurationModel;\n    }\n    inspect(model, section, overrideIdentifier) {\n        const inspectValue = model.inspect(section, overrideIdentifier);\n        return {\n            get value() { return freeze(inspectValue.value); },\n            get override() { return freeze(inspectValue.override); },\n            get merged() { return freeze(inspectValue.merged); }\n        };\n    }\n    get userInspectValue() {\n        if (!this._userInspectValue) {\n            this._userInspectValue = this.inspect(this.userConfiguration, this.key, this.overrides.overrideIdentifier);\n        }\n        return this._userInspectValue;\n    }\n    get user() {\n        return this.userInspectValue.value !== undefined || this.userInspectValue.override !== undefined ? { value: this.userInspectValue.value, override: this.userInspectValue.override } : undefined;\n    }\n}\nexport class Configuration {\n    constructor(_defaultConfiguration, _policyConfiguration, _applicationConfiguration, _localUserConfiguration, _remoteUserConfiguration = new ConfigurationModel(), _workspaceConfiguration = new ConfigurationModel(), _folderConfigurations = new ResourceMap(), _memoryConfiguration = new ConfigurationModel(), _memoryConfigurationByResource = new ResourceMap()) {\n        this._defaultConfiguration = _defaultConfiguration;\n        this._policyConfiguration = _policyConfiguration;\n        this._applicationConfiguration = _applicationConfiguration;\n        this._localUserConfiguration = _localUserConfiguration;\n        this._remoteUserConfiguration = _remoteUserConfiguration;\n        this._workspaceConfiguration = _workspaceConfiguration;\n        this._folderConfigurations = _folderConfigurations;\n        this._memoryConfiguration = _memoryConfiguration;\n        this._memoryConfigurationByResource = _memoryConfigurationByResource;\n        this._workspaceConsolidatedConfiguration = null;\n        this._foldersConsolidatedConfigurations = new ResourceMap();\n        this._userConfiguration = null;\n    }\n    getValue(section, overrides, workspace) {\n        const consolidateConfigurationModel = this.getConsolidatedConfigurationModel(section, overrides, workspace);\n        return consolidateConfigurationModel.getValue(section);\n    }\n    updateValue(key, value, overrides = {}) {\n        let memoryConfiguration;\n        if (overrides.resource) {\n            memoryConfiguration = this._memoryConfigurationByResource.get(overrides.resource);\n            if (!memoryConfiguration) {\n                memoryConfiguration = new ConfigurationModel();\n                this._memoryConfigurationByResource.set(overrides.resource, memoryConfiguration);\n            }\n        }\n        else {\n            memoryConfiguration = this._memoryConfiguration;\n        }\n        if (value === undefined) {\n            memoryConfiguration.removeValue(key);\n        }\n        else {\n            memoryConfiguration.setValue(key, value);\n        }\n        if (!overrides.resource) {\n            this._workspaceConsolidatedConfiguration = null;\n        }\n    }\n    inspect(key, overrides, workspace) {\n        const consolidateConfigurationModel = this.getConsolidatedConfigurationModel(key, overrides, workspace);\n        const folderConfigurationModel = this.getFolderConfigurationModelForResource(overrides.resource, workspace);\n        const memoryConfigurationModel = overrides.resource ? this._memoryConfigurationByResource.get(overrides.resource) || this._memoryConfiguration : this._memoryConfiguration;\n        const overrideIdentifiers = new Set();\n        for (const override of consolidateConfigurationModel.overrides) {\n            for (const overrideIdentifier of override.identifiers) {\n                if (consolidateConfigurationModel.getOverrideValue(key, overrideIdentifier) !== undefined) {\n                    overrideIdentifiers.add(overrideIdentifier);\n                }\n            }\n        }\n        return new ConfigurationInspectValue(key, overrides, consolidateConfigurationModel.getValue(key), overrideIdentifiers.size ? [...overrideIdentifiers] : undefined, this._defaultConfiguration, this._policyConfiguration.isEmpty() ? undefined : this._policyConfiguration, this.applicationConfiguration.isEmpty() ? undefined : this.applicationConfiguration, this.userConfiguration, this.localUserConfiguration, this.remoteUserConfiguration, workspace ? this._workspaceConfiguration : undefined, folderConfigurationModel ? folderConfigurationModel : undefined, memoryConfigurationModel);\n    }\n    get applicationConfiguration() {\n        return this._applicationConfiguration;\n    }\n    get userConfiguration() {\n        if (!this._userConfiguration) {\n            this._userConfiguration = this._remoteUserConfiguration.isEmpty() ? this._localUserConfiguration : this._localUserConfiguration.merge(this._remoteUserConfiguration);\n        }\n        return this._userConfiguration;\n    }\n    get localUserConfiguration() {\n        return this._localUserConfiguration;\n    }\n    get remoteUserConfiguration() {\n        return this._remoteUserConfiguration;\n    }\n    getConsolidatedConfigurationModel(section, overrides, workspace) {\n        let configurationModel = this.getConsolidatedConfigurationModelForResource(overrides, workspace);\n        if (overrides.overrideIdentifier) {\n            configurationModel = configurationModel.override(overrides.overrideIdentifier);\n        }\n        if (!this._policyConfiguration.isEmpty() && this._policyConfiguration.getValue(section) !== undefined) {\n            configurationModel = configurationModel.merge(this._policyConfiguration);\n        }\n        return configurationModel;\n    }\n    getConsolidatedConfigurationModelForResource({ resource }, workspace) {\n        let consolidateConfiguration = this.getWorkspaceConsolidatedConfiguration();\n        if (workspace && resource) {\n            const root = workspace.getFolder(resource);\n            if (root) {\n                consolidateConfiguration = this.getFolderConsolidatedConfiguration(root.uri) || consolidateConfiguration;\n            }\n            const memoryConfigurationForResource = this._memoryConfigurationByResource.get(resource);\n            if (memoryConfigurationForResource) {\n                consolidateConfiguration = consolidateConfiguration.merge(memoryConfigurationForResource);\n            }\n        }\n        return consolidateConfiguration;\n    }\n    getWorkspaceConsolidatedConfiguration() {\n        if (!this._workspaceConsolidatedConfiguration) {\n            this._workspaceConsolidatedConfiguration = this._defaultConfiguration.merge(this.applicationConfiguration, this.userConfiguration, this._workspaceConfiguration, this._memoryConfiguration);\n        }\n        return this._workspaceConsolidatedConfiguration;\n    }\n    getFolderConsolidatedConfiguration(folder) {\n        let folderConsolidatedConfiguration = this._foldersConsolidatedConfigurations.get(folder);\n        if (!folderConsolidatedConfiguration) {\n            const workspaceConsolidateConfiguration = this.getWorkspaceConsolidatedConfiguration();\n            const folderConfiguration = this._folderConfigurations.get(folder);\n            if (folderConfiguration) {\n                folderConsolidatedConfiguration = workspaceConsolidateConfiguration.merge(folderConfiguration);\n                this._foldersConsolidatedConfigurations.set(folder, folderConsolidatedConfiguration);\n            }\n            else {\n                folderConsolidatedConfiguration = workspaceConsolidateConfiguration;\n            }\n        }\n        return folderConsolidatedConfiguration;\n    }\n    getFolderConfigurationModelForResource(resource, workspace) {\n        if (workspace && resource) {\n            const root = workspace.getFolder(resource);\n            if (root) {\n                return this._folderConfigurations.get(root.uri);\n            }\n        }\n        return undefined;\n    }\n    toData() {\n        return {\n            defaults: {\n                contents: this._defaultConfiguration.contents,\n                overrides: this._defaultConfiguration.overrides,\n                keys: this._defaultConfiguration.keys\n            },\n            policy: {\n                contents: this._policyConfiguration.contents,\n                overrides: this._policyConfiguration.overrides,\n                keys: this._policyConfiguration.keys\n            },\n            application: {\n                contents: this.applicationConfiguration.contents,\n                overrides: this.applicationConfiguration.overrides,\n                keys: this.applicationConfiguration.keys\n            },\n            user: {\n                contents: this.userConfiguration.contents,\n                overrides: this.userConfiguration.overrides,\n                keys: this.userConfiguration.keys\n            },\n            workspace: {\n                contents: this._workspaceConfiguration.contents,\n                overrides: this._workspaceConfiguration.overrides,\n                keys: this._workspaceConfiguration.keys\n            },\n            folders: [...this._folderConfigurations.keys()].reduce((result, folder) => {\n                const { contents, overrides, keys } = this._folderConfigurations.get(folder);\n                result.push([folder, { contents, overrides, keys }]);\n                return result;\n            }, [])\n        };\n    }\n    static parse(data) {\n        const defaultConfiguration = this.parseConfigurationModel(data.defaults);\n        const policyConfiguration = this.parseConfigurationModel(data.policy);\n        const applicationConfiguration = this.parseConfigurationModel(data.application);\n        const userConfiguration = this.parseConfigurationModel(data.user);\n        const workspaceConfiguration = this.parseConfigurationModel(data.workspace);\n        const folders = data.folders.reduce((result, value) => {\n            result.set(URI.revive(value[0]), this.parseConfigurationModel(value[1]));\n            return result;\n        }, new ResourceMap());\n        return new Configuration(defaultConfiguration, policyConfiguration, applicationConfiguration, userConfiguration, new ConfigurationModel(), workspaceConfiguration, folders, new ConfigurationModel(), new ResourceMap());\n    }\n    static parseConfigurationModel(model) {\n        return new ConfigurationModel(model.contents, model.keys, model.overrides);\n    }\n}\nexport class ConfigurationChangeEvent {\n    constructor(change, previous, currentConfiguraiton, currentWorkspace) {\n        this.change = change;\n        this.previous = previous;\n        this.currentConfiguraiton = currentConfiguraiton;\n        this.currentWorkspace = currentWorkspace;\n        this._marker = '\\n';\n        this._markerCode1 = this._marker.charCodeAt(0);\n        this._markerCode2 = '.'.charCodeAt(0);\n        this.affectedKeys = new Set();\n        this._previousConfiguration = undefined;\n        for (const key of change.keys) {\n            this.affectedKeys.add(key);\n        }\n        for (const [, keys] of change.overrides) {\n            for (const key of keys) {\n                this.affectedKeys.add(key);\n            }\n        }\n        // Example: '\\nfoo.bar\\nabc.def\\n'\n        this._affectsConfigStr = this._marker;\n        for (const key of this.affectedKeys) {\n            this._affectsConfigStr += key + this._marker;\n        }\n    }\n    get previousConfiguration() {\n        if (!this._previousConfiguration && this.previous) {\n            this._previousConfiguration = Configuration.parse(this.previous.data);\n        }\n        return this._previousConfiguration;\n    }\n    affectsConfiguration(section, overrides) {\n        var _a;\n        // we have one large string with all keys that have changed. we pad (marker) the section\n        // and check that either find it padded or before a segment character\n        const needle = this._marker + section;\n        const idx = this._affectsConfigStr.indexOf(needle);\n        if (idx < 0) {\n            // NOT: (marker + section)\n            return false;\n        }\n        const pos = idx + needle.length;\n        if (pos >= this._affectsConfigStr.length) {\n            return false;\n        }\n        const code = this._affectsConfigStr.charCodeAt(pos);\n        if (code !== this._markerCode1 && code !== this._markerCode2) {\n            // NOT: section + (marker | segment)\n            return false;\n        }\n        if (overrides) {\n            const value1 = this.previousConfiguration ? this.previousConfiguration.getValue(section, overrides, (_a = this.previous) === null || _a === void 0 ? void 0 : _a.workspace) : undefined;\n            const value2 = this.currentConfiguraiton.getValue(section, overrides, this.currentWorkspace);\n            return !objects.equals(value1, value2);\n        }\n        return true;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { distinct } from '../../../base/common/arrays.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport * as types from '../../../base/common/types.js';\nimport * as nls from '../../../nls.js';\nimport { getLanguageTagSettingPlainKey } from './configuration.js';\nimport { Extensions as JSONExtensions } from '../../jsonschemas/common/jsonContributionRegistry.js';\nimport { Registry } from '../../registry/common/platform.js';\nexport const Extensions = {\n    Configuration: 'base.contributions.configuration'\n};\nexport const allSettings = { properties: {}, patternProperties: {} };\nexport const applicationSettings = { properties: {}, patternProperties: {} };\nexport const machineSettings = { properties: {}, patternProperties: {} };\nexport const machineOverridableSettings = { properties: {}, patternProperties: {} };\nexport const windowSettings = { properties: {}, patternProperties: {} };\nexport const resourceSettings = { properties: {}, patternProperties: {} };\nexport const resourceLanguageSettingsSchemaId = 'vscode://schemas/settings/resourceLanguage';\nconst contributionRegistry = Registry.as(JSONExtensions.JSONContribution);\nclass ConfigurationRegistry {\n    constructor() {\n        this.overrideIdentifiers = new Set();\n        this._onDidSchemaChange = new Emitter();\n        this._onDidUpdateConfiguration = new Emitter();\n        this.configurationDefaultsOverrides = new Map();\n        this.defaultLanguageConfigurationOverridesNode = {\n            id: 'defaultOverrides',\n            title: nls.localize('defaultLanguageConfigurationOverrides.title', \"Default Language Configuration Overrides\"),\n            properties: {}\n        };\n        this.configurationContributors = [this.defaultLanguageConfigurationOverridesNode];\n        this.resourceLanguageSettingsSchema = {\n            properties: {},\n            patternProperties: {},\n            additionalProperties: true,\n            allowTrailingCommas: true,\n            allowComments: true\n        };\n        this.configurationProperties = {};\n        this.policyConfigurations = new Map();\n        this.excludedConfigurationProperties = {};\n        contributionRegistry.registerSchema(resourceLanguageSettingsSchemaId, this.resourceLanguageSettingsSchema);\n        this.registerOverridePropertyPatternKey();\n    }\n    registerConfiguration(configuration, validate = true) {\n        this.registerConfigurations([configuration], validate);\n    }\n    registerConfigurations(configurations, validate = true) {\n        const properties = new Set();\n        this.doRegisterConfigurations(configurations, validate, properties);\n        contributionRegistry.registerSchema(resourceLanguageSettingsSchemaId, this.resourceLanguageSettingsSchema);\n        this._onDidSchemaChange.fire();\n        this._onDidUpdateConfiguration.fire({ properties });\n    }\n    registerDefaultConfigurations(configurationDefaults) {\n        const properties = new Set();\n        this.doRegisterDefaultConfigurations(configurationDefaults, properties);\n        this._onDidSchemaChange.fire();\n        this._onDidUpdateConfiguration.fire({ properties, defaultsOverrides: true });\n    }\n    doRegisterDefaultConfigurations(configurationDefaults, bucket) {\n        var _a;\n        const overrideIdentifiers = [];\n        for (const { overrides, source } of configurationDefaults) {\n            for (const key in overrides) {\n                bucket.add(key);\n                if (OVERRIDE_PROPERTY_REGEX.test(key)) {\n                    const configurationDefaultOverride = this.configurationDefaultsOverrides.get(key);\n                    const valuesSources = (_a = configurationDefaultOverride === null || configurationDefaultOverride === void 0 ? void 0 : configurationDefaultOverride.valuesSources) !== null && _a !== void 0 ? _a : new Map();\n                    if (source) {\n                        for (const configuration of Object.keys(overrides[key])) {\n                            valuesSources.set(configuration, source);\n                        }\n                    }\n                    const defaultValue = Object.assign(Object.assign({}, ((configurationDefaultOverride === null || configurationDefaultOverride === void 0 ? void 0 : configurationDefaultOverride.value) || {})), overrides[key]);\n                    this.configurationDefaultsOverrides.set(key, { source, value: defaultValue, valuesSources });\n                    const plainKey = getLanguageTagSettingPlainKey(key);\n                    const property = {\n                        type: 'object',\n                        default: defaultValue,\n                        description: nls.localize('defaultLanguageConfiguration.description', \"Configure settings to be overridden for the {0} language.\", plainKey),\n                        $ref: resourceLanguageSettingsSchemaId,\n                        defaultDefaultValue: defaultValue,\n                        source: types.isString(source) ? undefined : source,\n                        defaultValueSource: source\n                    };\n                    overrideIdentifiers.push(...overrideIdentifiersFromKey(key));\n                    this.configurationProperties[key] = property;\n                    this.defaultLanguageConfigurationOverridesNode.properties[key] = property;\n                }\n                else {\n                    this.configurationDefaultsOverrides.set(key, { value: overrides[key], source });\n                    const property = this.configurationProperties[key];\n                    if (property) {\n                        this.updatePropertyDefaultValue(key, property);\n                        this.updateSchema(key, property);\n                    }\n                }\n            }\n        }\n        this.doRegisterOverrideIdentifiers(overrideIdentifiers);\n    }\n    registerOverrideIdentifiers(overrideIdentifiers) {\n        this.doRegisterOverrideIdentifiers(overrideIdentifiers);\n        this._onDidSchemaChange.fire();\n    }\n    doRegisterOverrideIdentifiers(overrideIdentifiers) {\n        for (const overrideIdentifier of overrideIdentifiers) {\n            this.overrideIdentifiers.add(overrideIdentifier);\n        }\n        this.updateOverridePropertyPatternKey();\n    }\n    doRegisterConfigurations(configurations, validate, bucket) {\n        configurations.forEach(configuration => {\n            this.validateAndRegisterProperties(configuration, validate, configuration.extensionInfo, configuration.restrictedProperties, undefined, bucket);\n            this.configurationContributors.push(configuration);\n            this.registerJSONConfiguration(configuration);\n        });\n    }\n    validateAndRegisterProperties(configuration, validate = true, extensionInfo, restrictedProperties, scope = 3 /* ConfigurationScope.WINDOW */, bucket) {\n        var _a;\n        scope = types.isUndefinedOrNull(configuration.scope) ? scope : configuration.scope;\n        const properties = configuration.properties;\n        if (properties) {\n            for (const key in properties) {\n                const property = properties[key];\n                if (validate && validateProperty(key, property)) {\n                    delete properties[key];\n                    continue;\n                }\n                property.source = extensionInfo;\n                // update default value\n                property.defaultDefaultValue = properties[key].default;\n                this.updatePropertyDefaultValue(key, property);\n                // update scope\n                if (OVERRIDE_PROPERTY_REGEX.test(key)) {\n                    property.scope = undefined; // No scope for overridable properties `[${identifier}]`\n                }\n                else {\n                    property.scope = types.isUndefinedOrNull(property.scope) ? scope : property.scope;\n                    property.restricted = types.isUndefinedOrNull(property.restricted) ? !!(restrictedProperties === null || restrictedProperties === void 0 ? void 0 : restrictedProperties.includes(key)) : property.restricted;\n                }\n                // Add to properties maps\n                // Property is included by default if 'included' is unspecified\n                if (properties[key].hasOwnProperty('included') && !properties[key].included) {\n                    this.excludedConfigurationProperties[key] = properties[key];\n                    delete properties[key];\n                    continue;\n                }\n                else {\n                    this.configurationProperties[key] = properties[key];\n                    if ((_a = properties[key].policy) === null || _a === void 0 ? void 0 : _a.name) {\n                        this.policyConfigurations.set(properties[key].policy.name, key);\n                    }\n                }\n                if (!properties[key].deprecationMessage && properties[key].markdownDeprecationMessage) {\n                    // If not set, default deprecationMessage to the markdown source\n                    properties[key].deprecationMessage = properties[key].markdownDeprecationMessage;\n                }\n                bucket.add(key);\n            }\n        }\n        const subNodes = configuration.allOf;\n        if (subNodes) {\n            for (const node of subNodes) {\n                this.validateAndRegisterProperties(node, validate, extensionInfo, restrictedProperties, scope, bucket);\n            }\n        }\n    }\n    getConfigurationProperties() {\n        return this.configurationProperties;\n    }\n    getPolicyConfigurations() {\n        return this.policyConfigurations;\n    }\n    registerJSONConfiguration(configuration) {\n        const register = (configuration) => {\n            const properties = configuration.properties;\n            if (properties) {\n                for (const key in properties) {\n                    this.updateSchema(key, properties[key]);\n                }\n            }\n            const subNodes = configuration.allOf;\n            subNodes === null || subNodes === void 0 ? void 0 : subNodes.forEach(register);\n        };\n        register(configuration);\n    }\n    updateSchema(key, property) {\n        allSettings.properties[key] = property;\n        switch (property.scope) {\n            case 1 /* ConfigurationScope.APPLICATION */:\n                applicationSettings.properties[key] = property;\n                break;\n            case 2 /* ConfigurationScope.MACHINE */:\n                machineSettings.properties[key] = property;\n                break;\n            case 6 /* ConfigurationScope.MACHINE_OVERRIDABLE */:\n                machineOverridableSettings.properties[key] = property;\n                break;\n            case 3 /* ConfigurationScope.WINDOW */:\n                windowSettings.properties[key] = property;\n                break;\n            case 4 /* ConfigurationScope.RESOURCE */:\n                resourceSettings.properties[key] = property;\n                break;\n            case 5 /* ConfigurationScope.LANGUAGE_OVERRIDABLE */:\n                resourceSettings.properties[key] = property;\n                this.resourceLanguageSettingsSchema.properties[key] = property;\n                break;\n        }\n    }\n    updateOverridePropertyPatternKey() {\n        for (const overrideIdentifier of this.overrideIdentifiers.values()) {\n            const overrideIdentifierProperty = `[${overrideIdentifier}]`;\n            const resourceLanguagePropertiesSchema = {\n                type: 'object',\n                description: nls.localize('overrideSettings.defaultDescription', \"Configure editor settings to be overridden for a language.\"),\n                errorMessage: nls.localize('overrideSettings.errorMessage', \"This setting does not support per-language configuration.\"),\n                $ref: resourceLanguageSettingsSchemaId,\n            };\n            this.updatePropertyDefaultValue(overrideIdentifierProperty, resourceLanguagePropertiesSchema);\n            allSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\n            applicationSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\n            machineSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\n            machineOverridableSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\n            windowSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\n            resourceSettings.properties[overrideIdentifierProperty] = resourceLanguagePropertiesSchema;\n        }\n    }\n    registerOverridePropertyPatternKey() {\n        const resourceLanguagePropertiesSchema = {\n            type: 'object',\n            description: nls.localize('overrideSettings.defaultDescription', \"Configure editor settings to be overridden for a language.\"),\n            errorMessage: nls.localize('overrideSettings.errorMessage', \"This setting does not support per-language configuration.\"),\n            $ref: resourceLanguageSettingsSchemaId,\n        };\n        allSettings.patternProperties[OVERRIDE_PROPERTY_PATTERN] = resourceLanguagePropertiesSchema;\n        applicationSettings.patternProperties[OVERRIDE_PROPERTY_PATTERN] = resourceLanguagePropertiesSchema;\n        machineSettings.patternProperties[OVERRIDE_PROPERTY_PATTERN] = resourceLanguagePropertiesSchema;\n        machineOverridableSettings.patternProperties[OVERRIDE_PROPERTY_PATTERN] = resourceLanguagePropertiesSchema;\n        windowSettings.patternProperties[OVERRIDE_PROPERTY_PATTERN] = resourceLanguagePropertiesSchema;\n        resourceSettings.patternProperties[OVERRIDE_PROPERTY_PATTERN] = resourceLanguagePropertiesSchema;\n        this._onDidSchemaChange.fire();\n    }\n    updatePropertyDefaultValue(key, property) {\n        const configurationdefaultOverride = this.configurationDefaultsOverrides.get(key);\n        let defaultValue = configurationdefaultOverride === null || configurationdefaultOverride === void 0 ? void 0 : configurationdefaultOverride.value;\n        let defaultSource = configurationdefaultOverride === null || configurationdefaultOverride === void 0 ? void 0 : configurationdefaultOverride.source;\n        if (types.isUndefined(defaultValue)) {\n            defaultValue = property.defaultDefaultValue;\n            defaultSource = undefined;\n        }\n        if (types.isUndefined(defaultValue)) {\n            defaultValue = getDefaultValue(property.type);\n        }\n        property.default = defaultValue;\n        property.defaultValueSource = defaultSource;\n    }\n}\nconst OVERRIDE_IDENTIFIER_PATTERN = `\\\\[([^\\\\]]+)\\\\]`;\nconst OVERRIDE_IDENTIFIER_REGEX = new RegExp(OVERRIDE_IDENTIFIER_PATTERN, 'g');\nexport const OVERRIDE_PROPERTY_PATTERN = `^(${OVERRIDE_IDENTIFIER_PATTERN})+$`;\nexport const OVERRIDE_PROPERTY_REGEX = new RegExp(OVERRIDE_PROPERTY_PATTERN);\nexport function overrideIdentifiersFromKey(key) {\n    const identifiers = [];\n    if (OVERRIDE_PROPERTY_REGEX.test(key)) {\n        let matches = OVERRIDE_IDENTIFIER_REGEX.exec(key);\n        while (matches === null || matches === void 0 ? void 0 : matches.length) {\n            const identifier = matches[1].trim();\n            if (identifier) {\n                identifiers.push(identifier);\n            }\n            matches = OVERRIDE_IDENTIFIER_REGEX.exec(key);\n        }\n    }\n    return distinct(identifiers);\n}\nexport function getDefaultValue(type) {\n    const t = Array.isArray(type) ? type[0] : type;\n    switch (t) {\n        case 'boolean':\n            return false;\n        case 'integer':\n        case 'number':\n            return 0;\n        case 'string':\n            return '';\n        case 'array':\n            return [];\n        case 'object':\n            return {};\n        default:\n            return null;\n    }\n}\nconst configurationRegistry = new ConfigurationRegistry();\nRegistry.add(Extensions.Configuration, configurationRegistry);\nexport function validateProperty(property, schema) {\n    var _a, _b, _c, _d;\n    if (!property.trim()) {\n        return nls.localize('config.property.empty', \"Cannot register an empty property\");\n    }\n    if (OVERRIDE_PROPERTY_REGEX.test(property)) {\n        return nls.localize('config.property.languageDefault', \"Cannot register '{0}'. This matches property pattern '\\\\\\\\[.*\\\\\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.\", property);\n    }\n    if (configurationRegistry.getConfigurationProperties()[property] !== undefined) {\n        return nls.localize('config.property.duplicate', \"Cannot register '{0}'. This property is already registered.\", property);\n    }\n    if (((_a = schema.policy) === null || _a === void 0 ? void 0 : _a.name) && configurationRegistry.getPolicyConfigurations().get((_b = schema.policy) === null || _b === void 0 ? void 0 : _b.name) !== undefined) {\n        return nls.localize('config.policy.duplicate', \"Cannot register '{0}'. The associated policy {1} is already registered with {2}.\", property, (_c = schema.policy) === null || _c === void 0 ? void 0 : _c.name, configurationRegistry.getPolicyConfigurations().get((_d = schema.policy) === null || _d === void 0 ? void 0 : _d.name));\n    }\n    return null;\n}\n","import { Disposable } from '../../../base/common/lifecycle.js';\nimport { ConfigurationModel } from './configurationModels.js';\nimport { Extensions } from './configurationRegistry.js';\nimport { Registry } from '../../registry/common/platform.js';\nexport class DefaultConfiguration extends Disposable {\n    constructor() {\n        super(...arguments);\n        this._configurationModel = new ConfigurationModel();\n    }\n    get configurationModel() {\n        return this._configurationModel;\n    }\n    reload() {\n        this.resetConfigurationModel();\n        return this.configurationModel;\n    }\n    getConfigurationDefaultOverrides() {\n        return {};\n    }\n    resetConfigurationModel() {\n        this._configurationModel = new ConfigurationModel();\n        const properties = Registry.as(Extensions.Configuration).getConfigurationProperties();\n        this.updateConfigurationModel(Object.keys(properties), properties);\n    }\n    updateConfigurationModel(properties, configurationProperties) {\n        const configurationDefaultsOverrides = this.getConfigurationDefaultOverrides();\n        for (const key of properties) {\n            const defaultOverrideValue = configurationDefaultsOverrides[key];\n            const propertySchema = configurationProperties[key];\n            if (defaultOverrideValue !== undefined) {\n                this._configurationModel.addValue(key, defaultOverrideValue);\n            }\n            else if (propertySchema) {\n                this._configurationModel.addValue(key, propertySchema.default);\n            }\n            else {\n                this._configurationModel.removeValue(key);\n            }\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { PauseableEmitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\nimport { cloneAndChange } from '../../../base/common/objects.js';\nimport { TernarySearchTree } from '../../../base/common/ternarySearchTree.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { localize } from '../../../nls.js';\nimport { CommandsRegistry } from '../../commands/common/commands.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IContextKeyService, RawContextKey } from '../common/contextkey.js';\nconst KEYBINDING_CONTEXT_ATTR = 'data-keybinding-context';\nexport class Context {\n    constructor(id, parent) {\n        this._id = id;\n        this._parent = parent;\n        this._value = Object.create(null);\n        this._value['_contextId'] = id;\n    }\n    get value() {\n        return Object.assign({}, this._value);\n    }\n    setValue(key, value) {\n        // console.log('SET ' + key + ' = ' + value + ' ON ' + this._id);\n        if (this._value[key] !== value) {\n            this._value[key] = value;\n            return true;\n        }\n        return false;\n    }\n    removeValue(key) {\n        // console.log('REMOVE ' + key + ' FROM ' + this._id);\n        if (key in this._value) {\n            delete this._value[key];\n            return true;\n        }\n        return false;\n    }\n    getValue(key) {\n        const ret = this._value[key];\n        if (typeof ret === 'undefined' && this._parent) {\n            return this._parent.getValue(key);\n        }\n        return ret;\n    }\n}\nclass NullContext extends Context {\n    constructor() {\n        super(-1, null);\n    }\n    setValue(key, value) {\n        return false;\n    }\n    removeValue(key) {\n        return false;\n    }\n    getValue(key) {\n        return undefined;\n    }\n}\nNullContext.INSTANCE = new NullContext();\nclass ConfigAwareContextValuesContainer extends Context {\n    constructor(id, _configurationService, emitter) {\n        super(id, null);\n        this._configurationService = _configurationService;\n        this._values = TernarySearchTree.forConfigKeys();\n        this._listener = this._configurationService.onDidChangeConfiguration(event => {\n            if (event.source === 7 /* ConfigurationTarget.DEFAULT */) {\n                // new setting, reset everything\n                const allKeys = Array.from(this._values, ([k]) => k);\n                this._values.clear();\n                emitter.fire(new ArrayContextKeyChangeEvent(allKeys));\n            }\n            else {\n                const changedKeys = [];\n                for (const configKey of event.affectedKeys) {\n                    const contextKey = `config.${configKey}`;\n                    const cachedItems = this._values.findSuperstr(contextKey);\n                    if (cachedItems !== undefined) {\n                        changedKeys.push(...Iterable.map(cachedItems, ([key]) => key));\n                        this._values.deleteSuperstr(contextKey);\n                    }\n                    if (this._values.has(contextKey)) {\n                        changedKeys.push(contextKey);\n                        this._values.delete(contextKey);\n                    }\n                }\n                emitter.fire(new ArrayContextKeyChangeEvent(changedKeys));\n            }\n        });\n    }\n    dispose() {\n        this._listener.dispose();\n    }\n    getValue(key) {\n        if (key.indexOf(ConfigAwareContextValuesContainer._keyPrefix) !== 0) {\n            return super.getValue(key);\n        }\n        if (this._values.has(key)) {\n            return this._values.get(key);\n        }\n        const configKey = key.substr(ConfigAwareContextValuesContainer._keyPrefix.length);\n        const configValue = this._configurationService.getValue(configKey);\n        let value = undefined;\n        switch (typeof configValue) {\n            case 'number':\n            case 'boolean':\n            case 'string':\n                value = configValue;\n                break;\n            default:\n                if (Array.isArray(configValue)) {\n                    value = JSON.stringify(configValue);\n                }\n                else {\n                    value = configValue;\n                }\n        }\n        this._values.set(key, value);\n        return value;\n    }\n    setValue(key, value) {\n        return super.setValue(key, value);\n    }\n    removeValue(key) {\n        return super.removeValue(key);\n    }\n}\nConfigAwareContextValuesContainer._keyPrefix = 'config.';\nclass ContextKey {\n    constructor(service, key, defaultValue) {\n        this._service = service;\n        this._key = key;\n        this._defaultValue = defaultValue;\n        this.reset();\n    }\n    set(value) {\n        this._service.setContext(this._key, value);\n    }\n    reset() {\n        if (typeof this._defaultValue === 'undefined') {\n            this._service.removeContext(this._key);\n        }\n        else {\n            this._service.setContext(this._key, this._defaultValue);\n        }\n    }\n    get() {\n        return this._service.getContextKeyValue(this._key);\n    }\n}\nclass SimpleContextKeyChangeEvent {\n    constructor(key) {\n        this.key = key;\n    }\n    affectsSome(keys) {\n        return keys.has(this.key);\n    }\n    allKeysContainedIn(keys) {\n        return this.affectsSome(keys);\n    }\n}\nclass ArrayContextKeyChangeEvent {\n    constructor(keys) {\n        this.keys = keys;\n    }\n    affectsSome(keys) {\n        for (const key of this.keys) {\n            if (keys.has(key)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    allKeysContainedIn(keys) {\n        return this.keys.every(key => keys.has(key));\n    }\n}\nclass CompositeContextKeyChangeEvent {\n    constructor(events) {\n        this.events = events;\n    }\n    affectsSome(keys) {\n        for (const e of this.events) {\n            if (e.affectsSome(keys)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    allKeysContainedIn(keys) {\n        return this.events.every(evt => evt.allKeysContainedIn(keys));\n    }\n}\nfunction allEventKeysInContext(event, context) {\n    return event.allKeysContainedIn(new Set(Object.keys(context)));\n}\nexport class AbstractContextKeyService {\n    constructor(myContextId) {\n        this._onDidChangeContext = new PauseableEmitter({ merge: input => new CompositeContextKeyChangeEvent(input) });\n        this.onDidChangeContext = this._onDidChangeContext.event;\n        this._isDisposed = false;\n        this._myContextId = myContextId;\n    }\n    createKey(key, defaultValue) {\n        if (this._isDisposed) {\n            throw new Error(`AbstractContextKeyService has been disposed`);\n        }\n        return new ContextKey(this, key, defaultValue);\n    }\n    bufferChangeEvents(callback) {\n        this._onDidChangeContext.pause();\n        try {\n            callback();\n        }\n        finally {\n            this._onDidChangeContext.resume();\n        }\n    }\n    createScoped(domNode) {\n        if (this._isDisposed) {\n            throw new Error(`AbstractContextKeyService has been disposed`);\n        }\n        return new ScopedContextKeyService(this, domNode);\n    }\n    contextMatchesRules(rules) {\n        if (this._isDisposed) {\n            throw new Error(`AbstractContextKeyService has been disposed`);\n        }\n        const context = this.getContextValuesContainer(this._myContextId);\n        const result = (rules ? rules.evaluate(context) : true);\n        // console.group(rules.serialize() + ' -> ' + result);\n        // rules.keys().forEach(key => { console.log(key, ctx[key]); });\n        // console.groupEnd();\n        return result;\n    }\n    getContextKeyValue(key) {\n        if (this._isDisposed) {\n            return undefined;\n        }\n        return this.getContextValuesContainer(this._myContextId).getValue(key);\n    }\n    setContext(key, value) {\n        if (this._isDisposed) {\n            return;\n        }\n        const myContext = this.getContextValuesContainer(this._myContextId);\n        if (!myContext) {\n            return;\n        }\n        if (myContext.setValue(key, value)) {\n            this._onDidChangeContext.fire(new SimpleContextKeyChangeEvent(key));\n        }\n    }\n    removeContext(key) {\n        if (this._isDisposed) {\n            return;\n        }\n        if (this.getContextValuesContainer(this._myContextId).removeValue(key)) {\n            this._onDidChangeContext.fire(new SimpleContextKeyChangeEvent(key));\n        }\n    }\n    getContext(target) {\n        if (this._isDisposed) {\n            return NullContext.INSTANCE;\n        }\n        return this.getContextValuesContainer(findContextAttr(target));\n    }\n}\nlet ContextKeyService = class ContextKeyService extends AbstractContextKeyService {\n    constructor(configurationService) {\n        super(0);\n        this._contexts = new Map();\n        this._toDispose = new DisposableStore();\n        this._lastContextId = 0;\n        const myContext = new ConfigAwareContextValuesContainer(this._myContextId, configurationService, this._onDidChangeContext);\n        this._contexts.set(this._myContextId, myContext);\n        this._toDispose.add(myContext);\n        // Uncomment this to see the contexts continuously logged\n        // let lastLoggedValue: string | null = null;\n        // setInterval(() => {\n        // \tlet values = Object.keys(this._contexts).map((key) => this._contexts[key]);\n        // \tlet logValue = values.map(v => JSON.stringify(v._value, null, '\\t')).join('\\n');\n        // \tif (lastLoggedValue !== logValue) {\n        // \t\tlastLoggedValue = logValue;\n        // \t\tconsole.log(lastLoggedValue);\n        // \t}\n        // }, 2000);\n    }\n    dispose() {\n        this._onDidChangeContext.dispose();\n        this._isDisposed = true;\n        this._toDispose.dispose();\n    }\n    getContextValuesContainer(contextId) {\n        if (this._isDisposed) {\n            return NullContext.INSTANCE;\n        }\n        return this._contexts.get(contextId) || NullContext.INSTANCE;\n    }\n    createChildContext(parentContextId = this._myContextId) {\n        if (this._isDisposed) {\n            throw new Error(`ContextKeyService has been disposed`);\n        }\n        const id = (++this._lastContextId);\n        this._contexts.set(id, new Context(id, this.getContextValuesContainer(parentContextId)));\n        return id;\n    }\n    disposeContext(contextId) {\n        if (!this._isDisposed) {\n            this._contexts.delete(contextId);\n        }\n    }\n};\nContextKeyService = __decorate([\n    __param(0, IConfigurationService)\n], ContextKeyService);\nexport { ContextKeyService };\nclass ScopedContextKeyService extends AbstractContextKeyService {\n    constructor(parent, domNode) {\n        super(parent.createChildContext());\n        this._parentChangeListener = new MutableDisposable();\n        this._parent = parent;\n        this._updateParentChangeListener();\n        this._domNode = domNode;\n        if (this._domNode.hasAttribute(KEYBINDING_CONTEXT_ATTR)) {\n            let extraInfo = '';\n            if (this._domNode.classList) {\n                extraInfo = Array.from(this._domNode.classList.values()).join(', ');\n            }\n            console.error(`Element already has context attribute${extraInfo ? ': ' + extraInfo : ''}`);\n        }\n        this._domNode.setAttribute(KEYBINDING_CONTEXT_ATTR, String(this._myContextId));\n    }\n    _updateParentChangeListener() {\n        // Forward parent events to this listener. Parent will change.\n        this._parentChangeListener.value = this._parent.onDidChangeContext(e => {\n            const thisContainer = this._parent.getContextValuesContainer(this._myContextId);\n            const thisContextValues = thisContainer.value;\n            if (!allEventKeysInContext(e, thisContextValues)) {\n                this._onDidChangeContext.fire(e);\n            }\n        });\n    }\n    dispose() {\n        if (this._isDisposed) {\n            return;\n        }\n        this._onDidChangeContext.dispose();\n        this._parent.disposeContext(this._myContextId);\n        this._parentChangeListener.dispose();\n        this._domNode.removeAttribute(KEYBINDING_CONTEXT_ATTR);\n        this._isDisposed = true;\n    }\n    getContextValuesContainer(contextId) {\n        if (this._isDisposed) {\n            return NullContext.INSTANCE;\n        }\n        return this._parent.getContextValuesContainer(contextId);\n    }\n    createChildContext(parentContextId = this._myContextId) {\n        if (this._isDisposed) {\n            throw new Error(`ScopedContextKeyService has been disposed`);\n        }\n        return this._parent.createChildContext(parentContextId);\n    }\n    disposeContext(contextId) {\n        if (this._isDisposed) {\n            return;\n        }\n        this._parent.disposeContext(contextId);\n    }\n}\nfunction findContextAttr(domNode) {\n    while (domNode) {\n        if (domNode.hasAttribute(KEYBINDING_CONTEXT_ATTR)) {\n            const attr = domNode.getAttribute(KEYBINDING_CONTEXT_ATTR);\n            if (attr) {\n                return parseInt(attr, 10);\n            }\n            return NaN;\n        }\n        domNode = domNode.parentElement;\n    }\n    return 0;\n}\nexport function setContext(accessor, contextKey, contextValue) {\n    const contextKeyService = accessor.get(IContextKeyService);\n    contextKeyService.createKey(String(contextKey), stringifyURIs(contextValue));\n}\nfunction stringifyURIs(contextValue) {\n    return cloneAndChange(contextValue, (obj) => {\n        if (typeof obj === 'object' && obj.$mid === 1 /* MarshalledId.Uri */) {\n            return URI.revive(obj).toString();\n        }\n        if (obj instanceof URI) {\n            return obj.toString();\n        }\n        return undefined;\n    });\n}\nCommandsRegistry.registerCommand('_setContext', setContext);\nCommandsRegistry.registerCommand({\n    id: 'getContextKeyInfo',\n    handler() {\n        return [...RawContextKey.all()].sort((a, b) => a.key.localeCompare(b.key));\n    },\n    description: {\n        description: localize('getContextKeyInfo', \"A command that returns information about context keys\"),\n        args: []\n    }\n});\nCommandsRegistry.registerCommand('_generateContextKeyInfo', function () {\n    const result = [];\n    const seen = new Set();\n    for (const info of RawContextKey.all()) {\n        if (!seen.has(info.key)) {\n            seen.add(info.key);\n            result.push(info);\n        }\n    }\n    result.sort((a, b) => a.key.localeCompare(b.key));\n    console.log(JSON.stringify(result, undefined, 2));\n});\n","import { isChrome, isEdge, isFirefox, isLinux, isMacintosh, isSafari, isWeb, isWindows } from '../../../base/common/platform.js';\nimport { isFalsyOrWhitespace } from '../../../base/common/strings.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nconst CONSTANT_VALUES = new Map();\nCONSTANT_VALUES.set('false', false);\nCONSTANT_VALUES.set('true', true);\nCONSTANT_VALUES.set('isMac', isMacintosh);\nCONSTANT_VALUES.set('isLinux', isLinux);\nCONSTANT_VALUES.set('isWindows', isWindows);\nCONSTANT_VALUES.set('isWeb', isWeb);\nCONSTANT_VALUES.set('isMacNative', isMacintosh && !isWeb);\nCONSTANT_VALUES.set('isEdge', isEdge);\nCONSTANT_VALUES.set('isFirefox', isFirefox);\nCONSTANT_VALUES.set('isChrome', isChrome);\nCONSTANT_VALUES.set('isSafari', isSafari);\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nexport class ContextKeyExpr {\n    static has(key) {\n        return ContextKeyDefinedExpr.create(key);\n    }\n    static equals(key, value) {\n        return ContextKeyEqualsExpr.create(key, value);\n    }\n    static regex(key, value) {\n        return ContextKeyRegexExpr.create(key, value);\n    }\n    static not(key) {\n        return ContextKeyNotExpr.create(key);\n    }\n    static and(...expr) {\n        return ContextKeyAndExpr.create(expr, null, true);\n    }\n    static or(...expr) {\n        return ContextKeyOrExpr.create(expr, null, true);\n    }\n    static deserialize(serialized) {\n        if (!serialized) {\n            return undefined;\n        }\n        return this._deserializeOrExpression(serialized);\n    }\n    static _deserializeOrExpression(serialized) {\n        const pieces = serialized.split('||');\n        return ContextKeyOrExpr.create(pieces.map(p => this._deserializeAndExpression(p)), null, true);\n    }\n    static _deserializeAndExpression(serialized) {\n        const pieces = serialized.split('&&');\n        return ContextKeyAndExpr.create(pieces.map(p => this._deserializeOne(p)), null, true);\n    }\n    static _deserializeOne(serializedOne) {\n        serializedOne = serializedOne.trim();\n        if (serializedOne.indexOf('!=') >= 0) {\n            const pieces = serializedOne.split('!=');\n            return ContextKeyNotEqualsExpr.create(pieces[0].trim(), this._deserializeValue(pieces[1]));\n        }\n        if (serializedOne.indexOf('==') >= 0) {\n            const pieces = serializedOne.split('==');\n            return ContextKeyEqualsExpr.create(pieces[0].trim(), this._deserializeValue(pieces[1]));\n        }\n        if (serializedOne.indexOf('=~') >= 0) {\n            const pieces = serializedOne.split('=~');\n            return ContextKeyRegexExpr.create(pieces[0].trim(), this._deserializeRegexValue(pieces[1]));\n        }\n        if (serializedOne.indexOf(' not in ') >= 0) { // careful: this must come before `in`\n            const pieces = serializedOne.split(' not in ');\n            return ContextKeyNotInExpr.create(pieces[0].trim(), this._deserializeValue(pieces[1]));\n        }\n        if (serializedOne.indexOf(' in ') >= 0) {\n            const pieces = serializedOne.split(' in ');\n            return ContextKeyInExpr.create(pieces[0].trim(), this._deserializeValue(pieces[1]));\n        }\n        if (/^[^<=>]+>=[^<=>]+$/.test(serializedOne)) {\n            const pieces = serializedOne.split('>=');\n            return ContextKeyGreaterEqualsExpr.create(pieces[0].trim(), pieces[1].trim());\n        }\n        if (/^[^<=>]+>[^<=>]+$/.test(serializedOne)) {\n            const pieces = serializedOne.split('>');\n            return ContextKeyGreaterExpr.create(pieces[0].trim(), pieces[1].trim());\n        }\n        if (/^[^<=>]+<=[^<=>]+$/.test(serializedOne)) {\n            const pieces = serializedOne.split('<=');\n            return ContextKeySmallerEqualsExpr.create(pieces[0].trim(), pieces[1].trim());\n        }\n        if (/^[^<=>]+<[^<=>]+$/.test(serializedOne)) {\n            const pieces = serializedOne.split('<');\n            return ContextKeySmallerExpr.create(pieces[0].trim(), pieces[1].trim());\n        }\n        if (/^\\!\\s*/.test(serializedOne)) {\n            return ContextKeyNotExpr.create(serializedOne.substr(1).trim());\n        }\n        return ContextKeyDefinedExpr.create(serializedOne);\n    }\n    static _deserializeValue(serializedValue) {\n        serializedValue = serializedValue.trim();\n        if (serializedValue === 'true') {\n            return true;\n        }\n        if (serializedValue === 'false') {\n            return false;\n        }\n        const m = /^'([^']*)'$/.exec(serializedValue);\n        if (m) {\n            return m[1].trim();\n        }\n        return serializedValue;\n    }\n    static _deserializeRegexValue(serializedValue) {\n        if (isFalsyOrWhitespace(serializedValue)) {\n            return null;\n        }\n        const start = serializedValue.indexOf('/');\n        const end = serializedValue.lastIndexOf('/');\n        if (start === end || start < 0) {\n            return null;\n        }\n        const value = serializedValue.slice(start + 1, end);\n        const caseIgnoreFlag = serializedValue[end + 1] === 'i' ? 'i' : '';\n        try {\n            return new RegExp(value, caseIgnoreFlag);\n        }\n        catch (_e) {\n            return null;\n        }\n    }\n}\nexport function expressionsAreEqualWithConstantSubstitution(a, b) {\n    const aExpr = a ? a.substituteConstants() : undefined;\n    const bExpr = b ? b.substituteConstants() : undefined;\n    if (!aExpr && !bExpr) {\n        return true;\n    }\n    if (!aExpr || !bExpr) {\n        return false;\n    }\n    return aExpr.equals(bExpr);\n}\nfunction cmp(a, b) {\n    return a.cmp(b);\n}\nclass ContextKeyFalseExpr {\n    constructor() {\n        this.type = 0 /* ContextKeyExprType.False */;\n    }\n    cmp(other) {\n        return this.type - other.type;\n    }\n    equals(other) {\n        return (other.type === this.type);\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        return false;\n    }\n    serialize() {\n        return 'false';\n    }\n    keys() {\n        return [];\n    }\n    negate() {\n        return ContextKeyTrueExpr.INSTANCE;\n    }\n}\nContextKeyFalseExpr.INSTANCE = new ContextKeyFalseExpr();\nexport { ContextKeyFalseExpr };\nclass ContextKeyTrueExpr {\n    constructor() {\n        this.type = 1 /* ContextKeyExprType.True */;\n    }\n    cmp(other) {\n        return this.type - other.type;\n    }\n    equals(other) {\n        return (other.type === this.type);\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        return true;\n    }\n    serialize() {\n        return 'true';\n    }\n    keys() {\n        return [];\n    }\n    negate() {\n        return ContextKeyFalseExpr.INSTANCE;\n    }\n}\nContextKeyTrueExpr.INSTANCE = new ContextKeyTrueExpr();\nexport { ContextKeyTrueExpr };\nexport class ContextKeyDefinedExpr {\n    static create(key, negated = null) {\n        const constantValue = CONSTANT_VALUES.get(key);\n        if (typeof constantValue === 'boolean') {\n            return constantValue ? ContextKeyTrueExpr.INSTANCE : ContextKeyFalseExpr.INSTANCE;\n        }\n        return new ContextKeyDefinedExpr(key, negated);\n    }\n    constructor(key, negated) {\n        this.key = key;\n        this.negated = negated;\n        this.type = 2 /* ContextKeyExprType.Defined */;\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp1(this.key, other.key);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key);\n        }\n        return false;\n    }\n    substituteConstants() {\n        const constantValue = CONSTANT_VALUES.get(this.key);\n        if (typeof constantValue === 'boolean') {\n            return constantValue ? ContextKeyTrueExpr.INSTANCE : ContextKeyFalseExpr.INSTANCE;\n        }\n        return this;\n    }\n    evaluate(context) {\n        return (!!context.getValue(this.key));\n    }\n    serialize() {\n        return this.key;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyNotExpr.create(this.key, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyEqualsExpr {\n    static create(key, value, negated = null) {\n        if (typeof value === 'boolean') {\n            return (value ? ContextKeyDefinedExpr.create(key, negated) : ContextKeyNotExpr.create(key, negated));\n        }\n        const constantValue = CONSTANT_VALUES.get(key);\n        if (typeof constantValue === 'boolean') {\n            const trueValue = constantValue ? 'true' : 'false';\n            return (value === trueValue ? ContextKeyTrueExpr.INSTANCE : ContextKeyFalseExpr.INSTANCE);\n        }\n        return new ContextKeyEqualsExpr(key, value, negated);\n    }\n    constructor(key, value, negated) {\n        this.key = key;\n        this.value = value;\n        this.negated = negated;\n        this.type = 4 /* ContextKeyExprType.Equals */;\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.value, other.key, other.value);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.value === other.value);\n        }\n        return false;\n    }\n    substituteConstants() {\n        const constantValue = CONSTANT_VALUES.get(this.key);\n        if (typeof constantValue === 'boolean') {\n            const trueValue = constantValue ? 'true' : 'false';\n            return (this.value === trueValue ? ContextKeyTrueExpr.INSTANCE : ContextKeyFalseExpr.INSTANCE);\n        }\n        return this;\n    }\n    evaluate(context) {\n        // Intentional ==\n        // eslint-disable-next-line eqeqeq\n        return (context.getValue(this.key) == this.value);\n    }\n    serialize() {\n        return `${this.key} == '${this.value}'`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyNotEqualsExpr.create(this.key, this.value, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyInExpr {\n    static create(key, valueKey) {\n        return new ContextKeyInExpr(key, valueKey);\n    }\n    constructor(key, valueKey) {\n        this.key = key;\n        this.valueKey = valueKey;\n        this.type = 10 /* ContextKeyExprType.In */;\n        this.negated = null;\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.valueKey, other.key, other.valueKey);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.valueKey === other.valueKey);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        const source = context.getValue(this.valueKey);\n        const item = context.getValue(this.key);\n        if (Array.isArray(source)) {\n            return source.includes(item);\n        }\n        if (typeof item === 'string' && typeof source === 'object' && source !== null) {\n            return hasOwnProperty.call(source, item);\n        }\n        return false;\n    }\n    serialize() {\n        return `${this.key} in '${this.valueKey}'`;\n    }\n    keys() {\n        return [this.key, this.valueKey];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyNotInExpr.create(this.key, this.valueKey);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyNotInExpr {\n    static create(key, valueKey) {\n        return new ContextKeyNotInExpr(key, valueKey);\n    }\n    constructor(key, valueKey) {\n        this.key = key;\n        this.valueKey = valueKey;\n        this.type = 11 /* ContextKeyExprType.NotIn */;\n        this._negated = ContextKeyInExpr.create(key, valueKey);\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return this._negated.cmp(other._negated);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return this._negated.equals(other._negated);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        return !this._negated.evaluate(context);\n    }\n    serialize() {\n        return `${this.key} not in '${this.valueKey}'`;\n    }\n    keys() {\n        return this._negated.keys();\n    }\n    negate() {\n        return this._negated;\n    }\n}\nexport class ContextKeyNotEqualsExpr {\n    static create(key, value, negated = null) {\n        if (typeof value === 'boolean') {\n            if (value) {\n                return ContextKeyNotExpr.create(key, negated);\n            }\n            return ContextKeyDefinedExpr.create(key, negated);\n        }\n        const constantValue = CONSTANT_VALUES.get(key);\n        if (typeof constantValue === 'boolean') {\n            const falseValue = constantValue ? 'true' : 'false';\n            return (value === falseValue ? ContextKeyFalseExpr.INSTANCE : ContextKeyTrueExpr.INSTANCE);\n        }\n        return new ContextKeyNotEqualsExpr(key, value, negated);\n    }\n    constructor(key, value, negated) {\n        this.key = key;\n        this.value = value;\n        this.negated = negated;\n        this.type = 5 /* ContextKeyExprType.NotEquals */;\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.value, other.key, other.value);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.value === other.value);\n        }\n        return false;\n    }\n    substituteConstants() {\n        const constantValue = CONSTANT_VALUES.get(this.key);\n        if (typeof constantValue === 'boolean') {\n            const falseValue = constantValue ? 'true' : 'false';\n            return (this.value === falseValue ? ContextKeyFalseExpr.INSTANCE : ContextKeyTrueExpr.INSTANCE);\n        }\n        return this;\n    }\n    evaluate(context) {\n        // Intentional !=\n        // eslint-disable-next-line eqeqeq\n        return (context.getValue(this.key) != this.value);\n    }\n    serialize() {\n        return `${this.key} != '${this.value}'`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyEqualsExpr.create(this.key, this.value, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyNotExpr {\n    static create(key, negated = null) {\n        const constantValue = CONSTANT_VALUES.get(key);\n        if (typeof constantValue === 'boolean') {\n            return (constantValue ? ContextKeyFalseExpr.INSTANCE : ContextKeyTrueExpr.INSTANCE);\n        }\n        return new ContextKeyNotExpr(key, negated);\n    }\n    constructor(key, negated) {\n        this.key = key;\n        this.negated = negated;\n        this.type = 3 /* ContextKeyExprType.Not */;\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp1(this.key, other.key);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key);\n        }\n        return false;\n    }\n    substituteConstants() {\n        const constantValue = CONSTANT_VALUES.get(this.key);\n        if (typeof constantValue === 'boolean') {\n            return (constantValue ? ContextKeyFalseExpr.INSTANCE : ContextKeyTrueExpr.INSTANCE);\n        }\n        return this;\n    }\n    evaluate(context) {\n        return (!context.getValue(this.key));\n    }\n    serialize() {\n        return `!${this.key}`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyDefinedExpr.create(this.key, this);\n        }\n        return this.negated;\n    }\n}\nfunction withFloatOrStr(value, callback) {\n    if (typeof value === 'string') {\n        const n = parseFloat(value);\n        if (!isNaN(n)) {\n            value = n;\n        }\n    }\n    if (typeof value === 'string' || typeof value === 'number') {\n        return callback(value);\n    }\n    return ContextKeyFalseExpr.INSTANCE;\n}\nexport class ContextKeyGreaterExpr {\n    static create(key, _value, negated = null) {\n        return withFloatOrStr(_value, (value) => new ContextKeyGreaterExpr(key, value, negated));\n    }\n    constructor(key, value, negated) {\n        this.key = key;\n        this.value = value;\n        this.negated = negated;\n        this.type = 12 /* ContextKeyExprType.Greater */;\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.value, other.key, other.value);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.value === other.value);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        if (typeof this.value === 'string') {\n            return false;\n        }\n        return (parseFloat(context.getValue(this.key)) > this.value);\n    }\n    serialize() {\n        return `${this.key} > ${this.value}`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeySmallerEqualsExpr.create(this.key, this.value, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyGreaterEqualsExpr {\n    static create(key, _value, negated = null) {\n        return withFloatOrStr(_value, (value) => new ContextKeyGreaterEqualsExpr(key, value, negated));\n    }\n    constructor(key, value, negated) {\n        this.key = key;\n        this.value = value;\n        this.negated = negated;\n        this.type = 13 /* ContextKeyExprType.GreaterEquals */;\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.value, other.key, other.value);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.value === other.value);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        if (typeof this.value === 'string') {\n            return false;\n        }\n        return (parseFloat(context.getValue(this.key)) >= this.value);\n    }\n    serialize() {\n        return `${this.key} >= ${this.value}`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeySmallerExpr.create(this.key, this.value, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeySmallerExpr {\n    static create(key, _value, negated = null) {\n        return withFloatOrStr(_value, (value) => new ContextKeySmallerExpr(key, value, negated));\n    }\n    constructor(key, value, negated) {\n        this.key = key;\n        this.value = value;\n        this.negated = negated;\n        this.type = 14 /* ContextKeyExprType.Smaller */;\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.value, other.key, other.value);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.value === other.value);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        if (typeof this.value === 'string') {\n            return false;\n        }\n        return (parseFloat(context.getValue(this.key)) < this.value);\n    }\n    serialize() {\n        return `${this.key} < ${this.value}`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyGreaterEqualsExpr.create(this.key, this.value, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeySmallerEqualsExpr {\n    static create(key, _value, negated = null) {\n        return withFloatOrStr(_value, (value) => new ContextKeySmallerEqualsExpr(key, value, negated));\n    }\n    constructor(key, value, negated) {\n        this.key = key;\n        this.value = value;\n        this.negated = negated;\n        this.type = 15 /* ContextKeyExprType.SmallerEquals */;\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return cmp2(this.key, this.value, other.key, other.value);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return (this.key === other.key && this.value === other.value);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        if (typeof this.value === 'string') {\n            return false;\n        }\n        return (parseFloat(context.getValue(this.key)) <= this.value);\n    }\n    serialize() {\n        return `${this.key} <= ${this.value}`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyGreaterExpr.create(this.key, this.value, this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyRegexExpr {\n    static create(key, regexp) {\n        return new ContextKeyRegexExpr(key, regexp);\n    }\n    constructor(key, regexp) {\n        this.key = key;\n        this.regexp = regexp;\n        this.type = 7 /* ContextKeyExprType.Regex */;\n        this.negated = null;\n        //\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        if (this.key < other.key) {\n            return -1;\n        }\n        if (this.key > other.key) {\n            return 1;\n        }\n        const thisSource = this.regexp ? this.regexp.source : '';\n        const otherSource = other.regexp ? other.regexp.source : '';\n        if (thisSource < otherSource) {\n            return -1;\n        }\n        if (thisSource > otherSource) {\n            return 1;\n        }\n        return 0;\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            const thisSource = this.regexp ? this.regexp.source : '';\n            const otherSource = other.regexp ? other.regexp.source : '';\n            return (this.key === other.key && thisSource === otherSource);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        const value = context.getValue(this.key);\n        return this.regexp ? this.regexp.test(value) : false;\n    }\n    serialize() {\n        const value = this.regexp\n            ? `/${this.regexp.source}/${this.regexp.flags}`\n            : '/invalid/';\n        return `${this.key} =~ ${value}`;\n    }\n    keys() {\n        return [this.key];\n    }\n    negate() {\n        if (!this.negated) {\n            this.negated = ContextKeyNotRegexExpr.create(this);\n        }\n        return this.negated;\n    }\n}\nexport class ContextKeyNotRegexExpr {\n    static create(actual) {\n        return new ContextKeyNotRegexExpr(actual);\n    }\n    constructor(_actual) {\n        this._actual = _actual;\n        this.type = 8 /* ContextKeyExprType.NotRegex */;\n        //\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        return this._actual.cmp(other._actual);\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            return this._actual.equals(other._actual);\n        }\n        return false;\n    }\n    substituteConstants() {\n        return this;\n    }\n    evaluate(context) {\n        return !this._actual.evaluate(context);\n    }\n    serialize() {\n        throw new Error('Method not implemented.');\n    }\n    keys() {\n        return this._actual.keys();\n    }\n    negate() {\n        return this._actual;\n    }\n}\n/**\n * @returns the same instance if nothing changed.\n */\nfunction eliminateConstantsInArray(arr) {\n    // Allocate array only if there is a difference\n    let newArr = null;\n    for (let i = 0, len = arr.length; i < len; i++) {\n        const newExpr = arr[i].substituteConstants();\n        if (arr[i] !== newExpr) {\n            // something has changed!\n            // allocate array on first difference\n            if (newArr === null) {\n                newArr = [];\n                for (let j = 0; j < i; j++) {\n                    newArr[j] = arr[j];\n                }\n            }\n        }\n        if (newArr !== null) {\n            newArr[i] = newExpr;\n        }\n    }\n    if (newArr === null) {\n        return arr;\n    }\n    return newArr;\n}\nclass ContextKeyAndExpr {\n    static create(_expr, negated, extraRedundantCheck) {\n        return ContextKeyAndExpr._normalizeArr(_expr, negated, extraRedundantCheck);\n    }\n    constructor(expr, negated) {\n        this.expr = expr;\n        this.negated = negated;\n        this.type = 6 /* ContextKeyExprType.And */;\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        if (this.expr.length < other.expr.length) {\n            return -1;\n        }\n        if (this.expr.length > other.expr.length) {\n            return 1;\n        }\n        for (let i = 0, len = this.expr.length; i < len; i++) {\n            const r = cmp(this.expr[i], other.expr[i]);\n            if (r !== 0) {\n                return r;\n            }\n        }\n        return 0;\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            if (this.expr.length !== other.expr.length) {\n                return false;\n            }\n            for (let i = 0, len = this.expr.length; i < len; i++) {\n                if (!this.expr[i].equals(other.expr[i])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    substituteConstants() {\n        const exprArr = eliminateConstantsInArray(this.expr);\n        if (exprArr === this.expr) {\n            // no change\n            return this;\n        }\n        return ContextKeyAndExpr.create(exprArr, this.negated, false);\n    }\n    evaluate(context) {\n        for (let i = 0, len = this.expr.length; i < len; i++) {\n            if (!this.expr[i].evaluate(context)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    static _normalizeArr(arr, negated, extraRedundantCheck) {\n        const expr = [];\n        let hasTrue = false;\n        for (const e of arr) {\n            if (!e) {\n                continue;\n            }\n            if (e.type === 1 /* ContextKeyExprType.True */) {\n                // anything && true ==> anything\n                hasTrue = true;\n                continue;\n            }\n            if (e.type === 0 /* ContextKeyExprType.False */) {\n                // anything && false ==> false\n                return ContextKeyFalseExpr.INSTANCE;\n            }\n            if (e.type === 6 /* ContextKeyExprType.And */) {\n                expr.push(...e.expr);\n                continue;\n            }\n            expr.push(e);\n        }\n        if (expr.length === 0 && hasTrue) {\n            return ContextKeyTrueExpr.INSTANCE;\n        }\n        if (expr.length === 0) {\n            return undefined;\n        }\n        if (expr.length === 1) {\n            return expr[0];\n        }\n        expr.sort(cmp);\n        // eliminate duplicate terms\n        for (let i = 1; i < expr.length; i++) {\n            if (expr[i - 1].equals(expr[i])) {\n                expr.splice(i, 1);\n                i--;\n            }\n        }\n        if (expr.length === 1) {\n            return expr[0];\n        }\n        // We must distribute any OR expression because we don't support parens\n        // OR extensions will be at the end (due to sorting rules)\n        while (expr.length > 1) {\n            const lastElement = expr[expr.length - 1];\n            if (lastElement.type !== 9 /* ContextKeyExprType.Or */) {\n                break;\n            }\n            // pop the last element\n            expr.pop();\n            // pop the second to last element\n            const secondToLastElement = expr.pop();\n            const isFinished = (expr.length === 0);\n            // distribute `lastElement` over `secondToLastElement`\n            const resultElement = ContextKeyOrExpr.create(lastElement.expr.map(el => ContextKeyAndExpr.create([el, secondToLastElement], null, extraRedundantCheck)), null, isFinished);\n            if (resultElement) {\n                expr.push(resultElement);\n                expr.sort(cmp);\n            }\n        }\n        if (expr.length === 1) {\n            return expr[0];\n        }\n        // resolve false AND expressions\n        if (extraRedundantCheck) {\n            for (let i = 0; i < expr.length; i++) {\n                for (let j = i + 1; j < expr.length; j++) {\n                    if (expr[i].negate().equals(expr[j])) {\n                        // A && !A case\n                        return ContextKeyFalseExpr.INSTANCE;\n                    }\n                }\n            }\n            if (expr.length === 1) {\n                return expr[0];\n            }\n        }\n        return new ContextKeyAndExpr(expr, negated);\n    }\n    serialize() {\n        return this.expr.map(e => e.serialize()).join(' && ');\n    }\n    keys() {\n        const result = [];\n        for (const expr of this.expr) {\n            result.push(...expr.keys());\n        }\n        return result;\n    }\n    negate() {\n        if (!this.negated) {\n            const result = [];\n            for (const expr of this.expr) {\n                result.push(expr.negate());\n            }\n            this.negated = ContextKeyOrExpr.create(result, this, true);\n        }\n        return this.negated;\n    }\n}\nclass ContextKeyOrExpr {\n    static create(_expr, negated, extraRedundantCheck) {\n        return ContextKeyOrExpr._normalizeArr(_expr, negated, extraRedundantCheck);\n    }\n    constructor(expr, negated) {\n        this.expr = expr;\n        this.negated = negated;\n        this.type = 9 /* ContextKeyExprType.Or */;\n    }\n    cmp(other) {\n        if (other.type !== this.type) {\n            return this.type - other.type;\n        }\n        if (this.expr.length < other.expr.length) {\n            return -1;\n        }\n        if (this.expr.length > other.expr.length) {\n            return 1;\n        }\n        for (let i = 0, len = this.expr.length; i < len; i++) {\n            const r = cmp(this.expr[i], other.expr[i]);\n            if (r !== 0) {\n                return r;\n            }\n        }\n        return 0;\n    }\n    equals(other) {\n        if (other.type === this.type) {\n            if (this.expr.length !== other.expr.length) {\n                return false;\n            }\n            for (let i = 0, len = this.expr.length; i < len; i++) {\n                if (!this.expr[i].equals(other.expr[i])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    substituteConstants() {\n        const exprArr = eliminateConstantsInArray(this.expr);\n        if (exprArr === this.expr) {\n            // no change\n            return this;\n        }\n        return ContextKeyOrExpr.create(exprArr, this.negated, false);\n    }\n    evaluate(context) {\n        for (let i = 0, len = this.expr.length; i < len; i++) {\n            if (this.expr[i].evaluate(context)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    static _normalizeArr(arr, negated, extraRedundantCheck) {\n        let expr = [];\n        let hasFalse = false;\n        if (arr) {\n            for (let i = 0, len = arr.length; i < len; i++) {\n                const e = arr[i];\n                if (!e) {\n                    continue;\n                }\n                if (e.type === 0 /* ContextKeyExprType.False */) {\n                    // anything || false ==> anything\n                    hasFalse = true;\n                    continue;\n                }\n                if (e.type === 1 /* ContextKeyExprType.True */) {\n                    // anything || true ==> true\n                    return ContextKeyTrueExpr.INSTANCE;\n                }\n                if (e.type === 9 /* ContextKeyExprType.Or */) {\n                    expr = expr.concat(e.expr);\n                    continue;\n                }\n                expr.push(e);\n            }\n            if (expr.length === 0 && hasFalse) {\n                return ContextKeyFalseExpr.INSTANCE;\n            }\n            expr.sort(cmp);\n        }\n        if (expr.length === 0) {\n            return undefined;\n        }\n        if (expr.length === 1) {\n            return expr[0];\n        }\n        // eliminate duplicate terms\n        for (let i = 1; i < expr.length; i++) {\n            if (expr[i - 1].equals(expr[i])) {\n                expr.splice(i, 1);\n                i--;\n            }\n        }\n        if (expr.length === 1) {\n            return expr[0];\n        }\n        // resolve true OR expressions\n        if (extraRedundantCheck) {\n            for (let i = 0; i < expr.length; i++) {\n                for (let j = i + 1; j < expr.length; j++) {\n                    if (expr[i].negate().equals(expr[j])) {\n                        // A || !A case\n                        return ContextKeyTrueExpr.INSTANCE;\n                    }\n                }\n            }\n            if (expr.length === 1) {\n                return expr[0];\n            }\n        }\n        return new ContextKeyOrExpr(expr, negated);\n    }\n    serialize() {\n        return this.expr.map(e => e.serialize()).join(' || ');\n    }\n    keys() {\n        const result = [];\n        for (const expr of this.expr) {\n            result.push(...expr.keys());\n        }\n        return result;\n    }\n    negate() {\n        if (!this.negated) {\n            const result = [];\n            for (const expr of this.expr) {\n                result.push(expr.negate());\n            }\n            // We don't support parens, so here we distribute the AND over the OR terminals\n            // We always take the first 2 AND pairs and distribute them\n            while (result.length > 1) {\n                const LEFT = result.shift();\n                const RIGHT = result.shift();\n                const all = [];\n                for (const left of getTerminals(LEFT)) {\n                    for (const right of getTerminals(RIGHT)) {\n                        all.push(ContextKeyAndExpr.create([left, right], null, false));\n                    }\n                }\n                result.unshift(ContextKeyOrExpr.create(all, null, false));\n            }\n            this.negated = ContextKeyOrExpr.create(result, this, true);\n        }\n        return this.negated;\n    }\n}\nclass RawContextKey extends ContextKeyDefinedExpr {\n    static all() {\n        return RawContextKey._info.values();\n    }\n    constructor(key, defaultValue, metaOrHide) {\n        super(key, null);\n        this._defaultValue = defaultValue;\n        // collect all context keys into a central place\n        if (typeof metaOrHide === 'object') {\n            RawContextKey._info.push(Object.assign(Object.assign({}, metaOrHide), { key }));\n        }\n        else if (metaOrHide !== true) {\n            RawContextKey._info.push({ key, description: metaOrHide, type: defaultValue !== null && defaultValue !== undefined ? typeof defaultValue : undefined });\n        }\n    }\n    bindTo(target) {\n        return target.createKey(this.key, this._defaultValue);\n    }\n    getValue(target) {\n        return target.getContextKeyValue(this.key);\n    }\n    toNegated() {\n        return this.negate();\n    }\n    isEqualTo(value) {\n        return ContextKeyEqualsExpr.create(this.key, value);\n    }\n}\nRawContextKey._info = [];\nexport { RawContextKey };\nexport const IContextKeyService = createDecorator('contextKeyService');\nfunction cmp1(key1, key2) {\n    if (key1 < key2) {\n        return -1;\n    }\n    if (key1 > key2) {\n        return 1;\n    }\n    return 0;\n}\nfunction cmp2(key1, value1, key2, value2) {\n    if (key1 < key2) {\n        return -1;\n    }\n    if (key1 > key2) {\n        return 1;\n    }\n    if (value1 < value2) {\n        return -1;\n    }\n    if (value1 > value2) {\n        return 1;\n    }\n    return 0;\n}\n/**\n * Returns true if it is provable `p` implies `q`.\n */\nexport function implies(p, q) {\n    if (p.type === 0 /* ContextKeyExprType.False */ || q.type === 1 /* ContextKeyExprType.True */) {\n        // false implies anything\n        // anything implies true\n        return true;\n    }\n    if (p.type === 9 /* ContextKeyExprType.Or */) {\n        if (q.type === 9 /* ContextKeyExprType.Or */) {\n            // `a || b || c` can only imply something like `a || b || c || d`\n            return allElementsIncluded(p.expr, q.expr);\n        }\n        return false;\n    }\n    if (q.type === 9 /* ContextKeyExprType.Or */) {\n        for (const element of q.expr) {\n            if (implies(p, element)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (p.type === 6 /* ContextKeyExprType.And */) {\n        if (q.type === 6 /* ContextKeyExprType.And */) {\n            // `a && b && c` implies `a && c`\n            return allElementsIncluded(q.expr, p.expr);\n        }\n        for (const element of p.expr) {\n            if (implies(element, q)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    return p.equals(q);\n}\n/**\n * Returns true if all elements in `p` are also present in `q`.\n * The two arrays are assumed to be sorted\n */\nfunction allElementsIncluded(p, q) {\n    let pIndex = 0;\n    let qIndex = 0;\n    while (pIndex < p.length && qIndex < q.length) {\n        const cmp = p[pIndex].cmp(q[qIndex]);\n        if (cmp < 0) {\n            // an element from `p` is missing from `q`\n            return false;\n        }\n        else if (cmp === 0) {\n            pIndex++;\n            qIndex++;\n        }\n        else {\n            qIndex++;\n        }\n    }\n    return (pIndex === p.length);\n}\nfunction getTerminals(node) {\n    if (node.type === 9 /* ContextKeyExprType.Or */) {\n        return node.expr;\n    }\n    return [node];\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isIOS, isLinux, isMacintosh, isMobile, isWeb, isWindows } from '../../../base/common/platform.js';\nimport { localize } from '../../../nls.js';\nimport { RawContextKey } from './contextkey.js';\nexport const IsMacContext = new RawContextKey('isMac', isMacintosh, localize('isMac', \"Whether the operating system is macOS\"));\nexport const IsLinuxContext = new RawContextKey('isLinux', isLinux, localize('isLinux', \"Whether the operating system is Linux\"));\nexport const IsWindowsContext = new RawContextKey('isWindows', isWindows, localize('isWindows', \"Whether the operating system is Windows\"));\nexport const IsWebContext = new RawContextKey('isWeb', isWeb, localize('isWeb', \"Whether the platform is a web browser\"));\nexport const IsMacNativeContext = new RawContextKey('isMacNative', isMacintosh && !isWeb, localize('isMacNative', \"Whether the operating system is macOS on a non-browser platform\"));\nexport const IsIOSContext = new RawContextKey('isIOS', isIOS, localize('isIOS', \"Whether the operating system is iOS\"));\nexport const IsMobileContext = new RawContextKey('isMobile', isMobile, localize('isMobile', \"Whether the platform is a mobile web browser\"));\nexport const IsDevelopmentContext = new RawContextKey('isDevelopment', false, true);\nexport const ProductQualityContext = new RawContextKey('productQualityType', '', localize('productQualityType', \"Quality type of VS Code\"));\nexport const InputFocusedContextKey = 'inputFocus';\nexport const InputFocusedContext = new RawContextKey(InputFocusedContextKey, false, localize('inputFocus', \"Whether keyboard focus is inside an input box\"));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { ModifierKeyEmitter } from '../../../base/browser/dom.js';\nimport { Separator } from '../../../base/common/actions.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { createAndFillInContextMenuActions } from '../../actions/browser/menuEntryActionViewItem.js';\nimport { IMenuService, MenuId } from '../../actions/common/actions.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { INotificationService } from '../../notification/common/notification.js';\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\nimport { ContextMenuHandler } from './contextMenuHandler.js';\nimport { IContextViewService } from './contextView.js';\nlet ContextMenuService = class ContextMenuService extends Disposable {\n    get contextMenuHandler() {\n        if (!this._contextMenuHandler) {\n            this._contextMenuHandler = new ContextMenuHandler(this.contextViewService, this.telemetryService, this.notificationService, this.keybindingService);\n        }\n        return this._contextMenuHandler;\n    }\n    constructor(telemetryService, notificationService, contextViewService, keybindingService, menuService, contextKeyService) {\n        super();\n        this.telemetryService = telemetryService;\n        this.notificationService = notificationService;\n        this.contextViewService = contextViewService;\n        this.keybindingService = keybindingService;\n        this.menuService = menuService;\n        this.contextKeyService = contextKeyService;\n        this._contextMenuHandler = undefined;\n        this._onDidShowContextMenu = this._store.add(new Emitter());\n        this._onDidHideContextMenu = this._store.add(new Emitter());\n    }\n    configure(options) {\n        this.contextMenuHandler.configure(options);\n    }\n    // ContextMenu\n    showContextMenu(delegate) {\n        delegate = ContextMenuMenuDelegate.transform(delegate, this.menuService, this.contextKeyService);\n        this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({}, delegate), { onHide: (didCancel) => {\n                var _a;\n                (_a = delegate.onHide) === null || _a === void 0 ? void 0 : _a.call(delegate, didCancel);\n                this._onDidHideContextMenu.fire();\n            } }));\n        ModifierKeyEmitter.getInstance().resetKeyStatus();\n        this._onDidShowContextMenu.fire();\n    }\n};\nContextMenuService = __decorate([\n    __param(0, ITelemetryService),\n    __param(1, INotificationService),\n    __param(2, IContextViewService),\n    __param(3, IKeybindingService),\n    __param(4, IMenuService),\n    __param(5, IContextKeyService)\n], ContextMenuService);\nexport { ContextMenuService };\nexport var ContextMenuMenuDelegate;\n(function (ContextMenuMenuDelegate) {\n    function is(thing) {\n        return thing && thing.menuId instanceof MenuId;\n    }\n    function transform(delegate, menuService, globalContextKeyService) {\n        if (!is(delegate)) {\n            return delegate;\n        }\n        const { menuId, menuActionOptions, contextKeyService } = delegate;\n        return Object.assign(Object.assign({}, delegate), { getActions: () => {\n                const target = [];\n                if (menuId) {\n                    const menu = menuService.createMenu(menuId, contextKeyService !== null && contextKeyService !== void 0 ? contextKeyService : globalContextKeyService);\n                    createAndFillInContextMenuActions(menu, menuActionOptions, target);\n                    menu.dispose();\n                }\n                if (!delegate.getActions) {\n                    return target;\n                }\n                else {\n                    return Separator.join(delegate.getActions(), target);\n                }\n            } });\n    }\n    ContextMenuMenuDelegate.transform = transform;\n})(ContextMenuMenuDelegate || (ContextMenuMenuDelegate = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, addDisposableListener, EventType, getActiveElement, isAncestor, isHTMLElement } from '../../../base/browser/dom.js';\nimport { StandardMouseEvent } from '../../../base/browser/mouseEvent.js';\nimport { Menu } from '../../../base/browser/ui/menu/menu.js';\nimport { ActionRunner } from '../../../base/common/actions.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { combinedDisposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { defaultMenuStyles } from '../../theme/browser/defaultStyles.js';\nexport class ContextMenuHandler {\n    constructor(contextViewService, telemetryService, notificationService, keybindingService) {\n        this.contextViewService = contextViewService;\n        this.telemetryService = telemetryService;\n        this.notificationService = notificationService;\n        this.keybindingService = keybindingService;\n        this.focusToReturn = null;\n        this.lastContainer = null;\n        this.block = null;\n        this.blockDisposable = null;\n        this.options = { blockMouse: true };\n    }\n    configure(options) {\n        this.options = options;\n    }\n    showContextMenu(delegate) {\n        const actions = delegate.getActions();\n        if (!actions.length) {\n            return; // Don't render an empty context menu\n        }\n        this.focusToReturn = document.activeElement;\n        let menu;\n        const shadowRootElement = isHTMLElement(delegate.domForShadowRoot) ? delegate.domForShadowRoot : undefined;\n        this.contextViewService.showContextView({\n            getAnchor: () => delegate.getAnchor(),\n            canRelayout: false,\n            anchorAlignment: delegate.anchorAlignment,\n            anchorAxisAlignment: delegate.anchorAxisAlignment,\n            render: (container) => {\n                var _a;\n                this.lastContainer = container;\n                const className = delegate.getMenuClassName ? delegate.getMenuClassName() : '';\n                if (className) {\n                    container.className += ' ' + className;\n                }\n                // Render invisible div to block mouse interaction in the rest of the UI\n                if (this.options.blockMouse) {\n                    this.block = container.appendChild($('.context-view-block'));\n                    this.block.style.position = 'fixed';\n                    this.block.style.cursor = 'initial';\n                    this.block.style.left = '0';\n                    this.block.style.top = '0';\n                    this.block.style.width = '100%';\n                    this.block.style.height = '100%';\n                    this.block.style.zIndex = '-1';\n                    (_a = this.blockDisposable) === null || _a === void 0 ? void 0 : _a.dispose();\n                    this.blockDisposable = addDisposableListener(this.block, EventType.MOUSE_DOWN, e => e.stopPropagation());\n                }\n                const menuDisposables = new DisposableStore();\n                const actionRunner = delegate.actionRunner || new ActionRunner();\n                actionRunner.onWillRun(evt => this.onActionRun(evt, !delegate.skipTelemetry), this, menuDisposables);\n                actionRunner.onDidRun(this.onDidActionRun, this, menuDisposables);\n                menu = new Menu(container, actions, {\n                    actionViewItemProvider: delegate.getActionViewItem,\n                    context: delegate.getActionsContext ? delegate.getActionsContext() : null,\n                    actionRunner,\n                    getKeyBinding: delegate.getKeyBinding ? delegate.getKeyBinding : action => this.keybindingService.lookupKeybinding(action.id)\n                }, defaultMenuStyles);\n                menu.onDidCancel(() => this.contextViewService.hideContextView(true), null, menuDisposables);\n                menu.onDidBlur(() => this.contextViewService.hideContextView(true), null, menuDisposables);\n                menuDisposables.add(addDisposableListener(window, EventType.BLUR, () => this.contextViewService.hideContextView(true)));\n                menuDisposables.add(addDisposableListener(window, EventType.MOUSE_DOWN, (e) => {\n                    if (e.defaultPrevented) {\n                        return;\n                    }\n                    const event = new StandardMouseEvent(e);\n                    let element = event.target;\n                    // Don't do anything as we are likely creating a context menu\n                    if (event.rightButton) {\n                        return;\n                    }\n                    while (element) {\n                        if (element === container) {\n                            return;\n                        }\n                        element = element.parentElement;\n                    }\n                    this.contextViewService.hideContextView(true);\n                }));\n                return combinedDisposable(menuDisposables, menu);\n            },\n            focus: () => {\n                menu === null || menu === void 0 ? void 0 : menu.focus(!!delegate.autoSelectFirstItem);\n            },\n            onHide: (didCancel) => {\n                var _a, _b, _c;\n                (_a = delegate.onHide) === null || _a === void 0 ? void 0 : _a.call(delegate, !!didCancel);\n                if (this.block) {\n                    this.block.remove();\n                    this.block = null;\n                }\n                (_b = this.blockDisposable) === null || _b === void 0 ? void 0 : _b.dispose();\n                this.blockDisposable = null;\n                if (!!this.lastContainer && (getActiveElement() === this.lastContainer || isAncestor(getActiveElement(), this.lastContainer))) {\n                    (_c = this.focusToReturn) === null || _c === void 0 ? void 0 : _c.focus();\n                }\n                this.lastContainer = null;\n            }\n        }, shadowRootElement, !!shadowRootElement);\n    }\n    onActionRun(e, logTelemetry) {\n        if (logTelemetry) {\n            this.telemetryService.publicLog2('workbenchActionExecuted', { id: e.action.id, from: 'contextMenu' });\n        }\n        this.contextViewService.hideContextView(false);\n    }\n    onDidActionRun(e) {\n        if (e.error && !isCancellationError(e.error)) {\n            this.notificationService.error(e.error);\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IContextViewService = createDecorator('contextViewService');\nexport const IContextMenuService = createDecorator('contextMenuService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { ContextView } from '../../../base/browser/ui/contextview/contextview.js';\nimport { Disposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nlet ContextViewService = class ContextViewService extends Disposable {\n    constructor(layoutService) {\n        super();\n        this.layoutService = layoutService;\n        this.currentViewDisposable = Disposable.None;\n        this.container = layoutService.hasContainer ? layoutService.container : null;\n        this.contextView = this._register(new ContextView(this.container, 1 /* ContextViewDOMPosition.ABSOLUTE */));\n        this.layout();\n        this._register(layoutService.onDidLayout(() => this.layout()));\n    }\n    // ContextView\n    setContainer(container, domPosition) {\n        this.contextView.setContainer(container, domPosition || 1 /* ContextViewDOMPosition.ABSOLUTE */);\n    }\n    showContextView(delegate, container, shadowRoot) {\n        if (container) {\n            if (container !== this.container || this.shadowRoot !== shadowRoot) {\n                this.container = container;\n                this.setContainer(container, shadowRoot ? 3 /* ContextViewDOMPosition.FIXED_SHADOW */ : 2 /* ContextViewDOMPosition.FIXED */);\n            }\n        }\n        else {\n            if (this.layoutService.hasContainer && this.container !== this.layoutService.container) {\n                this.container = this.layoutService.container;\n                this.setContainer(this.container, 1 /* ContextViewDOMPosition.ABSOLUTE */);\n            }\n        }\n        this.shadowRoot = shadowRoot;\n        this.contextView.show(delegate);\n        const disposable = toDisposable(() => {\n            if (this.currentViewDisposable === disposable) {\n                this.hideContextView();\n            }\n        });\n        this.currentViewDisposable = disposable;\n        return disposable;\n    }\n    getContextViewElement() {\n        return this.contextView.getViewElement();\n    }\n    layout() {\n        this.contextView.layout();\n    }\n    hideContextView(data) {\n        this.contextView.hide(data);\n    }\n};\nContextViewService = __decorate([\n    __param(0, ILayoutService)\n], ContextViewService);\nexport { ContextViewService };\n"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","AccessibilityService","_Disposable","_inherits","_super","_createSuper","_contextKeyService","_layoutService","_configurationService","_this","_classCallCheck","call","_accessibilitySupport","_onDidChangeScreenReaderOptimized","Emitter","_onDidChangeReducedMotion","_accessibilityModeEnabledContext","CONTEXT_ACCESSIBILITY_MODE_ENABLED","updateContextKey","set","isScreenReaderOptimized","_register","onDidChangeConfiguration","e","affectsConfiguration","fire","_configMotionReduced","getValue","onDidChangeScreenReaderOptimized","reduceMotionMatcher","window","matchMedia","_systemMotionReduced","matches","initReducedMotionListeners","_createClass","value","_this2","this","hasContainer","addDisposableListener","updateRootClasses","reduce","isMotionReduced","container","classList","toggle","onDidChangeReducedMotion","get","event","config","Disposable","IContextKeyService","ILayoutService","IConfigurationService","IAccessibilityService","createDecorator","RawContextKey","Categories","freeze","View","localize","original","Help","Test","Preferences","Developer","comment","acceptSelectedActionCommand","previewSelectedActionCommand","HeaderRenderer","add","text","document","createElement","append","element","_index","templateData","_a","_b","textContent","group","title","_templateData","ActionItemRenderer","_supportsPreview","_keybindingService","templateId","icon","className","keybinding","KeybindingLabel","OS","data","_c","ThemeIcon","color","style","asCssVariable","id","Codicon","item","label","stripNewlines","dom","show","hide","actionTitle","lookupKeybinding","getLabel","previewTitle","disabled","description","HighlightedLabel","$","IKeybindingService","AcceptSelectedEvent","_UIEvent","_wrapNativeSuper","UIEvent","PreviewSelectedEvent","_UIEvent2","_super2","ActionList","_super3","user","preview","items","_delegate","_contextViewService","_actionLineHeight","_headerLineHeight","domNode","virtualDelegate","getHeight","kind","getTemplateId","_list","List","keyboardSupport","accessibilityProvider","getAriaLabel","getWidgetAriaLabel","getRole","getWidgetRole","defaultListStyles","onMouseClick","onListClick","onMouseOver","onListHover","onDidChangeFocus","domFocus","onDidChangeSelection","onListSelection","_allMenuItems","splice","focusNext","didCancel","onHide","hideContextView","minWidth","numHeaders","filter","heightWithHeaders","layout","itemWidths","map","_","index","getElementById","getElementID","width","getBoundingClientRect","Math","max","apply","_toConsumableArray","concat","height","min","body","clientHeight","focusPrevious","undefined","focusCondition","focused","getFocus","focusIndex","setSelection","elements","onSelect","browserEvent","setFocus","str","replace","IContextViewService","ActionWidgetContextKeys","Visible","IActionWidgetService","ActionWidgetService","_instantiationService","MutableDisposable","supportsPreview","delegate","anchor","actionBarActions","visibleContext","bindTo","list","createInstance","showContextView","getAnchor","render","_renderWidget","reset","_onWidgetClosed","acceptSelected","clear","_this3","widget","appendChild","Error","renderDisposables","DisposableStore","menuBlock","block","EventType","MOUSE_DOWN","stopPropagation","pointerBlockDiv","pointerBlock","POINTER_MOVE","remove","actionBarWidth","actionBar","_createActionBar","getContainer","parentElement","offsetWidth","focusTracker","trackFocus","onDidBlur","actions","ActionBar","push","IInstantiationService","registerSingleton","weight","registerAction2","_Action","_class","precondition","primary","secondary","accessor","Action2","_Action2","_class2","mac","widgetService","_Action3","_class3","_super4","_Action4","_class4","_super5","_Action5","_class5","_super6","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","createAndFillInContextMenuActions","menu","options","primaryGroup","groups","getActions","modifierKeyEmitter","ModifierKeyEmitter","fillInActions","keyStatus","altKey","isWindows","isLinux","shiftKey","actionGroup","createAndFillInActionBarActions","shouldInlineSubmenu","useSeparatorsInPrimaryActions","useAlternativeActions","primaryBucket","secondaryBucket","isPrimaryAction","Array","isArray","_step","submenuInfo","Set","_iterator","_createForOfIteratorHelper","s","n","_step$value","_slicedToArray","Separator","_step3","_iterator3","action","MenuItemAction","alt","newLen","SubmenuAction","err","f","_step2","_iterator2","_step2$value","submenuActions","MenuEntryActionViewItem","_ActionViewItem","_notificationService","_themeService","_contextMenuService","class","draggable","hoverDelegate","_wantsAltCommand","_itemClassDispose","_altKey","_action","_menuItemAction","_regeneratorRuntime","mark","_callee","wrap","_context","prev","preventDefault","actionRunner","run","_commandAction","t0","error","stop","_get","_getPrototypeOf","prototype","_updateItemClass","mouseOver","alternativeKeyDown","updateAltState","wantsAltCommand","enabled","updateLabel","updateTooltip","updateClass","keybindingLabel","tooltip","altTooltip","altKeybinding","altKeybindingLabel","altTitleSection","UILabelProvider","thing","checked","toggled","condition","_label$classList","iconClasses","toDisposable","_label$classList2","backgroundImage","isDark","getColorTheme","type","asCSSUrl","dark","light","combinedDisposable","onDidColorThemeChange","ActionViewItem","INotificationService","IThemeService","IContextMenuService","SubmenuEntryActionViewItem","_DropdownMenuActionVi","_this4","dropdownOptions","assign","create","menuAsChild","classNames","_this5","assertType","setBackgroundImage","DropdownMenuActionViewItem","DropdownWithDefaultActionViewItem","_BaseActionViewItem","submenuAction","_menuService","_instaService","_storageService","_this6","defaultAction","_container","_options","_storageKey","submenu","defaultActionId","find","a","_defaultAction","_getDefaultActionKeybindingLabel","ActionRunner","_dropdown","onDidRun","update","lastAction","store","dispose","_ActionRunner","context","_callee2","_context2","prepend","defaultActionKeybinding","renderKeybindingWithDefaultActionLabel","kb","newContext","setActionContext","_this7","primaryContainer","StandardKeyboardEvent","equals","tabIndex","focus","dropdownContainer","setFocusable","fromRight","blur","focusable","BaseActionViewItem","IMenuService","IStorageService","SubmenuEntrySelectActionViewItem","_SelectActionViewItem","contextViewService","_this8","isDisabled","defaultSelectBoxStyles","ariaLabel","optionsAsChildren","select","findIndex","borderColor","selectBorder","option","SelectActionViewItem","createActionViewItem","instaService","SubmenuItemAction","isSelection","rememberDefaultAction","WorkbenchToolBar","_ToolBar","keybindingService","telemetryService","getKeyBinding","allowContextMenu","_sessionDisposables","_store","telemetrySource","publicLog2","from","_primary","_secondary","menuIds","slice","toggleActions","toggleActionsCheckedCount","extraSecondary","someAreHidden","hiddenItemStrategy","hideActions","isHidden","maxNumberOfItems","count","coalesceInPlace","getElement","_d","getItemAction","hideAction","noHide","toAction","resetMenu","resetHiddenStates","showContextMenu","menuId","contextMenu","menuActionOptions","renderShortTitle","menuOptions","contextKeyService","ToolBar","ITelemetryService","__rest","t","p","hasOwnProperty","indexOf","getOwnPropertySymbols","propertyIsEnumerable","isIMenuItem","command","isISubmenuItem","MenuId","identifier","_instances","has","TypeError","Map","CommandPalette","DebugBreakpointsContext","DebugCallStackContext","DebugConsoleContext","DebugVariablesContext","DebugWatchContext","DebugToolBar","DebugToolBarStop","EditorContext","SimpleEditorContext","EditorContent","EditorContextCopy","EditorContextPeek","EditorContextShare","EditorTitle","EditorTitleRun","EditorTitleContext","EmptyEditorGroup","EmptyEditorGroupContext","ExplorerContext","ExtensionContext","GlobalActivity","CommandCenter","LayoutControlMenuSubmenu","LayoutControlMenu","MenubarMainMenu","MenubarAppearanceMenu","MenubarDebugMenu","MenubarEditMenu","MenubarCopy","MenubarFileMenu","MenubarGoMenu","MenubarHelpMenu","MenubarLayoutMenu","MenubarNewBreakpointMenu","PanelAlignmentMenu","PanelPositionMenu","MenubarPreferencesMenu","MenubarRecentMenu","MenubarSelectionMenu","MenubarShare","MenubarSwitchEditorMenu","MenubarSwitchGroupMenu","MenubarTerminalMenu","MenubarViewMenu","MenubarHomeMenu","OpenEditorsContext","ProblemsPanelContext","SCMChangeContext","SCMResourceContext","SCMResourceFolderContext","SCMResourceGroupContext","SCMSourceControl","SCMTitle","SearchContext","SearchActionMenu","StatusBarWindowIndicatorMenu","StatusBarRemoteIndicatorMenu","StickyScrollContext","TestItem","TestItemGutter","TestPeekElement","TestPeekTitle","TouchBarContext","TitleBarContext","TitleBarTitleContext","TunnelContext","TunnelPrivacy","TunnelProtocol","TunnelPortInline","TunnelTitle","TunnelLocalAddressInline","TunnelOriginInline","ViewItemContext","ViewContainerTitle","ViewContainerTitleContext","ViewTitle","ViewTitleContext","CommentEditorActions","CommentThreadTitle","CommentThreadActions","CommentThreadAdditionalActions","CommentThreadTitleContext","CommentThreadCommentContext","CommentTitle","CommentActions","InteractiveToolbar","InteractiveCellTitle","InteractiveCellDelete","InteractiveCellExecute","InteractiveInputExecute","NotebookToolbar","NotebookCellTitle","NotebookCellDelete","NotebookCellInsert","NotebookCellBetween","NotebookCellListTop","NotebookCellExecute","NotebookCellExecutePrimary","NotebookDiffCellInputTitle","NotebookDiffCellMetadataTitle","NotebookDiffCellOutputsTitle","NotebookOutputToolbar","NotebookEditorLayoutConfigure","NotebookKernelSource","BulkEditTitle","BulkEditContext","TimelineItemContext","TimelineTitle","TimelineTitleContext","TimelineFilterSubMenu","AccountsContext","PanelTitle","AuxiliaryBarTitle","TerminalInstanceContext","TerminalEditorInstanceContext","TerminalNewDropdownContext","TerminalTabContext","TerminalTabEmptyAreaContext","TerminalInlineTabContext","WebviewContext","InlineCompletionsActions","NewFile","MergeInput1Toolbar","MergeInput2Toolbar","MergeBaseToolbar","MergeInputResultToolbar","InlineSuggestionToolbar","MenuRegistryChangeEvent","candidate","_all","events","ids","MenuRegistry","_commands","_menuItems","_onDidChangeMenu","MicrotaskEmitter","merge","onDidChangeMenu","for","delete","forEach","LinkedList","rm","appendMenuItem","_appendImplicitItems","_SubmenuAction","_commandService","contextMatchesRules","_this$_commandService","runArgs","arg","shouldForwardArgs","_len","args","_key","executeCommand","shortTitle","ICommandService","ctor","disposables","f1","CommandsRegistry","handler","_len2","_key2","_step4","_iterator4","when","addCommand","_step5","_iterator5","KeybindingsRegistry","ContextKeyExpr","MenuService","storageService","_hiddenStates","PersistedMenuHideState","MenuImpl","emitEventsForSubmenuChanges","eventDebounceDelay","_disposables","_onDidChange","onDidChange","_ignoreChangeEvent","_hiddenByDefaultCache","raw","_data","JSON","parse","onDidChangeValue","console","log","commandId","hidden","hiddenByDefault","_isHiddenByDefault","state","includes","entries","idx","removeFastWithoutKeepingOrder","_persist","menus","stringify","MenuInfo","_id","_collectContextKeysForSubmenus","_menuGroups","_structureContextKeys","_preconditionContextKeys","_toggledContextKeys","refresh","menuItems","sort","_compareMenuItems","groupName","_collectContextKeys","_fillInKbExprKeys","toggledExpression","_group","activeActions","isMenuItem","setDefaultState","isHiddenByDefault","menuHide","createMenuHide","createActionGroups","g","exp","keys","b","aGroup","bGroup","localeCompare","aPrio","order","bPrio","_compareTitles","aStr","bStr","hiddenStates","commandService","_menuInfo","rebuildMenuSoon","RunOnceScheduler","isStructuralChange","isEnablementChange","isToggleChange","schedule","lazyListener","DebounceEmitter","onWillAddFirstListener","onDidChangeContext","affectsSome","structureContextKeys","preconditionContextKeys","toggledContextKeys","onDidRemoveLastListener","bind","delay","_step6","_iterator6","states","updateHidden","IAudioCueService","Sound","fileName","register","warning","foldedArea","break","quickFixes","taskCompleted","taskFailed","terminalBell","diffLineInserted","diffLineDeleted","diffLineModified","AudioCue","sound","name","settingsKey","audioCue","_audioCues","inlineSuggestion","terminalQuickFix","onDebugBreak","noInlayHints","terminalCommandFailed","notebookCellCompleted","notebookCellFailed","BrowserClipboardService","layoutService","logService","mapTextToType","findText","resources","isSafari","isWebkitWebView","installWebKitWriteTextWorkaround","currentWritePromise","DeferredPromise","webKitPendingClipboardWritePromise","isSettled","cancel","navigator","clipboard","write","ClipboardItem","catch","isRejected","activeElement","textArea","abrupt","complete","writeText","sent","position","execCommand","HTMLElement","removeChild","_callee3","_context3","readText","_callee4","_context4","_callee5","_context5","_callee6","_context6","ILogService","IClipboardService","_onDidRegisterCommand","onDidRegisterCommand","idOrCommand","registerCommand","constraints","constraint","actualHandler","validateConstraints","commands","removeFn","unshift","ret","isEmpty","oldId","newId","_accessor$get","Iterable","getCommand","toValuesTree","properties","conflictReporter","root","addToValueTree","settingsTreeRoot","segments","split","last","pop","curr","obj","join","removeFromValueTree","valueTree","doRemoveFromValueTree","first","shift","getConfigurationValue","settingPath","defaultValue","path","current","component","accessSetting","getLanguageTagSettingPlainKey","settingKey","isFrozen","objects","ConfigurationModel","_contents","_keys","_overrides","overrideConfigurations","_rawConfiguration","rawConfigurationModels","parser","ConfigurationModelParser","parseRaw","configurationModel","previous","section","contents","overrideIdentifier","rawConfiguration","override","getOverrideValue","merged","overrideContents","getContentsForOverrideIdentifer","overrideConfigurationModel","createOverrideConfigurationModel","overrides","raws","others","_i","_others","other","mergeContents","_loop","_override$keys","otherOverride","_overrides$filter","o","arrays","identifiers","every","contentsForKey","overrideContentsForKey","source","_i2","_Object$keys","types","contentsForIdentifierOnly","contentsToMerge","updateValue","OVERRIDE_PROPERTY_REGEX","overrideIdentifiersFromKey","message","_name","_raw","_configurationModel","_restrictedConfigurations","_this$doParseRaw","doParseRaw","restricted","hasExcludedProperties","configurationProperties","Registry","Extensions","getConfigurationProperties","filtered","toOverrides","filterOverriddenProperties","scopes","skipRestricted","propertySchema","scope","_i3","_Object$keys2","overrideRaw","keyInOverrideRaw","ConfigurationInspectValue","_value","overrideIdentifiers","defaultConfiguration","policyConfiguration","applicationConfiguration","userConfiguration","localUserConfiguration","remoteUserConfiguration","workspaceConfiguration","folderConfigurationModel","memoryConfigurationModel","model","inspectValue","inspect","_userInspectValue","userInspectValue","Configuration","_defaultConfiguration","_policyConfiguration","_applicationConfiguration","_localUserConfiguration","_remoteUserConfiguration","_workspaceConfiguration","_folderConfigurations","ResourceMap","_memoryConfiguration","_memoryConfigurationByResource","_workspaceConsolidatedConfiguration","_foldersConsolidatedConfigurations","_userConfiguration","workspace","getConsolidatedConfigurationModel","memoryConfiguration","resource","removeValue","setValue","consolidateConfigurationModel","getFolderConfigurationModelForResource","size","getConsolidatedConfigurationModelForResource","_ref","consolidateConfiguration","getWorkspaceConsolidatedConfiguration","getFolder","getFolderConsolidatedConfiguration","uri","memoryConfigurationForResource","folder","folderConsolidatedConfiguration","workspaceConsolidateConfiguration","folderConfiguration","defaults","policy","application","folders","_this4$_folderConfigu","parseConfigurationModel","URI","ConfigurationChangeEvent","change","currentConfiguraiton","currentWorkspace","_marker","_markerCode1","charCodeAt","_markerCode2","affectedKeys","_previousConfiguration","_step7","_iterator7","_step8","_iterator8","_step10","_iterator10","_affectsConfigStr","_step9","_iterator9","needle","pos","code","value1","previousConfiguration","value2","allSettings","patternProperties","applicationSettings","machineSettings","machineOverridableSettings","windowSettings","resourceSettings","resourceLanguageSettingsSchemaId","contributionRegistry","JSONExtensions","ConfigurationRegistry","_onDidSchemaChange","_onDidUpdateConfiguration","configurationDefaultsOverrides","defaultLanguageConfigurationOverridesNode","nls","configurationContributors","resourceLanguageSettingsSchema","additionalProperties","allowTrailingCommas","allowComments","policyConfigurations","excludedConfigurationProperties","registerSchema","registerOverridePropertyPatternKey","configuration","validate","registerConfigurations","configurations","doRegisterConfigurations","configurationDefaults","doRegisterDefaultConfigurations","defaultsOverrides","bucket","test","configurationDefaultOverride","valuesSources","plainKey","property","default","$ref","defaultDefaultValue","defaultValueSource","updatePropertyDefaultValue","updateSchema","doRegisterOverrideIdentifiers","updateOverridePropertyPatternKey","validateAndRegisterProperties","extensionInfo","restrictedProperties","registerJSONConfiguration","validateProperty","included","deprecationMessage","markdownDeprecationMessage","subNodes","allOf","node","values","overrideIdentifierProperty","resourceLanguagePropertiesSchema","errorMessage","OVERRIDE_PROPERTY_PATTERN","configurationdefaultOverride","defaultSource","getDefaultValue","OVERRIDE_IDENTIFIER_PATTERN","OVERRIDE_IDENTIFIER_REGEX","RegExp","exec","trim","distinct","configurationRegistry","schema","getPolicyConfigurations","DefaultConfiguration","resetConfigurationModel","updateConfigurationModel","getConfigurationDefaultOverrides","defaultOverrideValue","addValue","KEYBINDING_CONTEXT_ATTR","Context","parent","_parent","NullContext","_Context","INSTANCE","ConfigAwareContextValuesContainer","_Context2","emitter","_values","TernarySearchTree","_listener","allKeys","ArrayContextKeyChangeEvent","changedKeys","configKey","contextKey","cachedItems","findSuperstr","_ref3","deleteSuperstr","_keyPrefix","substr","configValue","ContextKey","service","_service","_defaultValue","setContext","removeContext","getContextKeyValue","SimpleContextKeyChangeEvent","CompositeContextKeyChangeEvent","evt","allKeysContainedIn","AbstractContextKeyService","myContextId","_onDidChangeContext","PauseableEmitter","input","_isDisposed","_myContextId","callback","pause","resume","ScopedContextKeyService","rules","getContextValuesContainer","evaluate","myContext","hasAttribute","attr","getAttribute","parseInt","NaN","findContextAttr","ContextKeyService","_AbstractContextKeySe","configurationService","_contexts","_toDispose","_lastContextId","contextId","parentContextId","_AbstractContextKeySe2","createChildContext","_parentChangeListener","_updateParentChangeListener","_domNode","extraInfo","setAttribute","String","thisContextValues","disposeContext","removeAttribute","contextValue","createKey","cloneAndChange","$mid","toString","stringifyURIs","seen","info","CONSTANT_VALUES","isMacintosh","isWeb","isEdge","isFirefox","isChrome","ContextKeyDefinedExpr","ContextKeyEqualsExpr","ContextKeyRegexExpr","ContextKeyNotExpr","expr","ContextKeyAndExpr","ContextKeyOrExpr","serialized","_deserializeOrExpression","pieces","_deserializeAndExpression","_deserializeOne","serializedOne","ContextKeyNotEqualsExpr","_deserializeValue","_deserializeRegexValue","ContextKeyNotInExpr","ContextKeyInExpr","ContextKeyGreaterEqualsExpr","ContextKeyGreaterExpr","ContextKeySmallerEqualsExpr","ContextKeySmallerExpr","serializedValue","m","isFalsyOrWhitespace","start","end","lastIndexOf","caseIgnoreFlag","_e","expressionsAreEqualWithConstantSubstitution","aExpr","substituteConstants","bExpr","cmp","ContextKeyFalseExpr","ContextKeyTrueExpr","negated","cmp1","constantValue","cmp2","trueValue","valueKey","_negated","falseValue","withFloatOrStr","parseFloat","isNaN","regexp","thisSource","otherSource","flags","ContextKeyNotRegexExpr","_actual","actual","eliminateConstantsInArray","arr","newArr","len","newExpr","j","exprArr","serialize","negate","_expr","extraRedundantCheck","_normalizeArr","hasTrue","lastElement","secondToLastElement","isFinished","resultElement","el","LEFT","RIGHT","all","getTerminals","left","right","hasFalse","_ContextKeyDefinedExp","metaOrHide","_info","key1","key2","implies","q","allElementsIncluded","pIndex","qIndex","IsWindowsContext","InputFocusedContextKey","isIOS","isMobile","ContextMenuMenuDelegate","ContextMenuHandler","notificationService","focusToReturn","lastContainer","blockDisposable","blockMouse","shadowRootElement","isHTMLElement","domForShadowRoot","canRelayout","anchorAlignment","anchorAxisAlignment","getMenuClassName","cursor","top","zIndex","menuDisposables","onWillRun","onActionRun","skipTelemetry","onDidActionRun","Menu","actionViewItemProvider","getActionViewItem","getActionsContext","defaultMenuStyles","onDidCancel","defaultPrevented","StandardMouseEvent","rightButton","autoSelectFirstItem","getActiveElement","isAncestor","logTelemetry","isCancellationError","ContextMenuService","menuService","_contextMenuHandler","_onDidShowContextMenu","_onDidHideContextMenu","contextMenuHandler","configure","transform","resetKeyStatus","globalContextKeyService","createMenu","ContextViewService","currentViewDisposable","contextView","ContextView","onDidLayout","domPosition","setContainer","shadowRoot","disposable","getViewElement"],"sourceRoot":""}