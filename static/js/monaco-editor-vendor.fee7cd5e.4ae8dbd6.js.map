{"version":3,"file":"static/js/monaco-editor-vendor.fee7cd5e.4ae8dbd6.js","mappings":"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","sources":["../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/dialogs/common/dialogs.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/dnd/browser/dnd.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/editor/common/editor.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/extensions/common/extensions.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/files/common/files.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/history/browser/contextScopedHistoryWidget.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/history/browser/historyWidgetKeybindingHint.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/instantiation/common/descriptors.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/instantiation/common/extensions.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/instantiation/common/graph.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiationService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/instantiation/common/serviceCollection.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/jsonschemas/common/jsonContributionRegistry.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/abstractKeybindingService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybinding.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingResolver.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingsRegistry.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/resolvedKeybindingItem.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/baseResolvedKeybinding.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/usLayoutResolvedKeybinding.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/label/common/label.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/layout/browser/layoutService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/list/browser/listService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/log/common/log.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/log/common/logService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/markers/common/markerService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/markers/common/markers.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/opener/browser/link.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/opener/common/opener.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/progress/common/progress.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/pickerQuickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/commandsQuickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/helpQuickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputBox.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputUtils.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputList.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInput.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickInput.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/registry/common/platform.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/severityIcon/browser/severityIcon.js"],"sourcesContent":["import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IDialogService = createDecorator('dialogService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { DataTransfers } from '../../../base/browser/dnd.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { parse } from '../../../base/common/marshalling.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { extractSelection } from '../../opener/common/opener.js';\nimport { Registry } from '../../registry/common/platform.js';\n//#region Editor / Resources DND\nexport const CodeDataTransfers = {\n    EDITORS: 'CodeEditors',\n    FILES: 'CodeFiles'\n};\nexport function extractEditorsDropData(e) {\n    var _a;\n    const editors = [];\n    if (e.dataTransfer && e.dataTransfer.types.length > 0) {\n        // Data Transfer: Code Editors\n        const rawEditorsData = e.dataTransfer.getData(CodeDataTransfers.EDITORS);\n        if (rawEditorsData) {\n            try {\n                editors.push(...parse(rawEditorsData));\n            }\n            catch (error) {\n                // Invalid transfer\n            }\n        }\n        // Data Transfer: Resources\n        else {\n            try {\n                const rawResourcesData = e.dataTransfer.getData(DataTransfers.RESOURCES);\n                editors.push(...createDraggedEditorInputFromRawResourcesData(rawResourcesData));\n            }\n            catch (error) {\n                // Invalid transfer\n            }\n        }\n        // Check for native file transfer\n        if ((_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.files) {\n            for (let i = 0; i < e.dataTransfer.files.length; i++) {\n                const file = e.dataTransfer.files[i];\n                if (file && file.path /* Electron only */) {\n                    try {\n                        editors.push({ resource: URI.file(file.path), isExternal: true, allowWorkspaceOpen: true });\n                    }\n                    catch (error) {\n                        // Invalid URI\n                    }\n                }\n            }\n        }\n        // Check for CodeFiles transfer\n        const rawCodeFiles = e.dataTransfer.getData(CodeDataTransfers.FILES);\n        if (rawCodeFiles) {\n            try {\n                const codeFiles = JSON.parse(rawCodeFiles);\n                for (const codeFile of codeFiles) {\n                    editors.push({ resource: URI.file(codeFile), isExternal: true, allowWorkspaceOpen: true });\n                }\n            }\n            catch (error) {\n                // Invalid transfer\n            }\n        }\n        // Workbench contributions\n        const contributions = Registry.as(Extensions.DragAndDropContribution).getAll();\n        for (const contribution of contributions) {\n            const data = e.dataTransfer.getData(contribution.dataFormatKey);\n            if (data) {\n                try {\n                    editors.push(...contribution.getEditorInputs(data));\n                }\n                catch (error) {\n                    // Invalid transfer\n                }\n            }\n        }\n    }\n    // Prevent duplicates: it is possible that we end up with the same\n    // dragged editor multiple times because multiple data transfers\n    // are being used (https://github.com/microsoft/vscode/issues/128925)\n    const coalescedEditors = [];\n    const seen = new ResourceMap();\n    for (const editor of editors) {\n        if (!editor.resource) {\n            coalescedEditors.push(editor);\n        }\n        else if (!seen.has(editor.resource)) {\n            coalescedEditors.push(editor);\n            seen.set(editor.resource, true);\n        }\n    }\n    return coalescedEditors;\n}\nexport function createDraggedEditorInputFromRawResourcesData(rawResourcesData) {\n    const editors = [];\n    if (rawResourcesData) {\n        const resourcesRaw = JSON.parse(rawResourcesData);\n        for (const resourceRaw of resourcesRaw) {\n            if (resourceRaw.indexOf(':') > 0) { // mitigate https://github.com/microsoft/vscode/issues/124946\n                const { selection, uri } = extractSelection(URI.parse(resourceRaw));\n                editors.push({ resource: uri, options: { selection } });\n            }\n        }\n    }\n    return editors;\n}\nclass DragAndDropContributionRegistry {\n    constructor() {\n        this._contributions = new Map();\n    }\n    getAll() {\n        return this._contributions.values();\n    }\n}\nexport const Extensions = {\n    DragAndDropContribution: 'workbench.contributions.dragAndDrop'\n};\nRegistry.add(Extensions.DragAndDropContribution, new DragAndDropContributionRegistry());\n//#endregion\n","export var EditorOpenSource;\n(function (EditorOpenSource) {\n    /**\n     * Default: the editor is opening via a programmatic call\n     * to the editor service API.\n     */\n    EditorOpenSource[EditorOpenSource[\"API\"] = 0] = \"API\";\n    /**\n     * Indicates that a user action triggered the opening, e.g.\n     * via mouse or keyboard use.\n     */\n    EditorOpenSource[EditorOpenSource[\"USER\"] = 1] = \"USER\";\n})(EditorOpenSource || (EditorOpenSource = {}));\n","/**\n * **!Do not construct directly!**\n *\n * **!Only static methods because it gets serialized!**\n *\n * This represents the \"canonical\" version for an extension identifier. Extension ids\n * have to be case-insensitive (due to the marketplace), but we must ensure case\n * preservation because the extension API is already public at this time.\n *\n * For example, given an extension with the publisher `\"Hello\"` and the name `\"World\"`,\n * its canonical extension identifier is `\"Hello.World\"`. This extension could be\n * referenced in some other extension's dependencies using the string `\"hello.world\"`.\n *\n * To make matters more complicated, an extension can optionally have an UUID. When two\n * extensions have the same UUID, they are considered equal even if their identifier is different.\n */\nexport class ExtensionIdentifier {\n    constructor(value) {\n        this.value = value;\n        this._lower = value.toLowerCase();\n    }\n    /**\n     * Gives the value by which to index (for equality).\n     */\n    static toKey(id) {\n        if (typeof id === 'string') {\n            return id.toLowerCase();\n        }\n        return id._lower;\n    }\n}\n","//#endregion\n//#region Utilities\nexport var FileKind;\n(function (FileKind) {\n    FileKind[FileKind[\"FILE\"] = 0] = \"FILE\";\n    FileKind[FileKind[\"FOLDER\"] = 1] = \"FOLDER\";\n    FileKind[FileKind[\"ROOT_FOLDER\"] = 2] = \"ROOT_FOLDER\";\n})(FileKind || (FileKind = {}));\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { FindInput } from '../../../base/browser/ui/findinput/findInput.js';\nimport { ReplaceInput } from '../../../base/browser/ui/findinput/replaceInput.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { KeybindingsRegistry } from '../../keybinding/common/keybindingsRegistry.js';\nimport { localize } from '../../../nls.js';\nimport { DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nexport const historyNavigationVisible = new RawContextKey('suggestWidgetVisible', false, localize('suggestWidgetVisible', \"Whether suggestion are visible\"));\nconst HistoryNavigationWidgetFocusContext = 'historyNavigationWidgetFocus';\nconst HistoryNavigationForwardsEnablementContext = 'historyNavigationForwardsEnabled';\nconst HistoryNavigationBackwardsEnablementContext = 'historyNavigationBackwardsEnabled';\nlet lastFocusedWidget = undefined;\nconst widgets = [];\nexport function registerAndCreateHistoryNavigationContext(scopedContextKeyService, widget) {\n    if (widgets.includes(widget)) {\n        throw new Error('Cannot register the same widget multiple times');\n    }\n    widgets.push(widget);\n    const disposableStore = new DisposableStore();\n    const historyNavigationWidgetFocus = new RawContextKey(HistoryNavigationWidgetFocusContext, false).bindTo(scopedContextKeyService);\n    const historyNavigationForwardsEnablement = new RawContextKey(HistoryNavigationForwardsEnablementContext, true).bindTo(scopedContextKeyService);\n    const historyNavigationBackwardsEnablement = new RawContextKey(HistoryNavigationBackwardsEnablementContext, true).bindTo(scopedContextKeyService);\n    const onDidFocus = () => {\n        historyNavigationWidgetFocus.set(true);\n        lastFocusedWidget = widget;\n    };\n    const onDidBlur = () => {\n        historyNavigationWidgetFocus.set(false);\n        if (lastFocusedWidget === widget) {\n            lastFocusedWidget = undefined;\n        }\n    };\n    // Check for currently being focused\n    if (widget.element === document.activeElement) {\n        onDidFocus();\n    }\n    disposableStore.add(widget.onDidFocus(() => onDidFocus()));\n    disposableStore.add(widget.onDidBlur(() => onDidBlur()));\n    disposableStore.add(toDisposable(() => {\n        widgets.splice(widgets.indexOf(widget), 1);\n        onDidBlur();\n    }));\n    return {\n        historyNavigationForwardsEnablement,\n        historyNavigationBackwardsEnablement,\n        dispose() {\n            disposableStore.dispose();\n        }\n    };\n}\nlet ContextScopedFindInput = class ContextScopedFindInput extends FindInput {\n    constructor(container, contextViewProvider, options, contextKeyService) {\n        super(container, contextViewProvider, options);\n        const scopedContextKeyService = this._register(contextKeyService.createScoped(this.inputBox.element));\n        this._register(registerAndCreateHistoryNavigationContext(scopedContextKeyService, this.inputBox));\n    }\n};\nContextScopedFindInput = __decorate([\n    __param(3, IContextKeyService)\n], ContextScopedFindInput);\nexport { ContextScopedFindInput };\nlet ContextScopedReplaceInput = class ContextScopedReplaceInput extends ReplaceInput {\n    constructor(container, contextViewProvider, options, contextKeyService, showReplaceOptions = false) {\n        super(container, contextViewProvider, showReplaceOptions, options);\n        const scopedContextKeyService = this._register(contextKeyService.createScoped(this.inputBox.element));\n        this._register(registerAndCreateHistoryNavigationContext(scopedContextKeyService, this.inputBox));\n    }\n};\nContextScopedReplaceInput = __decorate([\n    __param(3, IContextKeyService)\n], ContextScopedReplaceInput);\nexport { ContextScopedReplaceInput };\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'history.showPrevious',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetFocusContext), ContextKeyExpr.equals(HistoryNavigationBackwardsEnablementContext, true), historyNavigationVisible.isEqualTo(false)),\n    primary: 16 /* KeyCode.UpArrow */,\n    secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n    handler: (accessor) => {\n        lastFocusedWidget === null || lastFocusedWidget === void 0 ? void 0 : lastFocusedWidget.showPreviousValue();\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'history.showNext',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetFocusContext), ContextKeyExpr.equals(HistoryNavigationForwardsEnablementContext, true), historyNavigationVisible.isEqualTo(false)),\n    primary: 18 /* KeyCode.DownArrow */,\n    secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n    handler: (accessor) => {\n        lastFocusedWidget === null || lastFocusedWidget === void 0 ? void 0 : lastFocusedWidget.showNextValue();\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function showHistoryKeybindingHint(keybindingService) {\n    var _a, _b;\n    return ((_a = keybindingService.lookupKeybinding('history.showPrevious')) === null || _a === void 0 ? void 0 : _a.getElectronAccelerator()) === 'Up' && ((_b = keybindingService.lookupKeybinding('history.showNext')) === null || _b === void 0 ? void 0 : _b.getElectronAccelerator()) === 'Down';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class SyncDescriptor {\n    constructor(ctor, staticArguments = [], supportsDelayedInstantiation = false) {\n        this.ctor = ctor;\n        this.staticArguments = staticArguments;\n        this.supportsDelayedInstantiation = supportsDelayedInstantiation;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { SyncDescriptor } from './descriptors.js';\nconst _registry = [];\nexport function registerSingleton(id, ctorOrDescriptor, supportsDelayedInstantiation) {\n    if (!(ctorOrDescriptor instanceof SyncDescriptor)) {\n        ctorOrDescriptor = new SyncDescriptor(ctorOrDescriptor, [], Boolean(supportsDelayedInstantiation));\n    }\n    _registry.push([id, ctorOrDescriptor]);\n}\nexport function getSingletonServiceDescriptors() {\n    return _registry;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// ------ internal util\nexport var _util;\n(function (_util) {\n    _util.serviceIds = new Map();\n    _util.DI_TARGET = '$di$target';\n    _util.DI_DEPENDENCIES = '$di$dependencies';\n    function getServiceDependencies(ctor) {\n        return ctor[_util.DI_DEPENDENCIES] || [];\n    }\n    _util.getServiceDependencies = getServiceDependencies;\n})(_util || (_util = {}));\nexport const IInstantiationService = createDecorator('instantiationService');\nfunction storeServiceDependency(id, target, index) {\n    if (target[_util.DI_TARGET] === target) {\n        target[_util.DI_DEPENDENCIES].push({ id, index });\n    }\n    else {\n        target[_util.DI_DEPENDENCIES] = [{ id, index }];\n        target[_util.DI_TARGET] = target;\n    }\n}\n/**\n * The *only* valid way to create a {{ServiceIdentifier}}.\n */\nexport function createDecorator(serviceId) {\n    if (_util.serviceIds.has(serviceId)) {\n        return _util.serviceIds.get(serviceId);\n    }\n    const id = function (target, key, index) {\n        if (arguments.length !== 3) {\n            throw new Error('@IServiceName-decorator can only be used to decorate a parameter');\n        }\n        storeServiceDependency(id, target, index);\n    };\n    id.toString = () => serviceId;\n    _util.serviceIds.set(serviceId, id);\n    return id;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class Node {\n    constructor(key, data) {\n        this.key = key;\n        this.data = data;\n        this.incoming = new Map();\n        this.outgoing = new Map();\n    }\n}\nexport class Graph {\n    constructor(_hashFn) {\n        this._hashFn = _hashFn;\n        this._nodes = new Map();\n        // empty\n    }\n    roots() {\n        const ret = [];\n        for (const node of this._nodes.values()) {\n            if (node.outgoing.size === 0) {\n                ret.push(node);\n            }\n        }\n        return ret;\n    }\n    insertEdge(from, to) {\n        const fromNode = this.lookupOrInsertNode(from);\n        const toNode = this.lookupOrInsertNode(to);\n        fromNode.outgoing.set(toNode.key, toNode);\n        toNode.incoming.set(fromNode.key, fromNode);\n    }\n    removeNode(data) {\n        const key = this._hashFn(data);\n        this._nodes.delete(key);\n        for (const node of this._nodes.values()) {\n            node.outgoing.delete(key);\n            node.incoming.delete(key);\n        }\n    }\n    lookupOrInsertNode(data) {\n        const key = this._hashFn(data);\n        let node = this._nodes.get(key);\n        if (!node) {\n            node = new Node(key, data);\n            this._nodes.set(key, node);\n        }\n        return node;\n    }\n    isEmpty() {\n        return this._nodes.size === 0;\n    }\n    toString() {\n        const data = [];\n        for (const [key, value] of this._nodes) {\n            data.push(`${key}\\n\\t(-> incoming)[${[...value.incoming.keys()].join(', ')}]\\n\\t(outgoing ->)[${[...value.outgoing.keys()].join(',')}]\\n`);\n        }\n        return data.join('\\n');\n    }\n    /**\n     * This is brute force and slow and **only** be used\n     * to trouble shoot.\n     */\n    findCycleSlow() {\n        for (const [id, node] of this._nodes) {\n            const seen = new Set([id]);\n            const res = this._findCycle(node, seen);\n            if (res) {\n                return res;\n            }\n        }\n        return undefined;\n    }\n    _findCycle(node, seen) {\n        for (const [id, outgoing] of node.outgoing) {\n            if (seen.has(id)) {\n                return [...seen, id].join(' -> ');\n            }\n            seen.add(id);\n            const value = this._findCycle(outgoing, seen);\n            if (value) {\n                return value;\n            }\n            seen.delete(id);\n        }\n        return undefined;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IdleValue } from '../../../base/common/async.js';\nimport { illegalState } from '../../../base/common/errors.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { SyncDescriptor } from './descriptors.js';\nimport { Graph } from './graph.js';\nimport { IInstantiationService, _util } from './instantiation.js';\nimport { ServiceCollection } from './serviceCollection.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\n// TRACING\nconst _enableAllTracing = false;\nclass CyclicDependencyError extends Error {\n    constructor(graph) {\n        var _a;\n        super('cyclic dependency between services');\n        this.message = (_a = graph.findCycleSlow()) !== null && _a !== void 0 ? _a : `UNABLE to detect cycle, dumping graph: \\n${graph.toString()}`;\n    }\n}\nexport class InstantiationService {\n    constructor(_services = new ServiceCollection(), _strict = false, _parent, _enableTracing = _enableAllTracing) {\n        var _a;\n        this._services = _services;\n        this._strict = _strict;\n        this._parent = _parent;\n        this._enableTracing = _enableTracing;\n        this._activeInstantiations = new Set();\n        this._services.set(IInstantiationService, this);\n        this._globalGraph = _enableTracing ? (_a = _parent === null || _parent === void 0 ? void 0 : _parent._globalGraph) !== null && _a !== void 0 ? _a : new Graph(e => e) : undefined;\n    }\n    createChild(services) {\n        return new InstantiationService(services, this._strict, this, this._enableTracing);\n    }\n    invokeFunction(fn, ...args) {\n        const _trace = Trace.traceInvocation(this._enableTracing, fn);\n        let _done = false;\n        try {\n            const accessor = {\n                get: (id) => {\n                    if (_done) {\n                        throw illegalState('service accessor is only valid during the invocation of its target method');\n                    }\n                    const result = this._getOrCreateServiceInstance(id, _trace);\n                    if (!result) {\n                        throw new Error(`[invokeFunction] unknown service '${id}'`);\n                    }\n                    return result;\n                }\n            };\n            return fn(accessor, ...args);\n        }\n        finally {\n            _done = true;\n            _trace.stop();\n        }\n    }\n    createInstance(ctorOrDescriptor, ...rest) {\n        let _trace;\n        let result;\n        if (ctorOrDescriptor instanceof SyncDescriptor) {\n            _trace = Trace.traceCreation(this._enableTracing, ctorOrDescriptor.ctor);\n            result = this._createInstance(ctorOrDescriptor.ctor, ctorOrDescriptor.staticArguments.concat(rest), _trace);\n        }\n        else {\n            _trace = Trace.traceCreation(this._enableTracing, ctorOrDescriptor);\n            result = this._createInstance(ctorOrDescriptor, rest, _trace);\n        }\n        _trace.stop();\n        return result;\n    }\n    _createInstance(ctor, args = [], _trace) {\n        // arguments defined by service decorators\n        const serviceDependencies = _util.getServiceDependencies(ctor).sort((a, b) => a.index - b.index);\n        const serviceArgs = [];\n        for (const dependency of serviceDependencies) {\n            const service = this._getOrCreateServiceInstance(dependency.id, _trace);\n            if (!service) {\n                this._throwIfStrict(`[createInstance] ${ctor.name} depends on UNKNOWN service ${dependency.id}.`, false);\n            }\n            serviceArgs.push(service);\n        }\n        const firstServiceArgPos = serviceDependencies.length > 0 ? serviceDependencies[0].index : args.length;\n        // check for argument mismatches, adjust static args if needed\n        if (args.length !== firstServiceArgPos) {\n            console.trace(`[createInstance] First service dependency of ${ctor.name} at position ${firstServiceArgPos + 1} conflicts with ${args.length} static arguments`);\n            const delta = firstServiceArgPos - args.length;\n            if (delta > 0) {\n                args = args.concat(new Array(delta));\n            }\n            else {\n                args = args.slice(0, firstServiceArgPos);\n            }\n        }\n        // now create the instance\n        return Reflect.construct(ctor, args.concat(serviceArgs));\n    }\n    _setServiceInstance(id, instance) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            this._services.set(id, instance);\n        }\n        else if (this._parent) {\n            this._parent._setServiceInstance(id, instance);\n        }\n        else {\n            throw new Error('illegalState - setting UNKNOWN service instance');\n        }\n    }\n    _getServiceInstanceOrDescriptor(id) {\n        const instanceOrDesc = this._services.get(id);\n        if (!instanceOrDesc && this._parent) {\n            return this._parent._getServiceInstanceOrDescriptor(id);\n        }\n        else {\n            return instanceOrDesc;\n        }\n    }\n    _getOrCreateServiceInstance(id, _trace) {\n        if (this._globalGraph && this._globalGraphImplicitDependency) {\n            this._globalGraph.insertEdge(this._globalGraphImplicitDependency, String(id));\n        }\n        const thing = this._getServiceInstanceOrDescriptor(id);\n        if (thing instanceof SyncDescriptor) {\n            return this._safeCreateAndCacheServiceInstance(id, thing, _trace.branch(id, true));\n        }\n        else {\n            _trace.branch(id, false);\n            return thing;\n        }\n    }\n    _safeCreateAndCacheServiceInstance(id, desc, _trace) {\n        if (this._activeInstantiations.has(id)) {\n            throw new Error(`illegal state - RECURSIVELY instantiating service '${id}'`);\n        }\n        this._activeInstantiations.add(id);\n        try {\n            return this._createAndCacheServiceInstance(id, desc, _trace);\n        }\n        finally {\n            this._activeInstantiations.delete(id);\n        }\n    }\n    _createAndCacheServiceInstance(id, desc, _trace) {\n        var _a;\n        const graph = new Graph(data => data.id.toString());\n        let cycleCount = 0;\n        const stack = [{ id, desc, _trace }];\n        while (stack.length) {\n            const item = stack.pop();\n            graph.lookupOrInsertNode(item);\n            // a weak but working heuristic for cycle checks\n            if (cycleCount++ > 1000) {\n                throw new CyclicDependencyError(graph);\n            }\n            // check all dependencies for existence and if they need to be created first\n            for (const dependency of _util.getServiceDependencies(item.desc.ctor)) {\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(dependency.id);\n                if (!instanceOrDesc) {\n                    this._throwIfStrict(`[createInstance] ${id} depends on ${dependency.id} which is NOT registered.`, true);\n                }\n                // take note of all service dependencies\n                (_a = this._globalGraph) === null || _a === void 0 ? void 0 : _a.insertEdge(String(item.id), String(dependency.id));\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    const d = { id: dependency.id, desc: instanceOrDesc, _trace: item._trace.branch(dependency.id, true) };\n                    graph.insertEdge(item, d);\n                    stack.push(d);\n                }\n            }\n        }\n        while (true) {\n            const roots = graph.roots();\n            // if there is no more roots but still\n            // nodes in the graph we have a cycle\n            if (roots.length === 0) {\n                if (!graph.isEmpty()) {\n                    throw new CyclicDependencyError(graph);\n                }\n                break;\n            }\n            for (const { data } of roots) {\n                // Repeat the check for this still being a service sync descriptor. That's because\n                // instantiating a dependency might have side-effect and recursively trigger instantiation\n                // so that some dependencies are now fullfilled already.\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(data.id);\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    // create instance and overwrite the service collections\n                    const instance = this._createServiceInstanceWithOwner(data.id, data.desc.ctor, data.desc.staticArguments, data.desc.supportsDelayedInstantiation, data._trace);\n                    this._setServiceInstance(data.id, instance);\n                }\n                graph.removeNode(data);\n            }\n        }\n        return this._getServiceInstanceOrDescriptor(id);\n    }\n    _createServiceInstanceWithOwner(id, ctor, args = [], supportsDelayedInstantiation, _trace) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            return this._createServiceInstance(id, ctor, args, supportsDelayedInstantiation, _trace);\n        }\n        else if (this._parent) {\n            return this._parent._createServiceInstanceWithOwner(id, ctor, args, supportsDelayedInstantiation, _trace);\n        }\n        else {\n            throw new Error(`illegalState - creating UNKNOWN service instance ${ctor.name}`);\n        }\n    }\n    _createServiceInstance(id, ctor, args = [], supportsDelayedInstantiation, _trace) {\n        if (!supportsDelayedInstantiation) {\n            // eager instantiation\n            return this._createInstance(ctor, args, _trace);\n        }\n        else {\n            const child = new InstantiationService(undefined, this._strict, this, this._enableTracing);\n            child._globalGraphImplicitDependency = String(id);\n            // Return a proxy object that's backed by an idle value. That\n            // strategy is to instantiate services in our idle time or when actually\n            // needed but not when injected into a consumer\n            // return \"empty events\" when the service isn't instantiated yet\n            const earlyListeners = new Map();\n            const idle = new IdleValue(() => {\n                const result = child._createInstance(ctor, args, _trace);\n                // early listeners that we kept are now being subscribed to\n                // the real service\n                for (const [key, values] of earlyListeners) {\n                    const candidate = result[key];\n                    if (typeof candidate === 'function') {\n                        for (const listener of values) {\n                            candidate.apply(result, listener);\n                        }\n                    }\n                }\n                earlyListeners.clear();\n                return result;\n            });\n            return new Proxy(Object.create(null), {\n                get(target, key) {\n                    if (!idle.isInitialized) {\n                        // looks like an event\n                        if (typeof key === 'string' && (key.startsWith('onDid') || key.startsWith('onWill'))) {\n                            let list = earlyListeners.get(key);\n                            if (!list) {\n                                list = new LinkedList();\n                                earlyListeners.set(key, list);\n                            }\n                            const event = (callback, thisArg, disposables) => {\n                                const rm = list.push([callback, thisArg, disposables]);\n                                return toDisposable(rm);\n                            };\n                            return event;\n                        }\n                    }\n                    // value already exists\n                    if (key in target) {\n                        return target[key];\n                    }\n                    // create value\n                    const obj = idle.value;\n                    let prop = obj[key];\n                    if (typeof prop !== 'function') {\n                        return prop;\n                    }\n                    prop = prop.bind(obj);\n                    target[key] = prop;\n                    return prop;\n                },\n                set(_target, p, value) {\n                    idle.value[p] = value;\n                    return true;\n                },\n                getPrototypeOf(_target) {\n                    return ctor.prototype;\n                }\n            });\n        }\n    }\n    _throwIfStrict(msg, printWarning) {\n        if (printWarning) {\n            console.warn(msg);\n        }\n        if (this._strict) {\n            throw new Error(msg);\n        }\n    }\n}\nclass Trace {\n    static traceInvocation(_enableTracing, ctor) {\n        return !_enableTracing ? Trace._None : new Trace(2 /* TraceType.Invocation */, ctor.name || new Error().stack.split('\\n').slice(3, 4).join('\\n'));\n    }\n    static traceCreation(_enableTracing, ctor) {\n        return !_enableTracing ? Trace._None : new Trace(1 /* TraceType.Creation */, ctor.name);\n    }\n    constructor(type, name) {\n        this.type = type;\n        this.name = name;\n        this._start = Date.now();\n        this._dep = [];\n    }\n    branch(id, first) {\n        const child = new Trace(3 /* TraceType.Branch */, id.toString());\n        this._dep.push([id, first, child]);\n        return child;\n    }\n    stop() {\n        const dur = Date.now() - this._start;\n        Trace._totals += dur;\n        let causedCreation = false;\n        function printChild(n, trace) {\n            const res = [];\n            const prefix = new Array(n + 1).join('\\t');\n            for (const [id, first, child] of trace._dep) {\n                if (first && child) {\n                    causedCreation = true;\n                    res.push(`${prefix}CREATES -> ${id}`);\n                    const nested = printChild(n + 1, child);\n                    if (nested) {\n                        res.push(nested);\n                    }\n                }\n                else {\n                    res.push(`${prefix}uses -> ${id}`);\n                }\n            }\n            return res.join('\\n');\n        }\n        const lines = [\n            `${this.type === 1 /* TraceType.Creation */ ? 'CREATE' : 'CALL'} ${this.name}`,\n            `${printChild(1, this)}`,\n            `DONE, took ${dur.toFixed(2)}ms (grand total ${Trace._totals.toFixed(2)}ms)`\n        ];\n        if (dur > 2 || causedCreation) {\n            Trace.all.add(lines.join('\\n'));\n        }\n    }\n}\nTrace.all = new Set();\nTrace._None = new class extends Trace {\n    constructor() { super(0 /* TraceType.None */, null); }\n    stop() { }\n    branch() { return this; }\n};\nTrace._totals = 0;\nexport { Trace };\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ServiceCollection {\n    constructor(...entries) {\n        this._entries = new Map();\n        for (const [id, service] of entries) {\n            this.set(id, service);\n        }\n    }\n    set(id, instanceOrDescriptor) {\n        const result = this._entries.get(id);\n        this._entries.set(id, instanceOrDescriptor);\n        return result;\n    }\n    get(id) {\n        return this._entries.get(id);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport * as platform from '../../registry/common/platform.js';\nexport const Extensions = {\n    JSONContribution: 'base.contributions.json'\n};\nfunction normalizeId(id) {\n    if (id.length > 0 && id.charAt(id.length - 1) === '#') {\n        return id.substring(0, id.length - 1);\n    }\n    return id;\n}\nclass JSONContributionRegistry {\n    constructor() {\n        this._onDidChangeSchema = new Emitter();\n        this.schemasById = {};\n    }\n    registerSchema(uri, unresolvedSchemaContent) {\n        this.schemasById[normalizeId(uri)] = unresolvedSchemaContent;\n        this._onDidChangeSchema.fire(uri);\n    }\n    notifySchemaChanged(uri) {\n        this._onDidChangeSchema.fire(uri);\n    }\n}\nconst jsonContributionRegistry = new JSONContributionRegistry();\nplatform.Registry.add(Extensions.JSONContribution, jsonContributionRegistry);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IntervalTimer, TimeoutTimer } from '../../../base/common/async.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport * as nls from '../../../nls.js';\nimport { IME } from '../../../base/common/ime.js';\nconst HIGH_FREQ_COMMANDS = /^(cursor|delete|undo|redo|tab|editor\\.action\\.clipboard)/;\nexport class AbstractKeybindingService extends Disposable {\n    get onDidUpdateKeybindings() {\n        return this._onDidUpdateKeybindings ? this._onDidUpdateKeybindings.event : Event.None; // Sinon stubbing walks properties on prototype\n    }\n    constructor(_contextKeyService, _commandService, _telemetryService, _notificationService, _logService) {\n        super();\n        this._contextKeyService = _contextKeyService;\n        this._commandService = _commandService;\n        this._telemetryService = _telemetryService;\n        this._notificationService = _notificationService;\n        this._logService = _logService;\n        this._onDidUpdateKeybindings = this._register(new Emitter());\n        this._currentChord = null;\n        this._currentChordChecker = new IntervalTimer();\n        this._currentChordStatusMessage = null;\n        this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n        this._currentSingleModifier = null;\n        this._currentSingleModifierClearTimeout = new TimeoutTimer();\n        this._logging = false;\n    }\n    dispose() {\n        super.dispose();\n    }\n    _log(str) {\n        if (this._logging) {\n            this._logService.info(`[KeybindingService]: ${str}`);\n        }\n    }\n    getKeybindings() {\n        return this._getResolver().getKeybindings();\n    }\n    lookupKeybinding(commandId, context) {\n        const result = this._getResolver().lookupPrimaryKeybinding(commandId, context || this._contextKeyService);\n        if (!result) {\n            return undefined;\n        }\n        return result.resolvedKeybinding;\n    }\n    dispatchEvent(e, target) {\n        return this._dispatch(e, target);\n    }\n    softDispatch(e, target) {\n        this._log(`/ Soft dispatching keyboard event`);\n        const keybinding = this.resolveKeyboardEvent(e);\n        if (keybinding.hasMultipleChords()) {\n            console.warn('Unexpected keyboard event mapped to multiple chords');\n            return null;\n        }\n        const [firstChord,] = keybinding.getDispatchChords();\n        if (firstChord === null) {\n            // cannot be dispatched, probably only modifier keys\n            this._log(`\\\\ Keyboard event cannot be dispatched`);\n            return null;\n        }\n        const contextValue = this._contextKeyService.getContext(target);\n        const currentChord = this._currentChord ? this._currentChord.keypress : null;\n        return this._getResolver().resolve(contextValue, currentChord, firstChord);\n    }\n    _enterMultiChordMode(firstChord, keypressLabel) {\n        this._currentChord = {\n            keypress: firstChord,\n            label: keypressLabel\n        };\n        this._currentChordStatusMessage = this._notificationService.status(nls.localize('first.chord', \"({0}) was pressed. Waiting for second key of chord...\", keypressLabel));\n        const chordEnterTime = Date.now();\n        this._currentChordChecker.cancelAndSet(() => {\n            if (!this._documentHasFocus()) {\n                // Focus has been lost => leave chord mode\n                this._leaveChordMode();\n                return;\n            }\n            if (Date.now() - chordEnterTime > 5000) {\n                // 5 seconds elapsed => leave chord mode\n                this._leaveChordMode();\n            }\n        }, 500);\n        IME.disable();\n    }\n    _leaveChordMode() {\n        if (this._currentChordStatusMessage) {\n            this._currentChordStatusMessage.dispose();\n            this._currentChordStatusMessage = null;\n        }\n        this._currentChordChecker.cancel();\n        this._currentChord = null;\n        IME.enable();\n    }\n    _dispatch(e, target) {\n        return this._doDispatch(this.resolveKeyboardEvent(e), target, /*isSingleModiferChord*/ false);\n    }\n    _singleModifierDispatch(e, target) {\n        const keybinding = this.resolveKeyboardEvent(e);\n        const [singleModifier,] = keybinding.getSingleModifierDispatchChords();\n        if (singleModifier) {\n            if (this._ignoreSingleModifiers.has(singleModifier)) {\n                this._log(`+ Ignoring single modifier ${singleModifier} due to it being pressed together with other keys.`);\n                this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n                this._currentSingleModifierClearTimeout.cancel();\n                this._currentSingleModifier = null;\n                return false;\n            }\n            this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n            if (this._currentSingleModifier === null) {\n                // we have a valid `singleModifier`, store it for the next keyup, but clear it in 300ms\n                this._log(`+ Storing single modifier for possible chord ${singleModifier}.`);\n                this._currentSingleModifier = singleModifier;\n                this._currentSingleModifierClearTimeout.cancelAndSet(() => {\n                    this._log(`+ Clearing single modifier due to 300ms elapsed.`);\n                    this._currentSingleModifier = null;\n                }, 300);\n                return false;\n            }\n            if (singleModifier === this._currentSingleModifier) {\n                // bingo!\n                this._log(`/ Dispatching single modifier chord ${singleModifier} ${singleModifier}`);\n                this._currentSingleModifierClearTimeout.cancel();\n                this._currentSingleModifier = null;\n                return this._doDispatch(keybinding, target, /*isSingleModiferChord*/ true);\n            }\n            this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${singleModifier}`);\n            this._currentSingleModifierClearTimeout.cancel();\n            this._currentSingleModifier = null;\n            return false;\n        }\n        // When pressing a modifier and holding it pressed with any other modifier or key combination,\n        // the pressed modifiers should no longer be considered for single modifier dispatch.\n        const [firstChord,] = keybinding.getChords();\n        this._ignoreSingleModifiers = new KeybindingModifierSet(firstChord);\n        if (this._currentSingleModifier !== null) {\n            this._log(`+ Clearing single modifier due to other key up.`);\n        }\n        this._currentSingleModifierClearTimeout.cancel();\n        this._currentSingleModifier = null;\n        return false;\n    }\n    _doDispatch(keybinding, target, isSingleModiferChord = false) {\n        let shouldPreventDefault = false;\n        if (keybinding.hasMultipleChords()) {\n            console.warn('Unexpected keyboard event mapped to multiple chords');\n            return false;\n        }\n        let firstChord = null; // the first keybinding i.e. Ctrl+K\n        let currentChord = null; // the \"second\" keybinding i.e. Ctrl+K \"Ctrl+D\"\n        if (isSingleModiferChord) {\n            const [dispatchKeyname,] = keybinding.getSingleModifierDispatchChords();\n            firstChord = dispatchKeyname;\n            currentChord = dispatchKeyname;\n        }\n        else {\n            [firstChord,] = keybinding.getDispatchChords();\n            currentChord = this._currentChord ? this._currentChord.keypress : null;\n        }\n        if (firstChord === null) {\n            this._log(`\\\\ Keyboard event cannot be dispatched in keydown phase.`);\n            // cannot be dispatched, probably only modifier keys\n            return shouldPreventDefault;\n        }\n        const contextValue = this._contextKeyService.getContext(target);\n        const keypressLabel = keybinding.getLabel();\n        const resolveResult = this._getResolver().resolve(contextValue, currentChord, firstChord);\n        this._logService.trace('KeybindingService#dispatch', keypressLabel, resolveResult === null || resolveResult === void 0 ? void 0 : resolveResult.commandId);\n        if (resolveResult && resolveResult.enterMultiChord) {\n            shouldPreventDefault = true;\n            this._enterMultiChordMode(firstChord, keypressLabel);\n            this._log(`+ Entering chord mode...`);\n            return shouldPreventDefault;\n        }\n        if (this._currentChord) {\n            if (!resolveResult || !resolveResult.commandId) {\n                this._log(`+ Leaving chord mode: Nothing bound to \"${this._currentChord.label} ${keypressLabel}\".`);\n                this._notificationService.status(nls.localize('missing.chord', \"The key combination ({0}, {1}) is not a command.\", this._currentChord.label, keypressLabel), { hideAfter: 10 * 1000 /* 10s */ });\n                shouldPreventDefault = true;\n            }\n        }\n        this._leaveChordMode();\n        if (resolveResult && resolveResult.commandId) {\n            if (!resolveResult.bubble) {\n                shouldPreventDefault = true;\n            }\n            this._log(`+ Invoking command ${resolveResult.commandId}.`);\n            if (typeof resolveResult.commandArgs === 'undefined') {\n                this._commandService.executeCommand(resolveResult.commandId).then(undefined, err => this._notificationService.warn(err));\n            }\n            else {\n                this._commandService.executeCommand(resolveResult.commandId, resolveResult.commandArgs).then(undefined, err => this._notificationService.warn(err));\n            }\n            if (!HIGH_FREQ_COMMANDS.test(resolveResult.commandId)) {\n                this._telemetryService.publicLog2('workbenchActionExecuted', { id: resolveResult.commandId, from: 'keybinding' });\n            }\n        }\n        return shouldPreventDefault;\n    }\n    mightProducePrintableCharacter(event) {\n        if (event.ctrlKey || event.metaKey) {\n            // ignore ctrl/cmd-combination but not shift/alt-combinatios\n            return false;\n        }\n        // weak check for certain ranges. this is properly implemented in a subclass\n        // with access to the KeyboardMapperFactory.\n        if ((event.keyCode >= 31 /* KeyCode.KeyA */ && event.keyCode <= 56 /* KeyCode.KeyZ */)\n            || (event.keyCode >= 21 /* KeyCode.Digit0 */ && event.keyCode <= 30 /* KeyCode.Digit9 */)) {\n            return true;\n        }\n        return false;\n    }\n}\nclass KeybindingModifierSet {\n    constructor(source) {\n        this._ctrlKey = source ? source.ctrlKey : false;\n        this._shiftKey = source ? source.shiftKey : false;\n        this._altKey = source ? source.altKey : false;\n        this._metaKey = source ? source.metaKey : false;\n    }\n    has(modifier) {\n        switch (modifier) {\n            case 'ctrl': return this._ctrlKey;\n            case 'shift': return this._shiftKey;\n            case 'alt': return this._altKey;\n            case 'meta': return this._metaKey;\n        }\n    }\n}\nKeybindingModifierSet.EMPTY = new KeybindingModifierSet(null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IKeybindingService = createDecorator('keybindingService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { implies, expressionsAreEqualWithConstantSubstitution } from '../../contextkey/common/contextkey.js';\nexport class KeybindingResolver {\n    constructor(defaultKeybindings, overrides, log) {\n        this._log = log;\n        this._defaultKeybindings = defaultKeybindings;\n        this._defaultBoundCommands = new Map();\n        for (const defaultKeybinding of defaultKeybindings) {\n            const command = defaultKeybinding.command;\n            if (command && command.charAt(0) !== '-') {\n                this._defaultBoundCommands.set(command, true);\n            }\n        }\n        this._map = new Map();\n        this._lookupMap = new Map();\n        this._keybindings = KeybindingResolver.handleRemovals([].concat(defaultKeybindings).concat(overrides));\n        for (let i = 0, len = this._keybindings.length; i < len; i++) {\n            const k = this._keybindings[i];\n            if (k.chords.length === 0) {\n                // unbound\n                continue;\n            }\n            if (k.when && k.when.type === 0 /* ContextKeyExprType.False */) {\n                // when condition is false\n                continue;\n            }\n            // TODO@chords\n            this._addKeyPress(k.chords[0], k);\n        }\n    }\n    static _isTargetedForRemoval(defaultKb, keypressFirstPart, keypressChordPart, when) {\n        // TODO@chords\n        if (keypressFirstPart && defaultKb.chords[0] !== keypressFirstPart) {\n            return false;\n        }\n        // TODO@chords\n        if (keypressChordPart && defaultKb.chords[1] !== keypressChordPart) {\n            return false;\n        }\n        // `true` means always, as does `undefined`\n        // so we will treat `true` === `undefined`\n        if (when && when.type !== 1 /* ContextKeyExprType.True */) {\n            if (!defaultKb.when) {\n                return false;\n            }\n            if (!expressionsAreEqualWithConstantSubstitution(when, defaultKb.when)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Looks for rules containing \"-commandId\" and removes them.\n     */\n    static handleRemovals(rules) {\n        // Do a first pass and construct a hash-map for removals\n        const removals = new Map();\n        for (let i = 0, len = rules.length; i < len; i++) {\n            const rule = rules[i];\n            if (rule.command && rule.command.charAt(0) === '-') {\n                const command = rule.command.substring(1);\n                if (!removals.has(command)) {\n                    removals.set(command, [rule]);\n                }\n                else {\n                    removals.get(command).push(rule);\n                }\n            }\n        }\n        if (removals.size === 0) {\n            // There are no removals\n            return rules;\n        }\n        // Do a second pass and keep only non-removed keybindings\n        const result = [];\n        for (let i = 0, len = rules.length; i < len; i++) {\n            const rule = rules[i];\n            if (!rule.command || rule.command.length === 0) {\n                result.push(rule);\n                continue;\n            }\n            if (rule.command.charAt(0) === '-') {\n                continue;\n            }\n            const commandRemovals = removals.get(rule.command);\n            if (!commandRemovals || !rule.isDefault) {\n                result.push(rule);\n                continue;\n            }\n            let isRemoved = false;\n            for (const commandRemoval of commandRemovals) {\n                // TODO@chords\n                const keypressFirstChord = commandRemoval.chords[0];\n                const keypressSecondChord = commandRemoval.chords[1];\n                const when = commandRemoval.when;\n                if (this._isTargetedForRemoval(rule, keypressFirstChord, keypressSecondChord, when)) {\n                    isRemoved = true;\n                    break;\n                }\n            }\n            if (!isRemoved) {\n                result.push(rule);\n                continue;\n            }\n        }\n        return result;\n    }\n    _addKeyPress(keypress, item) {\n        const conflicts = this._map.get(keypress);\n        if (typeof conflicts === 'undefined') {\n            // There is no conflict so far\n            this._map.set(keypress, [item]);\n            this._addToLookupMap(item);\n            return;\n        }\n        for (let i = conflicts.length - 1; i >= 0; i--) {\n            const conflict = conflicts[i];\n            if (conflict.command === item.command) {\n                continue;\n            }\n            const conflictHasMultipleChords = (conflict.chords.length > 1);\n            const itemHasMultipleChords = (item.chords.length > 1);\n            // TODO@chords\n            if (conflictHasMultipleChords && itemHasMultipleChords && conflict.chords[1] !== item.chords[1]) {\n                // The conflict only shares the first chord with this command\n                continue;\n            }\n            if (KeybindingResolver.whenIsEntirelyIncluded(conflict.when, item.when)) {\n                // `item` completely overwrites `conflict`\n                // Remove conflict from the lookupMap\n                this._removeFromLookupMap(conflict);\n            }\n        }\n        conflicts.push(item);\n        this._addToLookupMap(item);\n    }\n    _addToLookupMap(item) {\n        if (!item.command) {\n            return;\n        }\n        let arr = this._lookupMap.get(item.command);\n        if (typeof arr === 'undefined') {\n            arr = [item];\n            this._lookupMap.set(item.command, arr);\n        }\n        else {\n            arr.push(item);\n        }\n    }\n    _removeFromLookupMap(item) {\n        if (!item.command) {\n            return;\n        }\n        const arr = this._lookupMap.get(item.command);\n        if (typeof arr === 'undefined') {\n            return;\n        }\n        for (let i = 0, len = arr.length; i < len; i++) {\n            if (arr[i] === item) {\n                arr.splice(i, 1);\n                return;\n            }\n        }\n    }\n    /**\n     * Returns true if it is provable `a` implies `b`.\n     */\n    static whenIsEntirelyIncluded(a, b) {\n        if (!b || b.type === 1 /* ContextKeyExprType.True */) {\n            return true;\n        }\n        if (!a || a.type === 1 /* ContextKeyExprType.True */) {\n            return false;\n        }\n        return implies(a, b);\n    }\n    getKeybindings() {\n        return this._keybindings;\n    }\n    lookupPrimaryKeybinding(commandId, context) {\n        const items = this._lookupMap.get(commandId);\n        if (typeof items === 'undefined' || items.length === 0) {\n            return null;\n        }\n        if (items.length === 1) {\n            return items[0];\n        }\n        for (let i = items.length - 1; i >= 0; i--) {\n            const item = items[i];\n            if (context.contextMatchesRules(item.when)) {\n                return item;\n            }\n        }\n        return items[items.length - 1];\n    }\n    resolve(context, currentChord, keypress) {\n        this._log(`| Resolving ${keypress}${currentChord ? ` chorded from ${currentChord}` : ``}`);\n        let lookupMap = null;\n        if (currentChord !== null) {\n            // Fetch all chord bindings for `currentChord`\n            const candidates = this._map.get(currentChord);\n            if (typeof candidates === 'undefined') {\n                // No chords starting with `currentChord`\n                this._log(`\\\\ No keybinding entries.`);\n                return null;\n            }\n            lookupMap = [];\n            for (let i = 0, len = candidates.length; i < len; i++) {\n                const candidate = candidates[i];\n                // TODO@chords\n                if (candidate.chords[1] === keypress) {\n                    lookupMap.push(candidate);\n                }\n            }\n        }\n        else {\n            const candidates = this._map.get(keypress);\n            if (typeof candidates === 'undefined') {\n                // No bindings with `keypress`\n                this._log(`\\\\ No keybinding entries.`);\n                return null;\n            }\n            lookupMap = candidates;\n        }\n        const result = this._findCommand(context, lookupMap);\n        if (!result) {\n            this._log(`\\\\ From ${lookupMap.length} keybinding entries, no when clauses matched the context.`);\n            return null;\n        }\n        // TODO@chords\n        if (currentChord === null && result.chords.length > 1 && result.chords[1] !== null) {\n            this._log(`\\\\ From ${lookupMap.length} keybinding entries, matched chord, when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`);\n            return {\n                enterMultiChord: true,\n                leaveMultiChord: false,\n                commandId: null,\n                commandArgs: null,\n                bubble: false\n            };\n        }\n        this._log(`\\\\ From ${lookupMap.length} keybinding entries, matched ${result.command}, when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`);\n        return {\n            enterMultiChord: false,\n            leaveMultiChord: result.chords.length > 1,\n            commandId: result.command,\n            commandArgs: result.commandArgs,\n            bubble: result.bubble\n        };\n    }\n    _findCommand(context, matches) {\n        for (let i = matches.length - 1; i >= 0; i--) {\n            const k = matches[i];\n            if (!KeybindingResolver._contextMatchesRules(context, k.when)) {\n                continue;\n            }\n            return k;\n        }\n        return null;\n    }\n    static _contextMatchesRules(context, rules) {\n        if (!rules) {\n            return true;\n        }\n        return rules.evaluate(context);\n    }\n}\nfunction printWhenExplanation(when) {\n    if (!when) {\n        return `no when condition`;\n    }\n    return `${when.serialize()}`;\n}\nfunction printSourceExplanation(kb) {\n    return (kb.extensionId\n        ? (kb.isBuiltinExtension ? `built-in extension ${kb.extensionId}` : `user extension ${kb.extensionId}`)\n        : (kb.isDefault ? `built-in` : `user`));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { decodeKeybinding } from '../../../base/common/keybindings.js';\nimport { OS } from '../../../base/common/platform.js';\nimport { CommandsRegistry } from '../../commands/common/commands.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { combinedDisposable, DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\nclass KeybindingsRegistryImpl {\n    constructor() {\n        this._coreKeybindings = new LinkedList();\n        this._extensionKeybindings = [];\n        this._cachedMergedKeybindings = null;\n    }\n    /**\n     * Take current platform into account and reduce to primary & secondary.\n     */\n    static bindToCurrentPlatform(kb) {\n        if (OS === 1 /* OperatingSystem.Windows */) {\n            if (kb && kb.win) {\n                return kb.win;\n            }\n        }\n        else if (OS === 2 /* OperatingSystem.Macintosh */) {\n            if (kb && kb.mac) {\n                return kb.mac;\n            }\n        }\n        else {\n            if (kb && kb.linux) {\n                return kb.linux;\n            }\n        }\n        return kb;\n    }\n    registerKeybindingRule(rule) {\n        const actualKb = KeybindingsRegistryImpl.bindToCurrentPlatform(rule);\n        const result = new DisposableStore();\n        if (actualKb && actualKb.primary) {\n            const kk = decodeKeybinding(actualKb.primary, OS);\n            if (kk) {\n                result.add(this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, 0, rule.when));\n            }\n        }\n        if (actualKb && Array.isArray(actualKb.secondary)) {\n            for (let i = 0, len = actualKb.secondary.length; i < len; i++) {\n                const k = actualKb.secondary[i];\n                const kk = decodeKeybinding(k, OS);\n                if (kk) {\n                    result.add(this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, -i - 1, rule.when));\n                }\n            }\n        }\n        return result;\n    }\n    registerCommandAndKeybindingRule(desc) {\n        return combinedDisposable(this.registerKeybindingRule(desc), CommandsRegistry.registerCommand(desc));\n    }\n    _registerDefaultKeybinding(keybinding, commandId, commandArgs, weight1, weight2, when) {\n        const remove = this._coreKeybindings.push({\n            keybinding: keybinding,\n            command: commandId,\n            commandArgs: commandArgs,\n            when: when,\n            weight1: weight1,\n            weight2: weight2,\n            extensionId: null,\n            isBuiltinExtension: false\n        });\n        this._cachedMergedKeybindings = null;\n        return toDisposable(() => {\n            remove();\n            this._cachedMergedKeybindings = null;\n        });\n    }\n    getDefaultKeybindings() {\n        if (!this._cachedMergedKeybindings) {\n            this._cachedMergedKeybindings = Array.from(this._coreKeybindings).concat(this._extensionKeybindings);\n            this._cachedMergedKeybindings.sort(sorter);\n        }\n        return this._cachedMergedKeybindings.slice(0);\n    }\n}\nexport const KeybindingsRegistry = new KeybindingsRegistryImpl();\n// Define extension point ids\nexport const Extensions = {\n    EditorModes: 'platform.keybindingsRegistry'\n};\nRegistry.add(Extensions.EditorModes, KeybindingsRegistry);\nfunction sorter(a, b) {\n    if (a.weight1 !== b.weight1) {\n        return a.weight1 - b.weight1;\n    }\n    if (a.command && b.command) {\n        if (a.command < b.command) {\n            return -1;\n        }\n        if (a.command > b.command) {\n            return 1;\n        }\n    }\n    return a.weight2 - b.weight2;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ResolvedKeybindingItem {\n    constructor(resolvedKeybinding, command, commandArgs, when, isDefault, extensionId, isBuiltinExtension) {\n        this._resolvedKeybindingItemBrand = undefined;\n        this.resolvedKeybinding = resolvedKeybinding;\n        this.chords = resolvedKeybinding ? toEmptyArrayIfContainsNull(resolvedKeybinding.getDispatchChords()) : [];\n        if (resolvedKeybinding && this.chords.length === 0) {\n            // handle possible single modifier chord keybindings\n            this.chords = toEmptyArrayIfContainsNull(resolvedKeybinding.getSingleModifierDispatchChords());\n        }\n        this.bubble = (command ? command.charCodeAt(0) === 94 /* CharCode.Caret */ : false);\n        this.command = this.bubble ? command.substr(1) : command;\n        this.commandArgs = commandArgs;\n        this.when = when;\n        this.isDefault = isDefault;\n        this.extensionId = extensionId;\n        this.isBuiltinExtension = isBuiltinExtension;\n    }\n}\nexport function toEmptyArrayIfContainsNull(arr) {\n    const result = [];\n    for (let i = 0, len = arr.length; i < len; i++) {\n        const element = arr[i];\n        if (!element) {\n            return [];\n        }\n        result.push(element);\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { illegalArgument } from '../../../base/common/errors.js';\nimport { AriaLabelProvider, ElectronAcceleratorLabelProvider, UILabelProvider } from '../../../base/common/keybindingLabels.js';\nimport { ResolvedKeybinding, ResolvedChord } from '../../../base/common/keybindings.js';\nexport class BaseResolvedKeybinding extends ResolvedKeybinding {\n    constructor(os, chords) {\n        super();\n        if (chords.length === 0) {\n            throw illegalArgument(`chords`);\n        }\n        this._os = os;\n        this._chords = chords;\n    }\n    getLabel() {\n        return UILabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getLabel(keybinding));\n    }\n    getAriaLabel() {\n        return AriaLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getAriaLabel(keybinding));\n    }\n    getElectronAccelerator() {\n        if (this._chords.length > 1) {\n            // [Electron Accelerators] Electron cannot handle chords\n            return null;\n        }\n        if (this._chords[0].isDuplicateModifierCase()) {\n            // [Electron Accelerators] Electron cannot handle modifier only keybindings\n            // e.g. \"shift shift\"\n            return null;\n        }\n        return ElectronAcceleratorLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getElectronAccelerator(keybinding));\n    }\n    hasMultipleChords() {\n        return (this._chords.length > 1);\n    }\n    getChords() {\n        return this._chords.map((keybinding) => this._getChord(keybinding));\n    }\n    _getChord(keybinding) {\n        return new ResolvedChord(keybinding.ctrlKey, keybinding.shiftKey, keybinding.altKey, keybinding.metaKey, this._getLabel(keybinding), this._getAriaLabel(keybinding));\n    }\n    getDispatchChords() {\n        return this._chords.map((keybinding) => this._getChordDispatch(keybinding));\n    }\n    getSingleModifierDispatchChords() {\n        return this._chords.map((keybinding) => this._getSingleModifierChordDispatch(keybinding));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { KeyCodeUtils, IMMUTABLE_CODE_TO_KEY_CODE } from '../../../base/common/keyCodes.js';\nimport { KeyCodeChord } from '../../../base/common/keybindings.js';\nimport { BaseResolvedKeybinding } from './baseResolvedKeybinding.js';\nimport { toEmptyArrayIfContainsNull } from './resolvedKeybindingItem.js';\n/**\n * Do not instantiate. Use KeybindingService to get a ResolvedKeybinding seeded with information about the current kb layout.\n */\nexport class USLayoutResolvedKeybinding extends BaseResolvedKeybinding {\n    constructor(chords, os) {\n        super(os, chords);\n    }\n    _keyCodeToUILabel(keyCode) {\n        if (this._os === 2 /* OperatingSystem.Macintosh */) {\n            switch (keyCode) {\n                case 15 /* KeyCode.LeftArrow */:\n                    return '←';\n                case 16 /* KeyCode.UpArrow */:\n                    return '↑';\n                case 17 /* KeyCode.RightArrow */:\n                    return '→';\n                case 18 /* KeyCode.DownArrow */:\n                    return '↓';\n            }\n        }\n        return KeyCodeUtils.toString(keyCode);\n    }\n    _getLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        return this._keyCodeToUILabel(chord.keyCode);\n    }\n    _getAriaLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        return KeyCodeUtils.toString(chord.keyCode);\n    }\n    _getElectronAccelerator(chord) {\n        return KeyCodeUtils.toElectronAccelerator(chord.keyCode);\n    }\n    _getChordDispatch(chord) {\n        return USLayoutResolvedKeybinding.getDispatchStr(chord);\n    }\n    static getDispatchStr(chord) {\n        if (chord.isModifierKey()) {\n            return null;\n        }\n        let result = '';\n        if (chord.ctrlKey) {\n            result += 'ctrl+';\n        }\n        if (chord.shiftKey) {\n            result += 'shift+';\n        }\n        if (chord.altKey) {\n            result += 'alt+';\n        }\n        if (chord.metaKey) {\n            result += 'meta+';\n        }\n        result += KeyCodeUtils.toString(chord.keyCode);\n        return result;\n    }\n    _getSingleModifierChordDispatch(keybinding) {\n        if (keybinding.keyCode === 5 /* KeyCode.Ctrl */ && !keybinding.shiftKey && !keybinding.altKey && !keybinding.metaKey) {\n            return 'ctrl';\n        }\n        if (keybinding.keyCode === 4 /* KeyCode.Shift */ && !keybinding.ctrlKey && !keybinding.altKey && !keybinding.metaKey) {\n            return 'shift';\n        }\n        if (keybinding.keyCode === 6 /* KeyCode.Alt */ && !keybinding.ctrlKey && !keybinding.shiftKey && !keybinding.metaKey) {\n            return 'alt';\n        }\n        if (keybinding.keyCode === 57 /* KeyCode.Meta */ && !keybinding.ctrlKey && !keybinding.shiftKey && !keybinding.altKey) {\n            return 'meta';\n        }\n        return null;\n    }\n    /**\n     * *NOTE*: Check return value for `KeyCode.Unknown`.\n     */\n    static _scanCodeToKeyCode(scanCode) {\n        const immutableKeyCode = IMMUTABLE_CODE_TO_KEY_CODE[scanCode];\n        if (immutableKeyCode !== -1 /* KeyCode.DependsOnKbLayout */) {\n            return immutableKeyCode;\n        }\n        switch (scanCode) {\n            case 10 /* ScanCode.KeyA */: return 31 /* KeyCode.KeyA */;\n            case 11 /* ScanCode.KeyB */: return 32 /* KeyCode.KeyB */;\n            case 12 /* ScanCode.KeyC */: return 33 /* KeyCode.KeyC */;\n            case 13 /* ScanCode.KeyD */: return 34 /* KeyCode.KeyD */;\n            case 14 /* ScanCode.KeyE */: return 35 /* KeyCode.KeyE */;\n            case 15 /* ScanCode.KeyF */: return 36 /* KeyCode.KeyF */;\n            case 16 /* ScanCode.KeyG */: return 37 /* KeyCode.KeyG */;\n            case 17 /* ScanCode.KeyH */: return 38 /* KeyCode.KeyH */;\n            case 18 /* ScanCode.KeyI */: return 39 /* KeyCode.KeyI */;\n            case 19 /* ScanCode.KeyJ */: return 40 /* KeyCode.KeyJ */;\n            case 20 /* ScanCode.KeyK */: return 41 /* KeyCode.KeyK */;\n            case 21 /* ScanCode.KeyL */: return 42 /* KeyCode.KeyL */;\n            case 22 /* ScanCode.KeyM */: return 43 /* KeyCode.KeyM */;\n            case 23 /* ScanCode.KeyN */: return 44 /* KeyCode.KeyN */;\n            case 24 /* ScanCode.KeyO */: return 45 /* KeyCode.KeyO */;\n            case 25 /* ScanCode.KeyP */: return 46 /* KeyCode.KeyP */;\n            case 26 /* ScanCode.KeyQ */: return 47 /* KeyCode.KeyQ */;\n            case 27 /* ScanCode.KeyR */: return 48 /* KeyCode.KeyR */;\n            case 28 /* ScanCode.KeyS */: return 49 /* KeyCode.KeyS */;\n            case 29 /* ScanCode.KeyT */: return 50 /* KeyCode.KeyT */;\n            case 30 /* ScanCode.KeyU */: return 51 /* KeyCode.KeyU */;\n            case 31 /* ScanCode.KeyV */: return 52 /* KeyCode.KeyV */;\n            case 32 /* ScanCode.KeyW */: return 53 /* KeyCode.KeyW */;\n            case 33 /* ScanCode.KeyX */: return 54 /* KeyCode.KeyX */;\n            case 34 /* ScanCode.KeyY */: return 55 /* KeyCode.KeyY */;\n            case 35 /* ScanCode.KeyZ */: return 56 /* KeyCode.KeyZ */;\n            case 36 /* ScanCode.Digit1 */: return 22 /* KeyCode.Digit1 */;\n            case 37 /* ScanCode.Digit2 */: return 23 /* KeyCode.Digit2 */;\n            case 38 /* ScanCode.Digit3 */: return 24 /* KeyCode.Digit3 */;\n            case 39 /* ScanCode.Digit4 */: return 25 /* KeyCode.Digit4 */;\n            case 40 /* ScanCode.Digit5 */: return 26 /* KeyCode.Digit5 */;\n            case 41 /* ScanCode.Digit6 */: return 27 /* KeyCode.Digit6 */;\n            case 42 /* ScanCode.Digit7 */: return 28 /* KeyCode.Digit7 */;\n            case 43 /* ScanCode.Digit8 */: return 29 /* KeyCode.Digit8 */;\n            case 44 /* ScanCode.Digit9 */: return 30 /* KeyCode.Digit9 */;\n            case 45 /* ScanCode.Digit0 */: return 21 /* KeyCode.Digit0 */;\n            case 51 /* ScanCode.Minus */: return 83 /* KeyCode.Minus */;\n            case 52 /* ScanCode.Equal */: return 81 /* KeyCode.Equal */;\n            case 53 /* ScanCode.BracketLeft */: return 87 /* KeyCode.BracketLeft */;\n            case 54 /* ScanCode.BracketRight */: return 89 /* KeyCode.BracketRight */;\n            case 55 /* ScanCode.Backslash */: return 88 /* KeyCode.Backslash */;\n            case 56 /* ScanCode.IntlHash */: return 0 /* KeyCode.Unknown */; // missing\n            case 57 /* ScanCode.Semicolon */: return 80 /* KeyCode.Semicolon */;\n            case 58 /* ScanCode.Quote */: return 90 /* KeyCode.Quote */;\n            case 59 /* ScanCode.Backquote */: return 86 /* KeyCode.Backquote */;\n            case 60 /* ScanCode.Comma */: return 82 /* KeyCode.Comma */;\n            case 61 /* ScanCode.Period */: return 84 /* KeyCode.Period */;\n            case 62 /* ScanCode.Slash */: return 85 /* KeyCode.Slash */;\n            case 106 /* ScanCode.IntlBackslash */: return 92 /* KeyCode.IntlBackslash */;\n        }\n        return 0 /* KeyCode.Unknown */;\n    }\n    static _toKeyCodeChord(chord) {\n        if (!chord) {\n            return null;\n        }\n        if (chord instanceof KeyCodeChord) {\n            return chord;\n        }\n        const keyCode = this._scanCodeToKeyCode(chord.scanCode);\n        if (keyCode === 0 /* KeyCode.Unknown */) {\n            return null;\n        }\n        return new KeyCodeChord(chord.ctrlKey, chord.shiftKey, chord.altKey, chord.metaKey, keyCode);\n    }\n    static resolveKeybinding(keybinding, os) {\n        const chords = toEmptyArrayIfContainsNull(keybinding.chords.map(chord => this._toKeyCodeChord(chord)));\n        if (chords.length > 0) {\n            return [new USLayoutResolvedKeybinding(chords, os)];\n        }\n        return [];\n    }\n}\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILabelService = createDecorator('labelService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILayoutService = createDecorator('layoutService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { createStyleSheet } from '../../../base/browser/dom.js';\nimport { PagedList } from '../../../base/browser/ui/list/listPaging.js';\nimport { DefaultStyleController, isSelectionRangeChangeEvent, isSelectionSingleChangeEvent, List, TypeNavigationMode } from '../../../base/browser/ui/list/listWidget.js';\nimport { Table } from '../../../base/browser/ui/table/tableWidget.js';\nimport { TreeFindMode, TreeFindMatchType } from '../../../base/browser/ui/tree/abstractTree.js';\nimport { AsyncDataTree, CompressibleAsyncDataTree } from '../../../base/browser/ui/tree/asyncDataTree.js';\nimport { DataTree } from '../../../base/browser/ui/tree/dataTree.js';\nimport { CompressibleObjectTree, ObjectTree } from '../../../base/browser/ui/tree/objectTree.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { combinedDisposable, Disposable, DisposableStore, dispose, toDisposable } from '../../../base/common/lifecycle.js';\nimport { localize } from '../../../nls.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { Extensions as ConfigurationExtensions } from '../../configuration/common/configurationRegistry.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { InputFocusedContextKey } from '../../contextkey/common/contextkeys.js';\nimport { IContextViewService } from '../../contextview/browser/contextView.js';\nimport { createDecorator, IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { defaultFindWidgetStyles, defaultListStyles, getListStyles } from '../../theme/browser/defaultStyles.js';\nexport const IListService = createDecorator('listService');\nexport class ListService {\n    get lastFocusedList() {\n        return this._lastFocusedWidget;\n    }\n    constructor() {\n        this.disposables = new DisposableStore();\n        this.lists = [];\n        this._lastFocusedWidget = undefined;\n        this._hasCreatedStyleController = false;\n    }\n    setLastFocusedList(widget) {\n        var _a, _b;\n        if (widget === this._lastFocusedWidget) {\n            return;\n        }\n        (_a = this._lastFocusedWidget) === null || _a === void 0 ? void 0 : _a.getHTMLElement().classList.remove('last-focused');\n        this._lastFocusedWidget = widget;\n        (_b = this._lastFocusedWidget) === null || _b === void 0 ? void 0 : _b.getHTMLElement().classList.add('last-focused');\n    }\n    register(widget, extraContextKeys) {\n        if (!this._hasCreatedStyleController) {\n            this._hasCreatedStyleController = true;\n            // create a shared default tree style sheet for performance reasons\n            const styleController = new DefaultStyleController(createStyleSheet(), '');\n            styleController.style(defaultListStyles);\n        }\n        if (this.lists.some(l => l.widget === widget)) {\n            throw new Error('Cannot register the same widget multiple times');\n        }\n        // Keep in our lists list\n        const registeredList = { widget, extraContextKeys };\n        this.lists.push(registeredList);\n        // Check for currently being focused\n        if (widget.getHTMLElement() === document.activeElement) {\n            this.setLastFocusedList(widget);\n        }\n        return combinedDisposable(widget.onDidFocus(() => this.setLastFocusedList(widget)), toDisposable(() => this.lists.splice(this.lists.indexOf(registeredList), 1)), widget.onDidDispose(() => {\n            this.lists = this.lists.filter(l => l !== registeredList);\n            if (this._lastFocusedWidget === widget) {\n                this.setLastFocusedList(undefined);\n            }\n        }));\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport const RawWorkbenchListFocusContextKey = new RawContextKey('listFocus', true);\nexport const WorkbenchListSupportsMultiSelectContextKey = new RawContextKey('listSupportsMultiselect', true);\nexport const WorkbenchListFocusContextKey = ContextKeyExpr.and(RawWorkbenchListFocusContextKey, ContextKeyExpr.not(InputFocusedContextKey));\nexport const WorkbenchListHasSelectionOrFocus = new RawContextKey('listHasSelectionOrFocus', false);\nexport const WorkbenchListDoubleSelection = new RawContextKey('listDoubleSelection', false);\nexport const WorkbenchListMultiSelection = new RawContextKey('listMultiSelection', false);\nexport const WorkbenchListSelectionNavigation = new RawContextKey('listSelectionNavigation', false);\nexport const WorkbenchListSupportsFind = new RawContextKey('listSupportsFind', true);\nexport const WorkbenchTreeElementCanCollapse = new RawContextKey('treeElementCanCollapse', false);\nexport const WorkbenchTreeElementHasParent = new RawContextKey('treeElementHasParent', false);\nexport const WorkbenchTreeElementCanExpand = new RawContextKey('treeElementCanExpand', false);\nexport const WorkbenchTreeElementHasChild = new RawContextKey('treeElementHasChild', false);\nexport const WorkbenchTreeFindOpen = new RawContextKey('treeFindOpen', false);\nconst WorkbenchListTypeNavigationModeKey = 'listTypeNavigationMode';\n/**\n * @deprecated in favor of WorkbenchListTypeNavigationModeKey\n */\nconst WorkbenchListAutomaticKeyboardNavigationLegacyKey = 'listAutomaticKeyboardNavigation';\nfunction createScopedContextKeyService(contextKeyService, widget) {\n    const result = contextKeyService.createScoped(widget.getHTMLElement());\n    RawWorkbenchListFocusContextKey.bindTo(result);\n    return result;\n}\nconst multiSelectModifierSettingKey = 'workbench.list.multiSelectModifier';\nconst openModeSettingKey = 'workbench.list.openMode';\nconst horizontalScrollingKey = 'workbench.list.horizontalScrolling';\nconst defaultFindModeSettingKey = 'workbench.list.defaultFindMode';\nconst typeNavigationModeSettingKey = 'workbench.list.typeNavigationMode';\n/** @deprecated in favor of `workbench.list.defaultFindMode` and `workbench.list.typeNavigationMode` */\nconst keyboardNavigationSettingKey = 'workbench.list.keyboardNavigation';\nconst scrollByPageKey = 'workbench.list.scrollByPage';\nconst defaultFindMatchTypeSettingKey = 'workbench.list.defaultFindMatchType';\nconst treeIndentKey = 'workbench.tree.indent';\nconst treeRenderIndentGuidesKey = 'workbench.tree.renderIndentGuides';\nconst listSmoothScrolling = 'workbench.list.smoothScrolling';\nconst mouseWheelScrollSensitivityKey = 'workbench.list.mouseWheelScrollSensitivity';\nconst fastScrollSensitivityKey = 'workbench.list.fastScrollSensitivity';\nconst treeExpandMode = 'workbench.tree.expandMode';\nfunction useAltAsMultipleSelectionModifier(configurationService) {\n    return configurationService.getValue(multiSelectModifierSettingKey) === 'alt';\n}\nclass MultipleSelectionController extends Disposable {\n    constructor(configurationService) {\n        super();\n        this.configurationService = configurationService;\n        this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.registerListeners();\n    }\n    registerListeners() {\n        this._register(this.configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(this.configurationService);\n            }\n        }));\n    }\n    isSelectionSingleChangeEvent(event) {\n        if (this.useAltAsMultipleSelectionModifier) {\n            return event.browserEvent.altKey;\n        }\n        return isSelectionSingleChangeEvent(event);\n    }\n    isSelectionRangeChangeEvent(event) {\n        return isSelectionRangeChangeEvent(event);\n    }\n}\nfunction toWorkbenchListOptions(accessor, options) {\n    var _a;\n    const configurationService = accessor.get(IConfigurationService);\n    const keybindingService = accessor.get(IKeybindingService);\n    const disposables = new DisposableStore();\n    const result = Object.assign(Object.assign({}, options), { keyboardNavigationDelegate: { mightProducePrintableCharacter(e) { return keybindingService.mightProducePrintableCharacter(e); } }, smoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)), mouseWheelScrollSensitivity: configurationService.getValue(mouseWheelScrollSensitivityKey), fastScrollSensitivity: configurationService.getValue(fastScrollSensitivityKey), multipleSelectionController: (_a = options.multipleSelectionController) !== null && _a !== void 0 ? _a : disposables.add(new MultipleSelectionController(configurationService)), keyboardNavigationEventFilter: createKeyboardNavigationEventFilter(keybindingService), scrollByPage: Boolean(configurationService.getValue(scrollByPageKey)) });\n    return [result, disposables];\n}\nlet WorkbenchList = class WorkbenchList extends List {\n    constructor(user, container, delegate, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(this.onDidChangeSelection(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.listMultiSelection.set(selection.length > 1);\n                this.listDoubleSelection.set(selection.length === 2);\n            });\n        }));\n        this.disposables.add(this.onDidChangeFocus(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n        }));\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new ListResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n};\nWorkbenchList = __decorate([\n    __param(5, IContextKeyService),\n    __param(6, IListService),\n    __param(7, IConfigurationService),\n    __param(8, IInstantiationService)\n], WorkbenchList);\nexport { WorkbenchList };\nlet WorkbenchPagedList = class WorkbenchPagedList extends PagedList {\n    constructor(user, container, delegate, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables = new DisposableStore();\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new ListResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables.dispose();\n        super.dispose();\n    }\n};\nWorkbenchPagedList = __decorate([\n    __param(5, IContextKeyService),\n    __param(6, IListService),\n    __param(7, IConfigurationService),\n    __param(8, IInstantiationService)\n], WorkbenchPagedList);\nexport { WorkbenchPagedList };\nlet WorkbenchTable = class WorkbenchTable extends Table {\n    constructor(user, container, delegate, columns, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, columns, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(this.onDidChangeSelection(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.listMultiSelection.set(selection.length > 1);\n                this.listDoubleSelection.set(selection.length === 2);\n            });\n        }));\n        this.disposables.add(this.onDidChangeFocus(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n        }));\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new TableResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables.dispose();\n        super.dispose();\n    }\n};\nWorkbenchTable = __decorate([\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService),\n    __param(9, IInstantiationService)\n], WorkbenchTable);\nexport { WorkbenchTable };\nclass ResourceNavigator extends Disposable {\n    constructor(widget, options) {\n        var _a;\n        super();\n        this.widget = widget;\n        this._onDidOpen = this._register(new Emitter());\n        this.onDidOpen = this._onDidOpen.event;\n        this._register(Event.filter(this.widget.onDidChangeSelection, e => e.browserEvent instanceof KeyboardEvent)(e => this.onSelectionFromKeyboard(e)));\n        this._register(this.widget.onPointer((e) => this.onPointer(e.element, e.browserEvent)));\n        this._register(this.widget.onMouseDblClick((e) => this.onMouseDblClick(e.element, e.browserEvent)));\n        if (typeof (options === null || options === void 0 ? void 0 : options.openOnSingleClick) !== 'boolean' && (options === null || options === void 0 ? void 0 : options.configurationService)) {\n            this.openOnSingleClick = (options === null || options === void 0 ? void 0 : options.configurationService.getValue(openModeSettingKey)) !== 'doubleClick';\n            this._register(options === null || options === void 0 ? void 0 : options.configurationService.onDidChangeConfiguration(e => {\n                if (e.affectsConfiguration(openModeSettingKey)) {\n                    this.openOnSingleClick = (options === null || options === void 0 ? void 0 : options.configurationService.getValue(openModeSettingKey)) !== 'doubleClick';\n                }\n            }));\n        }\n        else {\n            this.openOnSingleClick = (_a = options === null || options === void 0 ? void 0 : options.openOnSingleClick) !== null && _a !== void 0 ? _a : true;\n        }\n    }\n    onSelectionFromKeyboard(event) {\n        if (event.elements.length !== 1) {\n            return;\n        }\n        const selectionKeyboardEvent = event.browserEvent;\n        const preserveFocus = typeof selectionKeyboardEvent.preserveFocus === 'boolean' ? selectionKeyboardEvent.preserveFocus : true;\n        const pinned = typeof selectionKeyboardEvent.pinned === 'boolean' ? selectionKeyboardEvent.pinned : !preserveFocus;\n        const sideBySide = false;\n        this._open(this.getSelectedElement(), preserveFocus, pinned, sideBySide, event.browserEvent);\n    }\n    onPointer(element, browserEvent) {\n        if (!this.openOnSingleClick) {\n            return;\n        }\n        const isDoubleClick = browserEvent.detail === 2;\n        if (isDoubleClick) {\n            return;\n        }\n        const isMiddleClick = browserEvent.button === 1;\n        const preserveFocus = true;\n        const pinned = isMiddleClick;\n        const sideBySide = browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey;\n        this._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n    }\n    onMouseDblClick(element, browserEvent) {\n        if (!browserEvent) {\n            return;\n        }\n        // copied from AbstractTree\n        const target = browserEvent.target;\n        const onTwistie = target.classList.contains('monaco-tl-twistie')\n            || (target.classList.contains('monaco-icon-label') && target.classList.contains('folder-icon') && browserEvent.offsetX < 16);\n        if (onTwistie) {\n            return;\n        }\n        const preserveFocus = false;\n        const pinned = true;\n        const sideBySide = (browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey);\n        this._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n    }\n    _open(element, preserveFocus, pinned, sideBySide, browserEvent) {\n        if (!element) {\n            return;\n        }\n        this._onDidOpen.fire({\n            editorOptions: {\n                preserveFocus,\n                pinned,\n                revealIfVisible: true\n            },\n            sideBySide,\n            element,\n            browserEvent\n        });\n    }\n}\nclass ListResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n        this.widget = widget;\n    }\n    getSelectedElement() {\n        return this.widget.getSelectedElements()[0];\n    }\n}\nclass TableResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n    }\n    getSelectedElement() {\n        return this.widget.getSelectedElements()[0];\n    }\n}\nclass TreeResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n    }\n    getSelectedElement() {\n        var _a;\n        return (_a = this.widget.getSelection()[0]) !== null && _a !== void 0 ? _a : undefined;\n    }\n}\nfunction createKeyboardNavigationEventFilter(keybindingService) {\n    let inMultiChord = false;\n    return event => {\n        if (event.toKeyCodeChord().isModifierKey()) {\n            return false;\n        }\n        if (inMultiChord) {\n            inMultiChord = false;\n            return false;\n        }\n        const result = keybindingService.softDispatch(event, event.target);\n        if (result === null || result === void 0 ? void 0 : result.enterMultiChord) {\n            inMultiChord = true;\n            return false;\n        }\n        inMultiChord = false;\n        return !result;\n    };\n}\nlet WorkbenchObjectTree = class WorkbenchObjectTree extends ObjectTree {\n    constructor(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchObjectTree = __decorate([\n    __param(5, IInstantiationService),\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService)\n], WorkbenchObjectTree);\nexport { WorkbenchObjectTree };\nlet WorkbenchCompressibleObjectTree = class WorkbenchCompressibleObjectTree extends CompressibleObjectTree {\n    constructor(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchCompressibleObjectTree = __decorate([\n    __param(5, IInstantiationService),\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService)\n], WorkbenchCompressibleObjectTree);\nexport { WorkbenchCompressibleObjectTree };\nlet WorkbenchDataTree = class WorkbenchDataTree extends DataTree {\n    constructor(user, container, delegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchDataTree = __decorate([\n    __param(6, IInstantiationService),\n    __param(7, IContextKeyService),\n    __param(8, IListService),\n    __param(9, IConfigurationService)\n], WorkbenchDataTree);\nexport { WorkbenchDataTree };\nlet WorkbenchAsyncDataTree = class WorkbenchAsyncDataTree extends AsyncDataTree {\n    get onDidOpen() { return this.internals.onDidOpen; }\n    constructor(user, container, delegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchAsyncDataTree = __decorate([\n    __param(6, IInstantiationService),\n    __param(7, IContextKeyService),\n    __param(8, IListService),\n    __param(9, IConfigurationService)\n], WorkbenchAsyncDataTree);\nexport { WorkbenchAsyncDataTree };\nlet WorkbenchCompressibleAsyncDataTree = class WorkbenchCompressibleAsyncDataTree extends CompressibleAsyncDataTree {\n    constructor(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchCompressibleAsyncDataTree = __decorate([\n    __param(7, IInstantiationService),\n    __param(8, IContextKeyService),\n    __param(9, IListService),\n    __param(10, IConfigurationService)\n], WorkbenchCompressibleAsyncDataTree);\nexport { WorkbenchCompressibleAsyncDataTree };\nfunction getDefaultTreeFindMode(configurationService) {\n    const value = configurationService.getValue(defaultFindModeSettingKey);\n    if (value === 'highlight') {\n        return TreeFindMode.Highlight;\n    }\n    else if (value === 'filter') {\n        return TreeFindMode.Filter;\n    }\n    const deprecatedValue = configurationService.getValue(keyboardNavigationSettingKey);\n    if (deprecatedValue === 'simple' || deprecatedValue === 'highlight') {\n        return TreeFindMode.Highlight;\n    }\n    else if (deprecatedValue === 'filter') {\n        return TreeFindMode.Filter;\n    }\n    return undefined;\n}\nfunction getDefaultTreeFindMatchType(configurationService) {\n    const value = configurationService.getValue(defaultFindMatchTypeSettingKey);\n    if (value === 'fuzzy') {\n        return TreeFindMatchType.Fuzzy;\n    }\n    else if (value === 'contiguous') {\n        return TreeFindMatchType.Contiguous;\n    }\n    return undefined;\n}\nfunction workbenchTreeDataPreamble(accessor, options) {\n    var _a;\n    const configurationService = accessor.get(IConfigurationService);\n    const contextViewService = accessor.get(IContextViewService);\n    const contextKeyService = accessor.get(IContextKeyService);\n    const instantiationService = accessor.get(IInstantiationService);\n    const getTypeNavigationMode = () => {\n        // give priority to the context key value to specify a value\n        const modeString = contextKeyService.getContextKeyValue(WorkbenchListTypeNavigationModeKey);\n        if (modeString === 'automatic') {\n            return TypeNavigationMode.Automatic;\n        }\n        else if (modeString === 'trigger') {\n            return TypeNavigationMode.Trigger;\n        }\n        // also check the deprecated context key to set the mode to 'trigger'\n        const modeBoolean = contextKeyService.getContextKeyValue(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n        if (modeBoolean === false) {\n            return TypeNavigationMode.Trigger;\n        }\n        // finally, check the setting\n        const configString = configurationService.getValue(typeNavigationModeSettingKey);\n        if (configString === 'automatic') {\n            return TypeNavigationMode.Automatic;\n        }\n        else if (configString === 'trigger') {\n            return TypeNavigationMode.Trigger;\n        }\n        return undefined;\n    };\n    const horizontalScrolling = options.horizontalScrolling !== undefined ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n    const [workbenchListOptions, disposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n    const additionalScrollHeight = options.additionalScrollHeight;\n    const renderIndentGuides = options.renderIndentGuides !== undefined ? options.renderIndentGuides : configurationService.getValue(treeRenderIndentGuidesKey);\n    return {\n        getTypeNavigationMode,\n        disposable,\n        options: Object.assign(Object.assign({ \n            // ...options, // TODO@Joao why is this not splatted here?\n            keyboardSupport: false }, workbenchListOptions), { indent: typeof configurationService.getValue(treeIndentKey) === 'number' ? configurationService.getValue(treeIndentKey) : undefined, renderIndentGuides, smoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)), defaultFindMode: getDefaultTreeFindMode(configurationService), defaultFindMatchType: getDefaultTreeFindMatchType(configurationService), horizontalScrolling, scrollByPage: Boolean(configurationService.getValue(scrollByPageKey)), additionalScrollHeight, hideTwistiesOfChildlessElements: options.hideTwistiesOfChildlessElements, expandOnlyOnTwistieClick: (_a = options.expandOnlyOnTwistieClick) !== null && _a !== void 0 ? _a : (configurationService.getValue(treeExpandMode) === 'doubleClick'), contextViewProvider: contextViewService, findWidgetStyles: defaultFindWidgetStyles })\n    };\n}\nlet WorkbenchTreeInternals = class WorkbenchTreeInternals {\n    get onDidOpen() { return this.navigator.onDidOpen; }\n    constructor(tree, options, getTypeNavigationMode, overrideStyles, contextKeyService, listService, configurationService) {\n        var _a;\n        this.tree = tree;\n        this.disposables = [];\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, tree);\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listSupportFindWidget = WorkbenchListSupportsFind.bindTo(this.contextKeyService);\n        this.listSupportFindWidget.set((_a = options.findWidgetEnabled) !== null && _a !== void 0 ? _a : true);\n        this.hasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.hasDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.hasMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.treeElementCanCollapse = WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService);\n        this.treeElementHasParent = WorkbenchTreeElementHasParent.bindTo(this.contextKeyService);\n        this.treeElementCanExpand = WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService);\n        this.treeElementHasChild = WorkbenchTreeElementHasChild.bindTo(this.contextKeyService);\n        this.treeFindOpen = WorkbenchTreeFindOpen.bindTo(this.contextKeyService);\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.updateStyleOverrides(overrideStyles);\n        const updateCollapseContextKeys = () => {\n            const focus = tree.getFocus()[0];\n            if (!focus) {\n                return;\n            }\n            const node = tree.getNode(focus);\n            this.treeElementCanCollapse.set(node.collapsible && !node.collapsed);\n            this.treeElementHasParent.set(!!tree.getParentElement(focus));\n            this.treeElementCanExpand.set(node.collapsible && node.collapsed);\n            this.treeElementHasChild.set(!!tree.getFirstElementChild(focus));\n        };\n        const interestingContextKeys = new Set();\n        interestingContextKeys.add(WorkbenchListTypeNavigationModeKey);\n        interestingContextKeys.add(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n        this.disposables.push(this.contextKeyService, listService.register(tree), tree.onDidChangeSelection(() => {\n            const selection = tree.getSelection();\n            const focus = tree.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.hasMultiSelection.set(selection.length > 1);\n                this.hasDoubleSelection.set(selection.length === 2);\n            });\n        }), tree.onDidChangeFocus(() => {\n            const selection = tree.getSelection();\n            const focus = tree.getFocus();\n            this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n            updateCollapseContextKeys();\n        }), tree.onDidChangeCollapseState(updateCollapseContextKeys), tree.onDidChangeModel(updateCollapseContextKeys), tree.onDidChangeFindOpenState(enabled => this.treeFindOpen.set(enabled)), configurationService.onDidChangeConfiguration(e => {\n            let newOptions = {};\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            if (e.affectsConfiguration(treeIndentKey)) {\n                const indent = configurationService.getValue(treeIndentKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { indent });\n            }\n            if (e.affectsConfiguration(treeRenderIndentGuidesKey) && options.renderIndentGuides === undefined) {\n                const renderIndentGuides = configurationService.getValue(treeRenderIndentGuidesKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { renderIndentGuides });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                newOptions = Object.assign(Object.assign({}, newOptions), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(defaultFindModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n                const defaultFindMode = getDefaultTreeFindMode(configurationService);\n                newOptions = Object.assign(Object.assign({}, newOptions), { defaultFindMode });\n            }\n            if (e.affectsConfiguration(typeNavigationModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n                const typeNavigationMode = getTypeNavigationMode();\n                newOptions = Object.assign(Object.assign({}, newOptions), { typeNavigationMode });\n            }\n            if (e.affectsConfiguration(defaultFindMatchTypeSettingKey)) {\n                const defaultFindMatchType = getDefaultTreeFindMatchType(configurationService);\n                newOptions = Object.assign(Object.assign({}, newOptions), { defaultFindMatchType });\n            }\n            if (e.affectsConfiguration(horizontalScrollingKey) && options.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                newOptions = Object.assign(Object.assign({}, newOptions), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                newOptions = Object.assign(Object.assign({}, newOptions), { scrollByPage });\n            }\n            if (e.affectsConfiguration(treeExpandMode) && options.expandOnlyOnTwistieClick === undefined) {\n                newOptions = Object.assign(Object.assign({}, newOptions), { expandOnlyOnTwistieClick: configurationService.getValue(treeExpandMode) === 'doubleClick' });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { fastScrollSensitivity });\n            }\n            if (Object.keys(newOptions).length > 0) {\n                tree.updateOptions(newOptions);\n            }\n        }), this.contextKeyService.onDidChangeContext(e => {\n            if (e.affectsSome(interestingContextKeys)) {\n                tree.updateOptions({ typeNavigationMode: getTypeNavigationMode() });\n            }\n        }));\n        this.navigator = new TreeResourceNavigator(tree, Object.assign({ configurationService }, options));\n        this.disposables.push(this.navigator);\n    }\n    updateOptions(options) {\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyleOverrides(overrideStyles) {\n        this.tree.style(overrideStyles ? getListStyles(overrideStyles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables = dispose(this.disposables);\n    }\n};\nWorkbenchTreeInternals = __decorate([\n    __param(4, IContextKeyService),\n    __param(5, IListService),\n    __param(6, IConfigurationService)\n], WorkbenchTreeInternals);\nconst configurationRegistry = Registry.as(ConfigurationExtensions.Configuration);\nconfigurationRegistry.registerConfiguration({\n    id: 'workbench',\n    order: 7,\n    title: localize('workbenchConfigurationTitle', \"Workbench\"),\n    type: 'object',\n    properties: {\n        [multiSelectModifierSettingKey]: {\n            type: 'string',\n            enum: ['ctrlCmd', 'alt'],\n            markdownEnumDescriptions: [\n                localize('multiSelectModifier.ctrlCmd', \"Maps to `Control` on Windows and Linux and to `Command` on macOS.\"),\n                localize('multiSelectModifier.alt', \"Maps to `Alt` on Windows and Linux and to `Option` on macOS.\")\n            ],\n            default: 'ctrlCmd',\n            description: localize({\n                key: 'multiSelectModifier',\n                comment: [\n                    '- `ctrlCmd` refers to a value the setting can take and should not be localized.',\n                    '- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized.'\n                ]\n            }, \"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.\")\n        },\n        [openModeSettingKey]: {\n            type: 'string',\n            enum: ['singleClick', 'doubleClick'],\n            default: 'singleClick',\n            description: localize({\n                key: 'openModeModifier',\n                comment: ['`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized.']\n            }, \"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.\")\n        },\n        [horizontalScrollingKey]: {\n            type: 'boolean',\n            default: false,\n            description: localize('horizontalScrolling setting', \"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.\")\n        },\n        [scrollByPageKey]: {\n            type: 'boolean',\n            default: false,\n            description: localize('list.scrollByPage', \"Controls whether clicks in the scrollbar scroll page by page.\")\n        },\n        [treeIndentKey]: {\n            type: 'number',\n            default: 8,\n            minimum: 4,\n            maximum: 40,\n            description: localize('tree indent setting', \"Controls tree indentation in pixels.\")\n        },\n        [treeRenderIndentGuidesKey]: {\n            type: 'string',\n            enum: ['none', 'onHover', 'always'],\n            default: 'onHover',\n            description: localize('render tree indent guides', \"Controls whether the tree should render indent guides.\")\n        },\n        [listSmoothScrolling]: {\n            type: 'boolean',\n            default: false,\n            description: localize('list smoothScrolling setting', \"Controls whether lists and trees have smooth scrolling.\"),\n        },\n        [mouseWheelScrollSensitivityKey]: {\n            type: 'number',\n            default: 1,\n            markdownDescription: localize('Mouse Wheel Scroll Sensitivity', \"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.\")\n        },\n        [fastScrollSensitivityKey]: {\n            type: 'number',\n            default: 5,\n            markdownDescription: localize('Fast Scroll Sensitivity', \"Scrolling speed multiplier when pressing `Alt`.\")\n        },\n        [defaultFindModeSettingKey]: {\n            type: 'string',\n            enum: ['highlight', 'filter'],\n            enumDescriptions: [\n                localize('defaultFindModeSettingKey.highlight', \"Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements.\"),\n                localize('defaultFindModeSettingKey.filter', \"Filter elements when searching.\")\n            ],\n            default: 'highlight',\n            description: localize('defaultFindModeSettingKey', \"Controls the default find mode for lists and trees in the workbench.\")\n        },\n        [keyboardNavigationSettingKey]: {\n            type: 'string',\n            enum: ['simple', 'highlight', 'filter'],\n            enumDescriptions: [\n                localize('keyboardNavigationSettingKey.simple', \"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes.\"),\n                localize('keyboardNavigationSettingKey.highlight', \"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements.\"),\n                localize('keyboardNavigationSettingKey.filter', \"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.\")\n            ],\n            default: 'highlight',\n            description: localize('keyboardNavigationSettingKey', \"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.\"),\n            deprecated: true,\n            deprecationMessage: localize('keyboardNavigationSettingKeyDeprecated', \"Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.\")\n        },\n        [defaultFindMatchTypeSettingKey]: {\n            type: 'string',\n            enum: ['fuzzy', 'contiguous'],\n            enumDescriptions: [\n                localize('defaultFindMatchTypeSettingKey.fuzzy', \"Use fuzzy matching when searching.\"),\n                localize('defaultFindMatchTypeSettingKey.contiguous', \"Use contiguous matching when searching.\")\n            ],\n            default: 'fuzzy',\n            description: localize('defaultFindMatchTypeSettingKey', \"Controls the type of matching used when searching lists and trees in the workbench.\")\n        },\n        [treeExpandMode]: {\n            type: 'string',\n            enum: ['singleClick', 'doubleClick'],\n            default: 'singleClick',\n            description: localize('expand mode', \"Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.\"),\n        },\n        [typeNavigationModeSettingKey]: {\n            type: 'string',\n            enum: ['automatic', 'trigger'],\n            default: 'automatic',\n            description: localize('typeNavigationMode', \"Controls the how type navigation works in lists and trees in the workbench. When set to 'trigger', type navigation begins once the 'list.triggerTypeNavigation' command is run.\"),\n        }\n    }\n});\n","import { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILogService = createDecorator('logService');\nexport var LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Off\"] = 0] = \"Off\";\n    LogLevel[LogLevel[\"Trace\"] = 1] = \"Trace\";\n    LogLevel[LogLevel[\"Debug\"] = 2] = \"Debug\";\n    LogLevel[LogLevel[\"Info\"] = 3] = \"Info\";\n    LogLevel[LogLevel[\"Warning\"] = 4] = \"Warning\";\n    LogLevel[LogLevel[\"Error\"] = 5] = \"Error\";\n})(LogLevel || (LogLevel = {}));\nexport const DEFAULT_LOG_LEVEL = LogLevel.Info;\nexport class AbstractLogger extends Disposable {\n    constructor() {\n        super(...arguments);\n        this.level = DEFAULT_LOG_LEVEL;\n        this._onDidChangeLogLevel = this._register(new Emitter());\n        this.onDidChangeLogLevel = this._onDidChangeLogLevel.event;\n    }\n    setLevel(level) {\n        if (this.level !== level) {\n            this.level = level;\n            this._onDidChangeLogLevel.fire(this.level);\n        }\n    }\n    getLevel() {\n        return this.level;\n    }\n    checkLogLevel(level) {\n        return this.level !== LogLevel.Off && this.level <= level;\n    }\n}\nexport class ConsoleLogger extends AbstractLogger {\n    constructor(logLevel = DEFAULT_LOG_LEVEL) {\n        super();\n        this.setLevel(logLevel);\n    }\n    trace(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Trace)) {\n            console.log('%cTRACE', 'color: #888', message, ...args);\n        }\n    }\n    debug(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Debug)) {\n            console.log('%cDEBUG', 'background: #eee; color: #888', message, ...args);\n        }\n    }\n    info(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Info)) {\n            console.log('%c INFO', 'color: #33f', message, ...args);\n        }\n    }\n    error(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Error)) {\n            console.log('%c  ERR', 'color: #f33', message, ...args);\n        }\n    }\n    dispose() {\n        // noop\n    }\n}\nexport class MultiplexLogger extends AbstractLogger {\n    constructor(loggers) {\n        super();\n        this.loggers = loggers;\n        if (loggers.length) {\n            this.setLevel(loggers[0].getLevel());\n        }\n    }\n    setLevel(level) {\n        for (const logger of this.loggers) {\n            logger.setLevel(level);\n        }\n        super.setLevel(level);\n    }\n    trace(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.trace(message, ...args);\n        }\n    }\n    debug(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.debug(message, ...args);\n        }\n    }\n    info(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.info(message, ...args);\n        }\n    }\n    error(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.error(message, ...args);\n        }\n    }\n    dispose() {\n        for (const logger of this.loggers) {\n            logger.dispose();\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { MultiplexLogger } from './log.js';\nexport class LogService extends Disposable {\n    constructor(primaryLogger, otherLoggers = []) {\n        super();\n        this.logger = new MultiplexLogger([primaryLogger, ...otherLoggers]);\n        this._register(primaryLogger.onDidChangeLogLevel(level => this.setLevel(level)));\n    }\n    get onDidChangeLogLevel() {\n        return this.logger.onDidChangeLogLevel;\n    }\n    setLevel(level) {\n        this.logger.setLevel(level);\n    }\n    getLevel() {\n        return this.logger.getLevel();\n    }\n    trace(message, ...args) {\n        this.logger.trace(message, ...args);\n    }\n    debug(message, ...args) {\n        this.logger.debug(message, ...args);\n    }\n    info(message, ...args) {\n        this.logger.info(message, ...args);\n    }\n    error(message, ...args) {\n        this.logger.error(message, ...args);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFalsyOrEmpty, isNonEmptyArray } from '../../../base/common/arrays.js';\nimport { DebounceEmitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { MarkerSeverity } from './markers.js';\nexport const unsupportedSchemas = new Set([Schemas.inMemory, Schemas.vscodeSourceControl, Schemas.walkThrough, Schemas.walkThroughSnippet]);\nclass DoubleResourceMap {\n    constructor() {\n        this._byResource = new ResourceMap();\n        this._byOwner = new Map();\n    }\n    set(resource, owner, value) {\n        let ownerMap = this._byResource.get(resource);\n        if (!ownerMap) {\n            ownerMap = new Map();\n            this._byResource.set(resource, ownerMap);\n        }\n        ownerMap.set(owner, value);\n        let resourceMap = this._byOwner.get(owner);\n        if (!resourceMap) {\n            resourceMap = new ResourceMap();\n            this._byOwner.set(owner, resourceMap);\n        }\n        resourceMap.set(resource, value);\n    }\n    get(resource, owner) {\n        const ownerMap = this._byResource.get(resource);\n        return ownerMap === null || ownerMap === void 0 ? void 0 : ownerMap.get(owner);\n    }\n    delete(resource, owner) {\n        let removedA = false;\n        let removedB = false;\n        const ownerMap = this._byResource.get(resource);\n        if (ownerMap) {\n            removedA = ownerMap.delete(owner);\n        }\n        const resourceMap = this._byOwner.get(owner);\n        if (resourceMap) {\n            removedB = resourceMap.delete(resource);\n        }\n        if (removedA !== removedB) {\n            throw new Error('illegal state');\n        }\n        return removedA && removedB;\n    }\n    values(key) {\n        var _a, _b, _c, _d;\n        if (typeof key === 'string') {\n            return (_b = (_a = this._byOwner.get(key)) === null || _a === void 0 ? void 0 : _a.values()) !== null && _b !== void 0 ? _b : Iterable.empty();\n        }\n        if (URI.isUri(key)) {\n            return (_d = (_c = this._byResource.get(key)) === null || _c === void 0 ? void 0 : _c.values()) !== null && _d !== void 0 ? _d : Iterable.empty();\n        }\n        return Iterable.map(Iterable.concat(...this._byOwner.values()), map => map[1]);\n    }\n}\nclass MarkerStats {\n    constructor(service) {\n        this.errors = 0;\n        this.infos = 0;\n        this.warnings = 0;\n        this.unknowns = 0;\n        this._data = new ResourceMap();\n        this._service = service;\n        this._subscription = service.onMarkerChanged(this._update, this);\n    }\n    dispose() {\n        this._subscription.dispose();\n    }\n    _update(resources) {\n        for (const resource of resources) {\n            const oldStats = this._data.get(resource);\n            if (oldStats) {\n                this._substract(oldStats);\n            }\n            const newStats = this._resourceStats(resource);\n            this._add(newStats);\n            this._data.set(resource, newStats);\n        }\n    }\n    _resourceStats(resource) {\n        const result = { errors: 0, warnings: 0, infos: 0, unknowns: 0 };\n        // TODO this is a hack\n        if (unsupportedSchemas.has(resource.scheme)) {\n            return result;\n        }\n        for (const { severity } of this._service.read({ resource })) {\n            if (severity === MarkerSeverity.Error) {\n                result.errors += 1;\n            }\n            else if (severity === MarkerSeverity.Warning) {\n                result.warnings += 1;\n            }\n            else if (severity === MarkerSeverity.Info) {\n                result.infos += 1;\n            }\n            else {\n                result.unknowns += 1;\n            }\n        }\n        return result;\n    }\n    _substract(op) {\n        this.errors -= op.errors;\n        this.warnings -= op.warnings;\n        this.infos -= op.infos;\n        this.unknowns -= op.unknowns;\n    }\n    _add(op) {\n        this.errors += op.errors;\n        this.warnings += op.warnings;\n        this.infos += op.infos;\n        this.unknowns += op.unknowns;\n    }\n}\nexport class MarkerService {\n    constructor() {\n        this._onMarkerChanged = new DebounceEmitter({\n            delay: 0,\n            merge: MarkerService._merge\n        });\n        this.onMarkerChanged = this._onMarkerChanged.event;\n        this._data = new DoubleResourceMap();\n        this._stats = new MarkerStats(this);\n    }\n    dispose() {\n        this._stats.dispose();\n        this._onMarkerChanged.dispose();\n    }\n    remove(owner, resources) {\n        for (const resource of resources || []) {\n            this.changeOne(owner, resource, []);\n        }\n    }\n    changeOne(owner, resource, markerData) {\n        if (isFalsyOrEmpty(markerData)) {\n            // remove marker for this (owner,resource)-tuple\n            const removed = this._data.delete(resource, owner);\n            if (removed) {\n                this._onMarkerChanged.fire([resource]);\n            }\n        }\n        else {\n            // insert marker for this (owner,resource)-tuple\n            const markers = [];\n            for (const data of markerData) {\n                const marker = MarkerService._toMarker(owner, resource, data);\n                if (marker) {\n                    markers.push(marker);\n                }\n            }\n            this._data.set(resource, owner, markers);\n            this._onMarkerChanged.fire([resource]);\n        }\n    }\n    static _toMarker(owner, resource, data) {\n        let { code, severity, message, source, startLineNumber, startColumn, endLineNumber, endColumn, relatedInformation, tags, } = data;\n        if (!message) {\n            return undefined;\n        }\n        // santize data\n        startLineNumber = startLineNumber > 0 ? startLineNumber : 1;\n        startColumn = startColumn > 0 ? startColumn : 1;\n        endLineNumber = endLineNumber >= startLineNumber ? endLineNumber : startLineNumber;\n        endColumn = endColumn > 0 ? endColumn : startColumn;\n        return {\n            resource,\n            owner,\n            code,\n            severity,\n            message,\n            source,\n            startLineNumber,\n            startColumn,\n            endLineNumber,\n            endColumn,\n            relatedInformation,\n            tags,\n        };\n    }\n    changeAll(owner, data) {\n        const changes = [];\n        // remove old marker\n        const existing = this._data.values(owner);\n        if (existing) {\n            for (const data of existing) {\n                const first = Iterable.first(data);\n                if (first) {\n                    changes.push(first.resource);\n                    this._data.delete(first.resource, owner);\n                }\n            }\n        }\n        // add new markers\n        if (isNonEmptyArray(data)) {\n            // group by resource\n            const groups = new ResourceMap();\n            for (const { resource, marker: markerData } of data) {\n                const marker = MarkerService._toMarker(owner, resource, markerData);\n                if (!marker) {\n                    // filter bad markers\n                    continue;\n                }\n                const array = groups.get(resource);\n                if (!array) {\n                    groups.set(resource, [marker]);\n                    changes.push(resource);\n                }\n                else {\n                    array.push(marker);\n                }\n            }\n            // insert all\n            for (const [resource, value] of groups) {\n                this._data.set(resource, owner, value);\n            }\n        }\n        if (changes.length > 0) {\n            this._onMarkerChanged.fire(changes);\n        }\n    }\n    read(filter = Object.create(null)) {\n        let { owner, resource, severities, take } = filter;\n        if (!take || take < 0) {\n            take = -1;\n        }\n        if (owner && resource) {\n            // exactly one owner AND resource\n            const data = this._data.get(resource, owner);\n            if (!data) {\n                return [];\n            }\n            else {\n                const result = [];\n                for (const marker of data) {\n                    if (MarkerService._accept(marker, severities)) {\n                        const newLen = result.push(marker);\n                        if (take > 0 && newLen === take) {\n                            break;\n                        }\n                    }\n                }\n                return result;\n            }\n        }\n        else if (!owner && !resource) {\n            // all\n            const result = [];\n            for (const markers of this._data.values()) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n        else {\n            // of one resource OR owner\n            const iterable = this._data.values(resource !== null && resource !== void 0 ? resource : owner);\n            const result = [];\n            for (const markers of iterable) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n    }\n    static _accept(marker, severities) {\n        return severities === undefined || (severities & marker.severity) === marker.severity;\n    }\n    // --- event debounce logic\n    static _merge(all) {\n        const set = new ResourceMap();\n        for (const array of all) {\n            for (const item of array) {\n                set.set(item, true);\n            }\n        }\n        return Array.from(set.keys());\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport Severity from '../../../base/common/severity.js';\nimport { localize } from '../../../nls.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var MarkerSeverity;\n(function (MarkerSeverity) {\n    MarkerSeverity[MarkerSeverity[\"Hint\"] = 1] = \"Hint\";\n    MarkerSeverity[MarkerSeverity[\"Info\"] = 2] = \"Info\";\n    MarkerSeverity[MarkerSeverity[\"Warning\"] = 4] = \"Warning\";\n    MarkerSeverity[MarkerSeverity[\"Error\"] = 8] = \"Error\";\n})(MarkerSeverity || (MarkerSeverity = {}));\n(function (MarkerSeverity) {\n    function compare(a, b) {\n        return b - a;\n    }\n    MarkerSeverity.compare = compare;\n    const _displayStrings = Object.create(null);\n    _displayStrings[MarkerSeverity.Error] = localize('sev.error', \"Error\");\n    _displayStrings[MarkerSeverity.Warning] = localize('sev.warning', \"Warning\");\n    _displayStrings[MarkerSeverity.Info] = localize('sev.info', \"Info\");\n    function toString(a) {\n        return _displayStrings[a] || '';\n    }\n    MarkerSeverity.toString = toString;\n    function fromSeverity(severity) {\n        switch (severity) {\n            case Severity.Error: return MarkerSeverity.Error;\n            case Severity.Warning: return MarkerSeverity.Warning;\n            case Severity.Info: return MarkerSeverity.Info;\n            case Severity.Ignore: return MarkerSeverity.Hint;\n        }\n    }\n    MarkerSeverity.fromSeverity = fromSeverity;\n    function toSeverity(severity) {\n        switch (severity) {\n            case MarkerSeverity.Error: return Severity.Error;\n            case MarkerSeverity.Warning: return Severity.Warning;\n            case MarkerSeverity.Info: return Severity.Info;\n            case MarkerSeverity.Hint: return Severity.Ignore;\n        }\n    }\n    MarkerSeverity.toSeverity = toSeverity;\n})(MarkerSeverity || (MarkerSeverity = {}));\nexport var IMarkerData;\n(function (IMarkerData) {\n    const emptyString = '';\n    function makeKey(markerData) {\n        return makeKeyOptionalMessage(markerData, true);\n    }\n    IMarkerData.makeKey = makeKey;\n    function makeKeyOptionalMessage(markerData, useMessage) {\n        const result = [emptyString];\n        if (markerData.source) {\n            result.push(markerData.source.replace('¦', '\\\\¦'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.code) {\n            if (typeof markerData.code === 'string') {\n                result.push(markerData.code.replace('¦', '\\\\¦'));\n            }\n            else {\n                result.push(markerData.code.value.replace('¦', '\\\\¦'));\n            }\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.severity !== undefined && markerData.severity !== null) {\n            result.push(MarkerSeverity.toString(markerData.severity));\n        }\n        else {\n            result.push(emptyString);\n        }\n        // Modifed to not include the message as part of the marker key to work around\n        // https://github.com/microsoft/vscode/issues/77475\n        if (markerData.message && useMessage) {\n            result.push(markerData.message.replace('¦', '\\\\¦'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startLineNumber !== undefined && markerData.startLineNumber !== null) {\n            result.push(markerData.startLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startColumn !== undefined && markerData.startColumn !== null) {\n            result.push(markerData.startColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endLineNumber !== undefined && markerData.endLineNumber !== null) {\n            result.push(markerData.endLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endColumn !== undefined && markerData.endColumn !== null) {\n            result.push(markerData.endColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        result.push(emptyString);\n        return result.join('¦');\n    }\n    IMarkerData.makeKeyOptionalMessage = makeKeyOptionalMessage;\n})(IMarkerData || (IMarkerData = {}));\nexport const IMarkerService = createDecorator('markerService');\n","import BaseSeverity from '../../../base/common/severity.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var Severity = BaseSeverity;\nexport const INotificationService = createDecorator('notificationService');\nexport class NoOpNotification {\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { $, append, EventHelper } from '../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../base/browser/event.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { EventType as TouchEventType, Gesture } from '../../../base/browser/touch.js';\nimport { Event } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { IOpenerService } from '../common/opener.js';\nimport './link.css';\nlet Link = class Link extends Disposable {\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(enabled) {\n        if (enabled) {\n            this.el.setAttribute('aria-disabled', 'false');\n            this.el.tabIndex = 0;\n            this.el.style.pointerEvents = 'auto';\n            this.el.style.opacity = '1';\n            this.el.style.cursor = 'pointer';\n            this._enabled = false;\n        }\n        else {\n            this.el.setAttribute('aria-disabled', 'true');\n            this.el.tabIndex = -1;\n            this.el.style.pointerEvents = 'none';\n            this.el.style.opacity = '0.4';\n            this.el.style.cursor = 'default';\n            this._enabled = true;\n        }\n        this._enabled = enabled;\n    }\n    constructor(container, _link, options = {}, openerService) {\n        var _a;\n        super();\n        this._link = _link;\n        this._enabled = true;\n        this.el = append(container, $('a.monaco-link', {\n            tabIndex: (_a = _link.tabIndex) !== null && _a !== void 0 ? _a : 0,\n            href: _link.href,\n            title: _link.title\n        }, _link.label));\n        this.el.setAttribute('role', 'button');\n        const onClickEmitter = this._register(new DomEmitter(this.el, 'click'));\n        const onKeyPress = this._register(new DomEmitter(this.el, 'keypress'));\n        const onEnterPress = Event.chain(onKeyPress.event)\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => e.keyCode === 3 /* KeyCode.Enter */)\n            .event;\n        const onTap = this._register(new DomEmitter(this.el, TouchEventType.Tap)).event;\n        this._register(Gesture.addTarget(this.el));\n        const onOpen = Event.any(onClickEmitter.event, onEnterPress, onTap);\n        this._register(onOpen(e => {\n            if (!this.enabled) {\n                return;\n            }\n            EventHelper.stop(e, true);\n            if (options === null || options === void 0 ? void 0 : options.opener) {\n                options.opener(this._link.href);\n            }\n            else {\n                openerService.open(this._link.href, { allowCommands: true });\n            }\n        }));\n        this.enabled = true;\n    }\n};\nLink = __decorate([\n    __param(3, IOpenerService)\n], Link);\nexport { Link };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { equalsIgnoreCase, startsWithIgnoreCase } from '../../../base/common/strings.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IOpenerService = createDecorator('openerService');\nexport function matchesScheme(target, scheme) {\n    if (URI.isUri(target)) {\n        return equalsIgnoreCase(target.scheme, scheme);\n    }\n    else {\n        return startsWithIgnoreCase(target, scheme + ':');\n    }\n}\nexport function matchesSomeScheme(target, ...schemes) {\n    return schemes.some(scheme => matchesScheme(target, scheme));\n}\n/**\n * file:///some/file.js#73\n * file:///some/file.js#L73\n * file:///some/file.js#73,84\n * file:///some/file.js#L73,84\n * file:///some/file.js#73-83\n * file:///some/file.js#L73-L83\n * file:///some/file.js#73,84-83,52\n * file:///some/file.js#L73,84-L83,52\n */\nexport function extractSelection(uri) {\n    let selection = undefined;\n    const match = /^L?(\\d+)(?:,(\\d+))?(-L?(\\d+)(?:,(\\d+))?)?/.exec(uri.fragment);\n    if (match) {\n        selection = {\n            startLineNumber: parseInt(match[1]),\n            startColumn: match[2] ? parseInt(match[2]) : 1,\n            endLineNumber: match[4] ? parseInt(match[4]) : undefined,\n            endColumn: match[4] ? (match[5] ? parseInt(match[5]) : 1) : undefined\n        };\n        uri = uri.with({ fragment: '' });\n    }\n    return { selection, uri };\n}\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IProgressService = createDecorator('progressService');\nexport const emptyProgressRunner = Object.freeze({\n    total() { },\n    worked() { },\n    done() { }\n});\nclass Progress {\n    constructor(callback) {\n        this.callback = callback;\n    }\n    report(item) {\n        this._value = item;\n        this.callback(this._value);\n    }\n}\nProgress.None = Object.freeze({ report() { } });\nexport { Progress };\nexport const IEditorProgressService = createDecorator('editorProgressService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { timeout } from '../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { Disposable, DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\nexport var TriggerAction;\n(function (TriggerAction) {\n    /**\n     * Do nothing after the button was clicked.\n     */\n    TriggerAction[TriggerAction[\"NO_ACTION\"] = 0] = \"NO_ACTION\";\n    /**\n     * Close the picker.\n     */\n    TriggerAction[TriggerAction[\"CLOSE_PICKER\"] = 1] = \"CLOSE_PICKER\";\n    /**\n     * Update the results of the picker.\n     */\n    TriggerAction[TriggerAction[\"REFRESH_PICKER\"] = 2] = \"REFRESH_PICKER\";\n    /**\n     * Remove the item from the picker.\n     */\n    TriggerAction[TriggerAction[\"REMOVE_ITEM\"] = 3] = \"REMOVE_ITEM\";\n})(TriggerAction || (TriggerAction = {}));\nfunction isPicksWithActive(obj) {\n    const candidate = obj;\n    return Array.isArray(candidate.items);\n}\nfunction isFastAndSlowPicks(obj) {\n    const candidate = obj;\n    return !!candidate.picks && candidate.additionalPicks instanceof Promise;\n}\nclass PickerQuickAccessProvider extends Disposable {\n    constructor(prefix, options) {\n        super();\n        this.prefix = prefix;\n        this.options = options;\n    }\n    provide(picker, token, runOptions) {\n        var _a;\n        const disposables = new DisposableStore();\n        // Apply options if any\n        picker.canAcceptInBackground = !!((_a = this.options) === null || _a === void 0 ? void 0 : _a.canAcceptInBackground);\n        // Disable filtering & sorting, we control the results\n        picker.matchOnLabel = picker.matchOnDescription = picker.matchOnDetail = picker.sortByLabel = false;\n        // Set initial picks and update on type\n        let picksCts = undefined;\n        const picksDisposable = disposables.add(new MutableDisposable());\n        const updatePickerItems = () => __awaiter(this, void 0, void 0, function* () {\n            const picksDisposables = picksDisposable.value = new DisposableStore();\n            // Cancel any previous ask for picks and busy\n            picksCts === null || picksCts === void 0 ? void 0 : picksCts.dispose(true);\n            picker.busy = false;\n            // Create new cancellation source for this run\n            picksCts = new CancellationTokenSource(token);\n            // Collect picks and support both long running and short or combined\n            const picksToken = picksCts.token;\n            const picksFilter = picker.value.substr(this.prefix.length).trim();\n            const providedPicks = this._getPicks(picksFilter, picksDisposables, picksToken, runOptions);\n            const applyPicks = (picks, skipEmpty) => {\n                var _a;\n                let items;\n                let activeItem = undefined;\n                if (isPicksWithActive(picks)) {\n                    items = picks.items;\n                    activeItem = picks.active;\n                }\n                else {\n                    items = picks;\n                }\n                if (items.length === 0) {\n                    if (skipEmpty) {\n                        return false;\n                    }\n                    if (picksFilter.length > 0 && ((_a = this.options) === null || _a === void 0 ? void 0 : _a.noResultsPick)) {\n                        items = [this.options.noResultsPick];\n                    }\n                }\n                picker.items = items;\n                if (activeItem) {\n                    picker.activeItems = [activeItem];\n                }\n                return true;\n            };\n            // No Picks\n            if (providedPicks === null) {\n                // Ignore\n            }\n            // Fast and Slow Picks\n            else if (isFastAndSlowPicks(providedPicks)) {\n                let fastPicksApplied = false;\n                let slowPicksApplied = false;\n                yield Promise.all([\n                    // Fast Picks: to reduce amount of flicker, we race against\n                    // the slow picks over 500ms and then set the fast picks.\n                    // If the slow picks are faster, we reduce the flicker by\n                    // only setting the items once.\n                    (() => __awaiter(this, void 0, void 0, function* () {\n                        yield timeout(PickerQuickAccessProvider.FAST_PICKS_RACE_DELAY);\n                        if (picksToken.isCancellationRequested) {\n                            return;\n                        }\n                        if (!slowPicksApplied) {\n                            fastPicksApplied = applyPicks(providedPicks.picks, true /* skip over empty to reduce flicker */);\n                        }\n                    }))(),\n                    // Slow Picks: we await the slow picks and then set them at\n                    // once together with the fast picks, but only if we actually\n                    // have additional results.\n                    (() => __awaiter(this, void 0, void 0, function* () {\n                        picker.busy = true;\n                        try {\n                            const awaitedAdditionalPicks = yield providedPicks.additionalPicks;\n                            if (picksToken.isCancellationRequested) {\n                                return;\n                            }\n                            let picks;\n                            let activePick = undefined;\n                            if (isPicksWithActive(providedPicks.picks)) {\n                                picks = providedPicks.picks.items;\n                                activePick = providedPicks.picks.active;\n                            }\n                            else {\n                                picks = providedPicks.picks;\n                            }\n                            let additionalPicks;\n                            let additionalActivePick = undefined;\n                            if (isPicksWithActive(awaitedAdditionalPicks)) {\n                                additionalPicks = awaitedAdditionalPicks.items;\n                                additionalActivePick = awaitedAdditionalPicks.active;\n                            }\n                            else {\n                                additionalPicks = awaitedAdditionalPicks;\n                            }\n                            if (additionalPicks.length > 0 || !fastPicksApplied) {\n                                // If we do not have any activePick or additionalActivePick\n                                // we try to preserve the currently active pick from the\n                                // fast results. This fixes an issue where the user might\n                                // have made a pick active before the additional results\n                                // kick in.\n                                // See https://github.com/microsoft/vscode/issues/102480\n                                let fallbackActivePick = undefined;\n                                if (!activePick && !additionalActivePick) {\n                                    const fallbackActivePickCandidate = picker.activeItems[0];\n                                    if (fallbackActivePickCandidate && picks.indexOf(fallbackActivePickCandidate) !== -1) {\n                                        fallbackActivePick = fallbackActivePickCandidate;\n                                    }\n                                }\n                                applyPicks({\n                                    items: [...picks, ...additionalPicks],\n                                    active: activePick || additionalActivePick || fallbackActivePick\n                                });\n                            }\n                        }\n                        finally {\n                            if (!picksToken.isCancellationRequested) {\n                                picker.busy = false;\n                            }\n                            slowPicksApplied = true;\n                        }\n                    }))()\n                ]);\n            }\n            // Fast Picks\n            else if (!(providedPicks instanceof Promise)) {\n                applyPicks(providedPicks);\n            }\n            // Slow Picks\n            else {\n                picker.busy = true;\n                try {\n                    const awaitedPicks = yield providedPicks;\n                    if (picksToken.isCancellationRequested) {\n                        return;\n                    }\n                    applyPicks(awaitedPicks);\n                }\n                finally {\n                    if (!picksToken.isCancellationRequested) {\n                        picker.busy = false;\n                    }\n                }\n            }\n        });\n        disposables.add(picker.onDidChangeValue(() => updatePickerItems()));\n        updatePickerItems();\n        // Accept the pick on accept and hide picker\n        disposables.add(picker.onDidAccept(event => {\n            const [item] = picker.selectedItems;\n            if (typeof (item === null || item === void 0 ? void 0 : item.accept) === 'function') {\n                if (!event.inBackground) {\n                    picker.hide(); // hide picker unless we accept in background\n                }\n                item.accept(picker.keyMods, event);\n            }\n        }));\n        // Trigger the pick with button index if button triggered\n        disposables.add(picker.onDidTriggerItemButton(({ button, item }) => __awaiter(this, void 0, void 0, function* () {\n            var _b, _c;\n            if (typeof item.trigger === 'function') {\n                const buttonIndex = (_c = (_b = item.buttons) === null || _b === void 0 ? void 0 : _b.indexOf(button)) !== null && _c !== void 0 ? _c : -1;\n                if (buttonIndex >= 0) {\n                    const result = item.trigger(buttonIndex, picker.keyMods);\n                    const action = (typeof result === 'number') ? result : yield result;\n                    if (token.isCancellationRequested) {\n                        return;\n                    }\n                    switch (action) {\n                        case TriggerAction.NO_ACTION:\n                            break;\n                        case TriggerAction.CLOSE_PICKER:\n                            picker.hide();\n                            break;\n                        case TriggerAction.REFRESH_PICKER:\n                            updatePickerItems();\n                            break;\n                        case TriggerAction.REMOVE_ITEM: {\n                            const index = picker.items.indexOf(item);\n                            if (index !== -1) {\n                                const items = picker.items.slice();\n                                const removed = items.splice(index, 1);\n                                const activeItems = picker.activeItems.filter(activeItem => activeItem !== removed[0]);\n                                const keepScrollPositionBefore = picker.keepScrollPosition;\n                                picker.keepScrollPosition = true;\n                                picker.items = items;\n                                if (activeItems) {\n                                    picker.activeItems = activeItems;\n                                }\n                                picker.keepScrollPosition = keepScrollPositionBefore;\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n        })));\n        return disposables;\n    }\n}\nPickerQuickAccessProvider.FAST_PICKS_RACE_DELAY = 200; // timeout before we accept fast results before slow results are present\nexport { PickerQuickAccessProvider };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { toErrorMessage } from '../../../base/common/errorMessage.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { matchesContiguousSubString, matchesPrefix, matchesWords, or } from '../../../base/common/filters.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { LRUCache } from '../../../base/common/map.js';\nimport { withNullAsUndefined } from '../../../base/common/types.js';\nimport { localize } from '../../../nls.js';\nimport { ICommandService } from '../../commands/common/commands.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IDialogService } from '../../dialogs/common/dialogs.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { PickerQuickAccessProvider } from './pickerQuickAccess.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\nlet AbstractCommandsQuickAccessProvider = class AbstractCommandsQuickAccessProvider extends PickerQuickAccessProvider {\n    constructor(options, instantiationService, keybindingService, commandService, telemetryService, dialogService) {\n        super(AbstractCommandsQuickAccessProvider.PREFIX, options);\n        this.instantiationService = instantiationService;\n        this.keybindingService = keybindingService;\n        this.commandService = commandService;\n        this.telemetryService = telemetryService;\n        this.dialogService = dialogService;\n        this.commandsHistory = this._register(this.instantiationService.createInstance(CommandsHistory));\n        this.options = options;\n    }\n    _getPicks(filter, _disposables, token, runOptions) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            // Ask subclass for all command picks\n            const allCommandPicks = yield this.getCommandPicks(token);\n            if (token.isCancellationRequested) {\n                return [];\n            }\n            // Filter\n            const filteredCommandPicks = [];\n            for (const commandPick of allCommandPicks) {\n                const labelHighlights = withNullAsUndefined(AbstractCommandsQuickAccessProvider.WORD_FILTER(filter, commandPick.label));\n                const aliasHighlights = commandPick.commandAlias ? withNullAsUndefined(AbstractCommandsQuickAccessProvider.WORD_FILTER(filter, commandPick.commandAlias)) : undefined;\n                // Add if matching in label or alias\n                if (labelHighlights || aliasHighlights) {\n                    commandPick.highlights = {\n                        label: labelHighlights,\n                        detail: this.options.showAlias ? aliasHighlights : undefined\n                    };\n                    filteredCommandPicks.push(commandPick);\n                }\n                // Also add if we have a 100% command ID match\n                else if (filter === commandPick.commandId) {\n                    filteredCommandPicks.push(commandPick);\n                }\n            }\n            // Add description to commands that have duplicate labels\n            const mapLabelToCommand = new Map();\n            for (const commandPick of filteredCommandPicks) {\n                const existingCommandForLabel = mapLabelToCommand.get(commandPick.label);\n                if (existingCommandForLabel) {\n                    commandPick.description = commandPick.commandId;\n                    existingCommandForLabel.description = existingCommandForLabel.commandId;\n                }\n                else {\n                    mapLabelToCommand.set(commandPick.label, commandPick);\n                }\n            }\n            // Sort by MRU order and fallback to name otherwise\n            filteredCommandPicks.sort((commandPickA, commandPickB) => {\n                const commandACounter = this.commandsHistory.peek(commandPickA.commandId);\n                const commandBCounter = this.commandsHistory.peek(commandPickB.commandId);\n                if (commandACounter && commandBCounter) {\n                    return commandACounter > commandBCounter ? -1 : 1; // use more recently used command before older\n                }\n                if (commandACounter) {\n                    return -1; // first command was used, so it wins over the non used one\n                }\n                if (commandBCounter) {\n                    return 1; // other command was used so it wins over the command\n                }\n                if (this.options.suggestedCommandIds) {\n                    const commandASuggestion = this.options.suggestedCommandIds.has(commandPickA.commandId);\n                    const commandBSuggestion = this.options.suggestedCommandIds.has(commandPickB.commandId);\n                    if (commandASuggestion && commandBSuggestion) {\n                        return 0; // honor the order of the array\n                    }\n                    if (commandASuggestion) {\n                        return -1; // first command was suggested, so it wins over the non suggested one\n                    }\n                    if (commandBSuggestion) {\n                        return 1; // other command was suggested so it wins over the command\n                    }\n                }\n                // both commands were never used, so we sort by name\n                return commandPickA.label.localeCompare(commandPickB.label);\n            });\n            const commandPicks = [];\n            let addOtherSeparator = false;\n            let addCommonlyUsedSeparator = !!this.options.suggestedCommandIds;\n            for (let i = 0; i < filteredCommandPicks.length; i++) {\n                const commandPick = filteredCommandPicks[i];\n                const keybinding = this.keybindingService.lookupKeybinding(commandPick.commandId);\n                const ariaLabel = keybinding ?\n                    localize('commandPickAriaLabelWithKeybinding', \"{0}, {1}\", commandPick.label, keybinding.getAriaLabel()) :\n                    commandPick.label;\n                // Separator: recently used\n                if (i === 0 && this.commandsHistory.peek(commandPick.commandId)) {\n                    commandPicks.push({ type: 'separator', label: localize('recentlyUsed', \"recently used\") });\n                    addOtherSeparator = true;\n                }\n                // Separator: commonly used\n                if (addCommonlyUsedSeparator && !this.commandsHistory.peek(commandPick.commandId) && ((_a = this.options.suggestedCommandIds) === null || _a === void 0 ? void 0 : _a.has(commandPick.commandId))) {\n                    commandPicks.push({ type: 'separator', label: localize('commonlyUsed', \"commonly used\") });\n                    addOtherSeparator = true;\n                    addCommonlyUsedSeparator = false;\n                }\n                // Separator: other commands\n                if (addOtherSeparator && !this.commandsHistory.peek(commandPick.commandId) && !((_b = this.options.suggestedCommandIds) === null || _b === void 0 ? void 0 : _b.has(commandPick.commandId))) {\n                    commandPicks.push({ type: 'separator', label: localize('morecCommands', \"other commands\") });\n                    addOtherSeparator = false;\n                }\n                // Command\n                commandPicks.push(Object.assign(Object.assign({}, commandPick), { ariaLabel, detail: this.options.showAlias && commandPick.commandAlias !== commandPick.label ? commandPick.commandAlias : undefined, keybinding, accept: () => __awaiter(this, void 0, void 0, function* () {\n                        var _c;\n                        // Add to history\n                        this.commandsHistory.push(commandPick.commandId);\n                        // Telementry\n                        this.telemetryService.publicLog2('workbenchActionExecuted', {\n                            id: commandPick.commandId,\n                            from: (_c = runOptions === null || runOptions === void 0 ? void 0 : runOptions.from) !== null && _c !== void 0 ? _c : 'quick open'\n                        });\n                        // Run\n                        try {\n                            yield this.commandService.executeCommand(commandPick.commandId);\n                        }\n                        catch (error) {\n                            if (!isCancellationError(error)) {\n                                this.dialogService.error(localize('canNotRun', \"Command '{0}' resulted in an error\", commandPick.label), toErrorMessage(error));\n                            }\n                        }\n                    }) }));\n            }\n            return commandPicks;\n        });\n    }\n};\nAbstractCommandsQuickAccessProvider.PREFIX = '>';\nAbstractCommandsQuickAccessProvider.WORD_FILTER = or(matchesPrefix, matchesWords, matchesContiguousSubString);\nAbstractCommandsQuickAccessProvider = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IKeybindingService),\n    __param(3, ICommandService),\n    __param(4, ITelemetryService),\n    __param(5, IDialogService)\n], AbstractCommandsQuickAccessProvider);\nexport { AbstractCommandsQuickAccessProvider };\nlet CommandsHistory = class CommandsHistory extends Disposable {\n    constructor(storageService, configurationService) {\n        super();\n        this.storageService = storageService;\n        this.configurationService = configurationService;\n        this.configuredCommandsHistoryLength = 0;\n        this.updateConfiguration();\n        this.load();\n        this.registerListeners();\n    }\n    registerListeners() {\n        this._register(this.configurationService.onDidChangeConfiguration(e => this.updateConfiguration(e)));\n    }\n    updateConfiguration(e) {\n        if (e && !e.affectsConfiguration('workbench.commandPalette.history')) {\n            return;\n        }\n        this.configuredCommandsHistoryLength = CommandsHistory.getConfiguredCommandHistoryLength(this.configurationService);\n        if (CommandsHistory.cache && CommandsHistory.cache.limit !== this.configuredCommandsHistoryLength) {\n            CommandsHistory.cache.limit = this.configuredCommandsHistoryLength;\n            CommandsHistory.saveState(this.storageService);\n        }\n    }\n    load() {\n        const raw = this.storageService.get(CommandsHistory.PREF_KEY_CACHE, 0 /* StorageScope.PROFILE */);\n        let serializedCache;\n        if (raw) {\n            try {\n                serializedCache = JSON.parse(raw);\n            }\n            catch (error) {\n                // invalid data\n            }\n        }\n        const cache = CommandsHistory.cache = new LRUCache(this.configuredCommandsHistoryLength, 1);\n        if (serializedCache) {\n            let entries;\n            if (serializedCache.usesLRU) {\n                entries = serializedCache.entries;\n            }\n            else {\n                entries = serializedCache.entries.sort((a, b) => a.value - b.value);\n            }\n            entries.forEach(entry => cache.set(entry.key, entry.value));\n        }\n        CommandsHistory.counter = this.storageService.getNumber(CommandsHistory.PREF_KEY_COUNTER, 0 /* StorageScope.PROFILE */, CommandsHistory.counter);\n    }\n    push(commandId) {\n        if (!CommandsHistory.cache) {\n            return;\n        }\n        CommandsHistory.cache.set(commandId, CommandsHistory.counter++); // set counter to command\n        CommandsHistory.saveState(this.storageService);\n    }\n    peek(commandId) {\n        var _a;\n        return (_a = CommandsHistory.cache) === null || _a === void 0 ? void 0 : _a.peek(commandId);\n    }\n    static saveState(storageService) {\n        if (!CommandsHistory.cache) {\n            return;\n        }\n        const serializedCache = { usesLRU: true, entries: [] };\n        CommandsHistory.cache.forEach((value, key) => serializedCache.entries.push({ key, value }));\n        storageService.store(CommandsHistory.PREF_KEY_CACHE, JSON.stringify(serializedCache), 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n        storageService.store(CommandsHistory.PREF_KEY_COUNTER, CommandsHistory.counter, 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n    }\n    static getConfiguredCommandHistoryLength(configurationService) {\n        var _a, _b;\n        const config = configurationService.getValue();\n        const configuredCommandHistoryLength = (_b = (_a = config.workbench) === null || _a === void 0 ? void 0 : _a.commandPalette) === null || _b === void 0 ? void 0 : _b.history;\n        if (typeof configuredCommandHistoryLength === 'number') {\n            return configuredCommandHistoryLength;\n        }\n        return CommandsHistory.DEFAULT_COMMANDS_HISTORY_LENGTH;\n    }\n};\nCommandsHistory.DEFAULT_COMMANDS_HISTORY_LENGTH = 50;\nCommandsHistory.PREF_KEY_CACHE = 'commandPalette.mru.cache';\nCommandsHistory.PREF_KEY_COUNTER = 'commandPalette.mru.counter';\nCommandsHistory.counter = 1;\nCommandsHistory = __decorate([\n    __param(0, IStorageService),\n    __param(1, IConfigurationService)\n], CommandsHistory);\nexport { CommandsHistory };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { localize } from '../../../nls.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { Extensions } from '../common/quickAccess.js';\nimport { IQuickInputService } from '../common/quickInput.js';\nlet HelpQuickAccessProvider = class HelpQuickAccessProvider {\n    constructor(quickInputService, keybindingService) {\n        this.quickInputService = quickInputService;\n        this.keybindingService = keybindingService;\n        this.registry = Registry.as(Extensions.Quickaccess);\n    }\n    provide(picker) {\n        const disposables = new DisposableStore();\n        // Open a picker with the selected value if picked\n        disposables.add(picker.onDidAccept(() => {\n            const [item] = picker.selectedItems;\n            if (item) {\n                this.quickInputService.quickAccess.show(item.prefix, { preserveValue: true });\n            }\n        }));\n        // Also open a picker when we detect the user typed the exact\n        // name of a provider (e.g. `?term` for terminals)\n        disposables.add(picker.onDidChangeValue(value => {\n            const providerDescriptor = this.registry.getQuickAccessProvider(value.substr(HelpQuickAccessProvider.PREFIX.length));\n            if (providerDescriptor && providerDescriptor.prefix && providerDescriptor.prefix !== HelpQuickAccessProvider.PREFIX) {\n                this.quickInputService.quickAccess.show(providerDescriptor.prefix, { preserveValue: true });\n            }\n        }));\n        // Fill in all providers\n        picker.items = this.getQuickAccessProviders().filter(p => p.prefix !== HelpQuickAccessProvider.PREFIX);\n        return disposables;\n    }\n    getQuickAccessProviders() {\n        const providers = this.registry\n            .getQuickAccessProviders()\n            .sort((providerA, providerB) => providerA.prefix.localeCompare(providerB.prefix))\n            .flatMap(provider => this.createPicks(provider));\n        return providers;\n    }\n    createPicks(provider) {\n        return provider.helpEntries.map(helpEntry => {\n            const prefix = helpEntry.prefix || provider.prefix;\n            const label = prefix || '\\u2026' /* ... */;\n            return {\n                prefix,\n                label,\n                keybinding: helpEntry.commandId ? this.keybindingService.lookupKeybinding(helpEntry.commandId) : undefined,\n                ariaLabel: localize('helpPickAriaLabel', \"{0}, {1}\", label, helpEntry.description),\n                description: helpEntry.description\n            };\n        });\n    }\n};\nHelpQuickAccessProvider.PREFIX = '?';\nHelpQuickAccessProvider = __decorate([\n    __param(0, IQuickInputService),\n    __param(1, IKeybindingService)\n], HelpQuickAccessProvider);\nexport { HelpQuickAccessProvider };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { DeferredPromise } from '../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { once } from '../../../base/common/functional.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { DefaultQuickAccessFilterValue, Extensions } from '../common/quickAccess.js';\nimport { IQuickInputService, ItemActivation } from '../common/quickInput.js';\nimport { Registry } from '../../registry/common/platform.js';\nlet QuickAccessController = class QuickAccessController extends Disposable {\n    constructor(quickInputService, instantiationService) {\n        super();\n        this.quickInputService = quickInputService;\n        this.instantiationService = instantiationService;\n        this.registry = Registry.as(Extensions.Quickaccess);\n        this.mapProviderToDescriptor = new Map();\n        this.lastAcceptedPickerValues = new Map();\n        this.visibleQuickAccess = undefined;\n    }\n    show(value = '', options) {\n        this.doShowOrPick(value, false, options);\n    }\n    doShowOrPick(value, pick, options) {\n        var _a;\n        // Find provider for the value to show\n        const [provider, descriptor] = this.getOrInstantiateProvider(value);\n        // Return early if quick access is already showing on that same prefix\n        const visibleQuickAccess = this.visibleQuickAccess;\n        const visibleDescriptor = visibleQuickAccess === null || visibleQuickAccess === void 0 ? void 0 : visibleQuickAccess.descriptor;\n        if (visibleQuickAccess && descriptor && visibleDescriptor === descriptor) {\n            // Apply value only if it is more specific than the prefix\n            // from the provider and we are not instructed to preserve\n            if (value !== descriptor.prefix && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n                visibleQuickAccess.picker.value = value;\n            }\n            // Always adjust selection\n            this.adjustValueSelection(visibleQuickAccess.picker, descriptor, options);\n            return;\n        }\n        // Rewrite the filter value based on certain rules unless disabled\n        if (descriptor && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n            let newValue = undefined;\n            // If we have a visible provider with a value, take it's filter value but\n            // rewrite to new provider prefix in case they differ\n            if (visibleQuickAccess && visibleDescriptor && visibleDescriptor !== descriptor) {\n                const newValueCandidateWithoutPrefix = visibleQuickAccess.value.substr(visibleDescriptor.prefix.length);\n                if (newValueCandidateWithoutPrefix) {\n                    newValue = `${descriptor.prefix}${newValueCandidateWithoutPrefix}`;\n                }\n            }\n            // Otherwise, take a default value as instructed\n            if (!newValue) {\n                const defaultFilterValue = provider === null || provider === void 0 ? void 0 : provider.defaultFilterValue;\n                if (defaultFilterValue === DefaultQuickAccessFilterValue.LAST) {\n                    newValue = this.lastAcceptedPickerValues.get(descriptor);\n                }\n                else if (typeof defaultFilterValue === 'string') {\n                    newValue = `${descriptor.prefix}${defaultFilterValue}`;\n                }\n            }\n            if (typeof newValue === 'string') {\n                value = newValue;\n            }\n        }\n        // Create a picker for the provider to use with the initial value\n        // and adjust the filtering to exclude the prefix from filtering\n        const disposables = new DisposableStore();\n        const picker = disposables.add(this.quickInputService.createQuickPick());\n        picker.value = value;\n        this.adjustValueSelection(picker, descriptor, options);\n        picker.placeholder = descriptor === null || descriptor === void 0 ? void 0 : descriptor.placeholder;\n        picker.quickNavigate = options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration;\n        picker.hideInput = !!picker.quickNavigate && !visibleQuickAccess; // only hide input if there was no picker opened already\n        if (typeof (options === null || options === void 0 ? void 0 : options.itemActivation) === 'number' || (options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration)) {\n            picker.itemActivation = (_a = options === null || options === void 0 ? void 0 : options.itemActivation) !== null && _a !== void 0 ? _a : ItemActivation.SECOND /* quick nav is always second */;\n        }\n        picker.contextKey = descriptor === null || descriptor === void 0 ? void 0 : descriptor.contextKey;\n        picker.filterValue = (value) => value.substring(descriptor ? descriptor.prefix.length : 0);\n        if (descriptor === null || descriptor === void 0 ? void 0 : descriptor.placeholder) {\n            picker.ariaLabel = descriptor === null || descriptor === void 0 ? void 0 : descriptor.placeholder;\n        }\n        // Pick mode: setup a promise that can be resolved\n        // with the selected items and prevent execution\n        let pickPromise = undefined;\n        if (pick) {\n            pickPromise = new DeferredPromise();\n            disposables.add(once(picker.onWillAccept)(e => {\n                e.veto();\n                picker.hide();\n            }));\n        }\n        // Register listeners\n        disposables.add(this.registerPickerListeners(picker, provider, descriptor, value, options === null || options === void 0 ? void 0 : options.providerOptions));\n        // Ask provider to fill the picker as needed if we have one\n        // and pass over a cancellation token that will indicate when\n        // the picker is hiding without a pick being made.\n        const cts = disposables.add(new CancellationTokenSource());\n        if (provider) {\n            disposables.add(provider.provide(picker, cts.token, options === null || options === void 0 ? void 0 : options.providerOptions));\n        }\n        // Finally, trigger disposal and cancellation when the picker\n        // hides depending on items selected or not.\n        once(picker.onDidHide)(() => {\n            if (picker.selectedItems.length === 0) {\n                cts.cancel();\n            }\n            // Start to dispose once picker hides\n            disposables.dispose();\n            // Resolve pick promise with selected items\n            pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.complete(picker.selectedItems.slice(0));\n        });\n        // Finally, show the picker. This is important because a provider\n        // may not call this and then our disposables would leak that rely\n        // on the onDidHide event.\n        picker.show();\n        // Pick mode: return with promise\n        if (pick) {\n            return pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.p;\n        }\n    }\n    adjustValueSelection(picker, descriptor, options) {\n        var _a;\n        let valueSelection;\n        // Preserve: just always put the cursor at the end\n        if (options === null || options === void 0 ? void 0 : options.preserveValue) {\n            valueSelection = [picker.value.length, picker.value.length];\n        }\n        // Otherwise: select the value up until the prefix\n        else {\n            valueSelection = [(_a = descriptor === null || descriptor === void 0 ? void 0 : descriptor.prefix.length) !== null && _a !== void 0 ? _a : 0, picker.value.length];\n        }\n        picker.valueSelection = valueSelection;\n    }\n    registerPickerListeners(picker, provider, descriptor, value, providerOptions) {\n        const disposables = new DisposableStore();\n        // Remember as last visible picker and clean up once picker get's disposed\n        const visibleQuickAccess = this.visibleQuickAccess = { picker, descriptor, value };\n        disposables.add(toDisposable(() => {\n            if (visibleQuickAccess === this.visibleQuickAccess) {\n                this.visibleQuickAccess = undefined;\n            }\n        }));\n        // Whenever the value changes, check if the provider has\n        // changed and if so - re-create the picker from the beginning\n        disposables.add(picker.onDidChangeValue(value => {\n            const [providerForValue] = this.getOrInstantiateProvider(value);\n            if (providerForValue !== provider) {\n                this.show(value, {\n                    // do not rewrite value from user typing!\n                    preserveValue: true,\n                    // persist the value of the providerOptions from the original showing\n                    providerOptions\n                });\n            }\n            else {\n                visibleQuickAccess.value = value; // remember the value in our visible one\n            }\n        }));\n        // Remember picker input for future use when accepting\n        if (descriptor) {\n            disposables.add(picker.onDidAccept(() => {\n                this.lastAcceptedPickerValues.set(descriptor, picker.value);\n            }));\n        }\n        return disposables;\n    }\n    getOrInstantiateProvider(value) {\n        const providerDescriptor = this.registry.getQuickAccessProvider(value);\n        if (!providerDescriptor) {\n            return [undefined, undefined];\n        }\n        let provider = this.mapProviderToDescriptor.get(providerDescriptor);\n        if (!provider) {\n            provider = this.instantiationService.createInstance(providerDescriptor.ctor);\n            this.mapProviderToDescriptor.set(providerDescriptor, provider);\n        }\n        return [provider, providerDescriptor];\n    }\n};\nQuickAccessController = __decorate([\n    __param(0, IQuickInputService),\n    __param(1, IInstantiationService)\n], QuickAccessController);\nexport { QuickAccessController };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { StandardMouseEvent } from '../../../base/browser/mouseEvent.js';\nimport { FindInput } from '../../../base/browser/ui/findinput/findInput.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport Severity from '../../../base/common/severity.js';\nimport './media/quickInput.css';\nconst $ = dom.$;\nexport class QuickInputBox extends Disposable {\n    constructor(parent, inputBoxStyles, toggleStyles) {\n        super();\n        this.parent = parent;\n        this.onKeyDown = (handler) => {\n            return dom.addDisposableListener(this.findInput.inputBox.inputElement, dom.EventType.KEY_DOWN, (e) => {\n                handler(new StandardKeyboardEvent(e));\n            });\n        };\n        this.onMouseDown = (handler) => {\n            return dom.addDisposableListener(this.findInput.inputBox.inputElement, dom.EventType.MOUSE_DOWN, (e) => {\n                handler(new StandardMouseEvent(e));\n            });\n        };\n        this.onDidChange = (handler) => {\n            return this.findInput.onDidChange(handler);\n        };\n        this.container = dom.append(this.parent, $('.quick-input-box'));\n        this.findInput = this._register(new FindInput(this.container, undefined, { label: '', inputBoxStyles, toggleStyles }));\n    }\n    get value() {\n        return this.findInput.getValue();\n    }\n    set value(value) {\n        this.findInput.setValue(value);\n    }\n    select(range = null) {\n        this.findInput.inputBox.select(range);\n    }\n    isSelectionAtEnd() {\n        return this.findInput.inputBox.isSelectionAtEnd();\n    }\n    get placeholder() {\n        return this.findInput.inputBox.inputElement.getAttribute('placeholder') || '';\n    }\n    set placeholder(placeholder) {\n        this.findInput.inputBox.setPlaceHolder(placeholder);\n    }\n    get ariaLabel() {\n        return this.findInput.inputBox.getAriaLabel();\n    }\n    set ariaLabel(ariaLabel) {\n        this.findInput.inputBox.setAriaLabel(ariaLabel);\n    }\n    get password() {\n        return this.findInput.inputBox.inputElement.type === 'password';\n    }\n    set password(password) {\n        this.findInput.inputBox.inputElement.type = password ? 'password' : 'text';\n    }\n    set enabled(enabled) {\n        // We can't disable the input box because it is still used for\n        // navigating the list. Instead, we disable the list and the OK\n        // so that nothing can be selected.\n        // TODO: should this be what we do for all find inputs? Or maybe some _other_ API\n        // on findInput to change it to readonly?\n        this.findInput.inputBox.inputElement.toggleAttribute('readonly', !enabled);\n        // TODO: styles of the quick pick need to be moved to the CSS instead of being in line\n        // so things like this can be done in CSS\n        // this.findInput.inputBox.inputElement.classList.toggle('disabled', !enabled);\n    }\n    set toggles(toggles) {\n        this.findInput.setAdditionalToggles(toggles);\n    }\n    setAttribute(name, value) {\n        this.findInput.inputBox.inputElement.setAttribute(name, value);\n    }\n    removeAttribute(name) {\n        this.findInput.inputBox.inputElement.removeAttribute(name);\n    }\n    showDecoration(decoration) {\n        if (decoration === Severity.Ignore) {\n            this.findInput.clearMessage();\n        }\n        else {\n            this.findInput.showMessage({ type: decoration === Severity.Info ? 1 /* MessageType.INFO */ : decoration === Severity.Warning ? 2 /* MessageType.WARNING */ : 3 /* MessageType.ERROR */, content: '' });\n        }\n    }\n    stylesForType(decoration) {\n        return this.findInput.inputBox.stylesForType(decoration === Severity.Info ? 1 /* MessageType.INFO */ : decoration === Severity.Warning ? 2 /* MessageType.WARNING */ : 3 /* MessageType.ERROR */);\n    }\n    setFocus() {\n        this.findInput.focus();\n    }\n    layout() {\n        this.findInput.inputBox.layout();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../base/browser/event.js';\nimport { Event } from '../../../base/common/event.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { Gesture, EventType as GestureEventType } from '../../../base/browser/touch.js';\nimport { renderLabelWithIcons } from '../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { IdGenerator } from '../../../base/common/idGenerator.js';\nimport { parseLinkedText } from '../../../base/common/linkedText.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nconst iconPathToClass = {};\nconst iconClassGenerator = new IdGenerator('quick-input-button-icon-');\nexport function getIconClass(iconPath) {\n    if (!iconPath) {\n        return undefined;\n    }\n    let iconClass;\n    const key = iconPath.dark.toString();\n    if (iconPathToClass[key]) {\n        iconClass = iconPathToClass[key];\n    }\n    else {\n        iconClass = iconClassGenerator.nextId();\n        dom.createCSSRule(`.${iconClass}, .hc-light .${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.light || iconPath.dark)}`);\n        dom.createCSSRule(`.vs-dark .${iconClass}, .hc-black .${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.dark)}`);\n        iconPathToClass[key] = iconClass;\n    }\n    return iconClass;\n}\nexport function renderQuickInputDescription(description, container, actionHandler) {\n    dom.reset(container);\n    const parsed = parseLinkedText(description);\n    let tabIndex = 0;\n    for (const node of parsed.nodes) {\n        if (typeof node === 'string') {\n            container.append(...renderLabelWithIcons(node));\n        }\n        else {\n            let title = node.title;\n            if (!title && node.href.startsWith('command:')) {\n                title = localize('executeCommand', \"Click to execute command '{0}'\", node.href.substring('command:'.length));\n            }\n            else if (!title) {\n                title = node.href;\n            }\n            const anchor = dom.$('a', { href: node.href, title, tabIndex: tabIndex++ }, node.label);\n            anchor.style.textDecoration = 'underline';\n            const handleOpen = (e) => {\n                if (dom.isEventLike(e)) {\n                    dom.EventHelper.stop(e, true);\n                }\n                actionHandler.callback(node.href);\n            };\n            const onClick = actionHandler.disposables.add(new DomEmitter(anchor, dom.EventType.CLICK)).event;\n            const onKeydown = actionHandler.disposables.add(new DomEmitter(anchor, dom.EventType.KEY_DOWN)).event;\n            const onSpaceOrEnter = actionHandler.disposables.add(Event.chain(onKeydown)).filter(e => {\n                const event = new StandardKeyboardEvent(e);\n                return event.equals(10 /* KeyCode.Space */) || event.equals(3 /* KeyCode.Enter */);\n            }).event;\n            actionHandler.disposables.add(Gesture.addTarget(anchor));\n            const onTap = actionHandler.disposables.add(new DomEmitter(anchor, GestureEventType.Tap)).event;\n            Event.any(onClick, onTap, onSpaceOrEnter)(handleOpen, null, actionHandler.disposables);\n            container.appendChild(anchor);\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { IconLabel } from '../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { KeybindingLabel } from '../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { range } from '../../../base/common/arrays.js';\nimport { ThrottledDelayer } from '../../../base/common/async.js';\nimport { compareAnything } from '../../../base/common/comparers.js';\nimport { memoize } from '../../../base/common/decorators.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { getCodiconAriaLabel, matchesFuzzyIconAware, parseLabelWithIcons } from '../../../base/common/iconLabels.js';\nimport { DisposableStore, dispose } from '../../../base/common/lifecycle.js';\nimport * as platform from '../../../base/common/platform.js';\nimport { ltrim } from '../../../base/common/strings.js';\nimport { withNullAsUndefined } from '../../../base/common/types.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nimport { getIconClass } from './quickInputUtils.js';\nconst $ = dom.$;\nclass ListElement {\n    get checked() {\n        return !!this._checked;\n    }\n    set checked(value) {\n        if (value !== this._checked) {\n            this._checked = value;\n            this._onChecked.fire(value);\n        }\n    }\n    constructor(init) {\n        this.hidden = false;\n        this._onChecked = new Emitter();\n        this.onChecked = this._onChecked.event;\n        Object.assign(this, init);\n    }\n    dispose() {\n        this._onChecked.dispose();\n    }\n}\nclass ListElementRenderer {\n    get templateId() {\n        return ListElementRenderer.ID;\n    }\n    renderTemplate(container) {\n        const data = Object.create(null);\n        data.toDisposeElement = [];\n        data.toDisposeTemplate = [];\n        data.entry = dom.append(container, $('.quick-input-list-entry'));\n        // Checkbox\n        const label = dom.append(data.entry, $('label.quick-input-list-label'));\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(label, dom.EventType.CLICK, e => {\n            if (!data.checkbox.offsetParent) { // If checkbox not visible:\n                e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n            }\n        }));\n        data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n        data.checkbox.type = 'checkbox';\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {\n            data.element.checked = data.checkbox.checked;\n        }));\n        // Rows\n        const rows = dom.append(label, $('.quick-input-list-rows'));\n        const row1 = dom.append(rows, $('.quick-input-list-row'));\n        const row2 = dom.append(rows, $('.quick-input-list-row'));\n        // Label\n        data.label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportIcons: true });\n        // Keybinding\n        const keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n        data.keybinding = new KeybindingLabel(keybindingContainer, platform.OS);\n        // Detail\n        const detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n        data.detail = new IconLabel(detailContainer, { supportHighlights: true, supportIcons: true });\n        // Separator\n        data.separator = dom.append(data.entry, $('.quick-input-list-separator'));\n        // Actions\n        data.actionBar = new ActionBar(data.entry);\n        data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n        data.toDisposeTemplate.push(data.actionBar);\n        return data;\n    }\n    renderElement(element, index, data) {\n        data.element = element;\n        element.element = withNullAsUndefined(data.entry);\n        const mainItem = element.item ? element.item : element.separator;\n        data.checkbox.checked = element.checked;\n        data.toDisposeElement.push(element.onChecked(checked => data.checkbox.checked = checked));\n        const { labelHighlights, descriptionHighlights, detailHighlights } = element;\n        // Label\n        const options = Object.create(null);\n        options.matches = labelHighlights || [];\n        options.descriptionTitle = element.saneDescription;\n        options.descriptionMatches = descriptionHighlights || [];\n        if (mainItem.type !== 'separator') {\n            options.extraClasses = mainItem.iconClasses;\n            options.italic = mainItem.italic;\n            options.strikethrough = mainItem.strikethrough;\n            data.entry.classList.remove('quick-input-list-separator-as-item');\n        }\n        else {\n            data.entry.classList.add('quick-input-list-separator-as-item');\n        }\n        data.label.setLabel(element.saneLabel, element.saneDescription, options);\n        // Keybinding\n        data.keybinding.set(mainItem.type === 'separator' ? undefined : mainItem.keybinding);\n        // Meta\n        if (element.saneDetail) {\n            data.detail.setLabel(element.saneDetail, undefined, {\n                matches: detailHighlights,\n                title: element.saneDetail\n            });\n        } /* else {\n            // TODO investigate potential detail bleeding into next quickpicks\n            data.detail.setLabel('');\n        } */\n        // Separator\n        if (element.item && element.separator && element.separator.label) {\n            data.separator.textContent = element.separator.label;\n            data.separator.style.display = '';\n        }\n        else {\n            data.separator.style.display = 'none';\n        }\n        data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator);\n        // Actions\n        const buttons = mainItem.buttons;\n        if (buttons && buttons.length) {\n            data.actionBar.push(buttons.map((button, index) => {\n                let cssClasses = button.iconClass || (button.iconPath ? getIconClass(button.iconPath) : undefined);\n                if (button.alwaysVisible) {\n                    cssClasses = cssClasses ? `${cssClasses} always-visible` : 'always-visible';\n                }\n                return {\n                    id: `id-${index}`,\n                    class: cssClasses,\n                    enabled: true,\n                    label: '',\n                    tooltip: button.tooltip || '',\n                    run: () => {\n                        mainItem.type !== 'separator'\n                            ? element.fireButtonTriggered({\n                                button,\n                                item: mainItem\n                            })\n                            : element.fireSeparatorButtonTriggered({\n                                button,\n                                separator: mainItem\n                            });\n                    }\n                };\n            }), { icon: true, label: false });\n            data.entry.classList.add('has-actions');\n        }\n        else {\n            data.entry.classList.remove('has-actions');\n        }\n    }\n    disposeElement(element, index, data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.actionBar.clear();\n    }\n    disposeTemplate(data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.toDisposeTemplate = dispose(data.toDisposeTemplate);\n    }\n}\nListElementRenderer.ID = 'listelement';\nclass ListElementDelegate {\n    getHeight(element) {\n        if (!element.item) {\n            // must be a separator\n            return 24;\n        }\n        return element.saneDetail ? 44 : 22;\n    }\n    getTemplateId(element) {\n        return ListElementRenderer.ID;\n    }\n}\nexport var QuickInputListFocus;\n(function (QuickInputListFocus) {\n    QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n    QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n    QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n    QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n    QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n    QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n    QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\nexport class QuickInputList {\n    constructor(parent, id, options) {\n        this.parent = parent;\n        this.options = options;\n        this.inputElements = [];\n        this.elements = [];\n        this.elementsToIndexes = new Map();\n        this.matchOnDescription = false;\n        this.matchOnDetail = false;\n        this.matchOnLabel = true;\n        this.matchOnLabelMode = 'fuzzy';\n        this.matchOnMeta = true;\n        this.sortByLabel = true;\n        this._onChangedAllVisibleChecked = new Emitter();\n        this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\n        this._onChangedCheckedCount = new Emitter();\n        this.onChangedCheckedCount = this._onChangedCheckedCount.event;\n        this._onChangedVisibleCount = new Emitter();\n        this.onChangedVisibleCount = this._onChangedVisibleCount.event;\n        this._onChangedCheckedElements = new Emitter();\n        this.onChangedCheckedElements = this._onChangedCheckedElements.event;\n        this._onButtonTriggered = new Emitter();\n        this.onButtonTriggered = this._onButtonTriggered.event;\n        this._onSeparatorButtonTriggered = new Emitter();\n        this.onSeparatorButtonTriggered = this._onSeparatorButtonTriggered.event;\n        this._onKeyDown = new Emitter();\n        this.onKeyDown = this._onKeyDown.event;\n        this._onLeave = new Emitter();\n        this.onLeave = this._onLeave.event;\n        this._fireCheckedEvents = true;\n        this.elementDisposables = [];\n        this.disposables = [];\n        this.id = id;\n        this.container = dom.append(this.parent, $('.quick-input-list'));\n        const delegate = new ListElementDelegate();\n        const accessibilityProvider = new QuickInputAccessibilityProvider();\n        this.list = options.createList('QuickInput', this.container, delegate, [new ListElementRenderer()], {\n            identityProvider: { getId: element => element.saneLabel },\n            setRowLineHeight: false,\n            multipleSelectionSupport: false,\n            horizontalScrolling: false,\n            accessibilityProvider\n        });\n        this.list.getHTMLElement().id = id;\n        this.disposables.push(this.list);\n        this.disposables.push(this.list.onKeyDown(e => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 10 /* KeyCode.Space */:\n                    this.toggleCheckbox();\n                    break;\n                case 31 /* KeyCode.KeyA */:\n                    if (platform.isMacintosh ? e.metaKey : e.ctrlKey) {\n                        this.list.setFocus(range(this.list.length));\n                    }\n                    break;\n                case 16 /* KeyCode.UpArrow */: {\n                    const focus1 = this.list.getFocus();\n                    if (focus1.length === 1 && focus1[0] === 0) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n                case 18 /* KeyCode.DownArrow */: {\n                    const focus2 = this.list.getFocus();\n                    if (focus2.length === 1 && focus2[0] === this.list.length - 1) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n            }\n            this._onKeyDown.fire(event);\n        }));\n        this.disposables.push(this.list.onMouseDown(e => {\n            if (e.browserEvent.button !== 2) {\n                // Works around / fixes #64350.\n                e.browserEvent.preventDefault();\n            }\n        }));\n        this.disposables.push(dom.addDisposableListener(this.container, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space' on checkbox.\n                this._onLeave.fire();\n            }\n        }));\n        this.disposables.push(this.list.onMouseMiddleClick(e => {\n            this._onLeave.fire();\n        }));\n        this.disposables.push(this.list.onContextMenu(e => {\n            if (typeof e.index === 'number') {\n                e.browserEvent.preventDefault();\n                // we want to treat a context menu event as\n                // a gesture to open the item at the index\n                // since we do not have any context menu\n                // this enables for example macOS to Ctrl-\n                // click on an item to open it.\n                this.list.setSelection([e.index]);\n            }\n        }));\n        const delayer = new ThrottledDelayer(options.hoverDelegate.delay);\n        // onMouseOver triggers every time a new element has been moused over\n        // even if it's on the same list item.\n        this.disposables.push(this.list.onMouseOver((e) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            // If we hover over an anchor element, we don't want to show the hover because\n            // the anchor may have a tooltip that we want to show instead.\n            if (e.browserEvent.target instanceof HTMLAnchorElement) {\n                delayer.cancel();\n                return;\n            }\n            if (\n            // anchors are an exception as called out above so we skip them here\n            !(e.browserEvent.relatedTarget instanceof HTMLAnchorElement) &&\n                // check if the mouse is still over the same element\n                dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                return;\n            }\n            yield delayer.trigger(() => __awaiter(this, void 0, void 0, function* () {\n                if (e.element) {\n                    this.showHover(e.element);\n                }\n            }));\n        })));\n        this.disposables.push(this.list.onMouseOut(e => {\n            var _a;\n            // onMouseOut triggers every time a new element has been moused over\n            // even if it's on the same list item. We only want one event, so we\n            // check if the mouse is still over the same element.\n            if (dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                return;\n            }\n            delayer.cancel();\n        }));\n        this.disposables.push(this._onChangedAllVisibleChecked, this._onChangedCheckedCount, this._onChangedVisibleCount, this._onChangedCheckedElements, this._onButtonTriggered, this._onSeparatorButtonTriggered, this._onLeave, this._onKeyDown, delayer);\n    }\n    get onDidChangeFocus() {\n        return Event.map(this.list.onDidChangeFocus, e => e.elements.map(e => e.item));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, e => ({ items: e.elements.map(e => e.item), event: e.browserEvent }));\n    }\n    get scrollTop() {\n        return this.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.list.scrollTop = scrollTop;\n    }\n    getAllVisibleChecked() {\n        return this.allVisibleChecked(this.elements, false);\n    }\n    allVisibleChecked(elements, whenNoneVisible = true) {\n        for (let i = 0, n = elements.length; i < n; i++) {\n            const element = elements[i];\n            if (!element.hidden) {\n                if (!element.checked) {\n                    return false;\n                }\n                else {\n                    whenNoneVisible = true;\n                }\n            }\n        }\n        return whenNoneVisible;\n    }\n    getCheckedCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (elements[i].checked) {\n                count++;\n            }\n        }\n        return count;\n    }\n    getVisibleCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (!elements[i].hidden) {\n                count++;\n            }\n        }\n        return count;\n    }\n    setAllVisibleChecked(checked) {\n        try {\n            this._fireCheckedEvents = false;\n            this.elements.forEach(element => {\n                if (!element.hidden) {\n                    element.checked = checked;\n                }\n            });\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    setElements(inputElements) {\n        this.elementDisposables = dispose(this.elementDisposables);\n        const fireButtonTriggered = (event) => this.fireButtonTriggered(event);\n        const fireSeparatorButtonTriggered = (event) => this.fireSeparatorButtonTriggered(event);\n        this.inputElements = inputElements;\n        this.elements = inputElements.reduce((result, item, index) => {\n            var _a, _b, _c;\n            const previous = index && inputElements[index - 1];\n            const saneLabel = item.label ? item.label.replace(/\\r?\\n/g, ' ') : '';\n            const saneSortLabel = parseLabelWithIcons(saneLabel).text.trim();\n            let saneMeta, saneDescription, saneDetail, labelHighlights, descriptionHighlights, detailHighlights, saneTooltip;\n            if (item.type !== 'separator') {\n                saneMeta = item.meta && item.meta.replace(/\\r?\\n/g, ' ');\n                saneDescription = item.description && item.description.replace(/\\r?\\n/g, ' ');\n                saneDetail = item.detail && item.detail.replace(/\\r?\\n/g, ' ');\n                labelHighlights = (_a = item.highlights) === null || _a === void 0 ? void 0 : _a.label;\n                descriptionHighlights = (_b = item.highlights) === null || _b === void 0 ? void 0 : _b.description;\n                detailHighlights = (_c = item.highlights) === null || _c === void 0 ? void 0 : _c.detail;\n                saneTooltip = item.tooltip;\n            }\n            const saneAriaLabel = item.ariaLabel || [saneLabel, saneDescription, saneDetail]\n                .map(s => getCodiconAriaLabel(s))\n                .filter(s => !!s)\n                .join(', ');\n            const hasCheckbox = this.parent.classList.contains('show-checkboxes');\n            let separator;\n            if (item.type === 'separator') {\n                if (!item.buttons) {\n                    // This separator will be rendered as a part of the list item\n                    return result;\n                }\n                separator = item;\n            }\n            else if (previous && previous.type === 'separator' && !previous.buttons) {\n                separator = previous;\n            }\n            const element = new ListElement({\n                hasCheckbox,\n                index,\n                item: item.type !== 'separator' ? item : undefined,\n                saneLabel,\n                saneSortLabel,\n                saneMeta,\n                saneAriaLabel,\n                saneDescription,\n                saneDetail,\n                saneTooltip,\n                labelHighlights,\n                descriptionHighlights,\n                detailHighlights,\n                checked: false,\n                separator,\n                fireButtonTriggered,\n                fireSeparatorButtonTriggered\n            });\n            this.elementDisposables.push(element);\n            this.elementDisposables.push(element.onChecked(() => this.fireCheckedEvents()));\n            result.push(element);\n            return result;\n        }, []);\n        this.elementsToIndexes = this.elements.reduce((map, element, index) => {\n            var _a;\n            map.set((_a = element.item) !== null && _a !== void 0 ? _a : element.separator, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length); // Clear focus and selection first, sending the events when the list is empty.\n        this.list.splice(0, this.list.length, this.elements);\n        this._onChangedVisibleCount.fire(this.elements.length);\n    }\n    getFocusedElements() {\n        return this.list.getFocusedElements()\n            .map(e => e.item);\n    }\n    setFocusedElements(items) {\n        this.list.setFocus(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n        if (items.length > 0) {\n            const focused = this.list.getFocus()[0];\n            if (typeof focused === 'number') {\n                this.list.reveal(focused);\n            }\n        }\n    }\n    getActiveDescendant() {\n        return this.list.getHTMLElement().getAttribute('aria-activedescendant');\n    }\n    setSelectedElements(items) {\n        this.list.setSelection(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n    }\n    getCheckedElements() {\n        return this.elements.filter(e => e.checked)\n            .map(e => e.item)\n            .filter(e => !!e);\n    }\n    setCheckedElements(items) {\n        try {\n            this._fireCheckedEvents = false;\n            const checked = new Set();\n            for (const item of items) {\n                checked.add(item);\n            }\n            for (const element of this.elements) {\n                element.checked = checked.has(element.item);\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    set enabled(value) {\n        this.list.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n    }\n    focus(what) {\n        if (!this.list.length) {\n            return;\n        }\n        if (what === QuickInputListFocus.Second && this.list.length < 2) {\n            what = QuickInputListFocus.First;\n        }\n        switch (what) {\n            case QuickInputListFocus.First:\n                this.list.scrollTop = 0;\n                this.list.focusFirst(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Second:\n                this.list.scrollTop = 0;\n                this.list.focusNth(1, undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Last:\n                this.list.scrollTop = this.list.scrollHeight;\n                this.list.focusLast(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Next: {\n                this.list.focusNext(undefined, true, undefined, (e) => !!e.item);\n                const index = this.list.getFocus()[0];\n                if (index !== 0 && !this.elements[index - 1].item && this.list.firstVisibleIndex > index - 1) {\n                    this.list.reveal(index - 1);\n                }\n                break;\n            }\n            case QuickInputListFocus.Previous: {\n                this.list.focusPrevious(undefined, true, undefined, (e) => !!e.item);\n                const index = this.list.getFocus()[0];\n                if (index !== 0 && !this.elements[index - 1].item && this.list.firstVisibleIndex > index - 1) {\n                    this.list.reveal(index - 1);\n                }\n                break;\n            }\n            case QuickInputListFocus.NextPage:\n                this.list.focusNextPage(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.PreviousPage:\n                this.list.focusPreviousPage(undefined, (e) => !!e.item);\n                break;\n        }\n        const focused = this.list.getFocus()[0];\n        if (typeof focused === 'number') {\n            this.list.reveal(focused);\n        }\n    }\n    clearFocus() {\n        this.list.setFocus([]);\n    }\n    domFocus() {\n        this.list.domFocus();\n    }\n    /**\n     * Disposes of the hover and shows a new one for the given index if it has a tooltip.\n     * @param element The element to show the hover for\n     */\n    showHover(element) {\n        var _a, _b, _c;\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            (_b = (_a = this.options.hoverDelegate).onDidHideHover) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_c = this._lastHover) === null || _c === void 0 ? void 0 : _c.dispose();\n        }\n        if (!element.element || !element.saneTooltip) {\n            return;\n        }\n        this._lastHover = this.options.hoverDelegate.showHover({\n            content: element.saneTooltip,\n            target: element.element,\n            linkHandler: (url) => {\n                this.options.linkOpenerDelegate(url);\n            },\n            showPointer: true,\n            container: this.container,\n            hoverPosition: 1 /* HoverPosition.RIGHT */\n        }, false);\n    }\n    layout(maxHeight) {\n        this.list.getHTMLElement().style.maxHeight = maxHeight ? `calc(${Math.floor(maxHeight / 44) * 44}px)` : '';\n        this.list.layout();\n    }\n    filter(query) {\n        if (!(this.sortByLabel || this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.list.layout();\n            return false;\n        }\n        const queryWithWhitespace = query;\n        query = query.trim();\n        // Reset filtering\n        if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.elements.forEach(element => {\n                element.labelHighlights = undefined;\n                element.descriptionHighlights = undefined;\n                element.detailHighlights = undefined;\n                element.hidden = false;\n                const previous = element.index && this.inputElements[element.index - 1];\n                if (element.item) {\n                    element.separator = previous && previous.type === 'separator' && !previous.buttons ? previous : undefined;\n                }\n            });\n        }\n        // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n        else {\n            let currentSeparator;\n            this.elements.forEach(element => {\n                let labelHighlights;\n                if (this.matchOnLabelMode === 'fuzzy') {\n                    labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) : undefined;\n                }\n                else {\n                    labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesContiguousIconAware(queryWithWhitespace, parseLabelWithIcons(element.saneLabel))) : undefined;\n                }\n                const descriptionHighlights = this.matchOnDescription ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) : undefined;\n                const detailHighlights = this.matchOnDetail ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) : undefined;\n                const metaHighlights = this.matchOnMeta ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneMeta || ''))) : undefined;\n                if (labelHighlights || descriptionHighlights || detailHighlights || metaHighlights) {\n                    element.labelHighlights = labelHighlights;\n                    element.descriptionHighlights = descriptionHighlights;\n                    element.detailHighlights = detailHighlights;\n                    element.hidden = false;\n                }\n                else {\n                    element.labelHighlights = undefined;\n                    element.descriptionHighlights = undefined;\n                    element.detailHighlights = undefined;\n                    element.hidden = element.item ? !element.item.alwaysShow : true;\n                }\n                // we can show the separator unless the list gets sorted by match\n                if (!this.sortByLabel) {\n                    const previous = element.index && this.inputElements[element.index - 1];\n                    currentSeparator = previous && previous.type === 'separator' ? previous : currentSeparator;\n                    if (currentSeparator && !element.hidden) {\n                        element.separator = currentSeparator;\n                        currentSeparator = undefined;\n                    }\n                }\n            });\n        }\n        const shownElements = this.elements.filter(element => !element.hidden);\n        // Sort by value\n        if (this.sortByLabel && query) {\n            const normalizedSearchValue = query.toLowerCase();\n            shownElements.sort((a, b) => {\n                return compareEntries(a, b, normalizedSearchValue);\n            });\n        }\n        this.elementsToIndexes = shownElements.reduce((map, element, index) => {\n            var _a;\n            map.set((_a = element.item) !== null && _a !== void 0 ? _a : element.separator, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length, shownElements);\n        this.list.setFocus([]);\n        this.list.layout();\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n        this._onChangedVisibleCount.fire(shownElements.length);\n        return true;\n    }\n    toggleCheckbox() {\n        try {\n            this._fireCheckedEvents = false;\n            const elements = this.list.getFocusedElements();\n            const allChecked = this.allVisibleChecked(elements);\n            for (const element of elements) {\n                element.checked = !allChecked;\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    display(display) {\n        this.container.style.display = display ? '' : 'none';\n    }\n    isDisplayed() {\n        return this.container.style.display !== 'none';\n    }\n    dispose() {\n        this.elementDisposables = dispose(this.elementDisposables);\n        this.disposables = dispose(this.disposables);\n    }\n    fireCheckedEvents() {\n        if (this._fireCheckedEvents) {\n            this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n            this._onChangedCheckedCount.fire(this.getCheckedCount());\n            this._onChangedCheckedElements.fire(this.getCheckedElements());\n        }\n    }\n    fireButtonTriggered(event) {\n        this._onButtonTriggered.fire(event);\n    }\n    fireSeparatorButtonTriggered(event) {\n        this._onSeparatorButtonTriggered.fire(event);\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n    toggleHover() {\n        const element = this.list.getFocusedElements()[0];\n        if (!element.saneTooltip) {\n            return;\n        }\n        // if there's a hover already, hide it (toggle off)\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            this._lastHover.dispose();\n            return;\n        }\n        // If there is no hover, show it (toggle on)\n        const focused = this.list.getFocusedElements()[0];\n        if (!focused) {\n            return;\n        }\n        this.showHover(focused);\n        const store = new DisposableStore();\n        store.add(this.list.onDidChangeFocus(e => {\n            if (e.indexes.length) {\n                this.showHover(e.elements[0]);\n            }\n        }));\n        if (this._lastHover) {\n            store.add(this._lastHover);\n        }\n        this._toggleHover = store;\n        this.elementDisposables.push(this._toggleHover);\n    }\n}\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeSelection\", null);\nfunction matchesContiguousIconAware(query, target) {\n    const { text, iconOffsets } = target;\n    // Return early if there are no icon markers in the word to match against\n    if (!iconOffsets || iconOffsets.length === 0) {\n        return matchesContiguous(query, text);\n    }\n    // Trim the word to match against because it could have leading\n    // whitespace now if the word started with an icon\n    const wordToMatchAgainstWithoutIconsTrimmed = ltrim(text, ' ');\n    const leadingWhitespaceOffset = text.length - wordToMatchAgainstWithoutIconsTrimmed.length;\n    // match on value without icon\n    const matches = matchesContiguous(query, wordToMatchAgainstWithoutIconsTrimmed);\n    // Map matches back to offsets with icon and trimming\n    if (matches) {\n        for (const match of matches) {\n            const iconOffset = iconOffsets[match.start + leadingWhitespaceOffset] /* icon offsets at index */ + leadingWhitespaceOffset /* overall leading whitespace offset */;\n            match.start += iconOffset;\n            match.end += iconOffset;\n        }\n    }\n    return matches;\n}\nfunction matchesContiguous(word, wordToMatchAgainst) {\n    const matchIndex = wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());\n    if (matchIndex !== -1) {\n        return [{ start: matchIndex, end: matchIndex + word.length }];\n    }\n    return null;\n}\nfunction compareEntries(elementA, elementB, lookFor) {\n    const labelHighlightsA = elementA.labelHighlights || [];\n    const labelHighlightsB = elementB.labelHighlights || [];\n    if (labelHighlightsA.length && !labelHighlightsB.length) {\n        return -1;\n    }\n    if (!labelHighlightsA.length && labelHighlightsB.length) {\n        return 1;\n    }\n    if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n        return 0;\n    }\n    return compareAnything(elementA.saneSortLabel, elementB.saneSortLabel, lookFor);\n}\nclass QuickInputAccessibilityProvider {\n    getWidgetAriaLabel() {\n        return localize('quickInput', \"Quick Input\");\n    }\n    getAriaLabel(element) {\n        var _a;\n        return ((_a = element.separator) === null || _a === void 0 ? void 0 : _a.label)\n            ? `${element.saneAriaLabel}, ${element.separator.label}`\n            : element.saneAriaLabel;\n    }\n    getWidgetRole() {\n        return 'listbox';\n    }\n    getRole(element) {\n        return element.hasCheckbox ? 'checkbox' : 'option';\n    }\n    isChecked(element) {\n        if (!element.hasCheckbox) {\n            return undefined;\n        }\n        return {\n            value: element.checked,\n            onDidChange: element.onChecked\n        };\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { Button } from '../../../base/browser/ui/button/button.js';\nimport { CountBadge } from '../../../base/browser/ui/countBadge/countBadge.js';\nimport { ProgressBar } from '../../../base/browser/ui/progressbar/progressbar.js';\nimport { Toggle } from '../../../base/browser/ui/toggle/toggle.js';\nimport { Action } from '../../../base/common/actions.js';\nimport { equals } from '../../../base/common/arrays.js';\nimport { TimeoutTimer } from '../../../base/common/async.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable, DisposableStore, dispose } from '../../../base/common/lifecycle.js';\nimport { isIOS } from '../../../base/common/platform.js';\nimport Severity from '../../../base/common/severity.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport { withNullAsUndefined } from '../../../base/common/types.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nimport { ItemActivation, NO_KEY_MODS, QuickInputHideReason } from '../common/quickInput.js';\nimport { QuickInputBox } from './quickInputBox.js';\nimport { QuickInputList, QuickInputListFocus } from './quickInputList.js';\nimport { getIconClass, renderQuickInputDescription } from './quickInputUtils.js';\nconst $ = dom.$;\nconst backButton = {\n    iconClass: ThemeIcon.asClassName(Codicon.quickInputBack),\n    tooltip: localize('quickInput.back', \"Back\"),\n    handle: -1 // TODO\n};\nclass QuickInput extends Disposable {\n    constructor(ui) {\n        super();\n        this.ui = ui;\n        this.visible = false;\n        this._enabled = true;\n        this._busy = false;\n        this._ignoreFocusOut = false;\n        this._buttons = [];\n        this.buttonsUpdated = false;\n        this._toggles = [];\n        this.togglesUpdated = false;\n        this.noValidationMessage = QuickInput.noPromptMessage;\n        this._severity = Severity.Ignore;\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.onDidHideEmitter = this._register(new Emitter());\n        this.onDisposeEmitter = this._register(new Emitter());\n        this.visibleDisposables = this._register(new DisposableStore());\n        this.onDidHide = this.onDidHideEmitter.event;\n    }\n    get title() {\n        return this._title;\n    }\n    set title(title) {\n        this._title = title;\n        this.update();\n    }\n    get description() {\n        return this._description;\n    }\n    set description(description) {\n        this._description = description;\n        this.update();\n    }\n    get step() {\n        return this._steps;\n    }\n    set step(step) {\n        this._steps = step;\n        this.update();\n    }\n    get totalSteps() {\n        return this._totalSteps;\n    }\n    set totalSteps(totalSteps) {\n        this._totalSteps = totalSteps;\n        this.update();\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(enabled) {\n        this._enabled = enabled;\n        this.update();\n    }\n    get contextKey() {\n        return this._contextKey;\n    }\n    set contextKey(contextKey) {\n        this._contextKey = contextKey;\n        this.update();\n    }\n    get busy() {\n        return this._busy;\n    }\n    set busy(busy) {\n        this._busy = busy;\n        this.update();\n    }\n    get ignoreFocusOut() {\n        return this._ignoreFocusOut;\n    }\n    set ignoreFocusOut(ignoreFocusOut) {\n        const shouldUpdate = this._ignoreFocusOut !== ignoreFocusOut && !isIOS;\n        this._ignoreFocusOut = ignoreFocusOut && !isIOS;\n        if (shouldUpdate) {\n            this.update();\n        }\n    }\n    get buttons() {\n        return this._buttons;\n    }\n    set buttons(buttons) {\n        this._buttons = buttons;\n        this.buttonsUpdated = true;\n        this.update();\n    }\n    get toggles() {\n        return this._toggles;\n    }\n    set toggles(toggles) {\n        this._toggles = toggles !== null && toggles !== void 0 ? toggles : [];\n        this.togglesUpdated = true;\n        this.update();\n    }\n    get validationMessage() {\n        return this._validationMessage;\n    }\n    set validationMessage(validationMessage) {\n        this._validationMessage = validationMessage;\n        this.update();\n    }\n    get severity() {\n        return this._severity;\n    }\n    set severity(severity) {\n        this._severity = severity;\n        this.update();\n    }\n    show() {\n        if (this.visible) {\n            return;\n        }\n        this.visibleDisposables.add(this.ui.onDidTriggerButton(button => {\n            if (this.buttons.indexOf(button) !== -1) {\n                this.onDidTriggerButtonEmitter.fire(button);\n            }\n        }));\n        this.ui.show(this);\n        // update properties in the controller that get reset in the ui.show() call\n        this.visible = true;\n        // This ensures the message/prompt gets rendered\n        this._lastValidationMessage = undefined;\n        // This ensures the input box has the right severity applied\n        this._lastSeverity = undefined;\n        if (this.buttons.length) {\n            // if there are buttons, the ui.show() clears them out of the UI so we should\n            // rerender them.\n            this.buttonsUpdated = true;\n        }\n        if (this.toggles.length) {\n            // if there are toggles, the ui.show() clears them out of the UI so we should\n            // rerender them.\n            this.togglesUpdated = true;\n        }\n        this.update();\n    }\n    hide() {\n        if (!this.visible) {\n            return;\n        }\n        this.ui.hide();\n    }\n    didHide(reason = QuickInputHideReason.Other) {\n        this.visible = false;\n        this.visibleDisposables.clear();\n        this.onDidHideEmitter.fire({ reason });\n    }\n    update() {\n        var _a, _b;\n        if (!this.visible) {\n            return;\n        }\n        const title = this.getTitle();\n        if (title && this.ui.title.textContent !== title) {\n            this.ui.title.textContent = title;\n        }\n        else if (!title && this.ui.title.innerHTML !== '&nbsp;') {\n            this.ui.title.innerText = '\\u00a0';\n        }\n        const description = this.getDescription();\n        if (this.ui.description1.textContent !== description) {\n            this.ui.description1.textContent = description;\n        }\n        if (this.ui.description2.textContent !== description) {\n            this.ui.description2.textContent = description;\n        }\n        if (this.busy && !this.busyDelay) {\n            this.busyDelay = new TimeoutTimer();\n            this.busyDelay.setIfNotSet(() => {\n                if (this.visible) {\n                    this.ui.progressBar.infinite();\n                }\n            }, 800);\n        }\n        if (!this.busy && this.busyDelay) {\n            this.ui.progressBar.stop();\n            this.busyDelay.cancel();\n            this.busyDelay = undefined;\n        }\n        if (this.buttonsUpdated) {\n            this.buttonsUpdated = false;\n            this.ui.leftActionBar.clear();\n            const leftButtons = this.buttons.filter(button => button === backButton);\n            this.ui.leftActionBar.push(leftButtons.map((button, index) => {\n                const action = new Action(`id-${index}`, '', button.iconClass || getIconClass(button.iconPath), true, () => __awaiter(this, void 0, void 0, function* () {\n                    this.onDidTriggerButtonEmitter.fire(button);\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n            this.ui.rightActionBar.clear();\n            const rightButtons = this.buttons.filter(button => button !== backButton);\n            this.ui.rightActionBar.push(rightButtons.map((button, index) => {\n                const action = new Action(`id-${index}`, '', button.iconClass || getIconClass(button.iconPath), true, () => __awaiter(this, void 0, void 0, function* () {\n                    this.onDidTriggerButtonEmitter.fire(button);\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n        }\n        if (this.togglesUpdated) {\n            this.togglesUpdated = false;\n            // HACK: Filter out toggles here that are not concrete Toggle objects. This is to workaround\n            // a layering issue as quick input's interface is in common but Toggle is in browser and\n            // it requires a HTMLElement on its interface\n            const concreteToggles = (_b = (_a = this.toggles) === null || _a === void 0 ? void 0 : _a.filter(opts => opts instanceof Toggle)) !== null && _b !== void 0 ? _b : [];\n            this.ui.inputBox.toggles = concreteToggles;\n        }\n        this.ui.ignoreFocusOut = this.ignoreFocusOut;\n        this.ui.setEnabled(this.enabled);\n        this.ui.setContextKey(this.contextKey);\n        const validationMessage = this.validationMessage || this.noValidationMessage;\n        if (this._lastValidationMessage !== validationMessage) {\n            this._lastValidationMessage = validationMessage;\n            dom.reset(this.ui.message);\n            renderQuickInputDescription(validationMessage, this.ui.message, {\n                callback: (content) => {\n                    this.ui.linkOpenerDelegate(content);\n                },\n                disposables: this.visibleDisposables,\n            });\n        }\n        if (this._lastSeverity !== this.severity) {\n            this._lastSeverity = this.severity;\n            this.showMessageDecoration(this.severity);\n        }\n    }\n    getTitle() {\n        if (this.title && this.step) {\n            return `${this.title} (${this.getSteps()})`;\n        }\n        if (this.title) {\n            return this.title;\n        }\n        if (this.step) {\n            return this.getSteps();\n        }\n        return '';\n    }\n    getDescription() {\n        return this.description || '';\n    }\n    getSteps() {\n        if (this.step && this.totalSteps) {\n            return localize('quickInput.steps', \"{0}/{1}\", this.step, this.totalSteps);\n        }\n        if (this.step) {\n            return String(this.step);\n        }\n        return '';\n    }\n    showMessageDecoration(severity) {\n        this.ui.inputBox.showDecoration(severity);\n        if (severity !== Severity.Ignore) {\n            const styles = this.ui.inputBox.stylesForType(severity);\n            this.ui.message.style.color = styles.foreground ? `${styles.foreground}` : '';\n            this.ui.message.style.backgroundColor = styles.background ? `${styles.background}` : '';\n            this.ui.message.style.border = styles.border ? `1px solid ${styles.border}` : '';\n            this.ui.message.style.marginBottom = '-2px';\n        }\n        else {\n            this.ui.message.style.color = '';\n            this.ui.message.style.backgroundColor = '';\n            this.ui.message.style.border = '';\n            this.ui.message.style.marginBottom = '';\n        }\n    }\n    dispose() {\n        this.hide();\n        this.onDisposeEmitter.fire();\n        super.dispose();\n    }\n}\nQuickInput.noPromptMessage = localize('inputModeEntry', \"Press 'Enter' to confirm your input or 'Escape' to cancel\");\nclass QuickPick extends QuickInput {\n    constructor() {\n        super(...arguments);\n        this._value = '';\n        this.onDidChangeValueEmitter = this._register(new Emitter());\n        this.onWillAcceptEmitter = this._register(new Emitter());\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this._items = [];\n        this.itemsUpdated = false;\n        this._canSelectMany = false;\n        this._canAcceptInBackground = false;\n        this._matchOnDescription = false;\n        this._matchOnDetail = false;\n        this._matchOnLabel = true;\n        this._matchOnLabelMode = 'fuzzy';\n        this._sortByLabel = true;\n        this._autoFocusOnList = true;\n        this._keepScrollPosition = false;\n        this._itemActivation = this.ui.isScreenReaderOptimized() ? ItemActivation.NONE /* https://github.com/microsoft/vscode/issues/57501 */ : ItemActivation.FIRST;\n        this._activeItems = [];\n        this.activeItemsUpdated = false;\n        this.activeItemsToConfirm = [];\n        this.onDidChangeActiveEmitter = this._register(new Emitter());\n        this._selectedItems = [];\n        this.selectedItemsUpdated = false;\n        this.selectedItemsToConfirm = [];\n        this.onDidChangeSelectionEmitter = this._register(new Emitter());\n        this.onDidTriggerItemButtonEmitter = this._register(new Emitter());\n        this.onDidTriggerSeparatorButtonEmitter = this._register(new Emitter());\n        this.valueSelectionUpdated = true;\n        this._ok = 'default';\n        this._customButton = false;\n        this.filterValue = (value) => value;\n        this.onDidChangeValue = this.onDidChangeValueEmitter.event;\n        this.onWillAccept = this.onWillAcceptEmitter.event;\n        this.onDidAccept = this.onDidAcceptEmitter.event;\n        this.onDidChangeActive = this.onDidChangeActiveEmitter.event;\n        this.onDidChangeSelection = this.onDidChangeSelectionEmitter.event;\n        this.onDidTriggerItemButton = this.onDidTriggerItemButtonEmitter.event;\n        this.onDidTriggerSeparatorButton = this.onDidTriggerSeparatorButtonEmitter.event;\n    }\n    get quickNavigate() {\n        return this._quickNavigate;\n    }\n    set quickNavigate(quickNavigate) {\n        this._quickNavigate = quickNavigate;\n        this.update();\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this.doSetValue(value);\n    }\n    doSetValue(value, skipUpdate) {\n        if (this._value !== value) {\n            this._value = value;\n            if (!skipUpdate) {\n                this.update();\n            }\n            if (this.visible) {\n                const didFilter = this.ui.list.filter(this.filterValue(this._value));\n                if (didFilter) {\n                    this.trySelectFirst();\n                }\n            }\n            this.onDidChangeValueEmitter.fire(this._value);\n        }\n    }\n    set ariaLabel(ariaLabel) {\n        this._ariaLabel = ariaLabel;\n        this.update();\n    }\n    get ariaLabel() {\n        return this._ariaLabel;\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set placeholder(placeholder) {\n        this._placeholder = placeholder;\n        this.update();\n    }\n    get items() {\n        return this._items;\n    }\n    get scrollTop() {\n        return this.ui.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.ui.list.scrollTop = scrollTop;\n    }\n    set items(items) {\n        this._items = items;\n        this.itemsUpdated = true;\n        this.update();\n    }\n    get canSelectMany() {\n        return this._canSelectMany;\n    }\n    set canSelectMany(canSelectMany) {\n        this._canSelectMany = canSelectMany;\n        this.update();\n    }\n    get canAcceptInBackground() {\n        return this._canAcceptInBackground;\n    }\n    set canAcceptInBackground(canAcceptInBackground) {\n        this._canAcceptInBackground = canAcceptInBackground;\n    }\n    get matchOnDescription() {\n        return this._matchOnDescription;\n    }\n    set matchOnDescription(matchOnDescription) {\n        this._matchOnDescription = matchOnDescription;\n        this.update();\n    }\n    get matchOnDetail() {\n        return this._matchOnDetail;\n    }\n    set matchOnDetail(matchOnDetail) {\n        this._matchOnDetail = matchOnDetail;\n        this.update();\n    }\n    get matchOnLabel() {\n        return this._matchOnLabel;\n    }\n    set matchOnLabel(matchOnLabel) {\n        this._matchOnLabel = matchOnLabel;\n        this.update();\n    }\n    get matchOnLabelMode() {\n        return this._matchOnLabelMode;\n    }\n    set matchOnLabelMode(matchOnLabelMode) {\n        this._matchOnLabelMode = matchOnLabelMode;\n        this.update();\n    }\n    get sortByLabel() {\n        return this._sortByLabel;\n    }\n    set sortByLabel(sortByLabel) {\n        this._sortByLabel = sortByLabel;\n        this.update();\n    }\n    get autoFocusOnList() {\n        return this._autoFocusOnList;\n    }\n    set autoFocusOnList(autoFocusOnList) {\n        this._autoFocusOnList = autoFocusOnList;\n        this.update();\n    }\n    get keepScrollPosition() {\n        return this._keepScrollPosition;\n    }\n    set keepScrollPosition(keepScrollPosition) {\n        this._keepScrollPosition = keepScrollPosition;\n    }\n    get itemActivation() {\n        return this._itemActivation;\n    }\n    set itemActivation(itemActivation) {\n        this._itemActivation = itemActivation;\n    }\n    get activeItems() {\n        return this._activeItems;\n    }\n    set activeItems(activeItems) {\n        this._activeItems = activeItems;\n        this.activeItemsUpdated = true;\n        this.update();\n    }\n    get selectedItems() {\n        return this._selectedItems;\n    }\n    set selectedItems(selectedItems) {\n        this._selectedItems = selectedItems;\n        this.selectedItemsUpdated = true;\n        this.update();\n    }\n    get keyMods() {\n        if (this._quickNavigate) {\n            // Disable keyMods when quick navigate is enabled\n            // because in this model the interaction is purely\n            // keyboard driven and Ctrl/Alt are typically\n            // pressed and hold during this interaction.\n            return NO_KEY_MODS;\n        }\n        return this.ui.keyMods;\n    }\n    set valueSelection(valueSelection) {\n        this._valueSelection = valueSelection;\n        this.valueSelectionUpdated = true;\n        this.update();\n    }\n    get customButton() {\n        return this._customButton;\n    }\n    set customButton(showCustomButton) {\n        this._customButton = showCustomButton;\n        this.update();\n    }\n    get customLabel() {\n        return this._customButtonLabel;\n    }\n    set customLabel(label) {\n        this._customButtonLabel = label;\n        this.update();\n    }\n    get customHover() {\n        return this._customButtonHover;\n    }\n    set customHover(hover) {\n        this._customButtonHover = hover;\n        this.update();\n    }\n    get ok() {\n        return this._ok;\n    }\n    set ok(showOkButton) {\n        this._ok = showOkButton;\n        this.update();\n    }\n    get hideInput() {\n        return !!this._hideInput;\n    }\n    set hideInput(hideInput) {\n        this._hideInput = hideInput;\n        this.update();\n    }\n    trySelectFirst() {\n        if (this.autoFocusOnList) {\n            if (!this.canSelectMany) {\n                this.ui.list.focus(QuickInputListFocus.First);\n            }\n        }\n    }\n    show() {\n        if (!this.visible) {\n            this.visibleDisposables.add(this.ui.inputBox.onDidChange(value => {\n                this.doSetValue(value, true /* skip update since this originates from the UI */);\n            }));\n            this.visibleDisposables.add(this.ui.inputBox.onMouseDown(event => {\n                if (!this.autoFocusOnList) {\n                    this.ui.list.clearFocus();\n                }\n            }));\n            this.visibleDisposables.add((this._hideInput ? this.ui.list : this.ui.inputBox).onKeyDown((event) => {\n                switch (event.keyCode) {\n                    case 18 /* KeyCode.DownArrow */:\n                        this.ui.list.focus(QuickInputListFocus.Next);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 16 /* KeyCode.UpArrow */:\n                        if (this.ui.list.getFocusedElements().length) {\n                            this.ui.list.focus(QuickInputListFocus.Previous);\n                        }\n                        else {\n                            this.ui.list.focus(QuickInputListFocus.Last);\n                        }\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 12 /* KeyCode.PageDown */:\n                        this.ui.list.focus(QuickInputListFocus.NextPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 11 /* KeyCode.PageUp */:\n                        this.ui.list.focus(QuickInputListFocus.PreviousPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 17 /* KeyCode.RightArrow */:\n                        if (!this._canAcceptInBackground) {\n                            return; // needs to be enabled\n                        }\n                        if (!this.ui.inputBox.isSelectionAtEnd()) {\n                            return; // ensure input box selection at end\n                        }\n                        if (this.activeItems[0]) {\n                            this._selectedItems = [this.activeItems[0]];\n                            this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                            this.handleAccept(true);\n                        }\n                        break;\n                    case 14 /* KeyCode.Home */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.First);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                    case 13 /* KeyCode.End */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.Last);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                }\n            }));\n            this.visibleDisposables.add(this.ui.onDidAccept(() => {\n                if (this.canSelectMany) {\n                    // if there are no checked elements, it means that an onDidChangeSelection never fired to overwrite\n                    // `_selectedItems`. In that case, we should emit one with an empty array to ensure that\n                    // `.selectedItems` is up to date.\n                    if (!this.ui.list.getCheckedElements().length) {\n                        this._selectedItems = [];\n                        this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    }\n                }\n                else if (this.activeItems[0]) {\n                    // For single-select, we set `selectedItems` to the item that was accepted.\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                }\n                this.handleAccept(false);\n            }));\n            this.visibleDisposables.add(this.ui.onDidCustom(() => {\n                this.onDidCustomEmitter.fire();\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeFocus(focusedItems => {\n                if (this.activeItemsUpdated) {\n                    return; // Expect another event.\n                }\n                if (this.activeItemsToConfirm !== this._activeItems && equals(focusedItems, this._activeItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._activeItems = focusedItems;\n                this.onDidChangeActiveEmitter.fire(focusedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({ items: selectedItems, event }) => {\n                if (this.canSelectMany) {\n                    if (selectedItems.length) {\n                        this.ui.list.setSelectedElements([]);\n                    }\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(selectedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = selectedItems;\n                this.onDidChangeSelectionEmitter.fire(selectedItems);\n                if (selectedItems.length) {\n                    this.handleAccept(event instanceof MouseEvent && event.button === 1 /* mouse middle click */);\n                }\n            }));\n            this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(checkedItems => {\n                if (!this.canSelectMany) {\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(checkedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = checkedItems;\n                this.onDidChangeSelectionEmitter.fire(checkedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onButtonTriggered(event => this.onDidTriggerItemButtonEmitter.fire(event)));\n            this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(event => this.onDidTriggerSeparatorButtonEmitter.fire(event)));\n            this.visibleDisposables.add(this.registerQuickNavigation());\n            this.valueSelectionUpdated = true;\n        }\n        super.show(); // TODO: Why have show() bubble up while update() trickles down? (Could move setComboboxAccessibility() here.)\n    }\n    handleAccept(inBackground) {\n        // Figure out veto via `onWillAccept` event\n        let veto = false;\n        this.onWillAcceptEmitter.fire({ veto: () => veto = true });\n        // Continue with `onDidAccept` if no veto\n        if (!veto) {\n            this.onDidAcceptEmitter.fire({ inBackground });\n        }\n    }\n    registerQuickNavigation() {\n        return dom.addDisposableListener(this.ui.container, dom.EventType.KEY_UP, e => {\n            if (this.canSelectMany || !this._quickNavigate) {\n                return;\n            }\n            const keyboardEvent = new StandardKeyboardEvent(e);\n            const keyCode = keyboardEvent.keyCode;\n            // Select element when keys are pressed that signal it\n            const quickNavKeys = this._quickNavigate.keybindings;\n            const wasTriggerKeyPressed = quickNavKeys.some(k => {\n                const [firstChord, secondChord] = k.getChords(); // TODO@chords\n                if (secondChord) {\n                    return false;\n                }\n                if (firstChord.shiftKey && keyCode === 4 /* KeyCode.Shift */) {\n                    if (keyboardEvent.ctrlKey || keyboardEvent.altKey || keyboardEvent.metaKey) {\n                        return false; // this is an optimistic check for the shift key being used to navigate back in quick input\n                    }\n                    return true;\n                }\n                if (firstChord.altKey && keyCode === 6 /* KeyCode.Alt */) {\n                    return true;\n                }\n                if (firstChord.ctrlKey && keyCode === 5 /* KeyCode.Ctrl */) {\n                    return true;\n                }\n                if (firstChord.metaKey && keyCode === 57 /* KeyCode.Meta */) {\n                    return true;\n                }\n                return false;\n            });\n            if (wasTriggerKeyPressed) {\n                if (this.activeItems[0]) {\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    this.handleAccept(false);\n                }\n                // Unset quick navigate after press. It is only valid once\n                // and should not result in any behaviour change afterwards\n                // if the picker remains open because there was no active item\n                this._quickNavigate = undefined;\n            }\n        });\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        // store the scrollTop before it is reset\n        const scrollTopBefore = this.keepScrollPosition ? this.scrollTop : 0;\n        const hasDescription = !!this.description;\n        const visibilities = {\n            title: !!this.title || !!this.step || !!this.buttons.length,\n            description: hasDescription,\n            checkAll: this.canSelectMany && !this._hideCheckAll,\n            checkBox: this.canSelectMany,\n            inputBox: !this._hideInput,\n            progressBar: !this._hideInput || hasDescription,\n            visibleCount: true,\n            count: this.canSelectMany,\n            ok: this.ok === 'default' ? this.canSelectMany : this.ok,\n            list: true,\n            message: !!this.validationMessage,\n            customButton: this.customButton\n        };\n        this.ui.setVisibilities(visibilities);\n        super.update();\n        if (this.ui.inputBox.value !== this.value) {\n            this.ui.inputBox.value = this.value;\n        }\n        if (this.valueSelectionUpdated) {\n            this.valueSelectionUpdated = false;\n            this.ui.inputBox.select(this._valueSelection && { start: this._valueSelection[0], end: this._valueSelection[1] });\n        }\n        if (this.ui.inputBox.placeholder !== (this.placeholder || '')) {\n            this.ui.inputBox.placeholder = (this.placeholder || '');\n        }\n        let ariaLabel = this.ariaLabel;\n        if (!ariaLabel) {\n            ariaLabel = this.placeholder || QuickPick.DEFAULT_ARIA_LABEL;\n            // If we have a title, include it in the aria label.\n            if (this.title) {\n                ariaLabel += ` - ${this.title}`;\n            }\n        }\n        if (this.ui.inputBox.ariaLabel !== ariaLabel) {\n            this.ui.inputBox.ariaLabel = ariaLabel;\n        }\n        this.ui.list.matchOnDescription = this.matchOnDescription;\n        this.ui.list.matchOnDetail = this.matchOnDetail;\n        this.ui.list.matchOnLabel = this.matchOnLabel;\n        this.ui.list.matchOnLabelMode = this.matchOnLabelMode;\n        this.ui.list.sortByLabel = this.sortByLabel;\n        if (this.itemsUpdated) {\n            this.itemsUpdated = false;\n            this.ui.list.setElements(this.items);\n            this.ui.list.filter(this.filterValue(this.ui.inputBox.value));\n            this.ui.checkAll.checked = this.ui.list.getAllVisibleChecked();\n            this.ui.visibleCount.setCount(this.ui.list.getVisibleCount());\n            this.ui.count.setCount(this.ui.list.getCheckedCount());\n            switch (this._itemActivation) {\n                case ItemActivation.NONE:\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.SECOND:\n                    this.ui.list.focus(QuickInputListFocus.Second);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.LAST:\n                    this.ui.list.focus(QuickInputListFocus.Last);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                default:\n                    this.trySelectFirst();\n                    break;\n            }\n        }\n        if (this.ui.container.classList.contains('show-checkboxes') !== !!this.canSelectMany) {\n            if (this.canSelectMany) {\n                this.ui.list.clearFocus();\n            }\n            else {\n                this.trySelectFirst();\n            }\n        }\n        if (this.activeItemsUpdated) {\n            this.activeItemsUpdated = false;\n            this.activeItemsToConfirm = this._activeItems;\n            this.ui.list.setFocusedElements(this.activeItems);\n            if (this.activeItemsToConfirm === this._activeItems) {\n                this.activeItemsToConfirm = null;\n            }\n        }\n        if (this.selectedItemsUpdated) {\n            this.selectedItemsUpdated = false;\n            this.selectedItemsToConfirm = this._selectedItems;\n            if (this.canSelectMany) {\n                this.ui.list.setCheckedElements(this.selectedItems);\n            }\n            else {\n                this.ui.list.setSelectedElements(this.selectedItems);\n            }\n            if (this.selectedItemsToConfirm === this._selectedItems) {\n                this.selectedItemsToConfirm = null;\n            }\n        }\n        this.ui.customButton.label = this.customLabel || '';\n        this.ui.customButton.element.title = this.customHover || '';\n        this.ui.setComboboxAccessibility(true);\n        if (!visibilities.inputBox) {\n            // we need to move focus into the tree to detect keybindings\n            // properly when the input box is not visible (quick nav)\n            this.ui.list.domFocus();\n            // Focus the first element in the list if multiselect is enabled\n            if (this.canSelectMany) {\n                this.ui.list.focus(QuickInputListFocus.First);\n            }\n        }\n        // Set the scroll position to what it was before updating the items\n        if (this.keepScrollPosition) {\n            this.scrollTop = scrollTopBefore;\n        }\n    }\n}\nQuickPick.DEFAULT_ARIA_LABEL = localize('quickInputBox.ariaLabel', \"Type to narrow down results.\");\nclass InputBox extends QuickInput {\n    constructor() {\n        super(...arguments);\n        this._value = '';\n        this.valueSelectionUpdated = true;\n        this._password = false;\n        this.onDidValueChangeEmitter = this._register(new Emitter());\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidChangeValue = this.onDidValueChangeEmitter.event;\n        this.onDidAccept = this.onDidAcceptEmitter.event;\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this._value = value || '';\n        this.update();\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set placeholder(placeholder) {\n        this._placeholder = placeholder;\n        this.update();\n    }\n    get password() {\n        return this._password;\n    }\n    set password(password) {\n        this._password = password;\n        this.update();\n    }\n    show() {\n        if (!this.visible) {\n            this.visibleDisposables.add(this.ui.inputBox.onDidChange(value => {\n                if (value === this.value) {\n                    return;\n                }\n                this._value = value;\n                this.onDidValueChangeEmitter.fire(value);\n            }));\n            this.visibleDisposables.add(this.ui.onDidAccept(() => this.onDidAcceptEmitter.fire()));\n            this.valueSelectionUpdated = true;\n        }\n        super.show();\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        this.ui.container.classList.remove('hidden-input');\n        const visibilities = {\n            title: !!this.title || !!this.step || !!this.buttons.length,\n            description: !!this.description || !!this.step,\n            inputBox: true, message: true\n        };\n        this.ui.setVisibilities(visibilities);\n        super.update();\n        if (this.ui.inputBox.value !== this.value) {\n            this.ui.inputBox.value = this.value;\n        }\n        if (this.valueSelectionUpdated) {\n            this.valueSelectionUpdated = false;\n            this.ui.inputBox.select(this._valueSelection && { start: this._valueSelection[0], end: this._valueSelection[1] });\n        }\n        if (this.ui.inputBox.placeholder !== (this.placeholder || '')) {\n            this.ui.inputBox.placeholder = (this.placeholder || '');\n        }\n        if (this.ui.inputBox.password !== this.password) {\n            this.ui.inputBox.password = this.password;\n        }\n    }\n}\nclass QuickInputController extends Disposable {\n    constructor(options) {\n        super();\n        this.options = options;\n        this.comboboxAccessibility = false;\n        this.enabled = true;\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.keyMods = { ctrlCmd: false, alt: false };\n        this.controller = null;\n        this.onShowEmitter = this._register(new Emitter());\n        this.onShow = this.onShowEmitter.event;\n        this.onHideEmitter = this._register(new Emitter());\n        this.onHide = this.onHideEmitter.event;\n        this.idPrefix = options.idPrefix;\n        this.parentElement = options.container;\n        this.styles = options.styles;\n        this.registerKeyModsListeners();\n    }\n    registerKeyModsListeners() {\n        const listener = (e) => {\n            this.keyMods.ctrlCmd = e.ctrlKey || e.metaKey;\n            this.keyMods.alt = e.altKey;\n        };\n        this._register(dom.addDisposableListener(window, dom.EventType.KEY_DOWN, listener, true));\n        this._register(dom.addDisposableListener(window, dom.EventType.KEY_UP, listener, true));\n        this._register(dom.addDisposableListener(window, dom.EventType.MOUSE_DOWN, listener, true));\n    }\n    getUI() {\n        if (this.ui) {\n            return this.ui;\n        }\n        const container = dom.append(this.parentElement, $('.quick-input-widget.show-file-icons'));\n        container.tabIndex = -1;\n        container.style.display = 'none';\n        const styleSheet = dom.createStyleSheet(container);\n        const titleBar = dom.append(container, $('.quick-input-titlebar'));\n        const leftActionBar = this._register(new ActionBar(titleBar));\n        leftActionBar.domNode.classList.add('quick-input-left-action-bar');\n        const title = dom.append(titleBar, $('.quick-input-title'));\n        const rightActionBar = this._register(new ActionBar(titleBar));\n        rightActionBar.domNode.classList.add('quick-input-right-action-bar');\n        const description1 = dom.append(container, $('.quick-input-description'));\n        const headerContainer = dom.append(container, $('.quick-input-header'));\n        const checkAll = dom.append(headerContainer, $('input.quick-input-check-all'));\n        checkAll.type = 'checkbox';\n        checkAll.setAttribute('aria-label', localize('quickInput.checkAll', \"Toggle all checkboxes\"));\n        this._register(dom.addStandardDisposableListener(checkAll, dom.EventType.CHANGE, e => {\n            const checked = checkAll.checked;\n            list.setAllVisibleChecked(checked);\n        }));\n        this._register(dom.addDisposableListener(checkAll, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space'...\n                inputBox.setFocus();\n            }\n        }));\n        const description2 = dom.append(headerContainer, $('.quick-input-description'));\n        const extraContainer = dom.append(headerContainer, $('.quick-input-and-message'));\n        const filterContainer = dom.append(extraContainer, $('.quick-input-filter'));\n        const inputBox = this._register(new QuickInputBox(filterContainer, this.styles.inputBox, this.styles.toggle));\n        inputBox.setAttribute('aria-describedby', `${this.idPrefix}message`);\n        const visibleCountContainer = dom.append(filterContainer, $('.quick-input-visible-count'));\n        visibleCountContainer.setAttribute('aria-live', 'polite');\n        visibleCountContainer.setAttribute('aria-atomic', 'true');\n        const visibleCount = new CountBadge(visibleCountContainer, { countFormat: localize({ key: 'quickInput.visibleCount', comment: ['This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers.'] }, \"{0} Results\") }, this.styles.countBadge);\n        const countContainer = dom.append(filterContainer, $('.quick-input-count'));\n        countContainer.setAttribute('aria-live', 'polite');\n        const count = new CountBadge(countContainer, { countFormat: localize({ key: 'quickInput.countSelected', comment: ['This tells the user how many items are selected in a list of items to select from. The items can be anything.'] }, \"{0} Selected\") }, this.styles.countBadge);\n        const okContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const ok = new Button(okContainer, this.styles.button);\n        ok.label = localize('ok', \"OK\");\n        this._register(ok.onDidClick(e => {\n            this.onDidAcceptEmitter.fire();\n        }));\n        const customButtonContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const customButton = new Button(customButtonContainer, this.styles.button);\n        customButton.label = localize('custom', \"Custom\");\n        this._register(customButton.onDidClick(e => {\n            this.onDidCustomEmitter.fire();\n        }));\n        const message = dom.append(extraContainer, $(`#${this.idPrefix}message.quick-input-message`));\n        const progressBar = new ProgressBar(container, this.styles.progressBar);\n        progressBar.getContainer().classList.add('quick-input-progress');\n        const list = this._register(new QuickInputList(container, this.idPrefix + 'list', this.options));\n        this._register(list.onChangedAllVisibleChecked(checked => {\n            checkAll.checked = checked;\n        }));\n        this._register(list.onChangedVisibleCount(c => {\n            visibleCount.setCount(c);\n        }));\n        this._register(list.onChangedCheckedCount(c => {\n            count.setCount(c);\n        }));\n        this._register(list.onLeave(() => {\n            // Defer to avoid the input field reacting to the triggering key.\n            setTimeout(() => {\n                inputBox.setFocus();\n                if (this.controller instanceof QuickPick && this.controller.canSelectMany) {\n                    list.clearFocus();\n                }\n            }, 0);\n        }));\n        this._register(list.onDidChangeFocus(() => {\n            if (this.comboboxAccessibility) {\n                this.getUI().inputBox.setAttribute('aria-activedescendant', this.getUI().list.getActiveDescendant() || '');\n            }\n        }));\n        const focusTracker = dom.trackFocus(container);\n        this._register(focusTracker);\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, e => {\n            this.previousFocusElement = e.relatedTarget instanceof HTMLElement ? e.relatedTarget : undefined;\n        }, true));\n        this._register(focusTracker.onDidBlur(() => {\n            if (!this.getUI().ignoreFocusOut && !this.options.ignoreFocusOut()) {\n                this.hide(QuickInputHideReason.Blur);\n            }\n            this.previousFocusElement = undefined;\n        }));\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, (e) => {\n            inputBox.setFocus();\n        }));\n        this._register(dom.addDisposableListener(container, dom.EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 3 /* KeyCode.Enter */:\n                    dom.EventHelper.stop(e, true);\n                    if (this.enabled) {\n                        this.onDidAcceptEmitter.fire();\n                    }\n                    break;\n                case 9 /* KeyCode.Escape */:\n                    dom.EventHelper.stop(e, true);\n                    this.hide(QuickInputHideReason.Gesture);\n                    break;\n                case 2 /* KeyCode.Tab */:\n                    if (!event.altKey && !event.ctrlKey && !event.metaKey) {\n                        const selectors = ['.action-label.codicon'];\n                        if (container.classList.contains('show-checkboxes')) {\n                            selectors.push('input');\n                        }\n                        else {\n                            selectors.push('input[type=text]');\n                        }\n                        if (this.getUI().list.isDisplayed()) {\n                            selectors.push('.monaco-list');\n                        }\n                        // focus links if there are any\n                        if (this.getUI().message) {\n                            selectors.push('.quick-input-message a');\n                        }\n                        const stops = container.querySelectorAll(selectors.join(', '));\n                        if (event.shiftKey && event.target === stops[0]) {\n                            dom.EventHelper.stop(e, true);\n                            stops[stops.length - 1].focus();\n                        }\n                        else if (!event.shiftKey && event.target === stops[stops.length - 1]) {\n                            dom.EventHelper.stop(e, true);\n                            stops[0].focus();\n                        }\n                    }\n                    break;\n                case 10 /* KeyCode.Space */:\n                    if (event.ctrlKey) {\n                        dom.EventHelper.stop(e, true);\n                        this.getUI().list.toggleHover();\n                    }\n                    break;\n            }\n        }));\n        this.ui = {\n            container,\n            styleSheet,\n            leftActionBar,\n            titleBar,\n            title,\n            description1,\n            description2,\n            rightActionBar,\n            checkAll,\n            filterContainer,\n            inputBox,\n            visibleCountContainer,\n            visibleCount,\n            countContainer,\n            count,\n            okContainer,\n            ok,\n            message,\n            customButtonContainer,\n            customButton,\n            list,\n            progressBar,\n            onDidAccept: this.onDidAcceptEmitter.event,\n            onDidCustom: this.onDidCustomEmitter.event,\n            onDidTriggerButton: this.onDidTriggerButtonEmitter.event,\n            ignoreFocusOut: false,\n            keyMods: this.keyMods,\n            isScreenReaderOptimized: () => this.options.isScreenReaderOptimized(),\n            show: controller => this.show(controller),\n            hide: () => this.hide(),\n            setVisibilities: visibilities => this.setVisibilities(visibilities),\n            setComboboxAccessibility: enabled => this.setComboboxAccessibility(enabled),\n            setEnabled: enabled => this.setEnabled(enabled),\n            setContextKey: contextKey => this.options.setContextKey(contextKey),\n            linkOpenerDelegate: content => this.options.linkOpenerDelegate(content)\n        };\n        this.updateStyles();\n        return this.ui;\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return new Promise((doResolve, reject) => {\n            let resolve = (result) => {\n                var _a;\n                resolve = doResolve;\n                (_a = options.onKeyMods) === null || _a === void 0 ? void 0 : _a.call(options, input.keyMods);\n                doResolve(result);\n            };\n            if (token.isCancellationRequested) {\n                resolve(undefined);\n                return;\n            }\n            const input = this.createQuickPick();\n            let activeItem;\n            const disposables = [\n                input,\n                input.onDidAccept(() => {\n                    if (input.canSelectMany) {\n                        resolve(input.selectedItems.slice());\n                        input.hide();\n                    }\n                    else {\n                        const result = input.activeItems[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidChangeActive(items => {\n                    const focused = items[0];\n                    if (focused && options.onDidFocus) {\n                        options.onDidFocus(focused);\n                    }\n                }),\n                input.onDidChangeSelection(items => {\n                    if (!input.canSelectMany) {\n                        const result = items[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidTriggerItemButton(event => options.onDidTriggerItemButton && options.onDidTriggerItemButton(Object.assign(Object.assign({}, event), { removeItem: () => {\n                        const index = input.items.indexOf(event.item);\n                        if (index !== -1) {\n                            const items = input.items.slice();\n                            const removed = items.splice(index, 1);\n                            const activeItems = input.activeItems.filter(activeItem => activeItem !== removed[0]);\n                            const keepScrollPositionBefore = input.keepScrollPosition;\n                            input.keepScrollPosition = true;\n                            input.items = items;\n                            if (activeItems) {\n                                input.activeItems = activeItems;\n                            }\n                            input.keepScrollPosition = keepScrollPositionBefore;\n                        }\n                    } }))),\n                input.onDidTriggerSeparatorButton(event => { var _a; return (_a = options.onDidTriggerSeparatorButton) === null || _a === void 0 ? void 0 : _a.call(options, event); }),\n                input.onDidChangeValue(value => {\n                    if (activeItem && !value && (input.activeItems.length !== 1 || input.activeItems[0] !== activeItem)) {\n                        input.activeItems = [activeItem];\n                    }\n                }),\n                token.onCancellationRequested(() => {\n                    input.hide();\n                }),\n                input.onDidHide(() => {\n                    dispose(disposables);\n                    resolve(undefined);\n                }),\n            ];\n            input.title = options.title;\n            input.canSelectMany = !!options.canPickMany;\n            input.placeholder = options.placeHolder;\n            input.ignoreFocusOut = !!options.ignoreFocusLost;\n            input.matchOnDescription = !!options.matchOnDescription;\n            input.matchOnDetail = !!options.matchOnDetail;\n            input.matchOnLabel = (options.matchOnLabel === undefined) || options.matchOnLabel; // default to true\n            input.autoFocusOnList = (options.autoFocusOnList === undefined) || options.autoFocusOnList; // default to true\n            input.quickNavigate = options.quickNavigate;\n            input.hideInput = !!options.hideInput;\n            input.contextKey = options.contextKey;\n            input.busy = true;\n            Promise.all([picks, options.activeItem])\n                .then(([items, _activeItem]) => {\n                activeItem = _activeItem;\n                input.busy = false;\n                input.items = items;\n                if (input.canSelectMany) {\n                    input.selectedItems = items.filter(item => item.type !== 'separator' && item.picked);\n                }\n                if (activeItem) {\n                    input.activeItems = [activeItem];\n                }\n            });\n            input.show();\n            Promise.resolve(picks).then(undefined, err => {\n                reject(err);\n                input.hide();\n            });\n        });\n    }\n    createQuickPick() {\n        const ui = this.getUI();\n        return new QuickPick(ui);\n    }\n    createInputBox() {\n        const ui = this.getUI();\n        return new InputBox(ui);\n    }\n    show(controller) {\n        const ui = this.getUI();\n        this.onShowEmitter.fire();\n        const oldController = this.controller;\n        this.controller = controller;\n        oldController === null || oldController === void 0 ? void 0 : oldController.didHide();\n        this.setEnabled(true);\n        ui.leftActionBar.clear();\n        ui.title.textContent = '';\n        ui.description1.textContent = '';\n        ui.description2.textContent = '';\n        ui.rightActionBar.clear();\n        ui.checkAll.checked = false;\n        // ui.inputBox.value = ''; Avoid triggering an event.\n        ui.inputBox.placeholder = '';\n        ui.inputBox.password = false;\n        ui.inputBox.showDecoration(Severity.Ignore);\n        ui.visibleCount.setCount(0);\n        ui.count.setCount(0);\n        dom.reset(ui.message);\n        ui.progressBar.stop();\n        ui.list.setElements([]);\n        ui.list.matchOnDescription = false;\n        ui.list.matchOnDetail = false;\n        ui.list.matchOnLabel = true;\n        ui.list.sortByLabel = true;\n        ui.ignoreFocusOut = false;\n        this.setComboboxAccessibility(false);\n        ui.inputBox.ariaLabel = '';\n        ui.inputBox.toggles = undefined;\n        const backKeybindingLabel = this.options.backKeybindingLabel();\n        backButton.tooltip = backKeybindingLabel ? localize('quickInput.backWithKeybinding', \"Back ({0})\", backKeybindingLabel) : localize('quickInput.back', \"Back\");\n        ui.container.style.display = '';\n        this.updateLayout();\n        ui.inputBox.setFocus();\n    }\n    setVisibilities(visibilities) {\n        const ui = this.getUI();\n        ui.title.style.display = visibilities.title ? '' : 'none';\n        ui.description1.style.display = visibilities.description && (visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.description2.style.display = visibilities.description && !(visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.checkAll.style.display = visibilities.checkAll ? '' : 'none';\n        ui.filterContainer.style.display = visibilities.inputBox ? '' : 'none';\n        ui.visibleCountContainer.style.display = visibilities.visibleCount ? '' : 'none';\n        ui.countContainer.style.display = visibilities.count ? '' : 'none';\n        ui.okContainer.style.display = visibilities.ok ? '' : 'none';\n        ui.customButtonContainer.style.display = visibilities.customButton ? '' : 'none';\n        ui.message.style.display = visibilities.message ? '' : 'none';\n        ui.progressBar.getContainer().style.display = visibilities.progressBar ? '' : 'none';\n        ui.list.display(!!visibilities.list);\n        ui.container.classList.toggle('show-checkboxes', !!visibilities.checkBox);\n        ui.container.classList.toggle('hidden-input', !visibilities.inputBox && !visibilities.description);\n        this.updateLayout(); // TODO\n    }\n    setComboboxAccessibility(enabled) {\n        if (enabled !== this.comboboxAccessibility) {\n            const ui = this.getUI();\n            this.comboboxAccessibility = enabled;\n            if (this.comboboxAccessibility) {\n                ui.inputBox.setAttribute('role', 'combobox');\n                ui.inputBox.setAttribute('aria-haspopup', 'true');\n                ui.inputBox.setAttribute('aria-autocomplete', 'list');\n                ui.inputBox.setAttribute('aria-activedescendant', ui.list.getActiveDescendant() || '');\n            }\n            else {\n                ui.inputBox.removeAttribute('role');\n                ui.inputBox.removeAttribute('aria-haspopup');\n                ui.inputBox.removeAttribute('aria-autocomplete');\n                ui.inputBox.removeAttribute('aria-activedescendant');\n            }\n        }\n    }\n    setEnabled(enabled) {\n        if (enabled !== this.enabled) {\n            this.enabled = enabled;\n            for (const item of this.getUI().leftActionBar.viewItems) {\n                item.action.enabled = enabled;\n            }\n            for (const item of this.getUI().rightActionBar.viewItems) {\n                item.action.enabled = enabled;\n            }\n            this.getUI().checkAll.disabled = !enabled;\n            this.getUI().inputBox.enabled = enabled;\n            this.getUI().ok.enabled = enabled;\n            this.getUI().list.enabled = enabled;\n        }\n    }\n    hide(reason) {\n        var _a;\n        const controller = this.controller;\n        if (controller) {\n            const focusChanged = !((_a = this.ui) === null || _a === void 0 ? void 0 : _a.container.contains(document.activeElement));\n            this.controller = null;\n            this.onHideEmitter.fire();\n            this.getUI().container.style.display = 'none';\n            if (!focusChanged) {\n                let currentElement = this.previousFocusElement;\n                while (currentElement && !currentElement.offsetParent) {\n                    currentElement = withNullAsUndefined(currentElement.parentElement);\n                }\n                if (currentElement === null || currentElement === void 0 ? void 0 : currentElement.offsetParent) {\n                    currentElement.focus();\n                    this.previousFocusElement = undefined;\n                }\n                else {\n                    this.options.returnFocus();\n                }\n            }\n            controller.didHide(reason);\n        }\n    }\n    layout(dimension, titleBarOffset) {\n        this.dimension = dimension;\n        this.titleBarOffset = titleBarOffset;\n        this.updateLayout();\n    }\n    updateLayout() {\n        if (this.ui && this.isDisplayed()) {\n            this.ui.container.style.top = `${this.titleBarOffset}px`;\n            const style = this.ui.container.style;\n            const width = Math.min(this.dimension.width * 0.62 /* golden cut */, QuickInputController.MAX_WIDTH);\n            style.width = width + 'px';\n            style.marginLeft = '-' + (width / 2) + 'px';\n            this.ui.inputBox.layout();\n            this.ui.list.layout(this.dimension && this.dimension.height * 0.4);\n        }\n    }\n    applyStyles(styles) {\n        this.styles = styles;\n        this.updateStyles();\n    }\n    updateStyles() {\n        if (this.ui) {\n            const { quickInputTitleBackground, quickInputBackground, quickInputForeground, widgetBorder, widgetShadow, } = this.styles.widget;\n            this.ui.titleBar.style.backgroundColor = quickInputTitleBackground !== null && quickInputTitleBackground !== void 0 ? quickInputTitleBackground : '';\n            this.ui.container.style.backgroundColor = quickInputBackground !== null && quickInputBackground !== void 0 ? quickInputBackground : '';\n            this.ui.container.style.color = quickInputForeground !== null && quickInputForeground !== void 0 ? quickInputForeground : '';\n            this.ui.container.style.border = widgetBorder ? `1px solid ${widgetBorder}` : '';\n            this.ui.container.style.boxShadow = widgetShadow ? `0 0 8px 2px ${widgetShadow}` : '';\n            this.ui.list.style(this.styles.list);\n            const content = [];\n            if (this.styles.pickerGroup.pickerGroupBorder) {\n                content.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`);\n            }\n            if (this.styles.pickerGroup.pickerGroupForeground) {\n                content.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);\n            }\n            if (this.styles.pickerGroup.pickerGroupForeground) {\n                content.push(`.quick-input-list .quick-input-list-separator-as-item { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);\n            }\n            if (this.styles.keybindingLabel.keybindingLabelBackground ||\n                this.styles.keybindingLabel.keybindingLabelBorder ||\n                this.styles.keybindingLabel.keybindingLabelBottomBorder ||\n                this.styles.keybindingLabel.keybindingLabelShadow ||\n                this.styles.keybindingLabel.keybindingLabelForeground) {\n                content.push('.quick-input-list .monaco-keybinding > .monaco-keybinding-key {');\n                if (this.styles.keybindingLabel.keybindingLabelBackground) {\n                    content.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBorder) {\n                    // Order matters here. `border-color` must come before `border-bottom-color`.\n                    content.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBottomBorder) {\n                    content.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelShadow) {\n                    content.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelForeground) {\n                    content.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`);\n                }\n                content.push('}');\n            }\n            const newStyles = content.join('\\n');\n            if (newStyles !== this.ui.styleSheet.textContent) {\n                this.ui.styleSheet.textContent = newStyles;\n            }\n        }\n    }\n    isDisplayed() {\n        return this.ui && this.ui.container.style.display !== 'none';\n    }\n}\nQuickInputController.MAX_WIDTH = 600; // Max total width of quick input widget\nexport { QuickInputController };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { IAccessibilityService } from '../../accessibility/common/accessibility.js';\nimport { IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { WorkbenchList } from '../../list/browser/listService.js';\nimport { IOpenerService } from '../../opener/common/opener.js';\nimport { QuickAccessController } from './quickAccess.js';\nimport { defaultButtonStyles, defaultCountBadgeStyles, defaultInputBoxStyles, defaultKeybindingLabelStyles, defaultProgressBarStyles, defaultToggleStyles, getListStyles } from '../../theme/browser/defaultStyles.js';\nimport { activeContrastBorder, asCssVariable, pickerGroupBorder, pickerGroupForeground, quickInputBackground, quickInputForeground, quickInputListFocusBackground, quickInputListFocusForeground, quickInputListFocusIconForeground, quickInputTitleBackground, widgetBorder, widgetShadow } from '../../theme/common/colorRegistry.js';\nimport { IThemeService, Themable } from '../../theme/common/themeService.js';\nimport { QuickInputController } from './quickInput.js';\nlet QuickInputService = class QuickInputService extends Themable {\n    get controller() {\n        if (!this._controller) {\n            this._controller = this._register(this.createController());\n        }\n        return this._controller;\n    }\n    get hasController() { return !!this._controller; }\n    get quickAccess() {\n        if (!this._quickAccess) {\n            this._quickAccess = this._register(this.instantiationService.createInstance(QuickAccessController));\n        }\n        return this._quickAccess;\n    }\n    constructor(instantiationService, contextKeyService, themeService, accessibilityService, layoutService) {\n        super(themeService);\n        this.instantiationService = instantiationService;\n        this.contextKeyService = contextKeyService;\n        this.accessibilityService = accessibilityService;\n        this.layoutService = layoutService;\n        this._onShow = this._register(new Emitter());\n        this._onHide = this._register(new Emitter());\n        this.contexts = new Map();\n    }\n    createController(host = this.layoutService, options) {\n        const defaultOptions = {\n            idPrefix: 'quickInput_',\n            container: host.container,\n            ignoreFocusOut: () => false,\n            isScreenReaderOptimized: () => this.accessibilityService.isScreenReaderOptimized(),\n            backKeybindingLabel: () => undefined,\n            setContextKey: (id) => this.setContextKey(id),\n            linkOpenerDelegate: (content) => {\n                // HACK: https://github.com/microsoft/vscode/issues/173691\n                this.instantiationService.invokeFunction(accessor => {\n                    const openerService = accessor.get(IOpenerService);\n                    openerService.open(content, { allowCommands: true, fromUserGesture: true });\n                });\n            },\n            returnFocus: () => host.focus(),\n            createList: (user, container, delegate, renderers, options) => this.instantiationService.createInstance(WorkbenchList, user, container, delegate, renderers, options),\n            hoverDelegate: {\n                showHover(options, focus) {\n                    return undefined;\n                },\n                delay: 200\n            },\n            styles: this.computeStyles()\n        };\n        const controller = this._register(new QuickInputController(Object.assign(Object.assign({}, defaultOptions), options)));\n        controller.layout(host.dimension, host.offset.quickPickTop);\n        // Layout changes\n        this._register(host.onDidLayout(dimension => controller.layout(dimension, host.offset.quickPickTop)));\n        // Context keys\n        this._register(controller.onShow(() => {\n            this.resetContextKeys();\n            this._onShow.fire();\n        }));\n        this._register(controller.onHide(() => {\n            this.resetContextKeys();\n            this._onHide.fire();\n        }));\n        return controller;\n    }\n    setContextKey(id) {\n        let key;\n        if (id) {\n            key = this.contexts.get(id);\n            if (!key) {\n                key = new RawContextKey(id, false)\n                    .bindTo(this.contextKeyService);\n                this.contexts.set(id, key);\n            }\n        }\n        if (key && key.get()) {\n            return; // already active context\n        }\n        this.resetContextKeys();\n        key === null || key === void 0 ? void 0 : key.set(true);\n    }\n    resetContextKeys() {\n        this.contexts.forEach(context => {\n            if (context.get()) {\n                context.reset();\n            }\n        });\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return this.controller.pick(picks, options, token);\n    }\n    createQuickPick() {\n        return this.controller.createQuickPick();\n    }\n    createInputBox() {\n        return this.controller.createInputBox();\n    }\n    updateStyles() {\n        if (this.hasController) {\n            this.controller.applyStyles(this.computeStyles());\n        }\n    }\n    computeStyles() {\n        return {\n            widget: {\n                quickInputBackground: asCssVariable(quickInputBackground),\n                quickInputForeground: asCssVariable(quickInputForeground),\n                quickInputTitleBackground: asCssVariable(quickInputTitleBackground),\n                widgetBorder: asCssVariable(widgetBorder),\n                widgetShadow: asCssVariable(widgetShadow),\n            },\n            inputBox: defaultInputBoxStyles,\n            toggle: defaultToggleStyles,\n            countBadge: defaultCountBadgeStyles,\n            button: defaultButtonStyles,\n            progressBar: defaultProgressBarStyles,\n            keybindingLabel: defaultKeybindingLabelStyles,\n            list: getListStyles({\n                listBackground: quickInputBackground,\n                listFocusBackground: quickInputListFocusBackground,\n                listFocusForeground: quickInputListFocusForeground,\n                // Look like focused when inactive.\n                listInactiveFocusForeground: quickInputListFocusForeground,\n                listInactiveSelectionIconForeground: quickInputListFocusIconForeground,\n                listInactiveFocusBackground: quickInputListFocusBackground,\n                listFocusOutline: activeContrastBorder,\n                listInactiveFocusOutline: activeContrastBorder,\n            }),\n            pickerGroup: {\n                pickerGroupBorder: asCssVariable(pickerGroupBorder),\n                pickerGroupForeground: asCssVariable(pickerGroupForeground),\n            }\n        };\n    }\n};\nQuickInputService = __decorate([\n    __param(0, IInstantiationService),\n    __param(1, IContextKeyService),\n    __param(2, IThemeService),\n    __param(3, IAccessibilityService),\n    __param(4, ILayoutService)\n], QuickInputService);\nexport { QuickInputService };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { coalesce } from '../../../base/common/arrays.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { Registry } from '../../registry/common/platform.js';\nexport var DefaultQuickAccessFilterValue;\n(function (DefaultQuickAccessFilterValue) {\n    /**\n     * Keep the value as it is given to quick access.\n     */\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"PRESERVE\"] = 0] = \"PRESERVE\";\n    /**\n     * Use the value that was used last time something was accepted from the picker.\n     */\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"LAST\"] = 1] = \"LAST\";\n})(DefaultQuickAccessFilterValue || (DefaultQuickAccessFilterValue = {}));\nexport const Extensions = {\n    Quickaccess: 'workbench.contributions.quickaccess'\n};\nexport class QuickAccessRegistry {\n    constructor() {\n        this.providers = [];\n        this.defaultProvider = undefined;\n    }\n    registerQuickAccessProvider(provider) {\n        // Extract the default provider when no prefix is present\n        if (provider.prefix.length === 0) {\n            this.defaultProvider = provider;\n        }\n        else {\n            this.providers.push(provider);\n        }\n        // sort the providers by decreasing prefix length, such that longer\n        // prefixes take priority: 'ext' vs 'ext install' - the latter should win\n        this.providers.sort((providerA, providerB) => providerB.prefix.length - providerA.prefix.length);\n        return toDisposable(() => {\n            this.providers.splice(this.providers.indexOf(provider), 1);\n            if (this.defaultProvider === provider) {\n                this.defaultProvider = undefined;\n            }\n        });\n    }\n    getQuickAccessProviders() {\n        return coalesce([this.defaultProvider, ...this.providers]);\n    }\n    getQuickAccessProvider(prefix) {\n        const result = prefix ? (this.providers.find(provider => prefix.startsWith(provider.prefix)) || undefined) : undefined;\n        return result || this.defaultProvider;\n    }\n}\nRegistry.add(Extensions.Quickaccess, new QuickAccessRegistry());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const NO_KEY_MODS = { ctrlCmd: false, alt: false };\nexport var QuickInputHideReason;\n(function (QuickInputHideReason) {\n    /**\n     * Focus moved away from the quick input.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Blur\"] = 1] = \"Blur\";\n    /**\n     * An explicit user gesture, e.g. pressing Escape key.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Gesture\"] = 2] = \"Gesture\";\n    /**\n     * Anything else.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Other\"] = 3] = \"Other\";\n})(QuickInputHideReason || (QuickInputHideReason = {}));\nexport var ItemActivation;\n(function (ItemActivation) {\n    ItemActivation[ItemActivation[\"NONE\"] = 0] = \"NONE\";\n    ItemActivation[ItemActivation[\"FIRST\"] = 1] = \"FIRST\";\n    ItemActivation[ItemActivation[\"SECOND\"] = 2] = \"SECOND\";\n    ItemActivation[ItemActivation[\"LAST\"] = 3] = \"LAST\";\n})(ItemActivation || (ItemActivation = {}));\nexport class QuickPickItemScorerAccessor {\n    constructor(options) {\n        this.options = options;\n    }\n}\nexport const quickPickItemScorerAccessor = new QuickPickItemScorerAccessor();\n//#endregion\nexport const IQuickInputService = createDecorator('quickInputService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Assert from '../../../base/common/assert.js';\nimport * as Types from '../../../base/common/types.js';\nclass RegistryImpl {\n    constructor() {\n        this.data = new Map();\n    }\n    add(id, data) {\n        Assert.ok(Types.isString(id));\n        Assert.ok(Types.isObject(data));\n        Assert.ok(!this.data.has(id), 'There is already an extension with this id');\n        this.data.set(id, data);\n    }\n    as(id) {\n        return this.data.get(id) || null;\n    }\n}\nexport const Registry = new RegistryImpl();\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './media/severityIcon.css';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport Severity from '../../../base/common/severity.js';\nexport var SeverityIcon;\n(function (SeverityIcon) {\n    function className(severity) {\n        switch (severity) {\n            case Severity.Ignore:\n                return 'severity-ignore ' + ThemeIcon.asClassName(Codicon.info);\n            case Severity.Info:\n                return ThemeIcon.asClassName(Codicon.info);\n            case Severity.Warning:\n                return ThemeIcon.asClassName(Codicon.warning);\n            case Severity.Error:\n                return ThemeIcon.asClassName(Codicon.error);\n            default:\n                return '';\n        }\n    }\n    SeverityIcon.className = className;\n})(SeverityIcon || (SeverityIcon = {}));\n"],"names":["IDialogService","createDecorator","CodeDataTransfers","EDITORS","FILES","extractEditorsDropData","e","_a","editors","dataTransfer","types","length","rawEditorsData","getData","push","apply","_toConsumableArray","parse","error","rawResourcesData","DataTransfers","RESOURCES","_step3","resourcesRaw","JSON","_iterator3","_createForOfIteratorHelper","s","n","done","resourceRaw","value","indexOf","_extractSelection","extractSelection","URI","selection","uri","resource","options","err","f","createDraggedEditorInputFromRawResourcesData","files","i","file","path","isExternal","allowWorkspaceOpen","rawCodeFiles","_step","codeFiles","_iterator","codeFile","_step2","contributions","Registry","as","Extensions","DragAndDropContribution","getAll","_iterator2","contribution","data","dataFormatKey","getEditorInputs","coalescedEditors","seen","ResourceMap","_i","_editors","editor","has","set","DragAndDropContributionRegistry","_classCallCheck","this","_contributions","Map","_createClass","key","values","add","EditorOpenSource","ExtensionIdentifier","_lower","toLowerCase","id","FileKind","__decorate","decorators","target","desc","d","c","arguments","r","Object","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","historyNavigationVisible","RawContextKey","localize","HistoryNavigationWidgetFocusContext","HistoryNavigationForwardsEnablementContext","HistoryNavigationBackwardsEnablementContext","lastFocusedWidget","undefined","widgets","registerAndCreateHistoryNavigationContext","scopedContextKeyService","widget","includes","Error","disposableStore","DisposableStore","historyNavigationWidgetFocus","bindTo","historyNavigationForwardsEnablement","historyNavigationBackwardsEnablement","onDidFocus","onDidBlur","element","document","activeElement","toDisposable","splice","dispose","ContextScopedFindInput","_FindInput","_inherits","_super","_createSuper","container","contextViewProvider","contextKeyService","_this","call","_register","createScoped","inputBox","FindInput","IContextKeyService","ContextScopedReplaceInput","_ReplaceInput","_super2","_this2","showReplaceOptions","ReplaceInput","KeybindingsRegistry","registerCommandAndKeybindingRule","weight","when","ContextKeyExpr","and","equals","isEqualTo","primary","secondary","handler","accessor","showPreviousValue","showNextValue","showHistoryKeybindingHint","keybindingService","_b","lookupKeybinding","getElectronAccelerator","SyncDescriptor","ctor","staticArguments","supportsDelayedInstantiation","_registry","registerSingleton","ctorOrDescriptor","Boolean","getSingletonServiceDescriptors","_util","serviceIds","DI_TARGET","DI_DEPENDENCIES","getServiceDependencies","IInstantiationService","serviceId","get","index","storeServiceDependency","toString","Node","incoming","outgoing","Graph","_hashFn","_nodes","ret","node","size","from","to","fromNode","lookupOrInsertNode","toNode","delete","_step3$value","_slicedToArray","concat","keys","join","_step4","_iterator4","_step4$value","Set","res","_findCycle","_step5","_iterator5","_step5$value","CyclicDependencyError","_Error","graph","message","findCycleSlow","_wrapNativeSuper","InstantiationService","_services","ServiceCollection","_strict","_parent","_enableTracing","_activeInstantiations","_globalGraph","services","fn","_trace","Trace","traceInvocation","_done","illegalState","result","_getOrCreateServiceInstance","_len","args","Array","_key","stop","_len2","rest","_key2","traceCreation","_createInstance","serviceDependencies","sort","a","b","serviceArgs","dependency","service","_throwIfStrict","name","firstServiceArgPos","console","trace","delta","slice","construct","instance","_setServiceInstance","instanceOrDesc","_getServiceInstanceOrDescriptor","_globalGraphImplicitDependency","insertEdge","String","thing","_safeCreateAndCacheServiceInstance","branch","_createAndCacheServiceInstance","cycleCount","stack","item","pop","roots","isEmpty","_createServiceInstanceWithOwner","removeNode","_createServiceInstance","child","earlyListeners","idle","IdleValue","candidate","listener","clear","Proxy","create","isInitialized","startsWith","list","LinkedList","callback","thisArg","disposables","rm","obj","prop","bind","_target","p","getPrototypeOf","prototype","msg","printWarning","warn","type","_start","Date","now","_dep","first","dur","_totals","causedCreation","lines","printChild","_step6","prefix","_iterator6","_step6$value","nested","toFixed","all","split","_None","_Trace","_class","_entries","entries","_entries$_i","instanceOrDescriptor","JSONContribution","jsonContributionRegistry","JSONContributionRegistry","_onDidChangeSchema","Emitter","schemasById","unresolvedSchemaContent","charAt","substring","fire","platform","HIGH_FREQ_COMMANDS","AbstractKeybindingService","_Disposable","_contextKeyService","_commandService","_telemetryService","_notificationService","_logService","_onDidUpdateKeybindings","_currentChord","_currentChordChecker","IntervalTimer","_currentChordStatusMessage","_ignoreSingleModifiers","KeybindingModifierSet","EMPTY","_currentSingleModifier","_currentSingleModifierClearTimeout","TimeoutTimer","_logging","event","Event","None","_get","_getPrototypeOf","str","info","_getResolver","getKeybindings","commandId","context","lookupPrimaryKeybinding","resolvedKeybinding","_dispatch","_log","keybinding","resolveKeyboardEvent","hasMultipleChords","_keybinding$getDispat","getDispatchChords","firstChord","contextValue","getContext","currentChord","keypress","resolve","keypressLabel","label","status","nls","chordEnterTime","cancelAndSet","_documentHasFocus","_leaveChordMode","IME","disable","cancel","enable","_doDispatch","_this3","_keybinding$getSingle","getSingleModifierDispatchChords","singleModifier","_keybinding$getChords","getChords","_this4","isSingleModiferChord","shouldPreventDefault","_keybinding$getSingle3","dispatchKeyname","_keybinding$getDispat3","getLabel","resolveResult","enterMultiChord","_enterMultiChordMode","hideAfter","bubble","commandArgs","executeCommand","then","test","publicLog2","ctrlKey","metaKey","keyCode","Disposable","source","_ctrlKey","_shiftKey","shiftKey","_altKey","altKey","_metaKey","modifier","IKeybindingService","KeybindingResolver","defaultKeybindings","overrides","log","_defaultKeybindings","_defaultBoundCommands","command","_map","_lookupMap","_keybindings","handleRemovals","len","k","chords","_addKeyPress","conflicts","_addToLookupMap","conflict","conflictHasMultipleChords","itemHasMultipleChords","whenIsEntirelyIncluded","_removeFromLookupMap","arr","items","contextMatchesRules","lookupMap","candidates","_findCommand","printWhenExplanation","printSourceExplanation","leaveMultiChord","matches","_contextMatchesRules","defaultKb","keypressFirstPart","keypressChordPart","expressionsAreEqualWithConstantSubstitution","rules","removals","rule","commandRemovals","isDefault","isRemoved","commandRemoval","keypressFirstChord","keypressSecondChord","_isTargetedForRemoval","implies","evaluate","serialize","kb","extensionId","isBuiltinExtension","KeybindingsRegistryImpl","_coreKeybindings","_extensionKeybindings","_cachedMergedKeybindings","actualKb","bindToCurrentPlatform","kk","decodeKeybinding","OS","_registerDefaultKeybinding","isArray","combinedDisposable","registerKeybindingRule","CommandsRegistry","registerCommand","weight1","weight2","remove","sorter","win","mac","linux","ResolvedKeybindingItem","_resolvedKeybindingItemBrand","toEmptyArrayIfContainsNull","charCodeAt","substr","BaseResolvedKeybinding","_ResolvedKeybinding","os","illegalArgument","_os","_chords","UILabelProvider","toLabel","_getLabel","AriaLabelProvider","_getAriaLabel","isDuplicateModifierCase","ElectronAcceleratorLabelProvider","_getElectronAccelerator","_this5","map","_getChord","ResolvedChord","_this6","_getChordDispatch","_this7","_getSingleModifierChordDispatch","ResolvedKeybinding","USLayoutResolvedKeybinding","_BaseResolvedKeybindi","KeyCodeUtils","chord","_keyCodeToUILabel","toElectronAccelerator","getDispatchStr","isModifierKey","scanCode","immutableKeyCode","IMMUTABLE_CODE_TO_KEY_CODE","KeyCodeChord","_scanCodeToKeyCode","_toKeyCodeChord","ILabelService","ILayoutService","IListService","ListService","lists","_lastFocusedWidget","_hasCreatedStyleController","getHTMLElement","classList","extraContextKeys","DefaultStyleController","createStyleSheet","style","defaultListStyles","some","l","registeredList","setLastFocusedList","onDidDispose","filter","RawWorkbenchListFocusContextKey","WorkbenchListSupportsMultiSelectContextKey","WorkbenchListFocusContextKey","not","InputFocusedContextKey","WorkbenchListHasSelectionOrFocus","WorkbenchListDoubleSelection","WorkbenchListMultiSelection","WorkbenchListSelectionNavigation","WorkbenchListSupportsFind","WorkbenchTreeElementCanCollapse","WorkbenchTreeElementHasParent","WorkbenchTreeElementCanExpand","WorkbenchTreeElementHasChild","WorkbenchTreeFindOpen","WorkbenchListTypeNavigationModeKey","WorkbenchListAutomaticKeyboardNavigationLegacyKey","createScopedContextKeyService","multiSelectModifierSettingKey","openModeSettingKey","horizontalScrollingKey","defaultFindModeSettingKey","typeNavigationModeSettingKey","keyboardNavigationSettingKey","scrollByPageKey","defaultFindMatchTypeSettingKey","treeIndentKey","treeRenderIndentGuidesKey","listSmoothScrolling","mouseWheelScrollSensitivityKey","fastScrollSensitivityKey","treeExpandMode","useAltAsMultipleSelectionModifier","configurationService","getValue","MultipleSelectionController","registerListeners","onDidChangeConfiguration","affectsConfiguration","browserEvent","isSelectionSingleChangeEvent","isSelectionRangeChangeEvent","toWorkbenchListOptions","IConfigurationService","assign","keyboardNavigationDelegate","mightProducePrintableCharacter","smoothScrolling","mouseWheelScrollSensitivity","fastScrollSensitivity","multipleSelectionController","keyboardNavigationEventFilter","createKeyboardNavigationEventFilter","scrollByPage","WorkbenchList","_List","user","delegate","renderers","listService","instantiationService","horizontalScrolling","_instantiationService","invokeFunction","_instantiationService2","workbenchListOptions","workbenchListOptionsDisposable","keyboardSupport","_assertThisInitialized","listSupportsMultiSelect","multipleSelectionSupport","selectionNavigation","listHasSelectionOrFocus","listDoubleSelection","listMultiSelection","_useAltAsMultipleSelectionModifier","register","updateStyles","overrideStyles","onDidChangeSelection","getSelection","focus","getFocus","bufferChangeEvents","onDidChangeFocus","updateOptions","navigator","ListResourceNavigator","styles","getListStyles","List","WorkbenchPagedList","_PagedList","_super3","_instantiationService3","_instantiationService4","PagedList","WorkbenchTable","_Table","_super4","columns","_instantiationService5","_instantiationService6","TableResourceNavigator","Table","ResourceNavigator","_Disposable2","_super5","_onDidOpen","onDidOpen","KeyboardEvent","onSelectionFromKeyboard","onPointer","onMouseDblClick","openOnSingleClick","elements","selectionKeyboardEvent","preserveFocus","pinned","_open","getSelectedElement","detail","button","sideBySide","contains","offsetX","editorOptions","revealIfVisible","_ResourceNavigator","_super6","_this8","getSelectedElements","_ResourceNavigator2","_super7","TreeResourceNavigator","_ResourceNavigator3","_super8","inMultiChord","toKeyCodeChord","softDispatch","WorkbenchObjectTree","_ObjectTree","_super9","_this9","_instantiationService7","workbenchTreeDataPreamble","treeOptions","getTypeNavigationMode","disposable","internals","WorkbenchTreeInternals","ObjectTree","WorkbenchCompressibleObjectTree","_CompressibleObjectTr","_super10","_this10","_instantiationService8","updateStyleOverrides","CompressibleObjectTree","WorkbenchDataTree","_DataTree","_super11","dataSource","_this11","_instantiationService9","DataTree","WorkbenchAsyncDataTree","_AsyncDataTree","_super12","_this12","_instantiationService10","AsyncDataTree","WorkbenchCompressibleAsyncDataTree","_CompressibleAsyncDat","_super13","virtualDelegate","compressionDelegate","_this13","_instantiationService11","CompressibleAsyncDataTree","getDefaultTreeFindMode","TreeFindMode","Highlight","Filter","deprecatedValue","getDefaultTreeFindMatchType","TreeFindMatchType","Fuzzy","Contiguous","contextViewService","IContextViewService","_instantiationService12","_instantiationService13","additionalScrollHeight","renderIndentGuides","modeString","getContextKeyValue","TypeNavigationMode","Automatic","Trigger","configString","indent","defaultFindMode","defaultFindMatchType","hideTwistiesOfChildlessElements","expandOnlyOnTwistieClick","findWidgetStyles","defaultFindWidgetStyles","tree","_this14","listSupportFindWidget","findWidgetEnabled","hasSelectionOrFocus","hasDoubleSelection","hasMultiSelection","treeElementCanCollapse","treeElementHasParent","treeElementCanExpand","treeElementHasChild","treeFindOpen","updateCollapseContextKeys","getNode","collapsible","collapsed","getParentElement","getFirstElementChild","interestingContextKeys","onDidChangeCollapseState","onDidChangeModel","onDidChangeFindOpenState","enabled","newOptions","typeNavigationMode","onDidChangeContext","affectsSome","ConfigurationExtensions","Configuration","registerConfiguration","order","title","properties","_properties","_defineProperty","enum","markdownEnumDescriptions","default","description","comment","minimum","maximum","markdownDescription","enumDescriptions","deprecated","deprecationMessage","LogLevel","ILogService","DEFAULT_LOG_LEVEL","Info","AbstractLogger","level","_onDidChangeLogLevel","onDidChangeLogLevel","Off","ConsoleLogger","_AbstractLogger","logLevel","setLevel","checkLogLevel","_console","Debug","_console2","_console3","_len3","_key3","_console4","_len4","_key4","MultiplexLogger","_AbstractLogger2","loggers","getLevel","_len5","_key5","logger","_len6","_key6","debug","_len7","_key7","_len8","_key8","LogService","primaryLogger","otherLoggers","_this$logger","_this$logger2","_this$logger3","_this$logger4","unsupportedSchemas","Schemas","inMemory","vscodeSourceControl","walkThrough","walkThroughSnippet","DoubleResourceMap","_byResource","_byOwner","owner","ownerMap","resourceMap","removedA","removedB","_c","_d","Iterable","empty","isUri","MarkerStats","errors","infos","warnings","unknowns","_data","_service","_subscription","onMarkerChanged","_update","resources","oldStats","_substract","newStats","_resourceStats","_add","scheme","read","severity","MarkerSeverity","Warning","op","MarkerService","_onMarkerChanged","DebounceEmitter","delay","merge","_merge","_stats","changeOne","markerData","isFalsyOrEmpty","markers","marker","_toMarker","changes","existing","isNonEmptyArray","groups","array","_step7","_iterator7","_step7$value","severities","take","_step8","_iterator8","_accept","newLen","_step11","iterable","_iterator11","_step12","_iterator12","_step9","_iterator9","_step10","_iterator10","code","startLineNumber","startColumn","endLineNumber","endColumn","relatedInformation","tags","_step13","_iterator13","_step14","_iterator14","IMarkerData","compare","_displayStrings","fromSeverity","Severity","Ignore","Hint","toSeverity","emptyString","makeKeyOptionalMessage","useMessage","replace","makeKey","IMarkerService","BaseSeverity","INotificationService","NoOpNotification","Link","_link","openerService","_enabled","el","append","$","tabIndex","href","setAttribute","onClickEmitter","DomEmitter","onKeyPress","onEnterPress","chain","StandardKeyboardEvent","onTap","TouchEventType","Tap","Gesture","addTarget","onOpen","any","EventHelper","opener","open","allowCommands","pointerEvents","opacity","cursor","IOpenerService","matchesScheme","equalsIgnoreCase","startsWithIgnoreCase","matchesSomeScheme","schemes","match","exec","fragment","parseInt","with","IProgressService","Progress","freeze","total","worked","_value","report","IEditorProgressService","TriggerAction","__awaiter","_arguments","P","generator","Promise","reject","fulfilled","step","next","rejected","isPicksWithActive","isFastAndSlowPicks","picks","additionalPicks","PickerQuickAccessProvider","picker","token","runOptions","canAcceptInBackground","matchOnLabel","matchOnDescription","matchOnDetail","sortByLabel","picksCts","picksDisposable","MutableDisposable","updatePickerItems","_regeneratorRuntime","mark","_callee3","picksDisposables","picksToken","picksFilter","providedPicks","applyPicks","fastPicksApplied","slowPicksApplied","awaitedPicks","wrap","_context3","prev","busy","CancellationTokenSource","trim","_getPicks","skipEmpty","activeItem","active","noResultsPick","activeItems","_callee","_context","timeout","FAST_PICKS_RACE_DELAY","isCancellationRequested","abrupt","_callee2","awaitedAdditionalPicks","activePick","additionalActivePick","fallbackActivePick","fallbackActivePickCandidate","_context2","sent","finish","onDidChangeValue","onDidAccept","selectedItems","accept","inBackground","hide","keyMods","onDidTriggerItemButton","_ref","_callee4","buttonIndex","action","removed","keepScrollPositionBefore","_context4","trigger","buttons","t0","t1","NO_ACTION","CLOSE_PICKER","REFRESH_PICKER","REMOVE_ITEM","keepScrollPosition","AbstractCommandsQuickAccessProvider","_PickerQuickAccessPro","commandService","telemetryService","dialogService","PREFIX","commandsHistory","createInstance","CommandsHistory","_disposables","allCommandPicks","filteredCommandPicks","_commandPick","labelHighlights","aliasHighlights","mapLabelToCommand","_filteredCommandPicks","commandPick","existingCommandForLabel","commandPicks","addOtherSeparator","addCommonlyUsedSeparator","_loop","getCommandPicks","withNullAsUndefined","WORD_FILTER","commandAlias","highlights","showAlias","commandPickA","commandPickB","commandACounter","peek","commandBCounter","suggestedCommandIds","commandASuggestion","commandBSuggestion","localeCompare","ariaLabel","getAriaLabel","isCancellationError","toErrorMessage","delegateYield","or","matchesPrefix","matchesWords","matchesContiguousSubString","ICommandService","ITelemetryService","storageService","configuredCommandsHistoryLength","updateConfiguration","load","getConfiguredCommandHistoryLength","cache","limit","saveState","serializedCache","raw","PREF_KEY_CACHE","LRUCache","usesLRU","forEach","entry","counter","getNumber","PREF_KEY_COUNTER","store","stringify","configuredCommandHistoryLength","workbench","commandPalette","history","DEFAULT_COMMANDS_HISTORY_LENGTH","IStorageService","HelpQuickAccessProvider","quickInputService","registry","Quickaccess","quickAccess","show","preserveValue","providerDescriptor","getQuickAccessProvider","getQuickAccessProviders","providerA","providerB","flatMap","provider","createPicks","helpEntries","helpEntry","IQuickInputService","QuickAccessController","mapProviderToDescriptor","lastAcceptedPickerValues","visibleQuickAccess","doShowOrPick","pick","_this$getOrInstantiat","getOrInstantiateProvider","_this$getOrInstantiat2","descriptor","visibleDescriptor","adjustValueSelection","newValue","newValueCandidateWithoutPrefix","defaultFilterValue","DefaultQuickAccessFilterValue","LAST","createQuickPick","placeholder","quickNavigate","quickNavigateConfiguration","hideInput","itemActivation","ItemActivation","SECOND","contextKey","filterValue","pickPromise","DeferredPromise","once","onWillAccept","veto","registerPickerListeners","providerOptions","cts","provide","onDidHide","complete","valueSelection","_this2$getOrInstantia","dom","QuickInputBox","parent","inputBoxStyles","toggleStyles","onKeyDown","addDisposableListener","findInput","inputElement","EventType","KEY_DOWN","onMouseDown","MOUSE_DOWN","StandardMouseEvent","onDidChange","setValue","range","select","isSelectionAtEnd","getAttribute","setPlaceHolder","setAriaLabel","password","toggleAttribute","toggles","setAdditionalToggles","removeAttribute","decoration","clearMessage","showMessage","content","stylesForType","layout","iconPathToClass","iconClassGenerator","IdGenerator","getIconClass","iconPath","iconClass","dark","nextId","createCSSRule","asCSSUrl","light","ListElement","init","hidden","_onChecked","onChecked","_checked","ListElementRenderer","ID","toDisposeElement","toDisposeTemplate","addStandardDisposableListener","CLICK","checkbox","offsetParent","preventDefault","CHANGE","checked","rows","row1","row2","IconLabel","supportHighlights","supportDescriptionHighlights","supportIcons","keybindingContainer","KeybindingLabel","detailContainer","separator","actionBar","ActionBar","domNode","mainItem","descriptionHighlights","detailHighlights","descriptionTitle","saneDescription","descriptionMatches","extraClasses","iconClasses","italic","strikethrough","setLabel","saneLabel","saneDetail","textContent","display","toggle","cssClasses","alwaysVisible","class","tooltip","run","fireButtonTriggered","fireSeparatorButtonTriggered","icon","QuickInputListFocus","ListElementDelegate","QuickInputList","inputElements","elementsToIndexes","matchOnLabelMode","matchOnMeta","_onChangedAllVisibleChecked","onChangedAllVisibleChecked","_onChangedCheckedCount","onChangedCheckedCount","_onChangedVisibleCount","onChangedVisibleCount","_onChangedCheckedElements","onChangedCheckedElements","_onButtonTriggered","onButtonTriggered","_onSeparatorButtonTriggered","onSeparatorButtonTriggered","_onKeyDown","_onLeave","onLeave","_fireCheckedEvents","elementDisposables","accessibilityProvider","QuickInputAccessibilityProvider","createList","identityProvider","getId","setRowLineHeight","toggleCheckbox","setFocus","focus1","focus2","x","y","onMouseMiddleClick","onContextMenu","setSelection","delayer","ThrottledDelayer","hoverDelegate","onMouseOver","HTMLAnchorElement","relatedTarget","isAncestor","showHover","onMouseOut","scrollTop","allVisibleChecked","whenNoneVisible","count","fireCheckedEvents","reduce","saneMeta","saneTooltip","previous","saneSortLabel","parseLabelWithIcons","text","meta","saneAriaLabel","getCodiconAriaLabel","hasCheckbox","getFocusedElements","focused","reveal","what","Second","First","focusFirst","focusNth","Last","scrollHeight","focusLast","Next","focusNext","firstVisibleIndex","Previous","focusPrevious","NextPage","focusNextPage","PreviousPage","focusPreviousPage","domFocus","_lastHover","isDisposed","onDidHideHover","linkHandler","url","linkOpenerDelegate","showPointer","hoverPosition","maxHeight","Math","floor","query","currentSeparator","queryWithWhitespace","matchesFuzzyIconAware","iconOffsets","matchesContiguous","wordToMatchAgainstWithoutIconsTrimmed","ltrim","leadingWhitespaceOffset","iconOffset","start","end","matchesContiguousIconAware","metaHighlights","alwaysShow","shownElements","normalizedSearchValue","elementA","elementB","lookFor","labelHighlightsA","labelHighlightsB","compareAnything","compareEntries","getAllVisibleChecked","allChecked","getCheckedCount","getCheckedElements","indexes","_toggleHover","word","wordToMatchAgainst","matchIndex","memoize","backButton","ThemeIcon","asClassName","Codicon","quickInputBack","handle","QuickInput","ui","visible","_busy","_ignoreFocusOut","_buttons","buttonsUpdated","_toggles","togglesUpdated","noValidationMessage","noPromptMessage","_severity","onDidTriggerButtonEmitter","onDidHideEmitter","onDisposeEmitter","visibleDisposables","_title","update","_description","_steps","_totalSteps","totalSteps","_contextKey","ignoreFocusOut","shouldUpdate","isIOS","_validationMessage","validationMessage","onDidTriggerButton","_lastValidationMessage","_lastSeverity","reason","QuickInputHideReason","Other","getTitle","innerHTML","innerText","getDescription","description1","description2","busyDelay","setIfNotSet","progressBar","infinite","leftActionBar","leftButtons","Action","rightActionBar","rightButtons","concreteToggles","opts","Toggle","setEnabled","setContextKey","reset","actionHandler","parsed","parseLinkedText","nodes","renderLabelWithIcons","anchor","textDecoration","onClick","onKeydown","onSpaceOrEnter","GestureEventType","isEventLike","appendChild","renderQuickInputDescription","showMessageDecoration","getSteps","showDecoration","color","foreground","backgroundColor","background","border","marginBottom","QuickPick","_QuickInput","onDidChangeValueEmitter","onWillAcceptEmitter","onDidAcceptEmitter","onDidCustomEmitter","_items","itemsUpdated","_canSelectMany","_canAcceptInBackground","_matchOnDescription","_matchOnDetail","_matchOnLabel","_matchOnLabelMode","_sortByLabel","_autoFocusOnList","_keepScrollPosition","_itemActivation","isScreenReaderOptimized","NONE","FIRST","_activeItems","activeItemsUpdated","activeItemsToConfirm","onDidChangeActiveEmitter","_selectedItems","selectedItemsUpdated","selectedItemsToConfirm","onDidChangeSelectionEmitter","onDidTriggerItemButtonEmitter","onDidTriggerSeparatorButtonEmitter","valueSelectionUpdated","_ok","_customButton","onDidChangeActive","onDidTriggerSeparatorButton","_quickNavigate","doSetValue","skipUpdate","trySelectFirst","_ariaLabel","_placeholder","canSelectMany","autoFocusOnList","NO_KEY_MODS","_valueSelection","showCustomButton","_customButtonLabel","_customButtonHover","hover","showOkButton","_hideInput","clearFocus","handleAccept","onDidCustom","focusedItems","setSelectedElements","MouseEvent","checkedItems","registerQuickNavigation","KEY_UP","keyboardEvent","keybindings","_k$getChords","_k$getChords2","scrollTopBefore","hasDescription","visibilities","checkAll","_hideCheckAll","checkBox","visibleCount","ok","customButton","setVisibilities","DEFAULT_ARIA_LABEL","setElements","setCount","getVisibleCount","setFocusedElements","setCheckedElements","customLabel","customHover","setComboboxAccessibility","InputBox","_QuickInput2","_password","onDidValueChangeEmitter","QuickInputController","comboboxAccessibility","ctrlCmd","alt","controller","onShowEmitter","onShow","onHideEmitter","onHide","idPrefix","parentElement","registerKeyModsListeners","window","styleSheet","titleBar","headerContainer","setAllVisibleChecked","extraContainer","filterContainer","visibleCountContainer","CountBadge","countFormat","countBadge","countContainer","okContainer","Button","onDidClick","customButtonContainer","ProgressBar","getContainer","setTimeout","getUI","getActiveDescendant","focusTracker","trackFocus","FOCUS","previousFocusElement","HTMLElement","Blur","selectors","isDisplayed","stops","querySelectorAll","toggleHover","CancellationToken","doResolve","onKeyMods","input","removeItem","onCancellationRequested","canPickMany","placeHolder","ignoreFocusLost","_ref2","_ref3","_activeItem","picked","oldController","didHide","backKeybindingLabel","updateLayout","viewItems","disabled","focusChanged","currentElement","returnFocus","dimension","titleBarOffset","top","width","min","MAX_WIDTH","marginLeft","height","_this$styles$widget","quickInputTitleBackground","quickInputBackground","quickInputForeground","widgetBorder","widgetShadow","boxShadow","pickerGroup","pickerGroupBorder","pickerGroupForeground","keybindingLabel","keybindingLabelBackground","keybindingLabelBorder","keybindingLabelBottomBorder","keybindingLabelShadow","keybindingLabelForeground","newStyles","QuickInputService","_Themable","themeService","accessibilityService","layoutService","_onShow","_onHide","contexts","_controller","createController","_quickAccess","host","defaultOptions","fromUserGesture","computeStyles","offset","quickPickTop","onDidLayout","resetContextKeys","createInputBox","hasController","applyStyles","asCssVariable","defaultInputBoxStyles","defaultToggleStyles","defaultCountBadgeStyles","defaultButtonStyles","defaultProgressBarStyles","defaultKeybindingLabelStyles","listBackground","listFocusBackground","quickInputListFocusBackground","listFocusForeground","quickInputListFocusForeground","listInactiveFocusForeground","listInactiveSelectionIconForeground","quickInputListFocusIconForeground","listInactiveFocusBackground","listFocusOutline","activeContrastBorder","listInactiveFocusOutline","Themable","IThemeService","IAccessibilityService","QuickAccessRegistry","providers","defaultProvider","coalesce","find","QuickPickItemScorerAccessor","RegistryImpl","Assert","Types","SeverityIcon","className","warning"],"sourceRoot":""}