{"version":3,"file":"static/js/monaco-editor-vendor.d5542c9c.3d5ccfa4.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/base/common/worker/simpleWorker.js","../node_modules/monaco-editor/esm/vs/base/parts/quickinput/browser/quickInputUtils.js","../node_modules/monaco-editor/esm/vs/base/parts/quickinput/browser/quickInputBox.js","../node_modules/monaco-editor/esm/vs/base/parts/quickinput/browser/quickInputList.js","../node_modules/monaco-editor/esm/vs/base/parts/quickinput/browser/quickInput.js","../node_modules/monaco-editor/esm/vs/base/parts/quickinput/common/quickInput.js","../node_modules/monaco-editor/esm/vs/base/parts/storage/common/storage.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { transformErrorForSerialization } from '../errors.js';\nimport { Emitter } from '../event.js';\nimport { Disposable } from '../lifecycle.js';\nimport { globals, isWeb } from '../platform.js';\nimport * as types from '../types.js';\nimport * as strings from '../strings.js';\nconst INITIALIZE = '$initialize';\nlet webWorkerWarningLogged = false;\nexport function logOnceWebWorkerWarning(err) {\n    if (!isWeb) {\n        // running tests\n        return;\n    }\n    if (!webWorkerWarningLogged) {\n        webWorkerWarningLogged = true;\n        console.warn('Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq');\n    }\n    console.warn(err.message);\n}\nclass RequestMessage {\n    constructor(vsWorker, req, method, args) {\n        this.vsWorker = vsWorker;\n        this.req = req;\n        this.method = method;\n        this.args = args;\n        this.type = 0 /* Request */;\n    }\n}\nclass ReplyMessage {\n    constructor(vsWorker, seq, res, err) {\n        this.vsWorker = vsWorker;\n        this.seq = seq;\n        this.res = res;\n        this.err = err;\n        this.type = 1 /* Reply */;\n    }\n}\nclass SubscribeEventMessage {\n    constructor(vsWorker, req, eventName, arg) {\n        this.vsWorker = vsWorker;\n        this.req = req;\n        this.eventName = eventName;\n        this.arg = arg;\n        this.type = 2 /* SubscribeEvent */;\n    }\n}\nclass EventMessage {\n    constructor(vsWorker, req, event) {\n        this.vsWorker = vsWorker;\n        this.req = req;\n        this.event = event;\n        this.type = 3 /* Event */;\n    }\n}\nclass UnsubscribeEventMessage {\n    constructor(vsWorker, req) {\n        this.vsWorker = vsWorker;\n        this.req = req;\n        this.type = 4 /* UnsubscribeEvent */;\n    }\n}\nclass SimpleWorkerProtocol {\n    constructor(handler) {\n        this._workerId = -1;\n        this._handler = handler;\n        this._lastSentReq = 0;\n        this._pendingReplies = Object.create(null);\n        this._pendingEmitters = new Map();\n        this._pendingEvents = new Map();\n    }\n    setWorkerId(workerId) {\n        this._workerId = workerId;\n    }\n    sendMessage(method, args) {\n        const req = String(++this._lastSentReq);\n        return new Promise((resolve, reject) => {\n            this._pendingReplies[req] = {\n                resolve: resolve,\n                reject: reject\n            };\n            this._send(new RequestMessage(this._workerId, req, method, args));\n        });\n    }\n    listen(eventName, arg) {\n        let req = null;\n        const emitter = new Emitter({\n            onFirstListenerAdd: () => {\n                req = String(++this._lastSentReq);\n                this._pendingEmitters.set(req, emitter);\n                this._send(new SubscribeEventMessage(this._workerId, req, eventName, arg));\n            },\n            onLastListenerRemove: () => {\n                this._pendingEmitters.delete(req);\n                this._send(new UnsubscribeEventMessage(this._workerId, req));\n                req = null;\n            }\n        });\n        return emitter.event;\n    }\n    handleMessage(message) {\n        if (!message || !message.vsWorker) {\n            return;\n        }\n        if (this._workerId !== -1 && message.vsWorker !== this._workerId) {\n            return;\n        }\n        this._handleMessage(message);\n    }\n    _handleMessage(msg) {\n        switch (msg.type) {\n            case 1 /* Reply */:\n                return this._handleReplyMessage(msg);\n            case 0 /* Request */:\n                return this._handleRequestMessage(msg);\n            case 2 /* SubscribeEvent */:\n                return this._handleSubscribeEventMessage(msg);\n            case 3 /* Event */:\n                return this._handleEventMessage(msg);\n            case 4 /* UnsubscribeEvent */:\n                return this._handleUnsubscribeEventMessage(msg);\n        }\n    }\n    _handleReplyMessage(replyMessage) {\n        if (!this._pendingReplies[replyMessage.seq]) {\n            console.warn('Got reply to unknown seq');\n            return;\n        }\n        let reply = this._pendingReplies[replyMessage.seq];\n        delete this._pendingReplies[replyMessage.seq];\n        if (replyMessage.err) {\n            let err = replyMessage.err;\n            if (replyMessage.err.$isError) {\n                err = new Error();\n                err.name = replyMessage.err.name;\n                err.message = replyMessage.err.message;\n                err.stack = replyMessage.err.stack;\n            }\n            reply.reject(err);\n            return;\n        }\n        reply.resolve(replyMessage.res);\n    }\n    _handleRequestMessage(requestMessage) {\n        let req = requestMessage.req;\n        let result = this._handler.handleMessage(requestMessage.method, requestMessage.args);\n        result.then((r) => {\n            this._send(new ReplyMessage(this._workerId, req, r, undefined));\n        }, (e) => {\n            if (e.detail instanceof Error) {\n                // Loading errors have a detail property that points to the actual error\n                e.detail = transformErrorForSerialization(e.detail);\n            }\n            this._send(new ReplyMessage(this._workerId, req, undefined, transformErrorForSerialization(e)));\n        });\n    }\n    _handleSubscribeEventMessage(msg) {\n        const req = msg.req;\n        const disposable = this._handler.handleEvent(msg.eventName, msg.arg)((event) => {\n            this._send(new EventMessage(this._workerId, req, event));\n        });\n        this._pendingEvents.set(req, disposable);\n    }\n    _handleEventMessage(msg) {\n        if (!this._pendingEmitters.has(msg.req)) {\n            console.warn('Got event for unknown req');\n            return;\n        }\n        this._pendingEmitters.get(msg.req).fire(msg.event);\n    }\n    _handleUnsubscribeEventMessage(msg) {\n        if (!this._pendingEvents.has(msg.req)) {\n            console.warn('Got unsubscribe for unknown req');\n            return;\n        }\n        this._pendingEvents.get(msg.req).dispose();\n        this._pendingEvents.delete(msg.req);\n    }\n    _send(msg) {\n        let transfer = [];\n        if (msg.type === 0 /* Request */) {\n            for (let i = 0; i < msg.args.length; i++) {\n                if (msg.args[i] instanceof ArrayBuffer) {\n                    transfer.push(msg.args[i]);\n                }\n            }\n        }\n        else if (msg.type === 1 /* Reply */) {\n            if (msg.res instanceof ArrayBuffer) {\n                transfer.push(msg.res);\n            }\n        }\n        this._handler.sendMessage(msg, transfer);\n    }\n}\n/**\n * Main thread side\n */\nexport class SimpleWorkerClient extends Disposable {\n    constructor(workerFactory, moduleId, host) {\n        super();\n        let lazyProxyReject = null;\n        this._worker = this._register(workerFactory.create('vs/base/common/worker/simpleWorker', (msg) => {\n            this._protocol.handleMessage(msg);\n        }, (err) => {\n            // in Firefox, web workers fail lazily :(\n            // we will reject the proxy\n            if (lazyProxyReject) {\n                lazyProxyReject(err);\n            }\n        }));\n        this._protocol = new SimpleWorkerProtocol({\n            sendMessage: (msg, transfer) => {\n                this._worker.postMessage(msg, transfer);\n            },\n            handleMessage: (method, args) => {\n                if (typeof host[method] !== 'function') {\n                    return Promise.reject(new Error('Missing method ' + method + ' on main thread host.'));\n                }\n                try {\n                    return Promise.resolve(host[method].apply(host, args));\n                }\n                catch (e) {\n                    return Promise.reject(e);\n                }\n            },\n            handleEvent: (eventName, arg) => {\n                if (propertyIsDynamicEvent(eventName)) {\n                    const event = host[eventName].call(host, arg);\n                    if (typeof event !== 'function') {\n                        throw new Error(`Missing dynamic event ${eventName} on main thread host.`);\n                    }\n                    return event;\n                }\n                if (propertyIsEvent(eventName)) {\n                    const event = host[eventName];\n                    if (typeof event !== 'function') {\n                        throw new Error(`Missing event ${eventName} on main thread host.`);\n                    }\n                    return event;\n                }\n                throw new Error(`Malformed event name ${eventName}`);\n            }\n        });\n        this._protocol.setWorkerId(this._worker.getId());\n        // Gather loader configuration\n        let loaderConfiguration = null;\n        if (typeof globals.require !== 'undefined' && typeof globals.require.getConfig === 'function') {\n            // Get the configuration from the Monaco AMD Loader\n            loaderConfiguration = globals.require.getConfig();\n        }\n        else if (typeof globals.requirejs !== 'undefined') {\n            // Get the configuration from requirejs\n            loaderConfiguration = globals.requirejs.s.contexts._.config;\n        }\n        const hostMethods = types.getAllMethodNames(host);\n        // Send initialize message\n        this._onModuleLoaded = this._protocol.sendMessage(INITIALIZE, [\n            this._worker.getId(),\n            JSON.parse(JSON.stringify(loaderConfiguration)),\n            moduleId,\n            hostMethods,\n        ]);\n        // Create proxy to loaded code\n        const proxyMethodRequest = (method, args) => {\n            return this._request(method, args);\n        };\n        const proxyListen = (eventName, arg) => {\n            return this._protocol.listen(eventName, arg);\n        };\n        this._lazyProxy = new Promise((resolve, reject) => {\n            lazyProxyReject = reject;\n            this._onModuleLoaded.then((availableMethods) => {\n                resolve(createProxyObject(availableMethods, proxyMethodRequest, proxyListen));\n            }, (e) => {\n                reject(e);\n                this._onError('Worker failed to load ' + moduleId, e);\n            });\n        });\n    }\n    getProxyObject() {\n        return this._lazyProxy;\n    }\n    _request(method, args) {\n        return new Promise((resolve, reject) => {\n            this._onModuleLoaded.then(() => {\n                this._protocol.sendMessage(method, args).then(resolve, reject);\n            }, reject);\n        });\n    }\n    _onError(message, error) {\n        console.error(message);\n        console.info(error);\n    }\n}\nfunction propertyIsEvent(name) {\n    // Assume a property is an event if it has a form of \"onSomething\"\n    return name[0] === 'o' && name[1] === 'n' && strings.isUpperAsciiLetter(name.charCodeAt(2));\n}\nfunction propertyIsDynamicEvent(name) {\n    // Assume a property is a dynamic event (a method that returns an event) if it has a form of \"onDynamicSomething\"\n    return /^onDynamic/.test(name) && strings.isUpperAsciiLetter(name.charCodeAt(9));\n}\nfunction createProxyObject(methodNames, invoke, proxyListen) {\n    const createProxyMethod = (method) => {\n        return function () {\n            const args = Array.prototype.slice.call(arguments, 0);\n            return invoke(method, args);\n        };\n    };\n    const createProxyDynamicEvent = (eventName) => {\n        return function (arg) {\n            return proxyListen(eventName, arg);\n        };\n    };\n    let result = {};\n    for (const methodName of methodNames) {\n        if (propertyIsDynamicEvent(methodName)) {\n            result[methodName] = createProxyDynamicEvent(methodName);\n            continue;\n        }\n        if (propertyIsEvent(methodName)) {\n            result[methodName] = proxyListen(methodName, undefined);\n            continue;\n        }\n        result[methodName] = createProxyMethod(methodName);\n    }\n    return result;\n}\n/**\n * Worker side\n */\nexport class SimpleWorkerServer {\n    constructor(postMessage, requestHandlerFactory) {\n        this._requestHandlerFactory = requestHandlerFactory;\n        this._requestHandler = null;\n        this._protocol = new SimpleWorkerProtocol({\n            sendMessage: (msg, transfer) => {\n                postMessage(msg, transfer);\n            },\n            handleMessage: (method, args) => this._handleMessage(method, args),\n            handleEvent: (eventName, arg) => this._handleEvent(eventName, arg)\n        });\n    }\n    onmessage(msg) {\n        this._protocol.handleMessage(msg);\n    }\n    _handleMessage(method, args) {\n        if (method === INITIALIZE) {\n            return this.initialize(args[0], args[1], args[2], args[3]);\n        }\n        if (!this._requestHandler || typeof this._requestHandler[method] !== 'function') {\n            return Promise.reject(new Error('Missing requestHandler or method: ' + method));\n        }\n        try {\n            return Promise.resolve(this._requestHandler[method].apply(this._requestHandler, args));\n        }\n        catch (e) {\n            return Promise.reject(e);\n        }\n    }\n    _handleEvent(eventName, arg) {\n        if (!this._requestHandler) {\n            throw new Error(`Missing requestHandler`);\n        }\n        if (propertyIsDynamicEvent(eventName)) {\n            const event = this._requestHandler[eventName].call(this._requestHandler, arg);\n            if (typeof event !== 'function') {\n                throw new Error(`Missing dynamic event ${eventName} on request handler.`);\n            }\n            return event;\n        }\n        if (propertyIsEvent(eventName)) {\n            const event = this._requestHandler[eventName];\n            if (typeof event !== 'function') {\n                throw new Error(`Missing event ${eventName} on request handler.`);\n            }\n            return event;\n        }\n        throw new Error(`Malformed event name ${eventName}`);\n    }\n    initialize(workerId, loaderConfig, moduleId, hostMethods) {\n        this._protocol.setWorkerId(workerId);\n        const proxyMethodRequest = (method, args) => {\n            return this._protocol.sendMessage(method, args);\n        };\n        const proxyListen = (eventName, arg) => {\n            return this._protocol.listen(eventName, arg);\n        };\n        const hostProxy = createProxyObject(hostMethods, proxyMethodRequest, proxyListen);\n        if (this._requestHandlerFactory) {\n            // static request handler\n            this._requestHandler = this._requestHandlerFactory(hostProxy);\n            return Promise.resolve(types.getAllMethodNames(this._requestHandler));\n        }\n        if (loaderConfig) {\n            // Remove 'baseUrl', handling it is beyond scope for now\n            if (typeof loaderConfig.baseUrl !== 'undefined') {\n                delete loaderConfig['baseUrl'];\n            }\n            if (typeof loaderConfig.paths !== 'undefined') {\n                if (typeof loaderConfig.paths.vs !== 'undefined') {\n                    delete loaderConfig.paths['vs'];\n                }\n            }\n            if (typeof loaderConfig.trustedTypesPolicy !== undefined) {\n                // don't use, it has been destroyed during serialize\n                delete loaderConfig['trustedTypesPolicy'];\n            }\n            // Since this is in a web worker, enable catching errors\n            loaderConfig.catchError = true;\n            globals.require.config(loaderConfig);\n        }\n        return new Promise((resolve, reject) => {\n            // Use the global require to be sure to get the global config\n            // ESM-comment-begin\n            // \t\t\tconst req = (globals.require || require);\n            // ESM-comment-end\n            // ESM-uncomment-begin\n            const req = globals.require;\n            // ESM-uncomment-end\n            req([moduleId], (module) => {\n                this._requestHandler = module.create(hostProxy);\n                if (!this._requestHandler) {\n                    reject(new Error(`No RequestHandler!`));\n                    return;\n                }\n                resolve(types.getAllMethodNames(this._requestHandler));\n            }, reject);\n        });\n    }\n}\n/**\n * Called on the worker side\n */\nexport function create(postMessage) {\n    return new SimpleWorkerServer(postMessage, null);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../browser/dom.js';\nimport { IdGenerator } from '../../../common/idGenerator.js';\nimport './media/quickInput.css';\nconst iconPathToClass = {};\nconst iconClassGenerator = new IdGenerator('quick-input-button-icon-');\nexport function getIconClass(iconPath) {\n    if (!iconPath) {\n        return undefined;\n    }\n    let iconClass;\n    const key = iconPath.dark.toString();\n    if (iconPathToClass[key]) {\n        iconClass = iconPathToClass[key];\n    }\n    else {\n        iconClass = iconClassGenerator.nextId();\n        dom.createCSSRule(`.${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.light || iconPath.dark)}`);\n        dom.createCSSRule(`.vs-dark .${iconClass}, .hc-black .${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.dark)}`);\n        iconPathToClass[key] = iconClass;\n    }\n    return iconClass;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../browser/keyboardEvent.js';\nimport { StandardMouseEvent } from '../../../browser/mouseEvent.js';\nimport { InputBox } from '../../../browser/ui/inputbox/inputBox.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport Severity from '../../../common/severity.js';\nimport './media/quickInput.css';\nconst $ = dom.$;\nexport class QuickInputBox extends Disposable {\n    constructor(parent) {\n        super();\n        this.parent = parent;\n        this.onKeyDown = (handler) => {\n            return dom.addDisposableListener(this.inputBox.inputElement, dom.EventType.KEY_DOWN, (e) => {\n                handler(new StandardKeyboardEvent(e));\n            });\n        };\n        this.onMouseDown = (handler) => {\n            return dom.addDisposableListener(this.inputBox.inputElement, dom.EventType.MOUSE_DOWN, (e) => {\n                handler(new StandardMouseEvent(e));\n            });\n        };\n        this.onDidChange = (handler) => {\n            return this.inputBox.onDidChange(handler);\n        };\n        this.container = dom.append(this.parent, $('.quick-input-box'));\n        this.inputBox = this._register(new InputBox(this.container, undefined));\n    }\n    get value() {\n        return this.inputBox.value;\n    }\n    set value(value) {\n        this.inputBox.value = value;\n    }\n    select(range = null) {\n        this.inputBox.select(range);\n    }\n    isSelectionAtEnd() {\n        return this.inputBox.isSelectionAtEnd();\n    }\n    get placeholder() {\n        return this.inputBox.inputElement.getAttribute('placeholder') || '';\n    }\n    set placeholder(placeholder) {\n        this.inputBox.setPlaceHolder(placeholder);\n    }\n    get ariaLabel() {\n        return this.inputBox.getAriaLabel();\n    }\n    set ariaLabel(ariaLabel) {\n        this.inputBox.setAriaLabel(ariaLabel);\n    }\n    get password() {\n        return this.inputBox.inputElement.type === 'password';\n    }\n    set password(password) {\n        this.inputBox.inputElement.type = password ? 'password' : 'text';\n    }\n    setAttribute(name, value) {\n        this.inputBox.inputElement.setAttribute(name, value);\n    }\n    removeAttribute(name) {\n        this.inputBox.inputElement.removeAttribute(name);\n    }\n    showDecoration(decoration) {\n        if (decoration === Severity.Ignore) {\n            this.inputBox.hideMessage();\n        }\n        else {\n            this.inputBox.showMessage({ type: decoration === Severity.Info ? 1 /* INFO */ : decoration === Severity.Warning ? 2 /* WARNING */ : 3 /* ERROR */, content: '' });\n        }\n    }\n    stylesForType(decoration) {\n        return this.inputBox.stylesForType(decoration === Severity.Info ? 1 /* INFO */ : decoration === Severity.Warning ? 2 /* WARNING */ : 3 /* ERROR */);\n    }\n    setFocus() {\n        this.inputBox.focus();\n    }\n    layout() {\n        this.inputBox.layout();\n    }\n    style(styles) {\n        this.inputBox.style(styles);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../browser/keyboardEvent.js';\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\nimport { IconLabel } from '../../../browser/ui/iconLabel/iconLabel.js';\nimport { KeybindingLabel } from '../../../browser/ui/keybindingLabel/keybindingLabel.js';\nimport { Action } from '../../../common/actions.js';\nimport { range } from '../../../common/arrays.js';\nimport { getCodiconAriaLabel } from '../../../common/codicons.js';\nimport { compareAnything } from '../../../common/comparers.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { matchesFuzzyIconAware, parseLabelWithIcons } from '../../../common/iconLabels.js';\nimport { dispose } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { withNullAsUndefined } from '../../../common/types.js';\nimport { getIconClass } from './quickInputUtils.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nclass ListElement {\n    constructor(init) {\n        this.hidden = false;\n        this._onChecked = new Emitter();\n        this.onChecked = this._onChecked.event;\n        Object.assign(this, init);\n    }\n    get checked() {\n        return !!this._checked;\n    }\n    set checked(value) {\n        if (value !== this._checked) {\n            this._checked = value;\n            this._onChecked.fire(value);\n        }\n    }\n    dispose() {\n        this._onChecked.dispose();\n    }\n}\nclass ListElementRenderer {\n    get templateId() {\n        return ListElementRenderer.ID;\n    }\n    renderTemplate(container) {\n        const data = Object.create(null);\n        data.toDisposeElement = [];\n        data.toDisposeTemplate = [];\n        data.entry = dom.append(container, $('.quick-input-list-entry'));\n        // Checkbox\n        const label = dom.append(data.entry, $('label.quick-input-list-label'));\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(label, dom.EventType.CLICK, e => {\n            if (!data.checkbox.offsetParent) { // If checkbox not visible:\n                e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n            }\n        }));\n        data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n        data.checkbox.type = 'checkbox';\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {\n            data.element.checked = data.checkbox.checked;\n        }));\n        // Rows\n        const rows = dom.append(label, $('.quick-input-list-rows'));\n        const row1 = dom.append(rows, $('.quick-input-list-row'));\n        const row2 = dom.append(rows, $('.quick-input-list-row'));\n        // Label\n        data.label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportIcons: true });\n        // Keybinding\n        const keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n        data.keybinding = new KeybindingLabel(keybindingContainer, platform.OS);\n        // Detail\n        const detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n        data.detail = new IconLabel(detailContainer, { supportHighlights: true, supportIcons: true });\n        // Separator\n        data.separator = dom.append(data.entry, $('.quick-input-list-separator'));\n        // Actions\n        data.actionBar = new ActionBar(data.entry);\n        data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n        data.toDisposeTemplate.push(data.actionBar);\n        return data;\n    }\n    renderElement(element, index, data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.element = element;\n        data.checkbox.checked = element.checked;\n        data.toDisposeElement.push(element.onChecked(checked => data.checkbox.checked = checked));\n        const { labelHighlights, descriptionHighlights, detailHighlights } = element;\n        // Label\n        const options = Object.create(null);\n        options.matches = labelHighlights || [];\n        options.descriptionTitle = element.saneDescription;\n        options.descriptionMatches = descriptionHighlights || [];\n        options.extraClasses = element.item.iconClasses;\n        options.italic = element.item.italic;\n        options.strikethrough = element.item.strikethrough;\n        data.label.setLabel(element.saneLabel, element.saneDescription, options);\n        // Keybinding\n        data.keybinding.set(element.item.keybinding);\n        // Meta\n        if (element.saneDetail) {\n            data.detail.setLabel(element.saneDetail, undefined, {\n                matches: detailHighlights,\n                title: element.saneDetail\n            });\n        }\n        // Separator\n        if (element.separator && element.separator.label) {\n            data.separator.textContent = element.separator.label;\n            data.separator.style.display = '';\n        }\n        else {\n            data.separator.style.display = 'none';\n        }\n        data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator);\n        // Actions\n        data.actionBar.clear();\n        const buttons = element.item.buttons;\n        if (buttons && buttons.length) {\n            data.actionBar.push(buttons.map((button, index) => {\n                let cssClasses = button.iconClass || (button.iconPath ? getIconClass(button.iconPath) : undefined);\n                if (button.alwaysVisible) {\n                    cssClasses = cssClasses ? `${cssClasses} always-visible` : 'always-visible';\n                }\n                const action = new Action(`id-${index}`, '', cssClasses, true, () => __awaiter(this, void 0, void 0, function* () {\n                    element.fireButtonTriggered({\n                        button,\n                        item: element.item\n                    });\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n            data.entry.classList.add('has-actions');\n        }\n        else {\n            data.entry.classList.remove('has-actions');\n        }\n    }\n    disposeElement(element, index, data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n    }\n    disposeTemplate(data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.toDisposeTemplate = dispose(data.toDisposeTemplate);\n    }\n}\nListElementRenderer.ID = 'listelement';\nclass ListElementDelegate {\n    getHeight(element) {\n        return element.saneDetail ? 44 : 22;\n    }\n    getTemplateId(element) {\n        return ListElementRenderer.ID;\n    }\n}\nexport var QuickInputListFocus;\n(function (QuickInputListFocus) {\n    QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n    QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n    QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n    QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n    QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n    QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n    QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\nexport class QuickInputList {\n    constructor(parent, id, options) {\n        this.parent = parent;\n        this.inputElements = [];\n        this.elements = [];\n        this.elementsToIndexes = new Map();\n        this.matchOnDescription = false;\n        this.matchOnDetail = false;\n        this.matchOnLabel = true;\n        this.matchOnMeta = true;\n        this.sortByLabel = true;\n        this._onChangedAllVisibleChecked = new Emitter();\n        this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\n        this._onChangedCheckedCount = new Emitter();\n        this.onChangedCheckedCount = this._onChangedCheckedCount.event;\n        this._onChangedVisibleCount = new Emitter();\n        this.onChangedVisibleCount = this._onChangedVisibleCount.event;\n        this._onChangedCheckedElements = new Emitter();\n        this.onChangedCheckedElements = this._onChangedCheckedElements.event;\n        this._onButtonTriggered = new Emitter();\n        this.onButtonTriggered = this._onButtonTriggered.event;\n        this._onKeyDown = new Emitter();\n        this.onKeyDown = this._onKeyDown.event;\n        this._onLeave = new Emitter();\n        this.onLeave = this._onLeave.event;\n        this._fireCheckedEvents = true;\n        this.elementDisposables = [];\n        this.disposables = [];\n        this.id = id;\n        this.container = dom.append(this.parent, $('.quick-input-list'));\n        const delegate = new ListElementDelegate();\n        const accessibilityProvider = new QuickInputAccessibilityProvider();\n        this.list = options.createList('QuickInput', this.container, delegate, [new ListElementRenderer()], {\n            identityProvider: { getId: element => element.saneLabel },\n            setRowLineHeight: false,\n            multipleSelectionSupport: false,\n            horizontalScrolling: false,\n            accessibilityProvider\n        });\n        this.list.getHTMLElement().id = id;\n        this.disposables.push(this.list);\n        this.disposables.push(this.list.onKeyDown(e => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 10 /* Space */:\n                    this.toggleCheckbox();\n                    break;\n                case 31 /* KeyA */:\n                    if (platform.isMacintosh ? e.metaKey : e.ctrlKey) {\n                        this.list.setFocus(range(this.list.length));\n                    }\n                    break;\n                case 16 /* UpArrow */: {\n                    const focus1 = this.list.getFocus();\n                    if (focus1.length === 1 && focus1[0] === 0) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n                case 18 /* DownArrow */: {\n                    const focus2 = this.list.getFocus();\n                    if (focus2.length === 1 && focus2[0] === this.list.length - 1) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n            }\n            this._onKeyDown.fire(event);\n        }));\n        this.disposables.push(this.list.onMouseDown(e => {\n            if (e.browserEvent.button !== 2) {\n                // Works around / fixes #64350.\n                e.browserEvent.preventDefault();\n            }\n        }));\n        this.disposables.push(dom.addDisposableListener(this.container, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space' on checkbox.\n                this._onLeave.fire();\n            }\n        }));\n        this.disposables.push(this.list.onMouseMiddleClick(e => {\n            this._onLeave.fire();\n        }));\n        this.disposables.push(this.list.onContextMenu(e => {\n            if (typeof e.index === 'number') {\n                e.browserEvent.preventDefault();\n                // we want to treat a context menu event as\n                // a gesture to open the item at the index\n                // since we do not have any context menu\n                // this enables for example macOS to Ctrl-\n                // click on an item to open it.\n                this.list.setSelection([e.index]);\n            }\n        }));\n        this.disposables.push(this._onChangedAllVisibleChecked, this._onChangedCheckedCount, this._onChangedVisibleCount, this._onChangedCheckedElements, this._onButtonTriggered, this._onLeave, this._onKeyDown);\n    }\n    get onDidChangeFocus() {\n        return Event.map(this.list.onDidChangeFocus, e => e.elements.map(e => e.item));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, e => ({ items: e.elements.map(e => e.item), event: e.browserEvent }));\n    }\n    get scrollTop() {\n        return this.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.list.scrollTop = scrollTop;\n    }\n    getAllVisibleChecked() {\n        return this.allVisibleChecked(this.elements, false);\n    }\n    allVisibleChecked(elements, whenNoneVisible = true) {\n        for (let i = 0, n = elements.length; i < n; i++) {\n            const element = elements[i];\n            if (!element.hidden) {\n                if (!element.checked) {\n                    return false;\n                }\n                else {\n                    whenNoneVisible = true;\n                }\n            }\n        }\n        return whenNoneVisible;\n    }\n    getCheckedCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (elements[i].checked) {\n                count++;\n            }\n        }\n        return count;\n    }\n    getVisibleCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (!elements[i].hidden) {\n                count++;\n            }\n        }\n        return count;\n    }\n    setAllVisibleChecked(checked) {\n        try {\n            this._fireCheckedEvents = false;\n            this.elements.forEach(element => {\n                if (!element.hidden) {\n                    element.checked = checked;\n                }\n            });\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    setElements(inputElements) {\n        this.elementDisposables = dispose(this.elementDisposables);\n        const fireButtonTriggered = (event) => this.fireButtonTriggered(event);\n        this.inputElements = inputElements;\n        this.elements = inputElements.reduce((result, item, index) => {\n            var _a, _b, _c;\n            if (item.type !== 'separator') {\n                const previous = index && inputElements[index - 1];\n                const saneLabel = item.label && item.label.replace(/\\r?\\n/g, ' ');\n                const saneMeta = item.meta && item.meta.replace(/\\r?\\n/g, ' ');\n                const saneDescription = item.description && item.description.replace(/\\r?\\n/g, ' ');\n                const saneDetail = item.detail && item.detail.replace(/\\r?\\n/g, ' ');\n                const saneAriaLabel = item.ariaLabel || [saneLabel, saneDescription, saneDetail]\n                    .map(s => getCodiconAriaLabel(s))\n                    .filter(s => !!s)\n                    .join(', ');\n                result.push(new ListElement({\n                    index,\n                    item,\n                    saneLabel,\n                    saneMeta,\n                    saneAriaLabel,\n                    saneDescription,\n                    saneDetail,\n                    labelHighlights: (_a = item.highlights) === null || _a === void 0 ? void 0 : _a.label,\n                    descriptionHighlights: (_b = item.highlights) === null || _b === void 0 ? void 0 : _b.description,\n                    detailHighlights: (_c = item.highlights) === null || _c === void 0 ? void 0 : _c.detail,\n                    checked: false,\n                    separator: previous && previous.type === 'separator' ? previous : undefined,\n                    fireButtonTriggered\n                }));\n            }\n            return result;\n        }, []);\n        this.elementDisposables.push(...this.elements);\n        this.elementDisposables.push(...this.elements.map(element => element.onChecked(() => this.fireCheckedEvents())));\n        this.elementsToIndexes = this.elements.reduce((map, element, index) => {\n            map.set(element.item, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length); // Clear focus and selection first, sending the events when the list is empty.\n        this.list.splice(0, this.list.length, this.elements);\n        this._onChangedVisibleCount.fire(this.elements.length);\n    }\n    getFocusedElements() {\n        return this.list.getFocusedElements()\n            .map(e => e.item);\n    }\n    setFocusedElements(items) {\n        this.list.setFocus(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n        if (items.length > 0) {\n            const focused = this.list.getFocus()[0];\n            if (typeof focused === 'number') {\n                this.list.reveal(focused);\n            }\n        }\n    }\n    getActiveDescendant() {\n        return this.list.getHTMLElement().getAttribute('aria-activedescendant');\n    }\n    setSelectedElements(items) {\n        this.list.setSelection(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n    }\n    getCheckedElements() {\n        return this.elements.filter(e => e.checked)\n            .map(e => e.item);\n    }\n    setCheckedElements(items) {\n        try {\n            this._fireCheckedEvents = false;\n            const checked = new Set();\n            for (const item of items) {\n                checked.add(item);\n            }\n            for (const element of this.elements) {\n                element.checked = checked.has(element.item);\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    set enabled(value) {\n        this.list.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n    }\n    focus(what) {\n        if (!this.list.length) {\n            return;\n        }\n        if (what === QuickInputListFocus.Next && this.list.getFocus()[0] === this.list.length - 1) {\n            what = QuickInputListFocus.First;\n        }\n        if (what === QuickInputListFocus.Previous && this.list.getFocus()[0] === 0) {\n            what = QuickInputListFocus.Last;\n        }\n        if (what === QuickInputListFocus.Second && this.list.length < 2) {\n            what = QuickInputListFocus.First;\n        }\n        switch (what) {\n            case QuickInputListFocus.First:\n                this.list.focusFirst();\n                break;\n            case QuickInputListFocus.Second:\n                this.list.focusNth(1);\n                break;\n            case QuickInputListFocus.Last:\n                this.list.focusLast();\n                break;\n            case QuickInputListFocus.Next:\n                this.list.focusNext();\n                break;\n            case QuickInputListFocus.Previous:\n                this.list.focusPrevious();\n                break;\n            case QuickInputListFocus.NextPage:\n                this.list.focusNextPage();\n                break;\n            case QuickInputListFocus.PreviousPage:\n                this.list.focusPreviousPage();\n                break;\n        }\n        const focused = this.list.getFocus()[0];\n        if (typeof focused === 'number') {\n            this.list.reveal(focused);\n        }\n    }\n    clearFocus() {\n        this.list.setFocus([]);\n    }\n    domFocus() {\n        this.list.domFocus();\n    }\n    layout(maxHeight) {\n        this.list.getHTMLElement().style.maxHeight = maxHeight ? `calc(${Math.floor(maxHeight / 44) * 44}px)` : '';\n        this.list.layout();\n    }\n    filter(query) {\n        if (!(this.sortByLabel || this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.list.layout();\n            return false;\n        }\n        query = query.trim();\n        // Reset filtering\n        if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.elements.forEach(element => {\n                element.labelHighlights = undefined;\n                element.descriptionHighlights = undefined;\n                element.detailHighlights = undefined;\n                element.hidden = false;\n                const previous = element.index && this.inputElements[element.index - 1];\n                element.separator = previous && previous.type === 'separator' ? previous : undefined;\n            });\n        }\n        // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n        else {\n            let currentSeparator;\n            this.elements.forEach(element => {\n                const labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) : undefined;\n                const descriptionHighlights = this.matchOnDescription ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) : undefined;\n                const detailHighlights = this.matchOnDetail ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) : undefined;\n                const metaHighlights = this.matchOnMeta ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneMeta || ''))) : undefined;\n                if (labelHighlights || descriptionHighlights || detailHighlights || metaHighlights) {\n                    element.labelHighlights = labelHighlights;\n                    element.descriptionHighlights = descriptionHighlights;\n                    element.detailHighlights = detailHighlights;\n                    element.hidden = false;\n                }\n                else {\n                    element.labelHighlights = undefined;\n                    element.descriptionHighlights = undefined;\n                    element.detailHighlights = undefined;\n                    element.hidden = !element.item.alwaysShow;\n                }\n                element.separator = undefined;\n                // we can show the separator unless the list gets sorted by match\n                if (!this.sortByLabel) {\n                    const previous = element.index && this.inputElements[element.index - 1];\n                    currentSeparator = previous && previous.type === 'separator' ? previous : currentSeparator;\n                    if (currentSeparator && !element.hidden) {\n                        element.separator = currentSeparator;\n                        currentSeparator = undefined;\n                    }\n                }\n            });\n        }\n        const shownElements = this.elements.filter(element => !element.hidden);\n        // Sort by value\n        if (this.sortByLabel && query) {\n            const normalizedSearchValue = query.toLowerCase();\n            shownElements.sort((a, b) => {\n                return compareEntries(a, b, normalizedSearchValue);\n            });\n        }\n        this.elementsToIndexes = shownElements.reduce((map, element, index) => {\n            map.set(element.item, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length, shownElements);\n        this.list.setFocus([]);\n        this.list.layout();\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n        this._onChangedVisibleCount.fire(shownElements.length);\n        return true;\n    }\n    toggleCheckbox() {\n        try {\n            this._fireCheckedEvents = false;\n            const elements = this.list.getFocusedElements();\n            const allChecked = this.allVisibleChecked(elements);\n            for (const element of elements) {\n                element.checked = !allChecked;\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    display(display) {\n        this.container.style.display = display ? '' : 'none';\n    }\n    isDisplayed() {\n        return this.container.style.display !== 'none';\n    }\n    dispose() {\n        this.elementDisposables = dispose(this.elementDisposables);\n        this.disposables = dispose(this.disposables);\n    }\n    fireCheckedEvents() {\n        if (this._fireCheckedEvents) {\n            this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n            this._onChangedCheckedCount.fire(this.getCheckedCount());\n            this._onChangedCheckedElements.fire(this.getCheckedElements());\n        }\n    }\n    fireButtonTriggered(event) {\n        this._onButtonTriggered.fire(event);\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n}\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeSelection\", null);\nfunction compareEntries(elementA, elementB, lookFor) {\n    const labelHighlightsA = elementA.labelHighlights || [];\n    const labelHighlightsB = elementB.labelHighlights || [];\n    if (labelHighlightsA.length && !labelHighlightsB.length) {\n        return -1;\n    }\n    if (!labelHighlightsA.length && labelHighlightsB.length) {\n        return 1;\n    }\n    if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n        return 0;\n    }\n    return compareAnything(elementA.saneLabel, elementB.saneLabel, lookFor);\n}\nclass QuickInputAccessibilityProvider {\n    getWidgetAriaLabel() {\n        return localize('quickInput', \"Quick Input\");\n    }\n    getAriaLabel(element) {\n        return element.saneAriaLabel;\n    }\n    getWidgetRole() {\n        return 'listbox';\n    }\n    getRole() {\n        return 'option';\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../browser/keyboardEvent.js';\nimport { ActionBar } from '../../../browser/ui/actionbar/actionbar.js';\nimport { Button } from '../../../browser/ui/button/button.js';\nimport { CountBadge } from '../../../browser/ui/countBadge/countBadge.js';\nimport { renderLabelWithIcons } from '../../../browser/ui/iconLabel/iconLabels.js';\nimport { ProgressBar } from '../../../browser/ui/progressbar/progressbar.js';\nimport { Action } from '../../../common/actions.js';\nimport { equals } from '../../../common/arrays.js';\nimport { TimeoutTimer } from '../../../common/async.js';\nimport { CancellationToken } from '../../../common/cancellation.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport { Emitter } from '../../../common/event.js';\nimport { Disposable, DisposableStore, dispose } from '../../../common/lifecycle.js';\nimport { isIOS } from '../../../common/platform.js';\nimport Severity from '../../../common/severity.js';\nimport { withNullAsUndefined } from '../../../common/types.js';\nimport { getIconClass } from './quickInputUtils.js';\nimport { ItemActivation, NO_KEY_MODS, QuickInputHideReason } from '../common/quickInput.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../../nls.js';\nimport { QuickInputBox } from './quickInputBox.js';\nimport { QuickInputList, QuickInputListFocus } from './quickInputList.js';\nconst $ = dom.$;\nconst backButton = {\n    iconClass: Codicon.quickInputBack.classNames,\n    tooltip: localize('quickInput.back', \"Back\"),\n    handle: -1 // TODO\n};\nclass QuickInput extends Disposable {\n    constructor(ui) {\n        super();\n        this.ui = ui;\n        this.visible = false;\n        this._enabled = true;\n        this._busy = false;\n        this._ignoreFocusOut = false;\n        this._buttons = [];\n        this.noValidationMessage = QuickInput.noPromptMessage;\n        this._severity = Severity.Ignore;\n        this.buttonsUpdated = false;\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.onDidHideEmitter = this._register(new Emitter());\n        this.onDisposeEmitter = this._register(new Emitter());\n        this.visibleDisposables = this._register(new DisposableStore());\n        this.onDidHide = this.onDidHideEmitter.event;\n    }\n    get title() {\n        return this._title;\n    }\n    set title(title) {\n        this._title = title;\n        this.update();\n    }\n    get description() {\n        return this._description;\n    }\n    set description(description) {\n        this._description = description;\n        this.update();\n    }\n    get step() {\n        return this._steps;\n    }\n    set step(step) {\n        this._steps = step;\n        this.update();\n    }\n    get totalSteps() {\n        return this._totalSteps;\n    }\n    set totalSteps(totalSteps) {\n        this._totalSteps = totalSteps;\n        this.update();\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(enabled) {\n        this._enabled = enabled;\n        this.update();\n    }\n    get contextKey() {\n        return this._contextKey;\n    }\n    set contextKey(contextKey) {\n        this._contextKey = contextKey;\n        this.update();\n    }\n    get busy() {\n        return this._busy;\n    }\n    set busy(busy) {\n        this._busy = busy;\n        this.update();\n    }\n    get ignoreFocusOut() {\n        return this._ignoreFocusOut;\n    }\n    set ignoreFocusOut(ignoreFocusOut) {\n        const shouldUpdate = this._ignoreFocusOut !== ignoreFocusOut && !isIOS;\n        this._ignoreFocusOut = ignoreFocusOut && !isIOS;\n        if (shouldUpdate) {\n            this.update();\n        }\n    }\n    get buttons() {\n        return this._buttons;\n    }\n    set buttons(buttons) {\n        this._buttons = buttons;\n        this.buttonsUpdated = true;\n        this.update();\n    }\n    get validationMessage() {\n        return this._validationMessage;\n    }\n    set validationMessage(validationMessage) {\n        this._validationMessage = validationMessage;\n        this.update();\n    }\n    get severity() {\n        return this._severity;\n    }\n    set severity(severity) {\n        this._severity = severity;\n        this.update();\n    }\n    show() {\n        if (this.visible) {\n            return;\n        }\n        this.visibleDisposables.add(this.ui.onDidTriggerButton(button => {\n            if (this.buttons.indexOf(button) !== -1) {\n                this.onDidTriggerButtonEmitter.fire(button);\n            }\n        }));\n        this.ui.show(this);\n        // update properties in the controller that get reset in the ui.show() call\n        this.visible = true;\n        // This ensures the message/prompt gets rendered\n        this._lastValidationMessage = undefined;\n        // This ensures the input box has the right severity applied\n        this._lastSeverity = undefined;\n        if (this.buttons.length) {\n            // if there are buttons, the ui.show() clears them out of the UI so we should\n            // rerender them.\n            this.buttonsUpdated = true;\n        }\n        this.update();\n    }\n    hide() {\n        if (!this.visible) {\n            return;\n        }\n        this.ui.hide();\n    }\n    didHide(reason = QuickInputHideReason.Other) {\n        this.visible = false;\n        this.visibleDisposables.clear();\n        this.onDidHideEmitter.fire({ reason });\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        const title = this.getTitle();\n        if (title && this.ui.title.textContent !== title) {\n            this.ui.title.textContent = title;\n        }\n        else if (!title && this.ui.title.innerHTML !== '&nbsp;') {\n            this.ui.title.innerText = '\\u00a0';\n        }\n        const description = this.getDescription();\n        if (this.ui.description1.textContent !== description) {\n            this.ui.description1.textContent = description;\n        }\n        if (this.ui.description2.textContent !== description) {\n            this.ui.description2.textContent = description;\n        }\n        if (this.busy && !this.busyDelay) {\n            this.busyDelay = new TimeoutTimer();\n            this.busyDelay.setIfNotSet(() => {\n                if (this.visible) {\n                    this.ui.progressBar.infinite();\n                }\n            }, 800);\n        }\n        if (!this.busy && this.busyDelay) {\n            this.ui.progressBar.stop();\n            this.busyDelay.cancel();\n            this.busyDelay = undefined;\n        }\n        if (this.buttonsUpdated) {\n            this.buttonsUpdated = false;\n            this.ui.leftActionBar.clear();\n            const leftButtons = this.buttons.filter(button => button === backButton);\n            this.ui.leftActionBar.push(leftButtons.map((button, index) => {\n                const action = new Action(`id-${index}`, '', button.iconClass || getIconClass(button.iconPath), true, () => __awaiter(this, void 0, void 0, function* () {\n                    this.onDidTriggerButtonEmitter.fire(button);\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n            this.ui.rightActionBar.clear();\n            const rightButtons = this.buttons.filter(button => button !== backButton);\n            this.ui.rightActionBar.push(rightButtons.map((button, index) => {\n                const action = new Action(`id-${index}`, '', button.iconClass || getIconClass(button.iconPath), true, () => __awaiter(this, void 0, void 0, function* () {\n                    this.onDidTriggerButtonEmitter.fire(button);\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n        }\n        this.ui.ignoreFocusOut = this.ignoreFocusOut;\n        this.ui.setEnabled(this.enabled);\n        this.ui.setContextKey(this.contextKey);\n        const validationMessage = this.validationMessage || this.noValidationMessage;\n        if (this._lastValidationMessage !== validationMessage) {\n            this._lastValidationMessage = validationMessage;\n            dom.reset(this.ui.message, ...renderLabelWithIcons(validationMessage));\n        }\n        if (this._lastSeverity !== this.severity) {\n            this._lastSeverity = this.severity;\n            this.showMessageDecoration(this.severity);\n        }\n    }\n    getTitle() {\n        if (this.title && this.step) {\n            return `${this.title} (${this.getSteps()})`;\n        }\n        if (this.title) {\n            return this.title;\n        }\n        if (this.step) {\n            return this.getSteps();\n        }\n        return '';\n    }\n    getDescription() {\n        return this.description || '';\n    }\n    getSteps() {\n        if (this.step && this.totalSteps) {\n            return localize('quickInput.steps', \"{0}/{1}\", this.step, this.totalSteps);\n        }\n        if (this.step) {\n            return String(this.step);\n        }\n        return '';\n    }\n    showMessageDecoration(severity) {\n        this.ui.inputBox.showDecoration(severity);\n        if (severity !== Severity.Ignore) {\n            const styles = this.ui.inputBox.stylesForType(severity);\n            this.ui.message.style.color = styles.foreground ? `${styles.foreground}` : '';\n            this.ui.message.style.backgroundColor = styles.background ? `${styles.background}` : '';\n            this.ui.message.style.border = styles.border ? `1px solid ${styles.border}` : '';\n            this.ui.message.style.marginBottom = '-2px';\n        }\n        else {\n            this.ui.message.style.color = '';\n            this.ui.message.style.backgroundColor = '';\n            this.ui.message.style.border = '';\n            this.ui.message.style.marginBottom = '';\n        }\n    }\n    dispose() {\n        this.hide();\n        this.onDisposeEmitter.fire();\n        super.dispose();\n    }\n}\nQuickInput.noPromptMessage = localize('inputModeEntry', \"Press 'Enter' to confirm your input or 'Escape' to cancel\");\nclass QuickPick extends QuickInput {\n    constructor() {\n        super(...arguments);\n        this._value = '';\n        this.onDidChangeValueEmitter = this._register(new Emitter());\n        this.onWillAcceptEmitter = this._register(new Emitter());\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this._items = [];\n        this.itemsUpdated = false;\n        this._canSelectMany = false;\n        this._canAcceptInBackground = false;\n        this._matchOnDescription = false;\n        this._matchOnDetail = false;\n        this._matchOnLabel = true;\n        this._sortByLabel = true;\n        this._autoFocusOnList = true;\n        this._keepScrollPosition = false;\n        this._itemActivation = this.ui.isScreenReaderOptimized() ? ItemActivation.NONE /* https://github.com/microsoft/vscode/issues/57501 */ : ItemActivation.FIRST;\n        this._activeItems = [];\n        this.activeItemsUpdated = false;\n        this.activeItemsToConfirm = [];\n        this.onDidChangeActiveEmitter = this._register(new Emitter());\n        this._selectedItems = [];\n        this.selectedItemsUpdated = false;\n        this.selectedItemsToConfirm = [];\n        this.onDidChangeSelectionEmitter = this._register(new Emitter());\n        this.onDidTriggerItemButtonEmitter = this._register(new Emitter());\n        this.valueSelectionUpdated = true;\n        this._ok = 'default';\n        this._customButton = false;\n        this.filterValue = (value) => value;\n        this.onDidChangeValue = this.onDidChangeValueEmitter.event;\n        this.onWillAccept = this.onWillAcceptEmitter.event;\n        this.onDidAccept = this.onDidAcceptEmitter.event;\n        this.onDidChangeActive = this.onDidChangeActiveEmitter.event;\n        this.onDidChangeSelection = this.onDidChangeSelectionEmitter.event;\n        this.onDidTriggerItemButton = this.onDidTriggerItemButtonEmitter.event;\n    }\n    get quickNavigate() {\n        return this._quickNavigate;\n    }\n    set quickNavigate(quickNavigate) {\n        this._quickNavigate = quickNavigate;\n        this.update();\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this.doSetValue(value);\n    }\n    doSetValue(value, skipUpdate) {\n        if (this._value !== value) {\n            this._value = value;\n            if (!skipUpdate) {\n                this.update();\n            }\n            if (this.visible) {\n                const didFilter = this.ui.list.filter(this.filterValue(this._value));\n                if (didFilter) {\n                    this.trySelectFirst();\n                }\n            }\n            this.onDidChangeValueEmitter.fire(this._value);\n        }\n    }\n    set ariaLabel(ariaLabel) {\n        this._ariaLabel = ariaLabel;\n        this.update();\n    }\n    get ariaLabel() {\n        return this._ariaLabel;\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set placeholder(placeholder) {\n        this._placeholder = placeholder;\n        this.update();\n    }\n    get items() {\n        return this._items;\n    }\n    get scrollTop() {\n        return this.ui.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.ui.list.scrollTop = scrollTop;\n    }\n    set items(items) {\n        this._items = items;\n        this.itemsUpdated = true;\n        this.update();\n    }\n    get canSelectMany() {\n        return this._canSelectMany;\n    }\n    set canSelectMany(canSelectMany) {\n        this._canSelectMany = canSelectMany;\n        this.update();\n    }\n    get canAcceptInBackground() {\n        return this._canAcceptInBackground;\n    }\n    set canAcceptInBackground(canAcceptInBackground) {\n        this._canAcceptInBackground = canAcceptInBackground;\n    }\n    get matchOnDescription() {\n        return this._matchOnDescription;\n    }\n    set matchOnDescription(matchOnDescription) {\n        this._matchOnDescription = matchOnDescription;\n        this.update();\n    }\n    get matchOnDetail() {\n        return this._matchOnDetail;\n    }\n    set matchOnDetail(matchOnDetail) {\n        this._matchOnDetail = matchOnDetail;\n        this.update();\n    }\n    get matchOnLabel() {\n        return this._matchOnLabel;\n    }\n    set matchOnLabel(matchOnLabel) {\n        this._matchOnLabel = matchOnLabel;\n        this.update();\n    }\n    get sortByLabel() {\n        return this._sortByLabel;\n    }\n    set sortByLabel(sortByLabel) {\n        this._sortByLabel = sortByLabel;\n        this.update();\n    }\n    get autoFocusOnList() {\n        return this._autoFocusOnList;\n    }\n    set autoFocusOnList(autoFocusOnList) {\n        this._autoFocusOnList = autoFocusOnList;\n        this.update();\n    }\n    get keepScrollPosition() {\n        return this._keepScrollPosition;\n    }\n    set keepScrollPosition(keepScrollPosition) {\n        this._keepScrollPosition = keepScrollPosition;\n    }\n    get itemActivation() {\n        return this._itemActivation;\n    }\n    set itemActivation(itemActivation) {\n        this._itemActivation = itemActivation;\n    }\n    get activeItems() {\n        return this._activeItems;\n    }\n    set activeItems(activeItems) {\n        this._activeItems = activeItems;\n        this.activeItemsUpdated = true;\n        this.update();\n    }\n    get selectedItems() {\n        return this._selectedItems;\n    }\n    set selectedItems(selectedItems) {\n        this._selectedItems = selectedItems;\n        this.selectedItemsUpdated = true;\n        this.update();\n    }\n    get keyMods() {\n        if (this._quickNavigate) {\n            // Disable keyMods when quick navigate is enabled\n            // because in this model the interaction is purely\n            // keyboard driven and Ctrl/Alt are typically\n            // pressed and hold during this interaction.\n            return NO_KEY_MODS;\n        }\n        return this.ui.keyMods;\n    }\n    set valueSelection(valueSelection) {\n        this._valueSelection = valueSelection;\n        this.valueSelectionUpdated = true;\n        this.update();\n    }\n    get customButton() {\n        return this._customButton;\n    }\n    set customButton(showCustomButton) {\n        this._customButton = showCustomButton;\n        this.update();\n    }\n    get customLabel() {\n        return this._customButtonLabel;\n    }\n    set customLabel(label) {\n        this._customButtonLabel = label;\n        this.update();\n    }\n    get customHover() {\n        return this._customButtonHover;\n    }\n    set customHover(hover) {\n        this._customButtonHover = hover;\n        this.update();\n    }\n    get ok() {\n        return this._ok;\n    }\n    set ok(showOkButton) {\n        this._ok = showOkButton;\n        this.update();\n    }\n    get hideInput() {\n        return !!this._hideInput;\n    }\n    set hideInput(hideInput) {\n        this._hideInput = hideInput;\n        this.update();\n    }\n    trySelectFirst() {\n        if (this.autoFocusOnList) {\n            if (!this.canSelectMany) {\n                this.ui.list.focus(QuickInputListFocus.First);\n            }\n        }\n    }\n    show() {\n        if (!this.visible) {\n            this.visibleDisposables.add(this.ui.inputBox.onDidChange(value => {\n                this.doSetValue(value, true /* skip update since this originates from the UI */);\n            }));\n            this.visibleDisposables.add(this.ui.inputBox.onMouseDown(event => {\n                if (!this.autoFocusOnList) {\n                    this.ui.list.clearFocus();\n                }\n            }));\n            this.visibleDisposables.add((this._hideInput ? this.ui.list : this.ui.inputBox).onKeyDown((event) => {\n                switch (event.keyCode) {\n                    case 18 /* DownArrow */:\n                        this.ui.list.focus(QuickInputListFocus.Next);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 16 /* UpArrow */:\n                        if (this.ui.list.getFocusedElements().length) {\n                            this.ui.list.focus(QuickInputListFocus.Previous);\n                        }\n                        else {\n                            this.ui.list.focus(QuickInputListFocus.Last);\n                        }\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 12 /* PageDown */:\n                        this.ui.list.focus(QuickInputListFocus.NextPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 11 /* PageUp */:\n                        this.ui.list.focus(QuickInputListFocus.PreviousPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 17 /* RightArrow */:\n                        if (!this._canAcceptInBackground) {\n                            return; // needs to be enabled\n                        }\n                        if (!this.ui.inputBox.isSelectionAtEnd()) {\n                            return; // ensure input box selection at end\n                        }\n                        if (this.activeItems[0]) {\n                            this._selectedItems = [this.activeItems[0]];\n                            this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                            this.handleAccept(true);\n                        }\n                        break;\n                    case 14 /* Home */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.First);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                    case 13 /* End */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.Last);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                }\n            }));\n            this.visibleDisposables.add(this.ui.onDidAccept(() => {\n                if (this.canSelectMany) {\n                    // if there are no checked elements, it means that an onDidChangeSelection never fired to overwrite\n                    // `_selectedItems`. In that case, we should emit one with an empty array to ensure that\n                    // `.selectedItems` is up to date.\n                    if (!this.ui.list.getCheckedElements().length) {\n                        this._selectedItems = [];\n                        this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    }\n                }\n                else if (this.activeItems[0]) {\n                    // For single-select, we set `selectedItems` to the item that was accepted.\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                }\n                this.handleAccept(false);\n            }));\n            this.visibleDisposables.add(this.ui.onDidCustom(() => {\n                this.onDidCustomEmitter.fire();\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeFocus(focusedItems => {\n                if (this.activeItemsUpdated) {\n                    return; // Expect another event.\n                }\n                if (this.activeItemsToConfirm !== this._activeItems && equals(focusedItems, this._activeItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._activeItems = focusedItems;\n                this.onDidChangeActiveEmitter.fire(focusedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({ items: selectedItems, event }) => {\n                if (this.canSelectMany) {\n                    if (selectedItems.length) {\n                        this.ui.list.setSelectedElements([]);\n                    }\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(selectedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = selectedItems;\n                this.onDidChangeSelectionEmitter.fire(selectedItems);\n                if (selectedItems.length) {\n                    this.handleAccept(event instanceof MouseEvent && event.button === 1 /* mouse middle click */);\n                }\n            }));\n            this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(checkedItems => {\n                if (!this.canSelectMany) {\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(checkedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = checkedItems;\n                this.onDidChangeSelectionEmitter.fire(checkedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onButtonTriggered(event => this.onDidTriggerItemButtonEmitter.fire(event)));\n            this.visibleDisposables.add(this.registerQuickNavigation());\n            this.valueSelectionUpdated = true;\n        }\n        super.show(); // TODO: Why have show() bubble up while update() trickles down? (Could move setComboboxAccessibility() here.)\n    }\n    handleAccept(inBackground) {\n        // Figure out veto via `onWillAccept` event\n        let veto = false;\n        this.onWillAcceptEmitter.fire({ veto: () => veto = true });\n        // Continue with `onDidAccept` if no veto\n        if (!veto) {\n            this.onDidAcceptEmitter.fire({ inBackground });\n        }\n    }\n    registerQuickNavigation() {\n        return dom.addDisposableListener(this.ui.container, dom.EventType.KEY_UP, e => {\n            if (this.canSelectMany || !this._quickNavigate) {\n                return;\n            }\n            const keyboardEvent = new StandardKeyboardEvent(e);\n            const keyCode = keyboardEvent.keyCode;\n            // Select element when keys are pressed that signal it\n            const quickNavKeys = this._quickNavigate.keybindings;\n            const wasTriggerKeyPressed = quickNavKeys.some(k => {\n                const [firstPart, chordPart] = k.getParts();\n                if (chordPart) {\n                    return false;\n                }\n                if (firstPart.shiftKey && keyCode === 4 /* Shift */) {\n                    if (keyboardEvent.ctrlKey || keyboardEvent.altKey || keyboardEvent.metaKey) {\n                        return false; // this is an optimistic check for the shift key being used to navigate back in quick input\n                    }\n                    return true;\n                }\n                if (firstPart.altKey && keyCode === 6 /* Alt */) {\n                    return true;\n                }\n                if (firstPart.ctrlKey && keyCode === 5 /* Ctrl */) {\n                    return true;\n                }\n                if (firstPart.metaKey && keyCode === 57 /* Meta */) {\n                    return true;\n                }\n                return false;\n            });\n            if (wasTriggerKeyPressed) {\n                if (this.activeItems[0]) {\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    this.handleAccept(false);\n                }\n                // Unset quick navigate after press. It is only valid once\n                // and should not result in any behaviour change afterwards\n                // if the picker remains open because there was no active item\n                this._quickNavigate = undefined;\n            }\n        });\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        // store the scrollTop before it is reset\n        const scrollTopBefore = this.keepScrollPosition ? this.scrollTop : 0;\n        const hideInput = !!this._hideInput && this._items.length > 0;\n        this.ui.container.classList.toggle('hidden-input', hideInput && !this.description);\n        const visibilities = {\n            title: !!this.title || !!this.step || !!this.buttons.length,\n            description: !!this.description,\n            checkAll: this.canSelectMany && !this._hideCheckAll,\n            checkBox: this.canSelectMany,\n            inputBox: !hideInput,\n            progressBar: !hideInput,\n            visibleCount: true,\n            count: this.canSelectMany,\n            ok: this.ok === 'default' ? this.canSelectMany : this.ok,\n            list: true,\n            message: !!this.validationMessage,\n            customButton: this.customButton\n        };\n        this.ui.setVisibilities(visibilities);\n        super.update();\n        if (this.ui.inputBox.value !== this.value) {\n            this.ui.inputBox.value = this.value;\n        }\n        if (this.valueSelectionUpdated) {\n            this.valueSelectionUpdated = false;\n            this.ui.inputBox.select(this._valueSelection && { start: this._valueSelection[0], end: this._valueSelection[1] });\n        }\n        if (this.ui.inputBox.placeholder !== (this.placeholder || '')) {\n            this.ui.inputBox.placeholder = (this.placeholder || '');\n        }\n        const ariaLabel = this.ariaLabel || this.placeholder || QuickPick.DEFAULT_ARIA_LABEL;\n        if (this.ui.inputBox.ariaLabel !== ariaLabel) {\n            this.ui.inputBox.ariaLabel = ariaLabel;\n        }\n        this.ui.list.matchOnDescription = this.matchOnDescription;\n        this.ui.list.matchOnDetail = this.matchOnDetail;\n        this.ui.list.matchOnLabel = this.matchOnLabel;\n        this.ui.list.sortByLabel = this.sortByLabel;\n        if (this.itemsUpdated) {\n            this.itemsUpdated = false;\n            this.ui.list.setElements(this.items);\n            this.ui.list.filter(this.filterValue(this.ui.inputBox.value));\n            this.ui.checkAll.checked = this.ui.list.getAllVisibleChecked();\n            this.ui.visibleCount.setCount(this.ui.list.getVisibleCount());\n            this.ui.count.setCount(this.ui.list.getCheckedCount());\n            switch (this._itemActivation) {\n                case ItemActivation.NONE:\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.SECOND:\n                    this.ui.list.focus(QuickInputListFocus.Second);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.LAST:\n                    this.ui.list.focus(QuickInputListFocus.Last);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                default:\n                    this.trySelectFirst();\n                    break;\n            }\n        }\n        if (this.ui.container.classList.contains('show-checkboxes') !== !!this.canSelectMany) {\n            if (this.canSelectMany) {\n                this.ui.list.clearFocus();\n            }\n            else {\n                this.trySelectFirst();\n            }\n        }\n        if (this.activeItemsUpdated) {\n            this.activeItemsUpdated = false;\n            this.activeItemsToConfirm = this._activeItems;\n            this.ui.list.setFocusedElements(this.activeItems);\n            if (this.activeItemsToConfirm === this._activeItems) {\n                this.activeItemsToConfirm = null;\n            }\n        }\n        if (this.selectedItemsUpdated) {\n            this.selectedItemsUpdated = false;\n            this.selectedItemsToConfirm = this._selectedItems;\n            if (this.canSelectMany) {\n                this.ui.list.setCheckedElements(this.selectedItems);\n            }\n            else {\n                this.ui.list.setSelectedElements(this.selectedItems);\n            }\n            if (this.selectedItemsToConfirm === this._selectedItems) {\n                this.selectedItemsToConfirm = null;\n            }\n        }\n        this.ui.customButton.label = this.customLabel || '';\n        this.ui.customButton.element.title = this.customHover || '';\n        this.ui.setComboboxAccessibility(true);\n        if (!visibilities.inputBox) {\n            // we need to move focus into the tree to detect keybindings\n            // properly when the input box is not visible (quick nav)\n            this.ui.list.domFocus();\n            // Focus the first element in the list if multiselect is enabled\n            if (this.canSelectMany) {\n                this.ui.list.focus(QuickInputListFocus.First);\n            }\n        }\n        // Set the scroll position to what it was before updating the items\n        if (this.keepScrollPosition) {\n            this.scrollTop = scrollTopBefore;\n        }\n    }\n}\nQuickPick.DEFAULT_ARIA_LABEL = localize('quickInputBox.ariaLabel', \"Type to narrow down results.\");\nexport class QuickInputController extends Disposable {\n    constructor(options) {\n        super();\n        this.options = options;\n        this.comboboxAccessibility = false;\n        this.enabled = true;\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.keyMods = { ctrlCmd: false, alt: false };\n        this.controller = null;\n        this.onShowEmitter = this._register(new Emitter());\n        this.onShow = this.onShowEmitter.event;\n        this.onHideEmitter = this._register(new Emitter());\n        this.onHide = this.onHideEmitter.event;\n        this.idPrefix = options.idPrefix;\n        this.parentElement = options.container;\n        this.styles = options.styles;\n        this.registerKeyModsListeners();\n    }\n    registerKeyModsListeners() {\n        const listener = (e) => {\n            this.keyMods.ctrlCmd = e.ctrlKey || e.metaKey;\n            this.keyMods.alt = e.altKey;\n        };\n        this._register(dom.addDisposableListener(window, dom.EventType.KEY_DOWN, listener, true));\n        this._register(dom.addDisposableListener(window, dom.EventType.KEY_UP, listener, true));\n        this._register(dom.addDisposableListener(window, dom.EventType.MOUSE_DOWN, listener, true));\n    }\n    getUI() {\n        if (this.ui) {\n            return this.ui;\n        }\n        const container = dom.append(this.parentElement, $('.quick-input-widget.show-file-icons'));\n        container.tabIndex = -1;\n        container.style.display = 'none';\n        const styleSheet = dom.createStyleSheet(container);\n        const titleBar = dom.append(container, $('.quick-input-titlebar'));\n        const leftActionBar = this._register(new ActionBar(titleBar));\n        leftActionBar.domNode.classList.add('quick-input-left-action-bar');\n        const title = dom.append(titleBar, $('.quick-input-title'));\n        const rightActionBar = this._register(new ActionBar(titleBar));\n        rightActionBar.domNode.classList.add('quick-input-right-action-bar');\n        const description1 = dom.append(container, $('.quick-input-description'));\n        const headerContainer = dom.append(container, $('.quick-input-header'));\n        const checkAll = dom.append(headerContainer, $('input.quick-input-check-all'));\n        checkAll.type = 'checkbox';\n        this._register(dom.addStandardDisposableListener(checkAll, dom.EventType.CHANGE, e => {\n            const checked = checkAll.checked;\n            list.setAllVisibleChecked(checked);\n        }));\n        this._register(dom.addDisposableListener(checkAll, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space'...\n                inputBox.setFocus();\n            }\n        }));\n        const description2 = dom.append(headerContainer, $('.quick-input-description'));\n        const extraContainer = dom.append(headerContainer, $('.quick-input-and-message'));\n        const filterContainer = dom.append(extraContainer, $('.quick-input-filter'));\n        const inputBox = this._register(new QuickInputBox(filterContainer));\n        inputBox.setAttribute('aria-describedby', `${this.idPrefix}message`);\n        const visibleCountContainer = dom.append(filterContainer, $('.quick-input-visible-count'));\n        visibleCountContainer.setAttribute('aria-live', 'polite');\n        visibleCountContainer.setAttribute('aria-atomic', 'true');\n        const visibleCount = new CountBadge(visibleCountContainer, { countFormat: localize({ key: 'quickInput.visibleCount', comment: ['This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers.'] }, \"{0} Results\") });\n        const countContainer = dom.append(filterContainer, $('.quick-input-count'));\n        countContainer.setAttribute('aria-live', 'polite');\n        const count = new CountBadge(countContainer, { countFormat: localize({ key: 'quickInput.countSelected', comment: ['This tells the user how many items are selected in a list of items to select from. The items can be anything.'] }, \"{0} Selected\") });\n        const okContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const ok = new Button(okContainer);\n        ok.label = localize('ok', \"OK\");\n        this._register(ok.onDidClick(e => {\n            this.onDidAcceptEmitter.fire();\n        }));\n        const customButtonContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const customButton = new Button(customButtonContainer);\n        customButton.label = localize('custom', \"Custom\");\n        this._register(customButton.onDidClick(e => {\n            this.onDidCustomEmitter.fire();\n        }));\n        const message = dom.append(extraContainer, $(`#${this.idPrefix}message.quick-input-message`));\n        const list = this._register(new QuickInputList(container, this.idPrefix + 'list', this.options));\n        this._register(list.onChangedAllVisibleChecked(checked => {\n            checkAll.checked = checked;\n        }));\n        this._register(list.onChangedVisibleCount(c => {\n            visibleCount.setCount(c);\n        }));\n        this._register(list.onChangedCheckedCount(c => {\n            count.setCount(c);\n        }));\n        this._register(list.onLeave(() => {\n            // Defer to avoid the input field reacting to the triggering key.\n            setTimeout(() => {\n                inputBox.setFocus();\n                if (this.controller instanceof QuickPick && this.controller.canSelectMany) {\n                    list.clearFocus();\n                }\n            }, 0);\n        }));\n        this._register(list.onDidChangeFocus(() => {\n            if (this.comboboxAccessibility) {\n                this.getUI().inputBox.setAttribute('aria-activedescendant', this.getUI().list.getActiveDescendant() || '');\n            }\n        }));\n        const progressBar = new ProgressBar(container);\n        progressBar.getContainer().classList.add('quick-input-progress');\n        const focusTracker = dom.trackFocus(container);\n        this._register(focusTracker);\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, e => {\n            this.previousFocusElement = e.relatedTarget instanceof HTMLElement ? e.relatedTarget : undefined;\n        }, true));\n        this._register(focusTracker.onDidBlur(() => {\n            if (!this.getUI().ignoreFocusOut && !this.options.ignoreFocusOut()) {\n                this.hide(QuickInputHideReason.Blur);\n            }\n            this.previousFocusElement = undefined;\n        }));\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, (e) => {\n            inputBox.setFocus();\n        }));\n        this._register(dom.addDisposableListener(container, dom.EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 3 /* Enter */:\n                    dom.EventHelper.stop(e, true);\n                    this.onDidAcceptEmitter.fire();\n                    break;\n                case 9 /* Escape */:\n                    dom.EventHelper.stop(e, true);\n                    this.hide(QuickInputHideReason.Gesture);\n                    break;\n                case 2 /* Tab */:\n                    if (!event.altKey && !event.ctrlKey && !event.metaKey) {\n                        const selectors = ['.action-label.codicon'];\n                        if (container.classList.contains('show-checkboxes')) {\n                            selectors.push('input');\n                        }\n                        else {\n                            selectors.push('input[type=text]');\n                        }\n                        if (this.getUI().list.isDisplayed()) {\n                            selectors.push('.monaco-list');\n                        }\n                        const stops = container.querySelectorAll(selectors.join(', '));\n                        if (event.shiftKey && event.target === stops[0]) {\n                            dom.EventHelper.stop(e, true);\n                            stops[stops.length - 1].focus();\n                        }\n                        else if (!event.shiftKey && event.target === stops[stops.length - 1]) {\n                            dom.EventHelper.stop(e, true);\n                            stops[0].focus();\n                        }\n                    }\n                    break;\n            }\n        }));\n        this.ui = {\n            container,\n            styleSheet,\n            leftActionBar,\n            titleBar,\n            title,\n            description1,\n            description2,\n            rightActionBar,\n            checkAll,\n            filterContainer,\n            inputBox,\n            visibleCountContainer,\n            visibleCount,\n            countContainer,\n            count,\n            okContainer,\n            ok,\n            message,\n            customButtonContainer,\n            customButton,\n            list,\n            progressBar,\n            onDidAccept: this.onDidAcceptEmitter.event,\n            onDidCustom: this.onDidCustomEmitter.event,\n            onDidTriggerButton: this.onDidTriggerButtonEmitter.event,\n            ignoreFocusOut: false,\n            keyMods: this.keyMods,\n            isScreenReaderOptimized: () => this.options.isScreenReaderOptimized(),\n            show: controller => this.show(controller),\n            hide: () => this.hide(),\n            setVisibilities: visibilities => this.setVisibilities(visibilities),\n            setComboboxAccessibility: enabled => this.setComboboxAccessibility(enabled),\n            setEnabled: enabled => this.setEnabled(enabled),\n            setContextKey: contextKey => this.options.setContextKey(contextKey),\n        };\n        this.updateStyles();\n        return this.ui;\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return new Promise((doResolve, reject) => {\n            let resolve = (result) => {\n                resolve = doResolve;\n                if (options.onKeyMods) {\n                    options.onKeyMods(input.keyMods);\n                }\n                doResolve(result);\n            };\n            if (token.isCancellationRequested) {\n                resolve(undefined);\n                return;\n            }\n            const input = this.createQuickPick();\n            let activeItem;\n            const disposables = [\n                input,\n                input.onDidAccept(() => {\n                    if (input.canSelectMany) {\n                        resolve(input.selectedItems.slice());\n                        input.hide();\n                    }\n                    else {\n                        const result = input.activeItems[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidChangeActive(items => {\n                    const focused = items[0];\n                    if (focused && options.onDidFocus) {\n                        options.onDidFocus(focused);\n                    }\n                }),\n                input.onDidChangeSelection(items => {\n                    if (!input.canSelectMany) {\n                        const result = items[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidTriggerItemButton(event => options.onDidTriggerItemButton && options.onDidTriggerItemButton(Object.assign(Object.assign({}, event), { removeItem: () => {\n                        const index = input.items.indexOf(event.item);\n                        if (index !== -1) {\n                            const items = input.items.slice();\n                            const removed = items.splice(index, 1);\n                            const activeItems = input.activeItems.filter(activeItem => activeItem !== removed[0]);\n                            const keepScrollPositionBefore = input.keepScrollPosition;\n                            input.keepScrollPosition = true;\n                            input.items = items;\n                            if (activeItems) {\n                                input.activeItems = activeItems;\n                            }\n                            input.keepScrollPosition = keepScrollPositionBefore;\n                        }\n                    } }))),\n                input.onDidChangeValue(value => {\n                    if (activeItem && !value && (input.activeItems.length !== 1 || input.activeItems[0] !== activeItem)) {\n                        input.activeItems = [activeItem];\n                    }\n                }),\n                token.onCancellationRequested(() => {\n                    input.hide();\n                }),\n                input.onDidHide(() => {\n                    dispose(disposables);\n                    resolve(undefined);\n                }),\n            ];\n            input.title = options.title;\n            input.canSelectMany = !!options.canPickMany;\n            input.placeholder = options.placeHolder;\n            input.ignoreFocusOut = !!options.ignoreFocusLost;\n            input.matchOnDescription = !!options.matchOnDescription;\n            input.matchOnDetail = !!options.matchOnDetail;\n            input.matchOnLabel = (options.matchOnLabel === undefined) || options.matchOnLabel; // default to true\n            input.autoFocusOnList = (options.autoFocusOnList === undefined) || options.autoFocusOnList; // default to true\n            input.quickNavigate = options.quickNavigate;\n            input.contextKey = options.contextKey;\n            input.busy = true;\n            Promise.all([picks, options.activeItem])\n                .then(([items, _activeItem]) => {\n                activeItem = _activeItem;\n                input.busy = false;\n                input.items = items;\n                if (input.canSelectMany) {\n                    input.selectedItems = items.filter(item => item.type !== 'separator' && item.picked);\n                }\n                if (activeItem) {\n                    input.activeItems = [activeItem];\n                }\n            });\n            input.show();\n            Promise.resolve(picks).then(undefined, err => {\n                reject(err);\n                input.hide();\n            });\n        });\n    }\n    createQuickPick() {\n        const ui = this.getUI();\n        return new QuickPick(ui);\n    }\n    show(controller) {\n        const ui = this.getUI();\n        this.onShowEmitter.fire();\n        const oldController = this.controller;\n        this.controller = controller;\n        if (oldController) {\n            oldController.didHide();\n        }\n        this.setEnabled(true);\n        ui.leftActionBar.clear();\n        ui.title.textContent = '';\n        ui.description1.textContent = '';\n        ui.description2.textContent = '';\n        ui.rightActionBar.clear();\n        ui.checkAll.checked = false;\n        // ui.inputBox.value = ''; Avoid triggering an event.\n        ui.inputBox.placeholder = '';\n        ui.inputBox.password = false;\n        ui.inputBox.showDecoration(Severity.Ignore);\n        ui.visibleCount.setCount(0);\n        ui.count.setCount(0);\n        dom.reset(ui.message);\n        ui.progressBar.stop();\n        ui.list.setElements([]);\n        ui.list.matchOnDescription = false;\n        ui.list.matchOnDetail = false;\n        ui.list.matchOnLabel = true;\n        ui.list.sortByLabel = true;\n        ui.ignoreFocusOut = false;\n        this.setComboboxAccessibility(false);\n        ui.inputBox.ariaLabel = '';\n        const backKeybindingLabel = this.options.backKeybindingLabel();\n        backButton.tooltip = backKeybindingLabel ? localize('quickInput.backWithKeybinding', \"Back ({0})\", backKeybindingLabel) : localize('quickInput.back', \"Back\");\n        ui.container.style.display = '';\n        this.updateLayout();\n        ui.inputBox.setFocus();\n    }\n    setVisibilities(visibilities) {\n        const ui = this.getUI();\n        ui.title.style.display = visibilities.title ? '' : 'none';\n        ui.description1.style.display = visibilities.description && (visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.description2.style.display = visibilities.description && !(visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.checkAll.style.display = visibilities.checkAll ? '' : 'none';\n        ui.filterContainer.style.display = visibilities.inputBox ? '' : 'none';\n        ui.visibleCountContainer.style.display = visibilities.visibleCount ? '' : 'none';\n        ui.countContainer.style.display = visibilities.count ? '' : 'none';\n        ui.okContainer.style.display = visibilities.ok ? '' : 'none';\n        ui.customButtonContainer.style.display = visibilities.customButton ? '' : 'none';\n        ui.message.style.display = visibilities.message ? '' : 'none';\n        ui.progressBar.getContainer().style.display = visibilities.progressBar ? '' : 'none';\n        ui.list.display(!!visibilities.list);\n        ui.container.classList[visibilities.checkBox ? 'add' : 'remove']('show-checkboxes');\n        this.updateLayout(); // TODO\n    }\n    setComboboxAccessibility(enabled) {\n        if (enabled !== this.comboboxAccessibility) {\n            const ui = this.getUI();\n            this.comboboxAccessibility = enabled;\n            if (this.comboboxAccessibility) {\n                ui.inputBox.setAttribute('role', 'combobox');\n                ui.inputBox.setAttribute('aria-haspopup', 'true');\n                ui.inputBox.setAttribute('aria-autocomplete', 'list');\n                ui.inputBox.setAttribute('aria-activedescendant', ui.list.getActiveDescendant() || '');\n            }\n            else {\n                ui.inputBox.removeAttribute('role');\n                ui.inputBox.removeAttribute('aria-haspopup');\n                ui.inputBox.removeAttribute('aria-autocomplete');\n                ui.inputBox.removeAttribute('aria-activedescendant');\n            }\n        }\n    }\n    setEnabled(enabled) {\n        if (enabled !== this.enabled) {\n            this.enabled = enabled;\n            for (const item of this.getUI().leftActionBar.viewItems) {\n                item.getAction().enabled = enabled;\n            }\n            for (const item of this.getUI().rightActionBar.viewItems) {\n                item.getAction().enabled = enabled;\n            }\n            this.getUI().checkAll.disabled = !enabled;\n            // this.getUI().inputBox.enabled = enabled; Avoid loosing focus.\n            this.getUI().ok.enabled = enabled;\n            this.getUI().list.enabled = enabled;\n        }\n    }\n    hide(reason) {\n        var _a;\n        const controller = this.controller;\n        if (controller) {\n            const focusChanged = !((_a = this.ui) === null || _a === void 0 ? void 0 : _a.container.contains(document.activeElement));\n            this.controller = null;\n            this.onHideEmitter.fire();\n            this.getUI().container.style.display = 'none';\n            if (!focusChanged) {\n                let currentElement = this.previousFocusElement;\n                while (currentElement && !currentElement.offsetParent) {\n                    currentElement = withNullAsUndefined(currentElement.parentElement);\n                }\n                if (currentElement === null || currentElement === void 0 ? void 0 : currentElement.offsetParent) {\n                    currentElement.focus();\n                    this.previousFocusElement = undefined;\n                }\n                else {\n                    this.options.returnFocus();\n                }\n            }\n            controller.didHide(reason);\n        }\n    }\n    layout(dimension, titleBarOffset) {\n        this.dimension = dimension;\n        this.titleBarOffset = titleBarOffset;\n        this.updateLayout();\n    }\n    updateLayout() {\n        if (this.ui) {\n            this.ui.container.style.top = `${this.titleBarOffset}px`;\n            const style = this.ui.container.style;\n            const width = Math.min(this.dimension.width * 0.62 /* golden cut */, QuickInputController.MAX_WIDTH);\n            style.width = width + 'px';\n            style.marginLeft = '-' + (width / 2) + 'px';\n            this.ui.inputBox.layout();\n            this.ui.list.layout(this.dimension && this.dimension.height * 0.4);\n        }\n    }\n    applyStyles(styles) {\n        this.styles = styles;\n        this.updateStyles();\n    }\n    updateStyles() {\n        if (this.ui) {\n            const { quickInputTitleBackground, quickInputBackground, quickInputForeground, contrastBorder, widgetShadow, } = this.styles.widget;\n            this.ui.titleBar.style.backgroundColor = quickInputTitleBackground ? quickInputTitleBackground.toString() : '';\n            this.ui.container.style.backgroundColor = quickInputBackground ? quickInputBackground.toString() : '';\n            this.ui.container.style.color = quickInputForeground ? quickInputForeground.toString() : '';\n            this.ui.container.style.border = contrastBorder ? `1px solid ${contrastBorder}` : '';\n            this.ui.container.style.boxShadow = widgetShadow ? `0 0 8px 2px ${widgetShadow}` : '';\n            this.ui.inputBox.style(this.styles.inputBox);\n            this.ui.count.style(this.styles.countBadge);\n            this.ui.ok.style(this.styles.button);\n            this.ui.customButton.style(this.styles.button);\n            this.ui.progressBar.style(this.styles.progressBar);\n            this.ui.list.style(this.styles.list);\n            const content = [];\n            if (this.styles.list.pickerGroupBorder) {\n                content.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`);\n            }\n            if (this.styles.list.pickerGroupForeground) {\n                content.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`);\n            }\n            if (this.styles.keybindingLabel.keybindingLabelBackground ||\n                this.styles.keybindingLabel.keybindingLabelBorder ||\n                this.styles.keybindingLabel.keybindingLabelBottomBorder ||\n                this.styles.keybindingLabel.keybindingLabelShadow ||\n                this.styles.keybindingLabel.keybindingLabelForeground) {\n                content.push('.quick-input-list .monaco-keybinding > .monaco-keybinding-key {');\n                if (this.styles.keybindingLabel.keybindingLabelBackground) {\n                    content.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBorder) {\n                    // Order matters here. `border-color` must come before `border-bottom-color`.\n                    content.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBottomBorder) {\n                    content.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelShadow) {\n                    content.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelForeground) {\n                    content.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`);\n                }\n                content.push('}');\n            }\n            const newStyles = content.join('\\n');\n            if (newStyles !== this.ui.styleSheet.textContent) {\n                this.ui.styleSheet.textContent = newStyles;\n            }\n        }\n    }\n}\nQuickInputController.MAX_WIDTH = 600; // Max total width of quick input widget\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport const NO_KEY_MODS = { ctrlCmd: false, alt: false };\nexport var QuickInputHideReason;\n(function (QuickInputHideReason) {\n    /**\n     * Focus moved away from the quick input.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Blur\"] = 1] = \"Blur\";\n    /**\n     * An explicit user gesture, e.g. pressing Escape key.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Gesture\"] = 2] = \"Gesture\";\n    /**\n     * Anything else.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Other\"] = 3] = \"Other\";\n})(QuickInputHideReason || (QuickInputHideReason = {}));\nexport var ItemActivation;\n(function (ItemActivation) {\n    ItemActivation[ItemActivation[\"NONE\"] = 0] = \"NONE\";\n    ItemActivation[ItemActivation[\"FIRST\"] = 1] = \"FIRST\";\n    ItemActivation[ItemActivation[\"SECOND\"] = 2] = \"SECOND\";\n    ItemActivation[ItemActivation[\"LAST\"] = 3] = \"LAST\";\n})(ItemActivation || (ItemActivation = {}));\nexport class QuickPickItemScorerAccessor {\n    constructor(options) {\n        this.options = options;\n    }\n}\nexport const quickPickItemScorerAccessor = new QuickPickItemScorerAccessor();\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ThrottledDelayer } from '../../../common/async.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport { isUndefinedOrNull } from '../../../common/types.js';\nvar StorageState;\n(function (StorageState) {\n    StorageState[StorageState[\"None\"] = 0] = \"None\";\n    StorageState[StorageState[\"Initialized\"] = 1] = \"Initialized\";\n    StorageState[StorageState[\"Closed\"] = 2] = \"Closed\";\n})(StorageState || (StorageState = {}));\nexport class Storage extends Disposable {\n    constructor(database, options = Object.create(null)) {\n        super();\n        this.database = database;\n        this.options = options;\n        this._onDidChangeStorage = this._register(new Emitter());\n        this.onDidChangeStorage = this._onDidChangeStorage.event;\n        this.state = StorageState.None;\n        this.cache = new Map();\n        this.flushDelayer = new ThrottledDelayer(Storage.DEFAULT_FLUSH_DELAY);\n        this.pendingDeletes = new Set();\n        this.pendingInserts = new Map();\n        this.whenFlushedCallbacks = [];\n        this.registerListeners();\n    }\n    registerListeners() {\n        this._register(this.database.onDidChangeItemsExternal(e => this.onDidChangeItemsExternal(e)));\n    }\n    onDidChangeItemsExternal(e) {\n        var _a, _b;\n        // items that change external require us to update our\n        // caches with the values. we just accept the value and\n        // emit an event if there is a change.\n        (_a = e.changed) === null || _a === void 0 ? void 0 : _a.forEach((value, key) => this.accept(key, value));\n        (_b = e.deleted) === null || _b === void 0 ? void 0 : _b.forEach(key => this.accept(key, undefined));\n    }\n    accept(key, value) {\n        if (this.state === StorageState.Closed) {\n            return; // Return early if we are already closed\n        }\n        let changed = false;\n        // Item got removed, check for deletion\n        if (isUndefinedOrNull(value)) {\n            changed = this.cache.delete(key);\n        }\n        // Item got updated, check for change\n        else {\n            const currentValue = this.cache.get(key);\n            if (currentValue !== value) {\n                this.cache.set(key, value);\n                changed = true;\n            }\n        }\n        // Signal to outside listeners\n        if (changed) {\n            this._onDidChangeStorage.fire(key);\n        }\n    }\n    get(key, fallbackValue) {\n        const value = this.cache.get(key);\n        if (isUndefinedOrNull(value)) {\n            return fallbackValue;\n        }\n        return value;\n    }\n    getBoolean(key, fallbackValue) {\n        const value = this.get(key);\n        if (isUndefinedOrNull(value)) {\n            return fallbackValue;\n        }\n        return value === 'true';\n    }\n    getNumber(key, fallbackValue) {\n        const value = this.get(key);\n        if (isUndefinedOrNull(value)) {\n            return fallbackValue;\n        }\n        return parseInt(value, 10);\n    }\n    set(key, value) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.state === StorageState.Closed) {\n                return; // Return early if we are already closed\n            }\n            // We remove the key for undefined/null values\n            if (isUndefinedOrNull(value)) {\n                return this.delete(key);\n            }\n            // Otherwise, convert to String and store\n            const valueStr = String(value);\n            // Return early if value already set\n            const currentValue = this.cache.get(key);\n            if (currentValue === valueStr) {\n                return;\n            }\n            // Update in cache and pending\n            this.cache.set(key, valueStr);\n            this.pendingInserts.set(key, valueStr);\n            this.pendingDeletes.delete(key);\n            // Event\n            this._onDidChangeStorage.fire(key);\n            // Accumulate work by scheduling after timeout\n            return this.doFlush();\n        });\n    }\n    delete(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.state === StorageState.Closed) {\n                return; // Return early if we are already closed\n            }\n            // Remove from cache and add to pending\n            const wasDeleted = this.cache.delete(key);\n            if (!wasDeleted) {\n                return; // Return early if value already deleted\n            }\n            if (!this.pendingDeletes.has(key)) {\n                this.pendingDeletes.add(key);\n            }\n            this.pendingInserts.delete(key);\n            // Event\n            this._onDidChangeStorage.fire(key);\n            // Accumulate work by scheduling after timeout\n            return this.doFlush();\n        });\n    }\n    get hasPending() {\n        return this.pendingInserts.size > 0 || this.pendingDeletes.size > 0;\n    }\n    flushPending() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.hasPending) {\n                return; // return early if nothing to do\n            }\n            // Get pending data\n            const updateRequest = { insert: this.pendingInserts, delete: this.pendingDeletes };\n            // Reset pending data for next run\n            this.pendingDeletes = new Set();\n            this.pendingInserts = new Map();\n            // Update in storage and release any\n            // waiters we have once done\n            return this.database.updateItems(updateRequest).finally(() => {\n                var _a;\n                if (!this.hasPending) {\n                    while (this.whenFlushedCallbacks.length) {\n                        (_a = this.whenFlushedCallbacks.pop()) === null || _a === void 0 ? void 0 : _a();\n                    }\n                }\n            });\n        });\n    }\n    doFlush(delay) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.flushDelayer.trigger(() => this.flushPending(), delay);\n        });\n    }\n    dispose() {\n        this.flushDelayer.dispose();\n        super.dispose();\n    }\n}\nStorage.DEFAULT_FLUSH_DELAY = 100;\nexport class InMemoryStorageDatabase {\n    constructor() {\n        this.onDidChangeItemsExternal = Event.None;\n        this.items = new Map();\n    }\n    updateItems(request) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (request.insert) {\n                request.insert.forEach((value, key) => this.items.set(key, value));\n            }\n            if (request.delete) {\n                request.delete.forEach(key => this.items.delete(key));\n            }\n        });\n    }\n}\n"],"names":["INITIALIZE","webWorkerWarningLogged","logOnceWebWorkerWarning","err","isWeb","console","warn","message","RequestMessage","vsWorker","req","method","args","this","type","ReplyMessage","seq","res","SubscribeEventMessage","eventName","arg","EventMessage","event","UnsubscribeEventMessage","SimpleWorkerProtocol","handler","_workerId","_handler","_lastSentReq","_pendingReplies","Object","create","_pendingEmitters","Map","_pendingEvents","workerId","String","Promise","resolve","reject","_send","emitter","Emitter","onFirstListenerAdd","set","onLastListenerRemove","delete","_handleMessage","msg","_handleReplyMessage","_handleRequestMessage","_handleSubscribeEventMessage","_handleEventMessage","_handleUnsubscribeEventMessage","replyMessage","reply","$isError","Error","name","stack","requestMessage","handleMessage","then","r","undefined","e","detail","transformErrorForSerialization","disposable","handleEvent","has","get","fire","dispose","transfer","i","length","ArrayBuffer","push","sendMessage","SimpleWorkerClient","workerFactory","moduleId","host","lazyProxyReject","_worker","_register","_protocol","postMessage","apply","propertyIsDynamicEvent","call","propertyIsEvent","setWorkerId","getId","loaderConfiguration","globals","hostMethods","types","_onModuleLoaded","JSON","parse","stringify","proxyMethodRequest","_request","proxyListen","listen","_lazyProxy","availableMethods","createProxyObject","_onError","error","info","Disposable","strings","charCodeAt","test","methodNames","invoke","createProxyMethod","Array","prototype","slice","arguments","createProxyDynamicEvent","result","methodName","iconPathToClass","iconClassGenerator","IdGenerator","getIconClass","iconPath","iconClass","key","dark","toString","nextId","dom","createCSSRule","asCSSUrl","light","$","QuickInputBox","parent","onKeyDown","addDisposableListener","inputBox","inputElement","EventType","KEY_DOWN","StandardKeyboardEvent","onMouseDown","MOUSE_DOWN","StandardMouseEvent","onDidChange","container","append","InputBox","value","range","select","isSelectionAtEnd","getAttribute","placeholder","setPlaceHolder","getAriaLabel","ariaLabel","setAriaLabel","password","setAttribute","removeAttribute","decoration","Severity","hideMessage","showMessage","content","stylesForType","focus","layout","styles","style","__decorate","decorators","target","desc","d","c","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","done","ListElement","init","hidden","_onChecked","onChecked","assign","_checked","ListElementRenderer","ID","data","toDisposeElement","toDisposeTemplate","entry","label","addStandardDisposableListener","CLICK","checkbox","offsetParent","preventDefault","CHANGE","element","checked","rows","row1","row2","IconLabel","supportHighlights","supportDescriptionHighlights","supportIcons","keybindingContainer","keybinding","KeybindingLabel","platform","OS","detailContainer","separator","actionBar","ActionBar","domNode","classList","add","index","labelHighlights","descriptionHighlights","detailHighlights","options","matches","descriptionTitle","saneDescription","descriptionMatches","extraClasses","item","iconClasses","italic","strikethrough","setLabel","saneLabel","saneDetail","title","textContent","display","toggle","clear","buttons","map","button","cssClasses","alwaysVisible","action","Action","fireButtonTriggered","tooltip","icon","remove","QuickInputListFocus","ListElementDelegate","QuickInputList","id","inputElements","elements","elementsToIndexes","matchOnDescription","matchOnDetail","matchOnLabel","matchOnMeta","sortByLabel","_onChangedAllVisibleChecked","onChangedAllVisibleChecked","_onChangedCheckedCount","onChangedCheckedCount","_onChangedVisibleCount","onChangedVisibleCount","_onChangedCheckedElements","onChangedCheckedElements","_onButtonTriggered","onButtonTriggered","_onKeyDown","_onLeave","onLeave","_fireCheckedEvents","elementDisposables","disposables","delegate","accessibilityProvider","QuickInputAccessibilityProvider","list","createList","identityProvider","setRowLineHeight","multipleSelectionSupport","horizontalScrolling","getHTMLElement","keyCode","toggleCheckbox","metaKey","ctrlKey","setFocus","focus1","getFocus","focus2","browserEvent","x","y","onMouseMiddleClick","onContextMenu","setSelection","Event","onDidChangeFocus","onDidChangeSelection","items","scrollTop","allVisibleChecked","whenNoneVisible","n","count","forEach","fireCheckedEvents","reduce","_a","_b","_c","previous","replace","saneMeta","meta","description","saneAriaLabel","s","getCodiconAriaLabel","filter","join","highlights","splice","getFocusedElements","focused","reveal","Set","pointerEvents","what","Next","First","Previous","Last","Second","focusFirst","focusNth","focusLast","focusNext","focusPrevious","NextPage","focusNextPage","PreviousPage","focusPreviousPage","domFocus","maxHeight","Math","floor","query","currentSeparator","trim","withNullAsUndefined","matchesFuzzyIconAware","parseLabelWithIcons","metaHighlights","alwaysShow","shownElements","normalizedSearchValue","toLowerCase","sort","a","b","elementA","elementB","lookFor","labelHighlightsA","labelHighlightsB","compareAnything","compareEntries","getAllVisibleChecked","allChecked","getCheckedCount","getCheckedElements","memoize","localize","backButton","Codicon","handle","QuickInput","ui","visible","_enabled","_busy","_ignoreFocusOut","_buttons","noValidationMessage","noPromptMessage","_severity","buttonsUpdated","onDidTriggerButtonEmitter","onDidHideEmitter","onDisposeEmitter","visibleDisposables","DisposableStore","onDidHide","_title","update","_description","_steps","_totalSteps","totalSteps","enabled","_contextKey","contextKey","busy","ignoreFocusOut","shouldUpdate","isIOS","_validationMessage","validationMessage","severity","onDidTriggerButton","indexOf","show","_lastValidationMessage","_lastSeverity","hide","reason","QuickInputHideReason","getTitle","innerHTML","innerText","getDescription","description1","description2","busyDelay","TimeoutTimer","setIfNotSet","progressBar","infinite","stop","cancel","leftActionBar","leftButtons","rightActionBar","rightButtons","setEnabled","setContextKey","reset","renderLabelWithIcons","showMessageDecoration","getSteps","showDecoration","color","foreground","backgroundColor","background","border","marginBottom","QuickPick","_value","onDidChangeValueEmitter","onWillAcceptEmitter","onDidAcceptEmitter","onDidCustomEmitter","_items","itemsUpdated","_canSelectMany","_canAcceptInBackground","_matchOnDescription","_matchOnDetail","_matchOnLabel","_sortByLabel","_autoFocusOnList","_keepScrollPosition","_itemActivation","isScreenReaderOptimized","ItemActivation","_activeItems","activeItemsUpdated","activeItemsToConfirm","onDidChangeActiveEmitter","_selectedItems","selectedItemsUpdated","selectedItemsToConfirm","onDidChangeSelectionEmitter","onDidTriggerItemButtonEmitter","valueSelectionUpdated","_ok","_customButton","filterValue","onDidChangeValue","onWillAccept","onDidAccept","onDidChangeActive","onDidTriggerItemButton","_quickNavigate","quickNavigate","doSetValue","skipUpdate","trySelectFirst","_ariaLabel","_placeholder","canSelectMany","canAcceptInBackground","autoFocusOnList","keepScrollPosition","itemActivation","activeItems","selectedItems","NO_KEY_MODS","keyMods","valueSelection","_valueSelection","showCustomButton","_customButtonLabel","_customButtonHover","hover","showOkButton","_hideInput","hideInput","clearFocus","EventHelper","handleAccept","shiftKey","altKey","onDidCustom","focusedItems","equals","setSelectedElements","MouseEvent","checkedItems","registerQuickNavigation","inBackground","veto","KEY_UP","keyboardEvent","keybindings","some","k","getParts","firstPart","scrollTopBefore","visibilities","checkAll","_hideCheckAll","checkBox","visibleCount","ok","customButton","setVisibilities","start","end","DEFAULT_ARIA_LABEL","setElements","setCount","getVisibleCount","contains","setFocusedElements","setCheckedElements","customLabel","customHover","setComboboxAccessibility","QuickInputController","comboboxAccessibility","ctrlCmd","alt","controller","onShowEmitter","onShow","onHideEmitter","onHide","idPrefix","parentElement","registerKeyModsListeners","listener","window","tabIndex","styleSheet","createStyleSheet","titleBar","headerContainer","setAllVisibleChecked","extraContainer","filterContainer","visibleCountContainer","CountBadge","countFormat","comment","countContainer","okContainer","Button","onDidClick","customButtonContainer","setTimeout","getUI","getActiveDescendant","ProgressBar","getContainer","focusTracker","trackFocus","FOCUS","previousFocusElement","relatedTarget","HTMLElement","onDidBlur","selectors","isDisplayed","stops","querySelectorAll","updateStyles","picks","token","CancellationToken","doResolve","onKeyMods","input","isCancellationRequested","activeItem","createQuickPick","onDidFocus","removeItem","removed","keepScrollPositionBefore","onCancellationRequested","canPickMany","placeHolder","ignoreFocusLost","all","_activeItem","picked","oldController","didHide","backKeybindingLabel","updateLayout","viewItems","getAction","disabled","focusChanged","document","activeElement","currentElement","returnFocus","dimension","titleBarOffset","top","width","min","MAX_WIDTH","marginLeft","height","widget","quickInputTitleBackground","quickInputBackground","quickInputForeground","contrastBorder","widgetShadow","boxShadow","countBadge","pickerGroupBorder","pickerGroupForeground","keybindingLabel","keybindingLabelBackground","keybindingLabelBorder","keybindingLabelBottomBorder","keybindingLabelShadow","keybindingLabelForeground","newStyles","StorageState","Storage","database","_onDidChangeStorage","onDidChangeStorage","state","None","cache","flushDelayer","ThrottledDelayer","DEFAULT_FLUSH_DELAY","pendingDeletes","pendingInserts","whenFlushedCallbacks","registerListeners","onDidChangeItemsExternal","changed","accept","deleted","Closed","isUndefinedOrNull","fallbackValue","parseInt","valueStr","doFlush","size","hasPending","updateRequest","insert","updateItems","finally","pop","delay","trigger","flushPending","InMemoryStorageDatabase","request"],"sourceRoot":""}