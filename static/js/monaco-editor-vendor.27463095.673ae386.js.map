{"version":3,"file":"static/js/monaco-editor-vendor.27463095.673ae386.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/base/browser/ui/checkbox/checkbox.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/codicons/codiconStyles.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/contextview/contextview.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/countBadge/countBadge.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdown.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdownActionViewItem.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInput.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInputCheckboxes.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/replaceInput.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/highlightedlabel/highlightedLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/hover/hoverWidget.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabelHover.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabels.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/keybindingLabel/keybindingLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/listPaging.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/rangeMap.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/rowCache.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/splice.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/list.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/listWidget.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/menu/menu.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Widget } from '../widget.js';\nimport { CSSIcon } from '../../../common/codicons.js';\nimport { Color } from '../../../common/color.js';\nimport { Emitter } from '../../../common/event.js';\nimport './checkbox.css';\nconst defaultOpts = {\n    inputActiveOptionBorder: Color.fromHex('#007ACC00'),\n    inputActiveOptionForeground: Color.fromHex('#FFFFFF'),\n    inputActiveOptionBackground: Color.fromHex('#0E639C50')\n};\nexport class Checkbox extends Widget {\n    constructor(opts) {\n        super();\n        this._onChange = this._register(new Emitter());\n        this.onChange = this._onChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._opts = Object.assign(Object.assign({}, defaultOpts), opts);\n        this._checked = this._opts.isChecked;\n        const classes = ['monaco-custom-checkbox'];\n        if (this._opts.icon) {\n            classes.push(...CSSIcon.asClassNameArray(this._opts.icon));\n        }\n        if (this._opts.actionClassName) {\n            classes.push(...this._opts.actionClassName.split(' '));\n        }\n        if (this._checked) {\n            classes.push('checked');\n        }\n        this.domNode = document.createElement('div');\n        this.domNode.title = this._opts.title;\n        this.domNode.classList.add(...classes);\n        if (!this._opts.notFocusable) {\n            this.domNode.tabIndex = 0;\n        }\n        this.domNode.setAttribute('role', 'checkbox');\n        this.domNode.setAttribute('aria-checked', String(this._checked));\n        this.domNode.setAttribute('aria-label', this._opts.title);\n        this.applyStyles();\n        this.onclick(this.domNode, (ev) => {\n            if (this.enabled) {\n                this.checked = !this._checked;\n                this._onChange.fire(false);\n                ev.preventDefault();\n            }\n        });\n        this.ignoreGesture(this.domNode);\n        this.onkeydown(this.domNode, (keyboardEvent) => {\n            if (keyboardEvent.keyCode === 10 /* Space */ || keyboardEvent.keyCode === 3 /* Enter */) {\n                this.checked = !this._checked;\n                this._onChange.fire(true);\n                keyboardEvent.preventDefault();\n                return;\n            }\n            this._onKeyDown.fire(keyboardEvent);\n        });\n    }\n    get enabled() {\n        return this.domNode.getAttribute('aria-disabled') !== 'true';\n    }\n    focus() {\n        this.domNode.focus();\n    }\n    get checked() {\n        return this._checked;\n    }\n    set checked(newIsChecked) {\n        this._checked = newIsChecked;\n        this.domNode.setAttribute('aria-checked', String(this._checked));\n        this.domNode.classList.toggle('checked', this._checked);\n        this.applyStyles();\n    }\n    width() {\n        return 2 /*margin left*/ + 2 /*border*/ + 2 /*padding*/ + 16 /* icon width */;\n    }\n    style(styles) {\n        if (styles.inputActiveOptionBorder) {\n            this._opts.inputActiveOptionBorder = styles.inputActiveOptionBorder;\n        }\n        if (styles.inputActiveOptionForeground) {\n            this._opts.inputActiveOptionForeground = styles.inputActiveOptionForeground;\n        }\n        if (styles.inputActiveOptionBackground) {\n            this._opts.inputActiveOptionBackground = styles.inputActiveOptionBackground;\n        }\n        this.applyStyles();\n    }\n    applyStyles() {\n        if (this.domNode) {\n            this.domNode.style.borderColor = this._checked && this._opts.inputActiveOptionBorder ? this._opts.inputActiveOptionBorder.toString() : '';\n            this.domNode.style.color = this._checked && this._opts.inputActiveOptionForeground ? this._opts.inputActiveOptionForeground.toString() : 'inherit';\n            this.domNode.style.backgroundColor = this._checked && this._opts.inputActiveOptionBackground ? this._opts.inputActiveOptionBackground.toString() : '';\n        }\n    }\n    enable() {\n        this.domNode.setAttribute('aria-disabled', String(false));\n    }\n    disable() {\n        this.domNode.setAttribute('aria-disabled', String(true));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Codicon } from '../../../common/codicons.js';\nimport './codicon/codicon.css';\nimport './codicon/codicon-modifiers.css';\nexport function formatRule(c) {\n    let def = c.definition;\n    while (def instanceof Codicon) {\n        def = def.definition;\n    }\n    return `.codicon-${c.id}:before { content: '${def.fontCharacter}'; }`;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { BrowserFeatures } from '../../canIUse.js';\nimport * as DOM from '../../dom.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { Range } from '../../../common/range.js';\nimport './contextview.css';\nexport var LayoutAnchorMode;\n(function (LayoutAnchorMode) {\n    LayoutAnchorMode[LayoutAnchorMode[\"AVOID\"] = 0] = \"AVOID\";\n    LayoutAnchorMode[LayoutAnchorMode[\"ALIGN\"] = 1] = \"ALIGN\";\n})(LayoutAnchorMode || (LayoutAnchorMode = {}));\n/**\n * Lays out a one dimensional view next to an anchor in a viewport.\n *\n * @returns The view offset within the viewport.\n */\nexport function layout(viewportSize, viewSize, anchor) {\n    const layoutAfterAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset : anchor.offset + anchor.size;\n    const layoutBeforeAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset + anchor.size : anchor.offset;\n    if (anchor.position === 0 /* Before */) {\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // happy case, lay it out after the anchor\n        }\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // ok case, lay it out before the anchor\n        }\n        return Math.max(viewportSize - viewSize, 0); // sad case, lay it over the anchor\n    }\n    else {\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // happy case, lay it out before the anchor\n        }\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // ok case, lay it out after the anchor\n        }\n        return 0; // sad case, lay it over the anchor\n    }\n}\nexport class ContextView extends Disposable {\n    constructor(container, domPosition) {\n        super();\n        this.container = null;\n        this.delegate = null;\n        this.toDisposeOnClean = Disposable.None;\n        this.toDisposeOnSetContainer = Disposable.None;\n        this.shadowRoot = null;\n        this.shadowRootHostElement = null;\n        this.view = DOM.$('.context-view');\n        this.useFixedPosition = false;\n        this.useShadowDOM = false;\n        DOM.hide(this.view);\n        this.setContainer(container, domPosition);\n        this._register(toDisposable(() => this.setContainer(null, 1 /* ABSOLUTE */)));\n    }\n    setContainer(container, domPosition) {\n        var _a;\n        if (this.container) {\n            this.toDisposeOnSetContainer.dispose();\n            if (this.shadowRoot) {\n                this.shadowRoot.removeChild(this.view);\n                this.shadowRoot = null;\n                (_a = this.shadowRootHostElement) === null || _a === void 0 ? void 0 : _a.remove();\n                this.shadowRootHostElement = null;\n            }\n            else {\n                this.container.removeChild(this.view);\n            }\n            this.container = null;\n        }\n        if (container) {\n            this.container = container;\n            this.useFixedPosition = domPosition !== 1 /* ABSOLUTE */;\n            this.useShadowDOM = domPosition === 3 /* FIXED_SHADOW */;\n            if (this.useShadowDOM) {\n                this.shadowRootHostElement = DOM.$('.shadow-root-host');\n                this.container.appendChild(this.shadowRootHostElement);\n                this.shadowRoot = this.shadowRootHostElement.attachShadow({ mode: 'open' });\n                const style = document.createElement('style');\n                style.textContent = SHADOW_ROOT_CSS;\n                this.shadowRoot.appendChild(style);\n                this.shadowRoot.appendChild(this.view);\n                this.shadowRoot.appendChild(DOM.$('slot'));\n            }\n            else {\n                this.container.appendChild(this.view);\n            }\n            const toDisposeOnSetContainer = new DisposableStore();\n            ContextView.BUBBLE_UP_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, (e) => {\n                    this.onDOMEvent(e, false);\n                }));\n            });\n            ContextView.BUBBLE_DOWN_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, (e) => {\n                    this.onDOMEvent(e, true);\n                }, true));\n            });\n            this.toDisposeOnSetContainer = toDisposeOnSetContainer;\n        }\n    }\n    show(delegate) {\n        if (this.isVisible()) {\n            this.hide();\n        }\n        // Show static box\n        DOM.clearNode(this.view);\n        this.view.className = 'context-view';\n        this.view.style.top = '0px';\n        this.view.style.left = '0px';\n        this.view.style.zIndex = '2500';\n        this.view.style.position = this.useFixedPosition ? 'fixed' : 'absolute';\n        DOM.show(this.view);\n        // Render content\n        this.toDisposeOnClean = delegate.render(this.view) || Disposable.None;\n        // Set active delegate\n        this.delegate = delegate;\n        // Layout\n        this.doLayout();\n        // Focus\n        if (this.delegate.focus) {\n            this.delegate.focus();\n        }\n    }\n    getViewElement() {\n        return this.view;\n    }\n    layout() {\n        if (!this.isVisible()) {\n            return;\n        }\n        if (this.delegate.canRelayout === false && !(platform.isIOS && BrowserFeatures.pointerEvents)) {\n            this.hide();\n            return;\n        }\n        if (this.delegate.layout) {\n            this.delegate.layout();\n        }\n        this.doLayout();\n    }\n    doLayout() {\n        // Check that we still have a delegate - this.delegate.layout may have hidden\n        if (!this.isVisible()) {\n            return;\n        }\n        // Get anchor\n        let anchor = this.delegate.getAnchor();\n        // Compute around\n        let around;\n        // Get the element's position and size (to anchor the view)\n        if (DOM.isHTMLElement(anchor)) {\n            let elementPosition = DOM.getDomNodePagePosition(anchor);\n            around = {\n                top: elementPosition.top,\n                left: elementPosition.left,\n                width: elementPosition.width,\n                height: elementPosition.height\n            };\n        }\n        else {\n            around = {\n                top: anchor.y,\n                left: anchor.x,\n                width: anchor.width || 1,\n                height: anchor.height || 2\n            };\n        }\n        const viewSizeWidth = DOM.getTotalWidth(this.view);\n        const viewSizeHeight = DOM.getTotalHeight(this.view);\n        const anchorPosition = this.delegate.anchorPosition || 0 /* BELOW */;\n        const anchorAlignment = this.delegate.anchorAlignment || 0 /* LEFT */;\n        const anchorAxisAlignment = this.delegate.anchorAxisAlignment || 0 /* VERTICAL */;\n        let top;\n        let left;\n        if (anchorAxisAlignment === 0 /* VERTICAL */) {\n            const verticalAnchor = { offset: around.top - window.pageYOffset, size: around.height, position: anchorPosition === 0 /* BELOW */ ? 0 /* Before */ : 1 /* After */ };\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* LEFT */ ? 0 /* Before */ : 1 /* After */, mode: LayoutAnchorMode.ALIGN };\n            top = layout(window.innerHeight, viewSizeHeight, verticalAnchor) + window.pageYOffset;\n            // if view intersects vertically with anchor,  we must avoid the anchor\n            if (Range.intersects({ start: top, end: top + viewSizeHeight }, { start: verticalAnchor.offset, end: verticalAnchor.offset + verticalAnchor.size })) {\n                horizontalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            left = layout(window.innerWidth, viewSizeWidth, horizontalAnchor);\n        }\n        else {\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* LEFT */ ? 0 /* Before */ : 1 /* After */ };\n            const verticalAnchor = { offset: around.top, size: around.height, position: anchorPosition === 0 /* BELOW */ ? 0 /* Before */ : 1 /* After */, mode: LayoutAnchorMode.ALIGN };\n            left = layout(window.innerWidth, viewSizeWidth, horizontalAnchor);\n            // if view intersects horizontally with anchor, we must avoid the anchor\n            if (Range.intersects({ start: left, end: left + viewSizeWidth }, { start: horizontalAnchor.offset, end: horizontalAnchor.offset + horizontalAnchor.size })) {\n                verticalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            top = layout(window.innerHeight, viewSizeHeight, verticalAnchor) + window.pageYOffset;\n        }\n        this.view.classList.remove('top', 'bottom', 'left', 'right');\n        this.view.classList.add(anchorPosition === 0 /* BELOW */ ? 'bottom' : 'top');\n        this.view.classList.add(anchorAlignment === 0 /* LEFT */ ? 'left' : 'right');\n        this.view.classList.toggle('fixed', this.useFixedPosition);\n        const containerPosition = DOM.getDomNodePagePosition(this.container);\n        this.view.style.top = `${top - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).top : containerPosition.top)}px`;\n        this.view.style.left = `${left - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).left : containerPosition.left)}px`;\n        this.view.style.width = 'initial';\n    }\n    hide(data) {\n        const delegate = this.delegate;\n        this.delegate = null;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.onHide) {\n            delegate.onHide(data);\n        }\n        this.toDisposeOnClean.dispose();\n        DOM.hide(this.view);\n    }\n    isVisible() {\n        return !!this.delegate;\n    }\n    onDOMEvent(e, onCapture) {\n        if (this.delegate) {\n            if (this.delegate.onDOMEvent) {\n                this.delegate.onDOMEvent(e, document.activeElement);\n            }\n            else if (onCapture && !DOM.isAncestor(e.target, this.container)) {\n                this.hide();\n            }\n        }\n    }\n    dispose() {\n        this.hide();\n        super.dispose();\n    }\n}\nContextView.BUBBLE_UP_EVENTS = ['click', 'keydown', 'focus', 'blur'];\nContextView.BUBBLE_DOWN_EVENTS = ['click'];\nlet SHADOW_ROOT_CSS = /* css */ `\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: \"codicon\";\n\t\tfont-display: block;\n\t\tsrc: url(\"./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6\") format(\"truetype\");\n\t}\n\n\t.codicon[class*='codicon-'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe WPC\", \"Segoe UI\", \"HelveticaNeue-Light\", system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang SC\", \"Hiragino Sans GB\", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang TC\", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, \"Hiragino Kaku Gothic Pro\", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, \"Nanum Gothic\", \"Apple SD Gothic Neo\", \"AppleGothic\", sans-serif; }\n\n\t:host-context(.windows) { font-family: \"Segoe WPC\", \"Segoe UI\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft YaHei\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft Jhenghei\", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Yu Gothic UI\", \"Meiryo UI\", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Malgun Gothic\", \"Dotom\", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans SC\", \"Source Han Sans CN\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans TC\", \"Source Han Sans TW\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans J\", \"Source Han Sans JP\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans K\", \"Source Han Sans JR\", \"Source Han Sans\", \"UnDotum\", \"FBaekmuk Gulim\", sans-serif; }\n`;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, append } from '../../dom.js';\nimport { Color } from '../../../common/color.js';\nimport { mixin } from '../../../common/objects.js';\nimport { format } from '../../../common/strings.js';\nimport './countBadge.css';\nconst defaultOpts = {\n    badgeBackground: Color.fromHex('#4D4D4D'),\n    badgeForeground: Color.fromHex('#FFFFFF')\n};\nexport class CountBadge {\n    constructor(container, options) {\n        this.count = 0;\n        this.options = options || Object.create(null);\n        mixin(this.options, defaultOpts, false);\n        this.badgeBackground = this.options.badgeBackground;\n        this.badgeForeground = this.options.badgeForeground;\n        this.badgeBorder = this.options.badgeBorder;\n        this.element = append(container, $('.monaco-count-badge'));\n        this.countFormat = this.options.countFormat || '{0}';\n        this.titleFormat = this.options.titleFormat || '';\n        this.setCount(this.options.count || 0);\n    }\n    setCount(count) {\n        this.count = count;\n        this.render();\n    }\n    setTitleFormat(titleFormat) {\n        this.titleFormat = titleFormat;\n        this.render();\n    }\n    render() {\n        this.element.textContent = format(this.countFormat, this.count);\n        this.element.title = format(this.titleFormat, this.count);\n        this.applyStyles();\n    }\n    style(styles) {\n        this.badgeBackground = styles.badgeBackground;\n        this.badgeForeground = styles.badgeForeground;\n        this.badgeBorder = styles.badgeBorder;\n        this.applyStyles();\n    }\n    applyStyles() {\n        if (this.element) {\n            const background = this.badgeBackground ? this.badgeBackground.toString() : '';\n            const foreground = this.badgeForeground ? this.badgeForeground.toString() : '';\n            const border = this.badgeBorder ? this.badgeBorder.toString() : '';\n            this.element.style.backgroundColor = background;\n            this.element.style.color = foreground;\n            this.element.style.borderWidth = border ? '1px' : '';\n            this.element.style.borderStyle = border ? 'solid' : '';\n            this.element.style.borderColor = border;\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, addDisposableListener, append, EventHelper, EventType } from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { EventType as GestureEventType, Gesture } from '../../touch.js';\nimport { ActionRunner } from '../../../common/actions.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nexport class BaseDropdown extends ActionRunner {\n    constructor(container, options) {\n        super();\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n        this._element = append(container, $('.monaco-dropdown'));\n        this._label = append(this._element, $('.dropdown-label'));\n        let labelRenderer = options.labelRenderer;\n        if (!labelRenderer) {\n            labelRenderer = (container) => {\n                container.textContent = options.label || '';\n                return null;\n            };\n        }\n        for (const event of [EventType.CLICK, EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n            this._register(addDisposableListener(this.element, event, e => EventHelper.stop(e, true))); // prevent default click behaviour to trigger\n        }\n        for (const event of [EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n            this._register(addDisposableListener(this._label, event, e => {\n                if (e instanceof MouseEvent && e.detail > 1) {\n                    return; // prevent multiple clicks to open multiple context menus (https://github.com/microsoft/vscode/issues/41363)\n                }\n                if (this.visible) {\n                    this.hide();\n                }\n                else {\n                    this.show();\n                }\n            }));\n        }\n        this._register(addDisposableListener(this._label, EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(3 /* Enter */) || event.equals(10 /* Space */)) {\n                EventHelper.stop(e, true); // https://github.com/microsoft/vscode/issues/57997\n                if (this.visible) {\n                    this.hide();\n                }\n                else {\n                    this.show();\n                }\n            }\n        }));\n        const cleanupFn = labelRenderer(this._label);\n        if (cleanupFn) {\n            this._register(cleanupFn);\n        }\n        this._register(Gesture.addTarget(this._label));\n    }\n    get element() {\n        return this._element;\n    }\n    show() {\n        if (!this.visible) {\n            this.visible = true;\n            this._onDidChangeVisibility.fire(true);\n        }\n    }\n    hide() {\n        if (this.visible) {\n            this.visible = false;\n            this._onDidChangeVisibility.fire(false);\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.hide();\n        if (this.boxContainer) {\n            this.boxContainer.remove();\n            this.boxContainer = undefined;\n        }\n        if (this.contents) {\n            this.contents.remove();\n            this.contents = undefined;\n        }\n        if (this._label) {\n            this._label.remove();\n            this._label = undefined;\n        }\n    }\n}\nexport class DropdownMenu extends BaseDropdown {\n    constructor(container, options) {\n        super(container, options);\n        this._actions = [];\n        this._contextMenuProvider = options.contextMenuProvider;\n        this.actions = options.actions || [];\n        this.actionProvider = options.actionProvider;\n        this.menuClassName = options.menuClassName || '';\n        this.menuAsChild = !!options.menuAsChild;\n    }\n    set menuOptions(options) {\n        this._menuOptions = options;\n    }\n    get menuOptions() {\n        return this._menuOptions;\n    }\n    get actions() {\n        if (this.actionProvider) {\n            return this.actionProvider.getActions();\n        }\n        return this._actions;\n    }\n    set actions(actions) {\n        this._actions = actions;\n    }\n    show() {\n        super.show();\n        this.element.classList.add('active');\n        this._contextMenuProvider.showContextMenu({\n            getAnchor: () => this.element,\n            getActions: () => this.actions,\n            getActionsContext: () => this.menuOptions ? this.menuOptions.context : null,\n            getActionViewItem: action => this.menuOptions && this.menuOptions.actionViewItemProvider ? this.menuOptions.actionViewItemProvider(action) : undefined,\n            getKeyBinding: action => this.menuOptions && this.menuOptions.getKeyBinding ? this.menuOptions.getKeyBinding(action) : undefined,\n            getMenuClassName: () => this.menuClassName,\n            onHide: () => this.onHide(),\n            actionRunner: this.menuOptions ? this.menuOptions.actionRunner : undefined,\n            anchorAlignment: this.menuOptions ? this.menuOptions.anchorAlignment : 0 /* LEFT */,\n            domForShadowRoot: this.menuAsChild ? this.element : undefined\n        });\n    }\n    hide() {\n        super.hide();\n    }\n    onHide() {\n        this.hide();\n        this.element.classList.remove('active');\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, append } from '../../dom.js';\nimport { BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { DropdownMenu } from './dropdown.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nexport class DropdownMenuActionViewItem extends BaseActionViewItem {\n    constructor(action, menuActionsOrProvider, contextMenuProvider, options = Object.create(null)) {\n        super(null, action, options);\n        this.actionItem = null;\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.menuActionsOrProvider = menuActionsOrProvider;\n        this.contextMenuProvider = contextMenuProvider;\n        this.options = options;\n        if (this.options.actionRunner) {\n            this.actionRunner = this.options.actionRunner;\n        }\n    }\n    render(container) {\n        this.actionItem = container;\n        const labelRenderer = (el) => {\n            this.element = append(el, $('a.action-label'));\n            let classNames = [];\n            if (typeof this.options.classNames === 'string') {\n                classNames = this.options.classNames.split(/\\s+/g).filter(s => !!s);\n            }\n            else if (this.options.classNames) {\n                classNames = this.options.classNames;\n            }\n            // todo@aeschli: remove codicon, should come through `this.options.classNames`\n            if (!classNames.find(c => c === 'icon')) {\n                classNames.push('codicon');\n            }\n            this.element.classList.add(...classNames);\n            this.element.setAttribute('role', 'button');\n            this.element.setAttribute('aria-haspopup', 'true');\n            this.element.setAttribute('aria-expanded', 'false');\n            this.element.title = this._action.label || '';\n            return null;\n        };\n        const isActionsArray = Array.isArray(this.menuActionsOrProvider);\n        const options = {\n            contextMenuProvider: this.contextMenuProvider,\n            labelRenderer: labelRenderer,\n            menuAsChild: this.options.menuAsChild,\n            actions: isActionsArray ? this.menuActionsOrProvider : undefined,\n            actionProvider: isActionsArray ? undefined : this.menuActionsOrProvider\n        };\n        this.dropdownMenu = this._register(new DropdownMenu(container, options));\n        this._register(this.dropdownMenu.onDidChangeVisibility(visible => {\n            var _a;\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', `${visible}`);\n            this._onDidChangeVisibility.fire(visible);\n        }));\n        this.dropdownMenu.menuOptions = {\n            actionViewItemProvider: this.options.actionViewItemProvider,\n            actionRunner: this.actionRunner,\n            getKeyBinding: this.options.keybindingProvider,\n            context: this._context\n        };\n        if (this.options.anchorAlignmentProvider) {\n            const that = this;\n            this.dropdownMenu.menuOptions = Object.assign(Object.assign({}, this.dropdownMenu.menuOptions), { get anchorAlignment() {\n                    return that.options.anchorAlignmentProvider();\n                } });\n        }\n        this.updateEnabled();\n    }\n    setActionContext(newContext) {\n        super.setActionContext(newContext);\n        if (this.dropdownMenu) {\n            if (this.dropdownMenu.menuOptions) {\n                this.dropdownMenu.menuOptions.context = newContext;\n            }\n            else {\n                this.dropdownMenu.menuOptions = { context: newContext };\n            }\n        }\n    }\n    updateEnabled() {\n        var _a, _b;\n        const disabled = !this.getAction().enabled;\n        (_a = this.actionItem) === null || _a === void 0 ? void 0 : _a.classList.toggle('disabled', disabled);\n        (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.toggle('disabled', disabled);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { CaseSensitiveCheckbox, RegexCheckbox, WholeWordsCheckbox } from './findInputCheckboxes.js';\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\nimport { Widget } from '../widget.js';\nimport { Emitter } from '../../../common/event.js';\nimport './findInput.css';\nimport * as nls from '../../../../nls.js';\nconst NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\nexport class FindInput extends Widget {\n    constructor(parent, contextViewProvider, _showOptionButtons, options) {\n        super();\n        this._showOptionButtons = _showOptionButtons;\n        this.fixFocusOnOptionClickEnabled = true;\n        this.imeSessionInProgress = false;\n        this._onDidOptionChange = this._register(new Emitter());\n        this.onDidOptionChange = this._onDidOptionChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._onMouseDown = this._register(new Emitter());\n        this.onMouseDown = this._onMouseDown.event;\n        this._onInput = this._register(new Emitter());\n        this._onKeyUp = this._register(new Emitter());\n        this._onCaseSensitiveKeyDown = this._register(new Emitter());\n        this.onCaseSensitiveKeyDown = this._onCaseSensitiveKeyDown.event;\n        this._onRegexKeyDown = this._register(new Emitter());\n        this.onRegexKeyDown = this._onRegexKeyDown.event;\n        this._lastHighlightFindOptions = 0;\n        this.contextViewProvider = contextViewProvider;\n        this.placeholder = options.placeholder || '';\n        this.validation = options.validation;\n        this.label = options.label || NLS_DEFAULT_LABEL;\n        this.inputActiveOptionBorder = options.inputActiveOptionBorder;\n        this.inputActiveOptionForeground = options.inputActiveOptionForeground;\n        this.inputActiveOptionBackground = options.inputActiveOptionBackground;\n        this.inputBackground = options.inputBackground;\n        this.inputForeground = options.inputForeground;\n        this.inputBorder = options.inputBorder;\n        this.inputValidationInfoBorder = options.inputValidationInfoBorder;\n        this.inputValidationInfoBackground = options.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = options.inputValidationInfoForeground;\n        this.inputValidationWarningBorder = options.inputValidationWarningBorder;\n        this.inputValidationWarningBackground = options.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = options.inputValidationWarningForeground;\n        this.inputValidationErrorBorder = options.inputValidationErrorBorder;\n        this.inputValidationErrorBackground = options.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = options.inputValidationErrorForeground;\n        const appendCaseSensitiveLabel = options.appendCaseSensitiveLabel || '';\n        const appendWholeWordsLabel = options.appendWholeWordsLabel || '';\n        const appendRegexLabel = options.appendRegexLabel || '';\n        const history = options.history || [];\n        const flexibleHeight = !!options.flexibleHeight;\n        const flexibleWidth = !!options.flexibleWidth;\n        const flexibleMaxHeight = options.flexibleMaxHeight;\n        this.domNode = document.createElement('div');\n        this.domNode.classList.add('monaco-findInput');\n        this.inputBox = this._register(new HistoryInputBox(this.domNode, this.contextViewProvider, {\n            placeholder: this.placeholder || '',\n            ariaLabel: this.label || '',\n            validationOptions: {\n                validation: this.validation\n            },\n            inputBackground: this.inputBackground,\n            inputForeground: this.inputForeground,\n            inputBorder: this.inputBorder,\n            inputValidationInfoBackground: this.inputValidationInfoBackground,\n            inputValidationInfoForeground: this.inputValidationInfoForeground,\n            inputValidationInfoBorder: this.inputValidationInfoBorder,\n            inputValidationWarningBackground: this.inputValidationWarningBackground,\n            inputValidationWarningForeground: this.inputValidationWarningForeground,\n            inputValidationWarningBorder: this.inputValidationWarningBorder,\n            inputValidationErrorBackground: this.inputValidationErrorBackground,\n            inputValidationErrorForeground: this.inputValidationErrorForeground,\n            inputValidationErrorBorder: this.inputValidationErrorBorder,\n            history,\n            showHistoryHint: options.showHistoryHint,\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight\n        }));\n        this.regex = this._register(new RegexCheckbox({\n            appendTitle: appendRegexLabel,\n            isChecked: false,\n            inputActiveOptionBorder: this.inputActiveOptionBorder,\n            inputActiveOptionForeground: this.inputActiveOptionForeground,\n            inputActiveOptionBackground: this.inputActiveOptionBackground\n        }));\n        this._register(this.regex.onChange(viaKeyboard => {\n            this._onDidOptionChange.fire(viaKeyboard);\n            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                this.inputBox.focus();\n            }\n            this.validate();\n        }));\n        this._register(this.regex.onKeyDown(e => {\n            this._onRegexKeyDown.fire(e);\n        }));\n        this.wholeWords = this._register(new WholeWordsCheckbox({\n            appendTitle: appendWholeWordsLabel,\n            isChecked: false,\n            inputActiveOptionBorder: this.inputActiveOptionBorder,\n            inputActiveOptionForeground: this.inputActiveOptionForeground,\n            inputActiveOptionBackground: this.inputActiveOptionBackground\n        }));\n        this._register(this.wholeWords.onChange(viaKeyboard => {\n            this._onDidOptionChange.fire(viaKeyboard);\n            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                this.inputBox.focus();\n            }\n            this.validate();\n        }));\n        this.caseSensitive = this._register(new CaseSensitiveCheckbox({\n            appendTitle: appendCaseSensitiveLabel,\n            isChecked: false,\n            inputActiveOptionBorder: this.inputActiveOptionBorder,\n            inputActiveOptionForeground: this.inputActiveOptionForeground,\n            inputActiveOptionBackground: this.inputActiveOptionBackground\n        }));\n        this._register(this.caseSensitive.onChange(viaKeyboard => {\n            this._onDidOptionChange.fire(viaKeyboard);\n            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                this.inputBox.focus();\n            }\n            this.validate();\n        }));\n        this._register(this.caseSensitive.onKeyDown(e => {\n            this._onCaseSensitiveKeyDown.fire(e);\n        }));\n        if (this._showOptionButtons) {\n            this.inputBox.paddingRight = this.caseSensitive.width() + this.wholeWords.width() + this.regex.width();\n        }\n        // Arrow-Key support to navigate between options\n        let indexes = [this.caseSensitive.domNode, this.wholeWords.domNode, this.regex.domNode];\n        this.onkeydown(this.domNode, (event) => {\n            if (event.equals(15 /* LeftArrow */) || event.equals(17 /* RightArrow */) || event.equals(9 /* Escape */)) {\n                let index = indexes.indexOf(document.activeElement);\n                if (index >= 0) {\n                    let newIndex = -1;\n                    if (event.equals(17 /* RightArrow */)) {\n                        newIndex = (index + 1) % indexes.length;\n                    }\n                    else if (event.equals(15 /* LeftArrow */)) {\n                        if (index === 0) {\n                            newIndex = indexes.length - 1;\n                        }\n                        else {\n                            newIndex = index - 1;\n                        }\n                    }\n                    if (event.equals(9 /* Escape */)) {\n                        indexes[index].blur();\n                        this.inputBox.focus();\n                    }\n                    else if (newIndex >= 0) {\n                        indexes[newIndex].focus();\n                    }\n                    dom.EventHelper.stop(event, true);\n                }\n            }\n        });\n        this.controls = document.createElement('div');\n        this.controls.className = 'controls';\n        this.controls.style.display = this._showOptionButtons ? 'block' : 'none';\n        this.controls.appendChild(this.caseSensitive.domNode);\n        this.controls.appendChild(this.wholeWords.domNode);\n        this.controls.appendChild(this.regex.domNode);\n        this.domNode.appendChild(this.controls);\n        if (parent) {\n            parent.appendChild(this.domNode);\n        }\n        this._register(dom.addDisposableListener(this.inputBox.inputElement, 'compositionstart', (e) => {\n            this.imeSessionInProgress = true;\n        }));\n        this._register(dom.addDisposableListener(this.inputBox.inputElement, 'compositionend', (e) => {\n            this.imeSessionInProgress = false;\n            this._onInput.fire();\n        }));\n        this.onkeydown(this.inputBox.inputElement, (e) => this._onKeyDown.fire(e));\n        this.onkeyup(this.inputBox.inputElement, (e) => this._onKeyUp.fire(e));\n        this.oninput(this.inputBox.inputElement, (e) => this._onInput.fire());\n        this.onmousedown(this.inputBox.inputElement, (e) => this._onMouseDown.fire(e));\n    }\n    enable() {\n        this.domNode.classList.remove('disabled');\n        this.inputBox.enable();\n        this.regex.enable();\n        this.wholeWords.enable();\n        this.caseSensitive.enable();\n    }\n    disable() {\n        this.domNode.classList.add('disabled');\n        this.inputBox.disable();\n        this.regex.disable();\n        this.wholeWords.disable();\n        this.caseSensitive.disable();\n    }\n    setFocusInputOnOptionClick(value) {\n        this.fixFocusOnOptionClickEnabled = value;\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    }\n    getValue() {\n        return this.inputBox.value;\n    }\n    setValue(value) {\n        if (this.inputBox.value !== value) {\n            this.inputBox.value = value;\n        }\n    }\n    style(styles) {\n        this.inputActiveOptionBorder = styles.inputActiveOptionBorder;\n        this.inputActiveOptionForeground = styles.inputActiveOptionForeground;\n        this.inputActiveOptionBackground = styles.inputActiveOptionBackground;\n        this.inputBackground = styles.inputBackground;\n        this.inputForeground = styles.inputForeground;\n        this.inputBorder = styles.inputBorder;\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\n        this.applyStyles();\n    }\n    applyStyles() {\n        if (this.domNode) {\n            const checkBoxStyles = {\n                inputActiveOptionBorder: this.inputActiveOptionBorder,\n                inputActiveOptionForeground: this.inputActiveOptionForeground,\n                inputActiveOptionBackground: this.inputActiveOptionBackground,\n            };\n            this.regex.style(checkBoxStyles);\n            this.wholeWords.style(checkBoxStyles);\n            this.caseSensitive.style(checkBoxStyles);\n            const inputBoxStyles = {\n                inputBackground: this.inputBackground,\n                inputForeground: this.inputForeground,\n                inputBorder: this.inputBorder,\n                inputValidationInfoBackground: this.inputValidationInfoBackground,\n                inputValidationInfoForeground: this.inputValidationInfoForeground,\n                inputValidationInfoBorder: this.inputValidationInfoBorder,\n                inputValidationWarningBackground: this.inputValidationWarningBackground,\n                inputValidationWarningForeground: this.inputValidationWarningForeground,\n                inputValidationWarningBorder: this.inputValidationWarningBorder,\n                inputValidationErrorBackground: this.inputValidationErrorBackground,\n                inputValidationErrorForeground: this.inputValidationErrorForeground,\n                inputValidationErrorBorder: this.inputValidationErrorBorder\n            };\n            this.inputBox.style(inputBoxStyles);\n        }\n    }\n    select() {\n        this.inputBox.select();\n    }\n    focus() {\n        this.inputBox.focus();\n    }\n    getCaseSensitive() {\n        return this.caseSensitive.checked;\n    }\n    setCaseSensitive(value) {\n        this.caseSensitive.checked = value;\n    }\n    getWholeWords() {\n        return this.wholeWords.checked;\n    }\n    setWholeWords(value) {\n        this.wholeWords.checked = value;\n    }\n    getRegex() {\n        return this.regex.checked;\n    }\n    setRegex(value) {\n        this.regex.checked = value;\n        this.validate();\n    }\n    focusOnCaseSensitive() {\n        this.caseSensitive.focus();\n    }\n    highlightFindOptions() {\n        this.domNode.classList.remove('highlight-' + (this._lastHighlightFindOptions));\n        this._lastHighlightFindOptions = 1 - this._lastHighlightFindOptions;\n        this.domNode.classList.add('highlight-' + (this._lastHighlightFindOptions));\n    }\n    validate() {\n        this.inputBox.validate();\n    }\n    clearMessage() {\n        this.inputBox.hideMessage();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Checkbox } from '../checkbox/checkbox.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport * as nls from '../../../../nls.js';\nconst NLS_CASE_SENSITIVE_CHECKBOX_LABEL = nls.localize('caseDescription', \"Match Case\");\nconst NLS_WHOLE_WORD_CHECKBOX_LABEL = nls.localize('wordsDescription', \"Match Whole Word\");\nconst NLS_REGEX_CHECKBOX_LABEL = nls.localize('regexDescription', \"Use Regular Expression\");\nexport class CaseSensitiveCheckbox extends Checkbox {\n    constructor(opts) {\n        super({\n            icon: Codicon.caseSensitive,\n            title: NLS_CASE_SENSITIVE_CHECKBOX_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class WholeWordsCheckbox extends Checkbox {\n    constructor(opts) {\n        super({\n            icon: Codicon.wholeWord,\n            title: NLS_WHOLE_WORD_CHECKBOX_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class RegexCheckbox extends Checkbox {\n    constructor(opts) {\n        super({\n            icon: Codicon.regex,\n            title: NLS_REGEX_CHECKBOX_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { Checkbox } from '../checkbox/checkbox.js';\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\nimport { Widget } from '../widget.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport { Emitter } from '../../../common/event.js';\nimport './findInput.css';\nimport * as nls from '../../../../nls.js';\nconst NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\nconst NLS_PRESERVE_CASE_LABEL = nls.localize('label.preserveCaseCheckbox', \"Preserve Case\");\nexport class PreserveCaseCheckbox extends Checkbox {\n    constructor(opts) {\n        super({\n            // TODO: does this need its own icon?\n            icon: Codicon.preserveCase,\n            title: NLS_PRESERVE_CASE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class ReplaceInput extends Widget {\n    constructor(parent, contextViewProvider, _showOptionButtons, options) {\n        super();\n        this._showOptionButtons = _showOptionButtons;\n        this.fixFocusOnOptionClickEnabled = true;\n        this.cachedOptionsWidth = 0;\n        this._onDidOptionChange = this._register(new Emitter());\n        this.onDidOptionChange = this._onDidOptionChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._onMouseDown = this._register(new Emitter());\n        this._onInput = this._register(new Emitter());\n        this._onKeyUp = this._register(new Emitter());\n        this._onPreserveCaseKeyDown = this._register(new Emitter());\n        this.onPreserveCaseKeyDown = this._onPreserveCaseKeyDown.event;\n        this.contextViewProvider = contextViewProvider;\n        this.placeholder = options.placeholder || '';\n        this.validation = options.validation;\n        this.label = options.label || NLS_DEFAULT_LABEL;\n        this.inputActiveOptionBorder = options.inputActiveOptionBorder;\n        this.inputActiveOptionForeground = options.inputActiveOptionForeground;\n        this.inputActiveOptionBackground = options.inputActiveOptionBackground;\n        this.inputBackground = options.inputBackground;\n        this.inputForeground = options.inputForeground;\n        this.inputBorder = options.inputBorder;\n        this.inputValidationInfoBorder = options.inputValidationInfoBorder;\n        this.inputValidationInfoBackground = options.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = options.inputValidationInfoForeground;\n        this.inputValidationWarningBorder = options.inputValidationWarningBorder;\n        this.inputValidationWarningBackground = options.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = options.inputValidationWarningForeground;\n        this.inputValidationErrorBorder = options.inputValidationErrorBorder;\n        this.inputValidationErrorBackground = options.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = options.inputValidationErrorForeground;\n        const appendPreserveCaseLabel = options.appendPreserveCaseLabel || '';\n        const history = options.history || [];\n        const flexibleHeight = !!options.flexibleHeight;\n        const flexibleWidth = !!options.flexibleWidth;\n        const flexibleMaxHeight = options.flexibleMaxHeight;\n        this.domNode = document.createElement('div');\n        this.domNode.classList.add('monaco-findInput');\n        this.inputBox = this._register(new HistoryInputBox(this.domNode, this.contextViewProvider, {\n            ariaLabel: this.label || '',\n            placeholder: this.placeholder || '',\n            validationOptions: {\n                validation: this.validation\n            },\n            inputBackground: this.inputBackground,\n            inputForeground: this.inputForeground,\n            inputBorder: this.inputBorder,\n            inputValidationInfoBackground: this.inputValidationInfoBackground,\n            inputValidationInfoForeground: this.inputValidationInfoForeground,\n            inputValidationInfoBorder: this.inputValidationInfoBorder,\n            inputValidationWarningBackground: this.inputValidationWarningBackground,\n            inputValidationWarningForeground: this.inputValidationWarningForeground,\n            inputValidationWarningBorder: this.inputValidationWarningBorder,\n            inputValidationErrorBackground: this.inputValidationErrorBackground,\n            inputValidationErrorForeground: this.inputValidationErrorForeground,\n            inputValidationErrorBorder: this.inputValidationErrorBorder,\n            history,\n            showHistoryHint: options.showHistoryHint,\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight\n        }));\n        this.preserveCase = this._register(new PreserveCaseCheckbox({\n            appendTitle: appendPreserveCaseLabel,\n            isChecked: false,\n            inputActiveOptionBorder: this.inputActiveOptionBorder,\n            inputActiveOptionForeground: this.inputActiveOptionForeground,\n            inputActiveOptionBackground: this.inputActiveOptionBackground,\n        }));\n        this._register(this.preserveCase.onChange(viaKeyboard => {\n            this._onDidOptionChange.fire(viaKeyboard);\n            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                this.inputBox.focus();\n            }\n            this.validate();\n        }));\n        this._register(this.preserveCase.onKeyDown(e => {\n            this._onPreserveCaseKeyDown.fire(e);\n        }));\n        if (this._showOptionButtons) {\n            this.cachedOptionsWidth = this.preserveCase.width();\n        }\n        else {\n            this.cachedOptionsWidth = 0;\n        }\n        // Arrow-Key support to navigate between options\n        let indexes = [this.preserveCase.domNode];\n        this.onkeydown(this.domNode, (event) => {\n            if (event.equals(15 /* LeftArrow */) || event.equals(17 /* RightArrow */) || event.equals(9 /* Escape */)) {\n                let index = indexes.indexOf(document.activeElement);\n                if (index >= 0) {\n                    let newIndex = -1;\n                    if (event.equals(17 /* RightArrow */)) {\n                        newIndex = (index + 1) % indexes.length;\n                    }\n                    else if (event.equals(15 /* LeftArrow */)) {\n                        if (index === 0) {\n                            newIndex = indexes.length - 1;\n                        }\n                        else {\n                            newIndex = index - 1;\n                        }\n                    }\n                    if (event.equals(9 /* Escape */)) {\n                        indexes[index].blur();\n                        this.inputBox.focus();\n                    }\n                    else if (newIndex >= 0) {\n                        indexes[newIndex].focus();\n                    }\n                    dom.EventHelper.stop(event, true);\n                }\n            }\n        });\n        let controls = document.createElement('div');\n        controls.className = 'controls';\n        controls.style.display = this._showOptionButtons ? 'block' : 'none';\n        controls.appendChild(this.preserveCase.domNode);\n        this.domNode.appendChild(controls);\n        if (parent) {\n            parent.appendChild(this.domNode);\n        }\n        this.onkeydown(this.inputBox.inputElement, (e) => this._onKeyDown.fire(e));\n        this.onkeyup(this.inputBox.inputElement, (e) => this._onKeyUp.fire(e));\n        this.oninput(this.inputBox.inputElement, (e) => this._onInput.fire());\n        this.onmousedown(this.inputBox.inputElement, (e) => this._onMouseDown.fire(e));\n    }\n    enable() {\n        this.domNode.classList.remove('disabled');\n        this.inputBox.enable();\n        this.preserveCase.enable();\n    }\n    disable() {\n        this.domNode.classList.add('disabled');\n        this.inputBox.disable();\n        this.preserveCase.disable();\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    }\n    style(styles) {\n        this.inputActiveOptionBorder = styles.inputActiveOptionBorder;\n        this.inputActiveOptionForeground = styles.inputActiveOptionForeground;\n        this.inputActiveOptionBackground = styles.inputActiveOptionBackground;\n        this.inputBackground = styles.inputBackground;\n        this.inputForeground = styles.inputForeground;\n        this.inputBorder = styles.inputBorder;\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\n        this.applyStyles();\n    }\n    applyStyles() {\n        if (this.domNode) {\n            const checkBoxStyles = {\n                inputActiveOptionBorder: this.inputActiveOptionBorder,\n                inputActiveOptionForeground: this.inputActiveOptionForeground,\n                inputActiveOptionBackground: this.inputActiveOptionBackground,\n            };\n            this.preserveCase.style(checkBoxStyles);\n            const inputBoxStyles = {\n                inputBackground: this.inputBackground,\n                inputForeground: this.inputForeground,\n                inputBorder: this.inputBorder,\n                inputValidationInfoBackground: this.inputValidationInfoBackground,\n                inputValidationInfoForeground: this.inputValidationInfoForeground,\n                inputValidationInfoBorder: this.inputValidationInfoBorder,\n                inputValidationWarningBackground: this.inputValidationWarningBackground,\n                inputValidationWarningForeground: this.inputValidationWarningForeground,\n                inputValidationWarningBorder: this.inputValidationWarningBorder,\n                inputValidationErrorBackground: this.inputValidationErrorBackground,\n                inputValidationErrorForeground: this.inputValidationErrorForeground,\n                inputValidationErrorBorder: this.inputValidationErrorBorder\n            };\n            this.inputBox.style(inputBoxStyles);\n        }\n    }\n    select() {\n        this.inputBox.select();\n    }\n    focus() {\n        this.inputBox.focus();\n    }\n    getPreserveCase() {\n        return this.preserveCase.checked;\n    }\n    setPreserveCase(value) {\n        this.preserveCase.checked = value;\n    }\n    focusOnPreserve() {\n        this.preserveCase.focus();\n    }\n    validate() {\n        if (this.inputBox) {\n            this.inputBox.validate();\n        }\n    }\n    set width(newWidth) {\n        this.inputBox.paddingRight = this.cachedOptionsWidth;\n        this.inputBox.width = newWidth;\n        this.domNode.style.width = newWidth + 'px';\n    }\n    dispose() {\n        super.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nimport * as objects from '../../../common/objects.js';\n/**\n * A widget which can render a label with substring highlights, often\n * originating from a filter function like the fuzzy matcher.\n */\nexport class HighlightedLabel {\n    /**\n     * Create a new {@link HighlightedLabel}.\n     *\n     * @param container The parent container to append to.\n     */\n    constructor(container, options) {\n        var _a;\n        this.text = '';\n        this.title = '';\n        this.highlights = [];\n        this.didEverRender = false;\n        this.supportIcons = (_a = options === null || options === void 0 ? void 0 : options.supportIcons) !== null && _a !== void 0 ? _a : false;\n        this.domNode = dom.append(container, dom.$('span.monaco-highlighted-label'));\n    }\n    /**\n     * The label's DOM node.\n     */\n    get element() {\n        return this.domNode;\n    }\n    /**\n     * Set the label and highlights.\n     *\n     * @param text The label to display.\n     * @param highlights The ranges to highlight.\n     * @param title An optional title for the hover tooltip.\n     * @param escapeNewLines Whether to escape new lines.\n     * @returns\n     */\n    set(text, highlights = [], title = '', escapeNewLines) {\n        if (!text) {\n            text = '';\n        }\n        if (escapeNewLines) {\n            // adjusts highlights inplace\n            text = HighlightedLabel.escapeNewLines(text, highlights);\n        }\n        if (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\n            return;\n        }\n        this.text = text;\n        this.title = title;\n        this.highlights = highlights;\n        this.render();\n    }\n    render() {\n        const children = [];\n        let pos = 0;\n        for (const highlight of this.highlights) {\n            if (highlight.end === highlight.start) {\n                continue;\n            }\n            if (pos < highlight.start) {\n                const substring = this.text.substring(pos, highlight.start);\n                children.push(dom.$('span', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]));\n                pos = highlight.end;\n            }\n            const substring = this.text.substring(highlight.start, highlight.end);\n            const element = dom.$('span.highlight', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]);\n            if (highlight.extraClasses) {\n                element.classList.add(...highlight.extraClasses);\n            }\n            children.push(element);\n            pos = highlight.end;\n        }\n        if (pos < this.text.length) {\n            const substring = this.text.substring(pos);\n            children.push(dom.$('span', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]));\n        }\n        dom.reset(this.domNode, ...children);\n        if (this.title) {\n            this.domNode.title = this.title;\n        }\n        else {\n            this.domNode.removeAttribute('title');\n        }\n        this.didEverRender = true;\n    }\n    static escapeNewLines(text, highlights) {\n        let total = 0;\n        let extra = 0;\n        return text.replace(/\\r\\n|\\r|\\n/g, (match, offset) => {\n            extra = match === '\\r\\n' ? -1 : 0;\n            offset += total;\n            for (const highlight of highlights) {\n                if (highlight.end <= offset) {\n                    continue;\n                }\n                if (highlight.start >= offset) {\n                    highlight.start += extra;\n                }\n                if (highlight.end >= offset) {\n                    highlight.end += extra;\n                }\n            }\n            total += extra;\n            return '\\u23CE';\n        });\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { DomScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './hover.css';\nconst $ = dom.$;\nexport class HoverWidget extends Disposable {\n    constructor() {\n        super();\n        this.containerDomNode = document.createElement('div');\n        this.containerDomNode.className = 'monaco-hover';\n        this.containerDomNode.tabIndex = 0;\n        this.containerDomNode.setAttribute('role', 'tooltip');\n        this.contentsDomNode = document.createElement('div');\n        this.contentsDomNode.className = 'monaco-hover-content';\n        this.scrollbar = this._register(new DomScrollableElement(this.contentsDomNode, {\n            consumeMouseWheelIfScrollbarIsNeeded: true\n        }));\n        this.containerDomNode.appendChild(this.scrollbar.getDomNode());\n    }\n    onContentsChanged() {\n        this.scrollbar.scanDomNode();\n    }\n}\nexport class HoverAction extends Disposable {\n    constructor(parent, actionOptions, keybindingLabel) {\n        super();\n        this.actionContainer = dom.append(parent, $('div.action-container'));\n        this.actionContainer.setAttribute('tabindex', '0');\n        this.action = dom.append(this.actionContainer, $('a.action'));\n        this.action.setAttribute('role', 'button');\n        if (actionOptions.iconClass) {\n            dom.append(this.action, $(`span.icon.${actionOptions.iconClass}`));\n        }\n        const label = dom.append(this.action, $('span'));\n        label.textContent = keybindingLabel ? `${actionOptions.label} (${keybindingLabel})` : actionOptions.label;\n        this._register(dom.addDisposableListener(this.actionContainer, dom.EventType.CLICK, e => {\n            e.stopPropagation();\n            e.preventDefault();\n            actionOptions.run(this.actionContainer);\n        }));\n        this._register(dom.addDisposableListener(this.actionContainer, dom.EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(3 /* Enter */)) {\n                e.stopPropagation();\n                e.preventDefault();\n                actionOptions.run(this.actionContainer);\n            }\n        }));\n        this.setEnabled(true);\n    }\n    static render(parent, actionOptions, keybindingLabel) {\n        return new HoverAction(parent, actionOptions, keybindingLabel);\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.actionContainer.classList.remove('disabled');\n            this.actionContainer.removeAttribute('aria-disabled');\n        }\n        else {\n            this.actionContainer.classList.add('disabled');\n            this.actionContainer.setAttribute('aria-disabled', 'true');\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../dom.js';\nimport { TimeoutTimer } from '../../../common/async.js';\nimport { CancellationTokenSource } from '../../../common/cancellation.js';\nimport { isMarkdownString } from '../../../common/htmlContent.js';\nimport { stripIcons } from '../../../common/iconLabels.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nimport { isFunction, isString } from '../../../common/types.js';\nimport { localize } from '../../../../nls.js';\nexport function setupNativeHover(htmlElement, tooltip) {\n    if (isString(tooltip)) {\n        // Icons don't render in the native hover so we strip them out\n        htmlElement.title = stripIcons(tooltip);\n    }\n    else if (tooltip === null || tooltip === void 0 ? void 0 : tooltip.markdownNotSupportedFallback) {\n        htmlElement.title = tooltip.markdownNotSupportedFallback;\n    }\n    else {\n        htmlElement.removeAttribute('title');\n    }\n}\nclass UpdatableHoverWidget {\n    constructor(hoverDelegate, target, fadeInAnimation) {\n        this.hoverDelegate = hoverDelegate;\n        this.target = target;\n        this.fadeInAnimation = fadeInAnimation;\n    }\n    update(content, focus) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._cancellationTokenSource) {\n                // there's an computation ongoing, cancel it\n                this._cancellationTokenSource.dispose(true);\n                this._cancellationTokenSource = undefined;\n            }\n            if (this.isDisposed) {\n                return;\n            }\n            let resolvedContent;\n            if (content === undefined || isString(content) || content instanceof HTMLElement) {\n                resolvedContent = content;\n            }\n            else if (!isFunction(content.markdown)) {\n                resolvedContent = (_a = content.markdown) !== null && _a !== void 0 ? _a : content.markdownNotSupportedFallback;\n            }\n            else {\n                // compute the content, potentially long-running\n                // show 'Loading' if no hover is up yet\n                if (!this._hoverWidget) {\n                    this.show(localize('iconLabel.loading', \"Loading...\"), focus);\n                }\n                // compute the content\n                this._cancellationTokenSource = new CancellationTokenSource();\n                const token = this._cancellationTokenSource.token;\n                resolvedContent = yield content.markdown(token);\n                if (resolvedContent === undefined) {\n                    resolvedContent = content.markdownNotSupportedFallback;\n                }\n                if (this.isDisposed || token.isCancellationRequested) {\n                    // either the widget has been closed in the meantime\n                    // or there has been a new call to `update`\n                    return;\n                }\n            }\n            this.show(resolvedContent, focus);\n        });\n    }\n    show(content, focus) {\n        const oldHoverWidget = this._hoverWidget;\n        if (this.hasContent(content)) {\n            const hoverOptions = {\n                content,\n                target: this.target,\n                showPointer: this.hoverDelegate.placement === 'element',\n                hoverPosition: 2 /* BELOW */,\n                skipFadeInAnimation: !this.fadeInAnimation || !!oldHoverWidget // do not fade in if the hover is already showing\n            };\n            this._hoverWidget = this.hoverDelegate.showHover(hoverOptions, focus);\n        }\n        oldHoverWidget === null || oldHoverWidget === void 0 ? void 0 : oldHoverWidget.dispose();\n    }\n    hasContent(content) {\n        if (!content) {\n            return false;\n        }\n        if (isMarkdownString(content)) {\n            return !!content.value;\n        }\n        return true;\n    }\n    get isDisposed() {\n        var _a;\n        return (_a = this._hoverWidget) === null || _a === void 0 ? void 0 : _a.isDisposed;\n    }\n    dispose() {\n        var _a, _b;\n        (_a = this._hoverWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n        (_b = this._cancellationTokenSource) === null || _b === void 0 ? void 0 : _b.dispose(true);\n        this._cancellationTokenSource = undefined;\n    }\n}\nexport function setupCustomHover(hoverDelegate, htmlElement, content) {\n    let hoverPreparation;\n    let hoverWidget;\n    const hideHover = (disposeWidget, disposePreparation) => {\n        var _a;\n        if (disposeWidget) {\n            hoverWidget === null || hoverWidget === void 0 ? void 0 : hoverWidget.dispose();\n            hoverWidget = undefined;\n        }\n        if (disposePreparation) {\n            hoverPreparation === null || hoverPreparation === void 0 ? void 0 : hoverPreparation.dispose();\n            hoverPreparation = undefined;\n        }\n        (_a = hoverDelegate.onDidHideHover) === null || _a === void 0 ? void 0 : _a.call(hoverDelegate);\n    };\n    const triggerShowHover = (delay, focus, target) => {\n        return new TimeoutTimer(() => __awaiter(this, void 0, void 0, function* () {\n            if (!hoverWidget || hoverWidget.isDisposed) {\n                hoverWidget = new UpdatableHoverWidget(hoverDelegate, target || htmlElement, delay > 0);\n                yield hoverWidget.update(content, focus);\n            }\n        }), delay);\n    };\n    const onMouseOver = () => {\n        if (hoverPreparation) {\n            return;\n        }\n        const toDispose = new DisposableStore();\n        const onMouseLeave = (e) => hideHover(false, e.fromElement === htmlElement);\n        toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_LEAVE, onMouseLeave, true));\n        const onMouseDown = () => hideHover(true, true);\n        toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_DOWN, onMouseDown, true));\n        const target = {\n            targetElements: [htmlElement],\n            dispose: () => { }\n        };\n        if (hoverDelegate.placement === undefined || hoverDelegate.placement === 'mouse') {\n            // track the mouse position\n            const onMouseMove = (e) => target.x = e.x + 10;\n            toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_MOVE, onMouseMove, true));\n        }\n        toDispose.add(triggerShowHover(hoverDelegate.delay, false, target));\n        hoverPreparation = toDispose;\n    };\n    const mouseOverDomEmitter = dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_OVER, onMouseOver, true);\n    const hover = {\n        show: focus => {\n            hideHover(false, true); // terminate a ongoing mouse over preparation\n            triggerShowHover(0, focus); // show hover immediately\n        },\n        hide: () => {\n            hideHover(true, true);\n        },\n        update: (newContent) => __awaiter(this, void 0, void 0, function* () {\n            content = newContent;\n            yield (hoverWidget === null || hoverWidget === void 0 ? void 0 : hoverWidget.update(content));\n        }),\n        dispose: () => {\n            mouseOverDomEmitter.dispose();\n            hideHover(true, true);\n        }\n    };\n    return hover;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { HighlightedLabel } from '../highlightedlabel/highlightedLabel.js';\nimport { setupCustomHover, setupNativeHover } from './iconLabelHover.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport { equals } from '../../../common/objects.js';\nimport { Range } from '../../../common/range.js';\nimport './iconlabel.css';\nclass FastLabelNode {\n    constructor(_element) {\n        this._element = _element;\n    }\n    get element() {\n        return this._element;\n    }\n    set textContent(content) {\n        if (this.disposed || content === this._textContent) {\n            return;\n        }\n        this._textContent = content;\n        this._element.textContent = content;\n    }\n    set className(className) {\n        if (this.disposed || className === this._className) {\n            return;\n        }\n        this._className = className;\n        this._element.className = className;\n    }\n    set empty(empty) {\n        if (this.disposed || empty === this._empty) {\n            return;\n        }\n        this._empty = empty;\n        this._element.style.marginLeft = empty ? '0' : '';\n    }\n    dispose() {\n        this.disposed = true;\n    }\n}\nexport class IconLabel extends Disposable {\n    constructor(container, options) {\n        super();\n        this.customHovers = new Map();\n        this.domNode = this._register(new FastLabelNode(dom.append(container, dom.$('.monaco-icon-label'))));\n        this.labelContainer = dom.append(this.domNode.element, dom.$('.monaco-icon-label-container'));\n        const nameContainer = dom.append(this.labelContainer, dom.$('span.monaco-icon-name-container'));\n        this.descriptionContainer = this._register(new FastLabelNode(dom.append(this.labelContainer, dom.$('span.monaco-icon-description-container'))));\n        if ((options === null || options === void 0 ? void 0 : options.supportHighlights) || (options === null || options === void 0 ? void 0 : options.supportIcons)) {\n            this.nameNode = new LabelWithHighlights(nameContainer, !!options.supportIcons);\n        }\n        else {\n            this.nameNode = new Label(nameContainer);\n        }\n        if (options === null || options === void 0 ? void 0 : options.supportDescriptionHighlights) {\n            this.descriptionNodeFactory = () => new HighlightedLabel(dom.append(this.descriptionContainer.element, dom.$('span.label-description')), { supportIcons: !!options.supportIcons });\n        }\n        else {\n            this.descriptionNodeFactory = () => this._register(new FastLabelNode(dom.append(this.descriptionContainer.element, dom.$('span.label-description'))));\n        }\n        this.hoverDelegate = options === null || options === void 0 ? void 0 : options.hoverDelegate;\n    }\n    get element() {\n        return this.domNode.element;\n    }\n    setLabel(label, description, options) {\n        const classes = ['monaco-icon-label'];\n        if (options) {\n            if (options.extraClasses) {\n                classes.push(...options.extraClasses);\n            }\n            if (options.italic) {\n                classes.push('italic');\n            }\n            if (options.strikethrough) {\n                classes.push('strikethrough');\n            }\n        }\n        this.domNode.className = classes.join(' ');\n        this.setupHover((options === null || options === void 0 ? void 0 : options.descriptionTitle) ? this.labelContainer : this.element, options === null || options === void 0 ? void 0 : options.title);\n        this.nameNode.setLabel(label, options);\n        if (description || this.descriptionNode) {\n            if (!this.descriptionNode) {\n                this.descriptionNode = this.descriptionNodeFactory(); // description node is created lazily on demand\n            }\n            if (this.descriptionNode instanceof HighlightedLabel) {\n                this.descriptionNode.set(description || '', options ? options.descriptionMatches : undefined);\n                this.setupHover(this.descriptionNode.element, options === null || options === void 0 ? void 0 : options.descriptionTitle);\n            }\n            else {\n                this.descriptionNode.textContent = description || '';\n                this.setupHover(this.descriptionNode.element, (options === null || options === void 0 ? void 0 : options.descriptionTitle) || '');\n                this.descriptionNode.empty = !description;\n            }\n        }\n    }\n    setupHover(htmlElement, tooltip) {\n        const previousCustomHover = this.customHovers.get(htmlElement);\n        if (previousCustomHover) {\n            previousCustomHover.dispose();\n            this.customHovers.delete(htmlElement);\n        }\n        if (!tooltip) {\n            htmlElement.removeAttribute('title');\n            return;\n        }\n        if (!this.hoverDelegate) {\n            setupNativeHover(htmlElement, tooltip);\n        }\n        else {\n            const hoverDisposable = setupCustomHover(this.hoverDelegate, htmlElement, tooltip);\n            if (hoverDisposable) {\n                this.customHovers.set(htmlElement, hoverDisposable);\n            }\n        }\n    }\n    dispose() {\n        super.dispose();\n        for (const disposable of this.customHovers.values()) {\n            disposable.dispose();\n        }\n        this.customHovers.clear();\n    }\n}\nclass Label {\n    constructor(container) {\n        this.container = container;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId }));\n            }\n            this.singleLabel.textContent = label;\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                dom.append(this.container, dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' }, l));\n                if (i < label.length - 1) {\n                    dom.append(this.container, dom.$('span.label-separator', undefined, (options === null || options === void 0 ? void 0 : options.separator) || '/'));\n                }\n            }\n        }\n    }\n}\nfunction splitMatches(labels, separator, matches) {\n    if (!matches) {\n        return undefined;\n    }\n    let labelStart = 0;\n    return labels.map(label => {\n        const labelRange = { start: labelStart, end: labelStart + label.length };\n        const result = matches\n            .map(match => Range.intersect(labelRange, match))\n            .filter(range => !Range.isEmpty(range))\n            .map(({ start, end }) => ({ start: start - labelStart, end: end - labelStart }));\n        labelStart = labelRange.end + separator.length;\n        return result;\n    });\n}\nclass LabelWithHighlights {\n    constructor(container, supportIcons) {\n        this.container = container;\n        this.supportIcons = supportIcons;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = new HighlightedLabel(dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId })), { supportIcons: this.supportIcons });\n            }\n            this.singleLabel.set(label, options === null || options === void 0 ? void 0 : options.matches, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            const separator = (options === null || options === void 0 ? void 0 : options.separator) || '/';\n            const matches = splitMatches(label, separator, options === null || options === void 0 ? void 0 : options.matches);\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const m = matches ? matches[i] : undefined;\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                const name = dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' });\n                const highlightedLabel = new HighlightedLabel(dom.append(this.container, name), { supportIcons: this.supportIcons });\n                highlightedLabel.set(l, m, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n                if (i < label.length - 1) {\n                    dom.append(name, dom.$('span.label-separator', undefined, separator));\n                }\n            }\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { CSSIcon } from '../../../common/codicons.js';\nconst labelWithIconsRegex = new RegExp(`(\\\\\\\\)?\\\\$\\\\((${CSSIcon.iconNameExpression}(?:${CSSIcon.iconModifierExpression})?)\\\\)`, 'g');\nexport function renderLabelWithIcons(text) {\n    const elements = new Array();\n    let match;\n    let textStart = 0, textStop = 0;\n    while ((match = labelWithIconsRegex.exec(text)) !== null) {\n        textStop = match.index || 0;\n        elements.push(text.substring(textStart, textStop));\n        textStart = (match.index || 0) + match[0].length;\n        const [, escaped, codicon] = match;\n        elements.push(escaped ? `$(${codicon})` : renderIcon({ id: codicon }));\n    }\n    if (textStart < text.length) {\n        elements.push(text.substring(textStart));\n    }\n    return elements;\n}\nexport function renderIcon(icon) {\n    const node = dom.$(`span`);\n    node.classList.add(...CSSIcon.asClassNameArray(icon));\n    return node;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport * as aria from '../aria/aria.js';\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Widget } from '../widget.js';\nimport { Color } from '../../../common/color.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { HistoryNavigator } from '../../../common/history.js';\nimport { mixin } from '../../../common/objects.js';\nimport './inputBox.css';\nimport * as nls from '../../../../nls.js';\nconst $ = dom.$;\nconst defaultOpts = {\n    inputBackground: Color.fromHex('#3C3C3C'),\n    inputForeground: Color.fromHex('#CCCCCC'),\n    inputValidationInfoBorder: Color.fromHex('#55AAFF'),\n    inputValidationInfoBackground: Color.fromHex('#063B49'),\n    inputValidationWarningBorder: Color.fromHex('#B89500'),\n    inputValidationWarningBackground: Color.fromHex('#352A05'),\n    inputValidationErrorBorder: Color.fromHex('#BE1100'),\n    inputValidationErrorBackground: Color.fromHex('#5A1D1D')\n};\nexport class InputBox extends Widget {\n    constructor(container, contextViewProvider, options) {\n        var _a;\n        super();\n        this.state = 'idle';\n        this.maxHeight = Number.POSITIVE_INFINITY;\n        this._onDidChange = this._register(new Emitter());\n        this.onDidChange = this._onDidChange.event;\n        this._onDidHeightChange = this._register(new Emitter());\n        this.onDidHeightChange = this._onDidHeightChange.event;\n        this.contextViewProvider = contextViewProvider;\n        this.options = options || Object.create(null);\n        mixin(this.options, defaultOpts, false);\n        this.message = null;\n        this.placeholder = this.options.placeholder || '';\n        this.tooltip = (_a = this.options.tooltip) !== null && _a !== void 0 ? _a : (this.placeholder || '');\n        this.ariaLabel = this.options.ariaLabel || '';\n        this.inputBackground = this.options.inputBackground;\n        this.inputForeground = this.options.inputForeground;\n        this.inputBorder = this.options.inputBorder;\n        this.inputValidationInfoBorder = this.options.inputValidationInfoBorder;\n        this.inputValidationInfoBackground = this.options.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = this.options.inputValidationInfoForeground;\n        this.inputValidationWarningBorder = this.options.inputValidationWarningBorder;\n        this.inputValidationWarningBackground = this.options.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = this.options.inputValidationWarningForeground;\n        this.inputValidationErrorBorder = this.options.inputValidationErrorBorder;\n        this.inputValidationErrorBackground = this.options.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = this.options.inputValidationErrorForeground;\n        if (this.options.validationOptions) {\n            this.validation = this.options.validationOptions.validation;\n        }\n        this.element = dom.append(container, $('.monaco-inputbox.idle'));\n        let tagName = this.options.flexibleHeight ? 'textarea' : 'input';\n        let wrapper = dom.append(this.element, $('.ibwrapper'));\n        this.input = dom.append(wrapper, $(tagName + '.input.empty'));\n        this.input.setAttribute('autocorrect', 'off');\n        this.input.setAttribute('autocapitalize', 'off');\n        this.input.setAttribute('spellcheck', 'false');\n        this.onfocus(this.input, () => this.element.classList.add('synthetic-focus'));\n        this.onblur(this.input, () => this.element.classList.remove('synthetic-focus'));\n        if (this.options.flexibleHeight) {\n            this.maxHeight = typeof this.options.flexibleMaxHeight === 'number' ? this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\n            this.mirror = dom.append(wrapper, $('div.mirror'));\n            this.mirror.innerText = '\\u00a0';\n            this.scrollableElement = new ScrollableElement(this.element, { vertical: 1 /* Auto */ });\n            if (this.options.flexibleWidth) {\n                this.input.setAttribute('wrap', 'off');\n                this.mirror.style.whiteSpace = 'pre';\n                this.mirror.style.wordWrap = 'initial';\n            }\n            dom.append(container, this.scrollableElement.getDomNode());\n            this._register(this.scrollableElement);\n            // from ScrollableElement to DOM\n            this._register(this.scrollableElement.onScroll(e => this.input.scrollTop = e.scrollTop));\n            const onSelectionChange = this._register(new DomEmitter(document, 'selectionchange'));\n            const onAnchoredSelectionChange = Event.filter(onSelectionChange.event, () => {\n                const selection = document.getSelection();\n                return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === wrapper;\n            });\n            // from DOM to ScrollableElement\n            this._register(onAnchoredSelectionChange(this.updateScrollDimensions, this));\n            this._register(this.onDidHeightChange(this.updateScrollDimensions, this));\n        }\n        else {\n            this.input.type = this.options.type || 'text';\n            this.input.setAttribute('wrap', 'off');\n        }\n        if (this.ariaLabel) {\n            this.input.setAttribute('aria-label', this.ariaLabel);\n        }\n        if (this.placeholder && !this.options.showPlaceholderOnFocus) {\n            this.setPlaceHolder(this.placeholder);\n        }\n        if (this.tooltip) {\n            this.setTooltip(this.tooltip);\n        }\n        this.oninput(this.input, () => this.onValueChange());\n        this.onblur(this.input, () => this.onBlur());\n        this.onfocus(this.input, () => this.onFocus());\n        this.ignoreGesture(this.input);\n        setTimeout(() => this.updateMirror(), 0);\n        // Support actions\n        if (this.options.actions) {\n            this.actionbar = this._register(new ActionBar(this.element));\n            this.actionbar.push(this.options.actions, { icon: true, label: false });\n        }\n        this.applyStyles();\n    }\n    onBlur() {\n        this._hideMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', '');\n        }\n    }\n    onFocus() {\n        this._showMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', this.placeholder || '');\n        }\n    }\n    setPlaceHolder(placeHolder) {\n        this.placeholder = placeHolder;\n        this.input.setAttribute('placeholder', placeHolder);\n    }\n    setTooltip(tooltip) {\n        this.tooltip = tooltip;\n        this.input.title = tooltip;\n    }\n    setAriaLabel(label) {\n        this.ariaLabel = label;\n        if (label) {\n            this.input.setAttribute('aria-label', this.ariaLabel);\n        }\n        else {\n            this.input.removeAttribute('aria-label');\n        }\n    }\n    getAriaLabel() {\n        return this.ariaLabel;\n    }\n    get inputElement() {\n        return this.input;\n    }\n    get value() {\n        return this.input.value;\n    }\n    set value(newValue) {\n        if (this.input.value !== newValue) {\n            this.input.value = newValue;\n            this.onValueChange();\n        }\n    }\n    get height() {\n        return typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\n    }\n    focus() {\n        this.input.focus();\n    }\n    blur() {\n        this.input.blur();\n    }\n    hasFocus() {\n        return document.activeElement === this.input;\n    }\n    select(range = null) {\n        this.input.select();\n        if (range) {\n            this.input.setSelectionRange(range.start, range.end);\n            if (range.end === this.input.value.length) {\n                this.input.scrollLeft = this.input.scrollWidth;\n            }\n        }\n    }\n    isSelectionAtEnd() {\n        return this.input.selectionEnd === this.input.value.length && this.input.selectionStart === this.input.selectionEnd;\n    }\n    enable() {\n        this.input.removeAttribute('disabled');\n    }\n    disable() {\n        this.blur();\n        this.input.disabled = true;\n        this._hideMessage();\n    }\n    get width() {\n        return dom.getTotalWidth(this.input);\n    }\n    set width(width) {\n        if (this.options.flexibleHeight && this.options.flexibleWidth) {\n            // textarea with horizontal scrolling\n            let horizontalPadding = 0;\n            if (this.mirror) {\n                const paddingLeft = parseFloat(this.mirror.style.paddingLeft || '') || 0;\n                const paddingRight = parseFloat(this.mirror.style.paddingRight || '') || 0;\n                horizontalPadding = paddingLeft + paddingRight;\n            }\n            this.input.style.width = (width - horizontalPadding) + 'px';\n        }\n        else {\n            this.input.style.width = width + 'px';\n        }\n        if (this.mirror) {\n            this.mirror.style.width = width + 'px';\n        }\n    }\n    set paddingRight(paddingRight) {\n        // Set width to avoid hint text overlapping buttons\n        this.input.style.width = `calc(100% - ${paddingRight}px)`;\n        if (this.mirror) {\n            this.mirror.style.paddingRight = paddingRight + 'px';\n        }\n    }\n    updateScrollDimensions() {\n        if (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\n            return;\n        }\n        const scrollHeight = this.cachedContentHeight;\n        const height = this.cachedHeight;\n        const scrollTop = this.input.scrollTop;\n        this.scrollableElement.setScrollDimensions({ scrollHeight, height });\n        this.scrollableElement.setScrollPosition({ scrollTop });\n    }\n    showMessage(message, force) {\n        this.message = message;\n        this.element.classList.remove('idle');\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add(this.classForType(message.type));\n        const styles = this.stylesForType(this.message.type);\n        this.element.style.border = styles.border ? `1px solid ${styles.border}` : '';\n        if (this.hasFocus() || force) {\n            this._showMessage();\n        }\n    }\n    hideMessage() {\n        this.message = null;\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add('idle');\n        this._hideMessage();\n        this.applyStyles();\n    }\n    validate() {\n        let errorMsg = null;\n        if (this.validation) {\n            errorMsg = this.validation(this.value);\n            if (errorMsg) {\n                this.inputElement.setAttribute('aria-invalid', 'true');\n                this.showMessage(errorMsg);\n            }\n            else if (this.inputElement.hasAttribute('aria-invalid')) {\n                this.inputElement.removeAttribute('aria-invalid');\n                this.hideMessage();\n            }\n        }\n        return errorMsg === null || errorMsg === void 0 ? void 0 : errorMsg.type;\n    }\n    stylesForType(type) {\n        switch (type) {\n            case 1 /* INFO */: return { border: this.inputValidationInfoBorder, background: this.inputValidationInfoBackground, foreground: this.inputValidationInfoForeground };\n            case 2 /* WARNING */: return { border: this.inputValidationWarningBorder, background: this.inputValidationWarningBackground, foreground: this.inputValidationWarningForeground };\n            default: return { border: this.inputValidationErrorBorder, background: this.inputValidationErrorBackground, foreground: this.inputValidationErrorForeground };\n        }\n    }\n    classForType(type) {\n        switch (type) {\n            case 1 /* INFO */: return 'info';\n            case 2 /* WARNING */: return 'warning';\n            default: return 'error';\n        }\n    }\n    _showMessage() {\n        if (!this.contextViewProvider || !this.message) {\n            return;\n        }\n        let div;\n        let layout = () => div.style.width = dom.getTotalWidth(this.element) + 'px';\n        this.contextViewProvider.showContextView({\n            getAnchor: () => this.element,\n            anchorAlignment: 1 /* RIGHT */,\n            render: (container) => {\n                if (!this.message) {\n                    return null;\n                }\n                div = dom.append(container, $('.monaco-inputbox-container'));\n                layout();\n                const renderOptions = {\n                    inline: true,\n                    className: 'monaco-inputbox-message'\n                };\n                const spanElement = (this.message.formatContent\n                    ? renderFormattedText(this.message.content, renderOptions)\n                    : renderText(this.message.content, renderOptions));\n                spanElement.classList.add(this.classForType(this.message.type));\n                const styles = this.stylesForType(this.message.type);\n                spanElement.style.backgroundColor = styles.background ? styles.background.toString() : '';\n                spanElement.style.color = styles.foreground ? styles.foreground.toString() : '';\n                spanElement.style.border = styles.border ? `1px solid ${styles.border}` : '';\n                dom.append(div, spanElement);\n                return null;\n            },\n            onHide: () => {\n                this.state = 'closed';\n            },\n            layout: layout\n        });\n        // ARIA Support\n        let alertText;\n        if (this.message.type === 3 /* ERROR */) {\n            alertText = nls.localize('alertErrorMessage', \"Error: {0}\", this.message.content);\n        }\n        else if (this.message.type === 2 /* WARNING */) {\n            alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", this.message.content);\n        }\n        else {\n            alertText = nls.localize('alertInfoMessage', \"Info: {0}\", this.message.content);\n        }\n        aria.alert(alertText);\n        this.state = 'open';\n    }\n    _hideMessage() {\n        if (!this.contextViewProvider) {\n            return;\n        }\n        if (this.state === 'open') {\n            this.contextViewProvider.hideContextView();\n        }\n        this.state = 'idle';\n    }\n    onValueChange() {\n        this._onDidChange.fire(this.value);\n        this.validate();\n        this.updateMirror();\n        this.input.classList.toggle('empty', !this.value);\n        if (this.state === 'open' && this.contextViewProvider) {\n            this.contextViewProvider.layout();\n        }\n    }\n    updateMirror() {\n        if (!this.mirror) {\n            return;\n        }\n        const value = this.value;\n        const lastCharCode = value.charCodeAt(value.length - 1);\n        const suffix = lastCharCode === 10 ? ' ' : '';\n        const mirrorTextContent = (value + suffix)\n            .replace(/\\u000c/g, ''); // Don't measure with the form feed character, which messes up sizing\n        if (mirrorTextContent) {\n            this.mirror.textContent = value + suffix;\n        }\n        else {\n            this.mirror.innerText = '\\u00a0';\n        }\n        this.layout();\n    }\n    style(styles) {\n        this.inputBackground = styles.inputBackground;\n        this.inputForeground = styles.inputForeground;\n        this.inputBorder = styles.inputBorder;\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\n        this.applyStyles();\n    }\n    applyStyles() {\n        const background = this.inputBackground ? this.inputBackground.toString() : '';\n        const foreground = this.inputForeground ? this.inputForeground.toString() : '';\n        const border = this.inputBorder ? this.inputBorder.toString() : '';\n        this.element.style.backgroundColor = background;\n        this.element.style.color = foreground;\n        this.input.style.backgroundColor = 'inherit';\n        this.input.style.color = foreground;\n        this.element.style.borderWidth = border ? '1px' : '';\n        this.element.style.borderStyle = border ? 'solid' : '';\n        this.element.style.borderColor = border;\n    }\n    layout() {\n        if (!this.mirror) {\n            return;\n        }\n        const previousHeight = this.cachedContentHeight;\n        this.cachedContentHeight = dom.getTotalHeight(this.mirror);\n        if (previousHeight !== this.cachedContentHeight) {\n            this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\n            this.input.style.height = this.cachedHeight + 'px';\n            this._onDidHeightChange.fire(this.cachedContentHeight);\n        }\n    }\n    insertAtCursor(text) {\n        const inputElement = this.inputElement;\n        const start = inputElement.selectionStart;\n        const end = inputElement.selectionEnd;\n        const content = inputElement.value;\n        if (start !== null && end !== null) {\n            this.value = content.substr(0, start) + text + content.substr(end);\n            inputElement.setSelectionRange(start + 1, start + 1);\n            this.layout();\n        }\n    }\n    dispose() {\n        this._hideMessage();\n        this.message = null;\n        if (this.actionbar) {\n            this.actionbar.dispose();\n        }\n        super.dispose();\n    }\n}\nexport class HistoryInputBox extends InputBox {\n    constructor(container, contextViewProvider, options) {\n        const NLS_PLACEHOLDER_HISTORY_HINT = nls.localize({ key: 'history.inputbox.hint', comment: ['Text will be prefixed with \\u21C5 plus a single space, then used as a hint where input field keeps history'] }, \"for history\");\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX = ` or \\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT}`;\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS = ` (\\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT})`;\n        super(container, contextViewProvider, options);\n        this.history = new HistoryNavigator(options.history, 100);\n        // Function to append the history suffix to the placeholder if necessary\n        const addSuffix = () => {\n            if (options.showHistoryHint && options.showHistoryHint() && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX) && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS) && this.history.getHistory().length) {\n                const suffix = this.placeholder.endsWith(')') ? NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX : NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS;\n                const suffixedPlaceholder = this.placeholder + suffix;\n                if (options.showPlaceholderOnFocus && document.activeElement !== this.input) {\n                    this.placeholder = suffixedPlaceholder;\n                }\n                else {\n                    this.setPlaceHolder(suffixedPlaceholder);\n                }\n            }\n        };\n        // Spot the change to the textarea class attribute which occurs when it changes between non-empty and empty,\n        // and add the history suffix to the placeholder if not yet present\n        this.observer = new MutationObserver((mutationList, observer) => {\n            mutationList.forEach((mutation) => {\n                if (!mutation.target.textContent) {\n                    addSuffix();\n                }\n            });\n        });\n        this.observer.observe(this.input, { attributeFilter: ['class'] });\n        this.onfocus(this.input, () => addSuffix());\n        this.onblur(this.input, () => {\n            const resetPlaceholder = (historyHint) => {\n                if (!this.placeholder.endsWith(historyHint)) {\n                    return false;\n                }\n                else {\n                    const revertedPlaceholder = this.placeholder.slice(0, this.placeholder.length - historyHint.length);\n                    if (options.showPlaceholderOnFocus) {\n                        this.placeholder = revertedPlaceholder;\n                    }\n                    else {\n                        this.setPlaceHolder(revertedPlaceholder);\n                    }\n                    return true;\n                }\n            };\n            if (!resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS)) {\n                resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX);\n            }\n        });\n    }\n    dispose() {\n        super.dispose();\n        if (this.observer) {\n            this.observer.disconnect();\n            this.observer = undefined;\n        }\n    }\n    addToHistory() {\n        if (this.value && this.value !== this.getCurrentValue()) {\n            this.history.add(this.value);\n        }\n    }\n    showNextValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let next = this.getNextValue();\n        if (next) {\n            next = next === this.value ? this.getNextValue() : next;\n        }\n        if (next) {\n            this.value = next;\n            aria.status(this.value);\n        }\n    }\n    showPreviousValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let previous = this.getPreviousValue();\n        if (previous) {\n            previous = previous === this.value ? this.getPreviousValue() : previous;\n        }\n        if (previous) {\n            this.value = previous;\n            aria.status(this.value);\n        }\n    }\n    getCurrentValue() {\n        let currentValue = this.history.current();\n        if (!currentValue) {\n            currentValue = this.history.last();\n            this.history.next();\n        }\n        return currentValue;\n    }\n    getPreviousValue() {\n        return this.history.previous() || this.history.first();\n    }\n    getNextValue() {\n        return this.history.next() || this.history.last();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { UILabelProvider } from '../../../common/keybindingLabels.js';\nimport { equals } from '../../../common/objects.js';\nimport './keybindingLabel.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nexport class KeybindingLabel {\n    constructor(container, os, options) {\n        this.os = os;\n        this.keyElements = new Set();\n        this.options = options || Object.create(null);\n        this.labelBackground = this.options.keybindingLabelBackground;\n        this.labelForeground = this.options.keybindingLabelForeground;\n        this.labelBorder = this.options.keybindingLabelBorder;\n        this.labelBottomBorder = this.options.keybindingLabelBottomBorder;\n        this.labelShadow = this.options.keybindingLabelShadow;\n        this.domNode = dom.append(container, $('.monaco-keybinding'));\n        this.didEverRender = false;\n        container.appendChild(this.domNode);\n    }\n    get element() {\n        return this.domNode;\n    }\n    set(keybinding, matches) {\n        if (this.didEverRender && this.keybinding === keybinding && KeybindingLabel.areSame(this.matches, matches)) {\n            return;\n        }\n        this.keybinding = keybinding;\n        this.matches = matches;\n        this.render();\n    }\n    render() {\n        this.clear();\n        if (this.keybinding) {\n            let [firstPart, chordPart] = this.keybinding.getParts();\n            if (firstPart) {\n                this.renderPart(this.domNode, firstPart, this.matches ? this.matches.firstPart : null);\n            }\n            if (chordPart) {\n                dom.append(this.domNode, $('span.monaco-keybinding-key-chord-separator', undefined, ' '));\n                this.renderPart(this.domNode, chordPart, this.matches ? this.matches.chordPart : null);\n            }\n            this.domNode.title = this.keybinding.getAriaLabel() || '';\n        }\n        else if (this.options && this.options.renderUnboundKeybindings) {\n            this.renderUnbound(this.domNode);\n        }\n        this.applyStyles();\n        this.didEverRender = true;\n    }\n    clear() {\n        dom.clearNode(this.domNode);\n        this.keyElements.clear();\n    }\n    renderPart(parent, part, match) {\n        const modifierLabels = UILabelProvider.modifierLabels[this.os];\n        if (part.ctrlKey) {\n            this.renderKey(parent, modifierLabels.ctrlKey, Boolean(match === null || match === void 0 ? void 0 : match.ctrlKey), modifierLabels.separator);\n        }\n        if (part.shiftKey) {\n            this.renderKey(parent, modifierLabels.shiftKey, Boolean(match === null || match === void 0 ? void 0 : match.shiftKey), modifierLabels.separator);\n        }\n        if (part.altKey) {\n            this.renderKey(parent, modifierLabels.altKey, Boolean(match === null || match === void 0 ? void 0 : match.altKey), modifierLabels.separator);\n        }\n        if (part.metaKey) {\n            this.renderKey(parent, modifierLabels.metaKey, Boolean(match === null || match === void 0 ? void 0 : match.metaKey), modifierLabels.separator);\n        }\n        const keyLabel = part.keyLabel;\n        if (keyLabel) {\n            this.renderKey(parent, keyLabel, Boolean(match === null || match === void 0 ? void 0 : match.keyCode), '');\n        }\n    }\n    renderKey(parent, label, highlight, separator) {\n        dom.append(parent, this.createKeyElement(label, highlight ? '.highlight' : ''));\n        if (separator) {\n            dom.append(parent, $('span.monaco-keybinding-key-separator', undefined, separator));\n        }\n    }\n    renderUnbound(parent) {\n        dom.append(parent, this.createKeyElement(localize('unbound', \"Unbound\")));\n    }\n    createKeyElement(label, extraClass = '') {\n        const keyElement = $('span.monaco-keybinding-key' + extraClass, undefined, label);\n        this.keyElements.add(keyElement);\n        return keyElement;\n    }\n    style(styles) {\n        this.labelBackground = styles.keybindingLabelBackground;\n        this.labelForeground = styles.keybindingLabelForeground;\n        this.labelBorder = styles.keybindingLabelBorder;\n        this.labelBottomBorder = styles.keybindingLabelBottomBorder;\n        this.labelShadow = styles.keybindingLabelShadow;\n        this.applyStyles();\n    }\n    applyStyles() {\n        var _a;\n        if (this.element) {\n            for (const keyElement of this.keyElements) {\n                if (this.labelBackground) {\n                    keyElement.style.backgroundColor = (_a = this.labelBackground) === null || _a === void 0 ? void 0 : _a.toString();\n                }\n                if (this.labelBorder) {\n                    keyElement.style.borderColor = this.labelBorder.toString();\n                }\n                if (this.labelBottomBorder) {\n                    keyElement.style.borderBottomColor = this.labelBottomBorder.toString();\n                }\n                if (this.labelShadow) {\n                    keyElement.style.boxShadow = `inset 0 -1px 0 ${this.labelShadow}`;\n                }\n            }\n            if (this.labelForeground) {\n                this.element.style.color = this.labelForeground.toString();\n            }\n        }\n    }\n    static areSame(a, b) {\n        if (a === b || (!a && !b)) {\n            return true;\n        }\n        return !!a && !!b && equals(a.firstPart, b.firstPart) && equals(a.chordPart, b.chordPart);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { range } from '../../../common/arrays.js';\nimport { CancellationTokenSource } from '../../../common/cancellation.js';\nimport { Event } from '../../../common/event.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './list.css';\nimport { List } from './listWidget.js';\nclass PagedRenderer {\n    constructor(renderer, modelProvider) {\n        this.renderer = renderer;\n        this.modelProvider = modelProvider;\n    }\n    get templateId() { return this.renderer.templateId; }\n    renderTemplate(container) {\n        const data = this.renderer.renderTemplate(container);\n        return { data, disposable: Disposable.None };\n    }\n    renderElement(index, _, data, height) {\n        if (data.disposable) {\n            data.disposable.dispose();\n        }\n        if (!data.data) {\n            return;\n        }\n        const model = this.modelProvider();\n        if (model.isResolved(index)) {\n            return this.renderer.renderElement(model.get(index), index, data.data, height);\n        }\n        const cts = new CancellationTokenSource();\n        const promise = model.resolve(index, cts.token);\n        data.disposable = { dispose: () => cts.cancel() };\n        this.renderer.renderPlaceholder(index, data.data);\n        promise.then(entry => this.renderer.renderElement(entry, index, data.data, height));\n    }\n    disposeTemplate(data) {\n        if (data.disposable) {\n            data.disposable.dispose();\n            data.disposable = undefined;\n        }\n        if (data.data) {\n            this.renderer.disposeTemplate(data.data);\n            data.data = undefined;\n        }\n    }\n}\nclass PagedAccessibilityProvider {\n    constructor(modelProvider, accessibilityProvider) {\n        this.modelProvider = modelProvider;\n        this.accessibilityProvider = accessibilityProvider;\n    }\n    getWidgetAriaLabel() {\n        return this.accessibilityProvider.getWidgetAriaLabel();\n    }\n    getAriaLabel(index) {\n        const model = this.modelProvider();\n        if (!model.isResolved(index)) {\n            return null;\n        }\n        return this.accessibilityProvider.getAriaLabel(model.get(index));\n    }\n}\nfunction fromPagedListOptions(modelProvider, options) {\n    return Object.assign(Object.assign({}, options), { accessibilityProvider: options.accessibilityProvider && new PagedAccessibilityProvider(modelProvider, options.accessibilityProvider) });\n}\nexport class PagedList {\n    constructor(user, container, virtualDelegate, renderers, options = {}) {\n        const modelProvider = () => this.model;\n        const pagedRenderers = renderers.map(r => new PagedRenderer(r, modelProvider));\n        this.list = new List(user, container, virtualDelegate, pagedRenderers, fromPagedListOptions(modelProvider, options));\n    }\n    updateOptions(options) {\n        this.list.updateOptions(options);\n    }\n    getHTMLElement() {\n        return this.list.getHTMLElement();\n    }\n    get onDidFocus() {\n        return this.list.onDidFocus;\n    }\n    get onDidDispose() {\n        return this.list.onDidDispose;\n    }\n    get onMouseDblClick() {\n        return Event.map(this.list.onMouseDblClick, ({ element, index, browserEvent }) => ({ element: element === undefined ? undefined : this._model.get(element), index, browserEvent }));\n    }\n    get onPointer() {\n        return Event.map(this.list.onPointer, ({ element, index, browserEvent }) => ({ element: element === undefined ? undefined : this._model.get(element), index, browserEvent }));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, ({ elements, indexes, browserEvent }) => ({ elements: elements.map(e => this._model.get(e)), indexes, browserEvent }));\n    }\n    get model() {\n        return this._model;\n    }\n    set model(model) {\n        this._model = model;\n        this.list.splice(0, this.list.length, range(model.length));\n    }\n    getFocus() {\n        return this.list.getFocus();\n    }\n    getSelection() {\n        return this.list.getSelection();\n    }\n    getSelectedElements() {\n        return this.getSelection().map(i => this.model.get(i));\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n    dispose() {\n        this.list.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../../../common/range.js';\n/**\n * Returns the intersection between a ranged group and a range.\n * Returns `[]` if the intersection is empty.\n */\nexport function groupIntersect(range, groups) {\n    const result = [];\n    for (let r of groups) {\n        if (range.start >= r.range.end) {\n            continue;\n        }\n        if (range.end < r.range.start) {\n            break;\n        }\n        const intersection = Range.intersect(range, r.range);\n        if (Range.isEmpty(intersection)) {\n            continue;\n        }\n        result.push({\n            range: intersection,\n            size: r.size\n        });\n    }\n    return result;\n}\n/**\n * Shifts a range by that `much`.\n */\nexport function shift({ start, end }, much) {\n    return { start: start + much, end: end + much };\n}\n/**\n * Consolidates a collection of ranged groups.\n *\n * Consolidation is the process of merging consecutive ranged groups\n * that share the same `size`.\n */\nexport function consolidate(groups) {\n    const result = [];\n    let previousGroup = null;\n    for (let group of groups) {\n        const start = group.range.start;\n        const end = group.range.end;\n        const size = group.size;\n        if (previousGroup && size === previousGroup.size) {\n            previousGroup.range.end = end;\n            continue;\n        }\n        previousGroup = { range: { start, end }, size };\n        result.push(previousGroup);\n    }\n    return result;\n}\n/**\n * Concatenates several collections of ranged groups into a single\n * collection.\n */\nfunction concat(...groups) {\n    return consolidate(groups.reduce((r, g) => r.concat(g), []));\n}\nexport class RangeMap {\n    constructor() {\n        this.groups = [];\n        this._size = 0;\n    }\n    splice(index, deleteCount, items = []) {\n        const diff = items.length - deleteCount;\n        const before = groupIntersect({ start: 0, end: index }, this.groups);\n        const after = groupIntersect({ start: index + deleteCount, end: Number.POSITIVE_INFINITY }, this.groups)\n            .map(g => ({ range: shift(g.range, diff), size: g.size }));\n        const middle = items.map((item, i) => ({\n            range: { start: index + i, end: index + i + 1 },\n            size: item.size\n        }));\n        this.groups = concat(before, middle, after);\n        this._size = this.groups.reduce((t, g) => t + (g.size * (g.range.end - g.range.start)), 0);\n    }\n    /**\n     * Returns the number of items in the range map.\n     */\n    get count() {\n        const len = this.groups.length;\n        if (!len) {\n            return 0;\n        }\n        return this.groups[len - 1].range.end;\n    }\n    /**\n     * Returns the sum of the sizes of all items in the range map.\n     */\n    get size() {\n        return this._size;\n    }\n    /**\n     * Returns the index of the item at the given position.\n     */\n    indexAt(position) {\n        if (position < 0) {\n            return -1;\n        }\n        let index = 0;\n        let size = 0;\n        for (let group of this.groups) {\n            const count = group.range.end - group.range.start;\n            const newSize = size + (count * group.size);\n            if (position < newSize) {\n                return index + Math.floor((position - size) / group.size);\n            }\n            index += count;\n            size = newSize;\n        }\n        return index;\n    }\n    /**\n     * Returns the index of the item right after the item at the\n     * index of the given position.\n     */\n    indexAfter(position) {\n        return Math.min(this.indexAt(position) + 1, this.count);\n    }\n    /**\n     * Returns the start position of the item at the given index.\n     */\n    positionAt(index) {\n        if (index < 0) {\n            return -1;\n        }\n        let position = 0;\n        let count = 0;\n        for (let group of this.groups) {\n            const groupCount = group.range.end - group.range.start;\n            const newCount = count + groupCount;\n            if (index < newCount) {\n                return position + ((index - count) * group.size);\n            }\n            position += groupCount * group.size;\n            count = newCount;\n        }\n        return -1;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $ } from '../../dom.js';\nfunction removeFromParent(element) {\n    try {\n        if (element.parentElement) {\n            element.parentElement.removeChild(element);\n        }\n    }\n    catch (e) {\n        // this will throw if this happens due to a blur event, nasty business\n    }\n}\nexport class RowCache {\n    constructor(renderers) {\n        this.renderers = renderers;\n        this.cache = new Map();\n    }\n    /**\n     * Returns a row either by creating a new one or reusing\n     * a previously released row which shares the same templateId.\n     */\n    alloc(templateId) {\n        let result = this.getTemplateCache(templateId).pop();\n        if (!result) {\n            const domNode = $('.monaco-list-row');\n            const renderer = this.getRenderer(templateId);\n            const templateData = renderer.renderTemplate(domNode);\n            result = { domNode, templateId, templateData };\n        }\n        return result;\n    }\n    /**\n     * Releases the row for eventual reuse.\n     */\n    release(row) {\n        if (!row) {\n            return;\n        }\n        this.releaseRow(row);\n    }\n    releaseRow(row) {\n        const { domNode, templateId } = row;\n        if (domNode) {\n            domNode.classList.remove('scrolling');\n            removeFromParent(domNode);\n        }\n        const cache = this.getTemplateCache(templateId);\n        cache.push(row);\n    }\n    getTemplateCache(templateId) {\n        let result = this.cache.get(templateId);\n        if (!result) {\n            result = [];\n            this.cache.set(templateId, result);\n        }\n        return result;\n    }\n    dispose() {\n        this.cache.forEach((cachedRows, templateId) => {\n            for (const cachedRow of cachedRows) {\n                const renderer = this.getRenderer(templateId);\n                renderer.disposeTemplate(cachedRow.templateData);\n                cachedRow.templateData = null;\n            }\n        });\n        this.cache.clear();\n    }\n    getRenderer(templateId) {\n        const renderer = this.renderers.get(templateId);\n        if (!renderer) {\n            throw new Error(`No renderer found for ${templateId}`);\n        }\n        return renderer;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isFirefox } from '../../browser.js';\nimport { DataTransfers, StaticDND } from '../../dnd.js';\nimport { $, addDisposableListener, animate, getContentHeight, getContentWidth, getTopLeftOffset, scheduleAtNextAnimationFrame } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { SmoothScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { distinct, equals } from '../../../common/arrays.js';\nimport { Delayer, disposableTimeout } from '../../../common/async.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { Disposable, DisposableStore, dispose, toDisposable } from '../../../common/lifecycle.js';\nimport { getOrDefault } from '../../../common/objects.js';\nimport { Range } from '../../../common/range.js';\nimport { Scrollable } from '../../../common/scrollable.js';\nimport { RangeMap, shift } from './rangeMap.js';\nimport { RowCache } from './rowCache.js';\nconst DefaultOptions = {\n    useShadows: true,\n    verticalScrollMode: 1 /* Auto */,\n    setRowLineHeight: true,\n    setRowHeight: true,\n    supportDynamicHeights: false,\n    dnd: {\n        getDragElements(e) { return [e]; },\n        getDragURI() { return null; },\n        onDragStart() { },\n        onDragOver() { return false; },\n        drop() { }\n    },\n    horizontalScrolling: false,\n    transformOptimization: true,\n    alwaysConsumeMouseWheel: true,\n};\nexport class ElementsDragAndDropData {\n    constructor(elements) {\n        this.elements = elements;\n    }\n    update() { }\n    getData() {\n        return this.elements;\n    }\n}\nexport class ExternalElementsDragAndDropData {\n    constructor(elements) {\n        this.elements = elements;\n    }\n    update() { }\n    getData() {\n        return this.elements;\n    }\n}\nexport class NativeDragAndDropData {\n    constructor() {\n        this.types = [];\n        this.files = [];\n    }\n    update(dataTransfer) {\n        if (dataTransfer.types) {\n            this.types.splice(0, this.types.length, ...dataTransfer.types);\n        }\n        if (dataTransfer.files) {\n            this.files.splice(0, this.files.length);\n            for (let i = 0; i < dataTransfer.files.length; i++) {\n                const file = dataTransfer.files.item(i);\n                if (file && (file.size || file.type)) {\n                    this.files.push(file);\n                }\n            }\n        }\n    }\n    getData() {\n        return {\n            types: this.types,\n            files: this.files\n        };\n    }\n}\nfunction equalsDragFeedback(f1, f2) {\n    if (Array.isArray(f1) && Array.isArray(f2)) {\n        return equals(f1, f2);\n    }\n    return f1 === f2;\n}\nclass ListViewAccessibilityProvider {\n    constructor(accessibilityProvider) {\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getSetSize) {\n            this.getSetSize = accessibilityProvider.getSetSize.bind(accessibilityProvider);\n        }\n        else {\n            this.getSetSize = (e, i, l) => l;\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getPosInSet) {\n            this.getPosInSet = accessibilityProvider.getPosInSet.bind(accessibilityProvider);\n        }\n        else {\n            this.getPosInSet = (e, i) => i + 1;\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getRole) {\n            this.getRole = accessibilityProvider.getRole.bind(accessibilityProvider);\n        }\n        else {\n            this.getRole = _ => 'listitem';\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.isChecked) {\n            this.isChecked = accessibilityProvider.isChecked.bind(accessibilityProvider);\n        }\n        else {\n            this.isChecked = _ => undefined;\n        }\n    }\n}\n/**\n * The {@link ListView} is a virtual scrolling engine.\n *\n * Given that it only renders elements within its viewport, it can hold large\n * collections of elements and stay very performant. The performance bottleneck\n * usually lies within the user's rendering code for each element.\n *\n * @remarks It is a low-level widget, not meant to be used directly. Refer to the\n * List widget instead.\n */\nexport class ListView {\n    constructor(container, virtualDelegate, renderers, options = DefaultOptions) {\n        this.virtualDelegate = virtualDelegate;\n        this.domId = `list_id_${++ListView.InstanceCount}`;\n        this.renderers = new Map();\n        this.renderWidth = 0;\n        this._scrollHeight = 0;\n        this.scrollableElementUpdateDisposable = null;\n        this.scrollableElementWidthDelayer = new Delayer(50);\n        this.splicing = false;\n        this.dragOverAnimationStopDisposable = Disposable.None;\n        this.dragOverMouseY = 0;\n        this.canDrop = false;\n        this.currentDragFeedbackDisposable = Disposable.None;\n        this.onDragLeaveTimeout = Disposable.None;\n        this.disposables = new DisposableStore();\n        this._onDidChangeContentHeight = new Emitter();\n        this._horizontalScrolling = false;\n        if (options.horizontalScrolling && options.supportDynamicHeights) {\n            throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n        }\n        this.items = [];\n        this.itemId = 0;\n        this.rangeMap = new RangeMap();\n        for (const renderer of renderers) {\n            this.renderers.set(renderer.templateId, renderer);\n        }\n        this.cache = this.disposables.add(new RowCache(this.renderers));\n        this.lastRenderTop = 0;\n        this.lastRenderHeight = 0;\n        this.domNode = document.createElement('div');\n        this.domNode.className = 'monaco-list';\n        this.domNode.classList.add(this.domId);\n        this.domNode.tabIndex = 0;\n        this.domNode.classList.toggle('mouse-support', typeof options.mouseSupport === 'boolean' ? options.mouseSupport : true);\n        this._horizontalScrolling = getOrDefault(options, o => o.horizontalScrolling, DefaultOptions.horizontalScrolling);\n        this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n        this.additionalScrollHeight = typeof options.additionalScrollHeight === 'undefined' ? 0 : options.additionalScrollHeight;\n        this.accessibilityProvider = new ListViewAccessibilityProvider(options.accessibilityProvider);\n        this.rowsContainer = document.createElement('div');\n        this.rowsContainer.className = 'monaco-list-rows';\n        const transformOptimization = getOrDefault(options, o => o.transformOptimization, DefaultOptions.transformOptimization);\n        if (transformOptimization) {\n            this.rowsContainer.style.transform = 'translate3d(0px, 0px, 0px)';\n        }\n        this.disposables.add(Gesture.addTarget(this.rowsContainer));\n        this.scrollable = new Scrollable({\n            forceIntegerValues: true,\n            smoothScrollDuration: getOrDefault(options, o => o.smoothScrolling, false) ? 125 : 0,\n            scheduleAtNextAnimationFrame: cb => scheduleAtNextAnimationFrame(cb)\n        });\n        this.scrollableElement = this.disposables.add(new SmoothScrollableElement(this.rowsContainer, {\n            alwaysConsumeMouseWheel: getOrDefault(options, o => o.alwaysConsumeMouseWheel, DefaultOptions.alwaysConsumeMouseWheel),\n            horizontal: 1 /* Auto */,\n            vertical: getOrDefault(options, o => o.verticalScrollMode, DefaultOptions.verticalScrollMode),\n            useShadows: getOrDefault(options, o => o.useShadows, DefaultOptions.useShadows),\n            mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity,\n            fastScrollSensitivity: options.fastScrollSensitivity\n        }, this.scrollable));\n        this.domNode.appendChild(this.scrollableElement.getDomNode());\n        container.appendChild(this.domNode);\n        this.scrollableElement.onScroll(this.onScroll, this, this.disposables);\n        this.disposables.add(addDisposableListener(this.rowsContainer, TouchEventType.Change, e => this.onTouchChange(e)));\n        // Prevent the monaco-scrollable-element from scrolling\n        // https://github.com/microsoft/vscode/issues/44181\n        this.disposables.add(addDisposableListener(this.scrollableElement.getDomNode(), 'scroll', e => e.target.scrollTop = 0));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragover', e => this.onDragOver(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'drop', e => this.onDrop(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragleave', e => this.onDragLeave(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragend', e => this.onDragEnd(e)));\n        this.setRowLineHeight = getOrDefault(options, o => o.setRowLineHeight, DefaultOptions.setRowLineHeight);\n        this.setRowHeight = getOrDefault(options, o => o.setRowHeight, DefaultOptions.setRowHeight);\n        this.supportDynamicHeights = getOrDefault(options, o => o.supportDynamicHeights, DefaultOptions.supportDynamicHeights);\n        this.dnd = getOrDefault(options, o => o.dnd, DefaultOptions.dnd);\n        this.layout();\n    }\n    get contentHeight() { return this.rangeMap.size; }\n    get horizontalScrolling() { return this._horizontalScrolling; }\n    set horizontalScrolling(value) {\n        if (value === this._horizontalScrolling) {\n            return;\n        }\n        if (value && this.supportDynamicHeights) {\n            throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n        }\n        this._horizontalScrolling = value;\n        this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n        if (this._horizontalScrolling) {\n            for (const item of this.items) {\n                this.measureItemWidth(item);\n            }\n            this.updateScrollWidth();\n            this.scrollableElement.setScrollDimensions({ width: getContentWidth(this.domNode) });\n            this.rowsContainer.style.width = `${Math.max(this.scrollWidth || 0, this.renderWidth)}px`;\n        }\n        else {\n            this.scrollableElementWidthDelayer.cancel();\n            this.scrollableElement.setScrollDimensions({ width: this.renderWidth, scrollWidth: this.renderWidth });\n            this.rowsContainer.style.width = '';\n        }\n    }\n    updateOptions(options) {\n        if (options.additionalScrollHeight !== undefined) {\n            this.additionalScrollHeight = options.additionalScrollHeight;\n            this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n        }\n        if (options.smoothScrolling !== undefined) {\n            this.scrollable.setSmoothScrollDuration(options.smoothScrolling ? 125 : 0);\n        }\n        if (options.horizontalScrolling !== undefined) {\n            this.horizontalScrolling = options.horizontalScrolling;\n        }\n        if (options.mouseWheelScrollSensitivity !== undefined) {\n            this.scrollableElement.updateOptions({ mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity });\n        }\n        if (options.fastScrollSensitivity !== undefined) {\n            this.scrollableElement.updateOptions({ fastScrollSensitivity: options.fastScrollSensitivity });\n        }\n    }\n    splice(start, deleteCount, elements = []) {\n        if (this.splicing) {\n            throw new Error('Can\\'t run recursive splices.');\n        }\n        this.splicing = true;\n        try {\n            return this._splice(start, deleteCount, elements);\n        }\n        finally {\n            this.splicing = false;\n            this._onDidChangeContentHeight.fire(this.contentHeight);\n        }\n    }\n    _splice(start, deleteCount, elements = []) {\n        const previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const deleteRange = { start, end: start + deleteCount };\n        const removeRange = Range.intersect(previousRenderRange, deleteRange);\n        // try to reuse rows, avoid removing them from DOM\n        const rowsToDispose = new Map();\n        for (let i = removeRange.end - 1; i >= removeRange.start; i--) {\n            const item = this.items[i];\n            item.dragStartDisposable.dispose();\n            if (item.row) {\n                let rows = rowsToDispose.get(item.templateId);\n                if (!rows) {\n                    rows = [];\n                    rowsToDispose.set(item.templateId, rows);\n                }\n                const renderer = this.renderers.get(item.templateId);\n                if (renderer && renderer.disposeElement) {\n                    renderer.disposeElement(item.element, i, item.row.templateData, item.size);\n                }\n                rows.push(item.row);\n            }\n            item.row = null;\n        }\n        const previousRestRange = { start: start + deleteCount, end: this.items.length };\n        const previousRenderedRestRange = Range.intersect(previousRestRange, previousRenderRange);\n        const previousUnrenderedRestRanges = Range.relativeComplement(previousRestRange, previousRenderRange);\n        const inserted = elements.map(element => ({\n            id: String(this.itemId++),\n            element,\n            templateId: this.virtualDelegate.getTemplateId(element),\n            size: this.virtualDelegate.getHeight(element),\n            width: undefined,\n            hasDynamicHeight: !!this.virtualDelegate.hasDynamicHeight && this.virtualDelegate.hasDynamicHeight(element),\n            lastDynamicHeightWidth: undefined,\n            row: null,\n            uri: undefined,\n            dropTarget: false,\n            dragStartDisposable: Disposable.None,\n            checkedDisposable: Disposable.None\n        }));\n        let deleted;\n        // TODO@joao: improve this optimization to catch even more cases\n        if (start === 0 && deleteCount >= this.items.length) {\n            this.rangeMap = new RangeMap();\n            this.rangeMap.splice(0, 0, inserted);\n            deleted = this.items;\n            this.items = inserted;\n        }\n        else {\n            this.rangeMap.splice(start, deleteCount, inserted);\n            deleted = this.items.splice(start, deleteCount, ...inserted);\n        }\n        const delta = elements.length - deleteCount;\n        const renderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const renderedRestRange = shift(previousRenderedRestRange, delta);\n        const updateRange = Range.intersect(renderRange, renderedRestRange);\n        for (let i = updateRange.start; i < updateRange.end; i++) {\n            this.updateItemInDOM(this.items[i], i);\n        }\n        const removeRanges = Range.relativeComplement(renderedRestRange, renderRange);\n        for (const range of removeRanges) {\n            for (let i = range.start; i < range.end; i++) {\n                this.removeItemFromDOM(i);\n            }\n        }\n        const unrenderedRestRanges = previousUnrenderedRestRanges.map(r => shift(r, delta));\n        const elementsRange = { start, end: start + elements.length };\n        const insertRanges = [elementsRange, ...unrenderedRestRanges].map(r => Range.intersect(renderRange, r));\n        const beforeElement = this.getNextToLastElement(insertRanges);\n        for (const range of insertRanges) {\n            for (let i = range.start; i < range.end; i++) {\n                const item = this.items[i];\n                const rows = rowsToDispose.get(item.templateId);\n                const row = rows === null || rows === void 0 ? void 0 : rows.pop();\n                this.insertItemInDOM(i, beforeElement, row);\n            }\n        }\n        for (const rows of rowsToDispose.values()) {\n            for (const row of rows) {\n                this.cache.release(row);\n            }\n        }\n        this.eventuallyUpdateScrollDimensions();\n        if (this.supportDynamicHeights) {\n            this._rerender(this.scrollTop, this.renderHeight);\n        }\n        return deleted.map(i => i.element);\n    }\n    eventuallyUpdateScrollDimensions() {\n        this._scrollHeight = this.contentHeight;\n        this.rowsContainer.style.height = `${this._scrollHeight}px`;\n        if (!this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable = scheduleAtNextAnimationFrame(() => {\n                this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n                this.updateScrollWidth();\n                this.scrollableElementUpdateDisposable = null;\n            });\n        }\n    }\n    eventuallyUpdateScrollWidth() {\n        if (!this.horizontalScrolling) {\n            this.scrollableElementWidthDelayer.cancel();\n            return;\n        }\n        this.scrollableElementWidthDelayer.trigger(() => this.updateScrollWidth());\n    }\n    updateScrollWidth() {\n        if (!this.horizontalScrolling) {\n            return;\n        }\n        let scrollWidth = 0;\n        for (const item of this.items) {\n            if (typeof item.width !== 'undefined') {\n                scrollWidth = Math.max(scrollWidth, item.width);\n            }\n        }\n        this.scrollWidth = scrollWidth;\n        this.scrollableElement.setScrollDimensions({ scrollWidth: scrollWidth === 0 ? 0 : (scrollWidth + 10) });\n    }\n    rerender() {\n        if (!this.supportDynamicHeights) {\n            return;\n        }\n        for (const item of this.items) {\n            item.lastDynamicHeightWidth = undefined;\n        }\n        this._rerender(this.lastRenderTop, this.lastRenderHeight);\n    }\n    get length() {\n        return this.items.length;\n    }\n    get renderHeight() {\n        const scrollDimensions = this.scrollableElement.getScrollDimensions();\n        return scrollDimensions.height;\n    }\n    element(index) {\n        return this.items[index].element;\n    }\n    domElement(index) {\n        const row = this.items[index].row;\n        return row && row.domNode;\n    }\n    elementHeight(index) {\n        return this.items[index].size;\n    }\n    elementTop(index) {\n        return this.rangeMap.positionAt(index);\n    }\n    indexAt(position) {\n        return this.rangeMap.indexAt(position);\n    }\n    indexAfter(position) {\n        return this.rangeMap.indexAfter(position);\n    }\n    layout(height, width) {\n        let scrollDimensions = {\n            height: typeof height === 'number' ? height : getContentHeight(this.domNode)\n        };\n        if (this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable.dispose();\n            this.scrollableElementUpdateDisposable = null;\n            scrollDimensions.scrollHeight = this.scrollHeight;\n        }\n        this.scrollableElement.setScrollDimensions(scrollDimensions);\n        if (typeof width !== 'undefined') {\n            this.renderWidth = width;\n            if (this.supportDynamicHeights) {\n                this._rerender(this.scrollTop, this.renderHeight);\n            }\n        }\n        if (this.horizontalScrolling) {\n            this.scrollableElement.setScrollDimensions({\n                width: typeof width === 'number' ? width : getContentWidth(this.domNode)\n            });\n        }\n    }\n    // Render\n    render(previousRenderRange, renderTop, renderHeight, renderLeft, scrollWidth, updateItemsInDOM = false) {\n        const renderRange = this.getRenderRange(renderTop, renderHeight);\n        const rangesToInsert = Range.relativeComplement(renderRange, previousRenderRange);\n        const rangesToRemove = Range.relativeComplement(previousRenderRange, renderRange);\n        const beforeElement = this.getNextToLastElement(rangesToInsert);\n        if (updateItemsInDOM) {\n            const rangesToUpdate = Range.intersect(previousRenderRange, renderRange);\n            for (let i = rangesToUpdate.start; i < rangesToUpdate.end; i++) {\n                this.updateItemInDOM(this.items[i], i);\n            }\n        }\n        for (const range of rangesToInsert) {\n            for (let i = range.start; i < range.end; i++) {\n                this.insertItemInDOM(i, beforeElement);\n            }\n        }\n        for (const range of rangesToRemove) {\n            for (let i = range.start; i < range.end; i++) {\n                this.removeItemFromDOM(i);\n            }\n        }\n        if (renderLeft !== undefined) {\n            this.rowsContainer.style.left = `-${renderLeft}px`;\n        }\n        this.rowsContainer.style.top = `-${renderTop}px`;\n        if (this.horizontalScrolling && scrollWidth !== undefined) {\n            this.rowsContainer.style.width = `${Math.max(scrollWidth, this.renderWidth)}px`;\n        }\n        this.lastRenderTop = renderTop;\n        this.lastRenderHeight = renderHeight;\n    }\n    // DOM operations\n    insertItemInDOM(index, beforeElement, row) {\n        const item = this.items[index];\n        if (!item.row) {\n            item.row = row !== null && row !== void 0 ? row : this.cache.alloc(item.templateId);\n        }\n        const role = this.accessibilityProvider.getRole(item.element) || 'listitem';\n        item.row.domNode.setAttribute('role', role);\n        const checked = this.accessibilityProvider.isChecked(item.element);\n        if (typeof checked === 'boolean') {\n            item.row.domNode.setAttribute('aria-checked', String(!!checked));\n        }\n        else if (checked) {\n            const update = (checked) => item.row.domNode.setAttribute('aria-checked', String(!!checked));\n            update(checked.value);\n            item.checkedDisposable = checked.onDidChange(update);\n        }\n        if (!item.row.domNode.parentElement) {\n            if (beforeElement) {\n                this.rowsContainer.insertBefore(item.row.domNode, beforeElement);\n            }\n            else {\n                this.rowsContainer.appendChild(item.row.domNode);\n            }\n        }\n        this.updateItemInDOM(item, index);\n        const renderer = this.renderers.get(item.templateId);\n        if (!renderer) {\n            throw new Error(`No renderer found for template id ${item.templateId}`);\n        }\n        if (renderer) {\n            renderer.renderElement(item.element, index, item.row.templateData, item.size);\n        }\n        const uri = this.dnd.getDragURI(item.element);\n        item.dragStartDisposable.dispose();\n        item.row.domNode.draggable = !!uri;\n        if (uri) {\n            item.dragStartDisposable = addDisposableListener(item.row.domNode, 'dragstart', event => this.onDragStart(item.element, uri, event));\n        }\n        if (this.horizontalScrolling) {\n            this.measureItemWidth(item);\n            this.eventuallyUpdateScrollWidth();\n        }\n    }\n    measureItemWidth(item) {\n        if (!item.row || !item.row.domNode) {\n            return;\n        }\n        item.row.domNode.style.width = isFirefox ? '-moz-fit-content' : 'fit-content';\n        item.width = getContentWidth(item.row.domNode);\n        const style = window.getComputedStyle(item.row.domNode);\n        if (style.paddingLeft) {\n            item.width += parseFloat(style.paddingLeft);\n        }\n        if (style.paddingRight) {\n            item.width += parseFloat(style.paddingRight);\n        }\n        item.row.domNode.style.width = '';\n    }\n    updateItemInDOM(item, index) {\n        item.row.domNode.style.top = `${this.elementTop(index)}px`;\n        if (this.setRowHeight) {\n            item.row.domNode.style.height = `${item.size}px`;\n        }\n        if (this.setRowLineHeight) {\n            item.row.domNode.style.lineHeight = `${item.size}px`;\n        }\n        item.row.domNode.setAttribute('data-index', `${index}`);\n        item.row.domNode.setAttribute('data-last-element', index === this.length - 1 ? 'true' : 'false');\n        item.row.domNode.setAttribute('data-parity', index % 2 === 0 ? 'even' : 'odd');\n        item.row.domNode.setAttribute('aria-setsize', String(this.accessibilityProvider.getSetSize(item.element, index, this.length)));\n        item.row.domNode.setAttribute('aria-posinset', String(this.accessibilityProvider.getPosInSet(item.element, index)));\n        item.row.domNode.setAttribute('id', this.getElementDomId(index));\n        item.row.domNode.classList.toggle('drop-target', item.dropTarget);\n    }\n    removeItemFromDOM(index) {\n        const item = this.items[index];\n        item.dragStartDisposable.dispose();\n        item.checkedDisposable.dispose();\n        if (item.row) {\n            const renderer = this.renderers.get(item.templateId);\n            if (renderer && renderer.disposeElement) {\n                renderer.disposeElement(item.element, index, item.row.templateData, item.size);\n            }\n            this.cache.release(item.row);\n            item.row = null;\n        }\n        if (this.horizontalScrolling) {\n            this.eventuallyUpdateScrollWidth();\n        }\n    }\n    getScrollTop() {\n        const scrollPosition = this.scrollableElement.getScrollPosition();\n        return scrollPosition.scrollTop;\n    }\n    setScrollTop(scrollTop, reuseAnimation) {\n        if (this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable.dispose();\n            this.scrollableElementUpdateDisposable = null;\n            this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n        }\n        this.scrollableElement.setScrollPosition({ scrollTop, reuseAnimation });\n    }\n    get scrollTop() {\n        return this.getScrollTop();\n    }\n    set scrollTop(scrollTop) {\n        this.setScrollTop(scrollTop);\n    }\n    get scrollHeight() {\n        return this._scrollHeight + (this.horizontalScrolling ? 10 : 0) + this.additionalScrollHeight;\n    }\n    // Events\n    get onMouseClick() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'click')).event, e => this.toMouseEvent(e)); }\n    get onMouseDblClick() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'dblclick')).event, e => this.toMouseEvent(e)); }\n    get onMouseMiddleClick() { return Event.filter(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'auxclick')).event, e => this.toMouseEvent(e)), e => e.browserEvent.button === 1); }\n    get onMouseDown() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mousedown')).event, e => this.toMouseEvent(e)); }\n    get onContextMenu() { return Event.any(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'contextmenu')).event, e => this.toMouseEvent(e)), Event.map(this.disposables.add(new DomEmitter(this.domNode, TouchEventType.Contextmenu)).event, e => this.toGestureEvent(e))); }\n    get onTouchStart() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'touchstart')).event, e => this.toTouchEvent(e)); }\n    get onTap() { return Event.map(this.disposables.add(new DomEmitter(this.rowsContainer, TouchEventType.Tap)).event, e => this.toGestureEvent(e)); }\n    toMouseEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toTouchEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toGestureEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.initialTarget || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toDragEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    onScroll(e) {\n        try {\n            const previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n            this.render(previousRenderRange, e.scrollTop, e.height, e.scrollLeft, e.scrollWidth);\n            if (this.supportDynamicHeights) {\n                this._rerender(e.scrollTop, e.height, e.inSmoothScrolling);\n            }\n        }\n        catch (err) {\n            console.error('Got bad scroll event:', e);\n            throw err;\n        }\n    }\n    onTouchChange(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.scrollTop -= event.translationY;\n    }\n    // DND\n    onDragStart(element, uri, event) {\n        if (!event.dataTransfer) {\n            return;\n        }\n        const elements = this.dnd.getDragElements(element);\n        event.dataTransfer.effectAllowed = 'copyMove';\n        event.dataTransfer.setData(DataTransfers.TEXT, uri);\n        if (event.dataTransfer.setDragImage) {\n            let label;\n            if (this.dnd.getDragLabel) {\n                label = this.dnd.getDragLabel(elements, event);\n            }\n            if (typeof label === 'undefined') {\n                label = String(elements.length);\n            }\n            const dragImage = $('.monaco-drag-image');\n            dragImage.textContent = label;\n            document.body.appendChild(dragImage);\n            event.dataTransfer.setDragImage(dragImage, -10, -10);\n            setTimeout(() => document.body.removeChild(dragImage), 0);\n        }\n        this.currentDragData = new ElementsDragAndDropData(elements);\n        StaticDND.CurrentDragAndDropData = new ExternalElementsDragAndDropData(elements);\n        if (this.dnd.onDragStart) {\n            this.dnd.onDragStart(this.currentDragData, event);\n        }\n    }\n    onDragOver(event) {\n        event.browserEvent.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n        this.onDragLeaveTimeout.dispose();\n        if (StaticDND.CurrentDragAndDropData && StaticDND.CurrentDragAndDropData.getData() === 'vscode-ui') {\n            return false;\n        }\n        this.setupDragAndDropScrollTopAnimation(event.browserEvent);\n        if (!event.browserEvent.dataTransfer) {\n            return false;\n        }\n        // Drag over from outside\n        if (!this.currentDragData) {\n            if (StaticDND.CurrentDragAndDropData) {\n                // Drag over from another list\n                this.currentDragData = StaticDND.CurrentDragAndDropData;\n            }\n            else {\n                // Drag over from the desktop\n                if (!event.browserEvent.dataTransfer.types) {\n                    return false;\n                }\n                this.currentDragData = new NativeDragAndDropData();\n            }\n        }\n        const result = this.dnd.onDragOver(this.currentDragData, event.element, event.index, event.browserEvent);\n        this.canDrop = typeof result === 'boolean' ? result : result.accept;\n        if (!this.canDrop) {\n            this.currentDragFeedback = undefined;\n            this.currentDragFeedbackDisposable.dispose();\n            return false;\n        }\n        event.browserEvent.dataTransfer.dropEffect = (typeof result !== 'boolean' && result.effect === 0 /* Copy */) ? 'copy' : 'move';\n        let feedback;\n        if (typeof result !== 'boolean' && result.feedback) {\n            feedback = result.feedback;\n        }\n        else {\n            if (typeof event.index === 'undefined') {\n                feedback = [-1];\n            }\n            else {\n                feedback = [event.index];\n            }\n        }\n        // sanitize feedback list\n        feedback = distinct(feedback).filter(i => i >= -1 && i < this.length).sort((a, b) => a - b);\n        feedback = feedback[0] === -1 ? [-1] : feedback;\n        if (equalsDragFeedback(this.currentDragFeedback, feedback)) {\n            return true;\n        }\n        this.currentDragFeedback = feedback;\n        this.currentDragFeedbackDisposable.dispose();\n        if (feedback[0] === -1) { // entire list feedback\n            this.domNode.classList.add('drop-target');\n            this.rowsContainer.classList.add('drop-target');\n            this.currentDragFeedbackDisposable = toDisposable(() => {\n                this.domNode.classList.remove('drop-target');\n                this.rowsContainer.classList.remove('drop-target');\n            });\n        }\n        else {\n            for (const index of feedback) {\n                const item = this.items[index];\n                item.dropTarget = true;\n                if (item.row) {\n                    item.row.domNode.classList.add('drop-target');\n                }\n            }\n            this.currentDragFeedbackDisposable = toDisposable(() => {\n                for (const index of feedback) {\n                    const item = this.items[index];\n                    item.dropTarget = false;\n                    if (item.row) {\n                        item.row.domNode.classList.remove('drop-target');\n                    }\n                }\n            });\n        }\n        return true;\n    }\n    onDragLeave(event) {\n        var _a, _b;\n        this.onDragLeaveTimeout.dispose();\n        this.onDragLeaveTimeout = disposableTimeout(() => this.clearDragOverFeedback(), 100);\n        if (this.currentDragData) {\n            (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, this.currentDragData, event.element, event.index, event.browserEvent);\n        }\n    }\n    onDrop(event) {\n        if (!this.canDrop) {\n            return;\n        }\n        const dragData = this.currentDragData;\n        this.teardownDragAndDropScrollTopAnimation();\n        this.clearDragOverFeedback();\n        this.currentDragData = undefined;\n        StaticDND.CurrentDragAndDropData = undefined;\n        if (!dragData || !event.browserEvent.dataTransfer) {\n            return;\n        }\n        event.browserEvent.preventDefault();\n        dragData.update(event.browserEvent.dataTransfer);\n        this.dnd.drop(dragData, event.element, event.index, event.browserEvent);\n    }\n    onDragEnd(event) {\n        this.canDrop = false;\n        this.teardownDragAndDropScrollTopAnimation();\n        this.clearDragOverFeedback();\n        this.currentDragData = undefined;\n        StaticDND.CurrentDragAndDropData = undefined;\n        if (this.dnd.onDragEnd) {\n            this.dnd.onDragEnd(event);\n        }\n    }\n    clearDragOverFeedback() {\n        this.currentDragFeedback = undefined;\n        this.currentDragFeedbackDisposable.dispose();\n        this.currentDragFeedbackDisposable = Disposable.None;\n    }\n    // DND scroll top animation\n    setupDragAndDropScrollTopAnimation(event) {\n        if (!this.dragOverAnimationDisposable) {\n            const viewTop = getTopLeftOffset(this.domNode).top;\n            this.dragOverAnimationDisposable = animate(this.animateDragAndDropScrollTop.bind(this, viewTop));\n        }\n        this.dragOverAnimationStopDisposable.dispose();\n        this.dragOverAnimationStopDisposable = disposableTimeout(() => {\n            if (this.dragOverAnimationDisposable) {\n                this.dragOverAnimationDisposable.dispose();\n                this.dragOverAnimationDisposable = undefined;\n            }\n        }, 1000);\n        this.dragOverMouseY = event.pageY;\n    }\n    animateDragAndDropScrollTop(viewTop) {\n        if (this.dragOverMouseY === undefined) {\n            return;\n        }\n        const diff = this.dragOverMouseY - viewTop;\n        const upperLimit = this.renderHeight - 35;\n        if (diff < 35) {\n            this.scrollTop += Math.max(-14, Math.floor(0.3 * (diff - 35)));\n        }\n        else if (diff > upperLimit) {\n            this.scrollTop += Math.min(14, Math.floor(0.3 * (diff - upperLimit)));\n        }\n    }\n    teardownDragAndDropScrollTopAnimation() {\n        this.dragOverAnimationStopDisposable.dispose();\n        if (this.dragOverAnimationDisposable) {\n            this.dragOverAnimationDisposable.dispose();\n            this.dragOverAnimationDisposable = undefined;\n        }\n    }\n    // Util\n    getItemIndexFromEventTarget(target) {\n        const scrollableElement = this.scrollableElement.getDomNode();\n        let element = target;\n        while (element instanceof HTMLElement && element !== this.rowsContainer && scrollableElement.contains(element)) {\n            const rawIndex = element.getAttribute('data-index');\n            if (rawIndex) {\n                const index = Number(rawIndex);\n                if (!isNaN(index)) {\n                    return index;\n                }\n            }\n            element = element.parentElement;\n        }\n        return undefined;\n    }\n    getRenderRange(renderTop, renderHeight) {\n        return {\n            start: this.rangeMap.indexAt(renderTop),\n            end: this.rangeMap.indexAfter(renderTop + renderHeight - 1)\n        };\n    }\n    /**\n     * Given a stable rendered state, checks every rendered element whether it needs\n     * to be probed for dynamic height. Adjusts scroll height and top if necessary.\n     */\n    _rerender(renderTop, renderHeight, inSmoothScrolling) {\n        const previousRenderRange = this.getRenderRange(renderTop, renderHeight);\n        // Let's remember the second element's position, this helps in scrolling up\n        // and preserving a linear upwards scroll movement\n        let anchorElementIndex;\n        let anchorElementTopDelta;\n        if (renderTop === this.elementTop(previousRenderRange.start)) {\n            anchorElementIndex = previousRenderRange.start;\n            anchorElementTopDelta = 0;\n        }\n        else if (previousRenderRange.end - previousRenderRange.start > 1) {\n            anchorElementIndex = previousRenderRange.start + 1;\n            anchorElementTopDelta = this.elementTop(anchorElementIndex) - renderTop;\n        }\n        let heightDiff = 0;\n        while (true) {\n            const renderRange = this.getRenderRange(renderTop, renderHeight);\n            let didChange = false;\n            for (let i = renderRange.start; i < renderRange.end; i++) {\n                const diff = this.probeDynamicHeight(i);\n                if (diff !== 0) {\n                    this.rangeMap.splice(i, 1, [this.items[i]]);\n                }\n                heightDiff += diff;\n                didChange = didChange || diff !== 0;\n            }\n            if (!didChange) {\n                if (heightDiff !== 0) {\n                    this.eventuallyUpdateScrollDimensions();\n                }\n                const unrenderRanges = Range.relativeComplement(previousRenderRange, renderRange);\n                for (const range of unrenderRanges) {\n                    for (let i = range.start; i < range.end; i++) {\n                        if (this.items[i].row) {\n                            this.removeItemFromDOM(i);\n                        }\n                    }\n                }\n                const renderRanges = Range.relativeComplement(renderRange, previousRenderRange);\n                for (const range of renderRanges) {\n                    for (let i = range.start; i < range.end; i++) {\n                        const afterIndex = i + 1;\n                        const beforeRow = afterIndex < this.items.length ? this.items[afterIndex].row : null;\n                        const beforeElement = beforeRow ? beforeRow.domNode : null;\n                        this.insertItemInDOM(i, beforeElement);\n                    }\n                }\n                for (let i = renderRange.start; i < renderRange.end; i++) {\n                    if (this.items[i].row) {\n                        this.updateItemInDOM(this.items[i], i);\n                    }\n                }\n                if (typeof anchorElementIndex === 'number') {\n                    // To compute a destination scroll top, we need to take into account the current smooth scrolling\n                    // animation, and then reuse it with a new target (to avoid prolonging the scroll)\n                    // See https://github.com/microsoft/vscode/issues/104144\n                    // See https://github.com/microsoft/vscode/pull/104284\n                    // See https://github.com/microsoft/vscode/issues/107704\n                    const deltaScrollTop = this.scrollable.getFutureScrollPosition().scrollTop - renderTop;\n                    const newScrollTop = this.elementTop(anchorElementIndex) - anchorElementTopDelta + deltaScrollTop;\n                    this.setScrollTop(newScrollTop, inSmoothScrolling);\n                }\n                this._onDidChangeContentHeight.fire(this.contentHeight);\n                return;\n            }\n        }\n    }\n    probeDynamicHeight(index) {\n        const item = this.items[index];\n        if (!!this.virtualDelegate.getDynamicHeight) {\n            const newSize = this.virtualDelegate.getDynamicHeight(item.element);\n            if (newSize !== null) {\n                const size = item.size;\n                item.size = newSize;\n                item.lastDynamicHeightWidth = this.renderWidth;\n                return newSize - size;\n            }\n        }\n        if (!item.hasDynamicHeight || item.lastDynamicHeightWidth === this.renderWidth) {\n            return 0;\n        }\n        if (!!this.virtualDelegate.hasDynamicHeight && !this.virtualDelegate.hasDynamicHeight(item.element)) {\n            return 0;\n        }\n        const size = item.size;\n        if (!this.setRowHeight && item.row) {\n            let newSize = item.row.domNode.offsetHeight;\n            item.size = newSize;\n            item.lastDynamicHeightWidth = this.renderWidth;\n            return newSize - size;\n        }\n        const row = this.cache.alloc(item.templateId);\n        row.domNode.style.height = '';\n        this.rowsContainer.appendChild(row.domNode);\n        const renderer = this.renderers.get(item.templateId);\n        if (renderer) {\n            renderer.renderElement(item.element, index, row.templateData, undefined);\n            if (renderer.disposeElement) {\n                renderer.disposeElement(item.element, index, row.templateData, undefined);\n            }\n        }\n        item.size = row.domNode.offsetHeight;\n        if (this.virtualDelegate.setDynamicHeight) {\n            this.virtualDelegate.setDynamicHeight(item.element, item.size);\n        }\n        item.lastDynamicHeightWidth = this.renderWidth;\n        this.rowsContainer.removeChild(row.domNode);\n        this.cache.release(row);\n        return item.size - size;\n    }\n    getNextToLastElement(ranges) {\n        const lastRange = ranges[ranges.length - 1];\n        if (!lastRange) {\n            return null;\n        }\n        const nextToLastItem = this.items[lastRange.end];\n        if (!nextToLastItem) {\n            return null;\n        }\n        if (!nextToLastItem.row) {\n            return null;\n        }\n        return nextToLastItem.row.domNode;\n    }\n    getElementDomId(index) {\n        return `${this.domId}_${index}`;\n    }\n    // Dispose\n    dispose() {\n        if (this.items) {\n            for (const item of this.items) {\n                if (item.row) {\n                    const renderer = this.renderers.get(item.row.templateId);\n                    if (renderer) {\n                        if (renderer.disposeElement) {\n                            renderer.disposeElement(item.element, -1, item.row.templateData, undefined);\n                        }\n                        renderer.disposeTemplate(item.row.templateData);\n                    }\n                }\n            }\n            this.items = [];\n        }\n        if (this.domNode && this.domNode.parentNode) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        dispose(this.disposables);\n    }\n}\nListView.InstanceCount = 0;\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseDblClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseMiddleClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseDown\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onContextMenu\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onTouchStart\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onTap\", null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class CombinedSpliceable {\n    constructor(spliceables) {\n        this.spliceables = spliceables;\n    }\n    splice(start, deleteCount, elements) {\n        this.spliceables.forEach(s => s.splice(start, deleteCount, elements));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ListError extends Error {\n    constructor(user, message) {\n        super(`ListError [${user}] ${message}`);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { createStyleSheet } from '../../dom.js';\nimport { DomEmitter, stopEvent } from '../../event.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { Gesture } from '../../touch.js';\nimport { alert } from '../aria/aria.js';\nimport { CombinedSpliceable } from './splice.js';\nimport { binarySearch, firstOrDefault, range } from '../../../common/arrays.js';\nimport { timeout } from '../../../common/async.js';\nimport { Color } from '../../../common/color.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event, EventBufferer } from '../../../common/event.js';\nimport { matchesPrefix } from '../../../common/filters.js';\nimport { DisposableStore, dispose } from '../../../common/lifecycle.js';\nimport { clamp } from '../../../common/numbers.js';\nimport { mixin } from '../../../common/objects.js';\nimport * as platform from '../../../common/platform.js';\nimport { isNumber } from '../../../common/types.js';\nimport './list.css';\nimport { ListError } from './list.js';\nimport { ListView } from './listView.js';\nclass TraitRenderer {\n    constructor(trait) {\n        this.trait = trait;\n        this.renderedElements = [];\n    }\n    get templateId() {\n        return `template:${this.trait.name}`;\n    }\n    renderTemplate(container) {\n        return container;\n    }\n    renderElement(element, index, templateData) {\n        const renderedElementIndex = this.renderedElements.findIndex(el => el.templateData === templateData);\n        if (renderedElementIndex >= 0) {\n            const rendered = this.renderedElements[renderedElementIndex];\n            this.trait.unrender(templateData);\n            rendered.index = index;\n        }\n        else {\n            const rendered = { index, templateData };\n            this.renderedElements.push(rendered);\n        }\n        this.trait.renderIndex(index, templateData);\n    }\n    splice(start, deleteCount, insertCount) {\n        const rendered = [];\n        for (const renderedElement of this.renderedElements) {\n            if (renderedElement.index < start) {\n                rendered.push(renderedElement);\n            }\n            else if (renderedElement.index >= start + deleteCount) {\n                rendered.push({\n                    index: renderedElement.index + insertCount - deleteCount,\n                    templateData: renderedElement.templateData\n                });\n            }\n        }\n        this.renderedElements = rendered;\n    }\n    renderIndexes(indexes) {\n        for (const { index, templateData } of this.renderedElements) {\n            if (indexes.indexOf(index) > -1) {\n                this.trait.renderIndex(index, templateData);\n            }\n        }\n    }\n    disposeTemplate(templateData) {\n        const index = this.renderedElements.findIndex(el => el.templateData === templateData);\n        if (index < 0) {\n            return;\n        }\n        this.renderedElements.splice(index, 1);\n    }\n}\nclass Trait {\n    constructor(_trait) {\n        this._trait = _trait;\n        this.length = 0;\n        this.indexes = [];\n        this.sortedIndexes = [];\n        this._onChange = new Emitter();\n        this.onChange = this._onChange.event;\n    }\n    get name() { return this._trait; }\n    get renderer() {\n        return new TraitRenderer(this);\n    }\n    splice(start, deleteCount, elements) {\n        var _a;\n        deleteCount = Math.max(0, Math.min(deleteCount, this.length - start));\n        const diff = elements.length - deleteCount;\n        const end = start + deleteCount;\n        const sortedIndexes = [\n            ...this.sortedIndexes.filter(i => i < start),\n            ...elements.map((hasTrait, i) => hasTrait ? i + start : -1).filter(i => i !== -1),\n            ...this.sortedIndexes.filter(i => i >= end).map(i => i + diff)\n        ];\n        const length = this.length + diff;\n        if (this.sortedIndexes.length > 0 && sortedIndexes.length === 0 && length > 0) {\n            const first = (_a = this.sortedIndexes.find(index => index >= start)) !== null && _a !== void 0 ? _a : length - 1;\n            sortedIndexes.push(Math.min(first, length - 1));\n        }\n        this.renderer.splice(start, deleteCount, elements.length);\n        this._set(sortedIndexes, sortedIndexes);\n        this.length = length;\n    }\n    renderIndex(index, container) {\n        container.classList.toggle(this._trait, this.contains(index));\n    }\n    unrender(container) {\n        container.classList.remove(this._trait);\n    }\n    /**\n     * Sets the indexes which should have this trait.\n     *\n     * @param indexes Indexes which should have this trait.\n     * @return The old indexes which had this trait.\n     */\n    set(indexes, browserEvent) {\n        return this._set(indexes, [...indexes].sort(numericSort), browserEvent);\n    }\n    _set(indexes, sortedIndexes, browserEvent) {\n        const result = this.indexes;\n        const sortedResult = this.sortedIndexes;\n        this.indexes = indexes;\n        this.sortedIndexes = sortedIndexes;\n        const toRender = disjunction(sortedResult, indexes);\n        this.renderer.renderIndexes(toRender);\n        this._onChange.fire({ indexes, browserEvent });\n        return result;\n    }\n    get() {\n        return this.indexes;\n    }\n    contains(index) {\n        return binarySearch(this.sortedIndexes, index, numericSort) >= 0;\n    }\n    dispose() {\n        dispose(this._onChange);\n    }\n}\n__decorate([\n    memoize\n], Trait.prototype, \"renderer\", null);\nclass SelectionTrait extends Trait {\n    constructor(setAriaSelected) {\n        super('selected');\n        this.setAriaSelected = setAriaSelected;\n    }\n    renderIndex(index, container) {\n        super.renderIndex(index, container);\n        if (this.setAriaSelected) {\n            if (this.contains(index)) {\n                container.setAttribute('aria-selected', 'true');\n            }\n            else {\n                container.setAttribute('aria-selected', 'false');\n            }\n        }\n    }\n}\n/**\n * The TraitSpliceable is used as a util class to be able\n * to preserve traits across splice calls, given an identity\n * provider.\n */\nclass TraitSpliceable {\n    constructor(trait, view, identityProvider) {\n        this.trait = trait;\n        this.view = view;\n        this.identityProvider = identityProvider;\n    }\n    splice(start, deleteCount, elements) {\n        if (!this.identityProvider) {\n            return this.trait.splice(start, deleteCount, elements.map(() => false));\n        }\n        const pastElementsWithTrait = this.trait.get().map(i => this.identityProvider.getId(this.view.element(i)).toString());\n        const elementsWithTrait = elements.map(e => pastElementsWithTrait.indexOf(this.identityProvider.getId(e).toString()) > -1);\n        this.trait.splice(start, deleteCount, elementsWithTrait);\n    }\n}\nexport function isInputElement(e) {\n    return e.tagName === 'INPUT' || e.tagName === 'TEXTAREA';\n}\nexport function isMonacoEditor(e) {\n    if (e.classList.contains('monaco-editor')) {\n        return true;\n    }\n    if (e.classList.contains('monaco-list')) {\n        return false;\n    }\n    if (!e.parentElement) {\n        return false;\n    }\n    return isMonacoEditor(e.parentElement);\n}\nclass KeyboardController {\n    constructor(list, view, options) {\n        this.list = list;\n        this.view = view;\n        this.disposables = new DisposableStore();\n        this.multipleSelectionDisposables = new DisposableStore();\n        this.onKeyDown.filter(e => e.keyCode === 3 /* Enter */).on(this.onEnter, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 16 /* UpArrow */).on(this.onUpArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 18 /* DownArrow */).on(this.onDownArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 11 /* PageUp */).on(this.onPageUpArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 12 /* PageDown */).on(this.onPageDownArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 9 /* Escape */).on(this.onEscape, this, this.disposables);\n        if (options.multipleSelectionSupport !== false) {\n            this.onKeyDown.filter(e => (platform.isMacintosh ? e.metaKey : e.ctrlKey) && e.keyCode === 31 /* KeyA */).on(this.onCtrlA, this, this.multipleSelectionDisposables);\n        }\n    }\n    get onKeyDown() {\n        return Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event)\n            .filter(e => !isInputElement(e.target))\n            .map(e => new StandardKeyboardEvent(e));\n    }\n    updateOptions(optionsUpdate) {\n        if (optionsUpdate.multipleSelectionSupport !== undefined) {\n            this.multipleSelectionDisposables.clear();\n            if (optionsUpdate.multipleSelectionSupport) {\n                this.onKeyDown.filter(e => (platform.isMacintosh ? e.metaKey : e.ctrlKey) && e.keyCode === 31 /* KeyA */).on(this.onCtrlA, this, this.multipleSelectionDisposables);\n            }\n        }\n    }\n    onEnter(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.setSelection(this.list.getFocus(), e.browserEvent);\n    }\n    onUpArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusPrevious(1, false, e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onDownArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusNext(1, false, e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onPageUpArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusPreviousPage(e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onPageDownArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusNextPage(e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onCtrlA(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.setSelection(range(this.list.length), e.browserEvent);\n        this.list.setAnchor(undefined);\n        this.view.domNode.focus();\n    }\n    onEscape(e) {\n        if (this.list.getSelection().length) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.list.setSelection([], e.browserEvent);\n            this.list.setAnchor(undefined);\n            this.view.domNode.focus();\n        }\n    }\n    dispose() {\n        this.disposables.dispose();\n        this.multipleSelectionDisposables.dispose();\n    }\n}\n__decorate([\n    memoize\n], KeyboardController.prototype, \"onKeyDown\", null);\nvar TypeLabelControllerState;\n(function (TypeLabelControllerState) {\n    TypeLabelControllerState[TypeLabelControllerState[\"Idle\"] = 0] = \"Idle\";\n    TypeLabelControllerState[TypeLabelControllerState[\"Typing\"] = 1] = \"Typing\";\n})(TypeLabelControllerState || (TypeLabelControllerState = {}));\nexport const DefaultKeyboardNavigationDelegate = new class {\n    mightProducePrintableCharacter(event) {\n        if (event.ctrlKey || event.metaKey || event.altKey) {\n            return false;\n        }\n        return (event.keyCode >= 31 /* KeyA */ && event.keyCode <= 56 /* KeyZ */)\n            || (event.keyCode >= 21 /* Digit0 */ && event.keyCode <= 30 /* Digit9 */)\n            || (event.keyCode >= 93 /* Numpad0 */ && event.keyCode <= 102 /* Numpad9 */)\n            || (event.keyCode >= 80 /* Semicolon */ && event.keyCode <= 90 /* Quote */);\n    }\n};\nclass TypeLabelController {\n    constructor(list, view, keyboardNavigationLabelProvider, delegate) {\n        this.list = list;\n        this.view = view;\n        this.keyboardNavigationLabelProvider = keyboardNavigationLabelProvider;\n        this.delegate = delegate;\n        this.enabled = false;\n        this.state = TypeLabelControllerState.Idle;\n        this.automaticKeyboardNavigation = true;\n        this.triggered = false;\n        this.previouslyFocused = -1;\n        this.enabledDisposables = new DisposableStore();\n        this.disposables = new DisposableStore();\n        this.updateOptions(list.options);\n    }\n    updateOptions(options) {\n        const enableKeyboardNavigation = typeof options.enableKeyboardNavigation === 'undefined' ? true : !!options.enableKeyboardNavigation;\n        if (enableKeyboardNavigation) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n        if (typeof options.automaticKeyboardNavigation !== 'undefined') {\n            this.automaticKeyboardNavigation = options.automaticKeyboardNavigation;\n        }\n    }\n    enable() {\n        if (this.enabled) {\n            return;\n        }\n        const onChar = Event.chain(this.enabledDisposables.add(new DomEmitter(this.view.domNode, 'keydown')).event)\n            .filter(e => !isInputElement(e.target))\n            .filter(() => this.automaticKeyboardNavigation || this.triggered)\n            .map(event => new StandardKeyboardEvent(event))\n            .filter(e => this.delegate.mightProducePrintableCharacter(e))\n            .forEach(e => e.preventDefault())\n            .map(event => event.browserEvent.key)\n            .event;\n        const onClear = Event.debounce(onChar, () => null, 800);\n        const onInput = Event.reduce(Event.any(onChar, onClear), (r, i) => i === null ? null : ((r || '') + i));\n        onInput(this.onInput, this, this.enabledDisposables);\n        onClear(this.onClear, this, this.enabledDisposables);\n        this.enabled = true;\n        this.triggered = false;\n    }\n    disable() {\n        if (!this.enabled) {\n            return;\n        }\n        this.enabledDisposables.clear();\n        this.enabled = false;\n        this.triggered = false;\n    }\n    onClear() {\n        var _a;\n        const focus = this.list.getFocus();\n        if (focus.length > 0 && focus[0] === this.previouslyFocused) {\n            // List: re-announce element on typing end since typed keys will interrupt aria label of focused element\n            // Do not announce if there was a focus change at the end to prevent duplication https://github.com/microsoft/vscode/issues/95961\n            const ariaLabel = (_a = this.list.options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getAriaLabel(this.list.element(focus[0]));\n            if (ariaLabel) {\n                alert(ariaLabel);\n            }\n        }\n        this.previouslyFocused = -1;\n    }\n    onInput(word) {\n        if (!word) {\n            this.state = TypeLabelControllerState.Idle;\n            this.triggered = false;\n            return;\n        }\n        const focus = this.list.getFocus();\n        const start = focus.length > 0 ? focus[0] : 0;\n        const delta = this.state === TypeLabelControllerState.Idle ? 1 : 0;\n        this.state = TypeLabelControllerState.Typing;\n        for (let i = 0; i < this.list.length; i++) {\n            const index = (start + i + delta) % this.list.length;\n            const label = this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(index));\n            const labelStr = label && label.toString();\n            if (typeof labelStr === 'undefined' || matchesPrefix(word, labelStr)) {\n                this.previouslyFocused = start;\n                this.list.setFocus([index]);\n                this.list.reveal(index);\n                return;\n            }\n        }\n    }\n    dispose() {\n        this.disable();\n        this.enabledDisposables.dispose();\n        this.disposables.dispose();\n    }\n}\nclass DOMFocusController {\n    constructor(list, view) {\n        this.list = list;\n        this.view = view;\n        this.disposables = new DisposableStore();\n        const onKeyDown = Event.chain(this.disposables.add(new DomEmitter(view.domNode, 'keydown')).event)\n            .filter(e => !isInputElement(e.target))\n            .map(e => new StandardKeyboardEvent(e));\n        onKeyDown.filter(e => e.keyCode === 2 /* Tab */ && !e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey)\n            .on(this.onTab, this, this.disposables);\n    }\n    onTab(e) {\n        if (e.target !== this.view.domNode) {\n            return;\n        }\n        const focus = this.list.getFocus();\n        if (focus.length === 0) {\n            return;\n        }\n        const focusedDomElement = this.view.domElement(focus[0]);\n        if (!focusedDomElement) {\n            return;\n        }\n        const tabIndexElement = focusedDomElement.querySelector('[tabIndex]');\n        if (!tabIndexElement || !(tabIndexElement instanceof HTMLElement) || tabIndexElement.tabIndex === -1) {\n            return;\n        }\n        const style = window.getComputedStyle(tabIndexElement);\n        if (style.visibility === 'hidden' || style.display === 'none') {\n            return;\n        }\n        e.preventDefault();\n        e.stopPropagation();\n        tabIndexElement.focus();\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport function isSelectionSingleChangeEvent(event) {\n    return platform.isMacintosh ? event.browserEvent.metaKey : event.browserEvent.ctrlKey;\n}\nexport function isSelectionRangeChangeEvent(event) {\n    return event.browserEvent.shiftKey;\n}\nfunction isMouseRightClick(event) {\n    return event instanceof MouseEvent && event.button === 2;\n}\nconst DefaultMultipleSelectionController = {\n    isSelectionSingleChangeEvent,\n    isSelectionRangeChangeEvent\n};\nexport class MouseController {\n    constructor(list) {\n        this.list = list;\n        this.disposables = new DisposableStore();\n        this._onPointer = new Emitter();\n        this.onPointer = this._onPointer.event;\n        if (list.options.multipleSelectionSupport !== false) {\n            this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n        }\n        this.mouseSupport = typeof list.options.mouseSupport === 'undefined' || !!list.options.mouseSupport;\n        if (this.mouseSupport) {\n            list.onMouseDown(this.onMouseDown, this, this.disposables);\n            list.onContextMenu(this.onContextMenu, this, this.disposables);\n            list.onMouseDblClick(this.onDoubleClick, this, this.disposables);\n            list.onTouchStart(this.onMouseDown, this, this.disposables);\n            this.disposables.add(Gesture.addTarget(list.getHTMLElement()));\n        }\n        Event.any(list.onMouseClick, list.onMouseMiddleClick, list.onTap)(this.onViewPointer, this, this.disposables);\n    }\n    updateOptions(optionsUpdate) {\n        if (optionsUpdate.multipleSelectionSupport !== undefined) {\n            this.multipleSelectionController = undefined;\n            if (optionsUpdate.multipleSelectionSupport) {\n                this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n            }\n        }\n    }\n    isSelectionSingleChangeEvent(event) {\n        if (!this.multipleSelectionController) {\n            return false;\n        }\n        return this.multipleSelectionController.isSelectionSingleChangeEvent(event);\n    }\n    isSelectionRangeChangeEvent(event) {\n        if (!this.multipleSelectionController) {\n            return false;\n        }\n        return this.multipleSelectionController.isSelectionRangeChangeEvent(event);\n    }\n    isSelectionChangeEvent(event) {\n        return this.isSelectionSingleChangeEvent(event) || this.isSelectionRangeChangeEvent(event);\n    }\n    onMouseDown(e) {\n        if (isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (document.activeElement !== e.browserEvent.target) {\n            this.list.domFocus();\n        }\n    }\n    onContextMenu(e) {\n        if (isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        const focus = typeof e.index === 'undefined' ? [] : [e.index];\n        this.list.setFocus(focus, e.browserEvent);\n    }\n    onViewPointer(e) {\n        if (!this.mouseSupport) {\n            return;\n        }\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        const focus = e.index;\n        if (typeof focus === 'undefined') {\n            this.list.setFocus([], e.browserEvent);\n            this.list.setSelection([], e.browserEvent);\n            this.list.setAnchor(undefined);\n            return;\n        }\n        if (this.isSelectionRangeChangeEvent(e)) {\n            return this.changeSelection(e);\n        }\n        if (this.isSelectionChangeEvent(e)) {\n            return this.changeSelection(e);\n        }\n        this.list.setFocus([focus], e.browserEvent);\n        this.list.setAnchor(focus);\n        if (!isMouseRightClick(e.browserEvent)) {\n            this.list.setSelection([focus], e.browserEvent);\n        }\n        this._onPointer.fire(e);\n    }\n    onDoubleClick(e) {\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (this.isSelectionChangeEvent(e)) {\n            return;\n        }\n        const focus = this.list.getFocus();\n        this.list.setSelection(focus, e.browserEvent);\n    }\n    changeSelection(e) {\n        const focus = e.index;\n        let anchor = this.list.getAnchor();\n        if (this.isSelectionRangeChangeEvent(e)) {\n            if (typeof anchor === 'undefined') {\n                const currentFocus = this.list.getFocus()[0];\n                anchor = currentFocus !== null && currentFocus !== void 0 ? currentFocus : focus;\n                this.list.setAnchor(anchor);\n            }\n            const min = Math.min(anchor, focus);\n            const max = Math.max(anchor, focus);\n            const rangeSelection = range(min, max + 1);\n            const selection = this.list.getSelection();\n            const contiguousRange = getContiguousRangeContaining(disjunction(selection, [anchor]), anchor);\n            if (contiguousRange.length === 0) {\n                return;\n            }\n            const newSelection = disjunction(rangeSelection, relativeComplement(selection, contiguousRange));\n            this.list.setSelection(newSelection, e.browserEvent);\n            this.list.setFocus([focus], e.browserEvent);\n        }\n        else if (this.isSelectionSingleChangeEvent(e)) {\n            const selection = this.list.getSelection();\n            const newSelection = selection.filter(i => i !== focus);\n            this.list.setFocus([focus]);\n            this.list.setAnchor(focus);\n            if (selection.length === newSelection.length) {\n                this.list.setSelection([...newSelection, focus], e.browserEvent);\n            }\n            else {\n                this.list.setSelection(newSelection, e.browserEvent);\n            }\n        }\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport class DefaultStyleController {\n    constructor(styleElement, selectorSuffix) {\n        this.styleElement = styleElement;\n        this.selectorSuffix = selectorSuffix;\n    }\n    style(styles) {\n        const suffix = this.selectorSuffix && `.${this.selectorSuffix}`;\n        const content = [];\n        if (styles.listBackground) {\n            if (styles.listBackground.isOpaque()) {\n                content.push(`.monaco-list${suffix} .monaco-list-rows { background: ${styles.listBackground}; }`);\n            }\n            else if (!platform.isMacintosh) { // subpixel AA doesn't exist in macOS\n                console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`);\n            }\n        }\n        if (styles.listFocusBackground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { background-color: ${styles.listFocusBackground}; }`);\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused:hover { background-color: ${styles.listFocusBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listFocusForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { color: ${styles.listFocusForeground}; }`);\n        }\n        if (styles.listActiveSelectionBackground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { background-color: ${styles.listActiveSelectionBackground}; }`);\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected:hover { background-color: ${styles.listActiveSelectionBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listActiveSelectionForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { color: ${styles.listActiveSelectionForeground}; }`);\n        }\n        if (styles.listActiveSelectionIconForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected .codicon { color: ${styles.listActiveSelectionIconForeground}; }`);\n        }\n        if (styles.listFocusAndSelectionBackground) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { background-color: ${styles.listFocusAndSelectionBackground}; }\n\t\t\t`);\n        }\n        if (styles.listFocusAndSelectionForeground) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { color: ${styles.listFocusAndSelectionForeground}; }\n\t\t\t`);\n        }\n        if (styles.listInactiveFocusForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { color:  ${styles.listInactiveFocusForeground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused:hover { color:  ${styles.listInactiveFocusForeground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionIconForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused .codicon { color:  ${styles.listInactiveSelectionIconForeground}; }`);\n        }\n        if (styles.listInactiveFocusBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { background-color:  ${styles.listInactiveFocusBackground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused:hover { background-color:  ${styles.listInactiveFocusBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { background-color:  ${styles.listInactiveSelectionBackground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected:hover { background-color:  ${styles.listInactiveSelectionBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { color: ${styles.listInactiveSelectionForeground}; }`);\n        }\n        if (styles.listHoverBackground) {\n            content.push(`.monaco-list${suffix}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${styles.listHoverBackground}; }`);\n        }\n        if (styles.listHoverForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${styles.listHoverForeground}; }`);\n        }\n        if (styles.listSelectionOutline) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { outline: 1px dotted ${styles.listSelectionOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listFocusOutline) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${suffix}.last-focused .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`);\n        }\n        if (styles.listInactiveFocusOutline) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { outline: 1px dotted ${styles.listInactiveFocusOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listHoverOutline) {\n            content.push(`.monaco-list${suffix} .monaco-list-row:hover { outline: 1px dashed ${styles.listHoverOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listDropBackground) {\n            content.push(`\n\t\t\t\t.monaco-list${suffix}.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-row.drop-target { background-color: ${styles.listDropBackground} !important; color: inherit !important; }\n\t\t\t`);\n        }\n        if (styles.listFilterWidgetBackground) {\n            content.push(`.monaco-list-type-filter { background-color: ${styles.listFilterWidgetBackground} }`);\n        }\n        if (styles.listFilterWidgetOutline) {\n            content.push(`.monaco-list-type-filter { border: 1px solid ${styles.listFilterWidgetOutline}; }`);\n        }\n        if (styles.listFilterWidgetNoMatchesOutline) {\n            content.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${styles.listFilterWidgetNoMatchesOutline}; }`);\n        }\n        if (styles.listMatchesShadow) {\n            content.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${styles.listMatchesShadow}; }`);\n        }\n        if (styles.tableColumnsBorder) {\n            content.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${styles.tableColumnsBorder};\n\t\t\t}`);\n        }\n        if (styles.tableOddRowsBackgroundColor) {\n            content.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${styles.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`);\n        }\n        this.styleElement.textContent = content.join('\\n');\n    }\n}\nconst defaultStyles = {\n    listFocusBackground: Color.fromHex('#7FB0D0'),\n    listActiveSelectionBackground: Color.fromHex('#0E639C'),\n    listActiveSelectionForeground: Color.fromHex('#FFFFFF'),\n    listActiveSelectionIconForeground: Color.fromHex('#FFFFFF'),\n    listFocusAndSelectionBackground: Color.fromHex('#094771'),\n    listFocusAndSelectionForeground: Color.fromHex('#FFFFFF'),\n    listInactiveSelectionBackground: Color.fromHex('#3F3F46'),\n    listInactiveSelectionIconForeground: Color.fromHex('#FFFFFF'),\n    listHoverBackground: Color.fromHex('#2A2D2E'),\n    listDropBackground: Color.fromHex('#383B3D'),\n    treeIndentGuidesStroke: Color.fromHex('#a9a9a9'),\n    tableColumnsBorder: Color.fromHex('#cccccc').transparent(0.2),\n    tableOddRowsBackgroundColor: Color.fromHex('#cccccc').transparent(0.04)\n};\nconst DefaultOptions = {\n    keyboardSupport: true,\n    mouseSupport: true,\n    multipleSelectionSupport: true,\n    dnd: {\n        getDragURI() { return null; },\n        onDragStart() { },\n        onDragOver() { return false; },\n        drop() { }\n    }\n};\n// TODO@Joao: move these utils into a SortedArray class\nfunction getContiguousRangeContaining(range, value) {\n    const index = range.indexOf(value);\n    if (index === -1) {\n        return [];\n    }\n    const result = [];\n    let i = index - 1;\n    while (i >= 0 && range[i] === value - (index - i)) {\n        result.push(range[i--]);\n    }\n    result.reverse();\n    i = index;\n    while (i < range.length && range[i] === value + (i - index)) {\n        result.push(range[i++]);\n    }\n    return result;\n}\n/**\n * Given two sorted collections of numbers, returns the intersection\n * between them (OR).\n */\nfunction disjunction(one, other) {\n    const result = [];\n    let i = 0, j = 0;\n    while (i < one.length || j < other.length) {\n        if (i >= one.length) {\n            result.push(other[j++]);\n        }\n        else if (j >= other.length) {\n            result.push(one[i++]);\n        }\n        else if (one[i] === other[j]) {\n            result.push(one[i]);\n            i++;\n            j++;\n            continue;\n        }\n        else if (one[i] < other[j]) {\n            result.push(one[i++]);\n        }\n        else {\n            result.push(other[j++]);\n        }\n    }\n    return result;\n}\n/**\n * Given two sorted collections of numbers, returns the relative\n * complement between them (XOR).\n */\nfunction relativeComplement(one, other) {\n    const result = [];\n    let i = 0, j = 0;\n    while (i < one.length || j < other.length) {\n        if (i >= one.length) {\n            result.push(other[j++]);\n        }\n        else if (j >= other.length) {\n            result.push(one[i++]);\n        }\n        else if (one[i] === other[j]) {\n            i++;\n            j++;\n            continue;\n        }\n        else if (one[i] < other[j]) {\n            result.push(one[i++]);\n        }\n        else {\n            j++;\n        }\n    }\n    return result;\n}\nconst numericSort = (a, b) => a - b;\nclass PipelineRenderer {\n    constructor(_templateId, renderers) {\n        this._templateId = _templateId;\n        this.renderers = renderers;\n    }\n    get templateId() {\n        return this._templateId;\n    }\n    renderTemplate(container) {\n        return this.renderers.map(r => r.renderTemplate(container));\n    }\n    renderElement(element, index, templateData, height) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            renderer.renderElement(element, index, templateData[i++], height);\n        }\n    }\n    disposeElement(element, index, templateData, height) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            if (renderer.disposeElement) {\n                renderer.disposeElement(element, index, templateData[i], height);\n            }\n            i += 1;\n        }\n    }\n    disposeTemplate(templateData) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            renderer.disposeTemplate(templateData[i++]);\n        }\n    }\n}\nclass AccessibiltyRenderer {\n    constructor(accessibilityProvider) {\n        this.accessibilityProvider = accessibilityProvider;\n        this.templateId = 'a18n';\n    }\n    renderTemplate(container) {\n        return container;\n    }\n    renderElement(element, index, container) {\n        const ariaLabel = this.accessibilityProvider.getAriaLabel(element);\n        if (ariaLabel) {\n            container.setAttribute('aria-label', ariaLabel);\n        }\n        else {\n            container.removeAttribute('aria-label');\n        }\n        const ariaLevel = this.accessibilityProvider.getAriaLevel && this.accessibilityProvider.getAriaLevel(element);\n        if (typeof ariaLevel === 'number') {\n            container.setAttribute('aria-level', `${ariaLevel}`);\n        }\n        else {\n            container.removeAttribute('aria-level');\n        }\n    }\n    disposeTemplate(templateData) {\n        // noop\n    }\n}\nclass ListViewDragAndDrop {\n    constructor(list, dnd) {\n        this.list = list;\n        this.dnd = dnd;\n    }\n    getDragElements(element) {\n        const selection = this.list.getSelectedElements();\n        const elements = selection.indexOf(element) > -1 ? selection : [element];\n        return elements;\n    }\n    getDragURI(element) {\n        return this.dnd.getDragURI(element);\n    }\n    getDragLabel(elements, originalEvent) {\n        if (this.dnd.getDragLabel) {\n            return this.dnd.getDragLabel(elements, originalEvent);\n        }\n        return undefined;\n    }\n    onDragStart(data, originalEvent) {\n        if (this.dnd.onDragStart) {\n            this.dnd.onDragStart(data, originalEvent);\n        }\n    }\n    onDragOver(data, targetElement, targetIndex, originalEvent) {\n        return this.dnd.onDragOver(data, targetElement, targetIndex, originalEvent);\n    }\n    onDragLeave(data, targetElement, targetIndex, originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, data, targetElement, targetIndex, originalEvent);\n    }\n    onDragEnd(originalEvent) {\n        if (this.dnd.onDragEnd) {\n            this.dnd.onDragEnd(originalEvent);\n        }\n    }\n    drop(data, targetElement, targetIndex, originalEvent) {\n        this.dnd.drop(data, targetElement, targetIndex, originalEvent);\n    }\n}\n/**\n * The {@link List} is a virtual scrolling widget, built on top of the {@link ListView}\n * widget.\n *\n * Features:\n * - Customizable keyboard and mouse support\n * - Element traits: focus, selection, achor\n * - Accessibility support\n * - Touch support\n * - Performant template-based rendering\n * - Horizontal scrolling\n * - Variable element height support\n * - Dynamic element height support\n * - Drag-and-drop support\n */\nexport class List {\n    constructor(user, container, virtualDelegate, renderers, _options = DefaultOptions) {\n        var _a;\n        this.user = user;\n        this._options = _options;\n        this.focus = new Trait('focused');\n        this.anchor = new Trait('anchor');\n        this.eventBufferer = new EventBufferer();\n        this._ariaLabel = '';\n        this.disposables = new DisposableStore();\n        this._onDidDispose = new Emitter();\n        this.onDidDispose = this._onDidDispose.event;\n        const role = this._options.accessibilityProvider && this._options.accessibilityProvider.getWidgetRole ? (_a = this._options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getWidgetRole() : 'list';\n        this.selection = new SelectionTrait(role !== 'listbox');\n        mixin(_options, defaultStyles, false);\n        const baseRenderers = [this.focus.renderer, this.selection.renderer];\n        this.accessibilityProvider = _options.accessibilityProvider;\n        if (this.accessibilityProvider) {\n            baseRenderers.push(new AccessibiltyRenderer(this.accessibilityProvider));\n            if (this.accessibilityProvider.onDidChangeActiveDescendant) {\n                this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant, this, this.disposables);\n            }\n        }\n        renderers = renderers.map(r => new PipelineRenderer(r.templateId, [...baseRenderers, r]));\n        const viewOptions = Object.assign(Object.assign({}, _options), { dnd: _options.dnd && new ListViewDragAndDrop(this, _options.dnd) });\n        this.view = new ListView(container, virtualDelegate, renderers, viewOptions);\n        this.view.domNode.setAttribute('role', role);\n        if (_options.styleController) {\n            this.styleController = _options.styleController(this.view.domId);\n        }\n        else {\n            const styleElement = createStyleSheet(this.view.domNode);\n            this.styleController = new DefaultStyleController(styleElement, this.view.domId);\n        }\n        this.spliceable = new CombinedSpliceable([\n            new TraitSpliceable(this.focus, this.view, _options.identityProvider),\n            new TraitSpliceable(this.selection, this.view, _options.identityProvider),\n            new TraitSpliceable(this.anchor, this.view, _options.identityProvider),\n            this.view\n        ]);\n        this.disposables.add(this.focus);\n        this.disposables.add(this.selection);\n        this.disposables.add(this.anchor);\n        this.disposables.add(this.view);\n        this.disposables.add(this._onDidDispose);\n        this.disposables.add(new DOMFocusController(this, this.view));\n        if (typeof _options.keyboardSupport !== 'boolean' || _options.keyboardSupport) {\n            this.keyboardController = new KeyboardController(this, this.view, _options);\n            this.disposables.add(this.keyboardController);\n        }\n        if (_options.keyboardNavigationLabelProvider) {\n            const delegate = _options.keyboardNavigationDelegate || DefaultKeyboardNavigationDelegate;\n            this.typeLabelController = new TypeLabelController(this, this.view, _options.keyboardNavigationLabelProvider, delegate);\n            this.disposables.add(this.typeLabelController);\n        }\n        this.mouseController = this.createMouseController(_options);\n        this.disposables.add(this.mouseController);\n        this.onDidChangeFocus(this._onFocusChange, this, this.disposables);\n        this.onDidChangeSelection(this._onSelectionChange, this, this.disposables);\n        if (this.accessibilityProvider) {\n            this.ariaLabel = this.accessibilityProvider.getWidgetAriaLabel();\n        }\n        if (this._options.multipleSelectionSupport !== false) {\n            this.view.domNode.setAttribute('aria-multiselectable', 'true');\n        }\n    }\n    get onDidChangeFocus() {\n        return Event.map(this.eventBufferer.wrapEvent(this.focus.onChange), e => this.toListEvent(e));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.eventBufferer.wrapEvent(this.selection.onChange), e => this.toListEvent(e));\n    }\n    get domId() { return this.view.domId; }\n    get onMouseClick() { return this.view.onMouseClick; }\n    get onMouseDblClick() { return this.view.onMouseDblClick; }\n    get onMouseMiddleClick() { return this.view.onMouseMiddleClick; }\n    get onPointer() { return this.mouseController.onPointer; }\n    get onMouseDown() { return this.view.onMouseDown; }\n    get onTouchStart() { return this.view.onTouchStart; }\n    get onTap() { return this.view.onTap; }\n    /**\n     * Possible context menu trigger events:\n     * - ContextMenu key\n     * - Shift F10\n     * - Ctrl Option Shift M (macOS with VoiceOver)\n     * - Mouse right click\n     */\n    get onContextMenu() {\n        let didJustPressContextMenuKey = false;\n        const fromKeyDown = Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event)\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => didJustPressContextMenuKey = e.keyCode === 58 /* ContextMenu */ || (e.shiftKey && e.keyCode === 68 /* F10 */))\n            .map(stopEvent)\n            .filter(() => false)\n            .event;\n        const fromKeyUp = Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keyup')).event)\n            .forEach(() => didJustPressContextMenuKey = false)\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => e.keyCode === 58 /* ContextMenu */ || (e.shiftKey && e.keyCode === 68 /* F10 */))\n            .map(stopEvent)\n            .map(({ browserEvent }) => {\n            const focus = this.getFocus();\n            const index = focus.length ? focus[0] : undefined;\n            const element = typeof index !== 'undefined' ? this.view.element(index) : undefined;\n            const anchor = typeof index !== 'undefined' ? this.view.domElement(index) : this.view.domNode;\n            return { index, element, anchor, browserEvent };\n        })\n            .event;\n        const fromMouse = Event.chain(this.view.onContextMenu)\n            .filter(_ => !didJustPressContextMenuKey)\n            .map(({ element, index, browserEvent }) => ({ element, index, anchor: { x: browserEvent.pageX + 1, y: browserEvent.pageY }, browserEvent }))\n            .event;\n        return Event.any(fromKeyDown, fromKeyUp, fromMouse);\n    }\n    get onKeyDown() { return this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event; }\n    get onDidFocus() { return Event.signal(this.disposables.add(new DomEmitter(this.view.domNode, 'focus', true)).event); }\n    createMouseController(options) {\n        return new MouseController(this);\n    }\n    updateOptions(optionsUpdate = {}) {\n        var _a;\n        this._options = Object.assign(Object.assign({}, this._options), optionsUpdate);\n        if (this.typeLabelController) {\n            this.typeLabelController.updateOptions(this._options);\n        }\n        if (this._options.multipleSelectionController !== undefined) {\n            if (this._options.multipleSelectionSupport) {\n                this.view.domNode.setAttribute('aria-multiselectable', 'true');\n            }\n            else {\n                this.view.domNode.removeAttribute('aria-multiselectable');\n            }\n        }\n        this.mouseController.updateOptions(optionsUpdate);\n        (_a = this.keyboardController) === null || _a === void 0 ? void 0 : _a.updateOptions(optionsUpdate);\n        this.view.updateOptions(optionsUpdate);\n    }\n    get options() {\n        return this._options;\n    }\n    splice(start, deleteCount, elements = []) {\n        if (start < 0 || start > this.view.length) {\n            throw new ListError(this.user, `Invalid start index: ${start}`);\n        }\n        if (deleteCount < 0) {\n            throw new ListError(this.user, `Invalid delete count: ${deleteCount}`);\n        }\n        if (deleteCount === 0 && elements.length === 0) {\n            return;\n        }\n        this.eventBufferer.bufferEvents(() => this.spliceable.splice(start, deleteCount, elements));\n    }\n    rerender() {\n        this.view.rerender();\n    }\n    element(index) {\n        return this.view.element(index);\n    }\n    get length() {\n        return this.view.length;\n    }\n    get contentHeight() {\n        return this.view.contentHeight;\n    }\n    get scrollTop() {\n        return this.view.getScrollTop();\n    }\n    set scrollTop(scrollTop) {\n        this.view.setScrollTop(scrollTop);\n    }\n    get ariaLabel() {\n        return this._ariaLabel;\n    }\n    set ariaLabel(value) {\n        this._ariaLabel = value;\n        this.view.domNode.setAttribute('aria-label', value);\n    }\n    domFocus() {\n        this.view.domNode.focus({ preventScroll: true });\n    }\n    layout(height, width) {\n        this.view.layout(height, width);\n    }\n    setSelection(indexes, browserEvent) {\n        for (const index of indexes) {\n            if (index < 0 || index >= this.length) {\n                throw new ListError(this.user, `Invalid index ${index}`);\n            }\n        }\n        this.selection.set(indexes, browserEvent);\n    }\n    getSelection() {\n        return this.selection.get();\n    }\n    getSelectedElements() {\n        return this.getSelection().map(i => this.view.element(i));\n    }\n    setAnchor(index) {\n        if (typeof index === 'undefined') {\n            this.anchor.set([]);\n            return;\n        }\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        this.anchor.set([index]);\n    }\n    getAnchor() {\n        return firstOrDefault(this.anchor.get(), undefined);\n    }\n    getAnchorElement() {\n        const anchor = this.getAnchor();\n        return typeof anchor === 'undefined' ? undefined : this.element(anchor);\n    }\n    setFocus(indexes, browserEvent) {\n        for (const index of indexes) {\n            if (index < 0 || index >= this.length) {\n                throw new ListError(this.user, `Invalid index ${index}`);\n            }\n        }\n        this.focus.set(indexes, browserEvent);\n    }\n    focusNext(n = 1, loop = false, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const focus = this.focus.get();\n        const index = this.findNextIndex(focus.length > 0 ? focus[0] + n : 0, loop, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusPrevious(n = 1, loop = false, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const focus = this.focus.get();\n        const index = this.findPreviousIndex(focus.length > 0 ? focus[0] - n : 0, loop, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusNextPage(browserEvent, filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let lastPageIndex = this.view.indexAt(this.view.getScrollTop() + this.view.renderHeight);\n            lastPageIndex = lastPageIndex === 0 ? 0 : lastPageIndex - 1;\n            const lastPageElement = this.view.element(lastPageIndex);\n            const currentlyFocusedElement = this.getFocusedElements()[0];\n            if (currentlyFocusedElement !== lastPageElement) {\n                const lastGoodPageIndex = this.findPreviousIndex(lastPageIndex, false, filter);\n                if (lastGoodPageIndex > -1 && currentlyFocusedElement !== this.view.element(lastGoodPageIndex)) {\n                    this.setFocus([lastGoodPageIndex], browserEvent);\n                }\n                else {\n                    this.setFocus([lastPageIndex], browserEvent);\n                }\n            }\n            else {\n                const previousScrollTop = this.view.getScrollTop();\n                this.view.setScrollTop(previousScrollTop + this.view.renderHeight - this.view.elementHeight(lastPageIndex));\n                if (this.view.getScrollTop() !== previousScrollTop) {\n                    this.setFocus([]);\n                    // Let the scroll event listener run\n                    yield timeout(0);\n                    yield this.focusNextPage(browserEvent, filter);\n                }\n            }\n        });\n    }\n    focusPreviousPage(browserEvent, filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let firstPageIndex;\n            const scrollTop = this.view.getScrollTop();\n            if (scrollTop === 0) {\n                firstPageIndex = this.view.indexAt(scrollTop);\n            }\n            else {\n                firstPageIndex = this.view.indexAfter(scrollTop - 1);\n            }\n            const firstPageElement = this.view.element(firstPageIndex);\n            const currentlyFocusedElement = this.getFocusedElements()[0];\n            if (currentlyFocusedElement !== firstPageElement) {\n                const firstGoodPageIndex = this.findNextIndex(firstPageIndex, false, filter);\n                if (firstGoodPageIndex > -1 && currentlyFocusedElement !== this.view.element(firstGoodPageIndex)) {\n                    this.setFocus([firstGoodPageIndex], browserEvent);\n                }\n                else {\n                    this.setFocus([firstPageIndex], browserEvent);\n                }\n            }\n            else {\n                const previousScrollTop = scrollTop;\n                this.view.setScrollTop(scrollTop - this.view.renderHeight);\n                if (this.view.getScrollTop() !== previousScrollTop) {\n                    this.setFocus([]);\n                    // Let the scroll event listener run\n                    yield timeout(0);\n                    yield this.focusPreviousPage(browserEvent, filter);\n                }\n            }\n        });\n    }\n    focusLast(browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const index = this.findPreviousIndex(this.length - 1, false, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusFirst(browserEvent, filter) {\n        this.focusNth(0, browserEvent, filter);\n    }\n    focusNth(n, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const index = this.findNextIndex(n, false, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    findNextIndex(index, loop = false, filter) {\n        for (let i = 0; i < this.length; i++) {\n            if (index >= this.length && !loop) {\n                return -1;\n            }\n            index = index % this.length;\n            if (!filter || filter(this.element(index))) {\n                return index;\n            }\n            index++;\n        }\n        return -1;\n    }\n    findPreviousIndex(index, loop = false, filter) {\n        for (let i = 0; i < this.length; i++) {\n            if (index < 0 && !loop) {\n                return -1;\n            }\n            index = (this.length + (index % this.length)) % this.length;\n            if (!filter || filter(this.element(index))) {\n                return index;\n            }\n            index--;\n        }\n        return -1;\n    }\n    getFocus() {\n        return this.focus.get();\n    }\n    getFocusedElements() {\n        return this.getFocus().map(i => this.view.element(i));\n    }\n    reveal(index, relativeTop) {\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        const scrollTop = this.view.getScrollTop();\n        const elementTop = this.view.elementTop(index);\n        const elementHeight = this.view.elementHeight(index);\n        if (isNumber(relativeTop)) {\n            // y = mx + b\n            const m = elementHeight - this.view.renderHeight;\n            this.view.setScrollTop(m * clamp(relativeTop, 0, 1) + elementTop);\n        }\n        else {\n            const viewItemBottom = elementTop + elementHeight;\n            const scrollBottom = scrollTop + this.view.renderHeight;\n            if (elementTop < scrollTop && viewItemBottom >= scrollBottom) {\n                // The element is already overflowing the viewport, no-op\n            }\n            else if (elementTop < scrollTop || (viewItemBottom >= scrollBottom && elementHeight >= this.view.renderHeight)) {\n                this.view.setScrollTop(elementTop);\n            }\n            else if (viewItemBottom >= scrollBottom) {\n                this.view.setScrollTop(viewItemBottom - this.view.renderHeight);\n            }\n        }\n    }\n    /**\n     * Returns the relative position of an element rendered in the list.\n     * Returns `null` if the element isn't *entirely* in the visible viewport.\n     */\n    getRelativeTop(index) {\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        const scrollTop = this.view.getScrollTop();\n        const elementTop = this.view.elementTop(index);\n        const elementHeight = this.view.elementHeight(index);\n        if (elementTop < scrollTop || elementTop + elementHeight > scrollTop + this.view.renderHeight) {\n            return null;\n        }\n        // y = mx + b\n        const m = elementHeight - this.view.renderHeight;\n        return Math.abs((scrollTop - elementTop) / m);\n    }\n    getHTMLElement() {\n        return this.view.domNode;\n    }\n    style(styles) {\n        this.styleController.style(styles);\n    }\n    toListEvent({ indexes, browserEvent }) {\n        return { indexes, elements: indexes.map(i => this.view.element(i)), browserEvent };\n    }\n    _onFocusChange() {\n        const focus = this.focus.get();\n        this.view.domNode.classList.toggle('element-focused', focus.length > 0);\n        this.onDidChangeActiveDescendant();\n    }\n    onDidChangeActiveDescendant() {\n        var _a;\n        const focus = this.focus.get();\n        if (focus.length > 0) {\n            let id;\n            if ((_a = this.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getActiveDescendantId) {\n                id = this.accessibilityProvider.getActiveDescendantId(this.view.element(focus[0]));\n            }\n            this.view.domNode.setAttribute('aria-activedescendant', id || this.view.getElementDomId(focus[0]));\n        }\n        else {\n            this.view.domNode.removeAttribute('aria-activedescendant');\n        }\n    }\n    _onSelectionChange() {\n        const selection = this.selection.get();\n        this.view.domNode.classList.toggle('selection-none', selection.length === 0);\n        this.view.domNode.classList.toggle('selection-single', selection.length === 1);\n        this.view.domNode.classList.toggle('selection-multiple', selection.length > 1);\n    }\n    dispose() {\n        this._onDidDispose.fire();\n        this.disposables.dispose();\n        this._onDidDispose.dispose();\n    }\n}\n__decorate([\n    memoize\n], List.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], List.prototype, \"onDidChangeSelection\", null);\n__decorate([\n    memoize\n], List.prototype, \"onContextMenu\", null);\n__decorate([\n    memoize\n], List.prototype, \"onKeyDown\", null);\n__decorate([\n    memoize\n], List.prototype, \"onDidFocus\", null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFirefox } from '../../browser.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { $, addDisposableListener, append, clearNode, createStyleSheet, Dimension, EventHelper, EventType, getActiveElement, isAncestor, isInShadowDOM } from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { StandardMouseEvent } from '../../mouseEvent.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport { ActionViewItem, BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { formatRule } from '../codicons/codiconStyles.js';\nimport { layout } from '../contextview/contextview.js';\nimport { DomScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { EmptySubmenuAction, Separator, SubmenuAction } from '../../../common/actions.js';\nimport { RunOnceScheduler } from '../../../common/async.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport { stripIcons } from '../../../common/iconLabels.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nimport { isLinux, isMacintosh } from '../../../common/platform.js';\nimport * as strings from '../../../common/strings.js';\nexport const MENU_MNEMONIC_REGEX = /\\(&([^\\s&])\\)|(^|[^&])&([^\\s&])/;\nexport const MENU_ESCAPED_MNEMONIC_REGEX = /(&amp;)?(&amp;)([^\\s&])/g;\nexport var Direction;\n(function (Direction) {\n    Direction[Direction[\"Right\"] = 0] = \"Right\";\n    Direction[Direction[\"Left\"] = 1] = \"Left\";\n})(Direction || (Direction = {}));\nexport class Menu extends ActionBar {\n    constructor(container, actions, options = {}) {\n        container.classList.add('monaco-menu-container');\n        container.setAttribute('role', 'presentation');\n        const menuElement = document.createElement('div');\n        menuElement.classList.add('monaco-menu');\n        menuElement.setAttribute('role', 'presentation');\n        super(menuElement, {\n            orientation: 1 /* VERTICAL */,\n            actionViewItemProvider: action => this.doGetActionViewItem(action, options, parentData),\n            context: options.context,\n            actionRunner: options.actionRunner,\n            ariaLabel: options.ariaLabel,\n            focusOnlyEnabledItems: true,\n            triggerKeys: { keys: [3 /* Enter */, ...(isMacintosh || isLinux ? [10 /* Space */] : [])], keyDown: true }\n        });\n        this.menuElement = menuElement;\n        this.actionsList.setAttribute('role', 'menu');\n        this.actionsList.tabIndex = 0;\n        this.menuDisposables = this._register(new DisposableStore());\n        this.initializeOrUpdateStyleSheet(container, {});\n        this._register(Gesture.addTarget(menuElement));\n        addDisposableListener(menuElement, EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            // Stop tab navigation of menus\n            if (event.equals(2 /* Tab */)) {\n                e.preventDefault();\n            }\n        });\n        if (options.enableMnemonics) {\n            this.menuDisposables.add(addDisposableListener(menuElement, EventType.KEY_DOWN, (e) => {\n                const key = e.key.toLocaleLowerCase();\n                if (this.mnemonics.has(key)) {\n                    EventHelper.stop(e, true);\n                    const actions = this.mnemonics.get(key);\n                    if (actions.length === 1) {\n                        if (actions[0] instanceof SubmenuMenuActionViewItem && actions[0].container) {\n                            this.focusItemByElement(actions[0].container);\n                        }\n                        actions[0].onClick(e);\n                    }\n                    if (actions.length > 1) {\n                        const action = actions.shift();\n                        if (action && action.container) {\n                            this.focusItemByElement(action.container);\n                            actions.push(action);\n                        }\n                        this.mnemonics.set(key, actions);\n                    }\n                }\n            }));\n        }\n        if (isLinux) {\n            this._register(addDisposableListener(menuElement, EventType.KEY_DOWN, e => {\n                const event = new StandardKeyboardEvent(e);\n                if (event.equals(14 /* Home */) || event.equals(11 /* PageUp */)) {\n                    this.focusedItem = this.viewItems.length - 1;\n                    this.focusNext();\n                    EventHelper.stop(e, true);\n                }\n                else if (event.equals(13 /* End */) || event.equals(12 /* PageDown */)) {\n                    this.focusedItem = 0;\n                    this.focusPrevious();\n                    EventHelper.stop(e, true);\n                }\n            }));\n        }\n        this._register(addDisposableListener(this.domNode, EventType.MOUSE_OUT, e => {\n            let relatedTarget = e.relatedTarget;\n            if (!isAncestor(relatedTarget, this.domNode)) {\n                this.focusedItem = undefined;\n                this.updateFocus();\n                e.stopPropagation();\n            }\n        }));\n        this._register(addDisposableListener(this.actionsList, EventType.MOUSE_OVER, e => {\n            let target = e.target;\n            if (!target || !isAncestor(target, this.actionsList) || target === this.actionsList) {\n                return;\n            }\n            while (target.parentElement !== this.actionsList && target.parentElement !== null) {\n                target = target.parentElement;\n            }\n            if (target.classList.contains('action-item')) {\n                const lastFocusedItem = this.focusedItem;\n                this.setFocusedItem(target);\n                if (lastFocusedItem !== this.focusedItem) {\n                    this.updateFocus();\n                }\n            }\n        }));\n        // Support touch on actions list to focus items (needed for submenus)\n        this._register(Gesture.addTarget(this.actionsList));\n        this._register(addDisposableListener(this.actionsList, TouchEventType.Tap, e => {\n            let target = e.initialTarget;\n            if (!target || !isAncestor(target, this.actionsList) || target === this.actionsList) {\n                return;\n            }\n            while (target.parentElement !== this.actionsList && target.parentElement !== null) {\n                target = target.parentElement;\n            }\n            if (target.classList.contains('action-item')) {\n                const lastFocusedItem = this.focusedItem;\n                this.setFocusedItem(target);\n                if (lastFocusedItem !== this.focusedItem) {\n                    this.updateFocus();\n                }\n            }\n        }));\n        let parentData = {\n            parent: this\n        };\n        this.mnemonics = new Map();\n        // Scroll Logic\n        this.scrollableElement = this._register(new DomScrollableElement(menuElement, {\n            alwaysConsumeMouseWheel: true,\n            horizontal: 2 /* Hidden */,\n            vertical: 3 /* Visible */,\n            verticalScrollbarSize: 7,\n            handleMouseWheel: true,\n            useShadows: true\n        }));\n        const scrollElement = this.scrollableElement.getDomNode();\n        scrollElement.style.position = '';\n        // Support scroll on menu drag\n        this._register(addDisposableListener(menuElement, TouchEventType.Change, e => {\n            EventHelper.stop(e, true);\n            const scrollTop = this.scrollableElement.getScrollPosition().scrollTop;\n            this.scrollableElement.setScrollPosition({ scrollTop: scrollTop - e.translationY });\n        }));\n        this._register(addDisposableListener(scrollElement, EventType.MOUSE_UP, e => {\n            // Absorb clicks in menu dead space https://github.com/microsoft/vscode/issues/63575\n            // We do this on the scroll element so the scroll bar doesn't dismiss the menu either\n            e.preventDefault();\n        }));\n        menuElement.style.maxHeight = `${Math.max(10, window.innerHeight - container.getBoundingClientRect().top - 35)}px`;\n        actions = actions.filter(a => {\n            var _a;\n            if ((_a = options.submenuIds) === null || _a === void 0 ? void 0 : _a.has(a.id)) {\n                console.warn(`Found submenu cycle: ${a.id}`);\n                return false;\n            }\n            return true;\n        });\n        this.push(actions, { icon: true, label: true, isMenu: true });\n        container.appendChild(this.scrollableElement.getDomNode());\n        this.scrollableElement.scanDomNode();\n        this.viewItems.filter(item => !(item instanceof MenuSeparatorActionViewItem)).forEach((item, index, array) => {\n            item.updatePositionInSet(index + 1, array.length);\n        });\n    }\n    initializeOrUpdateStyleSheet(container, style) {\n        if (!this.styleSheet) {\n            if (isInShadowDOM(container)) {\n                this.styleSheet = createStyleSheet(container);\n            }\n            else {\n                if (!Menu.globalStyleSheet) {\n                    Menu.globalStyleSheet = createStyleSheet();\n                }\n                this.styleSheet = Menu.globalStyleSheet;\n            }\n        }\n        this.styleSheet.textContent = getMenuWidgetCSS(style, isInShadowDOM(container));\n    }\n    style(style) {\n        const container = this.getContainer();\n        this.initializeOrUpdateStyleSheet(container, style);\n        const fgColor = style.foregroundColor ? `${style.foregroundColor}` : '';\n        const bgColor = style.backgroundColor ? `${style.backgroundColor}` : '';\n        const border = style.borderColor ? `1px solid ${style.borderColor}` : '';\n        const shadow = style.shadowColor ? `0 2px 4px ${style.shadowColor}` : '';\n        container.style.border = border;\n        this.domNode.style.color = fgColor;\n        this.domNode.style.backgroundColor = bgColor;\n        container.style.boxShadow = shadow;\n        if (this.viewItems) {\n            this.viewItems.forEach(item => {\n                if (item instanceof BaseMenuActionViewItem || item instanceof MenuSeparatorActionViewItem) {\n                    item.style(style);\n                }\n            });\n        }\n    }\n    getContainer() {\n        return this.scrollableElement.getDomNode();\n    }\n    get onScroll() {\n        return this.scrollableElement.onScroll;\n    }\n    focusItemByElement(element) {\n        const lastFocusedItem = this.focusedItem;\n        this.setFocusedItem(element);\n        if (lastFocusedItem !== this.focusedItem) {\n            this.updateFocus();\n        }\n    }\n    setFocusedItem(element) {\n        for (let i = 0; i < this.actionsList.children.length; i++) {\n            let elem = this.actionsList.children[i];\n            if (element === elem) {\n                this.focusedItem = i;\n                break;\n            }\n        }\n    }\n    updateFocus(fromRight) {\n        super.updateFocus(fromRight, true, true);\n        if (typeof this.focusedItem !== 'undefined') {\n            // Workaround for #80047 caused by an issue in chromium\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=414283\n            // When that's fixed, just call this.scrollableElement.scanDomNode()\n            this.scrollableElement.setScrollPosition({\n                scrollTop: Math.round(this.menuElement.scrollTop)\n            });\n        }\n    }\n    doGetActionViewItem(action, options, parentData) {\n        if (action instanceof Separator) {\n            return new MenuSeparatorActionViewItem(options.context, action, { icon: true });\n        }\n        else if (action instanceof SubmenuAction) {\n            const menuActionViewItem = new SubmenuMenuActionViewItem(action, action.actions, parentData, Object.assign(Object.assign({}, options), { submenuIds: new Set([...(options.submenuIds || []), action.id]) }));\n            if (options.enableMnemonics) {\n                const mnemonic = menuActionViewItem.getMnemonic();\n                if (mnemonic && menuActionViewItem.isEnabled()) {\n                    let actionViewItems = [];\n                    if (this.mnemonics.has(mnemonic)) {\n                        actionViewItems = this.mnemonics.get(mnemonic);\n                    }\n                    actionViewItems.push(menuActionViewItem);\n                    this.mnemonics.set(mnemonic, actionViewItems);\n                }\n            }\n            return menuActionViewItem;\n        }\n        else {\n            const menuItemOptions = { enableMnemonics: options.enableMnemonics, useEventAsContext: options.useEventAsContext };\n            if (options.getKeyBinding) {\n                const keybinding = options.getKeyBinding(action);\n                if (keybinding) {\n                    const keybindingLabel = keybinding.getLabel();\n                    if (keybindingLabel) {\n                        menuItemOptions.keybinding = keybindingLabel;\n                    }\n                }\n            }\n            const menuActionViewItem = new BaseMenuActionViewItem(options.context, action, menuItemOptions);\n            if (options.enableMnemonics) {\n                const mnemonic = menuActionViewItem.getMnemonic();\n                if (mnemonic && menuActionViewItem.isEnabled()) {\n                    let actionViewItems = [];\n                    if (this.mnemonics.has(mnemonic)) {\n                        actionViewItems = this.mnemonics.get(mnemonic);\n                    }\n                    actionViewItems.push(menuActionViewItem);\n                    this.mnemonics.set(mnemonic, actionViewItems);\n                }\n            }\n            return menuActionViewItem;\n        }\n    }\n}\nclass BaseMenuActionViewItem extends BaseActionViewItem {\n    constructor(ctx, action, options = {}) {\n        options.isMenu = true;\n        super(action, action, options);\n        this.options = options;\n        this.options.icon = options.icon !== undefined ? options.icon : false;\n        this.options.label = options.label !== undefined ? options.label : true;\n        this.cssClass = '';\n        // Set mnemonic\n        if (this.options.label && options.enableMnemonics) {\n            let label = this.getAction().label;\n            if (label) {\n                let matches = MENU_MNEMONIC_REGEX.exec(label);\n                if (matches) {\n                    this.mnemonic = (!!matches[1] ? matches[1] : matches[3]).toLocaleLowerCase();\n                }\n            }\n        }\n        // Add mouse up listener later to avoid accidental clicks\n        this.runOnceToEnableMouseUp = new RunOnceScheduler(() => {\n            if (!this.element) {\n                return;\n            }\n            this._register(addDisposableListener(this.element, EventType.MOUSE_UP, e => {\n                // removed default prevention as it conflicts\n                // with BaseActionViewItem #101537\n                // add back if issues arise and link new issue\n                EventHelper.stop(e, true);\n                // See https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Interact_with_the_clipboard\n                // > Writing to the clipboard\n                // > You can use the \"cut\" and \"copy\" commands without any special\n                // permission if you are using them in a short-lived event handler\n                // for a user action (for example, a click handler).\n                // => to get the Copy and Paste context menu actions working on Firefox,\n                // there should be no timeout here\n                if (isFirefox) {\n                    const mouseEvent = new StandardMouseEvent(e);\n                    // Allowing right click to trigger the event causes the issue described below,\n                    // but since the solution below does not work in FF, we must disable right click\n                    if (mouseEvent.rightButton) {\n                        return;\n                    }\n                    this.onClick(e);\n                }\n                // In all other cases, set timeout to allow context menu cancellation to trigger\n                // otherwise the action will destroy the menu and a second context menu\n                // will still trigger for right click.\n                else {\n                    setTimeout(() => {\n                        this.onClick(e);\n                    }, 0);\n                }\n            }));\n            this._register(addDisposableListener(this.element, EventType.CONTEXT_MENU, e => {\n                EventHelper.stop(e, true);\n            }));\n        }, 100);\n        this._register(this.runOnceToEnableMouseUp);\n    }\n    render(container) {\n        super.render(container);\n        if (!this.element) {\n            return;\n        }\n        this.container = container;\n        this.item = append(this.element, $('a.action-menu-item'));\n        if (this._action.id === Separator.ID) {\n            // A separator is a presentation item\n            this.item.setAttribute('role', 'presentation');\n        }\n        else {\n            this.item.setAttribute('role', 'menuitem');\n            if (this.mnemonic) {\n                this.item.setAttribute('aria-keyshortcuts', `${this.mnemonic}`);\n            }\n        }\n        this.check = append(this.item, $('span.menu-item-check' + Codicon.menuSelection.cssSelector));\n        this.check.setAttribute('role', 'none');\n        this.label = append(this.item, $('span.action-label'));\n        if (this.options.label && this.options.keybinding) {\n            append(this.item, $('span.keybinding')).textContent = this.options.keybinding;\n        }\n        // Adds mouse up listener to actually run the action\n        this.runOnceToEnableMouseUp.schedule();\n        this.updateClass();\n        this.updateLabel();\n        this.updateTooltip();\n        this.updateEnabled();\n        this.updateChecked();\n    }\n    blur() {\n        super.blur();\n        this.applyStyle();\n    }\n    focus() {\n        super.focus();\n        if (this.item) {\n            this.item.focus();\n        }\n        this.applyStyle();\n    }\n    updatePositionInSet(pos, setSize) {\n        if (this.item) {\n            this.item.setAttribute('aria-posinset', `${pos}`);\n            this.item.setAttribute('aria-setsize', `${setSize}`);\n        }\n    }\n    updateLabel() {\n        if (!this.label) {\n            return;\n        }\n        if (this.options.label) {\n            clearNode(this.label);\n            let label = stripIcons(this.getAction().label);\n            if (label) {\n                const cleanLabel = cleanMnemonic(label);\n                if (!this.options.enableMnemonics) {\n                    label = cleanLabel;\n                }\n                this.label.setAttribute('aria-label', cleanLabel.replace(/&&/g, '&'));\n                const matches = MENU_MNEMONIC_REGEX.exec(label);\n                if (matches) {\n                    label = strings.escape(label);\n                    // This is global, reset it\n                    MENU_ESCAPED_MNEMONIC_REGEX.lastIndex = 0;\n                    let escMatch = MENU_ESCAPED_MNEMONIC_REGEX.exec(label);\n                    // We can't use negative lookbehind so if we match our negative and skip\n                    while (escMatch && escMatch[1]) {\n                        escMatch = MENU_ESCAPED_MNEMONIC_REGEX.exec(label);\n                    }\n                    const replaceDoubleEscapes = (str) => str.replace(/&amp;&amp;/g, '&amp;');\n                    if (escMatch) {\n                        this.label.append(strings.ltrim(replaceDoubleEscapes(label.substr(0, escMatch.index)), ' '), $('u', { 'aria-hidden': 'true' }, escMatch[3]), strings.rtrim(replaceDoubleEscapes(label.substr(escMatch.index + escMatch[0].length)), ' '));\n                    }\n                    else {\n                        this.label.innerText = replaceDoubleEscapes(label).trim();\n                    }\n                    if (this.item) {\n                        this.item.setAttribute('aria-keyshortcuts', (!!matches[1] ? matches[1] : matches[3]).toLocaleLowerCase());\n                    }\n                }\n                else {\n                    this.label.innerText = label.replace(/&&/g, '&').trim();\n                }\n            }\n        }\n    }\n    updateTooltip() {\n        // menus should function like native menus and they do not have tooltips\n    }\n    updateClass() {\n        if (this.cssClass && this.item) {\n            this.item.classList.remove(...this.cssClass.split(' '));\n        }\n        if (this.options.icon && this.label) {\n            this.cssClass = this.getAction().class || '';\n            this.label.classList.add('icon');\n            if (this.cssClass) {\n                this.label.classList.add(...this.cssClass.split(' '));\n            }\n            this.updateEnabled();\n        }\n        else if (this.label) {\n            this.label.classList.remove('icon');\n        }\n    }\n    updateEnabled() {\n        if (this.getAction().enabled) {\n            if (this.element) {\n                this.element.classList.remove('disabled');\n                this.element.removeAttribute('aria-disabled');\n            }\n            if (this.item) {\n                this.item.classList.remove('disabled');\n                this.item.removeAttribute('aria-disabled');\n                this.item.tabIndex = 0;\n            }\n        }\n        else {\n            if (this.element) {\n                this.element.classList.add('disabled');\n                this.element.setAttribute('aria-disabled', 'true');\n            }\n            if (this.item) {\n                this.item.classList.add('disabled');\n                this.item.setAttribute('aria-disabled', 'true');\n            }\n        }\n    }\n    updateChecked() {\n        if (!this.item) {\n            return;\n        }\n        const checked = this.getAction().checked;\n        this.item.classList.toggle('checked', !!checked);\n        if (checked !== undefined) {\n            this.item.setAttribute('role', 'menuitemcheckbox');\n            this.item.setAttribute('aria-checked', checked ? 'true' : 'false');\n        }\n        else {\n            this.item.setAttribute('role', 'menuitem');\n            this.item.setAttribute('aria-checked', '');\n        }\n    }\n    getMnemonic() {\n        return this.mnemonic;\n    }\n    applyStyle() {\n        if (!this.menuStyle) {\n            return;\n        }\n        const isSelected = this.element && this.element.classList.contains('focused');\n        const fgColor = isSelected && this.menuStyle.selectionForegroundColor ? this.menuStyle.selectionForegroundColor : this.menuStyle.foregroundColor;\n        const bgColor = isSelected && this.menuStyle.selectionBackgroundColor ? this.menuStyle.selectionBackgroundColor : undefined;\n        const border = isSelected && this.menuStyle.selectionBorderColor ? `thin solid ${this.menuStyle.selectionBorderColor}` : '';\n        if (this.item) {\n            this.item.style.color = fgColor ? fgColor.toString() : '';\n            this.item.style.backgroundColor = bgColor ? bgColor.toString() : '';\n        }\n        if (this.check) {\n            this.check.style.color = fgColor ? fgColor.toString() : '';\n        }\n        if (this.container) {\n            this.container.style.border = border;\n        }\n    }\n    style(style) {\n        this.menuStyle = style;\n        this.applyStyle();\n    }\n}\nclass SubmenuMenuActionViewItem extends BaseMenuActionViewItem {\n    constructor(action, submenuActions, parentData, submenuOptions) {\n        super(action, action, submenuOptions);\n        this.submenuActions = submenuActions;\n        this.parentData = parentData;\n        this.submenuOptions = submenuOptions;\n        this.mysubmenu = null;\n        this.submenuDisposables = this._register(new DisposableStore());\n        this.mouseOver = false;\n        this.expandDirection = submenuOptions && submenuOptions.expandDirection !== undefined ? submenuOptions.expandDirection : Direction.Right;\n        this.showScheduler = new RunOnceScheduler(() => {\n            if (this.mouseOver) {\n                this.cleanupExistingSubmenu(false);\n                this.createSubmenu(false);\n            }\n        }, 250);\n        this.hideScheduler = new RunOnceScheduler(() => {\n            if (this.element && (!isAncestor(getActiveElement(), this.element) && this.parentData.submenu === this.mysubmenu)) {\n                this.parentData.parent.focus(false);\n                this.cleanupExistingSubmenu(true);\n            }\n        }, 750);\n    }\n    render(container) {\n        super.render(container);\n        if (!this.element) {\n            return;\n        }\n        if (this.item) {\n            this.item.classList.add('monaco-submenu-item');\n            this.item.tabIndex = 0;\n            this.item.setAttribute('aria-haspopup', 'true');\n            this.updateAriaExpanded('false');\n            this.submenuIndicator = append(this.item, $('span.submenu-indicator' + Codicon.menuSubmenu.cssSelector));\n            this.submenuIndicator.setAttribute('aria-hidden', 'true');\n        }\n        this._register(addDisposableListener(this.element, EventType.KEY_UP, e => {\n            let event = new StandardKeyboardEvent(e);\n            if (event.equals(17 /* RightArrow */) || event.equals(3 /* Enter */)) {\n                EventHelper.stop(e, true);\n                this.createSubmenu(true);\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.KEY_DOWN, e => {\n            let event = new StandardKeyboardEvent(e);\n            if (getActiveElement() === this.item) {\n                if (event.equals(17 /* RightArrow */) || event.equals(3 /* Enter */)) {\n                    EventHelper.stop(e, true);\n                }\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.MOUSE_OVER, e => {\n            if (!this.mouseOver) {\n                this.mouseOver = true;\n                this.showScheduler.schedule();\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.MOUSE_LEAVE, e => {\n            this.mouseOver = false;\n        }));\n        this._register(addDisposableListener(this.element, EventType.FOCUS_OUT, e => {\n            if (this.element && !isAncestor(getActiveElement(), this.element)) {\n                this.hideScheduler.schedule();\n            }\n        }));\n        this._register(this.parentData.parent.onScroll(() => {\n            this.parentData.parent.focus(false);\n            this.cleanupExistingSubmenu(false);\n        }));\n    }\n    updateEnabled() {\n        // override on submenu entry\n        // native menus do not observe enablement on sumbenus\n        // we mimic that behavior\n    }\n    onClick(e) {\n        // stop clicking from trying to run an action\n        EventHelper.stop(e, true);\n        this.cleanupExistingSubmenu(false);\n        this.createSubmenu(true);\n    }\n    cleanupExistingSubmenu(force) {\n        if (this.parentData.submenu && (force || (this.parentData.submenu !== this.mysubmenu))) {\n            // disposal may throw if the submenu has already been removed\n            try {\n                this.parentData.submenu.dispose();\n            }\n            catch (_a) { }\n            this.parentData.submenu = undefined;\n            this.updateAriaExpanded('false');\n            if (this.submenuContainer) {\n                this.submenuDisposables.clear();\n                this.submenuContainer = undefined;\n            }\n        }\n    }\n    calculateSubmenuMenuLayout(windowDimensions, submenu, entry, expandDirection) {\n        const ret = { top: 0, left: 0 };\n        // Start with horizontal\n        ret.left = layout(windowDimensions.width, submenu.width, { position: expandDirection === Direction.Right ? 0 /* Before */ : 1 /* After */, offset: entry.left, size: entry.width });\n        // We don't have enough room to layout the menu fully, so we are overlapping the menu\n        if (ret.left >= entry.left && ret.left < entry.left + entry.width) {\n            if (entry.left + 10 + submenu.width <= windowDimensions.width) {\n                ret.left = entry.left + 10;\n            }\n            entry.top += 10;\n            entry.height = 0;\n        }\n        // Now that we have a horizontal position, try layout vertically\n        ret.top = layout(windowDimensions.height, submenu.height, { position: 0 /* Before */, offset: entry.top, size: 0 });\n        // We didn't have enough room below, but we did above, so we shift down to align the menu\n        if (ret.top + submenu.height === entry.top && ret.top + entry.height + submenu.height <= windowDimensions.height) {\n            ret.top += entry.height;\n        }\n        return ret;\n    }\n    createSubmenu(selectFirstItem = true) {\n        if (!this.element) {\n            return;\n        }\n        if (!this.parentData.submenu) {\n            this.updateAriaExpanded('true');\n            this.submenuContainer = append(this.element, $('div.monaco-submenu'));\n            this.submenuContainer.classList.add('menubar-menu-items-holder', 'context-view');\n            // Set the top value of the menu container before construction\n            // This allows the menu constructor to calculate the proper max height\n            const computedStyles = getComputedStyle(this.parentData.parent.domNode);\n            const paddingTop = parseFloat(computedStyles.paddingTop || '0') || 0;\n            // this.submenuContainer.style.top = `${this.element.offsetTop - this.parentData.parent.scrollOffset - paddingTop}px`;\n            this.submenuContainer.style.zIndex = '1';\n            this.submenuContainer.style.position = 'fixed';\n            this.submenuContainer.style.top = '0';\n            this.submenuContainer.style.left = '0';\n            this.parentData.submenu = new Menu(this.submenuContainer, this.submenuActions.length ? this.submenuActions : [new EmptySubmenuAction()], this.submenuOptions);\n            if (this.menuStyle) {\n                this.parentData.submenu.style(this.menuStyle);\n            }\n            // layout submenu\n            const entryBox = this.element.getBoundingClientRect();\n            const entryBoxUpdated = {\n                top: entryBox.top - paddingTop,\n                left: entryBox.left,\n                height: entryBox.height + 2 * paddingTop,\n                width: entryBox.width\n            };\n            const viewBox = this.submenuContainer.getBoundingClientRect();\n            const { top, left } = this.calculateSubmenuMenuLayout(new Dimension(window.innerWidth, window.innerHeight), Dimension.lift(viewBox), entryBoxUpdated, this.expandDirection);\n            // subtract offsets caused by transform parent\n            this.submenuContainer.style.left = `${left - viewBox.left}px`;\n            this.submenuContainer.style.top = `${top - viewBox.top}px`;\n            this.submenuDisposables.add(addDisposableListener(this.submenuContainer, EventType.KEY_UP, e => {\n                let event = new StandardKeyboardEvent(e);\n                if (event.equals(15 /* LeftArrow */)) {\n                    EventHelper.stop(e, true);\n                    this.parentData.parent.focus();\n                    this.cleanupExistingSubmenu(true);\n                }\n            }));\n            this.submenuDisposables.add(addDisposableListener(this.submenuContainer, EventType.KEY_DOWN, e => {\n                let event = new StandardKeyboardEvent(e);\n                if (event.equals(15 /* LeftArrow */)) {\n                    EventHelper.stop(e, true);\n                }\n            }));\n            this.submenuDisposables.add(this.parentData.submenu.onDidCancel(() => {\n                this.parentData.parent.focus();\n                this.cleanupExistingSubmenu(true);\n            }));\n            this.parentData.submenu.focus(selectFirstItem);\n            this.mysubmenu = this.parentData.submenu;\n        }\n        else {\n            this.parentData.submenu.focus(false);\n        }\n    }\n    updateAriaExpanded(value) {\n        var _a;\n        if (this.item) {\n            (_a = this.item) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', value);\n        }\n    }\n    applyStyle() {\n        super.applyStyle();\n        if (!this.menuStyle) {\n            return;\n        }\n        const isSelected = this.element && this.element.classList.contains('focused');\n        const fgColor = isSelected && this.menuStyle.selectionForegroundColor ? this.menuStyle.selectionForegroundColor : this.menuStyle.foregroundColor;\n        if (this.submenuIndicator) {\n            this.submenuIndicator.style.color = fgColor ? `${fgColor}` : '';\n        }\n        if (this.parentData.submenu) {\n            this.parentData.submenu.style(this.menuStyle);\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.hideScheduler.dispose();\n        if (this.mysubmenu) {\n            this.mysubmenu.dispose();\n            this.mysubmenu = null;\n        }\n        if (this.submenuContainer) {\n            this.submenuContainer = undefined;\n        }\n    }\n}\nclass MenuSeparatorActionViewItem extends ActionViewItem {\n    style(style) {\n        if (this.label) {\n            this.label.style.borderBottomColor = style.separatorColor ? `${style.separatorColor}` : '';\n        }\n    }\n}\nexport function cleanMnemonic(label) {\n    const regex = MENU_MNEMONIC_REGEX;\n    const matches = regex.exec(label);\n    if (!matches) {\n        return label;\n    }\n    const mnemonicInText = !matches[1];\n    return label.replace(regex, mnemonicInText ? '$2$3' : '').trim();\n}\nfunction getMenuWidgetCSS(style, isForShadowDom) {\n    let result = /* css */ `\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${formatRule(Codicon.menuSelection)}\n${formatRule(Codicon.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;\n    if (isForShadowDom) {\n        // Only define scrollbar styles when used inside shadow dom,\n        // otherwise leave their styling to the global workbench styling.\n        result += `\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t`;\n        // Scrollbars\n        const scrollbarShadowColor = style.scrollbarShadow;\n        if (scrollbarShadowColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${scrollbarShadowColor} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${scrollbarShadowColor} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${scrollbarShadowColor} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`;\n        }\n        const scrollbarSliderBackgroundColor = style.scrollbarSliderBackground;\n        if (scrollbarSliderBackgroundColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${scrollbarSliderBackgroundColor};\n\t\t\t\t}\n\t\t\t`;\n        }\n        const scrollbarSliderHoverBackgroundColor = style.scrollbarSliderHoverBackground;\n        if (scrollbarSliderHoverBackgroundColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${scrollbarSliderHoverBackgroundColor};\n\t\t\t\t}\n\t\t\t`;\n        }\n        const scrollbarSliderActiveBackgroundColor = style.scrollbarSliderActiveBackground;\n        if (scrollbarSliderActiveBackgroundColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${scrollbarSliderActiveBackgroundColor};\n\t\t\t\t}\n\t\t\t`;\n        }\n    }\n    return result;\n}\n"],"names":["defaultOpts","inputActiveOptionBorder","Color","inputActiveOptionForeground","inputActiveOptionBackground","Checkbox","opts","_onChange","_register","Emitter","onChange","event","_onKeyDown","onKeyDown","_opts","Object","assign","_checked","isChecked","classes","icon","push","CSSIcon","actionClassName","split","domNode","document","createElement","title","classList","add","notFocusable","tabIndex","setAttribute","String","applyStyles","onclick","ev","enabled","checked","fire","preventDefault","ignoreGesture","onkeydown","keyboardEvent","keyCode","this","getAttribute","focus","newIsChecked","toggle","styles","style","borderColor","toString","color","backgroundColor","Widget","formatRule","c","def","definition","Codicon","id","fontCharacter","LayoutAnchorMode","layout","viewportSize","viewSize","anchor","layoutAfterAnchorBoundary","mode","ALIGN","offset","size","layoutBeforeAnchorBoundary","position","Math","max","ContextView","container","domPosition","delegate","toDisposeOnClean","Disposable","toDisposeOnSetContainer","shadowRoot","shadowRootHostElement","view","DOM","useFixedPosition","useShadowDOM","setContainer","toDisposable","_a","dispose","removeChild","remove","appendChild","attachShadow","textContent","SHADOW_ROOT_CSS","DisposableStore","BUBBLE_UP_EVENTS","forEach","e","onDOMEvent","BUBBLE_DOWN_EVENTS","isVisible","hide","className","top","left","zIndex","render","doLayout","canRelayout","platform","BrowserFeatures","around","getAnchor","elementPosition","width","height","y","x","viewSizeWidth","viewSizeHeight","anchorPosition","anchorAlignment","anchorAxisAlignment","verticalAnchor","window","pageYOffset","horizontalAnchor","innerHeight","Range","start","end","AVOID","innerWidth","containerPosition","data","onHide","onCapture","activeElement","target","badgeBackground","badgeForeground","CountBadge","options","count","create","mixin","badgeBorder","element","append","$","countFormat","titleFormat","setCount","format","background","foreground","border","borderWidth","borderStyle","DropdownMenu","_actions","_contextMenuProvider","contextMenuProvider","actions","actionProvider","menuClassName","menuAsChild","_menuOptions","getActions","showContextMenu","getActionsContext","menuOptions","context","getActionViewItem","action","actionViewItemProvider","undefined","getKeyBinding","getMenuClassName","actionRunner","domForShadowRoot","_onDidChangeVisibility","onDidChangeVisibility","_element","_label","labelRenderer","label","EventType","GestureEventType","addDisposableListener","EventHelper","MouseEvent","detail","visible","show","StandardKeyboardEvent","equals","cleanupFn","Gesture","boxContainer","contents","ActionRunner","DropdownMenuActionViewItem","menuActionsOrProvider","actionItem","isActionsArray","Array","isArray","el","classNames","filter","s","find","_action","dropdownMenu","keybindingProvider","_context","anchorAlignmentProvider","that","updateEnabled","newContext","_b","disabled","getAction","BaseActionViewItem","NLS_DEFAULT_LABEL","nls","FindInput","parent","contextViewProvider","_showOptionButtons","fixFocusOnOptionClickEnabled","imeSessionInProgress","_onDidOptionChange","onDidOptionChange","_onMouseDown","onMouseDown","_onInput","_onKeyUp","_onCaseSensitiveKeyDown","onCaseSensitiveKeyDown","_onRegexKeyDown","onRegexKeyDown","_lastHighlightFindOptions","placeholder","validation","inputBackground","inputForeground","inputBorder","inputValidationInfoBorder","inputValidationInfoBackground","inputValidationInfoForeground","inputValidationWarningBorder","inputValidationWarningBackground","inputValidationWarningForeground","inputValidationErrorBorder","inputValidationErrorBackground","inputValidationErrorForeground","appendCaseSensitiveLabel","appendWholeWordsLabel","appendRegexLabel","history","flexibleHeight","flexibleWidth","flexibleMaxHeight","inputBox","HistoryInputBox","ariaLabel","validationOptions","showHistoryHint","regex","RegexCheckbox","appendTitle","viaKeyboard","validate","wholeWords","WholeWordsCheckbox","caseSensitive","CaseSensitiveCheckbox","paddingRight","indexes","index","indexOf","newIndex","length","blur","dom","controls","display","inputElement","onkeyup","oninput","onmousedown","enable","disable","value","checkBoxStyles","inputBoxStyles","select","hideMessage","NLS_CASE_SENSITIVE_CHECKBOX_LABEL","NLS_WHOLE_WORD_CHECKBOX_LABEL","NLS_REGEX_CHECKBOX_LABEL","NLS_PRESERVE_CASE_LABEL","PreserveCaseCheckbox","ReplaceInput","cachedOptionsWidth","_onPreserveCaseKeyDown","onPreserveCaseKeyDown","appendPreserveCaseLabel","preserveCase","newWidth","HighlightedLabel","text","highlights","didEverRender","supportIcons","escapeNewLines","objects","children","pos","highlight","substring","renderLabelWithIcons","extraClasses","removeAttribute","total","extra","replace","match","HoverWidget","containerDomNode","contentsDomNode","scrollbar","DomScrollableElement","consumeMouseWheelIfScrollbarIsNeeded","getDomNode","scanDomNode","HoverAction","actionOptions","keybindingLabel","actionContainer","iconClass","CLICK","stopPropagation","run","KEY_UP","setEnabled","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","apply","UpdatableHoverWidget","hoverDelegate","fadeInAnimation","content","_cancellationTokenSource","isDisposed","isString","HTMLElement","resolvedContent","isFunction","markdown","markdownNotSupportedFallback","_hoverWidget","localize","CancellationTokenSource","token","isCancellationRequested","oldHoverWidget","hasContent","hoverOptions","showPointer","placement","hoverPosition","skipFadeInAnimation","showHover","isMarkdownString","FastLabelNode","disposed","_textContent","_className","empty","_empty","marginLeft","IconLabel","customHovers","Map","labelContainer","nameContainer","descriptionContainer","supportHighlights","nameNode","LabelWithHighlights","Label","supportDescriptionHighlights","descriptionNodeFactory","description","italic","strikethrough","join","setupHover","descriptionTitle","setLabel","descriptionNode","set","descriptionMatches","htmlElement","tooltip","previousCustomHover","get","delete","hoverDisposable","hoverPreparation","hoverWidget","hideHover","disposeWidget","disposePreparation","onDidHideHover","call","triggerShowHover","delay","TimeoutTimer","update","mouseOverDomEmitter","MOUSE_OVER","toDispose","MOUSE_LEAVE","fromElement","MOUSE_DOWN","targetElements","MOUSE_MOVE","newContent","setupCustomHover","stripIcons","setupNativeHover","values","clear","singleLabel","innerText","domId","i","l","separator","matches","labelEscapeNewLines","labels","labelStart","map","labelRange","range","splitMatches","m","name","labelWithIconsRegex","RegExp","elements","textStart","textStop","exec","escaped","codicon","renderIcon","node","InputBox","state","maxHeight","Number","POSITIVE_INFINITY","_onDidChange","onDidChange","_onDidHeightChange","onDidHeightChange","message","tagName","wrapper","input","onfocus","onblur","mirror","scrollableElement","ScrollableElement","vertical","whiteSpace","wordWrap","onScroll","scrollTop","onSelectionChange","DomEmitter","onAnchoredSelectionChange","Event","selection","getSelection","anchorNode","updateScrollDimensions","type","showPlaceholderOnFocus","setPlaceHolder","setTooltip","onValueChange","onBlur","onFocus","setTimeout","updateMirror","actionbar","ActionBar","_hideMessage","_showMessage","placeHolder","newValue","cachedHeight","getTotalHeight","setSelectionRange","scrollLeft","scrollWidth","selectionEnd","selectionStart","getTotalWidth","horizontalPadding","parseFloat","paddingLeft","cachedContentHeight","scrollHeight","setScrollDimensions","setScrollPosition","force","classForType","stylesForType","hasFocus","errorMsg","showMessage","hasAttribute","div","alertText","showContextView","renderOptions","inline","spanElement","formatContent","renderFormattedText","renderText","aria","hideContextView","suffix","charCodeAt","previousHeight","min","substr","NLS_PLACEHOLDER_HISTORY_HINT","key","comment","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS","HistoryNavigator","addSuffix","endsWith","getHistory","suffixedPlaceholder","observer","MutationObserver","mutationList","mutation","observe","attributeFilter","resetPlaceholder","historyHint","revertedPlaceholder","slice","disconnect","getCurrentValue","has","addToHistory","getNextValue","previous","getPreviousValue","currentValue","current","last","first","KeybindingLabel","os","keyElements","Set","labelBackground","keybindingLabelBackground","labelForeground","keybindingLabelForeground","labelBorder","keybindingLabelBorder","labelBottomBorder","keybindingLabelBottomBorder","labelShadow","keybindingLabelShadow","keybinding","areSame","getParts","firstPart","chordPart","renderPart","getAriaLabel","renderUnboundKeybindings","renderUnbound","clearNode","part","modifierLabels","UILabelProvider","ctrlKey","renderKey","Boolean","shiftKey","altKey","metaKey","keyLabel","createKeyElement","extraClass","keyElement","borderBottomColor","boxShadow","a","b","PagedRenderer","renderer","modelProvider","templateId","renderTemplate","disposable","_","model","isResolved","renderElement","cts","promise","cancel","renderPlaceholder","entry","disposeTemplate","PagedAccessibilityProvider","accessibilityProvider","getWidgetAriaLabel","fromPagedListOptions","PagedList","user","virtualDelegate","renderers","pagedRenderers","r","list","List","updateOptions","getHTMLElement","onDidFocus","onDidDispose","onMouseDblClick","browserEvent","_model","onPointer","onDidChangeSelection","splice","getFocus","groupIntersect","groups","intersection","shift","much","consolidate","previousGroup","group","concat","reduce","g","RangeMap","_size","deleteCount","items","diff","before","after","middle","item","t","len","newSize","floor","indexAt","groupCount","newCount","RowCache","cache","getTemplateCache","pop","templateData","getRenderer","row","releaseRow","parentElement","removeFromParent","cachedRows","cachedRow","Error","__decorate","decorators","desc","d","arguments","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DefaultOptions","useShadows","verticalScrollMode","setRowLineHeight","setRowHeight","supportDynamicHeights","dnd","getDragElements","getDragURI","onDragStart","onDragOver","drop","horizontalScrolling","transformOptimization","alwaysConsumeMouseWheel","ElementsDragAndDropData","ExternalElementsDragAndDropData","NativeDragAndDropData","types","files","dataTransfer","file","ListViewAccessibilityProvider","getSetSize","bind","getPosInSet","getRole","ListView","InstanceCount","renderWidth","_scrollHeight","scrollableElementUpdateDisposable","scrollableElementWidthDelayer","Delayer","splicing","dragOverAnimationStopDisposable","dragOverMouseY","canDrop","currentDragFeedbackDisposable","onDragLeaveTimeout","disposables","_onDidChangeContentHeight","_horizontalScrolling","itemId","rangeMap","lastRenderTop","lastRenderHeight","mouseSupport","getOrDefault","o","additionalScrollHeight","rowsContainer","transform","scrollable","Scrollable","forceIntegerValues","smoothScrollDuration","smoothScrolling","scheduleAtNextAnimationFrame","cb","SmoothScrollableElement","horizontal","mouseWheelScrollSensitivity","fastScrollSensitivity","TouchEventType","onTouchChange","toDragEvent","onDrop","onDragLeave","onDragEnd","measureItemWidth","updateScrollWidth","getContentWidth","setSmoothScrollDuration","_splice","contentHeight","previousRenderRange","getRenderRange","deleteRange","removeRange","rowsToDispose","dragStartDisposable","rows","disposeElement","deleted","previousRestRange","previousRenderedRestRange","previousUnrenderedRestRanges","inserted","getTemplateId","getHeight","hasDynamicHeight","lastDynamicHeightWidth","uri","dropTarget","checkedDisposable","delta","renderRange","renderedRestRange","updateRange","updateItemInDOM","removeRanges","removeItemFromDOM","unrenderedRestRanges","elementsRange","insertRanges","beforeElement","getNextToLastElement","insertItemInDOM","release","eventuallyUpdateScrollDimensions","_rerender","renderHeight","trigger","getScrollDimensions","positionAt","indexAfter","scrollDimensions","getContentHeight","renderTop","renderLeft","updateItemsInDOM","rangesToInsert","rangesToRemove","rangesToUpdate","alloc","role","insertBefore","draggable","eventuallyUpdateScrollWidth","isFirefox","getComputedStyle","elementTop","lineHeight","getElementDomId","getScrollPosition","reuseAnimation","getScrollTop","setScrollTop","toMouseEvent","button","toGestureEvent","toTouchEvent","getItemIndexFromEventTarget","initialTarget","inSmoothScrolling","err","console","error","translationY","effectAllowed","setData","DataTransfers","setDragImage","getDragLabel","dragImage","body","currentDragData","StaticDND","setupDragAndDropScrollTopAnimation","feedback","f1","f2","accept","currentDragFeedback","dropEffect","effect","distinct","sort","disposableTimeout","clearDragOverFeedback","dragData","teardownDragAndDropScrollTopAnimation","dragOverAnimationDisposable","viewTop","getTopLeftOffset","animate","animateDragAndDropScrollTop","pageY","upperLimit","contains","rawIndex","isNaN","anchorElementIndex","anchorElementTopDelta","heightDiff","didChange","probeDynamicHeight","unrenderRanges","renderRanges","afterIndex","beforeRow","deltaScrollTop","getFutureScrollPosition","newScrollTop","getDynamicHeight","offsetHeight","setDynamicHeight","ranges","lastRange","nextToLastItem","parentNode","memoize","prototype","CombinedSpliceable","spliceables","ListError","TraitRenderer","trait","renderedElements","renderedElementIndex","findIndex","rendered","unrender","renderIndex","insertCount","renderedElement","Trait","_trait","sortedIndexes","hasTrait","_set","numericSort","sortedResult","toRender","disjunction","renderIndexes","binarySearch","SelectionTrait","setAriaSelected","TraitSpliceable","identityProvider","pastElementsWithTrait","getId","elementsWithTrait","isInputElement","isMonacoEditor","TypeLabelControllerState","KeyboardController","multipleSelectionDisposables","on","onEnter","onUpArrow","onDownArrow","onPageUpArrow","onPageDownArrow","onEscape","multipleSelectionSupport","onCtrlA","optionsUpdate","setSelection","focusPrevious","setAnchor","reveal","focusNext","focusPreviousPage","focusNextPage","DefaultKeyboardNavigationDelegate","TypeLabelController","keyboardNavigationLabelProvider","Idle","automaticKeyboardNavigation","triggered","previouslyFocused","enabledDisposables","enableKeyboardNavigation","onChar","mightProducePrintableCharacter","onClear","onInput","alert","word","Typing","getKeyboardNavigationLabel","labelStr","matchesPrefix","setFocus","DOMFocusController","onTab","focusedDomElement","domElement","tabIndexElement","querySelector","visibility","isSelectionSingleChangeEvent","isSelectionRangeChangeEvent","DefaultMultipleSelectionController","MouseController","_onPointer","multipleSelectionController","onContextMenu","onDoubleClick","onTouchStart","onMouseClick","onMouseMiddleClick","onTap","onViewPointer","domFocus","changeSelection","isSelectionChangeEvent","currentFocus","rangeSelection","contiguousRange","reverse","getContiguousRangeContaining","newSelection","one","other","j","relativeComplement","DefaultStyleController","styleElement","selectorSuffix","listBackground","isOpaque","warn","listFocusBackground","listFocusForeground","listActiveSelectionBackground","listActiveSelectionForeground","listActiveSelectionIconForeground","listFocusAndSelectionBackground","listFocusAndSelectionForeground","listInactiveFocusForeground","listInactiveSelectionIconForeground","listInactiveFocusBackground","listInactiveSelectionBackground","listInactiveSelectionForeground","listHoverBackground","listHoverForeground","listSelectionOutline","listFocusOutline","listInactiveFocusOutline","listHoverOutline","listDropBackground","listFilterWidgetBackground","listFilterWidgetOutline","listFilterWidgetNoMatchesOutline","listMatchesShadow","tableColumnsBorder","tableOddRowsBackgroundColor","defaultStyles","treeIndentGuidesStroke","transparent","keyboardSupport","PipelineRenderer","_templateId","AccessibiltyRenderer","ariaLevel","getAriaLevel","ListViewDragAndDrop","getSelectedElements","originalEvent","targetElement","targetIndex","_options","eventBufferer","EventBufferer","_ariaLabel","_onDidDispose","getWidgetRole","baseRenderers","onDidChangeActiveDescendant","viewOptions","styleController","createStyleSheet","spliceable","keyboardController","keyboardNavigationDelegate","typeLabelController","mouseController","createMouseController","onDidChangeFocus","_onFocusChange","_onSelectionChange","wrapEvent","toListEvent","didJustPressContextMenuKey","fromKeyDown","stopEvent","fromKeyUp","fromMouse","pageX","bufferEvents","rerender","preventScroll","firstOrDefault","n","loop","findNextIndex","findPreviousIndex","lastPageIndex","lastPageElement","currentlyFocusedElement","getFocusedElements","lastGoodPageIndex","previousScrollTop","elementHeight","timeout","firstPageIndex","firstPageElement","firstGoodPageIndex","focusNth","relativeTop","isNumber","clamp","viewItemBottom","scrollBottom","abs","getActiveDescendantId","Direction","MENU_MNEMONIC_REGEX","MENU_ESCAPED_MNEMONIC_REGEX","Menu","menuElement","orientation","doGetActionViewItem","parentData","focusOnlyEnabledItems","triggerKeys","keys","isMacintosh","isLinux","keyDown","actionsList","menuDisposables","initializeOrUpdateStyleSheet","enableMnemonics","toLocaleLowerCase","mnemonics","SubmenuMenuActionViewItem","focusItemByElement","onClick","focusedItem","viewItems","relatedTarget","isAncestor","updateFocus","lastFocusedItem","setFocusedItem","verticalScrollbarSize","handleMouseWheel","scrollElement","getBoundingClientRect","submenuIds","isMenu","MenuSeparatorActionViewItem","array","updatePositionInSet","styleSheet","isInShadowDOM","globalStyleSheet","isForShadowDom","scrollbarShadowColor","scrollbarShadow","scrollbarSliderBackgroundColor","scrollbarSliderBackground","scrollbarSliderHoverBackgroundColor","scrollbarSliderHoverBackground","scrollbarSliderActiveBackgroundColor","scrollbarSliderActiveBackground","getMenuWidgetCSS","getContainer","fgColor","foregroundColor","bgColor","shadow","shadowColor","BaseMenuActionViewItem","fromRight","round","Separator","SubmenuAction","menuActionViewItem","mnemonic","getMnemonic","isEnabled","actionViewItems","menuItemOptions","useEventAsContext","getLabel","ctx","cssClass","runOnceToEnableMouseUp","RunOnceScheduler","StandardMouseEvent","rightButton","check","schedule","updateClass","updateLabel","updateTooltip","updateChecked","applyStyle","setSize","cleanLabel","mnemonicInText","trim","cleanMnemonic","strings","lastIndex","escMatch","replaceDoubleEscapes","str","class","menuStyle","isSelected","selectionForegroundColor","selectionBackgroundColor","selectionBorderColor","submenuActions","submenuOptions","mysubmenu","submenuDisposables","mouseOver","expandDirection","Right","showScheduler","cleanupExistingSubmenu","createSubmenu","hideScheduler","getActiveElement","submenu","updateAriaExpanded","submenuIndicator","submenuContainer","windowDimensions","ret","selectFirstItem","computedStyles","paddingTop","EmptySubmenuAction","entryBox","entryBoxUpdated","viewBox","calculateSubmenuMenuLayout","Dimension","onDidCancel","separatorColor","ActionViewItem"],"sourceRoot":""}