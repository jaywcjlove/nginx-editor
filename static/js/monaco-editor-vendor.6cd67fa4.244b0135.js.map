{"version":3,"file":"static/js/monaco-editor-vendor.6cd67fa4.244b0135.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/platform/dialogs/common/dialogs.js","../node_modules/monaco-editor/esm/vs/platform/dnd/browser/dnd.js","../node_modules/monaco-editor/esm/vs/platform/editor/common/editor.js","../node_modules/monaco-editor/esm/vs/platform/environment/common/environment.js","../node_modules/monaco-editor/esm/vs/platform/extensions/common/extensions.js","../node_modules/monaco-editor/esm/vs/platform/files/common/files.js","../node_modules/monaco-editor/esm/vs/platform/history/browser/contextScopedHistoryWidget.js","../node_modules/monaco-editor/esm/vs/platform/history/browser/historyWidgetKeybindingHint.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/descriptors.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/extensions.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/graph.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiationService.js","../node_modules/monaco-editor/esm/vs/platform/instantiation/common/serviceCollection.js","../node_modules/monaco-editor/esm/vs/platform/jsonschemas/common/jsonContributionRegistry.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/abstractKeybindingService.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybinding.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingResolver.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingsRegistry.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/resolvedKeybindingItem.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/baseResolvedKeybinding.js","../node_modules/monaco-editor/esm/vs/platform/keybinding/common/usLayoutResolvedKeybinding.js","../node_modules/monaco-editor/esm/vs/platform/label/common/label.js","../node_modules/monaco-editor/esm/vs/platform/layout/browser/layoutService.js","../node_modules/monaco-editor/esm/vs/platform/list/browser/listService.js","../node_modules/monaco-editor/esm/vs/platform/log/common/log.js","../node_modules/monaco-editor/esm/vs/platform/log/common/logService.js","../node_modules/monaco-editor/esm/vs/platform/markers/common/markerService.js","../node_modules/monaco-editor/esm/vs/platform/markers/common/markers.js","../node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js","../node_modules/monaco-editor/esm/vs/platform/opener/browser/link.js","../node_modules/monaco-editor/esm/vs/platform/opener/common/opener.js","../node_modules/monaco-editor/esm/vs/platform/progress/common/progress.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/pickerQuickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/commandsQuickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/helpQuickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputBox.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputUtils.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputList.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInput.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputController.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputService.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickAccess.js","../node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickInput.js","../node_modules/monaco-editor/esm/vs/platform/registry/common/platform.js","../node_modules/monaco-editor/esm/vs/platform/severityIcon/browser/severityIcon.js"],"sourcesContent":["import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IDialogService = createDecorator('dialogService');\n","import { Registry } from '../../registry/common/platform.js';\n//#region Editor / Resources DND\nexport const CodeDataTransfers = {\n    EDITORS: 'CodeEditors',\n    FILES: 'CodeFiles'\n};\nclass DragAndDropContributionRegistry {\n}\nexport const Extensions = {\n    DragAndDropContribution: 'workbench.contributions.dragAndDrop'\n};\nRegistry.add(Extensions.DragAndDropContribution, new DragAndDropContributionRegistry());\n//#endregion\n//#region DND Utilities\n/**\n * A singleton to store transfer data during drag & drop operations that are only valid within the application.\n */\nexport class LocalSelectionTransfer {\n    constructor() {\n        // protect against external instantiation\n    }\n    static getInstance() {\n        return LocalSelectionTransfer.INSTANCE;\n    }\n    hasData(proto) {\n        return proto && proto === this.proto;\n    }\n    getData(proto) {\n        if (this.hasData(proto)) {\n            return this.data;\n        }\n        return undefined;\n    }\n}\nLocalSelectionTransfer.INSTANCE = new LocalSelectionTransfer();\n//#endregion\n","export var EditorOpenSource;\n(function (EditorOpenSource) {\n    /**\n     * Default: the editor is opening via a programmatic call\n     * to the editor service API.\n     */\n    EditorOpenSource[EditorOpenSource[\"API\"] = 0] = \"API\";\n    /**\n     * Indicates that a user action triggered the opening, e.g.\n     * via mouse or keyboard use.\n     */\n    EditorOpenSource[EditorOpenSource[\"USER\"] = 1] = \"USER\";\n})(EditorOpenSource || (EditorOpenSource = {}));\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IEnvironmentService = createDecorator('environmentService');\n","/**\n * **!Do not construct directly!**\n *\n * **!Only static methods because it gets serialized!**\n *\n * This represents the \"canonical\" version for an extension identifier. Extension ids\n * have to be case-insensitive (due to the marketplace), but we must ensure case\n * preservation because the extension API is already public at this time.\n *\n * For example, given an extension with the publisher `\"Hello\"` and the name `\"World\"`,\n * its canonical extension identifier is `\"Hello.World\"`. This extension could be\n * referenced in some other extension's dependencies using the string `\"hello.world\"`.\n *\n * To make matters more complicated, an extension can optionally have an UUID. When two\n * extensions have the same UUID, they are considered equal even if their identifier is different.\n */\nexport class ExtensionIdentifier {\n    constructor(value) {\n        this.value = value;\n        this._lower = value.toLowerCase();\n    }\n    /**\n     * Gives the value by which to index (for equality).\n     */\n    static toKey(id) {\n        if (typeof id === 'string') {\n            return id.toLowerCase();\n        }\n        return id._lower;\n    }\n}\nexport class ExtensionIdentifierSet {\n    constructor(iterable) {\n        this._set = new Set();\n        if (iterable) {\n            for (const value of iterable) {\n                this.add(value);\n            }\n        }\n    }\n    add(id) {\n        this._set.add(ExtensionIdentifier.toKey(id));\n    }\n    has(id) {\n        return this._set.has(ExtensionIdentifier.toKey(id));\n    }\n}\n","//#endregion\n//#region Utilities\nexport var FileKind;\n(function (FileKind) {\n    FileKind[FileKind[\"FILE\"] = 0] = \"FILE\";\n    FileKind[FileKind[\"FOLDER\"] = 1] = \"FOLDER\";\n    FileKind[FileKind[\"ROOT_FOLDER\"] = 2] = \"ROOT_FOLDER\";\n})(FileKind || (FileKind = {}));\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { FindInput } from '../../../base/browser/ui/findinput/findInput.js';\nimport { ReplaceInput } from '../../../base/browser/ui/findinput/replaceInput.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { KeybindingsRegistry } from '../../keybinding/common/keybindingsRegistry.js';\nimport { localize } from '../../../nls.js';\nimport { DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nexport const historyNavigationVisible = new RawContextKey('suggestWidgetVisible', false, localize('suggestWidgetVisible', \"Whether suggestion are visible\"));\nconst HistoryNavigationWidgetFocusContext = 'historyNavigationWidgetFocus';\nconst HistoryNavigationForwardsEnablementContext = 'historyNavigationForwardsEnabled';\nconst HistoryNavigationBackwardsEnablementContext = 'historyNavigationBackwardsEnabled';\nlet lastFocusedWidget = undefined;\nconst widgets = [];\nexport function registerAndCreateHistoryNavigationContext(scopedContextKeyService, widget) {\n    if (widgets.includes(widget)) {\n        throw new Error('Cannot register the same widget multiple times');\n    }\n    widgets.push(widget);\n    const disposableStore = new DisposableStore();\n    const historyNavigationWidgetFocus = new RawContextKey(HistoryNavigationWidgetFocusContext, false).bindTo(scopedContextKeyService);\n    const historyNavigationForwardsEnablement = new RawContextKey(HistoryNavigationForwardsEnablementContext, true).bindTo(scopedContextKeyService);\n    const historyNavigationBackwardsEnablement = new RawContextKey(HistoryNavigationBackwardsEnablementContext, true).bindTo(scopedContextKeyService);\n    const onDidFocus = () => {\n        historyNavigationWidgetFocus.set(true);\n        lastFocusedWidget = widget;\n    };\n    const onDidBlur = () => {\n        historyNavigationWidgetFocus.set(false);\n        if (lastFocusedWidget === widget) {\n            lastFocusedWidget = undefined;\n        }\n    };\n    // Check for currently being focused\n    if (widget.element === document.activeElement) {\n        onDidFocus();\n    }\n    disposableStore.add(widget.onDidFocus(() => onDidFocus()));\n    disposableStore.add(widget.onDidBlur(() => onDidBlur()));\n    disposableStore.add(toDisposable(() => {\n        widgets.splice(widgets.indexOf(widget), 1);\n        onDidBlur();\n    }));\n    return {\n        historyNavigationForwardsEnablement,\n        historyNavigationBackwardsEnablement,\n        dispose() {\n            disposableStore.dispose();\n        }\n    };\n}\nlet ContextScopedFindInput = class ContextScopedFindInput extends FindInput {\n    constructor(container, contextViewProvider, options, contextKeyService) {\n        super(container, contextViewProvider, options);\n        const scopedContextKeyService = this._register(contextKeyService.createScoped(this.inputBox.element));\n        this._register(registerAndCreateHistoryNavigationContext(scopedContextKeyService, this.inputBox));\n    }\n};\nContextScopedFindInput = __decorate([\n    __param(3, IContextKeyService)\n], ContextScopedFindInput);\nexport { ContextScopedFindInput };\nlet ContextScopedReplaceInput = class ContextScopedReplaceInput extends ReplaceInput {\n    constructor(container, contextViewProvider, options, contextKeyService, showReplaceOptions = false) {\n        super(container, contextViewProvider, showReplaceOptions, options);\n        const scopedContextKeyService = this._register(contextKeyService.createScoped(this.inputBox.element));\n        this._register(registerAndCreateHistoryNavigationContext(scopedContextKeyService, this.inputBox));\n    }\n};\nContextScopedReplaceInput = __decorate([\n    __param(3, IContextKeyService)\n], ContextScopedReplaceInput);\nexport { ContextScopedReplaceInput };\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'history.showPrevious',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetFocusContext), ContextKeyExpr.equals(HistoryNavigationBackwardsEnablementContext, true), ContextKeyExpr.not('isComposing'), historyNavigationVisible.isEqualTo(false)),\n    primary: 16 /* KeyCode.UpArrow */,\n    secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n    handler: (accessor) => {\n        lastFocusedWidget === null || lastFocusedWidget === void 0 ? void 0 : lastFocusedWidget.showPreviousValue();\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'history.showNext',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetFocusContext), ContextKeyExpr.equals(HistoryNavigationForwardsEnablementContext, true), ContextKeyExpr.not('isComposing'), historyNavigationVisible.isEqualTo(false)),\n    primary: 18 /* KeyCode.DownArrow */,\n    secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n    handler: (accessor) => {\n        lastFocusedWidget === null || lastFocusedWidget === void 0 ? void 0 : lastFocusedWidget.showNextValue();\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function showHistoryKeybindingHint(keybindingService) {\n    var _a, _b;\n    return ((_a = keybindingService.lookupKeybinding('history.showPrevious')) === null || _a === void 0 ? void 0 : _a.getElectronAccelerator()) === 'Up' && ((_b = keybindingService.lookupKeybinding('history.showNext')) === null || _b === void 0 ? void 0 : _b.getElectronAccelerator()) === 'Down';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class SyncDescriptor {\n    constructor(ctor, staticArguments = [], supportsDelayedInstantiation = false) {\n        this.ctor = ctor;\n        this.staticArguments = staticArguments;\n        this.supportsDelayedInstantiation = supportsDelayedInstantiation;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { SyncDescriptor } from './descriptors.js';\nconst _registry = [];\nexport function registerSingleton(id, ctorOrDescriptor, supportsDelayedInstantiation) {\n    if (!(ctorOrDescriptor instanceof SyncDescriptor)) {\n        ctorOrDescriptor = new SyncDescriptor(ctorOrDescriptor, [], Boolean(supportsDelayedInstantiation));\n    }\n    _registry.push([id, ctorOrDescriptor]);\n}\nexport function getSingletonServiceDescriptors() {\n    return _registry;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// ------ internal util\nexport var _util;\n(function (_util) {\n    _util.serviceIds = new Map();\n    _util.DI_TARGET = '$di$target';\n    _util.DI_DEPENDENCIES = '$di$dependencies';\n    function getServiceDependencies(ctor) {\n        return ctor[_util.DI_DEPENDENCIES] || [];\n    }\n    _util.getServiceDependencies = getServiceDependencies;\n})(_util || (_util = {}));\nexport const IInstantiationService = createDecorator('instantiationService');\nfunction storeServiceDependency(id, target, index) {\n    if (target[_util.DI_TARGET] === target) {\n        target[_util.DI_DEPENDENCIES].push({ id, index });\n    }\n    else {\n        target[_util.DI_DEPENDENCIES] = [{ id, index }];\n        target[_util.DI_TARGET] = target;\n    }\n}\n/**\n * The *only* valid way to create a {{ServiceIdentifier}}.\n */\nexport function createDecorator(serviceId) {\n    if (_util.serviceIds.has(serviceId)) {\n        return _util.serviceIds.get(serviceId);\n    }\n    const id = function (target, key, index) {\n        if (arguments.length !== 3) {\n            throw new Error('@IServiceName-decorator can only be used to decorate a parameter');\n        }\n        storeServiceDependency(id, target, index);\n    };\n    id.toString = () => serviceId;\n    _util.serviceIds.set(serviceId, id);\n    return id;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class Node {\n    constructor(key, data) {\n        this.key = key;\n        this.data = data;\n        this.incoming = new Map();\n        this.outgoing = new Map();\n    }\n}\nexport class Graph {\n    constructor(_hashFn) {\n        this._hashFn = _hashFn;\n        this._nodes = new Map();\n        // empty\n    }\n    roots() {\n        const ret = [];\n        for (const node of this._nodes.values()) {\n            if (node.outgoing.size === 0) {\n                ret.push(node);\n            }\n        }\n        return ret;\n    }\n    insertEdge(from, to) {\n        const fromNode = this.lookupOrInsertNode(from);\n        const toNode = this.lookupOrInsertNode(to);\n        fromNode.outgoing.set(toNode.key, toNode);\n        toNode.incoming.set(fromNode.key, fromNode);\n    }\n    removeNode(data) {\n        const key = this._hashFn(data);\n        this._nodes.delete(key);\n        for (const node of this._nodes.values()) {\n            node.outgoing.delete(key);\n            node.incoming.delete(key);\n        }\n    }\n    lookupOrInsertNode(data) {\n        const key = this._hashFn(data);\n        let node = this._nodes.get(key);\n        if (!node) {\n            node = new Node(key, data);\n            this._nodes.set(key, node);\n        }\n        return node;\n    }\n    isEmpty() {\n        return this._nodes.size === 0;\n    }\n    toString() {\n        const data = [];\n        for (const [key, value] of this._nodes) {\n            data.push(`${key}\\n\\t(-> incoming)[${[...value.incoming.keys()].join(', ')}]\\n\\t(outgoing ->)[${[...value.outgoing.keys()].join(',')}]\\n`);\n        }\n        return data.join('\\n');\n    }\n    /**\n     * This is brute force and slow and **only** be used\n     * to trouble shoot.\n     */\n    findCycleSlow() {\n        for (const [id, node] of this._nodes) {\n            const seen = new Set([id]);\n            const res = this._findCycle(node, seen);\n            if (res) {\n                return res;\n            }\n        }\n        return undefined;\n    }\n    _findCycle(node, seen) {\n        for (const [id, outgoing] of node.outgoing) {\n            if (seen.has(id)) {\n                return [...seen, id].join(' -> ');\n            }\n            seen.add(id);\n            const value = this._findCycle(outgoing, seen);\n            if (value) {\n                return value;\n            }\n            seen.delete(id);\n        }\n        return undefined;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IdleValue } from '../../../base/common/async.js';\nimport { illegalState } from '../../../base/common/errors.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { SyncDescriptor } from './descriptors.js';\nimport { Graph } from './graph.js';\nimport { IInstantiationService, _util } from './instantiation.js';\nimport { ServiceCollection } from './serviceCollection.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\n// TRACING\nconst _enableAllTracing = false;\nclass CyclicDependencyError extends Error {\n    constructor(graph) {\n        var _a;\n        super('cyclic dependency between services');\n        this.message = (_a = graph.findCycleSlow()) !== null && _a !== void 0 ? _a : `UNABLE to detect cycle, dumping graph: \\n${graph.toString()}`;\n    }\n}\nexport class InstantiationService {\n    constructor(_services = new ServiceCollection(), _strict = false, _parent, _enableTracing = _enableAllTracing) {\n        var _a;\n        this._services = _services;\n        this._strict = _strict;\n        this._parent = _parent;\n        this._enableTracing = _enableTracing;\n        this._activeInstantiations = new Set();\n        this._services.set(IInstantiationService, this);\n        this._globalGraph = _enableTracing ? (_a = _parent === null || _parent === void 0 ? void 0 : _parent._globalGraph) !== null && _a !== void 0 ? _a : new Graph(e => e) : undefined;\n    }\n    createChild(services) {\n        return new InstantiationService(services, this._strict, this, this._enableTracing);\n    }\n    invokeFunction(fn, ...args) {\n        const _trace = Trace.traceInvocation(this._enableTracing, fn);\n        let _done = false;\n        try {\n            const accessor = {\n                get: (id) => {\n                    if (_done) {\n                        throw illegalState('service accessor is only valid during the invocation of its target method');\n                    }\n                    const result = this._getOrCreateServiceInstance(id, _trace);\n                    if (!result) {\n                        throw new Error(`[invokeFunction] unknown service '${id}'`);\n                    }\n                    return result;\n                }\n            };\n            return fn(accessor, ...args);\n        }\n        finally {\n            _done = true;\n            _trace.stop();\n        }\n    }\n    createInstance(ctorOrDescriptor, ...rest) {\n        let _trace;\n        let result;\n        if (ctorOrDescriptor instanceof SyncDescriptor) {\n            _trace = Trace.traceCreation(this._enableTracing, ctorOrDescriptor.ctor);\n            result = this._createInstance(ctorOrDescriptor.ctor, ctorOrDescriptor.staticArguments.concat(rest), _trace);\n        }\n        else {\n            _trace = Trace.traceCreation(this._enableTracing, ctorOrDescriptor);\n            result = this._createInstance(ctorOrDescriptor, rest, _trace);\n        }\n        _trace.stop();\n        return result;\n    }\n    _createInstance(ctor, args = [], _trace) {\n        // arguments defined by service decorators\n        const serviceDependencies = _util.getServiceDependencies(ctor).sort((a, b) => a.index - b.index);\n        const serviceArgs = [];\n        for (const dependency of serviceDependencies) {\n            const service = this._getOrCreateServiceInstance(dependency.id, _trace);\n            if (!service) {\n                this._throwIfStrict(`[createInstance] ${ctor.name} depends on UNKNOWN service ${dependency.id}.`, false);\n            }\n            serviceArgs.push(service);\n        }\n        const firstServiceArgPos = serviceDependencies.length > 0 ? serviceDependencies[0].index : args.length;\n        // check for argument mismatches, adjust static args if needed\n        if (args.length !== firstServiceArgPos) {\n            console.trace(`[createInstance] First service dependency of ${ctor.name} at position ${firstServiceArgPos + 1} conflicts with ${args.length} static arguments`);\n            const delta = firstServiceArgPos - args.length;\n            if (delta > 0) {\n                args = args.concat(new Array(delta));\n            }\n            else {\n                args = args.slice(0, firstServiceArgPos);\n            }\n        }\n        // now create the instance\n        return Reflect.construct(ctor, args.concat(serviceArgs));\n    }\n    _setServiceInstance(id, instance) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            this._services.set(id, instance);\n        }\n        else if (this._parent) {\n            this._parent._setServiceInstance(id, instance);\n        }\n        else {\n            throw new Error('illegalState - setting UNKNOWN service instance');\n        }\n    }\n    _getServiceInstanceOrDescriptor(id) {\n        const instanceOrDesc = this._services.get(id);\n        if (!instanceOrDesc && this._parent) {\n            return this._parent._getServiceInstanceOrDescriptor(id);\n        }\n        else {\n            return instanceOrDesc;\n        }\n    }\n    _getOrCreateServiceInstance(id, _trace) {\n        if (this._globalGraph && this._globalGraphImplicitDependency) {\n            this._globalGraph.insertEdge(this._globalGraphImplicitDependency, String(id));\n        }\n        const thing = this._getServiceInstanceOrDescriptor(id);\n        if (thing instanceof SyncDescriptor) {\n            return this._safeCreateAndCacheServiceInstance(id, thing, _trace.branch(id, true));\n        }\n        else {\n            _trace.branch(id, false);\n            return thing;\n        }\n    }\n    _safeCreateAndCacheServiceInstance(id, desc, _trace) {\n        if (this._activeInstantiations.has(id)) {\n            throw new Error(`illegal state - RECURSIVELY instantiating service '${id}'`);\n        }\n        this._activeInstantiations.add(id);\n        try {\n            return this._createAndCacheServiceInstance(id, desc, _trace);\n        }\n        finally {\n            this._activeInstantiations.delete(id);\n        }\n    }\n    _createAndCacheServiceInstance(id, desc, _trace) {\n        var _a;\n        const graph = new Graph(data => data.id.toString());\n        let cycleCount = 0;\n        const stack = [{ id, desc, _trace }];\n        while (stack.length) {\n            const item = stack.pop();\n            graph.lookupOrInsertNode(item);\n            // a weak but working heuristic for cycle checks\n            if (cycleCount++ > 1000) {\n                throw new CyclicDependencyError(graph);\n            }\n            // check all dependencies for existence and if they need to be created first\n            for (const dependency of _util.getServiceDependencies(item.desc.ctor)) {\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(dependency.id);\n                if (!instanceOrDesc) {\n                    this._throwIfStrict(`[createInstance] ${id} depends on ${dependency.id} which is NOT registered.`, true);\n                }\n                // take note of all service dependencies\n                (_a = this._globalGraph) === null || _a === void 0 ? void 0 : _a.insertEdge(String(item.id), String(dependency.id));\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    const d = { id: dependency.id, desc: instanceOrDesc, _trace: item._trace.branch(dependency.id, true) };\n                    graph.insertEdge(item, d);\n                    stack.push(d);\n                }\n            }\n        }\n        while (true) {\n            const roots = graph.roots();\n            // if there is no more roots but still\n            // nodes in the graph we have a cycle\n            if (roots.length === 0) {\n                if (!graph.isEmpty()) {\n                    throw new CyclicDependencyError(graph);\n                }\n                break;\n            }\n            for (const { data } of roots) {\n                // Repeat the check for this still being a service sync descriptor. That's because\n                // instantiating a dependency might have side-effect and recursively trigger instantiation\n                // so that some dependencies are now fullfilled already.\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(data.id);\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    // create instance and overwrite the service collections\n                    const instance = this._createServiceInstanceWithOwner(data.id, data.desc.ctor, data.desc.staticArguments, data.desc.supportsDelayedInstantiation, data._trace);\n                    this._setServiceInstance(data.id, instance);\n                }\n                graph.removeNode(data);\n            }\n        }\n        return this._getServiceInstanceOrDescriptor(id);\n    }\n    _createServiceInstanceWithOwner(id, ctor, args = [], supportsDelayedInstantiation, _trace) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            return this._createServiceInstance(id, ctor, args, supportsDelayedInstantiation, _trace);\n        }\n        else if (this._parent) {\n            return this._parent._createServiceInstanceWithOwner(id, ctor, args, supportsDelayedInstantiation, _trace);\n        }\n        else {\n            throw new Error(`illegalState - creating UNKNOWN service instance ${ctor.name}`);\n        }\n    }\n    _createServiceInstance(id, ctor, args = [], supportsDelayedInstantiation, _trace) {\n        if (!supportsDelayedInstantiation) {\n            // eager instantiation\n            return this._createInstance(ctor, args, _trace);\n        }\n        else {\n            const child = new InstantiationService(undefined, this._strict, this, this._enableTracing);\n            child._globalGraphImplicitDependency = String(id);\n            // Return a proxy object that's backed by an idle value. That\n            // strategy is to instantiate services in our idle time or when actually\n            // needed but not when injected into a consumer\n            // return \"empty events\" when the service isn't instantiated yet\n            const earlyListeners = new Map();\n            const idle = new IdleValue(() => {\n                const result = child._createInstance(ctor, args, _trace);\n                // early listeners that we kept are now being subscribed to\n                // the real service\n                for (const [key, values] of earlyListeners) {\n                    const candidate = result[key];\n                    if (typeof candidate === 'function') {\n                        for (const listener of values) {\n                            candidate.apply(result, listener);\n                        }\n                    }\n                }\n                earlyListeners.clear();\n                return result;\n            });\n            return new Proxy(Object.create(null), {\n                get(target, key) {\n                    if (!idle.isInitialized) {\n                        // looks like an event\n                        if (typeof key === 'string' && (key.startsWith('onDid') || key.startsWith('onWill'))) {\n                            let list = earlyListeners.get(key);\n                            if (!list) {\n                                list = new LinkedList();\n                                earlyListeners.set(key, list);\n                            }\n                            const event = (callback, thisArg, disposables) => {\n                                const rm = list.push([callback, thisArg, disposables]);\n                                return toDisposable(rm);\n                            };\n                            return event;\n                        }\n                    }\n                    // value already exists\n                    if (key in target) {\n                        return target[key];\n                    }\n                    // create value\n                    const obj = idle.value;\n                    let prop = obj[key];\n                    if (typeof prop !== 'function') {\n                        return prop;\n                    }\n                    prop = prop.bind(obj);\n                    target[key] = prop;\n                    return prop;\n                },\n                set(_target, p, value) {\n                    idle.value[p] = value;\n                    return true;\n                },\n                getPrototypeOf(_target) {\n                    return ctor.prototype;\n                }\n            });\n        }\n    }\n    _throwIfStrict(msg, printWarning) {\n        if (printWarning) {\n            console.warn(msg);\n        }\n        if (this._strict) {\n            throw new Error(msg);\n        }\n    }\n}\nexport class Trace {\n    static traceInvocation(_enableTracing, ctor) {\n        return !_enableTracing ? Trace._None : new Trace(2 /* TraceType.Invocation */, ctor.name || new Error().stack.split('\\n').slice(3, 4).join('\\n'));\n    }\n    static traceCreation(_enableTracing, ctor) {\n        return !_enableTracing ? Trace._None : new Trace(1 /* TraceType.Creation */, ctor.name);\n    }\n    constructor(type, name) {\n        this.type = type;\n        this.name = name;\n        this._start = Date.now();\n        this._dep = [];\n    }\n    branch(id, first) {\n        const child = new Trace(3 /* TraceType.Branch */, id.toString());\n        this._dep.push([id, first, child]);\n        return child;\n    }\n    stop() {\n        const dur = Date.now() - this._start;\n        Trace._totals += dur;\n        let causedCreation = false;\n        function printChild(n, trace) {\n            const res = [];\n            const prefix = new Array(n + 1).join('\\t');\n            for (const [id, first, child] of trace._dep) {\n                if (first && child) {\n                    causedCreation = true;\n                    res.push(`${prefix}CREATES -> ${id}`);\n                    const nested = printChild(n + 1, child);\n                    if (nested) {\n                        res.push(nested);\n                    }\n                }\n                else {\n                    res.push(`${prefix}uses -> ${id}`);\n                }\n            }\n            return res.join('\\n');\n        }\n        const lines = [\n            `${this.type === 1 /* TraceType.Creation */ ? 'CREATE' : 'CALL'} ${this.name}`,\n            `${printChild(1, this)}`,\n            `DONE, took ${dur.toFixed(2)}ms (grand total ${Trace._totals.toFixed(2)}ms)`\n        ];\n        if (dur > 2 || causedCreation) {\n            Trace.all.add(lines.join('\\n'));\n        }\n    }\n}\nTrace.all = new Set();\nTrace._None = new class extends Trace {\n    constructor() { super(0 /* TraceType.None */, null); }\n    stop() { }\n    branch() { return this; }\n};\nTrace._totals = 0;\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ServiceCollection {\n    constructor(...entries) {\n        this._entries = new Map();\n        for (const [id, service] of entries) {\n            this.set(id, service);\n        }\n    }\n    set(id, instanceOrDescriptor) {\n        const result = this._entries.get(id);\n        this._entries.set(id, instanceOrDescriptor);\n        return result;\n    }\n    get(id) {\n        return this._entries.get(id);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport * as platform from '../../registry/common/platform.js';\nexport const Extensions = {\n    JSONContribution: 'base.contributions.json'\n};\nfunction normalizeId(id) {\n    if (id.length > 0 && id.charAt(id.length - 1) === '#') {\n        return id.substring(0, id.length - 1);\n    }\n    return id;\n}\nclass JSONContributionRegistry {\n    constructor() {\n        this._onDidChangeSchema = new Emitter();\n        this.schemasById = {};\n    }\n    registerSchema(uri, unresolvedSchemaContent) {\n        this.schemasById[normalizeId(uri)] = unresolvedSchemaContent;\n        this._onDidChangeSchema.fire(uri);\n    }\n    notifySchemaChanged(uri) {\n        this._onDidChangeSchema.fire(uri);\n    }\n}\nconst jsonContributionRegistry = new JSONContributionRegistry();\nplatform.Registry.add(Extensions.JSONContribution, jsonContributionRegistry);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IntervalTimer, TimeoutTimer } from '../../../base/common/async.js';\nimport { illegalState } from '../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { IME } from '../../../base/common/ime.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport * as nls from '../../../nls.js';\nimport { NoMatchingKb } from './keybindingResolver.js';\nconst HIGH_FREQ_COMMANDS = /^(cursor|delete|undo|redo|tab|editor\\.action\\.clipboard)/;\nexport class AbstractKeybindingService extends Disposable {\n    get onDidUpdateKeybindings() {\n        return this._onDidUpdateKeybindings ? this._onDidUpdateKeybindings.event : Event.None; // Sinon stubbing walks properties on prototype\n    }\n    get inChordMode() {\n        return this._currentChords.length > 0;\n    }\n    constructor(_contextKeyService, _commandService, _telemetryService, _notificationService, _logService) {\n        super();\n        this._contextKeyService = _contextKeyService;\n        this._commandService = _commandService;\n        this._telemetryService = _telemetryService;\n        this._notificationService = _notificationService;\n        this._logService = _logService;\n        this._onDidUpdateKeybindings = this._register(new Emitter());\n        this._currentChords = [];\n        this._currentChordChecker = new IntervalTimer();\n        this._currentChordStatusMessage = null;\n        this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n        this._currentSingleModifier = null;\n        this._currentSingleModifierClearTimeout = new TimeoutTimer();\n        this._logging = false;\n    }\n    dispose() {\n        super.dispose();\n    }\n    _log(str) {\n        if (this._logging) {\n            this._logService.info(`[KeybindingService]: ${str}`);\n        }\n    }\n    getKeybindings() {\n        return this._getResolver().getKeybindings();\n    }\n    lookupKeybinding(commandId, context) {\n        const result = this._getResolver().lookupPrimaryKeybinding(commandId, context || this._contextKeyService);\n        if (!result) {\n            return undefined;\n        }\n        return result.resolvedKeybinding;\n    }\n    dispatchEvent(e, target) {\n        return this._dispatch(e, target);\n    }\n    // TODO@ulugbekna: update namings to align with `_doDispatch`\n    // TODO@ulugbekna: this fn doesn't seem to take into account single-modifier keybindings, eg `shift shift`\n    softDispatch(e, target) {\n        this._log(`/ Soft dispatching keyboard event`);\n        const keybinding = this.resolveKeyboardEvent(e);\n        if (keybinding.hasMultipleChords()) {\n            console.warn('keyboard event should not be mapped to multiple chords');\n            return NoMatchingKb;\n        }\n        const [firstChord,] = keybinding.getDispatchChords();\n        if (firstChord === null) {\n            // cannot be dispatched, probably only modifier keys\n            this._log(`\\\\ Keyboard event cannot be dispatched`);\n            return NoMatchingKb;\n        }\n        const contextValue = this._contextKeyService.getContext(target);\n        const currentChords = this._currentChords.map((({ keypress }) => keypress));\n        return this._getResolver().resolve(contextValue, currentChords, firstChord);\n    }\n    _scheduleLeaveChordMode() {\n        const chordLastInteractedTime = Date.now();\n        this._currentChordChecker.cancelAndSet(() => {\n            if (!this._documentHasFocus()) {\n                // Focus has been lost => leave chord mode\n                this._leaveChordMode();\n                return;\n            }\n            if (Date.now() - chordLastInteractedTime > 5000) {\n                // 5 seconds elapsed => leave chord mode\n                this._leaveChordMode();\n            }\n        }, 500);\n    }\n    _expectAnotherChord(firstChord, keypressLabel) {\n        this._currentChords.push({ keypress: firstChord, label: keypressLabel });\n        switch (this._currentChords.length) {\n            case 0:\n                throw illegalState('impossible');\n            case 1:\n                // TODO@ulugbekna: revise this message and the one below (at least, fix terminology)\n                this._currentChordStatusMessage = this._notificationService.status(nls.localize('first.chord', \"({0}) was pressed. Waiting for second key of chord...\", keypressLabel));\n                break;\n            default: {\n                const fullKeypressLabel = this._currentChords.map(({ label }) => label).join(', ');\n                this._currentChordStatusMessage = this._notificationService.status(nls.localize('next.chord', \"({0}) was pressed. Waiting for next key of chord...\", fullKeypressLabel));\n            }\n        }\n        this._scheduleLeaveChordMode();\n        if (IME.enabled) {\n            IME.disable();\n        }\n    }\n    _leaveChordMode() {\n        if (this._currentChordStatusMessage) {\n            this._currentChordStatusMessage.dispose();\n            this._currentChordStatusMessage = null;\n        }\n        this._currentChordChecker.cancel();\n        this._currentChords = [];\n        IME.enable();\n    }\n    _dispatch(e, target) {\n        return this._doDispatch(this.resolveKeyboardEvent(e), target, /*isSingleModiferChord*/ false);\n    }\n    _singleModifierDispatch(e, target) {\n        const keybinding = this.resolveKeyboardEvent(e);\n        const [singleModifier,] = keybinding.getSingleModifierDispatchChords();\n        if (singleModifier) {\n            if (this._ignoreSingleModifiers.has(singleModifier)) {\n                this._log(`+ Ignoring single modifier ${singleModifier} due to it being pressed together with other keys.`);\n                this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n                this._currentSingleModifierClearTimeout.cancel();\n                this._currentSingleModifier = null;\n                return false;\n            }\n            this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n            if (this._currentSingleModifier === null) {\n                // we have a valid `singleModifier`, store it for the next keyup, but clear it in 300ms\n                this._log(`+ Storing single modifier for possible chord ${singleModifier}.`);\n                this._currentSingleModifier = singleModifier;\n                this._currentSingleModifierClearTimeout.cancelAndSet(() => {\n                    this._log(`+ Clearing single modifier due to 300ms elapsed.`);\n                    this._currentSingleModifier = null;\n                }, 300);\n                return false;\n            }\n            if (singleModifier === this._currentSingleModifier) {\n                // bingo!\n                this._log(`/ Dispatching single modifier chord ${singleModifier} ${singleModifier}`);\n                this._currentSingleModifierClearTimeout.cancel();\n                this._currentSingleModifier = null;\n                return this._doDispatch(keybinding, target, /*isSingleModiferChord*/ true);\n            }\n            this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${singleModifier}`);\n            this._currentSingleModifierClearTimeout.cancel();\n            this._currentSingleModifier = null;\n            return false;\n        }\n        // When pressing a modifier and holding it pressed with any other modifier or key combination,\n        // the pressed modifiers should no longer be considered for single modifier dispatch.\n        const [firstChord,] = keybinding.getChords();\n        this._ignoreSingleModifiers = new KeybindingModifierSet(firstChord);\n        if (this._currentSingleModifier !== null) {\n            this._log(`+ Clearing single modifier due to other key up.`);\n        }\n        this._currentSingleModifierClearTimeout.cancel();\n        this._currentSingleModifier = null;\n        return false;\n    }\n    _doDispatch(userKeypress, target, isSingleModiferChord = false) {\n        var _a;\n        let shouldPreventDefault = false;\n        if (userKeypress.hasMultipleChords()) { // warn - because user can press a single chord at a time\n            console.warn('Unexpected keyboard event mapped to multiple chords');\n            return false;\n        }\n        let userPressedChord = null;\n        let currentChords = null;\n        if (isSingleModiferChord) {\n            // The keybinding is the second keypress of a single modifier chord, e.g. \"shift shift\".\n            // A single modifier can only occur when the same modifier is pressed in short sequence,\n            // hence we disregard `_currentChord` and use the same modifier instead.\n            const [dispatchKeyname,] = userKeypress.getSingleModifierDispatchChords();\n            userPressedChord = dispatchKeyname;\n            currentChords = dispatchKeyname ? [dispatchKeyname] : []; // TODO@ulugbekna: in the `else` case we assign an empty array - make sure `resolve` can handle an empty array well\n        }\n        else {\n            [userPressedChord,] = userKeypress.getDispatchChords();\n            currentChords = this._currentChords.map(({ keypress }) => keypress);\n        }\n        if (userPressedChord === null) {\n            this._log(`\\\\ Keyboard event cannot be dispatched in keydown phase.`);\n            // cannot be dispatched, probably only modifier keys\n            return shouldPreventDefault;\n        }\n        const contextValue = this._contextKeyService.getContext(target);\n        const keypressLabel = userKeypress.getLabel();\n        const resolveResult = this._getResolver().resolve(contextValue, currentChords, userPressedChord);\n        switch (resolveResult.kind) {\n            case 0 /* ResultKind.NoMatchingKb */: {\n                this._logService.trace('KeybindingService#dispatch', keypressLabel, `[ No matching keybinding ]`);\n                if (this.inChordMode) {\n                    const currentChordsLabel = this._currentChords.map(({ label }) => label).join(', ');\n                    this._log(`+ Leaving multi-chord mode: Nothing bound to \"${currentChordsLabel}, ${keypressLabel}\".`);\n                    this._notificationService.status(nls.localize('missing.chord', \"The key combination ({0}, {1}) is not a command.\", currentChordsLabel, keypressLabel), { hideAfter: 10 * 1000 /* 10s */ });\n                    this._leaveChordMode();\n                    shouldPreventDefault = true;\n                }\n                return shouldPreventDefault;\n            }\n            case 1 /* ResultKind.MoreChordsNeeded */: {\n                this._logService.trace('KeybindingService#dispatch', keypressLabel, `[ Several keybindings match - more chords needed ]`);\n                shouldPreventDefault = true;\n                this._expectAnotherChord(userPressedChord, keypressLabel);\n                this._log(this._currentChords.length === 1 ? `+ Entering multi-chord mode...` : `+ Continuing multi-chord mode...`);\n                return shouldPreventDefault;\n            }\n            case 2 /* ResultKind.KbFound */: {\n                this._logService.trace('KeybindingService#dispatch', keypressLabel, `[ Will dispatch command ${resolveResult.commandId} ]`);\n                if (resolveResult.commandId === null || resolveResult.commandId === '') {\n                    if (this.inChordMode) {\n                        const currentChordsLabel = this._currentChords.map(({ label }) => label).join(', ');\n                        this._log(`+ Leaving chord mode: Nothing bound to \"${currentChordsLabel}, ${keypressLabel}\".`);\n                        this._notificationService.status(nls.localize('missing.chord', \"The key combination ({0}, {1}) is not a command.\", currentChordsLabel, keypressLabel), { hideAfter: 10 * 1000 /* 10s */ });\n                        this._leaveChordMode();\n                        shouldPreventDefault = true;\n                    }\n                }\n                else {\n                    if (this.inChordMode) {\n                        this._leaveChordMode();\n                    }\n                    if (!resolveResult.isBubble) {\n                        shouldPreventDefault = true;\n                    }\n                    this._log(`+ Invoking command ${resolveResult.commandId}.`);\n                    if (typeof resolveResult.commandArgs === 'undefined') {\n                        this._commandService.executeCommand(resolveResult.commandId).then(undefined, err => this._notificationService.warn(err));\n                    }\n                    else {\n                        this._commandService.executeCommand(resolveResult.commandId, resolveResult.commandArgs).then(undefined, err => this._notificationService.warn(err));\n                    }\n                    if (!HIGH_FREQ_COMMANDS.test(resolveResult.commandId)) {\n                        this._telemetryService.publicLog2('workbenchActionExecuted', { id: resolveResult.commandId, from: 'keybinding', detail: (_a = userKeypress.getUserSettingsLabel()) !== null && _a !== void 0 ? _a : undefined });\n                    }\n                }\n                return shouldPreventDefault;\n            }\n        }\n    }\n    mightProducePrintableCharacter(event) {\n        if (event.ctrlKey || event.metaKey) {\n            // ignore ctrl/cmd-combination but not shift/alt-combinatios\n            return false;\n        }\n        // weak check for certain ranges. this is properly implemented in a subclass\n        // with access to the KeyboardMapperFactory.\n        if ((event.keyCode >= 31 /* KeyCode.KeyA */ && event.keyCode <= 56 /* KeyCode.KeyZ */)\n            || (event.keyCode >= 21 /* KeyCode.Digit0 */ && event.keyCode <= 30 /* KeyCode.Digit9 */)) {\n            return true;\n        }\n        return false;\n    }\n}\nclass KeybindingModifierSet {\n    constructor(source) {\n        this._ctrlKey = source ? source.ctrlKey : false;\n        this._shiftKey = source ? source.shiftKey : false;\n        this._altKey = source ? source.altKey : false;\n        this._metaKey = source ? source.metaKey : false;\n    }\n    has(modifier) {\n        switch (modifier) {\n            case 'ctrl': return this._ctrlKey;\n            case 'shift': return this._shiftKey;\n            case 'alt': return this._altKey;\n            case 'meta': return this._metaKey;\n        }\n    }\n}\nKeybindingModifierSet.EMPTY = new KeybindingModifierSet(null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IKeybindingService = createDecorator('keybindingService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { implies, expressionsAreEqualWithConstantSubstitution } from '../../contextkey/common/contextkey.js';\n// util definitions to make working with the above types easier within this module:\nexport const NoMatchingKb = { kind: 0 /* ResultKind.NoMatchingKb */ };\nconst MoreChordsNeeded = { kind: 1 /* ResultKind.MoreChordsNeeded */ };\nfunction KbFound(commandId, commandArgs, isBubble) {\n    return { kind: 2 /* ResultKind.KbFound */, commandId, commandArgs, isBubble };\n}\n//#endregion\n/**\n * Stores mappings from keybindings to commands and from commands to keybindings.\n * Given a sequence of chords, `resolve`s which keybinding it matches\n */\nexport class KeybindingResolver {\n    constructor(\n    /** built-in and extension-provided keybindings */\n    defaultKeybindings, \n    /** user's keybindings */\n    overrides, log) {\n        var _a;\n        this._log = log;\n        this._defaultKeybindings = defaultKeybindings;\n        this._defaultBoundCommands = new Map();\n        for (const defaultKeybinding of defaultKeybindings) {\n            const command = defaultKeybinding.command;\n            if (command && command.charAt(0) !== '-') {\n                this._defaultBoundCommands.set(command, true);\n            }\n        }\n        this._map = new Map();\n        this._lookupMap = new Map();\n        this._keybindings = KeybindingResolver.handleRemovals([].concat(defaultKeybindings).concat(overrides));\n        for (let i = 0, len = this._keybindings.length; i < len; i++) {\n            const k = this._keybindings[i];\n            if (k.chords.length === 0) {\n                // unbound\n                continue;\n            }\n            // substitute with constants that are registered after startup - https://github.com/microsoft/vscode/issues/174218#issuecomment-1437972127\n            const when = (_a = k.when) === null || _a === void 0 ? void 0 : _a.substituteConstants();\n            if (when && when.type === 0 /* ContextKeyExprType.False */) {\n                // when condition is false\n                continue;\n            }\n            this._addKeyPress(k.chords[0], k);\n        }\n    }\n    static _isTargetedForRemoval(defaultKb, keypress, when) {\n        if (keypress) {\n            for (let i = 0; i < keypress.length; i++) {\n                if (keypress[i] !== defaultKb.chords[i]) {\n                    return false;\n                }\n            }\n        }\n        // `true` means always, as does `undefined`\n        // so we will treat `true` === `undefined`\n        if (when && when.type !== 1 /* ContextKeyExprType.True */) {\n            if (!defaultKb.when) {\n                return false;\n            }\n            if (!expressionsAreEqualWithConstantSubstitution(when, defaultKb.when)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Looks for rules containing \"-commandId\" and removes them.\n     */\n    static handleRemovals(rules) {\n        // Do a first pass and construct a hash-map for removals\n        const removals = new Map();\n        for (let i = 0, len = rules.length; i < len; i++) {\n            const rule = rules[i];\n            if (rule.command && rule.command.charAt(0) === '-') {\n                const command = rule.command.substring(1);\n                if (!removals.has(command)) {\n                    removals.set(command, [rule]);\n                }\n                else {\n                    removals.get(command).push(rule);\n                }\n            }\n        }\n        if (removals.size === 0) {\n            // There are no removals\n            return rules;\n        }\n        // Do a second pass and keep only non-removed keybindings\n        const result = [];\n        for (let i = 0, len = rules.length; i < len; i++) {\n            const rule = rules[i];\n            if (!rule.command || rule.command.length === 0) {\n                result.push(rule);\n                continue;\n            }\n            if (rule.command.charAt(0) === '-') {\n                continue;\n            }\n            const commandRemovals = removals.get(rule.command);\n            if (!commandRemovals || !rule.isDefault) {\n                result.push(rule);\n                continue;\n            }\n            let isRemoved = false;\n            for (const commandRemoval of commandRemovals) {\n                const when = commandRemoval.when;\n                if (this._isTargetedForRemoval(rule, commandRemoval.chords, when)) {\n                    isRemoved = true;\n                    break;\n                }\n            }\n            if (!isRemoved) {\n                result.push(rule);\n                continue;\n            }\n        }\n        return result;\n    }\n    _addKeyPress(keypress, item) {\n        const conflicts = this._map.get(keypress);\n        if (typeof conflicts === 'undefined') {\n            // There is no conflict so far\n            this._map.set(keypress, [item]);\n            this._addToLookupMap(item);\n            return;\n        }\n        for (let i = conflicts.length - 1; i >= 0; i--) {\n            const conflict = conflicts[i];\n            if (conflict.command === item.command) {\n                continue;\n            }\n            // Test if the shorter keybinding is a prefix of the longer one.\n            // If the shorter keybinding is a prefix, it effectively will shadow the longer one and is considered a conflict.\n            let isShorterKbPrefix = true;\n            for (let i = 1; i < conflict.chords.length && i < item.chords.length; i++) {\n                if (conflict.chords[i] !== item.chords[i]) {\n                    // The ith step does not conflict\n                    isShorterKbPrefix = false;\n                    break;\n                }\n            }\n            if (!isShorterKbPrefix) {\n                continue;\n            }\n            if (KeybindingResolver.whenIsEntirelyIncluded(conflict.when, item.when)) {\n                // `item` completely overwrites `conflict`\n                // Remove conflict from the lookupMap\n                this._removeFromLookupMap(conflict);\n            }\n        }\n        conflicts.push(item);\n        this._addToLookupMap(item);\n    }\n    _addToLookupMap(item) {\n        if (!item.command) {\n            return;\n        }\n        let arr = this._lookupMap.get(item.command);\n        if (typeof arr === 'undefined') {\n            arr = [item];\n            this._lookupMap.set(item.command, arr);\n        }\n        else {\n            arr.push(item);\n        }\n    }\n    _removeFromLookupMap(item) {\n        if (!item.command) {\n            return;\n        }\n        const arr = this._lookupMap.get(item.command);\n        if (typeof arr === 'undefined') {\n            return;\n        }\n        for (let i = 0, len = arr.length; i < len; i++) {\n            if (arr[i] === item) {\n                arr.splice(i, 1);\n                return;\n            }\n        }\n    }\n    /**\n     * Returns true if it is provable `a` implies `b`.\n     */\n    static whenIsEntirelyIncluded(a, b) {\n        if (!b || b.type === 1 /* ContextKeyExprType.True */) {\n            return true;\n        }\n        if (!a || a.type === 1 /* ContextKeyExprType.True */) {\n            return false;\n        }\n        return implies(a, b);\n    }\n    getKeybindings() {\n        return this._keybindings;\n    }\n    lookupPrimaryKeybinding(commandId, context) {\n        const items = this._lookupMap.get(commandId);\n        if (typeof items === 'undefined' || items.length === 0) {\n            return null;\n        }\n        if (items.length === 1) {\n            return items[0];\n        }\n        for (let i = items.length - 1; i >= 0; i--) {\n            const item = items[i];\n            if (context.contextMatchesRules(item.when)) {\n                return item;\n            }\n        }\n        return items[items.length - 1];\n    }\n    /**\n     * Looks up a keybinding trigged as a result of pressing a sequence of chords - `[...currentChords, keypress]`\n     *\n     * Example: resolving 3 chords pressed sequentially - `cmd+k cmd+p cmd+i`:\n     * \t`currentChords = [ 'cmd+k' , 'cmd+p' ]` and `keypress = `cmd+i` - last pressed chord\n     */\n    resolve(context, currentChords, keypress) {\n        const pressedChords = [...currentChords, keypress];\n        this._log(`| Resolving ${pressedChords}`);\n        const kbCandidates = this._map.get(pressedChords[0]);\n        if (kbCandidates === undefined) {\n            // No bindings with such 0-th chord\n            this._log(`\\\\ No keybinding entries.`);\n            return NoMatchingKb;\n        }\n        let lookupMap = null;\n        if (pressedChords.length < 2) {\n            lookupMap = kbCandidates;\n        }\n        else {\n            // Fetch all chord bindings for `currentChords`\n            lookupMap = [];\n            for (let i = 0, len = kbCandidates.length; i < len; i++) {\n                const candidate = kbCandidates[i];\n                if (pressedChords.length > candidate.chords.length) { // # of pressed chords can't be less than # of chords in a keybinding to invoke\n                    continue;\n                }\n                let prefixMatches = true;\n                for (let i = 1; i < pressedChords.length; i++) {\n                    if (candidate.chords[i] !== pressedChords[i]) {\n                        prefixMatches = false;\n                        break;\n                    }\n                }\n                if (prefixMatches) {\n                    lookupMap.push(candidate);\n                }\n            }\n        }\n        // check there's a keybinding with a matching when clause\n        const result = this._findCommand(context, lookupMap);\n        if (!result) {\n            this._log(`\\\\ From ${lookupMap.length} keybinding entries, no when clauses matched the context.`);\n            return NoMatchingKb;\n        }\n        // check we got all chords necessary to be sure a particular keybinding needs to be invoked\n        if (pressedChords.length < result.chords.length) {\n            // The chord sequence is not complete\n            this._log(`\\\\ From ${lookupMap.length} keybinding entries, awaiting ${result.chords.length - pressedChords.length} more chord(s), when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`);\n            return MoreChordsNeeded;\n        }\n        this._log(`\\\\ From ${lookupMap.length} keybinding entries, matched ${result.command}, when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`);\n        return KbFound(result.command, result.commandArgs, result.bubble);\n    }\n    _findCommand(context, matches) {\n        for (let i = matches.length - 1; i >= 0; i--) {\n            const k = matches[i];\n            if (!KeybindingResolver._contextMatchesRules(context, k.when)) {\n                continue;\n            }\n            return k;\n        }\n        return null;\n    }\n    static _contextMatchesRules(context, rules) {\n        if (!rules) {\n            return true;\n        }\n        return rules.evaluate(context);\n    }\n}\nfunction printWhenExplanation(when) {\n    if (!when) {\n        return `no when condition`;\n    }\n    return `${when.serialize()}`;\n}\nfunction printSourceExplanation(kb) {\n    return (kb.extensionId\n        ? (kb.isBuiltinExtension ? `built-in extension ${kb.extensionId}` : `user extension ${kb.extensionId}`)\n        : (kb.isDefault ? `built-in` : `user`));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { decodeKeybinding } from '../../../base/common/keybindings.js';\nimport { OS } from '../../../base/common/platform.js';\nimport { CommandsRegistry } from '../../commands/common/commands.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { combinedDisposable, DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\n/**\n * Stores all built-in and extension-provided keybindings (but not ones that user defines themselves)\n */\nclass KeybindingsRegistryImpl {\n    constructor() {\n        this._coreKeybindings = new LinkedList();\n        this._extensionKeybindings = [];\n        this._cachedMergedKeybindings = null;\n    }\n    /**\n     * Take current platform into account and reduce to primary & secondary.\n     */\n    static bindToCurrentPlatform(kb) {\n        if (OS === 1 /* OperatingSystem.Windows */) {\n            if (kb && kb.win) {\n                return kb.win;\n            }\n        }\n        else if (OS === 2 /* OperatingSystem.Macintosh */) {\n            if (kb && kb.mac) {\n                return kb.mac;\n            }\n        }\n        else {\n            if (kb && kb.linux) {\n                return kb.linux;\n            }\n        }\n        return kb;\n    }\n    registerKeybindingRule(rule) {\n        const actualKb = KeybindingsRegistryImpl.bindToCurrentPlatform(rule);\n        const result = new DisposableStore();\n        if (actualKb && actualKb.primary) {\n            const kk = decodeKeybinding(actualKb.primary, OS);\n            if (kk) {\n                result.add(this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, 0, rule.when));\n            }\n        }\n        if (actualKb && Array.isArray(actualKb.secondary)) {\n            for (let i = 0, len = actualKb.secondary.length; i < len; i++) {\n                const k = actualKb.secondary[i];\n                const kk = decodeKeybinding(k, OS);\n                if (kk) {\n                    result.add(this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, -i - 1, rule.when));\n                }\n            }\n        }\n        return result;\n    }\n    registerCommandAndKeybindingRule(desc) {\n        return combinedDisposable(this.registerKeybindingRule(desc), CommandsRegistry.registerCommand(desc));\n    }\n    _registerDefaultKeybinding(keybinding, commandId, commandArgs, weight1, weight2, when) {\n        const remove = this._coreKeybindings.push({\n            keybinding: keybinding,\n            command: commandId,\n            commandArgs: commandArgs,\n            when: when,\n            weight1: weight1,\n            weight2: weight2,\n            extensionId: null,\n            isBuiltinExtension: false\n        });\n        this._cachedMergedKeybindings = null;\n        return toDisposable(() => {\n            remove();\n            this._cachedMergedKeybindings = null;\n        });\n    }\n    getDefaultKeybindings() {\n        if (!this._cachedMergedKeybindings) {\n            this._cachedMergedKeybindings = Array.from(this._coreKeybindings).concat(this._extensionKeybindings);\n            this._cachedMergedKeybindings.sort(sorter);\n        }\n        return this._cachedMergedKeybindings.slice(0);\n    }\n}\nexport const KeybindingsRegistry = new KeybindingsRegistryImpl();\n// Define extension point ids\nexport const Extensions = {\n    EditorModes: 'platform.keybindingsRegistry'\n};\nRegistry.add(Extensions.EditorModes, KeybindingsRegistry);\nfunction sorter(a, b) {\n    if (a.weight1 !== b.weight1) {\n        return a.weight1 - b.weight1;\n    }\n    if (a.command && b.command) {\n        if (a.command < b.command) {\n            return -1;\n        }\n        if (a.command > b.command) {\n            return 1;\n        }\n    }\n    return a.weight2 - b.weight2;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ResolvedKeybindingItem {\n    constructor(resolvedKeybinding, command, commandArgs, when, isDefault, extensionId, isBuiltinExtension) {\n        this._resolvedKeybindingItemBrand = undefined;\n        this.resolvedKeybinding = resolvedKeybinding;\n        this.chords = resolvedKeybinding ? toEmptyArrayIfContainsNull(resolvedKeybinding.getDispatchChords()) : [];\n        if (resolvedKeybinding && this.chords.length === 0) {\n            // handle possible single modifier chord keybindings\n            this.chords = toEmptyArrayIfContainsNull(resolvedKeybinding.getSingleModifierDispatchChords());\n        }\n        this.bubble = (command ? command.charCodeAt(0) === 94 /* CharCode.Caret */ : false);\n        this.command = this.bubble ? command.substr(1) : command;\n        this.commandArgs = commandArgs;\n        this.when = when;\n        this.isDefault = isDefault;\n        this.extensionId = extensionId;\n        this.isBuiltinExtension = isBuiltinExtension;\n    }\n}\nexport function toEmptyArrayIfContainsNull(arr) {\n    const result = [];\n    for (let i = 0, len = arr.length; i < len; i++) {\n        const element = arr[i];\n        if (!element) {\n            return [];\n        }\n        result.push(element);\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { illegalArgument } from '../../../base/common/errors.js';\nimport { AriaLabelProvider, ElectronAcceleratorLabelProvider, UILabelProvider, UserSettingsLabelProvider } from '../../../base/common/keybindingLabels.js';\nimport { ResolvedKeybinding, ResolvedChord } from '../../../base/common/keybindings.js';\nexport class BaseResolvedKeybinding extends ResolvedKeybinding {\n    constructor(os, chords) {\n        super();\n        if (chords.length === 0) {\n            throw illegalArgument(`chords`);\n        }\n        this._os = os;\n        this._chords = chords;\n    }\n    getLabel() {\n        return UILabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getLabel(keybinding));\n    }\n    getAriaLabel() {\n        return AriaLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getAriaLabel(keybinding));\n    }\n    getElectronAccelerator() {\n        if (this._chords.length > 1) {\n            // [Electron Accelerators] Electron cannot handle chords\n            return null;\n        }\n        if (this._chords[0].isDuplicateModifierCase()) {\n            // [Electron Accelerators] Electron cannot handle modifier only keybindings\n            // e.g. \"shift shift\"\n            return null;\n        }\n        return ElectronAcceleratorLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getElectronAccelerator(keybinding));\n    }\n    getUserSettingsLabel() {\n        return UserSettingsLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getUserSettingsLabel(keybinding));\n    }\n    hasMultipleChords() {\n        return (this._chords.length > 1);\n    }\n    getChords() {\n        return this._chords.map((keybinding) => this._getChord(keybinding));\n    }\n    _getChord(keybinding) {\n        return new ResolvedChord(keybinding.ctrlKey, keybinding.shiftKey, keybinding.altKey, keybinding.metaKey, this._getLabel(keybinding), this._getAriaLabel(keybinding));\n    }\n    getDispatchChords() {\n        return this._chords.map((keybinding) => this._getChordDispatch(keybinding));\n    }\n    getSingleModifierDispatchChords() {\n        return this._chords.map((keybinding) => this._getSingleModifierChordDispatch(keybinding));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { KeyCodeUtils, IMMUTABLE_CODE_TO_KEY_CODE } from '../../../base/common/keyCodes.js';\nimport { KeyCodeChord } from '../../../base/common/keybindings.js';\nimport { BaseResolvedKeybinding } from './baseResolvedKeybinding.js';\nimport { toEmptyArrayIfContainsNull } from './resolvedKeybindingItem.js';\n/**\n * Do not instantiate. Use KeybindingService to get a ResolvedKeybinding seeded with information about the current kb layout.\n */\nexport class USLayoutResolvedKeybinding extends BaseResolvedKeybinding {\n    constructor(chords, os) {\n        super(os, chords);\n    }\n    _keyCodeToUILabel(keyCode) {\n        if (this._os === 2 /* OperatingSystem.Macintosh */) {\n            switch (keyCode) {\n                case 15 /* KeyCode.LeftArrow */:\n                    return '←';\n                case 16 /* KeyCode.UpArrow */:\n                    return '↑';\n                case 17 /* KeyCode.RightArrow */:\n                    return '→';\n                case 18 /* KeyCode.DownArrow */:\n                    return '↓';\n            }\n        }\n        return KeyCodeUtils.toString(keyCode);\n    }\n    _getLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        return this._keyCodeToUILabel(chord.keyCode);\n    }\n    _getAriaLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        return KeyCodeUtils.toString(chord.keyCode);\n    }\n    _getElectronAccelerator(chord) {\n        return KeyCodeUtils.toElectronAccelerator(chord.keyCode);\n    }\n    _getUserSettingsLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        const result = KeyCodeUtils.toUserSettingsUS(chord.keyCode);\n        return (result ? result.toLowerCase() : result);\n    }\n    _getChordDispatch(chord) {\n        return USLayoutResolvedKeybinding.getDispatchStr(chord);\n    }\n    static getDispatchStr(chord) {\n        if (chord.isModifierKey()) {\n            return null;\n        }\n        let result = '';\n        if (chord.ctrlKey) {\n            result += 'ctrl+';\n        }\n        if (chord.shiftKey) {\n            result += 'shift+';\n        }\n        if (chord.altKey) {\n            result += 'alt+';\n        }\n        if (chord.metaKey) {\n            result += 'meta+';\n        }\n        result += KeyCodeUtils.toString(chord.keyCode);\n        return result;\n    }\n    _getSingleModifierChordDispatch(keybinding) {\n        if (keybinding.keyCode === 5 /* KeyCode.Ctrl */ && !keybinding.shiftKey && !keybinding.altKey && !keybinding.metaKey) {\n            return 'ctrl';\n        }\n        if (keybinding.keyCode === 4 /* KeyCode.Shift */ && !keybinding.ctrlKey && !keybinding.altKey && !keybinding.metaKey) {\n            return 'shift';\n        }\n        if (keybinding.keyCode === 6 /* KeyCode.Alt */ && !keybinding.ctrlKey && !keybinding.shiftKey && !keybinding.metaKey) {\n            return 'alt';\n        }\n        if (keybinding.keyCode === 57 /* KeyCode.Meta */ && !keybinding.ctrlKey && !keybinding.shiftKey && !keybinding.altKey) {\n            return 'meta';\n        }\n        return null;\n    }\n    /**\n     * *NOTE*: Check return value for `KeyCode.Unknown`.\n     */\n    static _scanCodeToKeyCode(scanCode) {\n        const immutableKeyCode = IMMUTABLE_CODE_TO_KEY_CODE[scanCode];\n        if (immutableKeyCode !== -1 /* KeyCode.DependsOnKbLayout */) {\n            return immutableKeyCode;\n        }\n        switch (scanCode) {\n            case 10 /* ScanCode.KeyA */: return 31 /* KeyCode.KeyA */;\n            case 11 /* ScanCode.KeyB */: return 32 /* KeyCode.KeyB */;\n            case 12 /* ScanCode.KeyC */: return 33 /* KeyCode.KeyC */;\n            case 13 /* ScanCode.KeyD */: return 34 /* KeyCode.KeyD */;\n            case 14 /* ScanCode.KeyE */: return 35 /* KeyCode.KeyE */;\n            case 15 /* ScanCode.KeyF */: return 36 /* KeyCode.KeyF */;\n            case 16 /* ScanCode.KeyG */: return 37 /* KeyCode.KeyG */;\n            case 17 /* ScanCode.KeyH */: return 38 /* KeyCode.KeyH */;\n            case 18 /* ScanCode.KeyI */: return 39 /* KeyCode.KeyI */;\n            case 19 /* ScanCode.KeyJ */: return 40 /* KeyCode.KeyJ */;\n            case 20 /* ScanCode.KeyK */: return 41 /* KeyCode.KeyK */;\n            case 21 /* ScanCode.KeyL */: return 42 /* KeyCode.KeyL */;\n            case 22 /* ScanCode.KeyM */: return 43 /* KeyCode.KeyM */;\n            case 23 /* ScanCode.KeyN */: return 44 /* KeyCode.KeyN */;\n            case 24 /* ScanCode.KeyO */: return 45 /* KeyCode.KeyO */;\n            case 25 /* ScanCode.KeyP */: return 46 /* KeyCode.KeyP */;\n            case 26 /* ScanCode.KeyQ */: return 47 /* KeyCode.KeyQ */;\n            case 27 /* ScanCode.KeyR */: return 48 /* KeyCode.KeyR */;\n            case 28 /* ScanCode.KeyS */: return 49 /* KeyCode.KeyS */;\n            case 29 /* ScanCode.KeyT */: return 50 /* KeyCode.KeyT */;\n            case 30 /* ScanCode.KeyU */: return 51 /* KeyCode.KeyU */;\n            case 31 /* ScanCode.KeyV */: return 52 /* KeyCode.KeyV */;\n            case 32 /* ScanCode.KeyW */: return 53 /* KeyCode.KeyW */;\n            case 33 /* ScanCode.KeyX */: return 54 /* KeyCode.KeyX */;\n            case 34 /* ScanCode.KeyY */: return 55 /* KeyCode.KeyY */;\n            case 35 /* ScanCode.KeyZ */: return 56 /* KeyCode.KeyZ */;\n            case 36 /* ScanCode.Digit1 */: return 22 /* KeyCode.Digit1 */;\n            case 37 /* ScanCode.Digit2 */: return 23 /* KeyCode.Digit2 */;\n            case 38 /* ScanCode.Digit3 */: return 24 /* KeyCode.Digit3 */;\n            case 39 /* ScanCode.Digit4 */: return 25 /* KeyCode.Digit4 */;\n            case 40 /* ScanCode.Digit5 */: return 26 /* KeyCode.Digit5 */;\n            case 41 /* ScanCode.Digit6 */: return 27 /* KeyCode.Digit6 */;\n            case 42 /* ScanCode.Digit7 */: return 28 /* KeyCode.Digit7 */;\n            case 43 /* ScanCode.Digit8 */: return 29 /* KeyCode.Digit8 */;\n            case 44 /* ScanCode.Digit9 */: return 30 /* KeyCode.Digit9 */;\n            case 45 /* ScanCode.Digit0 */: return 21 /* KeyCode.Digit0 */;\n            case 51 /* ScanCode.Minus */: return 88 /* KeyCode.Minus */;\n            case 52 /* ScanCode.Equal */: return 86 /* KeyCode.Equal */;\n            case 53 /* ScanCode.BracketLeft */: return 92 /* KeyCode.BracketLeft */;\n            case 54 /* ScanCode.BracketRight */: return 94 /* KeyCode.BracketRight */;\n            case 55 /* ScanCode.Backslash */: return 93 /* KeyCode.Backslash */;\n            case 56 /* ScanCode.IntlHash */: return 0 /* KeyCode.Unknown */; // missing\n            case 57 /* ScanCode.Semicolon */: return 85 /* KeyCode.Semicolon */;\n            case 58 /* ScanCode.Quote */: return 95 /* KeyCode.Quote */;\n            case 59 /* ScanCode.Backquote */: return 91 /* KeyCode.Backquote */;\n            case 60 /* ScanCode.Comma */: return 87 /* KeyCode.Comma */;\n            case 61 /* ScanCode.Period */: return 89 /* KeyCode.Period */;\n            case 62 /* ScanCode.Slash */: return 90 /* KeyCode.Slash */;\n            case 106 /* ScanCode.IntlBackslash */: return 97 /* KeyCode.IntlBackslash */;\n        }\n        return 0 /* KeyCode.Unknown */;\n    }\n    static _toKeyCodeChord(chord) {\n        if (!chord) {\n            return null;\n        }\n        if (chord instanceof KeyCodeChord) {\n            return chord;\n        }\n        const keyCode = this._scanCodeToKeyCode(chord.scanCode);\n        if (keyCode === 0 /* KeyCode.Unknown */) {\n            return null;\n        }\n        return new KeyCodeChord(chord.ctrlKey, chord.shiftKey, chord.altKey, chord.metaKey, keyCode);\n    }\n    static resolveKeybinding(keybinding, os) {\n        const chords = toEmptyArrayIfContainsNull(keybinding.chords.map(chord => this._toKeyCodeChord(chord)));\n        if (chords.length > 0) {\n            return [new USLayoutResolvedKeybinding(chords, os)];\n        }\n        return [];\n    }\n}\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILabelService = createDecorator('labelService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILayoutService = createDecorator('layoutService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { createStyleSheet } from '../../../base/browser/dom.js';\nimport { PagedList } from '../../../base/browser/ui/list/listPaging.js';\nimport { DefaultStyleController, isSelectionRangeChangeEvent, isSelectionSingleChangeEvent, List, TypeNavigationMode } from '../../../base/browser/ui/list/listWidget.js';\nimport { Table } from '../../../base/browser/ui/table/tableWidget.js';\nimport { TreeFindMode, TreeFindMatchType } from '../../../base/browser/ui/tree/abstractTree.js';\nimport { AsyncDataTree, CompressibleAsyncDataTree } from '../../../base/browser/ui/tree/asyncDataTree.js';\nimport { DataTree } from '../../../base/browser/ui/tree/dataTree.js';\nimport { CompressibleObjectTree, ObjectTree } from '../../../base/browser/ui/tree/objectTree.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { combinedDisposable, Disposable, DisposableStore, dispose, toDisposable } from '../../../base/common/lifecycle.js';\nimport { localize } from '../../../nls.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { Extensions as ConfigurationExtensions } from '../../configuration/common/configurationRegistry.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { InputFocusedContextKey } from '../../contextkey/common/contextkeys.js';\nimport { IContextViewService } from '../../contextview/browser/contextView.js';\nimport { createDecorator, IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { defaultFindWidgetStyles, defaultListStyles, getListStyles } from '../../theme/browser/defaultStyles.js';\nexport const IListService = createDecorator('listService');\nexport class ListService {\n    get lastFocusedList() {\n        return this._lastFocusedWidget;\n    }\n    constructor() {\n        this.disposables = new DisposableStore();\n        this.lists = [];\n        this._lastFocusedWidget = undefined;\n        this._hasCreatedStyleController = false;\n    }\n    setLastFocusedList(widget) {\n        var _a, _b;\n        if (widget === this._lastFocusedWidget) {\n            return;\n        }\n        (_a = this._lastFocusedWidget) === null || _a === void 0 ? void 0 : _a.getHTMLElement().classList.remove('last-focused');\n        this._lastFocusedWidget = widget;\n        (_b = this._lastFocusedWidget) === null || _b === void 0 ? void 0 : _b.getHTMLElement().classList.add('last-focused');\n    }\n    register(widget, extraContextKeys) {\n        if (!this._hasCreatedStyleController) {\n            this._hasCreatedStyleController = true;\n            // create a shared default tree style sheet for performance reasons\n            const styleController = new DefaultStyleController(createStyleSheet(), '');\n            styleController.style(defaultListStyles);\n        }\n        if (this.lists.some(l => l.widget === widget)) {\n            throw new Error('Cannot register the same widget multiple times');\n        }\n        // Keep in our lists list\n        const registeredList = { widget, extraContextKeys };\n        this.lists.push(registeredList);\n        // Check for currently being focused\n        if (widget.getHTMLElement() === document.activeElement) {\n            this.setLastFocusedList(widget);\n        }\n        return combinedDisposable(widget.onDidFocus(() => this.setLastFocusedList(widget)), toDisposable(() => this.lists.splice(this.lists.indexOf(registeredList), 1)), widget.onDidDispose(() => {\n            this.lists = this.lists.filter(l => l !== registeredList);\n            if (this._lastFocusedWidget === widget) {\n                this.setLastFocusedList(undefined);\n            }\n        }));\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport const RawWorkbenchListScrollAtBoundaryContextKey = new RawContextKey('listScrollAtBoundary', 'none');\nexport const WorkbenchListScrollAtTopContextKey = ContextKeyExpr.or(RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('top'), RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('both'));\nexport const WorkbenchListScrollAtBottomContextKey = ContextKeyExpr.or(RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('bottom'), RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('both'));\nexport const RawWorkbenchListFocusContextKey = new RawContextKey('listFocus', true);\nexport const WorkbenchListSupportsMultiSelectContextKey = new RawContextKey('listSupportsMultiselect', true);\nexport const WorkbenchListFocusContextKey = ContextKeyExpr.and(RawWorkbenchListFocusContextKey, ContextKeyExpr.not(InputFocusedContextKey));\nexport const WorkbenchListHasSelectionOrFocus = new RawContextKey('listHasSelectionOrFocus', false);\nexport const WorkbenchListDoubleSelection = new RawContextKey('listDoubleSelection', false);\nexport const WorkbenchListMultiSelection = new RawContextKey('listMultiSelection', false);\nexport const WorkbenchListSelectionNavigation = new RawContextKey('listSelectionNavigation', false);\nexport const WorkbenchListSupportsFind = new RawContextKey('listSupportsFind', true);\nexport const WorkbenchTreeElementCanCollapse = new RawContextKey('treeElementCanCollapse', false);\nexport const WorkbenchTreeElementHasParent = new RawContextKey('treeElementHasParent', false);\nexport const WorkbenchTreeElementCanExpand = new RawContextKey('treeElementCanExpand', false);\nexport const WorkbenchTreeElementHasChild = new RawContextKey('treeElementHasChild', false);\nexport const WorkbenchTreeFindOpen = new RawContextKey('treeFindOpen', false);\nconst WorkbenchListTypeNavigationModeKey = 'listTypeNavigationMode';\n/**\n * @deprecated in favor of WorkbenchListTypeNavigationModeKey\n */\nconst WorkbenchListAutomaticKeyboardNavigationLegacyKey = 'listAutomaticKeyboardNavigation';\nfunction createScopedContextKeyService(contextKeyService, widget) {\n    const result = contextKeyService.createScoped(widget.getHTMLElement());\n    RawWorkbenchListFocusContextKey.bindTo(result);\n    return result;\n}\nfunction createScrollObserver(contextKeyService, widget) {\n    const listScrollAt = RawWorkbenchListScrollAtBoundaryContextKey.bindTo(contextKeyService);\n    const update = () => {\n        const atTop = widget.scrollTop === 0;\n        // We need a threshold `1` since scrollHeight is rounded.\n        // https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#determine_if_an_element_has_been_totally_scrolled\n        const atBottom = widget.scrollHeight - widget.renderHeight - widget.scrollTop < 1;\n        if (atTop && atBottom) {\n            listScrollAt.set('both');\n        }\n        else if (atTop) {\n            listScrollAt.set('top');\n        }\n        else if (atBottom) {\n            listScrollAt.set('bottom');\n        }\n        else {\n            listScrollAt.set('none');\n        }\n    };\n    update();\n    return widget.onDidScroll(update);\n}\nconst multiSelectModifierSettingKey = 'workbench.list.multiSelectModifier';\nconst openModeSettingKey = 'workbench.list.openMode';\nconst horizontalScrollingKey = 'workbench.list.horizontalScrolling';\nconst defaultFindModeSettingKey = 'workbench.list.defaultFindMode';\nconst typeNavigationModeSettingKey = 'workbench.list.typeNavigationMode';\n/** @deprecated in favor of `workbench.list.defaultFindMode` and `workbench.list.typeNavigationMode` */\nconst keyboardNavigationSettingKey = 'workbench.list.keyboardNavigation';\nconst scrollByPageKey = 'workbench.list.scrollByPage';\nconst defaultFindMatchTypeSettingKey = 'workbench.list.defaultFindMatchType';\nconst treeIndentKey = 'workbench.tree.indent';\nconst treeRenderIndentGuidesKey = 'workbench.tree.renderIndentGuides';\nconst listSmoothScrolling = 'workbench.list.smoothScrolling';\nconst mouseWheelScrollSensitivityKey = 'workbench.list.mouseWheelScrollSensitivity';\nconst fastScrollSensitivityKey = 'workbench.list.fastScrollSensitivity';\nconst treeExpandMode = 'workbench.tree.expandMode';\nfunction useAltAsMultipleSelectionModifier(configurationService) {\n    return configurationService.getValue(multiSelectModifierSettingKey) === 'alt';\n}\nclass MultipleSelectionController extends Disposable {\n    constructor(configurationService) {\n        super();\n        this.configurationService = configurationService;\n        this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.registerListeners();\n    }\n    registerListeners() {\n        this._register(this.configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(this.configurationService);\n            }\n        }));\n    }\n    isSelectionSingleChangeEvent(event) {\n        if (this.useAltAsMultipleSelectionModifier) {\n            return event.browserEvent.altKey;\n        }\n        return isSelectionSingleChangeEvent(event);\n    }\n    isSelectionRangeChangeEvent(event) {\n        return isSelectionRangeChangeEvent(event);\n    }\n}\nfunction toWorkbenchListOptions(accessor, options) {\n    var _a;\n    const configurationService = accessor.get(IConfigurationService);\n    const keybindingService = accessor.get(IKeybindingService);\n    const disposables = new DisposableStore();\n    const result = Object.assign(Object.assign({}, options), { keyboardNavigationDelegate: { mightProducePrintableCharacter(e) { return keybindingService.mightProducePrintableCharacter(e); } }, smoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)), mouseWheelScrollSensitivity: configurationService.getValue(mouseWheelScrollSensitivityKey), fastScrollSensitivity: configurationService.getValue(fastScrollSensitivityKey), multipleSelectionController: (_a = options.multipleSelectionController) !== null && _a !== void 0 ? _a : disposables.add(new MultipleSelectionController(configurationService)), keyboardNavigationEventFilter: createKeyboardNavigationEventFilter(keybindingService), scrollByPage: Boolean(configurationService.getValue(scrollByPageKey)) });\n    return [result, disposables];\n}\nlet WorkbenchList = class WorkbenchList extends List {\n    constructor(user, container, delegate, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.disposables.add(createScrollObserver(this.contextKeyService, this));\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(this.onDidChangeSelection(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.listMultiSelection.set(selection.length > 1);\n                this.listDoubleSelection.set(selection.length === 2);\n            });\n        }));\n        this.disposables.add(this.onDidChangeFocus(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n        }));\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new ListResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n};\nWorkbenchList = __decorate([\n    __param(5, IContextKeyService),\n    __param(6, IListService),\n    __param(7, IConfigurationService),\n    __param(8, IInstantiationService)\n], WorkbenchList);\nexport { WorkbenchList };\nlet WorkbenchPagedList = class WorkbenchPagedList extends PagedList {\n    constructor(user, container, delegate, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables = new DisposableStore();\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.disposables.add(createScrollObserver(this.contextKeyService, this.widget));\n        this.horizontalScrolling = options.horizontalScrolling;\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new ListResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables.dispose();\n        super.dispose();\n    }\n};\nWorkbenchPagedList = __decorate([\n    __param(5, IContextKeyService),\n    __param(6, IListService),\n    __param(7, IConfigurationService),\n    __param(8, IInstantiationService)\n], WorkbenchPagedList);\nexport { WorkbenchPagedList };\nlet WorkbenchTable = class WorkbenchTable extends Table {\n    constructor(user, container, delegate, columns, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, columns, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.disposables.add(createScrollObserver(this.contextKeyService, this));\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(this.onDidChangeSelection(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.listMultiSelection.set(selection.length > 1);\n                this.listDoubleSelection.set(selection.length === 2);\n            });\n        }));\n        this.disposables.add(this.onDidChangeFocus(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n        }));\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new TableResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables.dispose();\n        super.dispose();\n    }\n};\nWorkbenchTable = __decorate([\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService),\n    __param(9, IInstantiationService)\n], WorkbenchTable);\nexport { WorkbenchTable };\nclass ResourceNavigator extends Disposable {\n    constructor(widget, options) {\n        var _a;\n        super();\n        this.widget = widget;\n        this._onDidOpen = this._register(new Emitter());\n        this.onDidOpen = this._onDidOpen.event;\n        this._register(Event.filter(this.widget.onDidChangeSelection, e => e.browserEvent instanceof KeyboardEvent)(e => this.onSelectionFromKeyboard(e)));\n        this._register(this.widget.onPointer((e) => this.onPointer(e.element, e.browserEvent)));\n        this._register(this.widget.onMouseDblClick((e) => this.onMouseDblClick(e.element, e.browserEvent)));\n        if (typeof (options === null || options === void 0 ? void 0 : options.openOnSingleClick) !== 'boolean' && (options === null || options === void 0 ? void 0 : options.configurationService)) {\n            this.openOnSingleClick = (options === null || options === void 0 ? void 0 : options.configurationService.getValue(openModeSettingKey)) !== 'doubleClick';\n            this._register(options === null || options === void 0 ? void 0 : options.configurationService.onDidChangeConfiguration(e => {\n                if (e.affectsConfiguration(openModeSettingKey)) {\n                    this.openOnSingleClick = (options === null || options === void 0 ? void 0 : options.configurationService.getValue(openModeSettingKey)) !== 'doubleClick';\n                }\n            }));\n        }\n        else {\n            this.openOnSingleClick = (_a = options === null || options === void 0 ? void 0 : options.openOnSingleClick) !== null && _a !== void 0 ? _a : true;\n        }\n    }\n    onSelectionFromKeyboard(event) {\n        if (event.elements.length !== 1) {\n            return;\n        }\n        const selectionKeyboardEvent = event.browserEvent;\n        const preserveFocus = typeof selectionKeyboardEvent.preserveFocus === 'boolean' ? selectionKeyboardEvent.preserveFocus : true;\n        const pinned = typeof selectionKeyboardEvent.pinned === 'boolean' ? selectionKeyboardEvent.pinned : !preserveFocus;\n        const sideBySide = false;\n        this._open(this.getSelectedElement(), preserveFocus, pinned, sideBySide, event.browserEvent);\n    }\n    onPointer(element, browserEvent) {\n        if (!this.openOnSingleClick) {\n            return;\n        }\n        const isDoubleClick = browserEvent.detail === 2;\n        if (isDoubleClick) {\n            return;\n        }\n        const isMiddleClick = browserEvent.button === 1;\n        const preserveFocus = true;\n        const pinned = isMiddleClick;\n        const sideBySide = browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey;\n        this._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n    }\n    onMouseDblClick(element, browserEvent) {\n        if (!browserEvent) {\n            return;\n        }\n        // copied from AbstractTree\n        const target = browserEvent.target;\n        const onTwistie = target.classList.contains('monaco-tl-twistie')\n            || (target.classList.contains('monaco-icon-label') && target.classList.contains('folder-icon') && browserEvent.offsetX < 16);\n        if (onTwistie) {\n            return;\n        }\n        const preserveFocus = false;\n        const pinned = true;\n        const sideBySide = (browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey);\n        this._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n    }\n    _open(element, preserveFocus, pinned, sideBySide, browserEvent) {\n        if (!element) {\n            return;\n        }\n        this._onDidOpen.fire({\n            editorOptions: {\n                preserveFocus,\n                pinned,\n                revealIfVisible: true\n            },\n            sideBySide,\n            element,\n            browserEvent\n        });\n    }\n}\nclass ListResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n        this.widget = widget;\n    }\n    getSelectedElement() {\n        return this.widget.getSelectedElements()[0];\n    }\n}\nclass TableResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n    }\n    getSelectedElement() {\n        return this.widget.getSelectedElements()[0];\n    }\n}\nclass TreeResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n    }\n    getSelectedElement() {\n        var _a;\n        return (_a = this.widget.getSelection()[0]) !== null && _a !== void 0 ? _a : undefined;\n    }\n}\nfunction createKeyboardNavigationEventFilter(keybindingService) {\n    let inMultiChord = false;\n    return event => {\n        if (event.toKeyCodeChord().isModifierKey()) {\n            return false;\n        }\n        if (inMultiChord) {\n            inMultiChord = false;\n            return false;\n        }\n        const result = keybindingService.softDispatch(event, event.target);\n        if (result.kind === 1 /* ResultKind.MoreChordsNeeded */) {\n            inMultiChord = true;\n            return false;\n        }\n        inMultiChord = false;\n        return result.kind === 0 /* ResultKind.NoMatchingKb */;\n    };\n}\nlet WorkbenchObjectTree = class WorkbenchObjectTree extends ObjectTree {\n    constructor(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchObjectTree = __decorate([\n    __param(5, IInstantiationService),\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService)\n], WorkbenchObjectTree);\nexport { WorkbenchObjectTree };\nlet WorkbenchCompressibleObjectTree = class WorkbenchCompressibleObjectTree extends CompressibleObjectTree {\n    constructor(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchCompressibleObjectTree = __decorate([\n    __param(5, IInstantiationService),\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService)\n], WorkbenchCompressibleObjectTree);\nexport { WorkbenchCompressibleObjectTree };\nlet WorkbenchDataTree = class WorkbenchDataTree extends DataTree {\n    constructor(user, container, delegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchDataTree = __decorate([\n    __param(6, IInstantiationService),\n    __param(7, IContextKeyService),\n    __param(8, IListService),\n    __param(9, IConfigurationService)\n], WorkbenchDataTree);\nexport { WorkbenchDataTree };\nlet WorkbenchAsyncDataTree = class WorkbenchAsyncDataTree extends AsyncDataTree {\n    get onDidOpen() { return this.internals.onDidOpen; }\n    constructor(user, container, delegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchAsyncDataTree = __decorate([\n    __param(6, IInstantiationService),\n    __param(7, IContextKeyService),\n    __param(8, IListService),\n    __param(9, IConfigurationService)\n], WorkbenchAsyncDataTree);\nexport { WorkbenchAsyncDataTree };\nlet WorkbenchCompressibleAsyncDataTree = class WorkbenchCompressibleAsyncDataTree extends CompressibleAsyncDataTree {\n    constructor(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchCompressibleAsyncDataTree = __decorate([\n    __param(7, IInstantiationService),\n    __param(8, IContextKeyService),\n    __param(9, IListService),\n    __param(10, IConfigurationService)\n], WorkbenchCompressibleAsyncDataTree);\nexport { WorkbenchCompressibleAsyncDataTree };\nfunction getDefaultTreeFindMode(configurationService) {\n    const value = configurationService.getValue(defaultFindModeSettingKey);\n    if (value === 'highlight') {\n        return TreeFindMode.Highlight;\n    }\n    else if (value === 'filter') {\n        return TreeFindMode.Filter;\n    }\n    const deprecatedValue = configurationService.getValue(keyboardNavigationSettingKey);\n    if (deprecatedValue === 'simple' || deprecatedValue === 'highlight') {\n        return TreeFindMode.Highlight;\n    }\n    else if (deprecatedValue === 'filter') {\n        return TreeFindMode.Filter;\n    }\n    return undefined;\n}\nfunction getDefaultTreeFindMatchType(configurationService) {\n    const value = configurationService.getValue(defaultFindMatchTypeSettingKey);\n    if (value === 'fuzzy') {\n        return TreeFindMatchType.Fuzzy;\n    }\n    else if (value === 'contiguous') {\n        return TreeFindMatchType.Contiguous;\n    }\n    return undefined;\n}\nfunction workbenchTreeDataPreamble(accessor, options) {\n    var _a;\n    const configurationService = accessor.get(IConfigurationService);\n    const contextViewService = accessor.get(IContextViewService);\n    const contextKeyService = accessor.get(IContextKeyService);\n    const instantiationService = accessor.get(IInstantiationService);\n    const getTypeNavigationMode = () => {\n        // give priority to the context key value to specify a value\n        const modeString = contextKeyService.getContextKeyValue(WorkbenchListTypeNavigationModeKey);\n        if (modeString === 'automatic') {\n            return TypeNavigationMode.Automatic;\n        }\n        else if (modeString === 'trigger') {\n            return TypeNavigationMode.Trigger;\n        }\n        // also check the deprecated context key to set the mode to 'trigger'\n        const modeBoolean = contextKeyService.getContextKeyValue(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n        if (modeBoolean === false) {\n            return TypeNavigationMode.Trigger;\n        }\n        // finally, check the setting\n        const configString = configurationService.getValue(typeNavigationModeSettingKey);\n        if (configString === 'automatic') {\n            return TypeNavigationMode.Automatic;\n        }\n        else if (configString === 'trigger') {\n            return TypeNavigationMode.Trigger;\n        }\n        return undefined;\n    };\n    const horizontalScrolling = options.horizontalScrolling !== undefined ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n    const [workbenchListOptions, disposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n    const paddingBottom = options.paddingBottom;\n    const renderIndentGuides = options.renderIndentGuides !== undefined ? options.renderIndentGuides : configurationService.getValue(treeRenderIndentGuidesKey);\n    return {\n        getTypeNavigationMode,\n        disposable,\n        options: Object.assign(Object.assign({ \n            // ...options, // TODO@Joao why is this not splatted here?\n            keyboardSupport: false }, workbenchListOptions), { indent: typeof configurationService.getValue(treeIndentKey) === 'number' ? configurationService.getValue(treeIndentKey) : undefined, renderIndentGuides, smoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)), defaultFindMode: getDefaultTreeFindMode(configurationService), defaultFindMatchType: getDefaultTreeFindMatchType(configurationService), horizontalScrolling, scrollByPage: Boolean(configurationService.getValue(scrollByPageKey)), paddingBottom: paddingBottom, hideTwistiesOfChildlessElements: options.hideTwistiesOfChildlessElements, expandOnlyOnTwistieClick: (_a = options.expandOnlyOnTwistieClick) !== null && _a !== void 0 ? _a : (configurationService.getValue(treeExpandMode) === 'doubleClick'), contextViewProvider: contextViewService, findWidgetStyles: defaultFindWidgetStyles })\n    };\n}\nlet WorkbenchTreeInternals = class WorkbenchTreeInternals {\n    get onDidOpen() { return this.navigator.onDidOpen; }\n    constructor(tree, options, getTypeNavigationMode, overrideStyles, contextKeyService, listService, configurationService) {\n        var _a;\n        this.tree = tree;\n        this.disposables = [];\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, tree);\n        this.disposables.push(createScrollObserver(this.contextKeyService, tree));\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listSupportFindWidget = WorkbenchListSupportsFind.bindTo(this.contextKeyService);\n        this.listSupportFindWidget.set((_a = options.findWidgetEnabled) !== null && _a !== void 0 ? _a : true);\n        this.hasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.hasDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.hasMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.treeElementCanCollapse = WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService);\n        this.treeElementHasParent = WorkbenchTreeElementHasParent.bindTo(this.contextKeyService);\n        this.treeElementCanExpand = WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService);\n        this.treeElementHasChild = WorkbenchTreeElementHasChild.bindTo(this.contextKeyService);\n        this.treeFindOpen = WorkbenchTreeFindOpen.bindTo(this.contextKeyService);\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.updateStyleOverrides(overrideStyles);\n        const updateCollapseContextKeys = () => {\n            const focus = tree.getFocus()[0];\n            if (!focus) {\n                return;\n            }\n            const node = tree.getNode(focus);\n            this.treeElementCanCollapse.set(node.collapsible && !node.collapsed);\n            this.treeElementHasParent.set(!!tree.getParentElement(focus));\n            this.treeElementCanExpand.set(node.collapsible && node.collapsed);\n            this.treeElementHasChild.set(!!tree.getFirstElementChild(focus));\n        };\n        const interestingContextKeys = new Set();\n        interestingContextKeys.add(WorkbenchListTypeNavigationModeKey);\n        interestingContextKeys.add(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n        this.disposables.push(this.contextKeyService, listService.register(tree), tree.onDidChangeSelection(() => {\n            const selection = tree.getSelection();\n            const focus = tree.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.hasMultiSelection.set(selection.length > 1);\n                this.hasDoubleSelection.set(selection.length === 2);\n            });\n        }), tree.onDidChangeFocus(() => {\n            const selection = tree.getSelection();\n            const focus = tree.getFocus();\n            this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n            updateCollapseContextKeys();\n        }), tree.onDidChangeCollapseState(updateCollapseContextKeys), tree.onDidChangeModel(updateCollapseContextKeys), tree.onDidChangeFindOpenState(enabled => this.treeFindOpen.set(enabled)), configurationService.onDidChangeConfiguration(e => {\n            let newOptions = {};\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            if (e.affectsConfiguration(treeIndentKey)) {\n                const indent = configurationService.getValue(treeIndentKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { indent });\n            }\n            if (e.affectsConfiguration(treeRenderIndentGuidesKey) && options.renderIndentGuides === undefined) {\n                const renderIndentGuides = configurationService.getValue(treeRenderIndentGuidesKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { renderIndentGuides });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                newOptions = Object.assign(Object.assign({}, newOptions), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(defaultFindModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n                const defaultFindMode = getDefaultTreeFindMode(configurationService);\n                newOptions = Object.assign(Object.assign({}, newOptions), { defaultFindMode });\n            }\n            if (e.affectsConfiguration(typeNavigationModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n                const typeNavigationMode = getTypeNavigationMode();\n                newOptions = Object.assign(Object.assign({}, newOptions), { typeNavigationMode });\n            }\n            if (e.affectsConfiguration(defaultFindMatchTypeSettingKey)) {\n                const defaultFindMatchType = getDefaultTreeFindMatchType(configurationService);\n                newOptions = Object.assign(Object.assign({}, newOptions), { defaultFindMatchType });\n            }\n            if (e.affectsConfiguration(horizontalScrollingKey) && options.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                newOptions = Object.assign(Object.assign({}, newOptions), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                newOptions = Object.assign(Object.assign({}, newOptions), { scrollByPage });\n            }\n            if (e.affectsConfiguration(treeExpandMode) && options.expandOnlyOnTwistieClick === undefined) {\n                newOptions = Object.assign(Object.assign({}, newOptions), { expandOnlyOnTwistieClick: configurationService.getValue(treeExpandMode) === 'doubleClick' });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { fastScrollSensitivity });\n            }\n            if (Object.keys(newOptions).length > 0) {\n                tree.updateOptions(newOptions);\n            }\n        }), this.contextKeyService.onDidChangeContext(e => {\n            if (e.affectsSome(interestingContextKeys)) {\n                tree.updateOptions({ typeNavigationMode: getTypeNavigationMode() });\n            }\n        }));\n        this.navigator = new TreeResourceNavigator(tree, Object.assign({ configurationService }, options));\n        this.disposables.push(this.navigator);\n    }\n    updateOptions(options) {\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyleOverrides(overrideStyles) {\n        this.tree.style(overrideStyles ? getListStyles(overrideStyles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables = dispose(this.disposables);\n    }\n};\nWorkbenchTreeInternals = __decorate([\n    __param(4, IContextKeyService),\n    __param(5, IListService),\n    __param(6, IConfigurationService)\n], WorkbenchTreeInternals);\nconst configurationRegistry = Registry.as(ConfigurationExtensions.Configuration);\nconfigurationRegistry.registerConfiguration({\n    id: 'workbench',\n    order: 7,\n    title: localize('workbenchConfigurationTitle', \"Workbench\"),\n    type: 'object',\n    properties: {\n        [multiSelectModifierSettingKey]: {\n            type: 'string',\n            enum: ['ctrlCmd', 'alt'],\n            markdownEnumDescriptions: [\n                localize('multiSelectModifier.ctrlCmd', \"Maps to `Control` on Windows and Linux and to `Command` on macOS.\"),\n                localize('multiSelectModifier.alt', \"Maps to `Alt` on Windows and Linux and to `Option` on macOS.\")\n            ],\n            default: 'ctrlCmd',\n            description: localize({\n                key: 'multiSelectModifier',\n                comment: [\n                    '- `ctrlCmd` refers to a value the setting can take and should not be localized.',\n                    '- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized.'\n                ]\n            }, \"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.\")\n        },\n        [openModeSettingKey]: {\n            type: 'string',\n            enum: ['singleClick', 'doubleClick'],\n            default: 'singleClick',\n            description: localize({\n                key: 'openModeModifier',\n                comment: ['`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized.']\n            }, \"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.\")\n        },\n        [horizontalScrollingKey]: {\n            type: 'boolean',\n            default: false,\n            description: localize('horizontalScrolling setting', \"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.\")\n        },\n        [scrollByPageKey]: {\n            type: 'boolean',\n            default: false,\n            description: localize('list.scrollByPage', \"Controls whether clicks in the scrollbar scroll page by page.\")\n        },\n        [treeIndentKey]: {\n            type: 'number',\n            default: 8,\n            minimum: 4,\n            maximum: 40,\n            description: localize('tree indent setting', \"Controls tree indentation in pixels.\")\n        },\n        [treeRenderIndentGuidesKey]: {\n            type: 'string',\n            enum: ['none', 'onHover', 'always'],\n            default: 'onHover',\n            description: localize('render tree indent guides', \"Controls whether the tree should render indent guides.\")\n        },\n        [listSmoothScrolling]: {\n            type: 'boolean',\n            default: false,\n            description: localize('list smoothScrolling setting', \"Controls whether lists and trees have smooth scrolling.\"),\n        },\n        [mouseWheelScrollSensitivityKey]: {\n            type: 'number',\n            default: 1,\n            markdownDescription: localize('Mouse Wheel Scroll Sensitivity', \"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.\")\n        },\n        [fastScrollSensitivityKey]: {\n            type: 'number',\n            default: 5,\n            markdownDescription: localize('Fast Scroll Sensitivity', \"Scrolling speed multiplier when pressing `Alt`.\")\n        },\n        [defaultFindModeSettingKey]: {\n            type: 'string',\n            enum: ['highlight', 'filter'],\n            enumDescriptions: [\n                localize('defaultFindModeSettingKey.highlight', \"Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements.\"),\n                localize('defaultFindModeSettingKey.filter', \"Filter elements when searching.\")\n            ],\n            default: 'highlight',\n            description: localize('defaultFindModeSettingKey', \"Controls the default find mode for lists and trees in the workbench.\")\n        },\n        [keyboardNavigationSettingKey]: {\n            type: 'string',\n            enum: ['simple', 'highlight', 'filter'],\n            enumDescriptions: [\n                localize('keyboardNavigationSettingKey.simple', \"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes.\"),\n                localize('keyboardNavigationSettingKey.highlight', \"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements.\"),\n                localize('keyboardNavigationSettingKey.filter', \"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.\")\n            ],\n            default: 'highlight',\n            description: localize('keyboardNavigationSettingKey', \"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.\"),\n            deprecated: true,\n            deprecationMessage: localize('keyboardNavigationSettingKeyDeprecated', \"Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.\")\n        },\n        [defaultFindMatchTypeSettingKey]: {\n            type: 'string',\n            enum: ['fuzzy', 'contiguous'],\n            enumDescriptions: [\n                localize('defaultFindMatchTypeSettingKey.fuzzy', \"Use fuzzy matching when searching.\"),\n                localize('defaultFindMatchTypeSettingKey.contiguous', \"Use contiguous matching when searching.\")\n            ],\n            default: 'fuzzy',\n            description: localize('defaultFindMatchTypeSettingKey', \"Controls the type of matching used when searching lists and trees in the workbench.\")\n        },\n        [treeExpandMode]: {\n            type: 'string',\n            enum: ['singleClick', 'doubleClick'],\n            default: 'singleClick',\n            description: localize('expand mode', \"Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.\"),\n        },\n        [typeNavigationModeSettingKey]: {\n            type: 'string',\n            enum: ['automatic', 'trigger'],\n            default: 'automatic',\n            markdownDescription: localize('typeNavigationMode2', \"Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.\"),\n        }\n    }\n});\n","import { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILogService = createDecorator('logService');\nexport var LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Off\"] = 0] = \"Off\";\n    LogLevel[LogLevel[\"Trace\"] = 1] = \"Trace\";\n    LogLevel[LogLevel[\"Debug\"] = 2] = \"Debug\";\n    LogLevel[LogLevel[\"Info\"] = 3] = \"Info\";\n    LogLevel[LogLevel[\"Warning\"] = 4] = \"Warning\";\n    LogLevel[LogLevel[\"Error\"] = 5] = \"Error\";\n})(LogLevel || (LogLevel = {}));\nexport const DEFAULT_LOG_LEVEL = LogLevel.Info;\nexport class AbstractLogger extends Disposable {\n    constructor() {\n        super(...arguments);\n        this.level = DEFAULT_LOG_LEVEL;\n        this._onDidChangeLogLevel = this._register(new Emitter());\n        this.onDidChangeLogLevel = this._onDidChangeLogLevel.event;\n    }\n    setLevel(level) {\n        if (this.level !== level) {\n            this.level = level;\n            this._onDidChangeLogLevel.fire(this.level);\n        }\n    }\n    getLevel() {\n        return this.level;\n    }\n    checkLogLevel(level) {\n        return this.level !== LogLevel.Off && this.level <= level;\n    }\n}\nexport class ConsoleLogger extends AbstractLogger {\n    constructor(logLevel = DEFAULT_LOG_LEVEL, useColors = true) {\n        super();\n        this.useColors = useColors;\n        this.setLevel(logLevel);\n    }\n    trace(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Trace)) {\n            if (this.useColors) {\n                console.log('%cTRACE', 'color: #888', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    debug(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Debug)) {\n            if (this.useColors) {\n                console.log('%cDEBUG', 'background: #eee; color: #888', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    info(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Info)) {\n            if (this.useColors) {\n                console.log('%c INFO', 'color: #33f', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    warn(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Warning)) {\n            if (this.useColors) {\n                console.log('%c WARN', 'color: #993', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    error(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Error)) {\n            if (this.useColors) {\n                console.log('%c  ERR', 'color: #f33', message, ...args);\n            }\n            else {\n                console.error(message, ...args);\n            }\n        }\n    }\n    dispose() {\n        // noop\n    }\n}\nexport class MultiplexLogger extends AbstractLogger {\n    constructor(loggers) {\n        super();\n        this.loggers = loggers;\n        if (loggers.length) {\n            this.setLevel(loggers[0].getLevel());\n        }\n    }\n    setLevel(level) {\n        for (const logger of this.loggers) {\n            logger.setLevel(level);\n        }\n        super.setLevel(level);\n    }\n    trace(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.trace(message, ...args);\n        }\n    }\n    debug(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.debug(message, ...args);\n        }\n    }\n    info(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.info(message, ...args);\n        }\n    }\n    warn(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.warn(message, ...args);\n        }\n    }\n    error(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.error(message, ...args);\n        }\n    }\n    dispose() {\n        for (const logger of this.loggers) {\n            logger.dispose();\n        }\n    }\n}\nexport function LogLevelToString(logLevel) {\n    switch (logLevel) {\n        case LogLevel.Trace: return 'trace';\n        case LogLevel.Debug: return 'debug';\n        case LogLevel.Info: return 'info';\n        case LogLevel.Warning: return 'warn';\n        case LogLevel.Error: return 'error';\n        case LogLevel.Off: return 'off';\n    }\n}\n// Contexts\nexport const CONTEXT_LOG_LEVEL = new RawContextKey('logLevel', LogLevelToString(LogLevel.Info));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { MultiplexLogger } from './log.js';\nexport class LogService extends Disposable {\n    constructor(primaryLogger, otherLoggers = []) {\n        super();\n        this.logger = new MultiplexLogger([primaryLogger, ...otherLoggers]);\n        this._register(primaryLogger.onDidChangeLogLevel(level => this.setLevel(level)));\n    }\n    get onDidChangeLogLevel() {\n        return this.logger.onDidChangeLogLevel;\n    }\n    setLevel(level) {\n        this.logger.setLevel(level);\n    }\n    getLevel() {\n        return this.logger.getLevel();\n    }\n    trace(message, ...args) {\n        this.logger.trace(message, ...args);\n    }\n    debug(message, ...args) {\n        this.logger.debug(message, ...args);\n    }\n    info(message, ...args) {\n        this.logger.info(message, ...args);\n    }\n    warn(message, ...args) {\n        this.logger.warn(message, ...args);\n    }\n    error(message, ...args) {\n        this.logger.error(message, ...args);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFalsyOrEmpty, isNonEmptyArray } from '../../../base/common/arrays.js';\nimport { DebounceEmitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { MarkerSeverity } from './markers.js';\nexport const unsupportedSchemas = new Set([Schemas.inMemory, Schemas.vscodeSourceControl, Schemas.walkThrough, Schemas.walkThroughSnippet]);\nclass DoubleResourceMap {\n    constructor() {\n        this._byResource = new ResourceMap();\n        this._byOwner = new Map();\n    }\n    set(resource, owner, value) {\n        let ownerMap = this._byResource.get(resource);\n        if (!ownerMap) {\n            ownerMap = new Map();\n            this._byResource.set(resource, ownerMap);\n        }\n        ownerMap.set(owner, value);\n        let resourceMap = this._byOwner.get(owner);\n        if (!resourceMap) {\n            resourceMap = new ResourceMap();\n            this._byOwner.set(owner, resourceMap);\n        }\n        resourceMap.set(resource, value);\n    }\n    get(resource, owner) {\n        const ownerMap = this._byResource.get(resource);\n        return ownerMap === null || ownerMap === void 0 ? void 0 : ownerMap.get(owner);\n    }\n    delete(resource, owner) {\n        let removedA = false;\n        let removedB = false;\n        const ownerMap = this._byResource.get(resource);\n        if (ownerMap) {\n            removedA = ownerMap.delete(owner);\n        }\n        const resourceMap = this._byOwner.get(owner);\n        if (resourceMap) {\n            removedB = resourceMap.delete(resource);\n        }\n        if (removedA !== removedB) {\n            throw new Error('illegal state');\n        }\n        return removedA && removedB;\n    }\n    values(key) {\n        var _a, _b, _c, _d;\n        if (typeof key === 'string') {\n            return (_b = (_a = this._byOwner.get(key)) === null || _a === void 0 ? void 0 : _a.values()) !== null && _b !== void 0 ? _b : Iterable.empty();\n        }\n        if (URI.isUri(key)) {\n            return (_d = (_c = this._byResource.get(key)) === null || _c === void 0 ? void 0 : _c.values()) !== null && _d !== void 0 ? _d : Iterable.empty();\n        }\n        return Iterable.map(Iterable.concat(...this._byOwner.values()), map => map[1]);\n    }\n}\nclass MarkerStats {\n    constructor(service) {\n        this.errors = 0;\n        this.infos = 0;\n        this.warnings = 0;\n        this.unknowns = 0;\n        this._data = new ResourceMap();\n        this._service = service;\n        this._subscription = service.onMarkerChanged(this._update, this);\n    }\n    dispose() {\n        this._subscription.dispose();\n    }\n    _update(resources) {\n        for (const resource of resources) {\n            const oldStats = this._data.get(resource);\n            if (oldStats) {\n                this._substract(oldStats);\n            }\n            const newStats = this._resourceStats(resource);\n            this._add(newStats);\n            this._data.set(resource, newStats);\n        }\n    }\n    _resourceStats(resource) {\n        const result = { errors: 0, warnings: 0, infos: 0, unknowns: 0 };\n        // TODO this is a hack\n        if (unsupportedSchemas.has(resource.scheme)) {\n            return result;\n        }\n        for (const { severity } of this._service.read({ resource })) {\n            if (severity === MarkerSeverity.Error) {\n                result.errors += 1;\n            }\n            else if (severity === MarkerSeverity.Warning) {\n                result.warnings += 1;\n            }\n            else if (severity === MarkerSeverity.Info) {\n                result.infos += 1;\n            }\n            else {\n                result.unknowns += 1;\n            }\n        }\n        return result;\n    }\n    _substract(op) {\n        this.errors -= op.errors;\n        this.warnings -= op.warnings;\n        this.infos -= op.infos;\n        this.unknowns -= op.unknowns;\n    }\n    _add(op) {\n        this.errors += op.errors;\n        this.warnings += op.warnings;\n        this.infos += op.infos;\n        this.unknowns += op.unknowns;\n    }\n}\nexport class MarkerService {\n    constructor() {\n        this._onMarkerChanged = new DebounceEmitter({\n            delay: 0,\n            merge: MarkerService._merge\n        });\n        this.onMarkerChanged = this._onMarkerChanged.event;\n        this._data = new DoubleResourceMap();\n        this._stats = new MarkerStats(this);\n    }\n    dispose() {\n        this._stats.dispose();\n        this._onMarkerChanged.dispose();\n    }\n    remove(owner, resources) {\n        for (const resource of resources || []) {\n            this.changeOne(owner, resource, []);\n        }\n    }\n    changeOne(owner, resource, markerData) {\n        if (isFalsyOrEmpty(markerData)) {\n            // remove marker for this (owner,resource)-tuple\n            const removed = this._data.delete(resource, owner);\n            if (removed) {\n                this._onMarkerChanged.fire([resource]);\n            }\n        }\n        else {\n            // insert marker for this (owner,resource)-tuple\n            const markers = [];\n            for (const data of markerData) {\n                const marker = MarkerService._toMarker(owner, resource, data);\n                if (marker) {\n                    markers.push(marker);\n                }\n            }\n            this._data.set(resource, owner, markers);\n            this._onMarkerChanged.fire([resource]);\n        }\n    }\n    static _toMarker(owner, resource, data) {\n        let { code, severity, message, source, startLineNumber, startColumn, endLineNumber, endColumn, relatedInformation, tags, } = data;\n        if (!message) {\n            return undefined;\n        }\n        // santize data\n        startLineNumber = startLineNumber > 0 ? startLineNumber : 1;\n        startColumn = startColumn > 0 ? startColumn : 1;\n        endLineNumber = endLineNumber >= startLineNumber ? endLineNumber : startLineNumber;\n        endColumn = endColumn > 0 ? endColumn : startColumn;\n        return {\n            resource,\n            owner,\n            code,\n            severity,\n            message,\n            source,\n            startLineNumber,\n            startColumn,\n            endLineNumber,\n            endColumn,\n            relatedInformation,\n            tags,\n        };\n    }\n    changeAll(owner, data) {\n        const changes = [];\n        // remove old marker\n        const existing = this._data.values(owner);\n        if (existing) {\n            for (const data of existing) {\n                const first = Iterable.first(data);\n                if (first) {\n                    changes.push(first.resource);\n                    this._data.delete(first.resource, owner);\n                }\n            }\n        }\n        // add new markers\n        if (isNonEmptyArray(data)) {\n            // group by resource\n            const groups = new ResourceMap();\n            for (const { resource, marker: markerData } of data) {\n                const marker = MarkerService._toMarker(owner, resource, markerData);\n                if (!marker) {\n                    // filter bad markers\n                    continue;\n                }\n                const array = groups.get(resource);\n                if (!array) {\n                    groups.set(resource, [marker]);\n                    changes.push(resource);\n                }\n                else {\n                    array.push(marker);\n                }\n            }\n            // insert all\n            for (const [resource, value] of groups) {\n                this._data.set(resource, owner, value);\n            }\n        }\n        if (changes.length > 0) {\n            this._onMarkerChanged.fire(changes);\n        }\n    }\n    read(filter = Object.create(null)) {\n        let { owner, resource, severities, take } = filter;\n        if (!take || take < 0) {\n            take = -1;\n        }\n        if (owner && resource) {\n            // exactly one owner AND resource\n            const data = this._data.get(resource, owner);\n            if (!data) {\n                return [];\n            }\n            else {\n                const result = [];\n                for (const marker of data) {\n                    if (MarkerService._accept(marker, severities)) {\n                        const newLen = result.push(marker);\n                        if (take > 0 && newLen === take) {\n                            break;\n                        }\n                    }\n                }\n                return result;\n            }\n        }\n        else if (!owner && !resource) {\n            // all\n            const result = [];\n            for (const markers of this._data.values()) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n        else {\n            // of one resource OR owner\n            const iterable = this._data.values(resource !== null && resource !== void 0 ? resource : owner);\n            const result = [];\n            for (const markers of iterable) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n    }\n    static _accept(marker, severities) {\n        return severities === undefined || (severities & marker.severity) === marker.severity;\n    }\n    // --- event debounce logic\n    static _merge(all) {\n        const set = new ResourceMap();\n        for (const array of all) {\n            for (const item of array) {\n                set.set(item, true);\n            }\n        }\n        return Array.from(set.keys());\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport Severity from '../../../base/common/severity.js';\nimport { localize } from '../../../nls.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var MarkerSeverity;\n(function (MarkerSeverity) {\n    MarkerSeverity[MarkerSeverity[\"Hint\"] = 1] = \"Hint\";\n    MarkerSeverity[MarkerSeverity[\"Info\"] = 2] = \"Info\";\n    MarkerSeverity[MarkerSeverity[\"Warning\"] = 4] = \"Warning\";\n    MarkerSeverity[MarkerSeverity[\"Error\"] = 8] = \"Error\";\n})(MarkerSeverity || (MarkerSeverity = {}));\n(function (MarkerSeverity) {\n    function compare(a, b) {\n        return b - a;\n    }\n    MarkerSeverity.compare = compare;\n    const _displayStrings = Object.create(null);\n    _displayStrings[MarkerSeverity.Error] = localize('sev.error', \"Error\");\n    _displayStrings[MarkerSeverity.Warning] = localize('sev.warning', \"Warning\");\n    _displayStrings[MarkerSeverity.Info] = localize('sev.info', \"Info\");\n    function toString(a) {\n        return _displayStrings[a] || '';\n    }\n    MarkerSeverity.toString = toString;\n    function fromSeverity(severity) {\n        switch (severity) {\n            case Severity.Error: return MarkerSeverity.Error;\n            case Severity.Warning: return MarkerSeverity.Warning;\n            case Severity.Info: return MarkerSeverity.Info;\n            case Severity.Ignore: return MarkerSeverity.Hint;\n        }\n    }\n    MarkerSeverity.fromSeverity = fromSeverity;\n    function toSeverity(severity) {\n        switch (severity) {\n            case MarkerSeverity.Error: return Severity.Error;\n            case MarkerSeverity.Warning: return Severity.Warning;\n            case MarkerSeverity.Info: return Severity.Info;\n            case MarkerSeverity.Hint: return Severity.Ignore;\n        }\n    }\n    MarkerSeverity.toSeverity = toSeverity;\n})(MarkerSeverity || (MarkerSeverity = {}));\nexport var IMarkerData;\n(function (IMarkerData) {\n    const emptyString = '';\n    function makeKey(markerData) {\n        return makeKeyOptionalMessage(markerData, true);\n    }\n    IMarkerData.makeKey = makeKey;\n    function makeKeyOptionalMessage(markerData, useMessage) {\n        const result = [emptyString];\n        if (markerData.source) {\n            result.push(markerData.source.replace('¦', '\\\\¦'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.code) {\n            if (typeof markerData.code === 'string') {\n                result.push(markerData.code.replace('¦', '\\\\¦'));\n            }\n            else {\n                result.push(markerData.code.value.replace('¦', '\\\\¦'));\n            }\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.severity !== undefined && markerData.severity !== null) {\n            result.push(MarkerSeverity.toString(markerData.severity));\n        }\n        else {\n            result.push(emptyString);\n        }\n        // Modifed to not include the message as part of the marker key to work around\n        // https://github.com/microsoft/vscode/issues/77475\n        if (markerData.message && useMessage) {\n            result.push(markerData.message.replace('¦', '\\\\¦'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startLineNumber !== undefined && markerData.startLineNumber !== null) {\n            result.push(markerData.startLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startColumn !== undefined && markerData.startColumn !== null) {\n            result.push(markerData.startColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endLineNumber !== undefined && markerData.endLineNumber !== null) {\n            result.push(markerData.endLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endColumn !== undefined && markerData.endColumn !== null) {\n            result.push(markerData.endColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        result.push(emptyString);\n        return result.join('¦');\n    }\n    IMarkerData.makeKeyOptionalMessage = makeKeyOptionalMessage;\n})(IMarkerData || (IMarkerData = {}));\nexport const IMarkerService = createDecorator('markerService');\n","import BaseSeverity from '../../../base/common/severity.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var Severity = BaseSeverity;\nexport const INotificationService = createDecorator('notificationService');\nexport class NoOpNotification {\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { $, append, EventHelper } from '../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../base/browser/event.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { EventType as TouchEventType, Gesture } from '../../../base/browser/touch.js';\nimport { Event } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { IOpenerService } from '../common/opener.js';\nimport './link.css';\nlet Link = class Link extends Disposable {\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(enabled) {\n        if (enabled) {\n            this.el.setAttribute('aria-disabled', 'false');\n            this.el.tabIndex = 0;\n            this.el.style.pointerEvents = 'auto';\n            this.el.style.opacity = '1';\n            this.el.style.cursor = 'pointer';\n            this._enabled = false;\n        }\n        else {\n            this.el.setAttribute('aria-disabled', 'true');\n            this.el.tabIndex = -1;\n            this.el.style.pointerEvents = 'none';\n            this.el.style.opacity = '0.4';\n            this.el.style.cursor = 'default';\n            this._enabled = true;\n        }\n        this._enabled = enabled;\n    }\n    constructor(container, _link, options = {}, openerService) {\n        var _a;\n        super();\n        this._link = _link;\n        this._enabled = true;\n        this.el = append(container, $('a.monaco-link', {\n            tabIndex: (_a = _link.tabIndex) !== null && _a !== void 0 ? _a : 0,\n            href: _link.href,\n            title: _link.title\n        }, _link.label));\n        this.el.setAttribute('role', 'button');\n        const onClickEmitter = this._register(new DomEmitter(this.el, 'click'));\n        const onKeyPress = this._register(new DomEmitter(this.el, 'keypress'));\n        const onEnterPress = Event.chain(onKeyPress.event, $ => $.map(e => new StandardKeyboardEvent(e))\n            .filter(e => e.keyCode === 3 /* KeyCode.Enter */));\n        const onTap = this._register(new DomEmitter(this.el, TouchEventType.Tap)).event;\n        this._register(Gesture.addTarget(this.el));\n        const onOpen = Event.any(onClickEmitter.event, onEnterPress, onTap);\n        this._register(onOpen(e => {\n            if (!this.enabled) {\n                return;\n            }\n            EventHelper.stop(e, true);\n            if (options === null || options === void 0 ? void 0 : options.opener) {\n                options.opener(this._link.href);\n            }\n            else {\n                openerService.open(this._link.href, { allowCommands: true });\n            }\n        }));\n        this.enabled = true;\n    }\n};\nLink = __decorate([\n    __param(3, IOpenerService)\n], Link);\nexport { Link };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { equalsIgnoreCase, startsWithIgnoreCase } from '../../../base/common/strings.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IOpenerService = createDecorator('openerService');\nexport function matchesScheme(target, scheme) {\n    if (URI.isUri(target)) {\n        return equalsIgnoreCase(target.scheme, scheme);\n    }\n    else {\n        return startsWithIgnoreCase(target, scheme + ':');\n    }\n}\nexport function matchesSomeScheme(target, ...schemes) {\n    return schemes.some(scheme => matchesScheme(target, scheme));\n}\n/**\n * file:///some/file.js#73\n * file:///some/file.js#L73\n * file:///some/file.js#73,84\n * file:///some/file.js#L73,84\n * file:///some/file.js#73-83\n * file:///some/file.js#L73-L83\n * file:///some/file.js#73,84-83,52\n * file:///some/file.js#L73,84-L83,52\n */\nexport function extractSelection(uri) {\n    let selection = undefined;\n    const match = /^L?(\\d+)(?:,(\\d+))?(-L?(\\d+)(?:,(\\d+))?)?/.exec(uri.fragment);\n    if (match) {\n        selection = {\n            startLineNumber: parseInt(match[1]),\n            startColumn: match[2] ? parseInt(match[2]) : 1,\n            endLineNumber: match[4] ? parseInt(match[4]) : undefined,\n            endColumn: match[4] ? (match[5] ? parseInt(match[5]) : 1) : undefined\n        };\n        uri = uri.with({ fragment: '' });\n    }\n    return { selection, uri };\n}\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IProgressService = createDecorator('progressService');\nexport const emptyProgressRunner = Object.freeze({\n    total() { },\n    worked() { },\n    done() { }\n});\nexport class Progress {\n    constructor(callback, opts) {\n        this.callback = callback;\n        this.report = (opts === null || opts === void 0 ? void 0 : opts.async)\n            ? this._reportAsync.bind(this)\n            : this._reportSync.bind(this);\n    }\n    _reportSync(item) {\n        this._value = item;\n        this.callback(this._value);\n    }\n    _reportAsync(item) {\n        Promise.resolve(this._lastTask).finally(() => {\n            this._value = item;\n            const r = this.callback(this._value);\n            this._lastTask = Promise.resolve(r).finally(() => this._lastTask = undefined);\n        });\n    }\n}\nProgress.None = Object.freeze({ report() { } });\nexport const IEditorProgressService = createDecorator('editorProgressService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { timeout } from '../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { Disposable, DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\nimport { isFunction } from '../../../base/common/types.js';\nexport var TriggerAction;\n(function (TriggerAction) {\n    /**\n     * Do nothing after the button was clicked.\n     */\n    TriggerAction[TriggerAction[\"NO_ACTION\"] = 0] = \"NO_ACTION\";\n    /**\n     * Close the picker.\n     */\n    TriggerAction[TriggerAction[\"CLOSE_PICKER\"] = 1] = \"CLOSE_PICKER\";\n    /**\n     * Update the results of the picker.\n     */\n    TriggerAction[TriggerAction[\"REFRESH_PICKER\"] = 2] = \"REFRESH_PICKER\";\n    /**\n     * Remove the item from the picker.\n     */\n    TriggerAction[TriggerAction[\"REMOVE_ITEM\"] = 3] = \"REMOVE_ITEM\";\n})(TriggerAction || (TriggerAction = {}));\nfunction isPicksWithActive(obj) {\n    const candidate = obj;\n    return Array.isArray(candidate.items);\n}\nfunction isFastAndSlowPicks(obj) {\n    const candidate = obj;\n    return !!candidate.picks && candidate.additionalPicks instanceof Promise;\n}\nexport class PickerQuickAccessProvider extends Disposable {\n    constructor(prefix, options) {\n        super();\n        this.prefix = prefix;\n        this.options = options;\n    }\n    provide(picker, token, runOptions) {\n        var _a;\n        const disposables = new DisposableStore();\n        // Apply options if any\n        picker.canAcceptInBackground = !!((_a = this.options) === null || _a === void 0 ? void 0 : _a.canAcceptInBackground);\n        // Disable filtering & sorting, we control the results\n        picker.matchOnLabel = picker.matchOnDescription = picker.matchOnDetail = picker.sortByLabel = false;\n        // Set initial picks and update on type\n        let picksCts = undefined;\n        const picksDisposable = disposables.add(new MutableDisposable());\n        const updatePickerItems = () => __awaiter(this, void 0, void 0, function* () {\n            const picksDisposables = picksDisposable.value = new DisposableStore();\n            // Cancel any previous ask for picks and busy\n            picksCts === null || picksCts === void 0 ? void 0 : picksCts.dispose(true);\n            picker.busy = false;\n            // Create new cancellation source for this run\n            picksCts = new CancellationTokenSource(token);\n            // Collect picks and support both long running and short or combined\n            const picksToken = picksCts.token;\n            const picksFilter = picker.value.substr(this.prefix.length).trim();\n            const providedPicks = this._getPicks(picksFilter, picksDisposables, picksToken, runOptions);\n            const applyPicks = (picks, skipEmpty) => {\n                var _a;\n                let items;\n                let activeItem = undefined;\n                if (isPicksWithActive(picks)) {\n                    items = picks.items;\n                    activeItem = picks.active;\n                }\n                else {\n                    items = picks;\n                }\n                if (items.length === 0) {\n                    if (skipEmpty) {\n                        return false;\n                    }\n                    // We show the no results pick if we have no input to prevent completely empty pickers #172613\n                    if ((picksFilter.length > 0 || picker.hideInput) && ((_a = this.options) === null || _a === void 0 ? void 0 : _a.noResultsPick)) {\n                        if (isFunction(this.options.noResultsPick)) {\n                            items = [this.options.noResultsPick(picksFilter)];\n                        }\n                        else {\n                            items = [this.options.noResultsPick];\n                        }\n                    }\n                }\n                picker.items = items;\n                if (activeItem) {\n                    picker.activeItems = [activeItem];\n                }\n                return true;\n            };\n            const applyFastAndSlowPicks = (fastAndSlowPicks) => __awaiter(this, void 0, void 0, function* () {\n                let fastPicksApplied = false;\n                let slowPicksApplied = false;\n                yield Promise.all([\n                    // Fast Picks: if `mergeDelay` is configured, in order to reduce\n                    // amount of flicker, we race against the slow picks over some delay\n                    // and then set the fast picks.\n                    // If the slow picks are faster, we reduce the flicker by only\n                    // setting the items once.\n                    (() => __awaiter(this, void 0, void 0, function* () {\n                        if (typeof fastAndSlowPicks.mergeDelay === 'number') {\n                            yield timeout(fastAndSlowPicks.mergeDelay);\n                            if (picksToken.isCancellationRequested) {\n                                return;\n                            }\n                        }\n                        if (!slowPicksApplied) {\n                            fastPicksApplied = applyPicks(fastAndSlowPicks.picks, true /* skip over empty to reduce flicker */);\n                        }\n                    }))(),\n                    // Slow Picks: we await the slow picks and then set them at\n                    // once together with the fast picks, but only if we actually\n                    // have additional results.\n                    (() => __awaiter(this, void 0, void 0, function* () {\n                        picker.busy = true;\n                        try {\n                            const awaitedAdditionalPicks = yield fastAndSlowPicks.additionalPicks;\n                            if (picksToken.isCancellationRequested) {\n                                return;\n                            }\n                            let picks;\n                            let activePick = undefined;\n                            if (isPicksWithActive(fastAndSlowPicks.picks)) {\n                                picks = fastAndSlowPicks.picks.items;\n                                activePick = fastAndSlowPicks.picks.active;\n                            }\n                            else {\n                                picks = fastAndSlowPicks.picks;\n                            }\n                            let additionalPicks;\n                            let additionalActivePick = undefined;\n                            if (isPicksWithActive(awaitedAdditionalPicks)) {\n                                additionalPicks = awaitedAdditionalPicks.items;\n                                additionalActivePick = awaitedAdditionalPicks.active;\n                            }\n                            else {\n                                additionalPicks = awaitedAdditionalPicks;\n                            }\n                            if (additionalPicks.length > 0 || !fastPicksApplied) {\n                                // If we do not have any activePick or additionalActivePick\n                                // we try to preserve the currently active pick from the\n                                // fast results. This fixes an issue where the user might\n                                // have made a pick active before the additional results\n                                // kick in.\n                                // See https://github.com/microsoft/vscode/issues/102480\n                                let fallbackActivePick = undefined;\n                                if (!activePick && !additionalActivePick) {\n                                    const fallbackActivePickCandidate = picker.activeItems[0];\n                                    if (fallbackActivePickCandidate && picks.indexOf(fallbackActivePickCandidate) !== -1) {\n                                        fallbackActivePick = fallbackActivePickCandidate;\n                                    }\n                                }\n                                applyPicks({\n                                    items: [...picks, ...additionalPicks],\n                                    active: activePick || additionalActivePick || fallbackActivePick\n                                });\n                            }\n                        }\n                        finally {\n                            if (!picksToken.isCancellationRequested) {\n                                picker.busy = false;\n                            }\n                            slowPicksApplied = true;\n                        }\n                    }))()\n                ]);\n            });\n            // No Picks\n            if (providedPicks === null) {\n                // Ignore\n            }\n            // Fast and Slow Picks\n            else if (isFastAndSlowPicks(providedPicks)) {\n                yield applyFastAndSlowPicks(providedPicks);\n            }\n            // Fast Picks\n            else if (!(providedPicks instanceof Promise)) {\n                applyPicks(providedPicks);\n            }\n            // Slow Picks\n            else {\n                picker.busy = true;\n                try {\n                    const awaitedPicks = yield providedPicks;\n                    if (picksToken.isCancellationRequested) {\n                        return;\n                    }\n                    if (isFastAndSlowPicks(awaitedPicks)) {\n                        yield applyFastAndSlowPicks(awaitedPicks);\n                    }\n                    else {\n                        applyPicks(awaitedPicks);\n                    }\n                }\n                finally {\n                    if (!picksToken.isCancellationRequested) {\n                        picker.busy = false;\n                    }\n                }\n            }\n        });\n        disposables.add(picker.onDidChangeValue(() => updatePickerItems()));\n        updatePickerItems();\n        // Accept the pick on accept and hide picker\n        disposables.add(picker.onDidAccept(event => {\n            const [item] = picker.selectedItems;\n            if (typeof (item === null || item === void 0 ? void 0 : item.accept) === 'function') {\n                if (!event.inBackground) {\n                    picker.hide(); // hide picker unless we accept in background\n                }\n                item.accept(picker.keyMods, event);\n            }\n        }));\n        // Trigger the pick with button index if button triggered\n        disposables.add(picker.onDidTriggerItemButton(({ button, item }) => __awaiter(this, void 0, void 0, function* () {\n            var _b, _c;\n            if (typeof item.trigger === 'function') {\n                const buttonIndex = (_c = (_b = item.buttons) === null || _b === void 0 ? void 0 : _b.indexOf(button)) !== null && _c !== void 0 ? _c : -1;\n                if (buttonIndex >= 0) {\n                    const result = item.trigger(buttonIndex, picker.keyMods);\n                    const action = (typeof result === 'number') ? result : yield result;\n                    if (token.isCancellationRequested) {\n                        return;\n                    }\n                    switch (action) {\n                        case TriggerAction.NO_ACTION:\n                            break;\n                        case TriggerAction.CLOSE_PICKER:\n                            picker.hide();\n                            break;\n                        case TriggerAction.REFRESH_PICKER:\n                            updatePickerItems();\n                            break;\n                        case TriggerAction.REMOVE_ITEM: {\n                            const index = picker.items.indexOf(item);\n                            if (index !== -1) {\n                                const items = picker.items.slice();\n                                const removed = items.splice(index, 1);\n                                const activeItems = picker.activeItems.filter(activeItem => activeItem !== removed[0]);\n                                const keepScrollPositionBefore = picker.keepScrollPosition;\n                                picker.keepScrollPosition = true;\n                                picker.items = items;\n                                if (activeItems) {\n                                    picker.activeItems = activeItems;\n                                }\n                                picker.keepScrollPosition = keepScrollPositionBefore;\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n        })));\n        return disposables;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar AbstractCommandsQuickAccessProvider_1, CommandsHistory_1;\nimport { toErrorMessage } from '../../../base/common/errorMessage.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { matchesContiguousSubString, matchesPrefix, matchesWords, or } from '../../../base/common/filters.js';\nimport { createSingleCallFunction } from '../../../base/common/functional.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { LRUCache } from '../../../base/common/map.js';\nimport { TfIdfCalculator, normalizeTfIdfScores } from '../../../base/common/tfIdf.js';\nimport { localize } from '../../../nls.js';\nimport { ICommandService } from '../../commands/common/commands.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IDialogService } from '../../dialogs/common/dialogs.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { PickerQuickAccessProvider } from './pickerQuickAccess.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\nlet AbstractCommandsQuickAccessProvider = AbstractCommandsQuickAccessProvider_1 = class AbstractCommandsQuickAccessProvider extends PickerQuickAccessProvider {\n    constructor(options, instantiationService, keybindingService, commandService, telemetryService, dialogService) {\n        super(AbstractCommandsQuickAccessProvider_1.PREFIX, options);\n        this.instantiationService = instantiationService;\n        this.keybindingService = keybindingService;\n        this.commandService = commandService;\n        this.telemetryService = telemetryService;\n        this.dialogService = dialogService;\n        this.commandsHistory = this._register(this.instantiationService.createInstance(CommandsHistory));\n        this.options = options;\n    }\n    _getPicks(filter, _disposables, token, runOptions) {\n        var _a, _b, _c, _d;\n        return __awaiter(this, void 0, void 0, function* () {\n            // Ask subclass for all command picks\n            const allCommandPicks = yield this.getCommandPicks(token);\n            if (token.isCancellationRequested) {\n                return [];\n            }\n            const runTfidf = createSingleCallFunction(() => {\n                const tfidf = new TfIdfCalculator();\n                tfidf.updateDocuments(allCommandPicks.map(commandPick => ({\n                    key: commandPick.commandId,\n                    textChunks: [commandPick.label + (commandPick.commandAlias ? ` ${commandPick.commandAlias}` : '')]\n                })));\n                const result = tfidf.calculateScores(filter, token);\n                return normalizeTfIdfScores(result)\n                    .filter(score => score.score > AbstractCommandsQuickAccessProvider_1.TFIDF_THRESHOLD)\n                    .slice(0, AbstractCommandsQuickAccessProvider_1.TFIDF_MAX_RESULTS);\n            });\n            // Filter\n            const filteredCommandPicks = [];\n            for (const commandPick of allCommandPicks) {\n                const labelHighlights = (_a = AbstractCommandsQuickAccessProvider_1.WORD_FILTER(filter, commandPick.label)) !== null && _a !== void 0 ? _a : undefined;\n                const aliasHighlights = commandPick.commandAlias ? (_b = AbstractCommandsQuickAccessProvider_1.WORD_FILTER(filter, commandPick.commandAlias)) !== null && _b !== void 0 ? _b : undefined : undefined;\n                // Add if matching in label or alias\n                if (labelHighlights || aliasHighlights) {\n                    commandPick.highlights = {\n                        label: labelHighlights,\n                        detail: this.options.showAlias ? aliasHighlights : undefined\n                    };\n                    filteredCommandPicks.push(commandPick);\n                }\n                // Also add if we have a 100% command ID match\n                else if (filter === commandPick.commandId) {\n                    filteredCommandPicks.push(commandPick);\n                }\n                // Handle tf-idf scoring for the rest if there's a filter\n                else if (filter.length >= 3) {\n                    const tfidf = runTfidf();\n                    if (token.isCancellationRequested) {\n                        return [];\n                    }\n                    // Add if we have a tf-idf score\n                    const tfidfScore = tfidf.find(score => score.key === commandPick.commandId);\n                    if (tfidfScore) {\n                        commandPick.tfIdfScore = tfidfScore.score;\n                        filteredCommandPicks.push(commandPick);\n                    }\n                }\n            }\n            // Add description to commands that have duplicate labels\n            const mapLabelToCommand = new Map();\n            for (const commandPick of filteredCommandPicks) {\n                const existingCommandForLabel = mapLabelToCommand.get(commandPick.label);\n                if (existingCommandForLabel) {\n                    commandPick.description = commandPick.commandId;\n                    existingCommandForLabel.description = existingCommandForLabel.commandId;\n                }\n                else {\n                    mapLabelToCommand.set(commandPick.label, commandPick);\n                }\n            }\n            // Sort by MRU order and fallback to name otherwise\n            filteredCommandPicks.sort((commandPickA, commandPickB) => {\n                // If a result came from tf-idf, we want to put that towards the bottom\n                if (commandPickA.tfIdfScore && commandPickB.tfIdfScore) {\n                    if (commandPickA.tfIdfScore === commandPickB.tfIdfScore) {\n                        return commandPickA.label.localeCompare(commandPickB.label); // prefer lexicographically smaller command\n                    }\n                    return commandPickB.tfIdfScore - commandPickA.tfIdfScore; // prefer higher tf-idf score\n                }\n                else if (commandPickA.tfIdfScore) {\n                    return 1; // first command has a score but other doesn't so other wins\n                }\n                else if (commandPickB.tfIdfScore) {\n                    return -1; // other command has a score but first doesn't so first wins\n                }\n                const commandACounter = this.commandsHistory.peek(commandPickA.commandId);\n                const commandBCounter = this.commandsHistory.peek(commandPickB.commandId);\n                if (commandACounter && commandBCounter) {\n                    return commandACounter > commandBCounter ? -1 : 1; // use more recently used command before older\n                }\n                if (commandACounter) {\n                    return -1; // first command was used, so it wins over the non used one\n                }\n                if (commandBCounter) {\n                    return 1; // other command was used so it wins over the command\n                }\n                if (this.options.suggestedCommandIds) {\n                    const commandASuggestion = this.options.suggestedCommandIds.has(commandPickA.commandId);\n                    const commandBSuggestion = this.options.suggestedCommandIds.has(commandPickB.commandId);\n                    if (commandASuggestion && commandBSuggestion) {\n                        return 0; // honor the order of the array\n                    }\n                    if (commandASuggestion) {\n                        return -1; // first command was suggested, so it wins over the non suggested one\n                    }\n                    if (commandBSuggestion) {\n                        return 1; // other command was suggested so it wins over the command\n                    }\n                }\n                // both commands were never used, so we sort by name\n                return commandPickA.label.localeCompare(commandPickB.label);\n            });\n            const commandPicks = [];\n            let addOtherSeparator = false;\n            let addSuggestedSeparator = true;\n            let addCommonlyUsedSeparator = !!this.options.suggestedCommandIds;\n            for (let i = 0; i < filteredCommandPicks.length; i++) {\n                const commandPick = filteredCommandPicks[i];\n                // Separator: recently used\n                if (i === 0 && this.commandsHistory.peek(commandPick.commandId)) {\n                    commandPicks.push({ type: 'separator', label: localize('recentlyUsed', \"recently used\") });\n                    addOtherSeparator = true;\n                }\n                if (addSuggestedSeparator && commandPick.tfIdfScore !== undefined) {\n                    commandPicks.push({ type: 'separator', label: localize('suggested', \"similar commands\") });\n                    addSuggestedSeparator = false;\n                }\n                // Separator: commonly used\n                if (addCommonlyUsedSeparator && commandPick.tfIdfScore === undefined && !this.commandsHistory.peek(commandPick.commandId) && ((_c = this.options.suggestedCommandIds) === null || _c === void 0 ? void 0 : _c.has(commandPick.commandId))) {\n                    commandPicks.push({ type: 'separator', label: localize('commonlyUsed', \"commonly used\") });\n                    addOtherSeparator = true;\n                    addCommonlyUsedSeparator = false;\n                }\n                // Separator: other commands\n                if (addOtherSeparator && commandPick.tfIdfScore === undefined && !this.commandsHistory.peek(commandPick.commandId) && !((_d = this.options.suggestedCommandIds) === null || _d === void 0 ? void 0 : _d.has(commandPick.commandId))) {\n                    commandPicks.push({ type: 'separator', label: localize('morecCommands', \"other commands\") });\n                    addOtherSeparator = false;\n                }\n                // Command\n                commandPicks.push(this.toCommandPick(commandPick, runOptions));\n            }\n            if (!this.hasAdditionalCommandPicks(filter, token)) {\n                return commandPicks;\n            }\n            return {\n                picks: commandPicks,\n                additionalPicks: (() => __awaiter(this, void 0, void 0, function* () {\n                    var _e;\n                    const additionalCommandPicks = yield this.getAdditionalCommandPicks(allCommandPicks, filteredCommandPicks, filter, token);\n                    if (token.isCancellationRequested) {\n                        return [];\n                    }\n                    const commandPicks = additionalCommandPicks.map(commandPick => this.toCommandPick(commandPick, runOptions));\n                    // Basically, if we haven't already added a separator, we add one before the additional picks so long\n                    // as one hasn't been added to the start of the array.\n                    if (addSuggestedSeparator && ((_e = commandPicks[0]) === null || _e === void 0 ? void 0 : _e.type) !== 'separator') {\n                        commandPicks.unshift({ type: 'separator', label: localize('suggested', \"similar commands\") });\n                    }\n                    return commandPicks;\n                }))()\n            };\n        });\n    }\n    toCommandPick(commandPick, runOptions) {\n        if (commandPick.type === 'separator') {\n            return commandPick;\n        }\n        const keybinding = this.keybindingService.lookupKeybinding(commandPick.commandId);\n        const ariaLabel = keybinding ?\n            localize('commandPickAriaLabelWithKeybinding', \"{0}, {1}\", commandPick.label, keybinding.getAriaLabel()) :\n            commandPick.label;\n        return Object.assign(Object.assign({}, commandPick), { ariaLabel, detail: this.options.showAlias && commandPick.commandAlias !== commandPick.label ? commandPick.commandAlias : undefined, keybinding, accept: () => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                // Add to history\n                this.commandsHistory.push(commandPick.commandId);\n                // Telementry\n                this.telemetryService.publicLog2('workbenchActionExecuted', {\n                    id: commandPick.commandId,\n                    from: (_a = runOptions === null || runOptions === void 0 ? void 0 : runOptions.from) !== null && _a !== void 0 ? _a : 'quick open'\n                });\n                // Run\n                try {\n                    ((_b = commandPick.args) === null || _b === void 0 ? void 0 : _b.length)\n                        ? yield this.commandService.executeCommand(commandPick.commandId, ...commandPick.args)\n                        : yield this.commandService.executeCommand(commandPick.commandId);\n                }\n                catch (error) {\n                    if (!isCancellationError(error)) {\n                        this.dialogService.error(localize('canNotRun', \"Command '{0}' resulted in an error\", commandPick.label), toErrorMessage(error));\n                    }\n                }\n            }) });\n    }\n};\nAbstractCommandsQuickAccessProvider.PREFIX = '>';\nAbstractCommandsQuickAccessProvider.TFIDF_THRESHOLD = 0.5;\nAbstractCommandsQuickAccessProvider.TFIDF_MAX_RESULTS = 5;\nAbstractCommandsQuickAccessProvider.WORD_FILTER = or(matchesPrefix, matchesWords, matchesContiguousSubString);\nAbstractCommandsQuickAccessProvider = AbstractCommandsQuickAccessProvider_1 = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IKeybindingService),\n    __param(3, ICommandService),\n    __param(4, ITelemetryService),\n    __param(5, IDialogService)\n], AbstractCommandsQuickAccessProvider);\nexport { AbstractCommandsQuickAccessProvider };\nlet CommandsHistory = CommandsHistory_1 = class CommandsHistory extends Disposable {\n    constructor(storageService, configurationService) {\n        super();\n        this.storageService = storageService;\n        this.configurationService = configurationService;\n        this.configuredCommandsHistoryLength = 0;\n        this.updateConfiguration();\n        this.load();\n        this.registerListeners();\n    }\n    registerListeners() {\n        this._register(this.configurationService.onDidChangeConfiguration(e => this.updateConfiguration(e)));\n    }\n    updateConfiguration(e) {\n        if (e && !e.affectsConfiguration('workbench.commandPalette.history')) {\n            return;\n        }\n        this.configuredCommandsHistoryLength = CommandsHistory_1.getConfiguredCommandHistoryLength(this.configurationService);\n        if (CommandsHistory_1.cache && CommandsHistory_1.cache.limit !== this.configuredCommandsHistoryLength) {\n            CommandsHistory_1.cache.limit = this.configuredCommandsHistoryLength;\n            CommandsHistory_1.saveState(this.storageService);\n        }\n    }\n    load() {\n        const raw = this.storageService.get(CommandsHistory_1.PREF_KEY_CACHE, 0 /* StorageScope.PROFILE */);\n        let serializedCache;\n        if (raw) {\n            try {\n                serializedCache = JSON.parse(raw);\n            }\n            catch (error) {\n                // invalid data\n            }\n        }\n        const cache = CommandsHistory_1.cache = new LRUCache(this.configuredCommandsHistoryLength, 1);\n        if (serializedCache) {\n            let entries;\n            if (serializedCache.usesLRU) {\n                entries = serializedCache.entries;\n            }\n            else {\n                entries = serializedCache.entries.sort((a, b) => a.value - b.value);\n            }\n            entries.forEach(entry => cache.set(entry.key, entry.value));\n        }\n        CommandsHistory_1.counter = this.storageService.getNumber(CommandsHistory_1.PREF_KEY_COUNTER, 0 /* StorageScope.PROFILE */, CommandsHistory_1.counter);\n    }\n    push(commandId) {\n        if (!CommandsHistory_1.cache) {\n            return;\n        }\n        CommandsHistory_1.cache.set(commandId, CommandsHistory_1.counter++); // set counter to command\n        CommandsHistory_1.saveState(this.storageService);\n    }\n    peek(commandId) {\n        var _a;\n        return (_a = CommandsHistory_1.cache) === null || _a === void 0 ? void 0 : _a.peek(commandId);\n    }\n    static saveState(storageService) {\n        if (!CommandsHistory_1.cache) {\n            return;\n        }\n        const serializedCache = { usesLRU: true, entries: [] };\n        CommandsHistory_1.cache.forEach((value, key) => serializedCache.entries.push({ key, value }));\n        storageService.store(CommandsHistory_1.PREF_KEY_CACHE, JSON.stringify(serializedCache), 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n        storageService.store(CommandsHistory_1.PREF_KEY_COUNTER, CommandsHistory_1.counter, 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n    }\n    static getConfiguredCommandHistoryLength(configurationService) {\n        var _a, _b;\n        const config = configurationService.getValue();\n        const configuredCommandHistoryLength = (_b = (_a = config.workbench) === null || _a === void 0 ? void 0 : _a.commandPalette) === null || _b === void 0 ? void 0 : _b.history;\n        if (typeof configuredCommandHistoryLength === 'number') {\n            return configuredCommandHistoryLength;\n        }\n        return CommandsHistory_1.DEFAULT_COMMANDS_HISTORY_LENGTH;\n    }\n};\nCommandsHistory.DEFAULT_COMMANDS_HISTORY_LENGTH = 50;\nCommandsHistory.PREF_KEY_CACHE = 'commandPalette.mru.cache';\nCommandsHistory.PREF_KEY_COUNTER = 'commandPalette.mru.counter';\nCommandsHistory.counter = 1;\nCommandsHistory = CommandsHistory_1 = __decorate([\n    __param(0, IStorageService),\n    __param(1, IConfigurationService)\n], CommandsHistory);\nexport { CommandsHistory };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar HelpQuickAccessProvider_1;\nimport { localize } from '../../../nls.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { Extensions } from '../common/quickAccess.js';\nimport { IQuickInputService } from '../common/quickInput.js';\nlet HelpQuickAccessProvider = HelpQuickAccessProvider_1 = class HelpQuickAccessProvider {\n    constructor(quickInputService, keybindingService) {\n        this.quickInputService = quickInputService;\n        this.keybindingService = keybindingService;\n        this.registry = Registry.as(Extensions.Quickaccess);\n    }\n    provide(picker) {\n        const disposables = new DisposableStore();\n        // Open a picker with the selected value if picked\n        disposables.add(picker.onDidAccept(() => {\n            const [item] = picker.selectedItems;\n            if (item) {\n                this.quickInputService.quickAccess.show(item.prefix, { preserveValue: true });\n            }\n        }));\n        // Also open a picker when we detect the user typed the exact\n        // name of a provider (e.g. `?term` for terminals)\n        disposables.add(picker.onDidChangeValue(value => {\n            const providerDescriptor = this.registry.getQuickAccessProvider(value.substr(HelpQuickAccessProvider_1.PREFIX.length));\n            if (providerDescriptor && providerDescriptor.prefix && providerDescriptor.prefix !== HelpQuickAccessProvider_1.PREFIX) {\n                this.quickInputService.quickAccess.show(providerDescriptor.prefix, { preserveValue: true });\n            }\n        }));\n        // Fill in all providers\n        picker.items = this.getQuickAccessProviders().filter(p => p.prefix !== HelpQuickAccessProvider_1.PREFIX);\n        return disposables;\n    }\n    getQuickAccessProviders() {\n        const providers = this.registry\n            .getQuickAccessProviders()\n            .sort((providerA, providerB) => providerA.prefix.localeCompare(providerB.prefix))\n            .flatMap(provider => this.createPicks(provider));\n        return providers;\n    }\n    createPicks(provider) {\n        return provider.helpEntries.map(helpEntry => {\n            const prefix = helpEntry.prefix || provider.prefix;\n            const label = prefix || '\\u2026' /* ... */;\n            return {\n                prefix,\n                label,\n                keybinding: helpEntry.commandId ? this.keybindingService.lookupKeybinding(helpEntry.commandId) : undefined,\n                ariaLabel: localize('helpPickAriaLabel', \"{0}, {1}\", label, helpEntry.description),\n                description: helpEntry.description\n            };\n        });\n    }\n};\nHelpQuickAccessProvider.PREFIX = '?';\nHelpQuickAccessProvider = HelpQuickAccessProvider_1 = __decorate([\n    __param(0, IQuickInputService),\n    __param(1, IKeybindingService)\n], HelpQuickAccessProvider);\nexport { HelpQuickAccessProvider };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { DeferredPromise } from '../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { Event } from '../../../base/common/event.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { DefaultQuickAccessFilterValue, Extensions } from '../common/quickAccess.js';\nimport { IQuickInputService, ItemActivation } from '../common/quickInput.js';\nimport { Registry } from '../../registry/common/platform.js';\nlet QuickAccessController = class QuickAccessController extends Disposable {\n    constructor(quickInputService, instantiationService) {\n        super();\n        this.quickInputService = quickInputService;\n        this.instantiationService = instantiationService;\n        this.registry = Registry.as(Extensions.Quickaccess);\n        this.mapProviderToDescriptor = new Map();\n        this.lastAcceptedPickerValues = new Map();\n        this.visibleQuickAccess = undefined;\n    }\n    show(value = '', options) {\n        this.doShowOrPick(value, false, options);\n    }\n    doShowOrPick(value, pick, options) {\n        var _a;\n        // Find provider for the value to show\n        const [provider, descriptor] = this.getOrInstantiateProvider(value);\n        // Return early if quick access is already showing on that same prefix\n        const visibleQuickAccess = this.visibleQuickAccess;\n        const visibleDescriptor = visibleQuickAccess === null || visibleQuickAccess === void 0 ? void 0 : visibleQuickAccess.descriptor;\n        if (visibleQuickAccess && descriptor && visibleDescriptor === descriptor) {\n            // Apply value only if it is more specific than the prefix\n            // from the provider and we are not instructed to preserve\n            if (value !== descriptor.prefix && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n                visibleQuickAccess.picker.value = value;\n            }\n            // Always adjust selection\n            this.adjustValueSelection(visibleQuickAccess.picker, descriptor, options);\n            return;\n        }\n        // Rewrite the filter value based on certain rules unless disabled\n        if (descriptor && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n            let newValue = undefined;\n            // If we have a visible provider with a value, take it's filter value but\n            // rewrite to new provider prefix in case they differ\n            if (visibleQuickAccess && visibleDescriptor && visibleDescriptor !== descriptor) {\n                const newValueCandidateWithoutPrefix = visibleQuickAccess.value.substr(visibleDescriptor.prefix.length);\n                if (newValueCandidateWithoutPrefix) {\n                    newValue = `${descriptor.prefix}${newValueCandidateWithoutPrefix}`;\n                }\n            }\n            // Otherwise, take a default value as instructed\n            if (!newValue) {\n                const defaultFilterValue = provider === null || provider === void 0 ? void 0 : provider.defaultFilterValue;\n                if (defaultFilterValue === DefaultQuickAccessFilterValue.LAST) {\n                    newValue = this.lastAcceptedPickerValues.get(descriptor);\n                }\n                else if (typeof defaultFilterValue === 'string') {\n                    newValue = `${descriptor.prefix}${defaultFilterValue}`;\n                }\n            }\n            if (typeof newValue === 'string') {\n                value = newValue;\n            }\n        }\n        // Create a picker for the provider to use with the initial value\n        // and adjust the filtering to exclude the prefix from filtering\n        const disposables = new DisposableStore();\n        const picker = disposables.add(this.quickInputService.createQuickPick());\n        picker.value = value;\n        this.adjustValueSelection(picker, descriptor, options);\n        picker.placeholder = descriptor === null || descriptor === void 0 ? void 0 : descriptor.placeholder;\n        picker.quickNavigate = options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration;\n        picker.hideInput = !!picker.quickNavigate && !visibleQuickAccess; // only hide input if there was no picker opened already\n        if (typeof (options === null || options === void 0 ? void 0 : options.itemActivation) === 'number' || (options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration)) {\n            picker.itemActivation = (_a = options === null || options === void 0 ? void 0 : options.itemActivation) !== null && _a !== void 0 ? _a : ItemActivation.SECOND /* quick nav is always second */;\n        }\n        picker.contextKey = descriptor === null || descriptor === void 0 ? void 0 : descriptor.contextKey;\n        picker.filterValue = (value) => value.substring(descriptor ? descriptor.prefix.length : 0);\n        // Pick mode: setup a promise that can be resolved\n        // with the selected items and prevent execution\n        let pickPromise = undefined;\n        if (pick) {\n            pickPromise = new DeferredPromise();\n            disposables.add(Event.once(picker.onWillAccept)(e => {\n                e.veto();\n                picker.hide();\n            }));\n        }\n        // Register listeners\n        disposables.add(this.registerPickerListeners(picker, provider, descriptor, value, options === null || options === void 0 ? void 0 : options.providerOptions));\n        // Ask provider to fill the picker as needed if we have one\n        // and pass over a cancellation token that will indicate when\n        // the picker is hiding without a pick being made.\n        const cts = disposables.add(new CancellationTokenSource());\n        if (provider) {\n            disposables.add(provider.provide(picker, cts.token, options === null || options === void 0 ? void 0 : options.providerOptions));\n        }\n        // Finally, trigger disposal and cancellation when the picker\n        // hides depending on items selected or not.\n        Event.once(picker.onDidHide)(() => {\n            if (picker.selectedItems.length === 0) {\n                cts.cancel();\n            }\n            // Start to dispose once picker hides\n            disposables.dispose();\n            // Resolve pick promise with selected items\n            pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.complete(picker.selectedItems.slice(0));\n        });\n        // Finally, show the picker. This is important because a provider\n        // may not call this and then our disposables would leak that rely\n        // on the onDidHide event.\n        picker.show();\n        // Pick mode: return with promise\n        if (pick) {\n            return pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.p;\n        }\n    }\n    adjustValueSelection(picker, descriptor, options) {\n        var _a;\n        let valueSelection;\n        // Preserve: just always put the cursor at the end\n        if (options === null || options === void 0 ? void 0 : options.preserveValue) {\n            valueSelection = [picker.value.length, picker.value.length];\n        }\n        // Otherwise: select the value up until the prefix\n        else {\n            valueSelection = [(_a = descriptor === null || descriptor === void 0 ? void 0 : descriptor.prefix.length) !== null && _a !== void 0 ? _a : 0, picker.value.length];\n        }\n        picker.valueSelection = valueSelection;\n    }\n    registerPickerListeners(picker, provider, descriptor, value, providerOptions) {\n        const disposables = new DisposableStore();\n        // Remember as last visible picker and clean up once picker get's disposed\n        const visibleQuickAccess = this.visibleQuickAccess = { picker, descriptor, value };\n        disposables.add(toDisposable(() => {\n            if (visibleQuickAccess === this.visibleQuickAccess) {\n                this.visibleQuickAccess = undefined;\n            }\n        }));\n        // Whenever the value changes, check if the provider has\n        // changed and if so - re-create the picker from the beginning\n        disposables.add(picker.onDidChangeValue(value => {\n            const [providerForValue] = this.getOrInstantiateProvider(value);\n            if (providerForValue !== provider) {\n                this.show(value, {\n                    // do not rewrite value from user typing!\n                    preserveValue: true,\n                    // persist the value of the providerOptions from the original showing\n                    providerOptions\n                });\n            }\n            else {\n                visibleQuickAccess.value = value; // remember the value in our visible one\n            }\n        }));\n        // Remember picker input for future use when accepting\n        if (descriptor) {\n            disposables.add(picker.onDidAccept(() => {\n                this.lastAcceptedPickerValues.set(descriptor, picker.value);\n            }));\n        }\n        return disposables;\n    }\n    getOrInstantiateProvider(value) {\n        const providerDescriptor = this.registry.getQuickAccessProvider(value);\n        if (!providerDescriptor) {\n            return [undefined, undefined];\n        }\n        let provider = this.mapProviderToDescriptor.get(providerDescriptor);\n        if (!provider) {\n            provider = this.instantiationService.createInstance(providerDescriptor.ctor);\n            this.mapProviderToDescriptor.set(providerDescriptor, provider);\n        }\n        return [provider, providerDescriptor];\n    }\n};\nQuickAccessController = __decorate([\n    __param(0, IQuickInputService),\n    __param(1, IInstantiationService)\n], QuickAccessController);\nexport { QuickAccessController };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { StandardMouseEvent } from '../../../base/browser/mouseEvent.js';\nimport { FindInput } from '../../../base/browser/ui/findinput/findInput.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport Severity from '../../../base/common/severity.js';\nimport './media/quickInput.css';\nconst $ = dom.$;\nexport class QuickInputBox extends Disposable {\n    constructor(parent, inputBoxStyles, toggleStyles) {\n        super();\n        this.parent = parent;\n        this.onKeyDown = (handler) => {\n            return dom.addDisposableListener(this.findInput.inputBox.inputElement, dom.EventType.KEY_DOWN, (e) => {\n                handler(new StandardKeyboardEvent(e));\n            });\n        };\n        this.onMouseDown = (handler) => {\n            return dom.addDisposableListener(this.findInput.inputBox.inputElement, dom.EventType.MOUSE_DOWN, (e) => {\n                handler(new StandardMouseEvent(e));\n            });\n        };\n        this.onDidChange = (handler) => {\n            return this.findInput.onDidChange(handler);\n        };\n        this.container = dom.append(this.parent, $('.quick-input-box'));\n        this.findInput = this._register(new FindInput(this.container, undefined, { label: '', inputBoxStyles, toggleStyles }));\n        const input = this.findInput.inputBox.inputElement;\n        input.role = 'combobox';\n        input.ariaHasPopup = 'menu';\n        input.ariaAutoComplete = 'list';\n        input.ariaExpanded = 'true';\n    }\n    get value() {\n        return this.findInput.getValue();\n    }\n    set value(value) {\n        this.findInput.setValue(value);\n    }\n    select(range = null) {\n        this.findInput.inputBox.select(range);\n    }\n    isSelectionAtEnd() {\n        return this.findInput.inputBox.isSelectionAtEnd();\n    }\n    get placeholder() {\n        return this.findInput.inputBox.inputElement.getAttribute('placeholder') || '';\n    }\n    set placeholder(placeholder) {\n        this.findInput.inputBox.setPlaceHolder(placeholder);\n    }\n    get password() {\n        return this.findInput.inputBox.inputElement.type === 'password';\n    }\n    set password(password) {\n        this.findInput.inputBox.inputElement.type = password ? 'password' : 'text';\n    }\n    set enabled(enabled) {\n        // We can't disable the input box because it is still used for\n        // navigating the list. Instead, we disable the list and the OK\n        // so that nothing can be selected.\n        // TODO: should this be what we do for all find inputs? Or maybe some _other_ API\n        // on findInput to change it to readonly?\n        this.findInput.inputBox.inputElement.toggleAttribute('readonly', !enabled);\n        // TODO: styles of the quick pick need to be moved to the CSS instead of being in line\n        // so things like this can be done in CSS\n        // this.findInput.inputBox.inputElement.classList.toggle('disabled', !enabled);\n    }\n    set toggles(toggles) {\n        this.findInput.setAdditionalToggles(toggles);\n    }\n    setAttribute(name, value) {\n        this.findInput.inputBox.inputElement.setAttribute(name, value);\n    }\n    showDecoration(decoration) {\n        if (decoration === Severity.Ignore) {\n            this.findInput.clearMessage();\n        }\n        else {\n            this.findInput.showMessage({ type: decoration === Severity.Info ? 1 /* MessageType.INFO */ : decoration === Severity.Warning ? 2 /* MessageType.WARNING */ : 3 /* MessageType.ERROR */, content: '' });\n        }\n    }\n    stylesForType(decoration) {\n        return this.findInput.inputBox.stylesForType(decoration === Severity.Info ? 1 /* MessageType.INFO */ : decoration === Severity.Warning ? 2 /* MessageType.WARNING */ : 3 /* MessageType.ERROR */);\n    }\n    setFocus() {\n        this.findInput.focus();\n    }\n    layout() {\n        this.findInput.inputBox.layout();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../base/browser/event.js';\nimport { Event } from '../../../base/common/event.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { Gesture, EventType as GestureEventType } from '../../../base/browser/touch.js';\nimport { renderLabelWithIcons } from '../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { IdGenerator } from '../../../base/common/idGenerator.js';\nimport { parseLinkedText } from '../../../base/common/linkedText.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nconst iconPathToClass = {};\nconst iconClassGenerator = new IdGenerator('quick-input-button-icon-');\nexport function getIconClass(iconPath) {\n    if (!iconPath) {\n        return undefined;\n    }\n    let iconClass;\n    const key = iconPath.dark.toString();\n    if (iconPathToClass[key]) {\n        iconClass = iconPathToClass[key];\n    }\n    else {\n        iconClass = iconClassGenerator.nextId();\n        dom.createCSSRule(`.${iconClass}, .hc-light .${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.light || iconPath.dark)}`);\n        dom.createCSSRule(`.vs-dark .${iconClass}, .hc-black .${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.dark)}`);\n        iconPathToClass[key] = iconClass;\n    }\n    return iconClass;\n}\nexport function renderQuickInputDescription(description, container, actionHandler) {\n    dom.reset(container);\n    const parsed = parseLinkedText(description);\n    let tabIndex = 0;\n    for (const node of parsed.nodes) {\n        if (typeof node === 'string') {\n            container.append(...renderLabelWithIcons(node));\n        }\n        else {\n            let title = node.title;\n            if (!title && node.href.startsWith('command:')) {\n                title = localize('executeCommand', \"Click to execute command '{0}'\", node.href.substring('command:'.length));\n            }\n            else if (!title) {\n                title = node.href;\n            }\n            const anchor = dom.$('a', { href: node.href, title, tabIndex: tabIndex++ }, node.label);\n            anchor.style.textDecoration = 'underline';\n            const handleOpen = (e) => {\n                if (dom.isEventLike(e)) {\n                    dom.EventHelper.stop(e, true);\n                }\n                actionHandler.callback(node.href);\n            };\n            const onClick = actionHandler.disposables.add(new DomEmitter(anchor, dom.EventType.CLICK)).event;\n            const onKeydown = actionHandler.disposables.add(new DomEmitter(anchor, dom.EventType.KEY_DOWN)).event;\n            const onSpaceOrEnter = Event.chain(onKeydown, $ => $.filter(e => {\n                const event = new StandardKeyboardEvent(e);\n                return event.equals(10 /* KeyCode.Space */) || event.equals(3 /* KeyCode.Enter */);\n            }));\n            actionHandler.disposables.add(Gesture.addTarget(anchor));\n            const onTap = actionHandler.disposables.add(new DomEmitter(anchor, GestureEventType.Tap)).event;\n            Event.any(onClick, onTap, onSpaceOrEnter)(handleOpen, null, actionHandler.disposables);\n            container.appendChild(anchor);\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { IconLabel } from '../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { KeybindingLabel } from '../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { range } from '../../../base/common/arrays.js';\nimport { ThrottledDelayer } from '../../../base/common/async.js';\nimport { compareAnything } from '../../../base/common/comparers.js';\nimport { memoize } from '../../../base/common/decorators.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { getCodiconAriaLabel, matchesFuzzyIconAware, parseLabelWithIcons } from '../../../base/common/iconLabels.js';\nimport { DisposableStore, dispose } from '../../../base/common/lifecycle.js';\nimport * as platform from '../../../base/common/platform.js';\nimport { ltrim } from '../../../base/common/strings.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nimport { getIconClass } from './quickInputUtils.js';\nimport { Lazy } from '../../../base/common/lazy.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { isDark } from '../../theme/common/theme.js';\nconst $ = dom.$;\nclass ListElement {\n    constructor(mainItem, previous, index, hasCheckbox, fireButtonTriggered, fireSeparatorButtonTriggered, onCheckedEmitter) {\n        var _a, _b, _c;\n        // state will get updated later\n        this._checked = false;\n        this._hidden = false;\n        this.hasCheckbox = hasCheckbox;\n        this.index = index;\n        this.fireButtonTriggered = fireButtonTriggered;\n        this.fireSeparatorButtonTriggered = fireSeparatorButtonTriggered;\n        this._onChecked = onCheckedEmitter;\n        this.onChecked = hasCheckbox\n            ? Event.map(Event.filter(this._onChecked.event, e => e.listElement === this), e => e.checked)\n            : Event.None;\n        if (mainItem.type === 'separator') {\n            this._separator = mainItem;\n        }\n        else {\n            this.item = mainItem;\n            if (previous && previous.type === 'separator' && !previous.buttons) {\n                this._separator = previous;\n            }\n            this.saneDescription = this.item.description;\n            this.saneDetail = this.item.detail;\n            this._labelHighlights = (_a = this.item.highlights) === null || _a === void 0 ? void 0 : _a.label;\n            this._descriptionHighlights = (_b = this.item.highlights) === null || _b === void 0 ? void 0 : _b.description;\n            this._detailHighlights = (_c = this.item.highlights) === null || _c === void 0 ? void 0 : _c.detail;\n            this.saneTooltip = this.item.tooltip;\n        }\n        this._init = new Lazy(() => {\n            var _a;\n            const saneLabel = (_a = mainItem.label) !== null && _a !== void 0 ? _a : '';\n            const saneSortLabel = parseLabelWithIcons(saneLabel).text.trim();\n            const saneAriaLabel = mainItem.ariaLabel || [saneLabel, this.saneDescription, this.saneDetail]\n                .map(s => getCodiconAriaLabel(s))\n                .filter(s => !!s)\n                .join(', ');\n            return {\n                saneLabel,\n                saneSortLabel,\n                saneAriaLabel\n            };\n        });\n    }\n    // #region Lazy Getters\n    get saneLabel() {\n        return this._init.value.saneLabel;\n    }\n    get saneSortLabel() {\n        return this._init.value.saneSortLabel;\n    }\n    get saneAriaLabel() {\n        return this._init.value.saneAriaLabel;\n    }\n    // #endregion\n    // #region Getters and Setters\n    get element() {\n        return this._element;\n    }\n    set element(value) {\n        this._element = value;\n    }\n    get hidden() {\n        return this._hidden;\n    }\n    set hidden(value) {\n        this._hidden = value;\n    }\n    get checked() {\n        return this._checked;\n    }\n    set checked(value) {\n        if (value !== this._checked) {\n            this._checked = value;\n            this._onChecked.fire({ listElement: this, checked: value });\n        }\n    }\n    get separator() {\n        return this._separator;\n    }\n    set separator(value) {\n        this._separator = value;\n    }\n    get labelHighlights() {\n        return this._labelHighlights;\n    }\n    set labelHighlights(value) {\n        this._labelHighlights = value;\n    }\n    get descriptionHighlights() {\n        return this._descriptionHighlights;\n    }\n    set descriptionHighlights(value) {\n        this._descriptionHighlights = value;\n    }\n    get detailHighlights() {\n        return this._detailHighlights;\n    }\n    set detailHighlights(value) {\n        this._detailHighlights = value;\n    }\n}\nclass ListElementRenderer {\n    constructor(themeService) {\n        this.themeService = themeService;\n    }\n    get templateId() {\n        return ListElementRenderer.ID;\n    }\n    renderTemplate(container) {\n        const data = Object.create(null);\n        data.toDisposeElement = [];\n        data.toDisposeTemplate = [];\n        data.entry = dom.append(container, $('.quick-input-list-entry'));\n        // Checkbox\n        const label = dom.append(data.entry, $('label.quick-input-list-label'));\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(label, dom.EventType.CLICK, e => {\n            if (!data.checkbox.offsetParent) { // If checkbox not visible:\n                e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n            }\n        }));\n        data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n        data.checkbox.type = 'checkbox';\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {\n            data.element.checked = data.checkbox.checked;\n        }));\n        // Rows\n        const rows = dom.append(label, $('.quick-input-list-rows'));\n        const row1 = dom.append(rows, $('.quick-input-list-row'));\n        const row2 = dom.append(rows, $('.quick-input-list-row'));\n        // Label\n        data.label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportIcons: true });\n        data.toDisposeTemplate.push(data.label);\n        data.icon = dom.prepend(data.label.element, $('.quick-input-list-icon'));\n        // Keybinding\n        const keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n        data.keybinding = new KeybindingLabel(keybindingContainer, platform.OS);\n        // Detail\n        const detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n        data.detail = new IconLabel(detailContainer, { supportHighlights: true, supportIcons: true });\n        data.toDisposeTemplate.push(data.detail);\n        // Separator\n        data.separator = dom.append(data.entry, $('.quick-input-list-separator'));\n        // Actions\n        data.actionBar = new ActionBar(data.entry);\n        data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n        data.toDisposeTemplate.push(data.actionBar);\n        return data;\n    }\n    renderElement(element, index, data) {\n        var _a, _b, _c, _d;\n        data.element = element;\n        element.element = (_a = data.entry) !== null && _a !== void 0 ? _a : undefined;\n        const mainItem = element.item ? element.item : element.separator;\n        data.checkbox.checked = element.checked;\n        data.toDisposeElement.push(element.onChecked(checked => data.checkbox.checked = checked));\n        const { labelHighlights, descriptionHighlights, detailHighlights } = element;\n        if ((_b = element.item) === null || _b === void 0 ? void 0 : _b.iconPath) {\n            const icon = isDark(this.themeService.getColorTheme().type) ? element.item.iconPath.dark : ((_c = element.item.iconPath.light) !== null && _c !== void 0 ? _c : element.item.iconPath.dark);\n            const iconUrl = URI.revive(icon);\n            data.icon.className = 'quick-input-list-icon';\n            data.icon.style.backgroundImage = dom.asCSSUrl(iconUrl);\n        }\n        else {\n            data.icon.style.backgroundImage = '';\n            data.icon.className = ((_d = element.item) === null || _d === void 0 ? void 0 : _d.iconClass) ? `quick-input-list-icon ${element.item.iconClass}` : '';\n        }\n        // Label\n        const options = {\n            matches: labelHighlights || [],\n            descriptionTitle: element.saneDescription,\n            descriptionMatches: descriptionHighlights || [],\n            labelEscapeNewLines: true\n        };\n        if (mainItem.type !== 'separator') {\n            options.extraClasses = mainItem.iconClasses;\n            options.italic = mainItem.italic;\n            options.strikethrough = mainItem.strikethrough;\n            data.entry.classList.remove('quick-input-list-separator-as-item');\n        }\n        else {\n            data.entry.classList.add('quick-input-list-separator-as-item');\n        }\n        data.label.setLabel(element.saneLabel, element.saneDescription, options);\n        // Keybinding\n        data.keybinding.set(mainItem.type === 'separator' ? undefined : mainItem.keybinding);\n        // Detail\n        if (element.saneDetail) {\n            data.detail.element.style.display = '';\n            data.detail.setLabel(element.saneDetail, undefined, {\n                matches: detailHighlights,\n                title: element.saneDetail,\n                labelEscapeNewLines: true\n            });\n        }\n        else {\n            data.detail.element.style.display = 'none';\n        }\n        // Separator\n        if (element.item && element.separator && element.separator.label) {\n            data.separator.textContent = element.separator.label;\n            data.separator.style.display = '';\n        }\n        else {\n            data.separator.style.display = 'none';\n        }\n        data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator);\n        // Actions\n        const buttons = mainItem.buttons;\n        if (buttons && buttons.length) {\n            data.actionBar.push(buttons.map((button, index) => {\n                let cssClasses = button.iconClass || (button.iconPath ? getIconClass(button.iconPath) : undefined);\n                if (button.alwaysVisible) {\n                    cssClasses = cssClasses ? `${cssClasses} always-visible` : 'always-visible';\n                }\n                return {\n                    id: `id-${index}`,\n                    class: cssClasses,\n                    enabled: true,\n                    label: '',\n                    tooltip: button.tooltip || '',\n                    run: () => {\n                        mainItem.type !== 'separator'\n                            ? element.fireButtonTriggered({\n                                button,\n                                item: mainItem\n                            })\n                            : element.fireSeparatorButtonTriggered({\n                                button,\n                                separator: mainItem\n                            });\n                    }\n                };\n            }), { icon: true, label: false });\n            data.entry.classList.add('has-actions');\n        }\n        else {\n            data.entry.classList.remove('has-actions');\n        }\n    }\n    disposeElement(element, index, data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.actionBar.clear();\n    }\n    disposeTemplate(data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.toDisposeTemplate = dispose(data.toDisposeTemplate);\n    }\n}\nListElementRenderer.ID = 'listelement';\nclass ListElementDelegate {\n    getHeight(element) {\n        if (!element.item) {\n            // must be a separator\n            return 24;\n        }\n        return element.saneDetail ? 44 : 22;\n    }\n    getTemplateId(element) {\n        return ListElementRenderer.ID;\n    }\n}\nexport var QuickInputListFocus;\n(function (QuickInputListFocus) {\n    QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n    QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n    QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n    QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n    QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n    QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n    QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\nexport class QuickInputList {\n    constructor(parent, id, options, themeService) {\n        this.parent = parent;\n        this.options = options;\n        this.inputElements = [];\n        this.elements = [];\n        this.elementsToIndexes = new Map();\n        this.matchOnDescription = false;\n        this.matchOnDetail = false;\n        this.matchOnLabel = true;\n        this.matchOnLabelMode = 'fuzzy';\n        this.sortByLabel = true;\n        this._onChangedAllVisibleChecked = new Emitter();\n        this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\n        this._onChangedCheckedCount = new Emitter();\n        this.onChangedCheckedCount = this._onChangedCheckedCount.event;\n        this._onChangedVisibleCount = new Emitter();\n        this.onChangedVisibleCount = this._onChangedVisibleCount.event;\n        this._onChangedCheckedElements = new Emitter();\n        this.onChangedCheckedElements = this._onChangedCheckedElements.event;\n        this._onButtonTriggered = new Emitter();\n        this.onButtonTriggered = this._onButtonTriggered.event;\n        this._onSeparatorButtonTriggered = new Emitter();\n        this.onSeparatorButtonTriggered = this._onSeparatorButtonTriggered.event;\n        this._onKeyDown = new Emitter();\n        this.onKeyDown = this._onKeyDown.event;\n        this._onLeave = new Emitter();\n        this.onLeave = this._onLeave.event;\n        this._listElementChecked = new Emitter();\n        this._fireCheckedEvents = true;\n        this.elementDisposables = [];\n        this.disposables = [];\n        this.id = id;\n        this.container = dom.append(this.parent, $('.quick-input-list'));\n        const delegate = new ListElementDelegate();\n        const accessibilityProvider = new QuickInputAccessibilityProvider();\n        this.list = options.createList('QuickInput', this.container, delegate, [new ListElementRenderer(themeService)], {\n            identityProvider: {\n                getId: element => {\n                    var _a, _b, _c, _d, _e, _f, _g, _h;\n                    // always prefer item over separator because if item is defined, it must be the main item type\n                    // always prefer a defined id if one was specified and use label as a fallback\n                    return (_h = (_f = (_d = (_b = (_a = element.item) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : (_c = element.item) === null || _c === void 0 ? void 0 : _c.label) !== null && _d !== void 0 ? _d : (_e = element.separator) === null || _e === void 0 ? void 0 : _e.id) !== null && _f !== void 0 ? _f : (_g = element.separator) === null || _g === void 0 ? void 0 : _g.label) !== null && _h !== void 0 ? _h : '';\n                }\n            },\n            setRowLineHeight: false,\n            multipleSelectionSupport: false,\n            horizontalScrolling: false,\n            accessibilityProvider\n        });\n        this.list.getHTMLElement().id = id;\n        this.disposables.push(this.list);\n        this.disposables.push(this.list.onKeyDown(e => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 10 /* KeyCode.Space */:\n                    this.toggleCheckbox();\n                    break;\n                case 31 /* KeyCode.KeyA */:\n                    if (platform.isMacintosh ? e.metaKey : e.ctrlKey) {\n                        this.list.setFocus(range(this.list.length));\n                    }\n                    break;\n                case 16 /* KeyCode.UpArrow */: {\n                    const focus1 = this.list.getFocus();\n                    if (focus1.length === 1 && focus1[0] === 0) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n                case 18 /* KeyCode.DownArrow */: {\n                    const focus2 = this.list.getFocus();\n                    if (focus2.length === 1 && focus2[0] === this.list.length - 1) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n            }\n            this._onKeyDown.fire(event);\n        }));\n        this.disposables.push(this.list.onMouseDown(e => {\n            if (e.browserEvent.button !== 2) {\n                // Works around / fixes #64350.\n                e.browserEvent.preventDefault();\n            }\n        }));\n        this.disposables.push(dom.addDisposableListener(this.container, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space' on checkbox.\n                this._onLeave.fire();\n            }\n        }));\n        this.disposables.push(this.list.onMouseMiddleClick(e => {\n            this._onLeave.fire();\n        }));\n        this.disposables.push(this.list.onContextMenu(e => {\n            if (typeof e.index === 'number') {\n                e.browserEvent.preventDefault();\n                // we want to treat a context menu event as\n                // a gesture to open the item at the index\n                // since we do not have any context menu\n                // this enables for example macOS to Ctrl-\n                // click on an item to open it.\n                this.list.setSelection([e.index]);\n            }\n        }));\n        if (options.hoverDelegate) {\n            const delayer = new ThrottledDelayer(options.hoverDelegate.delay);\n            // onMouseOver triggers every time a new element has been moused over\n            // even if it's on the same list item.\n            this.disposables.push(this.list.onMouseOver((e) => __awaiter(this, void 0, void 0, function* () {\n                var _a;\n                // If we hover over an anchor element, we don't want to show the hover because\n                // the anchor may have a tooltip that we want to show instead.\n                if (e.browserEvent.target instanceof HTMLAnchorElement) {\n                    delayer.cancel();\n                    return;\n                }\n                if (\n                // anchors are an exception as called out above so we skip them here\n                !(e.browserEvent.relatedTarget instanceof HTMLAnchorElement) &&\n                    // check if the mouse is still over the same element\n                    dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                    return;\n                }\n                try {\n                    yield delayer.trigger(() => __awaiter(this, void 0, void 0, function* () {\n                        if (e.element) {\n                            this.showHover(e.element);\n                        }\n                    }));\n                }\n                catch (e) {\n                    // Ignore cancellation errors due to mouse out\n                    if (!isCancellationError(e)) {\n                        throw e;\n                    }\n                }\n            })));\n            this.disposables.push(this.list.onMouseOut(e => {\n                var _a;\n                // onMouseOut triggers every time a new element has been moused over\n                // even if it's on the same list item. We only want one event, so we\n                // check if the mouse is still over the same element.\n                if (dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                    return;\n                }\n                delayer.cancel();\n            }));\n            this.disposables.push(delayer);\n        }\n        this.disposables.push(this._listElementChecked.event(_ => this.fireCheckedEvents()));\n        this.disposables.push(this._onChangedAllVisibleChecked, this._onChangedCheckedCount, this._onChangedVisibleCount, this._onChangedCheckedElements, this._onButtonTriggered, this._onSeparatorButtonTriggered, this._onLeave, this._onKeyDown);\n    }\n    get onDidChangeFocus() {\n        return Event.map(this.list.onDidChangeFocus, e => e.elements.map(e => e.item));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, e => ({ items: e.elements.map(e => e.item), event: e.browserEvent }));\n    }\n    get scrollTop() {\n        return this.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.list.scrollTop = scrollTop;\n    }\n    get ariaLabel() {\n        return this.list.getHTMLElement().ariaLabel;\n    }\n    set ariaLabel(label) {\n        this.list.getHTMLElement().ariaLabel = label;\n    }\n    getAllVisibleChecked() {\n        return this.allVisibleChecked(this.elements, false);\n    }\n    allVisibleChecked(elements, whenNoneVisible = true) {\n        for (let i = 0, n = elements.length; i < n; i++) {\n            const element = elements[i];\n            if (!element.hidden) {\n                if (!element.checked) {\n                    return false;\n                }\n                else {\n                    whenNoneVisible = true;\n                }\n            }\n        }\n        return whenNoneVisible;\n    }\n    getCheckedCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (elements[i].checked) {\n                count++;\n            }\n        }\n        return count;\n    }\n    getVisibleCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (!elements[i].hidden) {\n                count++;\n            }\n        }\n        return count;\n    }\n    setAllVisibleChecked(checked) {\n        try {\n            this._fireCheckedEvents = false;\n            this.elements.forEach(element => {\n                if (!element.hidden) {\n                    element.checked = checked;\n                }\n            });\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    setElements(inputElements) {\n        this.elementDisposables = dispose(this.elementDisposables);\n        const fireButtonTriggered = (event) => this.fireButtonTriggered(event);\n        const fireSeparatorButtonTriggered = (event) => this.fireSeparatorButtonTriggered(event);\n        this.inputElements = inputElements;\n        const elementsToIndexes = new Map();\n        const hasCheckbox = this.parent.classList.contains('show-checkboxes');\n        this.elements = inputElements.reduce((result, item, index) => {\n            var _a;\n            const previous = index > 0 ? inputElements[index - 1] : undefined;\n            if (item.type === 'separator') {\n                if (!item.buttons) {\n                    // This separator will be rendered as a part of the list item\n                    return result;\n                }\n            }\n            const element = new ListElement(item, previous, index, hasCheckbox, fireButtonTriggered, fireSeparatorButtonTriggered, this._listElementChecked);\n            const resultIndex = result.length;\n            result.push(element);\n            elementsToIndexes.set((_a = element.item) !== null && _a !== void 0 ? _a : element.separator, resultIndex);\n            return result;\n        }, []);\n        this.elementsToIndexes = elementsToIndexes;\n        this.list.splice(0, this.list.length); // Clear focus and selection first, sending the events when the list is empty.\n        this.list.splice(0, this.list.length, this.elements);\n        this._onChangedVisibleCount.fire(this.elements.length);\n    }\n    getFocusedElements() {\n        return this.list.getFocusedElements()\n            .map(e => e.item);\n    }\n    setFocusedElements(items) {\n        this.list.setFocus(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n        if (items.length > 0) {\n            const focused = this.list.getFocus()[0];\n            if (typeof focused === 'number') {\n                this.list.reveal(focused);\n            }\n        }\n    }\n    getActiveDescendant() {\n        return this.list.getHTMLElement().getAttribute('aria-activedescendant');\n    }\n    setSelectedElements(items) {\n        this.list.setSelection(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n    }\n    getCheckedElements() {\n        return this.elements.filter(e => e.checked)\n            .map(e => e.item)\n            .filter(e => !!e);\n    }\n    setCheckedElements(items) {\n        try {\n            this._fireCheckedEvents = false;\n            const checked = new Set();\n            for (const item of items) {\n                checked.add(item);\n            }\n            for (const element of this.elements) {\n                element.checked = checked.has(element.item);\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    set enabled(value) {\n        this.list.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n    }\n    focus(what) {\n        if (!this.list.length) {\n            return;\n        }\n        if (what === QuickInputListFocus.Second && this.list.length < 2) {\n            what = QuickInputListFocus.First;\n        }\n        switch (what) {\n            case QuickInputListFocus.First:\n                this.list.scrollTop = 0;\n                this.list.focusFirst(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Second:\n                this.list.scrollTop = 0;\n                this.list.focusNth(1, undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Last:\n                this.list.scrollTop = this.list.scrollHeight;\n                this.list.focusLast(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Next: {\n                this.list.focusNext(undefined, true, undefined, (e) => !!e.item);\n                const index = this.list.getFocus()[0];\n                if (index !== 0 && !this.elements[index - 1].item && this.list.firstVisibleIndex > index - 1) {\n                    this.list.reveal(index - 1);\n                }\n                break;\n            }\n            case QuickInputListFocus.Previous: {\n                this.list.focusPrevious(undefined, true, undefined, (e) => !!e.item);\n                const index = this.list.getFocus()[0];\n                if (index !== 0 && !this.elements[index - 1].item && this.list.firstVisibleIndex > index - 1) {\n                    this.list.reveal(index - 1);\n                }\n                break;\n            }\n            case QuickInputListFocus.NextPage:\n                this.list.focusNextPage(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.PreviousPage:\n                this.list.focusPreviousPage(undefined, (e) => !!e.item);\n                break;\n        }\n        const focused = this.list.getFocus()[0];\n        if (typeof focused === 'number') {\n            this.list.reveal(focused);\n        }\n    }\n    clearFocus() {\n        this.list.setFocus([]);\n    }\n    domFocus() {\n        this.list.domFocus();\n    }\n    /**\n     * Disposes of the hover and shows a new one for the given index if it has a tooltip.\n     * @param element The element to show the hover for\n     */\n    showHover(element) {\n        var _a, _b, _c;\n        if (this.options.hoverDelegate === undefined) {\n            return;\n        }\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            (_b = (_a = this.options.hoverDelegate).onDidHideHover) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_c = this._lastHover) === null || _c === void 0 ? void 0 : _c.dispose();\n        }\n        if (!element.element || !element.saneTooltip) {\n            return;\n        }\n        this._lastHover = this.options.hoverDelegate.showHover({\n            content: element.saneTooltip,\n            target: element.element,\n            linkHandler: (url) => {\n                this.options.linkOpenerDelegate(url);\n            },\n            showPointer: true,\n            container: this.container,\n            hoverPosition: 1 /* HoverPosition.RIGHT */\n        }, false);\n    }\n    layout(maxHeight) {\n        this.list.getHTMLElement().style.maxHeight = maxHeight ? `${\n        // Make sure height aligns with list item heights\n        Math.floor(maxHeight / 44) * 44\n            // Add some extra height so that it's clear there's more to scroll\n            + 6}px` : '';\n        this.list.layout();\n    }\n    filter(query) {\n        if (!(this.sortByLabel || this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.list.layout();\n            return false;\n        }\n        const queryWithWhitespace = query;\n        query = query.trim();\n        // Reset filtering\n        if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.elements.forEach(element => {\n                element.labelHighlights = undefined;\n                element.descriptionHighlights = undefined;\n                element.detailHighlights = undefined;\n                element.hidden = false;\n                const previous = element.index && this.inputElements[element.index - 1];\n                if (element.item) {\n                    element.separator = previous && previous.type === 'separator' && !previous.buttons ? previous : undefined;\n                }\n            });\n        }\n        // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n        else {\n            let currentSeparator;\n            this.elements.forEach(element => {\n                var _a, _b, _c, _d;\n                let labelHighlights;\n                if (this.matchOnLabelMode === 'fuzzy') {\n                    labelHighlights = this.matchOnLabel ? (_a = matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) !== null && _a !== void 0 ? _a : undefined : undefined;\n                }\n                else {\n                    labelHighlights = this.matchOnLabel ? (_b = matchesContiguousIconAware(queryWithWhitespace, parseLabelWithIcons(element.saneLabel))) !== null && _b !== void 0 ? _b : undefined : undefined;\n                }\n                const descriptionHighlights = this.matchOnDescription ? (_c = matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) !== null && _c !== void 0 ? _c : undefined : undefined;\n                const detailHighlights = this.matchOnDetail ? (_d = matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) !== null && _d !== void 0 ? _d : undefined : undefined;\n                if (labelHighlights || descriptionHighlights || detailHighlights) {\n                    element.labelHighlights = labelHighlights;\n                    element.descriptionHighlights = descriptionHighlights;\n                    element.detailHighlights = detailHighlights;\n                    element.hidden = false;\n                }\n                else {\n                    element.labelHighlights = undefined;\n                    element.descriptionHighlights = undefined;\n                    element.detailHighlights = undefined;\n                    element.hidden = element.item ? !element.item.alwaysShow : true;\n                }\n                // Ensure separators are filtered out first before deciding if we need to bring them back\n                if (element.item) {\n                    element.separator = undefined;\n                }\n                else if (element.separator) {\n                    element.hidden = true;\n                }\n                // we can show the separator unless the list gets sorted by match\n                if (!this.sortByLabel) {\n                    const previous = element.index && this.inputElements[element.index - 1];\n                    currentSeparator = previous && previous.type === 'separator' ? previous : currentSeparator;\n                    if (currentSeparator && !element.hidden) {\n                        element.separator = currentSeparator;\n                        currentSeparator = undefined;\n                    }\n                }\n            });\n        }\n        const shownElements = this.elements.filter(element => !element.hidden);\n        // Sort by value\n        if (this.sortByLabel && query) {\n            const normalizedSearchValue = query.toLowerCase();\n            shownElements.sort((a, b) => {\n                return compareEntries(a, b, normalizedSearchValue);\n            });\n        }\n        this.elementsToIndexes = shownElements.reduce((map, element, index) => {\n            var _a;\n            map.set((_a = element.item) !== null && _a !== void 0 ? _a : element.separator, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length, shownElements);\n        this.list.setFocus([]);\n        this.list.layout();\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n        this._onChangedVisibleCount.fire(shownElements.length);\n        return true;\n    }\n    toggleCheckbox() {\n        try {\n            this._fireCheckedEvents = false;\n            const elements = this.list.getFocusedElements();\n            const allChecked = this.allVisibleChecked(elements);\n            for (const element of elements) {\n                element.checked = !allChecked;\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    display(display) {\n        this.container.style.display = display ? '' : 'none';\n    }\n    isDisplayed() {\n        return this.container.style.display !== 'none';\n    }\n    dispose() {\n        this.elementDisposables = dispose(this.elementDisposables);\n        this.disposables = dispose(this.disposables);\n    }\n    fireCheckedEvents() {\n        if (this._fireCheckedEvents) {\n            this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n            this._onChangedCheckedCount.fire(this.getCheckedCount());\n            this._onChangedCheckedElements.fire(this.getCheckedElements());\n        }\n    }\n    fireButtonTriggered(event) {\n        this._onButtonTriggered.fire(event);\n    }\n    fireSeparatorButtonTriggered(event) {\n        this._onSeparatorButtonTriggered.fire(event);\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n    toggleHover() {\n        const element = this.list.getFocusedElements()[0];\n        if (!(element === null || element === void 0 ? void 0 : element.saneTooltip)) {\n            return;\n        }\n        // if there's a hover already, hide it (toggle off)\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            this._lastHover.dispose();\n            return;\n        }\n        // If there is no hover, show it (toggle on)\n        const focused = this.list.getFocusedElements()[0];\n        if (!focused) {\n            return;\n        }\n        this.showHover(focused);\n        const store = new DisposableStore();\n        store.add(this.list.onDidChangeFocus(e => {\n            if (e.indexes.length) {\n                this.showHover(e.elements[0]);\n            }\n        }));\n        if (this._lastHover) {\n            store.add(this._lastHover);\n        }\n        this._toggleHover = store;\n        this.elementDisposables.push(this._toggleHover);\n    }\n}\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeSelection\", null);\nfunction matchesContiguousIconAware(query, target) {\n    const { text, iconOffsets } = target;\n    // Return early if there are no icon markers in the word to match against\n    if (!iconOffsets || iconOffsets.length === 0) {\n        return matchesContiguous(query, text);\n    }\n    // Trim the word to match against because it could have leading\n    // whitespace now if the word started with an icon\n    const wordToMatchAgainstWithoutIconsTrimmed = ltrim(text, ' ');\n    const leadingWhitespaceOffset = text.length - wordToMatchAgainstWithoutIconsTrimmed.length;\n    // match on value without icon\n    const matches = matchesContiguous(query, wordToMatchAgainstWithoutIconsTrimmed);\n    // Map matches back to offsets with icon and trimming\n    if (matches) {\n        for (const match of matches) {\n            const iconOffset = iconOffsets[match.start + leadingWhitespaceOffset] /* icon offsets at index */ + leadingWhitespaceOffset /* overall leading whitespace offset */;\n            match.start += iconOffset;\n            match.end += iconOffset;\n        }\n    }\n    return matches;\n}\nfunction matchesContiguous(word, wordToMatchAgainst) {\n    const matchIndex = wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());\n    if (matchIndex !== -1) {\n        return [{ start: matchIndex, end: matchIndex + word.length }];\n    }\n    return null;\n}\nfunction compareEntries(elementA, elementB, lookFor) {\n    const labelHighlightsA = elementA.labelHighlights || [];\n    const labelHighlightsB = elementB.labelHighlights || [];\n    if (labelHighlightsA.length && !labelHighlightsB.length) {\n        return -1;\n    }\n    if (!labelHighlightsA.length && labelHighlightsB.length) {\n        return 1;\n    }\n    if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n        return 0;\n    }\n    return compareAnything(elementA.saneSortLabel, elementB.saneSortLabel, lookFor);\n}\nclass QuickInputAccessibilityProvider {\n    getWidgetAriaLabel() {\n        return localize('quickInput', \"Quick Input\");\n    }\n    getAriaLabel(element) {\n        var _a;\n        return ((_a = element.separator) === null || _a === void 0 ? void 0 : _a.label)\n            ? `${element.saneAriaLabel}, ${element.separator.label}`\n            : element.saneAriaLabel;\n    }\n    getWidgetRole() {\n        return 'listbox';\n    }\n    getRole(element) {\n        return element.hasCheckbox ? 'checkbox' : 'option';\n    }\n    isChecked(element) {\n        if (!element.hasCheckbox) {\n            return undefined;\n        }\n        return {\n            value: element.checked,\n            onDidChange: element.onChecked\n        };\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { Toggle } from '../../../base/browser/ui/toggle/toggle.js';\nimport { Action } from '../../../base/common/actions.js';\nimport { equals } from '../../../base/common/arrays.js';\nimport { TimeoutTimer } from '../../../base/common/async.js';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { isIOS } from '../../../base/common/platform.js';\nimport Severity from '../../../base/common/severity.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nimport { ItemActivation, NO_KEY_MODS, QuickInputHideReason } from '../common/quickInput.js';\nimport { QuickInputListFocus } from './quickInputList.js';\nimport { getIconClass, renderQuickInputDescription } from './quickInputUtils.js';\nexport const backButton = {\n    iconClass: ThemeIcon.asClassName(Codicon.quickInputBack),\n    tooltip: localize('quickInput.back', \"Back\"),\n    handle: -1 // TODO\n};\nclass QuickInput extends Disposable {\n    constructor(ui) {\n        super();\n        this.ui = ui;\n        this._widgetUpdated = false;\n        this.visible = false;\n        this._enabled = true;\n        this._busy = false;\n        this._ignoreFocusOut = false;\n        this._buttons = [];\n        this.buttonsUpdated = false;\n        this._toggles = [];\n        this.togglesUpdated = false;\n        this.noValidationMessage = QuickInput.noPromptMessage;\n        this._severity = Severity.Ignore;\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.onDidHideEmitter = this._register(new Emitter());\n        this.onDisposeEmitter = this._register(new Emitter());\n        this.visibleDisposables = this._register(new DisposableStore());\n        this.onDidHide = this.onDidHideEmitter.event;\n    }\n    get title() {\n        return this._title;\n    }\n    set title(title) {\n        this._title = title;\n        this.update();\n    }\n    get description() {\n        return this._description;\n    }\n    set description(description) {\n        this._description = description;\n        this.update();\n    }\n    get step() {\n        return this._steps;\n    }\n    set step(step) {\n        this._steps = step;\n        this.update();\n    }\n    get totalSteps() {\n        return this._totalSteps;\n    }\n    set totalSteps(totalSteps) {\n        this._totalSteps = totalSteps;\n        this.update();\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(enabled) {\n        this._enabled = enabled;\n        this.update();\n    }\n    get contextKey() {\n        return this._contextKey;\n    }\n    set contextKey(contextKey) {\n        this._contextKey = contextKey;\n        this.update();\n    }\n    get busy() {\n        return this._busy;\n    }\n    set busy(busy) {\n        this._busy = busy;\n        this.update();\n    }\n    get ignoreFocusOut() {\n        return this._ignoreFocusOut;\n    }\n    set ignoreFocusOut(ignoreFocusOut) {\n        const shouldUpdate = this._ignoreFocusOut !== ignoreFocusOut && !isIOS;\n        this._ignoreFocusOut = ignoreFocusOut && !isIOS;\n        if (shouldUpdate) {\n            this.update();\n        }\n    }\n    get buttons() {\n        return this._buttons;\n    }\n    set buttons(buttons) {\n        this._buttons = buttons;\n        this.buttonsUpdated = true;\n        this.update();\n    }\n    get toggles() {\n        return this._toggles;\n    }\n    set toggles(toggles) {\n        this._toggles = toggles !== null && toggles !== void 0 ? toggles : [];\n        this.togglesUpdated = true;\n        this.update();\n    }\n    get validationMessage() {\n        return this._validationMessage;\n    }\n    set validationMessage(validationMessage) {\n        this._validationMessage = validationMessage;\n        this.update();\n    }\n    get severity() {\n        return this._severity;\n    }\n    set severity(severity) {\n        this._severity = severity;\n        this.update();\n    }\n    show() {\n        if (this.visible) {\n            return;\n        }\n        this.visibleDisposables.add(this.ui.onDidTriggerButton(button => {\n            if (this.buttons.indexOf(button) !== -1) {\n                this.onDidTriggerButtonEmitter.fire(button);\n            }\n        }));\n        this.ui.show(this);\n        // update properties in the controller that get reset in the ui.show() call\n        this.visible = true;\n        // This ensures the message/prompt gets rendered\n        this._lastValidationMessage = undefined;\n        // This ensures the input box has the right severity applied\n        this._lastSeverity = undefined;\n        if (this.buttons.length) {\n            // if there are buttons, the ui.show() clears them out of the UI so we should\n            // rerender them.\n            this.buttonsUpdated = true;\n        }\n        if (this.toggles.length) {\n            // if there are toggles, the ui.show() clears them out of the UI so we should\n            // rerender them.\n            this.togglesUpdated = true;\n        }\n        this.update();\n    }\n    hide() {\n        if (!this.visible) {\n            return;\n        }\n        this.ui.hide();\n    }\n    didHide(reason = QuickInputHideReason.Other) {\n        this.visible = false;\n        this.visibleDisposables.clear();\n        this.onDidHideEmitter.fire({ reason });\n    }\n    update() {\n        var _a, _b;\n        if (!this.visible) {\n            return;\n        }\n        const title = this.getTitle();\n        if (title && this.ui.title.textContent !== title) {\n            this.ui.title.textContent = title;\n        }\n        else if (!title && this.ui.title.innerHTML !== '&nbsp;') {\n            this.ui.title.innerText = '\\u00a0';\n        }\n        const description = this.getDescription();\n        if (this.ui.description1.textContent !== description) {\n            this.ui.description1.textContent = description;\n        }\n        if (this.ui.description2.textContent !== description) {\n            this.ui.description2.textContent = description;\n        }\n        if (this._widgetUpdated) {\n            this._widgetUpdated = false;\n            if (this._widget) {\n                dom.reset(this.ui.widget, this._widget);\n            }\n            else {\n                dom.reset(this.ui.widget);\n            }\n        }\n        if (this.busy && !this.busyDelay) {\n            this.busyDelay = new TimeoutTimer();\n            this.busyDelay.setIfNotSet(() => {\n                if (this.visible) {\n                    this.ui.progressBar.infinite();\n                }\n            }, 800);\n        }\n        if (!this.busy && this.busyDelay) {\n            this.ui.progressBar.stop();\n            this.busyDelay.cancel();\n            this.busyDelay = undefined;\n        }\n        if (this.buttonsUpdated) {\n            this.buttonsUpdated = false;\n            this.ui.leftActionBar.clear();\n            const leftButtons = this.buttons.filter(button => button === backButton);\n            this.ui.leftActionBar.push(leftButtons.map((button, index) => {\n                const action = new Action(`id-${index}`, '', button.iconClass || getIconClass(button.iconPath), true, () => __awaiter(this, void 0, void 0, function* () {\n                    this.onDidTriggerButtonEmitter.fire(button);\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n            this.ui.rightActionBar.clear();\n            const rightButtons = this.buttons.filter(button => button !== backButton);\n            this.ui.rightActionBar.push(rightButtons.map((button, index) => {\n                const action = new Action(`id-${index}`, '', button.iconClass || getIconClass(button.iconPath), true, () => __awaiter(this, void 0, void 0, function* () {\n                    this.onDidTriggerButtonEmitter.fire(button);\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n        }\n        if (this.togglesUpdated) {\n            this.togglesUpdated = false;\n            // HACK: Filter out toggles here that are not concrete Toggle objects. This is to workaround\n            // a layering issue as quick input's interface is in common but Toggle is in browser and\n            // it requires a HTMLElement on its interface\n            const concreteToggles = (_b = (_a = this.toggles) === null || _a === void 0 ? void 0 : _a.filter(opts => opts instanceof Toggle)) !== null && _b !== void 0 ? _b : [];\n            this.ui.inputBox.toggles = concreteToggles;\n        }\n        this.ui.ignoreFocusOut = this.ignoreFocusOut;\n        this.ui.setEnabled(this.enabled);\n        this.ui.setContextKey(this.contextKey);\n        const validationMessage = this.validationMessage || this.noValidationMessage;\n        if (this._lastValidationMessage !== validationMessage) {\n            this._lastValidationMessage = validationMessage;\n            dom.reset(this.ui.message);\n            renderQuickInputDescription(validationMessage, this.ui.message, {\n                callback: (content) => {\n                    this.ui.linkOpenerDelegate(content);\n                },\n                disposables: this.visibleDisposables,\n            });\n        }\n        if (this._lastSeverity !== this.severity) {\n            this._lastSeverity = this.severity;\n            this.showMessageDecoration(this.severity);\n        }\n    }\n    getTitle() {\n        if (this.title && this.step) {\n            return `${this.title} (${this.getSteps()})`;\n        }\n        if (this.title) {\n            return this.title;\n        }\n        if (this.step) {\n            return this.getSteps();\n        }\n        return '';\n    }\n    getDescription() {\n        return this.description || '';\n    }\n    getSteps() {\n        if (this.step && this.totalSteps) {\n            return localize('quickInput.steps', \"{0}/{1}\", this.step, this.totalSteps);\n        }\n        if (this.step) {\n            return String(this.step);\n        }\n        return '';\n    }\n    showMessageDecoration(severity) {\n        this.ui.inputBox.showDecoration(severity);\n        if (severity !== Severity.Ignore) {\n            const styles = this.ui.inputBox.stylesForType(severity);\n            this.ui.message.style.color = styles.foreground ? `${styles.foreground}` : '';\n            this.ui.message.style.backgroundColor = styles.background ? `${styles.background}` : '';\n            this.ui.message.style.border = styles.border ? `1px solid ${styles.border}` : '';\n            this.ui.message.style.marginBottom = '-2px';\n        }\n        else {\n            this.ui.message.style.color = '';\n            this.ui.message.style.backgroundColor = '';\n            this.ui.message.style.border = '';\n            this.ui.message.style.marginBottom = '';\n        }\n    }\n    dispose() {\n        this.hide();\n        this.onDisposeEmitter.fire();\n        super.dispose();\n    }\n}\nQuickInput.noPromptMessage = localize('inputModeEntry', \"Press 'Enter' to confirm your input or 'Escape' to cancel\");\nexport class QuickPick extends QuickInput {\n    constructor() {\n        super(...arguments);\n        this._value = '';\n        this.onDidChangeValueEmitter = this._register(new Emitter());\n        this.onWillAcceptEmitter = this._register(new Emitter());\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this._items = [];\n        this.itemsUpdated = false;\n        this._canSelectMany = false;\n        this._canAcceptInBackground = false;\n        this._matchOnDescription = false;\n        this._matchOnDetail = false;\n        this._matchOnLabel = true;\n        this._matchOnLabelMode = 'fuzzy';\n        this._sortByLabel = true;\n        this._autoFocusOnList = true;\n        this._keepScrollPosition = false;\n        this._itemActivation = ItemActivation.FIRST;\n        this._activeItems = [];\n        this.activeItemsUpdated = false;\n        this.activeItemsToConfirm = [];\n        this.onDidChangeActiveEmitter = this._register(new Emitter());\n        this._selectedItems = [];\n        this.selectedItemsUpdated = false;\n        this.selectedItemsToConfirm = [];\n        this.onDidChangeSelectionEmitter = this._register(new Emitter());\n        this.onDidTriggerItemButtonEmitter = this._register(new Emitter());\n        this.onDidTriggerSeparatorButtonEmitter = this._register(new Emitter());\n        this.valueSelectionUpdated = true;\n        this._ok = 'default';\n        this._customButton = false;\n        this.filterValue = (value) => value;\n        this.onDidChangeValue = this.onDidChangeValueEmitter.event;\n        this.onWillAccept = this.onWillAcceptEmitter.event;\n        this.onDidAccept = this.onDidAcceptEmitter.event;\n        this.onDidChangeActive = this.onDidChangeActiveEmitter.event;\n        this.onDidChangeSelection = this.onDidChangeSelectionEmitter.event;\n        this.onDidTriggerItemButton = this.onDidTriggerItemButtonEmitter.event;\n        this.onDidTriggerSeparatorButton = this.onDidTriggerSeparatorButtonEmitter.event;\n    }\n    get quickNavigate() {\n        return this._quickNavigate;\n    }\n    set quickNavigate(quickNavigate) {\n        this._quickNavigate = quickNavigate;\n        this.update();\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this.doSetValue(value);\n    }\n    doSetValue(value, skipUpdate) {\n        if (this._value !== value) {\n            this._value = value;\n            if (!skipUpdate) {\n                this.update();\n            }\n            if (this.visible) {\n                const didFilter = this.ui.list.filter(this.filterValue(this._value));\n                if (didFilter) {\n                    this.trySelectFirst();\n                }\n            }\n            this.onDidChangeValueEmitter.fire(this._value);\n        }\n    }\n    set ariaLabel(ariaLabel) {\n        this._ariaLabel = ariaLabel;\n        this.update();\n    }\n    get ariaLabel() {\n        return this._ariaLabel;\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set placeholder(placeholder) {\n        this._placeholder = placeholder;\n        this.update();\n    }\n    get items() {\n        return this._items;\n    }\n    get scrollTop() {\n        return this.ui.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.ui.list.scrollTop = scrollTop;\n    }\n    set items(items) {\n        this._items = items;\n        this.itemsUpdated = true;\n        this.update();\n    }\n    get canSelectMany() {\n        return this._canSelectMany;\n    }\n    set canSelectMany(canSelectMany) {\n        this._canSelectMany = canSelectMany;\n        this.update();\n    }\n    get canAcceptInBackground() {\n        return this._canAcceptInBackground;\n    }\n    set canAcceptInBackground(canAcceptInBackground) {\n        this._canAcceptInBackground = canAcceptInBackground;\n    }\n    get matchOnDescription() {\n        return this._matchOnDescription;\n    }\n    set matchOnDescription(matchOnDescription) {\n        this._matchOnDescription = matchOnDescription;\n        this.update();\n    }\n    get matchOnDetail() {\n        return this._matchOnDetail;\n    }\n    set matchOnDetail(matchOnDetail) {\n        this._matchOnDetail = matchOnDetail;\n        this.update();\n    }\n    get matchOnLabel() {\n        return this._matchOnLabel;\n    }\n    set matchOnLabel(matchOnLabel) {\n        this._matchOnLabel = matchOnLabel;\n        this.update();\n    }\n    get matchOnLabelMode() {\n        return this._matchOnLabelMode;\n    }\n    set matchOnLabelMode(matchOnLabelMode) {\n        this._matchOnLabelMode = matchOnLabelMode;\n        this.update();\n    }\n    get sortByLabel() {\n        return this._sortByLabel;\n    }\n    set sortByLabel(sortByLabel) {\n        this._sortByLabel = sortByLabel;\n        this.update();\n    }\n    get autoFocusOnList() {\n        return this._autoFocusOnList;\n    }\n    set autoFocusOnList(autoFocusOnList) {\n        this._autoFocusOnList = autoFocusOnList;\n        this.update();\n    }\n    get keepScrollPosition() {\n        return this._keepScrollPosition;\n    }\n    set keepScrollPosition(keepScrollPosition) {\n        this._keepScrollPosition = keepScrollPosition;\n    }\n    get itemActivation() {\n        return this._itemActivation;\n    }\n    set itemActivation(itemActivation) {\n        this._itemActivation = itemActivation;\n    }\n    get activeItems() {\n        return this._activeItems;\n    }\n    set activeItems(activeItems) {\n        this._activeItems = activeItems;\n        this.activeItemsUpdated = true;\n        this.update();\n    }\n    get selectedItems() {\n        return this._selectedItems;\n    }\n    set selectedItems(selectedItems) {\n        this._selectedItems = selectedItems;\n        this.selectedItemsUpdated = true;\n        this.update();\n    }\n    get keyMods() {\n        if (this._quickNavigate) {\n            // Disable keyMods when quick navigate is enabled\n            // because in this model the interaction is purely\n            // keyboard driven and Ctrl/Alt are typically\n            // pressed and hold during this interaction.\n            return NO_KEY_MODS;\n        }\n        return this.ui.keyMods;\n    }\n    set valueSelection(valueSelection) {\n        this._valueSelection = valueSelection;\n        this.valueSelectionUpdated = true;\n        this.update();\n    }\n    get customButton() {\n        return this._customButton;\n    }\n    set customButton(showCustomButton) {\n        this._customButton = showCustomButton;\n        this.update();\n    }\n    get customLabel() {\n        return this._customButtonLabel;\n    }\n    set customLabel(label) {\n        this._customButtonLabel = label;\n        this.update();\n    }\n    get customHover() {\n        return this._customButtonHover;\n    }\n    set customHover(hover) {\n        this._customButtonHover = hover;\n        this.update();\n    }\n    get ok() {\n        return this._ok;\n    }\n    set ok(showOkButton) {\n        this._ok = showOkButton;\n        this.update();\n    }\n    get hideInput() {\n        return !!this._hideInput;\n    }\n    set hideInput(hideInput) {\n        this._hideInput = hideInput;\n        this.update();\n    }\n    trySelectFirst() {\n        if (this.autoFocusOnList) {\n            if (!this.canSelectMany) {\n                this.ui.list.focus(QuickInputListFocus.First);\n            }\n        }\n    }\n    show() {\n        if (!this.visible) {\n            this.visibleDisposables.add(this.ui.inputBox.onDidChange(value => {\n                this.doSetValue(value, true /* skip update since this originates from the UI */);\n            }));\n            this.visibleDisposables.add(this.ui.inputBox.onMouseDown(event => {\n                if (!this.autoFocusOnList) {\n                    this.ui.list.clearFocus();\n                }\n            }));\n            this.visibleDisposables.add((this._hideInput ? this.ui.list : this.ui.inputBox).onKeyDown((event) => {\n                switch (event.keyCode) {\n                    case 18 /* KeyCode.DownArrow */:\n                        this.ui.list.focus(QuickInputListFocus.Next);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 16 /* KeyCode.UpArrow */:\n                        if (this.ui.list.getFocusedElements().length) {\n                            this.ui.list.focus(QuickInputListFocus.Previous);\n                        }\n                        else {\n                            this.ui.list.focus(QuickInputListFocus.Last);\n                        }\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 12 /* KeyCode.PageDown */:\n                        this.ui.list.focus(QuickInputListFocus.NextPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 11 /* KeyCode.PageUp */:\n                        this.ui.list.focus(QuickInputListFocus.PreviousPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 17 /* KeyCode.RightArrow */:\n                        if (!this._canAcceptInBackground) {\n                            return; // needs to be enabled\n                        }\n                        if (!this.ui.inputBox.isSelectionAtEnd()) {\n                            return; // ensure input box selection at end\n                        }\n                        if (this.activeItems[0]) {\n                            this._selectedItems = [this.activeItems[0]];\n                            this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                            this.handleAccept(true);\n                        }\n                        break;\n                    case 14 /* KeyCode.Home */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.First);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                    case 13 /* KeyCode.End */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.Last);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                }\n            }));\n            this.visibleDisposables.add(this.ui.onDidAccept(() => {\n                if (this.canSelectMany) {\n                    // if there are no checked elements, it means that an onDidChangeSelection never fired to overwrite\n                    // `_selectedItems`. In that case, we should emit one with an empty array to ensure that\n                    // `.selectedItems` is up to date.\n                    if (!this.ui.list.getCheckedElements().length) {\n                        this._selectedItems = [];\n                        this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    }\n                }\n                else if (this.activeItems[0]) {\n                    // For single-select, we set `selectedItems` to the item that was accepted.\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                }\n                this.handleAccept(false);\n            }));\n            this.visibleDisposables.add(this.ui.onDidCustom(() => {\n                this.onDidCustomEmitter.fire();\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeFocus(focusedItems => {\n                if (this.activeItemsUpdated) {\n                    return; // Expect another event.\n                }\n                if (this.activeItemsToConfirm !== this._activeItems && equals(focusedItems, this._activeItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._activeItems = focusedItems;\n                this.onDidChangeActiveEmitter.fire(focusedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({ items: selectedItems, event }) => {\n                if (this.canSelectMany) {\n                    if (selectedItems.length) {\n                        this.ui.list.setSelectedElements([]);\n                    }\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(selectedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = selectedItems;\n                this.onDidChangeSelectionEmitter.fire(selectedItems);\n                if (selectedItems.length) {\n                    this.handleAccept(event instanceof MouseEvent && event.button === 1 /* mouse middle click */);\n                }\n            }));\n            this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(checkedItems => {\n                if (!this.canSelectMany) {\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(checkedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = checkedItems;\n                this.onDidChangeSelectionEmitter.fire(checkedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onButtonTriggered(event => this.onDidTriggerItemButtonEmitter.fire(event)));\n            this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(event => this.onDidTriggerSeparatorButtonEmitter.fire(event)));\n            this.visibleDisposables.add(this.registerQuickNavigation());\n            this.valueSelectionUpdated = true;\n        }\n        super.show(); // TODO: Why have show() bubble up while update() trickles down?\n    }\n    handleAccept(inBackground) {\n        // Figure out veto via `onWillAccept` event\n        let veto = false;\n        this.onWillAcceptEmitter.fire({ veto: () => veto = true });\n        // Continue with `onDidAccept` if no veto\n        if (!veto) {\n            this.onDidAcceptEmitter.fire({ inBackground });\n        }\n    }\n    registerQuickNavigation() {\n        return dom.addDisposableListener(this.ui.container, dom.EventType.KEY_UP, e => {\n            if (this.canSelectMany || !this._quickNavigate) {\n                return;\n            }\n            const keyboardEvent = new StandardKeyboardEvent(e);\n            const keyCode = keyboardEvent.keyCode;\n            // Select element when keys are pressed that signal it\n            const quickNavKeys = this._quickNavigate.keybindings;\n            const wasTriggerKeyPressed = quickNavKeys.some(k => {\n                const chords = k.getChords();\n                if (chords.length > 1) {\n                    return false;\n                }\n                if (chords[0].shiftKey && keyCode === 4 /* KeyCode.Shift */) {\n                    if (keyboardEvent.ctrlKey || keyboardEvent.altKey || keyboardEvent.metaKey) {\n                        return false; // this is an optimistic check for the shift key being used to navigate back in quick input\n                    }\n                    return true;\n                }\n                if (chords[0].altKey && keyCode === 6 /* KeyCode.Alt */) {\n                    return true;\n                }\n                if (chords[0].ctrlKey && keyCode === 5 /* KeyCode.Ctrl */) {\n                    return true;\n                }\n                if (chords[0].metaKey && keyCode === 57 /* KeyCode.Meta */) {\n                    return true;\n                }\n                return false;\n            });\n            if (wasTriggerKeyPressed) {\n                if (this.activeItems[0]) {\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    this.handleAccept(false);\n                }\n                // Unset quick navigate after press. It is only valid once\n                // and should not result in any behaviour change afterwards\n                // if the picker remains open because there was no active item\n                this._quickNavigate = undefined;\n            }\n        });\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        // store the scrollTop before it is reset\n        const scrollTopBefore = this.keepScrollPosition ? this.scrollTop : 0;\n        const hasDescription = !!this.description;\n        const visibilities = {\n            title: !!this.title || !!this.step || !!this.buttons.length,\n            description: hasDescription,\n            checkAll: this.canSelectMany && !this._hideCheckAll,\n            checkBox: this.canSelectMany,\n            inputBox: !this._hideInput,\n            progressBar: !this._hideInput || hasDescription,\n            visibleCount: true,\n            count: this.canSelectMany && !this._hideCountBadge,\n            ok: this.ok === 'default' ? this.canSelectMany : this.ok,\n            list: true,\n            message: !!this.validationMessage,\n            customButton: this.customButton\n        };\n        this.ui.setVisibilities(visibilities);\n        super.update();\n        if (this.ui.inputBox.value !== this.value) {\n            this.ui.inputBox.value = this.value;\n        }\n        if (this.valueSelectionUpdated) {\n            this.valueSelectionUpdated = false;\n            this.ui.inputBox.select(this._valueSelection && { start: this._valueSelection[0], end: this._valueSelection[1] });\n        }\n        if (this.ui.inputBox.placeholder !== (this.placeholder || '')) {\n            this.ui.inputBox.placeholder = (this.placeholder || '');\n        }\n        let ariaLabel = this.ariaLabel;\n        // Only set aria label to the input box placeholder if we actually have an input box.\n        if (!ariaLabel && visibilities.inputBox) {\n            ariaLabel = this.placeholder || QuickPick.DEFAULT_ARIA_LABEL;\n            // If we have a title, include it in the aria label.\n            if (this.title) {\n                ariaLabel += ` - ${this.title}`;\n            }\n        }\n        if (this.ui.list.ariaLabel !== ariaLabel) {\n            this.ui.list.ariaLabel = ariaLabel !== null && ariaLabel !== void 0 ? ariaLabel : null;\n        }\n        this.ui.list.matchOnDescription = this.matchOnDescription;\n        this.ui.list.matchOnDetail = this.matchOnDetail;\n        this.ui.list.matchOnLabel = this.matchOnLabel;\n        this.ui.list.matchOnLabelMode = this.matchOnLabelMode;\n        this.ui.list.sortByLabel = this.sortByLabel;\n        if (this.itemsUpdated) {\n            this.itemsUpdated = false;\n            this.ui.list.setElements(this.items);\n            this.ui.list.filter(this.filterValue(this.ui.inputBox.value));\n            this.ui.checkAll.checked = this.ui.list.getAllVisibleChecked();\n            this.ui.visibleCount.setCount(this.ui.list.getVisibleCount());\n            this.ui.count.setCount(this.ui.list.getCheckedCount());\n            switch (this._itemActivation) {\n                case ItemActivation.NONE:\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.SECOND:\n                    this.ui.list.focus(QuickInputListFocus.Second);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.LAST:\n                    this.ui.list.focus(QuickInputListFocus.Last);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                default:\n                    this.trySelectFirst();\n                    break;\n            }\n        }\n        if (this.ui.container.classList.contains('show-checkboxes') !== !!this.canSelectMany) {\n            if (this.canSelectMany) {\n                this.ui.list.clearFocus();\n            }\n            else {\n                this.trySelectFirst();\n            }\n        }\n        if (this.activeItemsUpdated) {\n            this.activeItemsUpdated = false;\n            this.activeItemsToConfirm = this._activeItems;\n            this.ui.list.setFocusedElements(this.activeItems);\n            if (this.activeItemsToConfirm === this._activeItems) {\n                this.activeItemsToConfirm = null;\n            }\n        }\n        if (this.selectedItemsUpdated) {\n            this.selectedItemsUpdated = false;\n            this.selectedItemsToConfirm = this._selectedItems;\n            if (this.canSelectMany) {\n                this.ui.list.setCheckedElements(this.selectedItems);\n            }\n            else {\n                this.ui.list.setSelectedElements(this.selectedItems);\n            }\n            if (this.selectedItemsToConfirm === this._selectedItems) {\n                this.selectedItemsToConfirm = null;\n            }\n        }\n        this.ui.customButton.label = this.customLabel || '';\n        this.ui.customButton.element.title = this.customHover || '';\n        if (!visibilities.inputBox) {\n            // we need to move focus into the tree to detect keybindings\n            // properly when the input box is not visible (quick nav)\n            this.ui.list.domFocus();\n            // Focus the first element in the list if multiselect is enabled\n            if (this.canSelectMany) {\n                this.ui.list.focus(QuickInputListFocus.First);\n            }\n        }\n        // Set the scroll position to what it was before updating the items\n        if (this.keepScrollPosition) {\n            this.scrollTop = scrollTopBefore;\n        }\n    }\n}\nQuickPick.DEFAULT_ARIA_LABEL = localize('quickInputBox.ariaLabel', \"Type to narrow down results.\");\nexport class InputBox extends QuickInput {\n    constructor() {\n        super(...arguments);\n        this._value = '';\n        this.valueSelectionUpdated = true;\n        this._password = false;\n        this.onDidValueChangeEmitter = this._register(new Emitter());\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidChangeValue = this.onDidValueChangeEmitter.event;\n        this.onDidAccept = this.onDidAcceptEmitter.event;\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this._value = value || '';\n        this.update();\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set placeholder(placeholder) {\n        this._placeholder = placeholder;\n        this.update();\n    }\n    get password() {\n        return this._password;\n    }\n    set password(password) {\n        this._password = password;\n        this.update();\n    }\n    show() {\n        if (!this.visible) {\n            this.visibleDisposables.add(this.ui.inputBox.onDidChange(value => {\n                if (value === this.value) {\n                    return;\n                }\n                this._value = value;\n                this.onDidValueChangeEmitter.fire(value);\n            }));\n            this.visibleDisposables.add(this.ui.onDidAccept(() => this.onDidAcceptEmitter.fire()));\n            this.valueSelectionUpdated = true;\n        }\n        super.show();\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        this.ui.container.classList.remove('hidden-input');\n        const visibilities = {\n            title: !!this.title || !!this.step || !!this.buttons.length,\n            description: !!this.description || !!this.step,\n            inputBox: true,\n            message: true,\n            progressBar: true\n        };\n        this.ui.setVisibilities(visibilities);\n        super.update();\n        if (this.ui.inputBox.value !== this.value) {\n            this.ui.inputBox.value = this.value;\n        }\n        if (this.valueSelectionUpdated) {\n            this.valueSelectionUpdated = false;\n            this.ui.inputBox.select(this._valueSelection && { start: this._valueSelection[0], end: this._valueSelection[1] });\n        }\n        if (this.ui.inputBox.placeholder !== (this.placeholder || '')) {\n            this.ui.inputBox.placeholder = (this.placeholder || '');\n        }\n        if (this.ui.inputBox.password !== this.password) {\n            this.ui.inputBox.password = this.password;\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { Button } from '../../../base/browser/ui/button/button.js';\nimport { CountBadge } from '../../../base/browser/ui/countBadge/countBadge.js';\nimport { ProgressBar } from '../../../base/browser/ui/progressbar/progressbar.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable, dispose } from '../../../base/common/lifecycle.js';\nimport Severity from '../../../base/common/severity.js';\nimport { localize } from '../../../nls.js';\nimport { QuickInputHideReason } from '../common/quickInput.js';\nimport { QuickInputBox } from './quickInputBox.js';\nimport { QuickInputList } from './quickInputList.js';\nimport { QuickPick, backButton, InputBox } from './quickInput.js';\nconst $ = dom.$;\nexport class QuickInputController extends Disposable {\n    constructor(options, themeService) {\n        super();\n        this.options = options;\n        this.themeService = themeService;\n        this.enabled = true;\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.keyMods = { ctrlCmd: false, alt: false };\n        this.controller = null;\n        this.onShowEmitter = this._register(new Emitter());\n        this.onShow = this.onShowEmitter.event;\n        this.onHideEmitter = this._register(new Emitter());\n        this.onHide = this.onHideEmitter.event;\n        this.idPrefix = options.idPrefix;\n        this.parentElement = options.container;\n        this.styles = options.styles;\n        this.registerKeyModsListeners();\n    }\n    registerKeyModsListeners() {\n        const listener = (e) => {\n            this.keyMods.ctrlCmd = e.ctrlKey || e.metaKey;\n            this.keyMods.alt = e.altKey;\n        };\n        this._register(dom.addDisposableListener(window, dom.EventType.KEY_DOWN, listener, true));\n        this._register(dom.addDisposableListener(window, dom.EventType.KEY_UP, listener, true));\n        this._register(dom.addDisposableListener(window, dom.EventType.MOUSE_DOWN, listener, true));\n    }\n    getUI() {\n        if (this.ui) {\n            return this.ui;\n        }\n        const container = dom.append(this.parentElement, $('.quick-input-widget.show-file-icons'));\n        container.tabIndex = -1;\n        container.style.display = 'none';\n        const styleSheet = dom.createStyleSheet(container);\n        const titleBar = dom.append(container, $('.quick-input-titlebar'));\n        const actionBarOption = this.options.hoverDelegate ? { hoverDelegate: this.options.hoverDelegate } : undefined;\n        const leftActionBar = this._register(new ActionBar(titleBar, actionBarOption));\n        leftActionBar.domNode.classList.add('quick-input-left-action-bar');\n        const title = dom.append(titleBar, $('.quick-input-title'));\n        const rightActionBar = this._register(new ActionBar(titleBar, actionBarOption));\n        rightActionBar.domNode.classList.add('quick-input-right-action-bar');\n        const headerContainer = dom.append(container, $('.quick-input-header'));\n        const checkAll = dom.append(headerContainer, $('input.quick-input-check-all'));\n        checkAll.type = 'checkbox';\n        checkAll.setAttribute('aria-label', localize('quickInput.checkAll', \"Toggle all checkboxes\"));\n        this._register(dom.addStandardDisposableListener(checkAll, dom.EventType.CHANGE, e => {\n            const checked = checkAll.checked;\n            list.setAllVisibleChecked(checked);\n        }));\n        this._register(dom.addDisposableListener(checkAll, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space'...\n                inputBox.setFocus();\n            }\n        }));\n        const description2 = dom.append(headerContainer, $('.quick-input-description'));\n        const inputContainer = dom.append(headerContainer, $('.quick-input-and-message'));\n        const filterContainer = dom.append(inputContainer, $('.quick-input-filter'));\n        const inputBox = this._register(new QuickInputBox(filterContainer, this.styles.inputBox, this.styles.toggle));\n        inputBox.setAttribute('aria-describedby', `${this.idPrefix}message`);\n        const visibleCountContainer = dom.append(filterContainer, $('.quick-input-visible-count'));\n        visibleCountContainer.setAttribute('aria-live', 'polite');\n        visibleCountContainer.setAttribute('aria-atomic', 'true');\n        const visibleCount = new CountBadge(visibleCountContainer, { countFormat: localize({ key: 'quickInput.visibleCount', comment: ['This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers.'] }, \"{0} Results\") }, this.styles.countBadge);\n        const countContainer = dom.append(filterContainer, $('.quick-input-count'));\n        countContainer.setAttribute('aria-live', 'polite');\n        const count = new CountBadge(countContainer, { countFormat: localize({ key: 'quickInput.countSelected', comment: ['This tells the user how many items are selected in a list of items to select from. The items can be anything.'] }, \"{0} Selected\") }, this.styles.countBadge);\n        const okContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const ok = this._register(new Button(okContainer, this.styles.button));\n        ok.label = localize('ok', \"OK\");\n        this._register(ok.onDidClick(e => {\n            this.onDidAcceptEmitter.fire();\n        }));\n        const customButtonContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const customButton = this._register(new Button(customButtonContainer, this.styles.button));\n        customButton.label = localize('custom', \"Custom\");\n        this._register(customButton.onDidClick(e => {\n            this.onDidCustomEmitter.fire();\n        }));\n        const message = dom.append(inputContainer, $(`#${this.idPrefix}message.quick-input-message`));\n        const progressBar = this._register(new ProgressBar(container, this.styles.progressBar));\n        progressBar.getContainer().classList.add('quick-input-progress');\n        const widget = dom.append(container, $('.quick-input-html-widget'));\n        widget.tabIndex = -1;\n        const description1 = dom.append(container, $('.quick-input-description'));\n        const listId = this.idPrefix + 'list';\n        const list = this._register(new QuickInputList(container, listId, this.options, this.themeService));\n        inputBox.setAttribute('aria-controls', listId);\n        this._register(list.onDidChangeFocus(() => {\n            var _a;\n            inputBox.setAttribute('aria-activedescendant', (_a = list.getActiveDescendant()) !== null && _a !== void 0 ? _a : '');\n        }));\n        this._register(list.onChangedAllVisibleChecked(checked => {\n            checkAll.checked = checked;\n        }));\n        this._register(list.onChangedVisibleCount(c => {\n            visibleCount.setCount(c);\n        }));\n        this._register(list.onChangedCheckedCount(c => {\n            count.setCount(c);\n        }));\n        this._register(list.onLeave(() => {\n            // Defer to avoid the input field reacting to the triggering key.\n            setTimeout(() => {\n                inputBox.setFocus();\n                if (this.controller instanceof QuickPick && this.controller.canSelectMany) {\n                    list.clearFocus();\n                }\n            }, 0);\n        }));\n        const focusTracker = dom.trackFocus(container);\n        this._register(focusTracker);\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, e => {\n            // Ignore focus events within container\n            if (dom.isAncestor(e.relatedTarget, container)) {\n                return;\n            }\n            this.previousFocusElement = e.relatedTarget instanceof HTMLElement ? e.relatedTarget : undefined;\n        }, true));\n        this._register(focusTracker.onDidBlur(() => {\n            if (!this.getUI().ignoreFocusOut && !this.options.ignoreFocusOut()) {\n                this.hide(QuickInputHideReason.Blur);\n            }\n            this.previousFocusElement = undefined;\n        }));\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, (e) => {\n            inputBox.setFocus();\n        }));\n        // TODO: Turn into commands instead of handling KEY_DOWN\n        this._register(dom.addStandardDisposableListener(container, dom.EventType.KEY_DOWN, (event) => {\n            if (dom.isAncestor(event.target, widget)) {\n                return; // Ignore event if target is inside widget to allow the widget to handle the event.\n            }\n            switch (event.keyCode) {\n                case 3 /* KeyCode.Enter */:\n                    dom.EventHelper.stop(event, true);\n                    if (this.enabled) {\n                        this.onDidAcceptEmitter.fire();\n                    }\n                    break;\n                case 9 /* KeyCode.Escape */:\n                    dom.EventHelper.stop(event, true);\n                    this.hide(QuickInputHideReason.Gesture);\n                    break;\n                case 2 /* KeyCode.Tab */:\n                    if (!event.altKey && !event.ctrlKey && !event.metaKey) {\n                        // detect only visible actions\n                        const selectors = [\n                            '.quick-input-list .monaco-action-bar .always-visible',\n                            '.quick-input-list-entry:hover .monaco-action-bar',\n                            '.monaco-list-row.focused .monaco-action-bar'\n                        ];\n                        if (container.classList.contains('show-checkboxes')) {\n                            selectors.push('input');\n                        }\n                        else {\n                            selectors.push('input[type=text]');\n                        }\n                        if (this.getUI().list.isDisplayed()) {\n                            selectors.push('.monaco-list');\n                        }\n                        // focus links if there are any\n                        if (this.getUI().message) {\n                            selectors.push('.quick-input-message a');\n                        }\n                        if (this.getUI().widget) {\n                            if (dom.isAncestor(event.target, this.getUI().widget)) {\n                                // let the widget control tab\n                                break;\n                            }\n                            selectors.push('.quick-input-html-widget');\n                        }\n                        const stops = container.querySelectorAll(selectors.join(', '));\n                        if (event.shiftKey && event.target === stops[0]) {\n                            // Clear the focus from the list in order to allow\n                            // screen readers to read operations in the input box.\n                            dom.EventHelper.stop(event, true);\n                            list.clearFocus();\n                        }\n                        else if (!event.shiftKey && dom.isAncestor(event.target, stops[stops.length - 1])) {\n                            dom.EventHelper.stop(event, true);\n                            stops[0].focus();\n                        }\n                    }\n                    break;\n                case 10 /* KeyCode.Space */:\n                    if (event.ctrlKey) {\n                        dom.EventHelper.stop(event, true);\n                        this.getUI().list.toggleHover();\n                    }\n                    break;\n            }\n        }));\n        this.ui = {\n            container,\n            styleSheet,\n            leftActionBar,\n            titleBar,\n            title,\n            description1,\n            description2,\n            widget,\n            rightActionBar,\n            checkAll,\n            inputContainer,\n            filterContainer,\n            inputBox,\n            visibleCountContainer,\n            visibleCount,\n            countContainer,\n            count,\n            okContainer,\n            ok,\n            message,\n            customButtonContainer,\n            customButton,\n            list,\n            progressBar,\n            onDidAccept: this.onDidAcceptEmitter.event,\n            onDidCustom: this.onDidCustomEmitter.event,\n            onDidTriggerButton: this.onDidTriggerButtonEmitter.event,\n            ignoreFocusOut: false,\n            keyMods: this.keyMods,\n            show: controller => this.show(controller),\n            hide: () => this.hide(),\n            setVisibilities: visibilities => this.setVisibilities(visibilities),\n            setEnabled: enabled => this.setEnabled(enabled),\n            setContextKey: contextKey => this.options.setContextKey(contextKey),\n            linkOpenerDelegate: content => this.options.linkOpenerDelegate(content)\n        };\n        this.updateStyles();\n        return this.ui;\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return new Promise((doResolve, reject) => {\n            let resolve = (result) => {\n                var _a;\n                resolve = doResolve;\n                (_a = options.onKeyMods) === null || _a === void 0 ? void 0 : _a.call(options, input.keyMods);\n                doResolve(result);\n            };\n            if (token.isCancellationRequested) {\n                resolve(undefined);\n                return;\n            }\n            const input = this.createQuickPick();\n            let activeItem;\n            const disposables = [\n                input,\n                input.onDidAccept(() => {\n                    if (input.canSelectMany) {\n                        resolve(input.selectedItems.slice());\n                        input.hide();\n                    }\n                    else {\n                        const result = input.activeItems[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidChangeActive(items => {\n                    const focused = items[0];\n                    if (focused && options.onDidFocus) {\n                        options.onDidFocus(focused);\n                    }\n                }),\n                input.onDidChangeSelection(items => {\n                    if (!input.canSelectMany) {\n                        const result = items[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidTriggerItemButton(event => options.onDidTriggerItemButton && options.onDidTriggerItemButton(Object.assign(Object.assign({}, event), { removeItem: () => {\n                        const index = input.items.indexOf(event.item);\n                        if (index !== -1) {\n                            const items = input.items.slice();\n                            const removed = items.splice(index, 1);\n                            const activeItems = input.activeItems.filter(activeItem => activeItem !== removed[0]);\n                            const keepScrollPositionBefore = input.keepScrollPosition;\n                            input.keepScrollPosition = true;\n                            input.items = items;\n                            if (activeItems) {\n                                input.activeItems = activeItems;\n                            }\n                            input.keepScrollPosition = keepScrollPositionBefore;\n                        }\n                    } }))),\n                input.onDidTriggerSeparatorButton(event => { var _a; return (_a = options.onDidTriggerSeparatorButton) === null || _a === void 0 ? void 0 : _a.call(options, event); }),\n                input.onDidChangeValue(value => {\n                    if (activeItem && !value && (input.activeItems.length !== 1 || input.activeItems[0] !== activeItem)) {\n                        input.activeItems = [activeItem];\n                    }\n                }),\n                token.onCancellationRequested(() => {\n                    input.hide();\n                }),\n                input.onDidHide(() => {\n                    dispose(disposables);\n                    resolve(undefined);\n                }),\n            ];\n            input.title = options.title;\n            input.canSelectMany = !!options.canPickMany;\n            input.placeholder = options.placeHolder;\n            input.ignoreFocusOut = !!options.ignoreFocusLost;\n            input.matchOnDescription = !!options.matchOnDescription;\n            input.matchOnDetail = !!options.matchOnDetail;\n            input.matchOnLabel = (options.matchOnLabel === undefined) || options.matchOnLabel; // default to true\n            input.autoFocusOnList = (options.autoFocusOnList === undefined) || options.autoFocusOnList; // default to true\n            input.quickNavigate = options.quickNavigate;\n            input.hideInput = !!options.hideInput;\n            input.contextKey = options.contextKey;\n            input.busy = true;\n            Promise.all([picks, options.activeItem])\n                .then(([items, _activeItem]) => {\n                activeItem = _activeItem;\n                input.busy = false;\n                input.items = items;\n                if (input.canSelectMany) {\n                    input.selectedItems = items.filter(item => item.type !== 'separator' && item.picked);\n                }\n                if (activeItem) {\n                    input.activeItems = [activeItem];\n                }\n            });\n            input.show();\n            Promise.resolve(picks).then(undefined, err => {\n                reject(err);\n                input.hide();\n            });\n        });\n    }\n    createQuickPick() {\n        const ui = this.getUI();\n        return new QuickPick(ui);\n    }\n    createInputBox() {\n        const ui = this.getUI();\n        return new InputBox(ui);\n    }\n    show(controller) {\n        const ui = this.getUI();\n        this.onShowEmitter.fire();\n        const oldController = this.controller;\n        this.controller = controller;\n        oldController === null || oldController === void 0 ? void 0 : oldController.didHide();\n        this.setEnabled(true);\n        ui.leftActionBar.clear();\n        ui.title.textContent = '';\n        ui.description1.textContent = '';\n        ui.description2.textContent = '';\n        dom.reset(ui.widget);\n        ui.rightActionBar.clear();\n        ui.checkAll.checked = false;\n        // ui.inputBox.value = ''; Avoid triggering an event.\n        ui.inputBox.placeholder = '';\n        ui.inputBox.password = false;\n        ui.inputBox.showDecoration(Severity.Ignore);\n        ui.visibleCount.setCount(0);\n        ui.count.setCount(0);\n        dom.reset(ui.message);\n        ui.progressBar.stop();\n        ui.list.setElements([]);\n        ui.list.matchOnDescription = false;\n        ui.list.matchOnDetail = false;\n        ui.list.matchOnLabel = true;\n        ui.list.sortByLabel = true;\n        ui.ignoreFocusOut = false;\n        ui.inputBox.toggles = undefined;\n        const backKeybindingLabel = this.options.backKeybindingLabel();\n        backButton.tooltip = backKeybindingLabel ? localize('quickInput.backWithKeybinding', \"Back ({0})\", backKeybindingLabel) : localize('quickInput.back', \"Back\");\n        ui.container.style.display = '';\n        this.updateLayout();\n        ui.inputBox.setFocus();\n    }\n    setVisibilities(visibilities) {\n        const ui = this.getUI();\n        ui.title.style.display = visibilities.title ? '' : 'none';\n        ui.description1.style.display = visibilities.description && (visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.description2.style.display = visibilities.description && !(visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.checkAll.style.display = visibilities.checkAll ? '' : 'none';\n        ui.inputContainer.style.display = visibilities.inputBox ? '' : 'none';\n        ui.filterContainer.style.display = visibilities.inputBox ? '' : 'none';\n        ui.visibleCountContainer.style.display = visibilities.visibleCount ? '' : 'none';\n        ui.countContainer.style.display = visibilities.count ? '' : 'none';\n        ui.okContainer.style.display = visibilities.ok ? '' : 'none';\n        ui.customButtonContainer.style.display = visibilities.customButton ? '' : 'none';\n        ui.message.style.display = visibilities.message ? '' : 'none';\n        ui.progressBar.getContainer().style.display = visibilities.progressBar ? '' : 'none';\n        ui.list.display(!!visibilities.list);\n        ui.container.classList.toggle('show-checkboxes', !!visibilities.checkBox);\n        ui.container.classList.toggle('hidden-input', !visibilities.inputBox && !visibilities.description);\n        this.updateLayout(); // TODO\n    }\n    setEnabled(enabled) {\n        if (enabled !== this.enabled) {\n            this.enabled = enabled;\n            for (const item of this.getUI().leftActionBar.viewItems) {\n                item.action.enabled = enabled;\n            }\n            for (const item of this.getUI().rightActionBar.viewItems) {\n                item.action.enabled = enabled;\n            }\n            this.getUI().checkAll.disabled = !enabled;\n            this.getUI().inputBox.enabled = enabled;\n            this.getUI().ok.enabled = enabled;\n            this.getUI().list.enabled = enabled;\n        }\n    }\n    hide(reason) {\n        var _a, _b, _c;\n        const controller = this.controller;\n        if (!controller) {\n            return;\n        }\n        const focusChanged = !dom.isAncestor(document.activeElement, (_b = (_a = this.ui) === null || _a === void 0 ? void 0 : _a.container) !== null && _b !== void 0 ? _b : null);\n        this.controller = null;\n        this.onHideEmitter.fire();\n        this.getUI().container.style.display = 'none';\n        if (!focusChanged) {\n            let currentElement = this.previousFocusElement;\n            while (currentElement && !currentElement.offsetParent) {\n                currentElement = (_c = currentElement.parentElement) !== null && _c !== void 0 ? _c : undefined;\n            }\n            if (currentElement === null || currentElement === void 0 ? void 0 : currentElement.offsetParent) {\n                currentElement.focus();\n                this.previousFocusElement = undefined;\n            }\n            else {\n                this.options.returnFocus();\n            }\n        }\n        controller.didHide(reason);\n    }\n    layout(dimension, titleBarOffset) {\n        this.dimension = dimension;\n        this.titleBarOffset = titleBarOffset;\n        this.updateLayout();\n    }\n    updateLayout() {\n        if (this.ui && this.isDisplayed()) {\n            this.ui.container.style.top = `${this.titleBarOffset}px`;\n            const style = this.ui.container.style;\n            const width = Math.min(this.dimension.width * 0.62 /* golden cut */, QuickInputController.MAX_WIDTH);\n            style.width = width + 'px';\n            style.marginLeft = '-' + (width / 2) + 'px';\n            this.ui.inputBox.layout();\n            this.ui.list.layout(this.dimension && this.dimension.height * 0.4);\n        }\n    }\n    applyStyles(styles) {\n        this.styles = styles;\n        this.updateStyles();\n    }\n    updateStyles() {\n        if (this.ui) {\n            const { quickInputTitleBackground, quickInputBackground, quickInputForeground, widgetBorder, widgetShadow, } = this.styles.widget;\n            this.ui.titleBar.style.backgroundColor = quickInputTitleBackground !== null && quickInputTitleBackground !== void 0 ? quickInputTitleBackground : '';\n            this.ui.container.style.backgroundColor = quickInputBackground !== null && quickInputBackground !== void 0 ? quickInputBackground : '';\n            this.ui.container.style.color = quickInputForeground !== null && quickInputForeground !== void 0 ? quickInputForeground : '';\n            this.ui.container.style.border = widgetBorder ? `1px solid ${widgetBorder}` : '';\n            this.ui.container.style.boxShadow = widgetShadow ? `0 0 8px 2px ${widgetShadow}` : '';\n            this.ui.list.style(this.styles.list);\n            const content = [];\n            if (this.styles.pickerGroup.pickerGroupBorder) {\n                content.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`);\n            }\n            if (this.styles.pickerGroup.pickerGroupForeground) {\n                content.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);\n            }\n            if (this.styles.pickerGroup.pickerGroupForeground) {\n                content.push(`.quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }`);\n            }\n            if (this.styles.keybindingLabel.keybindingLabelBackground ||\n                this.styles.keybindingLabel.keybindingLabelBorder ||\n                this.styles.keybindingLabel.keybindingLabelBottomBorder ||\n                this.styles.keybindingLabel.keybindingLabelShadow ||\n                this.styles.keybindingLabel.keybindingLabelForeground) {\n                content.push('.quick-input-list .monaco-keybinding > .monaco-keybinding-key {');\n                if (this.styles.keybindingLabel.keybindingLabelBackground) {\n                    content.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBorder) {\n                    // Order matters here. `border-color` must come before `border-bottom-color`.\n                    content.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBottomBorder) {\n                    content.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelShadow) {\n                    content.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelForeground) {\n                    content.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`);\n                }\n                content.push('}');\n            }\n            const newStyles = content.join('\\n');\n            if (newStyles !== this.ui.styleSheet.textContent) {\n                this.ui.styleSheet.textContent = newStyles;\n            }\n        }\n    }\n    isDisplayed() {\n        return this.ui && this.ui.container.style.display !== 'none';\n    }\n}\nQuickInputController.MAX_WIDTH = 600; // Max total width of quick input widget\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { WorkbenchList } from '../../list/browser/listService.js';\nimport { IOpenerService } from '../../opener/common/opener.js';\nimport { QuickAccessController } from './quickAccess.js';\nimport { defaultButtonStyles, defaultCountBadgeStyles, defaultInputBoxStyles, defaultKeybindingLabelStyles, defaultProgressBarStyles, defaultToggleStyles, getListStyles } from '../../theme/browser/defaultStyles.js';\nimport { activeContrastBorder, asCssVariable, pickerGroupBorder, pickerGroupForeground, quickInputBackground, quickInputForeground, quickInputListFocusBackground, quickInputListFocusForeground, quickInputListFocusIconForeground, quickInputTitleBackground, widgetBorder, widgetShadow } from '../../theme/common/colorRegistry.js';\nimport { IThemeService, Themable } from '../../theme/common/themeService.js';\nimport { QuickInputController } from './quickInputController.js';\nlet QuickInputService = class QuickInputService extends Themable {\n    get controller() {\n        if (!this._controller) {\n            this._controller = this._register(this.createController());\n        }\n        return this._controller;\n    }\n    get hasController() { return !!this._controller; }\n    get quickAccess() {\n        if (!this._quickAccess) {\n            this._quickAccess = this._register(this.instantiationService.createInstance(QuickAccessController));\n        }\n        return this._quickAccess;\n    }\n    constructor(instantiationService, contextKeyService, themeService, layoutService) {\n        super(themeService);\n        this.instantiationService = instantiationService;\n        this.contextKeyService = contextKeyService;\n        this.layoutService = layoutService;\n        this._onShow = this._register(new Emitter());\n        this._onHide = this._register(new Emitter());\n        this.contexts = new Map();\n    }\n    createController(host = this.layoutService, options) {\n        const defaultOptions = {\n            idPrefix: 'quickInput_',\n            container: host.container,\n            ignoreFocusOut: () => false,\n            backKeybindingLabel: () => undefined,\n            setContextKey: (id) => this.setContextKey(id),\n            linkOpenerDelegate: (content) => {\n                // HACK: https://github.com/microsoft/vscode/issues/173691\n                this.instantiationService.invokeFunction(accessor => {\n                    const openerService = accessor.get(IOpenerService);\n                    openerService.open(content, { allowCommands: true, fromUserGesture: true });\n                });\n            },\n            returnFocus: () => host.focus(),\n            createList: (user, container, delegate, renderers, options) => this.instantiationService.createInstance(WorkbenchList, user, container, delegate, renderers, options),\n            styles: this.computeStyles()\n        };\n        const controller = this._register(new QuickInputController(Object.assign(Object.assign({}, defaultOptions), options), this.themeService));\n        controller.layout(host.dimension, host.offset.quickPickTop);\n        // Layout changes\n        this._register(host.onDidLayout(dimension => controller.layout(dimension, host.offset.quickPickTop)));\n        // Context keys\n        this._register(controller.onShow(() => {\n            this.resetContextKeys();\n            this._onShow.fire();\n        }));\n        this._register(controller.onHide(() => {\n            this.resetContextKeys();\n            this._onHide.fire();\n        }));\n        return controller;\n    }\n    setContextKey(id) {\n        let key;\n        if (id) {\n            key = this.contexts.get(id);\n            if (!key) {\n                key = new RawContextKey(id, false)\n                    .bindTo(this.contextKeyService);\n                this.contexts.set(id, key);\n            }\n        }\n        if (key && key.get()) {\n            return; // already active context\n        }\n        this.resetContextKeys();\n        key === null || key === void 0 ? void 0 : key.set(true);\n    }\n    resetContextKeys() {\n        this.contexts.forEach(context => {\n            if (context.get()) {\n                context.reset();\n            }\n        });\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return this.controller.pick(picks, options, token);\n    }\n    createQuickPick() {\n        return this.controller.createQuickPick();\n    }\n    createInputBox() {\n        return this.controller.createInputBox();\n    }\n    updateStyles() {\n        if (this.hasController) {\n            this.controller.applyStyles(this.computeStyles());\n        }\n    }\n    computeStyles() {\n        return {\n            widget: {\n                quickInputBackground: asCssVariable(quickInputBackground),\n                quickInputForeground: asCssVariable(quickInputForeground),\n                quickInputTitleBackground: asCssVariable(quickInputTitleBackground),\n                widgetBorder: asCssVariable(widgetBorder),\n                widgetShadow: asCssVariable(widgetShadow),\n            },\n            inputBox: defaultInputBoxStyles,\n            toggle: defaultToggleStyles,\n            countBadge: defaultCountBadgeStyles,\n            button: defaultButtonStyles,\n            progressBar: defaultProgressBarStyles,\n            keybindingLabel: defaultKeybindingLabelStyles,\n            list: getListStyles({\n                listBackground: quickInputBackground,\n                listFocusBackground: quickInputListFocusBackground,\n                listFocusForeground: quickInputListFocusForeground,\n                // Look like focused when inactive.\n                listInactiveFocusForeground: quickInputListFocusForeground,\n                listInactiveSelectionIconForeground: quickInputListFocusIconForeground,\n                listInactiveFocusBackground: quickInputListFocusBackground,\n                listFocusOutline: activeContrastBorder,\n                listInactiveFocusOutline: activeContrastBorder,\n            }),\n            pickerGroup: {\n                pickerGroupBorder: asCssVariable(pickerGroupBorder),\n                pickerGroupForeground: asCssVariable(pickerGroupForeground),\n            }\n        };\n    }\n};\nQuickInputService = __decorate([\n    __param(0, IInstantiationService),\n    __param(1, IContextKeyService),\n    __param(2, IThemeService),\n    __param(3, ILayoutService)\n], QuickInputService);\nexport { QuickInputService };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { coalesce } from '../../../base/common/arrays.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { Registry } from '../../registry/common/platform.js';\nexport var DefaultQuickAccessFilterValue;\n(function (DefaultQuickAccessFilterValue) {\n    /**\n     * Keep the value as it is given to quick access.\n     */\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"PRESERVE\"] = 0] = \"PRESERVE\";\n    /**\n     * Use the value that was used last time something was accepted from the picker.\n     */\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"LAST\"] = 1] = \"LAST\";\n})(DefaultQuickAccessFilterValue || (DefaultQuickAccessFilterValue = {}));\nexport const Extensions = {\n    Quickaccess: 'workbench.contributions.quickaccess'\n};\nexport class QuickAccessRegistry {\n    constructor() {\n        this.providers = [];\n        this.defaultProvider = undefined;\n    }\n    registerQuickAccessProvider(provider) {\n        // Extract the default provider when no prefix is present\n        if (provider.prefix.length === 0) {\n            this.defaultProvider = provider;\n        }\n        else {\n            this.providers.push(provider);\n        }\n        // sort the providers by decreasing prefix length, such that longer\n        // prefixes take priority: 'ext' vs 'ext install' - the latter should win\n        this.providers.sort((providerA, providerB) => providerB.prefix.length - providerA.prefix.length);\n        return toDisposable(() => {\n            this.providers.splice(this.providers.indexOf(provider), 1);\n            if (this.defaultProvider === provider) {\n                this.defaultProvider = undefined;\n            }\n        });\n    }\n    getQuickAccessProviders() {\n        return coalesce([this.defaultProvider, ...this.providers]);\n    }\n    getQuickAccessProvider(prefix) {\n        const result = prefix ? (this.providers.find(provider => prefix.startsWith(provider.prefix)) || undefined) : undefined;\n        return result || this.defaultProvider;\n    }\n}\nRegistry.add(Extensions.Quickaccess, new QuickAccessRegistry());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const NO_KEY_MODS = { ctrlCmd: false, alt: false };\nexport var QuickInputHideReason;\n(function (QuickInputHideReason) {\n    /**\n     * Focus moved away from the quick input.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Blur\"] = 1] = \"Blur\";\n    /**\n     * An explicit user gesture, e.g. pressing Escape key.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Gesture\"] = 2] = \"Gesture\";\n    /**\n     * Anything else.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Other\"] = 3] = \"Other\";\n})(QuickInputHideReason || (QuickInputHideReason = {}));\nexport var ItemActivation;\n(function (ItemActivation) {\n    ItemActivation[ItemActivation[\"NONE\"] = 0] = \"NONE\";\n    ItemActivation[ItemActivation[\"FIRST\"] = 1] = \"FIRST\";\n    ItemActivation[ItemActivation[\"SECOND\"] = 2] = \"SECOND\";\n    ItemActivation[ItemActivation[\"LAST\"] = 3] = \"LAST\";\n})(ItemActivation || (ItemActivation = {}));\nexport class QuickPickItemScorerAccessor {\n    constructor(options) {\n        this.options = options;\n    }\n}\nexport const quickPickItemScorerAccessor = new QuickPickItemScorerAccessor();\n//#endregion\nexport const IQuickInputService = createDecorator('quickInputService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Assert from '../../../base/common/assert.js';\nimport * as Types from '../../../base/common/types.js';\nclass RegistryImpl {\n    constructor() {\n        this.data = new Map();\n    }\n    add(id, data) {\n        Assert.ok(Types.isString(id));\n        Assert.ok(Types.isObject(data));\n        Assert.ok(!this.data.has(id), 'There is already an extension with this id');\n        this.data.set(id, data);\n    }\n    as(id) {\n        return this.data.get(id) || null;\n    }\n}\nexport const Registry = new RegistryImpl();\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './media/severityIcon.css';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport Severity from '../../../base/common/severity.js';\nexport var SeverityIcon;\n(function (SeverityIcon) {\n    function className(severity) {\n        switch (severity) {\n            case Severity.Ignore:\n                return 'severity-ignore ' + ThemeIcon.asClassName(Codicon.info);\n            case Severity.Info:\n                return ThemeIcon.asClassName(Codicon.info);\n            case Severity.Warning:\n                return ThemeIcon.asClassName(Codicon.warning);\n            case Severity.Error:\n                return ThemeIcon.asClassName(Codicon.error);\n            default:\n                return '';\n        }\n    }\n    SeverityIcon.className = className;\n})(SeverityIcon || (SeverityIcon = {}));\n"],"names":["IDialogService","createDecorator","CodeDataTransfers","EDITORS","FILES","DragAndDropContributionRegistry","_createClass","_classCallCheck","Registry","add","LocalSelectionTransfer","key","value","proto","this","hasData","data","INSTANCE","EditorOpenSource","IEnvironmentService","ExtensionIdentifier","_lower","toLowerCase","id","ExtensionIdentifierSet","iterable","_set","Set","_step","_iterator","_createForOfIteratorHelper","s","n","done","err","e","f","toKey","has","FileKind","__decorate","decorators","target","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","historyNavigationVisible","RawContextKey","localize","HistoryNavigationWidgetFocusContext","HistoryNavigationForwardsEnablementContext","HistoryNavigationBackwardsEnablementContext","lastFocusedWidget","undefined","widgets","registerAndCreateHistoryNavigationContext","scopedContextKeyService","widget","includes","Error","push","disposableStore","DisposableStore","historyNavigationWidgetFocus","bindTo","historyNavigationForwardsEnablement","historyNavigationBackwardsEnablement","onDidFocus","set","onDidBlur","element","document","activeElement","toDisposable","splice","indexOf","dispose","ContextScopedFindInput","_FindInput","_inherits","_super","_createSuper","container","contextViewProvider","options","contextKeyService","_this","call","_register","createScoped","inputBox","FindInput","IContextKeyService","ContextScopedReplaceInput","_ReplaceInput","_super2","_this2","showReplaceOptions","ReplaceInput","KeybindingsRegistry","registerCommandAndKeybindingRule","weight","when","ContextKeyExpr","and","equals","not","isEqualTo","primary","secondary","handler","accessor","showPreviousValue","showNextValue","showHistoryKeybindingHint","keybindingService","_a","_b","lookupKeybinding","getElectronAccelerator","SyncDescriptor","ctor","staticArguments","supportsDelayedInstantiation","_registry","registerSingleton","ctorOrDescriptor","Boolean","getSingletonServiceDescriptors","_util","serviceIds","Map","DI_TARGET","DI_DEPENDENCIES","getServiceDependencies","IInstantiationService","serviceId","get","index","storeServiceDependency","toString","Node","incoming","outgoing","Graph","_hashFn","_nodes","ret","values","node","size","from","to","fromNode","lookupOrInsertNode","toNode","delete","_step2","_iterator2","_step3","_iterator3","_step3$value","_slicedToArray","concat","_toConsumableArray","keys","join","_step4","_iterator4","_step4$value","seen","res","_findCycle","_step5","_iterator5","_step5$value","CyclicDependencyError","_Error","graph","message","findCycleSlow","_wrapNativeSuper","InstantiationService","_services","ServiceCollection","_strict","_parent","_enableTracing","_activeInstantiations","_globalGraph","services","fn","_trace","Trace","traceInvocation","_done","illegalState","result","_getOrCreateServiceInstance","_len","args","Array","_key","apply","stop","_len2","rest","_key2","traceCreation","_createInstance","serviceDependencies","sort","a","b","serviceArgs","dependency","service","_throwIfStrict","name","firstServiceArgPos","console","trace","delta","slice","construct","instance","_setServiceInstance","instanceOrDesc","_getServiceInstanceOrDescriptor","_globalGraphImplicitDependency","insertEdge","String","thing","_safeCreateAndCacheServiceInstance","branch","_createAndCacheServiceInstance","cycleCount","stack","item","pop","roots","isEmpty","_createServiceInstanceWithOwner","removeNode","_createServiceInstance","child","earlyListeners","idle","IdleValue","candidate","listener","clear","Proxy","create","isInitialized","startsWith","list","LinkedList","callback","thisArg","disposables","rm","obj","prop","bind","_target","p","getPrototypeOf","prototype","msg","printWarning","warn","type","_start","Date","now","_dep","first","dur","_totals","causedCreation","lines","printChild","_step6","prefix","_iterator6","_step6$value","nested","toFixed","all","split","_None","_Trace","_class","_entries","entries","_i","_entries$_i","instanceOrDescriptor","Extensions","JSONContribution","jsonContributionRegistry","JSONContributionRegistry","_onDidChangeSchema","Emitter","schemasById","uri","unresolvedSchemaContent","charAt","substring","fire","platform","HIGH_FREQ_COMMANDS","AbstractKeybindingService","_Disposable","_contextKeyService","_commandService","_telemetryService","_notificationService","_logService","_onDidUpdateKeybindings","_currentChords","_currentChordChecker","IntervalTimer","_currentChordStatusMessage","_ignoreSingleModifiers","KeybindingModifierSet","EMPTY","_currentSingleModifier","_currentSingleModifierClearTimeout","TimeoutTimer","_logging","event","Event","None","_get","_getPrototypeOf","str","info","_getResolver","getKeybindings","commandId","context","lookupPrimaryKeybinding","resolvedKeybinding","_dispatch","_log","keybinding","resolveKeyboardEvent","hasMultipleChords","NoMatchingKb","_keybinding$getDispat","getDispatchChords","firstChord","contextValue","getContext","currentChords","map","_ref","keypress","resolve","chordLastInteractedTime","cancelAndSet","_documentHasFocus","_leaveChordMode","keypressLabel","label","status","nls","fullKeypressLabel","_ref2","_scheduleLeaveChordMode","IME","enabled","disable","cancel","enable","_doDispatch","_this3","_keybinding$getSingle","getSingleModifierDispatchChords","singleModifier","_keybinding$getChords","getChords","userKeypress","_this4","isSingleModiferChord","shouldPreventDefault","userPressedChord","_userKeypress$getSing","dispatchKeyname","_userKeypress$getDisp","_ref3","getLabel","resolveResult","kind","inChordMode","currentChordsLabel","_ref4","hideAfter","_expectAnotherChord","_ref5","isBubble","commandArgs","executeCommand","then","test","publicLog2","detail","getUserSettingsLabel","ctrlKey","metaKey","keyCode","Disposable","source","_ctrlKey","_shiftKey","shiftKey","_altKey","altKey","_metaKey","modifier","IKeybindingService","MoreChordsNeeded","KeybindingResolver","defaultKeybindings","overrides","log","_defaultKeybindings","_defaultBoundCommands","command","_map","_lookupMap","_keybindings","handleRemovals","len","k","chords","substituteConstants","_addKeyPress","conflicts","_addToLookupMap","conflict","isShorterKbPrefix","whenIsEntirelyIncluded","_removeFromLookupMap","arr","items","contextMatchesRules","pressedChords","kbCandidates","lookupMap","prefixMatches","_findCommand","printWhenExplanation","printSourceExplanation","bubble","matches","_contextMatchesRules","defaultKb","expressionsAreEqualWithConstantSubstitution","rules","removals","rule","commandRemovals","isDefault","isRemoved","commandRemoval","_isTargetedForRemoval","implies","evaluate","serialize","kb","extensionId","isBuiltinExtension","KeybindingsRegistryImpl","_coreKeybindings","_extensionKeybindings","_cachedMergedKeybindings","actualKb","bindToCurrentPlatform","kk","decodeKeybinding","OS","_registerDefaultKeybinding","isArray","combinedDisposable","registerKeybindingRule","CommandsRegistry","registerCommand","weight1","weight2","remove","sorter","win","mac","linux","ResolvedKeybindingItem","_resolvedKeybindingItemBrand","toEmptyArrayIfContainsNull","charCodeAt","substr","BaseResolvedKeybinding","_ResolvedKeybinding","os","illegalArgument","_os","_chords","UILabelProvider","toLabel","_getLabel","AriaLabelProvider","_getAriaLabel","isDuplicateModifierCase","ElectronAcceleratorLabelProvider","_getElectronAccelerator","_this5","UserSettingsLabelProvider","_getUserSettingsLabel","_this6","_getChord","ResolvedChord","_this7","_getChordDispatch","_this8","_getSingleModifierChordDispatch","ResolvedKeybinding","USLayoutResolvedKeybinding","_BaseResolvedKeybindi","KeyCodeUtils","chord","_keyCodeToUILabel","toElectronAccelerator","toUserSettingsUS","getDispatchStr","isModifierKey","scanCode","immutableKeyCode","IMMUTABLE_CODE_TO_KEY_CODE","KeyCodeChord","_scanCodeToKeyCode","_toKeyCodeChord","ILabelService","ILayoutService","IListService","ListService","lists","_lastFocusedWidget","_hasCreatedStyleController","getHTMLElement","classList","extraContextKeys","DefaultStyleController","createStyleSheet","style","defaultListStyles","some","l","registeredList","setLastFocusedList","onDidDispose","filter","RawWorkbenchListScrollAtBoundaryContextKey","RawWorkbenchListFocusContextKey","or","WorkbenchListSupportsMultiSelectContextKey","WorkbenchListFocusContextKey","InputFocusedContextKey","WorkbenchListHasSelectionOrFocus","WorkbenchListDoubleSelection","WorkbenchListMultiSelection","WorkbenchListSelectionNavigation","WorkbenchListSupportsFind","WorkbenchTreeElementCanCollapse","WorkbenchTreeElementHasParent","WorkbenchTreeElementCanExpand","WorkbenchTreeElementHasChild","WorkbenchTreeFindOpen","WorkbenchListTypeNavigationModeKey","WorkbenchListAutomaticKeyboardNavigationLegacyKey","createScopedContextKeyService","createScrollObserver","listScrollAt","update","atTop","scrollTop","atBottom","scrollHeight","renderHeight","onDidScroll","multiSelectModifierSettingKey","openModeSettingKey","horizontalScrollingKey","defaultFindModeSettingKey","typeNavigationModeSettingKey","keyboardNavigationSettingKey","scrollByPageKey","defaultFindMatchTypeSettingKey","treeIndentKey","treeRenderIndentGuidesKey","listSmoothScrolling","mouseWheelScrollSensitivityKey","fastScrollSensitivityKey","treeExpandMode","useAltAsMultipleSelectionModifier","configurationService","getValue","MultipleSelectionController","registerListeners","onDidChangeConfiguration","affectsConfiguration","browserEvent","isSelectionSingleChangeEvent","isSelectionRangeChangeEvent","toWorkbenchListOptions","IConfigurationService","assign","keyboardNavigationDelegate","mightProducePrintableCharacter","smoothScrolling","mouseWheelScrollSensitivity","fastScrollSensitivity","multipleSelectionController","keyboardNavigationEventFilter","createKeyboardNavigationEventFilter","scrollByPage","WorkbenchList","_List","user","delegate","renderers","listService","instantiationService","horizontalScrolling","_instantiationService","invokeFunction","_instantiationService2","workbenchListOptions","workbenchListOptionsDisposable","keyboardSupport","_assertThisInitialized","listSupportsMultiSelect","multipleSelectionSupport","selectionNavigation","listHasSelectionOrFocus","listDoubleSelection","listMultiSelection","_useAltAsMultipleSelectionModifier","register","updateStyles","overrideStyles","onDidChangeSelection","selection","getSelection","focus","getFocus","bufferChangeEvents","onDidChangeFocus","updateOptions","navigator","ListResourceNavigator","styles","getListStyles","List","WorkbenchPagedList","_PagedList","_super3","_instantiationService3","_instantiationService4","PagedList","WorkbenchTable","_Table","_super4","columns","_instantiationService5","_instantiationService6","TableResourceNavigator","Table","ResourceNavigator","_Disposable2","_super5","_onDidOpen","onDidOpen","KeyboardEvent","onSelectionFromKeyboard","onPointer","onMouseDblClick","openOnSingleClick","elements","selectionKeyboardEvent","preserveFocus","pinned","_open","getSelectedElement","button","sideBySide","contains","offsetX","editorOptions","revealIfVisible","_ResourceNavigator","_super6","getSelectedElements","_ResourceNavigator2","_super7","TreeResourceNavigator","_ResourceNavigator3","_super8","inMultiChord","toKeyCodeChord","softDispatch","WorkbenchObjectTree","_ObjectTree","_super9","_this9","_instantiationService7","workbenchTreeDataPreamble","treeOptions","getTypeNavigationMode","disposable","internals","WorkbenchTreeInternals","ObjectTree","WorkbenchCompressibleObjectTree","_CompressibleObjectTr","_super10","_this10","_instantiationService8","updateStyleOverrides","CompressibleObjectTree","WorkbenchDataTree","_DataTree","_super11","dataSource","_this11","_instantiationService9","DataTree","WorkbenchAsyncDataTree","_AsyncDataTree","_super12","_this12","_instantiationService10","AsyncDataTree","WorkbenchCompressibleAsyncDataTree","_CompressibleAsyncDat","_super13","virtualDelegate","compressionDelegate","_this13","_instantiationService11","CompressibleAsyncDataTree","getDefaultTreeFindMode","TreeFindMode","Highlight","Filter","deprecatedValue","getDefaultTreeFindMatchType","TreeFindMatchType","Fuzzy","Contiguous","contextViewService","IContextViewService","_instantiationService12","_instantiationService13","paddingBottom","renderIndentGuides","modeString","getContextKeyValue","TypeNavigationMode","Automatic","Trigger","configString","indent","defaultFindMode","defaultFindMatchType","hideTwistiesOfChildlessElements","expandOnlyOnTwistieClick","findWidgetStyles","defaultFindWidgetStyles","tree","_this14","listSupportFindWidget","findWidgetEnabled","hasSelectionOrFocus","hasDoubleSelection","hasMultiSelection","treeElementCanCollapse","treeElementHasParent","treeElementCanExpand","treeElementHasChild","treeFindOpen","updateCollapseContextKeys","getNode","collapsible","collapsed","getParentElement","getFirstElementChild","interestingContextKeys","onDidChangeCollapseState","onDidChangeModel","onDidChangeFindOpenState","newOptions","typeNavigationMode","onDidChangeContext","affectsSome","as","ConfigurationExtensions","Configuration","registerConfiguration","order","title","properties","_properties","_defineProperty","enum","markdownEnumDescriptions","default","description","comment","minimum","maximum","markdownDescription","enumDescriptions","deprecated","deprecationMessage","LogLevel","ILogService","DEFAULT_LOG_LEVEL","Info","AbstractLogger","level","_onDidChangeLogLevel","onDidChangeLogLevel","Off","ConsoleLogger","_AbstractLogger","logLevel","useColors","setLevel","checkLogLevel","_console","_console2","Debug","_console3","_console4","_len3","_key3","_console5","_console6","Warning","_len4","_key4","_console7","_console8","_len5","_key5","_console9","_console10","error","MultiplexLogger","_AbstractLogger2","loggers","getLevel","_len6","_key6","logger","_len7","_key7","debug","_len8","_key8","_len9","_key9","_len10","_key10","_step7","_iterator7","LogLevelToString","LogService","primaryLogger","otherLoggers","_this$logger","_this$logger2","_this$logger3","_this$logger4","_this$logger5","unsupportedSchemas","Schemas","inMemory","vscodeSourceControl","walkThrough","walkThroughSnippet","DoubleResourceMap","_byResource","ResourceMap","_byOwner","resource","owner","ownerMap","resourceMap","removedA","removedB","_c","_d","Iterable","empty","URI","isUri","MarkerStats","errors","infos","warnings","unknowns","_data","_service","_subscription","onMarkerChanged","_update","resources","oldStats","_substract","newStats","_resourceStats","_add","scheme","read","severity","MarkerSeverity","op","MarkerService","_onMarkerChanged","DebounceEmitter","delay","merge","_merge","_stats","changeOne","markerData","isFalsyOrEmpty","markers","marker","_toMarker","changes","existing","isNonEmptyArray","groups","array","_step7$value","severities","take","_step8","_iterator8","_accept","newLen","_step11","_iterator11","_step12","_iterator12","_step9","_iterator9","_step10","_iterator10","code","startLineNumber","startColumn","endLineNumber","endColumn","relatedInformation","tags","_step13","_iterator13","_step14","_iterator14","IMarkerData","compare","_displayStrings","fromSeverity","Severity","Ignore","Hint","toSeverity","emptyString","makeKeyOptionalMessage","useMessage","replace","makeKey","IMarkerService","BaseSeverity","INotificationService","NoOpNotification","Link","_link","openerService","_enabled","el","append","$","tabIndex","href","setAttribute","onClickEmitter","DomEmitter","onKeyPress","onEnterPress","chain","StandardKeyboardEvent","onTap","TouchEventType","Tap","Gesture","addTarget","onOpen","any","EventHelper","opener","open","allowCommands","pointerEvents","opacity","cursor","IOpenerService","matchesScheme","equalsIgnoreCase","startsWithIgnoreCase","matchesSomeScheme","schemes","extractSelection","match","exec","fragment","parseInt","with","IProgressService","Progress","freeze","total","worked","opts","report","async","_reportAsync","_reportSync","_value","Promise","_lastTask","finally","IEditorProgressService","TriggerAction","__awaiter","_arguments","P","generator","reject","fulfilled","step","next","rejected","isPicksWithActive","isFastAndSlowPicks","picks","additionalPicks","AbstractCommandsQuickAccessProvider_1","CommandsHistory_1","PickerQuickAccessProvider","picker","token","runOptions","canAcceptInBackground","matchOnLabel","matchOnDescription","matchOnDetail","sortByLabel","picksCts","picksDisposable","MutableDisposable","updatePickerItems","_regeneratorRuntime","mark","_callee4","picksDisposables","picksToken","picksFilter","providedPicks","applyPicks","applyFastAndSlowPicks","awaitedPicks","wrap","_context4","prev","busy","CancellationTokenSource","trim","_getPicks","skipEmpty","activeItem","active","hideInput","noResultsPick","isFunction","activeItems","fastAndSlowPicks","_callee3","fastPicksApplied","slowPicksApplied","_context3","_callee","_context","mergeDelay","timeout","isCancellationRequested","abrupt","_callee2","awaitedAdditionalPicks","activePick","additionalActivePick","fallbackActivePick","fallbackActivePickCandidate","_context2","sent","finish","onDidChangeValue","onDidAccept","selectedItems","accept","inBackground","hide","keyMods","onDidTriggerItemButton","_callee5","buttonIndex","action","removed","keepScrollPositionBefore","_context5","trigger","buttons","t0","t1","NO_ACTION","CLOSE_PICKER","REFRESH_PICKER","REMOVE_ITEM","keepScrollPosition","AbstractCommandsQuickAccessProvider","_PickerQuickAccessPro","commandService","telemetryService","dialogService","PREFIX","commandsHistory","createInstance","CommandsHistory","_disposables","allCommandPicks","runTfidf","filteredCommandPicks","_loop","_ret","mapLabelToCommand","_filteredCommandPicks","commandPick","existingCommandForLabel","commandPicks","addOtherSeparator","addSuggestedSeparator","addCommonlyUsedSeparator","_commandPick","getCommandPicks","createSingleCallFunction","tfidf","TfIdfCalculator","updateDocuments","textChunks","commandAlias","calculateScores","normalizeTfIdfScores","score","TFIDF_THRESHOLD","TFIDF_MAX_RESULTS","labelHighlights","aliasHighlights","tfidfScore","WORD_FILTER","highlights","showAlias","v","find","tfIdfScore","delegateYield","commandPickA","commandPickB","localeCompare","commandACounter","peek","commandBCounter","suggestedCommandIds","commandASuggestion","commandBSuggestion","toCommandPick","hasAdditionalCommandPicks","_e","additionalCommandPicks","getAdditionalCommandPicks","unshift","ariaLabel","getAriaLabel","_this$commandService","isCancellationError","toErrorMessage","matchesPrefix","matchesWords","matchesContiguousSubString","ICommandService","ITelemetryService","storageService","configuredCommandsHistoryLength","updateConfiguration","load","getConfiguredCommandHistoryLength","cache","limit","saveState","serializedCache","raw","PREF_KEY_CACHE","JSON","parse","LRUCache","usesLRU","forEach","entry","counter","getNumber","PREF_KEY_COUNTER","store","stringify","configuredCommandHistoryLength","workbench","commandPalette","history","DEFAULT_COMMANDS_HISTORY_LENGTH","IStorageService","HelpQuickAccessProvider_1","HelpQuickAccessProvider","quickInputService","registry","Quickaccess","quickAccess","show","preserveValue","providerDescriptor","getQuickAccessProvider","getQuickAccessProviders","providerA","providerB","flatMap","provider","createPicks","helpEntries","helpEntry","IQuickInputService","QuickAccessController","mapProviderToDescriptor","lastAcceptedPickerValues","visibleQuickAccess","doShowOrPick","pick","_this$getOrInstantiat","getOrInstantiateProvider","_this$getOrInstantiat2","descriptor","visibleDescriptor","adjustValueSelection","newValue","newValueCandidateWithoutPrefix","defaultFilterValue","DefaultQuickAccessFilterValue","LAST","createQuickPick","placeholder","quickNavigate","quickNavigateConfiguration","itemActivation","ItemActivation","SECOND","contextKey","filterValue","pickPromise","DeferredPromise","once","onWillAccept","veto","registerPickerListeners","providerOptions","cts","provide","onDidHide","complete","valueSelection","_this2$getOrInstantia","dom","QuickInputBox","parent","inputBoxStyles","toggleStyles","onKeyDown","addDisposableListener","findInput","inputElement","EventType","KEY_DOWN","onMouseDown","MOUSE_DOWN","StandardMouseEvent","onDidChange","input","role","ariaHasPopup","ariaAutoComplete","ariaExpanded","setValue","range","select","isSelectionAtEnd","getAttribute","setPlaceHolder","password","toggleAttribute","toggles","setAdditionalToggles","decoration","clearMessage","showMessage","content","stylesForType","layout","iconPathToClass","iconClassGenerator","IdGenerator","getIconClass","iconPath","iconClass","dark","nextId","createCSSRule","asCSSUrl","light","ListElement","mainItem","previous","hasCheckbox","fireButtonTriggered","fireSeparatorButtonTriggered","onCheckedEmitter","_checked","_hidden","_onChecked","onChecked","listElement","checked","_separator","saneDescription","saneDetail","_labelHighlights","_descriptionHighlights","_detailHighlights","saneTooltip","tooltip","_init","Lazy","saneLabel","saneSortLabel","parseLabelWithIcons","text","saneAriaLabel","getCodiconAriaLabel","_element","ListElementRenderer","themeService","ID","toDisposeElement","toDisposeTemplate","addStandardDisposableListener","CLICK","checkbox","offsetParent","preventDefault","CHANGE","rows","row1","row2","IconLabel","supportHighlights","supportDescriptionHighlights","supportIcons","icon","prepend","keybindingContainer","KeybindingLabel","detailContainer","separator","actionBar","ActionBar","domNode","descriptionHighlights","detailHighlights","isDark","getColorTheme","iconUrl","revive","className","backgroundImage","descriptionTitle","descriptionMatches","labelEscapeNewLines","extraClasses","iconClasses","italic","strikethrough","setLabel","display","textContent","toggle","cssClasses","alwaysVisible","class","run","QuickInputListFocus","ListElementDelegate","QuickInputList","inputElements","elementsToIndexes","matchOnLabelMode","_onChangedAllVisibleChecked","onChangedAllVisibleChecked","_onChangedCheckedCount","onChangedCheckedCount","_onChangedVisibleCount","onChangedVisibleCount","_onChangedCheckedElements","onChangedCheckedElements","_onButtonTriggered","onButtonTriggered","_onSeparatorButtonTriggered","onSeparatorButtonTriggered","_onKeyDown","_onLeave","onLeave","_listElementChecked","_fireCheckedEvents","elementDisposables","accessibilityProvider","QuickInputAccessibilityProvider","createList","identityProvider","getId","_f","_g","_h","setRowLineHeight","toggleCheckbox","setFocus","focus1","focus2","x","y","onMouseMiddleClick","onContextMenu","setSelection","hoverDelegate","delayer","ThrottledDelayer","onMouseOver","HTMLAnchorElement","relatedTarget","isAncestor","showHover","onMouseOut","_","fireCheckedEvents","allVisibleChecked","whenNoneVisible","hidden","count","reduce","resultIndex","getFocusedElements","focused","reveal","what","Second","First","focusFirst","focusNth","Last","focusLast","Next","focusNext","firstVisibleIndex","Previous","focusPrevious","NextPage","focusNextPage","PreviousPage","focusPreviousPage","domFocus","_lastHover","isDisposed","onDidHideHover","linkHandler","url","linkOpenerDelegate","showPointer","hoverPosition","maxHeight","Math","floor","query","currentSeparator","queryWithWhitespace","matchesFuzzyIconAware","iconOffsets","matchesContiguous","wordToMatchAgainstWithoutIconsTrimmed","ltrim","leadingWhitespaceOffset","iconOffset","start","end","matchesContiguousIconAware","alwaysShow","shownElements","normalizedSearchValue","elementA","elementB","lookFor","labelHighlightsA","labelHighlightsB","compareAnything","compareEntries","getAllVisibleChecked","allChecked","getCheckedCount","getCheckedElements","indexes","_toggleHover","word","wordToMatchAgainst","matchIndex","memoize","backButton","ThemeIcon","asClassName","Codicon","quickInputBack","handle","QuickInput","ui","_widgetUpdated","visible","_busy","_ignoreFocusOut","_buttons","buttonsUpdated","_toggles","togglesUpdated","noValidationMessage","noPromptMessage","_severity","onDidTriggerButtonEmitter","onDidHideEmitter","onDisposeEmitter","visibleDisposables","_title","_description","_steps","_totalSteps","totalSteps","_contextKey","ignoreFocusOut","shouldUpdate","isIOS","_validationMessage","validationMessage","onDidTriggerButton","_lastValidationMessage","_lastSeverity","reason","QuickInputHideReason","Other","getTitle","innerHTML","innerText","getDescription","description1","description2","_widget","reset","busyDelay","setIfNotSet","progressBar","infinite","leftActionBar","leftButtons","Action","rightActionBar","rightButtons","concreteToggles","Toggle","setEnabled","setContextKey","actionHandler","parsed","parseLinkedText","nodes","renderLabelWithIcons","anchor","textDecoration","onClick","onKeydown","onSpaceOrEnter","GestureEventType","isEventLike","appendChild","renderQuickInputDescription","showMessageDecoration","getSteps","showDecoration","color","foreground","backgroundColor","background","border","marginBottom","QuickPick","_QuickInput","onDidChangeValueEmitter","onWillAcceptEmitter","onDidAcceptEmitter","onDidCustomEmitter","_items","itemsUpdated","_canSelectMany","_canAcceptInBackground","_matchOnDescription","_matchOnDetail","_matchOnLabel","_matchOnLabelMode","_sortByLabel","_autoFocusOnList","_keepScrollPosition","_itemActivation","FIRST","_activeItems","activeItemsUpdated","activeItemsToConfirm","onDidChangeActiveEmitter","_selectedItems","selectedItemsUpdated","selectedItemsToConfirm","onDidChangeSelectionEmitter","onDidTriggerItemButtonEmitter","onDidTriggerSeparatorButtonEmitter","valueSelectionUpdated","_ok","_customButton","onDidChangeActive","onDidTriggerSeparatorButton","_quickNavigate","doSetValue","skipUpdate","trySelectFirst","_ariaLabel","_placeholder","canSelectMany","autoFocusOnList","NO_KEY_MODS","_valueSelection","showCustomButton","_customButtonLabel","_customButtonHover","hover","showOkButton","_hideInput","clearFocus","handleAccept","onDidCustom","focusedItems","setSelectedElements","MouseEvent","checkedItems","registerQuickNavigation","KEY_UP","keyboardEvent","keybindings","scrollTopBefore","hasDescription","visibilities","checkAll","_hideCheckAll","checkBox","visibleCount","_hideCountBadge","ok","customButton","setVisibilities","DEFAULT_ARIA_LABEL","setElements","setCount","getVisibleCount","NONE","setFocusedElements","setCheckedElements","customLabel","customHover","InputBox","_QuickInput2","_password","onDidValueChangeEmitter","QuickInputController","ctrlCmd","alt","controller","onShowEmitter","onShow","onHideEmitter","onHide","idPrefix","parentElement","registerKeyModsListeners","window","styleSheet","titleBar","actionBarOption","headerContainer","setAllVisibleChecked","inputContainer","filterContainer","visibleCountContainer","CountBadge","countFormat","countBadge","countContainer","okContainer","Button","onDidClick","customButtonContainer","ProgressBar","getContainer","listId","getActiveDescendant","setTimeout","focusTracker","trackFocus","FOCUS","previousFocusElement","HTMLElement","getUI","Blur","selectors","isDisplayed","stops","querySelectorAll","toggleHover","CancellationToken","doResolve","onKeyMods","removeItem","onCancellationRequested","canPickMany","placeHolder","ignoreFocusLost","_activeItem","picked","oldController","didHide","backKeybindingLabel","updateLayout","viewItems","disabled","focusChanged","currentElement","returnFocus","dimension","titleBarOffset","top","width","min","MAX_WIDTH","marginLeft","height","_this$styles$widget","quickInputTitleBackground","quickInputBackground","quickInputForeground","widgetBorder","widgetShadow","boxShadow","pickerGroup","pickerGroupBorder","pickerGroupForeground","keybindingLabel","keybindingLabelBackground","keybindingLabelBorder","keybindingLabelBottomBorder","keybindingLabelShadow","keybindingLabelForeground","newStyles","QuickInputService","_Themable","layoutService","_onShow","_onHide","contexts","_controller","createController","_quickAccess","host","defaultOptions","fromUserGesture","computeStyles","offset","quickPickTop","onDidLayout","resetContextKeys","createInputBox","hasController","applyStyles","asCssVariable","defaultInputBoxStyles","defaultToggleStyles","defaultCountBadgeStyles","defaultButtonStyles","defaultProgressBarStyles","defaultKeybindingLabelStyles","listBackground","listFocusBackground","quickInputListFocusBackground","listFocusForeground","quickInputListFocusForeground","listInactiveFocusForeground","listInactiveSelectionIconForeground","quickInputListFocusIconForeground","listInactiveFocusBackground","listFocusOutline","activeContrastBorder","listInactiveFocusOutline","Themable","IThemeService","QuickAccessRegistry","providers","defaultProvider","coalesce","QuickPickItemScorerAccessor","RegistryImpl","Assert","Types","SeverityIcon","warning"],"sourceRoot":""}