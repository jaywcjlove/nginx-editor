{"version":3,"file":"static/js/monaco-editor-vendor.dff5f55e.ba81ab66.js","mappings":"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","sources":["webpack://website/../node_modules/monaco-editor/esm/vs/editor/editor.api.js?bb58","../../node_modules/monaco-editor/esm/vs/editor/editor.api.js","../../node_modules/monaco-editor/esm/vs/editor/editor.main.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/tokenization/browser/tokenization.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/unicodeHighlighter/browser/bannerController.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/browser/highlightDecorations.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/browser/wordHighlighter.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/wordOperations/browser/wordOperations.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/wordPartOperations/browser/wordPartOperations.js","../../node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/browser/zoneWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorOptions } from './common/config/editorOptions.js';\nimport { createMonacoBaseAPI } from './common/services/editorBaseApi.js';\nimport { createMonacoEditorAPI } from './standalone/browser/standaloneEditor.js';\nimport { createMonacoLanguagesAPI } from './standalone/browser/standaloneLanguages.js';\nimport { FormattingConflicts } from './contrib/format/browser/format.js';\n// Set defaults for standalone editor\nEditorOptions.wrappingIndent.defaultValue = 0 /* WrappingIndent.None */;\nEditorOptions.glyphMargin.defaultValue = false;\nEditorOptions.autoIndent.defaultValue = 3 /* EditorAutoIndentStrategy.Advanced */;\nEditorOptions.overviewRulerLanes.defaultValue = 2;\n// We need to register a formatter selector which simply picks the first available formatter.\n// See https://github.com/microsoft/monaco-editor/issues/2327\nFormattingConflicts.setFormatterSelector((formatter, document, mode) => Promise.resolve(formatter[0]));\nconst api = createMonacoBaseAPI();\napi.editor = createMonacoEditorAPI();\napi.languages = createMonacoLanguagesAPI();\nexport const CancellationTokenSource = api.CancellationTokenSource;\nexport const Emitter = api.Emitter;\nexport const KeyCode = api.KeyCode;\nexport const KeyMod = api.KeyMod;\nexport const Position = api.Position;\nexport const Range = api.Range;\nexport const Selection = api.Selection;\nexport const SelectionDirection = api.SelectionDirection;\nexport const MarkerSeverity = api.MarkerSeverity;\nexport const MarkerTag = api.MarkerTag;\nexport const Uri = api.Uri;\nexport const Token = api.Token;\nexport const editor = api.editor;\nexport const languages = api.languages;\nconst monacoEnvironment = globalThis.MonacoEnvironment;\nif ((monacoEnvironment === null || monacoEnvironment === void 0 ? void 0 : monacoEnvironment.globalAPI) || (typeof define === 'function' && define.amd)) {\n    globalThis.monaco = api;\n}\nif (typeof globalThis.require !== 'undefined' && typeof globalThis.require.config === 'function') {\n    globalThis.require.config({\n        ignoreDuplicateModules: [\n            'vscode-languageserver-types',\n            'vscode-languageserver-types/main',\n            'vscode-languageserver-textdocument',\n            'vscode-languageserver-textdocument/main',\n            'vscode-nls',\n            'vscode-nls/vscode-nls',\n            'jsonc-parser',\n            'jsonc-parser/main',\n            'vscode-uri',\n            'vscode-uri/index',\n            'vs/basic-languages/typescript/typescript'\n        ]\n    });\n}\n","self[\"MonacoEnvironment\"] = (function (paths) {\n      function stripTrailingSlash(str) {\n        return str.replace(/\\/$/, '');\n      }\n      return {\n        globalAPI: false,\n        getWorkerUrl: function (moduleId, label) {\n          var pathPrefix = typeof __webpack_public_path__ === 'string' ? __webpack_public_path__ : \"./\";\n          var result = (pathPrefix ? stripTrailingSlash(pathPrefix) + '/' : '') + paths[label];\n          if (/^((http:)|(https:)|(file:)|(\\/\\/))/.test(result)) {\n            var currentUrl = String(window.location);\n            var currentOrigin = currentUrl.substr(0, currentUrl.length - window.location.hash.length - window.location.search.length - window.location.pathname.length);\n            if (result.substring(0, currentOrigin.length) !== currentOrigin) {\n              if(/^(\\/\\/)/.test(result)) {\n                result = window.location.protocol + result\n              }\n              var js = '/*' + label + '*/importScripts(\"' + result + '\");';\n              var blob = new Blob([js], { type: 'application/javascript' });\n              return URL.createObjectURL(blob);\n            }\n          }\n          return result;\n        }\n      };\n    })({\n  \"editorWorkerService\": \"editor.worker.js\",\n  \"json\": \"json.worker.js\"\n});\nimport \"./contrib/anchorSelect/browser/anchorSelect.js\";\nimport \"./contrib/bracketMatching/browser/bracketMatching.js\";\nimport \"./browser/coreCommands.js\";\nimport \"./contrib/caretOperations/browser/caretOperations.js\";\nimport \"./contrib/caretOperations/browser/transpose.js\";\nimport \"./contrib/clipboard/browser/clipboard.js\";\nimport \"./contrib/codeAction/browser/codeActionContributions.js\";\nimport \"./contrib/codelens/browser/codelensController.js\";\nimport \"./contrib/colorPicker/browser/colorContributions.js\";\nimport \"./contrib/colorPicker/browser/standaloneColorPickerActions.js\";\nimport \"./contrib/comment/browser/comment.js\";\nimport \"./contrib/contextmenu/browser/contextmenu.js\";\nimport \"./contrib/cursorUndo/browser/cursorUndo.js\";\nimport \"./browser/widget/diffEditor/diffEditor.contribution.js\";\nimport \"./contrib/dnd/browser/dnd.js\";\nimport \"./contrib/documentSymbols/browser/documentSymbols.js\";\nimport \"./contrib/dropOrPasteInto/browser/copyPasteContribution.js\";\nimport \"./contrib/dropOrPasteInto/browser/dropIntoEditorContribution.js\";\nimport \"./contrib/find/browser/findController.js\";\nimport \"./contrib/folding/browser/folding.js\";\nimport \"./contrib/fontZoom/browser/fontZoom.js\";\nimport \"./contrib/format/browser/formatActions.js\";\nimport \"./contrib/gotoError/browser/gotoError.js\";\nimport \"./standalone/browser/quickAccess/standaloneGotoLineQuickAccess.js\";\nimport \"./contrib/gotoSymbol/browser/goToCommands.js\";\nimport \"./contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js\";\nimport \"./contrib/hover/browser/hover.js\";\nimport \"./standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js\";\nimport \"./contrib/inPlaceReplace/browser/inPlaceReplace.js\";\nimport \"./contrib/indentation/browser/indentation.js\";\nimport \"./contrib/inlayHints/browser/inlayHintsContribution.js\";\nimport \"./contrib/inlineCompletions/browser/inlineCompletions.contribution.js\";\nimport \"./contrib/inlineProgress/browser/inlineProgress.js\";\nimport \"./standalone/browser/inspectTokens/inspectTokens.js\";\nimport \"./contrib/lineSelection/browser/lineSelection.js\";\nimport \"./contrib/linesOperations/browser/linesOperations.js\";\nimport \"./contrib/linkedEditing/browser/linkedEditing.js\";\nimport \"./contrib/links/browser/links.js\";\nimport \"./contrib/longLinesHelper/browser/longLinesHelper.js\";\nimport \"./contrib/multicursor/browser/multicursor.js\";\nimport \"./contrib/parameterHints/browser/parameterHints.js\";\nimport \"./standalone/browser/quickAccess/standaloneCommandsQuickAccess.js\";\nimport \"./standalone/browser/quickAccess/standaloneHelpQuickAccess.js\";\nimport \"./standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess.js\";\nimport \"./contrib/readOnlyMessage/browser/contribution.js\";\nimport \"./standalone/browser/referenceSearch/standaloneReferenceSearch.js\";\nimport \"./contrib/rename/browser/rename.js\";\nimport \"./contrib/semanticTokens/browser/documentSemanticTokens.js\";\nimport \"./contrib/semanticTokens/browser/viewportSemanticTokens.js\";\nimport \"./contrib/smartSelect/browser/smartSelect.js\";\nimport \"./contrib/snippet/browser/snippetController2.js\";\nimport \"./contrib/stickyScroll/browser/stickyScrollContribution.js\";\nimport \"./contrib/suggest/browser/suggestController.js\";\nimport \"./contrib/suggest/browser/suggestInlineCompletions.js\";\nimport \"./standalone/browser/toggleHighContrast/toggleHighContrast.js\";\nimport \"./contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js\";\nimport \"./contrib/tokenization/browser/tokenization.js\";\nimport \"./contrib/unicodeHighlighter/browser/unicodeHighlighter.js\";\nimport \"./contrib/unusualLineTerminators/browser/unusualLineTerminators.js\";\nimport \"./contrib/wordHighlighter/browser/wordHighlighter.js\";\nimport \"./contrib/wordOperations/browser/wordOperations.js\";\nimport \"./contrib/wordPartOperations/browser/wordPartOperations.js\";\n\nimport * as monaco from \"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[1]!./editor.api.js\";\nexport * from \"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[1]!./editor.api.js\";\nexport default monaco;\n\t\t\nimport \"../language/json/monaco.contribution.js\";","self[\"MonacoEnvironment\"] = (function (paths) {\n      function stripTrailingSlash(str) {\n        return str.replace(/\\/$/, '');\n      }\n      return {\n        globalAPI: false,\n        getWorkerUrl: function (moduleId, label) {\n          var pathPrefix = typeof __webpack_public_path__ === 'string' ? __webpack_public_path__ : \"./\";\n          var result = (pathPrefix ? stripTrailingSlash(pathPrefix) + '/' : '') + paths[label];\n          if (/^((http:)|(https:)|(file:)|(\\/\\/))/.test(result)) {\n            var currentUrl = String(window.location);\n            var currentOrigin = currentUrl.substr(0, currentUrl.length - window.location.hash.length - window.location.search.length - window.location.pathname.length);\n            if (result.substring(0, currentOrigin.length) !== currentOrigin) {\n              if(/^(\\/\\/)/.test(result)) {\n                result = window.location.protocol + result\n              }\n              var js = '/*' + label + '*/importScripts(\"' + result + '\");';\n              var blob = new Blob([js], { type: 'application/javascript' });\n              return URL.createObjectURL(blob);\n            }\n          }\n          return result;\n        }\n      };\n    })({\n  \"editorWorkerService\": \"editor.worker.js\",\n  \"json\": \"json.worker.js\"\n});\nimport \"./contrib/anchorSelect/browser/anchorSelect.js\";\nimport \"./contrib/bracketMatching/browser/bracketMatching.js\";\nimport \"./browser/coreCommands.js\";\nimport \"./contrib/caretOperations/browser/caretOperations.js\";\nimport \"./contrib/caretOperations/browser/transpose.js\";\nimport \"./contrib/clipboard/browser/clipboard.js\";\nimport \"./contrib/codeAction/browser/codeActionContributions.js\";\nimport \"./contrib/codelens/browser/codelensController.js\";\nimport \"./contrib/colorPicker/browser/colorContributions.js\";\nimport \"./contrib/colorPicker/browser/standaloneColorPickerActions.js\";\nimport \"./contrib/comment/browser/comment.js\";\nimport \"./contrib/contextmenu/browser/contextmenu.js\";\nimport \"./contrib/cursorUndo/browser/cursorUndo.js\";\nimport \"./browser/widget/diffEditor/diffEditor.contribution.js\";\nimport \"./contrib/dnd/browser/dnd.js\";\nimport \"./contrib/documentSymbols/browser/documentSymbols.js\";\nimport \"./contrib/dropOrPasteInto/browser/copyPasteContribution.js\";\nimport \"./contrib/dropOrPasteInto/browser/dropIntoEditorContribution.js\";\nimport \"./contrib/find/browser/findController.js\";\nimport \"./contrib/folding/browser/folding.js\";\nimport \"./contrib/fontZoom/browser/fontZoom.js\";\nimport \"./contrib/format/browser/formatActions.js\";\nimport \"./contrib/gotoError/browser/gotoError.js\";\nimport \"./standalone/browser/quickAccess/standaloneGotoLineQuickAccess.js\";\nimport \"./contrib/gotoSymbol/browser/goToCommands.js\";\nimport \"./contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js\";\nimport \"./contrib/hover/browser/hover.js\";\nimport \"./standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js\";\nimport \"./contrib/inPlaceReplace/browser/inPlaceReplace.js\";\nimport \"./contrib/indentation/browser/indentation.js\";\nimport \"./contrib/inlayHints/browser/inlayHintsContribution.js\";\nimport \"./contrib/inlineCompletions/browser/inlineCompletions.contribution.js\";\nimport \"./contrib/inlineProgress/browser/inlineProgress.js\";\nimport \"./standalone/browser/inspectTokens/inspectTokens.js\";\nimport \"./contrib/lineSelection/browser/lineSelection.js\";\nimport \"./contrib/linesOperations/browser/linesOperations.js\";\nimport \"./contrib/linkedEditing/browser/linkedEditing.js\";\nimport \"./contrib/links/browser/links.js\";\nimport \"./contrib/longLinesHelper/browser/longLinesHelper.js\";\nimport \"./contrib/multicursor/browser/multicursor.js\";\nimport \"./contrib/parameterHints/browser/parameterHints.js\";\nimport \"./standalone/browser/quickAccess/standaloneCommandsQuickAccess.js\";\nimport \"./standalone/browser/quickAccess/standaloneHelpQuickAccess.js\";\nimport \"./standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess.js\";\nimport \"./contrib/readOnlyMessage/browser/contribution.js\";\nimport \"./standalone/browser/referenceSearch/standaloneReferenceSearch.js\";\nimport \"./contrib/rename/browser/rename.js\";\nimport \"./contrib/semanticTokens/browser/documentSemanticTokens.js\";\nimport \"./contrib/semanticTokens/browser/viewportSemanticTokens.js\";\nimport \"./contrib/smartSelect/browser/smartSelect.js\";\nimport \"./contrib/snippet/browser/snippetController2.js\";\nimport \"./contrib/stickyScroll/browser/stickyScrollContribution.js\";\nimport \"./contrib/suggest/browser/suggestController.js\";\nimport \"./contrib/suggest/browser/suggestInlineCompletions.js\";\nimport \"./standalone/browser/toggleHighContrast/toggleHighContrast.js\";\nimport \"./contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js\";\nimport \"./contrib/tokenization/browser/tokenization.js\";\nimport \"./contrib/unicodeHighlighter/browser/unicodeHighlighter.js\";\nimport \"./contrib/unusualLineTerminators/browser/unusualLineTerminators.js\";\nimport \"./contrib/wordHighlighter/browser/wordHighlighter.js\";\nimport \"./contrib/wordOperations/browser/wordOperations.js\";\nimport \"./contrib/wordPartOperations/browser/wordPartOperations.js\";\n\nimport * as monaco from \"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[1]!./editor.main.js\";\nexport * from \"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[1]!./editor.main.js\";\nexport default monaco;\n\t\t\nimport \"../language/json/monaco.contribution.js\";","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { TabFocus } from '../../../browser/config/tabFocus.js';\nimport * as nls from '../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../platform/actions/common/actions.js';\nexport class ToggleTabFocusModeAction extends Action2 {\n    constructor() {\n        super({\n            id: ToggleTabFocusModeAction.ID,\n            title: { value: nls.localize({ key: 'toggle.tabMovesFocus', comment: ['Turn on/off use of tab key for moving focus around VS Code'] }, 'Toggle Tab Key Moves Focus'), original: 'Toggle Tab Key Moves Focus' },\n            precondition: undefined,\n            keybinding: {\n                primary: 2048 /* KeyMod.CtrlCmd */ | 43 /* KeyCode.KeyM */,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 43 /* KeyCode.KeyM */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            f1: true\n        });\n    }\n    run() {\n        const oldValue = TabFocus.getTabFocusMode();\n        const newValue = !oldValue;\n        TabFocus.setTabFocusMode(newValue);\n        if (newValue) {\n            alert(nls.localize('toggle.tabMovesFocus.on', \"Pressing Tab will now move focus to the next focusable element\"));\n        }\n        else {\n            alert(nls.localize('toggle.tabMovesFocus.off', \"Pressing Tab will now insert the tab character\"));\n        }\n    }\n}\nToggleTabFocusModeAction.ID = 'editor.action.toggleTabFocusMode';\nregisterAction2(ToggleTabFocusModeAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport * as nls from '../../../../nls.js';\nclass ForceRetokenizeAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.forceRetokenize',\n            label: nls.localize('forceRetokenize', \"Developer: Force Retokenize\"),\n            alias: 'Developer: Force Retokenize',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const model = editor.getModel();\n        model.tokenization.resetTokenization();\n        const sw = new StopWatch();\n        model.tokenization.forceTokenization(model.getLineCount());\n        sw.stop();\n        console.log(`tokenization took ${sw.elapsed()}`);\n    }\n}\nregisterEditorAction(ForceRetokenizeAction);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './bannerController.css';\nimport { $, append, clearNode } from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { MarkdownRenderer } from '../../markdownRenderer/browser/markdownRenderer.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Link } from '../../../../platform/opener/browser/link.js';\nimport { widgetClose } from '../../../../platform/theme/common/iconRegistry.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nconst BANNER_ELEMENT_HEIGHT = 26;\nlet BannerController = class BannerController extends Disposable {\n    constructor(_editor, instantiationService) {\n        super();\n        this._editor = _editor;\n        this.instantiationService = instantiationService;\n        this.banner = this._register(this.instantiationService.createInstance(Banner));\n    }\n    hide() {\n        this._editor.setBanner(null, 0);\n        this.banner.clear();\n    }\n    show(item) {\n        this.banner.show(Object.assign(Object.assign({}, item), { onClose: () => {\n                var _a;\n                this.hide();\n                (_a = item.onClose) === null || _a === void 0 ? void 0 : _a.call(item);\n            } }));\n        this._editor.setBanner(this.banner.element, BANNER_ELEMENT_HEIGHT);\n    }\n};\nBannerController = __decorate([\n    __param(1, IInstantiationService)\n], BannerController);\nexport { BannerController };\n// TODO@hediet: Investigate if this can be reused by the workspace banner (bannerPart.ts).\nlet Banner = class Banner extends Disposable {\n    constructor(instantiationService) {\n        super();\n        this.instantiationService = instantiationService;\n        this.markdownRenderer = this.instantiationService.createInstance(MarkdownRenderer, {});\n        this.element = $('div.editor-banner');\n        this.element.tabIndex = 0;\n    }\n    getAriaLabel(item) {\n        if (item.ariaLabel) {\n            return item.ariaLabel;\n        }\n        if (typeof item.message === 'string') {\n            return item.message;\n        }\n        return undefined;\n    }\n    getBannerMessage(message) {\n        if (typeof message === 'string') {\n            const element = $('span');\n            element.innerText = message;\n            return element;\n        }\n        return this.markdownRenderer.render(message).element;\n    }\n    clear() {\n        clearNode(this.element);\n    }\n    show(item) {\n        // Clear previous item\n        clearNode(this.element);\n        // Banner aria label\n        const ariaLabel = this.getAriaLabel(item);\n        if (ariaLabel) {\n            this.element.setAttribute('aria-label', ariaLabel);\n        }\n        // Icon\n        const iconContainer = append(this.element, $('div.icon-container'));\n        iconContainer.setAttribute('aria-hidden', 'true');\n        if (item.icon) {\n            iconContainer.appendChild($(`div${ThemeIcon.asCSSSelector(item.icon)}`));\n        }\n        // Message\n        const messageContainer = append(this.element, $('div.message-container'));\n        messageContainer.setAttribute('aria-hidden', 'true');\n        messageContainer.appendChild(this.getBannerMessage(item.message));\n        // Message Actions\n        this.messageActionsContainer = append(this.element, $('div.message-actions-container'));\n        if (item.actions) {\n            for (const action of item.actions) {\n                this._register(this.instantiationService.createInstance(Link, this.messageActionsContainer, Object.assign(Object.assign({}, action), { tabIndex: -1 }), {}));\n            }\n        }\n        // Action\n        const actionBarContainer = append(this.element, $('div.action-container'));\n        this.actionBar = this._register(new ActionBar(actionBarContainer));\n        this.actionBar.push(this._register(new Action('banner.close', 'Close Banner', ThemeIcon.asClassName(widgetClose), true, () => {\n            if (typeof item.onClose === 'function') {\n                item.onClose();\n            }\n        })), { icon: true, label: false });\n        this.actionBar.setFocusable(false);\n    }\n};\nBanner = __decorate([\n    __param(0, IInstantiationService)\n], Banner);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { InvisibleCharacters, isBasicASCII } from '../../../../base/common/strings.js';\nimport './unicodeHighlighter.css';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { inUntrustedWorkspace, unicodeHighlightConfigKeys } from '../../../common/config/editorOptions.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { UnicodeTextModelHighlighter } from '../../../common/services/unicodeTextModelHighlighter.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { isModelDecorationInComment, isModelDecorationInString, isModelDecorationVisible } from '../../../common/viewModel/viewModelDecorations.js';\nimport { HoverParticipantRegistry } from '../../hover/browser/hoverTypes.js';\nimport { MarkdownHover, renderMarkdownHovers } from '../../hover/browser/markdownHoverParticipant.js';\nimport { BannerController } from './bannerController.js';\nimport * as nls from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { IWorkspaceTrustManagementService } from '../../../../platform/workspace/common/workspaceTrust.js';\nexport const warningIcon = registerIcon('extensions-warning-message', Codicon.warning, nls.localize('warningIcon', 'Icon shown with a warning message in the extensions editor.'));\nlet UnicodeHighlighter = class UnicodeHighlighter extends Disposable {\n    constructor(_editor, _editorWorkerService, _workspaceTrustService, instantiationService) {\n        super();\n        this._editor = _editor;\n        this._editorWorkerService = _editorWorkerService;\n        this._workspaceTrustService = _workspaceTrustService;\n        this._highlighter = null;\n        this._bannerClosed = false;\n        this._updateState = (state) => {\n            if (state && state.hasMore) {\n                if (this._bannerClosed) {\n                    return;\n                }\n                // This document contains many non-basic ASCII characters.\n                const max = Math.max(state.ambiguousCharacterCount, state.nonBasicAsciiCharacterCount, state.invisibleCharacterCount);\n                let data;\n                if (state.nonBasicAsciiCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters', 'This document contains many non-basic ASCII unicode characters'),\n                        command: new DisableHighlightingOfNonBasicAsciiCharactersAction(),\n                    };\n                }\n                else if (state.ambiguousCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters', 'This document contains many ambiguous unicode characters'),\n                        command: new DisableHighlightingOfAmbiguousCharactersAction(),\n                    };\n                }\n                else if (state.invisibleCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters', 'This document contains many invisible unicode characters'),\n                        command: new DisableHighlightingOfInvisibleCharactersAction(),\n                    };\n                }\n                else {\n                    throw new Error('Unreachable');\n                }\n                this._bannerController.show({\n                    id: 'unicodeHighlightBanner',\n                    message: data.message,\n                    icon: warningIcon,\n                    actions: [\n                        {\n                            label: data.command.shortLabel,\n                            href: `command:${data.command.id}`\n                        }\n                    ],\n                    onClose: () => {\n                        this._bannerClosed = true;\n                    },\n                });\n            }\n            else {\n                this._bannerController.hide();\n            }\n        };\n        this._bannerController = this._register(instantiationService.createInstance(BannerController, _editor));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._bannerClosed = false;\n            this._updateHighlighter();\n        }));\n        this._options = _editor.getOption(124 /* EditorOption.unicodeHighlighting */);\n        this._register(_workspaceTrustService.onDidChangeTrust(e => {\n            this._updateHighlighter();\n        }));\n        this._register(_editor.onDidChangeConfiguration(e => {\n            if (e.hasChanged(124 /* EditorOption.unicodeHighlighting */)) {\n                this._options = _editor.getOption(124 /* EditorOption.unicodeHighlighting */);\n                this._updateHighlighter();\n            }\n        }));\n        this._updateHighlighter();\n    }\n    dispose() {\n        if (this._highlighter) {\n            this._highlighter.dispose();\n            this._highlighter = null;\n        }\n        super.dispose();\n    }\n    _updateHighlighter() {\n        this._updateState(null);\n        if (this._highlighter) {\n            this._highlighter.dispose();\n            this._highlighter = null;\n        }\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const options = resolveOptions(this._workspaceTrustService.isWorkspaceTrusted(), this._options);\n        if ([\n            options.nonBasicASCII,\n            options.ambiguousCharacters,\n            options.invisibleCharacters,\n        ].every((option) => option === false)) {\n            // Don't do anything if the feature is fully disabled\n            return;\n        }\n        const highlightOptions = {\n            nonBasicASCII: options.nonBasicASCII,\n            ambiguousCharacters: options.ambiguousCharacters,\n            invisibleCharacters: options.invisibleCharacters,\n            includeComments: options.includeComments,\n            includeStrings: options.includeStrings,\n            allowedCodePoints: Object.keys(options.allowedCharacters).map(c => c.codePointAt(0)),\n            allowedLocales: Object.keys(options.allowedLocales).map(locale => {\n                if (locale === '_os') {\n                    const osLocale = new Intl.NumberFormat().resolvedOptions().locale;\n                    return osLocale;\n                }\n                else if (locale === '_vscode') {\n                    return platform.language;\n                }\n                return locale;\n            }),\n        };\n        if (this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)) {\n            this._highlighter = new DocumentUnicodeHighlighter(this._editor, highlightOptions, this._updateState, this._editorWorkerService);\n        }\n        else {\n            this._highlighter = new ViewportUnicodeHighlighter(this._editor, highlightOptions, this._updateState);\n        }\n    }\n    getDecorationInfo(decoration) {\n        if (this._highlighter) {\n            return this._highlighter.getDecorationInfo(decoration);\n        }\n        return null;\n    }\n};\nUnicodeHighlighter.ID = 'editor.contrib.unicodeHighlighter';\nUnicodeHighlighter = __decorate([\n    __param(1, IEditorWorkerService),\n    __param(2, IWorkspaceTrustManagementService),\n    __param(3, IInstantiationService)\n], UnicodeHighlighter);\nexport { UnicodeHighlighter };\nfunction resolveOptions(trusted, options) {\n    return {\n        nonBasicASCII: options.nonBasicASCII === inUntrustedWorkspace ? !trusted : options.nonBasicASCII,\n        ambiguousCharacters: options.ambiguousCharacters,\n        invisibleCharacters: options.invisibleCharacters,\n        includeComments: options.includeComments === inUntrustedWorkspace ? !trusted : options.includeComments,\n        includeStrings: options.includeStrings === inUntrustedWorkspace ? !trusted : options.includeStrings,\n        allowedCharacters: options.allowedCharacters,\n        allowedLocales: options.allowedLocales,\n    };\n}\nlet DocumentUnicodeHighlighter = class DocumentUnicodeHighlighter extends Disposable {\n    constructor(_editor, _options, _updateState, _editorWorkerService) {\n        super();\n        this._editor = _editor;\n        this._options = _options;\n        this._updateState = _updateState;\n        this._editorWorkerService = _editorWorkerService;\n        this._model = this._editor.getModel();\n        this._decorations = this._editor.createDecorationsCollection();\n        this._updateSoon = this._register(new RunOnceScheduler(() => this._update(), 250));\n        this._register(this._editor.onDidChangeModelContent(() => {\n            this._updateSoon.schedule();\n        }));\n        this._updateSoon.schedule();\n    }\n    dispose() {\n        this._decorations.clear();\n        super.dispose();\n    }\n    _update() {\n        if (this._model.isDisposed()) {\n            return;\n        }\n        if (!this._model.mightContainNonBasicASCII()) {\n            this._decorations.clear();\n            return;\n        }\n        const modelVersionId = this._model.getVersionId();\n        this._editorWorkerService\n            .computedUnicodeHighlights(this._model.uri, this._options)\n            .then((info) => {\n            if (this._model.isDisposed()) {\n                return;\n            }\n            if (this._model.getVersionId() !== modelVersionId) {\n                // model changed in the meantime\n                return;\n            }\n            this._updateState(info);\n            const decorations = [];\n            if (!info.hasMore) {\n                // Don't show decoration if there are too many.\n                // In this case, a banner is shown.\n                for (const range of info.ranges) {\n                    decorations.push({\n                        range: range,\n                        options: Decorations.instance.getDecorationFromOptions(this._options),\n                    });\n                }\n            }\n            this._decorations.set(decorations);\n        });\n    }\n    getDecorationInfo(decoration) {\n        if (!this._decorations.has(decoration)) {\n            return null;\n        }\n        const model = this._editor.getModel();\n        if (!isModelDecorationVisible(model, decoration)) {\n            return null;\n        }\n        const text = model.getValueInRange(decoration.range);\n        return {\n            reason: computeReason(text, this._options),\n            inComment: isModelDecorationInComment(model, decoration),\n            inString: isModelDecorationInString(model, decoration),\n        };\n    }\n};\nDocumentUnicodeHighlighter = __decorate([\n    __param(3, IEditorWorkerService)\n], DocumentUnicodeHighlighter);\nclass ViewportUnicodeHighlighter extends Disposable {\n    constructor(_editor, _options, _updateState) {\n        super();\n        this._editor = _editor;\n        this._options = _options;\n        this._updateState = _updateState;\n        this._model = this._editor.getModel();\n        this._decorations = this._editor.createDecorationsCollection();\n        this._updateSoon = this._register(new RunOnceScheduler(() => this._update(), 250));\n        this._register(this._editor.onDidLayoutChange(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidScrollChange(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidChangeHiddenAreas(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidChangeModelContent(() => {\n            this._updateSoon.schedule();\n        }));\n        this._updateSoon.schedule();\n    }\n    dispose() {\n        this._decorations.clear();\n        super.dispose();\n    }\n    _update() {\n        if (this._model.isDisposed()) {\n            return;\n        }\n        if (!this._model.mightContainNonBasicASCII()) {\n            this._decorations.clear();\n            return;\n        }\n        const ranges = this._editor.getVisibleRanges();\n        const decorations = [];\n        const totalResult = {\n            ranges: [],\n            ambiguousCharacterCount: 0,\n            invisibleCharacterCount: 0,\n            nonBasicAsciiCharacterCount: 0,\n            hasMore: false,\n        };\n        for (const range of ranges) {\n            const result = UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model, this._options, range);\n            for (const r of result.ranges) {\n                totalResult.ranges.push(r);\n            }\n            totalResult.ambiguousCharacterCount += totalResult.ambiguousCharacterCount;\n            totalResult.invisibleCharacterCount += totalResult.invisibleCharacterCount;\n            totalResult.nonBasicAsciiCharacterCount += totalResult.nonBasicAsciiCharacterCount;\n            totalResult.hasMore = totalResult.hasMore || result.hasMore;\n        }\n        if (!totalResult.hasMore) {\n            // Don't show decorations if there are too many.\n            // A banner will be shown instead.\n            for (const range of totalResult.ranges) {\n                decorations.push({ range, options: Decorations.instance.getDecorationFromOptions(this._options) });\n            }\n        }\n        this._updateState(totalResult);\n        this._decorations.set(decorations);\n    }\n    getDecorationInfo(decoration) {\n        if (!this._decorations.has(decoration)) {\n            return null;\n        }\n        const model = this._editor.getModel();\n        const text = model.getValueInRange(decoration.range);\n        if (!isModelDecorationVisible(model, decoration)) {\n            return null;\n        }\n        return {\n            reason: computeReason(text, this._options),\n            inComment: isModelDecorationInComment(model, decoration),\n            inString: isModelDecorationInString(model, decoration),\n        };\n    }\n}\nlet UnicodeHighlighterHoverParticipant = class UnicodeHighlighterHoverParticipant {\n    constructor(_editor, _languageService, _openerService) {\n        this._editor = _editor;\n        this._languageService = _languageService;\n        this._openerService = _openerService;\n        this.hoverOrdinal = 5;\n    }\n    computeSync(anchor, lineDecorations) {\n        if (!this._editor.hasModel() || anchor.type !== 1 /* HoverAnchorType.Range */) {\n            return [];\n        }\n        const model = this._editor.getModel();\n        const unicodeHighlighter = this._editor.getContribution(UnicodeHighlighter.ID);\n        if (!unicodeHighlighter) {\n            return [];\n        }\n        const result = [];\n        const existedReason = new Set();\n        let index = 300;\n        for (const d of lineDecorations) {\n            const highlightInfo = unicodeHighlighter.getDecorationInfo(d);\n            if (!highlightInfo) {\n                continue;\n            }\n            const char = model.getValueInRange(d.range);\n            // text refers to a single character.\n            const codePoint = char.codePointAt(0);\n            const codePointStr = formatCodePointMarkdown(codePoint);\n            let reason;\n            switch (highlightInfo.reason.kind) {\n                case 0 /* UnicodeHighlighterReasonKind.Ambiguous */: {\n                    if (isBasicASCII(highlightInfo.reason.confusableWith)) {\n                        reason = nls.localize('unicodeHighlight.characterIsAmbiguousASCII', 'The character {0} could be confused with the ASCII character {1}, which is more common in source code.', codePointStr, formatCodePointMarkdown(highlightInfo.reason.confusableWith.codePointAt(0)));\n                    }\n                    else {\n                        reason = nls.localize('unicodeHighlight.characterIsAmbiguous', 'The character {0} could be confused with the character {1}, which is more common in source code.', codePointStr, formatCodePointMarkdown(highlightInfo.reason.confusableWith.codePointAt(0)));\n                    }\n                    break;\n                }\n                case 1 /* UnicodeHighlighterReasonKind.Invisible */:\n                    reason = nls.localize('unicodeHighlight.characterIsInvisible', 'The character {0} is invisible.', codePointStr);\n                    break;\n                case 2 /* UnicodeHighlighterReasonKind.NonBasicAscii */:\n                    reason = nls.localize('unicodeHighlight.characterIsNonBasicAscii', 'The character {0} is not a basic ASCII character.', codePointStr);\n                    break;\n            }\n            if (existedReason.has(reason)) {\n                continue;\n            }\n            existedReason.add(reason);\n            const adjustSettingsArgs = {\n                codePoint: codePoint,\n                reason: highlightInfo.reason,\n                inComment: highlightInfo.inComment,\n                inString: highlightInfo.inString,\n            };\n            const adjustSettings = nls.localize('unicodeHighlight.adjustSettings', 'Adjust settings');\n            const uri = `command:${ShowExcludeOptions.ID}?${encodeURIComponent(JSON.stringify(adjustSettingsArgs))}`;\n            const markdown = new MarkdownString('', true)\n                .appendMarkdown(reason)\n                .appendText(' ')\n                .appendLink(uri, adjustSettings);\n            result.push(new MarkdownHover(this, d.range, [markdown], false, index++));\n        }\n        return result;\n    }\n    renderHoverParts(context, hoverParts) {\n        return renderMarkdownHovers(context, hoverParts, this._editor, this._languageService, this._openerService);\n    }\n};\nUnicodeHighlighterHoverParticipant = __decorate([\n    __param(1, ILanguageService),\n    __param(2, IOpenerService)\n], UnicodeHighlighterHoverParticipant);\nexport { UnicodeHighlighterHoverParticipant };\nfunction codePointToHex(codePoint) {\n    return `U+${codePoint.toString(16).padStart(4, '0')}`;\n}\nfunction formatCodePointMarkdown(codePoint) {\n    let value = `\\`${codePointToHex(codePoint)}\\``;\n    if (!InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n        // Don't render any control characters or any invisible characters, as they cannot be seen anyways.\n        value += ` \"${`${renderCodePointAsInlineCode(codePoint)}`}\"`;\n    }\n    return value;\n}\nfunction renderCodePointAsInlineCode(codePoint) {\n    if (codePoint === 96 /* CharCode.BackTick */) {\n        return '`` ` ``';\n    }\n    return '`' + String.fromCodePoint(codePoint) + '`';\n}\nfunction computeReason(char, options) {\n    return UnicodeTextModelHighlighter.computeUnicodeHighlightReason(char, options);\n}\nclass Decorations {\n    constructor() {\n        this.map = new Map();\n    }\n    getDecorationFromOptions(options) {\n        return this.getDecoration(!options.includeComments, !options.includeStrings);\n    }\n    getDecoration(hideInComments, hideInStrings) {\n        const key = `${hideInComments}${hideInStrings}`;\n        let options = this.map.get(key);\n        if (!options) {\n            options = ModelDecorationOptions.createDynamic({\n                description: 'unicode-highlight',\n                stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n                className: 'unicode-highlight',\n                showIfCollapsed: true,\n                overviewRuler: null,\n                minimap: null,\n                hideInCommentTokens: hideInComments,\n                hideInStringTokens: hideInStrings,\n            });\n            this.map.set(key, options);\n        }\n        return options;\n    }\n}\nDecorations.instance = new Decorations();\nexport class DisableHighlightingInCommentsAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingInComments', 'Disable highlighting of characters in comments'),\n            alias: 'Disable highlighting of characters in comments',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingInComments.shortLabel', 'Disable Highlight In Comments');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.includeComments, false, 2 /* ConfigurationTarget.USER */);\n        });\n    }\n}\nexport class DisableHighlightingInStringsAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingInStrings', 'Disable highlighting of characters in strings'),\n            alias: 'Disable highlighting of characters in strings',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingInStrings.shortLabel', 'Disable Highlight In Strings');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.includeStrings, false, 2 /* ConfigurationTarget.USER */);\n        });\n    }\n}\nexport class DisableHighlightingOfAmbiguousCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters', 'Disable highlighting of ambiguous characters'),\n            alias: 'Disable highlighting of ambiguous characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel', 'Disable Ambiguous Highlight');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.ambiguousCharacters, false, 2 /* ConfigurationTarget.USER */);\n        });\n    }\n}\nDisableHighlightingOfAmbiguousCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters';\nexport class DisableHighlightingOfInvisibleCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfInvisibleCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfInvisibleCharacters', 'Disable highlighting of invisible characters'),\n            alias: 'Disable highlighting of invisible characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel', 'Disable Invisible Highlight');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.invisibleCharacters, false, 2 /* ConfigurationTarget.USER */);\n        });\n    }\n}\nDisableHighlightingOfInvisibleCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters';\nexport class DisableHighlightingOfNonBasicAsciiCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfNonBasicAsciiCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters', 'Disable highlighting of non basic ASCII characters'),\n            alias: 'Disable highlighting of non basic ASCII characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel', 'Disable Non ASCII Highlight');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.nonBasicASCII, false, 2 /* ConfigurationTarget.USER */);\n        });\n    }\n}\nDisableHighlightingOfNonBasicAsciiCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters';\nexport class ShowExcludeOptions extends EditorAction {\n    constructor() {\n        super({\n            id: ShowExcludeOptions.ID,\n            label: nls.localize('action.unicodeHighlight.showExcludeOptions', \"Show Exclude Options\"),\n            alias: 'Show Exclude Options',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { codePoint, reason, inString, inComment } = args;\n            const char = String.fromCodePoint(codePoint);\n            const quickPickService = accessor.get(IQuickInputService);\n            const configurationService = accessor.get(IConfigurationService);\n            function getExcludeCharFromBeingHighlightedLabel(codePoint) {\n                if (InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n                    return nls.localize('unicodeHighlight.excludeInvisibleCharFromBeingHighlighted', 'Exclude {0} (invisible character) from being highlighted', codePointToHex(codePoint));\n                }\n                return nls.localize('unicodeHighlight.excludeCharFromBeingHighlighted', 'Exclude {0} from being highlighted', `${codePointToHex(codePoint)} \"${char}\"`);\n            }\n            const options = [];\n            if (reason.kind === 0 /* UnicodeHighlighterReasonKind.Ambiguous */) {\n                for (const locale of reason.notAmbiguousInLocales) {\n                    options.push({\n                        label: nls.localize(\"unicodeHighlight.allowCommonCharactersInLanguage\", \"Allow unicode characters that are more common in the language \\\"{0}\\\".\", locale),\n                        run: () => __awaiter(this, void 0, void 0, function* () {\n                            excludeLocaleFromBeingHighlighted(configurationService, [locale]);\n                        }),\n                    });\n                }\n            }\n            options.push({\n                label: getExcludeCharFromBeingHighlightedLabel(codePoint),\n                run: () => excludeCharFromBeingHighlighted(configurationService, [codePoint])\n            });\n            if (inComment) {\n                const action = new DisableHighlightingInCommentsAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else if (inString) {\n                const action = new DisableHighlightingInStringsAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            if (reason.kind === 0 /* UnicodeHighlighterReasonKind.Ambiguous */) {\n                const action = new DisableHighlightingOfAmbiguousCharactersAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else if (reason.kind === 1 /* UnicodeHighlighterReasonKind.Invisible */) {\n                const action = new DisableHighlightingOfInvisibleCharactersAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else if (reason.kind === 2 /* UnicodeHighlighterReasonKind.NonBasicAscii */) {\n                const action = new DisableHighlightingOfNonBasicAsciiCharactersAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else {\n                expectNever(reason);\n            }\n            const result = yield quickPickService.pick(options, { title: nls.localize('unicodeHighlight.configureUnicodeHighlightOptions', 'Configure Unicode Highlight Options') });\n            if (result) {\n                yield result.run();\n            }\n        });\n    }\n}\nShowExcludeOptions.ID = 'editor.action.unicodeHighlight.showExcludeOptions';\nfunction excludeCharFromBeingHighlighted(configurationService, charCodes) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const existingValue = configurationService.getValue(unicodeHighlightConfigKeys.allowedCharacters);\n        let value;\n        if ((typeof existingValue === 'object') && existingValue) {\n            value = existingValue;\n        }\n        else {\n            value = {};\n        }\n        for (const charCode of charCodes) {\n            value[String.fromCodePoint(charCode)] = true;\n        }\n        yield configurationService.updateValue(unicodeHighlightConfigKeys.allowedCharacters, value, 2 /* ConfigurationTarget.USER */);\n    });\n}\nfunction excludeLocaleFromBeingHighlighted(configurationService, locales) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const existingValue = (_a = configurationService.inspect(unicodeHighlightConfigKeys.allowedLocales).user) === null || _a === void 0 ? void 0 : _a.value;\n        let value;\n        if ((typeof existingValue === 'object') && existingValue) {\n            // Copy value, as the existing value is read only\n            value = Object.assign({}, existingValue);\n        }\n        else {\n            value = {};\n        }\n        for (const locale of locales) {\n            value[locale] = true;\n        }\n        yield configurationService.updateValue(unicodeHighlightConfigKeys.allowedLocales, value, 2 /* ConfigurationTarget.USER */);\n    });\n}\nfunction expectNever(value) {\n    throw new Error(`Unexpected value: ${value}`);\n}\nregisterEditorAction(DisableHighlightingOfAmbiguousCharactersAction);\nregisterEditorAction(DisableHighlightingOfInvisibleCharactersAction);\nregisterEditorAction(DisableHighlightingOfNonBasicAsciiCharactersAction);\nregisterEditorAction(ShowExcludeOptions);\nregisterEditorContribution(UnicodeHighlighter.ID, UnicodeHighlighter, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nHoverParticipantRegistry.register(UnicodeHighlighterHoverParticipant);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport * as nls from '../../../../nls.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nconst ignoreUnusualLineTerminators = 'ignoreUnusualLineTerminators';\nfunction writeIgnoreState(codeEditorService, model, state) {\n    codeEditorService.setModelProperty(model.uri, ignoreUnusualLineTerminators, state);\n}\nfunction readIgnoreState(codeEditorService, model) {\n    return codeEditorService.getModelProperty(model.uri, ignoreUnusualLineTerminators);\n}\nlet UnusualLineTerminatorsDetector = class UnusualLineTerminatorsDetector extends Disposable {\n    constructor(_editor, _dialogService, _codeEditorService) {\n        super();\n        this._editor = _editor;\n        this._dialogService = _dialogService;\n        this._codeEditorService = _codeEditorService;\n        this._isPresentingDialog = false;\n        this._config = this._editor.getOption(125 /* EditorOption.unusualLineTerminators */);\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(125 /* EditorOption.unusualLineTerminators */)) {\n                this._config = this._editor.getOption(125 /* EditorOption.unusualLineTerminators */);\n                this._checkForUnusualLineTerminators();\n            }\n        }));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._checkForUnusualLineTerminators();\n        }));\n        this._register(this._editor.onDidChangeModelContent((e) => {\n            if (e.isUndoing) {\n                // skip checking in case of undoing\n                return;\n            }\n            this._checkForUnusualLineTerminators();\n        }));\n        this._checkForUnusualLineTerminators();\n    }\n    _checkForUnusualLineTerminators() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._config === 'off') {\n                return;\n            }\n            if (!this._editor.hasModel()) {\n                return;\n            }\n            const model = this._editor.getModel();\n            if (!model.mightContainUnusualLineTerminators()) {\n                return;\n            }\n            const ignoreState = readIgnoreState(this._codeEditorService, model);\n            if (ignoreState === true) {\n                // this model should be ignored\n                return;\n            }\n            if (this._editor.getOption(90 /* EditorOption.readOnly */)) {\n                // read only editor => sorry!\n                return;\n            }\n            if (this._config === 'auto') {\n                // just do it!\n                model.removeUnusualLineTerminators(this._editor.getSelections());\n                return;\n            }\n            if (this._isPresentingDialog) {\n                // we're currently showing the dialog, which is async.\n                // avoid spamming the user\n                return;\n            }\n            let result;\n            try {\n                this._isPresentingDialog = true;\n                result = yield this._dialogService.confirm({\n                    title: nls.localize('unusualLineTerminators.title', \"Unusual Line Terminators\"),\n                    message: nls.localize('unusualLineTerminators.message', \"Detected unusual line terminators\"),\n                    detail: nls.localize('unusualLineTerminators.detail', \"The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\\n\\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.\", basename(model.uri)),\n                    primaryButton: nls.localize({ key: 'unusualLineTerminators.fix', comment: ['&& denotes a mnemonic'] }, \"&&Remove Unusual Line Terminators\"),\n                    cancelButton: nls.localize('unusualLineTerminators.ignore', \"Ignore\")\n                });\n            }\n            finally {\n                this._isPresentingDialog = false;\n            }\n            if (!result.confirmed) {\n                // this model should be ignored\n                writeIgnoreState(this._codeEditorService, model, true);\n                return;\n            }\n            model.removeUnusualLineTerminators(this._editor.getSelections());\n        });\n    }\n};\nUnusualLineTerminatorsDetector.ID = 'editor.contrib.unusualLineTerminatorsDetector';\nUnusualLineTerminatorsDetector = __decorate([\n    __param(1, IDialogService),\n    __param(2, ICodeEditorService)\n], UnusualLineTerminatorsDetector);\nexport { UnusualLineTerminatorsDetector };\nregisterEditorContribution(UnusualLineTerminatorsDetector.ID, UnusualLineTerminatorsDetector, 1 /* EditorContributionInstantiation.AfterFirstRender */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './highlightDecorations.css';\nimport { MinimapPosition, OverviewRulerLane } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { DocumentHighlightKind } from '../../../common/languages.js';\nimport * as nls from '../../../../nls.js';\nimport { activeContrastBorder, editorSelectionHighlight, minimapSelectionOccurrenceHighlight, overviewRulerSelectionHighlightForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant, themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nconst wordHighlightBackground = registerColor('editor.wordHighlightBackground', { dark: '#575757B8', light: '#57575740', hcDark: null, hcLight: null }, nls.localize('wordHighlight', 'Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\nregisterColor('editor.wordHighlightStrongBackground', { dark: '#004972B8', light: '#0e639c40', hcDark: null, hcLight: null }, nls.localize('wordHighlightStrong', 'Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\nregisterColor('editor.wordHighlightTextBackground', { light: wordHighlightBackground, dark: wordHighlightBackground, hcDark: wordHighlightBackground, hcLight: wordHighlightBackground }, nls.localize('wordHighlightText', 'Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst wordHighlightBorder = registerColor('editor.wordHighlightBorder', { light: null, dark: null, hcDark: activeContrastBorder, hcLight: activeContrastBorder }, nls.localize('wordHighlightBorder', 'Border color of a symbol during read-access, like reading a variable.'));\nregisterColor('editor.wordHighlightStrongBorder', { light: null, dark: null, hcDark: activeContrastBorder, hcLight: activeContrastBorder }, nls.localize('wordHighlightStrongBorder', 'Border color of a symbol during write-access, like writing to a variable.'));\nregisterColor('editor.wordHighlightTextBorder', { light: wordHighlightBorder, dark: wordHighlightBorder, hcDark: wordHighlightBorder, hcLight: wordHighlightBorder }, nls.localize('wordHighlightTextBorder', \"Border color of a textual occurrence for a symbol.\"));\nconst overviewRulerWordHighlightForeground = registerColor('editorOverviewRuler.wordHighlightForeground', { dark: '#A0A0A0CC', light: '#A0A0A0CC', hcDark: '#A0A0A0CC', hcLight: '#A0A0A0CC' }, nls.localize('overviewRulerWordHighlightForeground', 'Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst overviewRulerWordHighlightStrongForeground = registerColor('editorOverviewRuler.wordHighlightStrongForeground', { dark: '#C0A0C0CC', light: '#C0A0C0CC', hcDark: '#C0A0C0CC', hcLight: '#C0A0C0CC' }, nls.localize('overviewRulerWordHighlightStrongForeground', 'Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst overviewRulerWordHighlightTextForeground = registerColor('editorOverviewRuler.wordHighlightTextForeground', { dark: overviewRulerSelectionHighlightForeground, light: overviewRulerSelectionHighlightForeground, hcDark: overviewRulerSelectionHighlightForeground, hcLight: overviewRulerSelectionHighlightForeground }, nls.localize('overviewRulerWordHighlightTextForeground', 'Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst _WRITE_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight-strong',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlightStrong',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightStrongForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nconst _TEXT_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight-text',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlightText',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightTextForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nconst _SELECTION_HIGHLIGHT_OPTIONS = ModelDecorationOptions.register({\n    description: 'selection-highlight-overview',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'selectionHighlight',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerSelectionHighlightForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nconst _SELECTION_HIGHLIGHT_OPTIONS_NO_OVERVIEW = ModelDecorationOptions.register({\n    description: 'selection-highlight',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'selectionHighlight',\n});\nconst _REGULAR_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlight',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nexport function getHighlightDecorationOptions(kind) {\n    if (kind === DocumentHighlightKind.Write) {\n        return _WRITE_OPTIONS;\n    }\n    else if (kind === DocumentHighlightKind.Text) {\n        return _TEXT_OPTIONS;\n    }\n    else {\n        return _REGULAR_OPTIONS;\n    }\n}\nexport function getSelectionHighlightDecorationOptions(hasSemanticHighlights) {\n    // Show in overviewRuler only if model has no semantic highlighting\n    return (hasSemanticHighlights ? _SELECTION_HIGHLIGHT_OPTIONS_NO_OVERVIEW : _SELECTION_HIGHLIGHT_OPTIONS);\n}\nregisterThemingParticipant((theme, collector) => {\n    const selectionHighlight = theme.getColor(editorSelectionHighlight);\n    if (selectionHighlight) {\n        collector.addRule(`.monaco-editor .selectionHighlight { background-color: ${selectionHighlight.transparent(0.5)}; }`);\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar WordHighlighterContribution_1;\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { createCancelablePromise, first, timeout } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution, registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { DocumentHighlightKind } from '../../../common/languages.js';\nimport * as nls from '../../../../nls.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { getHighlightDecorationOptions } from './highlightDecorations.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nconst ctxHasWordHighlights = new RawContextKey('hasWordHighlights', false);\nexport function getOccurrencesAtPosition(registry, model, position, token) {\n    const orderedByScore = registry.ordered(model);\n    // in order of score ask the occurrences provider\n    // until someone response with a good result\n    // (good = none empty array)\n    return first(orderedByScore.map(provider => () => {\n        return Promise.resolve(provider.provideDocumentHighlights(model, position, token))\n            .then(undefined, onUnexpectedExternalError);\n    }), arrays.isNonEmptyArray);\n}\nclass OccurenceAtPositionRequest {\n    constructor(_model, _selection, _wordSeparators) {\n        this._model = _model;\n        this._selection = _selection;\n        this._wordSeparators = _wordSeparators;\n        this._wordRange = this._getCurrentWordRange(_model, _selection);\n        this._result = null;\n    }\n    get result() {\n        if (!this._result) {\n            this._result = createCancelablePromise(token => this._compute(this._model, this._selection, this._wordSeparators, token));\n        }\n        return this._result;\n    }\n    _getCurrentWordRange(model, selection) {\n        const word = model.getWordAtPosition(selection.getPosition());\n        if (word) {\n            return new Range(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\n        }\n        return null;\n    }\n    isValid(model, selection, decorations) {\n        const lineNumber = selection.startLineNumber;\n        const startColumn = selection.startColumn;\n        const endColumn = selection.endColumn;\n        const currentWordRange = this._getCurrentWordRange(model, selection);\n        let requestIsValid = Boolean(this._wordRange && this._wordRange.equalsRange(currentWordRange));\n        // Even if we are on a different word, if that word is in the decorations ranges, the request is still valid\n        // (Same symbol)\n        for (let i = 0, len = decorations.length; !requestIsValid && i < len; i++) {\n            const range = decorations.getRange(i);\n            if (range && range.startLineNumber === lineNumber) {\n                if (range.startColumn <= startColumn && range.endColumn >= endColumn) {\n                    requestIsValid = true;\n                }\n            }\n        }\n        return requestIsValid;\n    }\n    cancel() {\n        this.result.cancel();\n    }\n}\nclass SemanticOccurenceAtPositionRequest extends OccurenceAtPositionRequest {\n    constructor(model, selection, wordSeparators, providers) {\n        super(model, selection, wordSeparators);\n        this._providers = providers;\n    }\n    _compute(model, selection, wordSeparators, token) {\n        return getOccurrencesAtPosition(this._providers, model, selection.getPosition(), token).then(value => value || []);\n    }\n}\nclass TextualOccurenceAtPositionRequest extends OccurenceAtPositionRequest {\n    constructor(model, selection, wordSeparators) {\n        super(model, selection, wordSeparators);\n        this._selectionIsEmpty = selection.isEmpty();\n    }\n    _compute(model, selection, wordSeparators, token) {\n        return timeout(250, token).then(() => {\n            if (!selection.isEmpty()) {\n                return [];\n            }\n            const word = model.getWordAtPosition(selection.getPosition());\n            if (!word || word.word.length > 1000) {\n                return [];\n            }\n            const matches = model.findMatches(word.word, true, false, true, wordSeparators, false);\n            return matches.map(m => {\n                return {\n                    range: m.range,\n                    kind: DocumentHighlightKind.Text\n                };\n            });\n        });\n    }\n    isValid(model, selection, decorations) {\n        const currentSelectionIsEmpty = selection.isEmpty();\n        if (this._selectionIsEmpty !== currentSelectionIsEmpty) {\n            return false;\n        }\n        return super.isValid(model, selection, decorations);\n    }\n}\nfunction computeOccurencesAtPosition(registry, model, selection, wordSeparators) {\n    if (registry.has(model)) {\n        return new SemanticOccurenceAtPositionRequest(model, selection, wordSeparators, registry);\n    }\n    return new TextualOccurenceAtPositionRequest(model, selection, wordSeparators);\n}\nregisterModelAndPositionCommand('_executeDocumentHighlights', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    return getOccurrencesAtPosition(languageFeaturesService.documentHighlightProvider, model, position, CancellationToken.None);\n});\nclass WordHighlighter {\n    constructor(editor, providers, linkedHighlighters, contextKeyService) {\n        this.toUnhook = new DisposableStore();\n        this.workerRequestTokenId = 0;\n        this.workerRequestCompleted = false;\n        this.workerRequestValue = [];\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n        this.editor = editor;\n        this.providers = providers;\n        this.linkedHighlighters = linkedHighlighters;\n        this._hasWordHighlights = ctxHasWordHighlights.bindTo(contextKeyService);\n        this._ignorePositionChangeEvent = false;\n        this.occurrencesHighlight = this.editor.getOption(80 /* EditorOption.occurrencesHighlight */);\n        this.model = this.editor.getModel();\n        this.toUnhook.add(editor.onDidChangeCursorPosition((e) => {\n            if (this._ignorePositionChangeEvent) {\n                // We are changing the position => ignore this event\n                return;\n            }\n            if (!this.occurrencesHighlight) {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            this._onPositionChanged(e);\n        }));\n        this.toUnhook.add(editor.onDidChangeModelContent((e) => {\n            this._stopAll();\n        }));\n        this.toUnhook.add(editor.onDidChangeConfiguration((e) => {\n            const newValue = this.editor.getOption(80 /* EditorOption.occurrencesHighlight */);\n            if (this.occurrencesHighlight !== newValue) {\n                this.occurrencesHighlight = newValue;\n                this._stopAll();\n            }\n        }));\n        this.decorations = this.editor.createDecorationsCollection();\n        this.workerRequestTokenId = 0;\n        this.workerRequest = null;\n        this.workerRequestCompleted = false;\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n    }\n    hasDecorations() {\n        return (this.decorations.length > 0);\n    }\n    restore() {\n        if (!this.occurrencesHighlight) {\n            return;\n        }\n        this._run();\n    }\n    _getSortedHighlights() {\n        return (this.decorations.getRanges()\n            .sort(Range.compareRangesUsingStarts));\n    }\n    moveNext() {\n        const highlights = this._getSortedHighlights();\n        const index = highlights.findIndex((range) => range.containsPosition(this.editor.getPosition()));\n        const newIndex = ((index + 1) % highlights.length);\n        const dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n            const word = this._getWord();\n            if (word) {\n                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);\n                alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);\n            }\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    }\n    moveBack() {\n        const highlights = this._getSortedHighlights();\n        const index = highlights.findIndex((range) => range.containsPosition(this.editor.getPosition()));\n        const newIndex = ((index - 1 + highlights.length) % highlights.length);\n        const dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n            const word = this._getWord();\n            if (word) {\n                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);\n                alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);\n            }\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    }\n    _removeDecorations() {\n        if (this.decorations.length > 0) {\n            // remove decorations\n            this.decorations.clear();\n            this._hasWordHighlights.set(false);\n        }\n    }\n    _stopAll() {\n        // Remove any existing decorations\n        this._removeDecorations();\n        // Cancel any renderDecorationsTimer\n        if (this.renderDecorationsTimer !== -1) {\n            clearTimeout(this.renderDecorationsTimer);\n            this.renderDecorationsTimer = -1;\n        }\n        // Cancel any worker request\n        if (this.workerRequest !== null) {\n            this.workerRequest.cancel();\n            this.workerRequest = null;\n        }\n        // Invalidate any worker request callback\n        if (!this.workerRequestCompleted) {\n            this.workerRequestTokenId++;\n            this.workerRequestCompleted = true;\n        }\n    }\n    _onPositionChanged(e) {\n        // disabled\n        if (!this.occurrencesHighlight) {\n            this._stopAll();\n            return;\n        }\n        // ignore typing & other\n        if (e.reason !== 3 /* CursorChangeReason.Explicit */) {\n            this._stopAll();\n            return;\n        }\n        this._run();\n    }\n    _getWord() {\n        const editorSelection = this.editor.getSelection();\n        const lineNumber = editorSelection.startLineNumber;\n        const startColumn = editorSelection.startColumn;\n        return this.model.getWordAtPosition({\n            lineNumber: lineNumber,\n            column: startColumn\n        });\n    }\n    _run() {\n        const editorSelection = this.editor.getSelection();\n        // ignore multiline selection\n        if (editorSelection.startLineNumber !== editorSelection.endLineNumber) {\n            this._stopAll();\n            return;\n        }\n        const startColumn = editorSelection.startColumn;\n        const endColumn = editorSelection.endColumn;\n        const word = this._getWord();\n        // The selection must be inside a word or surround one word at most\n        if (!word || word.startColumn > startColumn || word.endColumn < endColumn) {\n            this._stopAll();\n            return;\n        }\n        // All the effort below is trying to achieve this:\n        // - when cursor is moved to a word, trigger immediately a findOccurrences request\n        // - 250ms later after the last cursor move event, render the occurrences\n        // - no flickering!\n        const workerRequestIsValid = (this.workerRequest && this.workerRequest.isValid(this.model, editorSelection, this.decorations));\n        // There are 4 cases:\n        // a) old workerRequest is valid & completed, renderDecorationsTimer fired\n        // b) old workerRequest is valid & completed, renderDecorationsTimer not fired\n        // c) old workerRequest is valid, but not completed\n        // d) old workerRequest is not valid\n        // For a) no action is needed\n        // For c), member 'lastCursorPositionChangeTime' will be used when installing the timer so no action is needed\n        this.lastCursorPositionChangeTime = (new Date()).getTime();\n        if (workerRequestIsValid) {\n            if (this.workerRequestCompleted && this.renderDecorationsTimer !== -1) {\n                // case b)\n                // Delay the firing of renderDecorationsTimer by an extra 250 ms\n                clearTimeout(this.renderDecorationsTimer);\n                this.renderDecorationsTimer = -1;\n                this._beginRenderDecorations();\n            }\n        }\n        else {\n            // case d)\n            // Stop all previous actions and start fresh\n            this._stopAll();\n            const myRequestId = ++this.workerRequestTokenId;\n            this.workerRequestCompleted = false;\n            this.workerRequest = computeOccurencesAtPosition(this.providers, this.model, this.editor.getSelection(), this.editor.getOption(129 /* EditorOption.wordSeparators */));\n            this.workerRequest.result.then(data => {\n                if (myRequestId === this.workerRequestTokenId) {\n                    this.workerRequestCompleted = true;\n                    this.workerRequestValue = data || [];\n                    this._beginRenderDecorations();\n                }\n            }, onUnexpectedError);\n        }\n    }\n    _beginRenderDecorations() {\n        const currentTime = (new Date()).getTime();\n        const minimumRenderTime = this.lastCursorPositionChangeTime + 250;\n        if (currentTime >= minimumRenderTime) {\n            // Synchronous\n            this.renderDecorationsTimer = -1;\n            this.renderDecorations();\n        }\n        else {\n            // Asynchronous\n            this.renderDecorationsTimer = setTimeout(() => {\n                this.renderDecorations();\n            }, (minimumRenderTime - currentTime));\n        }\n    }\n    renderDecorations() {\n        this.renderDecorationsTimer = -1;\n        const decorations = [];\n        for (const info of this.workerRequestValue) {\n            if (info.range) {\n                decorations.push({\n                    range: info.range,\n                    options: getHighlightDecorationOptions(info.kind)\n                });\n            }\n        }\n        this.decorations.set(decorations);\n        this._hasWordHighlights.set(this.hasDecorations());\n        // update decorators of friends\n        for (const other of this.linkedHighlighters()) {\n            if ((other === null || other === void 0 ? void 0 : other.editor.getModel()) === this.editor.getModel()) {\n                other._stopAll();\n                other.decorations.set(decorations);\n                other._hasWordHighlights.set(other.hasDecorations());\n            }\n        }\n    }\n    dispose() {\n        this._stopAll();\n        this.toUnhook.dispose();\n    }\n}\nlet WordHighlighterContribution = WordHighlighterContribution_1 = class WordHighlighterContribution extends Disposable {\n    static get(editor) {\n        return editor.getContribution(WordHighlighterContribution_1.ID);\n    }\n    constructor(editor, contextKeyService, languageFeaturesService) {\n        super();\n        this.wordHighlighter = null;\n        this.linkedContributions = new Set();\n        const createWordHighlighterIfPossible = () => {\n            if (editor.hasModel() && !editor.getModel().isTooLargeForTokenization()) {\n                this.wordHighlighter = new WordHighlighter(editor, languageFeaturesService.documentHighlightProvider, () => Iterable.map(this.linkedContributions, c => c.wordHighlighter), contextKeyService);\n            }\n        };\n        this._register(editor.onDidChangeModel((e) => {\n            if (this.wordHighlighter) {\n                this.wordHighlighter.dispose();\n                this.wordHighlighter = null;\n            }\n            createWordHighlighterIfPossible();\n        }));\n        createWordHighlighterIfPossible();\n    }\n    saveViewState() {\n        if (this.wordHighlighter && this.wordHighlighter.hasDecorations()) {\n            return true;\n        }\n        return false;\n    }\n    moveNext() {\n        var _a;\n        (_a = this.wordHighlighter) === null || _a === void 0 ? void 0 : _a.moveNext();\n    }\n    moveBack() {\n        var _a;\n        (_a = this.wordHighlighter) === null || _a === void 0 ? void 0 : _a.moveBack();\n    }\n    restoreViewState(state) {\n        if (this.wordHighlighter && state) {\n            this.wordHighlighter.restore();\n        }\n    }\n    dispose() {\n        if (this.wordHighlighter) {\n            this.wordHighlighter.dispose();\n            this.wordHighlighter = null;\n        }\n        super.dispose();\n    }\n};\nWordHighlighterContribution.ID = 'editor.contrib.wordHighlighter';\nWordHighlighterContribution = WordHighlighterContribution_1 = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, ILanguageFeaturesService)\n], WordHighlighterContribution);\nexport { WordHighlighterContribution };\nclass WordHighlightNavigationAction extends EditorAction {\n    constructor(next, opts) {\n        super(opts);\n        this._isNext = next;\n    }\n    run(accessor, editor) {\n        const controller = WordHighlighterContribution.get(editor);\n        if (!controller) {\n            return;\n        }\n        if (this._isNext) {\n            controller.moveNext();\n        }\n        else {\n            controller.moveBack();\n        }\n    }\n}\nclass NextWordHighlightAction extends WordHighlightNavigationAction {\n    constructor() {\n        super(true, {\n            id: 'editor.action.wordHighlight.next',\n            label: nls.localize('wordHighlight.next.label', \"Go to Next Symbol Highlight\"),\n            alias: 'Go to Next Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 65 /* KeyCode.F7 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nclass PrevWordHighlightAction extends WordHighlightNavigationAction {\n    constructor() {\n        super(false, {\n            id: 'editor.action.wordHighlight.prev',\n            label: nls.localize('wordHighlight.previous.label', \"Go to Previous Symbol Highlight\"),\n            alias: 'Go to Previous Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 65 /* KeyCode.F7 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nclass TriggerWordHighlightAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.wordHighlight.trigger',\n            label: nls.localize('wordHighlight.trigger.label', \"Trigger Symbol Highlight\"),\n            alias: 'Trigger Symbol Highlight',\n            precondition: ctxHasWordHighlights.toNegated(),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 0,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        const controller = WordHighlighterContribution.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.restoreViewState(true);\n    }\n}\nregisterEditorContribution(WordHighlighterContribution.ID, WordHighlighterContribution, 0 /* EditorContributionInstantiation.Eager */); // eager because it uses `saveViewState`/`restoreViewState`\nregisterEditorAction(NextWordHighlightAction);\nregisterEditorAction(PrevWordHighlightAction);\nregisterEditorAction(TriggerWordHighlightAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { ReplaceCommand } from '../../../common/commands/replaceCommand.js';\nimport { EditorOptions } from '../../../common/config/editorOptions.js';\nimport { CursorState } from '../../../common/cursorCommon.js';\nimport { WordOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { getMapForWordSeparators } from '../../../common/core/wordCharacterClassifier.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport * as nls from '../../../../nls.js';\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../../../../platform/accessibility/common/accessibility.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IsWindowsContext } from '../../../../platform/contextkey/common/contextkeys.js';\nexport class MoveWordCommand extends EditorCommand {\n    constructor(opts) {\n        super(opts);\n        this._inSelectionMode = opts.inSelectionMode;\n        this._wordNavigationType = opts.wordNavigationType;\n    }\n    runEditorCommand(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(129 /* EditorOption.wordSeparators */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const result = selections.map((sel) => {\n            const inPosition = new Position(sel.positionLineNumber, sel.positionColumn);\n            const outPosition = this._move(wordSeparators, model, inPosition, this._wordNavigationType);\n            return this._moveTo(sel, outPosition, this._inSelectionMode);\n        });\n        model.pushStackElement();\n        editor._getViewModel().setCursorStates('moveWordCommand', 3 /* CursorChangeReason.Explicit */, result.map(r => CursorState.fromModelSelection(r)));\n        if (result.length === 1) {\n            const pos = new Position(result[0].positionLineNumber, result[0].positionColumn);\n            editor.revealPosition(pos, 0 /* ScrollType.Smooth */);\n        }\n    }\n    _moveTo(from, to, inSelectionMode) {\n        if (inSelectionMode) {\n            // move just position\n            return new Selection(from.selectionStartLineNumber, from.selectionStartColumn, to.lineNumber, to.column);\n        }\n        else {\n            // move everything\n            return new Selection(to.lineNumber, to.column, to.lineNumber, to.column);\n        }\n    }\n}\nexport class WordLeftCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordOperations.moveWordLeft(wordSeparators, model, position, wordNavigationType);\n    }\n}\nexport class WordRightCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordOperations.moveWordRight(wordSeparators, model, position, wordNavigationType);\n    }\n}\nexport class CursorWordStartLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartLeft',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndLeft',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordLeft extends WordLeftCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 1 /* WordNavigationType.WordStartFast */,\n            id: 'cursorWordLeft',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 15 /* KeyCode.LeftArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordStartLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartLeftSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndLeftSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordLeftSelect extends WordLeftCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 1 /* WordNavigationType.WordStartFast */,\n            id: 'cursorWordLeftSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\n// Accessibility navigation commands should only be enabled on windows since they are tuned to what NVDA expects\nexport class CursorWordAccessibilityLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityLeft',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordAccessibilityLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityLeftSelect',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordStartRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartRight',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndRight extends WordRightCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndRight',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 17 /* KeyCode.RightArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordRight',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordStartRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartRightSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndRightSelect extends WordRightCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndRightSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordRightSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordAccessibilityRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityRight',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordAccessibilityRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityRightSelect',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class DeleteWordCommand extends EditorCommand {\n    constructor(opts) {\n        super(opts);\n        this._whitespaceHeuristics = opts.whitespaceHeuristics;\n        this._wordNavigationType = opts.wordNavigationType;\n    }\n    runEditorCommand(accessor, editor, args) {\n        const languageConfigurationService = accessor.get(ILanguageConfigurationService);\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(129 /* EditorOption.wordSeparators */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const autoClosingBrackets = editor.getOption(6 /* EditorOption.autoClosingBrackets */);\n        const autoClosingQuotes = editor.getOption(11 /* EditorOption.autoClosingQuotes */);\n        const autoClosingPairs = languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getAutoClosingPairs();\n        const viewModel = editor._getViewModel();\n        const commands = selections.map((sel) => {\n            const deleteRange = this._delete({\n                wordSeparators,\n                model,\n                selection: sel,\n                whitespaceHeuristics: this._whitespaceHeuristics,\n                autoClosingDelete: editor.getOption(9 /* EditorOption.autoClosingDelete */),\n                autoClosingBrackets,\n                autoClosingQuotes,\n                autoClosingPairs,\n                autoClosedCharacters: viewModel.getCursorAutoClosedCharacters()\n            }, this._wordNavigationType);\n            return new ReplaceCommand(deleteRange, '');\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nexport class DeleteWordLeftCommand extends DeleteWordCommand {\n    _delete(ctx, wordNavigationType) {\n        const r = WordOperations.deleteWordLeft(ctx, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        return new Range(1, 1, 1, 1);\n    }\n}\nexport class DeleteWordRightCommand extends DeleteWordCommand {\n    _delete(ctx, wordNavigationType) {\n        const r = WordOperations.deleteWordRight(ctx, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        const lineCount = ctx.model.getLineCount();\n        const maxColumn = ctx.model.getLineMaxColumn(lineCount);\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\n    }\n}\nexport class DeleteWordStartLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordStartLeft',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordEndLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordEndLeft',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordLeft',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1 /* KeyCode.Backspace */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 1 /* KeyCode.Backspace */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class DeleteWordStartRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordStartRight',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordEndRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordEndRight',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordRight',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 20 /* KeyCode.Delete */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 20 /* KeyCode.Delete */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class DeleteInsideWord extends EditorAction {\n    constructor() {\n        super({\n            id: 'deleteInsideWord',\n            precondition: EditorContextKeys.writable,\n            label: nls.localize('deleteInsideWord', \"Delete Word\"),\n            alias: 'Delete Word'\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(129 /* EditorOption.wordSeparators */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const commands = selections.map((sel) => {\n            const deleteRange = WordOperations.deleteInsideWord(wordSeparators, model, sel);\n            return new ReplaceCommand(deleteRange, '');\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nregisterEditorCommand(new CursorWordStartLeft());\nregisterEditorCommand(new CursorWordEndLeft());\nregisterEditorCommand(new CursorWordLeft());\nregisterEditorCommand(new CursorWordStartLeftSelect());\nregisterEditorCommand(new CursorWordEndLeftSelect());\nregisterEditorCommand(new CursorWordLeftSelect());\nregisterEditorCommand(new CursorWordStartRight());\nregisterEditorCommand(new CursorWordEndRight());\nregisterEditorCommand(new CursorWordRight());\nregisterEditorCommand(new CursorWordStartRightSelect());\nregisterEditorCommand(new CursorWordEndRightSelect());\nregisterEditorCommand(new CursorWordRightSelect());\nregisterEditorCommand(new CursorWordAccessibilityLeft());\nregisterEditorCommand(new CursorWordAccessibilityLeftSelect());\nregisterEditorCommand(new CursorWordAccessibilityRight());\nregisterEditorCommand(new CursorWordAccessibilityRightSelect());\nregisterEditorCommand(new DeleteWordStartLeft());\nregisterEditorCommand(new DeleteWordEndLeft());\nregisterEditorCommand(new DeleteWordLeft());\nregisterEditorCommand(new DeleteWordStartRight());\nregisterEditorCommand(new DeleteWordEndRight());\nregisterEditorCommand(new DeleteWordRight());\nregisterEditorAction(DeleteInsideWord);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { WordPartOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { DeleteWordCommand, MoveWordCommand } from '../../wordOperations/browser/wordOperations.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nexport class DeleteWordPartLeft extends DeleteWordCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordPartLeft',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 1 /* KeyCode.Backspace */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    _delete(ctx, wordNavigationType) {\n        const r = WordPartOperations.deleteWordPartLeft(ctx);\n        if (r) {\n            return r;\n        }\n        return new Range(1, 1, 1, 1);\n    }\n}\nexport class DeleteWordPartRight extends DeleteWordCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordPartRight',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 20 /* KeyCode.Delete */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    _delete(ctx, wordNavigationType) {\n        const r = WordPartOperations.deleteWordPartRight(ctx);\n        if (r) {\n            return r;\n        }\n        const lineCount = ctx.model.getLineCount();\n        const maxColumn = ctx.model.getLineMaxColumn(lineCount);\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\n    }\n}\nexport class WordPartLeftCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordPartOperations.moveWordPartLeft(wordSeparators, model, position);\n    }\n}\nexport class CursorWordPartLeft extends WordPartLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordPartLeft',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\n// Register previous id for compatibility purposes\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeft', 'cursorWordPartLeft');\nexport class CursorWordPartLeftSelect extends WordPartLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordPartLeftSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\n// Register previous id for compatibility purposes\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeftSelect', 'cursorWordPartLeftSelect');\nexport class WordPartRightCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordPartOperations.moveWordPartRight(wordSeparators, model, position);\n    }\n}\nexport class CursorWordPartRight extends WordPartRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordPartRight',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordPartRightSelect extends WordPartRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordPartRightSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nregisterEditorCommand(new DeleteWordPartLeft());\nregisterEditorCommand(new DeleteWordPartRight());\nregisterEditorCommand(new CursorWordPartLeft());\nregisterEditorCommand(new CursorWordPartLeftSelect());\nregisterEditorCommand(new CursorWordPartRight());\nregisterEditorCommand(new CursorWordPartRightSelect());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Sash } from '../../../../base/browser/ui/sash/sash.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { IdGenerator } from '../../../../base/common/idGenerator.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport * as objects from '../../../../base/common/objects.js';\nimport './zoneWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nconst defaultColor = new Color(new RGBA(0, 122, 204));\nconst defaultOptions = {\n    showArrow: true,\n    showFrame: true,\n    className: '',\n    frameColor: defaultColor,\n    arrowColor: defaultColor,\n    keepEditorSelection: false\n};\nconst WIDGET_ID = 'vs.editor.contrib.zoneWidget';\nclass ViewZoneDelegate {\n    constructor(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight, showInHiddenAreas, ordinal) {\n        this.id = ''; // A valid zone id should be greater than 0\n        this.domNode = domNode;\n        this.afterLineNumber = afterLineNumber;\n        this.afterColumn = afterColumn;\n        this.heightInLines = heightInLines;\n        this.showInHiddenAreas = showInHiddenAreas;\n        this.ordinal = ordinal;\n        this._onDomNodeTop = onDomNodeTop;\n        this._onComputedHeight = onComputedHeight;\n    }\n    onDomNodeTop(top) {\n        this._onDomNodeTop(top);\n    }\n    onComputedHeight(height) {\n        this._onComputedHeight(height);\n    }\n}\nexport class OverlayWidgetDelegate {\n    constructor(id, domNode) {\n        this._id = id;\n        this._domNode = domNode;\n    }\n    getId() {\n        return this._id;\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return null;\n    }\n}\nclass Arrow {\n    constructor(_editor) {\n        this._editor = _editor;\n        this._ruleName = Arrow._IdGenerator.nextId();\n        this._decorations = this._editor.createDecorationsCollection();\n        this._color = null;\n        this._height = -1;\n    }\n    dispose() {\n        this.hide();\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n    }\n    set color(value) {\n        if (this._color !== value) {\n            this._color = value;\n            this._updateStyle();\n        }\n    }\n    set height(value) {\n        if (this._height !== value) {\n            this._height = value;\n            this._updateStyle();\n        }\n    }\n    _updateStyle() {\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n        dom.createCSSRule(`.monaco-editor ${this._ruleName}`, `border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `);\n    }\n    show(where) {\n        if (where.column === 1) {\n            // the arrow isn't pretty at column 1 and we need to push it out a little\n            where = { lineNumber: where.lineNumber, column: 2 };\n        }\n        this._decorations.set([{\n                range: Range.fromPositions(where),\n                options: {\n                    description: 'zone-widget-arrow',\n                    className: this._ruleName,\n                    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */\n                }\n            }]);\n    }\n    hide() {\n        this._decorations.clear();\n    }\n}\nArrow._IdGenerator = new IdGenerator('.arrow-decoration-');\nexport class ZoneWidget {\n    constructor(editor, options = {}) {\n        this._arrow = null;\n        this._overlayWidget = null;\n        this._resizeSash = null;\n        this._viewZone = null;\n        this._disposables = new DisposableStore();\n        this.container = null;\n        this._isShowing = false;\n        this.editor = editor;\n        this._positionMarkerId = this.editor.createDecorationsCollection();\n        this.options = objects.deepClone(options);\n        objects.mixin(this.options, defaultOptions, false);\n        this.domNode = document.createElement('div');\n        if (!this.options.isAccessible) {\n            this.domNode.setAttribute('aria-hidden', 'true');\n            this.domNode.setAttribute('role', 'presentation');\n        }\n        this._disposables.add(this.editor.onDidLayoutChange((info) => {\n            const width = this._getWidth(info);\n            this.domNode.style.width = width + 'px';\n            this.domNode.style.left = this._getLeft(info) + 'px';\n            this._onWidth(width);\n        }));\n    }\n    dispose() {\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n                this._viewZone = null;\n            });\n        }\n        this._positionMarkerId.clear();\n        this._disposables.dispose();\n    }\n    create() {\n        this.domNode.classList.add('zone-widget');\n        if (this.options.className) {\n            this.domNode.classList.add(this.options.className);\n        }\n        this.container = document.createElement('div');\n        this.container.classList.add('zone-widget-container');\n        this.domNode.appendChild(this.container);\n        if (this.options.showArrow) {\n            this._arrow = new Arrow(this.editor);\n            this._disposables.add(this._arrow);\n        }\n        this._fillContainer(this.container);\n        this._initSash();\n        this._applyStyles();\n    }\n    style(styles) {\n        if (styles.frameColor) {\n            this.options.frameColor = styles.frameColor;\n        }\n        if (styles.arrowColor) {\n            this.options.arrowColor = styles.arrowColor;\n        }\n        this._applyStyles();\n    }\n    _applyStyles() {\n        if (this.container && this.options.frameColor) {\n            const frameColor = this.options.frameColor.toString();\n            this.container.style.borderTopColor = frameColor;\n            this.container.style.borderBottomColor = frameColor;\n        }\n        if (this._arrow && this.options.arrowColor) {\n            const arrowColor = this.options.arrowColor.toString();\n            this._arrow.color = arrowColor;\n        }\n    }\n    _getWidth(info) {\n        return info.width - info.minimap.minimapWidth - info.verticalScrollbarWidth;\n    }\n    _getLeft(info) {\n        // If minimap is to the left, we move beyond it\n        if (info.minimap.minimapWidth > 0 && info.minimap.minimapLeft === 0) {\n            return info.minimap.minimapWidth;\n        }\n        return 0;\n    }\n    _onViewZoneTop(top) {\n        this.domNode.style.top = top + 'px';\n    }\n    _onViewZoneHeight(height) {\n        var _a;\n        this.domNode.style.height = `${height}px`;\n        if (this.container) {\n            const containerHeight = height - this._decoratingElementsHeight();\n            this.container.style.height = `${containerHeight}px`;\n            const layoutInfo = this.editor.getLayoutInfo();\n            this._doLayout(containerHeight, this._getWidth(layoutInfo));\n        }\n        (_a = this._resizeSash) === null || _a === void 0 ? void 0 : _a.layout();\n    }\n    get position() {\n        const range = this._positionMarkerId.getRange(0);\n        if (!range) {\n            return undefined;\n        }\n        return range.getStartPosition();\n    }\n    show(rangeOrPos, heightInLines) {\n        const range = Range.isIRange(rangeOrPos) ? Range.lift(rangeOrPos) : Range.fromPositions(rangeOrPos);\n        this._isShowing = true;\n        this._showImpl(range, heightInLines);\n        this._isShowing = false;\n        this._positionMarkerId.set([{ range, options: ModelDecorationOptions.EMPTY }]);\n    }\n    hide() {\n        var _a;\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n            });\n            this._viewZone = null;\n        }\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        (_a = this._arrow) === null || _a === void 0 ? void 0 : _a.hide();\n        this._positionMarkerId.clear();\n    }\n    _decoratingElementsHeight() {\n        const lineHeight = this.editor.getOption(66 /* EditorOption.lineHeight */);\n        let result = 0;\n        if (this.options.showArrow) {\n            const arrowHeight = Math.round(lineHeight / 3);\n            result += 2 * arrowHeight;\n        }\n        if (this.options.showFrame) {\n            const frameThickness = Math.round(lineHeight / 9);\n            result += 2 * frameThickness;\n        }\n        return result;\n    }\n    _showImpl(where, heightInLines) {\n        const position = where.getStartPosition();\n        const layoutInfo = this.editor.getLayoutInfo();\n        const width = this._getWidth(layoutInfo);\n        this.domNode.style.width = `${width}px`;\n        this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\n        // Render the widget as zone (rendering) and widget (lifecycle)\n        const viewZoneDomNode = document.createElement('div');\n        viewZoneDomNode.style.overflow = 'hidden';\n        const lineHeight = this.editor.getOption(66 /* EditorOption.lineHeight */);\n        // adjust heightInLines to viewport\n        if (!this.options.allowUnlimitedHeight) {\n            const maxHeightInLines = Math.max(12, (this.editor.getLayoutInfo().height / lineHeight) * 0.8);\n            heightInLines = Math.min(heightInLines, maxHeightInLines);\n        }\n        let arrowHeight = 0;\n        let frameThickness = 0;\n        // Render the arrow one 1/3 of an editor line height\n        if (this._arrow && this.options.showArrow) {\n            arrowHeight = Math.round(lineHeight / 3);\n            this._arrow.height = arrowHeight;\n            this._arrow.show(position);\n        }\n        // Render the frame as 1/9 of an editor line height\n        if (this.options.showFrame) {\n            frameThickness = Math.round(lineHeight / 9);\n        }\n        // insert zone widget\n        this.editor.changeViewZones((accessor) => {\n            if (this._viewZone) {\n                accessor.removeZone(this._viewZone.id);\n            }\n            if (this._overlayWidget) {\n                this.editor.removeOverlayWidget(this._overlayWidget);\n                this._overlayWidget = null;\n            }\n            this.domNode.style.top = '-1000px';\n            this._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, (top) => this._onViewZoneTop(top), (height) => this._onViewZoneHeight(height), this.options.showInHiddenAreas, this.options.ordinal);\n            this._viewZone.id = accessor.addZone(this._viewZone);\n            this._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + this._viewZone.id, this.domNode);\n            this.editor.addOverlayWidget(this._overlayWidget);\n        });\n        if (this.container && this.options.showFrame) {\n            const width = this.options.frameWidth ? this.options.frameWidth : frameThickness;\n            this.container.style.borderTopWidth = width + 'px';\n            this.container.style.borderBottomWidth = width + 'px';\n        }\n        const containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\n        if (this.container) {\n            this.container.style.top = arrowHeight + 'px';\n            this.container.style.height = containerHeight + 'px';\n            this.container.style.overflow = 'hidden';\n        }\n        this._doLayout(containerHeight, width);\n        if (!this.options.keepEditorSelection) {\n            this.editor.setSelection(where);\n        }\n        const model = this.editor.getModel();\n        if (model) {\n            const range = model.validateRange(new Range(where.startLineNumber, 1, where.endLineNumber + 1, 1));\n            this.revealRange(range, range.startLineNumber === model.getLineCount());\n        }\n    }\n    revealRange(range, isLastLine) {\n        if (isLastLine) {\n            this.editor.revealLineNearTop(range.endLineNumber, 0 /* ScrollType.Smooth */);\n        }\n        else {\n            this.editor.revealRange(range, 0 /* ScrollType.Smooth */);\n        }\n    }\n    setCssClass(className, classToReplace) {\n        if (!this.container) {\n            return;\n        }\n        if (classToReplace) {\n            this.container.classList.remove(classToReplace);\n        }\n        this.container.classList.add(className);\n    }\n    _onWidth(widthInPixel) {\n        // implement in subclass\n    }\n    _doLayout(heightInPixel, widthInPixel) {\n        // implement in subclass\n    }\n    _relayout(newHeightInLines) {\n        if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    this._viewZone.heightInLines = newHeightInLines;\n                    accessor.layoutZone(this._viewZone.id);\n                }\n            });\n        }\n    }\n    // --- sash\n    _initSash() {\n        if (this._resizeSash) {\n            return;\n        }\n        this._resizeSash = this._disposables.add(new Sash(this.domNode, this, { orientation: 1 /* Orientation.HORIZONTAL */ }));\n        if (!this.options.isResizeable) {\n            this._resizeSash.state = 0 /* SashState.Disabled */;\n        }\n        let data;\n        this._disposables.add(this._resizeSash.onDidStart((e) => {\n            if (this._viewZone) {\n                data = {\n                    startY: e.startY,\n                    heightInLines: this._viewZone.heightInLines,\n                };\n            }\n        }));\n        this._disposables.add(this._resizeSash.onDidEnd(() => {\n            data = undefined;\n        }));\n        this._disposables.add(this._resizeSash.onDidChange((evt) => {\n            if (data) {\n                const lineDelta = (evt.currentY - data.startY) / this.editor.getOption(66 /* EditorOption.lineHeight */);\n                const roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\n                const newHeightInLines = data.heightInLines + roundedLineDelta;\n                if (newHeightInLines > 5 && newHeightInLines < 35) {\n                    this._relayout(newHeightInLines);\n                }\n            }\n        }));\n    }\n    getHorizontalSashLeft() {\n        return 0;\n    }\n    getHorizontalSashTop() {\n        return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - (this._decoratingElementsHeight() / 2);\n    }\n    getHorizontalSashWidth() {\n        const layoutInfo = this.editor.getLayoutInfo();\n        return layoutInfo.width - layoutInfo.minimap.minimapWidth;\n    }\n}\n"],"names":["wrappingIndent","defaultValue","glyphMargin","autoIndent","overviewRulerLanes","setFormatterSelector","formatter","document","mode","Promise","resolve","api","editor","languages","CancellationTokenSource","Emitter","KeyCode","KeyMod","Position","Range","Selection","SelectionDirection","MarkerSeverity","MarkerTag","Uri","Token","monacoEnvironment","globalThis","MonacoEnvironment","globalAPI","define","monaco","require","config","ignoreDuplicateModules","paths","self","getWorkerUrl","moduleId","label","pathPrefix","__webpack_public_path__","result","replace","test","currentUrl","String","window","location","currentOrigin","substr","length","hash","search","pathname","substring","protocol","blob","Blob","type","URL","createObjectURL","ToggleTabFocusModeAction","Action2","constructor","super","id","ID","title","value","nls","key","comment","original","precondition","undefined","keybinding","primary","mac","weight","f1","run","newValue","TabFocus","getTabFocusMode","setTabFocusMode","alert","registerAction2","ForceRetokenizeAction","EditorAction","alias","accessor","hasModel","model","getModel","tokenization","resetTokenization","sw","StopWatch","forceTokenization","getLineCount","stop","console","log","concat","elapsed","registerEditorAction","__decorate","decorators","target","desc","d","c","arguments","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","BannerController","Disposable","_editor","instantiationService","this","banner","_register","createInstance","Banner","hide","setBanner","clear","show","item","assign","onClose","_a","call","element","IInstantiationService","markdownRenderer","MarkdownRenderer","$","tabIndex","getAriaLabel","ariaLabel","message","getBannerMessage","innerText","render","clearNode","setAttribute","iconContainer","append","icon","appendChild","ThemeIcon","asCSSSelector","messageContainer","messageActionsContainer","actions","action","Link","actionBarContainer","actionBar","ActionBar","push","Action","asClassName","widgetClose","setFocusable","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","step","next","e","rejected","done","then","apply","warningIcon","registerIcon","Codicon","warning","UnicodeHighlighter","_editorWorkerService","_workspaceTrustService","_highlighter","_bannerClosed","_updateState","state","hasMore","max","Math","ambiguousCharacterCount","nonBasicAsciiCharacterCount","invisibleCharacterCount","data","command","DisableHighlightingOfNonBasicAsciiCharactersAction","DisableHighlightingOfAmbiguousCharactersAction","Error","DisableHighlightingOfInvisibleCharactersAction","_bannerController","shortLabel","href","onDidChangeModel","_updateHighlighter","_options","getOption","onDidChangeTrust","onDidChangeConfiguration","hasChanged","dispose","options","trusted","nonBasicASCII","inUntrustedWorkspace","ambiguousCharacters","invisibleCharacters","includeComments","includeStrings","allowedCharacters","allowedLocales","resolveOptions","isWorkspaceTrusted","every","option","highlightOptions","allowedCodePoints","keys","map","codePointAt","locale","Intl","NumberFormat","resolvedOptions","platform","canComputeUnicodeHighlights","uri","DocumentUnicodeHighlighter","ViewportUnicodeHighlighter","getDecorationInfo","decoration","IEditorWorkerService","IWorkspaceTrustManagementService","_model","_decorations","createDecorationsCollection","_updateSoon","RunOnceScheduler","_update","onDidChangeModelContent","schedule","isDisposed","mightContainNonBasicASCII","modelVersionId","getVersionId","computedUnicodeHighlights","info","decorations","range","ranges","Decorations","instance","getDecorationFromOptions","set","has","isModelDecorationVisible","reason","computeReason","getValueInRange","inComment","isModelDecorationInComment","inString","isModelDecorationInString","onDidLayoutChange","onDidScrollChange","onDidChangeHiddenAreas","getVisibleRanges","totalResult","UnicodeTextModelHighlighter","computeUnicodeHighlights","text","UnicodeHighlighterHoverParticipant","_languageService","_openerService","hoverOrdinal","computeSync","anchor","lineDecorations","unicodeHighlighter","getContribution","existedReason","Set","index","highlightInfo","codePoint","codePointStr","formatCodePointMarkdown","kind","isBasicASCII","confusableWith","add","adjustSettingsArgs","adjustSettings","ShowExcludeOptions","encodeURIComponent","JSON","stringify","markdown","MarkdownString","appendMarkdown","appendText","appendLink","MarkdownHover","renderHoverParts","context","hoverParts","renderMarkdownHovers","codePointToHex","toString","padStart","InvisibleCharacters","isInvisibleCharacter","fromCodePoint","renderCodePointAsInlineCode","char","computeUnicodeHighlightReason","ILanguageService","IOpenerService","Map","getDecoration","hideInComments","hideInStrings","get","ModelDecorationOptions","createDynamic","description","stickiness","className","showIfCollapsed","overviewRuler","minimap","hideInCommentTokens","hideInStringTokens","DisableHighlightingInCommentsAction","args","configurationService","IConfigurationService","runAction","updateValue","unicodeHighlightConfigKeys","DisableHighlightingInStringsAction","quickPickService","IQuickInputService","notAmbiguousInLocales","excludeLocaleFromBeingHighlighted","getExcludeCharFromBeingHighlightedLabel","charCodes","existingValue","getValue","charCode","excludeCharFromBeingHighlighted","expectNever","pick","locales","inspect","user","registerEditorContribution","HoverParticipantRegistry","register","ignoreUnusualLineTerminators","UnusualLineTerminatorsDetector","_dialogService","_codeEditorService","_isPresentingDialog","_config","_checkForUnusualLineTerminators","isUndoing","mightContainUnusualLineTerminators","ignoreState","codeEditorService","getModelProperty","readIgnoreState","removeUnusualLineTerminators","getSelections","confirm","detail","basename","primaryButton","cancelButton","confirmed","setModelProperty","writeIgnoreState","IDialogService","ICodeEditorService","wordHighlightBackground","registerColor","dark","light","hcDark","hcLight","wordHighlightBorder","activeContrastBorder","overviewRulerWordHighlightForeground","overviewRulerWordHighlightStrongForeground","overviewRulerWordHighlightTextForeground","overviewRulerSelectionHighlightForeground","_WRITE_OPTIONS","color","themeColorFromId","position","OverviewRulerLane","Center","minimapSelectionOccurrenceHighlight","MinimapPosition","Inline","_TEXT_OPTIONS","_SELECTION_HIGHLIGHT_OPTIONS","_SELECTION_HIGHLIGHT_OPTIONS_NO_OVERVIEW","_REGULAR_OPTIONS","getHighlightDecorationOptions","DocumentHighlightKind","Write","Text","getSelectionHighlightDecorationOptions","hasSemanticHighlights","registerThemingParticipant","theme","collector","selectionHighlight","getColor","editorSelectionHighlight","addRule","transparent","WordHighlighterContribution_1","ctxHasWordHighlights","RawContextKey","getOccurrencesAtPosition","registry","token","orderedByScore","ordered","first","provider","provideDocumentHighlights","onUnexpectedExternalError","arrays","OccurenceAtPositionRequest","_selection","_wordSeparators","_wordRange","_getCurrentWordRange","_result","createCancelablePromise","_compute","selection","word","getWordAtPosition","getPosition","startLineNumber","startColumn","endColumn","isValid","lineNumber","currentWordRange","requestIsValid","Boolean","equalsRange","len","getRange","cancel","SemanticOccurenceAtPositionRequest","wordSeparators","providers","_providers","TextualOccurenceAtPositionRequest","_selectionIsEmpty","isEmpty","timeout","findMatches","m","currentSelectionIsEmpty","registerModelAndPositionCommand","ILanguageFeaturesService","documentHighlightProvider","CancellationToken","None","WordHighlighter","linkedHighlighters","contextKeyService","toUnhook","DisposableStore","workerRequestTokenId","workerRequestCompleted","workerRequestValue","lastCursorPositionChangeTime","renderDecorationsTimer","_hasWordHighlights","bindTo","_ignorePositionChangeEvent","occurrencesHighlight","onDidChangeCursorPosition","_onPositionChanged","_stopAll","workerRequest","hasDecorations","restore","_run","_getSortedHighlights","getRanges","sort","compareRangesUsingStarts","moveNext","highlights","newIndex","findIndex","containsPosition","dest","setPosition","getStartPosition","revealRangeInCenterIfOutsideViewport","_getWord","lineContent","getLineContent","moveBack","_removeDecorations","clearTimeout","editorSelection","getSelection","column","endLineNumber","workerRequestIsValid","Date","getTime","_beginRenderDecorations","myRequestId","onUnexpectedError","currentTime","minimumRenderTime","renderDecorations","setTimeout","other","WordHighlighterContribution","languageFeaturesService","wordHighlighter","linkedContributions","createWordHighlighterIfPossible","isTooLargeForTokenization","Iterable","saveViewState","restoreViewState","IContextKeyService","WordHighlightNavigationAction","opts","_isNext","controller","TriggerWordHighlightAction","toNegated","kbOpts","kbExpr","EditorContextKeys","editorTextFocus","MoveWordCommand","EditorCommand","_inSelectionMode","inSelectionMode","_wordNavigationType","wordNavigationType","runEditorCommand","getMapForWordSeparators","sel","inPosition","positionLineNumber","positionColumn","outPosition","_move","_moveTo","pushStackElement","_getViewModel","setCursorStates","CursorState","fromModelSelection","pos","revealPosition","from","to","selectionStartLineNumber","selectionStartColumn","WordLeftCommand","WordOperations","moveWordLeft","WordRightCommand","moveWordRight","DeleteWordCommand","_whitespaceHeuristics","whitespaceHeuristics","languageConfigurationService","ILanguageConfigurationService","selections","autoClosingBrackets","autoClosingQuotes","autoClosingPairs","getLanguageConfiguration","getLanguageId","getAutoClosingPairs","viewModel","commands","deleteRange","_delete","autoClosingDelete","autoClosedCharacters","getCursorAutoClosedCharacters","ReplaceCommand","pushUndoStop","executeCommands","DeleteWordLeftCommand","ctx","deleteWordLeft","DeleteWordRightCommand","deleteWordRight","lineCount","maxColumn","getLineMaxColumn","DeleteInsideWord","writable","deleteInsideWord","registerEditorCommand","ContextKeyExpr","and","textInputFocus","CONTEXT_ACCESSIBILITY_MODE_ENABLED","IsWindowsContext","negate","_","EditorOptions","DeleteWordPartLeft","WordPartOperations","deleteWordPartLeft","DeleteWordPartRight","deleteWordPartRight","WordPartLeftCommand","moveWordPartLeft","CommandsRegistry","registerCommandAlias","WordPartRightCommand","moveWordPartRight","defaultColor","Color","RGBA","defaultOptions","showArrow","showFrame","frameColor","arrowColor","keepEditorSelection","ViewZoneDelegate","domNode","afterLineNumber","afterColumn","heightInLines","onDomNodeTop","onComputedHeight","showInHiddenAreas","ordinal","_onDomNodeTop","_onComputedHeight","top","height","OverlayWidgetDelegate","_id","_domNode","getId","getDomNode","Arrow","_ruleName","_IdGenerator","nextId","_color","_height","dom","_updateStyle","where","fromPositions","IdGenerator","ZoneWidget","_arrow","_overlayWidget","_resizeSash","_viewZone","_disposables","container","_isShowing","_positionMarkerId","objects","createElement","isAccessible","width","_getWidth","style","left","_getLeft","_onWidth","removeOverlayWidget","changeViewZones","removeZone","create","classList","_fillContainer","_initSash","_applyStyles","styles","borderTopColor","borderBottomColor","minimapWidth","verticalScrollbarWidth","minimapLeft","_onViewZoneTop","_onViewZoneHeight","containerHeight","_decoratingElementsHeight","layoutInfo","getLayoutInfo","_doLayout","layout","rangeOrPos","isIRange","lift","_showImpl","EMPTY","lineHeight","round","viewZoneDomNode","overflow","allowUnlimitedHeight","maxHeightInLines","min","arrowHeight","frameThickness","addZone","addOverlayWidget","frameWidth","borderTopWidth","borderBottomWidth","setSelection","validateRange","revealRange","isLastLine","revealLineNearTop","setCssClass","classToReplace","remove","widthInPixel","heightInPixel","_relayout","newHeightInLines","layoutZone","Sash","orientation","isResizeable","onDidStart","startY","onDidEnd","onDidChange","evt","lineDelta","currentY","roundedLineDelta","ceil","floor","getHorizontalSashLeft","getHorizontalSashTop","parseInt","getHorizontalSashWidth"],"sourceRoot":""}