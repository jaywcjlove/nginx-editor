{"version":3,"file":"static/js/monaco-editor-vendor.c7e29bf6.30d6aedd.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/editor/contrib/longLinesHelper/browser/longLinesHelper.js","../node_modules/monaco-editor/esm/vs/editor/contrib/markdownRenderer/browser/markdownRenderer.js","../node_modules/monaco-editor/esm/vs/editor/contrib/message/browser/messageController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/multicursor/browser/multicursor.js","../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/browser/provideSignatureHelp.js","../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/browser/parameterHintsModel.js","../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/browser/parameterHintsWidget.js","../node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/browser/parameterHints.js","../node_modules/monaco-editor/esm/vs/editor/contrib/peekView/browser/peekView.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nclass LongLinesHelper extends Disposable {\n    constructor(_editor) {\n        super();\n        this._editor = _editor;\n        this._register(this._editor.onMouseDown((e) => {\n            const stopRenderingLineAfter = this._editor.getOption(116 /* EditorOption.stopRenderingLineAfter */);\n            if (stopRenderingLineAfter >= 0 && e.target.type === 6 /* MouseTargetType.CONTENT_TEXT */ && e.target.position.column >= stopRenderingLineAfter) {\n                this._editor.updateOptions({\n                    stopRenderingLineAfter: -1\n                });\n            }\n        }));\n    }\n}\nLongLinesHelper.ID = 'editor.contrib.longLinesHelper';\nregisterEditorContribution(LongLinesHelper.ID, LongLinesHelper, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar MarkdownRenderer_1;\nimport { renderMarkdown } from '../../../../base/browser/markdownRenderer.js';\nimport { createTrustedTypesPolicy } from '../../../../base/browser/trustedTypes.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport './renderedMarkdown.css';\nimport { applyFontInfo } from '../../../browser/config/domFontInfo.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../../../common/languages/modesRegistry.js';\nimport { tokenizeToString } from '../../../common/languages/textToHtmlTokenizer.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\n/**\n * Markdown renderer that can render codeblocks with the editor mechanics. This\n * renderer should always be preferred.\n */\nlet MarkdownRenderer = MarkdownRenderer_1 = class MarkdownRenderer {\n    constructor(_options, _languageService, _openerService) {\n        this._options = _options;\n        this._languageService = _languageService;\n        this._openerService = _openerService;\n        this._onDidRenderAsync = new Emitter();\n        this.onDidRenderAsync = this._onDidRenderAsync.event;\n    }\n    dispose() {\n        this._onDidRenderAsync.dispose();\n    }\n    render(markdown, options, markedOptions) {\n        if (!markdown) {\n            const element = document.createElement('span');\n            return { element, dispose: () => { } };\n        }\n        const disposables = new DisposableStore();\n        const rendered = disposables.add(renderMarkdown(markdown, Object.assign(Object.assign({}, this._getRenderOptions(markdown, disposables)), options), markedOptions));\n        rendered.element.classList.add('rendered-markdown');\n        return {\n            element: rendered.element,\n            dispose: () => disposables.dispose()\n        };\n    }\n    _getRenderOptions(markdown, disposables) {\n        return {\n            codeBlockRenderer: (languageAlias, value) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b, _c;\n                // In markdown,\n                // it is possible that we stumble upon language aliases (e.g.js instead of javascript)\n                // it is possible no alias is given in which case we fall back to the current editor lang\n                let languageId;\n                if (languageAlias) {\n                    languageId = this._languageService.getLanguageIdByLanguageName(languageAlias);\n                }\n                else if (this._options.editor) {\n                    languageId = (_a = this._options.editor.getModel()) === null || _a === void 0 ? void 0 : _a.getLanguageId();\n                }\n                if (!languageId) {\n                    languageId = PLAINTEXT_LANGUAGE_ID;\n                }\n                const html = yield tokenizeToString(this._languageService, value, languageId);\n                const element = document.createElement('span');\n                element.innerHTML = ((_c = (_b = MarkdownRenderer_1._ttpTokenizer) === null || _b === void 0 ? void 0 : _b.createHTML(html)) !== null && _c !== void 0 ? _c : html);\n                // use \"good\" font\n                if (this._options.editor) {\n                    const fontInfo = this._options.editor.getOption(50 /* EditorOption.fontInfo */);\n                    applyFontInfo(element, fontInfo);\n                }\n                else if (this._options.codeBlockFontFamily) {\n                    element.style.fontFamily = this._options.codeBlockFontFamily;\n                }\n                if (this._options.codeBlockFontSize !== undefined) {\n                    element.style.fontSize = this._options.codeBlockFontSize;\n                }\n                return element;\n            }),\n            asyncRenderCallback: () => this._onDidRenderAsync.fire(),\n            actionHandler: {\n                callback: (link) => openLinkFromMarkdown(this._openerService, link, markdown.isTrusted),\n                disposables: disposables\n            }\n        };\n    }\n};\nMarkdownRenderer._ttpTokenizer = createTrustedTypesPolicy('tokenizeToString', {\n    createHTML(html) {\n        return html;\n    }\n});\nMarkdownRenderer = MarkdownRenderer_1 = __decorate([\n    __param(1, ILanguageService),\n    __param(2, IOpenerService)\n], MarkdownRenderer);\nexport { MarkdownRenderer };\nexport function openLinkFromMarkdown(openerService, link, isTrusted) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            return yield openerService.open(link, {\n                fromUserGesture: true,\n                allowContributedOpeners: true,\n                allowCommands: toAllowCommandsOption(isTrusted),\n            });\n        }\n        catch (e) {\n            onUnexpectedError(e);\n            return false;\n        }\n    });\n}\nfunction toAllowCommandsOption(isTrusted) {\n    if (isTrusted === true) {\n        return true; // Allow all commands\n    }\n    if (isTrusted && Array.isArray(isTrusted.enabledCommands)) {\n        return isTrusted.enabledCommands; // Allow subset of commands\n    }\n    return false; // Block commands\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar MessageController_1;\nimport { renderMarkdown } from '../../../../base/browser/markdownRenderer.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { isMarkdownString } from '../../../../base/common/htmlContent.js';\nimport { DisposableStore, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport './messageController.css';\nimport { EditorCommand, registerEditorCommand, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { openLinkFromMarkdown } from '../../markdownRenderer/browser/markdownRenderer.js';\nimport * as nls from '../../../../nls.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport * as dom from '../../../../base/browser/dom.js';\nlet MessageController = MessageController_1 = class MessageController {\n    static get(editor) {\n        return editor.getContribution(MessageController_1.ID);\n    }\n    constructor(editor, contextKeyService, _openerService) {\n        this._openerService = _openerService;\n        this._messageWidget = new MutableDisposable();\n        this._messageListeners = new DisposableStore();\n        this._mouseOverMessage = false;\n        this._editor = editor;\n        this._visible = MessageController_1.MESSAGE_VISIBLE.bindTo(contextKeyService);\n    }\n    dispose() {\n        var _a;\n        (_a = this._message) === null || _a === void 0 ? void 0 : _a.dispose();\n        this._messageListeners.dispose();\n        this._messageWidget.dispose();\n        this._visible.reset();\n    }\n    showMessage(message, position) {\n        alert(isMarkdownString(message) ? message.value : message);\n        this._visible.set(true);\n        this._messageWidget.clear();\n        this._messageListeners.clear();\n        this._message = isMarkdownString(message) ? renderMarkdown(message, {\n            actionHandler: {\n                callback: (url) => openLinkFromMarkdown(this._openerService, url, isMarkdownString(message) ? message.isTrusted : undefined),\n                disposables: this._messageListeners\n            },\n        }) : undefined;\n        this._messageWidget.value = new MessageWidget(this._editor, position, typeof message === 'string' ? message : this._message.element);\n        // close on blur (debounced to allow to tab into the message), cursor, model change, dispose\n        this._messageListeners.add(Event.debounce(this._editor.onDidBlurEditorText, (last, event) => event, 0)(() => {\n            if (this._mouseOverMessage) {\n                return; // override when mouse over message\n            }\n            if (this._messageWidget.value && dom.isAncestor(dom.getActiveElement(), this._messageWidget.value.getDomNode())) {\n                return; // override when focus is inside the message\n            }\n            this.closeMessage();\n        }));\n        this._messageListeners.add(this._editor.onDidChangeCursorPosition(() => this.closeMessage()));\n        this._messageListeners.add(this._editor.onDidDispose(() => this.closeMessage()));\n        this._messageListeners.add(this._editor.onDidChangeModel(() => this.closeMessage()));\n        this._messageListeners.add(dom.addDisposableListener(this._messageWidget.value.getDomNode(), dom.EventType.MOUSE_ENTER, () => this._mouseOverMessage = true, true));\n        this._messageListeners.add(dom.addDisposableListener(this._messageWidget.value.getDomNode(), dom.EventType.MOUSE_LEAVE, () => this._mouseOverMessage = false, true));\n        // close on mouse move\n        let bounds;\n        this._messageListeners.add(this._editor.onMouseMove(e => {\n            // outside the text area\n            if (!e.target.position) {\n                return;\n            }\n            if (!bounds) {\n                // define bounding box around position and first mouse occurance\n                bounds = new Range(position.lineNumber - 3, 1, e.target.position.lineNumber + 3, 1);\n            }\n            else if (!bounds.containsPosition(e.target.position)) {\n                // check if position is still in bounds\n                this.closeMessage();\n            }\n        }));\n    }\n    closeMessage() {\n        this._visible.reset();\n        this._messageListeners.clear();\n        if (this._messageWidget.value) {\n            this._messageListeners.add(MessageWidget.fadeOut(this._messageWidget.value));\n        }\n    }\n};\nMessageController.ID = 'editor.contrib.messageController';\nMessageController.MESSAGE_VISIBLE = new RawContextKey('messageVisible', false, nls.localize('messageVisible', 'Whether the editor is currently showing an inline message'));\nMessageController = MessageController_1 = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, IOpenerService)\n], MessageController);\nexport { MessageController };\nconst MessageCommand = EditorCommand.bindToContribution(MessageController.get);\nregisterEditorCommand(new MessageCommand({\n    id: 'leaveEditorMessage',\n    precondition: MessageController.MESSAGE_VISIBLE,\n    handler: c => c.closeMessage(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 30,\n        primary: 9 /* KeyCode.Escape */\n    }\n}));\nclass MessageWidget {\n    static fadeOut(messageWidget) {\n        const dispose = () => {\n            messageWidget.dispose();\n            clearTimeout(handle);\n            messageWidget.getDomNode().removeEventListener('animationend', dispose);\n        };\n        const handle = setTimeout(dispose, 110);\n        messageWidget.getDomNode().addEventListener('animationend', dispose);\n        messageWidget.getDomNode().classList.add('fadeOut');\n        return { dispose };\n    }\n    constructor(editor, { lineNumber, column }, text) {\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = true;\n        this.suppressMouseDown = false;\n        this._editor = editor;\n        this._editor.revealLinesInCenterIfOutsideViewport(lineNumber, lineNumber, 0 /* ScrollType.Smooth */);\n        this._position = { lineNumber, column };\n        this._domNode = document.createElement('div');\n        this._domNode.classList.add('monaco-editor-overlaymessage');\n        this._domNode.style.marginLeft = '-6px';\n        const anchorTop = document.createElement('div');\n        anchorTop.classList.add('anchor', 'top');\n        this._domNode.appendChild(anchorTop);\n        const message = document.createElement('div');\n        if (typeof text === 'string') {\n            message.classList.add('message');\n            message.textContent = text;\n        }\n        else {\n            text.classList.add('message');\n            message.appendChild(text);\n        }\n        this._domNode.appendChild(message);\n        const anchorBottom = document.createElement('div');\n        anchorBottom.classList.add('anchor', 'below');\n        this._domNode.appendChild(anchorBottom);\n        this._editor.addContentWidget(this);\n        this._domNode.classList.add('fadeIn');\n    }\n    dispose() {\n        this._editor.removeContentWidget(this);\n    }\n    getId() {\n        return 'messageoverlay';\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return {\n            position: this._position,\n            preference: [\n                1 /* ContentWidgetPositionPreference.ABOVE */,\n                2 /* ContentWidgetPositionPreference.BELOW */,\n            ],\n            positionAffinity: 1 /* PositionAffinity.Right */,\n        };\n    }\n    afterRender(position) {\n        this._domNode.classList.toggle('below', position === 2 /* ContentWidgetPositionPreference.BELOW */);\n    }\n}\nregisterEditorContribution(MessageController.ID, MessageController, 4 /* EditorContributionInstantiation.Lazy */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar SelectionHighlighter_1;\nimport { status } from '../../../../base/browser/ui/aria/aria.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { CursorMoveCommands } from '../../../common/cursor/cursorMoveCommands.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { CommonFindController } from '../../find/browser/findController.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { getSelectionHighlightDecorationOptions } from '../../wordHighlighter/browser/highlightDecorations.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nfunction announceCursorChange(previousCursorState, cursorState) {\n    const cursorDiff = cursorState.filter(cs => !previousCursorState.find(pcs => pcs.equals(cs)));\n    if (cursorDiff.length >= 1) {\n        const cursorPositions = cursorDiff.map(cs => `line ${cs.viewState.position.lineNumber} column ${cs.viewState.position.column}`).join(', ');\n        const msg = cursorDiff.length === 1 ? nls.localize('cursorAdded', \"Cursor added: {0}\", cursorPositions) : nls.localize('cursorsAdded', \"Cursors added: {0}\", cursorPositions);\n        status(msg);\n    }\n}\nexport class InsertCursorAbove extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.insertCursorAbove',\n            label: nls.localize('mutlicursor.insertAbove', \"Add Cursor Above\"),\n            alias: 'Add Cursor Above',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */,\n                linux: {\n                    primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */,\n                    secondary: [2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 16 /* KeyCode.UpArrow */]\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miInsertCursorAbove', comment: ['&& denotes a mnemonic'] }, \"&&Add Cursor Above\"),\n                order: 2\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        let useLogicalLine = true;\n        if (args && args.logicalLine === false) {\n            useLogicalLine = false;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel.cursorConfig.readOnly) {\n            return;\n        }\n        viewModel.model.pushStackElement();\n        const previousCursorState = viewModel.getCursorStates();\n        viewModel.setCursorStates(args.source, 3 /* CursorChangeReason.Explicit */, CursorMoveCommands.addCursorUp(viewModel, previousCursorState, useLogicalLine));\n        viewModel.revealTopMostCursor(args.source);\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nexport class InsertCursorBelow extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.insertCursorBelow',\n            label: nls.localize('mutlicursor.insertBelow', \"Add Cursor Below\"),\n            alias: 'Add Cursor Below',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */,\n                linux: {\n                    primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */,\n                    secondary: [2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 18 /* KeyCode.DownArrow */]\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miInsertCursorBelow', comment: ['&& denotes a mnemonic'] }, \"A&&dd Cursor Below\"),\n                order: 3\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        let useLogicalLine = true;\n        if (args && args.logicalLine === false) {\n            useLogicalLine = false;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel.cursorConfig.readOnly) {\n            return;\n        }\n        viewModel.model.pushStackElement();\n        const previousCursorState = viewModel.getCursorStates();\n        viewModel.setCursorStates(args.source, 3 /* CursorChangeReason.Explicit */, CursorMoveCommands.addCursorDown(viewModel, previousCursorState, useLogicalLine));\n        viewModel.revealBottomMostCursor(args.source);\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nclass InsertCursorAtEndOfEachLineSelected extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.insertCursorAtEndOfEachLineSelected',\n            label: nls.localize('mutlicursor.insertAtEndOfEachLineSelected', \"Add Cursors to Line Ends\"),\n            alias: 'Add Cursors to Line Ends',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 39 /* KeyCode.KeyI */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miInsertCursorAtEndOfEachLineSelected', comment: ['&& denotes a mnemonic'] }, \"Add C&&ursors to Line Ends\"),\n                order: 4\n            }\n        });\n    }\n    getCursorsForSelection(selection, model, result) {\n        if (selection.isEmpty()) {\n            return;\n        }\n        for (let i = selection.startLineNumber; i < selection.endLineNumber; i++) {\n            const currentLineMaxColumn = model.getLineMaxColumn(i);\n            result.push(new Selection(i, currentLineMaxColumn, i, currentLineMaxColumn));\n        }\n        if (selection.endColumn > 1) {\n            result.push(new Selection(selection.endLineNumber, selection.endColumn, selection.endLineNumber, selection.endColumn));\n        }\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const viewModel = editor._getViewModel();\n        const previousCursorState = viewModel.getCursorStates();\n        const newSelections = [];\n        selections.forEach((sel) => this.getCursorsForSelection(sel, model, newSelections));\n        if (newSelections.length > 0) {\n            editor.setSelections(newSelections);\n        }\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nclass InsertCursorAtEndOfLineSelected extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.addCursorsToBottom',\n            label: nls.localize('mutlicursor.addCursorsToBottom', \"Add Cursors To Bottom\"),\n            alias: 'Add Cursors To Bottom',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const selections = editor.getSelections();\n        const lineCount = editor.getModel().getLineCount();\n        const newSelections = [];\n        for (let i = selections[0].startLineNumber; i <= lineCount; i++) {\n            newSelections.push(new Selection(i, selections[0].startColumn, i, selections[0].endColumn));\n        }\n        const viewModel = editor._getViewModel();\n        const previousCursorState = viewModel.getCursorStates();\n        if (newSelections.length > 0) {\n            editor.setSelections(newSelections);\n        }\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nclass InsertCursorAtTopOfLineSelected extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.addCursorsToTop',\n            label: nls.localize('mutlicursor.addCursorsToTop', \"Add Cursors To Top\"),\n            alias: 'Add Cursors To Top',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const selections = editor.getSelections();\n        const newSelections = [];\n        for (let i = selections[0].startLineNumber; i >= 1; i--) {\n            newSelections.push(new Selection(i, selections[0].startColumn, i, selections[0].endColumn));\n        }\n        const viewModel = editor._getViewModel();\n        const previousCursorState = viewModel.getCursorStates();\n        if (newSelections.length > 0) {\n            editor.setSelections(newSelections);\n        }\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nexport class MultiCursorSessionResult {\n    constructor(selections, revealRange, revealScrollType) {\n        this.selections = selections;\n        this.revealRange = revealRange;\n        this.revealScrollType = revealScrollType;\n    }\n}\nexport class MultiCursorSession {\n    static create(editor, findController) {\n        if (!editor.hasModel()) {\n            return null;\n        }\n        const findState = findController.getState();\n        // Find widget owns entirely what we search for if:\n        //  - focus is not in the editor (i.e. it is in the find widget)\n        //  - and the search widget is visible\n        //  - and the search string is non-empty\n        if (!editor.hasTextFocus() && findState.isRevealed && findState.searchString.length > 0) {\n            // Find widget owns what is searched for\n            return new MultiCursorSession(editor, findController, false, findState.searchString, findState.wholeWord, findState.matchCase, null);\n        }\n        // Otherwise, the selection gives the search text, and the find widget gives the search settings\n        // The exception is the find state disassociation case: when beginning with a single, collapsed selection\n        let isDisconnectedFromFindController = false;\n        let wholeWord;\n        let matchCase;\n        const selections = editor.getSelections();\n        if (selections.length === 1 && selections[0].isEmpty()) {\n            isDisconnectedFromFindController = true;\n            wholeWord = true;\n            matchCase = true;\n        }\n        else {\n            wholeWord = findState.wholeWord;\n            matchCase = findState.matchCase;\n        }\n        // Selection owns what is searched for\n        const s = editor.getSelection();\n        let searchText;\n        let currentMatch = null;\n        if (s.isEmpty()) {\n            // selection is empty => expand to current word\n            const word = editor.getConfiguredWordAtPosition(s.getStartPosition());\n            if (!word) {\n                return null;\n            }\n            searchText = word.word;\n            currentMatch = new Selection(s.startLineNumber, word.startColumn, s.startLineNumber, word.endColumn);\n        }\n        else {\n            searchText = editor.getModel().getValueInRange(s).replace(/\\r\\n/g, '\\n');\n        }\n        return new MultiCursorSession(editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch);\n    }\n    constructor(_editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch) {\n        this._editor = _editor;\n        this.findController = findController;\n        this.isDisconnectedFromFindController = isDisconnectedFromFindController;\n        this.searchText = searchText;\n        this.wholeWord = wholeWord;\n        this.matchCase = matchCase;\n        this.currentMatch = currentMatch;\n    }\n    addSelectionToNextFindMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const nextMatch = this._getNextMatch();\n        if (!nextMatch) {\n            return null;\n        }\n        const allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.concat(nextMatch), nextMatch, 0 /* ScrollType.Smooth */);\n    }\n    moveSelectionToNextFindMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const nextMatch = this._getNextMatch();\n        if (!nextMatch) {\n            return null;\n        }\n        const allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.slice(0, allSelections.length - 1).concat(nextMatch), nextMatch, 0 /* ScrollType.Smooth */);\n    }\n    _getNextMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        if (this.currentMatch) {\n            const result = this.currentMatch;\n            this.currentMatch = null;\n            return result;\n        }\n        this.findController.highlightFindOptions();\n        const allSelections = this._editor.getSelections();\n        const lastAddedSelection = allSelections[allSelections.length - 1];\n        const nextMatch = this._editor.getModel().findNextMatch(this.searchText, lastAddedSelection.getEndPosition(), false, this.matchCase, this.wholeWord ? this._editor.getOption(129 /* EditorOption.wordSeparators */) : null, false);\n        if (!nextMatch) {\n            return null;\n        }\n        return new Selection(nextMatch.range.startLineNumber, nextMatch.range.startColumn, nextMatch.range.endLineNumber, nextMatch.range.endColumn);\n    }\n    addSelectionToPreviousFindMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const previousMatch = this._getPreviousMatch();\n        if (!previousMatch) {\n            return null;\n        }\n        const allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.concat(previousMatch), previousMatch, 0 /* ScrollType.Smooth */);\n    }\n    moveSelectionToPreviousFindMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const previousMatch = this._getPreviousMatch();\n        if (!previousMatch) {\n            return null;\n        }\n        const allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.slice(0, allSelections.length - 1).concat(previousMatch), previousMatch, 0 /* ScrollType.Smooth */);\n    }\n    _getPreviousMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        if (this.currentMatch) {\n            const result = this.currentMatch;\n            this.currentMatch = null;\n            return result;\n        }\n        this.findController.highlightFindOptions();\n        const allSelections = this._editor.getSelections();\n        const lastAddedSelection = allSelections[allSelections.length - 1];\n        const previousMatch = this._editor.getModel().findPreviousMatch(this.searchText, lastAddedSelection.getStartPosition(), false, this.matchCase, this.wholeWord ? this._editor.getOption(129 /* EditorOption.wordSeparators */) : null, false);\n        if (!previousMatch) {\n            return null;\n        }\n        return new Selection(previousMatch.range.startLineNumber, previousMatch.range.startColumn, previousMatch.range.endLineNumber, previousMatch.range.endColumn);\n    }\n    selectAll(searchScope) {\n        if (!this._editor.hasModel()) {\n            return [];\n        }\n        this.findController.highlightFindOptions();\n        const editorModel = this._editor.getModel();\n        if (searchScope) {\n            return editorModel.findMatches(this.searchText, searchScope, false, this.matchCase, this.wholeWord ? this._editor.getOption(129 /* EditorOption.wordSeparators */) : null, false, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n        }\n        return editorModel.findMatches(this.searchText, true, false, this.matchCase, this.wholeWord ? this._editor.getOption(129 /* EditorOption.wordSeparators */) : null, false, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n    }\n}\nexport class MultiCursorSelectionController extends Disposable {\n    static get(editor) {\n        return editor.getContribution(MultiCursorSelectionController.ID);\n    }\n    constructor(editor) {\n        super();\n        this._sessionDispose = this._register(new DisposableStore());\n        this._editor = editor;\n        this._ignoreSelectionChange = false;\n        this._session = null;\n    }\n    dispose() {\n        this._endSession();\n        super.dispose();\n    }\n    _beginSessionIfNeeded(findController) {\n        if (!this._session) {\n            // Create a new session\n            const session = MultiCursorSession.create(this._editor, findController);\n            if (!session) {\n                return;\n            }\n            this._session = session;\n            const newState = { searchString: this._session.searchText };\n            if (this._session.isDisconnectedFromFindController) {\n                newState.wholeWordOverride = 1 /* FindOptionOverride.True */;\n                newState.matchCaseOverride = 1 /* FindOptionOverride.True */;\n                newState.isRegexOverride = 2 /* FindOptionOverride.False */;\n            }\n            findController.getState().change(newState, false);\n            this._sessionDispose.add(this._editor.onDidChangeCursorSelection((e) => {\n                if (this._ignoreSelectionChange) {\n                    return;\n                }\n                this._endSession();\n            }));\n            this._sessionDispose.add(this._editor.onDidBlurEditorText(() => {\n                this._endSession();\n            }));\n            this._sessionDispose.add(findController.getState().onFindReplaceStateChange((e) => {\n                if (e.matchCase || e.wholeWord) {\n                    this._endSession();\n                }\n            }));\n        }\n    }\n    _endSession() {\n        this._sessionDispose.clear();\n        if (this._session && this._session.isDisconnectedFromFindController) {\n            const newState = {\n                wholeWordOverride: 0 /* FindOptionOverride.NotSet */,\n                matchCaseOverride: 0 /* FindOptionOverride.NotSet */,\n                isRegexOverride: 0 /* FindOptionOverride.NotSet */,\n            };\n            this._session.findController.getState().change(newState, false);\n        }\n        this._session = null;\n    }\n    _setSelections(selections) {\n        this._ignoreSelectionChange = true;\n        this._editor.setSelections(selections);\n        this._ignoreSelectionChange = false;\n    }\n    _expandEmptyToWord(model, selection) {\n        if (!selection.isEmpty()) {\n            return selection;\n        }\n        const word = this._editor.getConfiguredWordAtPosition(selection.getStartPosition());\n        if (!word) {\n            return selection;\n        }\n        return new Selection(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\n    }\n    _applySessionResult(result) {\n        if (!result) {\n            return;\n        }\n        this._setSelections(result.selections);\n        if (result.revealRange) {\n            this._editor.revealRangeInCenterIfOutsideViewport(result.revealRange, result.revealScrollType);\n        }\n    }\n    getSession(findController) {\n        return this._session;\n    }\n    addSelectionToNextFindMatch(findController) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        if (!this._session) {\n            // If there are multiple cursors, handle the case where they do not all select the same text.\n            const allSelections = this._editor.getSelections();\n            if (allSelections.length > 1) {\n                const findState = findController.getState();\n                const matchCase = findState.matchCase;\n                const selectionsContainSameText = modelRangesContainSameText(this._editor.getModel(), allSelections, matchCase);\n                if (!selectionsContainSameText) {\n                    const model = this._editor.getModel();\n                    const resultingSelections = [];\n                    for (let i = 0, len = allSelections.length; i < len; i++) {\n                        resultingSelections[i] = this._expandEmptyToWord(model, allSelections[i]);\n                    }\n                    this._editor.setSelections(resultingSelections);\n                    return;\n                }\n            }\n        }\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.addSelectionToNextFindMatch());\n        }\n    }\n    addSelectionToPreviousFindMatch(findController) {\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.addSelectionToPreviousFindMatch());\n        }\n    }\n    moveSelectionToNextFindMatch(findController) {\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.moveSelectionToNextFindMatch());\n        }\n    }\n    moveSelectionToPreviousFindMatch(findController) {\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.moveSelectionToPreviousFindMatch());\n        }\n    }\n    selectAll(findController) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        let matches = null;\n        const findState = findController.getState();\n        // Special case: find widget owns entirely what we search for if:\n        // - focus is not in the editor (i.e. it is in the find widget)\n        // - and the search widget is visible\n        // - and the search string is non-empty\n        // - and we're searching for a regex\n        if (findState.isRevealed && findState.searchString.length > 0 && findState.isRegex) {\n            const editorModel = this._editor.getModel();\n            if (findState.searchScope) {\n                matches = editorModel.findMatches(findState.searchString, findState.searchScope, findState.isRegex, findState.matchCase, findState.wholeWord ? this._editor.getOption(129 /* EditorOption.wordSeparators */) : null, false, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n            }\n            else {\n                matches = editorModel.findMatches(findState.searchString, true, findState.isRegex, findState.matchCase, findState.wholeWord ? this._editor.getOption(129 /* EditorOption.wordSeparators */) : null, false, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n            }\n        }\n        else {\n            this._beginSessionIfNeeded(findController);\n            if (!this._session) {\n                return;\n            }\n            matches = this._session.selectAll(findState.searchScope);\n        }\n        if (matches.length > 0) {\n            const editorSelection = this._editor.getSelection();\n            // Have the primary cursor remain the one where the action was invoked\n            for (let i = 0, len = matches.length; i < len; i++) {\n                const match = matches[i];\n                const intersection = match.range.intersectRanges(editorSelection);\n                if (intersection) {\n                    // bingo!\n                    matches[i] = matches[0];\n                    matches[0] = match;\n                    break;\n                }\n            }\n            this._setSelections(matches.map(m => new Selection(m.range.startLineNumber, m.range.startColumn, m.range.endLineNumber, m.range.endColumn)));\n        }\n    }\n}\nMultiCursorSelectionController.ID = 'editor.contrib.multiCursorController';\nexport class MultiCursorSelectionControllerAction extends EditorAction {\n    run(accessor, editor) {\n        const multiCursorController = MultiCursorSelectionController.get(editor);\n        if (!multiCursorController) {\n            return;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel) {\n            const previousCursorState = viewModel.getCursorStates();\n            const findController = CommonFindController.get(editor);\n            if (findController) {\n                this._run(multiCursorController, findController);\n            }\n            else {\n                const newFindController = accessor.get(IInstantiationService).createInstance(CommonFindController, editor);\n                this._run(multiCursorController, newFindController);\n                newFindController.dispose();\n            }\n            announceCursorChange(previousCursorState, viewModel.getCursorStates());\n        }\n    }\n}\nexport class AddSelectionToNextFindMatchAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.addSelectionToNextFindMatch',\n            label: nls.localize('addSelectionToNextFindMatch', \"Add Selection To Next Find Match\"),\n            alias: 'Add Selection To Next Find Match',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 34 /* KeyCode.KeyD */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miAddSelectionToNextFindMatch', comment: ['&& denotes a mnemonic'] }, \"Add &&Next Occurrence\"),\n                order: 5\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.addSelectionToNextFindMatch(findController);\n    }\n}\nexport class AddSelectionToPreviousFindMatchAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.addSelectionToPreviousFindMatch',\n            label: nls.localize('addSelectionToPreviousFindMatch', \"Add Selection To Previous Find Match\"),\n            alias: 'Add Selection To Previous Find Match',\n            precondition: undefined,\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miAddSelectionToPreviousFindMatch', comment: ['&& denotes a mnemonic'] }, \"Add P&&revious Occurrence\"),\n                order: 6\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.addSelectionToPreviousFindMatch(findController);\n    }\n}\nexport class MoveSelectionToNextFindMatchAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.moveSelectionToNextFindMatch',\n            label: nls.localize('moveSelectionToNextFindMatch', \"Move Last Selection To Next Find Match\"),\n            alias: 'Move Last Selection To Next Find Match',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 34 /* KeyCode.KeyD */),\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.moveSelectionToNextFindMatch(findController);\n    }\n}\nexport class MoveSelectionToPreviousFindMatchAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.moveSelectionToPreviousFindMatch',\n            label: nls.localize('moveSelectionToPreviousFindMatch', \"Move Last Selection To Previous Find Match\"),\n            alias: 'Move Last Selection To Previous Find Match',\n            precondition: undefined\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.moveSelectionToPreviousFindMatch(findController);\n    }\n}\nexport class SelectHighlightsAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.selectHighlights',\n            label: nls.localize('selectAllOccurrencesOfFindMatch', \"Select All Occurrences of Find Match\"),\n            alias: 'Select All Occurrences of Find Match',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 42 /* KeyCode.KeyL */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miSelectHighlights', comment: ['&& denotes a mnemonic'] }, \"Select All &&Occurrences\"),\n                order: 7\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.selectAll(findController);\n    }\n}\nexport class CompatChangeAll extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.changeAll',\n            label: nls.localize('changeAll.label', \"Change All Occurrences\"),\n            alias: 'Change All Occurrences',\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.editorTextFocus),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 60 /* KeyCode.F2 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            contextMenuOpts: {\n                group: '1_modification',\n                order: 1.2\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.selectAll(findController);\n    }\n}\nclass SelectionHighlighterState {\n    constructor(_model, _searchText, _matchCase, _wordSeparators, prevState) {\n        this._model = _model;\n        this._searchText = _searchText;\n        this._matchCase = _matchCase;\n        this._wordSeparators = _wordSeparators;\n        this._modelVersionId = this._model.getVersionId();\n        this._cachedFindMatches = null;\n        if (prevState\n            && this._model === prevState._model\n            && this._searchText === prevState._searchText\n            && this._matchCase === prevState._matchCase\n            && this._wordSeparators === prevState._wordSeparators\n            && this._modelVersionId === prevState._modelVersionId) {\n            this._cachedFindMatches = prevState._cachedFindMatches;\n        }\n    }\n    findMatches() {\n        if (this._cachedFindMatches === null) {\n            this._cachedFindMatches = this._model.findMatches(this._searchText, true, false, this._matchCase, this._wordSeparators, false).map(m => m.range);\n            this._cachedFindMatches.sort(Range.compareRangesUsingStarts);\n        }\n        return this._cachedFindMatches;\n    }\n}\nlet SelectionHighlighter = SelectionHighlighter_1 = class SelectionHighlighter extends Disposable {\n    constructor(editor, _languageFeaturesService) {\n        super();\n        this._languageFeaturesService = _languageFeaturesService;\n        this.editor = editor;\n        this._isEnabled = editor.getOption(107 /* EditorOption.selectionHighlight */);\n        this._decorations = editor.createDecorationsCollection();\n        this.updateSoon = this._register(new RunOnceScheduler(() => this._update(), 300));\n        this.state = null;\n        this._register(editor.onDidChangeConfiguration((e) => {\n            this._isEnabled = editor.getOption(107 /* EditorOption.selectionHighlight */);\n        }));\n        this._register(editor.onDidChangeCursorSelection((e) => {\n            if (!this._isEnabled) {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            if (e.selection.isEmpty()) {\n                if (e.reason === 3 /* CursorChangeReason.Explicit */) {\n                    if (this.state) {\n                        // no longer valid\n                        this._setState(null);\n                    }\n                    this.updateSoon.schedule();\n                }\n                else {\n                    this._setState(null);\n                }\n            }\n            else {\n                this._update();\n            }\n        }));\n        this._register(editor.onDidChangeModel((e) => {\n            this._setState(null);\n        }));\n        this._register(editor.onDidChangeModelContent((e) => {\n            if (this._isEnabled) {\n                this.updateSoon.schedule();\n            }\n        }));\n        const findController = CommonFindController.get(editor);\n        if (findController) {\n            this._register(findController.getState().onFindReplaceStateChange((e) => {\n                this._update();\n            }));\n        }\n        this.updateSoon.schedule();\n    }\n    _update() {\n        this._setState(SelectionHighlighter_1._createState(this.state, this._isEnabled, this.editor));\n    }\n    static _createState(oldState, isEnabled, editor) {\n        if (!isEnabled) {\n            return null;\n        }\n        if (!editor.hasModel()) {\n            return null;\n        }\n        const s = editor.getSelection();\n        if (s.startLineNumber !== s.endLineNumber) {\n            // multiline forbidden for perf reasons\n            return null;\n        }\n        const multiCursorController = MultiCursorSelectionController.get(editor);\n        if (!multiCursorController) {\n            return null;\n        }\n        const findController = CommonFindController.get(editor);\n        if (!findController) {\n            return null;\n        }\n        let r = multiCursorController.getSession(findController);\n        if (!r) {\n            const allSelections = editor.getSelections();\n            if (allSelections.length > 1) {\n                const findState = findController.getState();\n                const matchCase = findState.matchCase;\n                const selectionsContainSameText = modelRangesContainSameText(editor.getModel(), allSelections, matchCase);\n                if (!selectionsContainSameText) {\n                    return null;\n                }\n            }\n            r = MultiCursorSession.create(editor, findController);\n        }\n        if (!r) {\n            return null;\n        }\n        if (r.currentMatch) {\n            // This is an empty selection\n            // Do not interfere with semantic word highlighting in the no selection case\n            return null;\n        }\n        if (/^[ \\t]+$/.test(r.searchText)) {\n            // whitespace only selection\n            return null;\n        }\n        if (r.searchText.length > 200) {\n            // very long selection\n            return null;\n        }\n        // TODO: better handling of this case\n        const findState = findController.getState();\n        const caseSensitive = findState.matchCase;\n        // Return early if the find widget shows the exact same matches\n        if (findState.isRevealed) {\n            let findStateSearchString = findState.searchString;\n            if (!caseSensitive) {\n                findStateSearchString = findStateSearchString.toLowerCase();\n            }\n            let mySearchString = r.searchText;\n            if (!caseSensitive) {\n                mySearchString = mySearchString.toLowerCase();\n            }\n            if (findStateSearchString === mySearchString && r.matchCase === findState.matchCase && r.wholeWord === findState.wholeWord && !findState.isRegex) {\n                return null;\n            }\n        }\n        return new SelectionHighlighterState(editor.getModel(), r.searchText, r.matchCase, r.wholeWord ? editor.getOption(129 /* EditorOption.wordSeparators */) : null, oldState);\n    }\n    _setState(newState) {\n        this.state = newState;\n        if (!this.state) {\n            this._decorations.clear();\n            return;\n        }\n        if (!this.editor.hasModel()) {\n            return;\n        }\n        const model = this.editor.getModel();\n        if (model.isTooLargeForTokenization()) {\n            // the file is too large, so searching word under cursor in the whole document would be blocking the UI.\n            return;\n        }\n        const allMatches = this.state.findMatches();\n        const selections = this.editor.getSelections();\n        selections.sort(Range.compareRangesUsingStarts);\n        // do not overlap with selection (issue #64 and #512)\n        const matches = [];\n        for (let i = 0, j = 0, len = allMatches.length, lenJ = selections.length; i < len;) {\n            const match = allMatches[i];\n            if (j >= lenJ) {\n                // finished all editor selections\n                matches.push(match);\n                i++;\n            }\n            else {\n                const cmp = Range.compareRangesUsingStarts(match, selections[j]);\n                if (cmp < 0) {\n                    // match is before sel\n                    if (selections[j].isEmpty() || !Range.areIntersecting(match, selections[j])) {\n                        matches.push(match);\n                    }\n                    i++;\n                }\n                else if (cmp > 0) {\n                    // sel is before match\n                    j++;\n                }\n                else {\n                    // sel is equal to match\n                    i++;\n                    j++;\n                }\n            }\n        }\n        const hasSemanticHighlights = this._languageFeaturesService.documentHighlightProvider.has(model) && this.editor.getOption(80 /* EditorOption.occurrencesHighlight */);\n        const decorations = matches.map(r => {\n            return {\n                range: r,\n                options: getSelectionHighlightDecorationOptions(hasSemanticHighlights)\n            };\n        });\n        this._decorations.set(decorations);\n    }\n    dispose() {\n        this._setState(null);\n        super.dispose();\n    }\n};\nSelectionHighlighter.ID = 'editor.contrib.selectionHighlighter';\nSelectionHighlighter = SelectionHighlighter_1 = __decorate([\n    __param(1, ILanguageFeaturesService)\n], SelectionHighlighter);\nexport { SelectionHighlighter };\nfunction modelRangesContainSameText(model, ranges, matchCase) {\n    const selectedText = getValueInRange(model, ranges[0], !matchCase);\n    for (let i = 1, len = ranges.length; i < len; i++) {\n        const range = ranges[i];\n        if (range.isEmpty()) {\n            return false;\n        }\n        const thisSelectedText = getValueInRange(model, range, !matchCase);\n        if (selectedText !== thisSelectedText) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction getValueInRange(model, range, toLowerCase) {\n    const text = model.getValueInRange(range);\n    return (toLowerCase ? text.toLowerCase() : text);\n}\nexport class FocusNextCursor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.focusNextCursor',\n            label: nls.localize('mutlicursor.focusNextCursor', \"Focus Next Cursor\"),\n            description: {\n                description: nls.localize('mutlicursor.focusNextCursor.description', \"Focuses the next cursor\"),\n                args: [],\n            },\n            alias: 'Focus Next Cursor',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel.cursorConfig.readOnly) {\n            return;\n        }\n        viewModel.model.pushStackElement();\n        const previousCursorState = Array.from(viewModel.getCursorStates());\n        const firstCursor = previousCursorState.shift();\n        if (!firstCursor) {\n            return;\n        }\n        previousCursorState.push(firstCursor);\n        viewModel.setCursorStates(args.source, 3 /* CursorChangeReason.Explicit */, previousCursorState);\n        viewModel.revealPrimaryCursor(args.source, true);\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nexport class FocusPreviousCursor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.focusPreviousCursor',\n            label: nls.localize('mutlicursor.focusPreviousCursor', \"Focus Previous Cursor\"),\n            description: {\n                description: nls.localize('mutlicursor.focusPreviousCursor.description', \"Focuses the previous cursor\"),\n                args: [],\n            },\n            alias: 'Focus Previous Cursor',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel.cursorConfig.readOnly) {\n            return;\n        }\n        viewModel.model.pushStackElement();\n        const previousCursorState = Array.from(viewModel.getCursorStates());\n        const firstCursor = previousCursorState.pop();\n        if (!firstCursor) {\n            return;\n        }\n        previousCursorState.unshift(firstCursor);\n        viewModel.setCursorStates(args.source, 3 /* CursorChangeReason.Explicit */, previousCursorState);\n        viewModel.revealPrimaryCursor(args.source, true);\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nregisterEditorContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorContribution(SelectionHighlighter.ID, SelectionHighlighter, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nregisterEditorAction(InsertCursorAbove);\nregisterEditorAction(InsertCursorBelow);\nregisterEditorAction(InsertCursorAtEndOfEachLineSelected);\nregisterEditorAction(AddSelectionToNextFindMatchAction);\nregisterEditorAction(AddSelectionToPreviousFindMatchAction);\nregisterEditorAction(MoveSelectionToNextFindMatchAction);\nregisterEditorAction(MoveSelectionToPreviousFindMatchAction);\nregisterEditorAction(SelectHighlightsAction);\nregisterEditorAction(CompatChangeAll);\nregisterEditorAction(InsertCursorAtEndOfLineSelected);\nregisterEditorAction(InsertCursorAtTopOfLineSelected);\nregisterEditorAction(FocusNextCursor);\nregisterEditorAction(FocusPreviousCursor);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Position } from '../../../common/core/position.js';\nimport * as languages from '../../../common/languages.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nexport const Context = {\n    Visible: new RawContextKey('parameterHintsVisible', false),\n    MultipleSignatures: new RawContextKey('parameterHintsMultipleSignatures', false),\n};\nexport function provideSignatureHelp(registry, model, position, context, token) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const supports = registry.ordered(model);\n        for (const support of supports) {\n            try {\n                const result = yield support.provideSignatureHelp(model, position, token, context);\n                if (result) {\n                    return result;\n                }\n            }\n            catch (err) {\n                onUnexpectedExternalError(err);\n            }\n        }\n        return undefined;\n    });\n}\nCommandsRegistry.registerCommand('_executeSignatureHelpProvider', (accessor, ...args) => __awaiter(void 0, void 0, void 0, function* () {\n    const [uri, position, triggerCharacter] = args;\n    assertType(URI.isUri(uri));\n    assertType(Position.isIPosition(position));\n    assertType(typeof triggerCharacter === 'string' || !triggerCharacter);\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const ref = yield accessor.get(ITextModelService).createModelReference(uri);\n    try {\n        const result = yield provideSignatureHelp(languageFeaturesService.signatureHelpProvider, ref.object.textEditorModel, Position.lift(position), {\n            triggerKind: languages.SignatureHelpTriggerKind.Invoke,\n            isRetrigger: false,\n            triggerCharacter,\n        }, CancellationToken.None);\n        if (!result) {\n            return undefined;\n        }\n        setTimeout(() => result.dispose(), 0);\n        return result.value;\n    }\n    finally {\n        ref.dispose();\n    }\n}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { createCancelablePromise, Delayer } from '../../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { CharacterSet } from '../../../common/core/characterClassifier.js';\nimport * as languages from '../../../common/languages.js';\nimport { provideSignatureHelp } from './provideSignatureHelp.js';\nvar ParameterHintState;\n(function (ParameterHintState) {\n    ParameterHintState.Default = { type: 0 /* Type.Default */ };\n    class Pending {\n        constructor(request, previouslyActiveHints) {\n            this.request = request;\n            this.previouslyActiveHints = previouslyActiveHints;\n            this.type = 2 /* Type.Pending */;\n        }\n    }\n    ParameterHintState.Pending = Pending;\n    class Active {\n        constructor(hints) {\n            this.hints = hints;\n            this.type = 1 /* Type.Active */;\n        }\n    }\n    ParameterHintState.Active = Active;\n})(ParameterHintState || (ParameterHintState = {}));\nexport class ParameterHintsModel extends Disposable {\n    constructor(editor, providers, delay = ParameterHintsModel.DEFAULT_DELAY) {\n        super();\n        this._onChangedHints = this._register(new Emitter());\n        this.onChangedHints = this._onChangedHints.event;\n        this.triggerOnType = false;\n        this._state = ParameterHintState.Default;\n        this._pendingTriggers = [];\n        this._lastSignatureHelpResult = this._register(new MutableDisposable());\n        this.triggerChars = new CharacterSet();\n        this.retriggerChars = new CharacterSet();\n        this.triggerId = 0;\n        this.editor = editor;\n        this.providers = providers;\n        this.throttledDelayer = new Delayer(delay);\n        this._register(this.editor.onDidBlurEditorWidget(() => this.cancel()));\n        this._register(this.editor.onDidChangeConfiguration(() => this.onEditorConfigurationChange()));\n        this._register(this.editor.onDidChangeModel(e => this.onModelChanged()));\n        this._register(this.editor.onDidChangeModelLanguage(_ => this.onModelChanged()));\n        this._register(this.editor.onDidChangeCursorSelection(e => this.onCursorChange(e)));\n        this._register(this.editor.onDidChangeModelContent(e => this.onModelContentChange()));\n        this._register(this.providers.onDidChange(this.onModelChanged, this));\n        this._register(this.editor.onDidType(text => this.onDidType(text)));\n        this.onEditorConfigurationChange();\n        this.onModelChanged();\n    }\n    get state() { return this._state; }\n    set state(value) {\n        if (this._state.type === 2 /* ParameterHintState.Type.Pending */) {\n            this._state.request.cancel();\n        }\n        this._state = value;\n    }\n    cancel(silent = false) {\n        this.state = ParameterHintState.Default;\n        this.throttledDelayer.cancel();\n        if (!silent) {\n            this._onChangedHints.fire(undefined);\n        }\n    }\n    trigger(context, delay) {\n        const model = this.editor.getModel();\n        if (!model || !this.providers.has(model)) {\n            return;\n        }\n        const triggerId = ++this.triggerId;\n        this._pendingTriggers.push(context);\n        this.throttledDelayer.trigger(() => {\n            return this.doTrigger(triggerId);\n        }, delay)\n            .catch(onUnexpectedError);\n    }\n    next() {\n        if (this.state.type !== 1 /* ParameterHintState.Type.Active */) {\n            return;\n        }\n        const length = this.state.hints.signatures.length;\n        const activeSignature = this.state.hints.activeSignature;\n        const last = (activeSignature % length) === (length - 1);\n        const cycle = this.editor.getOption(85 /* EditorOption.parameterHints */).cycle;\n        // If there is only one signature, or we're on last signature of list\n        if ((length < 2 || last) && !cycle) {\n            this.cancel();\n            return;\n        }\n        this.updateActiveSignature(last && cycle ? 0 : activeSignature + 1);\n    }\n    previous() {\n        if (this.state.type !== 1 /* ParameterHintState.Type.Active */) {\n            return;\n        }\n        const length = this.state.hints.signatures.length;\n        const activeSignature = this.state.hints.activeSignature;\n        const first = activeSignature === 0;\n        const cycle = this.editor.getOption(85 /* EditorOption.parameterHints */).cycle;\n        // If there is only one signature, or we're on first signature of list\n        if ((length < 2 || first) && !cycle) {\n            this.cancel();\n            return;\n        }\n        this.updateActiveSignature(first && cycle ? length - 1 : activeSignature - 1);\n    }\n    updateActiveSignature(activeSignature) {\n        if (this.state.type !== 1 /* ParameterHintState.Type.Active */) {\n            return;\n        }\n        this.state = new ParameterHintState.Active(Object.assign(Object.assign({}, this.state.hints), { activeSignature }));\n        this._onChangedHints.fire(this.state.hints);\n    }\n    doTrigger(triggerId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const isRetrigger = this.state.type === 1 /* ParameterHintState.Type.Active */ || this.state.type === 2 /* ParameterHintState.Type.Pending */;\n            const activeSignatureHelp = this.getLastActiveHints();\n            this.cancel(true);\n            if (this._pendingTriggers.length === 0) {\n                return false;\n            }\n            const context = this._pendingTriggers.reduce(mergeTriggerContexts);\n            this._pendingTriggers = [];\n            const triggerContext = {\n                triggerKind: context.triggerKind,\n                triggerCharacter: context.triggerCharacter,\n                isRetrigger: isRetrigger,\n                activeSignatureHelp: activeSignatureHelp\n            };\n            if (!this.editor.hasModel()) {\n                return false;\n            }\n            const model = this.editor.getModel();\n            const position = this.editor.getPosition();\n            this.state = new ParameterHintState.Pending(createCancelablePromise(token => provideSignatureHelp(this.providers, model, position, triggerContext, token)), activeSignatureHelp);\n            try {\n                const result = yield this.state.request;\n                // Check that we are still resolving the correct signature help\n                if (triggerId !== this.triggerId) {\n                    result === null || result === void 0 ? void 0 : result.dispose();\n                    return false;\n                }\n                if (!result || !result.value.signatures || result.value.signatures.length === 0) {\n                    result === null || result === void 0 ? void 0 : result.dispose();\n                    this._lastSignatureHelpResult.clear();\n                    this.cancel();\n                    return false;\n                }\n                else {\n                    this.state = new ParameterHintState.Active(result.value);\n                    this._lastSignatureHelpResult.value = result;\n                    this._onChangedHints.fire(this.state.hints);\n                    return true;\n                }\n            }\n            catch (error) {\n                if (triggerId === this.triggerId) {\n                    this.state = ParameterHintState.Default;\n                }\n                onUnexpectedError(error);\n                return false;\n            }\n        });\n    }\n    getLastActiveHints() {\n        switch (this.state.type) {\n            case 1 /* ParameterHintState.Type.Active */: return this.state.hints;\n            case 2 /* ParameterHintState.Type.Pending */: return this.state.previouslyActiveHints;\n            default: return undefined;\n        }\n    }\n    get isTriggered() {\n        return this.state.type === 1 /* ParameterHintState.Type.Active */\n            || this.state.type === 2 /* ParameterHintState.Type.Pending */\n            || this.throttledDelayer.isTriggered();\n    }\n    onModelChanged() {\n        this.cancel();\n        this.triggerChars.clear();\n        this.retriggerChars.clear();\n        const model = this.editor.getModel();\n        if (!model) {\n            return;\n        }\n        for (const support of this.providers.ordered(model)) {\n            for (const ch of support.signatureHelpTriggerCharacters || []) {\n                if (ch.length) {\n                    const charCode = ch.charCodeAt(0);\n                    this.triggerChars.add(charCode);\n                    // All trigger characters are also considered retrigger characters\n                    this.retriggerChars.add(charCode);\n                }\n            }\n            for (const ch of support.signatureHelpRetriggerCharacters || []) {\n                if (ch.length) {\n                    this.retriggerChars.add(ch.charCodeAt(0));\n                }\n            }\n        }\n    }\n    onDidType(text) {\n        if (!this.triggerOnType) {\n            return;\n        }\n        const lastCharIndex = text.length - 1;\n        const triggerCharCode = text.charCodeAt(lastCharIndex);\n        if (this.triggerChars.has(triggerCharCode) || this.isTriggered && this.retriggerChars.has(triggerCharCode)) {\n            this.trigger({\n                triggerKind: languages.SignatureHelpTriggerKind.TriggerCharacter,\n                triggerCharacter: text.charAt(lastCharIndex),\n            });\n        }\n    }\n    onCursorChange(e) {\n        if (e.source === 'mouse') {\n            this.cancel();\n        }\n        else if (this.isTriggered) {\n            this.trigger({ triggerKind: languages.SignatureHelpTriggerKind.ContentChange });\n        }\n    }\n    onModelContentChange() {\n        if (this.isTriggered) {\n            this.trigger({ triggerKind: languages.SignatureHelpTriggerKind.ContentChange });\n        }\n    }\n    onEditorConfigurationChange() {\n        this.triggerOnType = this.editor.getOption(85 /* EditorOption.parameterHints */).enabled;\n        if (!this.triggerOnType) {\n            this.cancel();\n        }\n    }\n    dispose() {\n        this.cancel(true);\n        super.dispose();\n    }\n}\nParameterHintsModel.DEFAULT_DELAY = 120; // ms\nfunction mergeTriggerContexts(previous, current) {\n    switch (current.triggerKind) {\n        case languages.SignatureHelpTriggerKind.Invoke:\n            // Invoke overrides previous triggers.\n            return current;\n        case languages.SignatureHelpTriggerKind.ContentChange:\n            // Ignore content changes triggers\n            return previous;\n        case languages.SignatureHelpTriggerKind.TriggerCharacter:\n        default:\n            return current;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ParameterHintsWidget_1;\nimport * as dom from '../../../../base/browser/dom.js';\nimport * as aria from '../../../../base/browser/ui/aria/aria.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { escapeRegExpCharacters } from '../../../../base/common/strings.js';\nimport { assertIsDefined } from '../../../../base/common/types.js';\nimport './parameterHints.css';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { MarkdownRenderer } from '../../markdownRenderer/browser/markdownRenderer.js';\nimport { Context } from './provideSignatureHelp.js';\nimport * as nls from '../../../../nls.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { listHighlightForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nconst $ = dom.$;\nconst parameterHintsNextIcon = registerIcon('parameter-hints-next', Codicon.chevronDown, nls.localize('parameterHintsNextIcon', 'Icon for show next parameter hint.'));\nconst parameterHintsPreviousIcon = registerIcon('parameter-hints-previous', Codicon.chevronUp, nls.localize('parameterHintsPreviousIcon', 'Icon for show previous parameter hint.'));\nlet ParameterHintsWidget = ParameterHintsWidget_1 = class ParameterHintsWidget extends Disposable {\n    constructor(editor, model, contextKeyService, openerService, languageService) {\n        super();\n        this.editor = editor;\n        this.model = model;\n        this.renderDisposeables = this._register(new DisposableStore());\n        this.visible = false;\n        this.announcedLabel = null;\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = true;\n        this.markdownRenderer = this._register(new MarkdownRenderer({ editor }, languageService, openerService));\n        this.keyVisible = Context.Visible.bindTo(contextKeyService);\n        this.keyMultipleSignatures = Context.MultipleSignatures.bindTo(contextKeyService);\n    }\n    createParameterHintDOMNodes() {\n        const element = $('.editor-widget.parameter-hints-widget');\n        const wrapper = dom.append(element, $('.phwrapper'));\n        wrapper.tabIndex = -1;\n        const controls = dom.append(wrapper, $('.controls'));\n        const previous = dom.append(controls, $('.button' + ThemeIcon.asCSSSelector(parameterHintsPreviousIcon)));\n        const overloads = dom.append(controls, $('.overloads'));\n        const next = dom.append(controls, $('.button' + ThemeIcon.asCSSSelector(parameterHintsNextIcon)));\n        this._register(dom.addDisposableListener(previous, 'click', e => {\n            dom.EventHelper.stop(e);\n            this.previous();\n        }));\n        this._register(dom.addDisposableListener(next, 'click', e => {\n            dom.EventHelper.stop(e);\n            this.next();\n        }));\n        const body = $('.body');\n        const scrollbar = new DomScrollableElement(body, {\n            alwaysConsumeMouseWheel: true,\n        });\n        this._register(scrollbar);\n        wrapper.appendChild(scrollbar.getDomNode());\n        const signature = dom.append(body, $('.signature'));\n        const docs = dom.append(body, $('.docs'));\n        element.style.userSelect = 'text';\n        this.domNodes = {\n            element,\n            signature,\n            overloads,\n            docs,\n            scrollbar,\n        };\n        this.editor.addContentWidget(this);\n        this.hide();\n        this._register(this.editor.onDidChangeCursorSelection(e => {\n            if (this.visible) {\n                this.editor.layoutContentWidget(this);\n            }\n        }));\n        const updateFont = () => {\n            if (!this.domNodes) {\n                return;\n            }\n            const fontInfo = this.editor.getOption(50 /* EditorOption.fontInfo */);\n            this.domNodes.element.style.fontSize = `${fontInfo.fontSize}px`;\n            this.domNodes.element.style.lineHeight = `${fontInfo.lineHeight / fontInfo.fontSize}`;\n        };\n        updateFont();\n        this._register(Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor), $ => $.filter(e => e.hasChanged(50 /* EditorOption.fontInfo */)))(updateFont));\n        this._register(this.editor.onDidLayoutChange(e => this.updateMaxHeight()));\n        this.updateMaxHeight();\n    }\n    show() {\n        if (this.visible) {\n            return;\n        }\n        if (!this.domNodes) {\n            this.createParameterHintDOMNodes();\n        }\n        this.keyVisible.set(true);\n        this.visible = true;\n        setTimeout(() => {\n            var _a;\n            (_a = this.domNodes) === null || _a === void 0 ? void 0 : _a.element.classList.add('visible');\n        }, 100);\n        this.editor.layoutContentWidget(this);\n    }\n    hide() {\n        var _a;\n        this.renderDisposeables.clear();\n        if (!this.visible) {\n            return;\n        }\n        this.keyVisible.reset();\n        this.visible = false;\n        this.announcedLabel = null;\n        (_a = this.domNodes) === null || _a === void 0 ? void 0 : _a.element.classList.remove('visible');\n        this.editor.layoutContentWidget(this);\n    }\n    getPosition() {\n        if (this.visible) {\n            return {\n                position: this.editor.getPosition(),\n                preference: [1 /* ContentWidgetPositionPreference.ABOVE */, 2 /* ContentWidgetPositionPreference.BELOW */]\n            };\n        }\n        return null;\n    }\n    render(hints) {\n        var _a;\n        this.renderDisposeables.clear();\n        if (!this.domNodes) {\n            return;\n        }\n        const multiple = hints.signatures.length > 1;\n        this.domNodes.element.classList.toggle('multiple', multiple);\n        this.keyMultipleSignatures.set(multiple);\n        this.domNodes.signature.innerText = '';\n        this.domNodes.docs.innerText = '';\n        const signature = hints.signatures[hints.activeSignature];\n        if (!signature) {\n            return;\n        }\n        const code = dom.append(this.domNodes.signature, $('.code'));\n        const fontInfo = this.editor.getOption(50 /* EditorOption.fontInfo */);\n        code.style.fontSize = `${fontInfo.fontSize}px`;\n        code.style.fontFamily = fontInfo.fontFamily;\n        const hasParameters = signature.parameters.length > 0;\n        const activeParameterIndex = (_a = signature.activeParameter) !== null && _a !== void 0 ? _a : hints.activeParameter;\n        if (!hasParameters) {\n            const label = dom.append(code, $('span'));\n            label.textContent = signature.label;\n        }\n        else {\n            this.renderParameters(code, signature, activeParameterIndex);\n        }\n        const activeParameter = signature.parameters[activeParameterIndex];\n        if (activeParameter === null || activeParameter === void 0 ? void 0 : activeParameter.documentation) {\n            const documentation = $('span.documentation');\n            if (typeof activeParameter.documentation === 'string') {\n                documentation.textContent = activeParameter.documentation;\n            }\n            else {\n                const renderedContents = this.renderMarkdownDocs(activeParameter.documentation);\n                documentation.appendChild(renderedContents.element);\n            }\n            dom.append(this.domNodes.docs, $('p', {}, documentation));\n        }\n        if (signature.documentation === undefined) {\n            /** no op */\n        }\n        else if (typeof signature.documentation === 'string') {\n            dom.append(this.domNodes.docs, $('p', {}, signature.documentation));\n        }\n        else {\n            const renderedContents = this.renderMarkdownDocs(signature.documentation);\n            dom.append(this.domNodes.docs, renderedContents.element);\n        }\n        const hasDocs = this.hasDocs(signature, activeParameter);\n        this.domNodes.signature.classList.toggle('has-docs', hasDocs);\n        this.domNodes.docs.classList.toggle('empty', !hasDocs);\n        this.domNodes.overloads.textContent =\n            String(hints.activeSignature + 1).padStart(hints.signatures.length.toString().length, '0') + '/' + hints.signatures.length;\n        if (activeParameter) {\n            let labelToAnnounce = '';\n            const param = signature.parameters[activeParameterIndex];\n            if (Array.isArray(param.label)) {\n                labelToAnnounce = signature.label.substring(param.label[0], param.label[1]);\n            }\n            else {\n                labelToAnnounce = param.label;\n            }\n            if (param.documentation) {\n                labelToAnnounce += typeof param.documentation === 'string' ? `, ${param.documentation}` : `, ${param.documentation.value}`;\n            }\n            if (signature.documentation) {\n                labelToAnnounce += typeof signature.documentation === 'string' ? `, ${signature.documentation}` : `, ${signature.documentation.value}`;\n            }\n            // Select method gets called on every user type while parameter hints are visible.\n            // We do not want to spam the user with same announcements, so we only announce if the current parameter changed.\n            if (this.announcedLabel !== labelToAnnounce) {\n                aria.alert(nls.localize('hint', \"{0}, hint\", labelToAnnounce));\n                this.announcedLabel = labelToAnnounce;\n            }\n        }\n        this.editor.layoutContentWidget(this);\n        this.domNodes.scrollbar.scanDomNode();\n    }\n    renderMarkdownDocs(markdown) {\n        const renderedContents = this.renderDisposeables.add(this.markdownRenderer.render(markdown, {\n            asyncRenderCallback: () => {\n                var _a;\n                (_a = this.domNodes) === null || _a === void 0 ? void 0 : _a.scrollbar.scanDomNode();\n            }\n        }));\n        renderedContents.element.classList.add('markdown-docs');\n        return renderedContents;\n    }\n    hasDocs(signature, activeParameter) {\n        if (activeParameter && typeof activeParameter.documentation === 'string' && assertIsDefined(activeParameter.documentation).length > 0) {\n            return true;\n        }\n        if (activeParameter && typeof activeParameter.documentation === 'object' && assertIsDefined(activeParameter.documentation).value.length > 0) {\n            return true;\n        }\n        if (signature.documentation && typeof signature.documentation === 'string' && assertIsDefined(signature.documentation).length > 0) {\n            return true;\n        }\n        if (signature.documentation && typeof signature.documentation === 'object' && assertIsDefined(signature.documentation.value).length > 0) {\n            return true;\n        }\n        return false;\n    }\n    renderParameters(parent, signature, activeParameterIndex) {\n        const [start, end] = this.getParameterLabelOffsets(signature, activeParameterIndex);\n        const beforeSpan = document.createElement('span');\n        beforeSpan.textContent = signature.label.substring(0, start);\n        const paramSpan = document.createElement('span');\n        paramSpan.textContent = signature.label.substring(start, end);\n        paramSpan.className = 'parameter active';\n        const afterSpan = document.createElement('span');\n        afterSpan.textContent = signature.label.substring(end);\n        dom.append(parent, beforeSpan, paramSpan, afterSpan);\n    }\n    getParameterLabelOffsets(signature, paramIdx) {\n        const param = signature.parameters[paramIdx];\n        if (!param) {\n            return [0, 0];\n        }\n        else if (Array.isArray(param.label)) {\n            return param.label;\n        }\n        else if (!param.label.length) {\n            return [0, 0];\n        }\n        else {\n            const regex = new RegExp(`(\\\\W|^)${escapeRegExpCharacters(param.label)}(?=\\\\W|$)`, 'g');\n            regex.test(signature.label);\n            const idx = regex.lastIndex - param.label.length;\n            return idx >= 0\n                ? [idx, regex.lastIndex]\n                : [0, 0];\n        }\n    }\n    next() {\n        this.editor.focus();\n        this.model.next();\n    }\n    previous() {\n        this.editor.focus();\n        this.model.previous();\n    }\n    getDomNode() {\n        if (!this.domNodes) {\n            this.createParameterHintDOMNodes();\n        }\n        return this.domNodes.element;\n    }\n    getId() {\n        return ParameterHintsWidget_1.ID;\n    }\n    updateMaxHeight() {\n        if (!this.domNodes) {\n            return;\n        }\n        const height = Math.max(this.editor.getLayoutInfo().height / 4, 250);\n        const maxHeight = `${height}px`;\n        this.domNodes.element.style.maxHeight = maxHeight;\n        const wrapper = this.domNodes.element.getElementsByClassName('phwrapper');\n        if (wrapper.length) {\n            wrapper[0].style.maxHeight = maxHeight;\n        }\n    }\n};\nParameterHintsWidget.ID = 'editor.widget.parameterHintsWidget';\nParameterHintsWidget = ParameterHintsWidget_1 = __decorate([\n    __param(2, IContextKeyService),\n    __param(3, IOpenerService),\n    __param(4, ILanguageService)\n], ParameterHintsWidget);\nexport { ParameterHintsWidget };\nregisterColor('editorHoverWidget.highlightForeground', { dark: listHighlightForeground, light: listHighlightForeground, hcDark: listHighlightForeground, hcLight: listHighlightForeground }, nls.localize('editorHoverWidgetHighlightForeground', 'Foreground color of the active item in the parameter hint.'));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ParameterHintsController_1;\nimport { Lazy } from '../../../../base/common/lazy.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport * as languages from '../../../common/languages.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ParameterHintsModel } from './parameterHintsModel.js';\nimport { Context } from './provideSignatureHelp.js';\nimport * as nls from '../../../../nls.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ParameterHintsWidget } from './parameterHintsWidget.js';\nlet ParameterHintsController = ParameterHintsController_1 = class ParameterHintsController extends Disposable {\n    static get(editor) {\n        return editor.getContribution(ParameterHintsController_1.ID);\n    }\n    constructor(editor, instantiationService, languageFeaturesService) {\n        super();\n        this.editor = editor;\n        this.model = this._register(new ParameterHintsModel(editor, languageFeaturesService.signatureHelpProvider));\n        this._register(this.model.onChangedHints(newParameterHints => {\n            var _a;\n            if (newParameterHints) {\n                this.widget.value.show();\n                this.widget.value.render(newParameterHints);\n            }\n            else {\n                (_a = this.widget.rawValue) === null || _a === void 0 ? void 0 : _a.hide();\n            }\n        }));\n        this.widget = new Lazy(() => this._register(instantiationService.createInstance(ParameterHintsWidget, this.editor, this.model)));\n    }\n    cancel() {\n        this.model.cancel();\n    }\n    previous() {\n        var _a;\n        (_a = this.widget.rawValue) === null || _a === void 0 ? void 0 : _a.previous();\n    }\n    next() {\n        var _a;\n        (_a = this.widget.rawValue) === null || _a === void 0 ? void 0 : _a.next();\n    }\n    trigger(context) {\n        this.model.trigger(context, 0);\n    }\n};\nParameterHintsController.ID = 'editor.controller.parameterHints';\nParameterHintsController = ParameterHintsController_1 = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, ILanguageFeaturesService)\n], ParameterHintsController);\nexport { ParameterHintsController };\nexport class TriggerParameterHintsAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.triggerParameterHints',\n            label: nls.localize('parameterHints.trigger.label', \"Trigger Parameter Hints\"),\n            alias: 'Trigger Parameter Hints',\n            precondition: EditorContextKeys.hasSignatureHelpProvider,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 10 /* KeyCode.Space */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ParameterHintsController.get(editor);\n        controller === null || controller === void 0 ? void 0 : controller.trigger({\n            triggerKind: languages.SignatureHelpTriggerKind.Invoke\n        });\n    }\n}\nregisterEditorContribution(ParameterHintsController.ID, ParameterHintsController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorAction(TriggerParameterHintsAction);\nconst weight = 100 /* KeybindingWeight.EditorContrib */ + 75;\nconst ParameterHintsCommand = EditorCommand.bindToContribution(ParameterHintsController.get);\nregisterEditorCommand(new ParameterHintsCommand({\n    id: 'closeParameterHints',\n    precondition: Context.Visible,\n    handler: x => x.cancel(),\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.focus,\n        primary: 9 /* KeyCode.Escape */,\n        secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */]\n    }\n}));\nregisterEditorCommand(new ParameterHintsCommand({\n    id: 'showPrevParameterHint',\n    precondition: ContextKeyExpr.and(Context.Visible, Context.MultipleSignatures),\n    handler: x => x.previous(),\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.focus,\n        primary: 16 /* KeyCode.UpArrow */,\n        secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n        mac: { primary: 16 /* KeyCode.UpArrow */, secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */, 256 /* KeyMod.WinCtrl */ | 46 /* KeyCode.KeyP */] }\n    }\n}));\nregisterEditorCommand(new ParameterHintsCommand({\n    id: 'showNextParameterHint',\n    precondition: ContextKeyExpr.and(Context.Visible, Context.MultipleSignatures),\n    handler: x => x.next(),\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.focus,\n        primary: 18 /* KeyCode.DownArrow */,\n        secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n        mac: { primary: 18 /* KeyCode.DownArrow */, secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */, 256 /* KeyMod.WinCtrl */ | 44 /* KeyCode.KeyN */] }\n    }\n}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport * as objects from '../../../../base/common/objects.js';\nimport './media/peekViewWidget.css';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/embeddedCodeEditorWidget.js';\nimport { ZoneWidget } from '../../zoneWidget/browser/zoneWidget.js';\nimport * as nls from '../../../../nls.js';\nimport { createActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { createDecorator, IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { activeContrastBorder, contrastBorder, editorForeground, editorInfoForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nexport const IPeekViewService = createDecorator('IPeekViewService');\nregisterSingleton(IPeekViewService, class {\n    constructor() {\n        this._widgets = new Map();\n    }\n    addExclusiveWidget(editor, widget) {\n        const existing = this._widgets.get(editor);\n        if (existing) {\n            existing.listener.dispose();\n            existing.widget.dispose();\n        }\n        const remove = () => {\n            const data = this._widgets.get(editor);\n            if (data && data.widget === widget) {\n                data.listener.dispose();\n                this._widgets.delete(editor);\n            }\n        };\n        this._widgets.set(editor, { widget, listener: widget.onDidClose(remove) });\n    }\n}, 1 /* InstantiationType.Delayed */);\nexport var PeekContext;\n(function (PeekContext) {\n    PeekContext.inPeekEditor = new RawContextKey('inReferenceSearchEditor', true, nls.localize('inReferenceSearchEditor', \"Whether the current code editor is embedded inside peek\"));\n    PeekContext.notInPeekEditor = PeekContext.inPeekEditor.toNegated();\n})(PeekContext || (PeekContext = {}));\nlet PeekContextController = class PeekContextController {\n    constructor(editor, contextKeyService) {\n        if (editor instanceof EmbeddedCodeEditorWidget) {\n            PeekContext.inPeekEditor.bindTo(contextKeyService);\n        }\n    }\n    dispose() { }\n};\nPeekContextController.ID = 'editor.contrib.referenceController';\nPeekContextController = __decorate([\n    __param(1, IContextKeyService)\n], PeekContextController);\nregisterEditorContribution(PeekContextController.ID, PeekContextController, 0 /* EditorContributionInstantiation.Eager */); // eager because it needs to define a context key\nexport function getOuterEditor(accessor) {\n    const editor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n    if (editor instanceof EmbeddedCodeEditorWidget) {\n        return editor.getParentEditor();\n    }\n    return editor;\n}\nconst defaultOptions = {\n    headerBackgroundColor: Color.white,\n    primaryHeadingColor: Color.fromHex('#333333'),\n    secondaryHeadingColor: Color.fromHex('#6c6c6cb3')\n};\nlet PeekViewWidget = class PeekViewWidget extends ZoneWidget {\n    constructor(editor, options, instantiationService) {\n        super(editor, options);\n        this.instantiationService = instantiationService;\n        this._onDidClose = new Emitter();\n        this.onDidClose = this._onDidClose.event;\n        objects.mixin(this.options, defaultOptions, false);\n    }\n    dispose() {\n        if (!this.disposed) {\n            this.disposed = true; // prevent consumers who dispose on onDidClose from looping\n            super.dispose();\n            this._onDidClose.fire(this);\n        }\n    }\n    style(styles) {\n        const options = this.options;\n        if (styles.headerBackgroundColor) {\n            options.headerBackgroundColor = styles.headerBackgroundColor;\n        }\n        if (styles.primaryHeadingColor) {\n            options.primaryHeadingColor = styles.primaryHeadingColor;\n        }\n        if (styles.secondaryHeadingColor) {\n            options.secondaryHeadingColor = styles.secondaryHeadingColor;\n        }\n        super.style(styles);\n    }\n    _applyStyles() {\n        super._applyStyles();\n        const options = this.options;\n        if (this._headElement && options.headerBackgroundColor) {\n            this._headElement.style.backgroundColor = options.headerBackgroundColor.toString();\n        }\n        if (this._primaryHeading && options.primaryHeadingColor) {\n            this._primaryHeading.style.color = options.primaryHeadingColor.toString();\n        }\n        if (this._secondaryHeading && options.secondaryHeadingColor) {\n            this._secondaryHeading.style.color = options.secondaryHeadingColor.toString();\n        }\n        if (this._bodyElement && options.frameColor) {\n            this._bodyElement.style.borderColor = options.frameColor.toString();\n        }\n    }\n    _fillContainer(container) {\n        this.setCssClass('peekview-widget');\n        this._headElement = dom.$('.head');\n        this._bodyElement = dom.$('.body');\n        this._fillHead(this._headElement);\n        this._fillBody(this._bodyElement);\n        container.appendChild(this._headElement);\n        container.appendChild(this._bodyElement);\n    }\n    _fillHead(container, noCloseAction) {\n        this._titleElement = dom.$('.peekview-title');\n        if (this.options.supportOnTitleClick) {\n            this._titleElement.classList.add('clickable');\n            dom.addStandardDisposableListener(this._titleElement, 'click', event => this._onTitleClick(event));\n        }\n        dom.append(this._headElement, this._titleElement);\n        this._fillTitleIcon(this._titleElement);\n        this._primaryHeading = dom.$('span.filename');\n        this._secondaryHeading = dom.$('span.dirname');\n        this._metaHeading = dom.$('span.meta');\n        dom.append(this._titleElement, this._primaryHeading, this._secondaryHeading, this._metaHeading);\n        const actionsContainer = dom.$('.peekview-actions');\n        dom.append(this._headElement, actionsContainer);\n        const actionBarOptions = this._getActionBarOptions();\n        this._actionbarWidget = new ActionBar(actionsContainer, actionBarOptions);\n        this._disposables.add(this._actionbarWidget);\n        if (!noCloseAction) {\n            this._actionbarWidget.push(new Action('peekview.close', nls.localize('label.close', \"Close\"), ThemeIcon.asClassName(Codicon.close), true, () => {\n                this.dispose();\n                return Promise.resolve();\n            }), { label: false, icon: true });\n        }\n    }\n    _fillTitleIcon(container) {\n    }\n    _getActionBarOptions() {\n        return {\n            actionViewItemProvider: createActionViewItem.bind(undefined, this.instantiationService),\n            orientation: 0 /* ActionsOrientation.HORIZONTAL */\n        };\n    }\n    _onTitleClick(event) {\n        // implement me if supportOnTitleClick option is set\n    }\n    setTitle(primaryHeading, secondaryHeading) {\n        if (this._primaryHeading && this._secondaryHeading) {\n            this._primaryHeading.innerText = primaryHeading;\n            this._primaryHeading.setAttribute('title', primaryHeading);\n            if (secondaryHeading) {\n                this._secondaryHeading.innerText = secondaryHeading;\n            }\n            else {\n                dom.clearNode(this._secondaryHeading);\n            }\n        }\n    }\n    setMetaTitle(value) {\n        if (this._metaHeading) {\n            if (value) {\n                this._metaHeading.innerText = value;\n                dom.show(this._metaHeading);\n            }\n            else {\n                dom.hide(this._metaHeading);\n            }\n        }\n    }\n    _doLayout(heightInPixel, widthInPixel) {\n        if (!this._isShowing && heightInPixel < 0) {\n            // Looks like the view zone got folded away!\n            this.dispose();\n            return;\n        }\n        const headHeight = Math.ceil(this.editor.getOption(66 /* EditorOption.lineHeight */) * 1.2);\n        const bodyHeight = Math.round(heightInPixel - (headHeight + 2 /* the border-top/bottom width*/));\n        this._doLayoutHead(headHeight, widthInPixel);\n        this._doLayoutBody(bodyHeight, widthInPixel);\n    }\n    _doLayoutHead(heightInPixel, widthInPixel) {\n        if (this._headElement) {\n            this._headElement.style.height = `${heightInPixel}px`;\n            this._headElement.style.lineHeight = this._headElement.style.height;\n        }\n    }\n    _doLayoutBody(heightInPixel, widthInPixel) {\n        if (this._bodyElement) {\n            this._bodyElement.style.height = `${heightInPixel}px`;\n        }\n    }\n};\nPeekViewWidget = __decorate([\n    __param(2, IInstantiationService)\n], PeekViewWidget);\nexport { PeekViewWidget };\nexport const peekViewTitleBackground = registerColor('peekViewTitle.background', { dark: '#252526', light: '#F3F3F3', hcDark: Color.black, hcLight: Color.white }, nls.localize('peekViewTitleBackground', 'Background color of the peek view title area.'));\nexport const peekViewTitleForeground = registerColor('peekViewTitleLabel.foreground', { dark: Color.white, light: Color.black, hcDark: Color.white, hcLight: editorForeground }, nls.localize('peekViewTitleForeground', 'Color of the peek view title.'));\nexport const peekViewTitleInfoForeground = registerColor('peekViewTitleDescription.foreground', { dark: '#ccccccb3', light: '#616161', hcDark: '#FFFFFF99', hcLight: '#292929' }, nls.localize('peekViewTitleInfoForeground', 'Color of the peek view title info.'));\nexport const peekViewBorder = registerColor('peekView.border', { dark: editorInfoForeground, light: editorInfoForeground, hcDark: contrastBorder, hcLight: contrastBorder }, nls.localize('peekViewBorder', 'Color of the peek view borders and arrow.'));\nexport const peekViewResultsBackground = registerColor('peekViewResult.background', { dark: '#252526', light: '#F3F3F3', hcDark: Color.black, hcLight: Color.white }, nls.localize('peekViewResultsBackground', 'Background color of the peek view result list.'));\nexport const peekViewResultsMatchForeground = registerColor('peekViewResult.lineForeground', { dark: '#bbbbbb', light: '#646465', hcDark: Color.white, hcLight: editorForeground }, nls.localize('peekViewResultsMatchForeground', 'Foreground color for line nodes in the peek view result list.'));\nexport const peekViewResultsFileForeground = registerColor('peekViewResult.fileForeground', { dark: Color.white, light: '#1E1E1E', hcDark: Color.white, hcLight: editorForeground }, nls.localize('peekViewResultsFileForeground', 'Foreground color for file nodes in the peek view result list.'));\nexport const peekViewResultsSelectionBackground = registerColor('peekViewResult.selectionBackground', { dark: '#3399ff33', light: '#3399ff33', hcDark: null, hcLight: null }, nls.localize('peekViewResultsSelectionBackground', 'Background color of the selected entry in the peek view result list.'));\nexport const peekViewResultsSelectionForeground = registerColor('peekViewResult.selectionForeground', { dark: Color.white, light: '#6C6C6C', hcDark: Color.white, hcLight: editorForeground }, nls.localize('peekViewResultsSelectionForeground', 'Foreground color of the selected entry in the peek view result list.'));\nexport const peekViewEditorBackground = registerColor('peekViewEditor.background', { dark: '#001F33', light: '#F2F8FC', hcDark: Color.black, hcLight: Color.white }, nls.localize('peekViewEditorBackground', 'Background color of the peek view editor.'));\nexport const peekViewEditorGutterBackground = registerColor('peekViewEditorGutter.background', { dark: peekViewEditorBackground, light: peekViewEditorBackground, hcDark: peekViewEditorBackground, hcLight: peekViewEditorBackground }, nls.localize('peekViewEditorGutterBackground', 'Background color of the gutter in the peek view editor.'));\nexport const peekViewEditorStickyScrollBackground = registerColor('peekViewEditorStickyScroll.background', { dark: peekViewEditorBackground, light: peekViewEditorBackground, hcDark: peekViewEditorBackground, hcLight: peekViewEditorBackground }, nls.localize('peekViewEditorStickScrollBackground', 'Background color of sticky scroll in the peek view editor.'));\nexport const peekViewResultsMatchHighlight = registerColor('peekViewResult.matchHighlightBackground', { dark: '#ea5c004d', light: '#ea5c004d', hcDark: null, hcLight: null }, nls.localize('peekViewResultsMatchHighlight', 'Match highlight color in the peek view result list.'));\nexport const peekViewEditorMatchHighlight = registerColor('peekViewEditor.matchHighlightBackground', { dark: '#ff8f0099', light: '#f5d802de', hcDark: null, hcLight: null }, nls.localize('peekViewEditorMatchHighlight', 'Match highlight color in the peek view editor.'));\nexport const peekViewEditorMatchHighlightBorder = registerColor('peekViewEditor.matchHighlightBorder', { dark: null, light: null, hcDark: activeContrastBorder, hcLight: activeContrastBorder }, nls.localize('peekViewEditorMatchHighlightBorder', 'Match highlight border in the peek view editor.'));\n"],"names":["LongLinesHelper","_Disposable","_inherits","_super","_createSuper","_editor","_this","_classCallCheck","call","_register","onMouseDown","e","stopRenderingLineAfter","getOption","target","type","position","column","updateOptions","_createClass","Disposable","ID","registerEditorContribution","MarkdownRenderer_1","__decorate","decorators","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","apply","MarkdownRenderer","_options","_languageService","_openerService","this","_onDidRenderAsync","Emitter","onDidRenderAsync","event","dispose","markdown","options","markedOptions","element","document","createElement","disposables","DisposableStore","rendered","add","renderMarkdown","assign","_getRenderOptions","classList","codeBlockRenderer","languageAlias","_regeneratorRuntime","mark","_callee","_a","_b","_c","languageId","html","fontInfo","wrap","_context","prev","getLanguageIdByLanguageName","editor","getModel","getLanguageId","PLAINTEXT_LANGUAGE_ID","tokenizeToString","sent","innerHTML","_ttpTokenizer","createHTML","applyFontInfo","codeBlockFontFamily","style","fontFamily","undefined","codeBlockFontSize","fontSize","abrupt","stop","asyncRenderCallback","fire","actionHandler","callback","link","openLinkFromMarkdown","isTrusted","openerService","_callee2","_context2","open","fromUserGesture","allowContributedOpeners","allowCommands","toAllowCommandsOption","t0","onUnexpectedError","Array","isArray","enabledCommands","createTrustedTypesPolicy","ILanguageService","IOpenerService","MessageController_1","MessageController","contextKeyService","_messageWidget","MutableDisposable","_messageListeners","_mouseOverMessage","_visible","MESSAGE_VISIBLE","bindTo","_message","reset","message","bounds","alert","isMarkdownString","set","clear","url","MessageWidget","Event","debounce","onDidBlurEditorText","last","dom","isAncestor","getActiveElement","getDomNode","closeMessage","onDidChangeCursorPosition","onDidDispose","onDidChangeModel","addDisposableListener","EventType","MOUSE_ENTER","MOUSE_LEAVE","onMouseMove","containsPosition","Range","lineNumber","fadeOut","getContribution","RawContextKey","nls","IContextKeyService","MessageCommand","EditorCommand","bindToContribution","get","registerEditorCommand","id","precondition","handler","kbOpts","weight","primary","_ref","text","allowEditorOverflow","suppressMouseDown","revealLinesInCenterIfOutsideViewport","_position","_domNode","marginLeft","anchorTop","appendChild","textContent","anchorBottom","addContentWidget","removeContentWidget","preference","positionAffinity","toggle","messageWidget","clearTimeout","handle","removeEventListener","setTimeout","addEventListener","SelectionHighlighter_1","announceCursorChange","previousCursorState","cursorState","cursorDiff","filter","cs","find","pcs","equals","cursorPositions","map","concat","viewState","join","msg","status","InsertCursorAbove","_EditorAction","label","alias","kbExpr","EditorContextKeys","editorTextFocus","linux","secondary","menuOpts","menuId","MenuId","MenubarSelectionMenu","group","title","comment","order","accessor","args","hasModel","useLogicalLine","logicalLine","viewModel","_getViewModel","cursorConfig","readOnly","model","pushStackElement","getCursorStates","setCursorStates","source","CursorMoveCommands","addCursorUp","revealTopMostCursor","EditorAction","InsertCursorBelow","_EditorAction2","_super2","addCursorDown","revealBottomMostCursor","InsertCursorAtEndOfEachLineSelected","_EditorAction3","_super3","selection","isEmpty","startLineNumber","endLineNumber","currentLineMaxColumn","getLineMaxColumn","push","Selection","endColumn","selections","getSelections","newSelections","forEach","sel","getCursorsForSelection","setSelections","InsertCursorAtEndOfLineSelected","_EditorAction4","_super4","lineCount","getLineCount","startColumn","InsertCursorAtTopOfLineSelected","_EditorAction5","_super5","MultiCursorSessionResult","revealRange","revealScrollType","MultiCursorSession","findController","isDisconnectedFromFindController","searchText","wholeWord","matchCase","currentMatch","nextMatch","_getNextMatch","allSelections","slice","highlightFindOptions","lastAddedSelection","findNextMatch","getEndPosition","range","previousMatch","_getPreviousMatch","findPreviousMatch","getStartPosition","searchScope","editorModel","findMatches","findState","getState","hasTextFocus","isRevealed","searchString","s","getSelection","word","getConfiguredWordAtPosition","getValueInRange","replace","MultiCursorSelectionController","_super6","_this2","_sessionDispose","_ignoreSelectionChange","_session","_endSession","_get","_getPrototypeOf","prototype","_this3","session","create","newState","wholeWordOverride","matchCaseOverride","isRegexOverride","change","onDidChangeCursorSelection","onFindReplaceStateChange","_setSelections","revealRangeInCenterIfOutsideViewport","modelRangesContainSameText","resultingSelections","len","_expandEmptyToWord","_beginSessionIfNeeded","_applySessionResult","addSelectionToNextFindMatch","addSelectionToPreviousFindMatch","moveSelectionToNextFindMatch","moveSelectionToPreviousFindMatch","matches","isRegex","selectAll","editorSelection","match","intersectRanges","m","MultiCursorSelectionControllerAction","_EditorAction6","_super7","multiCursorController","CommonFindController","_run","newFindController","IInstantiationService","createInstance","AddSelectionToNextFindMatchAction","_MultiCursorSelection","_super8","focus","AddSelectionToPreviousFindMatchAction","_MultiCursorSelection2","_super9","MoveSelectionToNextFindMatchAction","_MultiCursorSelection3","_super10","KeyChord","MoveSelectionToPreviousFindMatchAction","_MultiCursorSelection4","_super11","SelectHighlightsAction","_MultiCursorSelection5","_super12","CompatChangeAll","_MultiCursorSelection6","_super13","ContextKeyExpr","and","writable","contextMenuOpts","SelectionHighlighterState","_model","_searchText","_matchCase","_wordSeparators","prevState","_modelVersionId","getVersionId","_cachedFindMatches","sort","compareRangesUsingStarts","SelectionHighlighter","_Disposable2","_super14","_languageFeaturesService","_this4","_isEnabled","_decorations","createDecorationsCollection","updateSoon","RunOnceScheduler","_update","state","onDidChangeConfiguration","reason","_setState","schedule","onDidChangeModelContent","_createState","isTooLargeForTokenization","allMatches","j","lenJ","cmp","areIntersecting","hasSemanticHighlights","documentHighlightProvider","has","decorations","getSelectionHighlightDecorationOptions","oldState","isEnabled","getSession","test","caseSensitive","findStateSearchString","toLowerCase","mySearchString","ranges","selectedText","ILanguageFeaturesService","FocusNextCursor","_EditorAction7","_super15","description","from","firstCursor","shift","revealPrimaryCursor","FocusPreviousCursor","_EditorAction8","_super16","pop","unshift","registerEditorAction","Context","Visible","MultipleSignatures","provideSignatureHelp","registry","context","token","supports","_iterator","_step","support","ordered","_createForOfIteratorHelper","n","onUnexpectedExternalError","t1","f","finish","CommandsRegistry","registerCommand","_len","_key","uri","triggerCharacter","languageFeaturesService","ref","assertType","URI","isUri","Position","isIPosition","ITextModelService","createModelReference","signatureHelpProvider","object","textEditorModel","lift","triggerKind","languages","Invoke","isRetrigger","CancellationToken","None","ParameterHintState","Default","Pending","request","previouslyActiveHints","Active","hints","ParameterHintsModel","providers","delay","DEFAULT_DELAY","_onChangedHints","onChangedHints","triggerOnType","_state","_pendingTriggers","_lastSignatureHelpResult","triggerChars","CharacterSet","retriggerChars","triggerId","throttledDelayer","Delayer","onDidBlurEditorWidget","cancel","onEditorConfigurationChange","onModelChanged","onDidChangeModelLanguage","_","onCursorChange","onModelContentChange","onDidChange","_assertThisInitialized","onDidType","silent","trigger","doTrigger","catch","signatures","activeSignature","cycle","updateActiveSignature","first","activeSignatureHelp","triggerContext","getLastActiveHints","reduce","mergeTriggerContexts","getPosition","createCancelablePromise","isTriggered","_step2","_iterator2","signatureHelpTriggerCharacters","ch","charCode","charCodeAt","err","_step3","_iterator3","signatureHelpRetriggerCharacters","lastCharIndex","triggerCharCode","TriggerCharacter","charAt","ContentChange","enabled","previous","current","ParameterHintsWidget_1","$","parameterHintsNextIcon","registerIcon","Codicon","chevronDown","parameterHintsPreviousIcon","chevronUp","ParameterHintsWidget","languageService","renderDisposeables","visible","announcedLabel","markdownRenderer","keyVisible","keyMultipleSignatures","wrapper","append","tabIndex","controls","ThemeIcon","asCSSSelector","overloads","EventHelper","body","scrollbar","DomScrollableElement","alwaysConsumeMouseWheel","signature","docs","userSelect","domNodes","hide","layoutContentWidget","updateFont","lineHeight","chain","bind","hasChanged","onDidLayoutChange","updateMaxHeight","createParameterHintDOMNodes","remove","multiple","innerText","code","hasParameters","parameters","activeParameterIndex","activeParameter","renderParameters","documentation","renderedContents","renderMarkdownDocs","hasDocs","String","padStart","toString","labelToAnnounce","param","substring","aria","scanDomNode","render","assertIsDefined","parent","_this$getParameterLab","getParameterLabelOffsets","_this$getParameterLab2","_slicedToArray","start","end","beforeSpan","paramSpan","className","afterSpan","paramIdx","regex","RegExp","escapeRegExpCharacters","idx","lastIndex","height","Math","max","getLayoutInfo","maxHeight","getElementsByClassName","registerColor","dark","listHighlightForeground","light","hcDark","hcLight","ParameterHintsController_1","ParameterHintsController","instantiationService","newParameterHints","widget","show","rawValue","Lazy","TriggerParameterHintsAction","hasSignatureHelpProvider","controller","ParameterHintsCommand","x","mac","PeekContext","IPeekViewService","createDecorator","registerSingleton","_class","_widgets","Map","existing","listener","onDidClose","data","delete","inPeekEditor","notInPeekEditor","toNegated","PeekContextController","EmbeddedCodeEditorWidget","getOuterEditor","ICodeEditorService","getFocusedCodeEditor","getParentEditor","defaultOptions","headerBackgroundColor","Color","white","primaryHeadingColor","fromHex","secondaryHeadingColor","PeekViewWidget","_ZoneWidget","_onDidClose","objects","disposed","styles","_headElement","backgroundColor","_primaryHeading","color","_secondaryHeading","_bodyElement","frameColor","borderColor","container","setCssClass","_fillHead","_fillBody","noCloseAction","_titleElement","supportOnTitleClick","addStandardDisposableListener","_onTitleClick","_fillTitleIcon","_metaHeading","actionsContainer","actionBarOptions","_getActionBarOptions","_actionbarWidget","ActionBar","_disposables","Action","asClassName","close","icon","actionViewItemProvider","createActionViewItem","orientation","primaryHeading","secondaryHeading","setAttribute","clearNode","heightInPixel","widthInPixel","_isShowing","headHeight","ceil","bodyHeight","round","_doLayoutHead","_doLayoutBody","ZoneWidget","peekViewTitleBackground","black","peekViewTitleForeground","editorForeground","peekViewTitleInfoForeground","peekViewBorder","editorInfoForeground","contrastBorder","peekViewResultsBackground","peekViewEditorBackground","activeContrastBorder"],"sourceRoot":""}