{"version":3,"file":"static/js/monaco-editor-vendor.4743ffc1.16b1c6d6.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/base/browser/ui/mouseCursor/mouseCursor.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/progressbar/progressbar.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/resizable/resizable.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/sash/sash.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/scrollbarArrow.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/scrollbarVisibilityController.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/abstractScrollbar.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/scrollbarState.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/horizontalScrollbar.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/verticalScrollbar.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/scrollableElement.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/selectBox/selectBoxCustom.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/selectBox/selectBoxNative.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/selectBox/selectBox.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/splitview/splitview.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/table/tableWidget.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/toggle/toggle.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/toolbar/toolbar.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/tree/abstractTree.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/tree/asyncDataTree.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/tree/dataTree.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/tree/indexTreeModel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/tree/compressedObjectTreeModel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/tree/objectTree.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/tree/objectTreeModel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/tree/tree.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/widget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './mouseCursor.css';\nexport const MOUSE_CURSOR_TEXT_CSS_CLASS_NAME = `monaco-mouse-cursor-text`;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { show } from '../../dom.js';\nimport { RunOnceScheduler } from '../../../common/async.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './progressbar.css';\nconst CSS_DONE = 'done';\nconst CSS_ACTIVE = 'active';\nconst CSS_INFINITE = 'infinite';\nconst CSS_INFINITE_LONG_RUNNING = 'infinite-long-running';\nconst CSS_DISCRETE = 'discrete';\n/**\n * A progress bar with support for infinite or discrete progress.\n */\nclass ProgressBar extends Disposable {\n    constructor(container, options) {\n        super();\n        this.workedVal = 0;\n        this.showDelayedScheduler = this._register(new RunOnceScheduler(() => show(this.element), 0));\n        this.longRunningScheduler = this._register(new RunOnceScheduler(() => this.infiniteLongRunning(), ProgressBar.LONG_RUNNING_INFINITE_THRESHOLD));\n        this.create(container, options);\n    }\n    create(container, options) {\n        this.element = document.createElement('div');\n        this.element.classList.add('monaco-progress-container');\n        this.element.setAttribute('role', 'progressbar');\n        this.element.setAttribute('aria-valuemin', '0');\n        container.appendChild(this.element);\n        this.bit = document.createElement('div');\n        this.bit.classList.add('progress-bit');\n        this.bit.style.backgroundColor = (options === null || options === void 0 ? void 0 : options.progressBarBackground) || '#0E70C0';\n        this.element.appendChild(this.bit);\n    }\n    off() {\n        this.bit.style.width = 'inherit';\n        this.bit.style.opacity = '1';\n        this.element.classList.remove(CSS_ACTIVE, CSS_INFINITE, CSS_INFINITE_LONG_RUNNING, CSS_DISCRETE);\n        this.workedVal = 0;\n        this.totalWork = undefined;\n        this.longRunningScheduler.cancel();\n    }\n    /**\n     * Stops the progressbar from showing any progress instantly without fading out.\n     */\n    stop() {\n        return this.doDone(false);\n    }\n    doDone(delayed) {\n        this.element.classList.add(CSS_DONE);\n        // discrete: let it grow to 100% width and hide afterwards\n        if (!this.element.classList.contains(CSS_INFINITE)) {\n            this.bit.style.width = 'inherit';\n            if (delayed) {\n                setTimeout(() => this.off(), 200);\n            }\n            else {\n                this.off();\n            }\n        }\n        // infinite: let it fade out and hide afterwards\n        else {\n            this.bit.style.opacity = '0';\n            if (delayed) {\n                setTimeout(() => this.off(), 200);\n            }\n            else {\n                this.off();\n            }\n        }\n        return this;\n    }\n    /**\n     * Use this mode to indicate progress that has no total number of work units.\n     */\n    infinite() {\n        this.bit.style.width = '2%';\n        this.bit.style.opacity = '1';\n        this.element.classList.remove(CSS_DISCRETE, CSS_DONE, CSS_INFINITE_LONG_RUNNING);\n        this.element.classList.add(CSS_ACTIVE, CSS_INFINITE);\n        this.longRunningScheduler.schedule();\n        return this;\n    }\n    infiniteLongRunning() {\n        this.element.classList.add(CSS_INFINITE_LONG_RUNNING);\n    }\n    getContainer() {\n        return this.element;\n    }\n}\n/**\n * After a certain time of showing the progress bar, switch\n * to long-running mode and throttle animations to reduce\n * the pressure on the GPU process.\n *\n * https://github.com/microsoft/vscode/issues/97900\n * https://github.com/microsoft/vscode/issues/138396\n */\nProgressBar.LONG_RUNNING_INFINITE_THRESHOLD = 10000;\nexport { ProgressBar };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Dimension } from '../../dom.js';\nimport { OrthogonalEdge, Sash } from '../sash/sash.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nexport class ResizableHTMLElement {\n    constructor() {\n        this._onDidWillResize = new Emitter();\n        this.onDidWillResize = this._onDidWillResize.event;\n        this._onDidResize = new Emitter();\n        this.onDidResize = this._onDidResize.event;\n        this._sashListener = new DisposableStore();\n        this._size = new Dimension(0, 0);\n        this._minSize = new Dimension(0, 0);\n        this._maxSize = new Dimension(Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER);\n        this.domNode = document.createElement('div');\n        this._eastSash = new Sash(this.domNode, { getVerticalSashLeft: () => this._size.width }, { orientation: 0 /* Orientation.VERTICAL */ });\n        this._westSash = new Sash(this.domNode, { getVerticalSashLeft: () => 0 }, { orientation: 0 /* Orientation.VERTICAL */ });\n        this._northSash = new Sash(this.domNode, { getHorizontalSashTop: () => 0 }, { orientation: 1 /* Orientation.HORIZONTAL */, orthogonalEdge: OrthogonalEdge.North });\n        this._southSash = new Sash(this.domNode, { getHorizontalSashTop: () => this._size.height }, { orientation: 1 /* Orientation.HORIZONTAL */, orthogonalEdge: OrthogonalEdge.South });\n        this._northSash.orthogonalStartSash = this._westSash;\n        this._northSash.orthogonalEndSash = this._eastSash;\n        this._southSash.orthogonalStartSash = this._westSash;\n        this._southSash.orthogonalEndSash = this._eastSash;\n        let currentSize;\n        let deltaY = 0;\n        let deltaX = 0;\n        this._sashListener.add(Event.any(this._northSash.onDidStart, this._eastSash.onDidStart, this._southSash.onDidStart, this._westSash.onDidStart)(() => {\n            if (currentSize === undefined) {\n                this._onDidWillResize.fire();\n                currentSize = this._size;\n                deltaY = 0;\n                deltaX = 0;\n            }\n        }));\n        this._sashListener.add(Event.any(this._northSash.onDidEnd, this._eastSash.onDidEnd, this._southSash.onDidEnd, this._westSash.onDidEnd)(() => {\n            if (currentSize !== undefined) {\n                currentSize = undefined;\n                deltaY = 0;\n                deltaX = 0;\n                this._onDidResize.fire({ dimension: this._size, done: true });\n            }\n        }));\n        this._sashListener.add(this._eastSash.onDidChange(e => {\n            if (currentSize) {\n                deltaX = e.currentX - e.startX;\n                this.layout(currentSize.height + deltaY, currentSize.width + deltaX);\n                this._onDidResize.fire({ dimension: this._size, done: false, east: true });\n            }\n        }));\n        this._sashListener.add(this._westSash.onDidChange(e => {\n            if (currentSize) {\n                deltaX = -(e.currentX - e.startX);\n                this.layout(currentSize.height + deltaY, currentSize.width + deltaX);\n                this._onDidResize.fire({ dimension: this._size, done: false, west: true });\n            }\n        }));\n        this._sashListener.add(this._northSash.onDidChange(e => {\n            if (currentSize) {\n                deltaY = -(e.currentY - e.startY);\n                this.layout(currentSize.height + deltaY, currentSize.width + deltaX);\n                this._onDidResize.fire({ dimension: this._size, done: false, north: true });\n            }\n        }));\n        this._sashListener.add(this._southSash.onDidChange(e => {\n            if (currentSize) {\n                deltaY = e.currentY - e.startY;\n                this.layout(currentSize.height + deltaY, currentSize.width + deltaX);\n                this._onDidResize.fire({ dimension: this._size, done: false, south: true });\n            }\n        }));\n        this._sashListener.add(Event.any(this._eastSash.onDidReset, this._westSash.onDidReset)(e => {\n            if (this._preferredSize) {\n                this.layout(this._size.height, this._preferredSize.width);\n                this._onDidResize.fire({ dimension: this._size, done: true });\n            }\n        }));\n        this._sashListener.add(Event.any(this._northSash.onDidReset, this._southSash.onDidReset)(e => {\n            if (this._preferredSize) {\n                this.layout(this._preferredSize.height, this._size.width);\n                this._onDidResize.fire({ dimension: this._size, done: true });\n            }\n        }));\n    }\n    dispose() {\n        this._northSash.dispose();\n        this._southSash.dispose();\n        this._eastSash.dispose();\n        this._westSash.dispose();\n        this._sashListener.dispose();\n        this._onDidResize.dispose();\n        this._onDidWillResize.dispose();\n        this.domNode.remove();\n    }\n    enableSashes(north, east, south, west) {\n        this._northSash.state = north ? 3 /* SashState.Enabled */ : 0 /* SashState.Disabled */;\n        this._eastSash.state = east ? 3 /* SashState.Enabled */ : 0 /* SashState.Disabled */;\n        this._southSash.state = south ? 3 /* SashState.Enabled */ : 0 /* SashState.Disabled */;\n        this._westSash.state = west ? 3 /* SashState.Enabled */ : 0 /* SashState.Disabled */;\n    }\n    layout(height = this.size.height, width = this.size.width) {\n        const { height: minHeight, width: minWidth } = this._minSize;\n        const { height: maxHeight, width: maxWidth } = this._maxSize;\n        height = Math.max(minHeight, Math.min(maxHeight, height));\n        width = Math.max(minWidth, Math.min(maxWidth, width));\n        const newSize = new Dimension(width, height);\n        if (!Dimension.equals(newSize, this._size)) {\n            this.domNode.style.height = height + 'px';\n            this.domNode.style.width = width + 'px';\n            this._size = newSize;\n            this._northSash.layout();\n            this._eastSash.layout();\n            this._southSash.layout();\n            this._westSash.layout();\n        }\n    }\n    clearSashHoverState() {\n        this._eastSash.clearSashHoverState();\n        this._westSash.clearSashHoverState();\n        this._northSash.clearSashHoverState();\n        this._southSash.clearSashHoverState();\n    }\n    get size() {\n        return this._size;\n    }\n    set maxSize(value) {\n        this._maxSize = value;\n    }\n    get maxSize() {\n        return this._maxSize;\n    }\n    set minSize(value) {\n        this._minSize = value;\n    }\n    get minSize() {\n        return this._minSize;\n    }\n    set preferredSize(value) {\n        this._preferredSize = value;\n    }\n    get preferredSize() {\n        return this._preferredSize;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { $, append, createStyleSheet, EventHelper } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { EventType, Gesture } from '../../touch.js';\nimport { Delayer } from '../../../common/async.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter } from '../../../common/event.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../common/lifecycle.js';\nimport { isMacintosh } from '../../../common/platform.js';\nimport './sash.css';\n/**\n * Allow the sashes to be visible at runtime.\n * @remark Use for development purposes only.\n */\nconst DEBUG = false;\nexport var OrthogonalEdge;\n(function (OrthogonalEdge) {\n    OrthogonalEdge[\"North\"] = \"north\";\n    OrthogonalEdge[\"South\"] = \"south\";\n    OrthogonalEdge[\"East\"] = \"east\";\n    OrthogonalEdge[\"West\"] = \"west\";\n})(OrthogonalEdge || (OrthogonalEdge = {}));\nlet globalSize = 4;\nconst onDidChangeGlobalSize = new Emitter();\nlet globalHoverDelay = 300;\nconst onDidChangeHoverDelay = new Emitter();\nclass MouseEventFactory {\n    constructor() {\n        this.disposables = new DisposableStore();\n    }\n    get onPointerMove() {\n        return this.disposables.add(new DomEmitter(window, 'mousemove')).event;\n    }\n    get onPointerUp() {\n        return this.disposables.add(new DomEmitter(window, 'mouseup')).event;\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\n__decorate([\n    memoize\n], MouseEventFactory.prototype, \"onPointerMove\", null);\n__decorate([\n    memoize\n], MouseEventFactory.prototype, \"onPointerUp\", null);\nclass GestureEventFactory {\n    get onPointerMove() {\n        return this.disposables.add(new DomEmitter(this.el, EventType.Change)).event;\n    }\n    get onPointerUp() {\n        return this.disposables.add(new DomEmitter(this.el, EventType.End)).event;\n    }\n    constructor(el) {\n        this.el = el;\n        this.disposables = new DisposableStore();\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\n__decorate([\n    memoize\n], GestureEventFactory.prototype, \"onPointerMove\", null);\n__decorate([\n    memoize\n], GestureEventFactory.prototype, \"onPointerUp\", null);\nclass OrthogonalPointerEventFactory {\n    get onPointerMove() {\n        return this.factory.onPointerMove;\n    }\n    get onPointerUp() {\n        return this.factory.onPointerUp;\n    }\n    constructor(factory) {\n        this.factory = factory;\n    }\n    dispose() {\n        // noop\n    }\n}\n__decorate([\n    memoize\n], OrthogonalPointerEventFactory.prototype, \"onPointerMove\", null);\n__decorate([\n    memoize\n], OrthogonalPointerEventFactory.prototype, \"onPointerUp\", null);\nconst PointerEventsDisabledCssClass = 'pointer-events-disabled';\n/**\n * The {@link Sash} is the UI component which allows the user to resize other\n * components. It's usually an invisible horizontal or vertical line which, when\n * hovered, becomes highlighted and can be dragged along the perpendicular dimension\n * to its direction.\n *\n * Features:\n * - Touch event handling\n * - Corner sash support\n * - Hover with different mouse cursor support\n * - Configurable hover size\n * - Linked sash support, for 2x2 corner sashes\n */\nexport class Sash extends Disposable {\n    get state() { return this._state; }\n    get orthogonalStartSash() { return this._orthogonalStartSash; }\n    get orthogonalEndSash() { return this._orthogonalEndSash; }\n    /**\n     * The state of a sash defines whether it can be interacted with by the user\n     * as well as what mouse cursor to use, when hovered.\n     */\n    set state(state) {\n        if (this._state === state) {\n            return;\n        }\n        this.el.classList.toggle('disabled', state === 0 /* SashState.Disabled */);\n        this.el.classList.toggle('minimum', state === 1 /* SashState.AtMinimum */);\n        this.el.classList.toggle('maximum', state === 2 /* SashState.AtMaximum */);\n        this._state = state;\n        this.onDidEnablementChange.fire(state);\n    }\n    /**\n     * A reference to another sash, perpendicular to this one, which\n     * aligns at the start of this one. A corner sash will be created\n     * automatically at that location.\n     *\n     * The start of a horizontal sash is its left-most position.\n     * The start of a vertical sash is its top-most position.\n     */\n    set orthogonalStartSash(sash) {\n        this.orthogonalStartDragHandleDisposables.clear();\n        this.orthogonalStartSashDisposables.clear();\n        if (sash) {\n            const onChange = (state) => {\n                this.orthogonalStartDragHandleDisposables.clear();\n                if (state !== 0 /* SashState.Disabled */) {\n                    this._orthogonalStartDragHandle = append(this.el, $('.orthogonal-drag-handle.start'));\n                    this.orthogonalStartDragHandleDisposables.add(toDisposable(() => this._orthogonalStartDragHandle.remove()));\n                    this.orthogonalStartDragHandleDisposables.add(new DomEmitter(this._orthogonalStartDragHandle, 'mouseenter')).event(() => Sash.onMouseEnter(sash), undefined, this.orthogonalStartDragHandleDisposables);\n                    this.orthogonalStartDragHandleDisposables.add(new DomEmitter(this._orthogonalStartDragHandle, 'mouseleave')).event(() => Sash.onMouseLeave(sash), undefined, this.orthogonalStartDragHandleDisposables);\n                }\n            };\n            this.orthogonalStartSashDisposables.add(sash.onDidEnablementChange.event(onChange, this));\n            onChange(sash.state);\n        }\n        this._orthogonalStartSash = sash;\n    }\n    /**\n     * A reference to another sash, perpendicular to this one, which\n     * aligns at the end of this one. A corner sash will be created\n     * automatically at that location.\n     *\n     * The end of a horizontal sash is its right-most position.\n     * The end of a vertical sash is its bottom-most position.\n     */\n    set orthogonalEndSash(sash) {\n        this.orthogonalEndDragHandleDisposables.clear();\n        this.orthogonalEndSashDisposables.clear();\n        if (sash) {\n            const onChange = (state) => {\n                this.orthogonalEndDragHandleDisposables.clear();\n                if (state !== 0 /* SashState.Disabled */) {\n                    this._orthogonalEndDragHandle = append(this.el, $('.orthogonal-drag-handle.end'));\n                    this.orthogonalEndDragHandleDisposables.add(toDisposable(() => this._orthogonalEndDragHandle.remove()));\n                    this.orthogonalEndDragHandleDisposables.add(new DomEmitter(this._orthogonalEndDragHandle, 'mouseenter')).event(() => Sash.onMouseEnter(sash), undefined, this.orthogonalEndDragHandleDisposables);\n                    this.orthogonalEndDragHandleDisposables.add(new DomEmitter(this._orthogonalEndDragHandle, 'mouseleave')).event(() => Sash.onMouseLeave(sash), undefined, this.orthogonalEndDragHandleDisposables);\n                }\n            };\n            this.orthogonalEndSashDisposables.add(sash.onDidEnablementChange.event(onChange, this));\n            onChange(sash.state);\n        }\n        this._orthogonalEndSash = sash;\n    }\n    constructor(container, layoutProvider, options) {\n        super();\n        this.hoverDelay = globalHoverDelay;\n        this.hoverDelayer = this._register(new Delayer(this.hoverDelay));\n        this._state = 3 /* SashState.Enabled */;\n        this.onDidEnablementChange = this._register(new Emitter());\n        this._onDidStart = this._register(new Emitter());\n        this._onDidChange = this._register(new Emitter());\n        this._onDidReset = this._register(new Emitter());\n        this._onDidEnd = this._register(new Emitter());\n        this.orthogonalStartSashDisposables = this._register(new DisposableStore());\n        this.orthogonalStartDragHandleDisposables = this._register(new DisposableStore());\n        this.orthogonalEndSashDisposables = this._register(new DisposableStore());\n        this.orthogonalEndDragHandleDisposables = this._register(new DisposableStore());\n        /**\n         * An event which fires whenever the user starts dragging this sash.\n         */\n        this.onDidStart = this._onDidStart.event;\n        /**\n         * An event which fires whenever the user moves the mouse while\n         * dragging this sash.\n         */\n        this.onDidChange = this._onDidChange.event;\n        /**\n         * An event which fires whenever the user double clicks this sash.\n         */\n        this.onDidReset = this._onDidReset.event;\n        /**\n         * An event which fires whenever the user stops dragging this sash.\n         */\n        this.onDidEnd = this._onDidEnd.event;\n        /**\n         * A linked sash will be forwarded the same user interactions and events\n         * so it moves exactly the same way as this sash.\n         *\n         * Useful in 2x2 grids. Not meant for widespread usage.\n         */\n        this.linkedSash = undefined;\n        this.el = append(container, $('.monaco-sash'));\n        if (options.orthogonalEdge) {\n            this.el.classList.add(`orthogonal-edge-${options.orthogonalEdge}`);\n        }\n        if (isMacintosh) {\n            this.el.classList.add('mac');\n        }\n        const onMouseDown = this._register(new DomEmitter(this.el, 'mousedown')).event;\n        this._register(onMouseDown(e => this.onPointerStart(e, new MouseEventFactory()), this));\n        const onMouseDoubleClick = this._register(new DomEmitter(this.el, 'dblclick')).event;\n        this._register(onMouseDoubleClick(this.onPointerDoublePress, this));\n        const onMouseEnter = this._register(new DomEmitter(this.el, 'mouseenter')).event;\n        this._register(onMouseEnter(() => Sash.onMouseEnter(this)));\n        const onMouseLeave = this._register(new DomEmitter(this.el, 'mouseleave')).event;\n        this._register(onMouseLeave(() => Sash.onMouseLeave(this)));\n        this._register(Gesture.addTarget(this.el));\n        const onTouchStart = this._register(new DomEmitter(this.el, EventType.Start)).event;\n        this._register(onTouchStart(e => this.onPointerStart(e, new GestureEventFactory(this.el)), this));\n        const onTap = this._register(new DomEmitter(this.el, EventType.Tap)).event;\n        let doubleTapTimeout = undefined;\n        this._register(onTap(event => {\n            if (doubleTapTimeout) {\n                clearTimeout(doubleTapTimeout);\n                doubleTapTimeout = undefined;\n                this.onPointerDoublePress(event);\n                return;\n            }\n            clearTimeout(doubleTapTimeout);\n            doubleTapTimeout = setTimeout(() => doubleTapTimeout = undefined, 250);\n        }, this));\n        if (typeof options.size === 'number') {\n            this.size = options.size;\n            if (options.orientation === 0 /* Orientation.VERTICAL */) {\n                this.el.style.width = `${this.size}px`;\n            }\n            else {\n                this.el.style.height = `${this.size}px`;\n            }\n        }\n        else {\n            this.size = globalSize;\n            this._register(onDidChangeGlobalSize.event(size => {\n                this.size = size;\n                this.layout();\n            }));\n        }\n        this._register(onDidChangeHoverDelay.event(delay => this.hoverDelay = delay));\n        this.layoutProvider = layoutProvider;\n        this.orthogonalStartSash = options.orthogonalStartSash;\n        this.orthogonalEndSash = options.orthogonalEndSash;\n        this.orientation = options.orientation || 0 /* Orientation.VERTICAL */;\n        if (this.orientation === 1 /* Orientation.HORIZONTAL */) {\n            this.el.classList.add('horizontal');\n            this.el.classList.remove('vertical');\n        }\n        else {\n            this.el.classList.remove('horizontal');\n            this.el.classList.add('vertical');\n        }\n        this.el.classList.toggle('debug', DEBUG);\n        this.layout();\n    }\n    onPointerStart(event, pointerEventFactory) {\n        EventHelper.stop(event);\n        let isMultisashResize = false;\n        if (!event.__orthogonalSashEvent) {\n            const orthogonalSash = this.getOrthogonalSash(event);\n            if (orthogonalSash) {\n                isMultisashResize = true;\n                event.__orthogonalSashEvent = true;\n                orthogonalSash.onPointerStart(event, new OrthogonalPointerEventFactory(pointerEventFactory));\n            }\n        }\n        if (this.linkedSash && !event.__linkedSashEvent) {\n            event.__linkedSashEvent = true;\n            this.linkedSash.onPointerStart(event, new OrthogonalPointerEventFactory(pointerEventFactory));\n        }\n        if (!this.state) {\n            return;\n        }\n        const iframes = document.getElementsByTagName('iframe');\n        for (const iframe of iframes) {\n            iframe.classList.add(PointerEventsDisabledCssClass); // disable mouse events on iframes as long as we drag the sash\n        }\n        const startX = event.pageX;\n        const startY = event.pageY;\n        const altKey = event.altKey;\n        const startEvent = { startX, currentX: startX, startY, currentY: startY, altKey };\n        this.el.classList.add('active');\n        this._onDidStart.fire(startEvent);\n        // fix https://github.com/microsoft/vscode/issues/21675\n        const style = createStyleSheet(this.el);\n        const updateStyle = () => {\n            let cursor = '';\n            if (isMultisashResize) {\n                cursor = 'all-scroll';\n            }\n            else if (this.orientation === 1 /* Orientation.HORIZONTAL */) {\n                if (this.state === 1 /* SashState.AtMinimum */) {\n                    cursor = 's-resize';\n                }\n                else if (this.state === 2 /* SashState.AtMaximum */) {\n                    cursor = 'n-resize';\n                }\n                else {\n                    cursor = isMacintosh ? 'row-resize' : 'ns-resize';\n                }\n            }\n            else {\n                if (this.state === 1 /* SashState.AtMinimum */) {\n                    cursor = 'e-resize';\n                }\n                else if (this.state === 2 /* SashState.AtMaximum */) {\n                    cursor = 'w-resize';\n                }\n                else {\n                    cursor = isMacintosh ? 'col-resize' : 'ew-resize';\n                }\n            }\n            style.textContent = `* { cursor: ${cursor} !important; }`;\n        };\n        const disposables = new DisposableStore();\n        updateStyle();\n        if (!isMultisashResize) {\n            this.onDidEnablementChange.event(updateStyle, null, disposables);\n        }\n        const onPointerMove = (e) => {\n            EventHelper.stop(e, false);\n            const event = { startX, currentX: e.pageX, startY, currentY: e.pageY, altKey };\n            this._onDidChange.fire(event);\n        };\n        const onPointerUp = (e) => {\n            EventHelper.stop(e, false);\n            this.el.removeChild(style);\n            this.el.classList.remove('active');\n            this._onDidEnd.fire();\n            disposables.dispose();\n            for (const iframe of iframes) {\n                iframe.classList.remove(PointerEventsDisabledCssClass);\n            }\n        };\n        pointerEventFactory.onPointerMove(onPointerMove, null, disposables);\n        pointerEventFactory.onPointerUp(onPointerUp, null, disposables);\n        disposables.add(pointerEventFactory);\n    }\n    onPointerDoublePress(e) {\n        const orthogonalSash = this.getOrthogonalSash(e);\n        if (orthogonalSash) {\n            orthogonalSash._onDidReset.fire();\n        }\n        if (this.linkedSash) {\n            this.linkedSash._onDidReset.fire();\n        }\n        this._onDidReset.fire();\n    }\n    static onMouseEnter(sash, fromLinkedSash = false) {\n        if (sash.el.classList.contains('active')) {\n            sash.hoverDelayer.cancel();\n            sash.el.classList.add('hover');\n        }\n        else {\n            sash.hoverDelayer.trigger(() => sash.el.classList.add('hover'), sash.hoverDelay).then(undefined, () => { });\n        }\n        if (!fromLinkedSash && sash.linkedSash) {\n            Sash.onMouseEnter(sash.linkedSash, true);\n        }\n    }\n    static onMouseLeave(sash, fromLinkedSash = false) {\n        sash.hoverDelayer.cancel();\n        sash.el.classList.remove('hover');\n        if (!fromLinkedSash && sash.linkedSash) {\n            Sash.onMouseLeave(sash.linkedSash, true);\n        }\n    }\n    /**\n     * Forcefully stop any user interactions with this sash.\n     * Useful when hiding a parent component, while the user is still\n     * interacting with the sash.\n     */\n    clearSashHoverState() {\n        Sash.onMouseLeave(this);\n    }\n    /**\n     * Layout the sash. The sash will size and position itself\n     * based on its provided {@link ISashLayoutProvider layout provider}.\n     */\n    layout() {\n        if (this.orientation === 0 /* Orientation.VERTICAL */) {\n            const verticalProvider = this.layoutProvider;\n            this.el.style.left = verticalProvider.getVerticalSashLeft(this) - (this.size / 2) + 'px';\n            if (verticalProvider.getVerticalSashTop) {\n                this.el.style.top = verticalProvider.getVerticalSashTop(this) + 'px';\n            }\n            if (verticalProvider.getVerticalSashHeight) {\n                this.el.style.height = verticalProvider.getVerticalSashHeight(this) + 'px';\n            }\n        }\n        else {\n            const horizontalProvider = this.layoutProvider;\n            this.el.style.top = horizontalProvider.getHorizontalSashTop(this) - (this.size / 2) + 'px';\n            if (horizontalProvider.getHorizontalSashLeft) {\n                this.el.style.left = horizontalProvider.getHorizontalSashLeft(this) + 'px';\n            }\n            if (horizontalProvider.getHorizontalSashWidth) {\n                this.el.style.width = horizontalProvider.getHorizontalSashWidth(this) + 'px';\n            }\n        }\n    }\n    getOrthogonalSash(e) {\n        var _a;\n        const target = (_a = e.initialTarget) !== null && _a !== void 0 ? _a : e.target;\n        if (!target || !(target instanceof HTMLElement)) {\n            return undefined;\n        }\n        if (target.classList.contains('orthogonal-drag-handle')) {\n            return target.classList.contains('start') ? this.orthogonalStartSash : this.orthogonalEndSash;\n        }\n        return undefined;\n    }\n    dispose() {\n        super.dispose();\n        this.el.remove();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { GlobalPointerMoveMonitor } from '../../globalPointerMoveMonitor.js';\nimport { Widget } from '../widget.js';\nimport { IntervalTimer, TimeoutTimer } from '../../../common/async.js';\nimport { ThemeIcon } from '../../../common/themables.js';\nimport * as dom from '../../dom.js';\n/**\n * The arrow image size.\n */\nexport const ARROW_IMG_SIZE = 11;\nexport class ScrollbarArrow extends Widget {\n    constructor(opts) {\n        super();\n        this._onActivate = opts.onActivate;\n        this.bgDomNode = document.createElement('div');\n        this.bgDomNode.className = 'arrow-background';\n        this.bgDomNode.style.position = 'absolute';\n        this.bgDomNode.style.width = opts.bgWidth + 'px';\n        this.bgDomNode.style.height = opts.bgHeight + 'px';\n        if (typeof opts.top !== 'undefined') {\n            this.bgDomNode.style.top = '0px';\n        }\n        if (typeof opts.left !== 'undefined') {\n            this.bgDomNode.style.left = '0px';\n        }\n        if (typeof opts.bottom !== 'undefined') {\n            this.bgDomNode.style.bottom = '0px';\n        }\n        if (typeof opts.right !== 'undefined') {\n            this.bgDomNode.style.right = '0px';\n        }\n        this.domNode = document.createElement('div');\n        this.domNode.className = opts.className;\n        this.domNode.classList.add(...ThemeIcon.asClassNameArray(opts.icon));\n        this.domNode.style.position = 'absolute';\n        this.domNode.style.width = ARROW_IMG_SIZE + 'px';\n        this.domNode.style.height = ARROW_IMG_SIZE + 'px';\n        if (typeof opts.top !== 'undefined') {\n            this.domNode.style.top = opts.top + 'px';\n        }\n        if (typeof opts.left !== 'undefined') {\n            this.domNode.style.left = opts.left + 'px';\n        }\n        if (typeof opts.bottom !== 'undefined') {\n            this.domNode.style.bottom = opts.bottom + 'px';\n        }\n        if (typeof opts.right !== 'undefined') {\n            this.domNode.style.right = opts.right + 'px';\n        }\n        this._pointerMoveMonitor = this._register(new GlobalPointerMoveMonitor());\n        this._register(dom.addStandardDisposableListener(this.bgDomNode, dom.EventType.POINTER_DOWN, (e) => this._arrowPointerDown(e)));\n        this._register(dom.addStandardDisposableListener(this.domNode, dom.EventType.POINTER_DOWN, (e) => this._arrowPointerDown(e)));\n        this._pointerdownRepeatTimer = this._register(new IntervalTimer());\n        this._pointerdownScheduleRepeatTimer = this._register(new TimeoutTimer());\n    }\n    _arrowPointerDown(e) {\n        if (!e.target || !(e.target instanceof Element)) {\n            return;\n        }\n        const scheduleRepeater = () => {\n            this._pointerdownRepeatTimer.cancelAndSet(() => this._onActivate(), 1000 / 24);\n        };\n        this._onActivate();\n        this._pointerdownRepeatTimer.cancel();\n        this._pointerdownScheduleRepeatTimer.cancelAndSet(scheduleRepeater, 200);\n        this._pointerMoveMonitor.startMonitoring(e.target, e.pointerId, e.buttons, (pointerMoveData) => { }, () => {\n            this._pointerdownRepeatTimer.cancel();\n            this._pointerdownScheduleRepeatTimer.cancel();\n        });\n        e.preventDefault();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { TimeoutTimer } from '../../../common/async.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nexport class ScrollbarVisibilityController extends Disposable {\n    constructor(visibility, visibleClassName, invisibleClassName) {\n        super();\n        this._visibility = visibility;\n        this._visibleClassName = visibleClassName;\n        this._invisibleClassName = invisibleClassName;\n        this._domNode = null;\n        this._isVisible = false;\n        this._isNeeded = false;\n        this._rawShouldBeVisible = false;\n        this._shouldBeVisible = false;\n        this._revealTimer = this._register(new TimeoutTimer());\n    }\n    setVisibility(visibility) {\n        if (this._visibility !== visibility) {\n            this._visibility = visibility;\n            this._updateShouldBeVisible();\n        }\n    }\n    // ----------------- Hide / Reveal\n    setShouldBeVisible(rawShouldBeVisible) {\n        this._rawShouldBeVisible = rawShouldBeVisible;\n        this._updateShouldBeVisible();\n    }\n    _applyVisibilitySetting() {\n        if (this._visibility === 2 /* ScrollbarVisibility.Hidden */) {\n            return false;\n        }\n        if (this._visibility === 3 /* ScrollbarVisibility.Visible */) {\n            return true;\n        }\n        return this._rawShouldBeVisible;\n    }\n    _updateShouldBeVisible() {\n        const shouldBeVisible = this._applyVisibilitySetting();\n        if (this._shouldBeVisible !== shouldBeVisible) {\n            this._shouldBeVisible = shouldBeVisible;\n            this.ensureVisibility();\n        }\n    }\n    setIsNeeded(isNeeded) {\n        if (this._isNeeded !== isNeeded) {\n            this._isNeeded = isNeeded;\n            this.ensureVisibility();\n        }\n    }\n    setDomNode(domNode) {\n        this._domNode = domNode;\n        this._domNode.setClassName(this._invisibleClassName);\n        // Now that the flags & the dom node are in a consistent state, ensure the Hidden/Visible configuration\n        this.setShouldBeVisible(false);\n    }\n    ensureVisibility() {\n        if (!this._isNeeded) {\n            // Nothing to be rendered\n            this._hide(false);\n            return;\n        }\n        if (this._shouldBeVisible) {\n            this._reveal();\n        }\n        else {\n            this._hide(true);\n        }\n    }\n    _reveal() {\n        if (this._isVisible) {\n            return;\n        }\n        this._isVisible = true;\n        // The CSS animation doesn't play otherwise\n        this._revealTimer.setIfNotSet(() => {\n            var _a;\n            (_a = this._domNode) === null || _a === void 0 ? void 0 : _a.setClassName(this._visibleClassName);\n        }, 0);\n    }\n    _hide(withFadeAway) {\n        var _a;\n        this._revealTimer.cancel();\n        if (!this._isVisible) {\n            return;\n        }\n        this._isVisible = false;\n        (_a = this._domNode) === null || _a === void 0 ? void 0 : _a.setClassName(this._invisibleClassName + (withFadeAway ? ' fade' : ''));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { createFastDomNode } from '../../fastDomNode.js';\nimport { GlobalPointerMoveMonitor } from '../../globalPointerMoveMonitor.js';\nimport { ScrollbarArrow } from './scrollbarArrow.js';\nimport { ScrollbarVisibilityController } from './scrollbarVisibilityController.js';\nimport { Widget } from '../widget.js';\nimport * as platform from '../../../common/platform.js';\n/**\n * The orthogonal distance to the slider at which dragging \"resets\". This implements \"snapping\"\n */\nconst POINTER_DRAG_RESET_DISTANCE = 140;\nexport class AbstractScrollbar extends Widget {\n    constructor(opts) {\n        super();\n        this._lazyRender = opts.lazyRender;\n        this._host = opts.host;\n        this._scrollable = opts.scrollable;\n        this._scrollByPage = opts.scrollByPage;\n        this._scrollbarState = opts.scrollbarState;\n        this._visibilityController = this._register(new ScrollbarVisibilityController(opts.visibility, 'visible scrollbar ' + opts.extraScrollbarClassName, 'invisible scrollbar ' + opts.extraScrollbarClassName));\n        this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded());\n        this._pointerMoveMonitor = this._register(new GlobalPointerMoveMonitor());\n        this._shouldRender = true;\n        this.domNode = createFastDomNode(document.createElement('div'));\n        this.domNode.setAttribute('role', 'presentation');\n        this.domNode.setAttribute('aria-hidden', 'true');\n        this._visibilityController.setDomNode(this.domNode);\n        this.domNode.setPosition('absolute');\n        this._register(dom.addDisposableListener(this.domNode.domNode, dom.EventType.POINTER_DOWN, (e) => this._domNodePointerDown(e)));\n    }\n    // ----------------- creation\n    /**\n     * Creates the dom node for an arrow & adds it to the container\n     */\n    _createArrow(opts) {\n        const arrow = this._register(new ScrollbarArrow(opts));\n        this.domNode.domNode.appendChild(arrow.bgDomNode);\n        this.domNode.domNode.appendChild(arrow.domNode);\n    }\n    /**\n     * Creates the slider dom node, adds it to the container & hooks up the events\n     */\n    _createSlider(top, left, width, height) {\n        this.slider = createFastDomNode(document.createElement('div'));\n        this.slider.setClassName('slider');\n        this.slider.setPosition('absolute');\n        this.slider.setTop(top);\n        this.slider.setLeft(left);\n        if (typeof width === 'number') {\n            this.slider.setWidth(width);\n        }\n        if (typeof height === 'number') {\n            this.slider.setHeight(height);\n        }\n        this.slider.setLayerHinting(true);\n        this.slider.setContain('strict');\n        this.domNode.domNode.appendChild(this.slider.domNode);\n        this._register(dom.addDisposableListener(this.slider.domNode, dom.EventType.POINTER_DOWN, (e) => {\n            if (e.button === 0) {\n                e.preventDefault();\n                this._sliderPointerDown(e);\n            }\n        }));\n        this.onclick(this.slider.domNode, e => {\n            if (e.leftButton) {\n                e.stopPropagation();\n            }\n        });\n    }\n    // ----------------- Update state\n    _onElementSize(visibleSize) {\n        if (this._scrollbarState.setVisibleSize(visibleSize)) {\n            this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded());\n            this._shouldRender = true;\n            if (!this._lazyRender) {\n                this.render();\n            }\n        }\n        return this._shouldRender;\n    }\n    _onElementScrollSize(elementScrollSize) {\n        if (this._scrollbarState.setScrollSize(elementScrollSize)) {\n            this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded());\n            this._shouldRender = true;\n            if (!this._lazyRender) {\n                this.render();\n            }\n        }\n        return this._shouldRender;\n    }\n    _onElementScrollPosition(elementScrollPosition) {\n        if (this._scrollbarState.setScrollPosition(elementScrollPosition)) {\n            this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded());\n            this._shouldRender = true;\n            if (!this._lazyRender) {\n                this.render();\n            }\n        }\n        return this._shouldRender;\n    }\n    // ----------------- rendering\n    beginReveal() {\n        this._visibilityController.setShouldBeVisible(true);\n    }\n    beginHide() {\n        this._visibilityController.setShouldBeVisible(false);\n    }\n    render() {\n        if (!this._shouldRender) {\n            return;\n        }\n        this._shouldRender = false;\n        this._renderDomNode(this._scrollbarState.getRectangleLargeSize(), this._scrollbarState.getRectangleSmallSize());\n        this._updateSlider(this._scrollbarState.getSliderSize(), this._scrollbarState.getArrowSize() + this._scrollbarState.getSliderPosition());\n    }\n    // ----------------- DOM events\n    _domNodePointerDown(e) {\n        if (e.target !== this.domNode.domNode) {\n            return;\n        }\n        this._onPointerDown(e);\n    }\n    delegatePointerDown(e) {\n        const domTop = this.domNode.domNode.getClientRects()[0].top;\n        const sliderStart = domTop + this._scrollbarState.getSliderPosition();\n        const sliderStop = domTop + this._scrollbarState.getSliderPosition() + this._scrollbarState.getSliderSize();\n        const pointerPos = this._sliderPointerPosition(e);\n        if (sliderStart <= pointerPos && pointerPos <= sliderStop) {\n            // Act as if it was a pointer down on the slider\n            if (e.button === 0) {\n                e.preventDefault();\n                this._sliderPointerDown(e);\n            }\n        }\n        else {\n            // Act as if it was a pointer down on the scrollbar\n            this._onPointerDown(e);\n        }\n    }\n    _onPointerDown(e) {\n        let offsetX;\n        let offsetY;\n        if (e.target === this.domNode.domNode && typeof e.offsetX === 'number' && typeof e.offsetY === 'number') {\n            offsetX = e.offsetX;\n            offsetY = e.offsetY;\n        }\n        else {\n            const domNodePosition = dom.getDomNodePagePosition(this.domNode.domNode);\n            offsetX = e.pageX - domNodePosition.left;\n            offsetY = e.pageY - domNodePosition.top;\n        }\n        const offset = this._pointerDownRelativePosition(offsetX, offsetY);\n        this._setDesiredScrollPositionNow(this._scrollByPage\n            ? this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(offset)\n            : this._scrollbarState.getDesiredScrollPositionFromOffset(offset));\n        if (e.button === 0) {\n            // left button\n            e.preventDefault();\n            this._sliderPointerDown(e);\n        }\n    }\n    _sliderPointerDown(e) {\n        if (!e.target || !(e.target instanceof Element)) {\n            return;\n        }\n        const initialPointerPosition = this._sliderPointerPosition(e);\n        const initialPointerOrthogonalPosition = this._sliderOrthogonalPointerPosition(e);\n        const initialScrollbarState = this._scrollbarState.clone();\n        this.slider.toggleClassName('active', true);\n        this._pointerMoveMonitor.startMonitoring(e.target, e.pointerId, e.buttons, (pointerMoveData) => {\n            const pointerOrthogonalPosition = this._sliderOrthogonalPointerPosition(pointerMoveData);\n            const pointerOrthogonalDelta = Math.abs(pointerOrthogonalPosition - initialPointerOrthogonalPosition);\n            if (platform.isWindows && pointerOrthogonalDelta > POINTER_DRAG_RESET_DISTANCE) {\n                // The pointer has wondered away from the scrollbar => reset dragging\n                this._setDesiredScrollPositionNow(initialScrollbarState.getScrollPosition());\n                return;\n            }\n            const pointerPosition = this._sliderPointerPosition(pointerMoveData);\n            const pointerDelta = pointerPosition - initialPointerPosition;\n            this._setDesiredScrollPositionNow(initialScrollbarState.getDesiredScrollPositionFromDelta(pointerDelta));\n        }, () => {\n            this.slider.toggleClassName('active', false);\n            this._host.onDragEnd();\n        });\n        this._host.onDragStart();\n    }\n    _setDesiredScrollPositionNow(_desiredScrollPosition) {\n        const desiredScrollPosition = {};\n        this.writeScrollPosition(desiredScrollPosition, _desiredScrollPosition);\n        this._scrollable.setScrollPositionNow(desiredScrollPosition);\n    }\n    updateScrollbarSize(scrollbarSize) {\n        this._updateScrollbarSize(scrollbarSize);\n        this._scrollbarState.setScrollbarSize(scrollbarSize);\n        this._shouldRender = true;\n        if (!this._lazyRender) {\n            this.render();\n        }\n    }\n    isNeeded() {\n        return this._scrollbarState.isNeeded();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/**\n * The minimal size of the slider (such that it can still be clickable) -- it is artificially enlarged.\n */\nconst MINIMUM_SLIDER_SIZE = 20;\nexport class ScrollbarState {\n    constructor(arrowSize, scrollbarSize, oppositeScrollbarSize, visibleSize, scrollSize, scrollPosition) {\n        this._scrollbarSize = Math.round(scrollbarSize);\n        this._oppositeScrollbarSize = Math.round(oppositeScrollbarSize);\n        this._arrowSize = Math.round(arrowSize);\n        this._visibleSize = visibleSize;\n        this._scrollSize = scrollSize;\n        this._scrollPosition = scrollPosition;\n        this._computedAvailableSize = 0;\n        this._computedIsNeeded = false;\n        this._computedSliderSize = 0;\n        this._computedSliderRatio = 0;\n        this._computedSliderPosition = 0;\n        this._refreshComputedValues();\n    }\n    clone() {\n        return new ScrollbarState(this._arrowSize, this._scrollbarSize, this._oppositeScrollbarSize, this._visibleSize, this._scrollSize, this._scrollPosition);\n    }\n    setVisibleSize(visibleSize) {\n        const iVisibleSize = Math.round(visibleSize);\n        if (this._visibleSize !== iVisibleSize) {\n            this._visibleSize = iVisibleSize;\n            this._refreshComputedValues();\n            return true;\n        }\n        return false;\n    }\n    setScrollSize(scrollSize) {\n        const iScrollSize = Math.round(scrollSize);\n        if (this._scrollSize !== iScrollSize) {\n            this._scrollSize = iScrollSize;\n            this._refreshComputedValues();\n            return true;\n        }\n        return false;\n    }\n    setScrollPosition(scrollPosition) {\n        const iScrollPosition = Math.round(scrollPosition);\n        if (this._scrollPosition !== iScrollPosition) {\n            this._scrollPosition = iScrollPosition;\n            this._refreshComputedValues();\n            return true;\n        }\n        return false;\n    }\n    setScrollbarSize(scrollbarSize) {\n        this._scrollbarSize = Math.round(scrollbarSize);\n    }\n    setOppositeScrollbarSize(oppositeScrollbarSize) {\n        this._oppositeScrollbarSize = Math.round(oppositeScrollbarSize);\n    }\n    static _computeValues(oppositeScrollbarSize, arrowSize, visibleSize, scrollSize, scrollPosition) {\n        const computedAvailableSize = Math.max(0, visibleSize - oppositeScrollbarSize);\n        const computedRepresentableSize = Math.max(0, computedAvailableSize - 2 * arrowSize);\n        const computedIsNeeded = (scrollSize > 0 && scrollSize > visibleSize);\n        if (!computedIsNeeded) {\n            // There is no need for a slider\n            return {\n                computedAvailableSize: Math.round(computedAvailableSize),\n                computedIsNeeded: computedIsNeeded,\n                computedSliderSize: Math.round(computedRepresentableSize),\n                computedSliderRatio: 0,\n                computedSliderPosition: 0,\n            };\n        }\n        // We must artificially increase the size of the slider if needed, since the slider would be too small to grab with the mouse otherwise\n        const computedSliderSize = Math.round(Math.max(MINIMUM_SLIDER_SIZE, Math.floor(visibleSize * computedRepresentableSize / scrollSize)));\n        // The slider can move from 0 to `computedRepresentableSize` - `computedSliderSize`\n        // in the same way `scrollPosition` can move from 0 to `scrollSize` - `visibleSize`.\n        const computedSliderRatio = (computedRepresentableSize - computedSliderSize) / (scrollSize - visibleSize);\n        const computedSliderPosition = (scrollPosition * computedSliderRatio);\n        return {\n            computedAvailableSize: Math.round(computedAvailableSize),\n            computedIsNeeded: computedIsNeeded,\n            computedSliderSize: Math.round(computedSliderSize),\n            computedSliderRatio: computedSliderRatio,\n            computedSliderPosition: Math.round(computedSliderPosition),\n        };\n    }\n    _refreshComputedValues() {\n        const r = ScrollbarState._computeValues(this._oppositeScrollbarSize, this._arrowSize, this._visibleSize, this._scrollSize, this._scrollPosition);\n        this._computedAvailableSize = r.computedAvailableSize;\n        this._computedIsNeeded = r.computedIsNeeded;\n        this._computedSliderSize = r.computedSliderSize;\n        this._computedSliderRatio = r.computedSliderRatio;\n        this._computedSliderPosition = r.computedSliderPosition;\n    }\n    getArrowSize() {\n        return this._arrowSize;\n    }\n    getScrollPosition() {\n        return this._scrollPosition;\n    }\n    getRectangleLargeSize() {\n        return this._computedAvailableSize;\n    }\n    getRectangleSmallSize() {\n        return this._scrollbarSize;\n    }\n    isNeeded() {\n        return this._computedIsNeeded;\n    }\n    getSliderSize() {\n        return this._computedSliderSize;\n    }\n    getSliderPosition() {\n        return this._computedSliderPosition;\n    }\n    /**\n     * Compute a desired `scrollPosition` such that `offset` ends up in the center of the slider.\n     * `offset` is based on the same coordinate system as the `sliderPosition`.\n     */\n    getDesiredScrollPositionFromOffset(offset) {\n        if (!this._computedIsNeeded) {\n            // no need for a slider\n            return 0;\n        }\n        const desiredSliderPosition = offset - this._arrowSize - this._computedSliderSize / 2;\n        return Math.round(desiredSliderPosition / this._computedSliderRatio);\n    }\n    /**\n     * Compute a desired `scrollPosition` from if offset is before or after the slider position.\n     * If offset is before slider, treat as a page up (or left).  If after, page down (or right).\n     * `offset` and `_computedSliderPosition` are based on the same coordinate system.\n     * `_visibleSize` corresponds to a \"page\" of lines in the returned coordinate system.\n     */\n    getDesiredScrollPositionFromOffsetPaged(offset) {\n        if (!this._computedIsNeeded) {\n            // no need for a slider\n            return 0;\n        }\n        const correctedOffset = offset - this._arrowSize; // compensate if has arrows\n        let desiredScrollPosition = this._scrollPosition;\n        if (correctedOffset < this._computedSliderPosition) {\n            desiredScrollPosition -= this._visibleSize; // page up/left\n        }\n        else {\n            desiredScrollPosition += this._visibleSize; // page down/right\n        }\n        return desiredScrollPosition;\n    }\n    /**\n     * Compute a desired `scrollPosition` such that the slider moves by `delta`.\n     */\n    getDesiredScrollPositionFromDelta(delta) {\n        if (!this._computedIsNeeded) {\n            // no need for a slider\n            return 0;\n        }\n        const desiredSliderPosition = this._computedSliderPosition + delta;\n        return Math.round(desiredSliderPosition / this._computedSliderRatio);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { StandardWheelEvent } from '../../mouseEvent.js';\nimport { AbstractScrollbar } from './abstractScrollbar.js';\nimport { ARROW_IMG_SIZE } from './scrollbarArrow.js';\nimport { ScrollbarState } from './scrollbarState.js';\nimport { Codicon } from '../../../common/codicons.js';\nexport class HorizontalScrollbar extends AbstractScrollbar {\n    constructor(scrollable, options, host) {\n        const scrollDimensions = scrollable.getScrollDimensions();\n        const scrollPosition = scrollable.getCurrentScrollPosition();\n        super({\n            lazyRender: options.lazyRender,\n            host: host,\n            scrollbarState: new ScrollbarState((options.horizontalHasArrows ? options.arrowSize : 0), (options.horizontal === 2 /* ScrollbarVisibility.Hidden */ ? 0 : options.horizontalScrollbarSize), (options.vertical === 2 /* ScrollbarVisibility.Hidden */ ? 0 : options.verticalScrollbarSize), scrollDimensions.width, scrollDimensions.scrollWidth, scrollPosition.scrollLeft),\n            visibility: options.horizontal,\n            extraScrollbarClassName: 'horizontal',\n            scrollable: scrollable,\n            scrollByPage: options.scrollByPage\n        });\n        if (options.horizontalHasArrows) {\n            const arrowDelta = (options.arrowSize - ARROW_IMG_SIZE) / 2;\n            const scrollbarDelta = (options.horizontalScrollbarSize - ARROW_IMG_SIZE) / 2;\n            this._createArrow({\n                className: 'scra',\n                icon: Codicon.scrollbarButtonLeft,\n                top: scrollbarDelta,\n                left: arrowDelta,\n                bottom: undefined,\n                right: undefined,\n                bgWidth: options.arrowSize,\n                bgHeight: options.horizontalScrollbarSize,\n                onActivate: () => this._host.onMouseWheel(new StandardWheelEvent(null, 1, 0)),\n            });\n            this._createArrow({\n                className: 'scra',\n                icon: Codicon.scrollbarButtonRight,\n                top: scrollbarDelta,\n                left: undefined,\n                bottom: undefined,\n                right: arrowDelta,\n                bgWidth: options.arrowSize,\n                bgHeight: options.horizontalScrollbarSize,\n                onActivate: () => this._host.onMouseWheel(new StandardWheelEvent(null, -1, 0)),\n            });\n        }\n        this._createSlider(Math.floor((options.horizontalScrollbarSize - options.horizontalSliderSize) / 2), 0, undefined, options.horizontalSliderSize);\n    }\n    _updateSlider(sliderSize, sliderPosition) {\n        this.slider.setWidth(sliderSize);\n        this.slider.setLeft(sliderPosition);\n    }\n    _renderDomNode(largeSize, smallSize) {\n        this.domNode.setWidth(largeSize);\n        this.domNode.setHeight(smallSize);\n        this.domNode.setLeft(0);\n        this.domNode.setBottom(0);\n    }\n    onDidScroll(e) {\n        this._shouldRender = this._onElementScrollSize(e.scrollWidth) || this._shouldRender;\n        this._shouldRender = this._onElementScrollPosition(e.scrollLeft) || this._shouldRender;\n        this._shouldRender = this._onElementSize(e.width) || this._shouldRender;\n        return this._shouldRender;\n    }\n    _pointerDownRelativePosition(offsetX, offsetY) {\n        return offsetX;\n    }\n    _sliderPointerPosition(e) {\n        return e.pageX;\n    }\n    _sliderOrthogonalPointerPosition(e) {\n        return e.pageY;\n    }\n    _updateScrollbarSize(size) {\n        this.slider.setHeight(size);\n    }\n    writeScrollPosition(target, scrollPosition) {\n        target.scrollLeft = scrollPosition;\n    }\n    updateOptions(options) {\n        this.updateScrollbarSize(options.horizontal === 2 /* ScrollbarVisibility.Hidden */ ? 0 : options.horizontalScrollbarSize);\n        this._scrollbarState.setOppositeScrollbarSize(options.vertical === 2 /* ScrollbarVisibility.Hidden */ ? 0 : options.verticalScrollbarSize);\n        this._visibilityController.setVisibility(options.horizontal);\n        this._scrollByPage = options.scrollByPage;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { StandardWheelEvent } from '../../mouseEvent.js';\nimport { AbstractScrollbar } from './abstractScrollbar.js';\nimport { ARROW_IMG_SIZE } from './scrollbarArrow.js';\nimport { ScrollbarState } from './scrollbarState.js';\nimport { Codicon } from '../../../common/codicons.js';\nexport class VerticalScrollbar extends AbstractScrollbar {\n    constructor(scrollable, options, host) {\n        const scrollDimensions = scrollable.getScrollDimensions();\n        const scrollPosition = scrollable.getCurrentScrollPosition();\n        super({\n            lazyRender: options.lazyRender,\n            host: host,\n            scrollbarState: new ScrollbarState((options.verticalHasArrows ? options.arrowSize : 0), (options.vertical === 2 /* ScrollbarVisibility.Hidden */ ? 0 : options.verticalScrollbarSize), \n            // give priority to vertical scroll bar over horizontal and let it scroll all the way to the bottom\n            0, scrollDimensions.height, scrollDimensions.scrollHeight, scrollPosition.scrollTop),\n            visibility: options.vertical,\n            extraScrollbarClassName: 'vertical',\n            scrollable: scrollable,\n            scrollByPage: options.scrollByPage\n        });\n        if (options.verticalHasArrows) {\n            const arrowDelta = (options.arrowSize - ARROW_IMG_SIZE) / 2;\n            const scrollbarDelta = (options.verticalScrollbarSize - ARROW_IMG_SIZE) / 2;\n            this._createArrow({\n                className: 'scra',\n                icon: Codicon.scrollbarButtonUp,\n                top: arrowDelta,\n                left: scrollbarDelta,\n                bottom: undefined,\n                right: undefined,\n                bgWidth: options.verticalScrollbarSize,\n                bgHeight: options.arrowSize,\n                onActivate: () => this._host.onMouseWheel(new StandardWheelEvent(null, 0, 1)),\n            });\n            this._createArrow({\n                className: 'scra',\n                icon: Codicon.scrollbarButtonDown,\n                top: undefined,\n                left: scrollbarDelta,\n                bottom: arrowDelta,\n                right: undefined,\n                bgWidth: options.verticalScrollbarSize,\n                bgHeight: options.arrowSize,\n                onActivate: () => this._host.onMouseWheel(new StandardWheelEvent(null, 0, -1)),\n            });\n        }\n        this._createSlider(0, Math.floor((options.verticalScrollbarSize - options.verticalSliderSize) / 2), options.verticalSliderSize, undefined);\n    }\n    _updateSlider(sliderSize, sliderPosition) {\n        this.slider.setHeight(sliderSize);\n        this.slider.setTop(sliderPosition);\n    }\n    _renderDomNode(largeSize, smallSize) {\n        this.domNode.setWidth(smallSize);\n        this.domNode.setHeight(largeSize);\n        this.domNode.setRight(0);\n        this.domNode.setTop(0);\n    }\n    onDidScroll(e) {\n        this._shouldRender = this._onElementScrollSize(e.scrollHeight) || this._shouldRender;\n        this._shouldRender = this._onElementScrollPosition(e.scrollTop) || this._shouldRender;\n        this._shouldRender = this._onElementSize(e.height) || this._shouldRender;\n        return this._shouldRender;\n    }\n    _pointerDownRelativePosition(offsetX, offsetY) {\n        return offsetY;\n    }\n    _sliderPointerPosition(e) {\n        return e.pageY;\n    }\n    _sliderOrthogonalPointerPosition(e) {\n        return e.pageX;\n    }\n    _updateScrollbarSize(size) {\n        this.slider.setWidth(size);\n    }\n    writeScrollPosition(target, scrollPosition) {\n        target.scrollTop = scrollPosition;\n    }\n    updateOptions(options) {\n        this.updateScrollbarSize(options.vertical === 2 /* ScrollbarVisibility.Hidden */ ? 0 : options.verticalScrollbarSize);\n        // give priority to vertical scroll bar over horizontal and let it scroll all the way to the bottom\n        this._scrollbarState.setOppositeScrollbarSize(0);\n        this._visibilityController.setVisibility(options.vertical);\n        this._scrollByPage = options.scrollByPage;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { getZoomFactor } from '../../browser.js';\nimport * as dom from '../../dom.js';\nimport { createFastDomNode } from '../../fastDomNode.js';\nimport { StandardWheelEvent } from '../../mouseEvent.js';\nimport { HorizontalScrollbar } from './horizontalScrollbar.js';\nimport { VerticalScrollbar } from './verticalScrollbar.js';\nimport { Widget } from '../widget.js';\nimport { TimeoutTimer } from '../../../common/async.js';\nimport { Emitter } from '../../../common/event.js';\nimport { dispose } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { Scrollable } from '../../../common/scrollable.js';\nimport './media/scrollbars.css';\nconst HIDE_TIMEOUT = 500;\nconst SCROLL_WHEEL_SENSITIVITY = 50;\nconst SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED = true;\nclass MouseWheelClassifierItem {\n    constructor(timestamp, deltaX, deltaY) {\n        this.timestamp = timestamp;\n        this.deltaX = deltaX;\n        this.deltaY = deltaY;\n        this.score = 0;\n    }\n}\nclass MouseWheelClassifier {\n    constructor() {\n        this._capacity = 5;\n        this._memory = [];\n        this._front = -1;\n        this._rear = -1;\n    }\n    isPhysicalMouseWheel() {\n        if (this._front === -1 && this._rear === -1) {\n            // no elements\n            return false;\n        }\n        // 0.5 * last + 0.25 * 2nd last + 0.125 * 3rd last + ...\n        let remainingInfluence = 1;\n        let score = 0;\n        let iteration = 1;\n        let index = this._rear;\n        do {\n            const influence = (index === this._front ? remainingInfluence : Math.pow(2, -iteration));\n            remainingInfluence -= influence;\n            score += this._memory[index].score * influence;\n            if (index === this._front) {\n                break;\n            }\n            index = (this._capacity + index - 1) % this._capacity;\n            iteration++;\n        } while (true);\n        return (score <= 0.5);\n    }\n    acceptStandardWheelEvent(e) {\n        const osZoomFactor = window.devicePixelRatio / getZoomFactor();\n        if (platform.isWindows || platform.isLinux) {\n            // On Windows and Linux, the incoming delta events are multiplied with the OS zoom factor.\n            // The OS zoom factor can be reverse engineered by using the device pixel ratio and the configured zoom factor into account.\n            this.accept(Date.now(), e.deltaX / osZoomFactor, e.deltaY / osZoomFactor);\n        }\n        else {\n            this.accept(Date.now(), e.deltaX, e.deltaY);\n        }\n    }\n    accept(timestamp, deltaX, deltaY) {\n        const item = new MouseWheelClassifierItem(timestamp, deltaX, deltaY);\n        item.score = this._computeScore(item);\n        if (this._front === -1 && this._rear === -1) {\n            this._memory[0] = item;\n            this._front = 0;\n            this._rear = 0;\n        }\n        else {\n            this._rear = (this._rear + 1) % this._capacity;\n            if (this._rear === this._front) {\n                // Drop oldest\n                this._front = (this._front + 1) % this._capacity;\n            }\n            this._memory[this._rear] = item;\n        }\n    }\n    /**\n     * A score between 0 and 1 for `item`.\n     *  - a score towards 0 indicates that the source appears to be a physical mouse wheel\n     *  - a score towards 1 indicates that the source appears to be a touchpad or magic mouse, etc.\n     */\n    _computeScore(item) {\n        if (Math.abs(item.deltaX) > 0 && Math.abs(item.deltaY) > 0) {\n            // both axes exercised => definitely not a physical mouse wheel\n            return 1;\n        }\n        let score = 0.5;\n        const prev = (this._front === -1 && this._rear === -1 ? null : this._memory[this._rear]);\n        if (prev) {\n            // const deltaT = item.timestamp - prev.timestamp;\n            // if (deltaT < 1000 / 30) {\n            // \t// sooner than X times per second => indicator that this is not a physical mouse wheel\n            // \tscore += 0.25;\n            // }\n            // if (item.deltaX === prev.deltaX && item.deltaY === prev.deltaY) {\n            // \t// equal amplitude => indicator that this is a physical mouse wheel\n            // \tscore -= 0.25;\n            // }\n        }\n        if (!this._isAlmostInt(item.deltaX) || !this._isAlmostInt(item.deltaY)) {\n            // non-integer deltas => indicator that this is not a physical mouse wheel\n            score += 0.25;\n        }\n        return Math.min(Math.max(score, 0), 1);\n    }\n    _isAlmostInt(value) {\n        const delta = Math.abs(Math.round(value) - value);\n        return (delta < 0.01);\n    }\n}\nMouseWheelClassifier.INSTANCE = new MouseWheelClassifier();\nexport { MouseWheelClassifier };\nexport class AbstractScrollableElement extends Widget {\n    get options() {\n        return this._options;\n    }\n    constructor(element, options, scrollable) {\n        super();\n        this._onScroll = this._register(new Emitter());\n        this.onScroll = this._onScroll.event;\n        this._onWillScroll = this._register(new Emitter());\n        element.style.overflow = 'hidden';\n        this._options = resolveOptions(options);\n        this._scrollable = scrollable;\n        this._register(this._scrollable.onScroll((e) => {\n            this._onWillScroll.fire(e);\n            this._onDidScroll(e);\n            this._onScroll.fire(e);\n        }));\n        const scrollbarHost = {\n            onMouseWheel: (mouseWheelEvent) => this._onMouseWheel(mouseWheelEvent),\n            onDragStart: () => this._onDragStart(),\n            onDragEnd: () => this._onDragEnd(),\n        };\n        this._verticalScrollbar = this._register(new VerticalScrollbar(this._scrollable, this._options, scrollbarHost));\n        this._horizontalScrollbar = this._register(new HorizontalScrollbar(this._scrollable, this._options, scrollbarHost));\n        this._domNode = document.createElement('div');\n        this._domNode.className = 'monaco-scrollable-element ' + this._options.className;\n        this._domNode.setAttribute('role', 'presentation');\n        this._domNode.style.position = 'relative';\n        this._domNode.style.overflow = 'hidden';\n        this._domNode.appendChild(element);\n        this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode);\n        this._domNode.appendChild(this._verticalScrollbar.domNode.domNode);\n        if (this._options.useShadows) {\n            this._leftShadowDomNode = createFastDomNode(document.createElement('div'));\n            this._leftShadowDomNode.setClassName('shadow');\n            this._domNode.appendChild(this._leftShadowDomNode.domNode);\n            this._topShadowDomNode = createFastDomNode(document.createElement('div'));\n            this._topShadowDomNode.setClassName('shadow');\n            this._domNode.appendChild(this._topShadowDomNode.domNode);\n            this._topLeftShadowDomNode = createFastDomNode(document.createElement('div'));\n            this._topLeftShadowDomNode.setClassName('shadow');\n            this._domNode.appendChild(this._topLeftShadowDomNode.domNode);\n        }\n        else {\n            this._leftShadowDomNode = null;\n            this._topShadowDomNode = null;\n            this._topLeftShadowDomNode = null;\n        }\n        this._listenOnDomNode = this._options.listenOnDomNode || this._domNode;\n        this._mouseWheelToDispose = [];\n        this._setListeningToMouseWheel(this._options.handleMouseWheel);\n        this.onmouseover(this._listenOnDomNode, (e) => this._onMouseOver(e));\n        this.onmouseleave(this._listenOnDomNode, (e) => this._onMouseLeave(e));\n        this._hideTimeout = this._register(new TimeoutTimer());\n        this._isDragging = false;\n        this._mouseIsOver = false;\n        this._shouldRender = true;\n        this._revealOnScroll = true;\n    }\n    dispose() {\n        this._mouseWheelToDispose = dispose(this._mouseWheelToDispose);\n        super.dispose();\n    }\n    /**\n     * Get the generated 'scrollable' dom node\n     */\n    getDomNode() {\n        return this._domNode;\n    }\n    getOverviewRulerLayoutInfo() {\n        return {\n            parent: this._domNode,\n            insertBefore: this._verticalScrollbar.domNode.domNode,\n        };\n    }\n    /**\n     * Delegate a pointer down event to the vertical scrollbar.\n     * This is to help with clicking somewhere else and having the scrollbar react.\n     */\n    delegateVerticalScrollbarPointerDown(browserEvent) {\n        this._verticalScrollbar.delegatePointerDown(browserEvent);\n    }\n    getScrollDimensions() {\n        return this._scrollable.getScrollDimensions();\n    }\n    setScrollDimensions(dimensions) {\n        this._scrollable.setScrollDimensions(dimensions, false);\n    }\n    /**\n     * Update the class name of the scrollable element.\n     */\n    updateClassName(newClassName) {\n        this._options.className = newClassName;\n        // Defaults are different on Macs\n        if (platform.isMacintosh) {\n            this._options.className += ' mac';\n        }\n        this._domNode.className = 'monaco-scrollable-element ' + this._options.className;\n    }\n    /**\n     * Update configuration options for the scrollbar.\n     */\n    updateOptions(newOptions) {\n        if (typeof newOptions.handleMouseWheel !== 'undefined') {\n            this._options.handleMouseWheel = newOptions.handleMouseWheel;\n            this._setListeningToMouseWheel(this._options.handleMouseWheel);\n        }\n        if (typeof newOptions.mouseWheelScrollSensitivity !== 'undefined') {\n            this._options.mouseWheelScrollSensitivity = newOptions.mouseWheelScrollSensitivity;\n        }\n        if (typeof newOptions.fastScrollSensitivity !== 'undefined') {\n            this._options.fastScrollSensitivity = newOptions.fastScrollSensitivity;\n        }\n        if (typeof newOptions.scrollPredominantAxis !== 'undefined') {\n            this._options.scrollPredominantAxis = newOptions.scrollPredominantAxis;\n        }\n        if (typeof newOptions.horizontal !== 'undefined') {\n            this._options.horizontal = newOptions.horizontal;\n        }\n        if (typeof newOptions.vertical !== 'undefined') {\n            this._options.vertical = newOptions.vertical;\n        }\n        if (typeof newOptions.horizontalScrollbarSize !== 'undefined') {\n            this._options.horizontalScrollbarSize = newOptions.horizontalScrollbarSize;\n        }\n        if (typeof newOptions.verticalScrollbarSize !== 'undefined') {\n            this._options.verticalScrollbarSize = newOptions.verticalScrollbarSize;\n        }\n        if (typeof newOptions.scrollByPage !== 'undefined') {\n            this._options.scrollByPage = newOptions.scrollByPage;\n        }\n        this._horizontalScrollbar.updateOptions(this._options);\n        this._verticalScrollbar.updateOptions(this._options);\n        if (!this._options.lazyRender) {\n            this._render();\n        }\n    }\n    delegateScrollFromMouseWheelEvent(browserEvent) {\n        this._onMouseWheel(new StandardWheelEvent(browserEvent));\n    }\n    // -------------------- mouse wheel scrolling --------------------\n    _setListeningToMouseWheel(shouldListen) {\n        const isListening = (this._mouseWheelToDispose.length > 0);\n        if (isListening === shouldListen) {\n            // No change\n            return;\n        }\n        // Stop listening (if necessary)\n        this._mouseWheelToDispose = dispose(this._mouseWheelToDispose);\n        // Start listening (if necessary)\n        if (shouldListen) {\n            const onMouseWheel = (browserEvent) => {\n                this._onMouseWheel(new StandardWheelEvent(browserEvent));\n            };\n            this._mouseWheelToDispose.push(dom.addDisposableListener(this._listenOnDomNode, dom.EventType.MOUSE_WHEEL, onMouseWheel, { passive: false }));\n        }\n    }\n    _onMouseWheel(e) {\n        const classifier = MouseWheelClassifier.INSTANCE;\n        if (SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED) {\n            classifier.acceptStandardWheelEvent(e);\n        }\n        // console.log(`${Date.now()}, ${e.deltaY}, ${e.deltaX}`);\n        let didScroll = false;\n        if (e.deltaY || e.deltaX) {\n            let deltaY = e.deltaY * this._options.mouseWheelScrollSensitivity;\n            let deltaX = e.deltaX * this._options.mouseWheelScrollSensitivity;\n            if (this._options.scrollPredominantAxis) {\n                if (Math.abs(deltaY) >= Math.abs(deltaX)) {\n                    deltaX = 0;\n                }\n                else {\n                    deltaY = 0;\n                }\n            }\n            if (this._options.flipAxes) {\n                [deltaY, deltaX] = [deltaX, deltaY];\n            }\n            // Convert vertical scrolling to horizontal if shift is held, this\n            // is handled at a higher level on Mac\n            const shiftConvert = !platform.isMacintosh && e.browserEvent && e.browserEvent.shiftKey;\n            if ((this._options.scrollYToX || shiftConvert) && !deltaX) {\n                deltaX = deltaY;\n                deltaY = 0;\n            }\n            if (e.browserEvent && e.browserEvent.altKey) {\n                // fastScrolling\n                deltaX = deltaX * this._options.fastScrollSensitivity;\n                deltaY = deltaY * this._options.fastScrollSensitivity;\n            }\n            const futureScrollPosition = this._scrollable.getFutureScrollPosition();\n            let desiredScrollPosition = {};\n            if (deltaY) {\n                const deltaScrollTop = SCROLL_WHEEL_SENSITIVITY * deltaY;\n                // Here we convert values such as -0.3 to -1 or 0.3 to 1, otherwise low speed scrolling will never scroll\n                const desiredScrollTop = futureScrollPosition.scrollTop - (deltaScrollTop < 0 ? Math.floor(deltaScrollTop) : Math.ceil(deltaScrollTop));\n                this._verticalScrollbar.writeScrollPosition(desiredScrollPosition, desiredScrollTop);\n            }\n            if (deltaX) {\n                const deltaScrollLeft = SCROLL_WHEEL_SENSITIVITY * deltaX;\n                // Here we convert values such as -0.3 to -1 or 0.3 to 1, otherwise low speed scrolling will never scroll\n                const desiredScrollLeft = futureScrollPosition.scrollLeft - (deltaScrollLeft < 0 ? Math.floor(deltaScrollLeft) : Math.ceil(deltaScrollLeft));\n                this._horizontalScrollbar.writeScrollPosition(desiredScrollPosition, desiredScrollLeft);\n            }\n            // Check that we are scrolling towards a location which is valid\n            desiredScrollPosition = this._scrollable.validateScrollPosition(desiredScrollPosition);\n            if (futureScrollPosition.scrollLeft !== desiredScrollPosition.scrollLeft || futureScrollPosition.scrollTop !== desiredScrollPosition.scrollTop) {\n                const canPerformSmoothScroll = (SCROLL_WHEEL_SMOOTH_SCROLL_ENABLED\n                    && this._options.mouseWheelSmoothScroll\n                    && classifier.isPhysicalMouseWheel());\n                if (canPerformSmoothScroll) {\n                    this._scrollable.setScrollPositionSmooth(desiredScrollPosition);\n                }\n                else {\n                    this._scrollable.setScrollPositionNow(desiredScrollPosition);\n                }\n                didScroll = true;\n            }\n        }\n        let consumeMouseWheel = didScroll;\n        if (!consumeMouseWheel && this._options.alwaysConsumeMouseWheel) {\n            consumeMouseWheel = true;\n        }\n        if (!consumeMouseWheel && this._options.consumeMouseWheelIfScrollbarIsNeeded && (this._verticalScrollbar.isNeeded() || this._horizontalScrollbar.isNeeded())) {\n            consumeMouseWheel = true;\n        }\n        if (consumeMouseWheel) {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    }\n    _onDidScroll(e) {\n        this._shouldRender = this._horizontalScrollbar.onDidScroll(e) || this._shouldRender;\n        this._shouldRender = this._verticalScrollbar.onDidScroll(e) || this._shouldRender;\n        if (this._options.useShadows) {\n            this._shouldRender = true;\n        }\n        if (this._revealOnScroll) {\n            this._reveal();\n        }\n        if (!this._options.lazyRender) {\n            this._render();\n        }\n    }\n    /**\n     * Render / mutate the DOM now.\n     * Should be used together with the ctor option `lazyRender`.\n     */\n    renderNow() {\n        if (!this._options.lazyRender) {\n            throw new Error('Please use `lazyRender` together with `renderNow`!');\n        }\n        this._render();\n    }\n    _render() {\n        if (!this._shouldRender) {\n            return;\n        }\n        this._shouldRender = false;\n        this._horizontalScrollbar.render();\n        this._verticalScrollbar.render();\n        if (this._options.useShadows) {\n            const scrollState = this._scrollable.getCurrentScrollPosition();\n            const enableTop = scrollState.scrollTop > 0;\n            const enableLeft = scrollState.scrollLeft > 0;\n            const leftClassName = (enableLeft ? ' left' : '');\n            const topClassName = (enableTop ? ' top' : '');\n            const topLeftClassName = (enableLeft || enableTop ? ' top-left-corner' : '');\n            this._leftShadowDomNode.setClassName(`shadow${leftClassName}`);\n            this._topShadowDomNode.setClassName(`shadow${topClassName}`);\n            this._topLeftShadowDomNode.setClassName(`shadow${topLeftClassName}${topClassName}${leftClassName}`);\n        }\n    }\n    // -------------------- fade in / fade out --------------------\n    _onDragStart() {\n        this._isDragging = true;\n        this._reveal();\n    }\n    _onDragEnd() {\n        this._isDragging = false;\n        this._hide();\n    }\n    _onMouseLeave(e) {\n        this._mouseIsOver = false;\n        this._hide();\n    }\n    _onMouseOver(e) {\n        this._mouseIsOver = true;\n        this._reveal();\n    }\n    _reveal() {\n        this._verticalScrollbar.beginReveal();\n        this._horizontalScrollbar.beginReveal();\n        this._scheduleHide();\n    }\n    _hide() {\n        if (!this._mouseIsOver && !this._isDragging) {\n            this._verticalScrollbar.beginHide();\n            this._horizontalScrollbar.beginHide();\n        }\n    }\n    _scheduleHide() {\n        if (!this._mouseIsOver && !this._isDragging) {\n            this._hideTimeout.cancelAndSet(() => this._hide(), HIDE_TIMEOUT);\n        }\n    }\n}\nexport class ScrollableElement extends AbstractScrollableElement {\n    constructor(element, options) {\n        options = options || {};\n        options.mouseWheelSmoothScroll = false;\n        const scrollable = new Scrollable({\n            forceIntegerValues: true,\n            smoothScrollDuration: 0,\n            scheduleAtNextAnimationFrame: (callback) => dom.scheduleAtNextAnimationFrame(callback)\n        });\n        super(element, options, scrollable);\n        this._register(scrollable);\n    }\n    setScrollPosition(update) {\n        this._scrollable.setScrollPositionNow(update);\n    }\n}\nexport class SmoothScrollableElement extends AbstractScrollableElement {\n    constructor(element, options, scrollable) {\n        super(element, options, scrollable);\n    }\n    setScrollPosition(update) {\n        if (update.reuseAnimation) {\n            this._scrollable.setScrollPositionSmooth(update, update.reuseAnimation);\n        }\n        else {\n            this._scrollable.setScrollPositionNow(update);\n        }\n    }\n    getScrollPosition() {\n        return this._scrollable.getCurrentScrollPosition();\n    }\n}\nexport class DomScrollableElement extends AbstractScrollableElement {\n    constructor(element, options) {\n        options = options || {};\n        options.mouseWheelSmoothScroll = false;\n        const scrollable = new Scrollable({\n            forceIntegerValues: false,\n            smoothScrollDuration: 0,\n            scheduleAtNextAnimationFrame: (callback) => dom.scheduleAtNextAnimationFrame(callback)\n        });\n        super(element, options, scrollable);\n        this._register(scrollable);\n        this._element = element;\n        this.onScroll((e) => {\n            if (e.scrollTopChanged) {\n                this._element.scrollTop = e.scrollTop;\n            }\n            if (e.scrollLeftChanged) {\n                this._element.scrollLeft = e.scrollLeft;\n            }\n        });\n        this.scanDomNode();\n    }\n    setScrollPosition(update) {\n        this._scrollable.setScrollPositionNow(update);\n    }\n    getScrollPosition() {\n        return this._scrollable.getCurrentScrollPosition();\n    }\n    scanDomNode() {\n        // width, scrollLeft, scrollWidth, height, scrollTop, scrollHeight\n        this.setScrollDimensions({\n            width: this._element.clientWidth,\n            scrollWidth: this._element.scrollWidth,\n            height: this._element.clientHeight,\n            scrollHeight: this._element.scrollHeight\n        });\n        this.setScrollPosition({\n            scrollLeft: this._element.scrollLeft,\n            scrollTop: this._element.scrollTop,\n        });\n    }\n}\nfunction resolveOptions(opts) {\n    const result = {\n        lazyRender: (typeof opts.lazyRender !== 'undefined' ? opts.lazyRender : false),\n        className: (typeof opts.className !== 'undefined' ? opts.className : ''),\n        useShadows: (typeof opts.useShadows !== 'undefined' ? opts.useShadows : true),\n        handleMouseWheel: (typeof opts.handleMouseWheel !== 'undefined' ? opts.handleMouseWheel : true),\n        flipAxes: (typeof opts.flipAxes !== 'undefined' ? opts.flipAxes : false),\n        consumeMouseWheelIfScrollbarIsNeeded: (typeof opts.consumeMouseWheelIfScrollbarIsNeeded !== 'undefined' ? opts.consumeMouseWheelIfScrollbarIsNeeded : false),\n        alwaysConsumeMouseWheel: (typeof opts.alwaysConsumeMouseWheel !== 'undefined' ? opts.alwaysConsumeMouseWheel : false),\n        scrollYToX: (typeof opts.scrollYToX !== 'undefined' ? opts.scrollYToX : false),\n        mouseWheelScrollSensitivity: (typeof opts.mouseWheelScrollSensitivity !== 'undefined' ? opts.mouseWheelScrollSensitivity : 1),\n        fastScrollSensitivity: (typeof opts.fastScrollSensitivity !== 'undefined' ? opts.fastScrollSensitivity : 5),\n        scrollPredominantAxis: (typeof opts.scrollPredominantAxis !== 'undefined' ? opts.scrollPredominantAxis : true),\n        mouseWheelSmoothScroll: (typeof opts.mouseWheelSmoothScroll !== 'undefined' ? opts.mouseWheelSmoothScroll : true),\n        arrowSize: (typeof opts.arrowSize !== 'undefined' ? opts.arrowSize : 11),\n        listenOnDomNode: (typeof opts.listenOnDomNode !== 'undefined' ? opts.listenOnDomNode : null),\n        horizontal: (typeof opts.horizontal !== 'undefined' ? opts.horizontal : 1 /* ScrollbarVisibility.Auto */),\n        horizontalScrollbarSize: (typeof opts.horizontalScrollbarSize !== 'undefined' ? opts.horizontalScrollbarSize : 10),\n        horizontalSliderSize: (typeof opts.horizontalSliderSize !== 'undefined' ? opts.horizontalSliderSize : 0),\n        horizontalHasArrows: (typeof opts.horizontalHasArrows !== 'undefined' ? opts.horizontalHasArrows : false),\n        vertical: (typeof opts.vertical !== 'undefined' ? opts.vertical : 1 /* ScrollbarVisibility.Auto */),\n        verticalScrollbarSize: (typeof opts.verticalScrollbarSize !== 'undefined' ? opts.verticalScrollbarSize : 10),\n        verticalHasArrows: (typeof opts.verticalHasArrows !== 'undefined' ? opts.verticalHasArrows : false),\n        verticalSliderSize: (typeof opts.verticalSliderSize !== 'undefined' ? opts.verticalSliderSize : 0),\n        scrollByPage: (typeof opts.scrollByPage !== 'undefined' ? opts.scrollByPage : false)\n    };\n    result.horizontalSliderSize = (typeof opts.horizontalSliderSize !== 'undefined' ? opts.horizontalSliderSize : result.horizontalScrollbarSize);\n    result.verticalSliderSize = (typeof opts.verticalSliderSize !== 'undefined' ? opts.verticalSliderSize : result.verticalScrollbarSize);\n    // Defaults are different on Macs\n    if (platform.isMacintosh) {\n        result.className += ' mac';\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { renderMarkdown } from '../../markdownRenderer.js';\nimport { List } from '../list/listWidget.js';\nimport * as arrays from '../../../common/arrays.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { KeyCodeUtils } from '../../../common/keyCodes.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport { isMacintosh } from '../../../common/platform.js';\nimport './selectBoxCustom.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nconst SELECT_OPTION_ENTRY_TEMPLATE_ID = 'selectOption.entry.template';\nclass SelectListRenderer {\n    get templateId() { return SELECT_OPTION_ENTRY_TEMPLATE_ID; }\n    renderTemplate(container) {\n        const data = Object.create(null);\n        data.root = container;\n        data.text = dom.append(container, $('.option-text'));\n        data.detail = dom.append(container, $('.option-detail'));\n        data.decoratorRight = dom.append(container, $('.option-decorator-right'));\n        return data;\n    }\n    renderElement(element, index, templateData) {\n        const data = templateData;\n        const text = element.text;\n        const detail = element.detail;\n        const decoratorRight = element.decoratorRight;\n        const isDisabled = element.isDisabled;\n        data.text.textContent = text;\n        data.detail.textContent = !!detail ? detail : '';\n        data.decoratorRight.innerText = !!decoratorRight ? decoratorRight : '';\n        // pseudo-select disabled option\n        if (isDisabled) {\n            data.root.classList.add('option-disabled');\n        }\n        else {\n            // Make sure we do class removal from prior template rendering\n            data.root.classList.remove('option-disabled');\n        }\n    }\n    disposeTemplate(_templateData) {\n        // noop\n    }\n}\nclass SelectBoxList extends Disposable {\n    constructor(options, selected, contextViewProvider, styles, selectBoxOptions) {\n        super();\n        this.options = [];\n        this._currentSelection = 0;\n        this._hasDetails = false;\n        this._skipLayout = false;\n        this._sticky = false; // for dev purposes only\n        this._isVisible = false;\n        this.styles = styles;\n        this.selectBoxOptions = selectBoxOptions || Object.create(null);\n        if (typeof this.selectBoxOptions.minBottomMargin !== 'number') {\n            this.selectBoxOptions.minBottomMargin = SelectBoxList.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN;\n        }\n        else if (this.selectBoxOptions.minBottomMargin < 0) {\n            this.selectBoxOptions.minBottomMargin = 0;\n        }\n        this.selectElement = document.createElement('select');\n        // Use custom CSS vars for padding calculation\n        this.selectElement.className = 'monaco-select-box monaco-select-box-dropdown-padding';\n        if (typeof this.selectBoxOptions.ariaLabel === 'string') {\n            this.selectElement.setAttribute('aria-label', this.selectBoxOptions.ariaLabel);\n        }\n        if (typeof this.selectBoxOptions.ariaDescription === 'string') {\n            this.selectElement.setAttribute('aria-description', this.selectBoxOptions.ariaDescription);\n        }\n        this._onDidSelect = new Emitter();\n        this._register(this._onDidSelect);\n        this.registerListeners();\n        this.constructSelectDropDown(contextViewProvider);\n        this.selected = selected || 0;\n        if (options) {\n            this.setOptions(options, selected);\n        }\n        this.initStyleSheet();\n    }\n    // IDelegate - List renderer\n    getHeight() {\n        return 22;\n    }\n    getTemplateId() {\n        return SELECT_OPTION_ENTRY_TEMPLATE_ID;\n    }\n    constructSelectDropDown(contextViewProvider) {\n        // SetUp ContextView container to hold select Dropdown\n        this.contextViewProvider = contextViewProvider;\n        this.selectDropDownContainer = dom.$('.monaco-select-box-dropdown-container');\n        // Use custom CSS vars for padding calculation (shared with parent select)\n        this.selectDropDownContainer.classList.add('monaco-select-box-dropdown-padding');\n        // Setup container for select option details\n        this.selectionDetailsPane = dom.append(this.selectDropDownContainer, $('.select-box-details-pane'));\n        // Create span flex box item/div we can measure and control\n        const widthControlOuterDiv = dom.append(this.selectDropDownContainer, $('.select-box-dropdown-container-width-control'));\n        const widthControlInnerDiv = dom.append(widthControlOuterDiv, $('.width-control-div'));\n        this.widthControlElement = document.createElement('span');\n        this.widthControlElement.className = 'option-text-width-control';\n        dom.append(widthControlInnerDiv, this.widthControlElement);\n        // Always default to below position\n        this._dropDownPosition = 0 /* AnchorPosition.BELOW */;\n        // Inline stylesheet for themes\n        this.styleElement = dom.createStyleSheet(this.selectDropDownContainer);\n        // Prevent dragging of dropdown #114329\n        this.selectDropDownContainer.setAttribute('draggable', 'true');\n        this._register(dom.addDisposableListener(this.selectDropDownContainer, dom.EventType.DRAG_START, (e) => {\n            dom.EventHelper.stop(e, true);\n        }));\n    }\n    registerListeners() {\n        // Parent native select keyboard listeners\n        this._register(dom.addStandardDisposableListener(this.selectElement, 'change', (e) => {\n            this.selected = e.target.selectedIndex;\n            this._onDidSelect.fire({\n                index: e.target.selectedIndex,\n                selected: e.target.value\n            });\n            if (!!this.options[this.selected] && !!this.options[this.selected].text) {\n                this.selectElement.title = this.options[this.selected].text;\n            }\n        }));\n        // Have to implement both keyboard and mouse controllers to handle disabled options\n        // Intercept mouse events to override normal select actions on parents\n        this._register(dom.addDisposableListener(this.selectElement, dom.EventType.CLICK, (e) => {\n            dom.EventHelper.stop(e);\n            if (this._isVisible) {\n                this.hideSelectDropDown(true);\n            }\n            else {\n                this.showSelectDropDown();\n            }\n        }));\n        this._register(dom.addDisposableListener(this.selectElement, dom.EventType.MOUSE_DOWN, (e) => {\n            dom.EventHelper.stop(e);\n        }));\n        // Intercept touch events\n        // The following implementation is slightly different from the mouse event handlers above.\n        // Use the following helper variable, otherwise the list flickers.\n        let listIsVisibleOnTouchStart;\n        this._register(dom.addDisposableListener(this.selectElement, 'touchstart', (e) => {\n            listIsVisibleOnTouchStart = this._isVisible;\n        }));\n        this._register(dom.addDisposableListener(this.selectElement, 'touchend', (e) => {\n            dom.EventHelper.stop(e);\n            if (listIsVisibleOnTouchStart) {\n                this.hideSelectDropDown(true);\n            }\n            else {\n                this.showSelectDropDown();\n            }\n        }));\n        // Intercept keyboard handling\n        this._register(dom.addDisposableListener(this.selectElement, dom.EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            let showDropDown = false;\n            // Create and drop down select list on keyboard select\n            if (isMacintosh) {\n                if (event.keyCode === 18 /* KeyCode.DownArrow */ || event.keyCode === 16 /* KeyCode.UpArrow */ || event.keyCode === 10 /* KeyCode.Space */ || event.keyCode === 3 /* KeyCode.Enter */) {\n                    showDropDown = true;\n                }\n            }\n            else {\n                if (event.keyCode === 18 /* KeyCode.DownArrow */ && event.altKey || event.keyCode === 16 /* KeyCode.UpArrow */ && event.altKey || event.keyCode === 10 /* KeyCode.Space */ || event.keyCode === 3 /* KeyCode.Enter */) {\n                    showDropDown = true;\n                }\n            }\n            if (showDropDown) {\n                this.showSelectDropDown();\n                dom.EventHelper.stop(e, true);\n            }\n        }));\n    }\n    get onDidSelect() {\n        return this._onDidSelect.event;\n    }\n    setOptions(options, selected) {\n        if (!arrays.equals(this.options, options)) {\n            this.options = options;\n            this.selectElement.options.length = 0;\n            this._hasDetails = false;\n            this._cachedMaxDetailsHeight = undefined;\n            this.options.forEach((option, index) => {\n                this.selectElement.add(this.createOption(option.text, index, option.isDisabled));\n                if (typeof option.description === 'string') {\n                    this._hasDetails = true;\n                }\n            });\n        }\n        if (selected !== undefined) {\n            this.select(selected);\n            // Set current = selected since this is not necessarily a user exit\n            this._currentSelection = this.selected;\n        }\n    }\n    setOptionsList() {\n        var _a;\n        // Mirror options in drop-down\n        // Populate select list for non-native select mode\n        (_a = this.selectList) === null || _a === void 0 ? void 0 : _a.splice(0, this.selectList.length, this.options);\n    }\n    select(index) {\n        if (index >= 0 && index < this.options.length) {\n            this.selected = index;\n        }\n        else if (index > this.options.length - 1) {\n            // Adjust index to end of list\n            // This could make client out of sync with the select\n            this.select(this.options.length - 1);\n        }\n        else if (this.selected < 0) {\n            this.selected = 0;\n        }\n        this.selectElement.selectedIndex = this.selected;\n        if (!!this.options[this.selected] && !!this.options[this.selected].text) {\n            this.selectElement.title = this.options[this.selected].text;\n        }\n    }\n    focus() {\n        if (this.selectElement) {\n            this.selectElement.tabIndex = 0;\n            this.selectElement.focus();\n        }\n    }\n    blur() {\n        if (this.selectElement) {\n            this.selectElement.tabIndex = -1;\n            this.selectElement.blur();\n        }\n    }\n    setFocusable(focusable) {\n        this.selectElement.tabIndex = focusable ? 0 : -1;\n    }\n    render(container) {\n        this.container = container;\n        container.classList.add('select-container');\n        container.appendChild(this.selectElement);\n        this.styleSelectElement();\n    }\n    initStyleSheet() {\n        const content = [];\n        // Style non-native select mode\n        if (this.styles.listFocusBackground) {\n            content.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`);\n        }\n        if (this.styles.listFocusForeground) {\n            content.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`);\n        }\n        if (this.styles.decoratorRightForeground) {\n            content.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`);\n        }\n        if (this.styles.selectBackground && this.styles.selectBorder && this.styles.selectBorder !== this.styles.selectBackground) {\n            content.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `);\n            content.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `);\n            content.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `);\n        }\n        else if (this.styles.selectListBorder) {\n            content.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `);\n            content.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `);\n        }\n        // Hover foreground - ignore for disabled options\n        if (this.styles.listHoverForeground) {\n            content.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`);\n        }\n        // Hover background - ignore for disabled options\n        if (this.styles.listHoverBackground) {\n            content.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`);\n        }\n        // Match quick input outline styles - ignore for disabled options\n        if (this.styles.listFocusOutline) {\n            content.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`);\n        }\n        if (this.styles.listHoverOutline) {\n            content.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`);\n        }\n        // Clear list styles on focus and on hover for disabled options\n        content.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }`);\n        content.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }`);\n        this.styleElement.textContent = content.join('\\n');\n    }\n    styleSelectElement() {\n        var _a, _b, _c;\n        const background = (_a = this.styles.selectBackground) !== null && _a !== void 0 ? _a : '';\n        const foreground = (_b = this.styles.selectForeground) !== null && _b !== void 0 ? _b : '';\n        const border = (_c = this.styles.selectBorder) !== null && _c !== void 0 ? _c : '';\n        this.selectElement.style.backgroundColor = background;\n        this.selectElement.style.color = foreground;\n        this.selectElement.style.borderColor = border;\n    }\n    styleList() {\n        var _a, _b;\n        const background = (_a = this.styles.selectBackground) !== null && _a !== void 0 ? _a : '';\n        const listBackground = dom.asCssValueWithDefault(this.styles.selectListBackground, background);\n        this.selectDropDownListContainer.style.backgroundColor = listBackground;\n        this.selectionDetailsPane.style.backgroundColor = listBackground;\n        const optionsBorder = (_b = this.styles.focusBorder) !== null && _b !== void 0 ? _b : '';\n        this.selectDropDownContainer.style.outlineColor = optionsBorder;\n        this.selectDropDownContainer.style.outlineOffset = '-1px';\n        this.selectList.style(this.styles);\n    }\n    createOption(value, index, disabled) {\n        const option = document.createElement('option');\n        option.value = value;\n        option.text = value;\n        option.disabled = !!disabled;\n        return option;\n    }\n    // ContextView dropdown methods\n    showSelectDropDown() {\n        this.selectionDetailsPane.innerText = '';\n        if (!this.contextViewProvider || this._isVisible) {\n            return;\n        }\n        // Lazily create and populate list only at open, moved from constructor\n        this.createSelectList(this.selectDropDownContainer);\n        this.setOptionsList();\n        // This allows us to flip the position based on measurement\n        // Set drop-down position above/below from required height and margins\n        // If pre-layout cannot fit at least one option do not show drop-down\n        this.contextViewProvider.showContextView({\n            getAnchor: () => this.selectElement,\n            render: (container) => this.renderSelectDropDown(container, true),\n            layout: () => {\n                this.layoutSelectDropDown();\n            },\n            onHide: () => {\n                this.selectDropDownContainer.classList.remove('visible');\n                this.selectElement.classList.remove('synthetic-focus');\n            },\n            anchorPosition: this._dropDownPosition\n        }, this.selectBoxOptions.optionsAsChildren ? this.container : undefined);\n        // Hide so we can relay out\n        this._isVisible = true;\n        this.hideSelectDropDown(false);\n        this.contextViewProvider.showContextView({\n            getAnchor: () => this.selectElement,\n            render: (container) => this.renderSelectDropDown(container),\n            layout: () => this.layoutSelectDropDown(),\n            onHide: () => {\n                this.selectDropDownContainer.classList.remove('visible');\n                this.selectElement.classList.remove('synthetic-focus');\n            },\n            anchorPosition: this._dropDownPosition\n        }, this.selectBoxOptions.optionsAsChildren ? this.container : undefined);\n        // Track initial selection the case user escape, blur\n        this._currentSelection = this.selected;\n        this._isVisible = true;\n        this.selectElement.setAttribute('aria-expanded', 'true');\n    }\n    hideSelectDropDown(focusSelect) {\n        if (!this.contextViewProvider || !this._isVisible) {\n            return;\n        }\n        this._isVisible = false;\n        this.selectElement.setAttribute('aria-expanded', 'false');\n        if (focusSelect) {\n            this.selectElement.focus();\n        }\n        this.contextViewProvider.hideContextView();\n    }\n    renderSelectDropDown(container, preLayoutPosition) {\n        container.appendChild(this.selectDropDownContainer);\n        // Pre-Layout allows us to change position\n        this.layoutSelectDropDown(preLayoutPosition);\n        return {\n            dispose: () => {\n                // contextView will dispose itself if moving from one View to another\n                try {\n                    container.removeChild(this.selectDropDownContainer); // remove to take out the CSS rules we add\n                }\n                catch (error) {\n                    // Ignore, removed already by change of focus\n                }\n            }\n        };\n    }\n    // Iterate over detailed descriptions, find max height\n    measureMaxDetailsHeight() {\n        let maxDetailsPaneHeight = 0;\n        this.options.forEach((_option, index) => {\n            this.updateDetail(index);\n            if (this.selectionDetailsPane.offsetHeight > maxDetailsPaneHeight) {\n                maxDetailsPaneHeight = this.selectionDetailsPane.offsetHeight;\n            }\n        });\n        return maxDetailsPaneHeight;\n    }\n    layoutSelectDropDown(preLayoutPosition) {\n        // Avoid recursion from layout called in onListFocus\n        if (this._skipLayout) {\n            return false;\n        }\n        // Layout ContextView drop down select list and container\n        // Have to manage our vertical overflow, sizing, position below or above\n        // Position has to be determined and set prior to contextView instantiation\n        if (this.selectList) {\n            // Make visible to enable measurements\n            this.selectDropDownContainer.classList.add('visible');\n            const selectPosition = dom.getDomNodePagePosition(this.selectElement);\n            const styles = getComputedStyle(this.selectElement);\n            const verticalPadding = parseFloat(styles.getPropertyValue('--dropdown-padding-top')) + parseFloat(styles.getPropertyValue('--dropdown-padding-bottom'));\n            const maxSelectDropDownHeightBelow = (window.innerHeight - selectPosition.top - selectPosition.height - (this.selectBoxOptions.minBottomMargin || 0));\n            const maxSelectDropDownHeightAbove = (selectPosition.top - SelectBoxList.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN);\n            // Determine optimal width - min(longest option), opt(parent select, excluding margins), max(ContextView controlled)\n            const selectWidth = this.selectElement.offsetWidth;\n            const selectMinWidth = this.setWidthControlElement(this.widthControlElement);\n            const selectOptimalWidth = Math.max(selectMinWidth, Math.round(selectWidth)).toString() + 'px';\n            this.selectDropDownContainer.style.width = selectOptimalWidth;\n            // Get initial list height and determine space above and below\n            this.selectList.getHTMLElement().style.height = '';\n            this.selectList.layout();\n            let listHeight = this.selectList.contentHeight;\n            if (this._hasDetails && this._cachedMaxDetailsHeight === undefined) {\n                this._cachedMaxDetailsHeight = this.measureMaxDetailsHeight();\n            }\n            const maxDetailsPaneHeight = this._hasDetails ? this._cachedMaxDetailsHeight : 0;\n            const minRequiredDropDownHeight = listHeight + verticalPadding + maxDetailsPaneHeight;\n            const maxVisibleOptionsBelow = ((Math.floor((maxSelectDropDownHeightBelow - verticalPadding - maxDetailsPaneHeight) / this.getHeight())));\n            const maxVisibleOptionsAbove = ((Math.floor((maxSelectDropDownHeightAbove - verticalPadding - maxDetailsPaneHeight) / this.getHeight())));\n            // If we are only doing pre-layout check/adjust position only\n            // Calculate vertical space available, flip up if insufficient\n            // Use reflected padding on parent select, ContextView style\n            // properties not available before DOM attachment\n            if (preLayoutPosition) {\n                // Check if select moved out of viewport , do not open\n                // If at least one option cannot be shown, don't open the drop-down or hide/remove if open\n                if ((selectPosition.top + selectPosition.height) > (window.innerHeight - 22)\n                    || selectPosition.top < SelectBoxList.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN\n                    || ((maxVisibleOptionsBelow < 1) && (maxVisibleOptionsAbove < 1))) {\n                    // Indicate we cannot open\n                    return false;\n                }\n                // Determine if we have to flip up\n                // Always show complete list items - never more than Max available vertical height\n                if (maxVisibleOptionsBelow < SelectBoxList.DEFAULT_MINIMUM_VISIBLE_OPTIONS\n                    && maxVisibleOptionsAbove > maxVisibleOptionsBelow\n                    && this.options.length > maxVisibleOptionsBelow) {\n                    this._dropDownPosition = 1 /* AnchorPosition.ABOVE */;\n                    this.selectDropDownContainer.removeChild(this.selectDropDownListContainer);\n                    this.selectDropDownContainer.removeChild(this.selectionDetailsPane);\n                    this.selectDropDownContainer.appendChild(this.selectionDetailsPane);\n                    this.selectDropDownContainer.appendChild(this.selectDropDownListContainer);\n                    this.selectionDetailsPane.classList.remove('border-top');\n                    this.selectionDetailsPane.classList.add('border-bottom');\n                }\n                else {\n                    this._dropDownPosition = 0 /* AnchorPosition.BELOW */;\n                    this.selectDropDownContainer.removeChild(this.selectDropDownListContainer);\n                    this.selectDropDownContainer.removeChild(this.selectionDetailsPane);\n                    this.selectDropDownContainer.appendChild(this.selectDropDownListContainer);\n                    this.selectDropDownContainer.appendChild(this.selectionDetailsPane);\n                    this.selectionDetailsPane.classList.remove('border-bottom');\n                    this.selectionDetailsPane.classList.add('border-top');\n                }\n                // Do full layout on showSelectDropDown only\n                return true;\n            }\n            // Check if select out of viewport or cutting into status bar\n            if ((selectPosition.top + selectPosition.height) > (window.innerHeight - 22)\n                || selectPosition.top < SelectBoxList.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN\n                || (this._dropDownPosition === 0 /* AnchorPosition.BELOW */ && maxVisibleOptionsBelow < 1)\n                || (this._dropDownPosition === 1 /* AnchorPosition.ABOVE */ && maxVisibleOptionsAbove < 1)) {\n                // Cannot properly layout, close and hide\n                this.hideSelectDropDown(true);\n                return false;\n            }\n            // SetUp list dimensions and layout - account for container padding\n            // Use position to check above or below available space\n            if (this._dropDownPosition === 0 /* AnchorPosition.BELOW */) {\n                if (this._isVisible && maxVisibleOptionsBelow + maxVisibleOptionsAbove < 1) {\n                    // If drop-down is visible, must be doing a DOM re-layout, hide since we don't fit\n                    // Hide drop-down, hide contextview, focus on parent select\n                    this.hideSelectDropDown(true);\n                    return false;\n                }\n                // Adjust list height to max from select bottom to margin (default/minBottomMargin)\n                if (minRequiredDropDownHeight > maxSelectDropDownHeightBelow) {\n                    listHeight = (maxVisibleOptionsBelow * this.getHeight());\n                }\n            }\n            else {\n                if (minRequiredDropDownHeight > maxSelectDropDownHeightAbove) {\n                    listHeight = (maxVisibleOptionsAbove * this.getHeight());\n                }\n            }\n            // Set adjusted list height and relayout\n            this.selectList.layout(listHeight);\n            this.selectList.domFocus();\n            // Finally set focus on selected item\n            if (this.selectList.length > 0) {\n                this.selectList.setFocus([this.selected || 0]);\n                this.selectList.reveal(this.selectList.getFocus()[0] || 0);\n            }\n            if (this._hasDetails) {\n                // Leave the selectDropDownContainer to size itself according to children (list + details) - #57447\n                this.selectList.getHTMLElement().style.height = (listHeight + verticalPadding) + 'px';\n                this.selectDropDownContainer.style.height = '';\n            }\n            else {\n                this.selectDropDownContainer.style.height = (listHeight + verticalPadding) + 'px';\n            }\n            this.updateDetail(this.selected);\n            this.selectDropDownContainer.style.width = selectOptimalWidth;\n            // Maintain focus outline on parent select as well as list container - tabindex for focus\n            this.selectDropDownListContainer.setAttribute('tabindex', '0');\n            this.selectElement.classList.add('synthetic-focus');\n            this.selectDropDownContainer.classList.add('synthetic-focus');\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    setWidthControlElement(container) {\n        let elementWidth = 0;\n        if (container) {\n            let longest = 0;\n            let longestLength = 0;\n            this.options.forEach((option, index) => {\n                const detailLength = !!option.detail ? option.detail.length : 0;\n                const rightDecoratorLength = !!option.decoratorRight ? option.decoratorRight.length : 0;\n                const len = option.text.length + detailLength + rightDecoratorLength;\n                if (len > longestLength) {\n                    longest = index;\n                    longestLength = len;\n                }\n            });\n            container.textContent = this.options[longest].text + (!!this.options[longest].decoratorRight ? (this.options[longest].decoratorRight + ' ') : '');\n            elementWidth = dom.getTotalWidth(container);\n        }\n        return elementWidth;\n    }\n    createSelectList(parent) {\n        // If we have already constructive list on open, skip\n        if (this.selectList) {\n            return;\n        }\n        // SetUp container for list\n        this.selectDropDownListContainer = dom.append(parent, $('.select-box-dropdown-list-container'));\n        this.listRenderer = new SelectListRenderer();\n        this.selectList = new List('SelectBoxCustom', this.selectDropDownListContainer, this, [this.listRenderer], {\n            useShadows: false,\n            verticalScrollMode: 3 /* ScrollbarVisibility.Visible */,\n            keyboardSupport: false,\n            mouseSupport: false,\n            accessibilityProvider: {\n                getAriaLabel: element => {\n                    let label = element.text;\n                    if (element.detail) {\n                        label += `. ${element.detail}`;\n                    }\n                    if (element.decoratorRight) {\n                        label += `. ${element.decoratorRight}`;\n                    }\n                    if (element.description) {\n                        label += `. ${element.description}`;\n                    }\n                    return label;\n                },\n                getWidgetAriaLabel: () => localize({ key: 'selectBox', comment: ['Behave like native select dropdown element.'] }, \"Select Box\"),\n                getRole: () => 'option',\n                getWidgetRole: () => 'listbox'\n            }\n        });\n        if (this.selectBoxOptions.ariaLabel) {\n            this.selectList.ariaLabel = this.selectBoxOptions.ariaLabel;\n        }\n        // SetUp list keyboard controller - control navigation, disabled items, focus\n        const onKeyDown = this._register(new DomEmitter(this.selectDropDownListContainer, 'keydown'));\n        const onSelectDropDownKeyDown = Event.chain(onKeyDown.event)\n            .filter(() => this.selectList.length > 0)\n            .map(e => new StandardKeyboardEvent(e));\n        this._register(onSelectDropDownKeyDown.filter(e => e.keyCode === 3 /* KeyCode.Enter */).on(e => this.onEnter(e), this));\n        this._register(onSelectDropDownKeyDown.filter(e => e.keyCode === 2 /* KeyCode.Tab */).on(e => this.onEnter(e), this)); // Tab should behave the same as enter, #79339\n        this._register(onSelectDropDownKeyDown.filter(e => e.keyCode === 9 /* KeyCode.Escape */).on(e => this.onEscape(e), this));\n        this._register(onSelectDropDownKeyDown.filter(e => e.keyCode === 16 /* KeyCode.UpArrow */).on(e => this.onUpArrow(e), this));\n        this._register(onSelectDropDownKeyDown.filter(e => e.keyCode === 18 /* KeyCode.DownArrow */).on(e => this.onDownArrow(e), this));\n        this._register(onSelectDropDownKeyDown.filter(e => e.keyCode === 12 /* KeyCode.PageDown */).on(this.onPageDown, this));\n        this._register(onSelectDropDownKeyDown.filter(e => e.keyCode === 11 /* KeyCode.PageUp */).on(this.onPageUp, this));\n        this._register(onSelectDropDownKeyDown.filter(e => e.keyCode === 14 /* KeyCode.Home */).on(this.onHome, this));\n        this._register(onSelectDropDownKeyDown.filter(e => e.keyCode === 13 /* KeyCode.End */).on(this.onEnd, this));\n        this._register(onSelectDropDownKeyDown.filter(e => (e.keyCode >= 21 /* KeyCode.Digit0 */ && e.keyCode <= 56 /* KeyCode.KeyZ */) || (e.keyCode >= 80 /* KeyCode.Semicolon */ && e.keyCode <= 108 /* KeyCode.NumpadDivide */)).on(this.onCharacter, this));\n        // SetUp list mouse controller - control navigation, disabled items, focus\n        this._register(dom.addDisposableListener(this.selectList.getHTMLElement(), dom.EventType.POINTER_UP, e => this.onPointerUp(e)));\n        this._register(this.selectList.onMouseOver(e => typeof e.index !== 'undefined' && this.selectList.setFocus([e.index])));\n        this._register(this.selectList.onDidChangeFocus(e => this.onListFocus(e)));\n        this._register(dom.addDisposableListener(this.selectDropDownContainer, dom.EventType.FOCUS_OUT, e => {\n            if (!this._isVisible || dom.isAncestor(e.relatedTarget, this.selectDropDownContainer)) {\n                return;\n            }\n            this.onListBlur();\n        }));\n        this.selectList.getHTMLElement().setAttribute('aria-label', this.selectBoxOptions.ariaLabel || '');\n        this.selectList.getHTMLElement().setAttribute('aria-expanded', 'true');\n        this.styleList();\n    }\n    // List methods\n    // List mouse controller - active exit, select option, fire onDidSelect if change, return focus to parent select\n    // Also takes in touchend events\n    onPointerUp(e) {\n        if (!this.selectList.length) {\n            return;\n        }\n        dom.EventHelper.stop(e);\n        const target = e.target;\n        if (!target) {\n            return;\n        }\n        // Check our mouse event is on an option (not scrollbar)\n        if (target.classList.contains('slider')) {\n            return;\n        }\n        const listRowElement = target.closest('.monaco-list-row');\n        if (!listRowElement) {\n            return;\n        }\n        const index = Number(listRowElement.getAttribute('data-index'));\n        const disabled = listRowElement.classList.contains('option-disabled');\n        // Ignore mouse selection of disabled options\n        if (index >= 0 && index < this.options.length && !disabled) {\n            this.selected = index;\n            this.select(this.selected);\n            this.selectList.setFocus([this.selected]);\n            this.selectList.reveal(this.selectList.getFocus()[0]);\n            // Only fire if selection change\n            if (this.selected !== this._currentSelection) {\n                // Set current = selected\n                this._currentSelection = this.selected;\n                this._onDidSelect.fire({\n                    index: this.selectElement.selectedIndex,\n                    selected: this.options[this.selected].text\n                });\n                if (!!this.options[this.selected] && !!this.options[this.selected].text) {\n                    this.selectElement.title = this.options[this.selected].text;\n                }\n            }\n            this.hideSelectDropDown(true);\n        }\n    }\n    // List Exit - passive - implicit no selection change, hide drop-down\n    onListBlur() {\n        if (this._sticky) {\n            return;\n        }\n        if (this.selected !== this._currentSelection) {\n            // Reset selected to current if no change\n            this.select(this._currentSelection);\n        }\n        this.hideSelectDropDown(false);\n    }\n    renderDescriptionMarkdown(text, actionHandler) {\n        const cleanRenderedMarkdown = (element) => {\n            for (let i = 0; i < element.childNodes.length; i++) {\n                const child = element.childNodes.item(i);\n                const tagName = child.tagName && child.tagName.toLowerCase();\n                if (tagName === 'img') {\n                    element.removeChild(child);\n                }\n                else {\n                    cleanRenderedMarkdown(child);\n                }\n            }\n        };\n        const rendered = renderMarkdown({ value: text, supportThemeIcons: true }, { actionHandler });\n        rendered.element.classList.add('select-box-description-markdown');\n        cleanRenderedMarkdown(rendered.element);\n        return rendered.element;\n    }\n    // List Focus Change - passive - update details pane with newly focused element's data\n    onListFocus(e) {\n        // Skip during initial layout\n        if (!this._isVisible || !this._hasDetails) {\n            return;\n        }\n        this.updateDetail(e.indexes[0]);\n    }\n    updateDetail(selectedIndex) {\n        var _a, _b;\n        this.selectionDetailsPane.innerText = '';\n        const option = this.options[selectedIndex];\n        const description = (_a = option === null || option === void 0 ? void 0 : option.description) !== null && _a !== void 0 ? _a : '';\n        const descriptionIsMarkdown = (_b = option === null || option === void 0 ? void 0 : option.descriptionIsMarkdown) !== null && _b !== void 0 ? _b : false;\n        if (description) {\n            if (descriptionIsMarkdown) {\n                const actionHandler = option.descriptionMarkdownActionHandler;\n                this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(description, actionHandler));\n            }\n            else {\n                this.selectionDetailsPane.innerText = description;\n            }\n            this.selectionDetailsPane.style.display = 'block';\n        }\n        else {\n            this.selectionDetailsPane.style.display = 'none';\n        }\n        // Avoid recursion\n        this._skipLayout = true;\n        this.contextViewProvider.layout();\n        this._skipLayout = false;\n    }\n    // List keyboard controller\n    // List exit - active - hide ContextView dropdown, reset selection, return focus to parent select\n    onEscape(e) {\n        dom.EventHelper.stop(e);\n        // Reset selection to value when opened\n        this.select(this._currentSelection);\n        this.hideSelectDropDown(true);\n    }\n    // List exit - active - hide ContextView dropdown, return focus to parent select, fire onDidSelect if change\n    onEnter(e) {\n        dom.EventHelper.stop(e);\n        // Only fire if selection change\n        if (this.selected !== this._currentSelection) {\n            this._currentSelection = this.selected;\n            this._onDidSelect.fire({\n                index: this.selectElement.selectedIndex,\n                selected: this.options[this.selected].text\n            });\n            if (!!this.options[this.selected] && !!this.options[this.selected].text) {\n                this.selectElement.title = this.options[this.selected].text;\n            }\n        }\n        this.hideSelectDropDown(true);\n    }\n    // List navigation - have to handle a disabled option (jump over)\n    onDownArrow(e) {\n        if (this.selected < this.options.length - 1) {\n            dom.EventHelper.stop(e, true);\n            // Skip disabled options\n            const nextOptionDisabled = this.options[this.selected + 1].isDisabled;\n            if (nextOptionDisabled && this.options.length > this.selected + 2) {\n                this.selected += 2;\n            }\n            else if (nextOptionDisabled) {\n                return;\n            }\n            else {\n                this.selected++;\n            }\n            // Set focus/selection - only fire event when closing drop-down or on blur\n            this.select(this.selected);\n            this.selectList.setFocus([this.selected]);\n            this.selectList.reveal(this.selectList.getFocus()[0]);\n        }\n    }\n    onUpArrow(e) {\n        if (this.selected > 0) {\n            dom.EventHelper.stop(e, true);\n            // Skip disabled options\n            const previousOptionDisabled = this.options[this.selected - 1].isDisabled;\n            if (previousOptionDisabled && this.selected > 1) {\n                this.selected -= 2;\n            }\n            else {\n                this.selected--;\n            }\n            // Set focus/selection - only fire event when closing drop-down or on blur\n            this.select(this.selected);\n            this.selectList.setFocus([this.selected]);\n            this.selectList.reveal(this.selectList.getFocus()[0]);\n        }\n    }\n    onPageUp(e) {\n        dom.EventHelper.stop(e);\n        this.selectList.focusPreviousPage();\n        // Allow scrolling to settle\n        setTimeout(() => {\n            this.selected = this.selectList.getFocus()[0];\n            // Shift selection down if we land on a disabled option\n            if (this.options[this.selected].isDisabled && this.selected < this.options.length - 1) {\n                this.selected++;\n                this.selectList.setFocus([this.selected]);\n            }\n            this.selectList.reveal(this.selected);\n            this.select(this.selected);\n        }, 1);\n    }\n    onPageDown(e) {\n        dom.EventHelper.stop(e);\n        this.selectList.focusNextPage();\n        // Allow scrolling to settle\n        setTimeout(() => {\n            this.selected = this.selectList.getFocus()[0];\n            // Shift selection up if we land on a disabled option\n            if (this.options[this.selected].isDisabled && this.selected > 0) {\n                this.selected--;\n                this.selectList.setFocus([this.selected]);\n            }\n            this.selectList.reveal(this.selected);\n            this.select(this.selected);\n        }, 1);\n    }\n    onHome(e) {\n        dom.EventHelper.stop(e);\n        if (this.options.length < 2) {\n            return;\n        }\n        this.selected = 0;\n        if (this.options[this.selected].isDisabled && this.selected > 1) {\n            this.selected++;\n        }\n        this.selectList.setFocus([this.selected]);\n        this.selectList.reveal(this.selected);\n        this.select(this.selected);\n    }\n    onEnd(e) {\n        dom.EventHelper.stop(e);\n        if (this.options.length < 2) {\n            return;\n        }\n        this.selected = this.options.length - 1;\n        if (this.options[this.selected].isDisabled && this.selected > 1) {\n            this.selected--;\n        }\n        this.selectList.setFocus([this.selected]);\n        this.selectList.reveal(this.selected);\n        this.select(this.selected);\n    }\n    // Mimic option first character navigation of native select\n    onCharacter(e) {\n        const ch = KeyCodeUtils.toString(e.keyCode);\n        let optionIndex = -1;\n        for (let i = 0; i < this.options.length - 1; i++) {\n            optionIndex = (i + this.selected + 1) % this.options.length;\n            if (this.options[optionIndex].text.charAt(0).toUpperCase() === ch && !this.options[optionIndex].isDisabled) {\n                this.select(optionIndex);\n                this.selectList.setFocus([optionIndex]);\n                this.selectList.reveal(this.selectList.getFocus()[0]);\n                dom.EventHelper.stop(e);\n                break;\n            }\n        }\n    }\n    dispose() {\n        this.hideSelectDropDown(false);\n        super.dispose();\n    }\n}\nSelectBoxList.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN = 32;\nSelectBoxList.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN = 2;\nSelectBoxList.DEFAULT_MINIMUM_VISIBLE_OPTIONS = 3;\nexport { SelectBoxList };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { EventType, Gesture } from '../../touch.js';\nimport * as arrays from '../../../common/arrays.js';\nimport { Emitter } from '../../../common/event.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport { isMacintosh } from '../../../common/platform.js';\nexport class SelectBoxNative extends Disposable {\n    constructor(options, selected, styles, selectBoxOptions) {\n        super();\n        this.selected = 0;\n        this.selectBoxOptions = selectBoxOptions || Object.create(null);\n        this.options = [];\n        this.selectElement = document.createElement('select');\n        this.selectElement.className = 'monaco-select-box';\n        if (typeof this.selectBoxOptions.ariaLabel === 'string') {\n            this.selectElement.setAttribute('aria-label', this.selectBoxOptions.ariaLabel);\n        }\n        if (typeof this.selectBoxOptions.ariaDescription === 'string') {\n            this.selectElement.setAttribute('aria-description', this.selectBoxOptions.ariaDescription);\n        }\n        this._onDidSelect = this._register(new Emitter());\n        this.styles = styles;\n        this.registerListeners();\n        this.setOptions(options, selected);\n    }\n    registerListeners() {\n        this._register(Gesture.addTarget(this.selectElement));\n        [EventType.Tap].forEach(eventType => {\n            this._register(dom.addDisposableListener(this.selectElement, eventType, (e) => {\n                this.selectElement.focus();\n            }));\n        });\n        this._register(dom.addStandardDisposableListener(this.selectElement, 'click', (e) => {\n            dom.EventHelper.stop(e, true);\n        }));\n        this._register(dom.addStandardDisposableListener(this.selectElement, 'change', (e) => {\n            this.selectElement.title = e.target.value;\n            this._onDidSelect.fire({\n                index: e.target.selectedIndex,\n                selected: e.target.value\n            });\n        }));\n        this._register(dom.addStandardDisposableListener(this.selectElement, 'keydown', (e) => {\n            let showSelect = false;\n            if (isMacintosh) {\n                if (e.keyCode === 18 /* KeyCode.DownArrow */ || e.keyCode === 16 /* KeyCode.UpArrow */ || e.keyCode === 10 /* KeyCode.Space */) {\n                    showSelect = true;\n                }\n            }\n            else {\n                if (e.keyCode === 18 /* KeyCode.DownArrow */ && e.altKey || e.keyCode === 10 /* KeyCode.Space */ || e.keyCode === 3 /* KeyCode.Enter */) {\n                    showSelect = true;\n                }\n            }\n            if (showSelect) {\n                // Space, Enter, is used to expand select box, do not propagate it (prevent action bar action run)\n                e.stopPropagation();\n            }\n        }));\n    }\n    get onDidSelect() {\n        return this._onDidSelect.event;\n    }\n    setOptions(options, selected) {\n        if (!this.options || !arrays.equals(this.options, options)) {\n            this.options = options;\n            this.selectElement.options.length = 0;\n            this.options.forEach((option, index) => {\n                this.selectElement.add(this.createOption(option.text, index, option.isDisabled));\n            });\n        }\n        if (selected !== undefined) {\n            this.select(selected);\n        }\n    }\n    select(index) {\n        if (this.options.length === 0) {\n            this.selected = 0;\n        }\n        else if (index >= 0 && index < this.options.length) {\n            this.selected = index;\n        }\n        else if (index > this.options.length - 1) {\n            // Adjust index to end of list\n            // This could make client out of sync with the select\n            this.select(this.options.length - 1);\n        }\n        else if (this.selected < 0) {\n            this.selected = 0;\n        }\n        this.selectElement.selectedIndex = this.selected;\n        if ((this.selected < this.options.length) && typeof this.options[this.selected].text === 'string') {\n            this.selectElement.title = this.options[this.selected].text;\n        }\n        else {\n            this.selectElement.title = '';\n        }\n    }\n    focus() {\n        if (this.selectElement) {\n            this.selectElement.tabIndex = 0;\n            this.selectElement.focus();\n        }\n    }\n    blur() {\n        if (this.selectElement) {\n            this.selectElement.tabIndex = -1;\n            this.selectElement.blur();\n        }\n    }\n    setFocusable(focusable) {\n        this.selectElement.tabIndex = focusable ? 0 : -1;\n    }\n    render(container) {\n        container.classList.add('select-container');\n        container.appendChild(this.selectElement);\n        this.setOptions(this.options, this.selected);\n        this.applyStyles();\n    }\n    applyStyles() {\n        var _a, _b, _c;\n        // Style native select\n        if (this.selectElement) {\n            this.selectElement.style.backgroundColor = (_a = this.styles.selectBackground) !== null && _a !== void 0 ? _a : '';\n            this.selectElement.style.color = (_b = this.styles.selectForeground) !== null && _b !== void 0 ? _b : '';\n            this.selectElement.style.borderColor = (_c = this.styles.selectBorder) !== null && _c !== void 0 ? _c : '';\n        }\n    }\n    createOption(value, index, disabled) {\n        const option = document.createElement('option');\n        option.value = value;\n        option.text = value;\n        option.disabled = !!disabled;\n        return option;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { SelectBoxList } from './selectBoxCustom.js';\nimport { SelectBoxNative } from './selectBoxNative.js';\nimport { Widget } from '../widget.js';\nimport { isMacintosh } from '../../../common/platform.js';\nimport './selectBox.css';\nexport class SelectBox extends Widget {\n    constructor(options, selected, contextViewProvider, styles, selectBoxOptions) {\n        super();\n        // Default to native SelectBox for OSX unless overridden\n        if (isMacintosh && !(selectBoxOptions === null || selectBoxOptions === void 0 ? void 0 : selectBoxOptions.useCustomDrawn)) {\n            this.selectBoxDelegate = new SelectBoxNative(options, selected, styles, selectBoxOptions);\n        }\n        else {\n            this.selectBoxDelegate = new SelectBoxList(options, selected, contextViewProvider, styles, selectBoxOptions);\n        }\n        this._register(this.selectBoxDelegate);\n    }\n    // Public SelectBox Methods - routed through delegate interface\n    get onDidSelect() {\n        return this.selectBoxDelegate.onDidSelect;\n    }\n    setOptions(options, selected) {\n        this.selectBoxDelegate.setOptions(options, selected);\n    }\n    select(index) {\n        this.selectBoxDelegate.select(index);\n    }\n    focus() {\n        this.selectBoxDelegate.focus();\n    }\n    blur() {\n        this.selectBoxDelegate.blur();\n    }\n    setFocusable(focusable) {\n        this.selectBoxDelegate.setFocusable(focusable);\n    }\n    render(container) {\n        this.selectBoxDelegate.render(container);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, addDisposableListener, append, scheduleAtNextAnimationFrame } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { Sash } from '../sash/sash.js';\nimport { SmoothScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { pushToEnd, pushToStart, range } from '../../../common/arrays.js';\nimport { Color } from '../../../common/color.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { combinedDisposable, Disposable, dispose, toDisposable } from '../../../common/lifecycle.js';\nimport { clamp } from '../../../common/numbers.js';\nimport { Scrollable } from '../../../common/scrollable.js';\nimport * as types from '../../../common/types.js';\nimport './splitview.css';\nconst defaultStyles = {\n    separatorBorder: Color.transparent\n};\nclass ViewItem {\n    set size(size) {\n        this._size = size;\n    }\n    get size() {\n        return this._size;\n    }\n    get visible() {\n        return typeof this._cachedVisibleSize === 'undefined';\n    }\n    setVisible(visible, size) {\n        var _a, _b;\n        if (visible === this.visible) {\n            return;\n        }\n        if (visible) {\n            this.size = clamp(this._cachedVisibleSize, this.viewMinimumSize, this.viewMaximumSize);\n            this._cachedVisibleSize = undefined;\n        }\n        else {\n            this._cachedVisibleSize = typeof size === 'number' ? size : this.size;\n            this.size = 0;\n        }\n        this.container.classList.toggle('visible', visible);\n        (_b = (_a = this.view).setVisible) === null || _b === void 0 ? void 0 : _b.call(_a, visible);\n    }\n    get minimumSize() { return this.visible ? this.view.minimumSize : 0; }\n    get viewMinimumSize() { return this.view.minimumSize; }\n    get maximumSize() { return this.visible ? this.view.maximumSize : 0; }\n    get viewMaximumSize() { return this.view.maximumSize; }\n    get priority() { return this.view.priority; }\n    get proportionalLayout() { var _a; return (_a = this.view.proportionalLayout) !== null && _a !== void 0 ? _a : true; }\n    get snap() { return !!this.view.snap; }\n    set enabled(enabled) {\n        this.container.style.pointerEvents = enabled ? '' : 'none';\n    }\n    constructor(container, view, size, disposable) {\n        this.container = container;\n        this.view = view;\n        this.disposable = disposable;\n        this._cachedVisibleSize = undefined;\n        if (typeof size === 'number') {\n            this._size = size;\n            this._cachedVisibleSize = undefined;\n            container.classList.add('visible');\n        }\n        else {\n            this._size = 0;\n            this._cachedVisibleSize = size.cachedVisibleSize;\n        }\n    }\n    layout(offset, layoutContext) {\n        this.layoutContainer(offset);\n        this.view.layout(this.size, offset, layoutContext);\n    }\n    dispose() {\n        this.disposable.dispose();\n        return this.view;\n    }\n}\nclass VerticalViewItem extends ViewItem {\n    layoutContainer(offset) {\n        this.container.style.top = `${offset}px`;\n        this.container.style.height = `${this.size}px`;\n    }\n}\nclass HorizontalViewItem extends ViewItem {\n    layoutContainer(offset) {\n        this.container.style.left = `${offset}px`;\n        this.container.style.width = `${this.size}px`;\n    }\n}\nvar State;\n(function (State) {\n    State[State[\"Idle\"] = 0] = \"Idle\";\n    State[State[\"Busy\"] = 1] = \"Busy\";\n})(State || (State = {}));\nexport var Sizing;\n(function (Sizing) {\n    /**\n     * When adding or removing views, distribute the delta space among\n     * all other views.\n     */\n    Sizing.Distribute = { type: 'distribute' };\n    /**\n     * When adding or removing views, split the delta space with another\n     * specific view, indexed by the provided `index`.\n     */\n    function Split(index) { return { type: 'split', index }; }\n    Sizing.Split = Split;\n    /**\n     * When adding or removing views, assume the view is invisible.\n     */\n    function Invisible(cachedVisibleSize) { return { type: 'invisible', cachedVisibleSize }; }\n    Sizing.Invisible = Invisible;\n})(Sizing || (Sizing = {}));\n/**\n * The {@link SplitView} is the UI component which implements a one dimensional\n * flex-like layout algorithm for a collection of {@link IView} instances, which\n * are essentially HTMLElement instances with the following size constraints:\n *\n * - {@link IView.minimumSize}\n * - {@link IView.maximumSize}\n * - {@link IView.priority}\n * - {@link IView.snap}\n *\n * In case the SplitView doesn't have enough size to fit all views, it will overflow\n * its content with a scrollbar.\n *\n * In between each pair of views there will be a {@link Sash} allowing the user\n * to resize the views, making sure the constraints are respected.\n *\n * An optional {@link TLayoutContext layout context type} may be used in order to\n * pass along layout contextual data from the {@link SplitView.layout} method down\n * to each view's {@link IView.layout} calls.\n *\n * Features:\n * - Flex-like layout algorithm\n * - Snap support\n * - Orthogonal sash support, for corner sashes\n * - View hide/show support\n * - View swap/move support\n * - Alt key modifier behavior, macOS style\n */\nexport class SplitView extends Disposable {\n    get orthogonalStartSash() { return this._orthogonalStartSash; }\n    get orthogonalEndSash() { return this._orthogonalEndSash; }\n    get startSnappingEnabled() { return this._startSnappingEnabled; }\n    get endSnappingEnabled() { return this._endSnappingEnabled; }\n    /**\n     * A reference to a sash, perpendicular to all sashes in this {@link SplitView},\n     * located at the left- or top-most side of the SplitView.\n     * Corner sashes will be created automatically at the intersections.\n     */\n    set orthogonalStartSash(sash) {\n        for (const sashItem of this.sashItems) {\n            sashItem.sash.orthogonalStartSash = sash;\n        }\n        this._orthogonalStartSash = sash;\n    }\n    /**\n     * A reference to a sash, perpendicular to all sashes in this {@link SplitView},\n     * located at the right- or bottom-most side of the SplitView.\n     * Corner sashes will be created automatically at the intersections.\n     */\n    set orthogonalEndSash(sash) {\n        for (const sashItem of this.sashItems) {\n            sashItem.sash.orthogonalEndSash = sash;\n        }\n        this._orthogonalEndSash = sash;\n    }\n    /**\n     * Enable/disable snapping at the beginning of this {@link SplitView}.\n     */\n    set startSnappingEnabled(startSnappingEnabled) {\n        if (this._startSnappingEnabled === startSnappingEnabled) {\n            return;\n        }\n        this._startSnappingEnabled = startSnappingEnabled;\n        this.updateSashEnablement();\n    }\n    /**\n     * Enable/disable snapping at the end of this {@link SplitView}.\n     */\n    set endSnappingEnabled(endSnappingEnabled) {\n        if (this._endSnappingEnabled === endSnappingEnabled) {\n            return;\n        }\n        this._endSnappingEnabled = endSnappingEnabled;\n        this.updateSashEnablement();\n    }\n    /**\n     * Create a new {@link SplitView} instance.\n     */\n    constructor(container, options = {}) {\n        var _a, _b, _c, _d, _e;\n        super();\n        this.size = 0;\n        this.contentSize = 0;\n        this.proportions = undefined;\n        this.viewItems = [];\n        this.sashItems = []; // used in tests\n        this.state = State.Idle;\n        this._onDidSashChange = this._register(new Emitter());\n        this._onDidSashReset = this._register(new Emitter());\n        this._startSnappingEnabled = true;\n        this._endSnappingEnabled = true;\n        /**\n         * Fires whenever the user resizes a {@link Sash sash}.\n         */\n        this.onDidSashChange = this._onDidSashChange.event;\n        /**\n         * Fires whenever the user double clicks a {@link Sash sash}.\n         */\n        this.onDidSashReset = this._onDidSashReset.event;\n        this.orientation = (_a = options.orientation) !== null && _a !== void 0 ? _a : 0 /* Orientation.VERTICAL */;\n        this.inverseAltBehavior = (_b = options.inverseAltBehavior) !== null && _b !== void 0 ? _b : false;\n        this.proportionalLayout = (_c = options.proportionalLayout) !== null && _c !== void 0 ? _c : true;\n        this.getSashOrthogonalSize = options.getSashOrthogonalSize;\n        this.el = document.createElement('div');\n        this.el.classList.add('monaco-split-view2');\n        this.el.classList.add(this.orientation === 0 /* Orientation.VERTICAL */ ? 'vertical' : 'horizontal');\n        container.appendChild(this.el);\n        this.sashContainer = append(this.el, $('.sash-container'));\n        this.viewContainer = $('.split-view-container');\n        this.scrollable = new Scrollable({\n            forceIntegerValues: true,\n            smoothScrollDuration: 125,\n            scheduleAtNextAnimationFrame\n        });\n        this.scrollableElement = this._register(new SmoothScrollableElement(this.viewContainer, {\n            vertical: this.orientation === 0 /* Orientation.VERTICAL */ ? ((_d = options.scrollbarVisibility) !== null && _d !== void 0 ? _d : 1 /* ScrollbarVisibility.Auto */) : 2 /* ScrollbarVisibility.Hidden */,\n            horizontal: this.orientation === 1 /* Orientation.HORIZONTAL */ ? ((_e = options.scrollbarVisibility) !== null && _e !== void 0 ? _e : 1 /* ScrollbarVisibility.Auto */) : 2 /* ScrollbarVisibility.Hidden */\n        }, this.scrollable));\n        // https://github.com/microsoft/vscode/issues/157737\n        const onDidScrollViewContainer = this._register(new DomEmitter(this.viewContainer, 'scroll')).event;\n        this._register(onDidScrollViewContainer(_ => {\n            const position = this.scrollableElement.getScrollPosition();\n            const scrollLeft = Math.abs(this.viewContainer.scrollLeft - position.scrollLeft) <= 1 ? undefined : this.viewContainer.scrollLeft;\n            const scrollTop = Math.abs(this.viewContainer.scrollTop - position.scrollTop) <= 1 ? undefined : this.viewContainer.scrollTop;\n            if (scrollLeft !== undefined || scrollTop !== undefined) {\n                this.scrollableElement.setScrollPosition({ scrollLeft, scrollTop });\n            }\n        }));\n        this.onDidScroll = this.scrollableElement.onScroll;\n        this._register(this.onDidScroll(e => {\n            if (e.scrollTopChanged) {\n                this.viewContainer.scrollTop = e.scrollTop;\n            }\n            if (e.scrollLeftChanged) {\n                this.viewContainer.scrollLeft = e.scrollLeft;\n            }\n        }));\n        append(this.el, this.scrollableElement.getDomNode());\n        this.style(options.styles || defaultStyles);\n        // We have an existing set of view, add them now\n        if (options.descriptor) {\n            this.size = options.descriptor.size;\n            options.descriptor.views.forEach((viewDescriptor, index) => {\n                const sizing = types.isUndefined(viewDescriptor.visible) || viewDescriptor.visible ? viewDescriptor.size : { type: 'invisible', cachedVisibleSize: viewDescriptor.size };\n                const view = viewDescriptor.view;\n                this.doAddView(view, sizing, index, true);\n            });\n            // Initialize content size and proportions for first layout\n            this.contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n            this.saveProportions();\n        }\n    }\n    style(styles) {\n        if (styles.separatorBorder.isTransparent()) {\n            this.el.classList.remove('separator-border');\n            this.el.style.removeProperty('--separator-border');\n        }\n        else {\n            this.el.classList.add('separator-border');\n            this.el.style.setProperty('--separator-border', styles.separatorBorder.toString());\n        }\n    }\n    /**\n     * Add a {@link IView view} to this {@link SplitView}.\n     *\n     * @param view The view to add.\n     * @param size Either a fixed size, or a dynamic {@link Sizing} strategy.\n     * @param index The index to insert the view on.\n     * @param skipLayout Whether layout should be skipped.\n     */\n    addView(view, size, index = this.viewItems.length, skipLayout) {\n        this.doAddView(view, size, index, skipLayout);\n    }\n    /**\n     * Layout the {@link SplitView}.\n     *\n     * @param size The entire size of the {@link SplitView}.\n     * @param layoutContext An optional layout context to pass along to {@link IView views}.\n     */\n    layout(size, layoutContext) {\n        const previousSize = Math.max(this.size, this.contentSize);\n        this.size = size;\n        this.layoutContext = layoutContext;\n        if (!this.proportions) {\n            const indexes = range(this.viewItems.length);\n            const lowPriorityIndexes = indexes.filter(i => this.viewItems[i].priority === 1 /* LayoutPriority.Low */);\n            const highPriorityIndexes = indexes.filter(i => this.viewItems[i].priority === 2 /* LayoutPriority.High */);\n            this.resize(this.viewItems.length - 1, size - previousSize, undefined, lowPriorityIndexes, highPriorityIndexes);\n        }\n        else {\n            let total = 0;\n            for (let i = 0; i < this.viewItems.length; i++) {\n                const item = this.viewItems[i];\n                const proportion = this.proportions[i];\n                if (typeof proportion === 'number') {\n                    total += proportion;\n                }\n                else {\n                    size -= item.size;\n                }\n            }\n            for (let i = 0; i < this.viewItems.length; i++) {\n                const item = this.viewItems[i];\n                const proportion = this.proportions[i];\n                if (typeof proportion === 'number') {\n                    item.size = clamp(Math.round(proportion * size / total), item.minimumSize, item.maximumSize);\n                }\n            }\n        }\n        this.distributeEmptySpace();\n        this.layoutViews();\n    }\n    saveProportions() {\n        if (this.proportionalLayout && this.contentSize > 0) {\n            this.proportions = this.viewItems.map(i => i.proportionalLayout ? i.size / this.contentSize : undefined);\n        }\n    }\n    onSashStart({ sash, start, alt }) {\n        for (const item of this.viewItems) {\n            item.enabled = false;\n        }\n        const index = this.sashItems.findIndex(item => item.sash === sash);\n        // This way, we can press Alt while we resize a sash, macOS style!\n        const disposable = combinedDisposable(addDisposableListener(document.body, 'keydown', e => resetSashDragState(this.sashDragState.current, e.altKey)), addDisposableListener(document.body, 'keyup', () => resetSashDragState(this.sashDragState.current, false)));\n        const resetSashDragState = (start, alt) => {\n            const sizes = this.viewItems.map(i => i.size);\n            let minDelta = Number.NEGATIVE_INFINITY;\n            let maxDelta = Number.POSITIVE_INFINITY;\n            if (this.inverseAltBehavior) {\n                alt = !alt;\n            }\n            if (alt) {\n                // When we're using the last sash with Alt, we're resizing\n                // the view to the left/up, instead of right/down as usual\n                // Thus, we must do the inverse of the usual\n                const isLastSash = index === this.sashItems.length - 1;\n                if (isLastSash) {\n                    const viewItem = this.viewItems[index];\n                    minDelta = (viewItem.minimumSize - viewItem.size) / 2;\n                    maxDelta = (viewItem.maximumSize - viewItem.size) / 2;\n                }\n                else {\n                    const viewItem = this.viewItems[index + 1];\n                    minDelta = (viewItem.size - viewItem.maximumSize) / 2;\n                    maxDelta = (viewItem.size - viewItem.minimumSize) / 2;\n                }\n            }\n            let snapBefore;\n            let snapAfter;\n            if (!alt) {\n                const upIndexes = range(index, -1);\n                const downIndexes = range(index + 1, this.viewItems.length);\n                const minDeltaUp = upIndexes.reduce((r, i) => r + (this.viewItems[i].minimumSize - sizes[i]), 0);\n                const maxDeltaUp = upIndexes.reduce((r, i) => r + (this.viewItems[i].viewMaximumSize - sizes[i]), 0);\n                const maxDeltaDown = downIndexes.length === 0 ? Number.POSITIVE_INFINITY : downIndexes.reduce((r, i) => r + (sizes[i] - this.viewItems[i].minimumSize), 0);\n                const minDeltaDown = downIndexes.length === 0 ? Number.NEGATIVE_INFINITY : downIndexes.reduce((r, i) => r + (sizes[i] - this.viewItems[i].viewMaximumSize), 0);\n                const minDelta = Math.max(minDeltaUp, minDeltaDown);\n                const maxDelta = Math.min(maxDeltaDown, maxDeltaUp);\n                const snapBeforeIndex = this.findFirstSnapIndex(upIndexes);\n                const snapAfterIndex = this.findFirstSnapIndex(downIndexes);\n                if (typeof snapBeforeIndex === 'number') {\n                    const viewItem = this.viewItems[snapBeforeIndex];\n                    const halfSize = Math.floor(viewItem.viewMinimumSize / 2);\n                    snapBefore = {\n                        index: snapBeforeIndex,\n                        limitDelta: viewItem.visible ? minDelta - halfSize : minDelta + halfSize,\n                        size: viewItem.size\n                    };\n                }\n                if (typeof snapAfterIndex === 'number') {\n                    const viewItem = this.viewItems[snapAfterIndex];\n                    const halfSize = Math.floor(viewItem.viewMinimumSize / 2);\n                    snapAfter = {\n                        index: snapAfterIndex,\n                        limitDelta: viewItem.visible ? maxDelta + halfSize : maxDelta - halfSize,\n                        size: viewItem.size\n                    };\n                }\n            }\n            this.sashDragState = { start, current: start, index, sizes, minDelta, maxDelta, alt, snapBefore, snapAfter, disposable };\n        };\n        resetSashDragState(start, alt);\n    }\n    onSashChange({ current }) {\n        const { index, start, sizes, alt, minDelta, maxDelta, snapBefore, snapAfter } = this.sashDragState;\n        this.sashDragState.current = current;\n        const delta = current - start;\n        const newDelta = this.resize(index, delta, sizes, undefined, undefined, minDelta, maxDelta, snapBefore, snapAfter);\n        if (alt) {\n            const isLastSash = index === this.sashItems.length - 1;\n            const newSizes = this.viewItems.map(i => i.size);\n            const viewItemIndex = isLastSash ? index : index + 1;\n            const viewItem = this.viewItems[viewItemIndex];\n            const newMinDelta = viewItem.size - viewItem.maximumSize;\n            const newMaxDelta = viewItem.size - viewItem.minimumSize;\n            const resizeIndex = isLastSash ? index - 1 : index + 1;\n            this.resize(resizeIndex, -newDelta, newSizes, undefined, undefined, newMinDelta, newMaxDelta);\n        }\n        this.distributeEmptySpace();\n        this.layoutViews();\n    }\n    onSashEnd(index) {\n        this._onDidSashChange.fire(index);\n        this.sashDragState.disposable.dispose();\n        this.saveProportions();\n        for (const item of this.viewItems) {\n            item.enabled = true;\n        }\n    }\n    onViewChange(item, size) {\n        const index = this.viewItems.indexOf(item);\n        if (index < 0 || index >= this.viewItems.length) {\n            return;\n        }\n        size = typeof size === 'number' ? size : item.size;\n        size = clamp(size, item.minimumSize, item.maximumSize);\n        if (this.inverseAltBehavior && index > 0) {\n            // In this case, we want the view to grow or shrink both sides equally\n            // so we just resize the \"left\" side by half and let `resize` do the clamping magic\n            this.resize(index - 1, Math.floor((item.size - size) / 2));\n            this.distributeEmptySpace();\n            this.layoutViews();\n        }\n        else {\n            item.size = size;\n            this.relayout([index], undefined);\n        }\n    }\n    /**\n     * Resize a {@link IView view} within the {@link SplitView}.\n     *\n     * @param index The {@link IView view} index.\n     * @param size The {@link IView view} size.\n     */\n    resizeView(index, size) {\n        if (this.state !== State.Idle) {\n            throw new Error('Cant modify splitview');\n        }\n        this.state = State.Busy;\n        if (index < 0 || index >= this.viewItems.length) {\n            return;\n        }\n        const indexes = range(this.viewItems.length).filter(i => i !== index);\n        const lowPriorityIndexes = [...indexes.filter(i => this.viewItems[i].priority === 1 /* LayoutPriority.Low */), index];\n        const highPriorityIndexes = indexes.filter(i => this.viewItems[i].priority === 2 /* LayoutPriority.High */);\n        const item = this.viewItems[index];\n        size = Math.round(size);\n        size = clamp(size, item.minimumSize, Math.min(item.maximumSize, this.size));\n        item.size = size;\n        this.relayout(lowPriorityIndexes, highPriorityIndexes);\n        this.state = State.Idle;\n    }\n    /**\n     * Distribute the entire {@link SplitView} size among all {@link IView views}.\n     */\n    distributeViewSizes() {\n        const flexibleViewItems = [];\n        let flexibleSize = 0;\n        for (const item of this.viewItems) {\n            if (item.maximumSize - item.minimumSize > 0) {\n                flexibleViewItems.push(item);\n                flexibleSize += item.size;\n            }\n        }\n        const size = Math.floor(flexibleSize / flexibleViewItems.length);\n        for (const item of flexibleViewItems) {\n            item.size = clamp(size, item.minimumSize, item.maximumSize);\n        }\n        const indexes = range(this.viewItems.length);\n        const lowPriorityIndexes = indexes.filter(i => this.viewItems[i].priority === 1 /* LayoutPriority.Low */);\n        const highPriorityIndexes = indexes.filter(i => this.viewItems[i].priority === 2 /* LayoutPriority.High */);\n        this.relayout(lowPriorityIndexes, highPriorityIndexes);\n    }\n    /**\n     * Returns the size of a {@link IView view}.\n     */\n    getViewSize(index) {\n        if (index < 0 || index >= this.viewItems.length) {\n            return -1;\n        }\n        return this.viewItems[index].size;\n    }\n    doAddView(view, size, index = this.viewItems.length, skipLayout) {\n        if (this.state !== State.Idle) {\n            throw new Error('Cant modify splitview');\n        }\n        this.state = State.Busy;\n        // Add view\n        const container = $('.split-view-view');\n        if (index === this.viewItems.length) {\n            this.viewContainer.appendChild(container);\n        }\n        else {\n            this.viewContainer.insertBefore(container, this.viewContainer.children.item(index));\n        }\n        const onChangeDisposable = view.onDidChange(size => this.onViewChange(item, size));\n        const containerDisposable = toDisposable(() => this.viewContainer.removeChild(container));\n        const disposable = combinedDisposable(onChangeDisposable, containerDisposable);\n        let viewSize;\n        if (typeof size === 'number') {\n            viewSize = size;\n        }\n        else if (size.type === 'split') {\n            viewSize = this.getViewSize(size.index) / 2;\n        }\n        else if (size.type === 'invisible') {\n            viewSize = { cachedVisibleSize: size.cachedVisibleSize };\n        }\n        else {\n            viewSize = view.minimumSize;\n        }\n        const item = this.orientation === 0 /* Orientation.VERTICAL */\n            ? new VerticalViewItem(container, view, viewSize, disposable)\n            : new HorizontalViewItem(container, view, viewSize, disposable);\n        this.viewItems.splice(index, 0, item);\n        // Add sash\n        if (this.viewItems.length > 1) {\n            const opts = { orthogonalStartSash: this.orthogonalStartSash, orthogonalEndSash: this.orthogonalEndSash };\n            const sash = this.orientation === 0 /* Orientation.VERTICAL */\n                ? new Sash(this.sashContainer, { getHorizontalSashTop: s => this.getSashPosition(s), getHorizontalSashWidth: this.getSashOrthogonalSize }, Object.assign(Object.assign({}, opts), { orientation: 1 /* Orientation.HORIZONTAL */ }))\n                : new Sash(this.sashContainer, { getVerticalSashLeft: s => this.getSashPosition(s), getVerticalSashHeight: this.getSashOrthogonalSize }, Object.assign(Object.assign({}, opts), { orientation: 0 /* Orientation.VERTICAL */ }));\n            const sashEventMapper = this.orientation === 0 /* Orientation.VERTICAL */\n                ? (e) => ({ sash, start: e.startY, current: e.currentY, alt: e.altKey })\n                : (e) => ({ sash, start: e.startX, current: e.currentX, alt: e.altKey });\n            const onStart = Event.map(sash.onDidStart, sashEventMapper);\n            const onStartDisposable = onStart(this.onSashStart, this);\n            const onChange = Event.map(sash.onDidChange, sashEventMapper);\n            const onChangeDisposable = onChange(this.onSashChange, this);\n            const onEnd = Event.map(sash.onDidEnd, () => this.sashItems.findIndex(item => item.sash === sash));\n            const onEndDisposable = onEnd(this.onSashEnd, this);\n            const onDidResetDisposable = sash.onDidReset(() => {\n                const index = this.sashItems.findIndex(item => item.sash === sash);\n                const upIndexes = range(index, -1);\n                const downIndexes = range(index + 1, this.viewItems.length);\n                const snapBeforeIndex = this.findFirstSnapIndex(upIndexes);\n                const snapAfterIndex = this.findFirstSnapIndex(downIndexes);\n                if (typeof snapBeforeIndex === 'number' && !this.viewItems[snapBeforeIndex].visible) {\n                    return;\n                }\n                if (typeof snapAfterIndex === 'number' && !this.viewItems[snapAfterIndex].visible) {\n                    return;\n                }\n                this._onDidSashReset.fire(index);\n            });\n            const disposable = combinedDisposable(onStartDisposable, onChangeDisposable, onEndDisposable, onDidResetDisposable, sash);\n            const sashItem = { sash, disposable };\n            this.sashItems.splice(index - 1, 0, sashItem);\n        }\n        container.appendChild(view.element);\n        let highPriorityIndexes;\n        if (typeof size !== 'number' && size.type === 'split') {\n            highPriorityIndexes = [size.index];\n        }\n        if (!skipLayout) {\n            this.relayout([index], highPriorityIndexes);\n        }\n        this.state = State.Idle;\n        if (!skipLayout && typeof size !== 'number' && size.type === 'distribute') {\n            this.distributeViewSizes();\n        }\n    }\n    relayout(lowPriorityIndexes, highPriorityIndexes) {\n        const contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n        this.resize(this.viewItems.length - 1, this.size - contentSize, undefined, lowPriorityIndexes, highPriorityIndexes);\n        this.distributeEmptySpace();\n        this.layoutViews();\n        this.saveProportions();\n    }\n    resize(index, delta, sizes = this.viewItems.map(i => i.size), lowPriorityIndexes, highPriorityIndexes, overloadMinDelta = Number.NEGATIVE_INFINITY, overloadMaxDelta = Number.POSITIVE_INFINITY, snapBefore, snapAfter) {\n        if (index < 0 || index >= this.viewItems.length) {\n            return 0;\n        }\n        const upIndexes = range(index, -1);\n        const downIndexes = range(index + 1, this.viewItems.length);\n        if (highPriorityIndexes) {\n            for (const index of highPriorityIndexes) {\n                pushToStart(upIndexes, index);\n                pushToStart(downIndexes, index);\n            }\n        }\n        if (lowPriorityIndexes) {\n            for (const index of lowPriorityIndexes) {\n                pushToEnd(upIndexes, index);\n                pushToEnd(downIndexes, index);\n            }\n        }\n        const upItems = upIndexes.map(i => this.viewItems[i]);\n        const upSizes = upIndexes.map(i => sizes[i]);\n        const downItems = downIndexes.map(i => this.viewItems[i]);\n        const downSizes = downIndexes.map(i => sizes[i]);\n        const minDeltaUp = upIndexes.reduce((r, i) => r + (this.viewItems[i].minimumSize - sizes[i]), 0);\n        const maxDeltaUp = upIndexes.reduce((r, i) => r + (this.viewItems[i].maximumSize - sizes[i]), 0);\n        const maxDeltaDown = downIndexes.length === 0 ? Number.POSITIVE_INFINITY : downIndexes.reduce((r, i) => r + (sizes[i] - this.viewItems[i].minimumSize), 0);\n        const minDeltaDown = downIndexes.length === 0 ? Number.NEGATIVE_INFINITY : downIndexes.reduce((r, i) => r + (sizes[i] - this.viewItems[i].maximumSize), 0);\n        const minDelta = Math.max(minDeltaUp, minDeltaDown, overloadMinDelta);\n        const maxDelta = Math.min(maxDeltaDown, maxDeltaUp, overloadMaxDelta);\n        let snapped = false;\n        if (snapBefore) {\n            const snapView = this.viewItems[snapBefore.index];\n            const visible = delta >= snapBefore.limitDelta;\n            snapped = visible !== snapView.visible;\n            snapView.setVisible(visible, snapBefore.size);\n        }\n        if (!snapped && snapAfter) {\n            const snapView = this.viewItems[snapAfter.index];\n            const visible = delta < snapAfter.limitDelta;\n            snapped = visible !== snapView.visible;\n            snapView.setVisible(visible, snapAfter.size);\n        }\n        if (snapped) {\n            return this.resize(index, delta, sizes, lowPriorityIndexes, highPriorityIndexes, overloadMinDelta, overloadMaxDelta);\n        }\n        delta = clamp(delta, minDelta, maxDelta);\n        for (let i = 0, deltaUp = delta; i < upItems.length; i++) {\n            const item = upItems[i];\n            const size = clamp(upSizes[i] + deltaUp, item.minimumSize, item.maximumSize);\n            const viewDelta = size - upSizes[i];\n            deltaUp -= viewDelta;\n            item.size = size;\n        }\n        for (let i = 0, deltaDown = delta; i < downItems.length; i++) {\n            const item = downItems[i];\n            const size = clamp(downSizes[i] - deltaDown, item.minimumSize, item.maximumSize);\n            const viewDelta = size - downSizes[i];\n            deltaDown += viewDelta;\n            item.size = size;\n        }\n        return delta;\n    }\n    distributeEmptySpace(lowPriorityIndex) {\n        const contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n        let emptyDelta = this.size - contentSize;\n        const indexes = range(this.viewItems.length - 1, -1);\n        const lowPriorityIndexes = indexes.filter(i => this.viewItems[i].priority === 1 /* LayoutPriority.Low */);\n        const highPriorityIndexes = indexes.filter(i => this.viewItems[i].priority === 2 /* LayoutPriority.High */);\n        for (const index of highPriorityIndexes) {\n            pushToStart(indexes, index);\n        }\n        for (const index of lowPriorityIndexes) {\n            pushToEnd(indexes, index);\n        }\n        if (typeof lowPriorityIndex === 'number') {\n            pushToEnd(indexes, lowPriorityIndex);\n        }\n        for (let i = 0; emptyDelta !== 0 && i < indexes.length; i++) {\n            const item = this.viewItems[indexes[i]];\n            const size = clamp(item.size + emptyDelta, item.minimumSize, item.maximumSize);\n            const viewDelta = size - item.size;\n            emptyDelta -= viewDelta;\n            item.size = size;\n        }\n    }\n    layoutViews() {\n        // Save new content size\n        this.contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);\n        // Layout views\n        let offset = 0;\n        for (const viewItem of this.viewItems) {\n            viewItem.layout(offset, this.layoutContext);\n            offset += viewItem.size;\n        }\n        // Layout sashes\n        this.sashItems.forEach(item => item.sash.layout());\n        this.updateSashEnablement();\n        this.updateScrollableElement();\n    }\n    updateScrollableElement() {\n        if (this.orientation === 0 /* Orientation.VERTICAL */) {\n            this.scrollableElement.setScrollDimensions({\n                height: this.size,\n                scrollHeight: this.contentSize\n            });\n        }\n        else {\n            this.scrollableElement.setScrollDimensions({\n                width: this.size,\n                scrollWidth: this.contentSize\n            });\n        }\n    }\n    updateSashEnablement() {\n        let previous = false;\n        const collapsesDown = this.viewItems.map(i => previous = (i.size - i.minimumSize > 0) || previous);\n        previous = false;\n        const expandsDown = this.viewItems.map(i => previous = (i.maximumSize - i.size > 0) || previous);\n        const reverseViews = [...this.viewItems].reverse();\n        previous = false;\n        const collapsesUp = reverseViews.map(i => previous = (i.size - i.minimumSize > 0) || previous).reverse();\n        previous = false;\n        const expandsUp = reverseViews.map(i => previous = (i.maximumSize - i.size > 0) || previous).reverse();\n        let position = 0;\n        for (let index = 0; index < this.sashItems.length; index++) {\n            const { sash } = this.sashItems[index];\n            const viewItem = this.viewItems[index];\n            position += viewItem.size;\n            const min = !(collapsesDown[index] && expandsUp[index + 1]);\n            const max = !(expandsDown[index] && collapsesUp[index + 1]);\n            if (min && max) {\n                const upIndexes = range(index, -1);\n                const downIndexes = range(index + 1, this.viewItems.length);\n                const snapBeforeIndex = this.findFirstSnapIndex(upIndexes);\n                const snapAfterIndex = this.findFirstSnapIndex(downIndexes);\n                const snappedBefore = typeof snapBeforeIndex === 'number' && !this.viewItems[snapBeforeIndex].visible;\n                const snappedAfter = typeof snapAfterIndex === 'number' && !this.viewItems[snapAfterIndex].visible;\n                if (snappedBefore && collapsesUp[index] && (position > 0 || this.startSnappingEnabled)) {\n                    sash.state = 1 /* SashState.AtMinimum */;\n                }\n                else if (snappedAfter && collapsesDown[index] && (position < this.contentSize || this.endSnappingEnabled)) {\n                    sash.state = 2 /* SashState.AtMaximum */;\n                }\n                else {\n                    sash.state = 0 /* SashState.Disabled */;\n                }\n            }\n            else if (min && !max) {\n                sash.state = 1 /* SashState.AtMinimum */;\n            }\n            else if (!min && max) {\n                sash.state = 2 /* SashState.AtMaximum */;\n            }\n            else {\n                sash.state = 3 /* SashState.Enabled */;\n            }\n        }\n    }\n    getSashPosition(sash) {\n        let position = 0;\n        for (let i = 0; i < this.sashItems.length; i++) {\n            position += this.viewItems[i].size;\n            if (this.sashItems[i].sash === sash) {\n                return position;\n            }\n        }\n        return 0;\n    }\n    findFirstSnapIndex(indexes) {\n        // visible views first\n        for (const index of indexes) {\n            const viewItem = this.viewItems[index];\n            if (!viewItem.visible) {\n                continue;\n            }\n            if (viewItem.snap) {\n                return index;\n            }\n        }\n        // then, hidden views\n        for (const index of indexes) {\n            const viewItem = this.viewItems[index];\n            if (viewItem.visible && viewItem.maximumSize - viewItem.minimumSize > 0) {\n                return undefined;\n            }\n            if (!viewItem.visible && viewItem.snap) {\n                return index;\n            }\n        }\n        return undefined;\n    }\n    dispose() {\n        super.dispose();\n        dispose(this.viewItems);\n        this.viewItems = [];\n        this.sashItems.forEach(i => i.disposable.dispose());\n        this.sashItems = [];\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, append, clearNode, createStyleSheet } from '../../dom.js';\nimport { List, unthemedListStyles } from '../list/listWidget.js';\nimport { SplitView } from '../splitview/splitview.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nimport './table.css';\nclass TableListRenderer {\n    constructor(columns, renderers, getColumnSize) {\n        this.columns = columns;\n        this.getColumnSize = getColumnSize;\n        this.templateId = TableListRenderer.TemplateId;\n        this.renderedTemplates = new Set();\n        const rendererMap = new Map(renderers.map(r => [r.templateId, r]));\n        this.renderers = [];\n        for (const column of columns) {\n            const renderer = rendererMap.get(column.templateId);\n            if (!renderer) {\n                throw new Error(`Table cell renderer for template id ${column.templateId} not found.`);\n            }\n            this.renderers.push(renderer);\n        }\n    }\n    renderTemplate(container) {\n        const rowContainer = append(container, $('.monaco-table-tr'));\n        const cellContainers = [];\n        const cellTemplateData = [];\n        for (let i = 0; i < this.columns.length; i++) {\n            const renderer = this.renderers[i];\n            const cellContainer = append(rowContainer, $('.monaco-table-td', { 'data-col-index': i }));\n            cellContainer.style.width = `${this.getColumnSize(i)}px`;\n            cellContainers.push(cellContainer);\n            cellTemplateData.push(renderer.renderTemplate(cellContainer));\n        }\n        const result = { container, cellContainers, cellTemplateData };\n        this.renderedTemplates.add(result);\n        return result;\n    }\n    renderElement(element, index, templateData, height) {\n        for (let i = 0; i < this.columns.length; i++) {\n            const column = this.columns[i];\n            const cell = column.project(element);\n            const renderer = this.renderers[i];\n            renderer.renderElement(cell, index, templateData.cellTemplateData[i], height);\n        }\n    }\n    disposeElement(element, index, templateData, height) {\n        for (let i = 0; i < this.columns.length; i++) {\n            const renderer = this.renderers[i];\n            if (renderer.disposeElement) {\n                const column = this.columns[i];\n                const cell = column.project(element);\n                renderer.disposeElement(cell, index, templateData.cellTemplateData[i], height);\n            }\n        }\n    }\n    disposeTemplate(templateData) {\n        for (let i = 0; i < this.columns.length; i++) {\n            const renderer = this.renderers[i];\n            renderer.disposeTemplate(templateData.cellTemplateData[i]);\n        }\n        clearNode(templateData.container);\n        this.renderedTemplates.delete(templateData);\n    }\n    layoutColumn(index, size) {\n        for (const { cellContainers } of this.renderedTemplates) {\n            cellContainers[index].style.width = `${size}px`;\n        }\n    }\n}\nTableListRenderer.TemplateId = 'row';\nfunction asListVirtualDelegate(delegate) {\n    return {\n        getHeight(row) { return delegate.getHeight(row); },\n        getTemplateId() { return TableListRenderer.TemplateId; },\n    };\n}\nclass ColumnHeader {\n    get minimumSize() { var _a; return (_a = this.column.minimumWidth) !== null && _a !== void 0 ? _a : 120; }\n    get maximumSize() { var _a; return (_a = this.column.maximumWidth) !== null && _a !== void 0 ? _a : Number.POSITIVE_INFINITY; }\n    get onDidChange() { var _a; return (_a = this.column.onDidChangeWidthConstraints) !== null && _a !== void 0 ? _a : Event.None; }\n    constructor(column, index) {\n        this.column = column;\n        this.index = index;\n        this._onDidLayout = new Emitter();\n        this.onDidLayout = this._onDidLayout.event;\n        this.element = $('.monaco-table-th', { 'data-col-index': index, title: column.tooltip }, column.label);\n    }\n    layout(size) {\n        this._onDidLayout.fire([this.index, size]);\n    }\n}\nclass Table {\n    get onDidChangeFocus() { return this.list.onDidChangeFocus; }\n    get onDidChangeSelection() { return this.list.onDidChangeSelection; }\n    get onMouseDblClick() { return this.list.onMouseDblClick; }\n    get onPointer() { return this.list.onPointer; }\n    get onDidFocus() { return this.list.onDidFocus; }\n    get onDidDispose() { return this.list.onDidDispose; }\n    constructor(user, container, virtualDelegate, columns, renderers, _options) {\n        this.virtualDelegate = virtualDelegate;\n        this.domId = `table_id_${++Table.InstanceCount}`;\n        this.disposables = new DisposableStore();\n        this.cachedWidth = 0;\n        this.cachedHeight = 0;\n        this.domNode = append(container, $(`.monaco-table.${this.domId}`));\n        const headers = columns.map((c, i) => new ColumnHeader(c, i));\n        const descriptor = {\n            size: headers.reduce((a, b) => a + b.column.weight, 0),\n            views: headers.map(view => ({ size: view.column.weight, view }))\n        };\n        this.splitview = this.disposables.add(new SplitView(this.domNode, {\n            orientation: 1 /* Orientation.HORIZONTAL */,\n            scrollbarVisibility: 2 /* ScrollbarVisibility.Hidden */,\n            getSashOrthogonalSize: () => this.cachedHeight,\n            descriptor\n        }));\n        this.splitview.el.style.height = `${virtualDelegate.headerRowHeight}px`;\n        this.splitview.el.style.lineHeight = `${virtualDelegate.headerRowHeight}px`;\n        const renderer = new TableListRenderer(columns, renderers, i => this.splitview.getViewSize(i));\n        this.list = this.disposables.add(new List(user, this.domNode, asListVirtualDelegate(virtualDelegate), [renderer], _options));\n        Event.any(...headers.map(h => h.onDidLayout))(([index, size]) => renderer.layoutColumn(index, size), null, this.disposables);\n        this.splitview.onDidSashReset(index => {\n            const totalWeight = columns.reduce((r, c) => r + c.weight, 0);\n            const size = columns[index].weight / totalWeight * this.cachedWidth;\n            this.splitview.resizeView(index, size);\n        }, null, this.disposables);\n        this.styleElement = createStyleSheet(this.domNode);\n        this.style(unthemedListStyles);\n    }\n    updateOptions(options) {\n        this.list.updateOptions(options);\n    }\n    splice(start, deleteCount, elements = []) {\n        this.list.splice(start, deleteCount, elements);\n    }\n    getHTMLElement() {\n        return this.domNode;\n    }\n    style(styles) {\n        const content = [];\n        content.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight + 1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`);\n        this.styleElement.textContent = content.join('\\n');\n        this.list.style(styles);\n    }\n    getSelectedElements() {\n        return this.list.getSelectedElements();\n    }\n    getSelection() {\n        return this.list.getSelection();\n    }\n    getFocus() {\n        return this.list.getFocus();\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nTable.InstanceCount = 0;\nexport { Table };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Widget } from '../widget.js';\nimport { ThemeIcon } from '../../../common/themables.js';\nimport { Emitter } from '../../../common/event.js';\nimport './toggle.css';\nexport const unthemedToggleStyles = {\n    inputActiveOptionBorder: '#007ACC00',\n    inputActiveOptionForeground: '#FFFFFF',\n    inputActiveOptionBackground: '#0E639C50'\n};\nexport class Toggle extends Widget {\n    constructor(opts) {\n        super();\n        this._onChange = this._register(new Emitter());\n        this.onChange = this._onChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._opts = opts;\n        this._checked = this._opts.isChecked;\n        const classes = ['monaco-custom-toggle'];\n        if (this._opts.icon) {\n            this._icon = this._opts.icon;\n            classes.push(...ThemeIcon.asClassNameArray(this._icon));\n        }\n        if (this._opts.actionClassName) {\n            classes.push(...this._opts.actionClassName.split(' '));\n        }\n        if (this._checked) {\n            classes.push('checked');\n        }\n        this.domNode = document.createElement('div');\n        this.domNode.title = this._opts.title;\n        this.domNode.classList.add(...classes);\n        if (!this._opts.notFocusable) {\n            this.domNode.tabIndex = 0;\n        }\n        this.domNode.setAttribute('role', 'checkbox');\n        this.domNode.setAttribute('aria-checked', String(this._checked));\n        this.domNode.setAttribute('aria-label', this._opts.title);\n        this.applyStyles();\n        this.onclick(this.domNode, (ev) => {\n            if (this.enabled) {\n                this.checked = !this._checked;\n                this._onChange.fire(false);\n                ev.preventDefault();\n            }\n        });\n        this._register(this.ignoreGesture(this.domNode));\n        this.onkeydown(this.domNode, (keyboardEvent) => {\n            if (keyboardEvent.keyCode === 10 /* KeyCode.Space */ || keyboardEvent.keyCode === 3 /* KeyCode.Enter */) {\n                this.checked = !this._checked;\n                this._onChange.fire(true);\n                keyboardEvent.preventDefault();\n                keyboardEvent.stopPropagation();\n                return;\n            }\n            this._onKeyDown.fire(keyboardEvent);\n        });\n    }\n    get enabled() {\n        return this.domNode.getAttribute('aria-disabled') !== 'true';\n    }\n    focus() {\n        this.domNode.focus();\n    }\n    get checked() {\n        return this._checked;\n    }\n    set checked(newIsChecked) {\n        this._checked = newIsChecked;\n        this.domNode.setAttribute('aria-checked', String(this._checked));\n        this.domNode.classList.toggle('checked', this._checked);\n        this.applyStyles();\n    }\n    width() {\n        return 2 /*margin left*/ + 2 /*border*/ + 2 /*padding*/ + 16 /* icon width */;\n    }\n    applyStyles() {\n        if (this.domNode) {\n            this.domNode.style.borderColor = (this._checked && this._opts.inputActiveOptionBorder) || '';\n            this.domNode.style.color = (this._checked && this._opts.inputActiveOptionForeground) || 'inherit';\n            this.domNode.style.backgroundColor = (this._checked && this._opts.inputActiveOptionBackground) || '';\n        }\n    }\n    enable() {\n        this.domNode.setAttribute('aria-disabled', String(false));\n    }\n    disable() {\n        this.domNode.setAttribute('aria-disabled', String(true));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport { DropdownMenuActionViewItem } from '../dropdown/dropdownActionViewItem.js';\nimport { Action, SubmenuAction } from '../../../common/actions.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport { ThemeIcon } from '../../../common/themables.js';\nimport { EventMultiplexer } from '../../../common/event.js';\nimport { Disposable, DisposableStore } from '../../../common/lifecycle.js';\nimport { withNullAsUndefined } from '../../../common/types.js';\nimport './toolbar.css';\nimport * as nls from '../../../../nls.js';\n/**\n * A widget that combines an action bar for primary actions and a dropdown for secondary actions.\n */\nexport class ToolBar extends Disposable {\n    constructor(container, contextMenuProvider, options = { orientation: 0 /* ActionsOrientation.HORIZONTAL */ }) {\n        super();\n        this.submenuActionViewItems = [];\n        this.hasSecondaryActions = false;\n        this._onDidChangeDropdownVisibility = this._register(new EventMultiplexer());\n        this.onDidChangeDropdownVisibility = this._onDidChangeDropdownVisibility.event;\n        this.disposables = new DisposableStore();\n        this.options = options;\n        this.lookupKeybindings = typeof this.options.getKeyBinding === 'function';\n        this.toggleMenuAction = this._register(new ToggleMenuAction(() => { var _a; return (_a = this.toggleMenuActionViewItem) === null || _a === void 0 ? void 0 : _a.show(); }, options.toggleMenuTitle));\n        this.element = document.createElement('div');\n        this.element.className = 'monaco-toolbar';\n        container.appendChild(this.element);\n        this.actionBar = this._register(new ActionBar(this.element, {\n            orientation: options.orientation,\n            ariaLabel: options.ariaLabel,\n            actionRunner: options.actionRunner,\n            allowContextMenu: options.allowContextMenu,\n            actionViewItemProvider: (action, viewItemOptions) => {\n                var _a;\n                if (action.id === ToggleMenuAction.ID) {\n                    this.toggleMenuActionViewItem = new DropdownMenuActionViewItem(action, action.menuActions, contextMenuProvider, {\n                        actionViewItemProvider: this.options.actionViewItemProvider,\n                        actionRunner: this.actionRunner,\n                        keybindingProvider: this.options.getKeyBinding,\n                        classNames: ThemeIcon.asClassNameArray((_a = options.moreIcon) !== null && _a !== void 0 ? _a : Codicon.toolBarMore),\n                        anchorAlignmentProvider: this.options.anchorAlignmentProvider,\n                        menuAsChild: !!this.options.renderDropdownAsChildElement\n                    });\n                    this.toggleMenuActionViewItem.setActionContext(this.actionBar.context);\n                    this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility));\n                    return this.toggleMenuActionViewItem;\n                }\n                if (options.actionViewItemProvider) {\n                    const result = options.actionViewItemProvider(action, viewItemOptions);\n                    if (result) {\n                        return result;\n                    }\n                }\n                if (action instanceof SubmenuAction) {\n                    const result = new DropdownMenuActionViewItem(action, action.actions, contextMenuProvider, {\n                        actionViewItemProvider: this.options.actionViewItemProvider,\n                        actionRunner: this.actionRunner,\n                        keybindingProvider: this.options.getKeyBinding,\n                        classNames: action.class,\n                        anchorAlignmentProvider: this.options.anchorAlignmentProvider,\n                        menuAsChild: !!this.options.renderDropdownAsChildElement\n                    });\n                    result.setActionContext(this.actionBar.context);\n                    this.submenuActionViewItems.push(result);\n                    this.disposables.add(this._onDidChangeDropdownVisibility.add(result.onDidChangeVisibility));\n                    return result;\n                }\n                return undefined;\n            }\n        }));\n    }\n    set actionRunner(actionRunner) {\n        this.actionBar.actionRunner = actionRunner;\n    }\n    get actionRunner() {\n        return this.actionBar.actionRunner;\n    }\n    getElement() {\n        return this.element;\n    }\n    getItemAction(indexOrElement) {\n        return this.actionBar.getAction(indexOrElement);\n    }\n    setActions(primaryActions, secondaryActions) {\n        this.clear();\n        const primaryActionsToSet = primaryActions ? primaryActions.slice(0) : [];\n        // Inject additional action to open secondary actions if present\n        this.hasSecondaryActions = !!(secondaryActions && secondaryActions.length > 0);\n        if (this.hasSecondaryActions && secondaryActions) {\n            this.toggleMenuAction.menuActions = secondaryActions.slice(0);\n            primaryActionsToSet.push(this.toggleMenuAction);\n        }\n        primaryActionsToSet.forEach(action => {\n            this.actionBar.push(action, { icon: true, label: false, keybinding: this.getKeybindingLabel(action) });\n        });\n    }\n    getKeybindingLabel(action) {\n        var _a, _b;\n        const key = this.lookupKeybindings ? (_b = (_a = this.options).getKeyBinding) === null || _b === void 0 ? void 0 : _b.call(_a, action) : undefined;\n        return withNullAsUndefined(key === null || key === void 0 ? void 0 : key.getLabel());\n    }\n    clear() {\n        this.submenuActionViewItems = [];\n        this.disposables.clear();\n        this.actionBar.clear();\n    }\n    dispose() {\n        this.clear();\n        super.dispose();\n    }\n}\nclass ToggleMenuAction extends Action {\n    constructor(toggleDropdownMenu, title) {\n        title = title || nls.localize('moreActions', \"More Actions...\");\n        super(ToggleMenuAction.ID, title, undefined, true);\n        this._menuActions = [];\n        this.toggleDropdownMenu = toggleDropdownMenu;\n    }\n    run() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.toggleDropdownMenu();\n        });\n    }\n    get menuActions() {\n        return this._menuActions;\n    }\n    set menuActions(actions) {\n        this._menuActions = actions;\n    }\n}\nToggleMenuAction.ID = 'toolbar.toggle.more';\nexport { ToggleMenuAction };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { $, append, clearNode, createStyleSheet, h, hasParentWithClass } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport { FindInput } from '../findinput/findInput.js';\nimport { unthemedInboxStyles } from '../inputbox/inputBox.js';\nimport { ElementsDragAndDropData } from '../list/listView.js';\nimport { isButton, isInputElement, isMonacoEditor, List, MouseController } from '../list/listWidget.js';\nimport { Toggle, unthemedToggleStyles } from '../toggle/toggle.js';\nimport { getVisibleState, isFilterResult } from './indexTreeModel.js';\nimport { TreeMouseEventTarget } from './tree.js';\nimport { Action } from '../../../common/actions.js';\nimport { distinct, equals, range } from '../../../common/arrays.js';\nimport { disposableTimeout, timeout } from '../../../common/async.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport { ThemeIcon } from '../../../common/themables.js';\nimport { SetMap } from '../../../common/collections.js';\nimport { Emitter, Event, EventBufferer, Relay } from '../../../common/event.js';\nimport { fuzzyScore, FuzzyScore } from '../../../common/filters.js';\nimport { Disposable, DisposableStore, dispose, toDisposable } from '../../../common/lifecycle.js';\nimport { clamp } from '../../../common/numbers.js';\nimport { isNumber } from '../../../common/types.js';\nimport './media/tree.css';\nimport { localize } from '../../../../nls.js';\nclass TreeElementsDragAndDropData extends ElementsDragAndDropData {\n    constructor(data) {\n        super(data.elements.map(node => node.element));\n        this.data = data;\n    }\n}\nfunction asTreeDragAndDropData(data) {\n    if (data instanceof ElementsDragAndDropData) {\n        return new TreeElementsDragAndDropData(data);\n    }\n    return data;\n}\nclass TreeNodeListDragAndDrop {\n    constructor(modelProvider, dnd) {\n        this.modelProvider = modelProvider;\n        this.dnd = dnd;\n        this.autoExpandDisposable = Disposable.None;\n    }\n    getDragURI(node) {\n        return this.dnd.getDragURI(node.element);\n    }\n    getDragLabel(nodes, originalEvent) {\n        if (this.dnd.getDragLabel) {\n            return this.dnd.getDragLabel(nodes.map(node => node.element), originalEvent);\n        }\n        return undefined;\n    }\n    onDragStart(data, originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, asTreeDragAndDropData(data), originalEvent);\n    }\n    onDragOver(data, targetNode, targetIndex, originalEvent, raw = true) {\n        const result = this.dnd.onDragOver(asTreeDragAndDropData(data), targetNode && targetNode.element, targetIndex, originalEvent);\n        const didChangeAutoExpandNode = this.autoExpandNode !== targetNode;\n        if (didChangeAutoExpandNode) {\n            this.autoExpandDisposable.dispose();\n            this.autoExpandNode = targetNode;\n        }\n        if (typeof targetNode === 'undefined') {\n            return result;\n        }\n        if (didChangeAutoExpandNode && typeof result !== 'boolean' && result.autoExpand) {\n            this.autoExpandDisposable = disposableTimeout(() => {\n                const model = this.modelProvider();\n                const ref = model.getNodeLocation(targetNode);\n                if (model.isCollapsed(ref)) {\n                    model.setCollapsed(ref, false);\n                }\n                this.autoExpandNode = undefined;\n            }, 500);\n        }\n        if (typeof result === 'boolean' || !result.accept || typeof result.bubble === 'undefined' || result.feedback) {\n            if (!raw) {\n                const accept = typeof result === 'boolean' ? result : result.accept;\n                const effect = typeof result === 'boolean' ? undefined : result.effect;\n                return { accept, effect, feedback: [targetIndex] };\n            }\n            return result;\n        }\n        if (result.bubble === 1 /* TreeDragOverBubble.Up */) {\n            const model = this.modelProvider();\n            const ref = model.getNodeLocation(targetNode);\n            const parentRef = model.getParentNodeLocation(ref);\n            const parentNode = model.getNode(parentRef);\n            const parentIndex = parentRef && model.getListIndex(parentRef);\n            return this.onDragOver(data, parentNode, parentIndex, originalEvent, false);\n        }\n        const model = this.modelProvider();\n        const ref = model.getNodeLocation(targetNode);\n        const start = model.getListIndex(ref);\n        const length = model.getListRenderCount(ref);\n        return Object.assign(Object.assign({}, result), { feedback: range(start, start + length) });\n    }\n    drop(data, targetNode, targetIndex, originalEvent) {\n        this.autoExpandDisposable.dispose();\n        this.autoExpandNode = undefined;\n        this.dnd.drop(asTreeDragAndDropData(data), targetNode && targetNode.element, targetIndex, originalEvent);\n    }\n    onDragEnd(originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, originalEvent);\n    }\n}\nfunction asListOptions(modelProvider, options) {\n    return options && Object.assign(Object.assign({}, options), { identityProvider: options.identityProvider && {\n            getId(el) {\n                return options.identityProvider.getId(el.element);\n            }\n        }, dnd: options.dnd && new TreeNodeListDragAndDrop(modelProvider, options.dnd), multipleSelectionController: options.multipleSelectionController && {\n            isSelectionSingleChangeEvent(e) {\n                return options.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({}, e), { element: e.element }));\n            },\n            isSelectionRangeChangeEvent(e) {\n                return options.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({}, e), { element: e.element }));\n            }\n        }, accessibilityProvider: options.accessibilityProvider && Object.assign(Object.assign({}, options.accessibilityProvider), { getSetSize(node) {\n                const model = modelProvider();\n                const ref = model.getNodeLocation(node);\n                const parentRef = model.getParentNodeLocation(ref);\n                const parentNode = model.getNode(parentRef);\n                return parentNode.visibleChildrenCount;\n            },\n            getPosInSet(node) {\n                return node.visibleChildIndex + 1;\n            }, isChecked: options.accessibilityProvider && options.accessibilityProvider.isChecked ? (node) => {\n                return options.accessibilityProvider.isChecked(node.element);\n            } : undefined, getRole: options.accessibilityProvider && options.accessibilityProvider.getRole ? (node) => {\n                return options.accessibilityProvider.getRole(node.element);\n            } : () => 'treeitem', getAriaLabel(e) {\n                return options.accessibilityProvider.getAriaLabel(e.element);\n            },\n            getWidgetAriaLabel() {\n                return options.accessibilityProvider.getWidgetAriaLabel();\n            }, getWidgetRole: options.accessibilityProvider && options.accessibilityProvider.getWidgetRole ? () => options.accessibilityProvider.getWidgetRole() : () => 'tree', getAriaLevel: options.accessibilityProvider && options.accessibilityProvider.getAriaLevel ? (node) => options.accessibilityProvider.getAriaLevel(node.element) : (node) => {\n                return node.depth;\n            }, getActiveDescendantId: options.accessibilityProvider.getActiveDescendantId && (node => {\n                return options.accessibilityProvider.getActiveDescendantId(node.element);\n            }) }), keyboardNavigationLabelProvider: options.keyboardNavigationLabelProvider && Object.assign(Object.assign({}, options.keyboardNavigationLabelProvider), { getKeyboardNavigationLabel(node) {\n                return options.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(node.element);\n            } }) });\n}\nexport class ComposedTreeDelegate {\n    constructor(delegate) {\n        this.delegate = delegate;\n    }\n    getHeight(element) {\n        return this.delegate.getHeight(element.element);\n    }\n    getTemplateId(element) {\n        return this.delegate.getTemplateId(element.element);\n    }\n    hasDynamicHeight(element) {\n        return !!this.delegate.hasDynamicHeight && this.delegate.hasDynamicHeight(element.element);\n    }\n    setDynamicHeight(element, height) {\n        var _a, _b;\n        (_b = (_a = this.delegate).setDynamicHeight) === null || _b === void 0 ? void 0 : _b.call(_a, element.element, height);\n    }\n}\nexport var RenderIndentGuides;\n(function (RenderIndentGuides) {\n    RenderIndentGuides[\"None\"] = \"none\";\n    RenderIndentGuides[\"OnHover\"] = \"onHover\";\n    RenderIndentGuides[\"Always\"] = \"always\";\n})(RenderIndentGuides || (RenderIndentGuides = {}));\nclass EventCollection {\n    get elements() {\n        return this._elements;\n    }\n    constructor(onDidChange, _elements = []) {\n        this._elements = _elements;\n        this.disposables = new DisposableStore();\n        this.onDidChange = Event.forEach(onDidChange, elements => this._elements = elements, this.disposables);\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nclass TreeRenderer {\n    constructor(renderer, modelProvider, onDidChangeCollapseState, activeNodes, renderedIndentGuides, options = {}) {\n        var _a;\n        this.renderer = renderer;\n        this.modelProvider = modelProvider;\n        this.activeNodes = activeNodes;\n        this.renderedIndentGuides = renderedIndentGuides;\n        this.renderedElements = new Map();\n        this.renderedNodes = new Map();\n        this.indent = TreeRenderer.DefaultIndent;\n        this.hideTwistiesOfChildlessElements = false;\n        this.shouldRenderIndentGuides = false;\n        this.activeIndentNodes = new Set();\n        this.indentGuidesDisposable = Disposable.None;\n        this.disposables = new DisposableStore();\n        this.templateId = renderer.templateId;\n        this.updateOptions(options);\n        Event.map(onDidChangeCollapseState, e => e.node)(this.onDidChangeNodeTwistieState, this, this.disposables);\n        (_a = renderer.onDidChangeTwistieState) === null || _a === void 0 ? void 0 : _a.call(renderer, this.onDidChangeTwistieState, this, this.disposables);\n    }\n    updateOptions(options = {}) {\n        if (typeof options.indent !== 'undefined') {\n            const indent = clamp(options.indent, 0, 40);\n            if (indent !== this.indent) {\n                this.indent = indent;\n                for (const [node, templateData] of this.renderedNodes) {\n                    this.renderTreeElement(node, templateData);\n                }\n            }\n        }\n        if (typeof options.renderIndentGuides !== 'undefined') {\n            const shouldRenderIndentGuides = options.renderIndentGuides !== RenderIndentGuides.None;\n            if (shouldRenderIndentGuides !== this.shouldRenderIndentGuides) {\n                this.shouldRenderIndentGuides = shouldRenderIndentGuides;\n                for (const [node, templateData] of this.renderedNodes) {\n                    this._renderIndentGuides(node, templateData);\n                }\n                this.indentGuidesDisposable.dispose();\n                if (shouldRenderIndentGuides) {\n                    const disposables = new DisposableStore();\n                    this.activeNodes.onDidChange(this._onDidChangeActiveNodes, this, disposables);\n                    this.indentGuidesDisposable = disposables;\n                    this._onDidChangeActiveNodes(this.activeNodes.elements);\n                }\n            }\n        }\n        if (typeof options.hideTwistiesOfChildlessElements !== 'undefined') {\n            this.hideTwistiesOfChildlessElements = options.hideTwistiesOfChildlessElements;\n        }\n    }\n    renderTemplate(container) {\n        const el = append(container, $('.monaco-tl-row'));\n        const indent = append(el, $('.monaco-tl-indent'));\n        const twistie = append(el, $('.monaco-tl-twistie'));\n        const contents = append(el, $('.monaco-tl-contents'));\n        const templateData = this.renderer.renderTemplate(contents);\n        return { container, indent, twistie, indentGuidesDisposable: Disposable.None, templateData };\n    }\n    renderElement(node, index, templateData, height) {\n        this.renderedNodes.set(node, templateData);\n        this.renderedElements.set(node.element, node);\n        this.renderTreeElement(node, templateData);\n        this.renderer.renderElement(node, index, templateData.templateData, height);\n    }\n    disposeElement(node, index, templateData, height) {\n        var _a, _b;\n        templateData.indentGuidesDisposable.dispose();\n        (_b = (_a = this.renderer).disposeElement) === null || _b === void 0 ? void 0 : _b.call(_a, node, index, templateData.templateData, height);\n        if (typeof height === 'number') {\n            this.renderedNodes.delete(node);\n            this.renderedElements.delete(node.element);\n        }\n    }\n    disposeTemplate(templateData) {\n        this.renderer.disposeTemplate(templateData.templateData);\n    }\n    onDidChangeTwistieState(element) {\n        const node = this.renderedElements.get(element);\n        if (!node) {\n            return;\n        }\n        this.onDidChangeNodeTwistieState(node);\n    }\n    onDidChangeNodeTwistieState(node) {\n        const templateData = this.renderedNodes.get(node);\n        if (!templateData) {\n            return;\n        }\n        this._onDidChangeActiveNodes(this.activeNodes.elements);\n        this.renderTreeElement(node, templateData);\n    }\n    renderTreeElement(node, templateData) {\n        const indent = TreeRenderer.DefaultIndent + (node.depth - 1) * this.indent;\n        templateData.twistie.style.paddingLeft = `${indent}px`;\n        templateData.indent.style.width = `${indent + this.indent - 16}px`;\n        if (node.collapsible) {\n            templateData.container.setAttribute('aria-expanded', String(!node.collapsed));\n        }\n        else {\n            templateData.container.removeAttribute('aria-expanded');\n        }\n        templateData.twistie.classList.remove(...ThemeIcon.asClassNameArray(Codicon.treeItemExpanded));\n        let twistieRendered = false;\n        if (this.renderer.renderTwistie) {\n            twistieRendered = this.renderer.renderTwistie(node.element, templateData.twistie);\n        }\n        if (node.collapsible && (!this.hideTwistiesOfChildlessElements || node.visibleChildrenCount > 0)) {\n            if (!twistieRendered) {\n                templateData.twistie.classList.add(...ThemeIcon.asClassNameArray(Codicon.treeItemExpanded));\n            }\n            templateData.twistie.classList.add('collapsible');\n            templateData.twistie.classList.toggle('collapsed', node.collapsed);\n        }\n        else {\n            templateData.twistie.classList.remove('collapsible', 'collapsed');\n        }\n        this._renderIndentGuides(node, templateData);\n    }\n    _renderIndentGuides(node, templateData) {\n        clearNode(templateData.indent);\n        templateData.indentGuidesDisposable.dispose();\n        if (!this.shouldRenderIndentGuides) {\n            return;\n        }\n        const disposableStore = new DisposableStore();\n        const model = this.modelProvider();\n        while (true) {\n            const ref = model.getNodeLocation(node);\n            const parentRef = model.getParentNodeLocation(ref);\n            if (!parentRef) {\n                break;\n            }\n            const parent = model.getNode(parentRef);\n            const guide = $('.indent-guide', { style: `width: ${this.indent}px` });\n            if (this.activeIndentNodes.has(parent)) {\n                guide.classList.add('active');\n            }\n            if (templateData.indent.childElementCount === 0) {\n                templateData.indent.appendChild(guide);\n            }\n            else {\n                templateData.indent.insertBefore(guide, templateData.indent.firstElementChild);\n            }\n            this.renderedIndentGuides.add(parent, guide);\n            disposableStore.add(toDisposable(() => this.renderedIndentGuides.delete(parent, guide)));\n            node = parent;\n        }\n        templateData.indentGuidesDisposable = disposableStore;\n    }\n    _onDidChangeActiveNodes(nodes) {\n        if (!this.shouldRenderIndentGuides) {\n            return;\n        }\n        const set = new Set();\n        const model = this.modelProvider();\n        nodes.forEach(node => {\n            const ref = model.getNodeLocation(node);\n            try {\n                const parentRef = model.getParentNodeLocation(ref);\n                if (node.collapsible && node.children.length > 0 && !node.collapsed) {\n                    set.add(node);\n                }\n                else if (parentRef) {\n                    set.add(model.getNode(parentRef));\n                }\n            }\n            catch (_a) {\n                // noop\n            }\n        });\n        this.activeIndentNodes.forEach(node => {\n            if (!set.has(node)) {\n                this.renderedIndentGuides.forEach(node, line => line.classList.remove('active'));\n            }\n        });\n        set.forEach(node => {\n            if (!this.activeIndentNodes.has(node)) {\n                this.renderedIndentGuides.forEach(node, line => line.classList.add('active'));\n            }\n        });\n        this.activeIndentNodes = set;\n    }\n    dispose() {\n        this.renderedNodes.clear();\n        this.renderedElements.clear();\n        this.indentGuidesDisposable.dispose();\n        dispose(this.disposables);\n    }\n}\nTreeRenderer.DefaultIndent = 8;\nclass FindFilter {\n    get totalCount() { return this._totalCount; }\n    get matchCount() { return this._matchCount; }\n    constructor(tree, keyboardNavigationLabelProvider, _filter) {\n        this.tree = tree;\n        this.keyboardNavigationLabelProvider = keyboardNavigationLabelProvider;\n        this._filter = _filter;\n        this._totalCount = 0;\n        this._matchCount = 0;\n        this._pattern = '';\n        this._lowercasePattern = '';\n        this.disposables = new DisposableStore();\n        tree.onWillRefilter(this.reset, this, this.disposables);\n    }\n    filter(element, parentVisibility) {\n        let visibility = 1 /* TreeVisibility.Visible */;\n        if (this._filter) {\n            const result = this._filter.filter(element, parentVisibility);\n            if (typeof result === 'boolean') {\n                visibility = result ? 1 /* TreeVisibility.Visible */ : 0 /* TreeVisibility.Hidden */;\n            }\n            else if (isFilterResult(result)) {\n                visibility = getVisibleState(result.visibility);\n            }\n            else {\n                visibility = result;\n            }\n            if (visibility === 0 /* TreeVisibility.Hidden */) {\n                return false;\n            }\n        }\n        this._totalCount++;\n        if (!this._pattern) {\n            this._matchCount++;\n            return { data: FuzzyScore.Default, visibility };\n        }\n        const label = this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(element);\n        const labels = Array.isArray(label) ? label : [label];\n        for (const l of labels) {\n            const labelStr = l && l.toString();\n            if (typeof labelStr === 'undefined') {\n                return { data: FuzzyScore.Default, visibility };\n            }\n            let score;\n            if (this.tree.findMatchType === TreeFindMatchType.Contiguous) {\n                const index = labelStr.toLowerCase().indexOf(this._lowercasePattern);\n                if (index > -1) {\n                    score = [Number.MAX_SAFE_INTEGER, 0];\n                    for (let i = this._lowercasePattern.length; i > 0; i--) {\n                        score.push(index + i - 1);\n                    }\n                }\n            }\n            else {\n                score = fuzzyScore(this._pattern, this._lowercasePattern, 0, labelStr, labelStr.toLowerCase(), 0, { firstMatchCanBeWeak: true, boostFullMatch: true });\n            }\n            if (score) {\n                this._matchCount++;\n                return labels.length === 1 ?\n                    { data: score, visibility } :\n                    { data: { label: labelStr, score: score }, visibility };\n            }\n        }\n        if (this.tree.findMode === TreeFindMode.Filter) {\n            if (typeof this.tree.options.defaultFindVisibility === 'number') {\n                return this.tree.options.defaultFindVisibility;\n            }\n            else if (this.tree.options.defaultFindVisibility) {\n                return this.tree.options.defaultFindVisibility(element);\n            }\n            else {\n                return 2 /* TreeVisibility.Recurse */;\n            }\n        }\n        else {\n            return { data: FuzzyScore.Default, visibility };\n        }\n    }\n    reset() {\n        this._totalCount = 0;\n        this._matchCount = 0;\n    }\n    dispose() {\n        dispose(this.disposables);\n    }\n}\nexport class ModeToggle extends Toggle {\n    constructor(opts) {\n        var _a;\n        super({\n            icon: Codicon.listFilter,\n            title: localize('filter', \"Filter\"),\n            isChecked: (_a = opts.isChecked) !== null && _a !== void 0 ? _a : false,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class FuzzyToggle extends Toggle {\n    constructor(opts) {\n        var _a;\n        super({\n            icon: Codicon.searchFuzzy,\n            title: localize('fuzzySearch', \"Fuzzy Match\"),\n            isChecked: (_a = opts.isChecked) !== null && _a !== void 0 ? _a : false,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nconst unthemedFindWidgetStyles = {\n    inputBoxStyles: unthemedInboxStyles,\n    toggleStyles: unthemedToggleStyles,\n    listFilterWidgetBackground: undefined,\n    listFilterWidgetNoMatchesOutline: undefined,\n    listFilterWidgetOutline: undefined,\n    listFilterWidgetShadow: undefined\n};\nexport var TreeFindMode;\n(function (TreeFindMode) {\n    TreeFindMode[TreeFindMode[\"Highlight\"] = 0] = \"Highlight\";\n    TreeFindMode[TreeFindMode[\"Filter\"] = 1] = \"Filter\";\n})(TreeFindMode || (TreeFindMode = {}));\nexport var TreeFindMatchType;\n(function (TreeFindMatchType) {\n    TreeFindMatchType[TreeFindMatchType[\"Fuzzy\"] = 0] = \"Fuzzy\";\n    TreeFindMatchType[TreeFindMatchType[\"Contiguous\"] = 1] = \"Contiguous\";\n})(TreeFindMatchType || (TreeFindMatchType = {}));\nclass FindWidget extends Disposable {\n    set mode(mode) {\n        this.modeToggle.checked = mode === TreeFindMode.Filter;\n        this.findInput.inputBox.setPlaceHolder(mode === TreeFindMode.Filter ? localize('type to filter', \"Type to filter\") : localize('type to search', \"Type to search\"));\n    }\n    set matchType(matchType) {\n        this.matchTypeToggle.checked = matchType === TreeFindMatchType.Fuzzy;\n    }\n    constructor(container, tree, contextViewProvider, mode, matchType, options) {\n        var _a;\n        super();\n        this.tree = tree;\n        this.elements = h('.monaco-tree-type-filter', [\n            h('.monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab', { tabIndex: 0 }),\n            h('.monaco-tree-type-filter-input@findInput'),\n            h('.monaco-tree-type-filter-actionbar@actionbar'),\n        ]);\n        this.width = 0;\n        this.right = 0;\n        this.top = 0;\n        this._onDidDisable = new Emitter();\n        container.appendChild(this.elements.root);\n        this._register(toDisposable(() => container.removeChild(this.elements.root)));\n        const styles = (_a = options === null || options === void 0 ? void 0 : options.styles) !== null && _a !== void 0 ? _a : unthemedFindWidgetStyles;\n        if (styles.listFilterWidgetBackground) {\n            this.elements.root.style.backgroundColor = styles.listFilterWidgetBackground;\n        }\n        if (styles.listFilterWidgetShadow) {\n            this.elements.root.style.boxShadow = `0 0 8px 2px ${styles.listFilterWidgetShadow}`;\n        }\n        this.modeToggle = this._register(new ModeToggle(Object.assign(Object.assign({}, styles.toggleStyles), { isChecked: mode === TreeFindMode.Filter })));\n        this.matchTypeToggle = this._register(new FuzzyToggle(Object.assign(Object.assign({}, styles.toggleStyles), { isChecked: matchType === TreeFindMatchType.Fuzzy })));\n        this.onDidChangeMode = Event.map(this.modeToggle.onChange, () => this.modeToggle.checked ? TreeFindMode.Filter : TreeFindMode.Highlight, this._store);\n        this.onDidChangeMatchType = Event.map(this.matchTypeToggle.onChange, () => this.matchTypeToggle.checked ? TreeFindMatchType.Fuzzy : TreeFindMatchType.Contiguous, this._store);\n        this.findInput = this._register(new FindInput(this.elements.findInput, contextViewProvider, {\n            label: localize('type to search', \"Type to search\"),\n            additionalToggles: [this.modeToggle, this.matchTypeToggle],\n            showCommonFindToggles: false,\n            inputBoxStyles: styles.inputBoxStyles,\n            toggleStyles: styles.toggleStyles,\n            history: options === null || options === void 0 ? void 0 : options.history\n        }));\n        this.actionbar = this._register(new ActionBar(this.elements.actionbar));\n        this.mode = mode;\n        const emitter = this._register(new DomEmitter(this.findInput.inputBox.inputElement, 'keydown'));\n        const onKeyDown = this._register(Event.chain(emitter.event))\n            .map(e => new StandardKeyboardEvent(e))\n            .event;\n        this._register(onKeyDown((e) => {\n            // Using equals() so we reserve modified keys for future use\n            if (e.equals(3 /* KeyCode.Enter */)) {\n                // This is the only keyboard way to return to the tree from a history item that isn't the last one\n                e.preventDefault();\n                e.stopPropagation();\n                this.findInput.inputBox.addToHistory();\n                this.tree.domFocus();\n                return;\n            }\n            if (e.equals(18 /* KeyCode.DownArrow */)) {\n                e.preventDefault();\n                e.stopPropagation();\n                if (this.findInput.inputBox.isAtLastInHistory() || this.findInput.inputBox.isNowhereInHistory()) {\n                    // Retain original pre-history DownArrow behavior\n                    this.findInput.inputBox.addToHistory();\n                    this.tree.domFocus();\n                }\n                else {\n                    // Downward through history\n                    this.findInput.inputBox.showNextValue();\n                }\n                return;\n            }\n            if (e.equals(16 /* KeyCode.UpArrow */)) {\n                e.preventDefault();\n                e.stopPropagation();\n                // Upward through history\n                this.findInput.inputBox.showPreviousValue();\n                return;\n            }\n        }));\n        const closeAction = this._register(new Action('close', localize('close', \"Close\"), 'codicon codicon-close', true, () => this.dispose()));\n        this.actionbar.push(closeAction, { icon: true, label: false });\n        const onGrabMouseDown = this._register(new DomEmitter(this.elements.grab, 'mousedown'));\n        this._register(onGrabMouseDown.event(e => {\n            const disposables = new DisposableStore();\n            const onWindowMouseMove = disposables.add(new DomEmitter(window, 'mousemove'));\n            const onWindowMouseUp = disposables.add(new DomEmitter(window, 'mouseup'));\n            const startRight = this.right;\n            const startX = e.pageX;\n            const startTop = this.top;\n            const startY = e.pageY;\n            this.elements.grab.classList.add('grabbing');\n            const transition = this.elements.root.style.transition;\n            this.elements.root.style.transition = 'unset';\n            const update = (e) => {\n                const deltaX = e.pageX - startX;\n                this.right = startRight - deltaX;\n                const deltaY = e.pageY - startY;\n                this.top = startTop + deltaY;\n                this.layout();\n            };\n            disposables.add(onWindowMouseMove.event(update));\n            disposables.add(onWindowMouseUp.event(e => {\n                update(e);\n                this.elements.grab.classList.remove('grabbing');\n                this.elements.root.style.transition = transition;\n                disposables.dispose();\n            }));\n        }));\n        const onGrabKeyDown = this._register(Event.chain(this._register(new DomEmitter(this.elements.grab, 'keydown')).event))\n            .map(e => new StandardKeyboardEvent(e))\n            .event;\n        this._register(onGrabKeyDown((e) => {\n            let right;\n            let top;\n            if (e.keyCode === 15 /* KeyCode.LeftArrow */) {\n                right = Number.POSITIVE_INFINITY;\n            }\n            else if (e.keyCode === 17 /* KeyCode.RightArrow */) {\n                right = 0;\n            }\n            else if (e.keyCode === 10 /* KeyCode.Space */) {\n                right = this.right === 0 ? Number.POSITIVE_INFINITY : 0;\n            }\n            if (e.keyCode === 16 /* KeyCode.UpArrow */) {\n                top = 0;\n            }\n            else if (e.keyCode === 18 /* KeyCode.DownArrow */) {\n                top = Number.POSITIVE_INFINITY;\n            }\n            if (right !== undefined) {\n                e.preventDefault();\n                e.stopPropagation();\n                this.right = right;\n                this.layout();\n            }\n            if (top !== undefined) {\n                e.preventDefault();\n                e.stopPropagation();\n                this.top = top;\n                const transition = this.elements.root.style.transition;\n                this.elements.root.style.transition = 'unset';\n                this.layout();\n                setTimeout(() => {\n                    this.elements.root.style.transition = transition;\n                }, 0);\n            }\n        }));\n        this.onDidChangeValue = this.findInput.onDidChange;\n    }\n    layout(width = this.width) {\n        this.width = width;\n        this.right = clamp(this.right, 0, Math.max(0, width - 212));\n        this.elements.root.style.right = `${this.right}px`;\n        this.top = clamp(this.top, 0, 24);\n        this.elements.root.style.top = `${this.top}px`;\n    }\n    showMessage(message) {\n        this.findInput.showMessage(message);\n    }\n    clearMessage() {\n        this.findInput.clearMessage();\n    }\n    dispose() {\n        const _super = Object.create(null, {\n            dispose: { get: () => super.dispose }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            this._onDidDisable.fire();\n            this.elements.root.classList.add('disabled');\n            yield timeout(300);\n            _super.dispose.call(this);\n        });\n    }\n}\nclass FindController {\n    get pattern() { return this._pattern; }\n    get mode() { return this._mode; }\n    set mode(mode) {\n        if (mode === this._mode) {\n            return;\n        }\n        this._mode = mode;\n        if (this.widget) {\n            this.widget.mode = this._mode;\n        }\n        this.tree.refilter();\n        this.render();\n        this._onDidChangeMode.fire(mode);\n    }\n    get matchType() { return this._matchType; }\n    set matchType(matchType) {\n        if (matchType === this._matchType) {\n            return;\n        }\n        this._matchType = matchType;\n        if (this.widget) {\n            this.widget.matchType = this._matchType;\n        }\n        this.tree.refilter();\n        this.render();\n        this._onDidChangeMatchType.fire(matchType);\n    }\n    constructor(tree, model, view, filter, contextViewProvider, options = {}) {\n        var _a, _b;\n        this.tree = tree;\n        this.view = view;\n        this.filter = filter;\n        this.contextViewProvider = contextViewProvider;\n        this.options = options;\n        this._pattern = '';\n        this.width = 0;\n        this._onDidChangeMode = new Emitter();\n        this.onDidChangeMode = this._onDidChangeMode.event;\n        this._onDidChangeMatchType = new Emitter();\n        this.onDidChangeMatchType = this._onDidChangeMatchType.event;\n        this._onDidChangePattern = new Emitter();\n        this._onDidChangeOpenState = new Emitter();\n        this.onDidChangeOpenState = this._onDidChangeOpenState.event;\n        this.enabledDisposables = new DisposableStore();\n        this.disposables = new DisposableStore();\n        this._mode = (_a = tree.options.defaultFindMode) !== null && _a !== void 0 ? _a : TreeFindMode.Highlight;\n        this._matchType = (_b = tree.options.defaultFindMatchType) !== null && _b !== void 0 ? _b : TreeFindMatchType.Fuzzy;\n        model.onDidSplice(this.onDidSpliceModel, this, this.disposables);\n    }\n    updateOptions(optionsUpdate = {}) {\n        if (optionsUpdate.defaultFindMode !== undefined) {\n            this.mode = optionsUpdate.defaultFindMode;\n        }\n        if (optionsUpdate.defaultFindMatchType !== undefined) {\n            this.matchType = optionsUpdate.defaultFindMatchType;\n        }\n    }\n    onDidSpliceModel() {\n        if (!this.widget || this.pattern.length === 0) {\n            return;\n        }\n        this.tree.refilter();\n        this.render();\n    }\n    render() {\n        var _a, _b, _c, _d;\n        const noMatches = this.filter.totalCount > 0 && this.filter.matchCount === 0;\n        if (this.pattern && noMatches) {\n            if ((_a = this.tree.options.showNotFoundMessage) !== null && _a !== void 0 ? _a : true) {\n                (_b = this.widget) === null || _b === void 0 ? void 0 : _b.showMessage({ type: 2 /* MessageType.WARNING */, content: localize('not found', \"No elements found.\") });\n            }\n            else {\n                (_c = this.widget) === null || _c === void 0 ? void 0 : _c.showMessage({ type: 2 /* MessageType.WARNING */ });\n            }\n        }\n        else {\n            (_d = this.widget) === null || _d === void 0 ? void 0 : _d.clearMessage();\n        }\n    }\n    shouldAllowFocus(node) {\n        if (!this.widget || !this.pattern || this._mode === TreeFindMode.Filter) {\n            return true;\n        }\n        if (this.filter.totalCount > 0 && this.filter.matchCount <= 1) {\n            return true;\n        }\n        return !FuzzyScore.isDefault(node.filterData);\n    }\n    layout(width) {\n        var _a;\n        this.width = width;\n        (_a = this.widget) === null || _a === void 0 ? void 0 : _a.layout(width);\n    }\n    dispose() {\n        this._history = undefined;\n        this._onDidChangePattern.dispose();\n        this.enabledDisposables.dispose();\n        this.disposables.dispose();\n    }\n}\nfunction asTreeMouseEvent(event) {\n    let target = TreeMouseEventTarget.Unknown;\n    if (hasParentWithClass(event.browserEvent.target, 'monaco-tl-twistie', 'monaco-tl-row')) {\n        target = TreeMouseEventTarget.Twistie;\n    }\n    else if (hasParentWithClass(event.browserEvent.target, 'monaco-tl-contents', 'monaco-tl-row')) {\n        target = TreeMouseEventTarget.Element;\n    }\n    else if (hasParentWithClass(event.browserEvent.target, 'monaco-tree-type-filter', 'monaco-list')) {\n        target = TreeMouseEventTarget.Filter;\n    }\n    return {\n        browserEvent: event.browserEvent,\n        element: event.element ? event.element.element : null,\n        target\n    };\n}\nfunction dfs(node, fn) {\n    fn(node);\n    node.children.forEach(child => dfs(child, fn));\n}\n/**\n * The trait concept needs to exist at the tree level, because collapsed\n * tree nodes will not be known by the list.\n */\nclass Trait {\n    get nodeSet() {\n        if (!this._nodeSet) {\n            this._nodeSet = this.createNodeSet();\n        }\n        return this._nodeSet;\n    }\n    constructor(getFirstViewElementWithTrait, identityProvider) {\n        this.getFirstViewElementWithTrait = getFirstViewElementWithTrait;\n        this.identityProvider = identityProvider;\n        this.nodes = [];\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n    }\n    set(nodes, browserEvent) {\n        if (!(browserEvent === null || browserEvent === void 0 ? void 0 : browserEvent.__forceEvent) && equals(this.nodes, nodes)) {\n            return;\n        }\n        this._set(nodes, false, browserEvent);\n    }\n    _set(nodes, silent, browserEvent) {\n        this.nodes = [...nodes];\n        this.elements = undefined;\n        this._nodeSet = undefined;\n        if (!silent) {\n            const that = this;\n            this._onDidChange.fire({ get elements() { return that.get(); }, browserEvent });\n        }\n    }\n    get() {\n        if (!this.elements) {\n            this.elements = this.nodes.map(node => node.element);\n        }\n        return [...this.elements];\n    }\n    getNodes() {\n        return this.nodes;\n    }\n    has(node) {\n        return this.nodeSet.has(node);\n    }\n    onDidModelSplice({ insertedNodes, deletedNodes }) {\n        if (!this.identityProvider) {\n            const set = this.createNodeSet();\n            const visit = (node) => set.delete(node);\n            deletedNodes.forEach(node => dfs(node, visit));\n            this.set([...set.values()]);\n            return;\n        }\n        const deletedNodesIdSet = new Set();\n        const deletedNodesVisitor = (node) => deletedNodesIdSet.add(this.identityProvider.getId(node.element).toString());\n        deletedNodes.forEach(node => dfs(node, deletedNodesVisitor));\n        const insertedNodesMap = new Map();\n        const insertedNodesVisitor = (node) => insertedNodesMap.set(this.identityProvider.getId(node.element).toString(), node);\n        insertedNodes.forEach(node => dfs(node, insertedNodesVisitor));\n        const nodes = [];\n        for (const node of this.nodes) {\n            const id = this.identityProvider.getId(node.element).toString();\n            const wasDeleted = deletedNodesIdSet.has(id);\n            if (!wasDeleted) {\n                nodes.push(node);\n            }\n            else {\n                const insertedNode = insertedNodesMap.get(id);\n                if (insertedNode) {\n                    nodes.push(insertedNode);\n                }\n            }\n        }\n        if (this.nodes.length > 0 && nodes.length === 0) {\n            const node = this.getFirstViewElementWithTrait();\n            if (node) {\n                nodes.push(node);\n            }\n        }\n        this._set(nodes, true);\n    }\n    createNodeSet() {\n        const set = new Set();\n        for (const node of this.nodes) {\n            set.add(node);\n        }\n        return set;\n    }\n}\nclass TreeNodeListMouseController extends MouseController {\n    constructor(list, tree) {\n        super(list);\n        this.tree = tree;\n    }\n    onViewPointer(e) {\n        if (isButton(e.browserEvent.target) ||\n            isInputElement(e.browserEvent.target) ||\n            isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        const node = e.element;\n        if (!node) {\n            return super.onViewPointer(e);\n        }\n        if (this.isSelectionRangeChangeEvent(e) || this.isSelectionSingleChangeEvent(e)) {\n            return super.onViewPointer(e);\n        }\n        const target = e.browserEvent.target;\n        const onTwistie = target.classList.contains('monaco-tl-twistie')\n            || (target.classList.contains('monaco-icon-label') && target.classList.contains('folder-icon') && e.browserEvent.offsetX < 16);\n        let expandOnlyOnTwistieClick = false;\n        if (typeof this.tree.expandOnlyOnTwistieClick === 'function') {\n            expandOnlyOnTwistieClick = this.tree.expandOnlyOnTwistieClick(node.element);\n        }\n        else {\n            expandOnlyOnTwistieClick = !!this.tree.expandOnlyOnTwistieClick;\n        }\n        if (expandOnlyOnTwistieClick && !onTwistie && e.browserEvent.detail !== 2) {\n            return super.onViewPointer(e);\n        }\n        if (!this.tree.expandOnDoubleClick && e.browserEvent.detail === 2) {\n            return super.onViewPointer(e);\n        }\n        if (node.collapsible) {\n            const location = this.tree.getNodeLocation(node);\n            const recursive = e.browserEvent.altKey;\n            this.tree.setFocus([location]);\n            this.tree.toggleCollapsed(location, recursive);\n            if (expandOnlyOnTwistieClick && onTwistie) {\n                return;\n            }\n        }\n        super.onViewPointer(e);\n    }\n    onDoubleClick(e) {\n        const onTwistie = e.browserEvent.target.classList.contains('monaco-tl-twistie');\n        if (onTwistie || !this.tree.expandOnDoubleClick) {\n            return;\n        }\n        super.onDoubleClick(e);\n    }\n}\n/**\n * We use this List subclass to restore selection and focus as nodes\n * get rendered in the list, possibly due to a node expand() call.\n */\nclass TreeNodeList extends List {\n    constructor(user, container, virtualDelegate, renderers, focusTrait, selectionTrait, anchorTrait, options) {\n        super(user, container, virtualDelegate, renderers, options);\n        this.focusTrait = focusTrait;\n        this.selectionTrait = selectionTrait;\n        this.anchorTrait = anchorTrait;\n    }\n    createMouseController(options) {\n        return new TreeNodeListMouseController(this, options.tree);\n    }\n    splice(start, deleteCount, elements = []) {\n        super.splice(start, deleteCount, elements);\n        if (elements.length === 0) {\n            return;\n        }\n        const additionalFocus = [];\n        const additionalSelection = [];\n        let anchor;\n        elements.forEach((node, index) => {\n            if (this.focusTrait.has(node)) {\n                additionalFocus.push(start + index);\n            }\n            if (this.selectionTrait.has(node)) {\n                additionalSelection.push(start + index);\n            }\n            if (this.anchorTrait.has(node)) {\n                anchor = start + index;\n            }\n        });\n        if (additionalFocus.length > 0) {\n            super.setFocus(distinct([...super.getFocus(), ...additionalFocus]));\n        }\n        if (additionalSelection.length > 0) {\n            super.setSelection(distinct([...super.getSelection(), ...additionalSelection]));\n        }\n        if (typeof anchor === 'number') {\n            super.setAnchor(anchor);\n        }\n    }\n    setFocus(indexes, browserEvent, fromAPI = false) {\n        super.setFocus(indexes, browserEvent);\n        if (!fromAPI) {\n            this.focusTrait.set(indexes.map(i => this.element(i)), browserEvent);\n        }\n    }\n    setSelection(indexes, browserEvent, fromAPI = false) {\n        super.setSelection(indexes, browserEvent);\n        if (!fromAPI) {\n            this.selectionTrait.set(indexes.map(i => this.element(i)), browserEvent);\n        }\n    }\n    setAnchor(index, fromAPI = false) {\n        super.setAnchor(index);\n        if (!fromAPI) {\n            if (typeof index === 'undefined') {\n                this.anchorTrait.set([]);\n            }\n            else {\n                this.anchorTrait.set([this.element(index)]);\n            }\n        }\n    }\n}\nexport class AbstractTree {\n    get onDidChangeFocus() { return this.eventBufferer.wrapEvent(this.focus.onDidChange); }\n    get onDidChangeSelection() { return this.eventBufferer.wrapEvent(this.selection.onDidChange); }\n    get onMouseDblClick() { return Event.filter(Event.map(this.view.onMouseDblClick, asTreeMouseEvent), e => e.target !== TreeMouseEventTarget.Filter); }\n    get onPointer() { return Event.map(this.view.onPointer, asTreeMouseEvent); }\n    get onDidFocus() { return this.view.onDidFocus; }\n    get onDidChangeModel() { return Event.signal(this.model.onDidSplice); }\n    get onDidChangeCollapseState() { return this.model.onDidChangeCollapseState; }\n    get findMode() { var _a, _b; return (_b = (_a = this.findController) === null || _a === void 0 ? void 0 : _a.mode) !== null && _b !== void 0 ? _b : TreeFindMode.Highlight; }\n    set findMode(findMode) { if (this.findController) {\n        this.findController.mode = findMode;\n    } }\n    get findMatchType() { var _a, _b; return (_b = (_a = this.findController) === null || _a === void 0 ? void 0 : _a.matchType) !== null && _b !== void 0 ? _b : TreeFindMatchType.Fuzzy; }\n    set findMatchType(findFuzzy) { if (this.findController) {\n        this.findController.matchType = findFuzzy;\n    } }\n    get expandOnDoubleClick() { return typeof this._options.expandOnDoubleClick === 'undefined' ? true : this._options.expandOnDoubleClick; }\n    get expandOnlyOnTwistieClick() { return typeof this._options.expandOnlyOnTwistieClick === 'undefined' ? true : this._options.expandOnlyOnTwistieClick; }\n    get onDidDispose() { return this.view.onDidDispose; }\n    constructor(_user, container, delegate, renderers, _options = {}) {\n        var _a;\n        this._user = _user;\n        this._options = _options;\n        this.eventBufferer = new EventBufferer();\n        this.onDidChangeFindOpenState = Event.None;\n        this.disposables = new DisposableStore();\n        this._onWillRefilter = new Emitter();\n        this.onWillRefilter = this._onWillRefilter.event;\n        this._onDidUpdateOptions = new Emitter();\n        const treeDelegate = new ComposedTreeDelegate(delegate);\n        const onDidChangeCollapseStateRelay = new Relay();\n        const onDidChangeActiveNodes = new Relay();\n        const activeNodes = this.disposables.add(new EventCollection(onDidChangeActiveNodes.event));\n        const renderedIndentGuides = new SetMap();\n        this.renderers = renderers.map(r => new TreeRenderer(r, () => this.model, onDidChangeCollapseStateRelay.event, activeNodes, renderedIndentGuides, _options));\n        for (const r of this.renderers) {\n            this.disposables.add(r);\n        }\n        let filter;\n        if (_options.keyboardNavigationLabelProvider) {\n            filter = new FindFilter(this, _options.keyboardNavigationLabelProvider, _options.filter);\n            _options = Object.assign(Object.assign({}, _options), { filter: filter }); // TODO need typescript help here\n            this.disposables.add(filter);\n        }\n        this.focus = new Trait(() => this.view.getFocusedElements()[0], _options.identityProvider);\n        this.selection = new Trait(() => this.view.getSelectedElements()[0], _options.identityProvider);\n        this.anchor = new Trait(() => this.view.getAnchorElement(), _options.identityProvider);\n        this.view = new TreeNodeList(_user, container, treeDelegate, this.renderers, this.focus, this.selection, this.anchor, Object.assign(Object.assign({}, asListOptions(() => this.model, _options)), { tree: this }));\n        this.model = this.createModel(_user, this.view, _options);\n        onDidChangeCollapseStateRelay.input = this.model.onDidChangeCollapseState;\n        const onDidModelSplice = Event.forEach(this.model.onDidSplice, e => {\n            this.eventBufferer.bufferEvents(() => {\n                this.focus.onDidModelSplice(e);\n                this.selection.onDidModelSplice(e);\n            });\n        }, this.disposables);\n        // Make sure the `forEach` always runs\n        onDidModelSplice(() => null, null, this.disposables);\n        // Active nodes can change when the model changes or when focus or selection change.\n        // We debounce it with 0 delay since these events may fire in the same stack and we only\n        // want to run this once. It also doesn't matter if it runs on the next tick since it's only\n        // a nice to have UI feature.\n        onDidChangeActiveNodes.input = Event.chain(Event.any(onDidModelSplice, this.focus.onDidChange, this.selection.onDidChange))\n            .debounce(() => null, 0)\n            .map(() => {\n            const set = new Set();\n            for (const node of this.focus.getNodes()) {\n                set.add(node);\n            }\n            for (const node of this.selection.getNodes()) {\n                set.add(node);\n            }\n            return [...set.values()];\n        }).event;\n        if (_options.keyboardSupport !== false) {\n            const onKeyDown = Event.chain(this.view.onKeyDown)\n                .filter(e => !isInputElement(e.target))\n                .map(e => new StandardKeyboardEvent(e));\n            onKeyDown.filter(e => e.keyCode === 15 /* KeyCode.LeftArrow */).on(this.onLeftArrow, this, this.disposables);\n            onKeyDown.filter(e => e.keyCode === 17 /* KeyCode.RightArrow */).on(this.onRightArrow, this, this.disposables);\n            onKeyDown.filter(e => e.keyCode === 10 /* KeyCode.Space */).on(this.onSpace, this, this.disposables);\n        }\n        if (((_a = _options.findWidgetEnabled) !== null && _a !== void 0 ? _a : true) && _options.keyboardNavigationLabelProvider && _options.contextViewProvider) {\n            const opts = this.options.findWidgetStyles ? { styles: this.options.findWidgetStyles } : undefined;\n            this.findController = new FindController(this, this.model, this.view, filter, _options.contextViewProvider, opts);\n            this.focusNavigationFilter = node => this.findController.shouldAllowFocus(node);\n            this.onDidChangeFindOpenState = this.findController.onDidChangeOpenState;\n            this.disposables.add(this.findController);\n            this.onDidChangeFindMode = this.findController.onDidChangeMode;\n            this.onDidChangeFindMatchType = this.findController.onDidChangeMatchType;\n        }\n        else {\n            this.onDidChangeFindMode = Event.None;\n            this.onDidChangeFindMatchType = Event.None;\n        }\n        this.styleElement = createStyleSheet(this.view.getHTMLElement());\n        this.getHTMLElement().classList.toggle('always', this._options.renderIndentGuides === RenderIndentGuides.Always);\n    }\n    updateOptions(optionsUpdate = {}) {\n        var _a;\n        this._options = Object.assign(Object.assign({}, this._options), optionsUpdate);\n        for (const renderer of this.renderers) {\n            renderer.updateOptions(optionsUpdate);\n        }\n        this.view.updateOptions(this._options);\n        (_a = this.findController) === null || _a === void 0 ? void 0 : _a.updateOptions(optionsUpdate);\n        this._onDidUpdateOptions.fire(this._options);\n        this.getHTMLElement().classList.toggle('always', this._options.renderIndentGuides === RenderIndentGuides.Always);\n    }\n    get options() {\n        return this._options;\n    }\n    // Widget\n    getHTMLElement() {\n        return this.view.getHTMLElement();\n    }\n    get scrollTop() {\n        return this.view.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.view.scrollTop = scrollTop;\n    }\n    domFocus() {\n        this.view.domFocus();\n    }\n    layout(height, width) {\n        var _a;\n        this.view.layout(height, width);\n        if (isNumber(width)) {\n            (_a = this.findController) === null || _a === void 0 ? void 0 : _a.layout(width);\n        }\n    }\n    style(styles) {\n        const suffix = `.${this.view.domId}`;\n        const content = [];\n        if (styles.treeIndentGuidesStroke) {\n            content.push(`.monaco-list${suffix}:hover .monaco-tl-indent > .indent-guide, .monaco-list${suffix}.always .monaco-tl-indent > .indent-guide  { border-color: ${styles.treeInactiveIndentGuidesStroke}; }`);\n            content.push(`.monaco-list${suffix} .monaco-tl-indent > .indent-guide.active { border-color: ${styles.treeIndentGuidesStroke}; }`);\n        }\n        this.styleElement.textContent = content.join('\\n');\n        this.view.style(styles);\n    }\n    // Tree navigation\n    getParentElement(location) {\n        const parentRef = this.model.getParentNodeLocation(location);\n        const parentNode = this.model.getNode(parentRef);\n        return parentNode.element;\n    }\n    getFirstElementChild(location) {\n        return this.model.getFirstElementChild(location);\n    }\n    // Tree\n    getNode(location) {\n        return this.model.getNode(location);\n    }\n    getNodeLocation(node) {\n        return this.model.getNodeLocation(node);\n    }\n    collapse(location, recursive = false) {\n        return this.model.setCollapsed(location, true, recursive);\n    }\n    expand(location, recursive = false) {\n        return this.model.setCollapsed(location, false, recursive);\n    }\n    toggleCollapsed(location, recursive = false) {\n        return this.model.setCollapsed(location, undefined, recursive);\n    }\n    isCollapsible(location) {\n        return this.model.isCollapsible(location);\n    }\n    setCollapsible(location, collapsible) {\n        return this.model.setCollapsible(location, collapsible);\n    }\n    isCollapsed(location) {\n        return this.model.isCollapsed(location);\n    }\n    refilter() {\n        this._onWillRefilter.fire(undefined);\n        this.model.refilter();\n    }\n    setSelection(elements, browserEvent) {\n        const nodes = elements.map(e => this.model.getNode(e));\n        this.selection.set(nodes, browserEvent);\n        const indexes = elements.map(e => this.model.getListIndex(e)).filter(i => i > -1);\n        this.view.setSelection(indexes, browserEvent, true);\n    }\n    getSelection() {\n        return this.selection.get();\n    }\n    setFocus(elements, browserEvent) {\n        const nodes = elements.map(e => this.model.getNode(e));\n        this.focus.set(nodes, browserEvent);\n        const indexes = elements.map(e => this.model.getListIndex(e)).filter(i => i > -1);\n        this.view.setFocus(indexes, browserEvent, true);\n    }\n    getFocus() {\n        return this.focus.get();\n    }\n    reveal(location, relativeTop) {\n        this.model.expandTo(location);\n        const index = this.model.getListIndex(location);\n        if (index === -1) {\n            return;\n        }\n        this.view.reveal(index, relativeTop);\n    }\n    // List\n    onLeftArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const nodes = this.view.getFocusedElements();\n        if (nodes.length === 0) {\n            return;\n        }\n        const node = nodes[0];\n        const location = this.model.getNodeLocation(node);\n        const didChange = this.model.setCollapsed(location, true);\n        if (!didChange) {\n            const parentLocation = this.model.getParentNodeLocation(location);\n            if (!parentLocation) {\n                return;\n            }\n            const parentListIndex = this.model.getListIndex(parentLocation);\n            this.view.reveal(parentListIndex);\n            this.view.setFocus([parentListIndex]);\n        }\n    }\n    onRightArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const nodes = this.view.getFocusedElements();\n        if (nodes.length === 0) {\n            return;\n        }\n        const node = nodes[0];\n        const location = this.model.getNodeLocation(node);\n        const didChange = this.model.setCollapsed(location, false);\n        if (!didChange) {\n            if (!node.children.some(child => child.visible)) {\n                return;\n            }\n            const [focusedIndex] = this.view.getFocus();\n            const firstChildIndex = focusedIndex + 1;\n            this.view.reveal(firstChildIndex);\n            this.view.setFocus([firstChildIndex]);\n        }\n    }\n    onSpace(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const nodes = this.view.getFocusedElements();\n        if (nodes.length === 0) {\n            return;\n        }\n        const node = nodes[0];\n        const location = this.model.getNodeLocation(node);\n        const recursive = e.browserEvent.altKey;\n        this.model.setCollapsed(location, undefined, recursive);\n    }\n    dispose() {\n        dispose(this.disposables);\n        this.view.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ElementsDragAndDropData } from '../list/listView.js';\nimport { ComposedTreeDelegate } from './abstractTree.js';\nimport { getVisibleState, isFilterResult } from './indexTreeModel.js';\nimport { CompressibleObjectTree, ObjectTree } from './objectTree.js';\nimport { TreeError, WeakMapper } from './tree.js';\nimport { createCancelablePromise, Promises, timeout } from '../../../common/async.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport { ThemeIcon } from '../../../common/themables.js';\nimport { isCancellationError, onUnexpectedError } from '../../../common/errors.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { Iterable } from '../../../common/iterator.js';\nimport { DisposableStore, dispose } from '../../../common/lifecycle.js';\nimport { isIterable } from '../../../common/types.js';\nfunction createAsyncDataTreeNode(props) {\n    return Object.assign(Object.assign({}, props), { children: [], refreshPromise: undefined, stale: true, slow: false, collapsedByDefault: undefined });\n}\nfunction isAncestor(ancestor, descendant) {\n    if (!descendant.parent) {\n        return false;\n    }\n    else if (descendant.parent === ancestor) {\n        return true;\n    }\n    else {\n        return isAncestor(ancestor, descendant.parent);\n    }\n}\nfunction intersects(node, other) {\n    return node === other || isAncestor(node, other) || isAncestor(other, node);\n}\nclass AsyncDataTreeNodeWrapper {\n    get element() { return this.node.element.element; }\n    get children() { return this.node.children.map(node => new AsyncDataTreeNodeWrapper(node)); }\n    get depth() { return this.node.depth; }\n    get visibleChildrenCount() { return this.node.visibleChildrenCount; }\n    get visibleChildIndex() { return this.node.visibleChildIndex; }\n    get collapsible() { return this.node.collapsible; }\n    get collapsed() { return this.node.collapsed; }\n    get visible() { return this.node.visible; }\n    get filterData() { return this.node.filterData; }\n    constructor(node) {\n        this.node = node;\n    }\n}\nclass AsyncDataTreeRenderer {\n    constructor(renderer, nodeMapper, onDidChangeTwistieState) {\n        this.renderer = renderer;\n        this.nodeMapper = nodeMapper;\n        this.onDidChangeTwistieState = onDidChangeTwistieState;\n        this.renderedNodes = new Map();\n        this.templateId = renderer.templateId;\n    }\n    renderTemplate(container) {\n        const templateData = this.renderer.renderTemplate(container);\n        return { templateData };\n    }\n    renderElement(node, index, templateData, height) {\n        this.renderer.renderElement(this.nodeMapper.map(node), index, templateData.templateData, height);\n    }\n    renderTwistie(element, twistieElement) {\n        if (element.slow) {\n            twistieElement.classList.add(...ThemeIcon.asClassNameArray(Codicon.treeItemLoading));\n            return true;\n        }\n        else {\n            twistieElement.classList.remove(...ThemeIcon.asClassNameArray(Codicon.treeItemLoading));\n            return false;\n        }\n    }\n    disposeElement(node, index, templateData, height) {\n        var _a, _b;\n        (_b = (_a = this.renderer).disposeElement) === null || _b === void 0 ? void 0 : _b.call(_a, this.nodeMapper.map(node), index, templateData.templateData, height);\n    }\n    disposeTemplate(templateData) {\n        this.renderer.disposeTemplate(templateData.templateData);\n    }\n    dispose() {\n        this.renderedNodes.clear();\n    }\n}\nfunction asTreeEvent(e) {\n    return {\n        browserEvent: e.browserEvent,\n        elements: e.elements.map(e => e.element)\n    };\n}\nfunction asTreeMouseEvent(e) {\n    return {\n        browserEvent: e.browserEvent,\n        element: e.element && e.element.element,\n        target: e.target\n    };\n}\nclass AsyncDataTreeElementsDragAndDropData extends ElementsDragAndDropData {\n    constructor(data) {\n        super(data.elements.map(node => node.element));\n        this.data = data;\n    }\n}\nfunction asAsyncDataTreeDragAndDropData(data) {\n    if (data instanceof ElementsDragAndDropData) {\n        return new AsyncDataTreeElementsDragAndDropData(data);\n    }\n    return data;\n}\nclass AsyncDataTreeNodeListDragAndDrop {\n    constructor(dnd) {\n        this.dnd = dnd;\n    }\n    getDragURI(node) {\n        return this.dnd.getDragURI(node.element);\n    }\n    getDragLabel(nodes, originalEvent) {\n        if (this.dnd.getDragLabel) {\n            return this.dnd.getDragLabel(nodes.map(node => node.element), originalEvent);\n        }\n        return undefined;\n    }\n    onDragStart(data, originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, asAsyncDataTreeDragAndDropData(data), originalEvent);\n    }\n    onDragOver(data, targetNode, targetIndex, originalEvent, raw = true) {\n        return this.dnd.onDragOver(asAsyncDataTreeDragAndDropData(data), targetNode && targetNode.element, targetIndex, originalEvent);\n    }\n    drop(data, targetNode, targetIndex, originalEvent) {\n        this.dnd.drop(asAsyncDataTreeDragAndDropData(data), targetNode && targetNode.element, targetIndex, originalEvent);\n    }\n    onDragEnd(originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, originalEvent);\n    }\n}\nfunction asObjectTreeOptions(options) {\n    return options && Object.assign(Object.assign({}, options), { collapseByDefault: true, identityProvider: options.identityProvider && {\n            getId(el) {\n                return options.identityProvider.getId(el.element);\n            }\n        }, dnd: options.dnd && new AsyncDataTreeNodeListDragAndDrop(options.dnd), multipleSelectionController: options.multipleSelectionController && {\n            isSelectionSingleChangeEvent(e) {\n                return options.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({}, e), { element: e.element }));\n            },\n            isSelectionRangeChangeEvent(e) {\n                return options.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({}, e), { element: e.element }));\n            }\n        }, accessibilityProvider: options.accessibilityProvider && Object.assign(Object.assign({}, options.accessibilityProvider), { getPosInSet: undefined, getSetSize: undefined, getRole: options.accessibilityProvider.getRole ? (el) => {\n                return options.accessibilityProvider.getRole(el.element);\n            } : () => 'treeitem', isChecked: options.accessibilityProvider.isChecked ? (e) => {\n                var _a;\n                return !!((_a = options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.isChecked(e.element));\n            } : undefined, getAriaLabel(e) {\n                return options.accessibilityProvider.getAriaLabel(e.element);\n            },\n            getWidgetAriaLabel() {\n                return options.accessibilityProvider.getWidgetAriaLabel();\n            }, getWidgetRole: options.accessibilityProvider.getWidgetRole ? () => options.accessibilityProvider.getWidgetRole() : () => 'tree', getAriaLevel: options.accessibilityProvider.getAriaLevel && (node => {\n                return options.accessibilityProvider.getAriaLevel(node.element);\n            }), getActiveDescendantId: options.accessibilityProvider.getActiveDescendantId && (node => {\n                return options.accessibilityProvider.getActiveDescendantId(node.element);\n            }) }), filter: options.filter && {\n            filter(e, parentVisibility) {\n                return options.filter.filter(e.element, parentVisibility);\n            }\n        }, keyboardNavigationLabelProvider: options.keyboardNavigationLabelProvider && Object.assign(Object.assign({}, options.keyboardNavigationLabelProvider), { getKeyboardNavigationLabel(e) {\n                return options.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element);\n            } }), sorter: undefined, expandOnlyOnTwistieClick: typeof options.expandOnlyOnTwistieClick === 'undefined' ? undefined : (typeof options.expandOnlyOnTwistieClick !== 'function' ? options.expandOnlyOnTwistieClick : (e => options.expandOnlyOnTwistieClick(e.element))), defaultFindVisibility: e => {\n            if (e.hasChildren && e.stale) {\n                return 1 /* TreeVisibility.Visible */;\n            }\n            else if (typeof options.defaultFindVisibility === 'number') {\n                return options.defaultFindVisibility;\n            }\n            else if (typeof options.defaultFindVisibility === 'undefined') {\n                return 2 /* TreeVisibility.Recurse */;\n            }\n            else {\n                return options.defaultFindVisibility(e.element);\n            }\n        } });\n}\nfunction dfs(node, fn) {\n    fn(node);\n    node.children.forEach(child => dfs(child, fn));\n}\nexport class AsyncDataTree {\n    get onDidChangeFocus() { return Event.map(this.tree.onDidChangeFocus, asTreeEvent); }\n    get onDidChangeSelection() { return Event.map(this.tree.onDidChangeSelection, asTreeEvent); }\n    get onMouseDblClick() { return Event.map(this.tree.onMouseDblClick, asTreeMouseEvent); }\n    get onPointer() { return Event.map(this.tree.onPointer, asTreeMouseEvent); }\n    get onDidFocus() { return this.tree.onDidFocus; }\n    /**\n     * To be used internally only!\n     * @deprecated\n     */\n    get onDidChangeModel() { return this.tree.onDidChangeModel; }\n    get onDidChangeCollapseState() { return this.tree.onDidChangeCollapseState; }\n    get onDidChangeFindOpenState() { return this.tree.onDidChangeFindOpenState; }\n    get onDidDispose() { return this.tree.onDidDispose; }\n    constructor(user, container, delegate, renderers, dataSource, options = {}) {\n        this.user = user;\n        this.dataSource = dataSource;\n        this.nodes = new Map();\n        this.subTreeRefreshPromises = new Map();\n        this.refreshPromises = new Map();\n        this._onDidRender = new Emitter();\n        this._onDidChangeNodeSlowState = new Emitter();\n        this.nodeMapper = new WeakMapper(node => new AsyncDataTreeNodeWrapper(node));\n        this.disposables = new DisposableStore();\n        this.identityProvider = options.identityProvider;\n        this.autoExpandSingleChildren = typeof options.autoExpandSingleChildren === 'undefined' ? false : options.autoExpandSingleChildren;\n        this.sorter = options.sorter;\n        this.collapseByDefault = options.collapseByDefault;\n        this.tree = this.createTree(user, container, delegate, renderers, options);\n        this.onDidChangeFindMode = this.tree.onDidChangeFindMode;\n        this.root = createAsyncDataTreeNode({\n            element: undefined,\n            parent: null,\n            hasChildren: true\n        });\n        if (this.identityProvider) {\n            this.root = Object.assign(Object.assign({}, this.root), { id: null });\n        }\n        this.nodes.set(null, this.root);\n        this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState, this, this.disposables);\n    }\n    createTree(user, container, delegate, renderers, options) {\n        const objectTreeDelegate = new ComposedTreeDelegate(delegate);\n        const objectTreeRenderers = renderers.map(r => new AsyncDataTreeRenderer(r, this.nodeMapper, this._onDidChangeNodeSlowState.event));\n        const objectTreeOptions = asObjectTreeOptions(options) || {};\n        return new ObjectTree(user, container, objectTreeDelegate, objectTreeRenderers, objectTreeOptions);\n    }\n    updateOptions(options = {}) {\n        this.tree.updateOptions(options);\n    }\n    // Widget\n    getHTMLElement() {\n        return this.tree.getHTMLElement();\n    }\n    get scrollTop() {\n        return this.tree.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.tree.scrollTop = scrollTop;\n    }\n    domFocus() {\n        this.tree.domFocus();\n    }\n    layout(height, width) {\n        this.tree.layout(height, width);\n    }\n    style(styles) {\n        this.tree.style(styles);\n    }\n    // Model\n    getInput() {\n        return this.root.element;\n    }\n    setInput(input, viewState) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.refreshPromises.forEach(promise => promise.cancel());\n            this.refreshPromises.clear();\n            this.root.element = input;\n            const viewStateContext = viewState && { viewState, focus: [], selection: [] };\n            yield this._updateChildren(input, true, false, viewStateContext);\n            if (viewStateContext) {\n                this.tree.setFocus(viewStateContext.focus);\n                this.tree.setSelection(viewStateContext.selection);\n            }\n            if (viewState && typeof viewState.scrollTop === 'number') {\n                this.scrollTop = viewState.scrollTop;\n            }\n        });\n    }\n    _updateChildren(element = this.root.element, recursive = true, rerender = false, viewStateContext, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof this.root.element === 'undefined') {\n                throw new TreeError(this.user, 'Tree input not set');\n            }\n            if (this.root.refreshPromise) {\n                yield this.root.refreshPromise;\n                yield Event.toPromise(this._onDidRender.event);\n            }\n            const node = this.getDataNode(element);\n            yield this.refreshAndRenderNode(node, recursive, viewStateContext, options);\n            if (rerender) {\n                try {\n                    this.tree.rerender(node);\n                }\n                catch (_a) {\n                    // missing nodes are fine, this could've resulted from\n                    // parallel refresh calls, removing `node` altogether\n                }\n            }\n        });\n    }\n    // View\n    rerender(element) {\n        if (element === undefined || element === this.root.element) {\n            this.tree.rerender();\n            return;\n        }\n        const node = this.getDataNode(element);\n        this.tree.rerender(node);\n    }\n    // Tree\n    getNode(element = this.root.element) {\n        const dataNode = this.getDataNode(element);\n        const node = this.tree.getNode(dataNode === this.root ? null : dataNode);\n        return this.nodeMapper.map(node);\n    }\n    collapse(element, recursive = false) {\n        const node = this.getDataNode(element);\n        return this.tree.collapse(node === this.root ? null : node, recursive);\n    }\n    expand(element, recursive = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof this.root.element === 'undefined') {\n                throw new TreeError(this.user, 'Tree input not set');\n            }\n            if (this.root.refreshPromise) {\n                yield this.root.refreshPromise;\n                yield Event.toPromise(this._onDidRender.event);\n            }\n            const node = this.getDataNode(element);\n            if (this.tree.hasElement(node) && !this.tree.isCollapsible(node)) {\n                return false;\n            }\n            if (node.refreshPromise) {\n                yield this.root.refreshPromise;\n                yield Event.toPromise(this._onDidRender.event);\n            }\n            if (node !== this.root && !node.refreshPromise && !this.tree.isCollapsed(node)) {\n                return false;\n            }\n            const result = this.tree.expand(node === this.root ? null : node, recursive);\n            if (node.refreshPromise) {\n                yield this.root.refreshPromise;\n                yield Event.toPromise(this._onDidRender.event);\n            }\n            return result;\n        });\n    }\n    setSelection(elements, browserEvent) {\n        const nodes = elements.map(e => this.getDataNode(e));\n        this.tree.setSelection(nodes, browserEvent);\n    }\n    getSelection() {\n        const nodes = this.tree.getSelection();\n        return nodes.map(n => n.element);\n    }\n    setFocus(elements, browserEvent) {\n        const nodes = elements.map(e => this.getDataNode(e));\n        this.tree.setFocus(nodes, browserEvent);\n    }\n    getFocus() {\n        const nodes = this.tree.getFocus();\n        return nodes.map(n => n.element);\n    }\n    reveal(element, relativeTop) {\n        this.tree.reveal(this.getDataNode(element), relativeTop);\n    }\n    // Tree navigation\n    getParentElement(element) {\n        const node = this.tree.getParentElement(this.getDataNode(element));\n        return (node && node.element);\n    }\n    getFirstElementChild(element = this.root.element) {\n        const dataNode = this.getDataNode(element);\n        const node = this.tree.getFirstElementChild(dataNode === this.root ? null : dataNode);\n        return (node && node.element);\n    }\n    // Implementation\n    getDataNode(element) {\n        const node = this.nodes.get((element === this.root.element ? null : element));\n        if (!node) {\n            throw new TreeError(this.user, `Data tree node not found: ${element}`);\n        }\n        return node;\n    }\n    refreshAndRenderNode(node, recursive, viewStateContext, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.refreshNode(node, recursive, viewStateContext);\n            this.render(node, viewStateContext, options);\n        });\n    }\n    refreshNode(node, recursive, viewStateContext) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let result;\n            this.subTreeRefreshPromises.forEach((refreshPromise, refreshNode) => {\n                if (!result && intersects(refreshNode, node)) {\n                    result = refreshPromise.then(() => this.refreshNode(node, recursive, viewStateContext));\n                }\n            });\n            if (result) {\n                return result;\n            }\n            if (node !== this.root) {\n                const treeNode = this.tree.getNode(node);\n                if (treeNode.collapsed) {\n                    node.hasChildren = !!this.dataSource.hasChildren(node.element);\n                    node.stale = true;\n                    return;\n                }\n            }\n            return this.doRefreshSubTree(node, recursive, viewStateContext);\n        });\n    }\n    doRefreshSubTree(node, recursive, viewStateContext) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let done;\n            node.refreshPromise = new Promise(c => done = c);\n            this.subTreeRefreshPromises.set(node, node.refreshPromise);\n            node.refreshPromise.finally(() => {\n                node.refreshPromise = undefined;\n                this.subTreeRefreshPromises.delete(node);\n            });\n            try {\n                const childrenToRefresh = yield this.doRefreshNode(node, recursive, viewStateContext);\n                node.stale = false;\n                yield Promises.settled(childrenToRefresh.map(child => this.doRefreshSubTree(child, recursive, viewStateContext)));\n            }\n            finally {\n                done();\n            }\n        });\n    }\n    doRefreshNode(node, recursive, viewStateContext) {\n        return __awaiter(this, void 0, void 0, function* () {\n            node.hasChildren = !!this.dataSource.hasChildren(node.element);\n            let childrenPromise;\n            if (!node.hasChildren) {\n                childrenPromise = Promise.resolve(Iterable.empty());\n            }\n            else {\n                const children = this.doGetChildren(node);\n                if (isIterable(children)) {\n                    childrenPromise = Promise.resolve(children);\n                }\n                else {\n                    const slowTimeout = timeout(800);\n                    slowTimeout.then(() => {\n                        node.slow = true;\n                        this._onDidChangeNodeSlowState.fire(node);\n                    }, _ => null);\n                    childrenPromise = children.finally(() => slowTimeout.cancel());\n                }\n            }\n            try {\n                const children = yield childrenPromise;\n                return this.setChildren(node, children, recursive, viewStateContext);\n            }\n            catch (err) {\n                if (node !== this.root && this.tree.hasElement(node)) {\n                    this.tree.collapse(node);\n                }\n                if (isCancellationError(err)) {\n                    return [];\n                }\n                throw err;\n            }\n            finally {\n                if (node.slow) {\n                    node.slow = false;\n                    this._onDidChangeNodeSlowState.fire(node);\n                }\n            }\n        });\n    }\n    doGetChildren(node) {\n        let result = this.refreshPromises.get(node);\n        if (result) {\n            return result;\n        }\n        const children = this.dataSource.getChildren(node.element);\n        if (isIterable(children)) {\n            return this.processChildren(children);\n        }\n        else {\n            result = createCancelablePromise(() => __awaiter(this, void 0, void 0, function* () { return this.processChildren(yield children); }));\n            this.refreshPromises.set(node, result);\n            return result.finally(() => { this.refreshPromises.delete(node); });\n        }\n    }\n    _onDidChangeCollapseState({ node, deep }) {\n        if (node.element === null) {\n            return;\n        }\n        if (!node.collapsed && node.element.stale) {\n            if (deep) {\n                this.collapse(node.element.element);\n            }\n            else {\n                this.refreshAndRenderNode(node.element, false)\n                    .catch(onUnexpectedError);\n            }\n        }\n    }\n    setChildren(node, childrenElementsIterable, recursive, viewStateContext) {\n        const childrenElements = [...childrenElementsIterable];\n        // perf: if the node was and still is a leaf, avoid all this hassle\n        if (node.children.length === 0 && childrenElements.length === 0) {\n            return [];\n        }\n        const nodesToForget = new Map();\n        const childrenTreeNodesById = new Map();\n        for (const child of node.children) {\n            nodesToForget.set(child.element, child);\n            if (this.identityProvider) {\n                const collapsed = this.tree.isCollapsed(child);\n                childrenTreeNodesById.set(child.id, { node: child, collapsed });\n            }\n        }\n        const childrenToRefresh = [];\n        const children = childrenElements.map(element => {\n            const hasChildren = !!this.dataSource.hasChildren(element);\n            if (!this.identityProvider) {\n                const asyncDataTreeNode = createAsyncDataTreeNode({ element, parent: node, hasChildren });\n                if (hasChildren && this.collapseByDefault && !this.collapseByDefault(element)) {\n                    asyncDataTreeNode.collapsedByDefault = false;\n                    childrenToRefresh.push(asyncDataTreeNode);\n                }\n                return asyncDataTreeNode;\n            }\n            const id = this.identityProvider.getId(element).toString();\n            const result = childrenTreeNodesById.get(id);\n            if (result) {\n                const asyncDataTreeNode = result.node;\n                nodesToForget.delete(asyncDataTreeNode.element);\n                this.nodes.delete(asyncDataTreeNode.element);\n                this.nodes.set(element, asyncDataTreeNode);\n                asyncDataTreeNode.element = element;\n                asyncDataTreeNode.hasChildren = hasChildren;\n                if (recursive) {\n                    if (result.collapsed) {\n                        asyncDataTreeNode.children.forEach(node => dfs(node, node => this.nodes.delete(node.element)));\n                        asyncDataTreeNode.children.splice(0, asyncDataTreeNode.children.length);\n                        asyncDataTreeNode.stale = true;\n                    }\n                    else {\n                        childrenToRefresh.push(asyncDataTreeNode);\n                    }\n                }\n                else if (hasChildren && this.collapseByDefault && !this.collapseByDefault(element)) {\n                    asyncDataTreeNode.collapsedByDefault = false;\n                    childrenToRefresh.push(asyncDataTreeNode);\n                }\n                return asyncDataTreeNode;\n            }\n            const childAsyncDataTreeNode = createAsyncDataTreeNode({ element, parent: node, id, hasChildren });\n            if (viewStateContext && viewStateContext.viewState.focus && viewStateContext.viewState.focus.indexOf(id) > -1) {\n                viewStateContext.focus.push(childAsyncDataTreeNode);\n            }\n            if (viewStateContext && viewStateContext.viewState.selection && viewStateContext.viewState.selection.indexOf(id) > -1) {\n                viewStateContext.selection.push(childAsyncDataTreeNode);\n            }\n            if (viewStateContext && viewStateContext.viewState.expanded && viewStateContext.viewState.expanded.indexOf(id) > -1) {\n                childrenToRefresh.push(childAsyncDataTreeNode);\n            }\n            else if (hasChildren && this.collapseByDefault && !this.collapseByDefault(element)) {\n                childAsyncDataTreeNode.collapsedByDefault = false;\n                childrenToRefresh.push(childAsyncDataTreeNode);\n            }\n            return childAsyncDataTreeNode;\n        });\n        for (const node of nodesToForget.values()) {\n            dfs(node, node => this.nodes.delete(node.element));\n        }\n        for (const child of children) {\n            this.nodes.set(child.element, child);\n        }\n        node.children.splice(0, node.children.length, ...children);\n        // TODO@joao this doesn't take filter into account\n        if (node !== this.root && this.autoExpandSingleChildren && children.length === 1 && childrenToRefresh.length === 0) {\n            children[0].collapsedByDefault = false;\n            childrenToRefresh.push(children[0]);\n        }\n        return childrenToRefresh;\n    }\n    render(node, viewStateContext, options) {\n        const children = node.children.map(node => this.asTreeElement(node, viewStateContext));\n        const objectTreeOptions = options && Object.assign(Object.assign({}, options), { diffIdentityProvider: options.diffIdentityProvider && {\n                getId(node) {\n                    return options.diffIdentityProvider.getId(node.element);\n                }\n            } });\n        this.tree.setChildren(node === this.root ? null : node, children, objectTreeOptions);\n        if (node !== this.root) {\n            this.tree.setCollapsible(node, node.hasChildren);\n        }\n        this._onDidRender.fire();\n    }\n    asTreeElement(node, viewStateContext) {\n        if (node.stale) {\n            return {\n                element: node,\n                collapsible: node.hasChildren,\n                collapsed: true\n            };\n        }\n        let collapsed;\n        if (viewStateContext && viewStateContext.viewState.expanded && node.id && viewStateContext.viewState.expanded.indexOf(node.id) > -1) {\n            collapsed = false;\n        }\n        else {\n            collapsed = node.collapsedByDefault;\n        }\n        node.collapsedByDefault = undefined;\n        return {\n            element: node,\n            children: node.hasChildren ? Iterable.map(node.children, child => this.asTreeElement(child, viewStateContext)) : [],\n            collapsible: node.hasChildren,\n            collapsed\n        };\n    }\n    processChildren(children) {\n        if (this.sorter) {\n            children = [...children].sort(this.sorter.compare.bind(this.sorter));\n        }\n        return children;\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nclass CompressibleAsyncDataTreeNodeWrapper {\n    get element() {\n        return {\n            elements: this.node.element.elements.map(e => e.element),\n            incompressible: this.node.element.incompressible\n        };\n    }\n    get children() { return this.node.children.map(node => new CompressibleAsyncDataTreeNodeWrapper(node)); }\n    get depth() { return this.node.depth; }\n    get visibleChildrenCount() { return this.node.visibleChildrenCount; }\n    get visibleChildIndex() { return this.node.visibleChildIndex; }\n    get collapsible() { return this.node.collapsible; }\n    get collapsed() { return this.node.collapsed; }\n    get visible() { return this.node.visible; }\n    get filterData() { return this.node.filterData; }\n    constructor(node) {\n        this.node = node;\n    }\n}\nclass CompressibleAsyncDataTreeRenderer {\n    constructor(renderer, nodeMapper, compressibleNodeMapperProvider, onDidChangeTwistieState) {\n        this.renderer = renderer;\n        this.nodeMapper = nodeMapper;\n        this.compressibleNodeMapperProvider = compressibleNodeMapperProvider;\n        this.onDidChangeTwistieState = onDidChangeTwistieState;\n        this.renderedNodes = new Map();\n        this.disposables = [];\n        this.templateId = renderer.templateId;\n    }\n    renderTemplate(container) {\n        const templateData = this.renderer.renderTemplate(container);\n        return { templateData };\n    }\n    renderElement(node, index, templateData, height) {\n        this.renderer.renderElement(this.nodeMapper.map(node), index, templateData.templateData, height);\n    }\n    renderCompressedElements(node, index, templateData, height) {\n        this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(node), index, templateData.templateData, height);\n    }\n    renderTwistie(element, twistieElement) {\n        if (element.slow) {\n            twistieElement.classList.add(...ThemeIcon.asClassNameArray(Codicon.treeItemLoading));\n            return true;\n        }\n        else {\n            twistieElement.classList.remove(...ThemeIcon.asClassNameArray(Codicon.treeItemLoading));\n            return false;\n        }\n    }\n    disposeElement(node, index, templateData, height) {\n        var _a, _b;\n        (_b = (_a = this.renderer).disposeElement) === null || _b === void 0 ? void 0 : _b.call(_a, this.nodeMapper.map(node), index, templateData.templateData, height);\n    }\n    disposeCompressedElements(node, index, templateData, height) {\n        var _a, _b;\n        (_b = (_a = this.renderer).disposeCompressedElements) === null || _b === void 0 ? void 0 : _b.call(_a, this.compressibleNodeMapperProvider().map(node), index, templateData.templateData, height);\n    }\n    disposeTemplate(templateData) {\n        this.renderer.disposeTemplate(templateData.templateData);\n    }\n    dispose() {\n        this.renderedNodes.clear();\n        this.disposables = dispose(this.disposables);\n    }\n}\nfunction asCompressibleObjectTreeOptions(options) {\n    const objectTreeOptions = options && asObjectTreeOptions(options);\n    return objectTreeOptions && Object.assign(Object.assign({}, objectTreeOptions), { keyboardNavigationLabelProvider: objectTreeOptions.keyboardNavigationLabelProvider && Object.assign(Object.assign({}, objectTreeOptions.keyboardNavigationLabelProvider), { getCompressedNodeKeyboardNavigationLabel(els) {\n                return options.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(els.map(e => e.element));\n            } }) });\n}\nexport class CompressibleAsyncDataTree extends AsyncDataTree {\n    constructor(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, options = {}) {\n        super(user, container, virtualDelegate, renderers, dataSource, options);\n        this.compressionDelegate = compressionDelegate;\n        this.compressibleNodeMapper = new WeakMapper(node => new CompressibleAsyncDataTreeNodeWrapper(node));\n        this.filter = options.filter;\n    }\n    createTree(user, container, delegate, renderers, options) {\n        const objectTreeDelegate = new ComposedTreeDelegate(delegate);\n        const objectTreeRenderers = renderers.map(r => new CompressibleAsyncDataTreeRenderer(r, this.nodeMapper, () => this.compressibleNodeMapper, this._onDidChangeNodeSlowState.event));\n        const objectTreeOptions = asCompressibleObjectTreeOptions(options) || {};\n        return new CompressibleObjectTree(user, container, objectTreeDelegate, objectTreeRenderers, objectTreeOptions);\n    }\n    asTreeElement(node, viewStateContext) {\n        return Object.assign({ incompressible: this.compressionDelegate.isIncompressible(node.element) }, super.asTreeElement(node, viewStateContext));\n    }\n    updateOptions(options = {}) {\n        this.tree.updateOptions(options);\n    }\n    render(node, viewStateContext) {\n        if (!this.identityProvider) {\n            return super.render(node, viewStateContext);\n        }\n        // Preserve traits across compressions. Hacky but does the trick.\n        // This is hard to fix properly since it requires rewriting the traits\n        // across trees and lists. Let's just keep it this way for now.\n        const getId = (element) => this.identityProvider.getId(element).toString();\n        const getUncompressedIds = (nodes) => {\n            const result = new Set();\n            for (const node of nodes) {\n                const compressedNode = this.tree.getCompressedTreeNode(node === this.root ? null : node);\n                if (!compressedNode.element) {\n                    continue;\n                }\n                for (const node of compressedNode.element.elements) {\n                    result.add(getId(node.element));\n                }\n            }\n            return result;\n        };\n        const oldSelection = getUncompressedIds(this.tree.getSelection());\n        const oldFocus = getUncompressedIds(this.tree.getFocus());\n        super.render(node, viewStateContext);\n        const selection = this.getSelection();\n        let didChangeSelection = false;\n        const focus = this.getFocus();\n        let didChangeFocus = false;\n        const visit = (node) => {\n            const compressedNode = node.element;\n            if (compressedNode) {\n                for (let i = 0; i < compressedNode.elements.length; i++) {\n                    const id = getId(compressedNode.elements[i].element);\n                    const element = compressedNode.elements[compressedNode.elements.length - 1].element;\n                    // github.com/microsoft/vscode/issues/85938\n                    if (oldSelection.has(id) && selection.indexOf(element) === -1) {\n                        selection.push(element);\n                        didChangeSelection = true;\n                    }\n                    if (oldFocus.has(id) && focus.indexOf(element) === -1) {\n                        focus.push(element);\n                        didChangeFocus = true;\n                    }\n                }\n            }\n            node.children.forEach(visit);\n        };\n        visit(this.tree.getCompressedTreeNode(node === this.root ? null : node));\n        if (didChangeSelection) {\n            this.setSelection(selection);\n        }\n        if (didChangeFocus) {\n            this.setFocus(focus);\n        }\n    }\n    // For compressed async data trees, `TreeVisibility.Recurse` doesn't currently work\n    // and we have to filter everything beforehand\n    // Related to #85193 and #85835\n    processChildren(children) {\n        if (this.filter) {\n            children = Iterable.filter(children, e => {\n                const result = this.filter.filter(e, 1 /* TreeVisibility.Visible */);\n                const visibility = getVisibility(result);\n                if (visibility === 2 /* TreeVisibility.Recurse */) {\n                    throw new Error('Recursive tree visibility not supported in async data compressed trees');\n                }\n                return visibility === 1 /* TreeVisibility.Visible */;\n            });\n        }\n        return super.processChildren(children);\n    }\n}\nfunction getVisibility(filterResult) {\n    if (typeof filterResult === 'boolean') {\n        return filterResult ? 1 /* TreeVisibility.Visible */ : 0 /* TreeVisibility.Hidden */;\n    }\n    else if (isFilterResult(filterResult)) {\n        return getVisibleState(filterResult.visibility);\n    }\n    else {\n        return getVisibleState(filterResult);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { AbstractTree } from './abstractTree.js';\nimport { ObjectTreeModel } from './objectTreeModel.js';\nexport class DataTree extends AbstractTree {\n    constructor(user, container, delegate, renderers, dataSource, options = {}) {\n        super(user, container, delegate, renderers, options);\n        this.user = user;\n        this.dataSource = dataSource;\n        this.identityProvider = options.identityProvider;\n    }\n    createModel(user, view, options) {\n        return new ObjectTreeModel(user, view, options);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { TreeError } from './tree.js';\nimport { splice, tail2 } from '../../../common/arrays.js';\nimport { Delayer } from '../../../common/async.js';\nimport { MicrotaskDelay } from '../../../common/symbols.js';\nimport { LcsDiff } from '../../../common/diff/diff.js';\nimport { Emitter, EventBufferer } from '../../../common/event.js';\nimport { Iterable } from '../../../common/iterator.js';\nexport function isFilterResult(obj) {\n    return typeof obj === 'object' && 'visibility' in obj && 'data' in obj;\n}\nexport function getVisibleState(visibility) {\n    switch (visibility) {\n        case true: return 1 /* TreeVisibility.Visible */;\n        case false: return 0 /* TreeVisibility.Hidden */;\n        default: return visibility;\n    }\n}\nfunction isCollapsibleStateUpdate(update) {\n    return typeof update.collapsible === 'boolean';\n}\nexport class IndexTreeModel {\n    constructor(user, list, rootElement, options = {}) {\n        this.user = user;\n        this.list = list;\n        this.rootRef = [];\n        this.eventBufferer = new EventBufferer();\n        this._onDidChangeCollapseState = new Emitter();\n        this.onDidChangeCollapseState = this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event);\n        this._onDidChangeRenderNodeCount = new Emitter();\n        this.onDidChangeRenderNodeCount = this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event);\n        this._onDidSplice = new Emitter();\n        this.onDidSplice = this._onDidSplice.event;\n        this.refilterDelayer = new Delayer(MicrotaskDelay);\n        this.collapseByDefault = typeof options.collapseByDefault === 'undefined' ? false : options.collapseByDefault;\n        this.filter = options.filter;\n        this.autoExpandSingleChildren = typeof options.autoExpandSingleChildren === 'undefined' ? false : options.autoExpandSingleChildren;\n        this.root = {\n            parent: undefined,\n            element: rootElement,\n            children: [],\n            depth: 0,\n            visibleChildrenCount: 0,\n            visibleChildIndex: -1,\n            collapsible: false,\n            collapsed: false,\n            renderNodeCount: 0,\n            visibility: 1 /* TreeVisibility.Visible */,\n            visible: true,\n            filterData: undefined\n        };\n    }\n    splice(location, deleteCount, toInsert = Iterable.empty(), options = {}) {\n        if (location.length === 0) {\n            throw new TreeError(this.user, 'Invalid tree location');\n        }\n        if (options.diffIdentityProvider) {\n            this.spliceSmart(options.diffIdentityProvider, location, deleteCount, toInsert, options);\n        }\n        else {\n            this.spliceSimple(location, deleteCount, toInsert, options);\n        }\n    }\n    spliceSmart(identity, location, deleteCount, toInsertIterable, options, recurseLevels) {\n        var _a;\n        if (toInsertIterable === void 0) { toInsertIterable = Iterable.empty(); }\n        if (recurseLevels === void 0) { recurseLevels = (_a = options.diffDepth) !== null && _a !== void 0 ? _a : 0; }\n        const { parentNode } = this.getParentNodeWithListIndex(location);\n        if (!parentNode.lastDiffIds) {\n            return this.spliceSimple(location, deleteCount, toInsertIterable, options);\n        }\n        const toInsert = [...toInsertIterable];\n        const index = location[location.length - 1];\n        const diff = new LcsDiff({ getElements: () => parentNode.lastDiffIds }, {\n            getElements: () => [\n                ...parentNode.children.slice(0, index),\n                ...toInsert,\n                ...parentNode.children.slice(index + deleteCount),\n            ].map(e => identity.getId(e.element).toString())\n        }).ComputeDiff(false);\n        // if we were given a 'best effort' diff, use default behavior\n        if (diff.quitEarly) {\n            parentNode.lastDiffIds = undefined;\n            return this.spliceSimple(location, deleteCount, toInsert, options);\n        }\n        const locationPrefix = location.slice(0, -1);\n        const recurseSplice = (fromOriginal, fromModified, count) => {\n            if (recurseLevels > 0) {\n                for (let i = 0; i < count; i++) {\n                    fromOriginal--;\n                    fromModified--;\n                    this.spliceSmart(identity, [...locationPrefix, fromOriginal, 0], Number.MAX_SAFE_INTEGER, toInsert[fromModified].children, options, recurseLevels - 1);\n                }\n            }\n        };\n        let lastStartO = Math.min(parentNode.children.length, index + deleteCount);\n        let lastStartM = toInsert.length;\n        for (const change of diff.changes.sort((a, b) => b.originalStart - a.originalStart)) {\n            recurseSplice(lastStartO, lastStartM, lastStartO - (change.originalStart + change.originalLength));\n            lastStartO = change.originalStart;\n            lastStartM = change.modifiedStart - index;\n            this.spliceSimple([...locationPrefix, lastStartO], change.originalLength, Iterable.slice(toInsert, lastStartM, lastStartM + change.modifiedLength), options);\n        }\n        // at this point, startO === startM === count since any remaining prefix should match\n        recurseSplice(lastStartO, lastStartM, lastStartO);\n    }\n    spliceSimple(location, deleteCount, toInsert = Iterable.empty(), { onDidCreateNode, onDidDeleteNode, diffIdentityProvider }) {\n        const { parentNode, listIndex, revealed, visible } = this.getParentNodeWithListIndex(location);\n        const treeListElementsToInsert = [];\n        const nodesToInsertIterator = Iterable.map(toInsert, el => this.createTreeNode(el, parentNode, parentNode.visible ? 1 /* TreeVisibility.Visible */ : 0 /* TreeVisibility.Hidden */, revealed, treeListElementsToInsert, onDidCreateNode));\n        const lastIndex = location[location.length - 1];\n        const lastHadChildren = parentNode.children.length > 0;\n        // figure out what's the visible child start index right before the\n        // splice point\n        let visibleChildStartIndex = 0;\n        for (let i = lastIndex; i >= 0 && i < parentNode.children.length; i--) {\n            const child = parentNode.children[i];\n            if (child.visible) {\n                visibleChildStartIndex = child.visibleChildIndex;\n                break;\n            }\n        }\n        const nodesToInsert = [];\n        let insertedVisibleChildrenCount = 0;\n        let renderNodeCount = 0;\n        for (const child of nodesToInsertIterator) {\n            nodesToInsert.push(child);\n            renderNodeCount += child.renderNodeCount;\n            if (child.visible) {\n                child.visibleChildIndex = visibleChildStartIndex + insertedVisibleChildrenCount++;\n            }\n        }\n        const deletedNodes = splice(parentNode.children, lastIndex, deleteCount, nodesToInsert);\n        if (!diffIdentityProvider) {\n            parentNode.lastDiffIds = undefined;\n        }\n        else if (parentNode.lastDiffIds) {\n            splice(parentNode.lastDiffIds, lastIndex, deleteCount, nodesToInsert.map(n => diffIdentityProvider.getId(n.element).toString()));\n        }\n        else {\n            parentNode.lastDiffIds = parentNode.children.map(n => diffIdentityProvider.getId(n.element).toString());\n        }\n        // figure out what is the count of deleted visible children\n        let deletedVisibleChildrenCount = 0;\n        for (const child of deletedNodes) {\n            if (child.visible) {\n                deletedVisibleChildrenCount++;\n            }\n        }\n        // and adjust for all visible children after the splice point\n        if (deletedVisibleChildrenCount !== 0) {\n            for (let i = lastIndex + nodesToInsert.length; i < parentNode.children.length; i++) {\n                const child = parentNode.children[i];\n                if (child.visible) {\n                    child.visibleChildIndex -= deletedVisibleChildrenCount;\n                }\n            }\n        }\n        // update parent's visible children count\n        parentNode.visibleChildrenCount += insertedVisibleChildrenCount - deletedVisibleChildrenCount;\n        if (revealed && visible) {\n            const visibleDeleteCount = deletedNodes.reduce((r, node) => r + (node.visible ? node.renderNodeCount : 0), 0);\n            this._updateAncestorsRenderNodeCount(parentNode, renderNodeCount - visibleDeleteCount);\n            this.list.splice(listIndex, visibleDeleteCount, treeListElementsToInsert);\n        }\n        if (deletedNodes.length > 0 && onDidDeleteNode) {\n            const visit = (node) => {\n                onDidDeleteNode(node);\n                node.children.forEach(visit);\n            };\n            deletedNodes.forEach(visit);\n        }\n        this._onDidSplice.fire({ insertedNodes: nodesToInsert, deletedNodes });\n        const currentlyHasChildren = parentNode.children.length > 0;\n        if (lastHadChildren !== currentlyHasChildren) {\n            this.setCollapsible(location.slice(0, -1), currentlyHasChildren);\n        }\n        let node = parentNode;\n        while (node) {\n            if (node.visibility === 2 /* TreeVisibility.Recurse */) {\n                // delayed to avoid excessive refiltering, see #135941\n                this.refilterDelayer.trigger(() => this.refilter());\n                break;\n            }\n            node = node.parent;\n        }\n    }\n    rerender(location) {\n        if (location.length === 0) {\n            throw new TreeError(this.user, 'Invalid tree location');\n        }\n        const { node, listIndex, revealed } = this.getTreeNodeWithListIndex(location);\n        if (node.visible && revealed) {\n            this.list.splice(listIndex, 1, [node]);\n        }\n    }\n    has(location) {\n        return this.hasTreeNode(location);\n    }\n    getListIndex(location) {\n        const { listIndex, visible, revealed } = this.getTreeNodeWithListIndex(location);\n        return visible && revealed ? listIndex : -1;\n    }\n    getListRenderCount(location) {\n        return this.getTreeNode(location).renderNodeCount;\n    }\n    isCollapsible(location) {\n        return this.getTreeNode(location).collapsible;\n    }\n    setCollapsible(location, collapsible) {\n        const node = this.getTreeNode(location);\n        if (typeof collapsible === 'undefined') {\n            collapsible = !node.collapsible;\n        }\n        const update = { collapsible };\n        return this.eventBufferer.bufferEvents(() => this._setCollapseState(location, update));\n    }\n    isCollapsed(location) {\n        return this.getTreeNode(location).collapsed;\n    }\n    setCollapsed(location, collapsed, recursive) {\n        const node = this.getTreeNode(location);\n        if (typeof collapsed === 'undefined') {\n            collapsed = !node.collapsed;\n        }\n        const update = { collapsed, recursive: recursive || false };\n        return this.eventBufferer.bufferEvents(() => this._setCollapseState(location, update));\n    }\n    _setCollapseState(location, update) {\n        const { node, listIndex, revealed } = this.getTreeNodeWithListIndex(location);\n        const result = this._setListNodeCollapseState(node, listIndex, revealed, update);\n        if (node !== this.root && this.autoExpandSingleChildren && result && !isCollapsibleStateUpdate(update) && node.collapsible && !node.collapsed && !update.recursive) {\n            let onlyVisibleChildIndex = -1;\n            for (let i = 0; i < node.children.length; i++) {\n                const child = node.children[i];\n                if (child.visible) {\n                    if (onlyVisibleChildIndex > -1) {\n                        onlyVisibleChildIndex = -1;\n                        break;\n                    }\n                    else {\n                        onlyVisibleChildIndex = i;\n                    }\n                }\n            }\n            if (onlyVisibleChildIndex > -1) {\n                this._setCollapseState([...location, onlyVisibleChildIndex], update);\n            }\n        }\n        return result;\n    }\n    _setListNodeCollapseState(node, listIndex, revealed, update) {\n        const result = this._setNodeCollapseState(node, update, false);\n        if (!revealed || !node.visible || !result) {\n            return result;\n        }\n        const previousRenderNodeCount = node.renderNodeCount;\n        const toInsert = this.updateNodeAfterCollapseChange(node);\n        const deleteCount = previousRenderNodeCount - (listIndex === -1 ? 0 : 1);\n        this.list.splice(listIndex + 1, deleteCount, toInsert.slice(1));\n        return result;\n    }\n    _setNodeCollapseState(node, update, deep) {\n        let result;\n        if (node === this.root) {\n            result = false;\n        }\n        else {\n            if (isCollapsibleStateUpdate(update)) {\n                result = node.collapsible !== update.collapsible;\n                node.collapsible = update.collapsible;\n            }\n            else if (!node.collapsible) {\n                result = false;\n            }\n            else {\n                result = node.collapsed !== update.collapsed;\n                node.collapsed = update.collapsed;\n            }\n            if (result) {\n                this._onDidChangeCollapseState.fire({ node, deep });\n            }\n        }\n        if (!isCollapsibleStateUpdate(update) && update.recursive) {\n            for (const child of node.children) {\n                result = this._setNodeCollapseState(child, update, true) || result;\n            }\n        }\n        return result;\n    }\n    expandTo(location) {\n        this.eventBufferer.bufferEvents(() => {\n            let node = this.getTreeNode(location);\n            while (node.parent) {\n                node = node.parent;\n                location = location.slice(0, location.length - 1);\n                if (node.collapsed) {\n                    this._setCollapseState(location, { collapsed: false, recursive: false });\n                }\n            }\n        });\n    }\n    refilter() {\n        const previousRenderNodeCount = this.root.renderNodeCount;\n        const toInsert = this.updateNodeAfterFilterChange(this.root);\n        this.list.splice(0, previousRenderNodeCount, toInsert);\n        this.refilterDelayer.cancel();\n    }\n    createTreeNode(treeElement, parent, parentVisibility, revealed, treeListElements, onDidCreateNode) {\n        const node = {\n            parent,\n            element: treeElement.element,\n            children: [],\n            depth: parent.depth + 1,\n            visibleChildrenCount: 0,\n            visibleChildIndex: -1,\n            collapsible: typeof treeElement.collapsible === 'boolean' ? treeElement.collapsible : (typeof treeElement.collapsed !== 'undefined'),\n            collapsed: typeof treeElement.collapsed === 'undefined' ? this.collapseByDefault : treeElement.collapsed,\n            renderNodeCount: 1,\n            visibility: 1 /* TreeVisibility.Visible */,\n            visible: true,\n            filterData: undefined\n        };\n        const visibility = this._filterNode(node, parentVisibility);\n        node.visibility = visibility;\n        if (revealed) {\n            treeListElements.push(node);\n        }\n        const childElements = treeElement.children || Iterable.empty();\n        const childRevealed = revealed && visibility !== 0 /* TreeVisibility.Hidden */ && !node.collapsed;\n        let visibleChildrenCount = 0;\n        let renderNodeCount = 1;\n        for (const el of childElements) {\n            const child = this.createTreeNode(el, node, visibility, childRevealed, treeListElements, onDidCreateNode);\n            node.children.push(child);\n            renderNodeCount += child.renderNodeCount;\n            if (child.visible) {\n                child.visibleChildIndex = visibleChildrenCount++;\n            }\n        }\n        node.collapsible = node.collapsible || node.children.length > 0;\n        node.visibleChildrenCount = visibleChildrenCount;\n        node.visible = visibility === 2 /* TreeVisibility.Recurse */ ? visibleChildrenCount > 0 : (visibility === 1 /* TreeVisibility.Visible */);\n        if (!node.visible) {\n            node.renderNodeCount = 0;\n            if (revealed) {\n                treeListElements.pop();\n            }\n        }\n        else if (!node.collapsed) {\n            node.renderNodeCount = renderNodeCount;\n        }\n        onDidCreateNode === null || onDidCreateNode === void 0 ? void 0 : onDidCreateNode(node);\n        return node;\n    }\n    updateNodeAfterCollapseChange(node) {\n        const previousRenderNodeCount = node.renderNodeCount;\n        const result = [];\n        this._updateNodeAfterCollapseChange(node, result);\n        this._updateAncestorsRenderNodeCount(node.parent, result.length - previousRenderNodeCount);\n        return result;\n    }\n    _updateNodeAfterCollapseChange(node, result) {\n        if (node.visible === false) {\n            return 0;\n        }\n        result.push(node);\n        node.renderNodeCount = 1;\n        if (!node.collapsed) {\n            for (const child of node.children) {\n                node.renderNodeCount += this._updateNodeAfterCollapseChange(child, result);\n            }\n        }\n        this._onDidChangeRenderNodeCount.fire(node);\n        return node.renderNodeCount;\n    }\n    updateNodeAfterFilterChange(node) {\n        const previousRenderNodeCount = node.renderNodeCount;\n        const result = [];\n        this._updateNodeAfterFilterChange(node, node.visible ? 1 /* TreeVisibility.Visible */ : 0 /* TreeVisibility.Hidden */, result);\n        this._updateAncestorsRenderNodeCount(node.parent, result.length - previousRenderNodeCount);\n        return result;\n    }\n    _updateNodeAfterFilterChange(node, parentVisibility, result, revealed = true) {\n        let visibility;\n        if (node !== this.root) {\n            visibility = this._filterNode(node, parentVisibility);\n            if (visibility === 0 /* TreeVisibility.Hidden */) {\n                node.visible = false;\n                node.renderNodeCount = 0;\n                return false;\n            }\n            if (revealed) {\n                result.push(node);\n            }\n        }\n        const resultStartLength = result.length;\n        node.renderNodeCount = node === this.root ? 0 : 1;\n        let hasVisibleDescendants = false;\n        if (!node.collapsed || visibility !== 0 /* TreeVisibility.Hidden */) {\n            let visibleChildIndex = 0;\n            for (const child of node.children) {\n                hasVisibleDescendants = this._updateNodeAfterFilterChange(child, visibility, result, revealed && !node.collapsed) || hasVisibleDescendants;\n                if (child.visible) {\n                    child.visibleChildIndex = visibleChildIndex++;\n                }\n            }\n            node.visibleChildrenCount = visibleChildIndex;\n        }\n        else {\n            node.visibleChildrenCount = 0;\n        }\n        if (node !== this.root) {\n            node.visible = visibility === 2 /* TreeVisibility.Recurse */ ? hasVisibleDescendants : (visibility === 1 /* TreeVisibility.Visible */);\n            node.visibility = visibility;\n        }\n        if (!node.visible) {\n            node.renderNodeCount = 0;\n            if (revealed) {\n                result.pop();\n            }\n        }\n        else if (!node.collapsed) {\n            node.renderNodeCount += result.length - resultStartLength;\n        }\n        this._onDidChangeRenderNodeCount.fire(node);\n        return node.visible;\n    }\n    _updateAncestorsRenderNodeCount(node, diff) {\n        if (diff === 0) {\n            return;\n        }\n        while (node) {\n            node.renderNodeCount += diff;\n            this._onDidChangeRenderNodeCount.fire(node);\n            node = node.parent;\n        }\n    }\n    _filterNode(node, parentVisibility) {\n        const result = this.filter ? this.filter.filter(node.element, parentVisibility) : 1 /* TreeVisibility.Visible */;\n        if (typeof result === 'boolean') {\n            node.filterData = undefined;\n            return result ? 1 /* TreeVisibility.Visible */ : 0 /* TreeVisibility.Hidden */;\n        }\n        else if (isFilterResult(result)) {\n            node.filterData = result.data;\n            return getVisibleState(result.visibility);\n        }\n        else {\n            node.filterData = undefined;\n            return getVisibleState(result);\n        }\n    }\n    // cheap\n    hasTreeNode(location, node = this.root) {\n        if (!location || location.length === 0) {\n            return true;\n        }\n        const [index, ...rest] = location;\n        if (index < 0 || index > node.children.length) {\n            return false;\n        }\n        return this.hasTreeNode(rest, node.children[index]);\n    }\n    // cheap\n    getTreeNode(location, node = this.root) {\n        if (!location || location.length === 0) {\n            return node;\n        }\n        const [index, ...rest] = location;\n        if (index < 0 || index > node.children.length) {\n            throw new TreeError(this.user, 'Invalid tree location');\n        }\n        return this.getTreeNode(rest, node.children[index]);\n    }\n    // expensive\n    getTreeNodeWithListIndex(location) {\n        if (location.length === 0) {\n            return { node: this.root, listIndex: -1, revealed: true, visible: false };\n        }\n        const { parentNode, listIndex, revealed, visible } = this.getParentNodeWithListIndex(location);\n        const index = location[location.length - 1];\n        if (index < 0 || index > parentNode.children.length) {\n            throw new TreeError(this.user, 'Invalid tree location');\n        }\n        const node = parentNode.children[index];\n        return { node, listIndex, revealed, visible: visible && node.visible };\n    }\n    getParentNodeWithListIndex(location, node = this.root, listIndex = 0, revealed = true, visible = true) {\n        const [index, ...rest] = location;\n        if (index < 0 || index > node.children.length) {\n            throw new TreeError(this.user, 'Invalid tree location');\n        }\n        // TODO@joao perf!\n        for (let i = 0; i < index; i++) {\n            listIndex += node.children[i].renderNodeCount;\n        }\n        revealed = revealed && !node.collapsed;\n        visible = visible && node.visible;\n        if (rest.length === 0) {\n            return { parentNode: node, listIndex, revealed, visible };\n        }\n        return this.getParentNodeWithListIndex(rest, node.children[index], listIndex + 1, revealed, visible);\n    }\n    getNode(location = []) {\n        return this.getTreeNode(location);\n    }\n    // TODO@joao perf!\n    getNodeLocation(node) {\n        const location = [];\n        let indexTreeNode = node; // typing woes\n        while (indexTreeNode.parent) {\n            location.push(indexTreeNode.parent.children.indexOf(indexTreeNode));\n            indexTreeNode = indexTreeNode.parent;\n        }\n        return location.reverse();\n    }\n    getParentNodeLocation(location) {\n        if (location.length === 0) {\n            return undefined;\n        }\n        else if (location.length === 1) {\n            return [];\n        }\n        else {\n            return tail2(location)[0];\n        }\n    }\n    getFirstElementChild(location) {\n        const node = this.getTreeNode(location);\n        if (node.children.length === 0) {\n            return undefined;\n        }\n        return node.children[0].element;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { ObjectTreeModel } from './objectTreeModel.js';\nimport { TreeError, WeakMapper } from './tree.js';\nimport { Event } from '../../../common/event.js';\nimport { Iterable } from '../../../common/iterator.js';\nfunction noCompress(element) {\n    const elements = [element.element];\n    const incompressible = element.incompressible || false;\n    return {\n        element: { elements, incompressible },\n        children: Iterable.map(Iterable.from(element.children), noCompress),\n        collapsible: element.collapsible,\n        collapsed: element.collapsed\n    };\n}\n// Exported only for test reasons, do not use directly\nexport function compress(element) {\n    const elements = [element.element];\n    const incompressible = element.incompressible || false;\n    let childrenIterator;\n    let children;\n    while (true) {\n        [children, childrenIterator] = Iterable.consume(Iterable.from(element.children), 2);\n        if (children.length !== 1) {\n            break;\n        }\n        if (children[0].incompressible) {\n            break;\n        }\n        element = children[0];\n        elements.push(element.element);\n    }\n    return {\n        element: { elements, incompressible },\n        children: Iterable.map(Iterable.concat(children, childrenIterator), compress),\n        collapsible: element.collapsible,\n        collapsed: element.collapsed\n    };\n}\nfunction _decompress(element, index = 0) {\n    let children;\n    if (index < element.element.elements.length - 1) {\n        children = [_decompress(element, index + 1)];\n    }\n    else {\n        children = Iterable.map(Iterable.from(element.children), el => _decompress(el, 0));\n    }\n    if (index === 0 && element.element.incompressible) {\n        return {\n            element: element.element.elements[index],\n            children,\n            incompressible: true,\n            collapsible: element.collapsible,\n            collapsed: element.collapsed\n        };\n    }\n    return {\n        element: element.element.elements[index],\n        children,\n        collapsible: element.collapsible,\n        collapsed: element.collapsed\n    };\n}\n// Exported only for test reasons, do not use directly\nexport function decompress(element) {\n    return _decompress(element, 0);\n}\nfunction splice(treeElement, element, children) {\n    if (treeElement.element === element) {\n        return Object.assign(Object.assign({}, treeElement), { children });\n    }\n    return Object.assign(Object.assign({}, treeElement), { children: Iterable.map(Iterable.from(treeElement.children), e => splice(e, element, children)) });\n}\nconst wrapIdentityProvider = (base) => ({\n    getId(node) {\n        return node.elements.map(e => base.getId(e).toString()).join('\\0');\n    }\n});\n// Exported only for test reasons, do not use directly\nexport class CompressedObjectTreeModel {\n    get onDidSplice() { return this.model.onDidSplice; }\n    get onDidChangeCollapseState() { return this.model.onDidChangeCollapseState; }\n    get onDidChangeRenderNodeCount() { return this.model.onDidChangeRenderNodeCount; }\n    constructor(user, list, options = {}) {\n        this.user = user;\n        this.rootRef = null;\n        this.nodes = new Map();\n        this.model = new ObjectTreeModel(user, list, options);\n        this.enabled = typeof options.compressionEnabled === 'undefined' ? true : options.compressionEnabled;\n        this.identityProvider = options.identityProvider;\n    }\n    setChildren(element, children = Iterable.empty(), options) {\n        // Diffs must be deem, since the compression can affect nested elements.\n        // @see https://github.com/microsoft/vscode/pull/114237#issuecomment-759425034\n        const diffIdentityProvider = options.diffIdentityProvider && wrapIdentityProvider(options.diffIdentityProvider);\n        if (element === null) {\n            const compressedChildren = Iterable.map(children, this.enabled ? compress : noCompress);\n            this._setChildren(null, compressedChildren, { diffIdentityProvider, diffDepth: Infinity });\n            return;\n        }\n        const compressedNode = this.nodes.get(element);\n        if (!compressedNode) {\n            throw new TreeError(this.user, 'Unknown compressed tree node');\n        }\n        const node = this.model.getNode(compressedNode);\n        const compressedParentNode = this.model.getParentNodeLocation(compressedNode);\n        const parent = this.model.getNode(compressedParentNode);\n        const decompressedElement = decompress(node);\n        const splicedElement = splice(decompressedElement, element, children);\n        const recompressedElement = (this.enabled ? compress : noCompress)(splicedElement);\n        const parentChildren = parent.children\n            .map(child => child === node ? recompressedElement : child);\n        this._setChildren(parent.element, parentChildren, {\n            diffIdentityProvider,\n            diffDepth: node.depth - parent.depth,\n        });\n    }\n    setCompressionEnabled(enabled) {\n        if (enabled === this.enabled) {\n            return;\n        }\n        this.enabled = enabled;\n        const root = this.model.getNode();\n        const rootChildren = root.children;\n        const decompressedRootChildren = Iterable.map(rootChildren, decompress);\n        const recompressedRootChildren = Iterable.map(decompressedRootChildren, enabled ? compress : noCompress);\n        // it should be safe to always use deep diff mode here if an identity\n        // provider is available, since we know the raw nodes are unchanged.\n        this._setChildren(null, recompressedRootChildren, {\n            diffIdentityProvider: this.identityProvider,\n            diffDepth: Infinity,\n        });\n    }\n    _setChildren(node, children, options) {\n        const insertedElements = new Set();\n        const onDidCreateNode = (node) => {\n            for (const element of node.element.elements) {\n                insertedElements.add(element);\n                this.nodes.set(element, node.element);\n            }\n        };\n        const onDidDeleteNode = (node) => {\n            for (const element of node.element.elements) {\n                if (!insertedElements.has(element)) {\n                    this.nodes.delete(element);\n                }\n            }\n        };\n        this.model.setChildren(node, children, Object.assign(Object.assign({}, options), { onDidCreateNode, onDidDeleteNode }));\n    }\n    has(element) {\n        return this.nodes.has(element);\n    }\n    getListIndex(location) {\n        const node = this.getCompressedNode(location);\n        return this.model.getListIndex(node);\n    }\n    getListRenderCount(location) {\n        const node = this.getCompressedNode(location);\n        return this.model.getListRenderCount(node);\n    }\n    getNode(location) {\n        if (typeof location === 'undefined') {\n            return this.model.getNode();\n        }\n        const node = this.getCompressedNode(location);\n        return this.model.getNode(node);\n    }\n    // TODO: review this\n    getNodeLocation(node) {\n        const compressedNode = this.model.getNodeLocation(node);\n        if (compressedNode === null) {\n            return null;\n        }\n        return compressedNode.elements[compressedNode.elements.length - 1];\n    }\n    // TODO: review this\n    getParentNodeLocation(location) {\n        const compressedNode = this.getCompressedNode(location);\n        const parentNode = this.model.getParentNodeLocation(compressedNode);\n        if (parentNode === null) {\n            return null;\n        }\n        return parentNode.elements[parentNode.elements.length - 1];\n    }\n    getFirstElementChild(location) {\n        const compressedNode = this.getCompressedNode(location);\n        return this.model.getFirstElementChild(compressedNode);\n    }\n    isCollapsible(location) {\n        const compressedNode = this.getCompressedNode(location);\n        return this.model.isCollapsible(compressedNode);\n    }\n    setCollapsible(location, collapsible) {\n        const compressedNode = this.getCompressedNode(location);\n        return this.model.setCollapsible(compressedNode, collapsible);\n    }\n    isCollapsed(location) {\n        const compressedNode = this.getCompressedNode(location);\n        return this.model.isCollapsed(compressedNode);\n    }\n    setCollapsed(location, collapsed, recursive) {\n        const compressedNode = this.getCompressedNode(location);\n        return this.model.setCollapsed(compressedNode, collapsed, recursive);\n    }\n    expandTo(location) {\n        const compressedNode = this.getCompressedNode(location);\n        this.model.expandTo(compressedNode);\n    }\n    rerender(location) {\n        const compressedNode = this.getCompressedNode(location);\n        this.model.rerender(compressedNode);\n    }\n    refilter() {\n        this.model.refilter();\n    }\n    getCompressedNode(element) {\n        if (element === null) {\n            return null;\n        }\n        const node = this.nodes.get(element);\n        if (!node) {\n            throw new TreeError(this.user, `Tree element not found: ${element}`);\n        }\n        return node;\n    }\n}\nexport const DefaultElementMapper = elements => elements[elements.length - 1];\nclass CompressedTreeNodeWrapper {\n    get element() { return this.node.element === null ? null : this.unwrapper(this.node.element); }\n    get children() { return this.node.children.map(node => new CompressedTreeNodeWrapper(this.unwrapper, node)); }\n    get depth() { return this.node.depth; }\n    get visibleChildrenCount() { return this.node.visibleChildrenCount; }\n    get visibleChildIndex() { return this.node.visibleChildIndex; }\n    get collapsible() { return this.node.collapsible; }\n    get collapsed() { return this.node.collapsed; }\n    get visible() { return this.node.visible; }\n    get filterData() { return this.node.filterData; }\n    constructor(unwrapper, node) {\n        this.unwrapper = unwrapper;\n        this.node = node;\n    }\n}\nfunction mapList(nodeMapper, list) {\n    return {\n        splice(start, deleteCount, toInsert) {\n            list.splice(start, deleteCount, toInsert.map(node => nodeMapper.map(node)));\n        },\n        updateElementHeight(index, height) {\n            list.updateElementHeight(index, height);\n        }\n    };\n}\nfunction mapOptions(compressedNodeUnwrapper, options) {\n    return Object.assign(Object.assign({}, options), { identityProvider: options.identityProvider && {\n            getId(node) {\n                return options.identityProvider.getId(compressedNodeUnwrapper(node));\n            }\n        }, sorter: options.sorter && {\n            compare(node, otherNode) {\n                return options.sorter.compare(node.elements[0], otherNode.elements[0]);\n            }\n        }, filter: options.filter && {\n            filter(node, parentVisibility) {\n                return options.filter.filter(compressedNodeUnwrapper(node), parentVisibility);\n            }\n        } });\n}\nexport class CompressibleObjectTreeModel {\n    get onDidSplice() {\n        return Event.map(this.model.onDidSplice, ({ insertedNodes, deletedNodes }) => ({\n            insertedNodes: insertedNodes.map(node => this.nodeMapper.map(node)),\n            deletedNodes: deletedNodes.map(node => this.nodeMapper.map(node)),\n        }));\n    }\n    get onDidChangeCollapseState() {\n        return Event.map(this.model.onDidChangeCollapseState, ({ node, deep }) => ({\n            node: this.nodeMapper.map(node),\n            deep\n        }));\n    }\n    get onDidChangeRenderNodeCount() {\n        return Event.map(this.model.onDidChangeRenderNodeCount, node => this.nodeMapper.map(node));\n    }\n    constructor(user, list, options = {}) {\n        this.rootRef = null;\n        this.elementMapper = options.elementMapper || DefaultElementMapper;\n        const compressedNodeUnwrapper = node => this.elementMapper(node.elements);\n        this.nodeMapper = new WeakMapper(node => new CompressedTreeNodeWrapper(compressedNodeUnwrapper, node));\n        this.model = new CompressedObjectTreeModel(user, mapList(this.nodeMapper, list), mapOptions(compressedNodeUnwrapper, options));\n    }\n    setChildren(element, children = Iterable.empty(), options = {}) {\n        this.model.setChildren(element, children, options);\n    }\n    setCompressionEnabled(enabled) {\n        this.model.setCompressionEnabled(enabled);\n    }\n    has(location) {\n        return this.model.has(location);\n    }\n    getListIndex(location) {\n        return this.model.getListIndex(location);\n    }\n    getListRenderCount(location) {\n        return this.model.getListRenderCount(location);\n    }\n    getNode(location) {\n        return this.nodeMapper.map(this.model.getNode(location));\n    }\n    getNodeLocation(node) {\n        return node.element;\n    }\n    getParentNodeLocation(location) {\n        return this.model.getParentNodeLocation(location);\n    }\n    getFirstElementChild(location) {\n        const result = this.model.getFirstElementChild(location);\n        if (result === null || typeof result === 'undefined') {\n            return result;\n        }\n        return this.elementMapper(result.elements);\n    }\n    isCollapsible(location) {\n        return this.model.isCollapsible(location);\n    }\n    setCollapsible(location, collapsed) {\n        return this.model.setCollapsible(location, collapsed);\n    }\n    isCollapsed(location) {\n        return this.model.isCollapsed(location);\n    }\n    setCollapsed(location, collapsed, recursive) {\n        return this.model.setCollapsed(location, collapsed, recursive);\n    }\n    expandTo(location) {\n        return this.model.expandTo(location);\n    }\n    rerender(location) {\n        return this.model.rerender(location);\n    }\n    refilter() {\n        return this.model.refilter();\n    }\n    getCompressedTreeNode(location = null) {\n        return this.model.getNode(location);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { AbstractTree } from './abstractTree.js';\nimport { CompressibleObjectTreeModel } from './compressedObjectTreeModel.js';\nimport { ObjectTreeModel } from './objectTreeModel.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Iterable } from '../../../common/iterator.js';\nexport class ObjectTree extends AbstractTree {\n    get onDidChangeCollapseState() { return this.model.onDidChangeCollapseState; }\n    constructor(user, container, delegate, renderers, options = {}) {\n        super(user, container, delegate, renderers, options);\n        this.user = user;\n    }\n    setChildren(element, children = Iterable.empty(), options) {\n        this.model.setChildren(element, children, options);\n    }\n    rerender(element) {\n        if (element === undefined) {\n            this.view.rerender();\n            return;\n        }\n        this.model.rerender(element);\n    }\n    hasElement(element) {\n        return this.model.has(element);\n    }\n    createModel(user, view, options) {\n        return new ObjectTreeModel(user, view, options);\n    }\n}\nclass CompressibleRenderer {\n    get compressedTreeNodeProvider() {\n        return this._compressedTreeNodeProvider();\n    }\n    constructor(_compressedTreeNodeProvider, renderer) {\n        this._compressedTreeNodeProvider = _compressedTreeNodeProvider;\n        this.renderer = renderer;\n        this.templateId = renderer.templateId;\n        if (renderer.onDidChangeTwistieState) {\n            this.onDidChangeTwistieState = renderer.onDidChangeTwistieState;\n        }\n    }\n    renderTemplate(container) {\n        const data = this.renderer.renderTemplate(container);\n        return { compressedTreeNode: undefined, data };\n    }\n    renderElement(node, index, templateData, height) {\n        const compressedTreeNode = this.compressedTreeNodeProvider.getCompressedTreeNode(node.element);\n        if (compressedTreeNode.element.elements.length === 1) {\n            templateData.compressedTreeNode = undefined;\n            this.renderer.renderElement(node, index, templateData.data, height);\n        }\n        else {\n            templateData.compressedTreeNode = compressedTreeNode;\n            this.renderer.renderCompressedElements(compressedTreeNode, index, templateData.data, height);\n        }\n    }\n    disposeElement(node, index, templateData, height) {\n        var _a, _b, _c, _d;\n        if (templateData.compressedTreeNode) {\n            (_b = (_a = this.renderer).disposeCompressedElements) === null || _b === void 0 ? void 0 : _b.call(_a, templateData.compressedTreeNode, index, templateData.data, height);\n        }\n        else {\n            (_d = (_c = this.renderer).disposeElement) === null || _d === void 0 ? void 0 : _d.call(_c, node, index, templateData.data, height);\n        }\n    }\n    disposeTemplate(templateData) {\n        this.renderer.disposeTemplate(templateData.data);\n    }\n    renderTwistie(element, twistieElement) {\n        if (this.renderer.renderTwistie) {\n            return this.renderer.renderTwistie(element, twistieElement);\n        }\n        return false;\n    }\n}\n__decorate([\n    memoize\n], CompressibleRenderer.prototype, \"compressedTreeNodeProvider\", null);\nfunction asObjectTreeOptions(compressedTreeNodeProvider, options) {\n    return options && Object.assign(Object.assign({}, options), { keyboardNavigationLabelProvider: options.keyboardNavigationLabelProvider && {\n            getKeyboardNavigationLabel(e) {\n                let compressedTreeNode;\n                try {\n                    compressedTreeNode = compressedTreeNodeProvider().getCompressedTreeNode(e);\n                }\n                catch (_a) {\n                    return options.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e);\n                }\n                if (compressedTreeNode.element.elements.length === 1) {\n                    return options.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e);\n                }\n                else {\n                    return options.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(compressedTreeNode.element.elements);\n                }\n            }\n        } });\n}\nexport class CompressibleObjectTree extends ObjectTree {\n    constructor(user, container, delegate, renderers, options = {}) {\n        const compressedTreeNodeProvider = () => this;\n        const compressibleRenderers = renderers.map(r => new CompressibleRenderer(compressedTreeNodeProvider, r));\n        super(user, container, delegate, compressibleRenderers, asObjectTreeOptions(compressedTreeNodeProvider, options));\n    }\n    setChildren(element, children = Iterable.empty(), options) {\n        this.model.setChildren(element, children, options);\n    }\n    createModel(user, view, options) {\n        return new CompressibleObjectTreeModel(user, view, options);\n    }\n    updateOptions(optionsUpdate = {}) {\n        super.updateOptions(optionsUpdate);\n        if (typeof optionsUpdate.compressionEnabled !== 'undefined') {\n            this.model.setCompressionEnabled(optionsUpdate.compressionEnabled);\n        }\n    }\n    getCompressedTreeNode(element = null) {\n        return this.model.getCompressedTreeNode(element);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IndexTreeModel } from './indexTreeModel.js';\nimport { TreeError } from './tree.js';\nimport { Iterable } from '../../../common/iterator.js';\nexport class ObjectTreeModel {\n    constructor(user, list, options = {}) {\n        this.user = user;\n        this.rootRef = null;\n        this.nodes = new Map();\n        this.nodesByIdentity = new Map();\n        this.model = new IndexTreeModel(user, list, null, options);\n        this.onDidSplice = this.model.onDidSplice;\n        this.onDidChangeCollapseState = this.model.onDidChangeCollapseState;\n        this.onDidChangeRenderNodeCount = this.model.onDidChangeRenderNodeCount;\n        if (options.sorter) {\n            this.sorter = {\n                compare(a, b) {\n                    return options.sorter.compare(a.element, b.element);\n                }\n            };\n        }\n        this.identityProvider = options.identityProvider;\n    }\n    setChildren(element, children = Iterable.empty(), options = {}) {\n        const location = this.getElementLocation(element);\n        this._setChildren(location, this.preserveCollapseState(children), options);\n    }\n    _setChildren(location, children = Iterable.empty(), options) {\n        const insertedElements = new Set();\n        const insertedElementIds = new Set();\n        const onDidCreateNode = (node) => {\n            var _a;\n            if (node.element === null) {\n                return;\n            }\n            const tnode = node;\n            insertedElements.add(tnode.element);\n            this.nodes.set(tnode.element, tnode);\n            if (this.identityProvider) {\n                const id = this.identityProvider.getId(tnode.element).toString();\n                insertedElementIds.add(id);\n                this.nodesByIdentity.set(id, tnode);\n            }\n            (_a = options.onDidCreateNode) === null || _a === void 0 ? void 0 : _a.call(options, tnode);\n        };\n        const onDidDeleteNode = (node) => {\n            var _a;\n            if (node.element === null) {\n                return;\n            }\n            const tnode = node;\n            if (!insertedElements.has(tnode.element)) {\n                this.nodes.delete(tnode.element);\n            }\n            if (this.identityProvider) {\n                const id = this.identityProvider.getId(tnode.element).toString();\n                if (!insertedElementIds.has(id)) {\n                    this.nodesByIdentity.delete(id);\n                }\n            }\n            (_a = options.onDidDeleteNode) === null || _a === void 0 ? void 0 : _a.call(options, tnode);\n        };\n        this.model.splice([...location, 0], Number.MAX_VALUE, children, Object.assign(Object.assign({}, options), { onDidCreateNode, onDidDeleteNode }));\n    }\n    preserveCollapseState(elements = Iterable.empty()) {\n        if (this.sorter) {\n            elements = [...elements].sort(this.sorter.compare.bind(this.sorter));\n        }\n        return Iterable.map(elements, treeElement => {\n            let node = this.nodes.get(treeElement.element);\n            if (!node && this.identityProvider) {\n                const id = this.identityProvider.getId(treeElement.element).toString();\n                node = this.nodesByIdentity.get(id);\n            }\n            if (!node) {\n                return Object.assign(Object.assign({}, treeElement), { children: this.preserveCollapseState(treeElement.children) });\n            }\n            const collapsible = typeof treeElement.collapsible === 'boolean' ? treeElement.collapsible : node.collapsible;\n            const collapsed = typeof treeElement.collapsed !== 'undefined' ? treeElement.collapsed : node.collapsed;\n            return Object.assign(Object.assign({}, treeElement), { collapsible,\n                collapsed, children: this.preserveCollapseState(treeElement.children) });\n        });\n    }\n    rerender(element) {\n        const location = this.getElementLocation(element);\n        this.model.rerender(location);\n    }\n    getFirstElementChild(ref = null) {\n        const location = this.getElementLocation(ref);\n        return this.model.getFirstElementChild(location);\n    }\n    has(element) {\n        return this.nodes.has(element);\n    }\n    getListIndex(element) {\n        const location = this.getElementLocation(element);\n        return this.model.getListIndex(location);\n    }\n    getListRenderCount(element) {\n        const location = this.getElementLocation(element);\n        return this.model.getListRenderCount(location);\n    }\n    isCollapsible(element) {\n        const location = this.getElementLocation(element);\n        return this.model.isCollapsible(location);\n    }\n    setCollapsible(element, collapsible) {\n        const location = this.getElementLocation(element);\n        return this.model.setCollapsible(location, collapsible);\n    }\n    isCollapsed(element) {\n        const location = this.getElementLocation(element);\n        return this.model.isCollapsed(location);\n    }\n    setCollapsed(element, collapsed, recursive) {\n        const location = this.getElementLocation(element);\n        return this.model.setCollapsed(location, collapsed, recursive);\n    }\n    expandTo(element) {\n        const location = this.getElementLocation(element);\n        this.model.expandTo(location);\n    }\n    refilter() {\n        this.model.refilter();\n    }\n    getNode(element = null) {\n        if (element === null) {\n            return this.model.getNode(this.model.rootRef);\n        }\n        const node = this.nodes.get(element);\n        if (!node) {\n            throw new TreeError(this.user, `Tree element not found: ${element}`);\n        }\n        return node;\n    }\n    getNodeLocation(node) {\n        return node.element;\n    }\n    getParentNodeLocation(element) {\n        if (element === null) {\n            throw new TreeError(this.user, `Invalid getParentNodeLocation call`);\n        }\n        const node = this.nodes.get(element);\n        if (!node) {\n            throw new TreeError(this.user, `Tree element not found: ${element}`);\n        }\n        const location = this.model.getNodeLocation(node);\n        const parentLocation = this.model.getParentNodeLocation(location);\n        const parent = this.model.getNode(parentLocation);\n        return parent.element;\n    }\n    getElementLocation(element) {\n        if (element === null) {\n            return [];\n        }\n        const node = this.nodes.get(element);\n        if (!node) {\n            throw new TreeError(this.user, `Tree element not found: ${element}`);\n        }\n        return this.model.getNodeLocation(node);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport var TreeMouseEventTarget;\n(function (TreeMouseEventTarget) {\n    TreeMouseEventTarget[TreeMouseEventTarget[\"Unknown\"] = 0] = \"Unknown\";\n    TreeMouseEventTarget[TreeMouseEventTarget[\"Twistie\"] = 1] = \"Twistie\";\n    TreeMouseEventTarget[TreeMouseEventTarget[\"Element\"] = 2] = \"Element\";\n    TreeMouseEventTarget[TreeMouseEventTarget[\"Filter\"] = 3] = \"Filter\";\n})(TreeMouseEventTarget || (TreeMouseEventTarget = {}));\nexport class TreeError extends Error {\n    constructor(user, message) {\n        super(`TreeError [${user}] ${message}`);\n    }\n}\nexport class WeakMapper {\n    constructor(fn) {\n        this.fn = fn;\n        this._map = new WeakMap();\n    }\n    map(key) {\n        let result = this._map.get(key);\n        if (!result) {\n            result = this.fn(key);\n            this._map.set(key, result);\n        }\n        return result;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../dom.js';\nimport { StandardKeyboardEvent } from '../keyboardEvent.js';\nimport { StandardMouseEvent } from '../mouseEvent.js';\nimport { Gesture } from '../touch.js';\nimport { Disposable } from '../../common/lifecycle.js';\nexport class Widget extends Disposable {\n    onclick(domNode, listener) {\n        this._register(dom.addDisposableListener(domNode, dom.EventType.CLICK, (e) => listener(new StandardMouseEvent(e))));\n    }\n    onmousedown(domNode, listener) {\n        this._register(dom.addDisposableListener(domNode, dom.EventType.MOUSE_DOWN, (e) => listener(new StandardMouseEvent(e))));\n    }\n    onmouseover(domNode, listener) {\n        this._register(dom.addDisposableListener(domNode, dom.EventType.MOUSE_OVER, (e) => listener(new StandardMouseEvent(e))));\n    }\n    onmouseleave(domNode, listener) {\n        this._register(dom.addDisposableListener(domNode, dom.EventType.MOUSE_LEAVE, (e) => listener(new StandardMouseEvent(e))));\n    }\n    onkeydown(domNode, listener) {\n        this._register(dom.addDisposableListener(domNode, dom.EventType.KEY_DOWN, (e) => listener(new StandardKeyboardEvent(e))));\n    }\n    onkeyup(domNode, listener) {\n        this._register(dom.addDisposableListener(domNode, dom.EventType.KEY_UP, (e) => listener(new StandardKeyboardEvent(e))));\n    }\n    oninput(domNode, listener) {\n        this._register(dom.addDisposableListener(domNode, dom.EventType.INPUT, listener));\n    }\n    onblur(domNode, listener) {\n        this._register(dom.addDisposableListener(domNode, dom.EventType.BLUR, listener));\n    }\n    onfocus(domNode, listener) {\n        this._register(dom.addDisposableListener(domNode, dom.EventType.FOCUS, listener));\n    }\n    ignoreGesture(domNode) {\n        return Gesture.ignoreTarget(domNode);\n    }\n}\n"],"names":["MOUSE_CURSOR_TEXT_CSS_CLASS_NAME","CSS_DONE","CSS_ACTIVE","CSS_INFINITE","CSS_INFINITE_LONG_RUNNING","CSS_DISCRETE","ProgressBar","_Disposable","_inherits","_super","_createSuper","container","options","_this","_classCallCheck","call","workedVal","showDelayedScheduler","_register","RunOnceScheduler","show","element","longRunningScheduler","infiniteLongRunning","LONG_RUNNING_INFINITE_THRESHOLD","create","_createClass","key","value","this","document","createElement","classList","add","setAttribute","appendChild","bit","style","backgroundColor","progressBarBackground","width","opacity","remove","totalWork","undefined","cancel","doDone","delayed","_this2","contains","setTimeout","off","schedule","Disposable","ResizableHTMLElement","currentSize","_onDidWillResize","Emitter","onDidWillResize","event","_onDidResize","onDidResize","_sashListener","DisposableStore","_size","Dimension","_minSize","_maxSize","Number","MAX_SAFE_INTEGER","domNode","_eastSash","Sash","getVerticalSashLeft","orientation","_westSash","_northSash","getHorizontalSashTop","orthogonalEdge","OrthogonalEdge","_southSash","height","orthogonalStartSash","orthogonalEndSash","deltaY","deltaX","Event","onDidStart","fire","onDidEnd","dimension","done","onDidChange","e","currentX","startX","layout","east","west","currentY","startY","north","south","onDidReset","_preferredSize","dispose","state","arguments","length","size","_this$_minSize","minHeight","minWidth","_this$_maxSize","maxHeight","maxWidth","Math","max","min","newSize","clearSashHoverState","get","set","__decorate","decorators","target","desc","d","c","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","onDidChangeGlobalSize","onDidChangeHoverDelay","MouseEventFactory","disposables","DomEmitter","window","memoize","prototype","GestureEventFactory","el","EventType","OrthogonalPointerEventFactory","factory","onPointerMove","onPointerUp","PointerEventsDisabledCssClass","layoutProvider","hoverDelay","hoverDelayer","Delayer","_state","onDidEnablementChange","_onDidStart","_onDidChange","_onDidReset","_onDidEnd","orthogonalStartSashDisposables","orthogonalStartDragHandleDisposables","orthogonalEndSashDisposables","orthogonalEndDragHandleDisposables","linkedSash","append","$","concat","isMacintosh","onMouseDown","onPointerStart","_assertThisInitialized","onMouseDoubleClick","onPointerDoublePress","onMouseEnter","onMouseLeave","Gesture","onTouchStart","onTap","doubleTapTimeout","clearTimeout","delay","toggle","_orthogonalStartSash","sash","clear","onChange","_orthogonalStartDragHandle","toDisposable","_orthogonalEndSash","_this3","_orthogonalEndDragHandle","pointerEventFactory","_this4","EventHelper","isMultisashResize","__orthogonalSashEvent","orthogonalSash","getOrthogonalSash","__linkedSashEvent","_step","iframes","getElementsByTagName","_iterator","_createForOfIteratorHelper","s","n","err","f","pageX","pageY","altKey","startEvent","createStyleSheet","updateStyle","cursor","textContent","removeChild","_step2","_iterator2","verticalProvider","left","getVerticalSashTop","top","getVerticalSashHeight","horizontalProvider","getHorizontalSashLeft","getHorizontalSashWidth","_a","initialTarget","HTMLElement","_get","_getPrototypeOf","fromLinkedSash","trigger","then","ARROW_IMG_SIZE","ScrollbarArrow","_Widget","opts","_this$domNode$classLi","_onActivate","onActivate","bgDomNode","className","position","bgWidth","bgHeight","bottom","right","apply","_toConsumableArray","ThemeIcon","icon","_pointerMoveMonitor","GlobalPointerMoveMonitor","dom","addStandardDisposableListener","POINTER_DOWN","_arrowPointerDown","_pointerdownRepeatTimer","IntervalTimer","_pointerdownScheduleRepeatTimer","TimeoutTimer","Element","cancelAndSet","startMonitoring","pointerId","buttons","pointerMoveData","preventDefault","Widget","ScrollbarVisibilityController","visibility","visibleClassName","invisibleClassName","_visibility","_visibleClassName","_invisibleClassName","_domNode","_isVisible","_isNeeded","_rawShouldBeVisible","_shouldBeVisible","_revealTimer","_updateShouldBeVisible","rawShouldBeVisible","shouldBeVisible","_applyVisibilitySetting","ensureVisibility","isNeeded","setClassName","setShouldBeVisible","_reveal","_hide","setIfNotSet","withFadeAway","AbstractScrollbar","_lazyRender","lazyRender","_host","host","_scrollable","scrollable","_scrollByPage","scrollByPage","_scrollbarState","scrollbarState","_visibilityController","extraScrollbarClassName","setIsNeeded","_shouldRender","createFastDomNode","setDomNode","setPosition","addDisposableListener","_domNodePointerDown","arrow","slider","setTop","setLeft","setWidth","setHeight","setLayerHinting","setContain","button","_sliderPointerDown","onclick","leftButton","stopPropagation","visibleSize","setVisibleSize","render","elementScrollSize","setScrollSize","elementScrollPosition","setScrollPosition","_renderDomNode","getRectangleLargeSize","getRectangleSmallSize","_updateSlider","getSliderSize","getArrowSize","getSliderPosition","_onPointerDown","domTop","getClientRects","sliderStart","sliderStop","pointerPos","_sliderPointerPosition","offsetX","offsetY","domNodePosition","getDomNodePagePosition","offset","_pointerDownRelativePosition","_setDesiredScrollPositionNow","getDesiredScrollPositionFromOffsetPaged","getDesiredScrollPositionFromOffset","initialPointerPosition","initialPointerOrthogonalPosition","_sliderOrthogonalPointerPosition","initialScrollbarState","clone","toggleClassName","pointerOrthogonalPosition","pointerOrthogonalDelta","abs","platform","getScrollPosition","pointerDelta","getDesiredScrollPositionFromDelta","onDragEnd","onDragStart","_desiredScrollPosition","desiredScrollPosition","writeScrollPosition","setScrollPositionNow","scrollbarSize","_updateScrollbarSize","setScrollbarSize","ScrollbarState","arrowSize","oppositeScrollbarSize","scrollSize","scrollPosition","_scrollbarSize","round","_oppositeScrollbarSize","_arrowSize","_visibleSize","_scrollSize","_scrollPosition","_computedAvailableSize","_computedIsNeeded","_computedSliderSize","_computedSliderRatio","_computedSliderPosition","_refreshComputedValues","iVisibleSize","iScrollSize","iScrollPosition","_computeValues","computedAvailableSize","computedIsNeeded","computedSliderSize","computedSliderRatio","computedSliderPosition","desiredSliderPosition","correctedOffset","delta","computedRepresentableSize","floor","HorizontalScrollbar","_AbstractScrollbar","scrollDimensions","getScrollDimensions","getCurrentScrollPosition","horizontalHasArrows","horizontal","horizontalScrollbarSize","vertical","verticalScrollbarSize","scrollWidth","scrollLeft","arrowDelta","scrollbarDelta","_createArrow","Codicon","onMouseWheel","StandardWheelEvent","_createSlider","horizontalSliderSize","sliderSize","sliderPosition","largeSize","smallSize","setBottom","_onElementScrollSize","_onElementScrollPosition","_onElementSize","updateScrollbarSize","setOppositeScrollbarSize","setVisibility","VerticalScrollbar","verticalHasArrows","scrollHeight","scrollTop","verticalSliderSize","setRight","MouseWheelClassifierItem","timestamp","score","MouseWheelClassifier","_capacity","_memory","_front","_rear","remainingInfluence","iteration","index","influence","pow","osZoomFactor","devicePixelRatio","getZoomFactor","accept","Date","now","item","_computeScore","_isAlmostInt","INSTANCE","AbstractScrollableElement","_onScroll","onScroll","_onWillScroll","overflow","_options","result","useShadows","handleMouseWheel","flipAxes","consumeMouseWheelIfScrollbarIsNeeded","alwaysConsumeMouseWheel","scrollYToX","mouseWheelScrollSensitivity","fastScrollSensitivity","scrollPredominantAxis","mouseWheelSmoothScroll","listenOnDomNode","resolveOptions","_onDidScroll","scrollbarHost","mouseWheelEvent","_onMouseWheel","_onDragStart","_onDragEnd","_verticalScrollbar","_horizontalScrollbar","_leftShadowDomNode","_topShadowDomNode","_topLeftShadowDomNode","_listenOnDomNode","_mouseWheelToDispose","_setListeningToMouseWheel","onmouseover","_onMouseOver","onmouseleave","_onMouseLeave","_hideTimeout","_isDragging","_mouseIsOver","_revealOnScroll","parent","insertBefore","browserEvent","delegatePointerDown","dimensions","setScrollDimensions","newClassName","newOptions","updateOptions","_render","shouldListen","push","MOUSE_WHEEL","passive","classifier","acceptStandardWheelEvent","didScroll","_ref","shiftConvert","shiftKey","futureScrollPosition","getFutureScrollPosition","deltaScrollTop","desiredScrollTop","ceil","deltaScrollLeft","desiredScrollLeft","validateScrollPosition","isPhysicalMouseWheel","setScrollPositionSmooth","consumeMouseWheel","onDidScroll","Error","scrollState","enableTop","enableLeft","leftClassName","topClassName","topLeftClassName","beginReveal","_scheduleHide","beginHide","ScrollableElement","_AbstractScrollableEl","_super2","Scrollable","forceIntegerValues","smoothScrollDuration","scheduleAtNextAnimationFrame","callback","update","SmoothScrollableElement","_AbstractScrollableEl2","_super3","reuseAnimation","DomScrollableElement","_AbstractScrollableEl3","_super4","_this5","_element","scrollTopChanged","scrollLeftChanged","scanDomNode","clientWidth","clientHeight","SELECT_OPTION_ENTRY_TEMPLATE_ID","SelectListRenderer","data","root","text","detail","decoratorRight","templateData","isDisabled","innerText","_templateData","SelectBoxList","selected","contextViewProvider","styles","selectBoxOptions","_currentSelection","_hasDetails","_skipLayout","_sticky","minBottomMargin","DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN","selectElement","ariaLabel","ariaDescription","_onDidSelect","registerListeners","constructSelectDropDown","setOptions","initStyleSheet","selectDropDownContainer","selectionDetailsPane","widthControlOuterDiv","widthControlInnerDiv","widthControlElement","_dropDownPosition","styleElement","DRAG_START","stop","listIsVisibleOnTouchStart","selectedIndex","title","CLICK","hideSelectDropDown","showSelectDropDown","MOUSE_DOWN","KEY_DOWN","StandardKeyboardEvent","showDropDown","keyCode","arrays","_cachedMaxDetailsHeight","forEach","option","createOption","description","select","selectList","splice","tabIndex","focus","blur","focusable","styleSelectElement","content","listFocusBackground","listFocusForeground","decoratorRightForeground","selectBackground","selectBorder","selectListBorder","listHoverForeground","listHoverBackground","listFocusOutline","listHoverOutline","join","_b","_c","background","foreground","selectForeground","border","color","borderColor","listBackground","asCssValueWithDefault","selectListBackground","selectDropDownListContainer","optionsBorder","focusBorder","outlineColor","outlineOffset","disabled","createSelectList","setOptionsList","showContextView","getAnchor","renderSelectDropDown","layoutSelectDropDown","onHide","anchorPosition","optionsAsChildren","focusSelect","hideContextView","preLayoutPosition","error","_this6","maxDetailsPaneHeight","_option","updateDetail","offsetHeight","selectPosition","getComputedStyle","verticalPadding","parseFloat","getPropertyValue","maxSelectDropDownHeightBelow","innerHeight","maxSelectDropDownHeightAbove","DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN","selectWidth","offsetWidth","selectMinWidth","setWidthControlElement","selectOptimalWidth","toString","getHTMLElement","listHeight","contentHeight","measureMaxDetailsHeight","minRequiredDropDownHeight","maxVisibleOptionsBelow","getHeight","maxVisibleOptionsAbove","DEFAULT_MINIMUM_VISIBLE_OPTIONS","domFocus","setFocus","reveal","getFocus","elementWidth","longest","longestLength","detailLength","rightDecoratorLength","len","getTotalWidth","_this7","listRenderer","List","verticalScrollMode","keyboardSupport","mouseSupport","accessibilityProvider","getAriaLabel","label","getWidgetAriaLabel","localize","comment","getRole","getWidgetRole","onKeyDown","onSelectDropDownKeyDown","filter","map","on","onEnter","onEscape","onUpArrow","onDownArrow","onPageDown","onPageUp","onHome","onEnd","onCharacter","POINTER_UP","onMouseOver","onDidChangeFocus","onListFocus","FOCUS_OUT","isAncestor","relatedTarget","onListBlur","styleList","listRowElement","closest","getAttribute","actionHandler","rendered","renderMarkdown","supportThemeIcons","cleanRenderedMarkdown","childNodes","child","tagName","toLowerCase","indexes","descriptionIsMarkdown","descriptionMarkdownActionHandler","renderDescriptionMarkdown","display","nextOptionDisabled","_this8","focusPreviousPage","_this9","focusNextPage","ch","KeyCodeUtils","optionIndex","charAt","toUpperCase","SelectBoxNative","eventType","showSelect","applyStyles","SelectBox","useCustomDrawn","selectBoxDelegate","onDidSelect","setFocusable","State","Sizing","defaultStyles","separatorBorder","Color","ViewItem","view","disposable","_cachedVisibleSize","cachedVisibleSize","visible","clamp","viewMinimumSize","viewMaximumSize","setVisible","minimumSize","maximumSize","priority","proportionalLayout","snap","enabled","pointerEvents","layoutContext","layoutContainer","VerticalViewItem","_ViewItem","HorizontalViewItem","_ViewItem2","Distribute","type","Split","Invisible","SplitView","_d","_e","contentSize","proportions","viewItems","sashItems","Idle","_onDidSashChange","_onDidSashReset","_startSnappingEnabled","_endSnappingEnabled","onDidSashChange","onDidSashReset","inverseAltBehavior","getSashOrthogonalSize","sashContainer","viewContainer","scrollableElement","scrollbarVisibility","onDidScrollViewContainer","_","getDomNode","descriptor","views","viewDescriptor","sizing","types","doAddView","reduce","saveProportions","startSnappingEnabled","updateSashEnablement","endSnappingEnabled","isTransparent","removeProperty","setProperty","skipLayout","previousSize","total","proportion","range","lowPriorityIndexes","highPriorityIndexes","resize","distributeEmptySpace","layoutViews","_step3","start","alt","_iterator3","findIndex","combinedDisposable","body","resetSashDragState","sashDragState","current","snapBefore","snapAfter","sizes","minDelta","NEGATIVE_INFINITY","maxDelta","POSITIVE_INFINITY","viewItem","upIndexes","downIndexes","minDeltaUp","maxDeltaUp","maxDeltaDown","minDeltaDown","snapBeforeIndex","findFirstSnapIndex","snapAfterIndex","halfSize","limitDelta","_ref2","_this$sashDragState","newDelta","isLastSash","newSizes","viewItemIndex","newMinDelta","newMaxDelta","resizeIndex","_step4","_iterator4","indexOf","relayout","Busy","_step5","flexibleViewItems","flexibleSize","_iterator5","_i2","_flexibleViewItems","children","viewSize","onChangeDisposable","onViewChange","containerDisposable","getViewSize","getSashPosition","assign","sashEventMapper","onStartDisposable","onStart","onSashStart","onSashChange","onEndDisposable","onSashEnd","onDidResetDisposable","sashItem","distributeViewSizes","overloadMinDelta","overloadMaxDelta","_step6","_iterator6","pushToStart","_step7","_iterator7","pushToEnd","upItems","upSizes","downItems","downSizes","snapped","snapView","deltaUp","deltaDown","lowPriorityIndex","_step8","emptyDelta","_iterator8","_step9","_iterator9","_step10","_iterator10","updateScrollableElement","previous","collapsesDown","expandsDown","reverseViews","reverse","collapsesUp","expandsUp","snappedBefore","snappedAfter","_step11","_iterator11","_step12","_iterator12","TableListRenderer","columns","renderers","getColumnSize","templateId","TemplateId","renderedTemplates","Set","rendererMap","Map","column","renderer","rowContainer","cellContainers","cellTemplateData","cellContainer","renderTemplate","cell","project","renderElement","disposeElement","disposeTemplate","clearNode","delete","ColumnHeader","_onDidLayout","onDidLayout","tooltip","minimumWidth","maximumWidth","onDidChangeWidthConstraints","Table","user","virtualDelegate","domId","InstanceCount","cachedWidth","cachedHeight","headers","a","b","weight","splitview","headerRowHeight","lineHeight","delegate","list","row","getTemplateId","h","_slicedToArray","layoutColumn","totalWeight","resizeView","unthemedListStyles","onDidChangeSelection","onMouseDblClick","onPointer","onDidFocus","onDidDispose","deleteCount","elements","getSelectedElements","getSelection","unthemedToggleStyles","inputActiveOptionBorder","inputActiveOptionForeground","inputActiveOptionBackground","Toggle","_onChange","_onKeyDown","_opts","_checked","isChecked","classes","_icon","actionClassName","split","notFocusable","String","ev","checked","ignoreGesture","onkeydown","keyboardEvent","newIsChecked","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","ToolBar","contextMenuProvider","submenuActionViewItems","hasSecondaryActions","_onDidChangeDropdownVisibility","EventMultiplexer","onDidChangeDropdownVisibility","lookupKeybindings","getKeyBinding","toggleMenuAction","ToggleMenuAction","toggleMenuActionViewItem","toggleMenuTitle","actionBar","ActionBar","actionRunner","allowContextMenu","actionViewItemProvider","action","viewItemOptions","id","ID","DropdownMenuActionViewItem","menuActions","keybindingProvider","classNames","moreIcon","anchorAlignmentProvider","menuAsChild","renderDropdownAsChildElement","setActionContext","context","onDidChangeVisibility","SubmenuAction","actions","class","indexOrElement","getAction","primaryActions","secondaryActions","primaryActionsToSet","slice","keybinding","getKeybindingLabel","withNullAsUndefined","getLabel","_Action","toggleDropdownMenu","nls","_menuActions","_regeneratorRuntime","mark","_callee","wrap","_context","prev","Action","TreeElementsDragAndDropData","_ElementsDragAndDropD","node","ElementsDragAndDropData","asTreeDragAndDropData","TreeNodeListDragAndDrop","modelProvider","dnd","autoExpandDisposable","getDragURI","nodes","originalEvent","getDragLabel","targetNode","targetIndex","raw","onDragOver","didChangeAutoExpandNode","autoExpandNode","autoExpand","disposableTimeout","model","ref","getNodeLocation","isCollapsed","setCollapsed","bubble","feedback","effect","parentRef","getParentNodeLocation","parentNode","getNode","parentIndex","getListIndex","getListRenderCount","drop","RenderIndentGuides","ComposedTreeDelegate","hasDynamicHeight","setDynamicHeight","EventCollection","_elements","TreeRenderer","onDidChangeCollapseState","activeNodes","renderedIndentGuides","renderedElements","renderedNodes","indent","DefaultIndent","hideTwistiesOfChildlessElements","shouldRenderIndentGuides","activeIndentNodes","indentGuidesDisposable","onDidChangeNodeTwistieState","onDidChangeTwistieState","_step$value","renderTreeElement","renderIndentGuides","None","_step2$value","_renderIndentGuides","_onDidChangeActiveNodes","twistie","contents","_templateData$twistie","depth","paddingLeft","collapsible","collapsed","removeAttribute","twistieRendered","renderTwistie","visibleChildrenCount","_templateData$twistie2","disposableStore","_loop","guide","has","childElementCount","firstElementChild","line","TreeFindMode","TreeFindMatchType","FindFilter","tree","keyboardNavigationLabelProvider","_filter","_totalCount","_matchCount","_pattern","_lowercasePattern","onWillRefilter","reset","parentVisibility","isFilterResult","getVisibleState","FuzzyScore","getKeyboardNavigationLabel","labels","Array","isArray","l","labelStr","findMatchType","Contiguous","fuzzyScore","firstMatchCanBeWeak","boostFullMatch","findMode","Filter","defaultFindVisibility","ModeToggle","_Toggle","FuzzyToggle","_Toggle2","unthemedFindWidgetStyles","inputBoxStyles","unthemedInboxStyles","toggleStyles","listFilterWidgetBackground","listFilterWidgetNoMatchesOutline","listFilterWidgetOutline","listFilterWidgetShadow","FindController","_onDidChangeMode","onDidChangeMode","_onDidChangeMatchType","onDidChangeMatchType","_onDidChangePattern","_onDidChangeOpenState","onDidChangeOpenState","enabledDisposables","_mode","defaultFindMode","Highlight","_matchType","defaultFindMatchType","Fuzzy","onDidSplice","onDidSpliceModel","mode","widget","refilter","matchType","optionsUpdate","pattern","noMatches","totalCount","matchCount","showNotFoundMessage","showMessage","clearMessage","filterData","_history","asTreeMouseEvent","TreeMouseEventTarget","hasParentWithClass","dfs","fn","Trait","getFirstViewElementWithTrait","identityProvider","_nodeSet","createNodeSet","__forceEvent","equals","_set","silent","that","nodeSet","insertedNodes","deletedNodes","visit","values","deletedNodesIdSet","deletedNodesVisitor","getId","insertedNodesMap","insertedNodesVisitor","insertedNode","TreeNodeListMouseController","_MouseController","_super6","isButton","isInputElement","isMonacoEditor","isSelectionRangeChangeEvent","isSelectionSingleChangeEvent","onTwistie","expandOnlyOnTwistieClick","expandOnDoubleClick","location","recursive","toggleCollapsed","MouseController","TreeNodeList","_List","_super7","focusTrait","selectionTrait","anchorTrait","_this10","_this11","anchor","additionalFocus","additionalSelection","distinct","_this12","fromAPI","_this13","AbstractTree","_user","_this14","eventBufferer","EventBufferer","onDidChangeFindOpenState","_onWillRefilter","_onDidUpdateOptions","treeDelegate","onDidChangeCollapseStateRelay","Relay","onDidChangeActiveNodes","SetMap","getFocusedElements","selection","getAnchorElement","multipleSelectionController","getSetSize","getPosInSet","visibleChildIndex","getAriaLevel","getActiveDescendantId","createModel","input","onDidModelSplice","bufferEvents","debounce","getNodes","onLeftArrow","onRightArrow","onSpace","findWidgetEnabled","findWidgetStyles","findController","focusNavigationFilter","shouldAllowFocus","onDidChangeFindMode","onDidChangeFindMatchType","Always","wrapEvent","findFuzzy","isNumber","suffix","treeIndentGuidesStroke","treeInactiveIndentGuidesStroke","getFirstElementChild","isCollapsible","setCollapsible","_this15","setSelection","_this16","relativeTop","expandTo","parentLocation","parentListIndex","some","_this$view$getFocus","firstChildIndex","createAsyncDataTreeNode","props","refreshPromise","stale","slow","collapsedByDefault","ancestor","descendant","intersects","other","AsyncDataTreeNodeWrapper","AsyncDataTreeRenderer","nodeMapper","twistieElement","_twistieElement$class","_twistieElement$class2","asTreeEvent","AsyncDataTreeElementsDragAndDropData","asAsyncDataTreeDragAndDropData","AsyncDataTreeNodeListDragAndDrop","asObjectTreeOptions","collapseByDefault","sorter","hasChildren","AsyncDataTree","dataSource","subTreeRefreshPromises","refreshPromises","_onDidRender","_onDidChangeNodeSlowState","WeakMapper","autoExpandSingleChildren","createTree","_onDidChangeCollapseState","onDidChangeModel","objectTreeDelegate","objectTreeRenderers","objectTreeOptions","ObjectTree","viewState","viewStateContext","promise","_updateChildren","rerender","_callee2","_context2","TreeError","getDataNode","refreshAndRenderNode","dataNode","collapse","_callee3","_context3","hasElement","abrupt","expand","getParentElement","_callee4","_context4","refreshNode","_callee5","_context5","doRefreshSubTree","_callee6","childrenToRefresh","_context6","finally","doRefreshNode","sent","Promises","finish","_callee7","childrenPromise","slowTimeout","_children","_context7","doGetChildren","isIterable","timeout","Iterable","setChildren","t0","isCancellationError","getChildren","processChildren","createCancelablePromise","_callee8","_context8","t1","deep","catch","onUnexpectedError","childrenElementsIterable","_node$children","childrenElements","nodesToForget","childrenTreeNodesById","asyncDataTreeNode","childAsyncDataTreeNode","expanded","asTreeElement","diffIdentityProvider","sort","compare","bind","CompressibleAsyncDataTreeNodeWrapper","incompressible","CompressibleAsyncDataTreeRenderer","compressibleNodeMapperProvider","renderCompressedElements","_twistieElement$class3","_twistieElement$class4","disposeCompressedElements","CompressibleAsyncDataTree","_AsyncDataTree","compressionDelegate","compressibleNodeMapper","getCompressedNodeKeyboardNavigationLabel","els","asCompressibleObjectTreeOptions","CompressibleObjectTree","isIncompressible","getUncompressedIds","compressedNode","getCompressedTreeNode","oldSelection","oldFocus","didChangeSelection","didChangeFocus","filterResult","DataTree","_AbstractTree","ObjectTreeModel","obj","isCollapsibleStateUpdate","IndexTreeModel","rootElement","rootRef","_onDidChangeRenderNodeCount","onDidChangeRenderNodeCount","_onDidSplice","refilterDelayer","MicrotaskDelay","renderNodeCount","toInsert","spliceSmart","spliceSimple","identity","toInsertIterable","recurseLevels","diffDepth","getParentNodeWithListIndex","lastDiffIds","diff","LcsDiff","getElements","ComputeDiff","quitEarly","locationPrefix","recurseSplice","fromOriginal","fromModified","count","lastStartO","lastStartM","changes","originalStart","change","originalLength","modifiedStart","modifiedLength","onDidCreateNode","onDidDeleteNode","_this$getParentNodeWi2","listIndex","revealed","treeListElementsToInsert","nodesToInsertIterator","createTreeNode","lastIndex","lastHadChildren","visibleChildStartIndex","nodesToInsert","insertedVisibleChildrenCount","deletedVisibleChildrenCount","visibleDeleteCount","_updateAncestorsRenderNodeCount","currentlyHasChildren","_this$getTreeNodeWith","getTreeNodeWithListIndex","hasTreeNode","_this$getTreeNodeWith2","getTreeNode","_setCollapseState","_this$getTreeNodeWith3","_setListNodeCollapseState","onlyVisibleChildIndex","_setNodeCollapseState","previousRenderNodeCount","updateNodeAfterCollapseChange","updateNodeAfterFilterChange","treeElement","treeListElements","_filterNode","childElements","childRevealed","pop","_updateNodeAfterCollapseChange","_updateNodeAfterFilterChange","resultStartLength","hasVisibleDescendants","_location","_toArray","rest","_location2","_this$getParentNodeWi3","_location3","indexTreeNode","tail2","noCompress","compress","childrenIterator","_Iterable$consume","_Iterable$consume2","_decompress","decompress","CompressedObjectTreeModel","compressionEnabled","base","compressedParentNode","splicedElement","recompressedElement","parentChildren","_setChildren","compressedChildren","Infinity","rootChildren","decompressedRootChildren","recompressedRootChildren","insertedElements","getCompressedNode","DefaultElementMapper","CompressedTreeNodeWrapper","unwrapper","CompressibleObjectTreeModel","elementMapper","compressedNodeUnwrapper","updateElementHeight","mapList","otherNode","mapOptions","setCompressionEnabled","CompressibleRenderer","_compressedTreeNodeProvider","compressedTreeNode","compressedTreeNodeProvider","_ObjectTree","compressibleRenderers","nodesByIdentity","getElementLocation","preserveCollapseState","insertedElementIds","MAX_VALUE","tnode","_Error","message","_wrapNativeSuper","_map","WeakMap","listener","StandardMouseEvent"],"sourceRoot":""}