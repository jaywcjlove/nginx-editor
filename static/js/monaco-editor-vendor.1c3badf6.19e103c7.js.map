{"version":3,"file":"static/js/monaco-editor-vendor.1c3badf6.19e103c7.js","mappings":"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","sources":["../../node_modules/monaco-editor/esm/vs/platform/environment/common/environment.js","../../node_modules/monaco-editor/esm/vs/platform/extensions/common/extensions.js","../../node_modules/monaco-editor/esm/vs/platform/files/common/files.js","../../node_modules/monaco-editor/esm/vs/platform/history/browser/contextScopedHistoryWidget.js","../../node_modules/monaco-editor/esm/vs/platform/history/browser/historyWidgetKeybindingHint.js","../../node_modules/monaco-editor/esm/vs/platform/hover/browser/hover.js","../../node_modules/monaco-editor/esm/vs/platform/instantiation/common/descriptors.js","../../node_modules/monaco-editor/esm/vs/platform/instantiation/common/extensions.js","../../node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js","../../node_modules/monaco-editor/esm/vs/platform/instantiation/common/graph.js","../../node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiationService.js","../../node_modules/monaco-editor/esm/vs/platform/instantiation/common/serviceCollection.js","../../node_modules/monaco-editor/esm/vs/platform/jsonschemas/common/jsonContributionRegistry.js","../../node_modules/monaco-editor/esm/vs/platform/keybinding/common/abstractKeybindingService.js","../../node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybinding.js","../../node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingResolver.js","../../node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingsRegistry.js","../../node_modules/monaco-editor/esm/vs/platform/keybinding/common/resolvedKeybindingItem.js","../../node_modules/monaco-editor/esm/vs/platform/keybinding/common/baseResolvedKeybinding.js","../../node_modules/monaco-editor/esm/vs/platform/keybinding/common/usLayoutResolvedKeybinding.js","../../node_modules/monaco-editor/esm/vs/platform/label/common/label.js","../../node_modules/monaco-editor/esm/vs/platform/layout/browser/layoutService.js","../../node_modules/monaco-editor/esm/vs/platform/list/browser/listService.js","../../node_modules/monaco-editor/esm/vs/platform/log/common/log.js","../../node_modules/monaco-editor/esm/vs/platform/log/common/logService.js","../../node_modules/monaco-editor/esm/vs/platform/markers/common/markerService.js","../../node_modules/monaco-editor/esm/vs/platform/markers/common/markers.js","../../node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js","../../node_modules/monaco-editor/esm/vs/platform/opener/browser/link.js","../../node_modules/monaco-editor/esm/vs/platform/opener/common/opener.js","../../node_modules/monaco-editor/esm/vs/platform/progress/common/progress.js","../../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/pickerQuickAccess.js","../../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/commandsQuickAccess.js","../../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/helpQuickAccess.js","../../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickAccess.js","../../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputUtils.js","../../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputTree.js","../../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInput.js","../../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputBox.js","../../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputController.js","../../node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputService.js","../../node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickAccess.js","../../node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickInput.js","../../node_modules/monaco-editor/esm/vs/platform/registry/common/platform.js","../../node_modules/monaco-editor/esm/vs/platform/severityIcon/browser/severityIcon.js"],"sourcesContent":["import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IEnvironmentService = createDecorator('environmentService');\n","/**\n * **!Do not construct directly!**\n *\n * **!Only static methods because it gets serialized!**\n *\n * This represents the \"canonical\" version for an extension identifier. Extension ids\n * have to be case-insensitive (due to the marketplace), but we must ensure case\n * preservation because the extension API is already public at this time.\n *\n * For example, given an extension with the publisher `\"Hello\"` and the name `\"World\"`,\n * its canonical extension identifier is `\"Hello.World\"`. This extension could be\n * referenced in some other extension's dependencies using the string `\"hello.world\"`.\n *\n * To make matters more complicated, an extension can optionally have an UUID. When two\n * extensions have the same UUID, they are considered equal even if their identifier is different.\n */\nexport class ExtensionIdentifier {\n    constructor(value) {\n        this.value = value;\n        this._lower = value.toLowerCase();\n    }\n    /**\n     * Gives the value by which to index (for equality).\n     */\n    static toKey(id) {\n        if (typeof id === 'string') {\n            return id.toLowerCase();\n        }\n        return id._lower;\n    }\n}\nexport class ExtensionIdentifierSet {\n    constructor(iterable) {\n        this._set = new Set();\n        if (iterable) {\n            for (const value of iterable) {\n                this.add(value);\n            }\n        }\n    }\n    add(id) {\n        this._set.add(ExtensionIdentifier.toKey(id));\n    }\n    has(id) {\n        return this._set.has(ExtensionIdentifier.toKey(id));\n    }\n}\n","//#endregion\n//#region Utilities\nexport var FileKind;\n(function (FileKind) {\n    FileKind[FileKind[\"FILE\"] = 0] = \"FILE\";\n    FileKind[FileKind[\"FOLDER\"] = 1] = \"FOLDER\";\n    FileKind[FileKind[\"ROOT_FOLDER\"] = 2] = \"ROOT_FOLDER\";\n})(FileKind || (FileKind = {}));\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { FindInput } from '../../../base/browser/ui/findinput/findInput.js';\nimport { ReplaceInput } from '../../../base/browser/ui/findinput/replaceInput.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { KeybindingsRegistry } from '../../keybinding/common/keybindingsRegistry.js';\nimport { localize } from '../../../nls.js';\nimport { DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { isActiveElement } from '../../../base/browser/dom.js';\nexport const historyNavigationVisible = new RawContextKey('suggestWidgetVisible', false, localize('suggestWidgetVisible', \"Whether suggestion are visible\"));\nconst HistoryNavigationWidgetFocusContext = 'historyNavigationWidgetFocus';\nconst HistoryNavigationForwardsEnablementContext = 'historyNavigationForwardsEnabled';\nconst HistoryNavigationBackwardsEnablementContext = 'historyNavigationBackwardsEnabled';\nlet lastFocusedWidget = undefined;\nconst widgets = [];\nexport function registerAndCreateHistoryNavigationContext(scopedContextKeyService, widget) {\n    if (widgets.includes(widget)) {\n        throw new Error('Cannot register the same widget multiple times');\n    }\n    widgets.push(widget);\n    const disposableStore = new DisposableStore();\n    const historyNavigationWidgetFocus = new RawContextKey(HistoryNavigationWidgetFocusContext, false).bindTo(scopedContextKeyService);\n    const historyNavigationForwardsEnablement = new RawContextKey(HistoryNavigationForwardsEnablementContext, true).bindTo(scopedContextKeyService);\n    const historyNavigationBackwardsEnablement = new RawContextKey(HistoryNavigationBackwardsEnablementContext, true).bindTo(scopedContextKeyService);\n    const onDidFocus = () => {\n        historyNavigationWidgetFocus.set(true);\n        lastFocusedWidget = widget;\n    };\n    const onDidBlur = () => {\n        historyNavigationWidgetFocus.set(false);\n        if (lastFocusedWidget === widget) {\n            lastFocusedWidget = undefined;\n        }\n    };\n    // Check for currently being focused\n    if (isActiveElement(widget.element)) {\n        onDidFocus();\n    }\n    disposableStore.add(widget.onDidFocus(() => onDidFocus()));\n    disposableStore.add(widget.onDidBlur(() => onDidBlur()));\n    disposableStore.add(toDisposable(() => {\n        widgets.splice(widgets.indexOf(widget), 1);\n        onDidBlur();\n    }));\n    return {\n        historyNavigationForwardsEnablement,\n        historyNavigationBackwardsEnablement,\n        dispose() {\n            disposableStore.dispose();\n        }\n    };\n}\nlet ContextScopedFindInput = class ContextScopedFindInput extends FindInput {\n    constructor(container, contextViewProvider, options, contextKeyService) {\n        super(container, contextViewProvider, options);\n        const scopedContextKeyService = this._register(contextKeyService.createScoped(this.inputBox.element));\n        this._register(registerAndCreateHistoryNavigationContext(scopedContextKeyService, this.inputBox));\n    }\n};\nContextScopedFindInput = __decorate([\n    __param(3, IContextKeyService)\n], ContextScopedFindInput);\nexport { ContextScopedFindInput };\nlet ContextScopedReplaceInput = class ContextScopedReplaceInput extends ReplaceInput {\n    constructor(container, contextViewProvider, options, contextKeyService, showReplaceOptions = false) {\n        super(container, contextViewProvider, showReplaceOptions, options);\n        const scopedContextKeyService = this._register(contextKeyService.createScoped(this.inputBox.element));\n        this._register(registerAndCreateHistoryNavigationContext(scopedContextKeyService, this.inputBox));\n    }\n};\nContextScopedReplaceInput = __decorate([\n    __param(3, IContextKeyService)\n], ContextScopedReplaceInput);\nexport { ContextScopedReplaceInput };\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'history.showPrevious',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetFocusContext), ContextKeyExpr.equals(HistoryNavigationBackwardsEnablementContext, true), ContextKeyExpr.not('isComposing'), historyNavigationVisible.isEqualTo(false)),\n    primary: 16 /* KeyCode.UpArrow */,\n    secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n    handler: (accessor) => {\n        lastFocusedWidget === null || lastFocusedWidget === void 0 ? void 0 : lastFocusedWidget.showPreviousValue();\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'history.showNext',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetFocusContext), ContextKeyExpr.equals(HistoryNavigationForwardsEnablementContext, true), ContextKeyExpr.not('isComposing'), historyNavigationVisible.isEqualTo(false)),\n    primary: 18 /* KeyCode.DownArrow */,\n    secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n    handler: (accessor) => {\n        lastFocusedWidget === null || lastFocusedWidget === void 0 ? void 0 : lastFocusedWidget.showNextValue();\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function showHistoryKeybindingHint(keybindingService) {\n    var _a, _b;\n    return ((_a = keybindingService.lookupKeybinding('history.showPrevious')) === null || _a === void 0 ? void 0 : _a.getElectronAccelerator()) === 'Up' && ((_b = keybindingService.lookupKeybinding('history.showNext')) === null || _b === void 0 ? void 0 : _b.getElectronAccelerator()) === 'Down';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { addStandardDisposableListener } from '../../../base/browser/dom.js';\nexport const IHoverService = createDecorator('hoverService');\nlet WorkbenchHoverDelegate = class WorkbenchHoverDelegate extends Disposable {\n    get delay() {\n        if (this.isInstantlyHovering()) {\n            return 0; // show instantly when a hover was recently shown\n        }\n        return this._delay;\n    }\n    constructor(placement, instantHover, overrideOptions = {}, configurationService, hoverService) {\n        super();\n        this.placement = placement;\n        this.instantHover = instantHover;\n        this.overrideOptions = overrideOptions;\n        this.configurationService = configurationService;\n        this.hoverService = hoverService;\n        this.lastHoverHideTime = 0;\n        this.timeLimit = 200;\n        this.hoverDisposables = this._register(new DisposableStore());\n        this._delay = this.configurationService.getValue('workbench.hover.delay');\n        this._register(this.configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration('workbench.hover.delay')) {\n                this._delay = this.configurationService.getValue('workbench.hover.delay');\n            }\n        }));\n    }\n    showHover(options, focus) {\n        const overrideOptions = typeof this.overrideOptions === 'function' ? this.overrideOptions(options, focus) : this.overrideOptions;\n        // close hover on escape\n        this.hoverDisposables.clear();\n        const targets = options.target instanceof HTMLElement ? [options.target] : options.target.targetElements;\n        for (const target of targets) {\n            this.hoverDisposables.add(addStandardDisposableListener(target, 'keydown', (e) => {\n                if (e.equals(9 /* KeyCode.Escape */)) {\n                    this.hoverService.hideHover();\n                }\n            }));\n        }\n        const id = options.content instanceof HTMLElement ? undefined : options.content.toString();\n        return this.hoverService.showHover({\n            ...options,\n            ...overrideOptions,\n            persistence: {\n                hideOnKeyDown: true,\n                ...overrideOptions.persistence\n            },\n            id,\n            appearance: {\n                ...options.appearance,\n                compact: true,\n                skipFadeInAnimation: this.isInstantlyHovering(),\n                ...overrideOptions.appearance\n            }\n        }, focus);\n    }\n    isInstantlyHovering() {\n        return this.instantHover && Date.now() - this.lastHoverHideTime < this.timeLimit;\n    }\n    onDidHideHover() {\n        this.hoverDisposables.clear();\n        if (this.instantHover) {\n            this.lastHoverHideTime = Date.now();\n        }\n    }\n};\nWorkbenchHoverDelegate = __decorate([\n    __param(3, IConfigurationService),\n    __param(4, IHoverService)\n], WorkbenchHoverDelegate);\nexport { WorkbenchHoverDelegate };\n// TODO@benibenj remove this, only temp fix for contextviews\nexport const nativeHoverDelegate = {\n    showHover: function () {\n        throw new Error('Native hover function not implemented.');\n    },\n    delay: 0,\n    showNativeHover: true\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class SyncDescriptor {\n    constructor(ctor, staticArguments = [], supportsDelayedInstantiation = false) {\n        this.ctor = ctor;\n        this.staticArguments = staticArguments;\n        this.supportsDelayedInstantiation = supportsDelayedInstantiation;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { SyncDescriptor } from './descriptors.js';\nconst _registry = [];\nexport function registerSingleton(id, ctorOrDescriptor, supportsDelayedInstantiation) {\n    if (!(ctorOrDescriptor instanceof SyncDescriptor)) {\n        ctorOrDescriptor = new SyncDescriptor(ctorOrDescriptor, [], Boolean(supportsDelayedInstantiation));\n    }\n    _registry.push([id, ctorOrDescriptor]);\n}\nexport function getSingletonServiceDescriptors() {\n    return _registry;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// ------ internal util\nexport var _util;\n(function (_util) {\n    _util.serviceIds = new Map();\n    _util.DI_TARGET = '$di$target';\n    _util.DI_DEPENDENCIES = '$di$dependencies';\n    function getServiceDependencies(ctor) {\n        return ctor[_util.DI_DEPENDENCIES] || [];\n    }\n    _util.getServiceDependencies = getServiceDependencies;\n})(_util || (_util = {}));\nexport const IInstantiationService = createDecorator('instantiationService');\nfunction storeServiceDependency(id, target, index) {\n    if (target[_util.DI_TARGET] === target) {\n        target[_util.DI_DEPENDENCIES].push({ id, index });\n    }\n    else {\n        target[_util.DI_DEPENDENCIES] = [{ id, index }];\n        target[_util.DI_TARGET] = target;\n    }\n}\n/**\n * The *only* valid way to create a {{ServiceIdentifier}}.\n */\nexport function createDecorator(serviceId) {\n    if (_util.serviceIds.has(serviceId)) {\n        return _util.serviceIds.get(serviceId);\n    }\n    const id = function (target, key, index) {\n        if (arguments.length !== 3) {\n            throw new Error('@IServiceName-decorator can only be used to decorate a parameter');\n        }\n        storeServiceDependency(id, target, index);\n    };\n    id.toString = () => serviceId;\n    _util.serviceIds.set(serviceId, id);\n    return id;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class Node {\n    constructor(key, data) {\n        this.key = key;\n        this.data = data;\n        this.incoming = new Map();\n        this.outgoing = new Map();\n    }\n}\nexport class Graph {\n    constructor(_hashFn) {\n        this._hashFn = _hashFn;\n        this._nodes = new Map();\n        // empty\n    }\n    roots() {\n        const ret = [];\n        for (const node of this._nodes.values()) {\n            if (node.outgoing.size === 0) {\n                ret.push(node);\n            }\n        }\n        return ret;\n    }\n    insertEdge(from, to) {\n        const fromNode = this.lookupOrInsertNode(from);\n        const toNode = this.lookupOrInsertNode(to);\n        fromNode.outgoing.set(toNode.key, toNode);\n        toNode.incoming.set(fromNode.key, fromNode);\n    }\n    removeNode(data) {\n        const key = this._hashFn(data);\n        this._nodes.delete(key);\n        for (const node of this._nodes.values()) {\n            node.outgoing.delete(key);\n            node.incoming.delete(key);\n        }\n    }\n    lookupOrInsertNode(data) {\n        const key = this._hashFn(data);\n        let node = this._nodes.get(key);\n        if (!node) {\n            node = new Node(key, data);\n            this._nodes.set(key, node);\n        }\n        return node;\n    }\n    isEmpty() {\n        return this._nodes.size === 0;\n    }\n    toString() {\n        const data = [];\n        for (const [key, value] of this._nodes) {\n            data.push(`${key}\\n\\t(-> incoming)[${[...value.incoming.keys()].join(', ')}]\\n\\t(outgoing ->)[${[...value.outgoing.keys()].join(',')}]\\n`);\n        }\n        return data.join('\\n');\n    }\n    /**\n     * This is brute force and slow and **only** be used\n     * to trouble shoot.\n     */\n    findCycleSlow() {\n        for (const [id, node] of this._nodes) {\n            const seen = new Set([id]);\n            const res = this._findCycle(node, seen);\n            if (res) {\n                return res;\n            }\n        }\n        return undefined;\n    }\n    _findCycle(node, seen) {\n        for (const [id, outgoing] of node.outgoing) {\n            if (seen.has(id)) {\n                return [...seen, id].join(' -> ');\n            }\n            seen.add(id);\n            const value = this._findCycle(outgoing, seen);\n            if (value) {\n                return value;\n            }\n            seen.delete(id);\n        }\n        return undefined;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { GlobalIdleValue } from '../../../base/common/async.js';\nimport { illegalState } from '../../../base/common/errors.js';\nimport { dispose, isDisposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { SyncDescriptor } from './descriptors.js';\nimport { Graph } from './graph.js';\nimport { IInstantiationService, _util } from './instantiation.js';\nimport { ServiceCollection } from './serviceCollection.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\n// TRACING\nconst _enableAllTracing = false;\nclass CyclicDependencyError extends Error {\n    constructor(graph) {\n        var _a;\n        super('cyclic dependency between services');\n        this.message = (_a = graph.findCycleSlow()) !== null && _a !== void 0 ? _a : `UNABLE to detect cycle, dumping graph: \\n${graph.toString()}`;\n    }\n}\nexport class InstantiationService {\n    constructor(_services = new ServiceCollection(), _strict = false, _parent, _enableTracing = _enableAllTracing) {\n        var _a;\n        this._services = _services;\n        this._strict = _strict;\n        this._parent = _parent;\n        this._enableTracing = _enableTracing;\n        this._isDisposed = false;\n        this._servicesToMaybeDispose = new Set();\n        this._children = new Set();\n        this._activeInstantiations = new Set();\n        this._services.set(IInstantiationService, this);\n        this._globalGraph = _enableTracing ? (_a = _parent === null || _parent === void 0 ? void 0 : _parent._globalGraph) !== null && _a !== void 0 ? _a : new Graph(e => e) : undefined;\n    }\n    dispose() {\n        if (!this._isDisposed) {\n            this._isDisposed = true;\n            // dispose all child services\n            dispose(this._children);\n            this._children.clear();\n            // dispose all services created by this service\n            for (const candidate of this._servicesToMaybeDispose) {\n                if (isDisposable(candidate)) {\n                    candidate.dispose();\n                }\n            }\n            this._servicesToMaybeDispose.clear();\n        }\n    }\n    _throwIfDisposed() {\n        if (this._isDisposed) {\n            throw new Error('InstantiationService has been disposed');\n        }\n    }\n    createChild(services) {\n        this._throwIfDisposed();\n        const result = new class extends InstantiationService {\n            dispose() {\n                this._children.delete(result);\n                super.dispose();\n            }\n        }(services, this._strict, this, this._enableTracing);\n        this._children.add(result);\n        return result;\n    }\n    invokeFunction(fn, ...args) {\n        this._throwIfDisposed();\n        const _trace = Trace.traceInvocation(this._enableTracing, fn);\n        let _done = false;\n        try {\n            const accessor = {\n                get: (id) => {\n                    if (_done) {\n                        throw illegalState('service accessor is only valid during the invocation of its target method');\n                    }\n                    const result = this._getOrCreateServiceInstance(id, _trace);\n                    if (!result) {\n                        throw new Error(`[invokeFunction] unknown service '${id}'`);\n                    }\n                    return result;\n                }\n            };\n            return fn(accessor, ...args);\n        }\n        finally {\n            _done = true;\n            _trace.stop();\n        }\n    }\n    createInstance(ctorOrDescriptor, ...rest) {\n        this._throwIfDisposed();\n        let _trace;\n        let result;\n        if (ctorOrDescriptor instanceof SyncDescriptor) {\n            _trace = Trace.traceCreation(this._enableTracing, ctorOrDescriptor.ctor);\n            result = this._createInstance(ctorOrDescriptor.ctor, ctorOrDescriptor.staticArguments.concat(rest), _trace);\n        }\n        else {\n            _trace = Trace.traceCreation(this._enableTracing, ctorOrDescriptor);\n            result = this._createInstance(ctorOrDescriptor, rest, _trace);\n        }\n        _trace.stop();\n        return result;\n    }\n    _createInstance(ctor, args = [], _trace) {\n        // arguments defined by service decorators\n        const serviceDependencies = _util.getServiceDependencies(ctor).sort((a, b) => a.index - b.index);\n        const serviceArgs = [];\n        for (const dependency of serviceDependencies) {\n            const service = this._getOrCreateServiceInstance(dependency.id, _trace);\n            if (!service) {\n                this._throwIfStrict(`[createInstance] ${ctor.name} depends on UNKNOWN service ${dependency.id}.`, false);\n            }\n            serviceArgs.push(service);\n        }\n        const firstServiceArgPos = serviceDependencies.length > 0 ? serviceDependencies[0].index : args.length;\n        // check for argument mismatches, adjust static args if needed\n        if (args.length !== firstServiceArgPos) {\n            console.trace(`[createInstance] First service dependency of ${ctor.name} at position ${firstServiceArgPos + 1} conflicts with ${args.length} static arguments`);\n            const delta = firstServiceArgPos - args.length;\n            if (delta > 0) {\n                args = args.concat(new Array(delta));\n            }\n            else {\n                args = args.slice(0, firstServiceArgPos);\n            }\n        }\n        // now create the instance\n        return Reflect.construct(ctor, args.concat(serviceArgs));\n    }\n    _setCreatedServiceInstance(id, instance) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            this._services.set(id, instance);\n        }\n        else if (this._parent) {\n            this._parent._setCreatedServiceInstance(id, instance);\n        }\n        else {\n            throw new Error('illegalState - setting UNKNOWN service instance');\n        }\n    }\n    _getServiceInstanceOrDescriptor(id) {\n        const instanceOrDesc = this._services.get(id);\n        if (!instanceOrDesc && this._parent) {\n            return this._parent._getServiceInstanceOrDescriptor(id);\n        }\n        else {\n            return instanceOrDesc;\n        }\n    }\n    _getOrCreateServiceInstance(id, _trace) {\n        if (this._globalGraph && this._globalGraphImplicitDependency) {\n            this._globalGraph.insertEdge(this._globalGraphImplicitDependency, String(id));\n        }\n        const thing = this._getServiceInstanceOrDescriptor(id);\n        if (thing instanceof SyncDescriptor) {\n            return this._safeCreateAndCacheServiceInstance(id, thing, _trace.branch(id, true));\n        }\n        else {\n            _trace.branch(id, false);\n            return thing;\n        }\n    }\n    _safeCreateAndCacheServiceInstance(id, desc, _trace) {\n        if (this._activeInstantiations.has(id)) {\n            throw new Error(`illegal state - RECURSIVELY instantiating service '${id}'`);\n        }\n        this._activeInstantiations.add(id);\n        try {\n            return this._createAndCacheServiceInstance(id, desc, _trace);\n        }\n        finally {\n            this._activeInstantiations.delete(id);\n        }\n    }\n    _createAndCacheServiceInstance(id, desc, _trace) {\n        var _a;\n        const graph = new Graph(data => data.id.toString());\n        let cycleCount = 0;\n        const stack = [{ id, desc, _trace }];\n        while (stack.length) {\n            const item = stack.pop();\n            graph.lookupOrInsertNode(item);\n            // a weak but working heuristic for cycle checks\n            if (cycleCount++ > 1000) {\n                throw new CyclicDependencyError(graph);\n            }\n            // check all dependencies for existence and if they need to be created first\n            for (const dependency of _util.getServiceDependencies(item.desc.ctor)) {\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(dependency.id);\n                if (!instanceOrDesc) {\n                    this._throwIfStrict(`[createInstance] ${id} depends on ${dependency.id} which is NOT registered.`, true);\n                }\n                // take note of all service dependencies\n                (_a = this._globalGraph) === null || _a === void 0 ? void 0 : _a.insertEdge(String(item.id), String(dependency.id));\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    const d = { id: dependency.id, desc: instanceOrDesc, _trace: item._trace.branch(dependency.id, true) };\n                    graph.insertEdge(item, d);\n                    stack.push(d);\n                }\n            }\n        }\n        while (true) {\n            const roots = graph.roots();\n            // if there is no more roots but still\n            // nodes in the graph we have a cycle\n            if (roots.length === 0) {\n                if (!graph.isEmpty()) {\n                    throw new CyclicDependencyError(graph);\n                }\n                break;\n            }\n            for (const { data } of roots) {\n                // Repeat the check for this still being a service sync descriptor. That's because\n                // instantiating a dependency might have side-effect and recursively trigger instantiation\n                // so that some dependencies are now fullfilled already.\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(data.id);\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    // create instance and overwrite the service collections\n                    const instance = this._createServiceInstanceWithOwner(data.id, data.desc.ctor, data.desc.staticArguments, data.desc.supportsDelayedInstantiation, data._trace);\n                    this._setCreatedServiceInstance(data.id, instance);\n                }\n                graph.removeNode(data);\n            }\n        }\n        return this._getServiceInstanceOrDescriptor(id);\n    }\n    _createServiceInstanceWithOwner(id, ctor, args = [], supportsDelayedInstantiation, _trace) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            return this._createServiceInstance(id, ctor, args, supportsDelayedInstantiation, _trace, this._servicesToMaybeDispose);\n        }\n        else if (this._parent) {\n            return this._parent._createServiceInstanceWithOwner(id, ctor, args, supportsDelayedInstantiation, _trace);\n        }\n        else {\n            throw new Error(`illegalState - creating UNKNOWN service instance ${ctor.name}`);\n        }\n    }\n    _createServiceInstance(id, ctor, args = [], supportsDelayedInstantiation, _trace, disposeBucket) {\n        if (!supportsDelayedInstantiation) {\n            // eager instantiation\n            const result = this._createInstance(ctor, args, _trace);\n            disposeBucket.add(result);\n            return result;\n        }\n        else {\n            const child = new InstantiationService(undefined, this._strict, this, this._enableTracing);\n            child._globalGraphImplicitDependency = String(id);\n            // Return a proxy object that's backed by an idle value. That\n            // strategy is to instantiate services in our idle time or when actually\n            // needed but not when injected into a consumer\n            // return \"empty events\" when the service isn't instantiated yet\n            const earlyListeners = new Map();\n            const idle = new GlobalIdleValue(() => {\n                const result = child._createInstance(ctor, args, _trace);\n                // early listeners that we kept are now being subscribed to\n                // the real service\n                for (const [key, values] of earlyListeners) {\n                    const candidate = result[key];\n                    if (typeof candidate === 'function') {\n                        for (const value of values) {\n                            value.disposable = candidate.apply(result, value.listener);\n                        }\n                    }\n                }\n                earlyListeners.clear();\n                disposeBucket.add(result);\n                return result;\n            });\n            return new Proxy(Object.create(null), {\n                get(target, key) {\n                    if (!idle.isInitialized) {\n                        // looks like an event\n                        if (typeof key === 'string' && (key.startsWith('onDid') || key.startsWith('onWill'))) {\n                            let list = earlyListeners.get(key);\n                            if (!list) {\n                                list = new LinkedList();\n                                earlyListeners.set(key, list);\n                            }\n                            const event = (callback, thisArg, disposables) => {\n                                if (idle.isInitialized) {\n                                    return idle.value[key](callback, thisArg, disposables);\n                                }\n                                else {\n                                    const entry = { listener: [callback, thisArg, disposables], disposable: undefined };\n                                    const rm = list.push(entry);\n                                    const result = toDisposable(() => {\n                                        var _a;\n                                        rm();\n                                        (_a = entry.disposable) === null || _a === void 0 ? void 0 : _a.dispose();\n                                    });\n                                    return result;\n                                }\n                            };\n                            return event;\n                        }\n                    }\n                    // value already exists\n                    if (key in target) {\n                        return target[key];\n                    }\n                    // create value\n                    const obj = idle.value;\n                    let prop = obj[key];\n                    if (typeof prop !== 'function') {\n                        return prop;\n                    }\n                    prop = prop.bind(obj);\n                    target[key] = prop;\n                    return prop;\n                },\n                set(_target, p, value) {\n                    idle.value[p] = value;\n                    return true;\n                },\n                getPrototypeOf(_target) {\n                    return ctor.prototype;\n                }\n            });\n        }\n    }\n    _throwIfStrict(msg, printWarning) {\n        if (printWarning) {\n            console.warn(msg);\n        }\n        if (this._strict) {\n            throw new Error(msg);\n        }\n    }\n}\nexport class Trace {\n    static traceInvocation(_enableTracing, ctor) {\n        return !_enableTracing ? Trace._None : new Trace(2 /* TraceType.Invocation */, ctor.name || new Error().stack.split('\\n').slice(3, 4).join('\\n'));\n    }\n    static traceCreation(_enableTracing, ctor) {\n        return !_enableTracing ? Trace._None : new Trace(1 /* TraceType.Creation */, ctor.name);\n    }\n    constructor(type, name) {\n        this.type = type;\n        this.name = name;\n        this._start = Date.now();\n        this._dep = [];\n    }\n    branch(id, first) {\n        const child = new Trace(3 /* TraceType.Branch */, id.toString());\n        this._dep.push([id, first, child]);\n        return child;\n    }\n    stop() {\n        const dur = Date.now() - this._start;\n        Trace._totals += dur;\n        let causedCreation = false;\n        function printChild(n, trace) {\n            const res = [];\n            const prefix = new Array(n + 1).join('\\t');\n            for (const [id, first, child] of trace._dep) {\n                if (first && child) {\n                    causedCreation = true;\n                    res.push(`${prefix}CREATES -> ${id}`);\n                    const nested = printChild(n + 1, child);\n                    if (nested) {\n                        res.push(nested);\n                    }\n                }\n                else {\n                    res.push(`${prefix}uses -> ${id}`);\n                }\n            }\n            return res.join('\\n');\n        }\n        const lines = [\n            `${this.type === 1 /* TraceType.Creation */ ? 'CREATE' : 'CALL'} ${this.name}`,\n            `${printChild(1, this)}`,\n            `DONE, took ${dur.toFixed(2)}ms (grand total ${Trace._totals.toFixed(2)}ms)`\n        ];\n        if (dur > 2 || causedCreation) {\n            Trace.all.add(lines.join('\\n'));\n        }\n    }\n}\nTrace.all = new Set();\nTrace._None = new class extends Trace {\n    constructor() { super(0 /* TraceType.None */, null); }\n    stop() { }\n    branch() { return this; }\n};\nTrace._totals = 0;\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ServiceCollection {\n    constructor(...entries) {\n        this._entries = new Map();\n        for (const [id, service] of entries) {\n            this.set(id, service);\n        }\n    }\n    set(id, instanceOrDescriptor) {\n        const result = this._entries.get(id);\n        this._entries.set(id, instanceOrDescriptor);\n        return result;\n    }\n    get(id) {\n        return this._entries.get(id);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport * as platform from '../../registry/common/platform.js';\nexport const Extensions = {\n    JSONContribution: 'base.contributions.json'\n};\nfunction normalizeId(id) {\n    if (id.length > 0 && id.charAt(id.length - 1) === '#') {\n        return id.substring(0, id.length - 1);\n    }\n    return id;\n}\nclass JSONContributionRegistry {\n    constructor() {\n        this._onDidChangeSchema = new Emitter();\n        this.schemasById = {};\n    }\n    registerSchema(uri, unresolvedSchemaContent) {\n        this.schemasById[normalizeId(uri)] = unresolvedSchemaContent;\n        this._onDidChangeSchema.fire(uri);\n    }\n    notifySchemaChanged(uri) {\n        this._onDidChangeSchema.fire(uri);\n    }\n}\nconst jsonContributionRegistry = new JSONContributionRegistry();\nplatform.Registry.add(Extensions.JSONContribution, jsonContributionRegistry);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IntervalTimer, TimeoutTimer } from '../../../base/common/async.js';\nimport { illegalState } from '../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { IME } from '../../../base/common/ime.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport * as nls from '../../../nls.js';\nimport { NoMatchingKb } from './keybindingResolver.js';\nconst HIGH_FREQ_COMMANDS = /^(cursor|delete|undo|redo|tab|editor\\.action\\.clipboard)/;\nexport class AbstractKeybindingService extends Disposable {\n    get onDidUpdateKeybindings() {\n        return this._onDidUpdateKeybindings ? this._onDidUpdateKeybindings.event : Event.None; // Sinon stubbing walks properties on prototype\n    }\n    get inChordMode() {\n        return this._currentChords.length > 0;\n    }\n    constructor(_contextKeyService, _commandService, _telemetryService, _notificationService, _logService) {\n        super();\n        this._contextKeyService = _contextKeyService;\n        this._commandService = _commandService;\n        this._telemetryService = _telemetryService;\n        this._notificationService = _notificationService;\n        this._logService = _logService;\n        this._onDidUpdateKeybindings = this._register(new Emitter());\n        this._currentChords = [];\n        this._currentChordChecker = new IntervalTimer();\n        this._currentChordStatusMessage = null;\n        this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n        this._currentSingleModifier = null;\n        this._currentSingleModifierClearTimeout = new TimeoutTimer();\n        this._currentlyDispatchingCommandId = null;\n        this._logging = false;\n    }\n    dispose() {\n        super.dispose();\n    }\n    _log(str) {\n        if (this._logging) {\n            this._logService.info(`[KeybindingService]: ${str}`);\n        }\n    }\n    getKeybindings() {\n        return this._getResolver().getKeybindings();\n    }\n    lookupKeybinding(commandId, context) {\n        const result = this._getResolver().lookupPrimaryKeybinding(commandId, context || this._contextKeyService);\n        if (!result) {\n            return undefined;\n        }\n        return result.resolvedKeybinding;\n    }\n    dispatchEvent(e, target) {\n        return this._dispatch(e, target);\n    }\n    // TODO@ulugbekna: update namings to align with `_doDispatch`\n    // TODO@ulugbekna: this fn doesn't seem to take into account single-modifier keybindings, eg `shift shift`\n    softDispatch(e, target) {\n        this._log(`/ Soft dispatching keyboard event`);\n        const keybinding = this.resolveKeyboardEvent(e);\n        if (keybinding.hasMultipleChords()) {\n            console.warn('keyboard event should not be mapped to multiple chords');\n            return NoMatchingKb;\n        }\n        const [firstChord,] = keybinding.getDispatchChords();\n        if (firstChord === null) {\n            // cannot be dispatched, probably only modifier keys\n            this._log(`\\\\ Keyboard event cannot be dispatched`);\n            return NoMatchingKb;\n        }\n        const contextValue = this._contextKeyService.getContext(target);\n        const currentChords = this._currentChords.map((({ keypress }) => keypress));\n        return this._getResolver().resolve(contextValue, currentChords, firstChord);\n    }\n    _scheduleLeaveChordMode() {\n        const chordLastInteractedTime = Date.now();\n        this._currentChordChecker.cancelAndSet(() => {\n            if (!this._documentHasFocus()) {\n                // Focus has been lost => leave chord mode\n                this._leaveChordMode();\n                return;\n            }\n            if (Date.now() - chordLastInteractedTime > 5000) {\n                // 5 seconds elapsed => leave chord mode\n                this._leaveChordMode();\n            }\n        }, 500);\n    }\n    _expectAnotherChord(firstChord, keypressLabel) {\n        this._currentChords.push({ keypress: firstChord, label: keypressLabel });\n        switch (this._currentChords.length) {\n            case 0:\n                throw illegalState('impossible');\n            case 1:\n                // TODO@ulugbekna: revise this message and the one below (at least, fix terminology)\n                this._currentChordStatusMessage = this._notificationService.status(nls.localize('first.chord', \"({0}) was pressed. Waiting for second key of chord...\", keypressLabel));\n                break;\n            default: {\n                const fullKeypressLabel = this._currentChords.map(({ label }) => label).join(', ');\n                this._currentChordStatusMessage = this._notificationService.status(nls.localize('next.chord', \"({0}) was pressed. Waiting for next key of chord...\", fullKeypressLabel));\n            }\n        }\n        this._scheduleLeaveChordMode();\n        if (IME.enabled) {\n            IME.disable();\n        }\n    }\n    _leaveChordMode() {\n        if (this._currentChordStatusMessage) {\n            this._currentChordStatusMessage.dispose();\n            this._currentChordStatusMessage = null;\n        }\n        this._currentChordChecker.cancel();\n        this._currentChords = [];\n        IME.enable();\n    }\n    _dispatch(e, target) {\n        return this._doDispatch(this.resolveKeyboardEvent(e), target, /*isSingleModiferChord*/ false);\n    }\n    _singleModifierDispatch(e, target) {\n        const keybinding = this.resolveKeyboardEvent(e);\n        const [singleModifier,] = keybinding.getSingleModifierDispatchChords();\n        if (singleModifier) {\n            if (this._ignoreSingleModifiers.has(singleModifier)) {\n                this._log(`+ Ignoring single modifier ${singleModifier} due to it being pressed together with other keys.`);\n                this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n                this._currentSingleModifierClearTimeout.cancel();\n                this._currentSingleModifier = null;\n                return false;\n            }\n            this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n            if (this._currentSingleModifier === null) {\n                // we have a valid `singleModifier`, store it for the next keyup, but clear it in 300ms\n                this._log(`+ Storing single modifier for possible chord ${singleModifier}.`);\n                this._currentSingleModifier = singleModifier;\n                this._currentSingleModifierClearTimeout.cancelAndSet(() => {\n                    this._log(`+ Clearing single modifier due to 300ms elapsed.`);\n                    this._currentSingleModifier = null;\n                }, 300);\n                return false;\n            }\n            if (singleModifier === this._currentSingleModifier) {\n                // bingo!\n                this._log(`/ Dispatching single modifier chord ${singleModifier} ${singleModifier}`);\n                this._currentSingleModifierClearTimeout.cancel();\n                this._currentSingleModifier = null;\n                return this._doDispatch(keybinding, target, /*isSingleModiferChord*/ true);\n            }\n            this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${singleModifier}`);\n            this._currentSingleModifierClearTimeout.cancel();\n            this._currentSingleModifier = null;\n            return false;\n        }\n        // When pressing a modifier and holding it pressed with any other modifier or key combination,\n        // the pressed modifiers should no longer be considered for single modifier dispatch.\n        const [firstChord,] = keybinding.getChords();\n        this._ignoreSingleModifiers = new KeybindingModifierSet(firstChord);\n        if (this._currentSingleModifier !== null) {\n            this._log(`+ Clearing single modifier due to other key up.`);\n        }\n        this._currentSingleModifierClearTimeout.cancel();\n        this._currentSingleModifier = null;\n        return false;\n    }\n    _doDispatch(userKeypress, target, isSingleModiferChord = false) {\n        var _a;\n        let shouldPreventDefault = false;\n        if (userKeypress.hasMultipleChords()) { // warn - because user can press a single chord at a time\n            console.warn('Unexpected keyboard event mapped to multiple chords');\n            return false;\n        }\n        let userPressedChord = null;\n        let currentChords = null;\n        if (isSingleModiferChord) {\n            // The keybinding is the second keypress of a single modifier chord, e.g. \"shift shift\".\n            // A single modifier can only occur when the same modifier is pressed in short sequence,\n            // hence we disregard `_currentChord` and use the same modifier instead.\n            const [dispatchKeyname,] = userKeypress.getSingleModifierDispatchChords();\n            userPressedChord = dispatchKeyname;\n            currentChords = dispatchKeyname ? [dispatchKeyname] : []; // TODO@ulugbekna: in the `else` case we assign an empty array - make sure `resolve` can handle an empty array well\n        }\n        else {\n            [userPressedChord,] = userKeypress.getDispatchChords();\n            currentChords = this._currentChords.map(({ keypress }) => keypress);\n        }\n        if (userPressedChord === null) {\n            this._log(`\\\\ Keyboard event cannot be dispatched in keydown phase.`);\n            // cannot be dispatched, probably only modifier keys\n            return shouldPreventDefault;\n        }\n        const contextValue = this._contextKeyService.getContext(target);\n        const keypressLabel = userKeypress.getLabel();\n        const resolveResult = this._getResolver().resolve(contextValue, currentChords, userPressedChord);\n        switch (resolveResult.kind) {\n            case 0 /* ResultKind.NoMatchingKb */: {\n                this._logService.trace('KeybindingService#dispatch', keypressLabel, `[ No matching keybinding ]`);\n                if (this.inChordMode) {\n                    const currentChordsLabel = this._currentChords.map(({ label }) => label).join(', ');\n                    this._log(`+ Leaving multi-chord mode: Nothing bound to \"${currentChordsLabel}, ${keypressLabel}\".`);\n                    this._notificationService.status(nls.localize('missing.chord', \"The key combination ({0}, {1}) is not a command.\", currentChordsLabel, keypressLabel), { hideAfter: 10 * 1000 /* 10s */ });\n                    this._leaveChordMode();\n                    shouldPreventDefault = true;\n                }\n                return shouldPreventDefault;\n            }\n            case 1 /* ResultKind.MoreChordsNeeded */: {\n                this._logService.trace('KeybindingService#dispatch', keypressLabel, `[ Several keybindings match - more chords needed ]`);\n                shouldPreventDefault = true;\n                this._expectAnotherChord(userPressedChord, keypressLabel);\n                this._log(this._currentChords.length === 1 ? `+ Entering multi-chord mode...` : `+ Continuing multi-chord mode...`);\n                return shouldPreventDefault;\n            }\n            case 2 /* ResultKind.KbFound */: {\n                this._logService.trace('KeybindingService#dispatch', keypressLabel, `[ Will dispatch command ${resolveResult.commandId} ]`);\n                if (resolveResult.commandId === null || resolveResult.commandId === '') {\n                    if (this.inChordMode) {\n                        const currentChordsLabel = this._currentChords.map(({ label }) => label).join(', ');\n                        this._log(`+ Leaving chord mode: Nothing bound to \"${currentChordsLabel}, ${keypressLabel}\".`);\n                        this._notificationService.status(nls.localize('missing.chord', \"The key combination ({0}, {1}) is not a command.\", currentChordsLabel, keypressLabel), { hideAfter: 10 * 1000 /* 10s */ });\n                        this._leaveChordMode();\n                        shouldPreventDefault = true;\n                    }\n                }\n                else {\n                    if (this.inChordMode) {\n                        this._leaveChordMode();\n                    }\n                    if (!resolveResult.isBubble) {\n                        shouldPreventDefault = true;\n                    }\n                    this._log(`+ Invoking command ${resolveResult.commandId}.`);\n                    this._currentlyDispatchingCommandId = resolveResult.commandId;\n                    try {\n                        if (typeof resolveResult.commandArgs === 'undefined') {\n                            this._commandService.executeCommand(resolveResult.commandId).then(undefined, err => this._notificationService.warn(err));\n                        }\n                        else {\n                            this._commandService.executeCommand(resolveResult.commandId, resolveResult.commandArgs).then(undefined, err => this._notificationService.warn(err));\n                        }\n                    }\n                    finally {\n                        this._currentlyDispatchingCommandId = null;\n                    }\n                    if (!HIGH_FREQ_COMMANDS.test(resolveResult.commandId)) {\n                        this._telemetryService.publicLog2('workbenchActionExecuted', { id: resolveResult.commandId, from: 'keybinding', detail: (_a = userKeypress.getUserSettingsLabel()) !== null && _a !== void 0 ? _a : undefined });\n                    }\n                }\n                return shouldPreventDefault;\n            }\n        }\n    }\n    mightProducePrintableCharacter(event) {\n        if (event.ctrlKey || event.metaKey) {\n            // ignore ctrl/cmd-combination but not shift/alt-combinatios\n            return false;\n        }\n        // weak check for certain ranges. this is properly implemented in a subclass\n        // with access to the KeyboardMapperFactory.\n        if ((event.keyCode >= 31 /* KeyCode.KeyA */ && event.keyCode <= 56 /* KeyCode.KeyZ */)\n            || (event.keyCode >= 21 /* KeyCode.Digit0 */ && event.keyCode <= 30 /* KeyCode.Digit9 */)) {\n            return true;\n        }\n        return false;\n    }\n}\nclass KeybindingModifierSet {\n    constructor(source) {\n        this._ctrlKey = source ? source.ctrlKey : false;\n        this._shiftKey = source ? source.shiftKey : false;\n        this._altKey = source ? source.altKey : false;\n        this._metaKey = source ? source.metaKey : false;\n    }\n    has(modifier) {\n        switch (modifier) {\n            case 'ctrl': return this._ctrlKey;\n            case 'shift': return this._shiftKey;\n            case 'alt': return this._altKey;\n            case 'meta': return this._metaKey;\n        }\n    }\n}\nKeybindingModifierSet.EMPTY = new KeybindingModifierSet(null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IKeybindingService = createDecorator('keybindingService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { implies, expressionsAreEqualWithConstantSubstitution } from '../../contextkey/common/contextkey.js';\n// util definitions to make working with the above types easier within this module:\nexport const NoMatchingKb = { kind: 0 /* ResultKind.NoMatchingKb */ };\nconst MoreChordsNeeded = { kind: 1 /* ResultKind.MoreChordsNeeded */ };\nfunction KbFound(commandId, commandArgs, isBubble) {\n    return { kind: 2 /* ResultKind.KbFound */, commandId, commandArgs, isBubble };\n}\n//#endregion\n/**\n * Stores mappings from keybindings to commands and from commands to keybindings.\n * Given a sequence of chords, `resolve`s which keybinding it matches\n */\nexport class KeybindingResolver {\n    constructor(\n    /** built-in and extension-provided keybindings */\n    defaultKeybindings, \n    /** user's keybindings */\n    overrides, log) {\n        var _a;\n        this._log = log;\n        this._defaultKeybindings = defaultKeybindings;\n        this._defaultBoundCommands = new Map();\n        for (const defaultKeybinding of defaultKeybindings) {\n            const command = defaultKeybinding.command;\n            if (command && command.charAt(0) !== '-') {\n                this._defaultBoundCommands.set(command, true);\n            }\n        }\n        this._map = new Map();\n        this._lookupMap = new Map();\n        this._keybindings = KeybindingResolver.handleRemovals([].concat(defaultKeybindings).concat(overrides));\n        for (let i = 0, len = this._keybindings.length; i < len; i++) {\n            const k = this._keybindings[i];\n            if (k.chords.length === 0) {\n                // unbound\n                continue;\n            }\n            // substitute with constants that are registered after startup - https://github.com/microsoft/vscode/issues/174218#issuecomment-1437972127\n            const when = (_a = k.when) === null || _a === void 0 ? void 0 : _a.substituteConstants();\n            if (when && when.type === 0 /* ContextKeyExprType.False */) {\n                // when condition is false\n                continue;\n            }\n            this._addKeyPress(k.chords[0], k);\n        }\n    }\n    static _isTargetedForRemoval(defaultKb, keypress, when) {\n        if (keypress) {\n            for (let i = 0; i < keypress.length; i++) {\n                if (keypress[i] !== defaultKb.chords[i]) {\n                    return false;\n                }\n            }\n        }\n        // `true` means always, as does `undefined`\n        // so we will treat `true` === `undefined`\n        if (when && when.type !== 1 /* ContextKeyExprType.True */) {\n            if (!defaultKb.when) {\n                return false;\n            }\n            if (!expressionsAreEqualWithConstantSubstitution(when, defaultKb.when)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Looks for rules containing \"-commandId\" and removes them.\n     */\n    static handleRemovals(rules) {\n        // Do a first pass and construct a hash-map for removals\n        const removals = new Map();\n        for (let i = 0, len = rules.length; i < len; i++) {\n            const rule = rules[i];\n            if (rule.command && rule.command.charAt(0) === '-') {\n                const command = rule.command.substring(1);\n                if (!removals.has(command)) {\n                    removals.set(command, [rule]);\n                }\n                else {\n                    removals.get(command).push(rule);\n                }\n            }\n        }\n        if (removals.size === 0) {\n            // There are no removals\n            return rules;\n        }\n        // Do a second pass and keep only non-removed keybindings\n        const result = [];\n        for (let i = 0, len = rules.length; i < len; i++) {\n            const rule = rules[i];\n            if (!rule.command || rule.command.length === 0) {\n                result.push(rule);\n                continue;\n            }\n            if (rule.command.charAt(0) === '-') {\n                continue;\n            }\n            const commandRemovals = removals.get(rule.command);\n            if (!commandRemovals || !rule.isDefault) {\n                result.push(rule);\n                continue;\n            }\n            let isRemoved = false;\n            for (const commandRemoval of commandRemovals) {\n                const when = commandRemoval.when;\n                if (this._isTargetedForRemoval(rule, commandRemoval.chords, when)) {\n                    isRemoved = true;\n                    break;\n                }\n            }\n            if (!isRemoved) {\n                result.push(rule);\n                continue;\n            }\n        }\n        return result;\n    }\n    _addKeyPress(keypress, item) {\n        const conflicts = this._map.get(keypress);\n        if (typeof conflicts === 'undefined') {\n            // There is no conflict so far\n            this._map.set(keypress, [item]);\n            this._addToLookupMap(item);\n            return;\n        }\n        for (let i = conflicts.length - 1; i >= 0; i--) {\n            const conflict = conflicts[i];\n            if (conflict.command === item.command) {\n                continue;\n            }\n            // Test if the shorter keybinding is a prefix of the longer one.\n            // If the shorter keybinding is a prefix, it effectively will shadow the longer one and is considered a conflict.\n            let isShorterKbPrefix = true;\n            for (let i = 1; i < conflict.chords.length && i < item.chords.length; i++) {\n                if (conflict.chords[i] !== item.chords[i]) {\n                    // The ith step does not conflict\n                    isShorterKbPrefix = false;\n                    break;\n                }\n            }\n            if (!isShorterKbPrefix) {\n                continue;\n            }\n            if (KeybindingResolver.whenIsEntirelyIncluded(conflict.when, item.when)) {\n                // `item` completely overwrites `conflict`\n                // Remove conflict from the lookupMap\n                this._removeFromLookupMap(conflict);\n            }\n        }\n        conflicts.push(item);\n        this._addToLookupMap(item);\n    }\n    _addToLookupMap(item) {\n        if (!item.command) {\n            return;\n        }\n        let arr = this._lookupMap.get(item.command);\n        if (typeof arr === 'undefined') {\n            arr = [item];\n            this._lookupMap.set(item.command, arr);\n        }\n        else {\n            arr.push(item);\n        }\n    }\n    _removeFromLookupMap(item) {\n        if (!item.command) {\n            return;\n        }\n        const arr = this._lookupMap.get(item.command);\n        if (typeof arr === 'undefined') {\n            return;\n        }\n        for (let i = 0, len = arr.length; i < len; i++) {\n            if (arr[i] === item) {\n                arr.splice(i, 1);\n                return;\n            }\n        }\n    }\n    /**\n     * Returns true if it is provable `a` implies `b`.\n     */\n    static whenIsEntirelyIncluded(a, b) {\n        if (!b || b.type === 1 /* ContextKeyExprType.True */) {\n            return true;\n        }\n        if (!a || a.type === 1 /* ContextKeyExprType.True */) {\n            return false;\n        }\n        return implies(a, b);\n    }\n    getKeybindings() {\n        return this._keybindings;\n    }\n    lookupPrimaryKeybinding(commandId, context) {\n        const items = this._lookupMap.get(commandId);\n        if (typeof items === 'undefined' || items.length === 0) {\n            return null;\n        }\n        if (items.length === 1) {\n            return items[0];\n        }\n        for (let i = items.length - 1; i >= 0; i--) {\n            const item = items[i];\n            if (context.contextMatchesRules(item.when)) {\n                return item;\n            }\n        }\n        return items[items.length - 1];\n    }\n    /**\n     * Looks up a keybinding trigged as a result of pressing a sequence of chords - `[...currentChords, keypress]`\n     *\n     * Example: resolving 3 chords pressed sequentially - `cmd+k cmd+p cmd+i`:\n     * \t`currentChords = [ 'cmd+k' , 'cmd+p' ]` and `keypress = `cmd+i` - last pressed chord\n     */\n    resolve(context, currentChords, keypress) {\n        const pressedChords = [...currentChords, keypress];\n        this._log(`| Resolving ${pressedChords}`);\n        const kbCandidates = this._map.get(pressedChords[0]);\n        if (kbCandidates === undefined) {\n            // No bindings with such 0-th chord\n            this._log(`\\\\ No keybinding entries.`);\n            return NoMatchingKb;\n        }\n        let lookupMap = null;\n        if (pressedChords.length < 2) {\n            lookupMap = kbCandidates;\n        }\n        else {\n            // Fetch all chord bindings for `currentChords`\n            lookupMap = [];\n            for (let i = 0, len = kbCandidates.length; i < len; i++) {\n                const candidate = kbCandidates[i];\n                if (pressedChords.length > candidate.chords.length) { // # of pressed chords can't be less than # of chords in a keybinding to invoke\n                    continue;\n                }\n                let prefixMatches = true;\n                for (let i = 1; i < pressedChords.length; i++) {\n                    if (candidate.chords[i] !== pressedChords[i]) {\n                        prefixMatches = false;\n                        break;\n                    }\n                }\n                if (prefixMatches) {\n                    lookupMap.push(candidate);\n                }\n            }\n        }\n        // check there's a keybinding with a matching when clause\n        const result = this._findCommand(context, lookupMap);\n        if (!result) {\n            this._log(`\\\\ From ${lookupMap.length} keybinding entries, no when clauses matched the context.`);\n            return NoMatchingKb;\n        }\n        // check we got all chords necessary to be sure a particular keybinding needs to be invoked\n        if (pressedChords.length < result.chords.length) {\n            // The chord sequence is not complete\n            this._log(`\\\\ From ${lookupMap.length} keybinding entries, awaiting ${result.chords.length - pressedChords.length} more chord(s), when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`);\n            return MoreChordsNeeded;\n        }\n        this._log(`\\\\ From ${lookupMap.length} keybinding entries, matched ${result.command}, when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`);\n        return KbFound(result.command, result.commandArgs, result.bubble);\n    }\n    _findCommand(context, matches) {\n        for (let i = matches.length - 1; i >= 0; i--) {\n            const k = matches[i];\n            if (!KeybindingResolver._contextMatchesRules(context, k.when)) {\n                continue;\n            }\n            return k;\n        }\n        return null;\n    }\n    static _contextMatchesRules(context, rules) {\n        if (!rules) {\n            return true;\n        }\n        return rules.evaluate(context);\n    }\n}\nfunction printWhenExplanation(when) {\n    if (!when) {\n        return `no when condition`;\n    }\n    return `${when.serialize()}`;\n}\nfunction printSourceExplanation(kb) {\n    return (kb.extensionId\n        ? (kb.isBuiltinExtension ? `built-in extension ${kb.extensionId}` : `user extension ${kb.extensionId}`)\n        : (kb.isDefault ? `built-in` : `user`));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { decodeKeybinding } from '../../../base/common/keybindings.js';\nimport { OS } from '../../../base/common/platform.js';\nimport { CommandsRegistry } from '../../commands/common/commands.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { combinedDisposable, DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\n/**\n * Stores all built-in and extension-provided keybindings (but not ones that user defines themselves)\n */\nclass KeybindingsRegistryImpl {\n    constructor() {\n        this._coreKeybindings = new LinkedList();\n        this._extensionKeybindings = [];\n        this._cachedMergedKeybindings = null;\n    }\n    /**\n     * Take current platform into account and reduce to primary & secondary.\n     */\n    static bindToCurrentPlatform(kb) {\n        if (OS === 1 /* OperatingSystem.Windows */) {\n            if (kb && kb.win) {\n                return kb.win;\n            }\n        }\n        else if (OS === 2 /* OperatingSystem.Macintosh */) {\n            if (kb && kb.mac) {\n                return kb.mac;\n            }\n        }\n        else {\n            if (kb && kb.linux) {\n                return kb.linux;\n            }\n        }\n        return kb;\n    }\n    registerKeybindingRule(rule) {\n        const actualKb = KeybindingsRegistryImpl.bindToCurrentPlatform(rule);\n        const result = new DisposableStore();\n        if (actualKb && actualKb.primary) {\n            const kk = decodeKeybinding(actualKb.primary, OS);\n            if (kk) {\n                result.add(this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, 0, rule.when));\n            }\n        }\n        if (actualKb && Array.isArray(actualKb.secondary)) {\n            for (let i = 0, len = actualKb.secondary.length; i < len; i++) {\n                const k = actualKb.secondary[i];\n                const kk = decodeKeybinding(k, OS);\n                if (kk) {\n                    result.add(this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, -i - 1, rule.when));\n                }\n            }\n        }\n        return result;\n    }\n    registerCommandAndKeybindingRule(desc) {\n        return combinedDisposable(this.registerKeybindingRule(desc), CommandsRegistry.registerCommand(desc));\n    }\n    _registerDefaultKeybinding(keybinding, commandId, commandArgs, weight1, weight2, when) {\n        const remove = this._coreKeybindings.push({\n            keybinding: keybinding,\n            command: commandId,\n            commandArgs: commandArgs,\n            when: when,\n            weight1: weight1,\n            weight2: weight2,\n            extensionId: null,\n            isBuiltinExtension: false\n        });\n        this._cachedMergedKeybindings = null;\n        return toDisposable(() => {\n            remove();\n            this._cachedMergedKeybindings = null;\n        });\n    }\n    getDefaultKeybindings() {\n        if (!this._cachedMergedKeybindings) {\n            this._cachedMergedKeybindings = Array.from(this._coreKeybindings).concat(this._extensionKeybindings);\n            this._cachedMergedKeybindings.sort(sorter);\n        }\n        return this._cachedMergedKeybindings.slice(0);\n    }\n}\nexport const KeybindingsRegistry = new KeybindingsRegistryImpl();\n// Define extension point ids\nexport const Extensions = {\n    EditorModes: 'platform.keybindingsRegistry'\n};\nRegistry.add(Extensions.EditorModes, KeybindingsRegistry);\nfunction sorter(a, b) {\n    if (a.weight1 !== b.weight1) {\n        return a.weight1 - b.weight1;\n    }\n    if (a.command && b.command) {\n        if (a.command < b.command) {\n            return -1;\n        }\n        if (a.command > b.command) {\n            return 1;\n        }\n    }\n    return a.weight2 - b.weight2;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ResolvedKeybindingItem {\n    constructor(resolvedKeybinding, command, commandArgs, when, isDefault, extensionId, isBuiltinExtension) {\n        this._resolvedKeybindingItemBrand = undefined;\n        this.resolvedKeybinding = resolvedKeybinding;\n        this.chords = resolvedKeybinding ? toEmptyArrayIfContainsNull(resolvedKeybinding.getDispatchChords()) : [];\n        if (resolvedKeybinding && this.chords.length === 0) {\n            // handle possible single modifier chord keybindings\n            this.chords = toEmptyArrayIfContainsNull(resolvedKeybinding.getSingleModifierDispatchChords());\n        }\n        this.bubble = (command ? command.charCodeAt(0) === 94 /* CharCode.Caret */ : false);\n        this.command = this.bubble ? command.substr(1) : command;\n        this.commandArgs = commandArgs;\n        this.when = when;\n        this.isDefault = isDefault;\n        this.extensionId = extensionId;\n        this.isBuiltinExtension = isBuiltinExtension;\n    }\n}\nexport function toEmptyArrayIfContainsNull(arr) {\n    const result = [];\n    for (let i = 0, len = arr.length; i < len; i++) {\n        const element = arr[i];\n        if (!element) {\n            return [];\n        }\n        result.push(element);\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { illegalArgument } from '../../../base/common/errors.js';\nimport { AriaLabelProvider, ElectronAcceleratorLabelProvider, UILabelProvider, UserSettingsLabelProvider } from '../../../base/common/keybindingLabels.js';\nimport { ResolvedKeybinding, ResolvedChord } from '../../../base/common/keybindings.js';\nexport class BaseResolvedKeybinding extends ResolvedKeybinding {\n    constructor(os, chords) {\n        super();\n        if (chords.length === 0) {\n            throw illegalArgument(`chords`);\n        }\n        this._os = os;\n        this._chords = chords;\n    }\n    getLabel() {\n        return UILabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getLabel(keybinding));\n    }\n    getAriaLabel() {\n        return AriaLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getAriaLabel(keybinding));\n    }\n    getElectronAccelerator() {\n        if (this._chords.length > 1) {\n            // [Electron Accelerators] Electron cannot handle chords\n            return null;\n        }\n        if (this._chords[0].isDuplicateModifierCase()) {\n            // [Electron Accelerators] Electron cannot handle modifier only keybindings\n            // e.g. \"shift shift\"\n            return null;\n        }\n        return ElectronAcceleratorLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getElectronAccelerator(keybinding));\n    }\n    getUserSettingsLabel() {\n        return UserSettingsLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getUserSettingsLabel(keybinding));\n    }\n    hasMultipleChords() {\n        return (this._chords.length > 1);\n    }\n    getChords() {\n        return this._chords.map((keybinding) => this._getChord(keybinding));\n    }\n    _getChord(keybinding) {\n        return new ResolvedChord(keybinding.ctrlKey, keybinding.shiftKey, keybinding.altKey, keybinding.metaKey, this._getLabel(keybinding), this._getAriaLabel(keybinding));\n    }\n    getDispatchChords() {\n        return this._chords.map((keybinding) => this._getChordDispatch(keybinding));\n    }\n    getSingleModifierDispatchChords() {\n        return this._chords.map((keybinding) => this._getSingleModifierChordDispatch(keybinding));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { KeyCodeUtils, IMMUTABLE_CODE_TO_KEY_CODE } from '../../../base/common/keyCodes.js';\nimport { KeyCodeChord } from '../../../base/common/keybindings.js';\nimport { BaseResolvedKeybinding } from './baseResolvedKeybinding.js';\nimport { toEmptyArrayIfContainsNull } from './resolvedKeybindingItem.js';\n/**\n * Do not instantiate. Use KeybindingService to get a ResolvedKeybinding seeded with information about the current kb layout.\n */\nexport class USLayoutResolvedKeybinding extends BaseResolvedKeybinding {\n    constructor(chords, os) {\n        super(os, chords);\n    }\n    _keyCodeToUILabel(keyCode) {\n        if (this._os === 2 /* OperatingSystem.Macintosh */) {\n            switch (keyCode) {\n                case 15 /* KeyCode.LeftArrow */:\n                    return '';\n                case 16 /* KeyCode.UpArrow */:\n                    return '';\n                case 17 /* KeyCode.RightArrow */:\n                    return '';\n                case 18 /* KeyCode.DownArrow */:\n                    return '';\n            }\n        }\n        return KeyCodeUtils.toString(keyCode);\n    }\n    _getLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        return this._keyCodeToUILabel(chord.keyCode);\n    }\n    _getAriaLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        return KeyCodeUtils.toString(chord.keyCode);\n    }\n    _getElectronAccelerator(chord) {\n        return KeyCodeUtils.toElectronAccelerator(chord.keyCode);\n    }\n    _getUserSettingsLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        const result = KeyCodeUtils.toUserSettingsUS(chord.keyCode);\n        return (result ? result.toLowerCase() : result);\n    }\n    _getChordDispatch(chord) {\n        return USLayoutResolvedKeybinding.getDispatchStr(chord);\n    }\n    static getDispatchStr(chord) {\n        if (chord.isModifierKey()) {\n            return null;\n        }\n        let result = '';\n        if (chord.ctrlKey) {\n            result += 'ctrl+';\n        }\n        if (chord.shiftKey) {\n            result += 'shift+';\n        }\n        if (chord.altKey) {\n            result += 'alt+';\n        }\n        if (chord.metaKey) {\n            result += 'meta+';\n        }\n        result += KeyCodeUtils.toString(chord.keyCode);\n        return result;\n    }\n    _getSingleModifierChordDispatch(keybinding) {\n        if (keybinding.keyCode === 5 /* KeyCode.Ctrl */ && !keybinding.shiftKey && !keybinding.altKey && !keybinding.metaKey) {\n            return 'ctrl';\n        }\n        if (keybinding.keyCode === 4 /* KeyCode.Shift */ && !keybinding.ctrlKey && !keybinding.altKey && !keybinding.metaKey) {\n            return 'shift';\n        }\n        if (keybinding.keyCode === 6 /* KeyCode.Alt */ && !keybinding.ctrlKey && !keybinding.shiftKey && !keybinding.metaKey) {\n            return 'alt';\n        }\n        if (keybinding.keyCode === 57 /* KeyCode.Meta */ && !keybinding.ctrlKey && !keybinding.shiftKey && !keybinding.altKey) {\n            return 'meta';\n        }\n        return null;\n    }\n    /**\n     * *NOTE*: Check return value for `KeyCode.Unknown`.\n     */\n    static _scanCodeToKeyCode(scanCode) {\n        const immutableKeyCode = IMMUTABLE_CODE_TO_KEY_CODE[scanCode];\n        if (immutableKeyCode !== -1 /* KeyCode.DependsOnKbLayout */) {\n            return immutableKeyCode;\n        }\n        switch (scanCode) {\n            case 10 /* ScanCode.KeyA */: return 31 /* KeyCode.KeyA */;\n            case 11 /* ScanCode.KeyB */: return 32 /* KeyCode.KeyB */;\n            case 12 /* ScanCode.KeyC */: return 33 /* KeyCode.KeyC */;\n            case 13 /* ScanCode.KeyD */: return 34 /* KeyCode.KeyD */;\n            case 14 /* ScanCode.KeyE */: return 35 /* KeyCode.KeyE */;\n            case 15 /* ScanCode.KeyF */: return 36 /* KeyCode.KeyF */;\n            case 16 /* ScanCode.KeyG */: return 37 /* KeyCode.KeyG */;\n            case 17 /* ScanCode.KeyH */: return 38 /* KeyCode.KeyH */;\n            case 18 /* ScanCode.KeyI */: return 39 /* KeyCode.KeyI */;\n            case 19 /* ScanCode.KeyJ */: return 40 /* KeyCode.KeyJ */;\n            case 20 /* ScanCode.KeyK */: return 41 /* KeyCode.KeyK */;\n            case 21 /* ScanCode.KeyL */: return 42 /* KeyCode.KeyL */;\n            case 22 /* ScanCode.KeyM */: return 43 /* KeyCode.KeyM */;\n            case 23 /* ScanCode.KeyN */: return 44 /* KeyCode.KeyN */;\n            case 24 /* ScanCode.KeyO */: return 45 /* KeyCode.KeyO */;\n            case 25 /* ScanCode.KeyP */: return 46 /* KeyCode.KeyP */;\n            case 26 /* ScanCode.KeyQ */: return 47 /* KeyCode.KeyQ */;\n            case 27 /* ScanCode.KeyR */: return 48 /* KeyCode.KeyR */;\n            case 28 /* ScanCode.KeyS */: return 49 /* KeyCode.KeyS */;\n            case 29 /* ScanCode.KeyT */: return 50 /* KeyCode.KeyT */;\n            case 30 /* ScanCode.KeyU */: return 51 /* KeyCode.KeyU */;\n            case 31 /* ScanCode.KeyV */: return 52 /* KeyCode.KeyV */;\n            case 32 /* ScanCode.KeyW */: return 53 /* KeyCode.KeyW */;\n            case 33 /* ScanCode.KeyX */: return 54 /* KeyCode.KeyX */;\n            case 34 /* ScanCode.KeyY */: return 55 /* KeyCode.KeyY */;\n            case 35 /* ScanCode.KeyZ */: return 56 /* KeyCode.KeyZ */;\n            case 36 /* ScanCode.Digit1 */: return 22 /* KeyCode.Digit1 */;\n            case 37 /* ScanCode.Digit2 */: return 23 /* KeyCode.Digit2 */;\n            case 38 /* ScanCode.Digit3 */: return 24 /* KeyCode.Digit3 */;\n            case 39 /* ScanCode.Digit4 */: return 25 /* KeyCode.Digit4 */;\n            case 40 /* ScanCode.Digit5 */: return 26 /* KeyCode.Digit5 */;\n            case 41 /* ScanCode.Digit6 */: return 27 /* KeyCode.Digit6 */;\n            case 42 /* ScanCode.Digit7 */: return 28 /* KeyCode.Digit7 */;\n            case 43 /* ScanCode.Digit8 */: return 29 /* KeyCode.Digit8 */;\n            case 44 /* ScanCode.Digit9 */: return 30 /* KeyCode.Digit9 */;\n            case 45 /* ScanCode.Digit0 */: return 21 /* KeyCode.Digit0 */;\n            case 51 /* ScanCode.Minus */: return 88 /* KeyCode.Minus */;\n            case 52 /* ScanCode.Equal */: return 86 /* KeyCode.Equal */;\n            case 53 /* ScanCode.BracketLeft */: return 92 /* KeyCode.BracketLeft */;\n            case 54 /* ScanCode.BracketRight */: return 94 /* KeyCode.BracketRight */;\n            case 55 /* ScanCode.Backslash */: return 93 /* KeyCode.Backslash */;\n            case 56 /* ScanCode.IntlHash */: return 0 /* KeyCode.Unknown */; // missing\n            case 57 /* ScanCode.Semicolon */: return 85 /* KeyCode.Semicolon */;\n            case 58 /* ScanCode.Quote */: return 95 /* KeyCode.Quote */;\n            case 59 /* ScanCode.Backquote */: return 91 /* KeyCode.Backquote */;\n            case 60 /* ScanCode.Comma */: return 87 /* KeyCode.Comma */;\n            case 61 /* ScanCode.Period */: return 89 /* KeyCode.Period */;\n            case 62 /* ScanCode.Slash */: return 90 /* KeyCode.Slash */;\n            case 106 /* ScanCode.IntlBackslash */: return 97 /* KeyCode.IntlBackslash */;\n        }\n        return 0 /* KeyCode.Unknown */;\n    }\n    static _toKeyCodeChord(chord) {\n        if (!chord) {\n            return null;\n        }\n        if (chord instanceof KeyCodeChord) {\n            return chord;\n        }\n        const keyCode = this._scanCodeToKeyCode(chord.scanCode);\n        if (keyCode === 0 /* KeyCode.Unknown */) {\n            return null;\n        }\n        return new KeyCodeChord(chord.ctrlKey, chord.shiftKey, chord.altKey, chord.metaKey, keyCode);\n    }\n    static resolveKeybinding(keybinding, os) {\n        const chords = toEmptyArrayIfContainsNull(keybinding.chords.map(chord => this._toKeyCodeChord(chord)));\n        if (chords.length > 0) {\n            return [new USLayoutResolvedKeybinding(chords, os)];\n        }\n        return [];\n    }\n}\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILabelService = createDecorator('labelService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILayoutService = createDecorator('layoutService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { createStyleSheet, isActiveElement, isKeyboardEvent } from '../../../base/browser/dom.js';\nimport { PagedList } from '../../../base/browser/ui/list/listPaging.js';\nimport { DefaultStyleController, isSelectionRangeChangeEvent, isSelectionSingleChangeEvent, List, TypeNavigationMode } from '../../../base/browser/ui/list/listWidget.js';\nimport { Table } from '../../../base/browser/ui/table/tableWidget.js';\nimport { TreeFindMode, TreeFindMatchType } from '../../../base/browser/ui/tree/abstractTree.js';\nimport { AsyncDataTree, CompressibleAsyncDataTree } from '../../../base/browser/ui/tree/asyncDataTree.js';\nimport { DataTree } from '../../../base/browser/ui/tree/dataTree.js';\nimport { CompressibleObjectTree, ObjectTree } from '../../../base/browser/ui/tree/objectTree.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { combinedDisposable, Disposable, DisposableStore, dispose, toDisposable } from '../../../base/common/lifecycle.js';\nimport { localize } from '../../../nls.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { Extensions as ConfigurationExtensions } from '../../configuration/common/configurationRegistry.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { InputFocusedContextKey } from '../../contextkey/common/contextkeys.js';\nimport { IContextViewService } from '../../contextview/browser/contextView.js';\nimport { createDecorator, IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { defaultFindWidgetStyles, defaultListStyles, getListStyles } from '../../theme/browser/defaultStyles.js';\nexport const IListService = createDecorator('listService');\nexport class ListService {\n    get lastFocusedList() {\n        return this._lastFocusedWidget;\n    }\n    constructor() {\n        this.disposables = new DisposableStore();\n        this.lists = [];\n        this._lastFocusedWidget = undefined;\n        this._hasCreatedStyleController = false;\n    }\n    setLastFocusedList(widget) {\n        var _a, _b;\n        if (widget === this._lastFocusedWidget) {\n            return;\n        }\n        (_a = this._lastFocusedWidget) === null || _a === void 0 ? void 0 : _a.getHTMLElement().classList.remove('last-focused');\n        this._lastFocusedWidget = widget;\n        (_b = this._lastFocusedWidget) === null || _b === void 0 ? void 0 : _b.getHTMLElement().classList.add('last-focused');\n    }\n    register(widget, extraContextKeys) {\n        if (!this._hasCreatedStyleController) {\n            this._hasCreatedStyleController = true;\n            // create a shared default tree style sheet for performance reasons\n            const styleController = new DefaultStyleController(createStyleSheet(), '');\n            styleController.style(defaultListStyles);\n        }\n        if (this.lists.some(l => l.widget === widget)) {\n            throw new Error('Cannot register the same widget multiple times');\n        }\n        // Keep in our lists list\n        const registeredList = { widget, extraContextKeys };\n        this.lists.push(registeredList);\n        // Check for currently being focused\n        if (isActiveElement(widget.getHTMLElement())) {\n            this.setLastFocusedList(widget);\n        }\n        return combinedDisposable(widget.onDidFocus(() => this.setLastFocusedList(widget)), toDisposable(() => this.lists.splice(this.lists.indexOf(registeredList), 1)), widget.onDidDispose(() => {\n            this.lists = this.lists.filter(l => l !== registeredList);\n            if (this._lastFocusedWidget === widget) {\n                this.setLastFocusedList(undefined);\n            }\n        }));\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport const RawWorkbenchListScrollAtBoundaryContextKey = new RawContextKey('listScrollAtBoundary', 'none');\nexport const WorkbenchListScrollAtTopContextKey = ContextKeyExpr.or(RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('top'), RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('both'));\nexport const WorkbenchListScrollAtBottomContextKey = ContextKeyExpr.or(RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('bottom'), RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo('both'));\nexport const RawWorkbenchListFocusContextKey = new RawContextKey('listFocus', true);\nexport const WorkbenchTreeStickyScrollFocused = new RawContextKey('treestickyScrollFocused', false);\nexport const WorkbenchListSupportsMultiSelectContextKey = new RawContextKey('listSupportsMultiselect', true);\nexport const WorkbenchListFocusContextKey = ContextKeyExpr.and(RawWorkbenchListFocusContextKey, ContextKeyExpr.not(InputFocusedContextKey), WorkbenchTreeStickyScrollFocused.negate());\nexport const WorkbenchListHasSelectionOrFocus = new RawContextKey('listHasSelectionOrFocus', false);\nexport const WorkbenchListDoubleSelection = new RawContextKey('listDoubleSelection', false);\nexport const WorkbenchListMultiSelection = new RawContextKey('listMultiSelection', false);\nexport const WorkbenchListSelectionNavigation = new RawContextKey('listSelectionNavigation', false);\nexport const WorkbenchListSupportsFind = new RawContextKey('listSupportsFind', true);\nexport const WorkbenchTreeElementCanCollapse = new RawContextKey('treeElementCanCollapse', false);\nexport const WorkbenchTreeElementHasParent = new RawContextKey('treeElementHasParent', false);\nexport const WorkbenchTreeElementCanExpand = new RawContextKey('treeElementCanExpand', false);\nexport const WorkbenchTreeElementHasChild = new RawContextKey('treeElementHasChild', false);\nexport const WorkbenchTreeFindOpen = new RawContextKey('treeFindOpen', false);\nconst WorkbenchListTypeNavigationModeKey = 'listTypeNavigationMode';\n/**\n * @deprecated in favor of WorkbenchListTypeNavigationModeKey\n */\nconst WorkbenchListAutomaticKeyboardNavigationLegacyKey = 'listAutomaticKeyboardNavigation';\nfunction createScopedContextKeyService(contextKeyService, widget) {\n    const result = contextKeyService.createScoped(widget.getHTMLElement());\n    RawWorkbenchListFocusContextKey.bindTo(result);\n    return result;\n}\nfunction createScrollObserver(contextKeyService, widget) {\n    const listScrollAt = RawWorkbenchListScrollAtBoundaryContextKey.bindTo(contextKeyService);\n    const update = () => {\n        const atTop = widget.scrollTop === 0;\n        // We need a threshold `1` since scrollHeight is rounded.\n        // https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#determine_if_an_element_has_been_totally_scrolled\n        const atBottom = widget.scrollHeight - widget.renderHeight - widget.scrollTop < 1;\n        if (atTop && atBottom) {\n            listScrollAt.set('both');\n        }\n        else if (atTop) {\n            listScrollAt.set('top');\n        }\n        else if (atBottom) {\n            listScrollAt.set('bottom');\n        }\n        else {\n            listScrollAt.set('none');\n        }\n    };\n    update();\n    return widget.onDidScroll(update);\n}\nconst multiSelectModifierSettingKey = 'workbench.list.multiSelectModifier';\nconst openModeSettingKey = 'workbench.list.openMode';\nconst horizontalScrollingKey = 'workbench.list.horizontalScrolling';\nconst defaultFindModeSettingKey = 'workbench.list.defaultFindMode';\nconst typeNavigationModeSettingKey = 'workbench.list.typeNavigationMode';\n/** @deprecated in favor of `workbench.list.defaultFindMode` and `workbench.list.typeNavigationMode` */\nconst keyboardNavigationSettingKey = 'workbench.list.keyboardNavigation';\nconst scrollByPageKey = 'workbench.list.scrollByPage';\nconst defaultFindMatchTypeSettingKey = 'workbench.list.defaultFindMatchType';\nconst treeIndentKey = 'workbench.tree.indent';\nconst treeRenderIndentGuidesKey = 'workbench.tree.renderIndentGuides';\nconst listSmoothScrolling = 'workbench.list.smoothScrolling';\nconst mouseWheelScrollSensitivityKey = 'workbench.list.mouseWheelScrollSensitivity';\nconst fastScrollSensitivityKey = 'workbench.list.fastScrollSensitivity';\nconst treeExpandMode = 'workbench.tree.expandMode';\nconst treeStickyScroll = 'workbench.tree.enableStickyScroll';\nconst treeStickyScrollMaxElements = 'workbench.tree.stickyScrollMaxItemCount';\nfunction useAltAsMultipleSelectionModifier(configurationService) {\n    return configurationService.getValue(multiSelectModifierSettingKey) === 'alt';\n}\nclass MultipleSelectionController extends Disposable {\n    constructor(configurationService) {\n        super();\n        this.configurationService = configurationService;\n        this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.registerListeners();\n    }\n    registerListeners() {\n        this._register(this.configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(this.configurationService);\n            }\n        }));\n    }\n    isSelectionSingleChangeEvent(event) {\n        if (this.useAltAsMultipleSelectionModifier) {\n            return event.browserEvent.altKey;\n        }\n        return isSelectionSingleChangeEvent(event);\n    }\n    isSelectionRangeChangeEvent(event) {\n        return isSelectionRangeChangeEvent(event);\n    }\n}\nfunction toWorkbenchListOptions(accessor, options) {\n    var _a;\n    const configurationService = accessor.get(IConfigurationService);\n    const keybindingService = accessor.get(IKeybindingService);\n    const disposables = new DisposableStore();\n    const result = {\n        ...options,\n        keyboardNavigationDelegate: { mightProducePrintableCharacter(e) { return keybindingService.mightProducePrintableCharacter(e); } },\n        smoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)),\n        mouseWheelScrollSensitivity: configurationService.getValue(mouseWheelScrollSensitivityKey),\n        fastScrollSensitivity: configurationService.getValue(fastScrollSensitivityKey),\n        multipleSelectionController: (_a = options.multipleSelectionController) !== null && _a !== void 0 ? _a : disposables.add(new MultipleSelectionController(configurationService)),\n        keyboardNavigationEventFilter: createKeyboardNavigationEventFilter(keybindingService),\n        scrollByPage: Boolean(configurationService.getValue(scrollByPageKey))\n    };\n    return [result, disposables];\n}\nlet WorkbenchList = class WorkbenchList extends List {\n    constructor(user, container, delegate, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, renderers, {\n            keyboardSupport: false,\n            ...workbenchListOptions,\n            horizontalScrolling,\n        });\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.disposables.add(createScrollObserver(this.contextKeyService, this));\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(this.onDidChangeSelection(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.listMultiSelection.set(selection.length > 1);\n                this.listDoubleSelection.set(selection.length === 2);\n            });\n        }));\n        this.disposables.add(this.onDidChangeFocus(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n        }));\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = { ...options, horizontalScrolling };\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = { ...options, scrollByPage };\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = { ...options, smoothScrolling };\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = { ...options, mouseWheelScrollSensitivity };\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = { ...options, fastScrollSensitivity };\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new ListResourceNavigator(this, { configurationService, ...options });\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n};\nWorkbenchList = __decorate([\n    __param(5, IContextKeyService),\n    __param(6, IListService),\n    __param(7, IConfigurationService),\n    __param(8, IInstantiationService)\n], WorkbenchList);\nexport { WorkbenchList };\nlet WorkbenchPagedList = class WorkbenchPagedList extends PagedList {\n    constructor(user, container, delegate, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, renderers, {\n            keyboardSupport: false,\n            ...workbenchListOptions,\n            horizontalScrolling,\n        });\n        this.disposables = new DisposableStore();\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.disposables.add(createScrollObserver(this.contextKeyService, this.widget));\n        this.horizontalScrolling = options.horizontalScrolling;\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = { ...options, horizontalScrolling };\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = { ...options, scrollByPage };\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = { ...options, smoothScrolling };\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = { ...options, mouseWheelScrollSensitivity };\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = { ...options, fastScrollSensitivity };\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new ListResourceNavigator(this, { configurationService, ...options });\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables.dispose();\n        super.dispose();\n    }\n};\nWorkbenchPagedList = __decorate([\n    __param(5, IContextKeyService),\n    __param(6, IListService),\n    __param(7, IConfigurationService),\n    __param(8, IInstantiationService)\n], WorkbenchPagedList);\nexport { WorkbenchPagedList };\nlet WorkbenchTable = class WorkbenchTable extends Table {\n    constructor(user, container, delegate, columns, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, columns, renderers, {\n            keyboardSupport: false,\n            ...workbenchListOptions,\n            horizontalScrolling,\n        });\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.disposables.add(createScrollObserver(this.contextKeyService, this));\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(this.onDidChangeSelection(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.listMultiSelection.set(selection.length > 1);\n                this.listDoubleSelection.set(selection.length === 2);\n            });\n        }));\n        this.disposables.add(this.onDidChangeFocus(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n        }));\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = { ...options, horizontalScrolling };\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = { ...options, scrollByPage };\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = { ...options, smoothScrolling };\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = { ...options, mouseWheelScrollSensitivity };\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = { ...options, fastScrollSensitivity };\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new TableResourceNavigator(this, { configurationService, ...options });\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables.dispose();\n        super.dispose();\n    }\n};\nWorkbenchTable = __decorate([\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService),\n    __param(9, IInstantiationService)\n], WorkbenchTable);\nexport { WorkbenchTable };\nclass ResourceNavigator extends Disposable {\n    constructor(widget, options) {\n        var _a;\n        super();\n        this.widget = widget;\n        this._onDidOpen = this._register(new Emitter());\n        this.onDidOpen = this._onDidOpen.event;\n        this._register(Event.filter(this.widget.onDidChangeSelection, e => isKeyboardEvent(e.browserEvent))(e => this.onSelectionFromKeyboard(e)));\n        this._register(this.widget.onPointer((e) => this.onPointer(e.element, e.browserEvent)));\n        this._register(this.widget.onMouseDblClick((e) => this.onMouseDblClick(e.element, e.browserEvent)));\n        if (typeof (options === null || options === void 0 ? void 0 : options.openOnSingleClick) !== 'boolean' && (options === null || options === void 0 ? void 0 : options.configurationService)) {\n            this.openOnSingleClick = (options === null || options === void 0 ? void 0 : options.configurationService.getValue(openModeSettingKey)) !== 'doubleClick';\n            this._register(options === null || options === void 0 ? void 0 : options.configurationService.onDidChangeConfiguration(e => {\n                if (e.affectsConfiguration(openModeSettingKey)) {\n                    this.openOnSingleClick = (options === null || options === void 0 ? void 0 : options.configurationService.getValue(openModeSettingKey)) !== 'doubleClick';\n                }\n            }));\n        }\n        else {\n            this.openOnSingleClick = (_a = options === null || options === void 0 ? void 0 : options.openOnSingleClick) !== null && _a !== void 0 ? _a : true;\n        }\n    }\n    onSelectionFromKeyboard(event) {\n        if (event.elements.length !== 1) {\n            return;\n        }\n        const selectionKeyboardEvent = event.browserEvent;\n        const preserveFocus = typeof selectionKeyboardEvent.preserveFocus === 'boolean' ? selectionKeyboardEvent.preserveFocus : true;\n        const pinned = typeof selectionKeyboardEvent.pinned === 'boolean' ? selectionKeyboardEvent.pinned : !preserveFocus;\n        const sideBySide = false;\n        this._open(this.getSelectedElement(), preserveFocus, pinned, sideBySide, event.browserEvent);\n    }\n    onPointer(element, browserEvent) {\n        if (!this.openOnSingleClick) {\n            return;\n        }\n        const isDoubleClick = browserEvent.detail === 2;\n        if (isDoubleClick) {\n            return;\n        }\n        const isMiddleClick = browserEvent.button === 1;\n        const preserveFocus = true;\n        const pinned = isMiddleClick;\n        const sideBySide = browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey;\n        this._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n    }\n    onMouseDblClick(element, browserEvent) {\n        if (!browserEvent) {\n            return;\n        }\n        // copied from AbstractTree\n        const target = browserEvent.target;\n        const onTwistie = target.classList.contains('monaco-tl-twistie')\n            || (target.classList.contains('monaco-icon-label') && target.classList.contains('folder-icon') && browserEvent.offsetX < 16);\n        if (onTwistie) {\n            return;\n        }\n        const preserveFocus = false;\n        const pinned = true;\n        const sideBySide = (browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey);\n        this._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n    }\n    _open(element, preserveFocus, pinned, sideBySide, browserEvent) {\n        if (!element) {\n            return;\n        }\n        this._onDidOpen.fire({\n            editorOptions: {\n                preserveFocus,\n                pinned,\n                revealIfVisible: true\n            },\n            sideBySide,\n            element,\n            browserEvent\n        });\n    }\n}\nclass ListResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n        this.widget = widget;\n    }\n    getSelectedElement() {\n        return this.widget.getSelectedElements()[0];\n    }\n}\nclass TableResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n    }\n    getSelectedElement() {\n        return this.widget.getSelectedElements()[0];\n    }\n}\nclass TreeResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n    }\n    getSelectedElement() {\n        var _a;\n        return (_a = this.widget.getSelection()[0]) !== null && _a !== void 0 ? _a : undefined;\n    }\n}\nfunction createKeyboardNavigationEventFilter(keybindingService) {\n    let inMultiChord = false;\n    return event => {\n        if (event.toKeyCodeChord().isModifierKey()) {\n            return false;\n        }\n        if (inMultiChord) {\n            inMultiChord = false;\n            return false;\n        }\n        const result = keybindingService.softDispatch(event, event.target);\n        if (result.kind === 1 /* ResultKind.MoreChordsNeeded */) {\n            inMultiChord = true;\n            return false;\n        }\n        inMultiChord = false;\n        return result.kind === 0 /* ResultKind.NoMatchingKb */;\n    };\n}\nlet WorkbenchObjectTree = class WorkbenchObjectTree extends ObjectTree {\n    constructor(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchObjectTree = __decorate([\n    __param(5, IInstantiationService),\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService)\n], WorkbenchObjectTree);\nexport { WorkbenchObjectTree };\nlet WorkbenchCompressibleObjectTree = class WorkbenchCompressibleObjectTree extends CompressibleObjectTree {\n    constructor(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchCompressibleObjectTree = __decorate([\n    __param(5, IInstantiationService),\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService)\n], WorkbenchCompressibleObjectTree);\nexport { WorkbenchCompressibleObjectTree };\nlet WorkbenchDataTree = class WorkbenchDataTree extends DataTree {\n    constructor(user, container, delegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchDataTree = __decorate([\n    __param(6, IInstantiationService),\n    __param(7, IContextKeyService),\n    __param(8, IListService),\n    __param(9, IConfigurationService)\n], WorkbenchDataTree);\nexport { WorkbenchDataTree };\nlet WorkbenchAsyncDataTree = class WorkbenchAsyncDataTree extends AsyncDataTree {\n    get onDidOpen() { return this.internals.onDidOpen; }\n    constructor(user, container, delegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchAsyncDataTree = __decorate([\n    __param(6, IInstantiationService),\n    __param(7, IContextKeyService),\n    __param(8, IListService),\n    __param(9, IConfigurationService)\n], WorkbenchAsyncDataTree);\nexport { WorkbenchAsyncDataTree };\nlet WorkbenchCompressibleAsyncDataTree = class WorkbenchCompressibleAsyncDataTree extends CompressibleAsyncDataTree {\n    constructor(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchCompressibleAsyncDataTree = __decorate([\n    __param(7, IInstantiationService),\n    __param(8, IContextKeyService),\n    __param(9, IListService),\n    __param(10, IConfigurationService)\n], WorkbenchCompressibleAsyncDataTree);\nexport { WorkbenchCompressibleAsyncDataTree };\nfunction getDefaultTreeFindMode(configurationService) {\n    const value = configurationService.getValue(defaultFindModeSettingKey);\n    if (value === 'highlight') {\n        return TreeFindMode.Highlight;\n    }\n    else if (value === 'filter') {\n        return TreeFindMode.Filter;\n    }\n    const deprecatedValue = configurationService.getValue(keyboardNavigationSettingKey);\n    if (deprecatedValue === 'simple' || deprecatedValue === 'highlight') {\n        return TreeFindMode.Highlight;\n    }\n    else if (deprecatedValue === 'filter') {\n        return TreeFindMode.Filter;\n    }\n    return undefined;\n}\nfunction getDefaultTreeFindMatchType(configurationService) {\n    const value = configurationService.getValue(defaultFindMatchTypeSettingKey);\n    if (value === 'fuzzy') {\n        return TreeFindMatchType.Fuzzy;\n    }\n    else if (value === 'contiguous') {\n        return TreeFindMatchType.Contiguous;\n    }\n    return undefined;\n}\nfunction workbenchTreeDataPreamble(accessor, options) {\n    var _a;\n    const configurationService = accessor.get(IConfigurationService);\n    const contextViewService = accessor.get(IContextViewService);\n    const contextKeyService = accessor.get(IContextKeyService);\n    const instantiationService = accessor.get(IInstantiationService);\n    const getTypeNavigationMode = () => {\n        // give priority to the context key value to specify a value\n        const modeString = contextKeyService.getContextKeyValue(WorkbenchListTypeNavigationModeKey);\n        if (modeString === 'automatic') {\n            return TypeNavigationMode.Automatic;\n        }\n        else if (modeString === 'trigger') {\n            return TypeNavigationMode.Trigger;\n        }\n        // also check the deprecated context key to set the mode to 'trigger'\n        const modeBoolean = contextKeyService.getContextKeyValue(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n        if (modeBoolean === false) {\n            return TypeNavigationMode.Trigger;\n        }\n        // finally, check the setting\n        const configString = configurationService.getValue(typeNavigationModeSettingKey);\n        if (configString === 'automatic') {\n            return TypeNavigationMode.Automatic;\n        }\n        else if (configString === 'trigger') {\n            return TypeNavigationMode.Trigger;\n        }\n        return undefined;\n    };\n    const horizontalScrolling = options.horizontalScrolling !== undefined ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n    const [workbenchListOptions, disposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n    const paddingBottom = options.paddingBottom;\n    const renderIndentGuides = options.renderIndentGuides !== undefined ? options.renderIndentGuides : configurationService.getValue(treeRenderIndentGuidesKey);\n    return {\n        getTypeNavigationMode,\n        disposable,\n        options: {\n            // ...options, // TODO@Joao why is this not splatted here?\n            keyboardSupport: false,\n            ...workbenchListOptions,\n            indent: typeof configurationService.getValue(treeIndentKey) === 'number' ? configurationService.getValue(treeIndentKey) : undefined,\n            renderIndentGuides,\n            smoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)),\n            defaultFindMode: getDefaultTreeFindMode(configurationService),\n            defaultFindMatchType: getDefaultTreeFindMatchType(configurationService),\n            horizontalScrolling,\n            scrollByPage: Boolean(configurationService.getValue(scrollByPageKey)),\n            paddingBottom: paddingBottom,\n            hideTwistiesOfChildlessElements: options.hideTwistiesOfChildlessElements,\n            expandOnlyOnTwistieClick: (_a = options.expandOnlyOnTwistieClick) !== null && _a !== void 0 ? _a : (configurationService.getValue(treeExpandMode) === 'doubleClick'),\n            contextViewProvider: contextViewService,\n            findWidgetStyles: defaultFindWidgetStyles,\n            enableStickyScroll: Boolean(configurationService.getValue(treeStickyScroll)),\n            stickyScrollMaxItemCount: Number(configurationService.getValue(treeStickyScrollMaxElements)),\n        }\n    };\n}\nlet WorkbenchTreeInternals = class WorkbenchTreeInternals {\n    get onDidOpen() { return this.navigator.onDidOpen; }\n    constructor(tree, options, getTypeNavigationMode, overrideStyles, contextKeyService, listService, configurationService) {\n        var _a;\n        this.tree = tree;\n        this.disposables = [];\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, tree);\n        this.disposables.push(createScrollObserver(this.contextKeyService, tree));\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listSupportFindWidget = WorkbenchListSupportsFind.bindTo(this.contextKeyService);\n        this.listSupportFindWidget.set((_a = options.findWidgetEnabled) !== null && _a !== void 0 ? _a : true);\n        this.hasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.hasDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.hasMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.treeElementCanCollapse = WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService);\n        this.treeElementHasParent = WorkbenchTreeElementHasParent.bindTo(this.contextKeyService);\n        this.treeElementCanExpand = WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService);\n        this.treeElementHasChild = WorkbenchTreeElementHasChild.bindTo(this.contextKeyService);\n        this.treeFindOpen = WorkbenchTreeFindOpen.bindTo(this.contextKeyService);\n        this.treeStickyScrollFocused = WorkbenchTreeStickyScrollFocused.bindTo(this.contextKeyService);\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.updateStyleOverrides(overrideStyles);\n        const updateCollapseContextKeys = () => {\n            const focus = tree.getFocus()[0];\n            if (!focus) {\n                return;\n            }\n            const node = tree.getNode(focus);\n            this.treeElementCanCollapse.set(node.collapsible && !node.collapsed);\n            this.treeElementHasParent.set(!!tree.getParentElement(focus));\n            this.treeElementCanExpand.set(node.collapsible && node.collapsed);\n            this.treeElementHasChild.set(!!tree.getFirstElementChild(focus));\n        };\n        const interestingContextKeys = new Set();\n        interestingContextKeys.add(WorkbenchListTypeNavigationModeKey);\n        interestingContextKeys.add(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n        this.disposables.push(this.contextKeyService, listService.register(tree), tree.onDidChangeSelection(() => {\n            const selection = tree.getSelection();\n            const focus = tree.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.hasMultiSelection.set(selection.length > 1);\n                this.hasDoubleSelection.set(selection.length === 2);\n            });\n        }), tree.onDidChangeFocus(() => {\n            const selection = tree.getSelection();\n            const focus = tree.getFocus();\n            this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n            updateCollapseContextKeys();\n        }), tree.onDidChangeCollapseState(updateCollapseContextKeys), tree.onDidChangeModel(updateCollapseContextKeys), tree.onDidChangeFindOpenState(enabled => this.treeFindOpen.set(enabled)), tree.onDidChangeStickyScrollFocused(focused => this.treeStickyScrollFocused.set(focused)), configurationService.onDidChangeConfiguration(e => {\n            let newOptions = {};\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            if (e.affectsConfiguration(treeIndentKey)) {\n                const indent = configurationService.getValue(treeIndentKey);\n                newOptions = { ...newOptions, indent };\n            }\n            if (e.affectsConfiguration(treeRenderIndentGuidesKey) && options.renderIndentGuides === undefined) {\n                const renderIndentGuides = configurationService.getValue(treeRenderIndentGuidesKey);\n                newOptions = { ...newOptions, renderIndentGuides };\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                newOptions = { ...newOptions, smoothScrolling };\n            }\n            if (e.affectsConfiguration(defaultFindModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n                const defaultFindMode = getDefaultTreeFindMode(configurationService);\n                newOptions = { ...newOptions, defaultFindMode };\n            }\n            if (e.affectsConfiguration(typeNavigationModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n                const typeNavigationMode = getTypeNavigationMode();\n                newOptions = { ...newOptions, typeNavigationMode };\n            }\n            if (e.affectsConfiguration(defaultFindMatchTypeSettingKey)) {\n                const defaultFindMatchType = getDefaultTreeFindMatchType(configurationService);\n                newOptions = { ...newOptions, defaultFindMatchType };\n            }\n            if (e.affectsConfiguration(horizontalScrollingKey) && options.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                newOptions = { ...newOptions, horizontalScrolling };\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                newOptions = { ...newOptions, scrollByPage };\n            }\n            if (e.affectsConfiguration(treeExpandMode) && options.expandOnlyOnTwistieClick === undefined) {\n                newOptions = { ...newOptions, expandOnlyOnTwistieClick: configurationService.getValue(treeExpandMode) === 'doubleClick' };\n            }\n            if (e.affectsConfiguration(treeStickyScroll)) {\n                const enableStickyScroll = configurationService.getValue(treeStickyScroll);\n                newOptions = { ...newOptions, enableStickyScroll };\n            }\n            if (e.affectsConfiguration(treeStickyScrollMaxElements)) {\n                const stickyScrollMaxItemCount = Math.max(1, configurationService.getValue(treeStickyScrollMaxElements));\n                newOptions = { ...newOptions, stickyScrollMaxItemCount };\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                newOptions = { ...newOptions, mouseWheelScrollSensitivity };\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                newOptions = { ...newOptions, fastScrollSensitivity };\n            }\n            if (Object.keys(newOptions).length > 0) {\n                tree.updateOptions(newOptions);\n            }\n        }), this.contextKeyService.onDidChangeContext(e => {\n            if (e.affectsSome(interestingContextKeys)) {\n                tree.updateOptions({ typeNavigationMode: getTypeNavigationMode() });\n            }\n        }));\n        this.navigator = new TreeResourceNavigator(tree, { configurationService, ...options });\n        this.disposables.push(this.navigator);\n    }\n    updateOptions(options) {\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyleOverrides(overrideStyles) {\n        this.tree.style(overrideStyles ? getListStyles(overrideStyles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables = dispose(this.disposables);\n    }\n};\nWorkbenchTreeInternals = __decorate([\n    __param(4, IContextKeyService),\n    __param(5, IListService),\n    __param(6, IConfigurationService)\n], WorkbenchTreeInternals);\nconst configurationRegistry = Registry.as(ConfigurationExtensions.Configuration);\nconfigurationRegistry.registerConfiguration({\n    id: 'workbench',\n    order: 7,\n    title: localize('workbenchConfigurationTitle', \"Workbench\"),\n    type: 'object',\n    properties: {\n        [multiSelectModifierSettingKey]: {\n            type: 'string',\n            enum: ['ctrlCmd', 'alt'],\n            markdownEnumDescriptions: [\n                localize('multiSelectModifier.ctrlCmd', \"Maps to `Control` on Windows and Linux and to `Command` on macOS.\"),\n                localize('multiSelectModifier.alt', \"Maps to `Alt` on Windows and Linux and to `Option` on macOS.\")\n            ],\n            default: 'ctrlCmd',\n            description: localize({\n                key: 'multiSelectModifier',\n                comment: [\n                    '- `ctrlCmd` refers to a value the setting can take and should not be localized.',\n                    '- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized.'\n                ]\n            }, \"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.\")\n        },\n        [openModeSettingKey]: {\n            type: 'string',\n            enum: ['singleClick', 'doubleClick'],\n            default: 'singleClick',\n            description: localize({\n                key: 'openModeModifier',\n                comment: ['`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized.']\n            }, \"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.\")\n        },\n        [horizontalScrollingKey]: {\n            type: 'boolean',\n            default: false,\n            description: localize('horizontalScrolling setting', \"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.\")\n        },\n        [scrollByPageKey]: {\n            type: 'boolean',\n            default: false,\n            description: localize('list.scrollByPage', \"Controls whether clicks in the scrollbar scroll page by page.\")\n        },\n        [treeIndentKey]: {\n            type: 'number',\n            default: 8,\n            minimum: 4,\n            maximum: 40,\n            description: localize('tree indent setting', \"Controls tree indentation in pixels.\")\n        },\n        [treeRenderIndentGuidesKey]: {\n            type: 'string',\n            enum: ['none', 'onHover', 'always'],\n            default: 'onHover',\n            description: localize('render tree indent guides', \"Controls whether the tree should render indent guides.\")\n        },\n        [listSmoothScrolling]: {\n            type: 'boolean',\n            default: false,\n            description: localize('list smoothScrolling setting', \"Controls whether lists and trees have smooth scrolling.\"),\n        },\n        [mouseWheelScrollSensitivityKey]: {\n            type: 'number',\n            default: 1,\n            markdownDescription: localize('Mouse Wheel Scroll Sensitivity', \"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.\")\n        },\n        [fastScrollSensitivityKey]: {\n            type: 'number',\n            default: 5,\n            markdownDescription: localize('Fast Scroll Sensitivity', \"Scrolling speed multiplier when pressing `Alt`.\")\n        },\n        [defaultFindModeSettingKey]: {\n            type: 'string',\n            enum: ['highlight', 'filter'],\n            enumDescriptions: [\n                localize('defaultFindModeSettingKey.highlight', \"Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements.\"),\n                localize('defaultFindModeSettingKey.filter', \"Filter elements when searching.\")\n            ],\n            default: 'highlight',\n            description: localize('defaultFindModeSettingKey', \"Controls the default find mode for lists and trees in the workbench.\")\n        },\n        [keyboardNavigationSettingKey]: {\n            type: 'string',\n            enum: ['simple', 'highlight', 'filter'],\n            enumDescriptions: [\n                localize('keyboardNavigationSettingKey.simple', \"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes.\"),\n                localize('keyboardNavigationSettingKey.highlight', \"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements.\"),\n                localize('keyboardNavigationSettingKey.filter', \"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.\")\n            ],\n            default: 'highlight',\n            description: localize('keyboardNavigationSettingKey', \"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.\"),\n            deprecated: true,\n            deprecationMessage: localize('keyboardNavigationSettingKeyDeprecated', \"Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.\")\n        },\n        [defaultFindMatchTypeSettingKey]: {\n            type: 'string',\n            enum: ['fuzzy', 'contiguous'],\n            enumDescriptions: [\n                localize('defaultFindMatchTypeSettingKey.fuzzy', \"Use fuzzy matching when searching.\"),\n                localize('defaultFindMatchTypeSettingKey.contiguous', \"Use contiguous matching when searching.\")\n            ],\n            default: 'fuzzy',\n            description: localize('defaultFindMatchTypeSettingKey', \"Controls the type of matching used when searching lists and trees in the workbench.\")\n        },\n        [treeExpandMode]: {\n            type: 'string',\n            enum: ['singleClick', 'doubleClick'],\n            default: 'singleClick',\n            description: localize('expand mode', \"Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.\"),\n        },\n        [treeStickyScroll]: {\n            type: 'boolean',\n            default: true,\n            description: localize('sticky scroll', \"Controls whether sticky scrolling is enabled in trees.\"),\n        },\n        [treeStickyScrollMaxElements]: {\n            type: 'number',\n            minimum: 1,\n            default: 7,\n            markdownDescription: localize('sticky scroll maximum items', \"Controls the number of sticky elements displayed in the tree when `#workbench.tree.enableStickyScroll#` is enabled.\"),\n        },\n        [typeNavigationModeSettingKey]: {\n            type: 'string',\n            enum: ['automatic', 'trigger'],\n            default: 'automatic',\n            markdownDescription: localize('typeNavigationMode2', \"Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.\"),\n        }\n    }\n});\n","import { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILogService = createDecorator('logService');\nexport var LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Off\"] = 0] = \"Off\";\n    LogLevel[LogLevel[\"Trace\"] = 1] = \"Trace\";\n    LogLevel[LogLevel[\"Debug\"] = 2] = \"Debug\";\n    LogLevel[LogLevel[\"Info\"] = 3] = \"Info\";\n    LogLevel[LogLevel[\"Warning\"] = 4] = \"Warning\";\n    LogLevel[LogLevel[\"Error\"] = 5] = \"Error\";\n})(LogLevel || (LogLevel = {}));\nexport const DEFAULT_LOG_LEVEL = LogLevel.Info;\nexport class AbstractLogger extends Disposable {\n    constructor() {\n        super(...arguments);\n        this.level = DEFAULT_LOG_LEVEL;\n        this._onDidChangeLogLevel = this._register(new Emitter());\n        this.onDidChangeLogLevel = this._onDidChangeLogLevel.event;\n    }\n    setLevel(level) {\n        if (this.level !== level) {\n            this.level = level;\n            this._onDidChangeLogLevel.fire(this.level);\n        }\n    }\n    getLevel() {\n        return this.level;\n    }\n    checkLogLevel(level) {\n        return this.level !== LogLevel.Off && this.level <= level;\n    }\n}\nexport class ConsoleLogger extends AbstractLogger {\n    constructor(logLevel = DEFAULT_LOG_LEVEL, useColors = true) {\n        super();\n        this.useColors = useColors;\n        this.setLevel(logLevel);\n    }\n    trace(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Trace)) {\n            if (this.useColors) {\n                console.log('%cTRACE', 'color: #888', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    debug(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Debug)) {\n            if (this.useColors) {\n                console.log('%cDEBUG', 'background: #eee; color: #888', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    info(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Info)) {\n            if (this.useColors) {\n                console.log('%c INFO', 'color: #33f', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    warn(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Warning)) {\n            if (this.useColors) {\n                console.log('%c WARN', 'color: #993', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    error(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Error)) {\n            if (this.useColors) {\n                console.log('%c  ERR', 'color: #f33', message, ...args);\n            }\n            else {\n                console.error(message, ...args);\n            }\n        }\n    }\n}\nexport class MultiplexLogger extends AbstractLogger {\n    constructor(loggers) {\n        super();\n        this.loggers = loggers;\n        if (loggers.length) {\n            this.setLevel(loggers[0].getLevel());\n        }\n    }\n    setLevel(level) {\n        for (const logger of this.loggers) {\n            logger.setLevel(level);\n        }\n        super.setLevel(level);\n    }\n    trace(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.trace(message, ...args);\n        }\n    }\n    debug(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.debug(message, ...args);\n        }\n    }\n    info(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.info(message, ...args);\n        }\n    }\n    warn(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.warn(message, ...args);\n        }\n    }\n    error(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.error(message, ...args);\n        }\n    }\n    dispose() {\n        for (const logger of this.loggers) {\n            logger.dispose();\n        }\n        super.dispose();\n    }\n}\nexport function LogLevelToString(logLevel) {\n    switch (logLevel) {\n        case LogLevel.Trace: return 'trace';\n        case LogLevel.Debug: return 'debug';\n        case LogLevel.Info: return 'info';\n        case LogLevel.Warning: return 'warn';\n        case LogLevel.Error: return 'error';\n        case LogLevel.Off: return 'off';\n    }\n}\n// Contexts\nexport const CONTEXT_LOG_LEVEL = new RawContextKey('logLevel', LogLevelToString(LogLevel.Info));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { MultiplexLogger } from './log.js';\nexport class LogService extends Disposable {\n    constructor(primaryLogger, otherLoggers = []) {\n        super();\n        this.logger = new MultiplexLogger([primaryLogger, ...otherLoggers]);\n        this._register(primaryLogger.onDidChangeLogLevel(level => this.setLevel(level)));\n    }\n    get onDidChangeLogLevel() {\n        return this.logger.onDidChangeLogLevel;\n    }\n    setLevel(level) {\n        this.logger.setLevel(level);\n    }\n    getLevel() {\n        return this.logger.getLevel();\n    }\n    trace(message, ...args) {\n        this.logger.trace(message, ...args);\n    }\n    debug(message, ...args) {\n        this.logger.debug(message, ...args);\n    }\n    info(message, ...args) {\n        this.logger.info(message, ...args);\n    }\n    warn(message, ...args) {\n        this.logger.warn(message, ...args);\n    }\n    error(message, ...args) {\n        this.logger.error(message, ...args);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFalsyOrEmpty, isNonEmptyArray } from '../../../base/common/arrays.js';\nimport { DebounceEmitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { MarkerSeverity } from './markers.js';\nexport const unsupportedSchemas = new Set([\n    Schemas.inMemory,\n    Schemas.vscodeSourceControl,\n    Schemas.walkThrough,\n    Schemas.walkThroughSnippet,\n    Schemas.vscodeChatCodeBlock,\n]);\nclass DoubleResourceMap {\n    constructor() {\n        this._byResource = new ResourceMap();\n        this._byOwner = new Map();\n    }\n    set(resource, owner, value) {\n        let ownerMap = this._byResource.get(resource);\n        if (!ownerMap) {\n            ownerMap = new Map();\n            this._byResource.set(resource, ownerMap);\n        }\n        ownerMap.set(owner, value);\n        let resourceMap = this._byOwner.get(owner);\n        if (!resourceMap) {\n            resourceMap = new ResourceMap();\n            this._byOwner.set(owner, resourceMap);\n        }\n        resourceMap.set(resource, value);\n    }\n    get(resource, owner) {\n        const ownerMap = this._byResource.get(resource);\n        return ownerMap === null || ownerMap === void 0 ? void 0 : ownerMap.get(owner);\n    }\n    delete(resource, owner) {\n        let removedA = false;\n        let removedB = false;\n        const ownerMap = this._byResource.get(resource);\n        if (ownerMap) {\n            removedA = ownerMap.delete(owner);\n        }\n        const resourceMap = this._byOwner.get(owner);\n        if (resourceMap) {\n            removedB = resourceMap.delete(resource);\n        }\n        if (removedA !== removedB) {\n            throw new Error('illegal state');\n        }\n        return removedA && removedB;\n    }\n    values(key) {\n        var _a, _b, _c, _d;\n        if (typeof key === 'string') {\n            return (_b = (_a = this._byOwner.get(key)) === null || _a === void 0 ? void 0 : _a.values()) !== null && _b !== void 0 ? _b : Iterable.empty();\n        }\n        if (URI.isUri(key)) {\n            return (_d = (_c = this._byResource.get(key)) === null || _c === void 0 ? void 0 : _c.values()) !== null && _d !== void 0 ? _d : Iterable.empty();\n        }\n        return Iterable.map(Iterable.concat(...this._byOwner.values()), map => map[1]);\n    }\n}\nclass MarkerStats {\n    constructor(service) {\n        this.errors = 0;\n        this.infos = 0;\n        this.warnings = 0;\n        this.unknowns = 0;\n        this._data = new ResourceMap();\n        this._service = service;\n        this._subscription = service.onMarkerChanged(this._update, this);\n    }\n    dispose() {\n        this._subscription.dispose();\n    }\n    _update(resources) {\n        for (const resource of resources) {\n            const oldStats = this._data.get(resource);\n            if (oldStats) {\n                this._substract(oldStats);\n            }\n            const newStats = this._resourceStats(resource);\n            this._add(newStats);\n            this._data.set(resource, newStats);\n        }\n    }\n    _resourceStats(resource) {\n        const result = { errors: 0, warnings: 0, infos: 0, unknowns: 0 };\n        // TODO this is a hack\n        if (unsupportedSchemas.has(resource.scheme)) {\n            return result;\n        }\n        for (const { severity } of this._service.read({ resource })) {\n            if (severity === MarkerSeverity.Error) {\n                result.errors += 1;\n            }\n            else if (severity === MarkerSeverity.Warning) {\n                result.warnings += 1;\n            }\n            else if (severity === MarkerSeverity.Info) {\n                result.infos += 1;\n            }\n            else {\n                result.unknowns += 1;\n            }\n        }\n        return result;\n    }\n    _substract(op) {\n        this.errors -= op.errors;\n        this.warnings -= op.warnings;\n        this.infos -= op.infos;\n        this.unknowns -= op.unknowns;\n    }\n    _add(op) {\n        this.errors += op.errors;\n        this.warnings += op.warnings;\n        this.infos += op.infos;\n        this.unknowns += op.unknowns;\n    }\n}\nexport class MarkerService {\n    constructor() {\n        this._onMarkerChanged = new DebounceEmitter({\n            delay: 0,\n            merge: MarkerService._merge\n        });\n        this.onMarkerChanged = this._onMarkerChanged.event;\n        this._data = new DoubleResourceMap();\n        this._stats = new MarkerStats(this);\n    }\n    dispose() {\n        this._stats.dispose();\n        this._onMarkerChanged.dispose();\n    }\n    remove(owner, resources) {\n        for (const resource of resources || []) {\n            this.changeOne(owner, resource, []);\n        }\n    }\n    changeOne(owner, resource, markerData) {\n        if (isFalsyOrEmpty(markerData)) {\n            // remove marker for this (owner,resource)-tuple\n            const removed = this._data.delete(resource, owner);\n            if (removed) {\n                this._onMarkerChanged.fire([resource]);\n            }\n        }\n        else {\n            // insert marker for this (owner,resource)-tuple\n            const markers = [];\n            for (const data of markerData) {\n                const marker = MarkerService._toMarker(owner, resource, data);\n                if (marker) {\n                    markers.push(marker);\n                }\n            }\n            this._data.set(resource, owner, markers);\n            this._onMarkerChanged.fire([resource]);\n        }\n    }\n    static _toMarker(owner, resource, data) {\n        let { code, severity, message, source, startLineNumber, startColumn, endLineNumber, endColumn, relatedInformation, tags, } = data;\n        if (!message) {\n            return undefined;\n        }\n        // santize data\n        startLineNumber = startLineNumber > 0 ? startLineNumber : 1;\n        startColumn = startColumn > 0 ? startColumn : 1;\n        endLineNumber = endLineNumber >= startLineNumber ? endLineNumber : startLineNumber;\n        endColumn = endColumn > 0 ? endColumn : startColumn;\n        return {\n            resource,\n            owner,\n            code,\n            severity,\n            message,\n            source,\n            startLineNumber,\n            startColumn,\n            endLineNumber,\n            endColumn,\n            relatedInformation,\n            tags,\n        };\n    }\n    changeAll(owner, data) {\n        const changes = [];\n        // remove old marker\n        const existing = this._data.values(owner);\n        if (existing) {\n            for (const data of existing) {\n                const first = Iterable.first(data);\n                if (first) {\n                    changes.push(first.resource);\n                    this._data.delete(first.resource, owner);\n                }\n            }\n        }\n        // add new markers\n        if (isNonEmptyArray(data)) {\n            // group by resource\n            const groups = new ResourceMap();\n            for (const { resource, marker: markerData } of data) {\n                const marker = MarkerService._toMarker(owner, resource, markerData);\n                if (!marker) {\n                    // filter bad markers\n                    continue;\n                }\n                const array = groups.get(resource);\n                if (!array) {\n                    groups.set(resource, [marker]);\n                    changes.push(resource);\n                }\n                else {\n                    array.push(marker);\n                }\n            }\n            // insert all\n            for (const [resource, value] of groups) {\n                this._data.set(resource, owner, value);\n            }\n        }\n        if (changes.length > 0) {\n            this._onMarkerChanged.fire(changes);\n        }\n    }\n    read(filter = Object.create(null)) {\n        let { owner, resource, severities, take } = filter;\n        if (!take || take < 0) {\n            take = -1;\n        }\n        if (owner && resource) {\n            // exactly one owner AND resource\n            const data = this._data.get(resource, owner);\n            if (!data) {\n                return [];\n            }\n            else {\n                const result = [];\n                for (const marker of data) {\n                    if (MarkerService._accept(marker, severities)) {\n                        const newLen = result.push(marker);\n                        if (take > 0 && newLen === take) {\n                            break;\n                        }\n                    }\n                }\n                return result;\n            }\n        }\n        else if (!owner && !resource) {\n            // all\n            const result = [];\n            for (const markers of this._data.values()) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n        else {\n            // of one resource OR owner\n            const iterable = this._data.values(resource !== null && resource !== void 0 ? resource : owner);\n            const result = [];\n            for (const markers of iterable) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n    }\n    static _accept(marker, severities) {\n        return severities === undefined || (severities & marker.severity) === marker.severity;\n    }\n    // --- event debounce logic\n    static _merge(all) {\n        const set = new ResourceMap();\n        for (const array of all) {\n            for (const item of array) {\n                set.set(item, true);\n            }\n        }\n        return Array.from(set.keys());\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport Severity from '../../../base/common/severity.js';\nimport { localize } from '../../../nls.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var MarkerSeverity;\n(function (MarkerSeverity) {\n    MarkerSeverity[MarkerSeverity[\"Hint\"] = 1] = \"Hint\";\n    MarkerSeverity[MarkerSeverity[\"Info\"] = 2] = \"Info\";\n    MarkerSeverity[MarkerSeverity[\"Warning\"] = 4] = \"Warning\";\n    MarkerSeverity[MarkerSeverity[\"Error\"] = 8] = \"Error\";\n})(MarkerSeverity || (MarkerSeverity = {}));\n(function (MarkerSeverity) {\n    function compare(a, b) {\n        return b - a;\n    }\n    MarkerSeverity.compare = compare;\n    const _displayStrings = Object.create(null);\n    _displayStrings[MarkerSeverity.Error] = localize('sev.error', \"Error\");\n    _displayStrings[MarkerSeverity.Warning] = localize('sev.warning', \"Warning\");\n    _displayStrings[MarkerSeverity.Info] = localize('sev.info', \"Info\");\n    function toString(a) {\n        return _displayStrings[a] || '';\n    }\n    MarkerSeverity.toString = toString;\n    function fromSeverity(severity) {\n        switch (severity) {\n            case Severity.Error: return MarkerSeverity.Error;\n            case Severity.Warning: return MarkerSeverity.Warning;\n            case Severity.Info: return MarkerSeverity.Info;\n            case Severity.Ignore: return MarkerSeverity.Hint;\n        }\n    }\n    MarkerSeverity.fromSeverity = fromSeverity;\n    function toSeverity(severity) {\n        switch (severity) {\n            case MarkerSeverity.Error: return Severity.Error;\n            case MarkerSeverity.Warning: return Severity.Warning;\n            case MarkerSeverity.Info: return Severity.Info;\n            case MarkerSeverity.Hint: return Severity.Ignore;\n        }\n    }\n    MarkerSeverity.toSeverity = toSeverity;\n})(MarkerSeverity || (MarkerSeverity = {}));\nexport var IMarkerData;\n(function (IMarkerData) {\n    const emptyString = '';\n    function makeKey(markerData) {\n        return makeKeyOptionalMessage(markerData, true);\n    }\n    IMarkerData.makeKey = makeKey;\n    function makeKeyOptionalMessage(markerData, useMessage) {\n        const result = [emptyString];\n        if (markerData.source) {\n            result.push(markerData.source.replace('', '\\\\'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.code) {\n            if (typeof markerData.code === 'string') {\n                result.push(markerData.code.replace('', '\\\\'));\n            }\n            else {\n                result.push(markerData.code.value.replace('', '\\\\'));\n            }\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.severity !== undefined && markerData.severity !== null) {\n            result.push(MarkerSeverity.toString(markerData.severity));\n        }\n        else {\n            result.push(emptyString);\n        }\n        // Modifed to not include the message as part of the marker key to work around\n        // https://github.com/microsoft/vscode/issues/77475\n        if (markerData.message && useMessage) {\n            result.push(markerData.message.replace('', '\\\\'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startLineNumber !== undefined && markerData.startLineNumber !== null) {\n            result.push(markerData.startLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startColumn !== undefined && markerData.startColumn !== null) {\n            result.push(markerData.startColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endLineNumber !== undefined && markerData.endLineNumber !== null) {\n            result.push(markerData.endLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endColumn !== undefined && markerData.endColumn !== null) {\n            result.push(markerData.endColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        result.push(emptyString);\n        return result.join('');\n    }\n    IMarkerData.makeKeyOptionalMessage = makeKeyOptionalMessage;\n})(IMarkerData || (IMarkerData = {}));\nexport const IMarkerService = createDecorator('markerService');\n","import BaseSeverity from '../../../base/common/severity.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var Severity = BaseSeverity;\nexport const INotificationService = createDecorator('notificationService');\nexport class NoOpNotification {\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { $, append, EventHelper } from '../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../base/browser/event.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { EventType as TouchEventType, Gesture } from '../../../base/browser/touch.js';\nimport { Event } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { IOpenerService } from '../common/opener.js';\nimport './link.css';\nimport { getDefaultHoverDelegate } from '../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { IHoverService } from '../../hover/browser/hover.js';\nlet Link = class Link extends Disposable {\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(enabled) {\n        if (enabled) {\n            this.el.setAttribute('aria-disabled', 'false');\n            this.el.tabIndex = 0;\n            this.el.style.pointerEvents = 'auto';\n            this.el.style.opacity = '1';\n            this.el.style.cursor = 'pointer';\n            this._enabled = false;\n        }\n        else {\n            this.el.setAttribute('aria-disabled', 'true');\n            this.el.tabIndex = -1;\n            this.el.style.pointerEvents = 'none';\n            this.el.style.opacity = '0.4';\n            this.el.style.cursor = 'default';\n            this._enabled = true;\n        }\n        this._enabled = enabled;\n    }\n    constructor(container, _link, options = {}, _hoverService, openerService) {\n        var _a, _b;\n        super();\n        this._link = _link;\n        this._hoverService = _hoverService;\n        this._enabled = true;\n        this.el = append(container, $('a.monaco-link', {\n            tabIndex: (_a = _link.tabIndex) !== null && _a !== void 0 ? _a : 0,\n            href: _link.href,\n        }, _link.label));\n        this.hoverDelegate = (_b = options.hoverDelegate) !== null && _b !== void 0 ? _b : getDefaultHoverDelegate('mouse');\n        this.setTooltip(_link.title);\n        this.el.setAttribute('role', 'button');\n        const onClickEmitter = this._register(new DomEmitter(this.el, 'click'));\n        const onKeyPress = this._register(new DomEmitter(this.el, 'keypress'));\n        const onEnterPress = Event.chain(onKeyPress.event, $ => $.map(e => new StandardKeyboardEvent(e))\n            .filter(e => e.keyCode === 3 /* KeyCode.Enter */));\n        const onTap = this._register(new DomEmitter(this.el, TouchEventType.Tap)).event;\n        this._register(Gesture.addTarget(this.el));\n        const onOpen = Event.any(onClickEmitter.event, onEnterPress, onTap);\n        this._register(onOpen(e => {\n            if (!this.enabled) {\n                return;\n            }\n            EventHelper.stop(e, true);\n            if (options === null || options === void 0 ? void 0 : options.opener) {\n                options.opener(this._link.href);\n            }\n            else {\n                openerService.open(this._link.href, { allowCommands: true });\n            }\n        }));\n        this.enabled = true;\n    }\n    setTooltip(title) {\n        if (this.hoverDelegate.showNativeHover) {\n            this.el.title = title !== null && title !== void 0 ? title : '';\n        }\n        else if (!this.hover && title) {\n            this.hover = this._register(this._hoverService.setupUpdatableHover(this.hoverDelegate, this.el, title));\n        }\n        else if (this.hover) {\n            this.hover.update(title);\n        }\n    }\n};\nLink = __decorate([\n    __param(3, IHoverService),\n    __param(4, IOpenerService)\n], Link);\nexport { Link };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IOpenerService = createDecorator('openerService');\n/**\n * file:///some/file.js#73\n * file:///some/file.js#L73\n * file:///some/file.js#73,84\n * file:///some/file.js#L73,84\n * file:///some/file.js#73-83\n * file:///some/file.js#L73-L83\n * file:///some/file.js#73,84-83,52\n * file:///some/file.js#L73,84-L83,52\n */\nexport function extractSelection(uri) {\n    let selection = undefined;\n    const match = /^L?(\\d+)(?:,(\\d+))?(-L?(\\d+)(?:,(\\d+))?)?/.exec(uri.fragment);\n    if (match) {\n        selection = {\n            startLineNumber: parseInt(match[1]),\n            startColumn: match[2] ? parseInt(match[2]) : 1,\n            endLineNumber: match[4] ? parseInt(match[4]) : undefined,\n            endColumn: match[4] ? (match[5] ? parseInt(match[5]) : 1) : undefined\n        };\n        uri = uri.with({ fragment: '' });\n    }\n    return { selection, uri };\n}\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IProgressService = createDecorator('progressService');\nexport const emptyProgressRunner = Object.freeze({\n    total() { },\n    worked() { },\n    done() { }\n});\nexport class Progress {\n    constructor(callback) {\n        this.callback = callback;\n    }\n    report(item) {\n        this._value = item;\n        this.callback(this._value);\n    }\n}\nProgress.None = Object.freeze({ report() { } });\nexport const IEditorProgressService = createDecorator('editorProgressService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { timeout } from '../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { Disposable, DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\nimport { isFunction } from '../../../base/common/types.js';\nexport var TriggerAction;\n(function (TriggerAction) {\n    /**\n     * Do nothing after the button was clicked.\n     */\n    TriggerAction[TriggerAction[\"NO_ACTION\"] = 0] = \"NO_ACTION\";\n    /**\n     * Close the picker.\n     */\n    TriggerAction[TriggerAction[\"CLOSE_PICKER\"] = 1] = \"CLOSE_PICKER\";\n    /**\n     * Update the results of the picker.\n     */\n    TriggerAction[TriggerAction[\"REFRESH_PICKER\"] = 2] = \"REFRESH_PICKER\";\n    /**\n     * Remove the item from the picker.\n     */\n    TriggerAction[TriggerAction[\"REMOVE_ITEM\"] = 3] = \"REMOVE_ITEM\";\n})(TriggerAction || (TriggerAction = {}));\nfunction isPicksWithActive(obj) {\n    const candidate = obj;\n    return Array.isArray(candidate.items);\n}\nfunction isFastAndSlowPicks(obj) {\n    const candidate = obj;\n    return !!candidate.picks && candidate.additionalPicks instanceof Promise;\n}\nexport class PickerQuickAccessProvider extends Disposable {\n    constructor(prefix, options) {\n        super();\n        this.prefix = prefix;\n        this.options = options;\n    }\n    provide(picker, token, runOptions) {\n        var _a;\n        const disposables = new DisposableStore();\n        // Apply options if any\n        picker.canAcceptInBackground = !!((_a = this.options) === null || _a === void 0 ? void 0 : _a.canAcceptInBackground);\n        // Disable filtering & sorting, we control the results\n        picker.matchOnLabel = picker.matchOnDescription = picker.matchOnDetail = picker.sortByLabel = false;\n        // Set initial picks and update on type\n        let picksCts = undefined;\n        const picksDisposable = disposables.add(new MutableDisposable());\n        const updatePickerItems = async () => {\n            var _a;\n            const picksDisposables = picksDisposable.value = new DisposableStore();\n            // Cancel any previous ask for picks and busy\n            picksCts === null || picksCts === void 0 ? void 0 : picksCts.dispose(true);\n            picker.busy = false;\n            // Create new cancellation source for this run\n            picksCts = new CancellationTokenSource(token);\n            // Collect picks and support both long running and short or combined\n            const picksToken = picksCts.token;\n            let picksFilter = picker.value.substring(this.prefix.length);\n            if (!((_a = this.options) === null || _a === void 0 ? void 0 : _a.shouldSkipTrimPickFilter)) {\n                picksFilter = picksFilter.trim();\n            }\n            const providedPicks = this._getPicks(picksFilter, picksDisposables, picksToken, runOptions);\n            const applyPicks = (picks, skipEmpty) => {\n                var _a;\n                let items;\n                let activeItem = undefined;\n                if (isPicksWithActive(picks)) {\n                    items = picks.items;\n                    activeItem = picks.active;\n                }\n                else {\n                    items = picks;\n                }\n                if (items.length === 0) {\n                    if (skipEmpty) {\n                        return false;\n                    }\n                    // We show the no results pick if we have no input to prevent completely empty pickers #172613\n                    if ((picksFilter.length > 0 || picker.hideInput) && ((_a = this.options) === null || _a === void 0 ? void 0 : _a.noResultsPick)) {\n                        if (isFunction(this.options.noResultsPick)) {\n                            items = [this.options.noResultsPick(picksFilter)];\n                        }\n                        else {\n                            items = [this.options.noResultsPick];\n                        }\n                    }\n                }\n                picker.items = items;\n                if (activeItem) {\n                    picker.activeItems = [activeItem];\n                }\n                return true;\n            };\n            const applyFastAndSlowPicks = async (fastAndSlowPicks) => {\n                let fastPicksApplied = false;\n                let slowPicksApplied = false;\n                await Promise.all([\n                    // Fast Picks: if `mergeDelay` is configured, in order to reduce\n                    // amount of flicker, we race against the slow picks over some delay\n                    // and then set the fast picks.\n                    // If the slow picks are faster, we reduce the flicker by only\n                    // setting the items once.\n                    (async () => {\n                        if (typeof fastAndSlowPicks.mergeDelay === 'number') {\n                            await timeout(fastAndSlowPicks.mergeDelay);\n                            if (picksToken.isCancellationRequested) {\n                                return;\n                            }\n                        }\n                        if (!slowPicksApplied) {\n                            fastPicksApplied = applyPicks(fastAndSlowPicks.picks, true /* skip over empty to reduce flicker */);\n                        }\n                    })(),\n                    // Slow Picks: we await the slow picks and then set them at\n                    // once together with the fast picks, but only if we actually\n                    // have additional results.\n                    (async () => {\n                        picker.busy = true;\n                        try {\n                            const awaitedAdditionalPicks = await fastAndSlowPicks.additionalPicks;\n                            if (picksToken.isCancellationRequested) {\n                                return;\n                            }\n                            let picks;\n                            let activePick = undefined;\n                            if (isPicksWithActive(fastAndSlowPicks.picks)) {\n                                picks = fastAndSlowPicks.picks.items;\n                                activePick = fastAndSlowPicks.picks.active;\n                            }\n                            else {\n                                picks = fastAndSlowPicks.picks;\n                            }\n                            let additionalPicks;\n                            let additionalActivePick = undefined;\n                            if (isPicksWithActive(awaitedAdditionalPicks)) {\n                                additionalPicks = awaitedAdditionalPicks.items;\n                                additionalActivePick = awaitedAdditionalPicks.active;\n                            }\n                            else {\n                                additionalPicks = awaitedAdditionalPicks;\n                            }\n                            if (additionalPicks.length > 0 || !fastPicksApplied) {\n                                // If we do not have any activePick or additionalActivePick\n                                // we try to preserve the currently active pick from the\n                                // fast results. This fixes an issue where the user might\n                                // have made a pick active before the additional results\n                                // kick in.\n                                // See https://github.com/microsoft/vscode/issues/102480\n                                let fallbackActivePick = undefined;\n                                if (!activePick && !additionalActivePick) {\n                                    const fallbackActivePickCandidate = picker.activeItems[0];\n                                    if (fallbackActivePickCandidate && picks.indexOf(fallbackActivePickCandidate) !== -1) {\n                                        fallbackActivePick = fallbackActivePickCandidate;\n                                    }\n                                }\n                                applyPicks({\n                                    items: [...picks, ...additionalPicks],\n                                    active: activePick || additionalActivePick || fallbackActivePick\n                                });\n                            }\n                        }\n                        finally {\n                            if (!picksToken.isCancellationRequested) {\n                                picker.busy = false;\n                            }\n                            slowPicksApplied = true;\n                        }\n                    })()\n                ]);\n            };\n            // No Picks\n            if (providedPicks === null) {\n                // Ignore\n            }\n            // Fast and Slow Picks\n            else if (isFastAndSlowPicks(providedPicks)) {\n                await applyFastAndSlowPicks(providedPicks);\n            }\n            // Fast Picks\n            else if (!(providedPicks instanceof Promise)) {\n                applyPicks(providedPicks);\n            }\n            // Slow Picks\n            else {\n                picker.busy = true;\n                try {\n                    const awaitedPicks = await providedPicks;\n                    if (picksToken.isCancellationRequested) {\n                        return;\n                    }\n                    if (isFastAndSlowPicks(awaitedPicks)) {\n                        await applyFastAndSlowPicks(awaitedPicks);\n                    }\n                    else {\n                        applyPicks(awaitedPicks);\n                    }\n                }\n                finally {\n                    if (!picksToken.isCancellationRequested) {\n                        picker.busy = false;\n                    }\n                }\n            }\n        };\n        disposables.add(picker.onDidChangeValue(() => updatePickerItems()));\n        updatePickerItems();\n        // Accept the pick on accept and hide picker\n        disposables.add(picker.onDidAccept(event => {\n            const [item] = picker.selectedItems;\n            if (typeof (item === null || item === void 0 ? void 0 : item.accept) === 'function') {\n                if (!event.inBackground) {\n                    picker.hide(); // hide picker unless we accept in background\n                }\n                item.accept(picker.keyMods, event);\n            }\n        }));\n        const buttonTrigger = async (button, item) => {\n            var _a, _b;\n            if (typeof item.trigger !== 'function') {\n                return;\n            }\n            const buttonIndex = (_b = (_a = item.buttons) === null || _a === void 0 ? void 0 : _a.indexOf(button)) !== null && _b !== void 0 ? _b : -1;\n            if (buttonIndex >= 0) {\n                const result = item.trigger(buttonIndex, picker.keyMods);\n                const action = (typeof result === 'number') ? result : await result;\n                if (token.isCancellationRequested) {\n                    return;\n                }\n                switch (action) {\n                    case TriggerAction.NO_ACTION:\n                        break;\n                    case TriggerAction.CLOSE_PICKER:\n                        picker.hide();\n                        break;\n                    case TriggerAction.REFRESH_PICKER:\n                        updatePickerItems();\n                        break;\n                    case TriggerAction.REMOVE_ITEM: {\n                        const index = picker.items.indexOf(item);\n                        if (index !== -1) {\n                            const items = picker.items.slice();\n                            const removed = items.splice(index, 1);\n                            const activeItems = picker.activeItems.filter(activeItem => activeItem !== removed[0]);\n                            const keepScrollPositionBefore = picker.keepScrollPosition;\n                            picker.keepScrollPosition = true;\n                            picker.items = items;\n                            if (activeItems) {\n                                picker.activeItems = activeItems;\n                            }\n                            picker.keepScrollPosition = keepScrollPositionBefore;\n                        }\n                        break;\n                    }\n                }\n            }\n        };\n        // Trigger the pick with button index if button triggered\n        disposables.add(picker.onDidTriggerItemButton(({ button, item }) => buttonTrigger(button, item)));\n        disposables.add(picker.onDidTriggerSeparatorButton(({ button, separator }) => buttonTrigger(button, separator)));\n        return disposables;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar AbstractCommandsQuickAccessProvider_1, CommandsHistory_1;\nimport { toErrorMessage } from '../../../base/common/errorMessage.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { matchesContiguousSubString, matchesPrefix, matchesWords, or } from '../../../base/common/filters.js';\nimport { createSingleCallFunction } from '../../../base/common/functional.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { LRUCache } from '../../../base/common/map.js';\nimport { TfIdfCalculator, normalizeTfIdfScores } from '../../../base/common/tfIdf.js';\nimport { localize } from '../../../nls.js';\nimport { ICommandService } from '../../commands/common/commands.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IDialogService } from '../../dialogs/common/dialogs.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { ILogService } from '../../log/common/log.js';\nimport { PickerQuickAccessProvider } from './pickerQuickAccess.js';\nimport { IStorageService, WillSaveStateReason } from '../../storage/common/storage.js';\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\nlet AbstractCommandsQuickAccessProvider = AbstractCommandsQuickAccessProvider_1 = class AbstractCommandsQuickAccessProvider extends PickerQuickAccessProvider {\n    constructor(options, instantiationService, keybindingService, commandService, telemetryService, dialogService) {\n        super(AbstractCommandsQuickAccessProvider_1.PREFIX, options);\n        this.instantiationService = instantiationService;\n        this.keybindingService = keybindingService;\n        this.commandService = commandService;\n        this.telemetryService = telemetryService;\n        this.dialogService = dialogService;\n        this.commandsHistory = this._register(this.instantiationService.createInstance(CommandsHistory));\n        this.options = options;\n    }\n    async _getPicks(filter, _disposables, token, runOptions) {\n        var _a, _b, _c, _d;\n        // Ask subclass for all command picks\n        const allCommandPicks = await this.getCommandPicks(token);\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const runTfidf = createSingleCallFunction(() => {\n            const tfidf = new TfIdfCalculator();\n            tfidf.updateDocuments(allCommandPicks.map(commandPick => ({\n                key: commandPick.commandId,\n                textChunks: [this.getTfIdfChunk(commandPick)]\n            })));\n            const result = tfidf.calculateScores(filter, token);\n            return normalizeTfIdfScores(result)\n                .filter(score => score.score > AbstractCommandsQuickAccessProvider_1.TFIDF_THRESHOLD)\n                .slice(0, AbstractCommandsQuickAccessProvider_1.TFIDF_MAX_RESULTS);\n        });\n        // Filter\n        const filteredCommandPicks = [];\n        for (const commandPick of allCommandPicks) {\n            const labelHighlights = (_a = AbstractCommandsQuickAccessProvider_1.WORD_FILTER(filter, commandPick.label)) !== null && _a !== void 0 ? _a : undefined;\n            const aliasHighlights = commandPick.commandAlias ? (_b = AbstractCommandsQuickAccessProvider_1.WORD_FILTER(filter, commandPick.commandAlias)) !== null && _b !== void 0 ? _b : undefined : undefined;\n            // Add if matching in label or alias\n            if (labelHighlights || aliasHighlights) {\n                commandPick.highlights = {\n                    label: labelHighlights,\n                    detail: this.options.showAlias ? aliasHighlights : undefined\n                };\n                filteredCommandPicks.push(commandPick);\n            }\n            // Also add if we have a 100% command ID match\n            else if (filter === commandPick.commandId) {\n                filteredCommandPicks.push(commandPick);\n            }\n            // Handle tf-idf scoring for the rest if there's a filter\n            else if (filter.length >= 3) {\n                const tfidf = runTfidf();\n                if (token.isCancellationRequested) {\n                    return [];\n                }\n                // Add if we have a tf-idf score\n                const tfidfScore = tfidf.find(score => score.key === commandPick.commandId);\n                if (tfidfScore) {\n                    commandPick.tfIdfScore = tfidfScore.score;\n                    filteredCommandPicks.push(commandPick);\n                }\n            }\n        }\n        // Add description to commands that have duplicate labels\n        const mapLabelToCommand = new Map();\n        for (const commandPick of filteredCommandPicks) {\n            const existingCommandForLabel = mapLabelToCommand.get(commandPick.label);\n            if (existingCommandForLabel) {\n                commandPick.description = commandPick.commandId;\n                existingCommandForLabel.description = existingCommandForLabel.commandId;\n            }\n            else {\n                mapLabelToCommand.set(commandPick.label, commandPick);\n            }\n        }\n        // Sort by MRU order and fallback to name otherwise\n        filteredCommandPicks.sort((commandPickA, commandPickB) => {\n            // If a result came from tf-idf, we want to put that towards the bottom\n            if (commandPickA.tfIdfScore && commandPickB.tfIdfScore) {\n                if (commandPickA.tfIdfScore === commandPickB.tfIdfScore) {\n                    return commandPickA.label.localeCompare(commandPickB.label); // prefer lexicographically smaller command\n                }\n                return commandPickB.tfIdfScore - commandPickA.tfIdfScore; // prefer higher tf-idf score\n            }\n            else if (commandPickA.tfIdfScore) {\n                return 1; // first command has a score but other doesn't so other wins\n            }\n            else if (commandPickB.tfIdfScore) {\n                return -1; // other command has a score but first doesn't so first wins\n            }\n            const commandACounter = this.commandsHistory.peek(commandPickA.commandId);\n            const commandBCounter = this.commandsHistory.peek(commandPickB.commandId);\n            if (commandACounter && commandBCounter) {\n                return commandACounter > commandBCounter ? -1 : 1; // use more recently used command before older\n            }\n            if (commandACounter) {\n                return -1; // first command was used, so it wins over the non used one\n            }\n            if (commandBCounter) {\n                return 1; // other command was used so it wins over the command\n            }\n            if (this.options.suggestedCommandIds) {\n                const commandASuggestion = this.options.suggestedCommandIds.has(commandPickA.commandId);\n                const commandBSuggestion = this.options.suggestedCommandIds.has(commandPickB.commandId);\n                if (commandASuggestion && commandBSuggestion) {\n                    return 0; // honor the order of the array\n                }\n                if (commandASuggestion) {\n                    return -1; // first command was suggested, so it wins over the non suggested one\n                }\n                if (commandBSuggestion) {\n                    return 1; // other command was suggested so it wins over the command\n                }\n            }\n            // both commands were never used, so we sort by name\n            return commandPickA.label.localeCompare(commandPickB.label);\n        });\n        const commandPicks = [];\n        let addOtherSeparator = false;\n        let addSuggestedSeparator = true;\n        let addCommonlyUsedSeparator = !!this.options.suggestedCommandIds;\n        for (let i = 0; i < filteredCommandPicks.length; i++) {\n            const commandPick = filteredCommandPicks[i];\n            // Separator: recently used\n            if (i === 0 && this.commandsHistory.peek(commandPick.commandId)) {\n                commandPicks.push({ type: 'separator', label: localize('recentlyUsed', \"recently used\") });\n                addOtherSeparator = true;\n            }\n            if (addSuggestedSeparator && commandPick.tfIdfScore !== undefined) {\n                commandPicks.push({ type: 'separator', label: localize('suggested', \"similar commands\") });\n                addSuggestedSeparator = false;\n            }\n            // Separator: commonly used\n            if (addCommonlyUsedSeparator && commandPick.tfIdfScore === undefined && !this.commandsHistory.peek(commandPick.commandId) && ((_c = this.options.suggestedCommandIds) === null || _c === void 0 ? void 0 : _c.has(commandPick.commandId))) {\n                commandPicks.push({ type: 'separator', label: localize('commonlyUsed', \"commonly used\") });\n                addOtherSeparator = true;\n                addCommonlyUsedSeparator = false;\n            }\n            // Separator: other commands\n            if (addOtherSeparator && commandPick.tfIdfScore === undefined && !this.commandsHistory.peek(commandPick.commandId) && !((_d = this.options.suggestedCommandIds) === null || _d === void 0 ? void 0 : _d.has(commandPick.commandId))) {\n                commandPicks.push({ type: 'separator', label: localize('morecCommands', \"other commands\") });\n                addOtherSeparator = false;\n            }\n            // Command\n            commandPicks.push(this.toCommandPick(commandPick, runOptions));\n        }\n        if (!this.hasAdditionalCommandPicks(filter, token)) {\n            return commandPicks;\n        }\n        return {\n            picks: commandPicks,\n            additionalPicks: (async () => {\n                var _a;\n                const additionalCommandPicks = await this.getAdditionalCommandPicks(allCommandPicks, filteredCommandPicks, filter, token);\n                if (token.isCancellationRequested) {\n                    return [];\n                }\n                const commandPicks = additionalCommandPicks.map(commandPick => this.toCommandPick(commandPick, runOptions));\n                // Basically, if we haven't already added a separator, we add one before the additional picks so long\n                // as one hasn't been added to the start of the array.\n                if (addSuggestedSeparator && ((_a = commandPicks[0]) === null || _a === void 0 ? void 0 : _a.type) !== 'separator') {\n                    commandPicks.unshift({ type: 'separator', label: localize('suggested', \"similar commands\") });\n                }\n                return commandPicks;\n            })()\n        };\n    }\n    toCommandPick(commandPick, runOptions) {\n        if (commandPick.type === 'separator') {\n            return commandPick;\n        }\n        const keybinding = this.keybindingService.lookupKeybinding(commandPick.commandId);\n        const ariaLabel = keybinding ?\n            localize('commandPickAriaLabelWithKeybinding', \"{0}, {1}\", commandPick.label, keybinding.getAriaLabel()) :\n            commandPick.label;\n        return {\n            ...commandPick,\n            ariaLabel,\n            detail: this.options.showAlias && commandPick.commandAlias !== commandPick.label ? commandPick.commandAlias : undefined,\n            keybinding,\n            accept: async () => {\n                var _a, _b;\n                // Add to history\n                this.commandsHistory.push(commandPick.commandId);\n                // Telementry\n                this.telemetryService.publicLog2('workbenchActionExecuted', {\n                    id: commandPick.commandId,\n                    from: (_a = runOptions === null || runOptions === void 0 ? void 0 : runOptions.from) !== null && _a !== void 0 ? _a : 'quick open'\n                });\n                // Run\n                try {\n                    ((_b = commandPick.args) === null || _b === void 0 ? void 0 : _b.length)\n                        ? await this.commandService.executeCommand(commandPick.commandId, ...commandPick.args)\n                        : await this.commandService.executeCommand(commandPick.commandId);\n                }\n                catch (error) {\n                    if (!isCancellationError(error)) {\n                        this.dialogService.error(localize('canNotRun', \"Command '{0}' resulted in an error\", commandPick.label), toErrorMessage(error));\n                    }\n                }\n            }\n        };\n    }\n    // TF-IDF string to be indexed\n    getTfIdfChunk({ label, commandAlias, commandDescription }) {\n        let chunk = label;\n        if (commandAlias && commandAlias !== label) {\n            chunk += ` - ${commandAlias}`;\n        }\n        if (commandDescription && commandDescription.value !== label) {\n            // If the original is the same as the value, don't add it\n            chunk += ` - ${commandDescription.value === commandDescription.original ? commandDescription.value : `${commandDescription.value} (${commandDescription.original})`}`;\n        }\n        return chunk;\n    }\n};\nAbstractCommandsQuickAccessProvider.PREFIX = '>';\nAbstractCommandsQuickAccessProvider.TFIDF_THRESHOLD = 0.5;\nAbstractCommandsQuickAccessProvider.TFIDF_MAX_RESULTS = 5;\nAbstractCommandsQuickAccessProvider.WORD_FILTER = or(matchesPrefix, matchesWords, matchesContiguousSubString);\nAbstractCommandsQuickAccessProvider = AbstractCommandsQuickAccessProvider_1 = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IKeybindingService),\n    __param(3, ICommandService),\n    __param(4, ITelemetryService),\n    __param(5, IDialogService)\n], AbstractCommandsQuickAccessProvider);\nexport { AbstractCommandsQuickAccessProvider };\nlet CommandsHistory = CommandsHistory_1 = class CommandsHistory extends Disposable {\n    constructor(storageService, configurationService, logService) {\n        super();\n        this.storageService = storageService;\n        this.configurationService = configurationService;\n        this.logService = logService;\n        this.configuredCommandsHistoryLength = 0;\n        this.updateConfiguration();\n        this.load();\n        this.registerListeners();\n    }\n    registerListeners() {\n        this._register(this.configurationService.onDidChangeConfiguration(e => this.updateConfiguration(e)));\n        this._register(this.storageService.onWillSaveState(e => {\n            if (e.reason === WillSaveStateReason.SHUTDOWN) {\n                // Commands history is very dynamic and so we limit impact\n                // on storage to only save on shutdown. This helps reduce\n                // the overhead of syncing this data across machines.\n                this.saveState();\n            }\n        }));\n    }\n    updateConfiguration(e) {\n        if (e && !e.affectsConfiguration('workbench.commandPalette.history')) {\n            return;\n        }\n        this.configuredCommandsHistoryLength = CommandsHistory_1.getConfiguredCommandHistoryLength(this.configurationService);\n        if (CommandsHistory_1.cache && CommandsHistory_1.cache.limit !== this.configuredCommandsHistoryLength) {\n            CommandsHistory_1.cache.limit = this.configuredCommandsHistoryLength;\n            CommandsHistory_1.hasChanges = true;\n        }\n    }\n    load() {\n        const raw = this.storageService.get(CommandsHistory_1.PREF_KEY_CACHE, 0 /* StorageScope.PROFILE */);\n        let serializedCache;\n        if (raw) {\n            try {\n                serializedCache = JSON.parse(raw);\n            }\n            catch (error) {\n                this.logService.error(`[CommandsHistory] invalid data: ${error}`);\n            }\n        }\n        const cache = CommandsHistory_1.cache = new LRUCache(this.configuredCommandsHistoryLength, 1);\n        if (serializedCache) {\n            let entries;\n            if (serializedCache.usesLRU) {\n                entries = serializedCache.entries;\n            }\n            else {\n                entries = serializedCache.entries.sort((a, b) => a.value - b.value);\n            }\n            entries.forEach(entry => cache.set(entry.key, entry.value));\n        }\n        CommandsHistory_1.counter = this.storageService.getNumber(CommandsHistory_1.PREF_KEY_COUNTER, 0 /* StorageScope.PROFILE */, CommandsHistory_1.counter);\n    }\n    push(commandId) {\n        if (!CommandsHistory_1.cache) {\n            return;\n        }\n        CommandsHistory_1.cache.set(commandId, CommandsHistory_1.counter++); // set counter to command\n        CommandsHistory_1.hasChanges = true;\n    }\n    peek(commandId) {\n        var _a;\n        return (_a = CommandsHistory_1.cache) === null || _a === void 0 ? void 0 : _a.peek(commandId);\n    }\n    saveState() {\n        if (!CommandsHistory_1.cache) {\n            return;\n        }\n        if (!CommandsHistory_1.hasChanges) {\n            return;\n        }\n        const serializedCache = { usesLRU: true, entries: [] };\n        CommandsHistory_1.cache.forEach((value, key) => serializedCache.entries.push({ key, value }));\n        this.storageService.store(CommandsHistory_1.PREF_KEY_CACHE, JSON.stringify(serializedCache), 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n        this.storageService.store(CommandsHistory_1.PREF_KEY_COUNTER, CommandsHistory_1.counter, 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n        CommandsHistory_1.hasChanges = false;\n    }\n    static getConfiguredCommandHistoryLength(configurationService) {\n        var _a, _b;\n        const config = configurationService.getValue();\n        const configuredCommandHistoryLength = (_b = (_a = config.workbench) === null || _a === void 0 ? void 0 : _a.commandPalette) === null || _b === void 0 ? void 0 : _b.history;\n        if (typeof configuredCommandHistoryLength === 'number') {\n            return configuredCommandHistoryLength;\n        }\n        return CommandsHistory_1.DEFAULT_COMMANDS_HISTORY_LENGTH;\n    }\n};\nCommandsHistory.DEFAULT_COMMANDS_HISTORY_LENGTH = 50;\nCommandsHistory.PREF_KEY_CACHE = 'commandPalette.mru.cache';\nCommandsHistory.PREF_KEY_COUNTER = 'commandPalette.mru.counter';\nCommandsHistory.counter = 1;\nCommandsHistory.hasChanges = false;\nCommandsHistory = CommandsHistory_1 = __decorate([\n    __param(0, IStorageService),\n    __param(1, IConfigurationService),\n    __param(2, ILogService)\n], CommandsHistory);\nexport { CommandsHistory };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar HelpQuickAccessProvider_1;\nimport { localize } from '../../../nls.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { Extensions } from '../common/quickAccess.js';\nimport { IQuickInputService } from '../common/quickInput.js';\nlet HelpQuickAccessProvider = HelpQuickAccessProvider_1 = class HelpQuickAccessProvider {\n    constructor(quickInputService, keybindingService) {\n        this.quickInputService = quickInputService;\n        this.keybindingService = keybindingService;\n        this.registry = Registry.as(Extensions.Quickaccess);\n    }\n    provide(picker) {\n        const disposables = new DisposableStore();\n        // Open a picker with the selected value if picked\n        disposables.add(picker.onDidAccept(() => {\n            const [item] = picker.selectedItems;\n            if (item) {\n                this.quickInputService.quickAccess.show(item.prefix, { preserveValue: true });\n            }\n        }));\n        // Also open a picker when we detect the user typed the exact\n        // name of a provider (e.g. `?term` for terminals)\n        disposables.add(picker.onDidChangeValue(value => {\n            const providerDescriptor = this.registry.getQuickAccessProvider(value.substr(HelpQuickAccessProvider_1.PREFIX.length));\n            if (providerDescriptor && providerDescriptor.prefix && providerDescriptor.prefix !== HelpQuickAccessProvider_1.PREFIX) {\n                this.quickInputService.quickAccess.show(providerDescriptor.prefix, { preserveValue: true });\n            }\n        }));\n        // Fill in all providers\n        picker.items = this.getQuickAccessProviders().filter(p => p.prefix !== HelpQuickAccessProvider_1.PREFIX);\n        return disposables;\n    }\n    getQuickAccessProviders() {\n        const providers = this.registry\n            .getQuickAccessProviders()\n            .sort((providerA, providerB) => providerA.prefix.localeCompare(providerB.prefix))\n            .flatMap(provider => this.createPicks(provider));\n        return providers;\n    }\n    createPicks(provider) {\n        return provider.helpEntries.map(helpEntry => {\n            const prefix = helpEntry.prefix || provider.prefix;\n            const label = prefix || '\\u2026' /* ... */;\n            return {\n                prefix,\n                label,\n                keybinding: helpEntry.commandId ? this.keybindingService.lookupKeybinding(helpEntry.commandId) : undefined,\n                ariaLabel: localize('helpPickAriaLabel', \"{0}, {1}\", label, helpEntry.description),\n                description: helpEntry.description\n            };\n        });\n    }\n};\nHelpQuickAccessProvider.PREFIX = '?';\nHelpQuickAccessProvider = HelpQuickAccessProvider_1 = __decorate([\n    __param(0, IQuickInputService),\n    __param(1, IKeybindingService)\n], HelpQuickAccessProvider);\nexport { HelpQuickAccessProvider };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { DeferredPromise } from '../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { Event } from '../../../base/common/event.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { DefaultQuickAccessFilterValue, Extensions } from '../common/quickAccess.js';\nimport { IQuickInputService, ItemActivation } from '../common/quickInput.js';\nimport { Registry } from '../../registry/common/platform.js';\nlet QuickAccessController = class QuickAccessController extends Disposable {\n    constructor(quickInputService, instantiationService) {\n        super();\n        this.quickInputService = quickInputService;\n        this.instantiationService = instantiationService;\n        this.registry = Registry.as(Extensions.Quickaccess);\n        this.mapProviderToDescriptor = new Map();\n        this.lastAcceptedPickerValues = new Map();\n        this.visibleQuickAccess = undefined;\n    }\n    show(value = '', options) {\n        this.doShowOrPick(value, false, options);\n    }\n    doShowOrPick(value, pick, options) {\n        var _a, _b, _c;\n        // Find provider for the value to show\n        const [provider, descriptor] = this.getOrInstantiateProvider(value);\n        // Return early if quick access is already showing on that same prefix\n        const visibleQuickAccess = this.visibleQuickAccess;\n        const visibleDescriptor = visibleQuickAccess === null || visibleQuickAccess === void 0 ? void 0 : visibleQuickAccess.descriptor;\n        if (visibleQuickAccess && descriptor && visibleDescriptor === descriptor) {\n            // Apply value only if it is more specific than the prefix\n            // from the provider and we are not instructed to preserve\n            if (value !== descriptor.prefix && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n                visibleQuickAccess.picker.value = value;\n            }\n            // Always adjust selection\n            this.adjustValueSelection(visibleQuickAccess.picker, descriptor, options);\n            return;\n        }\n        // Rewrite the filter value based on certain rules unless disabled\n        if (descriptor && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n            let newValue = undefined;\n            // If we have a visible provider with a value, take it's filter value but\n            // rewrite to new provider prefix in case they differ\n            if (visibleQuickAccess && visibleDescriptor && visibleDescriptor !== descriptor) {\n                const newValueCandidateWithoutPrefix = visibleQuickAccess.value.substr(visibleDescriptor.prefix.length);\n                if (newValueCandidateWithoutPrefix) {\n                    newValue = `${descriptor.prefix}${newValueCandidateWithoutPrefix}`;\n                }\n            }\n            // Otherwise, take a default value as instructed\n            if (!newValue) {\n                const defaultFilterValue = provider === null || provider === void 0 ? void 0 : provider.defaultFilterValue;\n                if (defaultFilterValue === DefaultQuickAccessFilterValue.LAST) {\n                    newValue = this.lastAcceptedPickerValues.get(descriptor);\n                }\n                else if (typeof defaultFilterValue === 'string') {\n                    newValue = `${descriptor.prefix}${defaultFilterValue}`;\n                }\n            }\n            if (typeof newValue === 'string') {\n                value = newValue;\n            }\n        }\n        // Store the existing selection if there was one.\n        const visibleSelection = (_a = visibleQuickAccess === null || visibleQuickAccess === void 0 ? void 0 : visibleQuickAccess.picker) === null || _a === void 0 ? void 0 : _a.valueSelection;\n        const visibleValue = (_b = visibleQuickAccess === null || visibleQuickAccess === void 0 ? void 0 : visibleQuickAccess.picker) === null || _b === void 0 ? void 0 : _b.value;\n        // Create a picker for the provider to use with the initial value\n        // and adjust the filtering to exclude the prefix from filtering\n        const disposables = new DisposableStore();\n        const picker = disposables.add(this.quickInputService.createQuickPick());\n        picker.value = value;\n        this.adjustValueSelection(picker, descriptor, options);\n        picker.placeholder = descriptor === null || descriptor === void 0 ? void 0 : descriptor.placeholder;\n        picker.quickNavigate = options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration;\n        picker.hideInput = !!picker.quickNavigate && !visibleQuickAccess; // only hide input if there was no picker opened already\n        if (typeof (options === null || options === void 0 ? void 0 : options.itemActivation) === 'number' || (options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration)) {\n            picker.itemActivation = (_c = options === null || options === void 0 ? void 0 : options.itemActivation) !== null && _c !== void 0 ? _c : ItemActivation.SECOND /* quick nav is always second */;\n        }\n        picker.contextKey = descriptor === null || descriptor === void 0 ? void 0 : descriptor.contextKey;\n        picker.filterValue = (value) => value.substring(descriptor ? descriptor.prefix.length : 0);\n        // Pick mode: setup a promise that can be resolved\n        // with the selected items and prevent execution\n        let pickPromise = undefined;\n        if (pick) {\n            pickPromise = new DeferredPromise();\n            disposables.add(Event.once(picker.onWillAccept)(e => {\n                e.veto();\n                picker.hide();\n            }));\n        }\n        // Register listeners\n        disposables.add(this.registerPickerListeners(picker, provider, descriptor, value, options === null || options === void 0 ? void 0 : options.providerOptions));\n        // Ask provider to fill the picker as needed if we have one\n        // and pass over a cancellation token that will indicate when\n        // the picker is hiding without a pick being made.\n        const cts = disposables.add(new CancellationTokenSource());\n        if (provider) {\n            disposables.add(provider.provide(picker, cts.token, options === null || options === void 0 ? void 0 : options.providerOptions));\n        }\n        // Finally, trigger disposal and cancellation when the picker\n        // hides depending on items selected or not.\n        Event.once(picker.onDidHide)(() => {\n            if (picker.selectedItems.length === 0) {\n                cts.cancel();\n            }\n            // Start to dispose once picker hides\n            disposables.dispose();\n            // Resolve pick promise with selected items\n            pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.complete(picker.selectedItems.slice(0));\n        });\n        // Finally, show the picker. This is important because a provider\n        // may not call this and then our disposables would leak that rely\n        // on the onDidHide event.\n        picker.show();\n        // If the previous picker had a selection and the value is unchanged, we should set that in the new picker.\n        if (visibleSelection && visibleValue === value) {\n            picker.valueSelection = visibleSelection;\n        }\n        // Pick mode: return with promise\n        if (pick) {\n            return pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.p;\n        }\n    }\n    adjustValueSelection(picker, descriptor, options) {\n        var _a;\n        let valueSelection;\n        // Preserve: just always put the cursor at the end\n        if (options === null || options === void 0 ? void 0 : options.preserveValue) {\n            valueSelection = [picker.value.length, picker.value.length];\n        }\n        // Otherwise: select the value up until the prefix\n        else {\n            valueSelection = [(_a = descriptor === null || descriptor === void 0 ? void 0 : descriptor.prefix.length) !== null && _a !== void 0 ? _a : 0, picker.value.length];\n        }\n        picker.valueSelection = valueSelection;\n    }\n    registerPickerListeners(picker, provider, descriptor, value, providerOptions) {\n        const disposables = new DisposableStore();\n        // Remember as last visible picker and clean up once picker get's disposed\n        const visibleQuickAccess = this.visibleQuickAccess = { picker, descriptor, value };\n        disposables.add(toDisposable(() => {\n            if (visibleQuickAccess === this.visibleQuickAccess) {\n                this.visibleQuickAccess = undefined;\n            }\n        }));\n        // Whenever the value changes, check if the provider has\n        // changed and if so - re-create the picker from the beginning\n        disposables.add(picker.onDidChangeValue(value => {\n            const [providerForValue] = this.getOrInstantiateProvider(value);\n            if (providerForValue !== provider) {\n                this.show(value, {\n                    // do not rewrite value from user typing!\n                    preserveValue: true,\n                    // persist the value of the providerOptions from the original showing\n                    providerOptions\n                });\n            }\n            else {\n                visibleQuickAccess.value = value; // remember the value in our visible one\n            }\n        }));\n        // Remember picker input for future use when accepting\n        if (descriptor) {\n            disposables.add(picker.onDidAccept(() => {\n                this.lastAcceptedPickerValues.set(descriptor, picker.value);\n            }));\n        }\n        return disposables;\n    }\n    getOrInstantiateProvider(value) {\n        const providerDescriptor = this.registry.getQuickAccessProvider(value);\n        if (!providerDescriptor) {\n            return [undefined, undefined];\n        }\n        let provider = this.mapProviderToDescriptor.get(providerDescriptor);\n        if (!provider) {\n            provider = this.instantiationService.createInstance(providerDescriptor.ctor);\n            this.mapProviderToDescriptor.set(providerDescriptor, provider);\n        }\n        return [provider, providerDescriptor];\n    }\n};\nQuickAccessController = __decorate([\n    __param(0, IQuickInputService),\n    __param(1, IInstantiationService)\n], QuickAccessController);\nexport { QuickAccessController };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../base/browser/event.js';\nimport { Event } from '../../../base/common/event.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { Gesture, EventType as GestureEventType } from '../../../base/browser/touch.js';\nimport { renderLabelWithIcons } from '../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { IdGenerator } from '../../../base/common/idGenerator.js';\nimport { parseLinkedText } from '../../../base/common/linkedText.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nconst iconPathToClass = {};\nconst iconClassGenerator = new IdGenerator('quick-input-button-icon-');\nfunction getIconClass(iconPath) {\n    if (!iconPath) {\n        return undefined;\n    }\n    let iconClass;\n    const key = iconPath.dark.toString();\n    if (iconPathToClass[key]) {\n        iconClass = iconPathToClass[key];\n    }\n    else {\n        iconClass = iconClassGenerator.nextId();\n        dom.createCSSRule(`.${iconClass}, .hc-light .${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.light || iconPath.dark)}`);\n        dom.createCSSRule(`.vs-dark .${iconClass}, .hc-black .${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.dark)}`);\n        iconPathToClass[key] = iconClass;\n    }\n    return iconClass;\n}\nexport function quickInputButtonToAction(button, id, run) {\n    let cssClasses = button.iconClass || getIconClass(button.iconPath);\n    if (button.alwaysVisible) {\n        cssClasses = cssClasses ? `${cssClasses} always-visible` : 'always-visible';\n    }\n    return {\n        id,\n        label: '',\n        tooltip: button.tooltip || '',\n        class: cssClasses,\n        enabled: true,\n        run\n    };\n}\nexport function renderQuickInputDescription(description, container, actionHandler) {\n    dom.reset(container);\n    const parsed = parseLinkedText(description);\n    let tabIndex = 0;\n    for (const node of parsed.nodes) {\n        if (typeof node === 'string') {\n            container.append(...renderLabelWithIcons(node));\n        }\n        else {\n            let title = node.title;\n            if (!title && node.href.startsWith('command:')) {\n                title = localize('executeCommand', \"Click to execute command '{0}'\", node.href.substring('command:'.length));\n            }\n            else if (!title) {\n                title = node.href;\n            }\n            const anchor = dom.$('a', { href: node.href, title, tabIndex: tabIndex++ }, node.label);\n            anchor.style.textDecoration = 'underline';\n            const handleOpen = (e) => {\n                if (dom.isEventLike(e)) {\n                    dom.EventHelper.stop(e, true);\n                }\n                actionHandler.callback(node.href);\n            };\n            const onClick = actionHandler.disposables.add(new DomEmitter(anchor, dom.EventType.CLICK)).event;\n            const onKeydown = actionHandler.disposables.add(new DomEmitter(anchor, dom.EventType.KEY_DOWN)).event;\n            const onSpaceOrEnter = Event.chain(onKeydown, $ => $.filter(e => {\n                const event = new StandardKeyboardEvent(e);\n                return event.equals(10 /* KeyCode.Space */) || event.equals(3 /* KeyCode.Enter */);\n            }));\n            actionHandler.disposables.add(Gesture.addTarget(anchor));\n            const onTap = actionHandler.disposables.add(new DomEmitter(anchor, GestureEventType.Tap)).event;\n            Event.any(onClick, onTap, onSpaceOrEnter)(handleOpen, null, actionHandler.disposables);\n            container.appendChild(anchor);\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar QuickPickItemElementRenderer_1;\nimport * as dom from '../../../base/browser/dom.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { localize } from '../../../nls.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { WorkbenchObjectTree } from '../../list/browser/listService.js';\nimport { IThemeService } from '../../theme/common/themeService.js';\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { OS, isMacintosh } from '../../../base/common/platform.js';\nimport { memoize } from '../../../base/common/decorators.js';\nimport { IconLabel } from '../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { KeybindingLabel } from '../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { isDark } from '../../theme/common/theme.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { quickInputButtonToAction } from './quickInputUtils.js';\nimport { Lazy } from '../../../base/common/lazy.js';\nimport { getCodiconAriaLabel, matchesFuzzyIconAware, parseLabelWithIcons } from '../../../base/common/iconLabels.js';\nimport { compareAnything } from '../../../base/common/comparers.js';\nimport { ltrim } from '../../../base/common/strings.js';\nimport { RenderIndentGuides } from '../../../base/browser/ui/tree/abstractTree.js';\nimport { ThrottledDelayer } from '../../../base/common/async.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nconst $ = dom.$;\nexport var QuickInputListFocus;\n(function (QuickInputListFocus) {\n    QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n    QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n    QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n    QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n    QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n    QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n    QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n    QuickInputListFocus[QuickInputListFocus[\"NextSeparator\"] = 8] = \"NextSeparator\";\n    QuickInputListFocus[QuickInputListFocus[\"PreviousSeparator\"] = 9] = \"PreviousSeparator\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\nclass BaseQuickPickItemElement {\n    constructor(index, hasCheckbox, mainItem) {\n        this.index = index;\n        this.hasCheckbox = hasCheckbox;\n        this._hidden = false;\n        this._init = new Lazy(() => {\n            var _a;\n            const saneLabel = (_a = mainItem.label) !== null && _a !== void 0 ? _a : '';\n            const saneSortLabel = parseLabelWithIcons(saneLabel).text.trim();\n            const saneAriaLabel = mainItem.ariaLabel || [saneLabel, this.saneDescription, this.saneDetail]\n                .map(s => getCodiconAriaLabel(s))\n                .filter(s => !!s)\n                .join(', ');\n            return {\n                saneLabel,\n                saneSortLabel,\n                saneAriaLabel\n            };\n        });\n        this._saneDescription = mainItem.description;\n        this._saneTooltip = mainItem.tooltip;\n    }\n    // #region Lazy Getters\n    get saneLabel() {\n        return this._init.value.saneLabel;\n    }\n    get saneSortLabel() {\n        return this._init.value.saneSortLabel;\n    }\n    get saneAriaLabel() {\n        return this._init.value.saneAriaLabel;\n    }\n    get element() {\n        return this._element;\n    }\n    set element(value) {\n        this._element = value;\n    }\n    get hidden() {\n        return this._hidden;\n    }\n    set hidden(value) {\n        this._hidden = value;\n    }\n    get saneDescription() {\n        return this._saneDescription;\n    }\n    set saneDescription(value) {\n        this._saneDescription = value;\n    }\n    get saneDetail() {\n        return this._saneDetail;\n    }\n    set saneDetail(value) {\n        this._saneDetail = value;\n    }\n    get saneTooltip() {\n        return this._saneTooltip;\n    }\n    set saneTooltip(value) {\n        this._saneTooltip = value;\n    }\n    get labelHighlights() {\n        return this._labelHighlights;\n    }\n    set labelHighlights(value) {\n        this._labelHighlights = value;\n    }\n    get descriptionHighlights() {\n        return this._descriptionHighlights;\n    }\n    set descriptionHighlights(value) {\n        this._descriptionHighlights = value;\n    }\n    get detailHighlights() {\n        return this._detailHighlights;\n    }\n    set detailHighlights(value) {\n        this._detailHighlights = value;\n    }\n}\nclass QuickPickItemElement extends BaseQuickPickItemElement {\n    constructor(index, hasCheckbox, fireButtonTriggered, _onChecked, item, _separator) {\n        var _a, _b, _c;\n        super(index, hasCheckbox, item);\n        this.fireButtonTriggered = fireButtonTriggered;\n        this._onChecked = _onChecked;\n        this.item = item;\n        this._separator = _separator;\n        this._checked = false;\n        this.onChecked = hasCheckbox\n            ? Event.map(Event.filter(this._onChecked.event, e => e.element === this), e => e.checked)\n            : Event.None;\n        this._saneDetail = item.detail;\n        this._labelHighlights = (_a = item.highlights) === null || _a === void 0 ? void 0 : _a.label;\n        this._descriptionHighlights = (_b = item.highlights) === null || _b === void 0 ? void 0 : _b.description;\n        this._detailHighlights = (_c = item.highlights) === null || _c === void 0 ? void 0 : _c.detail;\n    }\n    get separator() {\n        return this._separator;\n    }\n    set separator(value) {\n        this._separator = value;\n    }\n    get checked() {\n        return this._checked;\n    }\n    set checked(value) {\n        if (value !== this._checked) {\n            this._checked = value;\n            this._onChecked.fire({ element: this, checked: value });\n        }\n    }\n    get checkboxDisabled() {\n        return !!this.item.disabled;\n    }\n}\nvar QuickPickSeparatorFocusReason;\n(function (QuickPickSeparatorFocusReason) {\n    /**\n     * No item is hovered or active\n     */\n    QuickPickSeparatorFocusReason[QuickPickSeparatorFocusReason[\"NONE\"] = 0] = \"NONE\";\n    /**\n     * Some item within this section is hovered\n     */\n    QuickPickSeparatorFocusReason[QuickPickSeparatorFocusReason[\"MOUSE_HOVER\"] = 1] = \"MOUSE_HOVER\";\n    /**\n     * Some item within this section is active\n     */\n    QuickPickSeparatorFocusReason[QuickPickSeparatorFocusReason[\"ACTIVE_ITEM\"] = 2] = \"ACTIVE_ITEM\";\n})(QuickPickSeparatorFocusReason || (QuickPickSeparatorFocusReason = {}));\nclass QuickPickSeparatorElement extends BaseQuickPickItemElement {\n    constructor(index, fireSeparatorButtonTriggered, separator) {\n        super(index, false, separator);\n        this.fireSeparatorButtonTriggered = fireSeparatorButtonTriggered;\n        this.separator = separator;\n        this.children = new Array();\n        /**\n         * If this item is >0, it means that there is some item in the list that is either:\n         * * hovered over\n         * * active\n         */\n        this.focusInsideSeparator = QuickPickSeparatorFocusReason.NONE;\n    }\n}\nclass QuickInputItemDelegate {\n    getHeight(element) {\n        if (element instanceof QuickPickSeparatorElement) {\n            return 30;\n        }\n        return element.saneDetail ? 44 : 22;\n    }\n    getTemplateId(element) {\n        if (element instanceof QuickPickItemElement) {\n            return QuickPickItemElementRenderer.ID;\n        }\n        else {\n            return QuickPickSeparatorElementRenderer.ID;\n        }\n    }\n}\nclass QuickInputAccessibilityProvider {\n    getWidgetAriaLabel() {\n        return localize('quickInput', \"Quick Input\");\n    }\n    getAriaLabel(element) {\n        var _a;\n        return ((_a = element.separator) === null || _a === void 0 ? void 0 : _a.label)\n            ? `${element.saneAriaLabel}, ${element.separator.label}`\n            : element.saneAriaLabel;\n    }\n    getWidgetRole() {\n        return 'listbox';\n    }\n    getRole(element) {\n        return element.hasCheckbox ? 'checkbox' : 'option';\n    }\n    isChecked(element) {\n        if (!element.hasCheckbox || !(element instanceof QuickPickItemElement)) {\n            return undefined;\n        }\n        return {\n            get value() { return element.checked; },\n            onDidChange: e => element.onChecked(() => e()),\n        };\n    }\n}\nclass BaseQuickInputListRenderer {\n    constructor(hoverDelegate) {\n        this.hoverDelegate = hoverDelegate;\n    }\n    // TODO: only do the common stuff here and have a subclass handle their specific stuff\n    renderTemplate(container) {\n        const data = Object.create(null);\n        data.toDisposeElement = new DisposableStore();\n        data.toDisposeTemplate = new DisposableStore();\n        data.entry = dom.append(container, $('.quick-input-list-entry'));\n        // Checkbox\n        const label = dom.append(data.entry, $('label.quick-input-list-label'));\n        data.toDisposeTemplate.add(dom.addStandardDisposableListener(label, dom.EventType.CLICK, e => {\n            if (!data.checkbox.offsetParent) { // If checkbox not visible:\n                e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n            }\n        }));\n        data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n        data.checkbox.type = 'checkbox';\n        // Rows\n        const rows = dom.append(label, $('.quick-input-list-rows'));\n        const row1 = dom.append(rows, $('.quick-input-list-row'));\n        const row2 = dom.append(rows, $('.quick-input-list-row'));\n        // Label\n        data.label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportIcons: true, hoverDelegate: this.hoverDelegate });\n        data.toDisposeTemplate.add(data.label);\n        data.icon = dom.prepend(data.label.element, $('.quick-input-list-icon'));\n        // Keybinding\n        const keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n        data.keybinding = new KeybindingLabel(keybindingContainer, OS);\n        data.toDisposeTemplate.add(data.keybinding);\n        // Detail\n        const detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n        data.detail = new IconLabel(detailContainer, { supportHighlights: true, supportIcons: true, hoverDelegate: this.hoverDelegate });\n        data.toDisposeTemplate.add(data.detail);\n        // Separator\n        data.separator = dom.append(data.entry, $('.quick-input-list-separator'));\n        // Actions\n        data.actionBar = new ActionBar(data.entry, this.hoverDelegate ? { hoverDelegate: this.hoverDelegate } : undefined);\n        data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n        data.toDisposeTemplate.add(data.actionBar);\n        return data;\n    }\n    disposeTemplate(data) {\n        data.toDisposeElement.dispose();\n        data.toDisposeTemplate.dispose();\n    }\n    disposeElement(_element, _index, data) {\n        data.toDisposeElement.clear();\n        data.actionBar.clear();\n    }\n}\nlet QuickPickItemElementRenderer = QuickPickItemElementRenderer_1 = class QuickPickItemElementRenderer extends BaseQuickInputListRenderer {\n    constructor(hoverDelegate, themeService) {\n        super(hoverDelegate);\n        this.themeService = themeService;\n        // Follow what we do in the separator renderer\n        this._itemsWithSeparatorsFrequency = new Map();\n    }\n    get templateId() {\n        return QuickPickItemElementRenderer_1.ID;\n    }\n    renderTemplate(container) {\n        const data = super.renderTemplate(container);\n        data.toDisposeTemplate.add(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {\n            data.element.checked = data.checkbox.checked;\n        }));\n        return data;\n    }\n    renderElement(node, index, data) {\n        var _a, _b, _c;\n        const element = node.element;\n        data.element = element;\n        element.element = (_a = data.entry) !== null && _a !== void 0 ? _a : undefined;\n        const mainItem = element.item;\n        data.checkbox.checked = element.checked;\n        data.toDisposeElement.add(element.onChecked(checked => data.checkbox.checked = checked));\n        data.checkbox.disabled = element.checkboxDisabled;\n        const { labelHighlights, descriptionHighlights, detailHighlights } = element;\n        // Icon\n        if (mainItem.iconPath) {\n            const icon = isDark(this.themeService.getColorTheme().type) ? mainItem.iconPath.dark : ((_b = mainItem.iconPath.light) !== null && _b !== void 0 ? _b : mainItem.iconPath.dark);\n            const iconUrl = URI.revive(icon);\n            data.icon.className = 'quick-input-list-icon';\n            data.icon.style.backgroundImage = dom.asCSSUrl(iconUrl);\n        }\n        else {\n            data.icon.style.backgroundImage = '';\n            data.icon.className = mainItem.iconClass ? `quick-input-list-icon ${mainItem.iconClass}` : '';\n        }\n        // Label\n        let descriptionTitle;\n        // if we have a tooltip, that will be the hover,\n        // with the saneDescription as fallback if it\n        // is defined\n        if (!element.saneTooltip && element.saneDescription) {\n            descriptionTitle = {\n                markdown: {\n                    value: element.saneDescription,\n                    supportThemeIcons: true\n                },\n                markdownNotSupportedFallback: element.saneDescription\n            };\n        }\n        const options = {\n            matches: labelHighlights || [],\n            // If we have a tooltip, we want that to be shown and not any other hover\n            descriptionTitle,\n            descriptionMatches: descriptionHighlights || [],\n            labelEscapeNewLines: true\n        };\n        options.extraClasses = mainItem.iconClasses;\n        options.italic = mainItem.italic;\n        options.strikethrough = mainItem.strikethrough;\n        data.entry.classList.remove('quick-input-list-separator-as-item');\n        data.label.setLabel(element.saneLabel, element.saneDescription, options);\n        // Keybinding\n        data.keybinding.set(mainItem.keybinding);\n        // Detail\n        if (element.saneDetail) {\n            let title;\n            // If we have a tooltip, we want that to be shown and not any other hover\n            if (!element.saneTooltip) {\n                title = {\n                    markdown: {\n                        value: element.saneDetail,\n                        supportThemeIcons: true\n                    },\n                    markdownNotSupportedFallback: element.saneDetail\n                };\n            }\n            data.detail.element.style.display = '';\n            data.detail.setLabel(element.saneDetail, undefined, {\n                matches: detailHighlights,\n                title,\n                labelEscapeNewLines: true\n            });\n        }\n        else {\n            data.detail.element.style.display = 'none';\n        }\n        // Separator\n        if ((_c = element.separator) === null || _c === void 0 ? void 0 : _c.label) {\n            data.separator.textContent = element.separator.label;\n            data.separator.style.display = '';\n            this.addItemWithSeparator(element);\n        }\n        else {\n            data.separator.style.display = 'none';\n        }\n        data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator);\n        // Actions\n        const buttons = mainItem.buttons;\n        if (buttons && buttons.length) {\n            data.actionBar.push(buttons.map((button, index) => quickInputButtonToAction(button, `id-${index}`, () => element.fireButtonTriggered({ button, item: element.item }))), { icon: true, label: false });\n            data.entry.classList.add('has-actions');\n        }\n        else {\n            data.entry.classList.remove('has-actions');\n        }\n    }\n    disposeElement(element, _index, data) {\n        this.removeItemWithSeparator(element.element);\n        super.disposeElement(element, _index, data);\n    }\n    isItemWithSeparatorVisible(item) {\n        return this._itemsWithSeparatorsFrequency.has(item);\n    }\n    addItemWithSeparator(item) {\n        this._itemsWithSeparatorsFrequency.set(item, (this._itemsWithSeparatorsFrequency.get(item) || 0) + 1);\n    }\n    removeItemWithSeparator(item) {\n        const frequency = this._itemsWithSeparatorsFrequency.get(item) || 0;\n        if (frequency > 1) {\n            this._itemsWithSeparatorsFrequency.set(item, frequency - 1);\n        }\n        else {\n            this._itemsWithSeparatorsFrequency.delete(item);\n        }\n    }\n};\nQuickPickItemElementRenderer.ID = 'quickpickitem';\nQuickPickItemElementRenderer = QuickPickItemElementRenderer_1 = __decorate([\n    __param(1, IThemeService)\n], QuickPickItemElementRenderer);\nclass QuickPickSeparatorElementRenderer extends BaseQuickInputListRenderer {\n    constructor() {\n        super(...arguments);\n        // This is a frequency map because sticky scroll re-uses the same renderer to render a second\n        // instance of the same separator.\n        this._visibleSeparatorsFrequency = new Map();\n    }\n    get templateId() {\n        return QuickPickSeparatorElementRenderer.ID;\n    }\n    get visibleSeparators() {\n        return [...this._visibleSeparatorsFrequency.keys()];\n    }\n    isSeparatorVisible(separator) {\n        return this._visibleSeparatorsFrequency.has(separator);\n    }\n    renderElement(node, index, data) {\n        var _a;\n        const element = node.element;\n        data.element = element;\n        element.element = (_a = data.entry) !== null && _a !== void 0 ? _a : undefined;\n        element.element.classList.toggle('focus-inside', !!element.focusInsideSeparator);\n        const mainItem = element.separator;\n        const { labelHighlights, descriptionHighlights, detailHighlights } = element;\n        // Icon\n        data.icon.style.backgroundImage = '';\n        data.icon.className = '';\n        // Label\n        let descriptionTitle;\n        // if we have a tooltip, that will be the hover,\n        // with the saneDescription as fallback if it\n        // is defined\n        if (!element.saneTooltip && element.saneDescription) {\n            descriptionTitle = {\n                markdown: {\n                    value: element.saneDescription,\n                    supportThemeIcons: true\n                },\n                markdownNotSupportedFallback: element.saneDescription\n            };\n        }\n        const options = {\n            matches: labelHighlights || [],\n            // If we have a tooltip, we want that to be shown and not any other hover\n            descriptionTitle,\n            descriptionMatches: descriptionHighlights || [],\n            labelEscapeNewLines: true\n        };\n        data.entry.classList.add('quick-input-list-separator-as-item');\n        data.label.setLabel(element.saneLabel, element.saneDescription, options);\n        // Detail\n        if (element.saneDetail) {\n            let title;\n            // If we have a tooltip, we want that to be shown and not any other hover\n            if (!element.saneTooltip) {\n                title = {\n                    markdown: {\n                        value: element.saneDetail,\n                        supportThemeIcons: true\n                    },\n                    markdownNotSupportedFallback: element.saneDetail\n                };\n            }\n            data.detail.element.style.display = '';\n            data.detail.setLabel(element.saneDetail, undefined, {\n                matches: detailHighlights,\n                title,\n                labelEscapeNewLines: true\n            });\n        }\n        else {\n            data.detail.element.style.display = 'none';\n        }\n        // Separator\n        data.separator.style.display = 'none';\n        data.entry.classList.add('quick-input-list-separator-border');\n        // Actions\n        const buttons = mainItem.buttons;\n        if (buttons && buttons.length) {\n            data.actionBar.push(buttons.map((button, index) => quickInputButtonToAction(button, `id-${index}`, () => element.fireSeparatorButtonTriggered({ button, separator: element.separator }))), { icon: true, label: false });\n            data.entry.classList.add('has-actions');\n        }\n        else {\n            data.entry.classList.remove('has-actions');\n        }\n        this.addSeparator(element);\n    }\n    disposeElement(element, _index, data) {\n        var _a;\n        this.removeSeparator(element.element);\n        if (!this.isSeparatorVisible(element.element)) {\n            (_a = element.element.element) === null || _a === void 0 ? void 0 : _a.classList.remove('focus-inside');\n        }\n        super.disposeElement(element, _index, data);\n    }\n    addSeparator(separator) {\n        this._visibleSeparatorsFrequency.set(separator, (this._visibleSeparatorsFrequency.get(separator) || 0) + 1);\n    }\n    removeSeparator(separator) {\n        const frequency = this._visibleSeparatorsFrequency.get(separator) || 0;\n        if (frequency > 1) {\n            this._visibleSeparatorsFrequency.set(separator, frequency - 1);\n        }\n        else {\n            this._visibleSeparatorsFrequency.delete(separator);\n        }\n    }\n}\nQuickPickSeparatorElementRenderer.ID = 'quickpickseparator';\nlet QuickInputTree = class QuickInputTree extends Disposable {\n    constructor(parent, hoverDelegate, linkOpenerDelegate, id, instantiationService) {\n        super();\n        this.parent = parent;\n        this.hoverDelegate = hoverDelegate;\n        this.linkOpenerDelegate = linkOpenerDelegate;\n        this._onKeyDown = new Emitter();\n        /**\n         * Event that is fired when the tree receives a keydown.\n        */\n        this.onKeyDown = this._onKeyDown.event;\n        this._onLeave = new Emitter();\n        /**\n         * Event that is fired when the tree would no longer have focus.\n        */\n        this.onLeave = this._onLeave.event;\n        this._onChangedAllVisibleChecked = new Emitter();\n        this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\n        this._onChangedCheckedCount = new Emitter();\n        this.onChangedCheckedCount = this._onChangedCheckedCount.event;\n        this._onChangedVisibleCount = new Emitter();\n        this.onChangedVisibleCount = this._onChangedVisibleCount.event;\n        this._onChangedCheckedElements = new Emitter();\n        this.onChangedCheckedElements = this._onChangedCheckedElements.event;\n        this._onButtonTriggered = new Emitter();\n        this.onButtonTriggered = this._onButtonTriggered.event;\n        this._onSeparatorButtonTriggered = new Emitter();\n        this.onSeparatorButtonTriggered = this._onSeparatorButtonTriggered.event;\n        this._onTriggerEmptySelectionOrFocus = new Emitter();\n        this._elementChecked = new Emitter();\n        this._inputElements = new Array();\n        this._elementTree = new Array();\n        this._itemElements = new Array();\n        // Elements that apply to the current set of elements\n        this._elementDisposable = this._register(new DisposableStore());\n        // This is used to prevent setting the checked state of a single element from firing the checked events\n        // so that we can batch them together. This can probably be improved by handling events differently,\n        // but this works for now. An observable would probably be ideal for this.\n        this._shouldFireCheckedEvents = true;\n        this._matchOnDescription = false;\n        this._matchOnDetail = false;\n        this._matchOnLabel = true;\n        this._matchOnLabelMode = 'fuzzy';\n        this._sortByLabel = true;\n        this._container = dom.append(this.parent, $('.quick-input-list'));\n        this._separatorRenderer = new QuickPickSeparatorElementRenderer(hoverDelegate);\n        this._itemRenderer = instantiationService.createInstance(QuickPickItemElementRenderer, hoverDelegate);\n        this._tree = this._register(instantiationService.createInstance((WorkbenchObjectTree), 'QuickInput', this._container, new QuickInputItemDelegate(), [this._itemRenderer, this._separatorRenderer], {\n            accessibilityProvider: new QuickInputAccessibilityProvider(),\n            setRowLineHeight: false,\n            multipleSelectionSupport: false,\n            hideTwistiesOfChildlessElements: true,\n            renderIndentGuides: RenderIndentGuides.None,\n            findWidgetEnabled: false,\n            indent: 0,\n            horizontalScrolling: false,\n            allowNonCollapsibleParents: true,\n            identityProvider: {\n                getId: element => {\n                    // always prefer item over separator because if item is defined, it must be the main item type\n                    const mainItem = element.item || element.separator;\n                    if (mainItem === undefined) {\n                        return '';\n                    }\n                    // always prefer a defined id if one was specified and use \"label + description + detail\" as a fallback\n                    if (mainItem.id !== undefined) {\n                        return mainItem.id;\n                    }\n                    let id = `label:${mainItem.label}`;\n                    id += `$$description:${mainItem.description}`;\n                    if (mainItem.type !== 'separator') {\n                        id += `$$detail:${mainItem.detail}`;\n                    }\n                    return id;\n                },\n            },\n            alwaysConsumeMouseWheel: true\n        }));\n        this._tree.getHTMLElement().id = id;\n        this._registerListeners();\n    }\n    //#region public getters/setters\n    get onDidChangeFocus() {\n        return Event.map(Event.any(this._tree.onDidChangeFocus, this._onTriggerEmptySelectionOrFocus.event), e => e.elements.filter((e) => e instanceof QuickPickItemElement).map(e => e.item));\n    }\n    get onDidChangeSelection() {\n        return Event.map(Event.any(this._tree.onDidChangeSelection, this._onTriggerEmptySelectionOrFocus.event), e => ({\n            items: e.elements.filter((e) => e instanceof QuickPickItemElement).map(e => e.item),\n            event: e.browserEvent\n        }));\n    }\n    get scrollTop() {\n        return this._tree.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this._tree.scrollTop = scrollTop;\n    }\n    get ariaLabel() {\n        return this._tree.ariaLabel;\n    }\n    set ariaLabel(label) {\n        this._tree.ariaLabel = label !== null && label !== void 0 ? label : '';\n    }\n    set enabled(value) {\n        this._tree.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n    }\n    get matchOnDescription() {\n        return this._matchOnDescription;\n    }\n    set matchOnDescription(value) {\n        this._matchOnDescription = value;\n    }\n    get matchOnDetail() {\n        return this._matchOnDetail;\n    }\n    set matchOnDetail(value) {\n        this._matchOnDetail = value;\n    }\n    get matchOnLabel() {\n        return this._matchOnLabel;\n    }\n    set matchOnLabel(value) {\n        this._matchOnLabel = value;\n    }\n    get matchOnLabelMode() {\n        return this._matchOnLabelMode;\n    }\n    set matchOnLabelMode(value) {\n        this._matchOnLabelMode = value;\n    }\n    get sortByLabel() {\n        return this._sortByLabel;\n    }\n    set sortByLabel(value) {\n        this._sortByLabel = value;\n    }\n    //#endregion\n    //#region register listeners\n    _registerListeners() {\n        this._registerOnKeyDown();\n        this._registerOnContainerClick();\n        this._registerOnMouseMiddleClick();\n        this._registerOnElementChecked();\n        this._registerOnContextMenu();\n        this._registerHoverListeners();\n        this._registerSelectionChangeListener();\n        this._registerSeparatorActionShowingListeners();\n    }\n    _registerOnKeyDown() {\n        // TODO: Should this be added at a higher level?\n        this._register(this._tree.onKeyDown(e => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 10 /* KeyCode.Space */:\n                    this.toggleCheckbox();\n                    break;\n                case 31 /* KeyCode.KeyA */:\n                    if (isMacintosh ? e.metaKey : e.ctrlKey) {\n                        this._tree.setFocus(this._itemElements);\n                    }\n                    break;\n                // When we hit the top of the tree, we fire the onLeave event.\n                case 16 /* KeyCode.UpArrow */: {\n                    const focus1 = this._tree.getFocus();\n                    if (focus1.length === 1 && focus1[0] === this._itemElements[0]) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n                // When we hit the bottom of the tree, we fire the onLeave event.\n                case 18 /* KeyCode.DownArrow */: {\n                    const focus2 = this._tree.getFocus();\n                    if (focus2.length === 1 && focus2[0] === this._itemElements[this._itemElements.length - 1]) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n            }\n            this._onKeyDown.fire(event);\n        }));\n    }\n    _registerOnContainerClick() {\n        this._register(dom.addDisposableListener(this._container, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space' on checkbox.\n                this._onLeave.fire();\n            }\n        }));\n    }\n    _registerOnMouseMiddleClick() {\n        this._register(dom.addDisposableListener(this._container, dom.EventType.AUXCLICK, e => {\n            if (e.button === 1) {\n                this._onLeave.fire();\n            }\n        }));\n    }\n    _registerOnElementChecked() {\n        this._register(this._elementChecked.event(_ => this._fireCheckedEvents()));\n    }\n    _registerOnContextMenu() {\n        this._register(this._tree.onContextMenu(e => {\n            if (e.element) {\n                e.browserEvent.preventDefault();\n                // we want to treat a context menu event as\n                // a gesture to open the item at the index\n                // since we do not have any context menu\n                // this enables for example macOS to Ctrl-\n                // click on an item to open it.\n                this._tree.setSelection([e.element]);\n            }\n        }));\n    }\n    _registerHoverListeners() {\n        const delayer = this._register(new ThrottledDelayer(this.hoverDelegate.delay));\n        this._register(this._tree.onMouseOver(async (e) => {\n            var _a;\n            // If we hover over an anchor element, we don't want to show the hover because\n            // the anchor may have a tooltip that we want to show instead.\n            if (e.browserEvent.target instanceof HTMLAnchorElement) {\n                delayer.cancel();\n                return;\n            }\n            if (\n            // anchors are an exception as called out above so we skip them here\n            !(e.browserEvent.relatedTarget instanceof HTMLAnchorElement) &&\n                // check if the mouse is still over the same element\n                dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                return;\n            }\n            try {\n                await delayer.trigger(async () => {\n                    if (e.element instanceof QuickPickItemElement) {\n                        this.showHover(e.element);\n                    }\n                });\n            }\n            catch (e) {\n                // Ignore cancellation errors due to mouse out\n                if (!isCancellationError(e)) {\n                    throw e;\n                }\n            }\n        }));\n        this._register(this._tree.onMouseOut(e => {\n            var _a;\n            // onMouseOut triggers every time a new element has been moused over\n            // even if it's on the same list item. We only want one event, so we\n            // check if the mouse is still over the same element.\n            if (dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                return;\n            }\n            delayer.cancel();\n        }));\n    }\n    /**\n     * Register's focus change and mouse events so that we can track when items inside of a\n     * separator's section are focused or hovered so that we can display the separator's actions\n     */\n    _registerSeparatorActionShowingListeners() {\n        this._register(this._tree.onDidChangeFocus(e => {\n            const parent = e.elements[0]\n                ? this._tree.getParentElement(e.elements[0])\n                // treat null as focus lost and when we have no separators\n                : null;\n            for (const separator of this._separatorRenderer.visibleSeparators) {\n                const value = separator === parent;\n                // get bitness of ACTIVE_ITEM and check if it changed\n                const currentActive = !!(separator.focusInsideSeparator & QuickPickSeparatorFocusReason.ACTIVE_ITEM);\n                if (currentActive !== value) {\n                    if (value) {\n                        separator.focusInsideSeparator |= QuickPickSeparatorFocusReason.ACTIVE_ITEM;\n                    }\n                    else {\n                        separator.focusInsideSeparator &= ~QuickPickSeparatorFocusReason.ACTIVE_ITEM;\n                    }\n                    this._tree.rerender(separator);\n                }\n            }\n        }));\n        this._register(this._tree.onMouseOver(e => {\n            const parent = e.element\n                ? this._tree.getParentElement(e.element)\n                : null;\n            for (const separator of this._separatorRenderer.visibleSeparators) {\n                if (separator !== parent) {\n                    continue;\n                }\n                const currentMouse = !!(separator.focusInsideSeparator & QuickPickSeparatorFocusReason.MOUSE_HOVER);\n                if (!currentMouse) {\n                    separator.focusInsideSeparator |= QuickPickSeparatorFocusReason.MOUSE_HOVER;\n                    this._tree.rerender(separator);\n                }\n            }\n        }));\n        this._register(this._tree.onMouseOut(e => {\n            const parent = e.element\n                ? this._tree.getParentElement(e.element)\n                : null;\n            for (const separator of this._separatorRenderer.visibleSeparators) {\n                if (separator !== parent) {\n                    continue;\n                }\n                const currentMouse = !!(separator.focusInsideSeparator & QuickPickSeparatorFocusReason.MOUSE_HOVER);\n                if (currentMouse) {\n                    separator.focusInsideSeparator &= ~QuickPickSeparatorFocusReason.MOUSE_HOVER;\n                    this._tree.rerender(separator);\n                }\n            }\n        }));\n    }\n    _registerSelectionChangeListener() {\n        // When the user selects a separator, the separator will move to the top and focus will be\n        // set to the first element after the separator.\n        this._register(this._tree.onDidChangeSelection(e => {\n            const elementsWithoutSeparators = e.elements.filter((e) => e instanceof QuickPickItemElement);\n            if (elementsWithoutSeparators.length !== e.elements.length) {\n                if (e.elements.length === 1 && e.elements[0] instanceof QuickPickSeparatorElement) {\n                    this._tree.setFocus([e.elements[0].children[0]]);\n                    this._tree.reveal(e.elements[0], 0);\n                }\n                this._tree.setSelection(elementsWithoutSeparators);\n            }\n        }));\n    }\n    //#endregion\n    //#region public methods\n    getAllVisibleChecked() {\n        return this._allVisibleChecked(this._itemElements, false);\n    }\n    getCheckedCount() {\n        return this._itemElements.filter(element => element.checked).length;\n    }\n    getVisibleCount() {\n        return this._itemElements.filter(e => !e.hidden).length;\n    }\n    setAllVisibleChecked(checked) {\n        try {\n            this._shouldFireCheckedEvents = false;\n            this._itemElements.forEach(element => {\n                if (!element.hidden && !element.checkboxDisabled) {\n                    // Would fire an event if we didn't have the flag set\n                    element.checked = checked;\n                }\n            });\n        }\n        finally {\n            this._shouldFireCheckedEvents = true;\n            this._fireCheckedEvents();\n        }\n    }\n    setElements(inputElements) {\n        this._elementDisposable.clear();\n        this._inputElements = inputElements;\n        const hasCheckbox = this.parent.classList.contains('show-checkboxes');\n        let currentSeparatorElement;\n        this._itemElements = new Array();\n        this._elementTree = inputElements.reduce((result, item, index) => {\n            let element;\n            if (item.type === 'separator') {\n                if (!item.buttons) {\n                    // This separator will be rendered as a part of the list item\n                    return result;\n                }\n                currentSeparatorElement = new QuickPickSeparatorElement(index, (event) => this.fireSeparatorButtonTriggered(event), item);\n                element = currentSeparatorElement;\n            }\n            else {\n                const previous = index > 0 ? inputElements[index - 1] : undefined;\n                let separator;\n                if (previous && previous.type === 'separator' && !previous.buttons) {\n                    // Found an inline separator so we clear out the current separator element\n                    currentSeparatorElement = undefined;\n                    separator = previous;\n                }\n                const qpi = new QuickPickItemElement(index, hasCheckbox, (event) => this.fireButtonTriggered(event), this._elementChecked, item, separator);\n                this._itemElements.push(qpi);\n                if (currentSeparatorElement) {\n                    currentSeparatorElement.children.push(qpi);\n                    return result;\n                }\n                element = qpi;\n            }\n            result.push(element);\n            return result;\n        }, new Array());\n        const elements = new Array();\n        let visibleCount = 0;\n        for (const element of this._elementTree) {\n            if (element instanceof QuickPickSeparatorElement) {\n                elements.push({\n                    element,\n                    collapsible: false,\n                    collapsed: false,\n                    children: element.children.map(e => ({\n                        element: e,\n                        collapsible: false,\n                        collapsed: false,\n                    })),\n                });\n                visibleCount += element.children.length + 1; // +1 for the separator itself;\n            }\n            else {\n                elements.push({\n                    element,\n                    collapsible: false,\n                    collapsed: false,\n                });\n                visibleCount++;\n            }\n        }\n        this._tree.setChildren(null, elements);\n        this._onChangedVisibleCount.fire(visibleCount);\n    }\n    setFocusedElements(items) {\n        const elements = items.map(item => this._itemElements.find(e => e.item === item))\n            .filter((e) => !!e);\n        this._tree.setFocus(elements);\n        if (items.length > 0) {\n            const focused = this._tree.getFocus()[0];\n            if (focused) {\n                this._tree.reveal(focused);\n            }\n        }\n    }\n    getActiveDescendant() {\n        return this._tree.getHTMLElement().getAttribute('aria-activedescendant');\n    }\n    setSelectedElements(items) {\n        const elements = items.map(item => this._itemElements.find(e => e.item === item))\n            .filter((e) => !!e);\n        this._tree.setSelection(elements);\n    }\n    getCheckedElements() {\n        return this._itemElements.filter(e => e.checked)\n            .map(e => e.item);\n    }\n    setCheckedElements(items) {\n        try {\n            this._shouldFireCheckedEvents = false;\n            const checked = new Set();\n            for (const item of items) {\n                checked.add(item);\n            }\n            for (const element of this._itemElements) {\n                // Would fire an event if we didn't have the flag set\n                element.checked = checked.has(element.item);\n            }\n        }\n        finally {\n            this._shouldFireCheckedEvents = true;\n            this._fireCheckedEvents();\n        }\n    }\n    focus(what) {\n        var _a;\n        if (!this._itemElements.length) {\n            return;\n        }\n        if (what === QuickInputListFocus.Second && this._itemElements.length < 2) {\n            what = QuickInputListFocus.First;\n        }\n        switch (what) {\n            case QuickInputListFocus.First:\n                this._tree.scrollTop = 0;\n                this._tree.focusFirst(undefined, (e) => e.element instanceof QuickPickItemElement);\n                break;\n            case QuickInputListFocus.Second:\n                this._tree.scrollTop = 0;\n                this._tree.setFocus([this._itemElements[1]]);\n                break;\n            case QuickInputListFocus.Last:\n                this._tree.scrollTop = this._tree.scrollHeight;\n                this._tree.setFocus([this._itemElements[this._itemElements.length - 1]]);\n                break;\n            case QuickInputListFocus.Next:\n                this._tree.focusNext(undefined, true, undefined, (e) => {\n                    if (!(e.element instanceof QuickPickItemElement)) {\n                        return false;\n                    }\n                    this._tree.reveal(e.element);\n                    return true;\n                });\n                break;\n            case QuickInputListFocus.Previous:\n                this._tree.focusPrevious(undefined, true, undefined, (e) => {\n                    if (!(e.element instanceof QuickPickItemElement)) {\n                        return false;\n                    }\n                    const parent = this._tree.getParentElement(e.element);\n                    if (parent === null || parent.children[0] !== e.element) {\n                        this._tree.reveal(e.element);\n                    }\n                    else {\n                        // Only if we are the first child of a separator do we reveal the separator\n                        this._tree.reveal(parent);\n                    }\n                    return true;\n                });\n                break;\n            case QuickInputListFocus.NextPage:\n                this._tree.focusNextPage(undefined, (e) => {\n                    if (!(e.element instanceof QuickPickItemElement)) {\n                        return false;\n                    }\n                    this._tree.reveal(e.element);\n                    return true;\n                });\n                break;\n            case QuickInputListFocus.PreviousPage:\n                this._tree.focusPreviousPage(undefined, (e) => {\n                    if (!(e.element instanceof QuickPickItemElement)) {\n                        return false;\n                    }\n                    const parent = this._tree.getParentElement(e.element);\n                    if (parent === null || parent.children[0] !== e.element) {\n                        this._tree.reveal(e.element);\n                    }\n                    else {\n                        this._tree.reveal(parent);\n                    }\n                    return true;\n                });\n                break;\n            case QuickInputListFocus.NextSeparator: {\n                let foundSeparatorAsItem = false;\n                const before = this._tree.getFocus()[0];\n                this._tree.focusNext(undefined, true, undefined, (e) => {\n                    if (foundSeparatorAsItem) {\n                        // This should be the index right after the separator so it\n                        // is the item we want to focus.\n                        return true;\n                    }\n                    if (e.element instanceof QuickPickSeparatorElement) {\n                        foundSeparatorAsItem = true;\n                        // If the separator is visible, then we should just reveal its first child so it's not as jarring.\n                        if (this._separatorRenderer.isSeparatorVisible(e.element)) {\n                            this._tree.reveal(e.element.children[0]);\n                        }\n                        else {\n                            // If the separator is not visible, then we should\n                            // push it up to the top of the list.\n                            this._tree.reveal(e.element, 0);\n                        }\n                    }\n                    else if (e.element instanceof QuickPickItemElement) {\n                        if (e.element.separator) {\n                            if (this._itemRenderer.isItemWithSeparatorVisible(e.element)) {\n                                this._tree.reveal(e.element);\n                            }\n                            else {\n                                this._tree.reveal(e.element, 0);\n                            }\n                            return true;\n                        }\n                        else if (e.element === this._elementTree[0]) {\n                            // We should stop at the first item in the list if it's a regular item.\n                            this._tree.reveal(e.element, 0);\n                            return true;\n                        }\n                    }\n                    return false;\n                });\n                const after = this._tree.getFocus()[0];\n                if (before === after) {\n                    // If we didn't move, then we should just move to the end\n                    // of the list.\n                    this._tree.scrollTop = this._tree.scrollHeight;\n                    this._tree.setFocus([this._itemElements[this._itemElements.length - 1]]);\n                }\n                break;\n            }\n            case QuickInputListFocus.PreviousSeparator: {\n                let focusElement;\n                // If we are already sitting on an inline separator, then we\n                // have already found the _current_ separator and need to\n                // move to the previous one.\n                let foundSeparator = !!((_a = this._tree.getFocus()[0]) === null || _a === void 0 ? void 0 : _a.separator);\n                this._tree.focusPrevious(undefined, true, undefined, (e) => {\n                    if (e.element instanceof QuickPickSeparatorElement) {\n                        if (foundSeparator) {\n                            if (!focusElement) {\n                                if (this._separatorRenderer.isSeparatorVisible(e.element)) {\n                                    this._tree.reveal(e.element);\n                                }\n                                else {\n                                    this._tree.reveal(e.element, 0);\n                                }\n                                focusElement = e.element.children[0];\n                            }\n                        }\n                        else {\n                            foundSeparator = true;\n                        }\n                    }\n                    else if (e.element instanceof QuickPickItemElement) {\n                        if (!focusElement) {\n                            if (e.element.separator) {\n                                if (this._itemRenderer.isItemWithSeparatorVisible(e.element)) {\n                                    this._tree.reveal(e.element);\n                                }\n                                else {\n                                    this._tree.reveal(e.element, 0);\n                                }\n                                focusElement = e.element;\n                            }\n                            else if (e.element === this._elementTree[0]) {\n                                // We should stop at the first item in the list if it's a regular item.\n                                this._tree.reveal(e.element, 0);\n                                return true;\n                            }\n                        }\n                    }\n                    return false;\n                });\n                if (focusElement) {\n                    this._tree.setFocus([focusElement]);\n                }\n                break;\n            }\n        }\n    }\n    clearFocus() {\n        this._tree.setFocus([]);\n    }\n    domFocus() {\n        this._tree.domFocus();\n    }\n    layout(maxHeight) {\n        this._tree.getHTMLElement().style.maxHeight = maxHeight ? `${\n        // Make sure height aligns with list item heights\n        Math.floor(maxHeight / 44) * 44\n            // Add some extra height so that it's clear there's more to scroll\n            + 6}px` : '';\n        this._tree.layout();\n    }\n    filter(query) {\n        if (!(this._sortByLabel || this._matchOnLabel || this._matchOnDescription || this._matchOnDetail)) {\n            this._tree.layout();\n            return false;\n        }\n        const queryWithWhitespace = query;\n        query = query.trim();\n        // Reset filtering\n        if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this._itemElements.forEach(element => {\n                element.labelHighlights = undefined;\n                element.descriptionHighlights = undefined;\n                element.detailHighlights = undefined;\n                element.hidden = false;\n                const previous = element.index && this._inputElements[element.index - 1];\n                if (element.item) {\n                    element.separator = previous && previous.type === 'separator' && !previous.buttons ? previous : undefined;\n                }\n            });\n        }\n        // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n        else {\n            let currentSeparator;\n            this._elementTree.forEach(element => {\n                var _a, _b, _c, _d;\n                let labelHighlights;\n                if (this.matchOnLabelMode === 'fuzzy') {\n                    labelHighlights = this.matchOnLabel ? (_a = matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) !== null && _a !== void 0 ? _a : undefined : undefined;\n                }\n                else {\n                    labelHighlights = this.matchOnLabel ? (_b = matchesContiguousIconAware(queryWithWhitespace, parseLabelWithIcons(element.saneLabel))) !== null && _b !== void 0 ? _b : undefined : undefined;\n                }\n                const descriptionHighlights = this.matchOnDescription ? (_c = matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) !== null && _c !== void 0 ? _c : undefined : undefined;\n                const detailHighlights = this.matchOnDetail ? (_d = matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) !== null && _d !== void 0 ? _d : undefined : undefined;\n                if (labelHighlights || descriptionHighlights || detailHighlights) {\n                    element.labelHighlights = labelHighlights;\n                    element.descriptionHighlights = descriptionHighlights;\n                    element.detailHighlights = detailHighlights;\n                    element.hidden = false;\n                }\n                else {\n                    element.labelHighlights = undefined;\n                    element.descriptionHighlights = undefined;\n                    element.detailHighlights = undefined;\n                    element.hidden = element.item ? !element.item.alwaysShow : true;\n                }\n                // Ensure separators are filtered out first before deciding if we need to bring them back\n                if (element.item) {\n                    element.separator = undefined;\n                }\n                else if (element.separator) {\n                    element.hidden = true;\n                }\n                // we can show the separator unless the list gets sorted by match\n                if (!this.sortByLabel) {\n                    const previous = element.index && this._inputElements[element.index - 1];\n                    currentSeparator = previous && previous.type === 'separator' ? previous : currentSeparator;\n                    if (currentSeparator && !element.hidden) {\n                        element.separator = currentSeparator;\n                        currentSeparator = undefined;\n                    }\n                }\n            });\n        }\n        const shownElements = this._elementTree.filter(element => !element.hidden);\n        // Sort by value\n        if (this.sortByLabel && query) {\n            const normalizedSearchValue = query.toLowerCase();\n            shownElements.sort((a, b) => {\n                return compareEntries(a, b, normalizedSearchValue);\n            });\n        }\n        let currentSeparator;\n        const finalElements = shownElements.reduce((result, element, index) => {\n            if (element instanceof QuickPickItemElement) {\n                if (currentSeparator) {\n                    currentSeparator.children.push(element);\n                }\n                else {\n                    result.push(element);\n                }\n            }\n            else if (element instanceof QuickPickSeparatorElement) {\n                element.children = [];\n                currentSeparator = element;\n                result.push(element);\n            }\n            return result;\n        }, new Array());\n        const elements = new Array();\n        for (const element of finalElements) {\n            if (element instanceof QuickPickSeparatorElement) {\n                elements.push({\n                    element,\n                    collapsible: false,\n                    collapsed: false,\n                    children: element.children.map(e => ({\n                        element: e,\n                        collapsible: false,\n                        collapsed: false,\n                    })),\n                });\n            }\n            else {\n                elements.push({\n                    element,\n                    collapsible: false,\n                    collapsed: false,\n                });\n            }\n        }\n        const before = this._tree.getFocus().length;\n        this._tree.setChildren(null, elements);\n        // Temporary fix until we figure out why the tree doesn't fire an event when focus & selection\n        // get changed to empty arrays.\n        if (before > 0 && elements.length === 0) {\n            this._onTriggerEmptySelectionOrFocus.fire({\n                elements: []\n            });\n        }\n        this._tree.layout();\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n        this._onChangedVisibleCount.fire(shownElements.length);\n        return true;\n    }\n    toggleCheckbox() {\n        try {\n            this._shouldFireCheckedEvents = false;\n            const elements = this._tree.getFocus().filter((e) => e instanceof QuickPickItemElement);\n            const allChecked = this._allVisibleChecked(elements);\n            for (const element of elements) {\n                if (!element.checkboxDisabled) {\n                    // Would fire an event if we didn't have the flag set\n                    element.checked = !allChecked;\n                }\n            }\n        }\n        finally {\n            this._shouldFireCheckedEvents = true;\n            this._fireCheckedEvents();\n        }\n    }\n    display(display) {\n        this._container.style.display = display ? '' : 'none';\n    }\n    isDisplayed() {\n        return this._container.style.display !== 'none';\n    }\n    style(styles) {\n        this._tree.style(styles);\n    }\n    toggleHover() {\n        const focused = this._tree.getFocus()[0];\n        if (!(focused === null || focused === void 0 ? void 0 : focused.saneTooltip) || !(focused instanceof QuickPickItemElement)) {\n            return;\n        }\n        // if there's a hover already, hide it (toggle off)\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            this._lastHover.dispose();\n            return;\n        }\n        // If there is no hover, show it (toggle on)\n        this.showHover(focused);\n        const store = new DisposableStore();\n        store.add(this._tree.onDidChangeFocus(e => {\n            if (e.elements[0] instanceof QuickPickItemElement) {\n                this.showHover(e.elements[0]);\n            }\n        }));\n        if (this._lastHover) {\n            store.add(this._lastHover);\n        }\n        this._elementDisposable.add(store);\n    }\n    //#endregion\n    //#region private methods\n    _allVisibleChecked(elements, whenNoneVisible = true) {\n        for (let i = 0, n = elements.length; i < n; i++) {\n            const element = elements[i];\n            if (!element.hidden) {\n                if (!element.checked) {\n                    return false;\n                }\n                else {\n                    whenNoneVisible = true;\n                }\n            }\n        }\n        return whenNoneVisible;\n    }\n    _fireCheckedEvents() {\n        if (!this._shouldFireCheckedEvents) {\n            return;\n        }\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n        this._onChangedCheckedCount.fire(this.getCheckedCount());\n        this._onChangedCheckedElements.fire(this.getCheckedElements());\n    }\n    fireButtonTriggered(event) {\n        this._onButtonTriggered.fire(event);\n    }\n    fireSeparatorButtonTriggered(event) {\n        this._onSeparatorButtonTriggered.fire(event);\n    }\n    /**\n     * Disposes of the hover and shows a new one for the given index if it has a tooltip.\n     * @param element The element to show the hover for\n     */\n    showHover(element) {\n        var _a, _b, _c;\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            (_b = (_a = this.hoverDelegate).onDidHideHover) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_c = this._lastHover) === null || _c === void 0 ? void 0 : _c.dispose();\n        }\n        if (!element.element || !element.saneTooltip) {\n            return;\n        }\n        this._lastHover = this.hoverDelegate.showHover({\n            content: element.saneTooltip,\n            target: element.element,\n            linkHandler: (url) => {\n                this.linkOpenerDelegate(url);\n            },\n            appearance: {\n                showPointer: true,\n            },\n            container: this._container,\n            position: {\n                hoverPosition: 1 /* HoverPosition.RIGHT */\n            }\n        }, false);\n    }\n};\n__decorate([\n    memoize\n], QuickInputTree.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], QuickInputTree.prototype, \"onDidChangeSelection\", null);\nQuickInputTree = __decorate([\n    __param(4, IInstantiationService)\n], QuickInputTree);\nexport { QuickInputTree };\nfunction matchesContiguousIconAware(query, target) {\n    const { text, iconOffsets } = target;\n    // Return early if there are no icon markers in the word to match against\n    if (!iconOffsets || iconOffsets.length === 0) {\n        return matchesContiguous(query, text);\n    }\n    // Trim the word to match against because it could have leading\n    // whitespace now if the word started with an icon\n    const wordToMatchAgainstWithoutIconsTrimmed = ltrim(text, ' ');\n    const leadingWhitespaceOffset = text.length - wordToMatchAgainstWithoutIconsTrimmed.length;\n    // match on value without icon\n    const matches = matchesContiguous(query, wordToMatchAgainstWithoutIconsTrimmed);\n    // Map matches back to offsets with icon and trimming\n    if (matches) {\n        for (const match of matches) {\n            const iconOffset = iconOffsets[match.start + leadingWhitespaceOffset] /* icon offsets at index */ + leadingWhitespaceOffset /* overall leading whitespace offset */;\n            match.start += iconOffset;\n            match.end += iconOffset;\n        }\n    }\n    return matches;\n}\nfunction matchesContiguous(word, wordToMatchAgainst) {\n    const matchIndex = wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());\n    if (matchIndex !== -1) {\n        return [{ start: matchIndex, end: matchIndex + word.length }];\n    }\n    return null;\n}\nfunction compareEntries(elementA, elementB, lookFor) {\n    const labelHighlightsA = elementA.labelHighlights || [];\n    const labelHighlightsB = elementB.labelHighlights || [];\n    if (labelHighlightsA.length && !labelHighlightsB.length) {\n        return -1;\n    }\n    if (!labelHighlightsA.length && labelHighlightsB.length) {\n        return 1;\n    }\n    if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n        return 0;\n    }\n    return compareAnything(elementA.saneSortLabel, elementB.saneSortLabel, lookFor);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { Toggle } from '../../../base/browser/ui/toggle/toggle.js';\nimport { equals } from '../../../base/common/arrays.js';\nimport { TimeoutTimer } from '../../../base/common/async.js';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../base/common/lifecycle.js';\nimport { isIOS, isMacintosh } from '../../../base/common/platform.js';\nimport Severity from '../../../base/common/severity.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nimport { ItemActivation, NO_KEY_MODS, QuickInputHideReason } from '../common/quickInput.js';\nimport { quickInputButtonToAction, renderQuickInputDescription } from './quickInputUtils.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IHoverService, WorkbenchHoverDelegate } from '../../hover/browser/hover.js';\nimport { QuickInputListFocus } from './quickInputTree.js';\nexport const backButton = {\n    iconClass: ThemeIcon.asClassName(Codicon.quickInputBack),\n    tooltip: localize('quickInput.back', \"Back\"),\n    handle: -1 // TODO\n};\nclass QuickInput extends Disposable {\n    constructor(ui) {\n        super();\n        this.ui = ui;\n        this._widgetUpdated = false;\n        this.visible = false;\n        this._enabled = true;\n        this._busy = false;\n        this._ignoreFocusOut = false;\n        this._buttons = [];\n        this.buttonsUpdated = false;\n        this._toggles = [];\n        this.togglesUpdated = false;\n        this.noValidationMessage = QuickInput.noPromptMessage;\n        this._severity = Severity.Ignore;\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.onDidHideEmitter = this._register(new Emitter());\n        this.onWillHideEmitter = this._register(new Emitter());\n        this.onDisposeEmitter = this._register(new Emitter());\n        this.visibleDisposables = this._register(new DisposableStore());\n        this.onDidHide = this.onDidHideEmitter.event;\n    }\n    get title() {\n        return this._title;\n    }\n    set title(title) {\n        this._title = title;\n        this.update();\n    }\n    get description() {\n        return this._description;\n    }\n    set description(description) {\n        this._description = description;\n        this.update();\n    }\n    get step() {\n        return this._steps;\n    }\n    set step(step) {\n        this._steps = step;\n        this.update();\n    }\n    get totalSteps() {\n        return this._totalSteps;\n    }\n    set totalSteps(totalSteps) {\n        this._totalSteps = totalSteps;\n        this.update();\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(enabled) {\n        this._enabled = enabled;\n        this.update();\n    }\n    get contextKey() {\n        return this._contextKey;\n    }\n    set contextKey(contextKey) {\n        this._contextKey = contextKey;\n        this.update();\n    }\n    get busy() {\n        return this._busy;\n    }\n    set busy(busy) {\n        this._busy = busy;\n        this.update();\n    }\n    get ignoreFocusOut() {\n        return this._ignoreFocusOut;\n    }\n    set ignoreFocusOut(ignoreFocusOut) {\n        const shouldUpdate = this._ignoreFocusOut !== ignoreFocusOut && !isIOS;\n        this._ignoreFocusOut = ignoreFocusOut && !isIOS;\n        if (shouldUpdate) {\n            this.update();\n        }\n    }\n    get buttons() {\n        return this._buttons;\n    }\n    set buttons(buttons) {\n        this._buttons = buttons;\n        this.buttonsUpdated = true;\n        this.update();\n    }\n    get toggles() {\n        return this._toggles;\n    }\n    set toggles(toggles) {\n        this._toggles = toggles !== null && toggles !== void 0 ? toggles : [];\n        this.togglesUpdated = true;\n        this.update();\n    }\n    get validationMessage() {\n        return this._validationMessage;\n    }\n    set validationMessage(validationMessage) {\n        this._validationMessage = validationMessage;\n        this.update();\n    }\n    get severity() {\n        return this._severity;\n    }\n    set severity(severity) {\n        this._severity = severity;\n        this.update();\n    }\n    show() {\n        if (this.visible) {\n            return;\n        }\n        this.visibleDisposables.add(this.ui.onDidTriggerButton(button => {\n            if (this.buttons.indexOf(button) !== -1) {\n                this.onDidTriggerButtonEmitter.fire(button);\n            }\n        }));\n        this.ui.show(this);\n        // update properties in the controller that get reset in the ui.show() call\n        this.visible = true;\n        // This ensures the message/prompt gets rendered\n        this._lastValidationMessage = undefined;\n        // This ensures the input box has the right severity applied\n        this._lastSeverity = undefined;\n        if (this.buttons.length) {\n            // if there are buttons, the ui.show() clears them out of the UI so we should\n            // rerender them.\n            this.buttonsUpdated = true;\n        }\n        if (this.toggles.length) {\n            // if there are toggles, the ui.show() clears them out of the UI so we should\n            // rerender them.\n            this.togglesUpdated = true;\n        }\n        this.update();\n    }\n    hide() {\n        if (!this.visible) {\n            return;\n        }\n        this.ui.hide();\n    }\n    didHide(reason = QuickInputHideReason.Other) {\n        this.visible = false;\n        this.visibleDisposables.clear();\n        this.onDidHideEmitter.fire({ reason });\n    }\n    willHide(reason = QuickInputHideReason.Other) {\n        this.onWillHideEmitter.fire({ reason });\n    }\n    update() {\n        var _a, _b;\n        if (!this.visible) {\n            return;\n        }\n        const title = this.getTitle();\n        if (title && this.ui.title.textContent !== title) {\n            this.ui.title.textContent = title;\n        }\n        else if (!title && this.ui.title.innerHTML !== '&nbsp;') {\n            this.ui.title.innerText = '\\u00a0';\n        }\n        const description = this.getDescription();\n        if (this.ui.description1.textContent !== description) {\n            this.ui.description1.textContent = description;\n        }\n        if (this.ui.description2.textContent !== description) {\n            this.ui.description2.textContent = description;\n        }\n        if (this._widgetUpdated) {\n            this._widgetUpdated = false;\n            if (this._widget) {\n                dom.reset(this.ui.widget, this._widget);\n            }\n            else {\n                dom.reset(this.ui.widget);\n            }\n        }\n        if (this.busy && !this.busyDelay) {\n            this.busyDelay = new TimeoutTimer();\n            this.busyDelay.setIfNotSet(() => {\n                if (this.visible) {\n                    this.ui.progressBar.infinite();\n                }\n            }, 800);\n        }\n        if (!this.busy && this.busyDelay) {\n            this.ui.progressBar.stop();\n            this.busyDelay.cancel();\n            this.busyDelay = undefined;\n        }\n        if (this.buttonsUpdated) {\n            this.buttonsUpdated = false;\n            this.ui.leftActionBar.clear();\n            const leftButtons = this.buttons\n                .filter(button => button === backButton)\n                .map((button, index) => quickInputButtonToAction(button, `id-${index}`, async () => this.onDidTriggerButtonEmitter.fire(button)));\n            this.ui.leftActionBar.push(leftButtons, { icon: true, label: false });\n            this.ui.rightActionBar.clear();\n            const rightButtons = this.buttons\n                .filter(button => button !== backButton)\n                .map((button, index) => quickInputButtonToAction(button, `id-${index}`, async () => this.onDidTriggerButtonEmitter.fire(button)));\n            this.ui.rightActionBar.push(rightButtons, { icon: true, label: false });\n        }\n        if (this.togglesUpdated) {\n            this.togglesUpdated = false;\n            // HACK: Filter out toggles here that are not concrete Toggle objects. This is to workaround\n            // a layering issue as quick input's interface is in common but Toggle is in browser and\n            // it requires a HTMLElement on its interface\n            const concreteToggles = (_b = (_a = this.toggles) === null || _a === void 0 ? void 0 : _a.filter(opts => opts instanceof Toggle)) !== null && _b !== void 0 ? _b : [];\n            this.ui.inputBox.toggles = concreteToggles;\n        }\n        this.ui.ignoreFocusOut = this.ignoreFocusOut;\n        this.ui.setEnabled(this.enabled);\n        this.ui.setContextKey(this.contextKey);\n        const validationMessage = this.validationMessage || this.noValidationMessage;\n        if (this._lastValidationMessage !== validationMessage) {\n            this._lastValidationMessage = validationMessage;\n            dom.reset(this.ui.message);\n            renderQuickInputDescription(validationMessage, this.ui.message, {\n                callback: (content) => {\n                    this.ui.linkOpenerDelegate(content);\n                },\n                disposables: this.visibleDisposables,\n            });\n        }\n        if (this._lastSeverity !== this.severity) {\n            this._lastSeverity = this.severity;\n            this.showMessageDecoration(this.severity);\n        }\n    }\n    getTitle() {\n        if (this.title && this.step) {\n            return `${this.title} (${this.getSteps()})`;\n        }\n        if (this.title) {\n            return this.title;\n        }\n        if (this.step) {\n            return this.getSteps();\n        }\n        return '';\n    }\n    getDescription() {\n        return this.description || '';\n    }\n    getSteps() {\n        if (this.step && this.totalSteps) {\n            return localize('quickInput.steps', \"{0}/{1}\", this.step, this.totalSteps);\n        }\n        if (this.step) {\n            return String(this.step);\n        }\n        return '';\n    }\n    showMessageDecoration(severity) {\n        this.ui.inputBox.showDecoration(severity);\n        if (severity !== Severity.Ignore) {\n            const styles = this.ui.inputBox.stylesForType(severity);\n            this.ui.message.style.color = styles.foreground ? `${styles.foreground}` : '';\n            this.ui.message.style.backgroundColor = styles.background ? `${styles.background}` : '';\n            this.ui.message.style.border = styles.border ? `1px solid ${styles.border}` : '';\n            this.ui.message.style.marginBottom = '-2px';\n        }\n        else {\n            this.ui.message.style.color = '';\n            this.ui.message.style.backgroundColor = '';\n            this.ui.message.style.border = '';\n            this.ui.message.style.marginBottom = '';\n        }\n    }\n    dispose() {\n        this.hide();\n        this.onDisposeEmitter.fire();\n        super.dispose();\n    }\n}\nQuickInput.noPromptMessage = localize('inputModeEntry', \"Press 'Enter' to confirm your input or 'Escape' to cancel\");\nexport class QuickPick extends QuickInput {\n    constructor() {\n        super(...arguments);\n        this._value = '';\n        this.onDidChangeValueEmitter = this._register(new Emitter());\n        this.onWillAcceptEmitter = this._register(new Emitter());\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this._items = [];\n        this.itemsUpdated = false;\n        this._canSelectMany = false;\n        this._canAcceptInBackground = false;\n        this._matchOnDescription = false;\n        this._matchOnDetail = false;\n        this._matchOnLabel = true;\n        this._matchOnLabelMode = 'fuzzy';\n        this._sortByLabel = true;\n        this._keepScrollPosition = false;\n        this._itemActivation = ItemActivation.FIRST;\n        this._activeItems = [];\n        this.activeItemsUpdated = false;\n        this.activeItemsToConfirm = [];\n        this.onDidChangeActiveEmitter = this._register(new Emitter());\n        this._selectedItems = [];\n        this.selectedItemsUpdated = false;\n        this.selectedItemsToConfirm = [];\n        this.onDidChangeSelectionEmitter = this._register(new Emitter());\n        this.onDidTriggerItemButtonEmitter = this._register(new Emitter());\n        this.onDidTriggerSeparatorButtonEmitter = this._register(new Emitter());\n        this.valueSelectionUpdated = true;\n        this._ok = 'default';\n        this._customButton = false;\n        this.filterValue = (value) => value;\n        this.onDidChangeValue = this.onDidChangeValueEmitter.event;\n        this.onWillAccept = this.onWillAcceptEmitter.event;\n        this.onDidAccept = this.onDidAcceptEmitter.event;\n        this.onDidChangeActive = this.onDidChangeActiveEmitter.event;\n        this.onDidChangeSelection = this.onDidChangeSelectionEmitter.event;\n        this.onDidTriggerItemButton = this.onDidTriggerItemButtonEmitter.event;\n        this.onDidTriggerSeparatorButton = this.onDidTriggerSeparatorButtonEmitter.event;\n    }\n    get quickNavigate() {\n        return this._quickNavigate;\n    }\n    set quickNavigate(quickNavigate) {\n        this._quickNavigate = quickNavigate;\n        this.update();\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this.doSetValue(value);\n    }\n    doSetValue(value, skipUpdate) {\n        if (this._value !== value) {\n            this._value = value;\n            if (!skipUpdate) {\n                this.update();\n            }\n            if (this.visible) {\n                const didFilter = this.ui.list.filter(this.filterValue(this._value));\n                if (didFilter) {\n                    this.trySelectFirst();\n                }\n            }\n            this.onDidChangeValueEmitter.fire(this._value);\n        }\n    }\n    set ariaLabel(ariaLabel) {\n        this._ariaLabel = ariaLabel;\n        this.update();\n    }\n    get ariaLabel() {\n        return this._ariaLabel;\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set placeholder(placeholder) {\n        this._placeholder = placeholder;\n        this.update();\n    }\n    get items() {\n        return this._items;\n    }\n    get scrollTop() {\n        return this.ui.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.ui.list.scrollTop = scrollTop;\n    }\n    set items(items) {\n        this._items = items;\n        this.itemsUpdated = true;\n        this.update();\n    }\n    get canSelectMany() {\n        return this._canSelectMany;\n    }\n    set canSelectMany(canSelectMany) {\n        this._canSelectMany = canSelectMany;\n        this.update();\n    }\n    get canAcceptInBackground() {\n        return this._canAcceptInBackground;\n    }\n    set canAcceptInBackground(canAcceptInBackground) {\n        this._canAcceptInBackground = canAcceptInBackground;\n    }\n    get matchOnDescription() {\n        return this._matchOnDescription;\n    }\n    set matchOnDescription(matchOnDescription) {\n        this._matchOnDescription = matchOnDescription;\n        this.update();\n    }\n    get matchOnDetail() {\n        return this._matchOnDetail;\n    }\n    set matchOnDetail(matchOnDetail) {\n        this._matchOnDetail = matchOnDetail;\n        this.update();\n    }\n    get matchOnLabel() {\n        return this._matchOnLabel;\n    }\n    set matchOnLabel(matchOnLabel) {\n        this._matchOnLabel = matchOnLabel;\n        this.update();\n    }\n    get matchOnLabelMode() {\n        return this._matchOnLabelMode;\n    }\n    set matchOnLabelMode(matchOnLabelMode) {\n        this._matchOnLabelMode = matchOnLabelMode;\n        this.update();\n    }\n    get sortByLabel() {\n        return this._sortByLabel;\n    }\n    set sortByLabel(sortByLabel) {\n        this._sortByLabel = sortByLabel;\n        this.update();\n    }\n    get keepScrollPosition() {\n        return this._keepScrollPosition;\n    }\n    set keepScrollPosition(keepScrollPosition) {\n        this._keepScrollPosition = keepScrollPosition;\n    }\n    get itemActivation() {\n        return this._itemActivation;\n    }\n    set itemActivation(itemActivation) {\n        this._itemActivation = itemActivation;\n    }\n    get activeItems() {\n        return this._activeItems;\n    }\n    set activeItems(activeItems) {\n        this._activeItems = activeItems;\n        this.activeItemsUpdated = true;\n        this.update();\n    }\n    get selectedItems() {\n        return this._selectedItems;\n    }\n    set selectedItems(selectedItems) {\n        this._selectedItems = selectedItems;\n        this.selectedItemsUpdated = true;\n        this.update();\n    }\n    get keyMods() {\n        if (this._quickNavigate) {\n            // Disable keyMods when quick navigate is enabled\n            // because in this model the interaction is purely\n            // keyboard driven and Ctrl/Alt are typically\n            // pressed and hold during this interaction.\n            return NO_KEY_MODS;\n        }\n        return this.ui.keyMods;\n    }\n    get valueSelection() {\n        const selection = this.ui.inputBox.getSelection();\n        if (!selection) {\n            return undefined;\n        }\n        return [selection.start, selection.end];\n    }\n    set valueSelection(valueSelection) {\n        this._valueSelection = valueSelection;\n        this.valueSelectionUpdated = true;\n        this.update();\n    }\n    get customButton() {\n        return this._customButton;\n    }\n    set customButton(showCustomButton) {\n        this._customButton = showCustomButton;\n        this.update();\n    }\n    get customLabel() {\n        return this._customButtonLabel;\n    }\n    set customLabel(label) {\n        this._customButtonLabel = label;\n        this.update();\n    }\n    get customHover() {\n        return this._customButtonHover;\n    }\n    set customHover(hover) {\n        this._customButtonHover = hover;\n        this.update();\n    }\n    get ok() {\n        return this._ok;\n    }\n    set ok(showOkButton) {\n        this._ok = showOkButton;\n        this.update();\n    }\n    get hideInput() {\n        return !!this._hideInput;\n    }\n    set hideInput(hideInput) {\n        this._hideInput = hideInput;\n        this.update();\n    }\n    trySelectFirst() {\n        if (!this.canSelectMany) {\n            this.ui.list.focus(QuickInputListFocus.First);\n        }\n    }\n    show() {\n        if (!this.visible) {\n            this.visibleDisposables.add(this.ui.inputBox.onDidChange(value => {\n                this.doSetValue(value, true /* skip update since this originates from the UI */);\n            }));\n            // Keybindings for the input box or list if there is no input box\n            this.visibleDisposables.add((this._hideInput ? this.ui.list : this.ui.inputBox).onKeyDown((event) => {\n                switch (event.keyCode) {\n                    case 18 /* KeyCode.DownArrow */:\n                        // Don't support focusing next separator when quick navigate is enabled\n                        // ref: https://github.com/microsoft/vscode/issues/210461\n                        // TODO: Could we do this in a way that could play nice with quick navigate?\n                        if (this.quickNavigate === undefined && (isMacintosh ? event.metaKey : event.altKey)) {\n                            this.ui.list.focus(QuickInputListFocus.NextSeparator);\n                        }\n                        else {\n                            this.ui.list.focus(QuickInputListFocus.Next);\n                        }\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 16 /* KeyCode.UpArrow */:\n                        // Don't support focusing next separator when quick navigate is enabled\n                        if (this.quickNavigate === undefined && (isMacintosh ? event.metaKey : event.altKey)) {\n                            this.ui.list.focus(QuickInputListFocus.PreviousSeparator);\n                        }\n                        else {\n                            this.ui.list.focus(QuickInputListFocus.Previous);\n                        }\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 12 /* KeyCode.PageDown */:\n                        this.ui.list.focus(QuickInputListFocus.NextPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 11 /* KeyCode.PageUp */:\n                        this.ui.list.focus(QuickInputListFocus.PreviousPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 17 /* KeyCode.RightArrow */:\n                        if (!this._canAcceptInBackground) {\n                            return; // needs to be enabled\n                        }\n                        if (!this.ui.inputBox.isSelectionAtEnd()) {\n                            return; // ensure input box selection at end\n                        }\n                        if (this.activeItems[0]) {\n                            this._selectedItems = [this.activeItems[0]];\n                            this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                            this.handleAccept(true);\n                        }\n                        break;\n                    case 14 /* KeyCode.Home */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.First);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                    case 13 /* KeyCode.End */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.Last);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                }\n            }));\n            this.visibleDisposables.add(this.ui.onDidAccept(() => {\n                if (this.canSelectMany) {\n                    // if there are no checked elements, it means that an onDidChangeSelection never fired to overwrite\n                    // `_selectedItems`. In that case, we should emit one with an empty array to ensure that\n                    // `.selectedItems` is up to date.\n                    if (!this.ui.list.getCheckedElements().length) {\n                        this._selectedItems = [];\n                        this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    }\n                }\n                else if (this.activeItems[0]) {\n                    // For single-select, we set `selectedItems` to the item that was accepted.\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                }\n                this.handleAccept(false);\n            }));\n            this.visibleDisposables.add(this.ui.onDidCustom(() => {\n                this.onDidCustomEmitter.fire();\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeFocus(focusedItems => {\n                if (this.activeItemsUpdated) {\n                    return; // Expect another event.\n                }\n                if (this.activeItemsToConfirm !== this._activeItems && equals(focusedItems, this._activeItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._activeItems = focusedItems;\n                this.onDidChangeActiveEmitter.fire(focusedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({ items: selectedItems, event }) => {\n                if (this.canSelectMany) {\n                    if (selectedItems.length) {\n                        this.ui.list.setSelectedElements([]);\n                    }\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(selectedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = selectedItems;\n                this.onDidChangeSelectionEmitter.fire(selectedItems);\n                if (selectedItems.length) {\n                    this.handleAccept(dom.isMouseEvent(event) && event.button === 1 /* mouse middle click */);\n                }\n            }));\n            this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(checkedItems => {\n                if (!this.canSelectMany) {\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(checkedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = checkedItems;\n                this.onDidChangeSelectionEmitter.fire(checkedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onButtonTriggered(event => this.onDidTriggerItemButtonEmitter.fire(event)));\n            this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(event => this.onDidTriggerSeparatorButtonEmitter.fire(event)));\n            this.visibleDisposables.add(this.registerQuickNavigation());\n            this.valueSelectionUpdated = true;\n        }\n        super.show(); // TODO: Why have show() bubble up while update() trickles down?\n    }\n    handleAccept(inBackground) {\n        // Figure out veto via `onWillAccept` event\n        let veto = false;\n        this.onWillAcceptEmitter.fire({ veto: () => veto = true });\n        // Continue with `onDidAccept` if no veto\n        if (!veto) {\n            this.onDidAcceptEmitter.fire({ inBackground });\n        }\n    }\n    registerQuickNavigation() {\n        return dom.addDisposableListener(this.ui.container, dom.EventType.KEY_UP, e => {\n            if (this.canSelectMany || !this._quickNavigate) {\n                return;\n            }\n            const keyboardEvent = new StandardKeyboardEvent(e);\n            const keyCode = keyboardEvent.keyCode;\n            // Select element when keys are pressed that signal it\n            const quickNavKeys = this._quickNavigate.keybindings;\n            const wasTriggerKeyPressed = quickNavKeys.some(k => {\n                const chords = k.getChords();\n                if (chords.length > 1) {\n                    return false;\n                }\n                if (chords[0].shiftKey && keyCode === 4 /* KeyCode.Shift */) {\n                    if (keyboardEvent.ctrlKey || keyboardEvent.altKey || keyboardEvent.metaKey) {\n                        return false; // this is an optimistic check for the shift key being used to navigate back in quick input\n                    }\n                    return true;\n                }\n                if (chords[0].altKey && keyCode === 6 /* KeyCode.Alt */) {\n                    return true;\n                }\n                if (chords[0].ctrlKey && keyCode === 5 /* KeyCode.Ctrl */) {\n                    return true;\n                }\n                if (chords[0].metaKey && keyCode === 57 /* KeyCode.Meta */) {\n                    return true;\n                }\n                return false;\n            });\n            if (wasTriggerKeyPressed) {\n                if (this.activeItems[0]) {\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    this.handleAccept(false);\n                }\n                // Unset quick navigate after press. It is only valid once\n                // and should not result in any behaviour change afterwards\n                // if the picker remains open because there was no active item\n                this._quickNavigate = undefined;\n            }\n        });\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        // store the scrollTop before it is reset\n        const scrollTopBefore = this.keepScrollPosition ? this.scrollTop : 0;\n        const hasDescription = !!this.description;\n        const visibilities = {\n            title: !!this.title || !!this.step || !!this.buttons.length,\n            description: hasDescription,\n            checkAll: this.canSelectMany && !this._hideCheckAll,\n            checkBox: this.canSelectMany,\n            inputBox: !this._hideInput,\n            progressBar: !this._hideInput || hasDescription,\n            visibleCount: true,\n            count: this.canSelectMany && !this._hideCountBadge,\n            ok: this.ok === 'default' ? this.canSelectMany : this.ok,\n            list: true,\n            message: !!this.validationMessage,\n            customButton: this.customButton\n        };\n        this.ui.setVisibilities(visibilities);\n        super.update();\n        if (this.ui.inputBox.value !== this.value) {\n            this.ui.inputBox.value = this.value;\n        }\n        if (this.valueSelectionUpdated) {\n            this.valueSelectionUpdated = false;\n            this.ui.inputBox.select(this._valueSelection && { start: this._valueSelection[0], end: this._valueSelection[1] });\n        }\n        if (this.ui.inputBox.placeholder !== (this.placeholder || '')) {\n            this.ui.inputBox.placeholder = (this.placeholder || '');\n        }\n        let ariaLabel = this.ariaLabel;\n        // Only set aria label to the input box placeholder if we actually have an input box.\n        if (!ariaLabel && visibilities.inputBox) {\n            ariaLabel = this.placeholder || QuickPick.DEFAULT_ARIA_LABEL;\n            // If we have a title, include it in the aria label.\n            if (this.title) {\n                ariaLabel += ` - ${this.title}`;\n            }\n        }\n        if (this.ui.list.ariaLabel !== ariaLabel) {\n            this.ui.list.ariaLabel = ariaLabel !== null && ariaLabel !== void 0 ? ariaLabel : null;\n        }\n        this.ui.list.matchOnDescription = this.matchOnDescription;\n        this.ui.list.matchOnDetail = this.matchOnDetail;\n        this.ui.list.matchOnLabel = this.matchOnLabel;\n        this.ui.list.matchOnLabelMode = this.matchOnLabelMode;\n        this.ui.list.sortByLabel = this.sortByLabel;\n        if (this.itemsUpdated) {\n            this.itemsUpdated = false;\n            const currentActiveItems = this._activeItems;\n            this.ui.list.setElements(this.items);\n            this.ui.list.filter(this.filterValue(this.ui.inputBox.value));\n            this.ui.checkAll.checked = this.ui.list.getAllVisibleChecked();\n            this.ui.visibleCount.setCount(this.ui.list.getVisibleCount());\n            this.ui.count.setCount(this.ui.list.getCheckedCount());\n            switch (this._itemActivation) {\n                case ItemActivation.NONE:\n                    // Handle the case where we had active items (i.e. someone chose an item)\n                    // but the initial item activation is set to none. Calling clearFocus will\n                    // not trigger the onDidFocus event because when the tree receives new elements,\n                    // it sets the focus to no elements. So we need to set & fire the active items\n                    // accordingly to reflect the state change after setting the items.\n                    if (currentActiveItems.length > 0) {\n                        this._activeItems = [];\n                        this.onDidChangeActiveEmitter.fire(this._activeItems);\n                    }\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.SECOND:\n                    this.ui.list.focus(QuickInputListFocus.Second);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.LAST:\n                    this.ui.list.focus(QuickInputListFocus.Last);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                default:\n                    this.trySelectFirst();\n                    break;\n            }\n        }\n        if (this.ui.container.classList.contains('show-checkboxes') !== !!this.canSelectMany) {\n            if (this.canSelectMany) {\n                this.ui.list.clearFocus();\n            }\n            else {\n                this.trySelectFirst();\n            }\n        }\n        if (this.activeItemsUpdated) {\n            this.activeItemsUpdated = false;\n            this.activeItemsToConfirm = this._activeItems;\n            this.ui.list.setFocusedElements(this.activeItems);\n            if (this.activeItemsToConfirm === this._activeItems) {\n                this.activeItemsToConfirm = null;\n            }\n        }\n        if (this.selectedItemsUpdated) {\n            this.selectedItemsUpdated = false;\n            this.selectedItemsToConfirm = this._selectedItems;\n            if (this.canSelectMany) {\n                this.ui.list.setCheckedElements(this.selectedItems);\n            }\n            else {\n                this.ui.list.setSelectedElements(this.selectedItems);\n            }\n            if (this.selectedItemsToConfirm === this._selectedItems) {\n                this.selectedItemsToConfirm = null;\n            }\n        }\n        this.ui.customButton.label = this.customLabel || '';\n        this.ui.customButton.element.title = this.customHover || '';\n        if (!visibilities.inputBox) {\n            // we need to move focus into the tree to detect keybindings\n            // properly when the input box is not visible (quick nav)\n            this.ui.list.domFocus();\n            // Focus the first element in the list if multiselect is enabled\n            if (this.canSelectMany) {\n                this.ui.list.focus(QuickInputListFocus.First);\n            }\n        }\n        // Set the scroll position to what it was before updating the items\n        if (this.keepScrollPosition) {\n            this.scrollTop = scrollTopBefore;\n        }\n    }\n}\nQuickPick.DEFAULT_ARIA_LABEL = localize('quickInputBox.ariaLabel', \"Type to narrow down results.\");\nexport class InputBox extends QuickInput {\n    constructor() {\n        super(...arguments);\n        this._value = '';\n        this.valueSelectionUpdated = true;\n        this._password = false;\n        this.onDidValueChangeEmitter = this._register(new Emitter());\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidChangeValue = this.onDidValueChangeEmitter.event;\n        this.onDidAccept = this.onDidAcceptEmitter.event;\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this._value = value || '';\n        this.update();\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set placeholder(placeholder) {\n        this._placeholder = placeholder;\n        this.update();\n    }\n    get password() {\n        return this._password;\n    }\n    set password(password) {\n        this._password = password;\n        this.update();\n    }\n    show() {\n        if (!this.visible) {\n            this.visibleDisposables.add(this.ui.inputBox.onDidChange(value => {\n                if (value === this.value) {\n                    return;\n                }\n                this._value = value;\n                this.onDidValueChangeEmitter.fire(value);\n            }));\n            this.visibleDisposables.add(this.ui.onDidAccept(() => this.onDidAcceptEmitter.fire()));\n            this.valueSelectionUpdated = true;\n        }\n        super.show();\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        this.ui.container.classList.remove('hidden-input');\n        const visibilities = {\n            title: !!this.title || !!this.step || !!this.buttons.length,\n            description: !!this.description || !!this.step,\n            inputBox: true,\n            message: true,\n            progressBar: true\n        };\n        this.ui.setVisibilities(visibilities);\n        super.update();\n        if (this.ui.inputBox.value !== this.value) {\n            this.ui.inputBox.value = this.value;\n        }\n        if (this.valueSelectionUpdated) {\n            this.valueSelectionUpdated = false;\n            this.ui.inputBox.select(this._valueSelection && { start: this._valueSelection[0], end: this._valueSelection[1] });\n        }\n        if (this.ui.inputBox.placeholder !== (this.placeholder || '')) {\n            this.ui.inputBox.placeholder = (this.placeholder || '');\n        }\n        if (this.ui.inputBox.password !== this.password) {\n            this.ui.inputBox.password = this.password;\n        }\n    }\n}\nlet QuickInputHoverDelegate = class QuickInputHoverDelegate extends WorkbenchHoverDelegate {\n    constructor(configurationService, hoverService) {\n        super('element', false, (options) => this.getOverrideOptions(options), configurationService, hoverService);\n    }\n    getOverrideOptions(options) {\n        var _a;\n        // Only show the hover hint if the content is of a decent size\n        const showHoverHint = (options.content instanceof HTMLElement\n            ? (_a = options.content.textContent) !== null && _a !== void 0 ? _a : ''\n            : typeof options.content === 'string'\n                ? options.content\n                : options.content.value).includes('\\n');\n        return {\n            persistence: {\n                hideOnKeyDown: false,\n            },\n            appearance: {\n                showHoverHint,\n                skipFadeInAnimation: true,\n            },\n        };\n    }\n};\nQuickInputHoverDelegate = __decorate([\n    __param(0, IConfigurationService),\n    __param(1, IHoverService)\n], QuickInputHoverDelegate);\nexport { QuickInputHoverDelegate };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { FindInput } from '../../../base/browser/ui/findinput/findInput.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport Severity from '../../../base/common/severity.js';\nimport './media/quickInput.css';\nconst $ = dom.$;\nexport class QuickInputBox extends Disposable {\n    constructor(parent, inputBoxStyles, toggleStyles) {\n        super();\n        this.parent = parent;\n        this.onKeyDown = (handler) => {\n            return dom.addStandardDisposableListener(this.findInput.inputBox.inputElement, dom.EventType.KEY_DOWN, handler);\n        };\n        this.onDidChange = (handler) => {\n            return this.findInput.onDidChange(handler);\n        };\n        this.container = dom.append(this.parent, $('.quick-input-box'));\n        this.findInput = this._register(new FindInput(this.container, undefined, { label: '', inputBoxStyles, toggleStyles }));\n        const input = this.findInput.inputBox.inputElement;\n        input.role = 'combobox';\n        input.ariaHasPopup = 'menu';\n        input.ariaAutoComplete = 'list';\n        input.ariaExpanded = 'true';\n    }\n    get value() {\n        return this.findInput.getValue();\n    }\n    set value(value) {\n        this.findInput.setValue(value);\n    }\n    select(range = null) {\n        this.findInput.inputBox.select(range);\n    }\n    getSelection() {\n        return this.findInput.inputBox.getSelection();\n    }\n    isSelectionAtEnd() {\n        return this.findInput.inputBox.isSelectionAtEnd();\n    }\n    get placeholder() {\n        return this.findInput.inputBox.inputElement.getAttribute('placeholder') || '';\n    }\n    set placeholder(placeholder) {\n        this.findInput.inputBox.setPlaceHolder(placeholder);\n    }\n    get password() {\n        return this.findInput.inputBox.inputElement.type === 'password';\n    }\n    set password(password) {\n        this.findInput.inputBox.inputElement.type = password ? 'password' : 'text';\n    }\n    set enabled(enabled) {\n        // We can't disable the input box because it is still used for\n        // navigating the list. Instead, we disable the list and the OK\n        // so that nothing can be selected.\n        // TODO: should this be what we do for all find inputs? Or maybe some _other_ API\n        // on findInput to change it to readonly?\n        this.findInput.inputBox.inputElement.toggleAttribute('readonly', !enabled);\n        // TODO: styles of the quick pick need to be moved to the CSS instead of being in line\n        // so things like this can be done in CSS\n        // this.findInput.inputBox.inputElement.classList.toggle('disabled', !enabled);\n    }\n    set toggles(toggles) {\n        this.findInput.setAdditionalToggles(toggles);\n    }\n    setAttribute(name, value) {\n        this.findInput.inputBox.inputElement.setAttribute(name, value);\n    }\n    showDecoration(decoration) {\n        if (decoration === Severity.Ignore) {\n            this.findInput.clearMessage();\n        }\n        else {\n            this.findInput.showMessage({ type: decoration === Severity.Info ? 1 /* MessageType.INFO */ : decoration === Severity.Warning ? 2 /* MessageType.WARNING */ : 3 /* MessageType.ERROR */, content: '' });\n        }\n    }\n    stylesForType(decoration) {\n        return this.findInput.inputBox.stylesForType(decoration === Severity.Info ? 1 /* MessageType.INFO */ : decoration === Severity.Warning ? 2 /* MessageType.WARNING */ : 3 /* MessageType.ERROR */);\n    }\n    setFocus() {\n        this.findInput.focus();\n    }\n    layout() {\n        this.findInput.inputBox.layout();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar QuickInputController_1;\nimport * as dom from '../../../base/browser/dom.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { Button } from '../../../base/browser/ui/button/button.js';\nimport { CountBadge } from '../../../base/browser/ui/countBadge/countBadge.js';\nimport { ProgressBar } from '../../../base/browser/ui/progressbar/progressbar.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { Disposable, dispose } from '../../../base/common/lifecycle.js';\nimport Severity from '../../../base/common/severity.js';\nimport { localize } from '../../../nls.js';\nimport { QuickInputHideReason } from '../common/quickInput.js';\nimport { QuickInputBox } from './quickInputBox.js';\nimport { QuickPick, backButton, InputBox } from './quickInput.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { mainWindow } from '../../../base/browser/window.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { QuickInputTree } from './quickInputTree.js';\nconst $ = dom.$;\nlet QuickInputController = QuickInputController_1 = class QuickInputController extends Disposable {\n    get container() { return this._container; }\n    constructor(options, layoutService, instantiationService) {\n        super();\n        this.options = options;\n        this.layoutService = layoutService;\n        this.instantiationService = instantiationService;\n        this.enabled = true;\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.keyMods = { ctrlCmd: false, alt: false };\n        this.controller = null;\n        this.onShowEmitter = this._register(new Emitter());\n        this.onShow = this.onShowEmitter.event;\n        this.onHideEmitter = this._register(new Emitter());\n        this.onHide = this.onHideEmitter.event;\n        this.idPrefix = options.idPrefix;\n        this._container = options.container;\n        this.styles = options.styles;\n        this._register(Event.runAndSubscribe(dom.onDidRegisterWindow, ({ window, disposables }) => this.registerKeyModsListeners(window, disposables), { window: mainWindow, disposables: this._store }));\n        this._register(dom.onWillUnregisterWindow(window => {\n            if (this.ui && dom.getWindow(this.ui.container) === window) {\n                // The window this quick input is contained in is about to\n                // close, so we have to make sure to reparent it back to an\n                // existing parent to not loose functionality.\n                // (https://github.com/microsoft/vscode/issues/195870)\n                this.reparentUI(this.layoutService.mainContainer);\n                this.layout(this.layoutService.mainContainerDimension, this.layoutService.mainContainerOffset.quickPickTop);\n            }\n        }));\n    }\n    registerKeyModsListeners(window, disposables) {\n        const listener = (e) => {\n            this.keyMods.ctrlCmd = e.ctrlKey || e.metaKey;\n            this.keyMods.alt = e.altKey;\n        };\n        for (const event of [dom.EventType.KEY_DOWN, dom.EventType.KEY_UP, dom.EventType.MOUSE_DOWN]) {\n            disposables.add(dom.addDisposableListener(window, event, listener, true));\n        }\n    }\n    getUI(showInActiveContainer) {\n        if (this.ui) {\n            // In order to support aux windows, re-parent the controller\n            // if the original event is from a different document\n            if (showInActiveContainer) {\n                if (dom.getWindow(this._container) !== dom.getWindow(this.layoutService.activeContainer)) {\n                    this.reparentUI(this.layoutService.activeContainer);\n                    this.layout(this.layoutService.activeContainerDimension, this.layoutService.activeContainerOffset.quickPickTop);\n                }\n            }\n            return this.ui;\n        }\n        const container = dom.append(this._container, $('.quick-input-widget.show-file-icons'));\n        container.tabIndex = -1;\n        container.style.display = 'none';\n        const styleSheet = dom.createStyleSheet(container);\n        const titleBar = dom.append(container, $('.quick-input-titlebar'));\n        const leftActionBar = this._register(new ActionBar(titleBar, { hoverDelegate: this.options.hoverDelegate }));\n        leftActionBar.domNode.classList.add('quick-input-left-action-bar');\n        const title = dom.append(titleBar, $('.quick-input-title'));\n        const rightActionBar = this._register(new ActionBar(titleBar, { hoverDelegate: this.options.hoverDelegate }));\n        rightActionBar.domNode.classList.add('quick-input-right-action-bar');\n        const headerContainer = dom.append(container, $('.quick-input-header'));\n        const checkAll = dom.append(headerContainer, $('input.quick-input-check-all'));\n        checkAll.type = 'checkbox';\n        checkAll.setAttribute('aria-label', localize('quickInput.checkAll', \"Toggle all checkboxes\"));\n        this._register(dom.addStandardDisposableListener(checkAll, dom.EventType.CHANGE, e => {\n            const checked = checkAll.checked;\n            list.setAllVisibleChecked(checked);\n        }));\n        this._register(dom.addDisposableListener(checkAll, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space'...\n                inputBox.setFocus();\n            }\n        }));\n        const description2 = dom.append(headerContainer, $('.quick-input-description'));\n        const inputContainer = dom.append(headerContainer, $('.quick-input-and-message'));\n        const filterContainer = dom.append(inputContainer, $('.quick-input-filter'));\n        const inputBox = this._register(new QuickInputBox(filterContainer, this.styles.inputBox, this.styles.toggle));\n        inputBox.setAttribute('aria-describedby', `${this.idPrefix}message`);\n        const visibleCountContainer = dom.append(filterContainer, $('.quick-input-visible-count'));\n        visibleCountContainer.setAttribute('aria-live', 'polite');\n        visibleCountContainer.setAttribute('aria-atomic', 'true');\n        const visibleCount = new CountBadge(visibleCountContainer, { countFormat: localize({ key: 'quickInput.visibleCount', comment: ['This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers.'] }, \"{0} Results\") }, this.styles.countBadge);\n        const countContainer = dom.append(filterContainer, $('.quick-input-count'));\n        countContainer.setAttribute('aria-live', 'polite');\n        const count = new CountBadge(countContainer, { countFormat: localize({ key: 'quickInput.countSelected', comment: ['This tells the user how many items are selected in a list of items to select from. The items can be anything.'] }, \"{0} Selected\") }, this.styles.countBadge);\n        const okContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const ok = this._register(new Button(okContainer, this.styles.button));\n        ok.label = localize('ok', \"OK\");\n        this._register(ok.onDidClick(e => {\n            this.onDidAcceptEmitter.fire();\n        }));\n        const customButtonContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const customButton = this._register(new Button(customButtonContainer, { ...this.styles.button, supportIcons: true }));\n        customButton.label = localize('custom', \"Custom\");\n        this._register(customButton.onDidClick(e => {\n            this.onDidCustomEmitter.fire();\n        }));\n        const message = dom.append(inputContainer, $(`#${this.idPrefix}message.quick-input-message`));\n        const progressBar = this._register(new ProgressBar(container, this.styles.progressBar));\n        progressBar.getContainer().classList.add('quick-input-progress');\n        const widget = dom.append(container, $('.quick-input-html-widget'));\n        widget.tabIndex = -1;\n        const description1 = dom.append(container, $('.quick-input-description'));\n        const listId = this.idPrefix + 'list';\n        const list = this._register(this.instantiationService.createInstance(QuickInputTree, container, this.options.hoverDelegate, this.options.linkOpenerDelegate, listId));\n        inputBox.setAttribute('aria-controls', listId);\n        this._register(list.onDidChangeFocus(() => {\n            var _a;\n            inputBox.setAttribute('aria-activedescendant', (_a = list.getActiveDescendant()) !== null && _a !== void 0 ? _a : '');\n        }));\n        this._register(list.onChangedAllVisibleChecked(checked => {\n            checkAll.checked = checked;\n        }));\n        this._register(list.onChangedVisibleCount(c => {\n            visibleCount.setCount(c);\n        }));\n        this._register(list.onChangedCheckedCount(c => {\n            count.setCount(c);\n        }));\n        this._register(list.onLeave(() => {\n            // Defer to avoid the input field reacting to the triggering key.\n            // TODO@TylerLeonhardt https://github.com/microsoft/vscode/issues/203675\n            setTimeout(() => {\n                if (!this.controller) {\n                    return;\n                }\n                inputBox.setFocus();\n                if (this.controller instanceof QuickPick && this.controller.canSelectMany) {\n                    list.clearFocus();\n                }\n            }, 0);\n        }));\n        const focusTracker = dom.trackFocus(container);\n        this._register(focusTracker);\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, e => {\n            // Ignore focus events within container\n            if (dom.isAncestor(e.relatedTarget, container)) {\n                return;\n            }\n            this.previousFocusElement = e.relatedTarget instanceof HTMLElement ? e.relatedTarget : undefined;\n        }, true));\n        this._register(focusTracker.onDidBlur(() => {\n            if (!this.getUI().ignoreFocusOut && !this.options.ignoreFocusOut()) {\n                this.hide(QuickInputHideReason.Blur);\n            }\n            this.previousFocusElement = undefined;\n        }));\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, (e) => {\n            inputBox.setFocus();\n        }));\n        // TODO: Turn into commands instead of handling KEY_DOWN\n        // Keybindings for the quickinput widget as a whole\n        this._register(dom.addStandardDisposableListener(container, dom.EventType.KEY_DOWN, (event) => {\n            if (dom.isAncestor(event.target, widget)) {\n                return; // Ignore event if target is inside widget to allow the widget to handle the event.\n            }\n            switch (event.keyCode) {\n                case 3 /* KeyCode.Enter */:\n                    dom.EventHelper.stop(event, true);\n                    if (this.enabled) {\n                        this.onDidAcceptEmitter.fire();\n                    }\n                    break;\n                case 9 /* KeyCode.Escape */:\n                    dom.EventHelper.stop(event, true);\n                    this.hide(QuickInputHideReason.Gesture);\n                    break;\n                case 2 /* KeyCode.Tab */:\n                    if (!event.altKey && !event.ctrlKey && !event.metaKey) {\n                        // detect only visible actions\n                        const selectors = [\n                            '.quick-input-list .monaco-action-bar .always-visible',\n                            '.quick-input-list-entry:hover .monaco-action-bar',\n                            '.monaco-list-row.focused .monaco-action-bar'\n                        ];\n                        if (container.classList.contains('show-checkboxes')) {\n                            selectors.push('input');\n                        }\n                        else {\n                            selectors.push('input[type=text]');\n                        }\n                        if (this.getUI().list.isDisplayed()) {\n                            selectors.push('.monaco-list');\n                        }\n                        // focus links if there are any\n                        if (this.getUI().message) {\n                            selectors.push('.quick-input-message a');\n                        }\n                        if (this.getUI().widget) {\n                            if (dom.isAncestor(event.target, this.getUI().widget)) {\n                                // let the widget control tab\n                                break;\n                            }\n                            selectors.push('.quick-input-html-widget');\n                        }\n                        const stops = container.querySelectorAll(selectors.join(', '));\n                        if (event.shiftKey && event.target === stops[0]) {\n                            // Clear the focus from the list in order to allow\n                            // screen readers to read operations in the input box.\n                            dom.EventHelper.stop(event, true);\n                            list.clearFocus();\n                        }\n                        else if (!event.shiftKey && dom.isAncestor(event.target, stops[stops.length - 1])) {\n                            dom.EventHelper.stop(event, true);\n                            stops[0].focus();\n                        }\n                    }\n                    break;\n                case 10 /* KeyCode.Space */:\n                    if (event.ctrlKey) {\n                        dom.EventHelper.stop(event, true);\n                        this.getUI().list.toggleHover();\n                    }\n                    break;\n            }\n        }));\n        this.ui = {\n            container,\n            styleSheet,\n            leftActionBar,\n            titleBar,\n            title,\n            description1,\n            description2,\n            widget,\n            rightActionBar,\n            checkAll,\n            inputContainer,\n            filterContainer,\n            inputBox,\n            visibleCountContainer,\n            visibleCount,\n            countContainer,\n            count,\n            okContainer,\n            ok,\n            message,\n            customButtonContainer,\n            customButton,\n            list,\n            progressBar,\n            onDidAccept: this.onDidAcceptEmitter.event,\n            onDidCustom: this.onDidCustomEmitter.event,\n            onDidTriggerButton: this.onDidTriggerButtonEmitter.event,\n            ignoreFocusOut: false,\n            keyMods: this.keyMods,\n            show: controller => this.show(controller),\n            hide: () => this.hide(),\n            setVisibilities: visibilities => this.setVisibilities(visibilities),\n            setEnabled: enabled => this.setEnabled(enabled),\n            setContextKey: contextKey => this.options.setContextKey(contextKey),\n            linkOpenerDelegate: content => this.options.linkOpenerDelegate(content)\n        };\n        this.updateStyles();\n        return this.ui;\n    }\n    reparentUI(container) {\n        if (this.ui) {\n            this._container = container;\n            dom.append(this._container, this.ui.container);\n        }\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return new Promise((doResolve, reject) => {\n            let resolve = (result) => {\n                var _a;\n                resolve = doResolve;\n                (_a = options.onKeyMods) === null || _a === void 0 ? void 0 : _a.call(options, input.keyMods);\n                doResolve(result);\n            };\n            if (token.isCancellationRequested) {\n                resolve(undefined);\n                return;\n            }\n            const input = this.createQuickPick();\n            let activeItem;\n            const disposables = [\n                input,\n                input.onDidAccept(() => {\n                    if (input.canSelectMany) {\n                        resolve(input.selectedItems.slice());\n                        input.hide();\n                    }\n                    else {\n                        const result = input.activeItems[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidChangeActive(items => {\n                    const focused = items[0];\n                    if (focused && options.onDidFocus) {\n                        options.onDidFocus(focused);\n                    }\n                }),\n                input.onDidChangeSelection(items => {\n                    if (!input.canSelectMany) {\n                        const result = items[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidTriggerItemButton(event => options.onDidTriggerItemButton && options.onDidTriggerItemButton({\n                    ...event,\n                    removeItem: () => {\n                        const index = input.items.indexOf(event.item);\n                        if (index !== -1) {\n                            const items = input.items.slice();\n                            const removed = items.splice(index, 1);\n                            const activeItems = input.activeItems.filter(activeItem => activeItem !== removed[0]);\n                            const keepScrollPositionBefore = input.keepScrollPosition;\n                            input.keepScrollPosition = true;\n                            input.items = items;\n                            if (activeItems) {\n                                input.activeItems = activeItems;\n                            }\n                            input.keepScrollPosition = keepScrollPositionBefore;\n                        }\n                    }\n                })),\n                input.onDidTriggerSeparatorButton(event => { var _a; return (_a = options.onDidTriggerSeparatorButton) === null || _a === void 0 ? void 0 : _a.call(options, event); }),\n                input.onDidChangeValue(value => {\n                    if (activeItem && !value && (input.activeItems.length !== 1 || input.activeItems[0] !== activeItem)) {\n                        input.activeItems = [activeItem];\n                    }\n                }),\n                token.onCancellationRequested(() => {\n                    input.hide();\n                }),\n                input.onDidHide(() => {\n                    dispose(disposables);\n                    resolve(undefined);\n                }),\n            ];\n            input.title = options.title;\n            input.canSelectMany = !!options.canPickMany;\n            input.placeholder = options.placeHolder;\n            input.ignoreFocusOut = !!options.ignoreFocusLost;\n            input.matchOnDescription = !!options.matchOnDescription;\n            input.matchOnDetail = !!options.matchOnDetail;\n            input.matchOnLabel = (options.matchOnLabel === undefined) || options.matchOnLabel; // default to true\n            input.quickNavigate = options.quickNavigate;\n            input.hideInput = !!options.hideInput;\n            input.contextKey = options.contextKey;\n            input.busy = true;\n            Promise.all([picks, options.activeItem])\n                .then(([items, _activeItem]) => {\n                activeItem = _activeItem;\n                input.busy = false;\n                input.items = items;\n                if (input.canSelectMany) {\n                    input.selectedItems = items.filter(item => item.type !== 'separator' && item.picked);\n                }\n                if (activeItem) {\n                    input.activeItems = [activeItem];\n                }\n            });\n            input.show();\n            Promise.resolve(picks).then(undefined, err => {\n                reject(err);\n                input.hide();\n            });\n        });\n    }\n    createQuickPick() {\n        const ui = this.getUI(true);\n        return new QuickPick(ui);\n    }\n    createInputBox() {\n        const ui = this.getUI(true);\n        return new InputBox(ui);\n    }\n    show(controller) {\n        const ui = this.getUI(true);\n        this.onShowEmitter.fire();\n        const oldController = this.controller;\n        this.controller = controller;\n        oldController === null || oldController === void 0 ? void 0 : oldController.didHide();\n        this.setEnabled(true);\n        ui.leftActionBar.clear();\n        ui.title.textContent = '';\n        ui.description1.textContent = '';\n        ui.description2.textContent = '';\n        dom.reset(ui.widget);\n        ui.rightActionBar.clear();\n        ui.checkAll.checked = false;\n        // ui.inputBox.value = ''; Avoid triggering an event.\n        ui.inputBox.placeholder = '';\n        ui.inputBox.password = false;\n        ui.inputBox.showDecoration(Severity.Ignore);\n        ui.visibleCount.setCount(0);\n        ui.count.setCount(0);\n        dom.reset(ui.message);\n        ui.progressBar.stop();\n        ui.list.setElements([]);\n        ui.list.matchOnDescription = false;\n        ui.list.matchOnDetail = false;\n        ui.list.matchOnLabel = true;\n        ui.list.sortByLabel = true;\n        ui.ignoreFocusOut = false;\n        ui.inputBox.toggles = undefined;\n        const backKeybindingLabel = this.options.backKeybindingLabel();\n        backButton.tooltip = backKeybindingLabel ? localize('quickInput.backWithKeybinding', \"Back ({0})\", backKeybindingLabel) : localize('quickInput.back', \"Back\");\n        ui.container.style.display = '';\n        this.updateLayout();\n        ui.inputBox.setFocus();\n    }\n    isVisible() {\n        return !!this.ui && this.ui.container.style.display !== 'none';\n    }\n    setVisibilities(visibilities) {\n        const ui = this.getUI();\n        ui.title.style.display = visibilities.title ? '' : 'none';\n        ui.description1.style.display = visibilities.description && (visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.description2.style.display = visibilities.description && !(visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.checkAll.style.display = visibilities.checkAll ? '' : 'none';\n        ui.inputContainer.style.display = visibilities.inputBox ? '' : 'none';\n        ui.filterContainer.style.display = visibilities.inputBox ? '' : 'none';\n        ui.visibleCountContainer.style.display = visibilities.visibleCount ? '' : 'none';\n        ui.countContainer.style.display = visibilities.count ? '' : 'none';\n        ui.okContainer.style.display = visibilities.ok ? '' : 'none';\n        ui.customButtonContainer.style.display = visibilities.customButton ? '' : 'none';\n        ui.message.style.display = visibilities.message ? '' : 'none';\n        ui.progressBar.getContainer().style.display = visibilities.progressBar ? '' : 'none';\n        ui.list.display(!!visibilities.list);\n        ui.container.classList.toggle('show-checkboxes', !!visibilities.checkBox);\n        ui.container.classList.toggle('hidden-input', !visibilities.inputBox && !visibilities.description);\n        this.updateLayout(); // TODO\n    }\n    setEnabled(enabled) {\n        if (enabled !== this.enabled) {\n            this.enabled = enabled;\n            for (const item of this.getUI().leftActionBar.viewItems) {\n                item.action.enabled = enabled;\n            }\n            for (const item of this.getUI().rightActionBar.viewItems) {\n                item.action.enabled = enabled;\n            }\n            this.getUI().checkAll.disabled = !enabled;\n            this.getUI().inputBox.enabled = enabled;\n            this.getUI().ok.enabled = enabled;\n            this.getUI().list.enabled = enabled;\n        }\n    }\n    hide(reason) {\n        var _a, _b;\n        const controller = this.controller;\n        if (!controller) {\n            return;\n        }\n        controller.willHide(reason);\n        const container = (_a = this.ui) === null || _a === void 0 ? void 0 : _a.container;\n        const focusChanged = container && !dom.isAncestorOfActiveElement(container);\n        this.controller = null;\n        this.onHideEmitter.fire();\n        if (container) {\n            container.style.display = 'none';\n        }\n        if (!focusChanged) {\n            let currentElement = this.previousFocusElement;\n            while (currentElement && !currentElement.offsetParent) {\n                currentElement = (_b = currentElement.parentElement) !== null && _b !== void 0 ? _b : undefined;\n            }\n            if (currentElement === null || currentElement === void 0 ? void 0 : currentElement.offsetParent) {\n                currentElement.focus();\n                this.previousFocusElement = undefined;\n            }\n            else {\n                this.options.returnFocus();\n            }\n        }\n        controller.didHide(reason);\n    }\n    layout(dimension, titleBarOffset) {\n        this.dimension = dimension;\n        this.titleBarOffset = titleBarOffset;\n        this.updateLayout();\n    }\n    updateLayout() {\n        if (this.ui && this.isVisible()) {\n            this.ui.container.style.top = `${this.titleBarOffset}px`;\n            const style = this.ui.container.style;\n            const width = Math.min(this.dimension.width * 0.62 /* golden cut */, QuickInputController_1.MAX_WIDTH);\n            style.width = width + 'px';\n            style.marginLeft = '-' + (width / 2) + 'px';\n            this.ui.inputBox.layout();\n            this.ui.list.layout(this.dimension && this.dimension.height * 0.4);\n        }\n    }\n    applyStyles(styles) {\n        this.styles = styles;\n        this.updateStyles();\n    }\n    updateStyles() {\n        if (this.ui) {\n            const { quickInputTitleBackground, quickInputBackground, quickInputForeground, widgetBorder, widgetShadow, } = this.styles.widget;\n            this.ui.titleBar.style.backgroundColor = quickInputTitleBackground !== null && quickInputTitleBackground !== void 0 ? quickInputTitleBackground : '';\n            this.ui.container.style.backgroundColor = quickInputBackground !== null && quickInputBackground !== void 0 ? quickInputBackground : '';\n            this.ui.container.style.color = quickInputForeground !== null && quickInputForeground !== void 0 ? quickInputForeground : '';\n            this.ui.container.style.border = widgetBorder ? `1px solid ${widgetBorder}` : '';\n            this.ui.container.style.boxShadow = widgetShadow ? `0 0 8px 2px ${widgetShadow}` : '';\n            this.ui.list.style(this.styles.list);\n            const content = [];\n            if (this.styles.pickerGroup.pickerGroupBorder) {\n                content.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`);\n            }\n            if (this.styles.pickerGroup.pickerGroupForeground) {\n                content.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);\n            }\n            if (this.styles.pickerGroup.pickerGroupForeground) {\n                content.push(`.quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }`);\n            }\n            if (this.styles.keybindingLabel.keybindingLabelBackground ||\n                this.styles.keybindingLabel.keybindingLabelBorder ||\n                this.styles.keybindingLabel.keybindingLabelBottomBorder ||\n                this.styles.keybindingLabel.keybindingLabelShadow ||\n                this.styles.keybindingLabel.keybindingLabelForeground) {\n                content.push('.quick-input-list .monaco-keybinding > .monaco-keybinding-key {');\n                if (this.styles.keybindingLabel.keybindingLabelBackground) {\n                    content.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBorder) {\n                    // Order matters here. `border-color` must come before `border-bottom-color`.\n                    content.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBottomBorder) {\n                    content.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelShadow) {\n                    content.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelForeground) {\n                    content.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`);\n                }\n                content.push('}');\n            }\n            const newStyles = content.join('\\n');\n            if (newStyles !== this.ui.styleSheet.textContent) {\n                this.ui.styleSheet.textContent = newStyles;\n            }\n        }\n    }\n};\nQuickInputController.MAX_WIDTH = 600; // Max total width of quick input widget\nQuickInputController = QuickInputController_1 = __decorate([\n    __param(1, ILayoutService),\n    __param(2, IInstantiationService)\n], QuickInputController);\nexport { QuickInputController };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { IOpenerService } from '../../opener/common/opener.js';\nimport { QuickAccessController } from './quickAccess.js';\nimport { defaultButtonStyles, defaultCountBadgeStyles, defaultInputBoxStyles, defaultKeybindingLabelStyles, defaultProgressBarStyles, defaultToggleStyles, getListStyles } from '../../theme/browser/defaultStyles.js';\nimport { activeContrastBorder, asCssVariable, pickerGroupBorder, pickerGroupForeground, quickInputBackground, quickInputForeground, quickInputListFocusBackground, quickInputListFocusForeground, quickInputListFocusIconForeground, quickInputTitleBackground, widgetBorder, widgetShadow } from '../../theme/common/colorRegistry.js';\nimport { IThemeService, Themable } from '../../theme/common/themeService.js';\nimport { QuickInputHoverDelegate } from './quickInput.js';\nimport { QuickInputController } from './quickInputController.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { getWindow } from '../../../base/browser/dom.js';\nlet QuickInputService = class QuickInputService extends Themable {\n    get controller() {\n        if (!this._controller) {\n            this._controller = this._register(this.createController());\n        }\n        return this._controller;\n    }\n    get hasController() { return !!this._controller; }\n    get quickAccess() {\n        if (!this._quickAccess) {\n            this._quickAccess = this._register(this.instantiationService.createInstance(QuickAccessController));\n        }\n        return this._quickAccess;\n    }\n    constructor(instantiationService, contextKeyService, themeService, layoutService, configurationService) {\n        super(themeService);\n        this.instantiationService = instantiationService;\n        this.contextKeyService = contextKeyService;\n        this.layoutService = layoutService;\n        this.configurationService = configurationService;\n        this._onShow = this._register(new Emitter());\n        this._onHide = this._register(new Emitter());\n        this.contexts = new Map();\n    }\n    createController(host = this.layoutService, options) {\n        const defaultOptions = {\n            idPrefix: 'quickInput_',\n            container: host.activeContainer,\n            ignoreFocusOut: () => false,\n            backKeybindingLabel: () => undefined,\n            setContextKey: (id) => this.setContextKey(id),\n            linkOpenerDelegate: (content) => {\n                // HACK: https://github.com/microsoft/vscode/issues/173691\n                this.instantiationService.invokeFunction(accessor => {\n                    const openerService = accessor.get(IOpenerService);\n                    openerService.open(content, { allowCommands: true, fromUserGesture: true });\n                });\n            },\n            returnFocus: () => host.focus(),\n            styles: this.computeStyles(),\n            hoverDelegate: this._register(this.instantiationService.createInstance(QuickInputHoverDelegate))\n        };\n        const controller = this._register(this.instantiationService.createInstance(QuickInputController, {\n            ...defaultOptions,\n            ...options\n        }));\n        controller.layout(host.activeContainerDimension, host.activeContainerOffset.quickPickTop);\n        // Layout changes\n        this._register(host.onDidLayoutActiveContainer(dimension => {\n            if (getWindow(host.activeContainer) === getWindow(controller.container)) {\n                controller.layout(dimension, host.activeContainerOffset.quickPickTop);\n            }\n        }));\n        this._register(host.onDidChangeActiveContainer(() => {\n            if (controller.isVisible()) {\n                return;\n            }\n            controller.layout(host.activeContainerDimension, host.activeContainerOffset.quickPickTop);\n        }));\n        // Context keys\n        this._register(controller.onShow(() => {\n            this.resetContextKeys();\n            this._onShow.fire();\n        }));\n        this._register(controller.onHide(() => {\n            this.resetContextKeys();\n            this._onHide.fire();\n        }));\n        return controller;\n    }\n    setContextKey(id) {\n        let key;\n        if (id) {\n            key = this.contexts.get(id);\n            if (!key) {\n                key = new RawContextKey(id, false)\n                    .bindTo(this.contextKeyService);\n                this.contexts.set(id, key);\n            }\n        }\n        if (key && key.get()) {\n            return; // already active context\n        }\n        this.resetContextKeys();\n        key === null || key === void 0 ? void 0 : key.set(true);\n    }\n    resetContextKeys() {\n        this.contexts.forEach(context => {\n            if (context.get()) {\n                context.reset();\n            }\n        });\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return this.controller.pick(picks, options, token);\n    }\n    createQuickPick() {\n        return this.controller.createQuickPick();\n    }\n    createInputBox() {\n        return this.controller.createInputBox();\n    }\n    updateStyles() {\n        if (this.hasController) {\n            this.controller.applyStyles(this.computeStyles());\n        }\n    }\n    computeStyles() {\n        return {\n            widget: {\n                quickInputBackground: asCssVariable(quickInputBackground),\n                quickInputForeground: asCssVariable(quickInputForeground),\n                quickInputTitleBackground: asCssVariable(quickInputTitleBackground),\n                widgetBorder: asCssVariable(widgetBorder),\n                widgetShadow: asCssVariable(widgetShadow),\n            },\n            inputBox: defaultInputBoxStyles,\n            toggle: defaultToggleStyles,\n            countBadge: defaultCountBadgeStyles,\n            button: defaultButtonStyles,\n            progressBar: defaultProgressBarStyles,\n            keybindingLabel: defaultKeybindingLabelStyles,\n            list: getListStyles({\n                listBackground: quickInputBackground,\n                listFocusBackground: quickInputListFocusBackground,\n                listFocusForeground: quickInputListFocusForeground,\n                // Look like focused when inactive.\n                listInactiveFocusForeground: quickInputListFocusForeground,\n                listInactiveSelectionIconForeground: quickInputListFocusIconForeground,\n                listInactiveFocusBackground: quickInputListFocusBackground,\n                listFocusOutline: activeContrastBorder,\n                listInactiveFocusOutline: activeContrastBorder,\n            }),\n            pickerGroup: {\n                pickerGroupBorder: asCssVariable(pickerGroupBorder),\n                pickerGroupForeground: asCssVariable(pickerGroupForeground),\n            }\n        };\n    }\n};\nQuickInputService = __decorate([\n    __param(0, IInstantiationService),\n    __param(1, IContextKeyService),\n    __param(2, IThemeService),\n    __param(3, ILayoutService),\n    __param(4, IConfigurationService)\n], QuickInputService);\nexport { QuickInputService };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { coalesce } from '../../../base/common/arrays.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { Registry } from '../../registry/common/platform.js';\nexport var DefaultQuickAccessFilterValue;\n(function (DefaultQuickAccessFilterValue) {\n    /**\n     * Keep the value as it is given to quick access.\n     */\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"PRESERVE\"] = 0] = \"PRESERVE\";\n    /**\n     * Use the value that was used last time something was accepted from the picker.\n     */\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"LAST\"] = 1] = \"LAST\";\n})(DefaultQuickAccessFilterValue || (DefaultQuickAccessFilterValue = {}));\nexport const Extensions = {\n    Quickaccess: 'workbench.contributions.quickaccess'\n};\nexport class QuickAccessRegistry {\n    constructor() {\n        this.providers = [];\n        this.defaultProvider = undefined;\n    }\n    registerQuickAccessProvider(provider) {\n        // Extract the default provider when no prefix is present\n        if (provider.prefix.length === 0) {\n            this.defaultProvider = provider;\n        }\n        else {\n            this.providers.push(provider);\n        }\n        // sort the providers by decreasing prefix length, such that longer\n        // prefixes take priority: 'ext' vs 'ext install' - the latter should win\n        this.providers.sort((providerA, providerB) => providerB.prefix.length - providerA.prefix.length);\n        return toDisposable(() => {\n            this.providers.splice(this.providers.indexOf(provider), 1);\n            if (this.defaultProvider === provider) {\n                this.defaultProvider = undefined;\n            }\n        });\n    }\n    getQuickAccessProviders() {\n        return coalesce([this.defaultProvider, ...this.providers]);\n    }\n    getQuickAccessProvider(prefix) {\n        const result = prefix ? (this.providers.find(provider => prefix.startsWith(provider.prefix)) || undefined) : undefined;\n        return result || this.defaultProvider;\n    }\n}\nRegistry.add(Extensions.Quickaccess, new QuickAccessRegistry());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const NO_KEY_MODS = { ctrlCmd: false, alt: false };\nexport var QuickInputHideReason;\n(function (QuickInputHideReason) {\n    /**\n     * Focus moved away from the quick input.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Blur\"] = 1] = \"Blur\";\n    /**\n     * An explicit user gesture, e.g. pressing Escape key.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Gesture\"] = 2] = \"Gesture\";\n    /**\n     * Anything else.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Other\"] = 3] = \"Other\";\n})(QuickInputHideReason || (QuickInputHideReason = {}));\n/**\n * Represents the activation behavior for items in a quick input. This means which item will be\n * \"active\" (aka focused).\n */\nexport var ItemActivation;\n(function (ItemActivation) {\n    /**\n     * No item will be active.\n     */\n    ItemActivation[ItemActivation[\"NONE\"] = 0] = \"NONE\";\n    /**\n     * First item will be active.\n     */\n    ItemActivation[ItemActivation[\"FIRST\"] = 1] = \"FIRST\";\n    /**\n     * Second item will be active.\n     */\n    ItemActivation[ItemActivation[\"SECOND\"] = 2] = \"SECOND\";\n    /**\n     * Last item will be active.\n     */\n    ItemActivation[ItemActivation[\"LAST\"] = 3] = \"LAST\";\n})(ItemActivation || (ItemActivation = {}));\nexport class QuickPickItemScorerAccessor {\n    constructor(options) {\n        this.options = options;\n    }\n}\nexport const quickPickItemScorerAccessor = new QuickPickItemScorerAccessor();\n//#endregion\nexport const IQuickInputService = createDecorator('quickInputService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Assert from '../../../base/common/assert.js';\nimport * as Types from '../../../base/common/types.js';\nclass RegistryImpl {\n    constructor() {\n        this.data = new Map();\n    }\n    add(id, data) {\n        Assert.ok(Types.isString(id));\n        Assert.ok(Types.isObject(data));\n        Assert.ok(!this.data.has(id), 'There is already an extension with this id');\n        this.data.set(id, data);\n    }\n    as(id) {\n        return this.data.get(id) || null;\n    }\n}\nexport const Registry = new RegistryImpl();\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './media/severityIcon.css';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport Severity from '../../../base/common/severity.js';\nexport var SeverityIcon;\n(function (SeverityIcon) {\n    function className(severity) {\n        switch (severity) {\n            case Severity.Ignore:\n                return 'severity-ignore ' + ThemeIcon.asClassName(Codicon.info);\n            case Severity.Info:\n                return ThemeIcon.asClassName(Codicon.info);\n            case Severity.Warning:\n                return ThemeIcon.asClassName(Codicon.warning);\n            case Severity.Error:\n                return ThemeIcon.asClassName(Codicon.error);\n            default:\n                return '';\n        }\n    }\n    SeverityIcon.className = className;\n})(SeverityIcon || (SeverityIcon = {}));\n"],"names":["IEnvironmentService","createDecorator","ExtensionIdentifier","constructor","value","this","_lower","toLowerCase","toKey","id","ExtensionIdentifierSet","iterable","_set","Set","add","has","FileKind","__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","historyNavigationVisible","RawContextKey","localize","HistoryNavigationWidgetFocusContext","HistoryNavigationForwardsEnablementContext","HistoryNavigationBackwardsEnablementContext","lastFocusedWidget","widgets","registerAndCreateHistoryNavigationContext","scopedContextKeyService","widget","includes","Error","push","disposableStore","DisposableStore","historyNavigationWidgetFocus","bindTo","historyNavigationForwardsEnablement","historyNavigationBackwardsEnablement","onDidFocus","set","onDidBlur","undefined","isActiveElement","element","toDisposable","splice","indexOf","dispose","ContextScopedFindInput","FindInput","container","contextViewProvider","options","contextKeyService","super","_register","createScoped","inputBox","IContextKeyService","ContextScopedReplaceInput","ReplaceInput","KeybindingsRegistry","registerCommandAndKeybindingRule","weight","when","ContextKeyExpr","and","equals","not","isEqualTo","primary","secondary","handler","accessor","showPreviousValue","showNextValue","showHistoryKeybindingHint","keybindingService","_a","_b","lookupKeybinding","getElectronAccelerator","IHoverService","WorkbenchHoverDelegate","Disposable","delay","isInstantlyHovering","_delay","placement","instantHover","overrideOptions","configurationService","hoverService","lastHoverHideTime","timeLimit","hoverDisposables","getValue","onDidChangeConfiguration","e","affectsConfiguration","showHover","focus","clear","targets","HTMLElement","targetElements","addStandardDisposableListener","hideHover","content","toString","persistence","hideOnKeyDown","appearance","compact","skipFadeInAnimation","Date","now","onDidHideHover","IConfigurationService","SyncDescriptor","ctor","staticArguments","supportsDelayedInstantiation","_registry","registerSingleton","ctorOrDescriptor","Boolean","getSingletonServiceDescriptors","_util","serviceIds","Map","DI_TARGET","DI_DEPENDENCIES","getServiceDependencies","IInstantiationService","serviceId","get","index","storeServiceDependency","Node","data","incoming","outgoing","Graph","_hashFn","_nodes","roots","ret","node","values","size","insertEdge","from","to","fromNode","lookupOrInsertNode","toNode","removeNode","delete","isEmpty","concat","keys","join","findCycleSlow","seen","res","_findCycle","CyclicDependencyError","graph","message","InstantiationService","_services","ServiceCollection","_strict","_parent","_enableTracing","_isDisposed","_servicesToMaybeDispose","_children","_activeInstantiations","_globalGraph","candidate","isDisposable","_throwIfDisposed","createChild","services","result","invokeFunction","fn","_trace","Trace","traceInvocation","_done","illegalState","_getOrCreateServiceInstance","_len","args","Array","_key","stop","createInstance","_len2","rest","_key2","traceCreation","_createInstance","serviceDependencies","sort","a","b","serviceArgs","dependency","service","_throwIfStrict","name","firstServiceArgPos","console","trace","delta","slice","construct","_setCreatedServiceInstance","instance","_getServiceInstanceOrDescriptor","instanceOrDesc","_globalGraphImplicitDependency","String","thing","_safeCreateAndCacheServiceInstance","branch","_createAndCacheServiceInstance","cycleCount","stack","item","pop","_createServiceInstanceWithOwner","_createServiceInstance","disposeBucket","child","earlyListeners","idle","GlobalIdleValue","disposable","apply","listener","Proxy","create","isInitialized","startsWith","list","LinkedList","event","callback","thisArg","disposables","entry","rm","obj","prop","bind","_target","p","getPrototypeOf","prototype","msg","printWarning","warn","split","_None","type","_start","_dep","first","dur","_totals","causedCreation","lines","printChild","n","prefix","nested","toFixed","all","_entries","entries","instanceOrDescriptor","Extensions","JSONContribution","jsonContributionRegistry","_onDidChangeSchema","Emitter","schemasById","registerSchema","uri","unresolvedSchemaContent","charAt","substring","fire","notifySchemaChanged","platform","HIGH_FREQ_COMMANDS","AbstractKeybindingService","onDidUpdateKeybindings","_onDidUpdateKeybindings","Event","None","inChordMode","_currentChords","_contextKeyService","_commandService","_telemetryService","_notificationService","_logService","_currentChordChecker","IntervalTimer","_currentChordStatusMessage","_ignoreSingleModifiers","KeybindingModifierSet","EMPTY","_currentSingleModifier","_currentSingleModifierClearTimeout","TimeoutTimer","_currentlyDispatchingCommandId","_logging","_log","str","info","getKeybindings","_getResolver","commandId","context","lookupPrimaryKeybinding","resolvedKeybinding","dispatchEvent","_dispatch","softDispatch","keybinding","resolveKeyboardEvent","hasMultipleChords","NoMatchingKb","firstChord","getDispatchChords","contextValue","getContext","currentChords","map","_ref","keypress","resolve","_scheduleLeaveChordMode","chordLastInteractedTime","cancelAndSet","_documentHasFocus","_leaveChordMode","_expectAnotherChord","keypressLabel","label","status","nls","fullKeypressLabel","_ref2","IME","enabled","disable","cancel","enable","_doDispatch","_singleModifierDispatch","singleModifier","getSingleModifierDispatchChords","getChords","userKeypress","isSingleModiferChord","shouldPreventDefault","userPressedChord","dispatchKeyname","_ref3","getLabel","resolveResult","kind","currentChordsLabel","_ref4","hideAfter","_ref5","isBubble","commandArgs","executeCommand","then","err","test","publicLog2","detail","getUserSettingsLabel","mightProducePrintableCharacter","ctrlKey","metaKey","keyCode","source","_ctrlKey","_shiftKey","shiftKey","_altKey","altKey","_metaKey","modifier","IKeybindingService","MoreChordsNeeded","KeybindingResolver","defaultKeybindings","overrides","log","_defaultKeybindings","_defaultBoundCommands","defaultKeybinding","command","_map","_lookupMap","_keybindings","handleRemovals","len","k","chords","substituteConstants","_addKeyPress","_isTargetedForRemoval","defaultKb","expressionsAreEqualWithConstantSubstitution","rules","removals","rule","commandRemovals","isDefault","isRemoved","commandRemoval","conflicts","_addToLookupMap","conflict","isShorterKbPrefix","whenIsEntirelyIncluded","_removeFromLookupMap","arr","implies","items","contextMatchesRules","pressedChords","kbCandidates","lookupMap","prefixMatches","_findCommand","printWhenExplanation","printSourceExplanation","bubble","matches","_contextMatchesRules","evaluate","serialize","kb","extensionId","isBuiltinExtension","KeybindingsRegistryImpl","_coreKeybindings","_extensionKeybindings","_cachedMergedKeybindings","bindToCurrentPlatform","OS","win","mac","linux","registerKeybindingRule","actualKb","kk","decodeKeybinding","_registerDefaultKeybinding","isArray","combinedDisposable","CommandsRegistry","registerCommand","weight1","weight2","remove","getDefaultKeybindings","sorter","Registry","ResolvedKeybindingItem","_resolvedKeybindingItemBrand","toEmptyArrayIfContainsNull","charCodeAt","substr","BaseResolvedKeybinding","ResolvedKeybinding","os","illegalArgument","_os","_chords","UILabelProvider","toLabel","_getLabel","getAriaLabel","AriaLabelProvider","_getAriaLabel","isDuplicateModifierCase","ElectronAcceleratorLabelProvider","_getElectronAccelerator","UserSettingsLabelProvider","_getUserSettingsLabel","_getChord","ResolvedChord","_getChordDispatch","_getSingleModifierChordDispatch","USLayoutResolvedKeybinding","_keyCodeToUILabel","KeyCodeUtils","chord","toElectronAccelerator","toUserSettingsUS","getDispatchStr","isModifierKey","_scanCodeToKeyCode","scanCode","immutableKeyCode","IMMUTABLE_CODE_TO_KEY_CODE","_toKeyCodeChord","KeyCodeChord","resolveKeybinding","ILabelService","ILayoutService","IListService","ListService","lastFocusedList","_lastFocusedWidget","lists","_hasCreatedStyleController","setLastFocusedList","getHTMLElement","classList","register","extraContextKeys","DefaultStyleController","createStyleSheet","style","defaultListStyles","some","l","registeredList","onDidDispose","filter","RawWorkbenchListScrollAtBoundaryContextKey","RawWorkbenchListFocusContextKey","or","WorkbenchTreeStickyScrollFocused","WorkbenchListSupportsMultiSelectContextKey","WorkbenchListFocusContextKey","InputFocusedContextKey","negate","WorkbenchListHasSelectionOrFocus","WorkbenchListDoubleSelection","WorkbenchListMultiSelection","WorkbenchListSelectionNavigation","WorkbenchListSupportsFind","WorkbenchTreeElementCanCollapse","WorkbenchTreeElementHasParent","WorkbenchTreeElementCanExpand","WorkbenchTreeElementHasChild","WorkbenchTreeFindOpen","WorkbenchListTypeNavigationModeKey","WorkbenchListAutomaticKeyboardNavigationLegacyKey","createScopedContextKeyService","createScrollObserver","listScrollAt","update","atTop","scrollTop","atBottom","scrollHeight","renderHeight","onDidScroll","multiSelectModifierSettingKey","openModeSettingKey","horizontalScrollingKey","defaultFindModeSettingKey","typeNavigationModeSettingKey","keyboardNavigationSettingKey","scrollByPageKey","defaultFindMatchTypeSettingKey","treeIndentKey","treeRenderIndentGuidesKey","listSmoothScrolling","mouseWheelScrollSensitivityKey","fastScrollSensitivityKey","treeExpandMode","treeStickyScroll","treeStickyScrollMaxElements","useAltAsMultipleSelectionModifier","MultipleSelectionController","registerListeners","isSelectionSingleChangeEvent","browserEvent","isSelectionRangeChangeEvent","toWorkbenchListOptions","keyboardNavigationDelegate","smoothScrolling","mouseWheelScrollSensitivity","fastScrollSensitivity","multipleSelectionController","keyboardNavigationEventFilter","createKeyboardNavigationEventFilter","scrollByPage","WorkbenchList","List","user","delegate","renderers","listService","instantiationService","horizontalScrolling","workbenchListOptions","workbenchListOptionsDisposable","keyboardSupport","listSupportsMultiSelect","multipleSelectionSupport","selectionNavigation","listHasSelectionOrFocus","listDoubleSelection","listMultiSelection","_useAltAsMultipleSelectionModifier","updateStyles","overrideStyles","onDidChangeSelection","selection","getSelection","getFocus","bufferChangeEvents","onDidChangeFocus","updateOptions","navigator","ListResourceNavigator","styles","getListStyles","WorkbenchPagedList","PagedList","WorkbenchTable","Table","columns","TableResourceNavigator","ResourceNavigator","_onDidOpen","onDidOpen","isKeyboardEvent","onSelectionFromKeyboard","onPointer","onMouseDblClick","openOnSingleClick","elements","selectionKeyboardEvent","preserveFocus","pinned","_open","getSelectedElement","button","sideBySide","contains","offsetX","editorOptions","revealIfVisible","getSelectedElements","TreeResourceNavigator","inMultiChord","toKeyCodeChord","WorkbenchObjectTree","ObjectTree","treeOptions","getTypeNavigationMode","workbenchTreeDataPreamble","internals","WorkbenchTreeInternals","WorkbenchCompressibleObjectTree","CompressibleObjectTree","updateStyleOverrides","WorkbenchDataTree","DataTree","dataSource","WorkbenchAsyncDataTree","AsyncDataTree","WorkbenchCompressibleAsyncDataTree","CompressibleAsyncDataTree","virtualDelegate","compressionDelegate","getDefaultTreeFindMode","TreeFindMode","Highlight","Filter","deprecatedValue","getDefaultTreeFindMatchType","TreeFindMatchType","Fuzzy","Contiguous","contextViewService","IContextViewService","paddingBottom","renderIndentGuides","modeString","getContextKeyValue","TypeNavigationMode","Automatic","Trigger","configString","indent","defaultFindMode","defaultFindMatchType","hideTwistiesOfChildlessElements","expandOnlyOnTwistieClick","findWidgetStyles","defaultFindWidgetStyles","enableStickyScroll","stickyScrollMaxItemCount","Number","tree","listSupportFindWidget","findWidgetEnabled","hasSelectionOrFocus","hasDoubleSelection","hasMultiSelection","treeElementCanCollapse","treeElementHasParent","treeElementCanExpand","treeElementHasChild","treeFindOpen","treeStickyScrollFocused","updateCollapseContextKeys","getNode","collapsible","collapsed","getParentElement","getFirstElementChild","interestingContextKeys","onDidChangeCollapseState","onDidChangeModel","onDidChangeFindOpenState","onDidChangeStickyScrollFocused","focused","newOptions","typeNavigationMode","Math","max","onDidChangeContext","affectsSome","as","ConfigurationExtensions","Configuration","registerConfiguration","order","title","properties","enum","markdownEnumDescriptions","default","description","comment","minimum","maximum","markdownDescription","enumDescriptions","deprecated","deprecationMessage","ILogService","LogLevel","DEFAULT_LOG_LEVEL","Info","AbstractLogger","level","_onDidChangeLogLevel","onDidChangeLogLevel","setLevel","getLevel","checkLogLevel","Off","ConsoleLogger","logLevel","useColors","debug","Debug","_len3","_key3","Warning","_len4","_key4","error","_len5","_key5","MultiplexLogger","loggers","logger","_len6","_key6","_len7","_key7","_len8","_key8","_len9","_key9","_len10","_key10","LogLevelToString","LogService","primaryLogger","otherLoggers","unsupportedSchemas","Schemas","inMemory","vscodeSourceControl","walkThrough","walkThroughSnippet","vscodeChatCodeBlock","DoubleResourceMap","_byResource","ResourceMap","_byOwner","resource","owner","ownerMap","resourceMap","removedA","removedB","_c","_d","Iterable","empty","URI","isUri","MarkerStats","errors","infos","warnings","unknowns","_data","_service","_subscription","onMarkerChanged","_update","resources","oldStats","_substract","newStats","_resourceStats","_add","scheme","severity","read","MarkerSeverity","op","MarkerService","_onMarkerChanged","DebounceEmitter","merge","_merge","_stats","changeOne","markerData","isFalsyOrEmpty","markers","marker","_toMarker","code","startLineNumber","startColumn","endLineNumber","endColumn","relatedInformation","tags","changeAll","changes","existing","isNonEmptyArray","groups","array","severities","take","_accept","newLen","IMarkerData","compare","_displayStrings","fromSeverity","Severity","Ignore","Hint","toSeverity","emptyString","makeKeyOptionalMessage","useMessage","replace","makeKey","IMarkerService","BaseSeverity","INotificationService","NoOpNotification","Link","_enabled","el","setAttribute","tabIndex","pointerEvents","opacity","cursor","_link","_hoverService","openerService","append","$","href","hoverDelegate","getDefaultHoverDelegate","setTooltip","onClickEmitter","DomEmitter","onKeyPress","onEnterPress","chain","StandardKeyboardEvent","onTap","TouchEventType","Tap","Gesture","addTarget","onOpen","any","EventHelper","opener","open","allowCommands","showNativeHover","hover","setupUpdatableHover","IOpenerService","extractSelection","match","exec","fragment","parseInt","with","IProgressService","freeze","total","worked","done","Progress","report","_value","IEditorProgressService","TriggerAction","isPicksWithActive","isFastAndSlowPicks","picks","additionalPicks","Promise","PickerQuickAccessProvider","provide","picker","token","runOptions","picksCts","canAcceptInBackground","matchOnLabel","matchOnDescription","matchOnDetail","sortByLabel","picksDisposable","MutableDisposable","updatePickerItems","async","picksDisposables","busy","CancellationTokenSource","picksToken","picksFilter","shouldSkipTrimPickFilter","trim","providedPicks","_getPicks","applyPicks","skipEmpty","activeItem","active","hideInput","noResultsPick","isFunction","activeItems","applyFastAndSlowPicks","fastPicksApplied","slowPicksApplied","fastAndSlowPicks","mergeDelay","timeout","isCancellationRequested","awaitedAdditionalPicks","activePick","additionalActivePick","fallbackActivePick","fallbackActivePickCandidate","awaitedPicks","onDidChangeValue","onDidAccept","selectedItems","accept","inBackground","hide","keyMods","buttonTrigger","trigger","buttonIndex","buttons","action","NO_ACTION","CLOSE_PICKER","REFRESH_PICKER","REMOVE_ITEM","removed","keepScrollPositionBefore","keepScrollPosition","onDidTriggerItemButton","onDidTriggerSeparatorButton","separator","AbstractCommandsQuickAccessProvider_1","CommandsHistory_1","AbstractCommandsQuickAccessProvider","commandService","telemetryService","dialogService","PREFIX","commandsHistory","CommandsHistory","_disposables","allCommandPicks","getCommandPicks","runTfidf","createSingleCallFunction","tfidf","TfIdfCalculator","updateDocuments","commandPick","textChunks","getTfIdfChunk","calculateScores","normalizeTfIdfScores","score","TFIDF_THRESHOLD","TFIDF_MAX_RESULTS","filteredCommandPicks","labelHighlights","WORD_FILTER","aliasHighlights","commandAlias","highlights","showAlias","tfidfScore","find","tfIdfScore","mapLabelToCommand","existingCommandForLabel","commandPickA","commandPickB","localeCompare","commandACounter","peek","commandBCounter","suggestedCommandIds","commandASuggestion","commandBSuggestion","commandPicks","addOtherSeparator","addSuggestedSeparator","addCommonlyUsedSeparator","toCommandPick","hasAdditionalCommandPicks","additionalCommandPicks","getAdditionalCommandPicks","unshift","ariaLabel","isCancellationError","toErrorMessage","commandDescription","chunk","original","matchesPrefix","matchesWords","matchesContiguousSubString","ICommandService","ITelemetryService","IDialogService","storageService","logService","configuredCommandsHistoryLength","updateConfiguration","load","onWillSaveState","reason","WillSaveStateReason","SHUTDOWN","saveState","getConfiguredCommandHistoryLength","cache","limit","hasChanges","raw","PREF_KEY_CACHE","serializedCache","JSON","parse","LRUCache","usesLRU","forEach","counter","getNumber","PREF_KEY_COUNTER","store","stringify","configuredCommandHistoryLength","workbench","commandPalette","history","DEFAULT_COMMANDS_HISTORY_LENGTH","IStorageService","HelpQuickAccessProvider_1","HelpQuickAccessProvider","quickInputService","registry","Quickaccess","quickAccess","show","preserveValue","providerDescriptor","getQuickAccessProvider","getQuickAccessProviders","providerA","providerB","flatMap","provider","createPicks","helpEntries","helpEntry","IQuickInputService","QuickAccessController","mapProviderToDescriptor","lastAcceptedPickerValues","visibleQuickAccess","doShowOrPick","pick","descriptor","getOrInstantiateProvider","visibleDescriptor","adjustValueSelection","newValue","newValueCandidateWithoutPrefix","defaultFilterValue","DefaultQuickAccessFilterValue","LAST","visibleSelection","valueSelection","visibleValue","createQuickPick","pickPromise","placeholder","quickNavigate","quickNavigateConfiguration","itemActivation","ItemActivation","SECOND","contextKey","filterValue","DeferredPromise","once","onWillAccept","veto","registerPickerListeners","providerOptions","cts","onDidHide","complete","providerForValue","iconPathToClass","iconClassGenerator","IdGenerator","quickInputButtonToAction","run","cssClasses","iconClass","iconPath","dark","nextId","dom","light","getIconClass","alwaysVisible","tooltip","class","QuickPickItemElementRenderer_1","QuickInputListFocus","QuickPickSeparatorFocusReason","BaseQuickPickItemElement","hasCheckbox","mainItem","_hidden","_init","Lazy","saneLabel","saneSortLabel","parseLabelWithIcons","text","saneAriaLabel","saneDescription","saneDetail","s","getCodiconAriaLabel","_saneDescription","_saneTooltip","_element","hidden","_saneDetail","saneTooltip","_labelHighlights","descriptionHighlights","_descriptionHighlights","detailHighlights","_detailHighlights","QuickPickItemElement","fireButtonTriggered","_onChecked","_separator","_checked","onChecked","checked","checkboxDisabled","disabled","QuickPickSeparatorElement","fireSeparatorButtonTriggered","children","focusInsideSeparator","NONE","QuickInputItemDelegate","getHeight","getTemplateId","QuickPickItemElementRenderer","ID","QuickPickSeparatorElementRenderer","QuickInputAccessibilityProvider","getWidgetAriaLabel","getWidgetRole","getRole","isChecked","onDidChange","BaseQuickInputListRenderer","renderTemplate","toDisposeElement","toDisposeTemplate","CLICK","checkbox","offsetParent","preventDefault","rows","row1","row2","IconLabel","supportHighlights","supportDescriptionHighlights","supportIcons","icon","keybindingContainer","KeybindingLabel","detailContainer","actionBar","ActionBar","domNode","disposeTemplate","disposeElement","_index","themeService","_itemsWithSeparatorsFrequency","templateId","CHANGE","renderElement","isDark","getColorTheme","iconUrl","revive","className","backgroundImage","descriptionTitle","markdown","supportThemeIcons","markdownNotSupportedFallback","descriptionMatches","labelEscapeNewLines","extraClasses","iconClasses","italic","strikethrough","setLabel","display","textContent","addItemWithSeparator","toggle","removeItemWithSeparator","isItemWithSeparatorVisible","frequency","IThemeService","_visibleSeparatorsFrequency","visibleSeparators","isSeparatorVisible","addSeparator","removeSeparator","QuickInputTree","parent","linkOpenerDelegate","_onKeyDown","onKeyDown","_onLeave","onLeave","_onChangedAllVisibleChecked","onChangedAllVisibleChecked","_onChangedCheckedCount","onChangedCheckedCount","_onChangedVisibleCount","onChangedVisibleCount","_onChangedCheckedElements","onChangedCheckedElements","_onButtonTriggered","onButtonTriggered","_onSeparatorButtonTriggered","onSeparatorButtonTriggered","_onTriggerEmptySelectionOrFocus","_elementChecked","_inputElements","_elementTree","_itemElements","_elementDisposable","_shouldFireCheckedEvents","_matchOnDescription","_matchOnDetail","_matchOnLabel","_matchOnLabelMode","_sortByLabel","_container","_separatorRenderer","_itemRenderer","_tree","accessibilityProvider","setRowLineHeight","RenderIndentGuides","allowNonCollapsibleParents","identityProvider","getId","alwaysConsumeMouseWheel","_registerListeners","matchOnLabelMode","_registerOnKeyDown","_registerOnContainerClick","_registerOnMouseMiddleClick","_registerOnElementChecked","_registerOnContextMenu","_registerHoverListeners","_registerSelectionChangeListener","_registerSeparatorActionShowingListeners","toggleCheckbox","isMacintosh","setFocus","focus1","focus2","x","y","AUXCLICK","_","_fireCheckedEvents","onContextMenu","setSelection","delayer","ThrottledDelayer","onMouseOver","HTMLAnchorElement","relatedTarget","onMouseOut","ACTIVE_ITEM","rerender","MOUSE_HOVER","elementsWithoutSeparators","reveal","getAllVisibleChecked","_allVisibleChecked","getCheckedCount","getVisibleCount","setAllVisibleChecked","setElements","inputElements","currentSeparatorElement","reduce","previous","qpi","visibleCount","setChildren","setFocusedElements","getActiveDescendant","getAttribute","setSelectedElements","getCheckedElements","setCheckedElements","what","Second","First","focusFirst","Last","Next","focusNext","Previous","focusPrevious","NextPage","focusNextPage","PreviousPage","focusPreviousPage","NextSeparator","foundSeparatorAsItem","before","PreviousSeparator","focusElement","foundSeparator","clearFocus","domFocus","layout","maxHeight","floor","query","queryWithWhitespace","currentSeparator","matchesFuzzyIconAware","iconOffsets","matchesContiguous","wordToMatchAgainstWithoutIconsTrimmed","ltrim","leadingWhitespaceOffset","iconOffset","start","end","matchesContiguousIconAware","alwaysShow","shownElements","normalizedSearchValue","elementA","elementB","lookFor","labelHighlightsA","labelHighlightsB","compareAnything","compareEntries","finalElements","allChecked","isDisplayed","toggleHover","_lastHover","isDisposed","whenNoneVisible","call","linkHandler","url","showPointer","position","hoverPosition","word","wordToMatchAgainst","matchIndex","memoize","backButton","ThemeIcon","asClassName","Codicon","quickInputBack","handle","QuickInput","ui","_widgetUpdated","visible","_busy","_ignoreFocusOut","_buttons","buttonsUpdated","_toggles","togglesUpdated","noValidationMessage","noPromptMessage","_severity","onDidTriggerButtonEmitter","onDidHideEmitter","onWillHideEmitter","onDisposeEmitter","visibleDisposables","_title","_description","step","_steps","totalSteps","_totalSteps","_contextKey","ignoreFocusOut","shouldUpdate","isIOS","toggles","validationMessage","_validationMessage","onDidTriggerButton","_lastValidationMessage","_lastSeverity","didHide","QuickInputHideReason","Other","willHide","getTitle","innerHTML","innerText","getDescription","description1","description2","_widget","busyDelay","setIfNotSet","progressBar","infinite","leftActionBar","leftButtons","rightActionBar","rightButtons","concreteToggles","opts","Toggle","setEnabled","setContextKey","actionHandler","parsed","parseLinkedText","nodes","renderLabelWithIcons","anchor","textDecoration","handleOpen","onClick","onKeydown","KEY_DOWN","onSpaceOrEnter","GestureEventType","appendChild","renderQuickInputDescription","showMessageDecoration","getSteps","showDecoration","stylesForType","color","foreground","backgroundColor","background","border","marginBottom","QuickPick","onDidChangeValueEmitter","onWillAcceptEmitter","onDidAcceptEmitter","onDidCustomEmitter","_items","itemsUpdated","_canSelectMany","_canAcceptInBackground","_keepScrollPosition","_itemActivation","FIRST","_activeItems","activeItemsUpdated","activeItemsToConfirm","onDidChangeActiveEmitter","_selectedItems","selectedItemsUpdated","selectedItemsToConfirm","onDidChangeSelectionEmitter","onDidTriggerItemButtonEmitter","onDidTriggerSeparatorButtonEmitter","valueSelectionUpdated","_ok","_customButton","onDidChangeActive","_quickNavigate","doSetValue","skipUpdate","trySelectFirst","_ariaLabel","_placeholder","canSelectMany","NO_KEY_MODS","_valueSelection","customButton","showCustomButton","customLabel","_customButtonLabel","customHover","_customButtonHover","ok","showOkButton","_hideInput","isSelectionAtEnd","handleAccept","onDidCustom","focusedItems","checkedItems","registerQuickNavigation","KEY_UP","keyboardEvent","keybindings","scrollTopBefore","hasDescription","visibilities","checkAll","_hideCheckAll","checkBox","count","_hideCountBadge","setVisibilities","select","DEFAULT_ARIA_LABEL","currentActiveItems","setCount","InputBox","_password","onDidValueChangeEmitter","password","QuickInputHoverDelegate","getOverrideOptions","showHoverHint","QuickInputBox","inputBoxStyles","toggleStyles","findInput","inputElement","input","role","ariaHasPopup","ariaAutoComplete","ariaExpanded","setValue","range","setPlaceHolder","toggleAttribute","setAdditionalToggles","decoration","clearMessage","showMessage","QuickInputController_1","QuickInputController","layoutService","ctrlCmd","alt","controller","onShowEmitter","onShow","onHideEmitter","onHide","idPrefix","runAndSubscribe","window","registerKeyModsListeners","mainWindow","_store","reparentUI","mainContainer","mainContainerDimension","mainContainerOffset","quickPickTop","MOUSE_DOWN","getUI","showInActiveContainer","activeContainer","activeContainerDimension","activeContainerOffset","styleSheet","titleBar","headerContainer","inputContainer","filterContainer","visibleCountContainer","CountBadge","countFormat","countBadge","countContainer","okContainer","Button","onDidClick","customButtonContainer","ProgressBar","getContainer","listId","setTimeout","focusTracker","FOCUS","previousFocusElement","Blur","selectors","stops","querySelectorAll","CancellationToken","doResolve","reject","onKeyMods","removeItem","onCancellationRequested","canPickMany","placeHolder","ignoreFocusLost","_activeItem","picked","createInputBox","oldController","backKeybindingLabel","updateLayout","isVisible","viewItems","focusChanged","currentElement","parentElement","returnFocus","dimension","titleBarOffset","top","width","min","MAX_WIDTH","marginLeft","height","applyStyles","quickInputTitleBackground","quickInputBackground","quickInputForeground","widgetBorder","widgetShadow","boxShadow","pickerGroup","pickerGroupBorder","pickerGroupForeground","keybindingLabel","keybindingLabelBackground","keybindingLabelBorder","keybindingLabelBottomBorder","keybindingLabelShadow","keybindingLabelForeground","newStyles","QuickInputService","Themable","_controller","createController","hasController","_quickAccess","_onShow","_onHide","contexts","host","defaultOptions","fromUserGesture","computeStyles","onDidLayoutActiveContainer","getWindow","onDidChangeActiveContainer","resetContextKeys","reset","asCssVariable","defaultInputBoxStyles","defaultToggleStyles","defaultCountBadgeStyles","defaultButtonStyles","defaultProgressBarStyles","defaultKeybindingLabelStyles","listBackground","listFocusBackground","quickInputListFocusBackground","listFocusForeground","quickInputListFocusForeground","listInactiveFocusForeground","listInactiveSelectionIconForeground","quickInputListFocusIconForeground","listInactiveFocusBackground","listFocusOutline","activeContrastBorder","listInactiveFocusOutline","providers","defaultProvider","registerQuickAccessProvider","coalesce","Assert","Types","SeverityIcon","warning"],"sourceRoot":""}