{"version":3,"file":"static/js/monaco-editor-vendor.dff5f55e.554b3fce.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/editor/editor.api.js","../node_modules/monaco-editor/esm/vs/editor/editor.main.js","../node_modules/monaco-editor/esm/vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js","../node_modules/monaco-editor/esm/vs/editor/contrib/tokenization/browser/tokenization.js","../node_modules/monaco-editor/esm/vs/editor/contrib/unicodeHighlighter/browser/bannerController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter.js","../node_modules/monaco-editor/esm/vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators.js","../node_modules/monaco-editor/esm/vs/editor/contrib/viewportSemanticTokens/browser/viewportSemanticTokens.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/browser/wordHighlighter.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordOperations/browser/wordOperations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordPartOperations/browser/wordPartOperations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/browser/zoneWidget.js","webpack://monaco-editor-nginx/./node_modules/monaco-editor/esm/vs/editor/editor.api.js?0902"],"sourcesContent":["self[\"MonacoEnvironment\"] = (function (paths) {\n      function stripTrailingSlash(str) {\n        return str.replace(/\\/$/, '');\n      }\n      return {\n        globalAPI: false,\n        getWorkerUrl: function (moduleId, label) {\n          var pathPrefix = typeof __webpack_public_path__ === 'string' ? __webpack_public_path__ : \"./\";\n          var result = (pathPrefix ? stripTrailingSlash(pathPrefix) + '/' : '') + paths[label];\n          if (/^((http:)|(https:)|(file:)|(\\/\\/))/.test(result)) {\n            var currentUrl = String(window.location);\n            var currentOrigin = currentUrl.substr(0, currentUrl.length - window.location.hash.length - window.location.search.length - window.location.pathname.length);\n            if (result.substring(0, currentOrigin.length) !== currentOrigin) {\n              if(/^(\\/\\/)/.test(result)) {\n                result = window.location.protocol + result\n              }\n              var js = '/*' + label + '*/importScripts(\"' + result + '\");';\n              var blob = new Blob([js], { type: 'application/javascript' });\n              return URL.createObjectURL(blob);\n            }\n          }\n          return result;\n        }\n      };\n    })({\n  \"editorWorkerService\": \"editor.worker.js\",\n  \"json\": \"json.worker.js\"\n});\nrequire(\"./standalone/browser/accessibilityHelp/accessibilityHelp.js\");\nrequire(\"./contrib/anchorSelect/browser/anchorSelect.js\");\nrequire(\"./contrib/bracketMatching/browser/bracketMatching.js\");\nrequire(\"./contrib/caretOperations/browser/caretOperations.js\");\nrequire(\"./contrib/caretOperations/browser/transpose.js\");\nrequire(\"./contrib/clipboard/browser/clipboard.js\");\nrequire(\"./contrib/codeAction/browser/codeActionContributions.js\");\nrequire(\"./contrib/codelens/browser/codelensController.js\");\nrequire(\"./contrib/colorPicker/browser/colorContributions.js\");\nrequire(\"./contrib/comment/browser/comment.js\");\nrequire(\"./contrib/contextmenu/browser/contextmenu.js\");\nrequire(\"./browser/controller/coreCommands.js\");\nrequire(\"./contrib/cursorUndo/browser/cursorUndo.js\");\nrequire(\"./contrib/dnd/browser/dnd.js\");\nrequire(\"./contrib/documentSymbols/browser/documentSymbols.js\");\nrequire(\"./contrib/find/browser/findController.js\");\nrequire(\"./contrib/folding/browser/folding.js\");\nrequire(\"./contrib/fontZoom/browser/fontZoom.js\");\nrequire(\"./contrib/format/browser/formatActions.js\");\nrequire(\"./contrib/gotoError/browser/gotoError.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneGotoLineQuickAccess.js\");\nrequire(\"./contrib/gotoSymbol/browser/goToCommands.js\");\nrequire(\"./contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js\");\nrequire(\"./contrib/hover/browser/hover.js\");\nrequire(\"./standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js\");\nrequire(\"./contrib/inPlaceReplace/browser/inPlaceReplace.js\");\nrequire(\"./contrib/indentation/browser/indentation.js\");\nrequire(\"./contrib/inlayHints/browser/inlayHintsController.js\");\nrequire(\"./contrib/inlineCompletions/browser/ghostTextController.js\");\nrequire(\"./standalone/browser/inspectTokens/inspectTokens.js\");\nrequire(\"./contrib/lineSelection/browser/lineSelection.js\");\nrequire(\"./contrib/linesOperations/browser/linesOperations.js\");\nrequire(\"./contrib/linkedEditing/browser/linkedEditing.js\");\nrequire(\"./contrib/links/browser/links.js\");\nrequire(\"./contrib/multicursor/browser/multicursor.js\");\nrequire(\"./contrib/parameterHints/browser/parameterHints.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneCommandsQuickAccess.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneHelpQuickAccess.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess.js\");\nrequire(\"./standalone/browser/referenceSearch/standaloneReferenceSearch.js\");\nrequire(\"./contrib/rename/browser/rename.js\");\nrequire(\"./contrib/smartSelect/browser/smartSelect.js\");\nrequire(\"./contrib/snippet/browser/snippetController2.js\");\nrequire(\"./contrib/suggest/browser/suggestController.js\");\nrequire(\"./standalone/browser/toggleHighContrast/toggleHighContrast.js\");\nrequire(\"./contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js\");\nrequire(\"./contrib/tokenization/browser/tokenization.js\");\nrequire(\"./contrib/unicodeHighlighter/browser/unicodeHighlighter.js\");\nrequire(\"./contrib/unusualLineTerminators/browser/unusualLineTerminators.js\");\nrequire(\"./contrib/viewportSemanticTokens/browser/viewportSemanticTokens.js\");\nrequire(\"./contrib/wordHighlighter/browser/wordHighlighter.js\");\nrequire(\"./contrib/wordOperations/browser/wordOperations.js\");\nrequire(\"./contrib/wordPartOperations/browser/wordPartOperations.js\");\nmodule.exports = require(\"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[0]!./editor.api.js\");\nrequire(\"../language/json/monaco.contribution.js\");","self[\"MonacoEnvironment\"] = (function (paths) {\n      function stripTrailingSlash(str) {\n        return str.replace(/\\/$/, '');\n      }\n      return {\n        globalAPI: false,\n        getWorkerUrl: function (moduleId, label) {\n          var pathPrefix = typeof __webpack_public_path__ === 'string' ? __webpack_public_path__ : \"./\";\n          var result = (pathPrefix ? stripTrailingSlash(pathPrefix) + '/' : '') + paths[label];\n          if (/^((http:)|(https:)|(file:)|(\\/\\/))/.test(result)) {\n            var currentUrl = String(window.location);\n            var currentOrigin = currentUrl.substr(0, currentUrl.length - window.location.hash.length - window.location.search.length - window.location.pathname.length);\n            if (result.substring(0, currentOrigin.length) !== currentOrigin) {\n              if(/^(\\/\\/)/.test(result)) {\n                result = window.location.protocol + result\n              }\n              var js = '/*' + label + '*/importScripts(\"' + result + '\");';\n              var blob = new Blob([js], { type: 'application/javascript' });\n              return URL.createObjectURL(blob);\n            }\n          }\n          return result;\n        }\n      };\n    })({\n  \"editorWorkerService\": \"editor.worker.js\",\n  \"json\": \"json.worker.js\"\n});\nrequire(\"./standalone/browser/accessibilityHelp/accessibilityHelp.js\");\nrequire(\"./contrib/anchorSelect/browser/anchorSelect.js\");\nrequire(\"./contrib/bracketMatching/browser/bracketMatching.js\");\nrequire(\"./contrib/caretOperations/browser/caretOperations.js\");\nrequire(\"./contrib/caretOperations/browser/transpose.js\");\nrequire(\"./contrib/clipboard/browser/clipboard.js\");\nrequire(\"./contrib/codeAction/browser/codeActionContributions.js\");\nrequire(\"./contrib/codelens/browser/codelensController.js\");\nrequire(\"./contrib/colorPicker/browser/colorContributions.js\");\nrequire(\"./contrib/comment/browser/comment.js\");\nrequire(\"./contrib/contextmenu/browser/contextmenu.js\");\nrequire(\"./browser/controller/coreCommands.js\");\nrequire(\"./contrib/cursorUndo/browser/cursorUndo.js\");\nrequire(\"./contrib/dnd/browser/dnd.js\");\nrequire(\"./contrib/documentSymbols/browser/documentSymbols.js\");\nrequire(\"./contrib/find/browser/findController.js\");\nrequire(\"./contrib/folding/browser/folding.js\");\nrequire(\"./contrib/fontZoom/browser/fontZoom.js\");\nrequire(\"./contrib/format/browser/formatActions.js\");\nrequire(\"./contrib/gotoError/browser/gotoError.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneGotoLineQuickAccess.js\");\nrequire(\"./contrib/gotoSymbol/browser/goToCommands.js\");\nrequire(\"./contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js\");\nrequire(\"./contrib/hover/browser/hover.js\");\nrequire(\"./standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js\");\nrequire(\"./contrib/inPlaceReplace/browser/inPlaceReplace.js\");\nrequire(\"./contrib/indentation/browser/indentation.js\");\nrequire(\"./contrib/inlayHints/browser/inlayHintsController.js\");\nrequire(\"./contrib/inlineCompletions/browser/ghostTextController.js\");\nrequire(\"./standalone/browser/inspectTokens/inspectTokens.js\");\nrequire(\"./contrib/lineSelection/browser/lineSelection.js\");\nrequire(\"./contrib/linesOperations/browser/linesOperations.js\");\nrequire(\"./contrib/linkedEditing/browser/linkedEditing.js\");\nrequire(\"./contrib/links/browser/links.js\");\nrequire(\"./contrib/multicursor/browser/multicursor.js\");\nrequire(\"./contrib/parameterHints/browser/parameterHints.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneCommandsQuickAccess.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneHelpQuickAccess.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess.js\");\nrequire(\"./standalone/browser/referenceSearch/standaloneReferenceSearch.js\");\nrequire(\"./contrib/rename/browser/rename.js\");\nrequire(\"./contrib/smartSelect/browser/smartSelect.js\");\nrequire(\"./contrib/snippet/browser/snippetController2.js\");\nrequire(\"./contrib/suggest/browser/suggestController.js\");\nrequire(\"./standalone/browser/toggleHighContrast/toggleHighContrast.js\");\nrequire(\"./contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js\");\nrequire(\"./contrib/tokenization/browser/tokenization.js\");\nrequire(\"./contrib/unicodeHighlighter/browser/unicodeHighlighter.js\");\nrequire(\"./contrib/unusualLineTerminators/browser/unusualLineTerminators.js\");\nrequire(\"./contrib/viewportSemanticTokens/browser/viewportSemanticTokens.js\");\nrequire(\"./contrib/wordHighlighter/browser/wordHighlighter.js\");\nrequire(\"./contrib/wordOperations/browser/wordOperations.js\");\nrequire(\"./contrib/wordPartOperations/browser/wordPartOperations.js\");\nmodule.exports = require(\"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[0]!./editor.main.js\");\nrequire(\"../language/json/monaco.contribution.js\");","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { TabFocus } from '../../../browser/config/tabFocus.js';\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport * as nls from '../../../../nls.js';\nexport class ToggleTabFocusModeAction extends EditorAction {\n    constructor() {\n        super({\n            id: ToggleTabFocusModeAction.ID,\n            label: nls.localize({ key: 'toggle.tabMovesFocus', comment: ['Turn on/off use of tab key for moving focus around VS Code'] }, \"Toggle Tab Key Moves Focus\"),\n            alias: 'Toggle Tab Key Moves Focus',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: null,\n                primary: 2048 /* CtrlCmd */ | 43 /* KeyM */,\n                mac: { primary: 256 /* WinCtrl */ | 1024 /* Shift */ | 43 /* KeyM */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const oldValue = TabFocus.getTabFocusMode();\n        const newValue = !oldValue;\n        TabFocus.setTabFocusMode(newValue);\n        if (newValue) {\n            alert(nls.localize('toggle.tabMovesFocus.on', \"Pressing Tab will now move focus to the next focusable element\"));\n        }\n        else {\n            alert(nls.localize('toggle.tabMovesFocus.off', \"Pressing Tab will now insert the tab character\"));\n        }\n    }\n}\nToggleTabFocusModeAction.ID = 'editor.action.toggleTabFocusMode';\nregisterEditorAction(ToggleTabFocusModeAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport * as nls from '../../../../nls.js';\nclass ForceRetokenizeAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.forceRetokenize',\n            label: nls.localize('forceRetokenize', \"Developer: Force Retokenize\"),\n            alias: 'Developer: Force Retokenize',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const model = editor.getModel();\n        model.resetTokenization();\n        const sw = new StopWatch(true);\n        model.forceTokenization(model.getLineCount());\n        sw.stop();\n        console.log(`tokenization took ${sw.elapsed()}`);\n    }\n}\nregisterEditorAction(ForceRetokenizeAction);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './bannerController.css';\nimport { $, append, clearNode } from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { MarkdownRenderer } from '../../markdownRenderer/browser/markdownRenderer.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Link } from '../../../../platform/opener/browser/link.js';\nimport { widgetClose } from '../../../../platform/theme/common/iconRegistry.js';\nimport { ThemeIcon } from '../../../../platform/theme/common/themeService.js';\nconst BANNER_ELEMENT_HEIGHT = 26;\nlet BannerController = class BannerController extends Disposable {\n    constructor(_editor, instantiationService) {\n        super();\n        this._editor = _editor;\n        this.instantiationService = instantiationService;\n        this.banner = this._register(this.instantiationService.createInstance(Banner));\n    }\n    hide() {\n        this._editor.setBanner(null, 0);\n        this.banner.clear();\n    }\n    show(item) {\n        this.banner.show(Object.assign(Object.assign({}, item), { onClose: () => {\n                this.hide();\n                if (item.onClose) {\n                    item.onClose();\n                }\n            } }));\n        this._editor.setBanner(this.banner.element, BANNER_ELEMENT_HEIGHT);\n    }\n};\nBannerController = __decorate([\n    __param(1, IInstantiationService)\n], BannerController);\nexport { BannerController };\n// TODO@hediet: Investigate if this can be reused by the workspace banner (bannerPart.ts).\nlet Banner = class Banner extends Disposable {\n    constructor(instantiationService) {\n        super();\n        this.instantiationService = instantiationService;\n        this.markdownRenderer = this.instantiationService.createInstance(MarkdownRenderer, {});\n        this.element = $('div.editor-banner');\n        this.element.tabIndex = 0;\n    }\n    getAriaLabel(item) {\n        if (item.ariaLabel) {\n            return item.ariaLabel;\n        }\n        if (typeof item.message === 'string') {\n            return item.message;\n        }\n        return undefined;\n    }\n    getBannerMessage(message) {\n        if (typeof message === 'string') {\n            const element = $('span');\n            element.innerText = message;\n            return element;\n        }\n        return this.markdownRenderer.render(message).element;\n    }\n    clear() {\n        clearNode(this.element);\n    }\n    show(item) {\n        // Clear previous item\n        clearNode(this.element);\n        // Banner aria label\n        const ariaLabel = this.getAriaLabel(item);\n        if (ariaLabel) {\n            this.element.setAttribute('aria-label', ariaLabel);\n        }\n        // Icon\n        const iconContainer = append(this.element, $('div.icon-container'));\n        iconContainer.setAttribute('aria-hidden', 'true');\n        if (item.icon) {\n            iconContainer.appendChild($(`div${ThemeIcon.asCSSSelector(item.icon)}`));\n        }\n        // Message\n        const messageContainer = append(this.element, $('div.message-container'));\n        messageContainer.setAttribute('aria-hidden', 'true');\n        messageContainer.appendChild(this.getBannerMessage(item.message));\n        // Message Actions\n        this.messageActionsContainer = append(this.element, $('div.message-actions-container'));\n        if (item.actions) {\n            for (const action of item.actions) {\n                this._register(this.instantiationService.createInstance(Link, this.messageActionsContainer, Object.assign(Object.assign({}, action), { tabIndex: -1 }), {}));\n            }\n        }\n        // Action\n        const actionBarContainer = append(this.element, $('div.action-container'));\n        this.actionBar = this._register(new ActionBar(actionBarContainer));\n        this.actionBar.push(this._register(new Action('banner.close', 'Close Banner', ThemeIcon.asClassName(widgetClose), true, () => {\n            if (typeof item.onClose === 'function') {\n                item.onClose();\n            }\n        })), { icon: true, label: false });\n        this.actionBar.setFocusable(false);\n    }\n};\nBanner = __decorate([\n    __param(0, IInstantiationService)\n], Banner);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { InvisibleCharacters } from '../../../../base/common/strings.js';\nimport './unicodeHighlighter.css';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { inUntrustedWorkspace, unicodeHighlightConfigKeys } from '../../../common/config/editorOptions.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { UnicodeTextModelHighlighter } from '../../../common/languages/unicodeTextModelHighlighter.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport { ILanguageService } from '../../../common/services/language.js';\nimport { isModelDecorationInComment, isModelDecorationInString, isModelDecorationVisible } from '../../../common/viewModel/viewModelDecorations.js';\nimport { MarkdownHover, renderMarkdownHovers } from '../../hover/browser/markdownHoverParticipant.js';\nimport { BannerController } from './bannerController.js';\nimport * as nls from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { IWorkspaceTrustManagementService } from '../../../../platform/workspace/common/workspaceTrust.js';\nexport const warningIcon = registerIcon('extensions-warning-message', Codicon.warning, nls.localize('warningIcon', 'Icon shown with a warning message in the extensions editor.'));\nlet UnicodeHighlighter = class UnicodeHighlighter extends Disposable {\n    constructor(_editor, _editorWorkerService, _workspaceTrustService, instantiationService) {\n        super();\n        this._editor = _editor;\n        this._editorWorkerService = _editorWorkerService;\n        this._workspaceTrustService = _workspaceTrustService;\n        this._highlighter = null;\n        this._bannerClosed = false;\n        this._updateState = (state) => {\n            if (state && state.hasMore) {\n                if (this._bannerClosed) {\n                    return;\n                }\n                // This document contains many non-basic ASCII characters.\n                const max = Math.max(state.ambiguousCharacterCount, state.nonBasicAsciiCharacterCount, state.invisibleCharacterCount);\n                let data;\n                if (state.nonBasicAsciiCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters', 'This document contains many non-basic ASCII unicode characters'),\n                        command: new DisableHighlightingOfNonBasicAsciiCharactersAction(),\n                    };\n                }\n                else if (state.ambiguousCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters', 'This document contains many ambiguous unicode characters'),\n                        command: new DisableHighlightingOfAmbiguousCharactersAction(),\n                    };\n                }\n                else if (state.invisibleCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters', 'This document contains many invisible unicode characters'),\n                        command: new DisableHighlightingOfInvisibleCharactersAction(),\n                    };\n                }\n                else {\n                    throw new Error('Unreachable');\n                }\n                this._bannerController.show({\n                    id: 'unicodeHighlightBanner',\n                    message: data.message,\n                    icon: warningIcon,\n                    actions: [\n                        {\n                            label: data.command.shortLabel,\n                            href: `command:${data.command.id}`\n                        }\n                    ],\n                    onClose: () => {\n                        this._bannerClosed = true;\n                    },\n                });\n            }\n            else {\n                this._bannerController.hide();\n            }\n        };\n        this._bannerController = this._register(instantiationService.createInstance(BannerController, _editor));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._bannerClosed = false;\n            this._updateHighlighter();\n        }));\n        this._options = _editor.getOption(113 /* unicodeHighlighting */);\n        this._register(_workspaceTrustService.onDidChangeTrust(e => {\n            this._updateHighlighter();\n        }));\n        this._register(_editor.onDidChangeConfiguration(e => {\n            if (e.hasChanged(113 /* unicodeHighlighting */)) {\n                this._options = _editor.getOption(113 /* unicodeHighlighting */);\n                this._updateHighlighter();\n            }\n        }));\n        this._updateHighlighter();\n    }\n    dispose() {\n        if (this._highlighter) {\n            this._highlighter.dispose();\n            this._highlighter = null;\n        }\n        super.dispose();\n    }\n    _updateHighlighter() {\n        this._updateState(null);\n        if (this._highlighter) {\n            this._highlighter.dispose();\n            this._highlighter = null;\n        }\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const options = resolveOptions(this._workspaceTrustService.isWorkspaceTrusted(), this._options);\n        if ([\n            options.nonBasicASCII,\n            options.ambiguousCharacters,\n            options.invisibleCharacters,\n        ].every((option) => option === false)) {\n            // Don't do anything if the feature is fully disabled\n            return;\n        }\n        const highlightOptions = {\n            nonBasicASCII: options.nonBasicASCII,\n            ambiguousCharacters: options.ambiguousCharacters,\n            invisibleCharacters: options.invisibleCharacters,\n            includeComments: options.includeComments,\n            includeStrings: options.includeStrings,\n            allowedCodePoints: Object.keys(options.allowedCharacters).map(c => c.codePointAt(0)),\n            allowedLocales: Object.keys(options.allowedLocales).map(locale => {\n                if (locale === '_os') {\n                    let osLocale = new Intl.NumberFormat().resolvedOptions().locale;\n                    return osLocale;\n                }\n                else if (locale === '_vscode') {\n                    return platform.language;\n                }\n                return locale;\n            }),\n        };\n        if (this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)) {\n            this._highlighter = new DocumentUnicodeHighlighter(this._editor, highlightOptions, this._updateState, this._editorWorkerService);\n        }\n        else {\n            this._highlighter = new ViewportUnicodeHighlighter(this._editor, highlightOptions, this._updateState);\n        }\n    }\n    getDecorationInfo(decorationId) {\n        if (this._highlighter) {\n            return this._highlighter.getDecorationInfo(decorationId);\n        }\n        return null;\n    }\n};\nUnicodeHighlighter.ID = 'editor.contrib.unicodeHighlighter';\nUnicodeHighlighter = __decorate([\n    __param(1, IEditorWorkerService),\n    __param(2, IWorkspaceTrustManagementService),\n    __param(3, IInstantiationService)\n], UnicodeHighlighter);\nexport { UnicodeHighlighter };\nfunction resolveOptions(trusted, options) {\n    return {\n        nonBasicASCII: options.nonBasicASCII === inUntrustedWorkspace ? !trusted : options.nonBasicASCII,\n        ambiguousCharacters: options.ambiguousCharacters,\n        invisibleCharacters: options.invisibleCharacters,\n        includeComments: options.includeComments === inUntrustedWorkspace ? !trusted : options.includeComments,\n        includeStrings: options.includeStrings === inUntrustedWorkspace ? !trusted : options.includeStrings,\n        allowedCharacters: options.allowedCharacters,\n        allowedLocales: options.allowedLocales,\n    };\n}\nlet DocumentUnicodeHighlighter = class DocumentUnicodeHighlighter extends Disposable {\n    constructor(_editor, _options, _updateState, _editorWorkerService) {\n        super();\n        this._editor = _editor;\n        this._options = _options;\n        this._updateState = _updateState;\n        this._editorWorkerService = _editorWorkerService;\n        this._model = this._editor.getModel();\n        this._decorationIds = new Set();\n        this._updateSoon = this._register(new RunOnceScheduler(() => this._update(), 250));\n        this._register(this._editor.onDidChangeModelContent(() => {\n            this._updateSoon.schedule();\n        }));\n        this._updateSoon.schedule();\n    }\n    dispose() {\n        this._decorationIds = new Set(this._model.deltaDecorations(Array.from(this._decorationIds), []));\n        super.dispose();\n    }\n    _update() {\n        if (this._model.isDisposed()) {\n            return;\n        }\n        if (!this._model.mightContainNonBasicASCII()) {\n            this._decorationIds = new Set(this._editor.deltaDecorations(Array.from(this._decorationIds), []));\n            return;\n        }\n        const modelVersionId = this._model.getVersionId();\n        this._editorWorkerService\n            .computedUnicodeHighlights(this._model.uri, this._options)\n            .then((info) => {\n            if (this._model.isDisposed()) {\n                return;\n            }\n            if (this._model.getVersionId() !== modelVersionId) {\n                // model changed in the meantime\n                return;\n            }\n            this._updateState(info);\n            const decorations = [];\n            if (!info.hasMore) {\n                // Don't show decoration if there are too many.\n                // In this case, a banner is shown.\n                for (const range of info.ranges) {\n                    decorations.push({\n                        range: range,\n                        options: Decorations.instance.getDecorationFromOptions(this._options),\n                    });\n                }\n            }\n            this._decorationIds = new Set(this._editor.deltaDecorations(Array.from(this._decorationIds), decorations));\n        });\n    }\n    getDecorationInfo(decorationId) {\n        if (!this._decorationIds.has(decorationId)) {\n            return null;\n        }\n        const model = this._editor.getModel();\n        const range = model.getDecorationRange(decorationId);\n        const decoration = {\n            range: range,\n            options: Decorations.instance.getDecorationFromOptions(this._options),\n            id: decorationId,\n            ownerId: 0,\n        };\n        if (!isModelDecorationVisible(model, decoration)) {\n            return null;\n        }\n        const text = model.getValueInRange(range);\n        return {\n            reason: computeReason(text, this._options),\n            inComment: isModelDecorationInComment(model, decoration),\n            inString: isModelDecorationInString(model, decoration),\n        };\n    }\n};\nDocumentUnicodeHighlighter = __decorate([\n    __param(3, IEditorWorkerService)\n], DocumentUnicodeHighlighter);\nclass ViewportUnicodeHighlighter extends Disposable {\n    constructor(_editor, _options, _updateState) {\n        super();\n        this._editor = _editor;\n        this._options = _options;\n        this._updateState = _updateState;\n        this._model = this._editor.getModel();\n        this._decorationIds = new Set();\n        this._updateSoon = this._register(new RunOnceScheduler(() => this._update(), 250));\n        this._register(this._editor.onDidLayoutChange(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidScrollChange(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidChangeHiddenAreas(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidChangeModelContent(() => {\n            this._updateSoon.schedule();\n        }));\n        this._updateSoon.schedule();\n    }\n    dispose() {\n        this._decorationIds = new Set(this._model.deltaDecorations(Array.from(this._decorationIds), []));\n        super.dispose();\n    }\n    _update() {\n        if (this._model.isDisposed()) {\n            return;\n        }\n        if (!this._model.mightContainNonBasicASCII()) {\n            this._decorationIds = new Set(this._editor.deltaDecorations(Array.from(this._decorationIds), []));\n            return;\n        }\n        const ranges = this._editor.getVisibleRanges();\n        const decorations = [];\n        const totalResult = {\n            ranges: [],\n            ambiguousCharacterCount: 0,\n            invisibleCharacterCount: 0,\n            nonBasicAsciiCharacterCount: 0,\n            hasMore: false,\n        };\n        for (const range of ranges) {\n            const result = UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model, this._options, range);\n            for (const r of result.ranges) {\n                totalResult.ranges.push(r);\n            }\n            totalResult.ambiguousCharacterCount += totalResult.ambiguousCharacterCount;\n            totalResult.invisibleCharacterCount += totalResult.invisibleCharacterCount;\n            totalResult.nonBasicAsciiCharacterCount += totalResult.nonBasicAsciiCharacterCount;\n            totalResult.hasMore = totalResult.hasMore || result.hasMore;\n        }\n        if (!totalResult.hasMore) {\n            // Don't show decorations if there are too many.\n            // A banner will be shown instead.\n            for (const range of totalResult.ranges) {\n                decorations.push({ range, options: Decorations.instance.getDecorationFromOptions(this._options) });\n            }\n        }\n        this._updateState(totalResult);\n        this._decorationIds = new Set(this._editor.deltaDecorations(Array.from(this._decorationIds), decorations));\n    }\n    getDecorationInfo(decorationId) {\n        if (!this._decorationIds.has(decorationId)) {\n            return null;\n        }\n        const model = this._editor.getModel();\n        const range = model.getDecorationRange(decorationId);\n        const text = model.getValueInRange(range);\n        const decoration = {\n            range: range,\n            options: Decorations.instance.getDecorationFromOptions(this._options),\n            id: decorationId,\n            ownerId: 0,\n        };\n        if (!isModelDecorationVisible(model, decoration)) {\n            return null;\n        }\n        return {\n            reason: computeReason(text, this._options),\n            inComment: isModelDecorationInComment(model, decoration),\n            inString: isModelDecorationInString(model, decoration),\n        };\n    }\n}\nlet UnicodeHighlighterHoverParticipant = class UnicodeHighlighterHoverParticipant {\n    constructor(_editor, _languageService, _openerService) {\n        this._editor = _editor;\n        this._languageService = _languageService;\n        this._openerService = _openerService;\n    }\n    computeSync(anchor, lineDecorations) {\n        if (!this._editor.hasModel() || anchor.type !== 1 /* Range */) {\n            return [];\n        }\n        const model = this._editor.getModel();\n        const unicodeHighlighter = this._editor.getContribution(UnicodeHighlighter.ID);\n        if (!unicodeHighlighter) {\n            return [];\n        }\n        const result = [];\n        let index = 300;\n        for (const d of lineDecorations) {\n            const highlightInfo = unicodeHighlighter.getDecorationInfo(d.id);\n            if (!highlightInfo) {\n                continue;\n            }\n            const char = model.getValueInRange(d.range);\n            // text refers to a single character.\n            const codePoint = char.codePointAt(0);\n            const codePointStr = formatCodePointMarkdown(codePoint);\n            let reason;\n            switch (highlightInfo.reason.kind) {\n                case 0 /* Ambiguous */:\n                    reason = nls.localize('unicodeHighlight.characterIsAmbiguous', 'The character {0} could be confused with the character {1}, which is more common in source code.', codePointStr, formatCodePointMarkdown(highlightInfo.reason.confusableWith.codePointAt(0)));\n                    break;\n                case 1 /* Invisible */:\n                    reason = nls.localize('unicodeHighlight.characterIsInvisible', 'The character {0} is invisible.', codePointStr);\n                    break;\n                case 2 /* NonBasicAscii */:\n                    reason = nls.localize('unicodeHighlight.characterIsNonBasicAscii', 'The character {0} is not a basic ASCII character.', codePointStr);\n                    break;\n            }\n            const adjustSettingsArgs = {\n                codePoint: codePoint,\n                reason: highlightInfo.reason,\n                inComment: highlightInfo.inComment,\n                inString: highlightInfo.inString,\n            };\n            const adjustSettings = nls.localize('unicodeHighlight.adjustSettings', 'Adjust settings');\n            const contents = [{\n                    value: `${reason} [${adjustSettings}](command:${ShowExcludeOptions.ID}?${encodeURIComponent(JSON.stringify(adjustSettingsArgs))})`,\n                    isTrusted: true,\n                }];\n            result.push(new MarkdownHover(this, d.range, contents, index++));\n        }\n        return result;\n    }\n    renderHoverParts(context, hoverParts) {\n        return renderMarkdownHovers(context, hoverParts, this._editor, this._languageService, this._openerService);\n    }\n};\nUnicodeHighlighterHoverParticipant = __decorate([\n    __param(1, ILanguageService),\n    __param(2, IOpenerService)\n], UnicodeHighlighterHoverParticipant);\nexport { UnicodeHighlighterHoverParticipant };\nfunction codePointToHex(codePoint) {\n    return `U+${codePoint.toString(16).padStart(4, '0')}`;\n}\nfunction formatCodePointMarkdown(codePoint) {\n    let value = `\\`${codePointToHex(codePoint)}\\``;\n    if (!InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n        // Don't render any control characters or any invisible characters, as they cannot be seen anyways.\n        value += ` \"${`${renderCodePointAsInlineCode(codePoint)}`}\"`;\n    }\n    return value;\n}\nfunction renderCodePointAsInlineCode(codePoint) {\n    if (codePoint === 96 /* BackTick */) {\n        return '`` ` ``';\n    }\n    return '`' + String.fromCodePoint(codePoint) + '`';\n}\nfunction computeReason(char, options) {\n    return UnicodeTextModelHighlighter.computeUnicodeHighlightReason(char, options);\n}\nclass Decorations {\n    constructor() {\n        this.map = new Map();\n    }\n    getDecorationFromOptions(options) {\n        return this.getDecoration(!options.includeComments, !options.includeStrings);\n    }\n    getDecoration(hideInComments, hideInStrings) {\n        const key = `${hideInComments}${hideInStrings}`;\n        let options = this.map.get(key);\n        if (!options) {\n            options = ModelDecorationOptions.createDynamic({\n                description: 'unicode-highlight',\n                stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\n                className: 'unicode-highlight',\n                showIfCollapsed: true,\n                overviewRuler: null,\n                minimap: null,\n                hideInCommentTokens: hideInComments,\n                hideInStringTokens: hideInStrings,\n            });\n            this.map.set(key, options);\n        }\n        return options;\n    }\n}\nDecorations.instance = new Decorations();\nexport class DisableHighlightingInCommentsAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingInComments', 'Disable highlighting of characters in comments'),\n            alias: 'Disable highlighting of characters in comments',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingInComments.shortLabel', 'Disable Highlight In Comments');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.includeComments, false, 1 /* USER */);\n        });\n    }\n}\nexport class DisableHighlightingInStringsAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingInStrings', 'Disable highlighting of characters in strings'),\n            alias: 'Disable highlighting of characters in strings',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingInStrings.shortLabel', 'Disable Highlight In Strings');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.includeStrings, false, 1 /* USER */);\n        });\n    }\n}\nexport class DisableHighlightingOfAmbiguousCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters', 'Disable highlighting of ambiguous characters'),\n            alias: 'Disable highlighting of ambiguous characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel', 'Disable Ambiguous Highlight');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.ambiguousCharacters, false, 1 /* USER */);\n        });\n    }\n}\nDisableHighlightingOfAmbiguousCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters';\nexport class DisableHighlightingOfInvisibleCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfInvisibleCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfInvisibleCharacters', 'Disable highlighting of invisible characters'),\n            alias: 'Disable highlighting of invisible characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel', 'Disable Invisible Highlight');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.invisibleCharacters, false, 1 /* USER */);\n        });\n    }\n}\nDisableHighlightingOfInvisibleCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters';\nexport class DisableHighlightingOfNonBasicAsciiCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfNonBasicAsciiCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters', 'Disable highlighting of non basic ASCII characters'),\n            alias: 'Disable highlighting of non basic ASCII characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel', 'Disable Non ASCII Highlight');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.nonBasicASCII, false, 1 /* USER */);\n        });\n    }\n}\nDisableHighlightingOfNonBasicAsciiCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters';\nexport class ShowExcludeOptions extends EditorAction {\n    constructor() {\n        super({\n            id: ShowExcludeOptions.ID,\n            label: nls.localize('action.unicodeHighlight.showExcludeOptions', \"Show Exclude Options\"),\n            alias: 'Show Exclude Options',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { codePoint, reason, inString, inComment } = args;\n            const char = String.fromCodePoint(codePoint);\n            const quickPickService = accessor.get(IQuickInputService);\n            const configurationService = accessor.get(IConfigurationService);\n            function getExcludeCharFromBeingHighlightedLabel(codePoint) {\n                if (InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n                    return nls.localize('unicodeHighlight.excludeInvisibleCharFromBeingHighlighted', 'Exclude {0} (invisible character) from being highlighted', codePointToHex(codePoint));\n                }\n                return nls.localize('unicodeHighlight.excludeCharFromBeingHighlighted', 'Exclude {0} from being highlighted', `${codePointToHex(codePoint)} \"${char}\"`);\n            }\n            const options = [];\n            if (reason.kind === 0 /* Ambiguous */) {\n                for (const locale of reason.notAmbiguousInLocales) {\n                    options.push({\n                        label: nls.localize(\"unicodeHighlight.allowCommonCharactersInLanguage\", \"Allow unicode characters that are more common in the language \\\"{0}\\\".\", locale),\n                        run: () => __awaiter(this, void 0, void 0, function* () {\n                            excludeLocaleFromBeingHighlighted(configurationService, [locale]);\n                        }),\n                    });\n                }\n            }\n            options.push({\n                label: getExcludeCharFromBeingHighlightedLabel(codePoint),\n                run: () => excludeCharFromBeingHighlighted(configurationService, [codePoint])\n            });\n            if (inComment) {\n                const action = new DisableHighlightingInCommentsAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else if (inString) {\n                const action = new DisableHighlightingInStringsAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            if (reason.kind === 0 /* Ambiguous */) {\n                const action = new DisableHighlightingOfAmbiguousCharactersAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else if (reason.kind === 1 /* Invisible */) {\n                const action = new DisableHighlightingOfInvisibleCharactersAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else if (reason.kind === 2 /* NonBasicAscii */) {\n                const action = new DisableHighlightingOfNonBasicAsciiCharactersAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else {\n                expectNever(reason);\n            }\n            const result = yield quickPickService.pick(options, { title: nls.localize('unicodeHighlight.configureUnicodeHighlightOptions', 'Configure Unicode Highlight Options') });\n            if (result) {\n                yield result.run();\n            }\n        });\n    }\n}\nShowExcludeOptions.ID = 'editor.action.unicodeHighlight.showExcludeOptions';\nfunction excludeCharFromBeingHighlighted(configurationService, charCodes) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const existingValue = configurationService.getValue(unicodeHighlightConfigKeys.allowedCharacters);\n        let value;\n        if ((typeof existingValue === 'object') && existingValue) {\n            value = existingValue;\n        }\n        else {\n            value = {};\n        }\n        for (const charCode of charCodes) {\n            value[String.fromCodePoint(charCode)] = true;\n        }\n        yield configurationService.updateValue(unicodeHighlightConfigKeys.allowedCharacters, value, 1 /* USER */);\n    });\n}\nfunction excludeLocaleFromBeingHighlighted(configurationService, locales) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const existingValue = (_a = configurationService.inspect(unicodeHighlightConfigKeys.allowedLocales).user) === null || _a === void 0 ? void 0 : _a.value;\n        let value;\n        if ((typeof existingValue === 'object') && existingValue) {\n            // Copy value, as the existing value is read only\n            value = Object.assign({}, existingValue);\n        }\n        else {\n            value = {};\n        }\n        for (const locale of locales) {\n            value[locale] = true;\n        }\n        yield configurationService.updateValue(unicodeHighlightConfigKeys.allowedLocales, value, 1 /* USER */);\n    });\n}\nfunction expectNever(value) {\n    throw new Error(`Unexpected value: ${value}`);\n}\nregisterEditorAction(DisableHighlightingOfAmbiguousCharactersAction);\nregisterEditorAction(DisableHighlightingOfInvisibleCharactersAction);\nregisterEditorAction(DisableHighlightingOfNonBasicAsciiCharactersAction);\nregisterEditorAction(ShowExcludeOptions);\nregisterEditorContribution(UnicodeHighlighter.ID, UnicodeHighlighter);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport * as nls from '../../../../nls.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nconst ignoreUnusualLineTerminators = 'ignoreUnusualLineTerminators';\nfunction writeIgnoreState(codeEditorService, model, state) {\n    codeEditorService.setModelProperty(model.uri, ignoreUnusualLineTerminators, state);\n}\nfunction readIgnoreState(codeEditorService, model) {\n    return codeEditorService.getModelProperty(model.uri, ignoreUnusualLineTerminators);\n}\nlet UnusualLineTerminatorsDetector = class UnusualLineTerminatorsDetector extends Disposable {\n    constructor(_editor, _dialogService, _codeEditorService) {\n        super();\n        this._editor = _editor;\n        this._dialogService = _dialogService;\n        this._codeEditorService = _codeEditorService;\n        this._config = this._editor.getOption(114 /* unusualLineTerminators */);\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(114 /* unusualLineTerminators */)) {\n                this._config = this._editor.getOption(114 /* unusualLineTerminators */);\n                this._checkForUnusualLineTerminators();\n            }\n        }));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._checkForUnusualLineTerminators();\n        }));\n        this._register(this._editor.onDidChangeModelContent((e) => {\n            if (e.isUndoing) {\n                // skip checking in case of undoing\n                return;\n            }\n            this._checkForUnusualLineTerminators();\n        }));\n    }\n    _checkForUnusualLineTerminators() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._config === 'off') {\n                return;\n            }\n            if (!this._editor.hasModel()) {\n                return;\n            }\n            const model = this._editor.getModel();\n            if (!model.mightContainUnusualLineTerminators()) {\n                return;\n            }\n            const ignoreState = readIgnoreState(this._codeEditorService, model);\n            if (ignoreState === true) {\n                // this model should be ignored\n                return;\n            }\n            if (this._editor.getOption(81 /* readOnly */)) {\n                // read only editor => sorry!\n                return;\n            }\n            if (this._config === 'auto') {\n                // just do it!\n                model.removeUnusualLineTerminators(this._editor.getSelections());\n                return;\n            }\n            const result = yield this._dialogService.confirm({\n                title: nls.localize('unusualLineTerminators.title', \"Unusual Line Terminators\"),\n                message: nls.localize('unusualLineTerminators.message', \"Detected unusual line terminators\"),\n                detail: nls.localize('unusualLineTerminators.detail', \"The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\\n\\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.\", basename(model.uri)),\n                primaryButton: nls.localize('unusualLineTerminators.fix', \"Remove Unusual Line Terminators\"),\n                secondaryButton: nls.localize('unusualLineTerminators.ignore', \"Ignore\")\n            });\n            if (!result.confirmed) {\n                // this model should be ignored\n                writeIgnoreState(this._codeEditorService, model, true);\n                return;\n            }\n            model.removeUnusualLineTerminators(this._editor.getSelections());\n        });\n    }\n};\nUnusualLineTerminatorsDetector.ID = 'editor.contrib.unusualLineTerminatorsDetector';\nUnusualLineTerminatorsDetector = __decorate([\n    __param(1, IDialogService),\n    __param(2, ICodeEditorService)\n], UnusualLineTerminatorsDetector);\nexport { UnusualLineTerminatorsDetector };\nregisterEditorContribution(UnusualLineTerminatorsDetector.ID, UnusualLineTerminatorsDetector);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { createCancelablePromise, RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { DocumentRangeSemanticTokensProviderRegistry } from '../../../common/languages.js';\nimport { getDocumentRangeSemanticTokens, hasDocumentRangeSemanticTokensProvider } from '../../../common/services/getSemanticTokens.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { isSemanticColoringEnabled, SEMANTIC_HIGHLIGHTING_SETTING_ID } from '../../../common/services/modelService.js';\nimport { toMultilineTokens2 } from '../../../common/services/semanticTokensProviderStyling.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nlet ViewportSemanticTokensContribution = class ViewportSemanticTokensContribution extends Disposable {\n    constructor(editor, _modelService, _themeService, _configurationService, languageFeatureDebounceService) {\n        super();\n        this._modelService = _modelService;\n        this._themeService = _themeService;\n        this._configurationService = _configurationService;\n        this._editor = editor;\n        this._debounceInformation = languageFeatureDebounceService.for(DocumentRangeSemanticTokensProviderRegistry, 'DocumentRangeSemanticTokens', { min: 100, max: 500 });\n        this._tokenizeViewport = new RunOnceScheduler(() => this._tokenizeViewportNow(), 100);\n        this._outstandingRequests = [];\n        const scheduleTokenizeViewport = () => {\n            if (this._editor.hasModel()) {\n                this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()));\n            }\n        };\n        this._register(this._editor.onDidScrollChange(() => {\n            scheduleTokenizeViewport();\n        }));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._cancelAll();\n            scheduleTokenizeViewport();\n        }));\n        this._register(this._editor.onDidChangeModelContent((e) => {\n            this._cancelAll();\n            scheduleTokenizeViewport();\n        }));\n        this._register(DocumentRangeSemanticTokensProviderRegistry.onDidChange(() => {\n            this._cancelAll();\n            scheduleTokenizeViewport();\n        }));\n        this._register(this._configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(SEMANTIC_HIGHLIGHTING_SETTING_ID)) {\n                this._cancelAll();\n                scheduleTokenizeViewport();\n            }\n        }));\n        this._register(this._themeService.onDidColorThemeChange(() => {\n            this._cancelAll();\n            scheduleTokenizeViewport();\n        }));\n    }\n    _cancelAll() {\n        for (const request of this._outstandingRequests) {\n            request.cancel();\n        }\n        this._outstandingRequests = [];\n    }\n    _removeOutstandingRequest(req) {\n        for (let i = 0, len = this._outstandingRequests.length; i < len; i++) {\n            if (this._outstandingRequests[i] === req) {\n                this._outstandingRequests.splice(i, 1);\n                return;\n            }\n        }\n    }\n    _tokenizeViewportNow() {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        if (model.hasCompleteSemanticTokens()) {\n            return;\n        }\n        if (!isSemanticColoringEnabled(model, this._themeService, this._configurationService)) {\n            if (model.hasSomeSemanticTokens()) {\n                model.setSemanticTokens(null, false);\n            }\n            return;\n        }\n        if (!hasDocumentRangeSemanticTokensProvider(model)) {\n            if (model.hasSomeSemanticTokens()) {\n                model.setSemanticTokens(null, false);\n            }\n            return;\n        }\n        const visibleRanges = this._editor.getVisibleRangesPlusViewportAboveBelow();\n        this._outstandingRequests = this._outstandingRequests.concat(visibleRanges.map(range => this._requestRange(model, range)));\n    }\n    _requestRange(model, range) {\n        const requestVersionId = model.getVersionId();\n        const request = createCancelablePromise(token => Promise.resolve(getDocumentRangeSemanticTokens(model, range, token)));\n        const sw = new StopWatch(false);\n        request.then((r) => {\n            this._debounceInformation.update(model, sw.elapsed());\n            if (!r || !r.tokens || model.isDisposed() || model.getVersionId() !== requestVersionId) {\n                return;\n            }\n            const { provider, tokens: result } = r;\n            const styling = this._modelService.getSemanticTokensProviderStyling(provider);\n            model.setPartialSemanticTokens(range, toMultilineTokens2(result, styling, model.getLanguageId()));\n        }).then(() => this._removeOutstandingRequest(request), () => this._removeOutstandingRequest(request));\n        return request;\n    }\n};\nViewportSemanticTokensContribution.ID = 'editor.contrib.viewportSemanticTokens';\nViewportSemanticTokensContribution = __decorate([\n    __param(1, IModelService),\n    __param(2, IThemeService),\n    __param(3, IConfigurationService),\n    __param(4, ILanguageFeatureDebounceService)\n], ViewportSemanticTokensContribution);\nregisterEditorContribution(ViewportSemanticTokensContribution.ID, ViewportSemanticTokensContribution);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { createCancelablePromise, first, timeout } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution, registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { MinimapPosition, OverviewRulerLane } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { DocumentHighlightKind, DocumentHighlightProviderRegistry } from '../../../common/languages.js';\nimport * as nls from '../../../../nls.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { activeContrastBorder, editorSelectionHighlight, editorSelectionHighlightBorder, minimapSelectionOccurrenceHighlight, overviewRulerSelectionHighlightForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant, themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nconst editorWordHighlight = registerColor('editor.wordHighlightBackground', { dark: '#575757B8', light: '#57575740', hc: null }, nls.localize('wordHighlight', 'Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst editorWordHighlightStrong = registerColor('editor.wordHighlightStrongBackground', { dark: '#004972B8', light: '#0e639c40', hc: null }, nls.localize('wordHighlightStrong', 'Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst editorWordHighlightBorder = registerColor('editor.wordHighlightBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('wordHighlightBorder', 'Border color of a symbol during read-access, like reading a variable.'));\nconst editorWordHighlightStrongBorder = registerColor('editor.wordHighlightStrongBorder', { light: null, dark: null, hc: activeContrastBorder }, nls.localize('wordHighlightStrongBorder', 'Border color of a symbol during write-access, like writing to a variable.'));\nconst overviewRulerWordHighlightForeground = registerColor('editorOverviewRuler.wordHighlightForeground', { dark: '#A0A0A0CC', light: '#A0A0A0CC', hc: '#A0A0A0CC' }, nls.localize('overviewRulerWordHighlightForeground', 'Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst overviewRulerWordHighlightStrongForeground = registerColor('editorOverviewRuler.wordHighlightStrongForeground', { dark: '#C0A0C0CC', light: '#C0A0C0CC', hc: '#C0A0C0CC' }, nls.localize('overviewRulerWordHighlightStrongForeground', 'Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst ctxHasWordHighlights = new RawContextKey('hasWordHighlights', false);\nexport function getOccurrencesAtPosition(model, position, token) {\n    const orderedByScore = DocumentHighlightProviderRegistry.ordered(model);\n    // in order of score ask the occurrences provider\n    // until someone response with a good result\n    // (good = none empty array)\n    return first(orderedByScore.map(provider => () => {\n        return Promise.resolve(provider.provideDocumentHighlights(model, position, token))\n            .then(undefined, onUnexpectedExternalError);\n    }), arrays.isNonEmptyArray);\n}\nclass OccurenceAtPositionRequest {\n    constructor(model, selection, wordSeparators) {\n        this._wordRange = this._getCurrentWordRange(model, selection);\n        this.result = createCancelablePromise(token => this._compute(model, selection, wordSeparators, token));\n    }\n    _getCurrentWordRange(model, selection) {\n        const word = model.getWordAtPosition(selection.getPosition());\n        if (word) {\n            return new Range(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\n        }\n        return null;\n    }\n    isValid(model, selection, decorationIds) {\n        const lineNumber = selection.startLineNumber;\n        const startColumn = selection.startColumn;\n        const endColumn = selection.endColumn;\n        const currentWordRange = this._getCurrentWordRange(model, selection);\n        let requestIsValid = Boolean(this._wordRange && this._wordRange.equalsRange(currentWordRange));\n        // Even if we are on a different word, if that word is in the decorations ranges, the request is still valid\n        // (Same symbol)\n        for (let i = 0, len = decorationIds.length; !requestIsValid && i < len; i++) {\n            let range = model.getDecorationRange(decorationIds[i]);\n            if (range && range.startLineNumber === lineNumber) {\n                if (range.startColumn <= startColumn && range.endColumn >= endColumn) {\n                    requestIsValid = true;\n                }\n            }\n        }\n        return requestIsValid;\n    }\n    cancel() {\n        this.result.cancel();\n    }\n}\nclass SemanticOccurenceAtPositionRequest extends OccurenceAtPositionRequest {\n    _compute(model, selection, wordSeparators, token) {\n        return getOccurrencesAtPosition(model, selection.getPosition(), token).then(value => value || []);\n    }\n}\nclass TextualOccurenceAtPositionRequest extends OccurenceAtPositionRequest {\n    constructor(model, selection, wordSeparators) {\n        super(model, selection, wordSeparators);\n        this._selectionIsEmpty = selection.isEmpty();\n    }\n    _compute(model, selection, wordSeparators, token) {\n        return timeout(250, token).then(() => {\n            if (!selection.isEmpty()) {\n                return [];\n            }\n            const word = model.getWordAtPosition(selection.getPosition());\n            if (!word || word.word.length > 1000) {\n                return [];\n            }\n            const matches = model.findMatches(word.word, true, false, true, wordSeparators, false);\n            return matches.map(m => {\n                return {\n                    range: m.range,\n                    kind: DocumentHighlightKind.Text\n                };\n            });\n        });\n    }\n    isValid(model, selection, decorationIds) {\n        const currentSelectionIsEmpty = selection.isEmpty();\n        if (this._selectionIsEmpty !== currentSelectionIsEmpty) {\n            return false;\n        }\n        return super.isValid(model, selection, decorationIds);\n    }\n}\nfunction computeOccurencesAtPosition(model, selection, wordSeparators) {\n    if (DocumentHighlightProviderRegistry.has(model)) {\n        return new SemanticOccurenceAtPositionRequest(model, selection, wordSeparators);\n    }\n    return new TextualOccurenceAtPositionRequest(model, selection, wordSeparators);\n}\nregisterModelAndPositionCommand('_executeDocumentHighlights', (model, position) => getOccurrencesAtPosition(model, position, CancellationToken.None));\nclass WordHighlighter {\n    constructor(editor, contextKeyService) {\n        this.toUnhook = new DisposableStore();\n        this.workerRequestTokenId = 0;\n        this.workerRequestCompleted = false;\n        this.workerRequestValue = [];\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n        this.editor = editor;\n        this._hasWordHighlights = ctxHasWordHighlights.bindTo(contextKeyService);\n        this._ignorePositionChangeEvent = false;\n        this.occurrencesHighlight = this.editor.getOption(72 /* occurrencesHighlight */);\n        this.model = this.editor.getModel();\n        this.toUnhook.add(editor.onDidChangeCursorPosition((e) => {\n            if (this._ignorePositionChangeEvent) {\n                // We are changing the position => ignore this event\n                return;\n            }\n            if (!this.occurrencesHighlight) {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            this._onPositionChanged(e);\n        }));\n        this.toUnhook.add(editor.onDidChangeModelContent((e) => {\n            this._stopAll();\n        }));\n        this.toUnhook.add(editor.onDidChangeConfiguration((e) => {\n            let newValue = this.editor.getOption(72 /* occurrencesHighlight */);\n            if (this.occurrencesHighlight !== newValue) {\n                this.occurrencesHighlight = newValue;\n                this._stopAll();\n            }\n        }));\n        this._decorationIds = [];\n        this.workerRequestTokenId = 0;\n        this.workerRequest = null;\n        this.workerRequestCompleted = false;\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n    }\n    hasDecorations() {\n        return (this._decorationIds.length > 0);\n    }\n    restore() {\n        if (!this.occurrencesHighlight) {\n            return;\n        }\n        this._run();\n    }\n    _getSortedHighlights() {\n        return arrays.coalesce(this._decorationIds\n            .map((id) => this.model.getDecorationRange(id))\n            .sort(Range.compareRangesUsingStarts));\n    }\n    moveNext() {\n        let highlights = this._getSortedHighlights();\n        let index = highlights.findIndex((range) => range.containsPosition(this.editor.getPosition()));\n        let newIndex = ((index + 1) % highlights.length);\n        let dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n            const word = this._getWord();\n            if (word) {\n                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);\n                alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);\n            }\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    }\n    moveBack() {\n        let highlights = this._getSortedHighlights();\n        let index = highlights.findIndex((range) => range.containsPosition(this.editor.getPosition()));\n        let newIndex = ((index - 1 + highlights.length) % highlights.length);\n        let dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n            const word = this._getWord();\n            if (word) {\n                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);\n                alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);\n            }\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    }\n    _removeDecorations() {\n        if (this._decorationIds.length > 0) {\n            // remove decorations\n            this._decorationIds = this.editor.deltaDecorations(this._decorationIds, []);\n            this._hasWordHighlights.set(false);\n        }\n    }\n    _stopAll() {\n        // Remove any existing decorations\n        this._removeDecorations();\n        // Cancel any renderDecorationsTimer\n        if (this.renderDecorationsTimer !== -1) {\n            clearTimeout(this.renderDecorationsTimer);\n            this.renderDecorationsTimer = -1;\n        }\n        // Cancel any worker request\n        if (this.workerRequest !== null) {\n            this.workerRequest.cancel();\n            this.workerRequest = null;\n        }\n        // Invalidate any worker request callback\n        if (!this.workerRequestCompleted) {\n            this.workerRequestTokenId++;\n            this.workerRequestCompleted = true;\n        }\n    }\n    _onPositionChanged(e) {\n        // disabled\n        if (!this.occurrencesHighlight) {\n            this._stopAll();\n            return;\n        }\n        // ignore typing & other\n        if (e.reason !== 3 /* Explicit */) {\n            this._stopAll();\n            return;\n        }\n        this._run();\n    }\n    _getWord() {\n        let editorSelection = this.editor.getSelection();\n        let lineNumber = editorSelection.startLineNumber;\n        let startColumn = editorSelection.startColumn;\n        return this.model.getWordAtPosition({\n            lineNumber: lineNumber,\n            column: startColumn\n        });\n    }\n    _run() {\n        let editorSelection = this.editor.getSelection();\n        // ignore multiline selection\n        if (editorSelection.startLineNumber !== editorSelection.endLineNumber) {\n            this._stopAll();\n            return;\n        }\n        let startColumn = editorSelection.startColumn;\n        let endColumn = editorSelection.endColumn;\n        const word = this._getWord();\n        // The selection must be inside a word or surround one word at most\n        if (!word || word.startColumn > startColumn || word.endColumn < endColumn) {\n            this._stopAll();\n            return;\n        }\n        // All the effort below is trying to achieve this:\n        // - when cursor is moved to a word, trigger immediately a findOccurrences request\n        // - 250ms later after the last cursor move event, render the occurrences\n        // - no flickering!\n        const workerRequestIsValid = (this.workerRequest && this.workerRequest.isValid(this.model, editorSelection, this._decorationIds));\n        // There are 4 cases:\n        // a) old workerRequest is valid & completed, renderDecorationsTimer fired\n        // b) old workerRequest is valid & completed, renderDecorationsTimer not fired\n        // c) old workerRequest is valid, but not completed\n        // d) old workerRequest is not valid\n        // For a) no action is needed\n        // For c), member 'lastCursorPositionChangeTime' will be used when installing the timer so no action is needed\n        this.lastCursorPositionChangeTime = (new Date()).getTime();\n        if (workerRequestIsValid) {\n            if (this.workerRequestCompleted && this.renderDecorationsTimer !== -1) {\n                // case b)\n                // Delay the firing of renderDecorationsTimer by an extra 250 ms\n                clearTimeout(this.renderDecorationsTimer);\n                this.renderDecorationsTimer = -1;\n                this._beginRenderDecorations();\n            }\n        }\n        else {\n            // case d)\n            // Stop all previous actions and start fresh\n            this._stopAll();\n            let myRequestId = ++this.workerRequestTokenId;\n            this.workerRequestCompleted = false;\n            this.workerRequest = computeOccurencesAtPosition(this.model, this.editor.getSelection(), this.editor.getOption(117 /* wordSeparators */));\n            this.workerRequest.result.then(data => {\n                if (myRequestId === this.workerRequestTokenId) {\n                    this.workerRequestCompleted = true;\n                    this.workerRequestValue = data || [];\n                    this._beginRenderDecorations();\n                }\n            }, onUnexpectedError);\n        }\n    }\n    _beginRenderDecorations() {\n        let currentTime = (new Date()).getTime();\n        let minimumRenderTime = this.lastCursorPositionChangeTime + 250;\n        if (currentTime >= minimumRenderTime) {\n            // Synchronous\n            this.renderDecorationsTimer = -1;\n            this.renderDecorations();\n        }\n        else {\n            // Asynchronous\n            this.renderDecorationsTimer = setTimeout(() => {\n                this.renderDecorations();\n            }, (minimumRenderTime - currentTime));\n        }\n    }\n    renderDecorations() {\n        this.renderDecorationsTimer = -1;\n        let decorations = [];\n        for (const info of this.workerRequestValue) {\n            if (info.range) {\n                decorations.push({\n                    range: info.range,\n                    options: WordHighlighter._getDecorationOptions(info.kind)\n                });\n            }\n        }\n        this._decorationIds = this.editor.deltaDecorations(this._decorationIds, decorations);\n        this._hasWordHighlights.set(this.hasDecorations());\n    }\n    static _getDecorationOptions(kind) {\n        if (kind === DocumentHighlightKind.Write) {\n            return this._WRITE_OPTIONS;\n        }\n        else if (kind === DocumentHighlightKind.Text) {\n            return this._TEXT_OPTIONS;\n        }\n        else {\n            return this._REGULAR_OPTIONS;\n        }\n    }\n    dispose() {\n        this._stopAll();\n        this.toUnhook.dispose();\n    }\n}\nWordHighlighter._WRITE_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight-strong',\n    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlightStrong',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightStrongForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nWordHighlighter._TEXT_OPTIONS = ModelDecorationOptions.register({\n    description: 'selection-highlight',\n    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\n    className: 'selectionHighlight',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerSelectionHighlightForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nWordHighlighter._REGULAR_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight',\n    stickiness: 1 /* NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlight',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nlet WordHighlighterContribution = class WordHighlighterContribution extends Disposable {\n    constructor(editor, contextKeyService) {\n        super();\n        this.wordHighlighter = null;\n        const createWordHighlighterIfPossible = () => {\n            if (editor.hasModel()) {\n                this.wordHighlighter = new WordHighlighter(editor, contextKeyService);\n            }\n        };\n        this._register(editor.onDidChangeModel((e) => {\n            if (this.wordHighlighter) {\n                this.wordHighlighter.dispose();\n                this.wordHighlighter = null;\n            }\n            createWordHighlighterIfPossible();\n        }));\n        createWordHighlighterIfPossible();\n    }\n    static get(editor) {\n        return editor.getContribution(WordHighlighterContribution.ID);\n    }\n    saveViewState() {\n        if (this.wordHighlighter && this.wordHighlighter.hasDecorations()) {\n            return true;\n        }\n        return false;\n    }\n    moveNext() {\n        if (this.wordHighlighter) {\n            this.wordHighlighter.moveNext();\n        }\n    }\n    moveBack() {\n        if (this.wordHighlighter) {\n            this.wordHighlighter.moveBack();\n        }\n    }\n    restoreViewState(state) {\n        if (this.wordHighlighter && state) {\n            this.wordHighlighter.restore();\n        }\n    }\n    dispose() {\n        if (this.wordHighlighter) {\n            this.wordHighlighter.dispose();\n            this.wordHighlighter = null;\n        }\n        super.dispose();\n    }\n};\nWordHighlighterContribution.ID = 'editor.contrib.wordHighlighter';\nWordHighlighterContribution = __decorate([\n    __param(1, IContextKeyService)\n], WordHighlighterContribution);\nclass WordHighlightNavigationAction extends EditorAction {\n    constructor(next, opts) {\n        super(opts);\n        this._isNext = next;\n    }\n    run(accessor, editor) {\n        const controller = WordHighlighterContribution.get(editor);\n        if (!controller) {\n            return;\n        }\n        if (this._isNext) {\n            controller.moveNext();\n        }\n        else {\n            controller.moveBack();\n        }\n    }\n}\nclass NextWordHighlightAction extends WordHighlightNavigationAction {\n    constructor() {\n        super(true, {\n            id: 'editor.action.wordHighlight.next',\n            label: nls.localize('wordHighlight.next.label', \"Go to Next Symbol Highlight\"),\n            alias: 'Go to Next Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 65 /* F7 */,\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nclass PrevWordHighlightAction extends WordHighlightNavigationAction {\n    constructor() {\n        super(false, {\n            id: 'editor.action.wordHighlight.prev',\n            label: nls.localize('wordHighlight.previous.label', \"Go to Previous Symbol Highlight\"),\n            alias: 'Go to Previous Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* Shift */ | 65 /* F7 */,\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nclass TriggerWordHighlightAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.wordHighlight.trigger',\n            label: nls.localize('wordHighlight.trigger.label', \"Trigger Symbol Highlight\"),\n            alias: 'Trigger Symbol Highlight',\n            precondition: ctxHasWordHighlights.toNegated(),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 0,\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        const controller = WordHighlighterContribution.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.restoreViewState(true);\n    }\n}\nregisterEditorContribution(WordHighlighterContribution.ID, WordHighlighterContribution);\nregisterEditorAction(NextWordHighlightAction);\nregisterEditorAction(PrevWordHighlightAction);\nregisterEditorAction(TriggerWordHighlightAction);\nregisterThemingParticipant((theme, collector) => {\n    const selectionHighlight = theme.getColor(editorSelectionHighlight);\n    if (selectionHighlight) {\n        collector.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${selectionHighlight}; }`);\n        collector.addRule(`.monaco-editor .selectionHighlight { background-color: ${selectionHighlight.transparent(0.5)}; }`);\n    }\n    const wordHighlight = theme.getColor(editorWordHighlight);\n    if (wordHighlight) {\n        collector.addRule(`.monaco-editor .wordHighlight { background-color: ${wordHighlight}; }`);\n    }\n    const wordHighlightStrong = theme.getColor(editorWordHighlightStrong);\n    if (wordHighlightStrong) {\n        collector.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${wordHighlightStrong}; }`);\n    }\n    const selectionHighlightBorder = theme.getColor(editorSelectionHighlightBorder);\n    if (selectionHighlightBorder) {\n        collector.addRule(`.monaco-editor .selectionHighlight { border: 1px ${theme.type === 'hc' ? 'dotted' : 'solid'} ${selectionHighlightBorder}; box-sizing: border-box; }`);\n    }\n    const wordHighlightBorder = theme.getColor(editorWordHighlightBorder);\n    if (wordHighlightBorder) {\n        collector.addRule(`.monaco-editor .wordHighlight { border: 1px ${theme.type === 'hc' ? 'dashed' : 'solid'} ${wordHighlightBorder}; box-sizing: border-box; }`);\n    }\n    const wordHighlightStrongBorder = theme.getColor(editorWordHighlightStrongBorder);\n    if (wordHighlightStrongBorder) {\n        collector.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${theme.type === 'hc' ? 'dashed' : 'solid'} ${wordHighlightStrongBorder}; box-sizing: border-box; }`);\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { ReplaceCommand } from '../../../common/commands/replaceCommand.js';\nimport { EditorOptions } from '../../../common/config/editorOptions.js';\nimport { CursorState } from '../../../common/cursor/cursorCommon.js';\nimport { WordOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { getMapForWordSeparators } from '../../../common/core/wordCharacterClassifier.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport * as nls from '../../../../nls.js';\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../../../../platform/accessibility/common/accessibility.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IsWindowsContext } from '../../../../platform/contextkey/common/contextkeys.js';\nexport class MoveWordCommand extends EditorCommand {\n    constructor(opts) {\n        super(opts);\n        this._inSelectionMode = opts.inSelectionMode;\n        this._wordNavigationType = opts.wordNavigationType;\n    }\n    runEditorCommand(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(117 /* wordSeparators */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const result = selections.map((sel) => {\n            const inPosition = new Position(sel.positionLineNumber, sel.positionColumn);\n            const outPosition = this._move(wordSeparators, model, inPosition, this._wordNavigationType);\n            return this._moveTo(sel, outPosition, this._inSelectionMode);\n        });\n        model.pushStackElement();\n        editor._getViewModel().setCursorStates('moveWordCommand', 3 /* Explicit */, result.map(r => CursorState.fromModelSelection(r)));\n        if (result.length === 1) {\n            const pos = new Position(result[0].positionLineNumber, result[0].positionColumn);\n            editor.revealPosition(pos, 0 /* Smooth */);\n        }\n    }\n    _moveTo(from, to, inSelectionMode) {\n        if (inSelectionMode) {\n            // move just position\n            return new Selection(from.selectionStartLineNumber, from.selectionStartColumn, to.lineNumber, to.column);\n        }\n        else {\n            // move everything\n            return new Selection(to.lineNumber, to.column, to.lineNumber, to.column);\n        }\n    }\n}\nexport class WordLeftCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordOperations.moveWordLeft(wordSeparators, model, position, wordNavigationType);\n    }\n}\nexport class WordRightCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordOperations.moveWordRight(wordSeparators, model, position, wordNavigationType);\n    }\n}\nexport class CursorWordStartLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordStartLeft',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordEndLeft',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordLeft extends WordLeftCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 1 /* WordStartFast */,\n            id: 'cursorWordLeft',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* CtrlCmd */ | 15 /* LeftArrow */,\n                mac: { primary: 512 /* Alt */ | 15 /* LeftArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordStartLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordStartLeftSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordEndLeftSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordLeftSelect extends WordLeftCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 1 /* WordStartFast */,\n            id: 'cursorWordLeftSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 15 /* LeftArrow */,\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 15 /* LeftArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\n// Accessibility navigation commands should only be enabled on windows since they are tuned to what NVDA expects\nexport class CursorWordAccessibilityLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 3 /* WordAccessibility */,\n            id: 'cursorWordAccessibilityLeft',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordAccessibilityLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 3 /* WordAccessibility */,\n            id: 'cursorWordAccessibilityLeftSelect',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordStartRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordStartRight',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndRight extends WordRightCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordEndRight',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* CtrlCmd */ | 17 /* RightArrow */,\n                mac: { primary: 512 /* Alt */ | 17 /* RightArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordRight',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordStartRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordStartRightSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndRightSelect extends WordRightCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordEndRightSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* CtrlCmd */ | 1024 /* Shift */ | 17 /* RightArrow */,\n                mac: { primary: 512 /* Alt */ | 1024 /* Shift */ | 17 /* RightArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordRightSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordAccessibilityRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 3 /* WordAccessibility */,\n            id: 'cursorWordAccessibilityRight',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordAccessibilityRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 3 /* WordAccessibility */,\n            id: 'cursorWordAccessibilityRightSelect',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class DeleteWordCommand extends EditorCommand {\n    constructor(opts) {\n        super(opts);\n        this._whitespaceHeuristics = opts.whitespaceHeuristics;\n        this._wordNavigationType = opts.wordNavigationType;\n    }\n    runEditorCommand(accessor, editor, args) {\n        const languageConfigurationService = accessor.get(ILanguageConfigurationService);\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(117 /* wordSeparators */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const autoClosingBrackets = editor.getOption(5 /* autoClosingBrackets */);\n        const autoClosingQuotes = editor.getOption(8 /* autoClosingQuotes */);\n        const autoClosingPairs = languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getAutoClosingPairs();\n        const viewModel = editor._getViewModel();\n        const commands = selections.map((sel) => {\n            const deleteRange = this._delete({\n                wordSeparators,\n                model,\n                selection: sel,\n                whitespaceHeuristics: this._whitespaceHeuristics,\n                autoClosingDelete: editor.getOption(6 /* autoClosingDelete */),\n                autoClosingBrackets,\n                autoClosingQuotes,\n                autoClosingPairs,\n                autoClosedCharacters: viewModel.getCursorAutoClosedCharacters()\n            }, this._wordNavigationType);\n            return new ReplaceCommand(deleteRange, '');\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nexport class DeleteWordLeftCommand extends DeleteWordCommand {\n    _delete(ctx, wordNavigationType) {\n        let r = WordOperations.deleteWordLeft(ctx, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        return new Range(1, 1, 1, 1);\n    }\n}\nexport class DeleteWordRightCommand extends DeleteWordCommand {\n    _delete(ctx, wordNavigationType) {\n        let r = WordOperations.deleteWordRight(ctx, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        const lineCount = ctx.model.getLineCount();\n        const maxColumn = ctx.model.getLineMaxColumn(lineCount);\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\n    }\n}\nexport class DeleteWordStartLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'deleteWordStartLeft',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordEndLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'deleteWordEndLeft',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'deleteWordLeft',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* CtrlCmd */ | 1 /* Backspace */,\n                mac: { primary: 512 /* Alt */ | 1 /* Backspace */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nexport class DeleteWordStartRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'deleteWordStartRight',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordEndRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'deleteWordEndRight',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'deleteWordRight',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* CtrlCmd */ | 20 /* Delete */,\n                mac: { primary: 512 /* Alt */ | 20 /* Delete */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nexport class DeleteInsideWord extends EditorAction {\n    constructor() {\n        super({\n            id: 'deleteInsideWord',\n            precondition: EditorContextKeys.writable,\n            label: nls.localize('deleteInsideWord', \"Delete Word\"),\n            alias: 'Delete Word'\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(117 /* wordSeparators */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const commands = selections.map((sel) => {\n            const deleteRange = WordOperations.deleteInsideWord(wordSeparators, model, sel);\n            return new ReplaceCommand(deleteRange, '');\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nregisterEditorCommand(new CursorWordStartLeft());\nregisterEditorCommand(new CursorWordEndLeft());\nregisterEditorCommand(new CursorWordLeft());\nregisterEditorCommand(new CursorWordStartLeftSelect());\nregisterEditorCommand(new CursorWordEndLeftSelect());\nregisterEditorCommand(new CursorWordLeftSelect());\nregisterEditorCommand(new CursorWordStartRight());\nregisterEditorCommand(new CursorWordEndRight());\nregisterEditorCommand(new CursorWordRight());\nregisterEditorCommand(new CursorWordStartRightSelect());\nregisterEditorCommand(new CursorWordEndRightSelect());\nregisterEditorCommand(new CursorWordRightSelect());\nregisterEditorCommand(new CursorWordAccessibilityLeft());\nregisterEditorCommand(new CursorWordAccessibilityLeftSelect());\nregisterEditorCommand(new CursorWordAccessibilityRight());\nregisterEditorCommand(new CursorWordAccessibilityRightSelect());\nregisterEditorCommand(new DeleteWordStartLeft());\nregisterEditorCommand(new DeleteWordEndLeft());\nregisterEditorCommand(new DeleteWordLeft());\nregisterEditorCommand(new DeleteWordStartRight());\nregisterEditorCommand(new DeleteWordEndRight());\nregisterEditorCommand(new DeleteWordRight());\nregisterEditorAction(DeleteInsideWord);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { WordPartOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { DeleteWordCommand, MoveWordCommand } from '../../wordOperations/browser/wordOperations.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nexport class DeleteWordPartLeft extends DeleteWordCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'deleteWordPartLeft',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1 /* Backspace */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n    _delete(ctx, wordNavigationType) {\n        let r = WordPartOperations.deleteWordPartLeft(ctx);\n        if (r) {\n            return r;\n        }\n        return new Range(1, 1, 1, 1);\n    }\n}\nexport class DeleteWordPartRight extends DeleteWordCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'deleteWordPartRight',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 20 /* Delete */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n    _delete(ctx, wordNavigationType) {\n        let r = WordPartOperations.deleteWordPartRight(ctx);\n        if (r) {\n            return r;\n        }\n        const lineCount = ctx.model.getLineCount();\n        const maxColumn = ctx.model.getLineMaxColumn(lineCount);\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\n    }\n}\nexport class WordPartLeftCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordPartOperations.moveWordPartLeft(wordSeparators, model, position);\n    }\n}\nexport class CursorWordPartLeft extends WordPartLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordPartLeft',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 15 /* LeftArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\n// Register previous id for compatibility purposes\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeft', 'cursorWordPartLeft');\nexport class CursorWordPartLeftSelect extends WordPartLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordStart */,\n            id: 'cursorWordPartLeftSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1024 /* Shift */ | 15 /* LeftArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\n// Register previous id for compatibility purposes\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeftSelect', 'cursorWordPartLeftSelect');\nexport class WordPartRightCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordPartOperations.moveWordPartRight(wordSeparators, model, position);\n    }\n}\nexport class CursorWordPartRight extends WordPartRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordPartRight',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 17 /* RightArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordPartRightSelect extends WordPartRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordEnd */,\n            id: 'cursorWordPartRightSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* WinCtrl */ | 512 /* Alt */ | 1024 /* Shift */ | 17 /* RightArrow */ },\n                weight: 100 /* EditorContrib */\n            }\n        });\n    }\n}\nregisterEditorCommand(new DeleteWordPartLeft());\nregisterEditorCommand(new DeleteWordPartRight());\nregisterEditorCommand(new CursorWordPartLeft());\nregisterEditorCommand(new CursorWordPartLeftSelect());\nregisterEditorCommand(new CursorWordPartRight());\nregisterEditorCommand(new CursorWordPartRightSelect());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Sash } from '../../../../base/browser/ui/sash/sash.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { IdGenerator } from '../../../../base/common/idGenerator.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport * as objects from '../../../../base/common/objects.js';\nimport './zoneWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nconst defaultColor = new Color(new RGBA(0, 122, 204));\nconst defaultOptions = {\n    showArrow: true,\n    showFrame: true,\n    className: '',\n    frameColor: defaultColor,\n    arrowColor: defaultColor,\n    keepEditorSelection: false\n};\nconst WIDGET_ID = 'vs.editor.contrib.zoneWidget';\nexport class ViewZoneDelegate {\n    constructor(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight) {\n        this.id = ''; // A valid zone id should be greater than 0\n        this.domNode = domNode;\n        this.afterLineNumber = afterLineNumber;\n        this.afterColumn = afterColumn;\n        this.heightInLines = heightInLines;\n        this._onDomNodeTop = onDomNodeTop;\n        this._onComputedHeight = onComputedHeight;\n    }\n    onDomNodeTop(top) {\n        this._onDomNodeTop(top);\n    }\n    onComputedHeight(height) {\n        this._onComputedHeight(height);\n    }\n}\nexport class OverlayWidgetDelegate {\n    constructor(id, domNode) {\n        this._id = id;\n        this._domNode = domNode;\n    }\n    getId() {\n        return this._id;\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return null;\n    }\n}\nclass Arrow {\n    constructor(_editor) {\n        this._editor = _editor;\n        this._ruleName = Arrow._IdGenerator.nextId();\n        this._decorations = [];\n        this._color = null;\n        this._height = -1;\n        //\n    }\n    dispose() {\n        this.hide();\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n    }\n    set color(value) {\n        if (this._color !== value) {\n            this._color = value;\n            this._updateStyle();\n        }\n    }\n    set height(value) {\n        if (this._height !== value) {\n            this._height = value;\n            this._updateStyle();\n        }\n    }\n    _updateStyle() {\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n        dom.createCSSRule(`.monaco-editor ${this._ruleName}`, `border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `);\n    }\n    show(where) {\n        if (where.column === 1) {\n            // the arrow isn't pretty at column 1 and we need to push it out a little\n            where = { lineNumber: where.lineNumber, column: 2 };\n        }\n        this._decorations = this._editor.deltaDecorations(this._decorations, [{ range: Range.fromPositions(where), options: { description: 'zone-widget-arrow', className: this._ruleName, stickiness: 1 /* NeverGrowsWhenTypingAtEdges */ } }]);\n    }\n    hide() {\n        this._editor.deltaDecorations(this._decorations, []);\n    }\n}\nArrow._IdGenerator = new IdGenerator('.arrow-decoration-');\nexport class ZoneWidget {\n    constructor(editor, options = {}) {\n        this._arrow = null;\n        this._overlayWidget = null;\n        this._resizeSash = null;\n        this._positionMarkerId = [];\n        this._viewZone = null;\n        this._disposables = new DisposableStore();\n        this.container = null;\n        this._isShowing = false;\n        this.editor = editor;\n        this.options = objects.deepClone(options);\n        objects.mixin(this.options, defaultOptions, false);\n        this.domNode = document.createElement('div');\n        if (!this.options.isAccessible) {\n            this.domNode.setAttribute('aria-hidden', 'true');\n            this.domNode.setAttribute('role', 'presentation');\n        }\n        this._disposables.add(this.editor.onDidLayoutChange((info) => {\n            const width = this._getWidth(info);\n            this.domNode.style.width = width + 'px';\n            this.domNode.style.left = this._getLeft(info) + 'px';\n            this._onWidth(width);\n        }));\n    }\n    dispose() {\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n                this._viewZone = null;\n            });\n        }\n        this.editor.deltaDecorations(this._positionMarkerId, []);\n        this._positionMarkerId = [];\n        this._disposables.dispose();\n    }\n    create() {\n        this.domNode.classList.add('zone-widget');\n        if (this.options.className) {\n            this.domNode.classList.add(this.options.className);\n        }\n        this.container = document.createElement('div');\n        this.container.classList.add('zone-widget-container');\n        this.domNode.appendChild(this.container);\n        if (this.options.showArrow) {\n            this._arrow = new Arrow(this.editor);\n            this._disposables.add(this._arrow);\n        }\n        this._fillContainer(this.container);\n        this._initSash();\n        this._applyStyles();\n    }\n    style(styles) {\n        if (styles.frameColor) {\n            this.options.frameColor = styles.frameColor;\n        }\n        if (styles.arrowColor) {\n            this.options.arrowColor = styles.arrowColor;\n        }\n        this._applyStyles();\n    }\n    _applyStyles() {\n        if (this.container && this.options.frameColor) {\n            let frameColor = this.options.frameColor.toString();\n            this.container.style.borderTopColor = frameColor;\n            this.container.style.borderBottomColor = frameColor;\n        }\n        if (this._arrow && this.options.arrowColor) {\n            let arrowColor = this.options.arrowColor.toString();\n            this._arrow.color = arrowColor;\n        }\n    }\n    _getWidth(info) {\n        return info.width - info.minimap.minimapWidth - info.verticalScrollbarWidth;\n    }\n    _getLeft(info) {\n        // If minimap is to the left, we move beyond it\n        if (info.minimap.minimapWidth > 0 && info.minimap.minimapLeft === 0) {\n            return info.minimap.minimapWidth;\n        }\n        return 0;\n    }\n    _onViewZoneTop(top) {\n        this.domNode.style.top = top + 'px';\n    }\n    _onViewZoneHeight(height) {\n        this.domNode.style.height = `${height}px`;\n        if (this.container) {\n            let containerHeight = height - this._decoratingElementsHeight();\n            this.container.style.height = `${containerHeight}px`;\n            const layoutInfo = this.editor.getLayoutInfo();\n            this._doLayout(containerHeight, this._getWidth(layoutInfo));\n        }\n        if (this._resizeSash) {\n            this._resizeSash.layout();\n        }\n    }\n    get position() {\n        const [id] = this._positionMarkerId;\n        if (!id) {\n            return undefined;\n        }\n        const model = this.editor.getModel();\n        if (!model) {\n            return undefined;\n        }\n        const range = model.getDecorationRange(id);\n        if (!range) {\n            return undefined;\n        }\n        return range.getStartPosition();\n    }\n    show(rangeOrPos, heightInLines) {\n        const range = Range.isIRange(rangeOrPos) ? Range.lift(rangeOrPos) : Range.fromPositions(rangeOrPos);\n        this._isShowing = true;\n        this._showImpl(range, heightInLines);\n        this._isShowing = false;\n        this._positionMarkerId = this.editor.deltaDecorations(this._positionMarkerId, [{ range, options: ModelDecorationOptions.EMPTY }]);\n    }\n    hide() {\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n            });\n            this._viewZone = null;\n        }\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        if (this._arrow) {\n            this._arrow.hide();\n        }\n    }\n    _decoratingElementsHeight() {\n        let lineHeight = this.editor.getOption(59 /* lineHeight */);\n        let result = 0;\n        if (this.options.showArrow) {\n            let arrowHeight = Math.round(lineHeight / 3);\n            result += 2 * arrowHeight;\n        }\n        if (this.options.showFrame) {\n            let frameThickness = Math.round(lineHeight / 9);\n            result += 2 * frameThickness;\n        }\n        return result;\n    }\n    _showImpl(where, heightInLines) {\n        const position = where.getStartPosition();\n        const layoutInfo = this.editor.getLayoutInfo();\n        const width = this._getWidth(layoutInfo);\n        this.domNode.style.width = `${width}px`;\n        this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\n        // Render the widget as zone (rendering) and widget (lifecycle)\n        const viewZoneDomNode = document.createElement('div');\n        viewZoneDomNode.style.overflow = 'hidden';\n        const lineHeight = this.editor.getOption(59 /* lineHeight */);\n        // adjust heightInLines to viewport\n        const maxHeightInLines = Math.max(12, (this.editor.getLayoutInfo().height / lineHeight) * 0.8);\n        heightInLines = Math.min(heightInLines, maxHeightInLines);\n        let arrowHeight = 0;\n        let frameThickness = 0;\n        // Render the arrow one 1/3 of an editor line height\n        if (this._arrow && this.options.showArrow) {\n            arrowHeight = Math.round(lineHeight / 3);\n            this._arrow.height = arrowHeight;\n            this._arrow.show(position);\n        }\n        // Render the frame as 1/9 of an editor line height\n        if (this.options.showFrame) {\n            frameThickness = Math.round(lineHeight / 9);\n        }\n        // insert zone widget\n        this.editor.changeViewZones((accessor) => {\n            if (this._viewZone) {\n                accessor.removeZone(this._viewZone.id);\n            }\n            if (this._overlayWidget) {\n                this.editor.removeOverlayWidget(this._overlayWidget);\n                this._overlayWidget = null;\n            }\n            this.domNode.style.top = '-1000px';\n            this._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, (top) => this._onViewZoneTop(top), (height) => this._onViewZoneHeight(height));\n            this._viewZone.id = accessor.addZone(this._viewZone);\n            this._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + this._viewZone.id, this.domNode);\n            this.editor.addOverlayWidget(this._overlayWidget);\n        });\n        if (this.container && this.options.showFrame) {\n            const width = this.options.frameWidth ? this.options.frameWidth : frameThickness;\n            this.container.style.borderTopWidth = width + 'px';\n            this.container.style.borderBottomWidth = width + 'px';\n        }\n        let containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\n        if (this.container) {\n            this.container.style.top = arrowHeight + 'px';\n            this.container.style.height = containerHeight + 'px';\n            this.container.style.overflow = 'hidden';\n        }\n        this._doLayout(containerHeight, width);\n        if (!this.options.keepEditorSelection) {\n            this.editor.setSelection(where);\n        }\n        const model = this.editor.getModel();\n        if (model) {\n            const revealLine = where.endLineNumber + 1;\n            if (revealLine <= model.getLineCount()) {\n                // reveal line below the zone widget\n                this.revealLine(revealLine, false);\n            }\n            else {\n                // reveal last line atop\n                this.revealLine(model.getLineCount(), true);\n            }\n        }\n    }\n    revealLine(lineNumber, isLastLine) {\n        if (isLastLine) {\n            this.editor.revealLineInCenter(lineNumber, 0 /* Smooth */);\n        }\n        else {\n            this.editor.revealLine(lineNumber, 0 /* Smooth */);\n        }\n    }\n    setCssClass(className, classToReplace) {\n        if (!this.container) {\n            return;\n        }\n        if (classToReplace) {\n            this.container.classList.remove(classToReplace);\n        }\n        this.container.classList.add(className);\n    }\n    _onWidth(widthInPixel) {\n        // implement in subclass\n    }\n    _doLayout(heightInPixel, widthInPixel) {\n        // implement in subclass\n    }\n    _relayout(newHeightInLines) {\n        if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    this._viewZone.heightInLines = newHeightInLines;\n                    accessor.layoutZone(this._viewZone.id);\n                }\n            });\n        }\n    }\n    // --- sash\n    _initSash() {\n        if (this._resizeSash) {\n            return;\n        }\n        this._resizeSash = this._disposables.add(new Sash(this.domNode, this, { orientation: 1 /* HORIZONTAL */ }));\n        if (!this.options.isResizeable) {\n            this._resizeSash.state = 0 /* Disabled */;\n        }\n        let data;\n        this._disposables.add(this._resizeSash.onDidStart((e) => {\n            if (this._viewZone) {\n                data = {\n                    startY: e.startY,\n                    heightInLines: this._viewZone.heightInLines,\n                };\n            }\n        }));\n        this._disposables.add(this._resizeSash.onDidEnd(() => {\n            data = undefined;\n        }));\n        this._disposables.add(this._resizeSash.onDidChange((evt) => {\n            if (data) {\n                let lineDelta = (evt.currentY - data.startY) / this.editor.getOption(59 /* lineHeight */);\n                let roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\n                let newHeightInLines = data.heightInLines + roundedLineDelta;\n                if (newHeightInLines > 5 && newHeightInLines < 35) {\n                    this._relayout(newHeightInLines);\n                }\n            }\n        }));\n    }\n    getHorizontalSashLeft() {\n        return 0;\n    }\n    getHorizontalSashTop() {\n        return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - (this._decoratingElementsHeight() / 2);\n    }\n    getHorizontalSashWidth() {\n        const layoutInfo = this.editor.getLayoutInfo();\n        return layoutInfo.width - layoutInfo.minimap.minimapWidth;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nimport { EditorOptions } from './common/config/editorOptions.js';\nimport { createMonacoBaseAPI } from './common/services/editorBaseApi.js';\nimport { createMonacoEditorAPI } from './standalone/browser/standaloneEditor.js';\nimport { createMonacoLanguagesAPI } from './standalone/browser/standaloneLanguages.js';\nimport { globals } from '../base/common/platform.js';\nimport { FormattingConflicts } from './contrib/format/browser/format.js';\n// Set defaults for standalone editor\nEditorOptions.wrappingIndent.defaultValue = 0 /* None */;\nEditorOptions.glyphMargin.defaultValue = false;\nEditorOptions.autoIndent.defaultValue = 3 /* Advanced */;\nEditorOptions.overviewRulerLanes.defaultValue = 2;\n// We need to register a formatter selector which simply picks the first available formatter.\n// See https://github.com/microsoft/monaco-editor/issues/2327\nFormattingConflicts.setFormatterSelector((formatter, document, mode) => Promise.resolve(formatter[0]));\nconst api = createMonacoBaseAPI();\napi.editor = createMonacoEditorAPI();\napi.languages = createMonacoLanguagesAPI();\nexport const CancellationTokenSource = api.CancellationTokenSource;\nexport const Emitter = api.Emitter;\nexport const KeyCode = api.KeyCode;\nexport const KeyMod = api.KeyMod;\nexport const Position = api.Position;\nexport const Range = api.Range;\nexport const Selection = api.Selection;\nexport const SelectionDirection = api.SelectionDirection;\nexport const MarkerSeverity = api.MarkerSeverity;\nexport const MarkerTag = api.MarkerTag;\nexport const Uri = api.Uri;\nexport const Token = api.Token;\nexport const editor = api.editor;\nexport const languages = api.languages;\nif (((_a = globals.MonacoEnvironment) === null || _a === void 0 ? void 0 : _a.globalAPI) || (typeof define === 'function' && define.amd)) {\n    self.monaco = api;\n}\nif (typeof self.require !== 'undefined' && typeof self.require.config === 'function') {\n    self.require.config({\n        ignoreDuplicateModules: [\n            'vscode-languageserver-types',\n            'vscode-languageserver-types/main',\n            'vscode-languageserver-textdocument',\n            'vscode-languageserver-textdocument/main',\n            'vscode-nls',\n            'vscode-nls/vscode-nls',\n            'jsonc-parser',\n            'jsonc-parser/main',\n            'vscode-uri',\n            'vscode-uri/index',\n            'vs/basic-languages/typescript/typescript'\n        ]\n    });\n}\n"],"names":["paths","self","globalAPI","getWorkerUrl","moduleId","label","pathPrefix","__webpack_public_path__","result","replace","test","currentUrl","String","window","location","currentOrigin","substr","length","hash","search","pathname","substring","protocol","blob","Blob","type","URL","createObjectURL","require","module","exports","ToggleTabFocusModeAction","id","ID","nls","key","comment","alias","precondition","undefined","kbOpts","kbExpr","primary","mac","weight","accessor","editor","newValue","TabFocus","alert","EditorAction","registerEditorAction","ForceRetokenizeAction","hasModel","model","getModel","resetTokenization","sw","StopWatch","forceTokenization","getLineCount","stop","console","log","elapsed","__decorate","decorators","target","desc","d","c","arguments","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","BannerController","_editor","instantiationService","banner","_register","createInstance","Banner","this","setBanner","clear","item","show","assign","onClose","hide","element","Disposable","IInstantiationService","markdownRenderer","MarkdownRenderer","$","tabIndex","ariaLabel","message","innerText","render","clearNode","getAriaLabel","setAttribute","iconContainer","append","icon","appendChild","ThemeIcon","messageContainer","getBannerMessage","messageActionsContainer","actions","action","Link","actionBarContainer","actionBar","ActionBar","push","Action","widgetClose","setFocusable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","done","then","apply","warningIcon","registerIcon","Codicon","UnicodeHighlighter","_editorWorkerService","_workspaceTrustService","_highlighter","_bannerClosed","_updateState","state","hasMore","data","max","Math","ambiguousCharacterCount","nonBasicAsciiCharacterCount","invisibleCharacterCount","command","DisableHighlightingOfNonBasicAsciiCharactersAction","DisableHighlightingOfAmbiguousCharactersAction","Error","DisableHighlightingOfInvisibleCharactersAction","_bannerController","shortLabel","href","onDidChangeModel","_updateHighlighter","_options","getOption","onDidChangeTrust","onDidChangeConfiguration","hasChanged","dispose","options","trusted","nonBasicASCII","inUntrustedWorkspace","ambiguousCharacters","invisibleCharacters","includeComments","includeStrings","allowedCharacters","allowedLocales","resolveOptions","isWorkspaceTrusted","every","option","highlightOptions","allowedCodePoints","keys","map","codePointAt","locale","Intl","NumberFormat","resolvedOptions","platform","canComputeUnicodeHighlights","uri","DocumentUnicodeHighlighter","ViewportUnicodeHighlighter","decorationId","getDecorationInfo","IEditorWorkerService","IWorkspaceTrustManagementService","_model","_decorationIds","Set","_updateSoon","RunOnceScheduler","_update","onDidChangeModelContent","schedule","deltaDecorations","Array","from","isDisposed","mightContainNonBasicASCII","modelVersionId","getVersionId","computedUnicodeHighlights","info","decorations","ranges","range","Decorations","instance","getDecorationFromOptions","has","getDecorationRange","decoration","ownerId","isModelDecorationVisible","reason","computeReason","getValueInRange","inComment","isModelDecorationInComment","inString","isModelDecorationInString","onDidLayoutChange","onDidScrollChange","onDidChangeHiddenAreas","getVisibleRanges","totalResult","UnicodeTextModelHighlighter","text","UnicodeHighlighterHoverParticipant","_languageService","_openerService","anchor","lineDecorations","unicodeHighlighter","getContribution","index","highlightInfo","codePoint","codePointStr","formatCodePointMarkdown","kind","confusableWith","adjustSettingsArgs","adjustSettings","contents","ShowExcludeOptions","encodeURIComponent","JSON","stringify","isTrusted","MarkdownHover","context","hoverParts","renderMarkdownHovers","codePointToHex","toString","padStart","InvisibleCharacters","fromCodePoint","renderCodePointAsInlineCode","char","ILanguageService","IOpenerService","Map","getDecoration","hideInComments","hideInStrings","get","ModelDecorationOptions","description","stickiness","className","showIfCollapsed","overviewRuler","minimap","hideInCommentTokens","hideInStringTokens","set","DisableHighlightingInCommentsAction","args","configurationService","IConfigurationService","runAction","updateValue","unicodeHighlightConfigKeys","DisableHighlightingInStringsAction","getExcludeCharFromBeingHighlightedLabel","quickPickService","IQuickInputService","notAmbiguousInLocales","run","excludeLocaleFromBeingHighlighted","excludeCharFromBeingHighlighted","expectNever","pick","title","charCodes","existingValue","getValue","charCode","f","locales","_a","inspect","user","registerEditorContribution","ignoreUnusualLineTerminators","writeIgnoreState","codeEditorService","setModelProperty","readIgnoreState","getModelProperty","UnusualLineTerminatorsDetector","_dialogService","_codeEditorService","_config","_checkForUnusualLineTerminators","isUndoing","mightContainUnusualLineTerminators","removeUnusualLineTerminators","getSelections","confirm","detail","basename","primaryButton","secondaryButton","confirmed","IDialogService","ICodeEditorService","ViewportSemanticTokensContribution","_modelService","_themeService","_configurationService","languageFeatureDebounceService","_debounceInformation","for","DocumentRangeSemanticTokensProviderRegistry","min","_tokenizeViewport","_tokenizeViewportNow","_outstandingRequests","scheduleTokenizeViewport","_cancelAll","affectsConfiguration","SEMANTIC_HIGHLIGHTING_SETTING_ID","onDidColorThemeChange","cancel","req","len","splice","hasCompleteSemanticTokens","isSemanticColoringEnabled","hasDocumentRangeSemanticTokensProvider","visibleRanges","getVisibleRangesPlusViewportAboveBelow","concat","_requestRange","hasSomeSemanticTokens","setSemanticTokens","requestVersionId","request","createCancelablePromise","token","getDocumentRangeSemanticTokens","update","tokens","provider","styling","getSemanticTokensProviderStyling","setPartialSemanticTokens","toMultilineTokens2","getLanguageId","_removeOutstandingRequest","IModelService","IThemeService","ILanguageFeatureDebounceService","editorWordHighlight","registerColor","dark","light","hc","editorWordHighlightStrong","editorWordHighlightBorder","activeContrastBorder","editorWordHighlightStrongBorder","overviewRulerWordHighlightForeground","overviewRulerWordHighlightStrongForeground","ctxHasWordHighlights","RawContextKey","getOccurrencesAtPosition","position","orderedByScore","DocumentHighlightProviderRegistry","first","provideDocumentHighlights","onUnexpectedExternalError","arrays","OccurenceAtPositionRequest","selection","wordSeparators","_wordRange","_getCurrentWordRange","_compute","word","getWordAtPosition","getPosition","Range","startLineNumber","startColumn","endColumn","decorationIds","lineNumber","currentWordRange","requestIsValid","Boolean","equalsRange","SemanticOccurenceAtPositionRequest","TextualOccurenceAtPositionRequest","_selectionIsEmpty","isEmpty","timeout","findMatches","m","DocumentHighlightKind","currentSelectionIsEmpty","registerModelAndPositionCommand","CancellationToken","WordHighlighter","contextKeyService","toUnhook","DisposableStore","workerRequestTokenId","workerRequestCompleted","workerRequestValue","lastCursorPositionChangeTime","renderDecorationsTimer","_hasWordHighlights","bindTo","_ignorePositionChangeEvent","occurrencesHighlight","add","onDidChangeCursorPosition","_onPositionChanged","_stopAll","workerRequest","_run","sort","highlights","_getSortedHighlights","newIndex","findIndex","containsPosition","dest","setPosition","getStartPosition","revealRangeInCenterIfOutsideViewport","_getWord","lineContent","getLineContent","_removeDecorations","clearTimeout","editorSelection","getSelection","column","endLineNumber","workerRequestIsValid","isValid","Date","getTime","_beginRenderDecorations","myRequestId","onUnexpectedError","currentTime","minimumRenderTime","renderDecorations","setTimeout","_getDecorationOptions","hasDecorations","_WRITE_OPTIONS","_TEXT_OPTIONS","_REGULAR_OPTIONS","color","themeColorFromId","OverviewRulerLane","minimapSelectionOccurrenceHighlight","MinimapPosition","overviewRulerSelectionHighlightForeground","WordHighlighterContribution","wordHighlighter","createWordHighlighterIfPossible","moveNext","moveBack","restore","IContextKeyService","WordHighlightNavigationAction","opts","_isNext","controller","NextWordHighlightAction","EditorContextKeys","PrevWordHighlightAction","TriggerWordHighlightAction","toNegated","restoreViewState","registerThemingParticipant","theme","collector","selectionHighlight","getColor","editorSelectionHighlight","addRule","transparent","wordHighlight","wordHighlightStrong","selectionHighlightBorder","editorSelectionHighlightBorder","wordHighlightBorder","wordHighlightStrongBorder","MoveWordCommand","_inSelectionMode","inSelectionMode","_wordNavigationType","wordNavigationType","getMapForWordSeparators","sel","inPosition","Position","positionLineNumber","positionColumn","outPosition","_move","_moveTo","pushStackElement","_getViewModel","setCursorStates","CursorState","pos","revealPosition","to","Selection","selectionStartLineNumber","selectionStartColumn","EditorCommand","WordLeftCommand","WordOperations","WordRightCommand","CursorWordStartLeft","CursorWordEndLeft","CursorWordLeft","ContextKeyExpr","CONTEXT_ACCESSIBILITY_MODE_ENABLED","IsWindowsContext","negate","CursorWordStartLeftSelect","CursorWordEndLeftSelect","CursorWordLeftSelect","CursorWordAccessibilityLeft","_","EditorOptions","CursorWordAccessibilityLeftSelect","CursorWordStartRight","CursorWordEndRight","CursorWordRight","CursorWordStartRightSelect","CursorWordEndRightSelect","CursorWordRightSelect","CursorWordAccessibilityRight","CursorWordAccessibilityRightSelect","DeleteWordCommand","_whitespaceHeuristics","whitespaceHeuristics","languageConfigurationService","ILanguageConfigurationService","selections","autoClosingBrackets","autoClosingQuotes","autoClosingPairs","getLanguageConfiguration","getAutoClosingPairs","viewModel","commands","deleteRange","_delete","autoClosingDelete","autoClosedCharacters","getCursorAutoClosedCharacters","ReplaceCommand","pushUndoStop","executeCommands","DeleteWordLeftCommand","ctx","DeleteWordRightCommand","lineCount","maxColumn","getLineMaxColumn","DeleteWordStartLeft","DeleteWordEndLeft","DeleteWordLeft","DeleteWordStartRight","DeleteWordEndRight","DeleteWordRight","DeleteInsideWord","registerEditorCommand","DeleteWordPartLeft","WordPartOperations","DeleteWordPartRight","WordPartLeftCommand","CursorWordPartLeft","CommandsRegistry","CursorWordPartLeftSelect","WordPartRightCommand","CursorWordPartRight","CursorWordPartRightSelect","defaultColor","Color","RGBA","defaultOptions","showArrow","showFrame","frameColor","arrowColor","keepEditorSelection","ViewZoneDelegate","domNode","afterLineNumber","afterColumn","heightInLines","onDomNodeTop","onComputedHeight","_onDomNodeTop","_onComputedHeight","top","height","OverlayWidgetDelegate","_id","_domNode","Arrow","_ruleName","_IdGenerator","nextId","_decorations","_color","_height","dom","removeCSSRulesContainingSelector","_updateStyle","createCSSRule","where","IdGenerator","ZoneWidget","_arrow","_overlayWidget","_resizeSash","_positionMarkerId","_viewZone","_disposables","container","_isShowing","objects","document","createElement","isAccessible","width","_getWidth","style","left","_getLeft","_onWidth","removeOverlayWidget","changeViewZones","removeZone","classList","_fillContainer","_initSash","_applyStyles","styles","borderTopColor","borderBottomColor","minimapWidth","verticalScrollbarWidth","minimapLeft","containerHeight","_decoratingElementsHeight","layoutInfo","getLayoutInfo","_doLayout","layout","rangeOrPos","_showImpl","lineHeight","round","viewZoneDomNode","overflow","maxHeightInLines","arrowHeight","frameThickness","_onViewZoneTop","_onViewZoneHeight","addZone","addOverlayWidget","frameWidth","borderTopWidth","borderBottomWidth","setSelection","revealLine","isLastLine","revealLineInCenter","classToReplace","remove","widthInPixel","heightInPixel","newHeightInLines","layoutZone","Sash","orientation","isResizeable","onDidStart","startY","onDidEnd","onDidChange","evt","lineDelta","currentY","roundedLineDelta","ceil","floor","_relayout","parseInt","formatter","mode","api","languages","CancellationTokenSource","Emitter","KeyCode","KeyMod","SelectionDirection","MarkerSeverity","MarkerTag","Uri","Token","define","monaco","config","ignoreDuplicateModules"],"sourceRoot":""}