{"version":3,"file":"static/js/monaco-editor-vendor.dff5f55e.daa6da56.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/editor/editor.api.js","../node_modules/monaco-editor/esm/vs/editor/editor.main.js","../node_modules/monaco-editor/esm/vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js","../node_modules/monaco-editor/esm/vs/editor/contrib/tokenization/browser/tokenization.js","../node_modules/monaco-editor/esm/vs/editor/contrib/unicodeHighlighter/browser/bannerController.js","../node_modules/monaco-editor/esm/vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter.js","../node_modules/monaco-editor/esm/vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/browser/highlightDecorations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/browser/wordHighlighter.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordOperations/browser/wordOperations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/wordPartOperations/browser/wordPartOperations.js","../node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/browser/zoneWidget.js","webpack://monaco-editor-nginx/./node_modules/monaco-editor/esm/vs/editor/editor.api.js?02d9"],"sourcesContent":["self[\"MonacoEnvironment\"] = (function (paths) {\n      function stripTrailingSlash(str) {\n        return str.replace(/\\/$/, '');\n      }\n      return {\n        globalAPI: false,\n        getWorkerUrl: function (moduleId, label) {\n          var pathPrefix = typeof __webpack_public_path__ === 'string' ? __webpack_public_path__ : \"./\";\n          var result = (pathPrefix ? stripTrailingSlash(pathPrefix) + '/' : '') + paths[label];\n          if (/^((http:)|(https:)|(file:)|(\\/\\/))/.test(result)) {\n            var currentUrl = String(window.location);\n            var currentOrigin = currentUrl.substr(0, currentUrl.length - window.location.hash.length - window.location.search.length - window.location.pathname.length);\n            if (result.substring(0, currentOrigin.length) !== currentOrigin) {\n              if(/^(\\/\\/)/.test(result)) {\n                result = window.location.protocol + result\n              }\n              var js = '/*' + label + '*/importScripts(\"' + result + '\");';\n              var blob = new Blob([js], { type: 'application/javascript' });\n              return URL.createObjectURL(blob);\n            }\n          }\n          return result;\n        }\n      };\n    })({\n  \"editorWorkerService\": \"editor.worker.js\",\n  \"json\": \"json.worker.js\"\n});\nrequire(\"./contrib/anchorSelect/browser/anchorSelect.js\");\nrequire(\"./contrib/bracketMatching/browser/bracketMatching.js\");\nrequire(\"./browser/coreCommands.js\");\nrequire(\"./contrib/caretOperations/browser/caretOperations.js\");\nrequire(\"./contrib/caretOperations/browser/transpose.js\");\nrequire(\"./contrib/clipboard/browser/clipboard.js\");\nrequire(\"./contrib/codeAction/browser/codeActionContributions.js\");\nrequire(\"./contrib/codelens/browser/codelensController.js\");\nrequire(\"./contrib/colorPicker/browser/colorContributions.js\");\nrequire(\"./contrib/colorPicker/browser/standaloneColorPickerActions.js\");\nrequire(\"./contrib/comment/browser/comment.js\");\nrequire(\"./contrib/contextmenu/browser/contextmenu.js\");\nrequire(\"./contrib/cursorUndo/browser/cursorUndo.js\");\nrequire(\"./browser/widget/diffEditor/diffEditor.contribution.js\");\nrequire(\"./contrib/dnd/browser/dnd.js\");\nrequire(\"./contrib/documentSymbols/browser/documentSymbols.js\");\nrequire(\"./contrib/dropOrPasteInto/browser/copyPasteContribution.js\");\nrequire(\"./contrib/dropOrPasteInto/browser/dropIntoEditorContribution.js\");\nrequire(\"./contrib/find/browser/findController.js\");\nrequire(\"./contrib/folding/browser/folding.js\");\nrequire(\"./contrib/fontZoom/browser/fontZoom.js\");\nrequire(\"./contrib/format/browser/formatActions.js\");\nrequire(\"./contrib/gotoError/browser/gotoError.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneGotoLineQuickAccess.js\");\nrequire(\"./contrib/gotoSymbol/browser/goToCommands.js\");\nrequire(\"./contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js\");\nrequire(\"./contrib/hover/browser/hover.js\");\nrequire(\"./standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js\");\nrequire(\"./contrib/inPlaceReplace/browser/inPlaceReplace.js\");\nrequire(\"./contrib/indentation/browser/indentation.js\");\nrequire(\"./contrib/inlayHints/browser/inlayHintsContribution.js\");\nrequire(\"./contrib/inlineCompletions/browser/inlineCompletions.contribution.js\");\nrequire(\"./contrib/inlineProgress/browser/inlineProgress.js\");\nrequire(\"./standalone/browser/inspectTokens/inspectTokens.js\");\nrequire(\"./contrib/lineSelection/browser/lineSelection.js\");\nrequire(\"./contrib/linesOperations/browser/linesOperations.js\");\nrequire(\"./contrib/linkedEditing/browser/linkedEditing.js\");\nrequire(\"./contrib/links/browser/links.js\");\nrequire(\"./contrib/longLinesHelper/browser/longLinesHelper.js\");\nrequire(\"./contrib/multicursor/browser/multicursor.js\");\nrequire(\"./contrib/parameterHints/browser/parameterHints.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneCommandsQuickAccess.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneHelpQuickAccess.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess.js\");\nrequire(\"./contrib/readOnlyMessage/browser/contribution.js\");\nrequire(\"./standalone/browser/referenceSearch/standaloneReferenceSearch.js\");\nrequire(\"./contrib/rename/browser/rename.js\");\nrequire(\"./contrib/semanticTokens/browser/documentSemanticTokens.js\");\nrequire(\"./contrib/semanticTokens/browser/viewportSemanticTokens.js\");\nrequire(\"./contrib/smartSelect/browser/smartSelect.js\");\nrequire(\"./contrib/snippet/browser/snippetController2.js\");\nrequire(\"./contrib/stickyScroll/browser/stickyScrollContribution.js\");\nrequire(\"./contrib/suggest/browser/suggestController.js\");\nrequire(\"./contrib/suggest/browser/suggestInlineCompletions.js\");\nrequire(\"./standalone/browser/toggleHighContrast/toggleHighContrast.js\");\nrequire(\"./contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js\");\nrequire(\"./contrib/tokenization/browser/tokenization.js\");\nrequire(\"./contrib/unicodeHighlighter/browser/unicodeHighlighter.js\");\nrequire(\"./contrib/unusualLineTerminators/browser/unusualLineTerminators.js\");\nrequire(\"./contrib/wordHighlighter/browser/wordHighlighter.js\");\nrequire(\"./contrib/wordOperations/browser/wordOperations.js\");\nrequire(\"./contrib/wordPartOperations/browser/wordPartOperations.js\");\nmodule.exports = require(\"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[1]!./editor.api.js\");\nrequire(\"../language/json/monaco.contribution.js\");","self[\"MonacoEnvironment\"] = (function (paths) {\n      function stripTrailingSlash(str) {\n        return str.replace(/\\/$/, '');\n      }\n      return {\n        globalAPI: false,\n        getWorkerUrl: function (moduleId, label) {\n          var pathPrefix = typeof __webpack_public_path__ === 'string' ? __webpack_public_path__ : \"./\";\n          var result = (pathPrefix ? stripTrailingSlash(pathPrefix) + '/' : '') + paths[label];\n          if (/^((http:)|(https:)|(file:)|(\\/\\/))/.test(result)) {\n            var currentUrl = String(window.location);\n            var currentOrigin = currentUrl.substr(0, currentUrl.length - window.location.hash.length - window.location.search.length - window.location.pathname.length);\n            if (result.substring(0, currentOrigin.length) !== currentOrigin) {\n              if(/^(\\/\\/)/.test(result)) {\n                result = window.location.protocol + result\n              }\n              var js = '/*' + label + '*/importScripts(\"' + result + '\");';\n              var blob = new Blob([js], { type: 'application/javascript' });\n              return URL.createObjectURL(blob);\n            }\n          }\n          return result;\n        }\n      };\n    })({\n  \"editorWorkerService\": \"editor.worker.js\",\n  \"json\": \"json.worker.js\"\n});\nrequire(\"./contrib/anchorSelect/browser/anchorSelect.js\");\nrequire(\"./contrib/bracketMatching/browser/bracketMatching.js\");\nrequire(\"./browser/coreCommands.js\");\nrequire(\"./contrib/caretOperations/browser/caretOperations.js\");\nrequire(\"./contrib/caretOperations/browser/transpose.js\");\nrequire(\"./contrib/clipboard/browser/clipboard.js\");\nrequire(\"./contrib/codeAction/browser/codeActionContributions.js\");\nrequire(\"./contrib/codelens/browser/codelensController.js\");\nrequire(\"./contrib/colorPicker/browser/colorContributions.js\");\nrequire(\"./contrib/colorPicker/browser/standaloneColorPickerActions.js\");\nrequire(\"./contrib/comment/browser/comment.js\");\nrequire(\"./contrib/contextmenu/browser/contextmenu.js\");\nrequire(\"./contrib/cursorUndo/browser/cursorUndo.js\");\nrequire(\"./browser/widget/diffEditor/diffEditor.contribution.js\");\nrequire(\"./contrib/dnd/browser/dnd.js\");\nrequire(\"./contrib/documentSymbols/browser/documentSymbols.js\");\nrequire(\"./contrib/dropOrPasteInto/browser/copyPasteContribution.js\");\nrequire(\"./contrib/dropOrPasteInto/browser/dropIntoEditorContribution.js\");\nrequire(\"./contrib/find/browser/findController.js\");\nrequire(\"./contrib/folding/browser/folding.js\");\nrequire(\"./contrib/fontZoom/browser/fontZoom.js\");\nrequire(\"./contrib/format/browser/formatActions.js\");\nrequire(\"./contrib/gotoError/browser/gotoError.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneGotoLineQuickAccess.js\");\nrequire(\"./contrib/gotoSymbol/browser/goToCommands.js\");\nrequire(\"./contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js\");\nrequire(\"./contrib/hover/browser/hover.js\");\nrequire(\"./standalone/browser/iPadShowKeyboard/iPadShowKeyboard.js\");\nrequire(\"./contrib/inPlaceReplace/browser/inPlaceReplace.js\");\nrequire(\"./contrib/indentation/browser/indentation.js\");\nrequire(\"./contrib/inlayHints/browser/inlayHintsContribution.js\");\nrequire(\"./contrib/inlineCompletions/browser/inlineCompletions.contribution.js\");\nrequire(\"./contrib/inlineProgress/browser/inlineProgress.js\");\nrequire(\"./standalone/browser/inspectTokens/inspectTokens.js\");\nrequire(\"./contrib/lineSelection/browser/lineSelection.js\");\nrequire(\"./contrib/linesOperations/browser/linesOperations.js\");\nrequire(\"./contrib/linkedEditing/browser/linkedEditing.js\");\nrequire(\"./contrib/links/browser/links.js\");\nrequire(\"./contrib/longLinesHelper/browser/longLinesHelper.js\");\nrequire(\"./contrib/multicursor/browser/multicursor.js\");\nrequire(\"./contrib/parameterHints/browser/parameterHints.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneCommandsQuickAccess.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneHelpQuickAccess.js\");\nrequire(\"./standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess.js\");\nrequire(\"./contrib/readOnlyMessage/browser/contribution.js\");\nrequire(\"./standalone/browser/referenceSearch/standaloneReferenceSearch.js\");\nrequire(\"./contrib/rename/browser/rename.js\");\nrequire(\"./contrib/semanticTokens/browser/documentSemanticTokens.js\");\nrequire(\"./contrib/semanticTokens/browser/viewportSemanticTokens.js\");\nrequire(\"./contrib/smartSelect/browser/smartSelect.js\");\nrequire(\"./contrib/snippet/browser/snippetController2.js\");\nrequire(\"./contrib/stickyScroll/browser/stickyScrollContribution.js\");\nrequire(\"./contrib/suggest/browser/suggestController.js\");\nrequire(\"./contrib/suggest/browser/suggestInlineCompletions.js\");\nrequire(\"./standalone/browser/toggleHighContrast/toggleHighContrast.js\");\nrequire(\"./contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js\");\nrequire(\"./contrib/tokenization/browser/tokenization.js\");\nrequire(\"./contrib/unicodeHighlighter/browser/unicodeHighlighter.js\");\nrequire(\"./contrib/unusualLineTerminators/browser/unusualLineTerminators.js\");\nrequire(\"./contrib/wordHighlighter/browser/wordHighlighter.js\");\nrequire(\"./contrib/wordOperations/browser/wordOperations.js\");\nrequire(\"./contrib/wordPartOperations/browser/wordPartOperations.js\");\nmodule.exports = require(\"!!../../../../source-map-loader/dist/cjs.js??ruleSet[1].rules[1]!./editor.main.js\");\nrequire(\"../language/json/monaco.contribution.js\");","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { TabFocus } from '../../../browser/config/tabFocus.js';\nimport * as nls from '../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../platform/actions/common/actions.js';\nexport class ToggleTabFocusModeAction extends Action2 {\n    constructor() {\n        super({\n            id: ToggleTabFocusModeAction.ID,\n            title: { value: nls.localize({ key: 'toggle.tabMovesFocus', comment: ['Turn on/off use of tab key for moving focus around VS Code'] }, 'Toggle Tab Key Moves Focus'), original: 'Toggle Tab Key Moves Focus' },\n            precondition: undefined,\n            keybinding: {\n                primary: 2048 /* KeyMod.CtrlCmd */ | 43 /* KeyCode.KeyM */,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 43 /* KeyCode.KeyM */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            f1: true\n        });\n    }\n    run() {\n        const oldValue = TabFocus.getTabFocusMode();\n        const newValue = !oldValue;\n        TabFocus.setTabFocusMode(newValue);\n        if (newValue) {\n            alert(nls.localize('toggle.tabMovesFocus.on', \"Pressing Tab will now move focus to the next focusable element\"));\n        }\n        else {\n            alert(nls.localize('toggle.tabMovesFocus.off', \"Pressing Tab will now insert the tab character\"));\n        }\n    }\n}\nToggleTabFocusModeAction.ID = 'editor.action.toggleTabFocusMode';\nregisterAction2(ToggleTabFocusModeAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport * as nls from '../../../../nls.js';\nclass ForceRetokenizeAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.forceRetokenize',\n            label: nls.localize('forceRetokenize', \"Developer: Force Retokenize\"),\n            alias: 'Developer: Force Retokenize',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const model = editor.getModel();\n        model.tokenization.resetTokenization();\n        const sw = new StopWatch();\n        model.tokenization.forceTokenization(model.getLineCount());\n        sw.stop();\n        console.log(`tokenization took ${sw.elapsed()}`);\n    }\n}\nregisterEditorAction(ForceRetokenizeAction);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './bannerController.css';\nimport { $, append, clearNode } from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { MarkdownRenderer } from '../../markdownRenderer/browser/markdownRenderer.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Link } from '../../../../platform/opener/browser/link.js';\nimport { widgetClose } from '../../../../platform/theme/common/iconRegistry.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nconst BANNER_ELEMENT_HEIGHT = 26;\nlet BannerController = class BannerController extends Disposable {\n    constructor(_editor, instantiationService) {\n        super();\n        this._editor = _editor;\n        this.instantiationService = instantiationService;\n        this.banner = this._register(this.instantiationService.createInstance(Banner));\n    }\n    hide() {\n        this._editor.setBanner(null, 0);\n        this.banner.clear();\n    }\n    show(item) {\n        this.banner.show(Object.assign(Object.assign({}, item), { onClose: () => {\n                var _a;\n                this.hide();\n                (_a = item.onClose) === null || _a === void 0 ? void 0 : _a.call(item);\n            } }));\n        this._editor.setBanner(this.banner.element, BANNER_ELEMENT_HEIGHT);\n    }\n};\nBannerController = __decorate([\n    __param(1, IInstantiationService)\n], BannerController);\nexport { BannerController };\n// TODO@hediet: Investigate if this can be reused by the workspace banner (bannerPart.ts).\nlet Banner = class Banner extends Disposable {\n    constructor(instantiationService) {\n        super();\n        this.instantiationService = instantiationService;\n        this.markdownRenderer = this.instantiationService.createInstance(MarkdownRenderer, {});\n        this.element = $('div.editor-banner');\n        this.element.tabIndex = 0;\n    }\n    getAriaLabel(item) {\n        if (item.ariaLabel) {\n            return item.ariaLabel;\n        }\n        if (typeof item.message === 'string') {\n            return item.message;\n        }\n        return undefined;\n    }\n    getBannerMessage(message) {\n        if (typeof message === 'string') {\n            const element = $('span');\n            element.innerText = message;\n            return element;\n        }\n        return this.markdownRenderer.render(message).element;\n    }\n    clear() {\n        clearNode(this.element);\n    }\n    show(item) {\n        // Clear previous item\n        clearNode(this.element);\n        // Banner aria label\n        const ariaLabel = this.getAriaLabel(item);\n        if (ariaLabel) {\n            this.element.setAttribute('aria-label', ariaLabel);\n        }\n        // Icon\n        const iconContainer = append(this.element, $('div.icon-container'));\n        iconContainer.setAttribute('aria-hidden', 'true');\n        if (item.icon) {\n            iconContainer.appendChild($(`div${ThemeIcon.asCSSSelector(item.icon)}`));\n        }\n        // Message\n        const messageContainer = append(this.element, $('div.message-container'));\n        messageContainer.setAttribute('aria-hidden', 'true');\n        messageContainer.appendChild(this.getBannerMessage(item.message));\n        // Message Actions\n        this.messageActionsContainer = append(this.element, $('div.message-actions-container'));\n        if (item.actions) {\n            for (const action of item.actions) {\n                this._register(this.instantiationService.createInstance(Link, this.messageActionsContainer, Object.assign(Object.assign({}, action), { tabIndex: -1 }), {}));\n            }\n        }\n        // Action\n        const actionBarContainer = append(this.element, $('div.action-container'));\n        this.actionBar = this._register(new ActionBar(actionBarContainer));\n        this.actionBar.push(this._register(new Action('banner.close', 'Close Banner', ThemeIcon.asClassName(widgetClose), true, () => {\n            if (typeof item.onClose === 'function') {\n                item.onClose();\n            }\n        })), { icon: true, label: false });\n        this.actionBar.setFocusable(false);\n    }\n};\nBanner = __decorate([\n    __param(0, IInstantiationService)\n], Banner);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { InvisibleCharacters, isBasicASCII } from '../../../../base/common/strings.js';\nimport './unicodeHighlighter.css';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { inUntrustedWorkspace, unicodeHighlightConfigKeys } from '../../../common/config/editorOptions.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { UnicodeTextModelHighlighter } from '../../../common/services/unicodeTextModelHighlighter.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { isModelDecorationInComment, isModelDecorationInString, isModelDecorationVisible } from '../../../common/viewModel/viewModelDecorations.js';\nimport { HoverParticipantRegistry } from '../../hover/browser/hoverTypes.js';\nimport { MarkdownHover, renderMarkdownHovers } from '../../hover/browser/markdownHoverParticipant.js';\nimport { BannerController } from './bannerController.js';\nimport * as nls from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { IWorkspaceTrustManagementService } from '../../../../platform/workspace/common/workspaceTrust.js';\nexport const warningIcon = registerIcon('extensions-warning-message', Codicon.warning, nls.localize('warningIcon', 'Icon shown with a warning message in the extensions editor.'));\nlet UnicodeHighlighter = class UnicodeHighlighter extends Disposable {\n    constructor(_editor, _editorWorkerService, _workspaceTrustService, instantiationService) {\n        super();\n        this._editor = _editor;\n        this._editorWorkerService = _editorWorkerService;\n        this._workspaceTrustService = _workspaceTrustService;\n        this._highlighter = null;\n        this._bannerClosed = false;\n        this._updateState = (state) => {\n            if (state && state.hasMore) {\n                if (this._bannerClosed) {\n                    return;\n                }\n                // This document contains many non-basic ASCII characters.\n                const max = Math.max(state.ambiguousCharacterCount, state.nonBasicAsciiCharacterCount, state.invisibleCharacterCount);\n                let data;\n                if (state.nonBasicAsciiCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters', 'This document contains many non-basic ASCII unicode characters'),\n                        command: new DisableHighlightingOfNonBasicAsciiCharactersAction(),\n                    };\n                }\n                else if (state.ambiguousCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters', 'This document contains many ambiguous unicode characters'),\n                        command: new DisableHighlightingOfAmbiguousCharactersAction(),\n                    };\n                }\n                else if (state.invisibleCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters', 'This document contains many invisible unicode characters'),\n                        command: new DisableHighlightingOfInvisibleCharactersAction(),\n                    };\n                }\n                else {\n                    throw new Error('Unreachable');\n                }\n                this._bannerController.show({\n                    id: 'unicodeHighlightBanner',\n                    message: data.message,\n                    icon: warningIcon,\n                    actions: [\n                        {\n                            label: data.command.shortLabel,\n                            href: `command:${data.command.id}`\n                        }\n                    ],\n                    onClose: () => {\n                        this._bannerClosed = true;\n                    },\n                });\n            }\n            else {\n                this._bannerController.hide();\n            }\n        };\n        this._bannerController = this._register(instantiationService.createInstance(BannerController, _editor));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._bannerClosed = false;\n            this._updateHighlighter();\n        }));\n        this._options = _editor.getOption(124 /* EditorOption.unicodeHighlighting */);\n        this._register(_workspaceTrustService.onDidChangeTrust(e => {\n            this._updateHighlighter();\n        }));\n        this._register(_editor.onDidChangeConfiguration(e => {\n            if (e.hasChanged(124 /* EditorOption.unicodeHighlighting */)) {\n                this._options = _editor.getOption(124 /* EditorOption.unicodeHighlighting */);\n                this._updateHighlighter();\n            }\n        }));\n        this._updateHighlighter();\n    }\n    dispose() {\n        if (this._highlighter) {\n            this._highlighter.dispose();\n            this._highlighter = null;\n        }\n        super.dispose();\n    }\n    _updateHighlighter() {\n        this._updateState(null);\n        if (this._highlighter) {\n            this._highlighter.dispose();\n            this._highlighter = null;\n        }\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const options = resolveOptions(this._workspaceTrustService.isWorkspaceTrusted(), this._options);\n        if ([\n            options.nonBasicASCII,\n            options.ambiguousCharacters,\n            options.invisibleCharacters,\n        ].every((option) => option === false)) {\n            // Don't do anything if the feature is fully disabled\n            return;\n        }\n        const highlightOptions = {\n            nonBasicASCII: options.nonBasicASCII,\n            ambiguousCharacters: options.ambiguousCharacters,\n            invisibleCharacters: options.invisibleCharacters,\n            includeComments: options.includeComments,\n            includeStrings: options.includeStrings,\n            allowedCodePoints: Object.keys(options.allowedCharacters).map(c => c.codePointAt(0)),\n            allowedLocales: Object.keys(options.allowedLocales).map(locale => {\n                if (locale === '_os') {\n                    const osLocale = new Intl.NumberFormat().resolvedOptions().locale;\n                    return osLocale;\n                }\n                else if (locale === '_vscode') {\n                    return platform.language;\n                }\n                return locale;\n            }),\n        };\n        if (this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)) {\n            this._highlighter = new DocumentUnicodeHighlighter(this._editor, highlightOptions, this._updateState, this._editorWorkerService);\n        }\n        else {\n            this._highlighter = new ViewportUnicodeHighlighter(this._editor, highlightOptions, this._updateState);\n        }\n    }\n    getDecorationInfo(decoration) {\n        if (this._highlighter) {\n            return this._highlighter.getDecorationInfo(decoration);\n        }\n        return null;\n    }\n};\nUnicodeHighlighter.ID = 'editor.contrib.unicodeHighlighter';\nUnicodeHighlighter = __decorate([\n    __param(1, IEditorWorkerService),\n    __param(2, IWorkspaceTrustManagementService),\n    __param(3, IInstantiationService)\n], UnicodeHighlighter);\nexport { UnicodeHighlighter };\nfunction resolveOptions(trusted, options) {\n    return {\n        nonBasicASCII: options.nonBasicASCII === inUntrustedWorkspace ? !trusted : options.nonBasicASCII,\n        ambiguousCharacters: options.ambiguousCharacters,\n        invisibleCharacters: options.invisibleCharacters,\n        includeComments: options.includeComments === inUntrustedWorkspace ? !trusted : options.includeComments,\n        includeStrings: options.includeStrings === inUntrustedWorkspace ? !trusted : options.includeStrings,\n        allowedCharacters: options.allowedCharacters,\n        allowedLocales: options.allowedLocales,\n    };\n}\nlet DocumentUnicodeHighlighter = class DocumentUnicodeHighlighter extends Disposable {\n    constructor(_editor, _options, _updateState, _editorWorkerService) {\n        super();\n        this._editor = _editor;\n        this._options = _options;\n        this._updateState = _updateState;\n        this._editorWorkerService = _editorWorkerService;\n        this._model = this._editor.getModel();\n        this._decorations = this._editor.createDecorationsCollection();\n        this._updateSoon = this._register(new RunOnceScheduler(() => this._update(), 250));\n        this._register(this._editor.onDidChangeModelContent(() => {\n            this._updateSoon.schedule();\n        }));\n        this._updateSoon.schedule();\n    }\n    dispose() {\n        this._decorations.clear();\n        super.dispose();\n    }\n    _update() {\n        if (this._model.isDisposed()) {\n            return;\n        }\n        if (!this._model.mightContainNonBasicASCII()) {\n            this._decorations.clear();\n            return;\n        }\n        const modelVersionId = this._model.getVersionId();\n        this._editorWorkerService\n            .computedUnicodeHighlights(this._model.uri, this._options)\n            .then((info) => {\n            if (this._model.isDisposed()) {\n                return;\n            }\n            if (this._model.getVersionId() !== modelVersionId) {\n                // model changed in the meantime\n                return;\n            }\n            this._updateState(info);\n            const decorations = [];\n            if (!info.hasMore) {\n                // Don't show decoration if there are too many.\n                // In this case, a banner is shown.\n                for (const range of info.ranges) {\n                    decorations.push({\n                        range: range,\n                        options: Decorations.instance.getDecorationFromOptions(this._options),\n                    });\n                }\n            }\n            this._decorations.set(decorations);\n        });\n    }\n    getDecorationInfo(decoration) {\n        if (!this._decorations.has(decoration)) {\n            return null;\n        }\n        const model = this._editor.getModel();\n        if (!isModelDecorationVisible(model, decoration)) {\n            return null;\n        }\n        const text = model.getValueInRange(decoration.range);\n        return {\n            reason: computeReason(text, this._options),\n            inComment: isModelDecorationInComment(model, decoration),\n            inString: isModelDecorationInString(model, decoration),\n        };\n    }\n};\nDocumentUnicodeHighlighter = __decorate([\n    __param(3, IEditorWorkerService)\n], DocumentUnicodeHighlighter);\nclass ViewportUnicodeHighlighter extends Disposable {\n    constructor(_editor, _options, _updateState) {\n        super();\n        this._editor = _editor;\n        this._options = _options;\n        this._updateState = _updateState;\n        this._model = this._editor.getModel();\n        this._decorations = this._editor.createDecorationsCollection();\n        this._updateSoon = this._register(new RunOnceScheduler(() => this._update(), 250));\n        this._register(this._editor.onDidLayoutChange(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidScrollChange(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidChangeHiddenAreas(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidChangeModelContent(() => {\n            this._updateSoon.schedule();\n        }));\n        this._updateSoon.schedule();\n    }\n    dispose() {\n        this._decorations.clear();\n        super.dispose();\n    }\n    _update() {\n        if (this._model.isDisposed()) {\n            return;\n        }\n        if (!this._model.mightContainNonBasicASCII()) {\n            this._decorations.clear();\n            return;\n        }\n        const ranges = this._editor.getVisibleRanges();\n        const decorations = [];\n        const totalResult = {\n            ranges: [],\n            ambiguousCharacterCount: 0,\n            invisibleCharacterCount: 0,\n            nonBasicAsciiCharacterCount: 0,\n            hasMore: false,\n        };\n        for (const range of ranges) {\n            const result = UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model, this._options, range);\n            for (const r of result.ranges) {\n                totalResult.ranges.push(r);\n            }\n            totalResult.ambiguousCharacterCount += totalResult.ambiguousCharacterCount;\n            totalResult.invisibleCharacterCount += totalResult.invisibleCharacterCount;\n            totalResult.nonBasicAsciiCharacterCount += totalResult.nonBasicAsciiCharacterCount;\n            totalResult.hasMore = totalResult.hasMore || result.hasMore;\n        }\n        if (!totalResult.hasMore) {\n            // Don't show decorations if there are too many.\n            // A banner will be shown instead.\n            for (const range of totalResult.ranges) {\n                decorations.push({ range, options: Decorations.instance.getDecorationFromOptions(this._options) });\n            }\n        }\n        this._updateState(totalResult);\n        this._decorations.set(decorations);\n    }\n    getDecorationInfo(decoration) {\n        if (!this._decorations.has(decoration)) {\n            return null;\n        }\n        const model = this._editor.getModel();\n        const text = model.getValueInRange(decoration.range);\n        if (!isModelDecorationVisible(model, decoration)) {\n            return null;\n        }\n        return {\n            reason: computeReason(text, this._options),\n            inComment: isModelDecorationInComment(model, decoration),\n            inString: isModelDecorationInString(model, decoration),\n        };\n    }\n}\nlet UnicodeHighlighterHoverParticipant = class UnicodeHighlighterHoverParticipant {\n    constructor(_editor, _languageService, _openerService) {\n        this._editor = _editor;\n        this._languageService = _languageService;\n        this._openerService = _openerService;\n        this.hoverOrdinal = 5;\n    }\n    computeSync(anchor, lineDecorations) {\n        if (!this._editor.hasModel() || anchor.type !== 1 /* HoverAnchorType.Range */) {\n            return [];\n        }\n        const model = this._editor.getModel();\n        const unicodeHighlighter = this._editor.getContribution(UnicodeHighlighter.ID);\n        if (!unicodeHighlighter) {\n            return [];\n        }\n        const result = [];\n        const existedReason = new Set();\n        let index = 300;\n        for (const d of lineDecorations) {\n            const highlightInfo = unicodeHighlighter.getDecorationInfo(d);\n            if (!highlightInfo) {\n                continue;\n            }\n            const char = model.getValueInRange(d.range);\n            // text refers to a single character.\n            const codePoint = char.codePointAt(0);\n            const codePointStr = formatCodePointMarkdown(codePoint);\n            let reason;\n            switch (highlightInfo.reason.kind) {\n                case 0 /* UnicodeHighlighterReasonKind.Ambiguous */: {\n                    if (isBasicASCII(highlightInfo.reason.confusableWith)) {\n                        reason = nls.localize('unicodeHighlight.characterIsAmbiguousASCII', 'The character {0} could be confused with the ASCII character {1}, which is more common in source code.', codePointStr, formatCodePointMarkdown(highlightInfo.reason.confusableWith.codePointAt(0)));\n                    }\n                    else {\n                        reason = nls.localize('unicodeHighlight.characterIsAmbiguous', 'The character {0} could be confused with the character {1}, which is more common in source code.', codePointStr, formatCodePointMarkdown(highlightInfo.reason.confusableWith.codePointAt(0)));\n                    }\n                    break;\n                }\n                case 1 /* UnicodeHighlighterReasonKind.Invisible */:\n                    reason = nls.localize('unicodeHighlight.characterIsInvisible', 'The character {0} is invisible.', codePointStr);\n                    break;\n                case 2 /* UnicodeHighlighterReasonKind.NonBasicAscii */:\n                    reason = nls.localize('unicodeHighlight.characterIsNonBasicAscii', 'The character {0} is not a basic ASCII character.', codePointStr);\n                    break;\n            }\n            if (existedReason.has(reason)) {\n                continue;\n            }\n            existedReason.add(reason);\n            const adjustSettingsArgs = {\n                codePoint: codePoint,\n                reason: highlightInfo.reason,\n                inComment: highlightInfo.inComment,\n                inString: highlightInfo.inString,\n            };\n            const adjustSettings = nls.localize('unicodeHighlight.adjustSettings', 'Adjust settings');\n            const uri = `command:${ShowExcludeOptions.ID}?${encodeURIComponent(JSON.stringify(adjustSettingsArgs))}`;\n            const markdown = new MarkdownString('', true)\n                .appendMarkdown(reason)\n                .appendText(' ')\n                .appendLink(uri, adjustSettings);\n            result.push(new MarkdownHover(this, d.range, [markdown], false, index++));\n        }\n        return result;\n    }\n    renderHoverParts(context, hoverParts) {\n        return renderMarkdownHovers(context, hoverParts, this._editor, this._languageService, this._openerService);\n    }\n};\nUnicodeHighlighterHoverParticipant = __decorate([\n    __param(1, ILanguageService),\n    __param(2, IOpenerService)\n], UnicodeHighlighterHoverParticipant);\nexport { UnicodeHighlighterHoverParticipant };\nfunction codePointToHex(codePoint) {\n    return `U+${codePoint.toString(16).padStart(4, '0')}`;\n}\nfunction formatCodePointMarkdown(codePoint) {\n    let value = `\\`${codePointToHex(codePoint)}\\``;\n    if (!InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n        // Don't render any control characters or any invisible characters, as they cannot be seen anyways.\n        value += ` \"${`${renderCodePointAsInlineCode(codePoint)}`}\"`;\n    }\n    return value;\n}\nfunction renderCodePointAsInlineCode(codePoint) {\n    if (codePoint === 96 /* CharCode.BackTick */) {\n        return '`` ` ``';\n    }\n    return '`' + String.fromCodePoint(codePoint) + '`';\n}\nfunction computeReason(char, options) {\n    return UnicodeTextModelHighlighter.computeUnicodeHighlightReason(char, options);\n}\nclass Decorations {\n    constructor() {\n        this.map = new Map();\n    }\n    getDecorationFromOptions(options) {\n        return this.getDecoration(!options.includeComments, !options.includeStrings);\n    }\n    getDecoration(hideInComments, hideInStrings) {\n        const key = `${hideInComments}${hideInStrings}`;\n        let options = this.map.get(key);\n        if (!options) {\n            options = ModelDecorationOptions.createDynamic({\n                description: 'unicode-highlight',\n                stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n                className: 'unicode-highlight',\n                showIfCollapsed: true,\n                overviewRuler: null,\n                minimap: null,\n                hideInCommentTokens: hideInComments,\n                hideInStringTokens: hideInStrings,\n            });\n            this.map.set(key, options);\n        }\n        return options;\n    }\n}\nDecorations.instance = new Decorations();\nexport class DisableHighlightingInCommentsAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingInComments', 'Disable highlighting of characters in comments'),\n            alias: 'Disable highlighting of characters in comments',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingInComments.shortLabel', 'Disable Highlight In Comments');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.includeComments, false, 2 /* ConfigurationTarget.USER */);\n        });\n    }\n}\nexport class DisableHighlightingInStringsAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingInStrings', 'Disable highlighting of characters in strings'),\n            alias: 'Disable highlighting of characters in strings',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingInStrings.shortLabel', 'Disable Highlight In Strings');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.includeStrings, false, 2 /* ConfigurationTarget.USER */);\n        });\n    }\n}\nexport class DisableHighlightingOfAmbiguousCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters', 'Disable highlighting of ambiguous characters'),\n            alias: 'Disable highlighting of ambiguous characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel', 'Disable Ambiguous Highlight');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.ambiguousCharacters, false, 2 /* ConfigurationTarget.USER */);\n        });\n    }\n}\nDisableHighlightingOfAmbiguousCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters';\nexport class DisableHighlightingOfInvisibleCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfInvisibleCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfInvisibleCharacters', 'Disable highlighting of invisible characters'),\n            alias: 'Disable highlighting of invisible characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel', 'Disable Invisible Highlight');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.invisibleCharacters, false, 2 /* ConfigurationTarget.USER */);\n        });\n    }\n}\nDisableHighlightingOfInvisibleCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters';\nexport class DisableHighlightingOfNonBasicAsciiCharactersAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfNonBasicAsciiCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters', 'Disable highlighting of non basic ASCII characters'),\n            alias: 'Disable highlighting of non basic ASCII characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel', 'Disable Non ASCII Highlight');\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const configurationService = accessor === null || accessor === void 0 ? void 0 : accessor.get(IConfigurationService);\n            if (configurationService) {\n                this.runAction(configurationService);\n            }\n        });\n    }\n    runAction(configurationService) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield configurationService.updateValue(unicodeHighlightConfigKeys.nonBasicASCII, false, 2 /* ConfigurationTarget.USER */);\n        });\n    }\n}\nDisableHighlightingOfNonBasicAsciiCharactersAction.ID = 'editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters';\nexport class ShowExcludeOptions extends EditorAction {\n    constructor() {\n        super({\n            id: ShowExcludeOptions.ID,\n            label: nls.localize('action.unicodeHighlight.showExcludeOptions', \"Show Exclude Options\"),\n            alias: 'Show Exclude Options',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { codePoint, reason, inString, inComment } = args;\n            const char = String.fromCodePoint(codePoint);\n            const quickPickService = accessor.get(IQuickInputService);\n            const configurationService = accessor.get(IConfigurationService);\n            function getExcludeCharFromBeingHighlightedLabel(codePoint) {\n                if (InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n                    return nls.localize('unicodeHighlight.excludeInvisibleCharFromBeingHighlighted', 'Exclude {0} (invisible character) from being highlighted', codePointToHex(codePoint));\n                }\n                return nls.localize('unicodeHighlight.excludeCharFromBeingHighlighted', 'Exclude {0} from being highlighted', `${codePointToHex(codePoint)} \"${char}\"`);\n            }\n            const options = [];\n            if (reason.kind === 0 /* UnicodeHighlighterReasonKind.Ambiguous */) {\n                for (const locale of reason.notAmbiguousInLocales) {\n                    options.push({\n                        label: nls.localize(\"unicodeHighlight.allowCommonCharactersInLanguage\", \"Allow unicode characters that are more common in the language \\\"{0}\\\".\", locale),\n                        run: () => __awaiter(this, void 0, void 0, function* () {\n                            excludeLocaleFromBeingHighlighted(configurationService, [locale]);\n                        }),\n                    });\n                }\n            }\n            options.push({\n                label: getExcludeCharFromBeingHighlightedLabel(codePoint),\n                run: () => excludeCharFromBeingHighlighted(configurationService, [codePoint])\n            });\n            if (inComment) {\n                const action = new DisableHighlightingInCommentsAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else if (inString) {\n                const action = new DisableHighlightingInStringsAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            if (reason.kind === 0 /* UnicodeHighlighterReasonKind.Ambiguous */) {\n                const action = new DisableHighlightingOfAmbiguousCharactersAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else if (reason.kind === 1 /* UnicodeHighlighterReasonKind.Invisible */) {\n                const action = new DisableHighlightingOfInvisibleCharactersAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else if (reason.kind === 2 /* UnicodeHighlighterReasonKind.NonBasicAscii */) {\n                const action = new DisableHighlightingOfNonBasicAsciiCharactersAction();\n                options.push({ label: action.label, run: () => __awaiter(this, void 0, void 0, function* () { return action.runAction(configurationService); }) });\n            }\n            else {\n                expectNever(reason);\n            }\n            const result = yield quickPickService.pick(options, { title: nls.localize('unicodeHighlight.configureUnicodeHighlightOptions', 'Configure Unicode Highlight Options') });\n            if (result) {\n                yield result.run();\n            }\n        });\n    }\n}\nShowExcludeOptions.ID = 'editor.action.unicodeHighlight.showExcludeOptions';\nfunction excludeCharFromBeingHighlighted(configurationService, charCodes) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const existingValue = configurationService.getValue(unicodeHighlightConfigKeys.allowedCharacters);\n        let value;\n        if ((typeof existingValue === 'object') && existingValue) {\n            value = existingValue;\n        }\n        else {\n            value = {};\n        }\n        for (const charCode of charCodes) {\n            value[String.fromCodePoint(charCode)] = true;\n        }\n        yield configurationService.updateValue(unicodeHighlightConfigKeys.allowedCharacters, value, 2 /* ConfigurationTarget.USER */);\n    });\n}\nfunction excludeLocaleFromBeingHighlighted(configurationService, locales) {\n    var _a;\n    return __awaiter(this, void 0, void 0, function* () {\n        const existingValue = (_a = configurationService.inspect(unicodeHighlightConfigKeys.allowedLocales).user) === null || _a === void 0 ? void 0 : _a.value;\n        let value;\n        if ((typeof existingValue === 'object') && existingValue) {\n            // Copy value, as the existing value is read only\n            value = Object.assign({}, existingValue);\n        }\n        else {\n            value = {};\n        }\n        for (const locale of locales) {\n            value[locale] = true;\n        }\n        yield configurationService.updateValue(unicodeHighlightConfigKeys.allowedLocales, value, 2 /* ConfigurationTarget.USER */);\n    });\n}\nfunction expectNever(value) {\n    throw new Error(`Unexpected value: ${value}`);\n}\nregisterEditorAction(DisableHighlightingOfAmbiguousCharactersAction);\nregisterEditorAction(DisableHighlightingOfInvisibleCharactersAction);\nregisterEditorAction(DisableHighlightingOfNonBasicAsciiCharactersAction);\nregisterEditorAction(ShowExcludeOptions);\nregisterEditorContribution(UnicodeHighlighter.ID, UnicodeHighlighter, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nHoverParticipantRegistry.register(UnicodeHighlighterHoverParticipant);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport * as nls from '../../../../nls.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nconst ignoreUnusualLineTerminators = 'ignoreUnusualLineTerminators';\nfunction writeIgnoreState(codeEditorService, model, state) {\n    codeEditorService.setModelProperty(model.uri, ignoreUnusualLineTerminators, state);\n}\nfunction readIgnoreState(codeEditorService, model) {\n    return codeEditorService.getModelProperty(model.uri, ignoreUnusualLineTerminators);\n}\nlet UnusualLineTerminatorsDetector = class UnusualLineTerminatorsDetector extends Disposable {\n    constructor(_editor, _dialogService, _codeEditorService) {\n        super();\n        this._editor = _editor;\n        this._dialogService = _dialogService;\n        this._codeEditorService = _codeEditorService;\n        this._isPresentingDialog = false;\n        this._config = this._editor.getOption(125 /* EditorOption.unusualLineTerminators */);\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(125 /* EditorOption.unusualLineTerminators */)) {\n                this._config = this._editor.getOption(125 /* EditorOption.unusualLineTerminators */);\n                this._checkForUnusualLineTerminators();\n            }\n        }));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._checkForUnusualLineTerminators();\n        }));\n        this._register(this._editor.onDidChangeModelContent((e) => {\n            if (e.isUndoing) {\n                // skip checking in case of undoing\n                return;\n            }\n            this._checkForUnusualLineTerminators();\n        }));\n        this._checkForUnusualLineTerminators();\n    }\n    _checkForUnusualLineTerminators() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._config === 'off') {\n                return;\n            }\n            if (!this._editor.hasModel()) {\n                return;\n            }\n            const model = this._editor.getModel();\n            if (!model.mightContainUnusualLineTerminators()) {\n                return;\n            }\n            const ignoreState = readIgnoreState(this._codeEditorService, model);\n            if (ignoreState === true) {\n                // this model should be ignored\n                return;\n            }\n            if (this._editor.getOption(90 /* EditorOption.readOnly */)) {\n                // read only editor => sorry!\n                return;\n            }\n            if (this._config === 'auto') {\n                // just do it!\n                model.removeUnusualLineTerminators(this._editor.getSelections());\n                return;\n            }\n            if (this._isPresentingDialog) {\n                // we're currently showing the dialog, which is async.\n                // avoid spamming the user\n                return;\n            }\n            let result;\n            try {\n                this._isPresentingDialog = true;\n                result = yield this._dialogService.confirm({\n                    title: nls.localize('unusualLineTerminators.title', \"Unusual Line Terminators\"),\n                    message: nls.localize('unusualLineTerminators.message', \"Detected unusual line terminators\"),\n                    detail: nls.localize('unusualLineTerminators.detail', \"The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\\n\\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.\", basename(model.uri)),\n                    primaryButton: nls.localize({ key: 'unusualLineTerminators.fix', comment: ['&& denotes a mnemonic'] }, \"&&Remove Unusual Line Terminators\"),\n                    cancelButton: nls.localize('unusualLineTerminators.ignore', \"Ignore\")\n                });\n            }\n            finally {\n                this._isPresentingDialog = false;\n            }\n            if (!result.confirmed) {\n                // this model should be ignored\n                writeIgnoreState(this._codeEditorService, model, true);\n                return;\n            }\n            model.removeUnusualLineTerminators(this._editor.getSelections());\n        });\n    }\n};\nUnusualLineTerminatorsDetector.ID = 'editor.contrib.unusualLineTerminatorsDetector';\nUnusualLineTerminatorsDetector = __decorate([\n    __param(1, IDialogService),\n    __param(2, ICodeEditorService)\n], UnusualLineTerminatorsDetector);\nexport { UnusualLineTerminatorsDetector };\nregisterEditorContribution(UnusualLineTerminatorsDetector.ID, UnusualLineTerminatorsDetector, 1 /* EditorContributionInstantiation.AfterFirstRender */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './highlightDecorations.css';\nimport { MinimapPosition, OverviewRulerLane } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { DocumentHighlightKind } from '../../../common/languages.js';\nimport * as nls from '../../../../nls.js';\nimport { activeContrastBorder, editorSelectionHighlight, minimapSelectionOccurrenceHighlight, overviewRulerSelectionHighlightForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant, themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nconst wordHighlightBackground = registerColor('editor.wordHighlightBackground', { dark: '#575757B8', light: '#57575740', hcDark: null, hcLight: null }, nls.localize('wordHighlight', 'Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\nregisterColor('editor.wordHighlightStrongBackground', { dark: '#004972B8', light: '#0e639c40', hcDark: null, hcLight: null }, nls.localize('wordHighlightStrong', 'Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\nregisterColor('editor.wordHighlightTextBackground', { light: wordHighlightBackground, dark: wordHighlightBackground, hcDark: wordHighlightBackground, hcLight: wordHighlightBackground }, nls.localize('wordHighlightText', 'Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst wordHighlightBorder = registerColor('editor.wordHighlightBorder', { light: null, dark: null, hcDark: activeContrastBorder, hcLight: activeContrastBorder }, nls.localize('wordHighlightBorder', 'Border color of a symbol during read-access, like reading a variable.'));\nregisterColor('editor.wordHighlightStrongBorder', { light: null, dark: null, hcDark: activeContrastBorder, hcLight: activeContrastBorder }, nls.localize('wordHighlightStrongBorder', 'Border color of a symbol during write-access, like writing to a variable.'));\nregisterColor('editor.wordHighlightTextBorder', { light: wordHighlightBorder, dark: wordHighlightBorder, hcDark: wordHighlightBorder, hcLight: wordHighlightBorder }, nls.localize('wordHighlightTextBorder', \"Border color of a textual occurrence for a symbol.\"));\nconst overviewRulerWordHighlightForeground = registerColor('editorOverviewRuler.wordHighlightForeground', { dark: '#A0A0A0CC', light: '#A0A0A0CC', hcDark: '#A0A0A0CC', hcLight: '#A0A0A0CC' }, nls.localize('overviewRulerWordHighlightForeground', 'Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst overviewRulerWordHighlightStrongForeground = registerColor('editorOverviewRuler.wordHighlightStrongForeground', { dark: '#C0A0C0CC', light: '#C0A0C0CC', hcDark: '#C0A0C0CC', hcLight: '#C0A0C0CC' }, nls.localize('overviewRulerWordHighlightStrongForeground', 'Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst overviewRulerWordHighlightTextForeground = registerColor('editorOverviewRuler.wordHighlightTextForeground', { dark: overviewRulerSelectionHighlightForeground, light: overviewRulerSelectionHighlightForeground, hcDark: overviewRulerSelectionHighlightForeground, hcLight: overviewRulerSelectionHighlightForeground }, nls.localize('overviewRulerWordHighlightTextForeground', 'Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst _WRITE_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight-strong',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlightStrong',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightStrongForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nconst _TEXT_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight-text',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlightText',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightTextForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nconst _SELECTION_HIGHLIGHT_OPTIONS = ModelDecorationOptions.register({\n    description: 'selection-highlight-overview',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'selectionHighlight',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerSelectionHighlightForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nconst _SELECTION_HIGHLIGHT_OPTIONS_NO_OVERVIEW = ModelDecorationOptions.register({\n    description: 'selection-highlight',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'selectionHighlight',\n});\nconst _REGULAR_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlight',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: MinimapPosition.Inline\n    },\n});\nexport function getHighlightDecorationOptions(kind) {\n    if (kind === DocumentHighlightKind.Write) {\n        return _WRITE_OPTIONS;\n    }\n    else if (kind === DocumentHighlightKind.Text) {\n        return _TEXT_OPTIONS;\n    }\n    else {\n        return _REGULAR_OPTIONS;\n    }\n}\nexport function getSelectionHighlightDecorationOptions(hasSemanticHighlights) {\n    // Show in overviewRuler only if model has no semantic highlighting\n    return (hasSemanticHighlights ? _SELECTION_HIGHLIGHT_OPTIONS_NO_OVERVIEW : _SELECTION_HIGHLIGHT_OPTIONS);\n}\nregisterThemingParticipant((theme, collector) => {\n    const selectionHighlight = theme.getColor(editorSelectionHighlight);\n    if (selectionHighlight) {\n        collector.addRule(`.monaco-editor .selectionHighlight { background-color: ${selectionHighlight.transparent(0.5)}; }`);\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar WordHighlighterContribution_1;\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { createCancelablePromise, first, timeout } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution, registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { DocumentHighlightKind } from '../../../common/languages.js';\nimport * as nls from '../../../../nls.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { getHighlightDecorationOptions } from './highlightDecorations.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nconst ctxHasWordHighlights = new RawContextKey('hasWordHighlights', false);\nexport function getOccurrencesAtPosition(registry, model, position, token) {\n    const orderedByScore = registry.ordered(model);\n    // in order of score ask the occurrences provider\n    // until someone response with a good result\n    // (good = none empty array)\n    return first(orderedByScore.map(provider => () => {\n        return Promise.resolve(provider.provideDocumentHighlights(model, position, token))\n            .then(undefined, onUnexpectedExternalError);\n    }), arrays.isNonEmptyArray);\n}\nclass OccurenceAtPositionRequest {\n    constructor(_model, _selection, _wordSeparators) {\n        this._model = _model;\n        this._selection = _selection;\n        this._wordSeparators = _wordSeparators;\n        this._wordRange = this._getCurrentWordRange(_model, _selection);\n        this._result = null;\n    }\n    get result() {\n        if (!this._result) {\n            this._result = createCancelablePromise(token => this._compute(this._model, this._selection, this._wordSeparators, token));\n        }\n        return this._result;\n    }\n    _getCurrentWordRange(model, selection) {\n        const word = model.getWordAtPosition(selection.getPosition());\n        if (word) {\n            return new Range(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\n        }\n        return null;\n    }\n    isValid(model, selection, decorations) {\n        const lineNumber = selection.startLineNumber;\n        const startColumn = selection.startColumn;\n        const endColumn = selection.endColumn;\n        const currentWordRange = this._getCurrentWordRange(model, selection);\n        let requestIsValid = Boolean(this._wordRange && this._wordRange.equalsRange(currentWordRange));\n        // Even if we are on a different word, if that word is in the decorations ranges, the request is still valid\n        // (Same symbol)\n        for (let i = 0, len = decorations.length; !requestIsValid && i < len; i++) {\n            const range = decorations.getRange(i);\n            if (range && range.startLineNumber === lineNumber) {\n                if (range.startColumn <= startColumn && range.endColumn >= endColumn) {\n                    requestIsValid = true;\n                }\n            }\n        }\n        return requestIsValid;\n    }\n    cancel() {\n        this.result.cancel();\n    }\n}\nclass SemanticOccurenceAtPositionRequest extends OccurenceAtPositionRequest {\n    constructor(model, selection, wordSeparators, providers) {\n        super(model, selection, wordSeparators);\n        this._providers = providers;\n    }\n    _compute(model, selection, wordSeparators, token) {\n        return getOccurrencesAtPosition(this._providers, model, selection.getPosition(), token).then(value => value || []);\n    }\n}\nclass TextualOccurenceAtPositionRequest extends OccurenceAtPositionRequest {\n    constructor(model, selection, wordSeparators) {\n        super(model, selection, wordSeparators);\n        this._selectionIsEmpty = selection.isEmpty();\n    }\n    _compute(model, selection, wordSeparators, token) {\n        return timeout(250, token).then(() => {\n            if (!selection.isEmpty()) {\n                return [];\n            }\n            const word = model.getWordAtPosition(selection.getPosition());\n            if (!word || word.word.length > 1000) {\n                return [];\n            }\n            const matches = model.findMatches(word.word, true, false, true, wordSeparators, false);\n            return matches.map(m => {\n                return {\n                    range: m.range,\n                    kind: DocumentHighlightKind.Text\n                };\n            });\n        });\n    }\n    isValid(model, selection, decorations) {\n        const currentSelectionIsEmpty = selection.isEmpty();\n        if (this._selectionIsEmpty !== currentSelectionIsEmpty) {\n            return false;\n        }\n        return super.isValid(model, selection, decorations);\n    }\n}\nfunction computeOccurencesAtPosition(registry, model, selection, wordSeparators) {\n    if (registry.has(model)) {\n        return new SemanticOccurenceAtPositionRequest(model, selection, wordSeparators, registry);\n    }\n    return new TextualOccurenceAtPositionRequest(model, selection, wordSeparators);\n}\nregisterModelAndPositionCommand('_executeDocumentHighlights', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    return getOccurrencesAtPosition(languageFeaturesService.documentHighlightProvider, model, position, CancellationToken.None);\n});\nclass WordHighlighter {\n    constructor(editor, providers, linkedHighlighters, contextKeyService) {\n        this.toUnhook = new DisposableStore();\n        this.workerRequestTokenId = 0;\n        this.workerRequestCompleted = false;\n        this.workerRequestValue = [];\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n        this.editor = editor;\n        this.providers = providers;\n        this.linkedHighlighters = linkedHighlighters;\n        this._hasWordHighlights = ctxHasWordHighlights.bindTo(contextKeyService);\n        this._ignorePositionChangeEvent = false;\n        this.occurrencesHighlight = this.editor.getOption(80 /* EditorOption.occurrencesHighlight */);\n        this.model = this.editor.getModel();\n        this.toUnhook.add(editor.onDidChangeCursorPosition((e) => {\n            if (this._ignorePositionChangeEvent) {\n                // We are changing the position => ignore this event\n                return;\n            }\n            if (!this.occurrencesHighlight) {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            this._onPositionChanged(e);\n        }));\n        this.toUnhook.add(editor.onDidChangeModelContent((e) => {\n            this._stopAll();\n        }));\n        this.toUnhook.add(editor.onDidChangeConfiguration((e) => {\n            const newValue = this.editor.getOption(80 /* EditorOption.occurrencesHighlight */);\n            if (this.occurrencesHighlight !== newValue) {\n                this.occurrencesHighlight = newValue;\n                this._stopAll();\n            }\n        }));\n        this.decorations = this.editor.createDecorationsCollection();\n        this.workerRequestTokenId = 0;\n        this.workerRequest = null;\n        this.workerRequestCompleted = false;\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n    }\n    hasDecorations() {\n        return (this.decorations.length > 0);\n    }\n    restore() {\n        if (!this.occurrencesHighlight) {\n            return;\n        }\n        this._run();\n    }\n    _getSortedHighlights() {\n        return (this.decorations.getRanges()\n            .sort(Range.compareRangesUsingStarts));\n    }\n    moveNext() {\n        const highlights = this._getSortedHighlights();\n        const index = highlights.findIndex((range) => range.containsPosition(this.editor.getPosition()));\n        const newIndex = ((index + 1) % highlights.length);\n        const dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n            const word = this._getWord();\n            if (word) {\n                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);\n                alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);\n            }\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    }\n    moveBack() {\n        const highlights = this._getSortedHighlights();\n        const index = highlights.findIndex((range) => range.containsPosition(this.editor.getPosition()));\n        const newIndex = ((index - 1 + highlights.length) % highlights.length);\n        const dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n            const word = this._getWord();\n            if (word) {\n                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);\n                alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);\n            }\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    }\n    _removeDecorations() {\n        if (this.decorations.length > 0) {\n            // remove decorations\n            this.decorations.clear();\n            this._hasWordHighlights.set(false);\n        }\n    }\n    _stopAll() {\n        // Remove any existing decorations\n        this._removeDecorations();\n        // Cancel any renderDecorationsTimer\n        if (this.renderDecorationsTimer !== -1) {\n            clearTimeout(this.renderDecorationsTimer);\n            this.renderDecorationsTimer = -1;\n        }\n        // Cancel any worker request\n        if (this.workerRequest !== null) {\n            this.workerRequest.cancel();\n            this.workerRequest = null;\n        }\n        // Invalidate any worker request callback\n        if (!this.workerRequestCompleted) {\n            this.workerRequestTokenId++;\n            this.workerRequestCompleted = true;\n        }\n    }\n    _onPositionChanged(e) {\n        // disabled\n        if (!this.occurrencesHighlight) {\n            this._stopAll();\n            return;\n        }\n        // ignore typing & other\n        if (e.reason !== 3 /* CursorChangeReason.Explicit */) {\n            this._stopAll();\n            return;\n        }\n        this._run();\n    }\n    _getWord() {\n        const editorSelection = this.editor.getSelection();\n        const lineNumber = editorSelection.startLineNumber;\n        const startColumn = editorSelection.startColumn;\n        return this.model.getWordAtPosition({\n            lineNumber: lineNumber,\n            column: startColumn\n        });\n    }\n    _run() {\n        const editorSelection = this.editor.getSelection();\n        // ignore multiline selection\n        if (editorSelection.startLineNumber !== editorSelection.endLineNumber) {\n            this._stopAll();\n            return;\n        }\n        const startColumn = editorSelection.startColumn;\n        const endColumn = editorSelection.endColumn;\n        const word = this._getWord();\n        // The selection must be inside a word or surround one word at most\n        if (!word || word.startColumn > startColumn || word.endColumn < endColumn) {\n            this._stopAll();\n            return;\n        }\n        // All the effort below is trying to achieve this:\n        // - when cursor is moved to a word, trigger immediately a findOccurrences request\n        // - 250ms later after the last cursor move event, render the occurrences\n        // - no flickering!\n        const workerRequestIsValid = (this.workerRequest && this.workerRequest.isValid(this.model, editorSelection, this.decorations));\n        // There are 4 cases:\n        // a) old workerRequest is valid & completed, renderDecorationsTimer fired\n        // b) old workerRequest is valid & completed, renderDecorationsTimer not fired\n        // c) old workerRequest is valid, but not completed\n        // d) old workerRequest is not valid\n        // For a) no action is needed\n        // For c), member 'lastCursorPositionChangeTime' will be used when installing the timer so no action is needed\n        this.lastCursorPositionChangeTime = (new Date()).getTime();\n        if (workerRequestIsValid) {\n            if (this.workerRequestCompleted && this.renderDecorationsTimer !== -1) {\n                // case b)\n                // Delay the firing of renderDecorationsTimer by an extra 250 ms\n                clearTimeout(this.renderDecorationsTimer);\n                this.renderDecorationsTimer = -1;\n                this._beginRenderDecorations();\n            }\n        }\n        else {\n            // case d)\n            // Stop all previous actions and start fresh\n            this._stopAll();\n            const myRequestId = ++this.workerRequestTokenId;\n            this.workerRequestCompleted = false;\n            this.workerRequest = computeOccurencesAtPosition(this.providers, this.model, this.editor.getSelection(), this.editor.getOption(129 /* EditorOption.wordSeparators */));\n            this.workerRequest.result.then(data => {\n                if (myRequestId === this.workerRequestTokenId) {\n                    this.workerRequestCompleted = true;\n                    this.workerRequestValue = data || [];\n                    this._beginRenderDecorations();\n                }\n            }, onUnexpectedError);\n        }\n    }\n    _beginRenderDecorations() {\n        const currentTime = (new Date()).getTime();\n        const minimumRenderTime = this.lastCursorPositionChangeTime + 250;\n        if (currentTime >= minimumRenderTime) {\n            // Synchronous\n            this.renderDecorationsTimer = -1;\n            this.renderDecorations();\n        }\n        else {\n            // Asynchronous\n            this.renderDecorationsTimer = setTimeout(() => {\n                this.renderDecorations();\n            }, (minimumRenderTime - currentTime));\n        }\n    }\n    renderDecorations() {\n        this.renderDecorationsTimer = -1;\n        const decorations = [];\n        for (const info of this.workerRequestValue) {\n            if (info.range) {\n                decorations.push({\n                    range: info.range,\n                    options: getHighlightDecorationOptions(info.kind)\n                });\n            }\n        }\n        this.decorations.set(decorations);\n        this._hasWordHighlights.set(this.hasDecorations());\n        // update decorators of friends\n        for (const other of this.linkedHighlighters()) {\n            if ((other === null || other === void 0 ? void 0 : other.editor.getModel()) === this.editor.getModel()) {\n                other._stopAll();\n                other.decorations.set(decorations);\n                other._hasWordHighlights.set(other.hasDecorations());\n            }\n        }\n    }\n    dispose() {\n        this._stopAll();\n        this.toUnhook.dispose();\n    }\n}\nlet WordHighlighterContribution = WordHighlighterContribution_1 = class WordHighlighterContribution extends Disposable {\n    static get(editor) {\n        return editor.getContribution(WordHighlighterContribution_1.ID);\n    }\n    constructor(editor, contextKeyService, languageFeaturesService) {\n        super();\n        this.wordHighlighter = null;\n        this.linkedContributions = new Set();\n        const createWordHighlighterIfPossible = () => {\n            if (editor.hasModel() && !editor.getModel().isTooLargeForTokenization()) {\n                this.wordHighlighter = new WordHighlighter(editor, languageFeaturesService.documentHighlightProvider, () => Iterable.map(this.linkedContributions, c => c.wordHighlighter), contextKeyService);\n            }\n        };\n        this._register(editor.onDidChangeModel((e) => {\n            if (this.wordHighlighter) {\n                this.wordHighlighter.dispose();\n                this.wordHighlighter = null;\n            }\n            createWordHighlighterIfPossible();\n        }));\n        createWordHighlighterIfPossible();\n    }\n    saveViewState() {\n        if (this.wordHighlighter && this.wordHighlighter.hasDecorations()) {\n            return true;\n        }\n        return false;\n    }\n    moveNext() {\n        var _a;\n        (_a = this.wordHighlighter) === null || _a === void 0 ? void 0 : _a.moveNext();\n    }\n    moveBack() {\n        var _a;\n        (_a = this.wordHighlighter) === null || _a === void 0 ? void 0 : _a.moveBack();\n    }\n    restoreViewState(state) {\n        if (this.wordHighlighter && state) {\n            this.wordHighlighter.restore();\n        }\n    }\n    dispose() {\n        if (this.wordHighlighter) {\n            this.wordHighlighter.dispose();\n            this.wordHighlighter = null;\n        }\n        super.dispose();\n    }\n};\nWordHighlighterContribution.ID = 'editor.contrib.wordHighlighter';\nWordHighlighterContribution = WordHighlighterContribution_1 = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, ILanguageFeaturesService)\n], WordHighlighterContribution);\nexport { WordHighlighterContribution };\nclass WordHighlightNavigationAction extends EditorAction {\n    constructor(next, opts) {\n        super(opts);\n        this._isNext = next;\n    }\n    run(accessor, editor) {\n        const controller = WordHighlighterContribution.get(editor);\n        if (!controller) {\n            return;\n        }\n        if (this._isNext) {\n            controller.moveNext();\n        }\n        else {\n            controller.moveBack();\n        }\n    }\n}\nclass NextWordHighlightAction extends WordHighlightNavigationAction {\n    constructor() {\n        super(true, {\n            id: 'editor.action.wordHighlight.next',\n            label: nls.localize('wordHighlight.next.label', \"Go to Next Symbol Highlight\"),\n            alias: 'Go to Next Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 65 /* KeyCode.F7 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nclass PrevWordHighlightAction extends WordHighlightNavigationAction {\n    constructor() {\n        super(false, {\n            id: 'editor.action.wordHighlight.prev',\n            label: nls.localize('wordHighlight.previous.label', \"Go to Previous Symbol Highlight\"),\n            alias: 'Go to Previous Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 65 /* KeyCode.F7 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nclass TriggerWordHighlightAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.wordHighlight.trigger',\n            label: nls.localize('wordHighlight.trigger.label', \"Trigger Symbol Highlight\"),\n            alias: 'Trigger Symbol Highlight',\n            precondition: ctxHasWordHighlights.toNegated(),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 0,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        const controller = WordHighlighterContribution.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.restoreViewState(true);\n    }\n}\nregisterEditorContribution(WordHighlighterContribution.ID, WordHighlighterContribution, 0 /* EditorContributionInstantiation.Eager */); // eager because it uses `saveViewState`/`restoreViewState`\nregisterEditorAction(NextWordHighlightAction);\nregisterEditorAction(PrevWordHighlightAction);\nregisterEditorAction(TriggerWordHighlightAction);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { ReplaceCommand } from '../../../common/commands/replaceCommand.js';\nimport { EditorOptions } from '../../../common/config/editorOptions.js';\nimport { CursorState } from '../../../common/cursorCommon.js';\nimport { WordOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { getMapForWordSeparators } from '../../../common/core/wordCharacterClassifier.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport * as nls from '../../../../nls.js';\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../../../../platform/accessibility/common/accessibility.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IsWindowsContext } from '../../../../platform/contextkey/common/contextkeys.js';\nexport class MoveWordCommand extends EditorCommand {\n    constructor(opts) {\n        super(opts);\n        this._inSelectionMode = opts.inSelectionMode;\n        this._wordNavigationType = opts.wordNavigationType;\n    }\n    runEditorCommand(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(129 /* EditorOption.wordSeparators */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const result = selections.map((sel) => {\n            const inPosition = new Position(sel.positionLineNumber, sel.positionColumn);\n            const outPosition = this._move(wordSeparators, model, inPosition, this._wordNavigationType);\n            return this._moveTo(sel, outPosition, this._inSelectionMode);\n        });\n        model.pushStackElement();\n        editor._getViewModel().setCursorStates('moveWordCommand', 3 /* CursorChangeReason.Explicit */, result.map(r => CursorState.fromModelSelection(r)));\n        if (result.length === 1) {\n            const pos = new Position(result[0].positionLineNumber, result[0].positionColumn);\n            editor.revealPosition(pos, 0 /* ScrollType.Smooth */);\n        }\n    }\n    _moveTo(from, to, inSelectionMode) {\n        if (inSelectionMode) {\n            // move just position\n            return new Selection(from.selectionStartLineNumber, from.selectionStartColumn, to.lineNumber, to.column);\n        }\n        else {\n            // move everything\n            return new Selection(to.lineNumber, to.column, to.lineNumber, to.column);\n        }\n    }\n}\nexport class WordLeftCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordOperations.moveWordLeft(wordSeparators, model, position, wordNavigationType);\n    }\n}\nexport class WordRightCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordOperations.moveWordRight(wordSeparators, model, position, wordNavigationType);\n    }\n}\nexport class CursorWordStartLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartLeft',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndLeft',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordLeft extends WordLeftCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 1 /* WordNavigationType.WordStartFast */,\n            id: 'cursorWordLeft',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 15 /* KeyCode.LeftArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordStartLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartLeftSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndLeftSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordLeftSelect extends WordLeftCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 1 /* WordNavigationType.WordStartFast */,\n            id: 'cursorWordLeftSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\n// Accessibility navigation commands should only be enabled on windows since they are tuned to what NVDA expects\nexport class CursorWordAccessibilityLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityLeft',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordAccessibilityLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityLeftSelect',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordStartRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartRight',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndRight extends WordRightCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndRight',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 17 /* KeyCode.RightArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordRight',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordStartRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartRightSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndRightSelect extends WordRightCommand {\n    constructor() {\n        var _a;\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndRightSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, (_a = ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)) === null || _a === void 0 ? void 0 : _a.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordRightSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordAccessibilityRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityRight',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class CursorWordAccessibilityRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityRightSelect',\n            precondition: undefined\n        });\n    }\n    _move(_, model, position, wordNavigationType) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue), model, position, wordNavigationType);\n    }\n}\nexport class DeleteWordCommand extends EditorCommand {\n    constructor(opts) {\n        super(opts);\n        this._whitespaceHeuristics = opts.whitespaceHeuristics;\n        this._wordNavigationType = opts.wordNavigationType;\n    }\n    runEditorCommand(accessor, editor, args) {\n        const languageConfigurationService = accessor.get(ILanguageConfigurationService);\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(129 /* EditorOption.wordSeparators */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const autoClosingBrackets = editor.getOption(6 /* EditorOption.autoClosingBrackets */);\n        const autoClosingQuotes = editor.getOption(11 /* EditorOption.autoClosingQuotes */);\n        const autoClosingPairs = languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getAutoClosingPairs();\n        const viewModel = editor._getViewModel();\n        const commands = selections.map((sel) => {\n            const deleteRange = this._delete({\n                wordSeparators,\n                model,\n                selection: sel,\n                whitespaceHeuristics: this._whitespaceHeuristics,\n                autoClosingDelete: editor.getOption(9 /* EditorOption.autoClosingDelete */),\n                autoClosingBrackets,\n                autoClosingQuotes,\n                autoClosingPairs,\n                autoClosedCharacters: viewModel.getCursorAutoClosedCharacters()\n            }, this._wordNavigationType);\n            return new ReplaceCommand(deleteRange, '');\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nexport class DeleteWordLeftCommand extends DeleteWordCommand {\n    _delete(ctx, wordNavigationType) {\n        const r = WordOperations.deleteWordLeft(ctx, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        return new Range(1, 1, 1, 1);\n    }\n}\nexport class DeleteWordRightCommand extends DeleteWordCommand {\n    _delete(ctx, wordNavigationType) {\n        const r = WordOperations.deleteWordRight(ctx, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        const lineCount = ctx.model.getLineCount();\n        const maxColumn = ctx.model.getLineMaxColumn(lineCount);\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\n    }\n}\nexport class DeleteWordStartLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordStartLeft',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordEndLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordEndLeft',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordLeft',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1 /* KeyCode.Backspace */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 1 /* KeyCode.Backspace */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class DeleteWordStartRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordStartRight',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordEndRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordEndRight',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordRight',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 20 /* KeyCode.Delete */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 20 /* KeyCode.Delete */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class DeleteInsideWord extends EditorAction {\n    constructor() {\n        super({\n            id: 'deleteInsideWord',\n            precondition: EditorContextKeys.writable,\n            label: nls.localize('deleteInsideWord', \"Delete Word\"),\n            alias: 'Delete Word'\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(129 /* EditorOption.wordSeparators */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const commands = selections.map((sel) => {\n            const deleteRange = WordOperations.deleteInsideWord(wordSeparators, model, sel);\n            return new ReplaceCommand(deleteRange, '');\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nregisterEditorCommand(new CursorWordStartLeft());\nregisterEditorCommand(new CursorWordEndLeft());\nregisterEditorCommand(new CursorWordLeft());\nregisterEditorCommand(new CursorWordStartLeftSelect());\nregisterEditorCommand(new CursorWordEndLeftSelect());\nregisterEditorCommand(new CursorWordLeftSelect());\nregisterEditorCommand(new CursorWordStartRight());\nregisterEditorCommand(new CursorWordEndRight());\nregisterEditorCommand(new CursorWordRight());\nregisterEditorCommand(new CursorWordStartRightSelect());\nregisterEditorCommand(new CursorWordEndRightSelect());\nregisterEditorCommand(new CursorWordRightSelect());\nregisterEditorCommand(new CursorWordAccessibilityLeft());\nregisterEditorCommand(new CursorWordAccessibilityLeftSelect());\nregisterEditorCommand(new CursorWordAccessibilityRight());\nregisterEditorCommand(new CursorWordAccessibilityRightSelect());\nregisterEditorCommand(new DeleteWordStartLeft());\nregisterEditorCommand(new DeleteWordEndLeft());\nregisterEditorCommand(new DeleteWordLeft());\nregisterEditorCommand(new DeleteWordStartRight());\nregisterEditorCommand(new DeleteWordEndRight());\nregisterEditorCommand(new DeleteWordRight());\nregisterEditorAction(DeleteInsideWord);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { WordPartOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { DeleteWordCommand, MoveWordCommand } from '../../wordOperations/browser/wordOperations.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nexport class DeleteWordPartLeft extends DeleteWordCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordPartLeft',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 1 /* KeyCode.Backspace */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    _delete(ctx, wordNavigationType) {\n        const r = WordPartOperations.deleteWordPartLeft(ctx);\n        if (r) {\n            return r;\n        }\n        return new Range(1, 1, 1, 1);\n    }\n}\nexport class DeleteWordPartRight extends DeleteWordCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordPartRight',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 20 /* KeyCode.Delete */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    _delete(ctx, wordNavigationType) {\n        const r = WordPartOperations.deleteWordPartRight(ctx);\n        if (r) {\n            return r;\n        }\n        const lineCount = ctx.model.getLineCount();\n        const maxColumn = ctx.model.getLineMaxColumn(lineCount);\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\n    }\n}\nexport class WordPartLeftCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordPartOperations.moveWordPartLeft(wordSeparators, model, position);\n    }\n}\nexport class CursorWordPartLeft extends WordPartLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordPartLeft',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\n// Register previous id for compatibility purposes\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeft', 'cursorWordPartLeft');\nexport class CursorWordPartLeftSelect extends WordPartLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordPartLeftSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\n// Register previous id for compatibility purposes\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeftSelect', 'cursorWordPartLeftSelect');\nexport class WordPartRightCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType) {\n        return WordPartOperations.moveWordPartRight(wordSeparators, model, position);\n    }\n}\nexport class CursorWordPartRight extends WordPartRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordPartRight',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordPartRightSelect extends WordPartRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordPartRightSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nregisterEditorCommand(new DeleteWordPartLeft());\nregisterEditorCommand(new DeleteWordPartRight());\nregisterEditorCommand(new CursorWordPartLeft());\nregisterEditorCommand(new CursorWordPartLeftSelect());\nregisterEditorCommand(new CursorWordPartRight());\nregisterEditorCommand(new CursorWordPartRightSelect());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Sash } from '../../../../base/browser/ui/sash/sash.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { IdGenerator } from '../../../../base/common/idGenerator.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport * as objects from '../../../../base/common/objects.js';\nimport './zoneWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nconst defaultColor = new Color(new RGBA(0, 122, 204));\nconst defaultOptions = {\n    showArrow: true,\n    showFrame: true,\n    className: '',\n    frameColor: defaultColor,\n    arrowColor: defaultColor,\n    keepEditorSelection: false\n};\nconst WIDGET_ID = 'vs.editor.contrib.zoneWidget';\nclass ViewZoneDelegate {\n    constructor(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight, showInHiddenAreas, ordinal) {\n        this.id = ''; // A valid zone id should be greater than 0\n        this.domNode = domNode;\n        this.afterLineNumber = afterLineNumber;\n        this.afterColumn = afterColumn;\n        this.heightInLines = heightInLines;\n        this.showInHiddenAreas = showInHiddenAreas;\n        this.ordinal = ordinal;\n        this._onDomNodeTop = onDomNodeTop;\n        this._onComputedHeight = onComputedHeight;\n    }\n    onDomNodeTop(top) {\n        this._onDomNodeTop(top);\n    }\n    onComputedHeight(height) {\n        this._onComputedHeight(height);\n    }\n}\nexport class OverlayWidgetDelegate {\n    constructor(id, domNode) {\n        this._id = id;\n        this._domNode = domNode;\n    }\n    getId() {\n        return this._id;\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return null;\n    }\n}\nclass Arrow {\n    constructor(_editor) {\n        this._editor = _editor;\n        this._ruleName = Arrow._IdGenerator.nextId();\n        this._decorations = this._editor.createDecorationsCollection();\n        this._color = null;\n        this._height = -1;\n    }\n    dispose() {\n        this.hide();\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n    }\n    set color(value) {\n        if (this._color !== value) {\n            this._color = value;\n            this._updateStyle();\n        }\n    }\n    set height(value) {\n        if (this._height !== value) {\n            this._height = value;\n            this._updateStyle();\n        }\n    }\n    _updateStyle() {\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n        dom.createCSSRule(`.monaco-editor ${this._ruleName}`, `border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `);\n    }\n    show(where) {\n        if (where.column === 1) {\n            // the arrow isn't pretty at column 1 and we need to push it out a little\n            where = { lineNumber: where.lineNumber, column: 2 };\n        }\n        this._decorations.set([{\n                range: Range.fromPositions(where),\n                options: {\n                    description: 'zone-widget-arrow',\n                    className: this._ruleName,\n                    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */\n                }\n            }]);\n    }\n    hide() {\n        this._decorations.clear();\n    }\n}\nArrow._IdGenerator = new IdGenerator('.arrow-decoration-');\nexport class ZoneWidget {\n    constructor(editor, options = {}) {\n        this._arrow = null;\n        this._overlayWidget = null;\n        this._resizeSash = null;\n        this._viewZone = null;\n        this._disposables = new DisposableStore();\n        this.container = null;\n        this._isShowing = false;\n        this.editor = editor;\n        this._positionMarkerId = this.editor.createDecorationsCollection();\n        this.options = objects.deepClone(options);\n        objects.mixin(this.options, defaultOptions, false);\n        this.domNode = document.createElement('div');\n        if (!this.options.isAccessible) {\n            this.domNode.setAttribute('aria-hidden', 'true');\n            this.domNode.setAttribute('role', 'presentation');\n        }\n        this._disposables.add(this.editor.onDidLayoutChange((info) => {\n            const width = this._getWidth(info);\n            this.domNode.style.width = width + 'px';\n            this.domNode.style.left = this._getLeft(info) + 'px';\n            this._onWidth(width);\n        }));\n    }\n    dispose() {\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n                this._viewZone = null;\n            });\n        }\n        this._positionMarkerId.clear();\n        this._disposables.dispose();\n    }\n    create() {\n        this.domNode.classList.add('zone-widget');\n        if (this.options.className) {\n            this.domNode.classList.add(this.options.className);\n        }\n        this.container = document.createElement('div');\n        this.container.classList.add('zone-widget-container');\n        this.domNode.appendChild(this.container);\n        if (this.options.showArrow) {\n            this._arrow = new Arrow(this.editor);\n            this._disposables.add(this._arrow);\n        }\n        this._fillContainer(this.container);\n        this._initSash();\n        this._applyStyles();\n    }\n    style(styles) {\n        if (styles.frameColor) {\n            this.options.frameColor = styles.frameColor;\n        }\n        if (styles.arrowColor) {\n            this.options.arrowColor = styles.arrowColor;\n        }\n        this._applyStyles();\n    }\n    _applyStyles() {\n        if (this.container && this.options.frameColor) {\n            const frameColor = this.options.frameColor.toString();\n            this.container.style.borderTopColor = frameColor;\n            this.container.style.borderBottomColor = frameColor;\n        }\n        if (this._arrow && this.options.arrowColor) {\n            const arrowColor = this.options.arrowColor.toString();\n            this._arrow.color = arrowColor;\n        }\n    }\n    _getWidth(info) {\n        return info.width - info.minimap.minimapWidth - info.verticalScrollbarWidth;\n    }\n    _getLeft(info) {\n        // If minimap is to the left, we move beyond it\n        if (info.minimap.minimapWidth > 0 && info.minimap.minimapLeft === 0) {\n            return info.minimap.minimapWidth;\n        }\n        return 0;\n    }\n    _onViewZoneTop(top) {\n        this.domNode.style.top = top + 'px';\n    }\n    _onViewZoneHeight(height) {\n        var _a;\n        this.domNode.style.height = `${height}px`;\n        if (this.container) {\n            const containerHeight = height - this._decoratingElementsHeight();\n            this.container.style.height = `${containerHeight}px`;\n            const layoutInfo = this.editor.getLayoutInfo();\n            this._doLayout(containerHeight, this._getWidth(layoutInfo));\n        }\n        (_a = this._resizeSash) === null || _a === void 0 ? void 0 : _a.layout();\n    }\n    get position() {\n        const range = this._positionMarkerId.getRange(0);\n        if (!range) {\n            return undefined;\n        }\n        return range.getStartPosition();\n    }\n    show(rangeOrPos, heightInLines) {\n        const range = Range.isIRange(rangeOrPos) ? Range.lift(rangeOrPos) : Range.fromPositions(rangeOrPos);\n        this._isShowing = true;\n        this._showImpl(range, heightInLines);\n        this._isShowing = false;\n        this._positionMarkerId.set([{ range, options: ModelDecorationOptions.EMPTY }]);\n    }\n    hide() {\n        var _a;\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n            });\n            this._viewZone = null;\n        }\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        (_a = this._arrow) === null || _a === void 0 ? void 0 : _a.hide();\n        this._positionMarkerId.clear();\n    }\n    _decoratingElementsHeight() {\n        const lineHeight = this.editor.getOption(66 /* EditorOption.lineHeight */);\n        let result = 0;\n        if (this.options.showArrow) {\n            const arrowHeight = Math.round(lineHeight / 3);\n            result += 2 * arrowHeight;\n        }\n        if (this.options.showFrame) {\n            const frameThickness = Math.round(lineHeight / 9);\n            result += 2 * frameThickness;\n        }\n        return result;\n    }\n    _showImpl(where, heightInLines) {\n        const position = where.getStartPosition();\n        const layoutInfo = this.editor.getLayoutInfo();\n        const width = this._getWidth(layoutInfo);\n        this.domNode.style.width = `${width}px`;\n        this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\n        // Render the widget as zone (rendering) and widget (lifecycle)\n        const viewZoneDomNode = document.createElement('div');\n        viewZoneDomNode.style.overflow = 'hidden';\n        const lineHeight = this.editor.getOption(66 /* EditorOption.lineHeight */);\n        // adjust heightInLines to viewport\n        if (!this.options.allowUnlimitedHeight) {\n            const maxHeightInLines = Math.max(12, (this.editor.getLayoutInfo().height / lineHeight) * 0.8);\n            heightInLines = Math.min(heightInLines, maxHeightInLines);\n        }\n        let arrowHeight = 0;\n        let frameThickness = 0;\n        // Render the arrow one 1/3 of an editor line height\n        if (this._arrow && this.options.showArrow) {\n            arrowHeight = Math.round(lineHeight / 3);\n            this._arrow.height = arrowHeight;\n            this._arrow.show(position);\n        }\n        // Render the frame as 1/9 of an editor line height\n        if (this.options.showFrame) {\n            frameThickness = Math.round(lineHeight / 9);\n        }\n        // insert zone widget\n        this.editor.changeViewZones((accessor) => {\n            if (this._viewZone) {\n                accessor.removeZone(this._viewZone.id);\n            }\n            if (this._overlayWidget) {\n                this.editor.removeOverlayWidget(this._overlayWidget);\n                this._overlayWidget = null;\n            }\n            this.domNode.style.top = '-1000px';\n            this._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, (top) => this._onViewZoneTop(top), (height) => this._onViewZoneHeight(height), this.options.showInHiddenAreas, this.options.ordinal);\n            this._viewZone.id = accessor.addZone(this._viewZone);\n            this._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + this._viewZone.id, this.domNode);\n            this.editor.addOverlayWidget(this._overlayWidget);\n        });\n        if (this.container && this.options.showFrame) {\n            const width = this.options.frameWidth ? this.options.frameWidth : frameThickness;\n            this.container.style.borderTopWidth = width + 'px';\n            this.container.style.borderBottomWidth = width + 'px';\n        }\n        const containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\n        if (this.container) {\n            this.container.style.top = arrowHeight + 'px';\n            this.container.style.height = containerHeight + 'px';\n            this.container.style.overflow = 'hidden';\n        }\n        this._doLayout(containerHeight, width);\n        if (!this.options.keepEditorSelection) {\n            this.editor.setSelection(where);\n        }\n        const model = this.editor.getModel();\n        if (model) {\n            const range = model.validateRange(new Range(where.startLineNumber, 1, where.endLineNumber + 1, 1));\n            this.revealRange(range, range.startLineNumber === model.getLineCount());\n        }\n    }\n    revealRange(range, isLastLine) {\n        if (isLastLine) {\n            this.editor.revealLineNearTop(range.endLineNumber, 0 /* ScrollType.Smooth */);\n        }\n        else {\n            this.editor.revealRange(range, 0 /* ScrollType.Smooth */);\n        }\n    }\n    setCssClass(className, classToReplace) {\n        if (!this.container) {\n            return;\n        }\n        if (classToReplace) {\n            this.container.classList.remove(classToReplace);\n        }\n        this.container.classList.add(className);\n    }\n    _onWidth(widthInPixel) {\n        // implement in subclass\n    }\n    _doLayout(heightInPixel, widthInPixel) {\n        // implement in subclass\n    }\n    _relayout(newHeightInLines) {\n        if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    this._viewZone.heightInLines = newHeightInLines;\n                    accessor.layoutZone(this._viewZone.id);\n                }\n            });\n        }\n    }\n    // --- sash\n    _initSash() {\n        if (this._resizeSash) {\n            return;\n        }\n        this._resizeSash = this._disposables.add(new Sash(this.domNode, this, { orientation: 1 /* Orientation.HORIZONTAL */ }));\n        if (!this.options.isResizeable) {\n            this._resizeSash.state = 0 /* SashState.Disabled */;\n        }\n        let data;\n        this._disposables.add(this._resizeSash.onDidStart((e) => {\n            if (this._viewZone) {\n                data = {\n                    startY: e.startY,\n                    heightInLines: this._viewZone.heightInLines,\n                };\n            }\n        }));\n        this._disposables.add(this._resizeSash.onDidEnd(() => {\n            data = undefined;\n        }));\n        this._disposables.add(this._resizeSash.onDidChange((evt) => {\n            if (data) {\n                const lineDelta = (evt.currentY - data.startY) / this.editor.getOption(66 /* EditorOption.lineHeight */);\n                const roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\n                const newHeightInLines = data.heightInLines + roundedLineDelta;\n                if (newHeightInLines > 5 && newHeightInLines < 35) {\n                    this._relayout(newHeightInLines);\n                }\n            }\n        }));\n    }\n    getHorizontalSashLeft() {\n        return 0;\n    }\n    getHorizontalSashTop() {\n        return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - (this._decoratingElementsHeight() / 2);\n    }\n    getHorizontalSashWidth() {\n        const layoutInfo = this.editor.getLayoutInfo();\n        return layoutInfo.width - layoutInfo.minimap.minimapWidth;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorOptions } from './common/config/editorOptions.js';\nimport { createMonacoBaseAPI } from './common/services/editorBaseApi.js';\nimport { createMonacoEditorAPI } from './standalone/browser/standaloneEditor.js';\nimport { createMonacoLanguagesAPI } from './standalone/browser/standaloneLanguages.js';\nimport { FormattingConflicts } from './contrib/format/browser/format.js';\n// Set defaults for standalone editor\nEditorOptions.wrappingIndent.defaultValue = 0 /* WrappingIndent.None */;\nEditorOptions.glyphMargin.defaultValue = false;\nEditorOptions.autoIndent.defaultValue = 3 /* EditorAutoIndentStrategy.Advanced */;\nEditorOptions.overviewRulerLanes.defaultValue = 2;\n// We need to register a formatter selector which simply picks the first available formatter.\n// See https://github.com/microsoft/monaco-editor/issues/2327\nFormattingConflicts.setFormatterSelector((formatter, document, mode) => Promise.resolve(formatter[0]));\nconst api = createMonacoBaseAPI();\napi.editor = createMonacoEditorAPI();\napi.languages = createMonacoLanguagesAPI();\nexport const CancellationTokenSource = api.CancellationTokenSource;\nexport const Emitter = api.Emitter;\nexport const KeyCode = api.KeyCode;\nexport const KeyMod = api.KeyMod;\nexport const Position = api.Position;\nexport const Range = api.Range;\nexport const Selection = api.Selection;\nexport const SelectionDirection = api.SelectionDirection;\nexport const MarkerSeverity = api.MarkerSeverity;\nexport const MarkerTag = api.MarkerTag;\nexport const Uri = api.Uri;\nexport const Token = api.Token;\nexport const editor = api.editor;\nexport const languages = api.languages;\nconst monacoEnvironment = globalThis.MonacoEnvironment;\nif ((monacoEnvironment === null || monacoEnvironment === void 0 ? void 0 : monacoEnvironment.globalAPI) || (typeof define === 'function' && define.amd)) {\n    globalThis.monaco = api;\n}\nif (typeof globalThis.require !== 'undefined' && typeof globalThis.require.config === 'function') {\n    globalThis.require.config({\n        ignoreDuplicateModules: [\n            'vscode-languageserver-types',\n            'vscode-languageserver-types/main',\n            'vscode-languageserver-textdocument',\n            'vscode-languageserver-textdocument/main',\n            'vscode-nls',\n            'vscode-nls/vscode-nls',\n            'jsonc-parser',\n            'jsonc-parser/main',\n            'vscode-uri',\n            'vscode-uri/index',\n            'vs/basic-languages/typescript/typescript'\n        ]\n    });\n}\n"],"names":["paths","self","globalAPI","getWorkerUrl","moduleId","label","pathPrefix","__webpack_public_path__","result","replace","test","currentUrl","String","window","location","currentOrigin","substr","length","hash","search","pathname","substring","protocol","blob","Blob","type","URL","createObjectURL","require","module","exports","ToggleTabFocusModeAction","Action2","constructor","super","id","ID","title","value","nls","key","comment","original","precondition","undefined","keybinding","primary","mac","weight","f1","run","newValue","TabFocus","getTabFocusMode","setTabFocusMode","alert","registerAction2","ForceRetokenizeAction","EditorAction","alias","accessor","editor","hasModel","model","getModel","tokenization","resetTokenization","sw","StopWatch","forceTokenization","getLineCount","stop","console","log","concat","elapsed","registerEditorAction","__decorate","decorators","target","desc","d","c","arguments","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","BannerController","Disposable","_editor","instantiationService","this","banner","_register","createInstance","Banner","hide","setBanner","clear","show","item","assign","onClose","_a","call","element","IInstantiationService","markdownRenderer","MarkdownRenderer","$","tabIndex","getAriaLabel","ariaLabel","message","getBannerMessage","innerText","render","clearNode","setAttribute","iconContainer","append","icon","appendChild","ThemeIcon","asCSSSelector","messageContainer","messageActionsContainer","actions","action","Link","actionBarContainer","actionBar","ActionBar","push","Action","asClassName","widgetClose","setFocusable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","apply","warningIcon","registerIcon","Codicon","warning","UnicodeHighlighter","_editorWorkerService","_workspaceTrustService","_highlighter","_bannerClosed","_updateState","state","hasMore","max","Math","ambiguousCharacterCount","nonBasicAsciiCharacterCount","invisibleCharacterCount","data","command","DisableHighlightingOfNonBasicAsciiCharactersAction","DisableHighlightingOfAmbiguousCharactersAction","Error","DisableHighlightingOfInvisibleCharactersAction","_bannerController","shortLabel","href","onDidChangeModel","_updateHighlighter","_options","getOption","onDidChangeTrust","onDidChangeConfiguration","hasChanged","dispose","options","trusted","nonBasicASCII","inUntrustedWorkspace","ambiguousCharacters","invisibleCharacters","includeComments","includeStrings","allowedCharacters","allowedLocales","resolveOptions","isWorkspaceTrusted","every","option","highlightOptions","allowedCodePoints","keys","map","codePointAt","locale","Intl","NumberFormat","resolvedOptions","platform","canComputeUnicodeHighlights","uri","DocumentUnicodeHighlighter","ViewportUnicodeHighlighter","getDecorationInfo","decoration","IEditorWorkerService","IWorkspaceTrustManagementService","_model","_decorations","createDecorationsCollection","_updateSoon","RunOnceScheduler","_update","onDidChangeModelContent","schedule","isDisposed","mightContainNonBasicASCII","modelVersionId","getVersionId","computedUnicodeHighlights","info","decorations","range","ranges","Decorations","instance","getDecorationFromOptions","set","has","isModelDecorationVisible","reason","computeReason","getValueInRange","inComment","isModelDecorationInComment","inString","isModelDecorationInString","onDidLayoutChange","onDidScrollChange","onDidChangeHiddenAreas","getVisibleRanges","totalResult","UnicodeTextModelHighlighter","computeUnicodeHighlights","text","UnicodeHighlighterHoverParticipant","_languageService","_openerService","hoverOrdinal","computeSync","anchor","lineDecorations","unicodeHighlighter","getContribution","existedReason","Set","index","highlightInfo","codePoint","codePointStr","formatCodePointMarkdown","kind","isBasicASCII","confusableWith","add","adjustSettingsArgs","adjustSettings","ShowExcludeOptions","encodeURIComponent","JSON","stringify","markdown","MarkdownString","appendMarkdown","appendText","appendLink","MarkdownHover","renderHoverParts","context","hoverParts","renderMarkdownHovers","codePointToHex","toString","padStart","InvisibleCharacters","isInvisibleCharacter","fromCodePoint","renderCodePointAsInlineCode","char","computeUnicodeHighlightReason","ILanguageService","IOpenerService","Map","getDecoration","hideInComments","hideInStrings","get","ModelDecorationOptions","createDynamic","description","stickiness","className","showIfCollapsed","overviewRuler","minimap","hideInCommentTokens","hideInStringTokens","DisableHighlightingInCommentsAction","args","configurationService","IConfigurationService","runAction","updateValue","unicodeHighlightConfigKeys","DisableHighlightingInStringsAction","quickPickService","IQuickInputService","notAmbiguousInLocales","excludeLocaleFromBeingHighlighted","getExcludeCharFromBeingHighlightedLabel","charCodes","existingValue","getValue","charCode","excludeCharFromBeingHighlighted","expectNever","pick","locales","inspect","user","registerEditorContribution","HoverParticipantRegistry","register","ignoreUnusualLineTerminators","UnusualLineTerminatorsDetector","_dialogService","_codeEditorService","_isPresentingDialog","_config","_checkForUnusualLineTerminators","isUndoing","mightContainUnusualLineTerminators","ignoreState","codeEditorService","getModelProperty","readIgnoreState","removeUnusualLineTerminators","getSelections","confirm","detail","basename","primaryButton","cancelButton","confirmed","setModelProperty","writeIgnoreState","IDialogService","ICodeEditorService","wordHighlightBackground","registerColor","dark","light","hcDark","hcLight","wordHighlightBorder","activeContrastBorder","overviewRulerWordHighlightForeground","overviewRulerWordHighlightStrongForeground","overviewRulerWordHighlightTextForeground","overviewRulerSelectionHighlightForeground","_WRITE_OPTIONS","color","themeColorFromId","position","OverviewRulerLane","Center","minimapSelectionOccurrenceHighlight","MinimapPosition","Inline","_TEXT_OPTIONS","_SELECTION_HIGHLIGHT_OPTIONS","_SELECTION_HIGHLIGHT_OPTIONS_NO_OVERVIEW","_REGULAR_OPTIONS","getHighlightDecorationOptions","DocumentHighlightKind","Write","Text","getSelectionHighlightDecorationOptions","hasSemanticHighlights","registerThemingParticipant","theme","collector","selectionHighlight","getColor","editorSelectionHighlight","addRule","transparent","WordHighlighterContribution_1","ctxHasWordHighlights","RawContextKey","getOccurrencesAtPosition","registry","token","orderedByScore","ordered","first","provider","provideDocumentHighlights","onUnexpectedExternalError","arrays","OccurenceAtPositionRequest","_selection","_wordSeparators","_wordRange","_getCurrentWordRange","_result","createCancelablePromise","_compute","selection","word","getWordAtPosition","getPosition","Range","startLineNumber","startColumn","endColumn","isValid","lineNumber","currentWordRange","requestIsValid","Boolean","equalsRange","len","getRange","cancel","SemanticOccurenceAtPositionRequest","wordSeparators","providers","_providers","TextualOccurenceAtPositionRequest","_selectionIsEmpty","isEmpty","timeout","findMatches","m","currentSelectionIsEmpty","registerModelAndPositionCommand","ILanguageFeaturesService","documentHighlightProvider","CancellationToken","None","WordHighlighter","linkedHighlighters","contextKeyService","toUnhook","DisposableStore","workerRequestTokenId","workerRequestCompleted","workerRequestValue","lastCursorPositionChangeTime","renderDecorationsTimer","_hasWordHighlights","bindTo","_ignorePositionChangeEvent","occurrencesHighlight","onDidChangeCursorPosition","_onPositionChanged","_stopAll","workerRequest","hasDecorations","restore","_run","_getSortedHighlights","getRanges","sort","compareRangesUsingStarts","moveNext","highlights","newIndex","findIndex","containsPosition","dest","setPosition","getStartPosition","revealRangeInCenterIfOutsideViewport","_getWord","lineContent","getLineContent","moveBack","_removeDecorations","clearTimeout","editorSelection","getSelection","column","endLineNumber","workerRequestIsValid","Date","getTime","_beginRenderDecorations","myRequestId","onUnexpectedError","currentTime","minimumRenderTime","renderDecorations","setTimeout","other","WordHighlighterContribution","languageFeaturesService","wordHighlighter","linkedContributions","createWordHighlighterIfPossible","isTooLargeForTokenization","Iterable","saveViewState","restoreViewState","IContextKeyService","WordHighlightNavigationAction","opts","_isNext","controller","TriggerWordHighlightAction","toNegated","kbOpts","kbExpr","EditorContextKeys","editorTextFocus","MoveWordCommand","EditorCommand","_inSelectionMode","inSelectionMode","_wordNavigationType","wordNavigationType","runEditorCommand","getMapForWordSeparators","sel","inPosition","Position","positionLineNumber","positionColumn","outPosition","_move","_moveTo","pushStackElement","_getViewModel","setCursorStates","CursorState","fromModelSelection","pos","revealPosition","from","to","Selection","selectionStartLineNumber","selectionStartColumn","WordLeftCommand","WordOperations","moveWordLeft","WordRightCommand","moveWordRight","CursorWordStartLeft","CursorWordEndLeft","CursorWordLeft","ContextKeyExpr","and","textInputFocus","CONTEXT_ACCESSIBILITY_MODE_ENABLED","IsWindowsContext","negate","CursorWordStartLeftSelect","CursorWordEndLeftSelect","CursorWordLeftSelect","CursorWordAccessibilityLeft","_","EditorOptions","defaultValue","CursorWordAccessibilityLeftSelect","CursorWordStartRight","CursorWordEndRight","CursorWordRight","CursorWordStartRightSelect","CursorWordEndRightSelect","CursorWordRightSelect","CursorWordAccessibilityRight","CursorWordAccessibilityRightSelect","DeleteWordCommand","_whitespaceHeuristics","whitespaceHeuristics","languageConfigurationService","ILanguageConfigurationService","selections","autoClosingBrackets","autoClosingQuotes","autoClosingPairs","getLanguageConfiguration","getLanguageId","getAutoClosingPairs","viewModel","commands","deleteRange","_delete","autoClosingDelete","autoClosedCharacters","getCursorAutoClosedCharacters","ReplaceCommand","pushUndoStop","executeCommands","DeleteWordLeftCommand","ctx","deleteWordLeft","DeleteWordRightCommand","deleteWordRight","lineCount","maxColumn","getLineMaxColumn","DeleteWordStartLeft","writable","DeleteWordEndLeft","DeleteWordLeft","DeleteWordStartRight","DeleteWordEndRight","DeleteWordRight","DeleteInsideWord","deleteInsideWord","registerEditorCommand","DeleteWordPartLeft","WordPartOperations","deleteWordPartLeft","DeleteWordPartRight","deleteWordPartRight","WordPartLeftCommand","moveWordPartLeft","CursorWordPartLeft","CommandsRegistry","registerCommandAlias","CursorWordPartLeftSelect","WordPartRightCommand","moveWordPartRight","CursorWordPartRight","CursorWordPartRightSelect","defaultColor","Color","RGBA","defaultOptions","showArrow","showFrame","frameColor","arrowColor","keepEditorSelection","ViewZoneDelegate","domNode","afterLineNumber","afterColumn","heightInLines","onDomNodeTop","onComputedHeight","showInHiddenAreas","ordinal","_onDomNodeTop","_onComputedHeight","top","height","OverlayWidgetDelegate","_id","_domNode","getId","getDomNode","Arrow","_ruleName","_IdGenerator","nextId","_color","_height","dom","_updateStyle","where","fromPositions","IdGenerator","ZoneWidget","_arrow","_overlayWidget","_resizeSash","_viewZone","_disposables","container","_isShowing","_positionMarkerId","objects","document","createElement","isAccessible","width","_getWidth","style","left","_getLeft","_onWidth","removeOverlayWidget","changeViewZones","removeZone","create","classList","_fillContainer","_initSash","_applyStyles","styles","borderTopColor","borderBottomColor","minimapWidth","verticalScrollbarWidth","minimapLeft","_onViewZoneTop","_onViewZoneHeight","containerHeight","_decoratingElementsHeight","layoutInfo","getLayoutInfo","_doLayout","layout","rangeOrPos","isIRange","lift","_showImpl","EMPTY","lineHeight","round","viewZoneDomNode","overflow","allowUnlimitedHeight","maxHeightInLines","min","arrowHeight","frameThickness","addZone","addOverlayWidget","frameWidth","borderTopWidth","borderBottomWidth","setSelection","validateRange","revealRange","isLastLine","revealLineNearTop","setCssClass","classToReplace","remove","widthInPixel","heightInPixel","_relayout","newHeightInLines","layoutZone","Sash","orientation","isResizeable","onDidStart","startY","onDidEnd","onDidChange","evt","lineDelta","currentY","roundedLineDelta","ceil","floor","getHorizontalSashLeft","getHorizontalSashTop","parseInt","getHorizontalSashWidth","wrappingIndent","glyphMargin","autoIndent","overviewRulerLanes","setFormatterSelector","formatter","mode","api","languages","CancellationTokenSource","Emitter","KeyCode","KeyMod","SelectionDirection","MarkerSeverity","MarkerTag","Uri","Token","monacoEnvironment","globalThis","MonacoEnvironment","define","monaco","config","ignoreDuplicateModules"],"sourceRoot":""}