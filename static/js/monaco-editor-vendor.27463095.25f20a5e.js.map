{"version":3,"file":"static/js/monaco-editor-vendor.27463095.25f20a5e.js","mappings":"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","sources":["../node_modules/monaco-editor/esm/vs/base/browser/ui/checkbox/checkbox.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/codicons/codiconStyles.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/contextview/contextview.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/countBadge/countBadge.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdown.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdownActionViewItem.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInput.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInputCheckboxes.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/replaceInput.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/highlightedlabel/highlightedLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/hover/hoverWidget.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabelHover.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabels.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/keybindingLabel/keybindingLabel.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/listPaging.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/rangeMap.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/rowCache.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/splice.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/list.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/list/listWidget.js","../node_modules/monaco-editor/esm/vs/base/browser/ui/menu/menu.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Widget } from '../widget.js';\nimport { CSSIcon } from '../../../common/codicons.js';\nimport { Color } from '../../../common/color.js';\nimport { Emitter } from '../../../common/event.js';\nimport './checkbox.css';\nconst defaultOpts = {\n    inputActiveOptionBorder: Color.fromHex('#007ACC00'),\n    inputActiveOptionForeground: Color.fromHex('#FFFFFF'),\n    inputActiveOptionBackground: Color.fromHex('#0E639C50')\n};\nexport class Checkbox extends Widget {\n    constructor(opts) {\n        super();\n        this._onChange = this._register(new Emitter());\n        this.onChange = this._onChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._opts = Object.assign(Object.assign({}, defaultOpts), opts);\n        this._checked = this._opts.isChecked;\n        const classes = ['monaco-custom-checkbox'];\n        if (this._opts.icon) {\n            classes.push(...CSSIcon.asClassNameArray(this._opts.icon));\n        }\n        if (this._opts.actionClassName) {\n            classes.push(...this._opts.actionClassName.split(' '));\n        }\n        if (this._checked) {\n            classes.push('checked');\n        }\n        this.domNode = document.createElement('div');\n        this.domNode.title = this._opts.title;\n        this.domNode.classList.add(...classes);\n        if (!this._opts.notFocusable) {\n            this.domNode.tabIndex = 0;\n        }\n        this.domNode.setAttribute('role', 'checkbox');\n        this.domNode.setAttribute('aria-checked', String(this._checked));\n        this.domNode.setAttribute('aria-label', this._opts.title);\n        this.applyStyles();\n        this.onclick(this.domNode, (ev) => {\n            if (this.enabled) {\n                this.checked = !this._checked;\n                this._onChange.fire(false);\n                ev.preventDefault();\n            }\n        });\n        this.ignoreGesture(this.domNode);\n        this.onkeydown(this.domNode, (keyboardEvent) => {\n            if (keyboardEvent.keyCode === 10 /* Space */ || keyboardEvent.keyCode === 3 /* Enter */) {\n                this.checked = !this._checked;\n                this._onChange.fire(true);\n                keyboardEvent.preventDefault();\n                return;\n            }\n            this._onKeyDown.fire(keyboardEvent);\n        });\n    }\n    get enabled() {\n        return this.domNode.getAttribute('aria-disabled') !== 'true';\n    }\n    focus() {\n        this.domNode.focus();\n    }\n    get checked() {\n        return this._checked;\n    }\n    set checked(newIsChecked) {\n        this._checked = newIsChecked;\n        this.domNode.setAttribute('aria-checked', String(this._checked));\n        this.domNode.classList.toggle('checked', this._checked);\n        this.applyStyles();\n    }\n    width() {\n        return 2 /*margin left*/ + 2 /*border*/ + 2 /*padding*/ + 16 /* icon width */;\n    }\n    style(styles) {\n        if (styles.inputActiveOptionBorder) {\n            this._opts.inputActiveOptionBorder = styles.inputActiveOptionBorder;\n        }\n        if (styles.inputActiveOptionForeground) {\n            this._opts.inputActiveOptionForeground = styles.inputActiveOptionForeground;\n        }\n        if (styles.inputActiveOptionBackground) {\n            this._opts.inputActiveOptionBackground = styles.inputActiveOptionBackground;\n        }\n        this.applyStyles();\n    }\n    applyStyles() {\n        if (this.domNode) {\n            this.domNode.style.borderColor = this._checked && this._opts.inputActiveOptionBorder ? this._opts.inputActiveOptionBorder.toString() : '';\n            this.domNode.style.color = this._checked && this._opts.inputActiveOptionForeground ? this._opts.inputActiveOptionForeground.toString() : 'inherit';\n            this.domNode.style.backgroundColor = this._checked && this._opts.inputActiveOptionBackground ? this._opts.inputActiveOptionBackground.toString() : '';\n        }\n    }\n    enable() {\n        this.domNode.setAttribute('aria-disabled', String(false));\n    }\n    disable() {\n        this.domNode.setAttribute('aria-disabled', String(true));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Codicon } from '../../../common/codicons.js';\nimport './codicon/codicon.css';\nimport './codicon/codicon-modifiers.css';\nexport function formatRule(c) {\n    let def = c.definition;\n    while (def instanceof Codicon) {\n        def = def.definition;\n    }\n    return `.codicon-${c.id}:before { content: '${def.fontCharacter}'; }`;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { BrowserFeatures } from '../../canIUse.js';\nimport * as DOM from '../../dom.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { Range } from '../../../common/range.js';\nimport './contextview.css';\nexport var LayoutAnchorMode;\n(function (LayoutAnchorMode) {\n    LayoutAnchorMode[LayoutAnchorMode[\"AVOID\"] = 0] = \"AVOID\";\n    LayoutAnchorMode[LayoutAnchorMode[\"ALIGN\"] = 1] = \"ALIGN\";\n})(LayoutAnchorMode || (LayoutAnchorMode = {}));\n/**\n * Lays out a one dimensional view next to an anchor in a viewport.\n *\n * @returns The view offset within the viewport.\n */\nexport function layout(viewportSize, viewSize, anchor) {\n    const layoutAfterAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset : anchor.offset + anchor.size;\n    const layoutBeforeAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset + anchor.size : anchor.offset;\n    if (anchor.position === 0 /* Before */) {\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // happy case, lay it out after the anchor\n        }\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // ok case, lay it out before the anchor\n        }\n        return Math.max(viewportSize - viewSize, 0); // sad case, lay it over the anchor\n    }\n    else {\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // happy case, lay it out before the anchor\n        }\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // ok case, lay it out after the anchor\n        }\n        return 0; // sad case, lay it over the anchor\n    }\n}\nexport class ContextView extends Disposable {\n    constructor(container, domPosition) {\n        super();\n        this.container = null;\n        this.delegate = null;\n        this.toDisposeOnClean = Disposable.None;\n        this.toDisposeOnSetContainer = Disposable.None;\n        this.shadowRoot = null;\n        this.shadowRootHostElement = null;\n        this.view = DOM.$('.context-view');\n        this.useFixedPosition = false;\n        this.useShadowDOM = false;\n        DOM.hide(this.view);\n        this.setContainer(container, domPosition);\n        this._register(toDisposable(() => this.setContainer(null, 1 /* ABSOLUTE */)));\n    }\n    setContainer(container, domPosition) {\n        var _a;\n        if (this.container) {\n            this.toDisposeOnSetContainer.dispose();\n            if (this.shadowRoot) {\n                this.shadowRoot.removeChild(this.view);\n                this.shadowRoot = null;\n                (_a = this.shadowRootHostElement) === null || _a === void 0 ? void 0 : _a.remove();\n                this.shadowRootHostElement = null;\n            }\n            else {\n                this.container.removeChild(this.view);\n            }\n            this.container = null;\n        }\n        if (container) {\n            this.container = container;\n            this.useFixedPosition = domPosition !== 1 /* ABSOLUTE */;\n            this.useShadowDOM = domPosition === 3 /* FIXED_SHADOW */;\n            if (this.useShadowDOM) {\n                this.shadowRootHostElement = DOM.$('.shadow-root-host');\n                this.container.appendChild(this.shadowRootHostElement);\n                this.shadowRoot = this.shadowRootHostElement.attachShadow({ mode: 'open' });\n                const style = document.createElement('style');\n                style.textContent = SHADOW_ROOT_CSS;\n                this.shadowRoot.appendChild(style);\n                this.shadowRoot.appendChild(this.view);\n                this.shadowRoot.appendChild(DOM.$('slot'));\n            }\n            else {\n                this.container.appendChild(this.view);\n            }\n            const toDisposeOnSetContainer = new DisposableStore();\n            ContextView.BUBBLE_UP_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, (e) => {\n                    this.onDOMEvent(e, false);\n                }));\n            });\n            ContextView.BUBBLE_DOWN_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, (e) => {\n                    this.onDOMEvent(e, true);\n                }, true));\n            });\n            this.toDisposeOnSetContainer = toDisposeOnSetContainer;\n        }\n    }\n    show(delegate) {\n        if (this.isVisible()) {\n            this.hide();\n        }\n        // Show static box\n        DOM.clearNode(this.view);\n        this.view.className = 'context-view';\n        this.view.style.top = '0px';\n        this.view.style.left = '0px';\n        this.view.style.zIndex = '2500';\n        this.view.style.position = this.useFixedPosition ? 'fixed' : 'absolute';\n        DOM.show(this.view);\n        // Render content\n        this.toDisposeOnClean = delegate.render(this.view) || Disposable.None;\n        // Set active delegate\n        this.delegate = delegate;\n        // Layout\n        this.doLayout();\n        // Focus\n        if (this.delegate.focus) {\n            this.delegate.focus();\n        }\n    }\n    getViewElement() {\n        return this.view;\n    }\n    layout() {\n        if (!this.isVisible()) {\n            return;\n        }\n        if (this.delegate.canRelayout === false && !(platform.isIOS && BrowserFeatures.pointerEvents)) {\n            this.hide();\n            return;\n        }\n        if (this.delegate.layout) {\n            this.delegate.layout();\n        }\n        this.doLayout();\n    }\n    doLayout() {\n        // Check that we still have a delegate - this.delegate.layout may have hidden\n        if (!this.isVisible()) {\n            return;\n        }\n        // Get anchor\n        let anchor = this.delegate.getAnchor();\n        // Compute around\n        let around;\n        // Get the element's position and size (to anchor the view)\n        if (DOM.isHTMLElement(anchor)) {\n            let elementPosition = DOM.getDomNodePagePosition(anchor);\n            around = {\n                top: elementPosition.top,\n                left: elementPosition.left,\n                width: elementPosition.width,\n                height: elementPosition.height\n            };\n        }\n        else {\n            around = {\n                top: anchor.y,\n                left: anchor.x,\n                width: anchor.width || 1,\n                height: anchor.height || 2\n            };\n        }\n        const viewSizeWidth = DOM.getTotalWidth(this.view);\n        const viewSizeHeight = DOM.getTotalHeight(this.view);\n        const anchorPosition = this.delegate.anchorPosition || 0 /* BELOW */;\n        const anchorAlignment = this.delegate.anchorAlignment || 0 /* LEFT */;\n        const anchorAxisAlignment = this.delegate.anchorAxisAlignment || 0 /* VERTICAL */;\n        let top;\n        let left;\n        if (anchorAxisAlignment === 0 /* VERTICAL */) {\n            const verticalAnchor = { offset: around.top - window.pageYOffset, size: around.height, position: anchorPosition === 0 /* BELOW */ ? 0 /* Before */ : 1 /* After */ };\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* LEFT */ ? 0 /* Before */ : 1 /* After */, mode: LayoutAnchorMode.ALIGN };\n            top = layout(window.innerHeight, viewSizeHeight, verticalAnchor) + window.pageYOffset;\n            // if view intersects vertically with anchor,  we must avoid the anchor\n            if (Range.intersects({ start: top, end: top + viewSizeHeight }, { start: verticalAnchor.offset, end: verticalAnchor.offset + verticalAnchor.size })) {\n                horizontalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            left = layout(window.innerWidth, viewSizeWidth, horizontalAnchor);\n        }\n        else {\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* LEFT */ ? 0 /* Before */ : 1 /* After */ };\n            const verticalAnchor = { offset: around.top, size: around.height, position: anchorPosition === 0 /* BELOW */ ? 0 /* Before */ : 1 /* After */, mode: LayoutAnchorMode.ALIGN };\n            left = layout(window.innerWidth, viewSizeWidth, horizontalAnchor);\n            // if view intersects horizontally with anchor, we must avoid the anchor\n            if (Range.intersects({ start: left, end: left + viewSizeWidth }, { start: horizontalAnchor.offset, end: horizontalAnchor.offset + horizontalAnchor.size })) {\n                verticalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            top = layout(window.innerHeight, viewSizeHeight, verticalAnchor) + window.pageYOffset;\n        }\n        this.view.classList.remove('top', 'bottom', 'left', 'right');\n        this.view.classList.add(anchorPosition === 0 /* BELOW */ ? 'bottom' : 'top');\n        this.view.classList.add(anchorAlignment === 0 /* LEFT */ ? 'left' : 'right');\n        this.view.classList.toggle('fixed', this.useFixedPosition);\n        const containerPosition = DOM.getDomNodePagePosition(this.container);\n        this.view.style.top = `${top - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).top : containerPosition.top)}px`;\n        this.view.style.left = `${left - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).left : containerPosition.left)}px`;\n        this.view.style.width = 'initial';\n    }\n    hide(data) {\n        const delegate = this.delegate;\n        this.delegate = null;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.onHide) {\n            delegate.onHide(data);\n        }\n        this.toDisposeOnClean.dispose();\n        DOM.hide(this.view);\n    }\n    isVisible() {\n        return !!this.delegate;\n    }\n    onDOMEvent(e, onCapture) {\n        if (this.delegate) {\n            if (this.delegate.onDOMEvent) {\n                this.delegate.onDOMEvent(e, document.activeElement);\n            }\n            else if (onCapture && !DOM.isAncestor(e.target, this.container)) {\n                this.hide();\n            }\n        }\n    }\n    dispose() {\n        this.hide();\n        super.dispose();\n    }\n}\nContextView.BUBBLE_UP_EVENTS = ['click', 'keydown', 'focus', 'blur'];\nContextView.BUBBLE_DOWN_EVENTS = ['click'];\nlet SHADOW_ROOT_CSS = /* css */ `\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: \"codicon\";\n\t\tfont-display: block;\n\t\tsrc: url(\"./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6\") format(\"truetype\");\n\t}\n\n\t.codicon[class*='codicon-'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe WPC\", \"Segoe UI\", \"HelveticaNeue-Light\", system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang SC\", \"Hiragino Sans GB\", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang TC\", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, \"Hiragino Kaku Gothic Pro\", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, \"Nanum Gothic\", \"Apple SD Gothic Neo\", \"AppleGothic\", sans-serif; }\n\n\t:host-context(.windows) { font-family: \"Segoe WPC\", \"Segoe UI\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft YaHei\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft Jhenghei\", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Yu Gothic UI\", \"Meiryo UI\", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Malgun Gothic\", \"Dotom\", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans SC\", \"Source Han Sans CN\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans TC\", \"Source Han Sans TW\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans J\", \"Source Han Sans JP\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans K\", \"Source Han Sans JR\", \"Source Han Sans\", \"UnDotum\", \"FBaekmuk Gulim\", sans-serif; }\n`;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, append } from '../../dom.js';\nimport { Color } from '../../../common/color.js';\nimport { mixin } from '../../../common/objects.js';\nimport { format } from '../../../common/strings.js';\nimport './countBadge.css';\nconst defaultOpts = {\n    badgeBackground: Color.fromHex('#4D4D4D'),\n    badgeForeground: Color.fromHex('#FFFFFF')\n};\nexport class CountBadge {\n    constructor(container, options) {\n        this.count = 0;\n        this.options = options || Object.create(null);\n        mixin(this.options, defaultOpts, false);\n        this.badgeBackground = this.options.badgeBackground;\n        this.badgeForeground = this.options.badgeForeground;\n        this.badgeBorder = this.options.badgeBorder;\n        this.element = append(container, $('.monaco-count-badge'));\n        this.countFormat = this.options.countFormat || '{0}';\n        this.titleFormat = this.options.titleFormat || '';\n        this.setCount(this.options.count || 0);\n    }\n    setCount(count) {\n        this.count = count;\n        this.render();\n    }\n    setTitleFormat(titleFormat) {\n        this.titleFormat = titleFormat;\n        this.render();\n    }\n    render() {\n        this.element.textContent = format(this.countFormat, this.count);\n        this.element.title = format(this.titleFormat, this.count);\n        this.applyStyles();\n    }\n    style(styles) {\n        this.badgeBackground = styles.badgeBackground;\n        this.badgeForeground = styles.badgeForeground;\n        this.badgeBorder = styles.badgeBorder;\n        this.applyStyles();\n    }\n    applyStyles() {\n        if (this.element) {\n            const background = this.badgeBackground ? this.badgeBackground.toString() : '';\n            const foreground = this.badgeForeground ? this.badgeForeground.toString() : '';\n            const border = this.badgeBorder ? this.badgeBorder.toString() : '';\n            this.element.style.backgroundColor = background;\n            this.element.style.color = foreground;\n            this.element.style.borderWidth = border ? '1px' : '';\n            this.element.style.borderStyle = border ? 'solid' : '';\n            this.element.style.borderColor = border;\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, addDisposableListener, append, EventHelper, EventType } from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { EventType as GestureEventType, Gesture } from '../../touch.js';\nimport { ActionRunner } from '../../../common/actions.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nexport class BaseDropdown extends ActionRunner {\n    constructor(container, options) {\n        super();\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n        this._element = append(container, $('.monaco-dropdown'));\n        this._label = append(this._element, $('.dropdown-label'));\n        let labelRenderer = options.labelRenderer;\n        if (!labelRenderer) {\n            labelRenderer = (container) => {\n                container.textContent = options.label || '';\n                return null;\n            };\n        }\n        for (const event of [EventType.CLICK, EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n            this._register(addDisposableListener(this.element, event, e => EventHelper.stop(e, true))); // prevent default click behaviour to trigger\n        }\n        for (const event of [EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n            this._register(addDisposableListener(this._label, event, e => {\n                if (e instanceof MouseEvent && e.detail > 1) {\n                    return; // prevent multiple clicks to open multiple context menus (https://github.com/microsoft/vscode/issues/41363)\n                }\n                if (this.visible) {\n                    this.hide();\n                }\n                else {\n                    this.show();\n                }\n            }));\n        }\n        this._register(addDisposableListener(this._label, EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(3 /* Enter */) || event.equals(10 /* Space */)) {\n                EventHelper.stop(e, true); // https://github.com/microsoft/vscode/issues/57997\n                if (this.visible) {\n                    this.hide();\n                }\n                else {\n                    this.show();\n                }\n            }\n        }));\n        const cleanupFn = labelRenderer(this._label);\n        if (cleanupFn) {\n            this._register(cleanupFn);\n        }\n        this._register(Gesture.addTarget(this._label));\n    }\n    get element() {\n        return this._element;\n    }\n    show() {\n        if (!this.visible) {\n            this.visible = true;\n            this._onDidChangeVisibility.fire(true);\n        }\n    }\n    hide() {\n        if (this.visible) {\n            this.visible = false;\n            this._onDidChangeVisibility.fire(false);\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.hide();\n        if (this.boxContainer) {\n            this.boxContainer.remove();\n            this.boxContainer = undefined;\n        }\n        if (this.contents) {\n            this.contents.remove();\n            this.contents = undefined;\n        }\n        if (this._label) {\n            this._label.remove();\n            this._label = undefined;\n        }\n    }\n}\nexport class DropdownMenu extends BaseDropdown {\n    constructor(container, options) {\n        super(container, options);\n        this._actions = [];\n        this._contextMenuProvider = options.contextMenuProvider;\n        this.actions = options.actions || [];\n        this.actionProvider = options.actionProvider;\n        this.menuClassName = options.menuClassName || '';\n        this.menuAsChild = !!options.menuAsChild;\n    }\n    set menuOptions(options) {\n        this._menuOptions = options;\n    }\n    get menuOptions() {\n        return this._menuOptions;\n    }\n    get actions() {\n        if (this.actionProvider) {\n            return this.actionProvider.getActions();\n        }\n        return this._actions;\n    }\n    set actions(actions) {\n        this._actions = actions;\n    }\n    show() {\n        super.show();\n        this.element.classList.add('active');\n        this._contextMenuProvider.showContextMenu({\n            getAnchor: () => this.element,\n            getActions: () => this.actions,\n            getActionsContext: () => this.menuOptions ? this.menuOptions.context : null,\n            getActionViewItem: action => this.menuOptions && this.menuOptions.actionViewItemProvider ? this.menuOptions.actionViewItemProvider(action) : undefined,\n            getKeyBinding: action => this.menuOptions && this.menuOptions.getKeyBinding ? this.menuOptions.getKeyBinding(action) : undefined,\n            getMenuClassName: () => this.menuClassName,\n            onHide: () => this.onHide(),\n            actionRunner: this.menuOptions ? this.menuOptions.actionRunner : undefined,\n            anchorAlignment: this.menuOptions ? this.menuOptions.anchorAlignment : 0 /* LEFT */,\n            domForShadowRoot: this.menuAsChild ? this.element : undefined\n        });\n    }\n    hide() {\n        super.hide();\n    }\n    onHide() {\n        this.hide();\n        this.element.classList.remove('active');\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, append } from '../../dom.js';\nimport { BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { DropdownMenu } from './dropdown.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nexport class DropdownMenuActionViewItem extends BaseActionViewItem {\n    constructor(action, menuActionsOrProvider, contextMenuProvider, options = Object.create(null)) {\n        super(null, action, options);\n        this.actionItem = null;\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.menuActionsOrProvider = menuActionsOrProvider;\n        this.contextMenuProvider = contextMenuProvider;\n        this.options = options;\n        if (this.options.actionRunner) {\n            this.actionRunner = this.options.actionRunner;\n        }\n    }\n    render(container) {\n        this.actionItem = container;\n        const labelRenderer = (el) => {\n            this.element = append(el, $('a.action-label'));\n            let classNames = [];\n            if (typeof this.options.classNames === 'string') {\n                classNames = this.options.classNames.split(/\\s+/g).filter(s => !!s);\n            }\n            else if (this.options.classNames) {\n                classNames = this.options.classNames;\n            }\n            // todo@aeschli: remove codicon, should come through `this.options.classNames`\n            if (!classNames.find(c => c === 'icon')) {\n                classNames.push('codicon');\n            }\n            this.element.classList.add(...classNames);\n            this.element.setAttribute('role', 'button');\n            this.element.setAttribute('aria-haspopup', 'true');\n            this.element.setAttribute('aria-expanded', 'false');\n            this.element.title = this._action.label || '';\n            return null;\n        };\n        const isActionsArray = Array.isArray(this.menuActionsOrProvider);\n        const options = {\n            contextMenuProvider: this.contextMenuProvider,\n            labelRenderer: labelRenderer,\n            menuAsChild: this.options.menuAsChild,\n            actions: isActionsArray ? this.menuActionsOrProvider : undefined,\n            actionProvider: isActionsArray ? undefined : this.menuActionsOrProvider\n        };\n        this.dropdownMenu = this._register(new DropdownMenu(container, options));\n        this._register(this.dropdownMenu.onDidChangeVisibility(visible => {\n            var _a;\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', `${visible}`);\n            this._onDidChangeVisibility.fire(visible);\n        }));\n        this.dropdownMenu.menuOptions = {\n            actionViewItemProvider: this.options.actionViewItemProvider,\n            actionRunner: this.actionRunner,\n            getKeyBinding: this.options.keybindingProvider,\n            context: this._context\n        };\n        if (this.options.anchorAlignmentProvider) {\n            const that = this;\n            this.dropdownMenu.menuOptions = Object.assign(Object.assign({}, this.dropdownMenu.menuOptions), { get anchorAlignment() {\n                    return that.options.anchorAlignmentProvider();\n                } });\n        }\n        this.updateEnabled();\n    }\n    setActionContext(newContext) {\n        super.setActionContext(newContext);\n        if (this.dropdownMenu) {\n            if (this.dropdownMenu.menuOptions) {\n                this.dropdownMenu.menuOptions.context = newContext;\n            }\n            else {\n                this.dropdownMenu.menuOptions = { context: newContext };\n            }\n        }\n    }\n    updateEnabled() {\n        var _a, _b;\n        const disabled = !this.getAction().enabled;\n        (_a = this.actionItem) === null || _a === void 0 ? void 0 : _a.classList.toggle('disabled', disabled);\n        (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.toggle('disabled', disabled);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { CaseSensitiveCheckbox, RegexCheckbox, WholeWordsCheckbox } from './findInputCheckboxes.js';\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\nimport { Widget } from '../widget.js';\nimport { Emitter } from '../../../common/event.js';\nimport './findInput.css';\nimport * as nls from '../../../../nls.js';\nconst NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\nexport class FindInput extends Widget {\n    constructor(parent, contextViewProvider, _showOptionButtons, options) {\n        super();\n        this._showOptionButtons = _showOptionButtons;\n        this.fixFocusOnOptionClickEnabled = true;\n        this.imeSessionInProgress = false;\n        this._onDidOptionChange = this._register(new Emitter());\n        this.onDidOptionChange = this._onDidOptionChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._onMouseDown = this._register(new Emitter());\n        this.onMouseDown = this._onMouseDown.event;\n        this._onInput = this._register(new Emitter());\n        this._onKeyUp = this._register(new Emitter());\n        this._onCaseSensitiveKeyDown = this._register(new Emitter());\n        this.onCaseSensitiveKeyDown = this._onCaseSensitiveKeyDown.event;\n        this._onRegexKeyDown = this._register(new Emitter());\n        this.onRegexKeyDown = this._onRegexKeyDown.event;\n        this._lastHighlightFindOptions = 0;\n        this.contextViewProvider = contextViewProvider;\n        this.placeholder = options.placeholder || '';\n        this.validation = options.validation;\n        this.label = options.label || NLS_DEFAULT_LABEL;\n        this.inputActiveOptionBorder = options.inputActiveOptionBorder;\n        this.inputActiveOptionForeground = options.inputActiveOptionForeground;\n        this.inputActiveOptionBackground = options.inputActiveOptionBackground;\n        this.inputBackground = options.inputBackground;\n        this.inputForeground = options.inputForeground;\n        this.inputBorder = options.inputBorder;\n        this.inputValidationInfoBorder = options.inputValidationInfoBorder;\n        this.inputValidationInfoBackground = options.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = options.inputValidationInfoForeground;\n        this.inputValidationWarningBorder = options.inputValidationWarningBorder;\n        this.inputValidationWarningBackground = options.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = options.inputValidationWarningForeground;\n        this.inputValidationErrorBorder = options.inputValidationErrorBorder;\n        this.inputValidationErrorBackground = options.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = options.inputValidationErrorForeground;\n        const appendCaseSensitiveLabel = options.appendCaseSensitiveLabel || '';\n        const appendWholeWordsLabel = options.appendWholeWordsLabel || '';\n        const appendRegexLabel = options.appendRegexLabel || '';\n        const history = options.history || [];\n        const flexibleHeight = !!options.flexibleHeight;\n        const flexibleWidth = !!options.flexibleWidth;\n        const flexibleMaxHeight = options.flexibleMaxHeight;\n        this.domNode = document.createElement('div');\n        this.domNode.classList.add('monaco-findInput');\n        this.inputBox = this._register(new HistoryInputBox(this.domNode, this.contextViewProvider, {\n            placeholder: this.placeholder || '',\n            ariaLabel: this.label || '',\n            validationOptions: {\n                validation: this.validation\n            },\n            inputBackground: this.inputBackground,\n            inputForeground: this.inputForeground,\n            inputBorder: this.inputBorder,\n            inputValidationInfoBackground: this.inputValidationInfoBackground,\n            inputValidationInfoForeground: this.inputValidationInfoForeground,\n            inputValidationInfoBorder: this.inputValidationInfoBorder,\n            inputValidationWarningBackground: this.inputValidationWarningBackground,\n            inputValidationWarningForeground: this.inputValidationWarningForeground,\n            inputValidationWarningBorder: this.inputValidationWarningBorder,\n            inputValidationErrorBackground: this.inputValidationErrorBackground,\n            inputValidationErrorForeground: this.inputValidationErrorForeground,\n            inputValidationErrorBorder: this.inputValidationErrorBorder,\n            history,\n            showHistoryHint: options.showHistoryHint,\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight\n        }));\n        this.regex = this._register(new RegexCheckbox({\n            appendTitle: appendRegexLabel,\n            isChecked: false,\n            inputActiveOptionBorder: this.inputActiveOptionBorder,\n            inputActiveOptionForeground: this.inputActiveOptionForeground,\n            inputActiveOptionBackground: this.inputActiveOptionBackground\n        }));\n        this._register(this.regex.onChange(viaKeyboard => {\n            this._onDidOptionChange.fire(viaKeyboard);\n            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                this.inputBox.focus();\n            }\n            this.validate();\n        }));\n        this._register(this.regex.onKeyDown(e => {\n            this._onRegexKeyDown.fire(e);\n        }));\n        this.wholeWords = this._register(new WholeWordsCheckbox({\n            appendTitle: appendWholeWordsLabel,\n            isChecked: false,\n            inputActiveOptionBorder: this.inputActiveOptionBorder,\n            inputActiveOptionForeground: this.inputActiveOptionForeground,\n            inputActiveOptionBackground: this.inputActiveOptionBackground\n        }));\n        this._register(this.wholeWords.onChange(viaKeyboard => {\n            this._onDidOptionChange.fire(viaKeyboard);\n            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                this.inputBox.focus();\n            }\n            this.validate();\n        }));\n        this.caseSensitive = this._register(new CaseSensitiveCheckbox({\n            appendTitle: appendCaseSensitiveLabel,\n            isChecked: false,\n            inputActiveOptionBorder: this.inputActiveOptionBorder,\n            inputActiveOptionForeground: this.inputActiveOptionForeground,\n            inputActiveOptionBackground: this.inputActiveOptionBackground\n        }));\n        this._register(this.caseSensitive.onChange(viaKeyboard => {\n            this._onDidOptionChange.fire(viaKeyboard);\n            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                this.inputBox.focus();\n            }\n            this.validate();\n        }));\n        this._register(this.caseSensitive.onKeyDown(e => {\n            this._onCaseSensitiveKeyDown.fire(e);\n        }));\n        if (this._showOptionButtons) {\n            this.inputBox.paddingRight = this.caseSensitive.width() + this.wholeWords.width() + this.regex.width();\n        }\n        // Arrow-Key support to navigate between options\n        let indexes = [this.caseSensitive.domNode, this.wholeWords.domNode, this.regex.domNode];\n        this.onkeydown(this.domNode, (event) => {\n            if (event.equals(15 /* LeftArrow */) || event.equals(17 /* RightArrow */) || event.equals(9 /* Escape */)) {\n                let index = indexes.indexOf(document.activeElement);\n                if (index >= 0) {\n                    let newIndex = -1;\n                    if (event.equals(17 /* RightArrow */)) {\n                        newIndex = (index + 1) % indexes.length;\n                    }\n                    else if (event.equals(15 /* LeftArrow */)) {\n                        if (index === 0) {\n                            newIndex = indexes.length - 1;\n                        }\n                        else {\n                            newIndex = index - 1;\n                        }\n                    }\n                    if (event.equals(9 /* Escape */)) {\n                        indexes[index].blur();\n                        this.inputBox.focus();\n                    }\n                    else if (newIndex >= 0) {\n                        indexes[newIndex].focus();\n                    }\n                    dom.EventHelper.stop(event, true);\n                }\n            }\n        });\n        this.controls = document.createElement('div');\n        this.controls.className = 'controls';\n        this.controls.style.display = this._showOptionButtons ? 'block' : 'none';\n        this.controls.appendChild(this.caseSensitive.domNode);\n        this.controls.appendChild(this.wholeWords.domNode);\n        this.controls.appendChild(this.regex.domNode);\n        this.domNode.appendChild(this.controls);\n        if (parent) {\n            parent.appendChild(this.domNode);\n        }\n        this._register(dom.addDisposableListener(this.inputBox.inputElement, 'compositionstart', (e) => {\n            this.imeSessionInProgress = true;\n        }));\n        this._register(dom.addDisposableListener(this.inputBox.inputElement, 'compositionend', (e) => {\n            this.imeSessionInProgress = false;\n            this._onInput.fire();\n        }));\n        this.onkeydown(this.inputBox.inputElement, (e) => this._onKeyDown.fire(e));\n        this.onkeyup(this.inputBox.inputElement, (e) => this._onKeyUp.fire(e));\n        this.oninput(this.inputBox.inputElement, (e) => this._onInput.fire());\n        this.onmousedown(this.inputBox.inputElement, (e) => this._onMouseDown.fire(e));\n    }\n    enable() {\n        this.domNode.classList.remove('disabled');\n        this.inputBox.enable();\n        this.regex.enable();\n        this.wholeWords.enable();\n        this.caseSensitive.enable();\n    }\n    disable() {\n        this.domNode.classList.add('disabled');\n        this.inputBox.disable();\n        this.regex.disable();\n        this.wholeWords.disable();\n        this.caseSensitive.disable();\n    }\n    setFocusInputOnOptionClick(value) {\n        this.fixFocusOnOptionClickEnabled = value;\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    }\n    getValue() {\n        return this.inputBox.value;\n    }\n    setValue(value) {\n        if (this.inputBox.value !== value) {\n            this.inputBox.value = value;\n        }\n    }\n    style(styles) {\n        this.inputActiveOptionBorder = styles.inputActiveOptionBorder;\n        this.inputActiveOptionForeground = styles.inputActiveOptionForeground;\n        this.inputActiveOptionBackground = styles.inputActiveOptionBackground;\n        this.inputBackground = styles.inputBackground;\n        this.inputForeground = styles.inputForeground;\n        this.inputBorder = styles.inputBorder;\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\n        this.applyStyles();\n    }\n    applyStyles() {\n        if (this.domNode) {\n            const checkBoxStyles = {\n                inputActiveOptionBorder: this.inputActiveOptionBorder,\n                inputActiveOptionForeground: this.inputActiveOptionForeground,\n                inputActiveOptionBackground: this.inputActiveOptionBackground,\n            };\n            this.regex.style(checkBoxStyles);\n            this.wholeWords.style(checkBoxStyles);\n            this.caseSensitive.style(checkBoxStyles);\n            const inputBoxStyles = {\n                inputBackground: this.inputBackground,\n                inputForeground: this.inputForeground,\n                inputBorder: this.inputBorder,\n                inputValidationInfoBackground: this.inputValidationInfoBackground,\n                inputValidationInfoForeground: this.inputValidationInfoForeground,\n                inputValidationInfoBorder: this.inputValidationInfoBorder,\n                inputValidationWarningBackground: this.inputValidationWarningBackground,\n                inputValidationWarningForeground: this.inputValidationWarningForeground,\n                inputValidationWarningBorder: this.inputValidationWarningBorder,\n                inputValidationErrorBackground: this.inputValidationErrorBackground,\n                inputValidationErrorForeground: this.inputValidationErrorForeground,\n                inputValidationErrorBorder: this.inputValidationErrorBorder\n            };\n            this.inputBox.style(inputBoxStyles);\n        }\n    }\n    select() {\n        this.inputBox.select();\n    }\n    focus() {\n        this.inputBox.focus();\n    }\n    getCaseSensitive() {\n        return this.caseSensitive.checked;\n    }\n    setCaseSensitive(value) {\n        this.caseSensitive.checked = value;\n    }\n    getWholeWords() {\n        return this.wholeWords.checked;\n    }\n    setWholeWords(value) {\n        this.wholeWords.checked = value;\n    }\n    getRegex() {\n        return this.regex.checked;\n    }\n    setRegex(value) {\n        this.regex.checked = value;\n        this.validate();\n    }\n    focusOnCaseSensitive() {\n        this.caseSensitive.focus();\n    }\n    highlightFindOptions() {\n        this.domNode.classList.remove('highlight-' + (this._lastHighlightFindOptions));\n        this._lastHighlightFindOptions = 1 - this._lastHighlightFindOptions;\n        this.domNode.classList.add('highlight-' + (this._lastHighlightFindOptions));\n    }\n    validate() {\n        this.inputBox.validate();\n    }\n    clearMessage() {\n        this.inputBox.hideMessage();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Checkbox } from '../checkbox/checkbox.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport * as nls from '../../../../nls.js';\nconst NLS_CASE_SENSITIVE_CHECKBOX_LABEL = nls.localize('caseDescription', \"Match Case\");\nconst NLS_WHOLE_WORD_CHECKBOX_LABEL = nls.localize('wordsDescription', \"Match Whole Word\");\nconst NLS_REGEX_CHECKBOX_LABEL = nls.localize('regexDescription', \"Use Regular Expression\");\nexport class CaseSensitiveCheckbox extends Checkbox {\n    constructor(opts) {\n        super({\n            icon: Codicon.caseSensitive,\n            title: NLS_CASE_SENSITIVE_CHECKBOX_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class WholeWordsCheckbox extends Checkbox {\n    constructor(opts) {\n        super({\n            icon: Codicon.wholeWord,\n            title: NLS_WHOLE_WORD_CHECKBOX_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class RegexCheckbox extends Checkbox {\n    constructor(opts) {\n        super({\n            icon: Codicon.regex,\n            title: NLS_REGEX_CHECKBOX_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { Checkbox } from '../checkbox/checkbox.js';\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\nimport { Widget } from '../widget.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport { Emitter } from '../../../common/event.js';\nimport './findInput.css';\nimport * as nls from '../../../../nls.js';\nconst NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\nconst NLS_PRESERVE_CASE_LABEL = nls.localize('label.preserveCaseCheckbox', \"Preserve Case\");\nexport class PreserveCaseCheckbox extends Checkbox {\n    constructor(opts) {\n        super({\n            // TODO: does this need its own icon?\n            icon: Codicon.preserveCase,\n            title: NLS_PRESERVE_CASE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class ReplaceInput extends Widget {\n    constructor(parent, contextViewProvider, _showOptionButtons, options) {\n        super();\n        this._showOptionButtons = _showOptionButtons;\n        this.fixFocusOnOptionClickEnabled = true;\n        this.cachedOptionsWidth = 0;\n        this._onDidOptionChange = this._register(new Emitter());\n        this.onDidOptionChange = this._onDidOptionChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._onMouseDown = this._register(new Emitter());\n        this._onInput = this._register(new Emitter());\n        this._onKeyUp = this._register(new Emitter());\n        this._onPreserveCaseKeyDown = this._register(new Emitter());\n        this.onPreserveCaseKeyDown = this._onPreserveCaseKeyDown.event;\n        this.contextViewProvider = contextViewProvider;\n        this.placeholder = options.placeholder || '';\n        this.validation = options.validation;\n        this.label = options.label || NLS_DEFAULT_LABEL;\n        this.inputActiveOptionBorder = options.inputActiveOptionBorder;\n        this.inputActiveOptionForeground = options.inputActiveOptionForeground;\n        this.inputActiveOptionBackground = options.inputActiveOptionBackground;\n        this.inputBackground = options.inputBackground;\n        this.inputForeground = options.inputForeground;\n        this.inputBorder = options.inputBorder;\n        this.inputValidationInfoBorder = options.inputValidationInfoBorder;\n        this.inputValidationInfoBackground = options.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = options.inputValidationInfoForeground;\n        this.inputValidationWarningBorder = options.inputValidationWarningBorder;\n        this.inputValidationWarningBackground = options.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = options.inputValidationWarningForeground;\n        this.inputValidationErrorBorder = options.inputValidationErrorBorder;\n        this.inputValidationErrorBackground = options.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = options.inputValidationErrorForeground;\n        const appendPreserveCaseLabel = options.appendPreserveCaseLabel || '';\n        const history = options.history || [];\n        const flexibleHeight = !!options.flexibleHeight;\n        const flexibleWidth = !!options.flexibleWidth;\n        const flexibleMaxHeight = options.flexibleMaxHeight;\n        this.domNode = document.createElement('div');\n        this.domNode.classList.add('monaco-findInput');\n        this.inputBox = this._register(new HistoryInputBox(this.domNode, this.contextViewProvider, {\n            ariaLabel: this.label || '',\n            placeholder: this.placeholder || '',\n            validationOptions: {\n                validation: this.validation\n            },\n            inputBackground: this.inputBackground,\n            inputForeground: this.inputForeground,\n            inputBorder: this.inputBorder,\n            inputValidationInfoBackground: this.inputValidationInfoBackground,\n            inputValidationInfoForeground: this.inputValidationInfoForeground,\n            inputValidationInfoBorder: this.inputValidationInfoBorder,\n            inputValidationWarningBackground: this.inputValidationWarningBackground,\n            inputValidationWarningForeground: this.inputValidationWarningForeground,\n            inputValidationWarningBorder: this.inputValidationWarningBorder,\n            inputValidationErrorBackground: this.inputValidationErrorBackground,\n            inputValidationErrorForeground: this.inputValidationErrorForeground,\n            inputValidationErrorBorder: this.inputValidationErrorBorder,\n            history,\n            showHistoryHint: options.showHistoryHint,\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight\n        }));\n        this.preserveCase = this._register(new PreserveCaseCheckbox({\n            appendTitle: appendPreserveCaseLabel,\n            isChecked: false,\n            inputActiveOptionBorder: this.inputActiveOptionBorder,\n            inputActiveOptionForeground: this.inputActiveOptionForeground,\n            inputActiveOptionBackground: this.inputActiveOptionBackground,\n        }));\n        this._register(this.preserveCase.onChange(viaKeyboard => {\n            this._onDidOptionChange.fire(viaKeyboard);\n            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                this.inputBox.focus();\n            }\n            this.validate();\n        }));\n        this._register(this.preserveCase.onKeyDown(e => {\n            this._onPreserveCaseKeyDown.fire(e);\n        }));\n        if (this._showOptionButtons) {\n            this.cachedOptionsWidth = this.preserveCase.width();\n        }\n        else {\n            this.cachedOptionsWidth = 0;\n        }\n        // Arrow-Key support to navigate between options\n        let indexes = [this.preserveCase.domNode];\n        this.onkeydown(this.domNode, (event) => {\n            if (event.equals(15 /* LeftArrow */) || event.equals(17 /* RightArrow */) || event.equals(9 /* Escape */)) {\n                let index = indexes.indexOf(document.activeElement);\n                if (index >= 0) {\n                    let newIndex = -1;\n                    if (event.equals(17 /* RightArrow */)) {\n                        newIndex = (index + 1) % indexes.length;\n                    }\n                    else if (event.equals(15 /* LeftArrow */)) {\n                        if (index === 0) {\n                            newIndex = indexes.length - 1;\n                        }\n                        else {\n                            newIndex = index - 1;\n                        }\n                    }\n                    if (event.equals(9 /* Escape */)) {\n                        indexes[index].blur();\n                        this.inputBox.focus();\n                    }\n                    else if (newIndex >= 0) {\n                        indexes[newIndex].focus();\n                    }\n                    dom.EventHelper.stop(event, true);\n                }\n            }\n        });\n        let controls = document.createElement('div');\n        controls.className = 'controls';\n        controls.style.display = this._showOptionButtons ? 'block' : 'none';\n        controls.appendChild(this.preserveCase.domNode);\n        this.domNode.appendChild(controls);\n        if (parent) {\n            parent.appendChild(this.domNode);\n        }\n        this.onkeydown(this.inputBox.inputElement, (e) => this._onKeyDown.fire(e));\n        this.onkeyup(this.inputBox.inputElement, (e) => this._onKeyUp.fire(e));\n        this.oninput(this.inputBox.inputElement, (e) => this._onInput.fire());\n        this.onmousedown(this.inputBox.inputElement, (e) => this._onMouseDown.fire(e));\n    }\n    enable() {\n        this.domNode.classList.remove('disabled');\n        this.inputBox.enable();\n        this.preserveCase.enable();\n    }\n    disable() {\n        this.domNode.classList.add('disabled');\n        this.inputBox.disable();\n        this.preserveCase.disable();\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    }\n    style(styles) {\n        this.inputActiveOptionBorder = styles.inputActiveOptionBorder;\n        this.inputActiveOptionForeground = styles.inputActiveOptionForeground;\n        this.inputActiveOptionBackground = styles.inputActiveOptionBackground;\n        this.inputBackground = styles.inputBackground;\n        this.inputForeground = styles.inputForeground;\n        this.inputBorder = styles.inputBorder;\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\n        this.applyStyles();\n    }\n    applyStyles() {\n        if (this.domNode) {\n            const checkBoxStyles = {\n                inputActiveOptionBorder: this.inputActiveOptionBorder,\n                inputActiveOptionForeground: this.inputActiveOptionForeground,\n                inputActiveOptionBackground: this.inputActiveOptionBackground,\n            };\n            this.preserveCase.style(checkBoxStyles);\n            const inputBoxStyles = {\n                inputBackground: this.inputBackground,\n                inputForeground: this.inputForeground,\n                inputBorder: this.inputBorder,\n                inputValidationInfoBackground: this.inputValidationInfoBackground,\n                inputValidationInfoForeground: this.inputValidationInfoForeground,\n                inputValidationInfoBorder: this.inputValidationInfoBorder,\n                inputValidationWarningBackground: this.inputValidationWarningBackground,\n                inputValidationWarningForeground: this.inputValidationWarningForeground,\n                inputValidationWarningBorder: this.inputValidationWarningBorder,\n                inputValidationErrorBackground: this.inputValidationErrorBackground,\n                inputValidationErrorForeground: this.inputValidationErrorForeground,\n                inputValidationErrorBorder: this.inputValidationErrorBorder\n            };\n            this.inputBox.style(inputBoxStyles);\n        }\n    }\n    select() {\n        this.inputBox.select();\n    }\n    focus() {\n        this.inputBox.focus();\n    }\n    getPreserveCase() {\n        return this.preserveCase.checked;\n    }\n    setPreserveCase(value) {\n        this.preserveCase.checked = value;\n    }\n    focusOnPreserve() {\n        this.preserveCase.focus();\n    }\n    validate() {\n        if (this.inputBox) {\n            this.inputBox.validate();\n        }\n    }\n    set width(newWidth) {\n        this.inputBox.paddingRight = this.cachedOptionsWidth;\n        this.inputBox.width = newWidth;\n        this.domNode.style.width = newWidth + 'px';\n    }\n    dispose() {\n        super.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nimport * as objects from '../../../common/objects.js';\n/**\n * A widget which can render a label with substring highlights, often\n * originating from a filter function like the fuzzy matcher.\n */\nexport class HighlightedLabel {\n    /**\n     * Create a new {@link HighlightedLabel}.\n     *\n     * @param container The parent container to append to.\n     */\n    constructor(container, options) {\n        var _a;\n        this.text = '';\n        this.title = '';\n        this.highlights = [];\n        this.didEverRender = false;\n        this.supportIcons = (_a = options === null || options === void 0 ? void 0 : options.supportIcons) !== null && _a !== void 0 ? _a : false;\n        this.domNode = dom.append(container, dom.$('span.monaco-highlighted-label'));\n    }\n    /**\n     * The label's DOM node.\n     */\n    get element() {\n        return this.domNode;\n    }\n    /**\n     * Set the label and highlights.\n     *\n     * @param text The label to display.\n     * @param highlights The ranges to highlight.\n     * @param title An optional title for the hover tooltip.\n     * @param escapeNewLines Whether to escape new lines.\n     * @returns\n     */\n    set(text, highlights = [], title = '', escapeNewLines) {\n        if (!text) {\n            text = '';\n        }\n        if (escapeNewLines) {\n            // adjusts highlights inplace\n            text = HighlightedLabel.escapeNewLines(text, highlights);\n        }\n        if (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\n            return;\n        }\n        this.text = text;\n        this.title = title;\n        this.highlights = highlights;\n        this.render();\n    }\n    render() {\n        const children = [];\n        let pos = 0;\n        for (const highlight of this.highlights) {\n            if (highlight.end === highlight.start) {\n                continue;\n            }\n            if (pos < highlight.start) {\n                const substring = this.text.substring(pos, highlight.start);\n                children.push(dom.$('span', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]));\n                pos = highlight.end;\n            }\n            const substring = this.text.substring(highlight.start, highlight.end);\n            const element = dom.$('span.highlight', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]);\n            if (highlight.extraClasses) {\n                element.classList.add(...highlight.extraClasses);\n            }\n            children.push(element);\n            pos = highlight.end;\n        }\n        if (pos < this.text.length) {\n            const substring = this.text.substring(pos);\n            children.push(dom.$('span', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]));\n        }\n        dom.reset(this.domNode, ...children);\n        if (this.title) {\n            this.domNode.title = this.title;\n        }\n        else {\n            this.domNode.removeAttribute('title');\n        }\n        this.didEverRender = true;\n    }\n    static escapeNewLines(text, highlights) {\n        let total = 0;\n        let extra = 0;\n        return text.replace(/\\r\\n|\\r|\\n/g, (match, offset) => {\n            extra = match === '\\r\\n' ? -1 : 0;\n            offset += total;\n            for (const highlight of highlights) {\n                if (highlight.end <= offset) {\n                    continue;\n                }\n                if (highlight.start >= offset) {\n                    highlight.start += extra;\n                }\n                if (highlight.end >= offset) {\n                    highlight.end += extra;\n                }\n            }\n            total += extra;\n            return '\\u23CE';\n        });\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { DomScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './hover.css';\nconst $ = dom.$;\nexport class HoverWidget extends Disposable {\n    constructor() {\n        super();\n        this.containerDomNode = document.createElement('div');\n        this.containerDomNode.className = 'monaco-hover';\n        this.containerDomNode.tabIndex = 0;\n        this.containerDomNode.setAttribute('role', 'tooltip');\n        this.contentsDomNode = document.createElement('div');\n        this.contentsDomNode.className = 'monaco-hover-content';\n        this.scrollbar = this._register(new DomScrollableElement(this.contentsDomNode, {\n            consumeMouseWheelIfScrollbarIsNeeded: true\n        }));\n        this.containerDomNode.appendChild(this.scrollbar.getDomNode());\n    }\n    onContentsChanged() {\n        this.scrollbar.scanDomNode();\n    }\n}\nexport class HoverAction extends Disposable {\n    constructor(parent, actionOptions, keybindingLabel) {\n        super();\n        this.actionContainer = dom.append(parent, $('div.action-container'));\n        this.action = dom.append(this.actionContainer, $('a.action'));\n        this.action.setAttribute('role', 'button');\n        if (actionOptions.iconClass) {\n            dom.append(this.action, $(`span.icon.${actionOptions.iconClass}`));\n        }\n        const label = dom.append(this.action, $('span'));\n        label.textContent = keybindingLabel ? `${actionOptions.label} (${keybindingLabel})` : actionOptions.label;\n        this._register(dom.addDisposableListener(this.actionContainer, dom.EventType.MOUSE_DOWN, e => {\n            e.stopPropagation();\n            e.preventDefault();\n            actionOptions.run(this.actionContainer);\n        }));\n        this.setEnabled(true);\n    }\n    static render(parent, actionOptions, keybindingLabel) {\n        return new HoverAction(parent, actionOptions, keybindingLabel);\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.actionContainer.classList.remove('disabled');\n            this.actionContainer.removeAttribute('aria-disabled');\n        }\n        else {\n            this.actionContainer.classList.add('disabled');\n            this.actionContainer.setAttribute('aria-disabled', 'true');\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../dom.js';\nimport { TimeoutTimer } from '../../../common/async.js';\nimport { CancellationTokenSource } from '../../../common/cancellation.js';\nimport { isMarkdownString } from '../../../common/htmlContent.js';\nimport { stripIcons } from '../../../common/iconLabels.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nimport { isFunction, isString } from '../../../common/types.js';\nimport { localize } from '../../../../nls.js';\nexport function setupNativeHover(htmlElement, tooltip) {\n    if (isString(tooltip)) {\n        // Icons don't render in the native hover so we strip them out\n        htmlElement.title = stripIcons(tooltip);\n    }\n    else if (tooltip === null || tooltip === void 0 ? void 0 : tooltip.markdownNotSupportedFallback) {\n        htmlElement.title = tooltip.markdownNotSupportedFallback;\n    }\n    else {\n        htmlElement.removeAttribute('title');\n    }\n}\nclass UpdatableHoverWidget {\n    constructor(hoverDelegate, target, fadeInAnimation) {\n        this.hoverDelegate = hoverDelegate;\n        this.target = target;\n        this.fadeInAnimation = fadeInAnimation;\n    }\n    update(markdownTooltip, focus) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._cancellationTokenSource) {\n                // there's an computation ongoing, cancel it\n                this._cancellationTokenSource.dispose(true);\n                this._cancellationTokenSource = undefined;\n            }\n            if (this.isDisposed) {\n                return;\n            }\n            let resolvedContent;\n            if (markdownTooltip === undefined || isString(markdownTooltip) || markdownTooltip instanceof HTMLElement) {\n                resolvedContent = markdownTooltip;\n            }\n            else if (!isFunction(markdownTooltip.markdown)) {\n                resolvedContent = (_a = markdownTooltip.markdown) !== null && _a !== void 0 ? _a : markdownTooltip.markdownNotSupportedFallback;\n            }\n            else {\n                // compute the content, potentially long-running\n                // show 'Loading' if no hover is up yet\n                if (!this._hoverWidget) {\n                    this.show(localize('iconLabel.loading', \"Loading...\"), focus);\n                }\n                // compute the content\n                this._cancellationTokenSource = new CancellationTokenSource();\n                const token = this._cancellationTokenSource.token;\n                resolvedContent = yield markdownTooltip.markdown(token);\n                if (this.isDisposed || token.isCancellationRequested) {\n                    // either the widget has been closed in the meantime\n                    // or there has been a new call to `update`\n                    return;\n                }\n            }\n            this.show(resolvedContent, focus);\n        });\n    }\n    show(content, focus) {\n        const oldHoverWidget = this._hoverWidget;\n        if (this.hasContent(content)) {\n            const hoverOptions = {\n                content,\n                target: this.target,\n                showPointer: this.hoverDelegate.placement === 'element',\n                hoverPosition: 2 /* BELOW */,\n                skipFadeInAnimation: !this.fadeInAnimation || !!oldHoverWidget // do not fade in if the hover is already showing\n            };\n            this._hoverWidget = this.hoverDelegate.showHover(hoverOptions, focus);\n        }\n        oldHoverWidget === null || oldHoverWidget === void 0 ? void 0 : oldHoverWidget.dispose();\n    }\n    hasContent(content) {\n        if (!content) {\n            return false;\n        }\n        if (isMarkdownString(content)) {\n            return !!content.value;\n        }\n        return true;\n    }\n    get isDisposed() {\n        var _a;\n        return (_a = this._hoverWidget) === null || _a === void 0 ? void 0 : _a.isDisposed;\n    }\n    dispose() {\n        var _a, _b;\n        (_a = this._hoverWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n        (_b = this._cancellationTokenSource) === null || _b === void 0 ? void 0 : _b.dispose(true);\n        this._cancellationTokenSource = undefined;\n    }\n}\nexport function setupCustomHover(hoverDelegate, htmlElement, markdownTooltip) {\n    let hoverPreparation;\n    let hoverWidget;\n    const hideHover = (disposeWidget, disposePreparation) => {\n        var _a;\n        if (disposeWidget) {\n            hoverWidget === null || hoverWidget === void 0 ? void 0 : hoverWidget.dispose();\n            hoverWidget = undefined;\n        }\n        if (disposePreparation) {\n            hoverPreparation === null || hoverPreparation === void 0 ? void 0 : hoverPreparation.dispose();\n            hoverPreparation = undefined;\n        }\n        (_a = hoverDelegate.onDidHideHover) === null || _a === void 0 ? void 0 : _a.call(hoverDelegate);\n    };\n    const triggerShowHover = (delay, focus, target) => {\n        return new TimeoutTimer(() => __awaiter(this, void 0, void 0, function* () {\n            if (!hoverWidget || hoverWidget.isDisposed) {\n                hoverWidget = new UpdatableHoverWidget(hoverDelegate, target || htmlElement, delay > 0);\n                yield hoverWidget.update(markdownTooltip, focus);\n            }\n        }), delay);\n    };\n    const onMouseOver = () => {\n        if (hoverPreparation) {\n            return;\n        }\n        const toDispose = new DisposableStore();\n        const onMouseLeave = (e) => hideHover(false, e.fromElement === htmlElement);\n        toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_LEAVE, onMouseLeave, true));\n        const onMouseDown = () => hideHover(true, true);\n        toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_DOWN, onMouseDown, true));\n        const target = {\n            targetElements: [htmlElement],\n            dispose: () => { }\n        };\n        if (hoverDelegate.placement === undefined || hoverDelegate.placement === 'mouse') {\n            // track the mouse position\n            const onMouseMove = (e) => target.x = e.x + 10;\n            toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_MOVE, onMouseMove, true));\n        }\n        toDispose.add(triggerShowHover(hoverDelegate.delay, false, target));\n        hoverPreparation = toDispose;\n    };\n    const mouseOverDomEmitter = dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_OVER, onMouseOver, true);\n    const hover = {\n        show: focus => {\n            hideHover(false, true); // terminate a ongoing mouse over preparation\n            triggerShowHover(0, focus); // show hover immediately\n        },\n        hide: () => {\n            hideHover(true, true);\n        },\n        update: (newTooltip) => __awaiter(this, void 0, void 0, function* () {\n            markdownTooltip = newTooltip;\n            yield (hoverWidget === null || hoverWidget === void 0 ? void 0 : hoverWidget.update(markdownTooltip));\n        }),\n        dispose: () => {\n            mouseOverDomEmitter.dispose();\n            hideHover(true, true);\n        }\n    };\n    return hover;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { HighlightedLabel } from '../highlightedlabel/highlightedLabel.js';\nimport { setupCustomHover, setupNativeHover } from './iconLabelHover.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport { equals } from '../../../common/objects.js';\nimport { Range } from '../../../common/range.js';\nimport './iconlabel.css';\nclass FastLabelNode {\n    constructor(_element) {\n        this._element = _element;\n    }\n    get element() {\n        return this._element;\n    }\n    set textContent(content) {\n        if (this.disposed || content === this._textContent) {\n            return;\n        }\n        this._textContent = content;\n        this._element.textContent = content;\n    }\n    set className(className) {\n        if (this.disposed || className === this._className) {\n            return;\n        }\n        this._className = className;\n        this._element.className = className;\n    }\n    set empty(empty) {\n        if (this.disposed || empty === this._empty) {\n            return;\n        }\n        this._empty = empty;\n        this._element.style.marginLeft = empty ? '0' : '';\n    }\n    dispose() {\n        this.disposed = true;\n    }\n}\nexport class IconLabel extends Disposable {\n    constructor(container, options) {\n        super();\n        this.customHovers = new Map();\n        this.domNode = this._register(new FastLabelNode(dom.append(container, dom.$('.monaco-icon-label'))));\n        this.labelContainer = dom.append(this.domNode.element, dom.$('.monaco-icon-label-container'));\n        const nameContainer = dom.append(this.labelContainer, dom.$('span.monaco-icon-name-container'));\n        this.descriptionContainer = this._register(new FastLabelNode(dom.append(this.labelContainer, dom.$('span.monaco-icon-description-container'))));\n        if ((options === null || options === void 0 ? void 0 : options.supportHighlights) || (options === null || options === void 0 ? void 0 : options.supportIcons)) {\n            this.nameNode = new LabelWithHighlights(nameContainer, !!options.supportIcons);\n        }\n        else {\n            this.nameNode = new Label(nameContainer);\n        }\n        if (options === null || options === void 0 ? void 0 : options.supportDescriptionHighlights) {\n            this.descriptionNodeFactory = () => new HighlightedLabel(dom.append(this.descriptionContainer.element, dom.$('span.label-description')), { supportIcons: !!options.supportIcons });\n        }\n        else {\n            this.descriptionNodeFactory = () => this._register(new FastLabelNode(dom.append(this.descriptionContainer.element, dom.$('span.label-description'))));\n        }\n        this.hoverDelegate = options === null || options === void 0 ? void 0 : options.hoverDelegate;\n    }\n    get element() {\n        return this.domNode.element;\n    }\n    setLabel(label, description, options) {\n        const classes = ['monaco-icon-label'];\n        if (options) {\n            if (options.extraClasses) {\n                classes.push(...options.extraClasses);\n            }\n            if (options.italic) {\n                classes.push('italic');\n            }\n            if (options.strikethrough) {\n                classes.push('strikethrough');\n            }\n        }\n        this.domNode.className = classes.join(' ');\n        this.setupHover((options === null || options === void 0 ? void 0 : options.descriptionTitle) ? this.labelContainer : this.element, options === null || options === void 0 ? void 0 : options.title);\n        this.nameNode.setLabel(label, options);\n        if (description || this.descriptionNode) {\n            if (!this.descriptionNode) {\n                this.descriptionNode = this.descriptionNodeFactory(); // description node is created lazily on demand\n            }\n            if (this.descriptionNode instanceof HighlightedLabel) {\n                this.descriptionNode.set(description || '', options ? options.descriptionMatches : undefined);\n                this.setupHover(this.descriptionNode.element, options === null || options === void 0 ? void 0 : options.descriptionTitle);\n            }\n            else {\n                this.descriptionNode.textContent = description || '';\n                this.setupHover(this.descriptionNode.element, (options === null || options === void 0 ? void 0 : options.descriptionTitle) || '');\n                this.descriptionNode.empty = !description;\n            }\n        }\n    }\n    setupHover(htmlElement, tooltip) {\n        const previousCustomHover = this.customHovers.get(htmlElement);\n        if (previousCustomHover) {\n            previousCustomHover.dispose();\n            this.customHovers.delete(htmlElement);\n        }\n        if (!tooltip) {\n            htmlElement.removeAttribute('title');\n            return;\n        }\n        if (!this.hoverDelegate) {\n            setupNativeHover(htmlElement, tooltip);\n        }\n        else {\n            const hoverDisposable = setupCustomHover(this.hoverDelegate, htmlElement, tooltip);\n            if (hoverDisposable) {\n                this.customHovers.set(htmlElement, hoverDisposable);\n            }\n        }\n    }\n    dispose() {\n        super.dispose();\n        for (const disposable of this.customHovers.values()) {\n            disposable.dispose();\n        }\n        this.customHovers.clear();\n    }\n}\nclass Label {\n    constructor(container) {\n        this.container = container;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId }));\n            }\n            this.singleLabel.textContent = label;\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                dom.append(this.container, dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' }, l));\n                if (i < label.length - 1) {\n                    dom.append(this.container, dom.$('span.label-separator', undefined, (options === null || options === void 0 ? void 0 : options.separator) || '/'));\n                }\n            }\n        }\n    }\n}\nfunction splitMatches(labels, separator, matches) {\n    if (!matches) {\n        return undefined;\n    }\n    let labelStart = 0;\n    return labels.map(label => {\n        const labelRange = { start: labelStart, end: labelStart + label.length };\n        const result = matches\n            .map(match => Range.intersect(labelRange, match))\n            .filter(range => !Range.isEmpty(range))\n            .map(({ start, end }) => ({ start: start - labelStart, end: end - labelStart }));\n        labelStart = labelRange.end + separator.length;\n        return result;\n    });\n}\nclass LabelWithHighlights {\n    constructor(container, supportIcons) {\n        this.container = container;\n        this.supportIcons = supportIcons;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = new HighlightedLabel(dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId })), { supportIcons: this.supportIcons });\n            }\n            this.singleLabel.set(label, options === null || options === void 0 ? void 0 : options.matches, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            const separator = (options === null || options === void 0 ? void 0 : options.separator) || '/';\n            const matches = splitMatches(label, separator, options === null || options === void 0 ? void 0 : options.matches);\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const m = matches ? matches[i] : undefined;\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                const name = dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' });\n                const highlightedLabel = new HighlightedLabel(dom.append(this.container, name), { supportIcons: this.supportIcons });\n                highlightedLabel.set(l, m, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n                if (i < label.length - 1) {\n                    dom.append(name, dom.$('span.label-separator', undefined, separator));\n                }\n            }\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { CSSIcon } from '../../../common/codicons.js';\nconst labelWithIconsRegex = new RegExp(`(\\\\\\\\)?\\\\$\\\\((${CSSIcon.iconNameExpression}(?:${CSSIcon.iconModifierExpression})?)\\\\)`, 'g');\nexport function renderLabelWithIcons(text) {\n    const elements = new Array();\n    let match;\n    let textStart = 0, textStop = 0;\n    while ((match = labelWithIconsRegex.exec(text)) !== null) {\n        textStop = match.index || 0;\n        elements.push(text.substring(textStart, textStop));\n        textStart = (match.index || 0) + match[0].length;\n        const [, escaped, codicon] = match;\n        elements.push(escaped ? `$(${codicon})` : renderIcon({ id: codicon }));\n    }\n    if (textStart < text.length) {\n        elements.push(text.substring(textStart));\n    }\n    return elements;\n}\nexport function renderIcon(icon) {\n    const node = dom.$(`span`);\n    node.classList.add(...CSSIcon.asClassNameArray(icon));\n    return node;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport * as aria from '../aria/aria.js';\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Widget } from '../widget.js';\nimport { Color } from '../../../common/color.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { HistoryNavigator } from '../../../common/history.js';\nimport { mixin } from '../../../common/objects.js';\nimport './inputBox.css';\nimport * as nls from '../../../../nls.js';\nconst $ = dom.$;\nconst defaultOpts = {\n    inputBackground: Color.fromHex('#3C3C3C'),\n    inputForeground: Color.fromHex('#CCCCCC'),\n    inputValidationInfoBorder: Color.fromHex('#55AAFF'),\n    inputValidationInfoBackground: Color.fromHex('#063B49'),\n    inputValidationWarningBorder: Color.fromHex('#B89500'),\n    inputValidationWarningBackground: Color.fromHex('#352A05'),\n    inputValidationErrorBorder: Color.fromHex('#BE1100'),\n    inputValidationErrorBackground: Color.fromHex('#5A1D1D')\n};\nexport class InputBox extends Widget {\n    constructor(container, contextViewProvider, options) {\n        var _a;\n        super();\n        this.state = 'idle';\n        this.maxHeight = Number.POSITIVE_INFINITY;\n        this._onDidChange = this._register(new Emitter());\n        this.onDidChange = this._onDidChange.event;\n        this._onDidHeightChange = this._register(new Emitter());\n        this.onDidHeightChange = this._onDidHeightChange.event;\n        this.contextViewProvider = contextViewProvider;\n        this.options = options || Object.create(null);\n        mixin(this.options, defaultOpts, false);\n        this.message = null;\n        this.placeholder = this.options.placeholder || '';\n        this.tooltip = (_a = this.options.tooltip) !== null && _a !== void 0 ? _a : (this.placeholder || '');\n        this.ariaLabel = this.options.ariaLabel || '';\n        this.inputBackground = this.options.inputBackground;\n        this.inputForeground = this.options.inputForeground;\n        this.inputBorder = this.options.inputBorder;\n        this.inputValidationInfoBorder = this.options.inputValidationInfoBorder;\n        this.inputValidationInfoBackground = this.options.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = this.options.inputValidationInfoForeground;\n        this.inputValidationWarningBorder = this.options.inputValidationWarningBorder;\n        this.inputValidationWarningBackground = this.options.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = this.options.inputValidationWarningForeground;\n        this.inputValidationErrorBorder = this.options.inputValidationErrorBorder;\n        this.inputValidationErrorBackground = this.options.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = this.options.inputValidationErrorForeground;\n        if (this.options.validationOptions) {\n            this.validation = this.options.validationOptions.validation;\n        }\n        this.element = dom.append(container, $('.monaco-inputbox.idle'));\n        let tagName = this.options.flexibleHeight ? 'textarea' : 'input';\n        let wrapper = dom.append(this.element, $('.ibwrapper'));\n        this.input = dom.append(wrapper, $(tagName + '.input.empty'));\n        this.input.setAttribute('autocorrect', 'off');\n        this.input.setAttribute('autocapitalize', 'off');\n        this.input.setAttribute('spellcheck', 'false');\n        this.onfocus(this.input, () => this.element.classList.add('synthetic-focus'));\n        this.onblur(this.input, () => this.element.classList.remove('synthetic-focus'));\n        if (this.options.flexibleHeight) {\n            this.maxHeight = typeof this.options.flexibleMaxHeight === 'number' ? this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\n            this.mirror = dom.append(wrapper, $('div.mirror'));\n            this.mirror.innerText = '\\u00a0';\n            this.scrollableElement = new ScrollableElement(this.element, { vertical: 1 /* Auto */ });\n            if (this.options.flexibleWidth) {\n                this.input.setAttribute('wrap', 'off');\n                this.mirror.style.whiteSpace = 'pre';\n                this.mirror.style.wordWrap = 'initial';\n            }\n            dom.append(container, this.scrollableElement.getDomNode());\n            this._register(this.scrollableElement);\n            // from ScrollableElement to DOM\n            this._register(this.scrollableElement.onScroll(e => this.input.scrollTop = e.scrollTop));\n            const onSelectionChange = this._register(new DomEmitter(document, 'selectionchange'));\n            const onAnchoredSelectionChange = Event.filter(onSelectionChange.event, () => {\n                const selection = document.getSelection();\n                return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === wrapper;\n            });\n            // from DOM to ScrollableElement\n            this._register(onAnchoredSelectionChange(this.updateScrollDimensions, this));\n            this._register(this.onDidHeightChange(this.updateScrollDimensions, this));\n        }\n        else {\n            this.input.type = this.options.type || 'text';\n            this.input.setAttribute('wrap', 'off');\n        }\n        if (this.ariaLabel) {\n            this.input.setAttribute('aria-label', this.ariaLabel);\n        }\n        if (this.placeholder && !this.options.showPlaceholderOnFocus) {\n            this.setPlaceHolder(this.placeholder);\n        }\n        if (this.tooltip) {\n            this.setTooltip(this.tooltip);\n        }\n        this.oninput(this.input, () => this.onValueChange());\n        this.onblur(this.input, () => this.onBlur());\n        this.onfocus(this.input, () => this.onFocus());\n        this.ignoreGesture(this.input);\n        setTimeout(() => this.updateMirror(), 0);\n        // Support actions\n        if (this.options.actions) {\n            this.actionbar = this._register(new ActionBar(this.element));\n            this.actionbar.push(this.options.actions, { icon: true, label: false });\n        }\n        this.applyStyles();\n    }\n    onBlur() {\n        this._hideMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', '');\n        }\n    }\n    onFocus() {\n        this._showMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', this.placeholder || '');\n        }\n    }\n    setPlaceHolder(placeHolder) {\n        this.placeholder = placeHolder;\n        this.input.setAttribute('placeholder', placeHolder);\n    }\n    setTooltip(tooltip) {\n        this.tooltip = tooltip;\n        this.input.title = tooltip;\n    }\n    setAriaLabel(label) {\n        this.ariaLabel = label;\n        if (label) {\n            this.input.setAttribute('aria-label', this.ariaLabel);\n        }\n        else {\n            this.input.removeAttribute('aria-label');\n        }\n    }\n    getAriaLabel() {\n        return this.ariaLabel;\n    }\n    get inputElement() {\n        return this.input;\n    }\n    get value() {\n        return this.input.value;\n    }\n    set value(newValue) {\n        if (this.input.value !== newValue) {\n            this.input.value = newValue;\n            this.onValueChange();\n        }\n    }\n    get height() {\n        return typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\n    }\n    focus() {\n        this.input.focus();\n    }\n    blur() {\n        this.input.blur();\n    }\n    hasFocus() {\n        return document.activeElement === this.input;\n    }\n    select(range = null) {\n        this.input.select();\n        if (range) {\n            this.input.setSelectionRange(range.start, range.end);\n            if (range.end === this.input.value.length) {\n                this.input.scrollLeft = this.input.scrollWidth;\n            }\n        }\n    }\n    isSelectionAtEnd() {\n        return this.input.selectionEnd === this.input.value.length && this.input.selectionStart === this.input.selectionEnd;\n    }\n    enable() {\n        this.input.removeAttribute('disabled');\n    }\n    disable() {\n        this.blur();\n        this.input.disabled = true;\n        this._hideMessage();\n    }\n    get width() {\n        return dom.getTotalWidth(this.input);\n    }\n    set width(width) {\n        if (this.options.flexibleHeight && this.options.flexibleWidth) {\n            // textarea with horizontal scrolling\n            let horizontalPadding = 0;\n            if (this.mirror) {\n                const paddingLeft = parseFloat(this.mirror.style.paddingLeft || '') || 0;\n                const paddingRight = parseFloat(this.mirror.style.paddingRight || '') || 0;\n                horizontalPadding = paddingLeft + paddingRight;\n            }\n            this.input.style.width = (width - horizontalPadding) + 'px';\n        }\n        else {\n            this.input.style.width = width + 'px';\n        }\n        if (this.mirror) {\n            this.mirror.style.width = width + 'px';\n        }\n    }\n    set paddingRight(paddingRight) {\n        // Set width to avoid hint text overlapping buttons\n        this.input.style.width = `calc(100% - ${paddingRight}px)`;\n        if (this.mirror) {\n            this.mirror.style.paddingRight = paddingRight + 'px';\n        }\n    }\n    updateScrollDimensions() {\n        if (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\n            return;\n        }\n        const scrollHeight = this.cachedContentHeight;\n        const height = this.cachedHeight;\n        const scrollTop = this.input.scrollTop;\n        this.scrollableElement.setScrollDimensions({ scrollHeight, height });\n        this.scrollableElement.setScrollPosition({ scrollTop });\n    }\n    showMessage(message, force) {\n        this.message = message;\n        this.element.classList.remove('idle');\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add(this.classForType(message.type));\n        const styles = this.stylesForType(this.message.type);\n        this.element.style.border = styles.border ? `1px solid ${styles.border}` : '';\n        if (this.hasFocus() || force) {\n            this._showMessage();\n        }\n    }\n    hideMessage() {\n        this.message = null;\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add('idle');\n        this._hideMessage();\n        this.applyStyles();\n    }\n    validate() {\n        let errorMsg = null;\n        if (this.validation) {\n            errorMsg = this.validation(this.value);\n            if (errorMsg) {\n                this.inputElement.setAttribute('aria-invalid', 'true');\n                this.showMessage(errorMsg);\n            }\n            else if (this.inputElement.hasAttribute('aria-invalid')) {\n                this.inputElement.removeAttribute('aria-invalid');\n                this.hideMessage();\n            }\n        }\n        return errorMsg === null || errorMsg === void 0 ? void 0 : errorMsg.type;\n    }\n    stylesForType(type) {\n        switch (type) {\n            case 1 /* INFO */: return { border: this.inputValidationInfoBorder, background: this.inputValidationInfoBackground, foreground: this.inputValidationInfoForeground };\n            case 2 /* WARNING */: return { border: this.inputValidationWarningBorder, background: this.inputValidationWarningBackground, foreground: this.inputValidationWarningForeground };\n            default: return { border: this.inputValidationErrorBorder, background: this.inputValidationErrorBackground, foreground: this.inputValidationErrorForeground };\n        }\n    }\n    classForType(type) {\n        switch (type) {\n            case 1 /* INFO */: return 'info';\n            case 2 /* WARNING */: return 'warning';\n            default: return 'error';\n        }\n    }\n    _showMessage() {\n        if (!this.contextViewProvider || !this.message) {\n            return;\n        }\n        let div;\n        let layout = () => div.style.width = dom.getTotalWidth(this.element) + 'px';\n        this.contextViewProvider.showContextView({\n            getAnchor: () => this.element,\n            anchorAlignment: 1 /* RIGHT */,\n            render: (container) => {\n                if (!this.message) {\n                    return null;\n                }\n                div = dom.append(container, $('.monaco-inputbox-container'));\n                layout();\n                const renderOptions = {\n                    inline: true,\n                    className: 'monaco-inputbox-message'\n                };\n                const spanElement = (this.message.formatContent\n                    ? renderFormattedText(this.message.content, renderOptions)\n                    : renderText(this.message.content, renderOptions));\n                spanElement.classList.add(this.classForType(this.message.type));\n                const styles = this.stylesForType(this.message.type);\n                spanElement.style.backgroundColor = styles.background ? styles.background.toString() : '';\n                spanElement.style.color = styles.foreground ? styles.foreground.toString() : '';\n                spanElement.style.border = styles.border ? `1px solid ${styles.border}` : '';\n                dom.append(div, spanElement);\n                return null;\n            },\n            onHide: () => {\n                this.state = 'closed';\n            },\n            layout: layout\n        });\n        // ARIA Support\n        let alertText;\n        if (this.message.type === 3 /* ERROR */) {\n            alertText = nls.localize('alertErrorMessage', \"Error: {0}\", this.message.content);\n        }\n        else if (this.message.type === 2 /* WARNING */) {\n            alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", this.message.content);\n        }\n        else {\n            alertText = nls.localize('alertInfoMessage', \"Info: {0}\", this.message.content);\n        }\n        aria.alert(alertText);\n        this.state = 'open';\n    }\n    _hideMessage() {\n        if (!this.contextViewProvider) {\n            return;\n        }\n        if (this.state === 'open') {\n            this.contextViewProvider.hideContextView();\n        }\n        this.state = 'idle';\n    }\n    onValueChange() {\n        this._onDidChange.fire(this.value);\n        this.validate();\n        this.updateMirror();\n        this.input.classList.toggle('empty', !this.value);\n        if (this.state === 'open' && this.contextViewProvider) {\n            this.contextViewProvider.layout();\n        }\n    }\n    updateMirror() {\n        if (!this.mirror) {\n            return;\n        }\n        const value = this.value;\n        const lastCharCode = value.charCodeAt(value.length - 1);\n        const suffix = lastCharCode === 10 ? ' ' : '';\n        const mirrorTextContent = (value + suffix)\n            .replace(/\\u000c/g, ''); // Don't measure with the form feed character, which messes up sizing\n        if (mirrorTextContent) {\n            this.mirror.textContent = value + suffix;\n        }\n        else {\n            this.mirror.innerText = '\\u00a0';\n        }\n        this.layout();\n    }\n    style(styles) {\n        this.inputBackground = styles.inputBackground;\n        this.inputForeground = styles.inputForeground;\n        this.inputBorder = styles.inputBorder;\n        this.inputValidationInfoBackground = styles.inputValidationInfoBackground;\n        this.inputValidationInfoForeground = styles.inputValidationInfoForeground;\n        this.inputValidationInfoBorder = styles.inputValidationInfoBorder;\n        this.inputValidationWarningBackground = styles.inputValidationWarningBackground;\n        this.inputValidationWarningForeground = styles.inputValidationWarningForeground;\n        this.inputValidationWarningBorder = styles.inputValidationWarningBorder;\n        this.inputValidationErrorBackground = styles.inputValidationErrorBackground;\n        this.inputValidationErrorForeground = styles.inputValidationErrorForeground;\n        this.inputValidationErrorBorder = styles.inputValidationErrorBorder;\n        this.applyStyles();\n    }\n    applyStyles() {\n        const background = this.inputBackground ? this.inputBackground.toString() : '';\n        const foreground = this.inputForeground ? this.inputForeground.toString() : '';\n        const border = this.inputBorder ? this.inputBorder.toString() : '';\n        this.element.style.backgroundColor = background;\n        this.element.style.color = foreground;\n        this.input.style.backgroundColor = 'inherit';\n        this.input.style.color = foreground;\n        this.element.style.borderWidth = border ? '1px' : '';\n        this.element.style.borderStyle = border ? 'solid' : '';\n        this.element.style.borderColor = border;\n    }\n    layout() {\n        if (!this.mirror) {\n            return;\n        }\n        const previousHeight = this.cachedContentHeight;\n        this.cachedContentHeight = dom.getTotalHeight(this.mirror);\n        if (previousHeight !== this.cachedContentHeight) {\n            this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\n            this.input.style.height = this.cachedHeight + 'px';\n            this._onDidHeightChange.fire(this.cachedContentHeight);\n        }\n    }\n    insertAtCursor(text) {\n        const inputElement = this.inputElement;\n        const start = inputElement.selectionStart;\n        const end = inputElement.selectionEnd;\n        const content = inputElement.value;\n        if (start !== null && end !== null) {\n            this.value = content.substr(0, start) + text + content.substr(end);\n            inputElement.setSelectionRange(start + 1, start + 1);\n            this.layout();\n        }\n    }\n    dispose() {\n        this._hideMessage();\n        this.message = null;\n        if (this.actionbar) {\n            this.actionbar.dispose();\n        }\n        super.dispose();\n    }\n}\nexport class HistoryInputBox extends InputBox {\n    constructor(container, contextViewProvider, options) {\n        const NLS_PLACEHOLDER_HISTORY_HINT = nls.localize({ key: 'history.inputbox.hint', comment: ['Text will be prefixed with \\u21C5 plus a single space, then used as a hint where input field keeps history'] }, \"for history\");\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX = ` or \\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT}`;\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS = ` (\\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT})`;\n        super(container, contextViewProvider, options);\n        this.history = new HistoryNavigator(options.history, 100);\n        // Function to append the history suffix to the placeholder if necessary\n        const addSuffix = () => {\n            if (options.showHistoryHint && options.showHistoryHint() && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX) && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS) && this.history.getHistory().length) {\n                const suffix = this.placeholder.endsWith(')') ? NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX : NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS;\n                const suffixedPlaceholder = this.placeholder + suffix;\n                if (options.showPlaceholderOnFocus && document.activeElement !== this.input) {\n                    this.placeholder = suffixedPlaceholder;\n                }\n                else {\n                    this.setPlaceHolder(suffixedPlaceholder);\n                }\n            }\n        };\n        // Spot the change to the textarea class attribute which occurs when it changes between non-empty and empty,\n        // and add the history suffix to the placeholder if not yet present\n        this.observer = new MutationObserver((mutationList, observer) => {\n            mutationList.forEach((mutation) => {\n                if (!mutation.target.textContent) {\n                    addSuffix();\n                }\n            });\n        });\n        this.observer.observe(this.input, { attributeFilter: ['class'] });\n        this.onfocus(this.input, () => addSuffix());\n        this.onblur(this.input, () => {\n            const resetPlaceholder = (historyHint) => {\n                if (!this.placeholder.endsWith(historyHint)) {\n                    return false;\n                }\n                else {\n                    const revertedPlaceholder = this.placeholder.slice(0, this.placeholder.length - historyHint.length);\n                    if (options.showPlaceholderOnFocus) {\n                        this.placeholder = revertedPlaceholder;\n                    }\n                    else {\n                        this.setPlaceHolder(revertedPlaceholder);\n                    }\n                    return true;\n                }\n            };\n            if (!resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS)) {\n                resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX);\n            }\n        });\n    }\n    dispose() {\n        super.dispose();\n        if (this.observer) {\n            this.observer.disconnect();\n            this.observer = undefined;\n        }\n    }\n    addToHistory() {\n        if (this.value && this.value !== this.getCurrentValue()) {\n            this.history.add(this.value);\n        }\n    }\n    showNextValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let next = this.getNextValue();\n        if (next) {\n            next = next === this.value ? this.getNextValue() : next;\n        }\n        if (next) {\n            this.value = next;\n            aria.status(this.value);\n        }\n    }\n    showPreviousValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let previous = this.getPreviousValue();\n        if (previous) {\n            previous = previous === this.value ? this.getPreviousValue() : previous;\n        }\n        if (previous) {\n            this.value = previous;\n            aria.status(this.value);\n        }\n    }\n    getCurrentValue() {\n        let currentValue = this.history.current();\n        if (!currentValue) {\n            currentValue = this.history.last();\n            this.history.next();\n        }\n        return currentValue;\n    }\n    getPreviousValue() {\n        return this.history.previous() || this.history.first();\n    }\n    getNextValue() {\n        return this.history.next() || this.history.last();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { UILabelProvider } from '../../../common/keybindingLabels.js';\nimport { equals } from '../../../common/objects.js';\nimport './keybindingLabel.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nexport class KeybindingLabel {\n    constructor(container, os, options) {\n        this.os = os;\n        this.keyElements = new Set();\n        this.options = options || Object.create(null);\n        this.labelBackground = this.options.keybindingLabelBackground;\n        this.labelForeground = this.options.keybindingLabelForeground;\n        this.labelBorder = this.options.keybindingLabelBorder;\n        this.labelBottomBorder = this.options.keybindingLabelBottomBorder;\n        this.labelShadow = this.options.keybindingLabelShadow;\n        this.domNode = dom.append(container, $('.monaco-keybinding'));\n        this.didEverRender = false;\n        container.appendChild(this.domNode);\n    }\n    get element() {\n        return this.domNode;\n    }\n    set(keybinding, matches) {\n        if (this.didEverRender && this.keybinding === keybinding && KeybindingLabel.areSame(this.matches, matches)) {\n            return;\n        }\n        this.keybinding = keybinding;\n        this.matches = matches;\n        this.render();\n    }\n    render() {\n        this.clear();\n        if (this.keybinding) {\n            let [firstPart, chordPart] = this.keybinding.getParts();\n            if (firstPart) {\n                this.renderPart(this.domNode, firstPart, this.matches ? this.matches.firstPart : null);\n            }\n            if (chordPart) {\n                dom.append(this.domNode, $('span.monaco-keybinding-key-chord-separator', undefined, ' '));\n                this.renderPart(this.domNode, chordPart, this.matches ? this.matches.chordPart : null);\n            }\n            this.domNode.title = this.keybinding.getAriaLabel() || '';\n        }\n        else if (this.options && this.options.renderUnboundKeybindings) {\n            this.renderUnbound(this.domNode);\n        }\n        this.applyStyles();\n        this.didEverRender = true;\n    }\n    clear() {\n        dom.clearNode(this.domNode);\n        this.keyElements.clear();\n    }\n    renderPart(parent, part, match) {\n        const modifierLabels = UILabelProvider.modifierLabels[this.os];\n        if (part.ctrlKey) {\n            this.renderKey(parent, modifierLabels.ctrlKey, Boolean(match === null || match === void 0 ? void 0 : match.ctrlKey), modifierLabels.separator);\n        }\n        if (part.shiftKey) {\n            this.renderKey(parent, modifierLabels.shiftKey, Boolean(match === null || match === void 0 ? void 0 : match.shiftKey), modifierLabels.separator);\n        }\n        if (part.altKey) {\n            this.renderKey(parent, modifierLabels.altKey, Boolean(match === null || match === void 0 ? void 0 : match.altKey), modifierLabels.separator);\n        }\n        if (part.metaKey) {\n            this.renderKey(parent, modifierLabels.metaKey, Boolean(match === null || match === void 0 ? void 0 : match.metaKey), modifierLabels.separator);\n        }\n        const keyLabel = part.keyLabel;\n        if (keyLabel) {\n            this.renderKey(parent, keyLabel, Boolean(match === null || match === void 0 ? void 0 : match.keyCode), '');\n        }\n    }\n    renderKey(parent, label, highlight, separator) {\n        dom.append(parent, this.createKeyElement(label, highlight ? '.highlight' : ''));\n        if (separator) {\n            dom.append(parent, $('span.monaco-keybinding-key-separator', undefined, separator));\n        }\n    }\n    renderUnbound(parent) {\n        dom.append(parent, this.createKeyElement(localize('unbound', \"Unbound\")));\n    }\n    createKeyElement(label, extraClass = '') {\n        const keyElement = $('span.monaco-keybinding-key' + extraClass, undefined, label);\n        this.keyElements.add(keyElement);\n        return keyElement;\n    }\n    style(styles) {\n        this.labelBackground = styles.keybindingLabelBackground;\n        this.labelForeground = styles.keybindingLabelForeground;\n        this.labelBorder = styles.keybindingLabelBorder;\n        this.labelBottomBorder = styles.keybindingLabelBottomBorder;\n        this.labelShadow = styles.keybindingLabelShadow;\n        this.applyStyles();\n    }\n    applyStyles() {\n        var _a;\n        if (this.element) {\n            for (const keyElement of this.keyElements) {\n                if (this.labelBackground) {\n                    keyElement.style.backgroundColor = (_a = this.labelBackground) === null || _a === void 0 ? void 0 : _a.toString();\n                }\n                if (this.labelBorder) {\n                    keyElement.style.borderColor = this.labelBorder.toString();\n                }\n                if (this.labelBottomBorder) {\n                    keyElement.style.borderBottomColor = this.labelBottomBorder.toString();\n                }\n                if (this.labelShadow) {\n                    keyElement.style.boxShadow = `inset 0 -1px 0 ${this.labelShadow}`;\n                }\n            }\n            if (this.labelForeground) {\n                this.element.style.color = this.labelForeground.toString();\n            }\n        }\n    }\n    static areSame(a, b) {\n        if (a === b || (!a && !b)) {\n            return true;\n        }\n        return !!a && !!b && equals(a.firstPart, b.firstPart) && equals(a.chordPart, b.chordPart);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { range } from '../../../common/arrays.js';\nimport { CancellationTokenSource } from '../../../common/cancellation.js';\nimport { Event } from '../../../common/event.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './list.css';\nimport { List } from './listWidget.js';\nclass PagedRenderer {\n    constructor(renderer, modelProvider) {\n        this.renderer = renderer;\n        this.modelProvider = modelProvider;\n    }\n    get templateId() { return this.renderer.templateId; }\n    renderTemplate(container) {\n        const data = this.renderer.renderTemplate(container);\n        return { data, disposable: Disposable.None };\n    }\n    renderElement(index, _, data, height) {\n        if (data.disposable) {\n            data.disposable.dispose();\n        }\n        if (!data.data) {\n            return;\n        }\n        const model = this.modelProvider();\n        if (model.isResolved(index)) {\n            return this.renderer.renderElement(model.get(index), index, data.data, height);\n        }\n        const cts = new CancellationTokenSource();\n        const promise = model.resolve(index, cts.token);\n        data.disposable = { dispose: () => cts.cancel() };\n        this.renderer.renderPlaceholder(index, data.data);\n        promise.then(entry => this.renderer.renderElement(entry, index, data.data, height));\n    }\n    disposeTemplate(data) {\n        if (data.disposable) {\n            data.disposable.dispose();\n            data.disposable = undefined;\n        }\n        if (data.data) {\n            this.renderer.disposeTemplate(data.data);\n            data.data = undefined;\n        }\n    }\n}\nclass PagedAccessibilityProvider {\n    constructor(modelProvider, accessibilityProvider) {\n        this.modelProvider = modelProvider;\n        this.accessibilityProvider = accessibilityProvider;\n    }\n    getWidgetAriaLabel() {\n        return this.accessibilityProvider.getWidgetAriaLabel();\n    }\n    getAriaLabel(index) {\n        const model = this.modelProvider();\n        if (!model.isResolved(index)) {\n            return null;\n        }\n        return this.accessibilityProvider.getAriaLabel(model.get(index));\n    }\n}\nfunction fromPagedListOptions(modelProvider, options) {\n    return Object.assign(Object.assign({}, options), { accessibilityProvider: options.accessibilityProvider && new PagedAccessibilityProvider(modelProvider, options.accessibilityProvider) });\n}\nexport class PagedList {\n    constructor(user, container, virtualDelegate, renderers, options = {}) {\n        const modelProvider = () => this.model;\n        const pagedRenderers = renderers.map(r => new PagedRenderer(r, modelProvider));\n        this.list = new List(user, container, virtualDelegate, pagedRenderers, fromPagedListOptions(modelProvider, options));\n    }\n    updateOptions(options) {\n        this.list.updateOptions(options);\n    }\n    getHTMLElement() {\n        return this.list.getHTMLElement();\n    }\n    get onDidFocus() {\n        return this.list.onDidFocus;\n    }\n    get onDidDispose() {\n        return this.list.onDidDispose;\n    }\n    get onMouseDblClick() {\n        return Event.map(this.list.onMouseDblClick, ({ element, index, browserEvent }) => ({ element: element === undefined ? undefined : this._model.get(element), index, browserEvent }));\n    }\n    get onPointer() {\n        return Event.map(this.list.onPointer, ({ element, index, browserEvent }) => ({ element: element === undefined ? undefined : this._model.get(element), index, browserEvent }));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, ({ elements, indexes, browserEvent }) => ({ elements: elements.map(e => this._model.get(e)), indexes, browserEvent }));\n    }\n    get model() {\n        return this._model;\n    }\n    set model(model) {\n        this._model = model;\n        this.list.splice(0, this.list.length, range(model.length));\n    }\n    getFocus() {\n        return this.list.getFocus();\n    }\n    getSelection() {\n        return this.list.getSelection();\n    }\n    getSelectedElements() {\n        return this.getSelection().map(i => this.model.get(i));\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n    dispose() {\n        this.list.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../../../common/range.js';\n/**\n * Returns the intersection between a ranged group and a range.\n * Returns `[]` if the intersection is empty.\n */\nexport function groupIntersect(range, groups) {\n    const result = [];\n    for (let r of groups) {\n        if (range.start >= r.range.end) {\n            continue;\n        }\n        if (range.end < r.range.start) {\n            break;\n        }\n        const intersection = Range.intersect(range, r.range);\n        if (Range.isEmpty(intersection)) {\n            continue;\n        }\n        result.push({\n            range: intersection,\n            size: r.size\n        });\n    }\n    return result;\n}\n/**\n * Shifts a range by that `much`.\n */\nexport function shift({ start, end }, much) {\n    return { start: start + much, end: end + much };\n}\n/**\n * Consolidates a collection of ranged groups.\n *\n * Consolidation is the process of merging consecutive ranged groups\n * that share the same `size`.\n */\nexport function consolidate(groups) {\n    const result = [];\n    let previousGroup = null;\n    for (let group of groups) {\n        const start = group.range.start;\n        const end = group.range.end;\n        const size = group.size;\n        if (previousGroup && size === previousGroup.size) {\n            previousGroup.range.end = end;\n            continue;\n        }\n        previousGroup = { range: { start, end }, size };\n        result.push(previousGroup);\n    }\n    return result;\n}\n/**\n * Concatenates several collections of ranged groups into a single\n * collection.\n */\nfunction concat(...groups) {\n    return consolidate(groups.reduce((r, g) => r.concat(g), []));\n}\nexport class RangeMap {\n    constructor() {\n        this.groups = [];\n        this._size = 0;\n    }\n    splice(index, deleteCount, items = []) {\n        const diff = items.length - deleteCount;\n        const before = groupIntersect({ start: 0, end: index }, this.groups);\n        const after = groupIntersect({ start: index + deleteCount, end: Number.POSITIVE_INFINITY }, this.groups)\n            .map(g => ({ range: shift(g.range, diff), size: g.size }));\n        const middle = items.map((item, i) => ({\n            range: { start: index + i, end: index + i + 1 },\n            size: item.size\n        }));\n        this.groups = concat(before, middle, after);\n        this._size = this.groups.reduce((t, g) => t + (g.size * (g.range.end - g.range.start)), 0);\n    }\n    /**\n     * Returns the number of items in the range map.\n     */\n    get count() {\n        const len = this.groups.length;\n        if (!len) {\n            return 0;\n        }\n        return this.groups[len - 1].range.end;\n    }\n    /**\n     * Returns the sum of the sizes of all items in the range map.\n     */\n    get size() {\n        return this._size;\n    }\n    /**\n     * Returns the index of the item at the given position.\n     */\n    indexAt(position) {\n        if (position < 0) {\n            return -1;\n        }\n        let index = 0;\n        let size = 0;\n        for (let group of this.groups) {\n            const count = group.range.end - group.range.start;\n            const newSize = size + (count * group.size);\n            if (position < newSize) {\n                return index + Math.floor((position - size) / group.size);\n            }\n            index += count;\n            size = newSize;\n        }\n        return index;\n    }\n    /**\n     * Returns the index of the item right after the item at the\n     * index of the given position.\n     */\n    indexAfter(position) {\n        return Math.min(this.indexAt(position) + 1, this.count);\n    }\n    /**\n     * Returns the start position of the item at the given index.\n     */\n    positionAt(index) {\n        if (index < 0) {\n            return -1;\n        }\n        let position = 0;\n        let count = 0;\n        for (let group of this.groups) {\n            const groupCount = group.range.end - group.range.start;\n            const newCount = count + groupCount;\n            if (index < newCount) {\n                return position + ((index - count) * group.size);\n            }\n            position += groupCount * group.size;\n            count = newCount;\n        }\n        return -1;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $ } from '../../dom.js';\nfunction removeFromParent(element) {\n    try {\n        if (element.parentElement) {\n            element.parentElement.removeChild(element);\n        }\n    }\n    catch (e) {\n        // this will throw if this happens due to a blur event, nasty business\n    }\n}\nexport class RowCache {\n    constructor(renderers) {\n        this.renderers = renderers;\n        this.cache = new Map();\n    }\n    /**\n     * Returns a row either by creating a new one or reusing\n     * a previously released row which shares the same templateId.\n     */\n    alloc(templateId) {\n        let result = this.getTemplateCache(templateId).pop();\n        if (!result) {\n            const domNode = $('.monaco-list-row');\n            const renderer = this.getRenderer(templateId);\n            const templateData = renderer.renderTemplate(domNode);\n            result = { domNode, templateId, templateData };\n        }\n        return result;\n    }\n    /**\n     * Releases the row for eventual reuse.\n     */\n    release(row) {\n        if (!row) {\n            return;\n        }\n        this.releaseRow(row);\n    }\n    releaseRow(row) {\n        const { domNode, templateId } = row;\n        if (domNode) {\n            domNode.classList.remove('scrolling');\n            removeFromParent(domNode);\n        }\n        const cache = this.getTemplateCache(templateId);\n        cache.push(row);\n    }\n    getTemplateCache(templateId) {\n        let result = this.cache.get(templateId);\n        if (!result) {\n            result = [];\n            this.cache.set(templateId, result);\n        }\n        return result;\n    }\n    dispose() {\n        this.cache.forEach((cachedRows, templateId) => {\n            for (const cachedRow of cachedRows) {\n                const renderer = this.getRenderer(templateId);\n                renderer.disposeTemplate(cachedRow.templateData);\n                cachedRow.templateData = null;\n            }\n        });\n        this.cache.clear();\n    }\n    getRenderer(templateId) {\n        const renderer = this.renderers.get(templateId);\n        if (!renderer) {\n            throw new Error(`No renderer found for ${templateId}`);\n        }\n        return renderer;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isFirefox } from '../../browser.js';\nimport { DataTransfers, StaticDND } from '../../dnd.js';\nimport { $, addDisposableListener, animate, getContentHeight, getContentWidth, getTopLeftOffset, scheduleAtNextAnimationFrame } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { SmoothScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { distinct, equals } from '../../../common/arrays.js';\nimport { Delayer, disposableTimeout } from '../../../common/async.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { Disposable, DisposableStore, dispose, toDisposable } from '../../../common/lifecycle.js';\nimport { getOrDefault } from '../../../common/objects.js';\nimport { Range } from '../../../common/range.js';\nimport { Scrollable } from '../../../common/scrollable.js';\nimport { RangeMap, shift } from './rangeMap.js';\nimport { RowCache } from './rowCache.js';\nconst DefaultOptions = {\n    useShadows: true,\n    verticalScrollMode: 1 /* Auto */,\n    setRowLineHeight: true,\n    setRowHeight: true,\n    supportDynamicHeights: false,\n    dnd: {\n        getDragElements(e) { return [e]; },\n        getDragURI() { return null; },\n        onDragStart() { },\n        onDragOver() { return false; },\n        drop() { }\n    },\n    horizontalScrolling: false,\n    transformOptimization: true,\n    alwaysConsumeMouseWheel: true,\n};\nexport class ElementsDragAndDropData {\n    constructor(elements) {\n        this.elements = elements;\n    }\n    update() { }\n    getData() {\n        return this.elements;\n    }\n}\nexport class ExternalElementsDragAndDropData {\n    constructor(elements) {\n        this.elements = elements;\n    }\n    update() { }\n    getData() {\n        return this.elements;\n    }\n}\nexport class NativeDragAndDropData {\n    constructor() {\n        this.types = [];\n        this.files = [];\n    }\n    update(dataTransfer) {\n        if (dataTransfer.types) {\n            this.types.splice(0, this.types.length, ...dataTransfer.types);\n        }\n        if (dataTransfer.files) {\n            this.files.splice(0, this.files.length);\n            for (let i = 0; i < dataTransfer.files.length; i++) {\n                const file = dataTransfer.files.item(i);\n                if (file && (file.size || file.type)) {\n                    this.files.push(file);\n                }\n            }\n        }\n    }\n    getData() {\n        return {\n            types: this.types,\n            files: this.files\n        };\n    }\n}\nfunction equalsDragFeedback(f1, f2) {\n    if (Array.isArray(f1) && Array.isArray(f2)) {\n        return equals(f1, f2);\n    }\n    return f1 === f2;\n}\nclass ListViewAccessibilityProvider {\n    constructor(accessibilityProvider) {\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getSetSize) {\n            this.getSetSize = accessibilityProvider.getSetSize.bind(accessibilityProvider);\n        }\n        else {\n            this.getSetSize = (e, i, l) => l;\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getPosInSet) {\n            this.getPosInSet = accessibilityProvider.getPosInSet.bind(accessibilityProvider);\n        }\n        else {\n            this.getPosInSet = (e, i) => i + 1;\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getRole) {\n            this.getRole = accessibilityProvider.getRole.bind(accessibilityProvider);\n        }\n        else {\n            this.getRole = _ => 'listitem';\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.isChecked) {\n            this.isChecked = accessibilityProvider.isChecked.bind(accessibilityProvider);\n        }\n        else {\n            this.isChecked = _ => undefined;\n        }\n    }\n}\n/**\n * The {@link ListView} is a virtual scrolling engine.\n *\n * Given that it only renders elements within its viewport, it can hold large\n * collections of elements and stay very performant. The performance bottleneck\n * usually lies within the user's rendering code for each element.\n *\n * @remarks It is a low-level widget, not meant to be used directly. Refer to the\n * List widget instead.\n */\nexport class ListView {\n    constructor(container, virtualDelegate, renderers, options = DefaultOptions) {\n        this.virtualDelegate = virtualDelegate;\n        this.domId = `list_id_${++ListView.InstanceCount}`;\n        this.renderers = new Map();\n        this.renderWidth = 0;\n        this._scrollHeight = 0;\n        this.scrollableElementUpdateDisposable = null;\n        this.scrollableElementWidthDelayer = new Delayer(50);\n        this.splicing = false;\n        this.dragOverAnimationStopDisposable = Disposable.None;\n        this.dragOverMouseY = 0;\n        this.canDrop = false;\n        this.currentDragFeedbackDisposable = Disposable.None;\n        this.onDragLeaveTimeout = Disposable.None;\n        this.disposables = new DisposableStore();\n        this._onDidChangeContentHeight = new Emitter();\n        this._horizontalScrolling = false;\n        if (options.horizontalScrolling && options.supportDynamicHeights) {\n            throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n        }\n        this.items = [];\n        this.itemId = 0;\n        this.rangeMap = new RangeMap();\n        for (const renderer of renderers) {\n            this.renderers.set(renderer.templateId, renderer);\n        }\n        this.cache = this.disposables.add(new RowCache(this.renderers));\n        this.lastRenderTop = 0;\n        this.lastRenderHeight = 0;\n        this.domNode = document.createElement('div');\n        this.domNode.className = 'monaco-list';\n        this.domNode.classList.add(this.domId);\n        this.domNode.tabIndex = 0;\n        this.domNode.classList.toggle('mouse-support', typeof options.mouseSupport === 'boolean' ? options.mouseSupport : true);\n        this._horizontalScrolling = getOrDefault(options, o => o.horizontalScrolling, DefaultOptions.horizontalScrolling);\n        this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n        this.additionalScrollHeight = typeof options.additionalScrollHeight === 'undefined' ? 0 : options.additionalScrollHeight;\n        this.accessibilityProvider = new ListViewAccessibilityProvider(options.accessibilityProvider);\n        this.rowsContainer = document.createElement('div');\n        this.rowsContainer.className = 'monaco-list-rows';\n        const transformOptimization = getOrDefault(options, o => o.transformOptimization, DefaultOptions.transformOptimization);\n        if (transformOptimization) {\n            this.rowsContainer.style.transform = 'translate3d(0px, 0px, 0px)';\n        }\n        this.disposables.add(Gesture.addTarget(this.rowsContainer));\n        this.scrollable = new Scrollable({\n            forceIntegerValues: true,\n            smoothScrollDuration: getOrDefault(options, o => o.smoothScrolling, false) ? 125 : 0,\n            scheduleAtNextAnimationFrame: cb => scheduleAtNextAnimationFrame(cb)\n        });\n        this.scrollableElement = this.disposables.add(new SmoothScrollableElement(this.rowsContainer, {\n            alwaysConsumeMouseWheel: getOrDefault(options, o => o.alwaysConsumeMouseWheel, DefaultOptions.alwaysConsumeMouseWheel),\n            horizontal: 1 /* Auto */,\n            vertical: getOrDefault(options, o => o.verticalScrollMode, DefaultOptions.verticalScrollMode),\n            useShadows: getOrDefault(options, o => o.useShadows, DefaultOptions.useShadows),\n            mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity,\n            fastScrollSensitivity: options.fastScrollSensitivity\n        }, this.scrollable));\n        this.domNode.appendChild(this.scrollableElement.getDomNode());\n        container.appendChild(this.domNode);\n        this.scrollableElement.onScroll(this.onScroll, this, this.disposables);\n        this.disposables.add(addDisposableListener(this.rowsContainer, TouchEventType.Change, e => this.onTouchChange(e)));\n        // Prevent the monaco-scrollable-element from scrolling\n        // https://github.com/microsoft/vscode/issues/44181\n        this.disposables.add(addDisposableListener(this.scrollableElement.getDomNode(), 'scroll', e => e.target.scrollTop = 0));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragover', e => this.onDragOver(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'drop', e => this.onDrop(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragleave', e => this.onDragLeave(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragend', e => this.onDragEnd(e)));\n        this.setRowLineHeight = getOrDefault(options, o => o.setRowLineHeight, DefaultOptions.setRowLineHeight);\n        this.setRowHeight = getOrDefault(options, o => o.setRowHeight, DefaultOptions.setRowHeight);\n        this.supportDynamicHeights = getOrDefault(options, o => o.supportDynamicHeights, DefaultOptions.supportDynamicHeights);\n        this.dnd = getOrDefault(options, o => o.dnd, DefaultOptions.dnd);\n        this.layout();\n    }\n    get contentHeight() { return this.rangeMap.size; }\n    get horizontalScrolling() { return this._horizontalScrolling; }\n    set horizontalScrolling(value) {\n        if (value === this._horizontalScrolling) {\n            return;\n        }\n        if (value && this.supportDynamicHeights) {\n            throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n        }\n        this._horizontalScrolling = value;\n        this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n        if (this._horizontalScrolling) {\n            for (const item of this.items) {\n                this.measureItemWidth(item);\n            }\n            this.updateScrollWidth();\n            this.scrollableElement.setScrollDimensions({ width: getContentWidth(this.domNode) });\n            this.rowsContainer.style.width = `${Math.max(this.scrollWidth || 0, this.renderWidth)}px`;\n        }\n        else {\n            this.scrollableElementWidthDelayer.cancel();\n            this.scrollableElement.setScrollDimensions({ width: this.renderWidth, scrollWidth: this.renderWidth });\n            this.rowsContainer.style.width = '';\n        }\n    }\n    updateOptions(options) {\n        if (options.additionalScrollHeight !== undefined) {\n            this.additionalScrollHeight = options.additionalScrollHeight;\n            this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n        }\n        if (options.smoothScrolling !== undefined) {\n            this.scrollable.setSmoothScrollDuration(options.smoothScrolling ? 125 : 0);\n        }\n        if (options.horizontalScrolling !== undefined) {\n            this.horizontalScrolling = options.horizontalScrolling;\n        }\n        if (options.mouseWheelScrollSensitivity !== undefined) {\n            this.scrollableElement.updateOptions({ mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity });\n        }\n        if (options.fastScrollSensitivity !== undefined) {\n            this.scrollableElement.updateOptions({ fastScrollSensitivity: options.fastScrollSensitivity });\n        }\n    }\n    splice(start, deleteCount, elements = []) {\n        if (this.splicing) {\n            throw new Error('Can\\'t run recursive splices.');\n        }\n        this.splicing = true;\n        try {\n            return this._splice(start, deleteCount, elements);\n        }\n        finally {\n            this.splicing = false;\n            this._onDidChangeContentHeight.fire(this.contentHeight);\n        }\n    }\n    _splice(start, deleteCount, elements = []) {\n        const previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const deleteRange = { start, end: start + deleteCount };\n        const removeRange = Range.intersect(previousRenderRange, deleteRange);\n        // try to reuse rows, avoid removing them from DOM\n        const rowsToDispose = new Map();\n        for (let i = removeRange.end - 1; i >= removeRange.start; i--) {\n            const item = this.items[i];\n            item.dragStartDisposable.dispose();\n            if (item.row) {\n                let rows = rowsToDispose.get(item.templateId);\n                if (!rows) {\n                    rows = [];\n                    rowsToDispose.set(item.templateId, rows);\n                }\n                const renderer = this.renderers.get(item.templateId);\n                if (renderer && renderer.disposeElement) {\n                    renderer.disposeElement(item.element, i, item.row.templateData, item.size);\n                }\n                rows.push(item.row);\n            }\n            item.row = null;\n        }\n        const previousRestRange = { start: start + deleteCount, end: this.items.length };\n        const previousRenderedRestRange = Range.intersect(previousRestRange, previousRenderRange);\n        const previousUnrenderedRestRanges = Range.relativeComplement(previousRestRange, previousRenderRange);\n        const inserted = elements.map(element => ({\n            id: String(this.itemId++),\n            element,\n            templateId: this.virtualDelegate.getTemplateId(element),\n            size: this.virtualDelegate.getHeight(element),\n            width: undefined,\n            hasDynamicHeight: !!this.virtualDelegate.hasDynamicHeight && this.virtualDelegate.hasDynamicHeight(element),\n            lastDynamicHeightWidth: undefined,\n            row: null,\n            uri: undefined,\n            dropTarget: false,\n            dragStartDisposable: Disposable.None\n        }));\n        let deleted;\n        // TODO@joao: improve this optimization to catch even more cases\n        if (start === 0 && deleteCount >= this.items.length) {\n            this.rangeMap = new RangeMap();\n            this.rangeMap.splice(0, 0, inserted);\n            deleted = this.items;\n            this.items = inserted;\n        }\n        else {\n            this.rangeMap.splice(start, deleteCount, inserted);\n            deleted = this.items.splice(start, deleteCount, ...inserted);\n        }\n        const delta = elements.length - deleteCount;\n        const renderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const renderedRestRange = shift(previousRenderedRestRange, delta);\n        const updateRange = Range.intersect(renderRange, renderedRestRange);\n        for (let i = updateRange.start; i < updateRange.end; i++) {\n            this.updateItemInDOM(this.items[i], i);\n        }\n        const removeRanges = Range.relativeComplement(renderedRestRange, renderRange);\n        for (const range of removeRanges) {\n            for (let i = range.start; i < range.end; i++) {\n                this.removeItemFromDOM(i);\n            }\n        }\n        const unrenderedRestRanges = previousUnrenderedRestRanges.map(r => shift(r, delta));\n        const elementsRange = { start, end: start + elements.length };\n        const insertRanges = [elementsRange, ...unrenderedRestRanges].map(r => Range.intersect(renderRange, r));\n        const beforeElement = this.getNextToLastElement(insertRanges);\n        for (const range of insertRanges) {\n            for (let i = range.start; i < range.end; i++) {\n                const item = this.items[i];\n                const rows = rowsToDispose.get(item.templateId);\n                const row = rows === null || rows === void 0 ? void 0 : rows.pop();\n                this.insertItemInDOM(i, beforeElement, row);\n            }\n        }\n        for (const rows of rowsToDispose.values()) {\n            for (const row of rows) {\n                this.cache.release(row);\n            }\n        }\n        this.eventuallyUpdateScrollDimensions();\n        if (this.supportDynamicHeights) {\n            this._rerender(this.scrollTop, this.renderHeight);\n        }\n        return deleted.map(i => i.element);\n    }\n    eventuallyUpdateScrollDimensions() {\n        this._scrollHeight = this.contentHeight;\n        this.rowsContainer.style.height = `${this._scrollHeight}px`;\n        if (!this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable = scheduleAtNextAnimationFrame(() => {\n                this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n                this.updateScrollWidth();\n                this.scrollableElementUpdateDisposable = null;\n            });\n        }\n    }\n    eventuallyUpdateScrollWidth() {\n        if (!this.horizontalScrolling) {\n            this.scrollableElementWidthDelayer.cancel();\n            return;\n        }\n        this.scrollableElementWidthDelayer.trigger(() => this.updateScrollWidth());\n    }\n    updateScrollWidth() {\n        if (!this.horizontalScrolling) {\n            return;\n        }\n        let scrollWidth = 0;\n        for (const item of this.items) {\n            if (typeof item.width !== 'undefined') {\n                scrollWidth = Math.max(scrollWidth, item.width);\n            }\n        }\n        this.scrollWidth = scrollWidth;\n        this.scrollableElement.setScrollDimensions({ scrollWidth: scrollWidth === 0 ? 0 : (scrollWidth + 10) });\n    }\n    rerender() {\n        if (!this.supportDynamicHeights) {\n            return;\n        }\n        for (const item of this.items) {\n            item.lastDynamicHeightWidth = undefined;\n        }\n        this._rerender(this.lastRenderTop, this.lastRenderHeight);\n    }\n    get length() {\n        return this.items.length;\n    }\n    get renderHeight() {\n        const scrollDimensions = this.scrollableElement.getScrollDimensions();\n        return scrollDimensions.height;\n    }\n    element(index) {\n        return this.items[index].element;\n    }\n    domElement(index) {\n        const row = this.items[index].row;\n        return row && row.domNode;\n    }\n    elementHeight(index) {\n        return this.items[index].size;\n    }\n    elementTop(index) {\n        return this.rangeMap.positionAt(index);\n    }\n    indexAt(position) {\n        return this.rangeMap.indexAt(position);\n    }\n    indexAfter(position) {\n        return this.rangeMap.indexAfter(position);\n    }\n    layout(height, width) {\n        let scrollDimensions = {\n            height: typeof height === 'number' ? height : getContentHeight(this.domNode)\n        };\n        if (this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable.dispose();\n            this.scrollableElementUpdateDisposable = null;\n            scrollDimensions.scrollHeight = this.scrollHeight;\n        }\n        this.scrollableElement.setScrollDimensions(scrollDimensions);\n        if (typeof width !== 'undefined') {\n            this.renderWidth = width;\n            if (this.supportDynamicHeights) {\n                this._rerender(this.scrollTop, this.renderHeight);\n            }\n        }\n        if (this.horizontalScrolling) {\n            this.scrollableElement.setScrollDimensions({\n                width: typeof width === 'number' ? width : getContentWidth(this.domNode)\n            });\n        }\n    }\n    // Render\n    render(previousRenderRange, renderTop, renderHeight, renderLeft, scrollWidth, updateItemsInDOM = false) {\n        const renderRange = this.getRenderRange(renderTop, renderHeight);\n        const rangesToInsert = Range.relativeComplement(renderRange, previousRenderRange);\n        const rangesToRemove = Range.relativeComplement(previousRenderRange, renderRange);\n        const beforeElement = this.getNextToLastElement(rangesToInsert);\n        if (updateItemsInDOM) {\n            const rangesToUpdate = Range.intersect(previousRenderRange, renderRange);\n            for (let i = rangesToUpdate.start; i < rangesToUpdate.end; i++) {\n                this.updateItemInDOM(this.items[i], i);\n            }\n        }\n        for (const range of rangesToInsert) {\n            for (let i = range.start; i < range.end; i++) {\n                this.insertItemInDOM(i, beforeElement);\n            }\n        }\n        for (const range of rangesToRemove) {\n            for (let i = range.start; i < range.end; i++) {\n                this.removeItemFromDOM(i);\n            }\n        }\n        if (renderLeft !== undefined) {\n            this.rowsContainer.style.left = `-${renderLeft}px`;\n        }\n        this.rowsContainer.style.top = `-${renderTop}px`;\n        if (this.horizontalScrolling && scrollWidth !== undefined) {\n            this.rowsContainer.style.width = `${Math.max(scrollWidth, this.renderWidth)}px`;\n        }\n        this.lastRenderTop = renderTop;\n        this.lastRenderHeight = renderHeight;\n    }\n    // DOM operations\n    insertItemInDOM(index, beforeElement, row) {\n        const item = this.items[index];\n        if (!item.row) {\n            item.row = row !== null && row !== void 0 ? row : this.cache.alloc(item.templateId);\n        }\n        const role = this.accessibilityProvider.getRole(item.element) || 'listitem';\n        item.row.domNode.setAttribute('role', role);\n        const checked = this.accessibilityProvider.isChecked(item.element);\n        if (typeof checked !== 'undefined') {\n            item.row.domNode.setAttribute('aria-checked', String(!!checked));\n        }\n        if (!item.row.domNode.parentElement) {\n            if (beforeElement) {\n                this.rowsContainer.insertBefore(item.row.domNode, beforeElement);\n            }\n            else {\n                this.rowsContainer.appendChild(item.row.domNode);\n            }\n        }\n        this.updateItemInDOM(item, index);\n        const renderer = this.renderers.get(item.templateId);\n        if (!renderer) {\n            throw new Error(`No renderer found for template id ${item.templateId}`);\n        }\n        if (renderer) {\n            renderer.renderElement(item.element, index, item.row.templateData, item.size);\n        }\n        const uri = this.dnd.getDragURI(item.element);\n        item.dragStartDisposable.dispose();\n        item.row.domNode.draggable = !!uri;\n        if (uri) {\n            item.dragStartDisposable = addDisposableListener(item.row.domNode, 'dragstart', event => this.onDragStart(item.element, uri, event));\n        }\n        if (this.horizontalScrolling) {\n            this.measureItemWidth(item);\n            this.eventuallyUpdateScrollWidth();\n        }\n    }\n    measureItemWidth(item) {\n        if (!item.row || !item.row.domNode) {\n            return;\n        }\n        item.row.domNode.style.width = isFirefox ? '-moz-fit-content' : 'fit-content';\n        item.width = getContentWidth(item.row.domNode);\n        const style = window.getComputedStyle(item.row.domNode);\n        if (style.paddingLeft) {\n            item.width += parseFloat(style.paddingLeft);\n        }\n        if (style.paddingRight) {\n            item.width += parseFloat(style.paddingRight);\n        }\n        item.row.domNode.style.width = '';\n    }\n    updateItemInDOM(item, index) {\n        item.row.domNode.style.top = `${this.elementTop(index)}px`;\n        if (this.setRowHeight) {\n            item.row.domNode.style.height = `${item.size}px`;\n        }\n        if (this.setRowLineHeight) {\n            item.row.domNode.style.lineHeight = `${item.size}px`;\n        }\n        item.row.domNode.setAttribute('data-index', `${index}`);\n        item.row.domNode.setAttribute('data-last-element', index === this.length - 1 ? 'true' : 'false');\n        item.row.domNode.setAttribute('data-parity', index % 2 === 0 ? 'even' : 'odd');\n        item.row.domNode.setAttribute('aria-setsize', String(this.accessibilityProvider.getSetSize(item.element, index, this.length)));\n        item.row.domNode.setAttribute('aria-posinset', String(this.accessibilityProvider.getPosInSet(item.element, index)));\n        item.row.domNode.setAttribute('id', this.getElementDomId(index));\n        item.row.domNode.classList.toggle('drop-target', item.dropTarget);\n    }\n    removeItemFromDOM(index) {\n        const item = this.items[index];\n        item.dragStartDisposable.dispose();\n        if (item.row) {\n            const renderer = this.renderers.get(item.templateId);\n            if (renderer && renderer.disposeElement) {\n                renderer.disposeElement(item.element, index, item.row.templateData, item.size);\n            }\n            this.cache.release(item.row);\n            item.row = null;\n        }\n        if (this.horizontalScrolling) {\n            this.eventuallyUpdateScrollWidth();\n        }\n    }\n    getScrollTop() {\n        const scrollPosition = this.scrollableElement.getScrollPosition();\n        return scrollPosition.scrollTop;\n    }\n    setScrollTop(scrollTop, reuseAnimation) {\n        if (this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable.dispose();\n            this.scrollableElementUpdateDisposable = null;\n            this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n        }\n        this.scrollableElement.setScrollPosition({ scrollTop, reuseAnimation });\n    }\n    get scrollTop() {\n        return this.getScrollTop();\n    }\n    set scrollTop(scrollTop) {\n        this.setScrollTop(scrollTop);\n    }\n    get scrollHeight() {\n        return this._scrollHeight + (this.horizontalScrolling ? 10 : 0) + this.additionalScrollHeight;\n    }\n    // Events\n    get onMouseClick() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'click')).event, e => this.toMouseEvent(e)); }\n    get onMouseDblClick() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'dblclick')).event, e => this.toMouseEvent(e)); }\n    get onMouseMiddleClick() { return Event.filter(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'auxclick')).event, e => this.toMouseEvent(e)), e => e.browserEvent.button === 1); }\n    get onMouseDown() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mousedown')).event, e => this.toMouseEvent(e)); }\n    get onContextMenu() { return Event.any(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'contextmenu')).event, e => this.toMouseEvent(e)), Event.map(this.disposables.add(new DomEmitter(this.domNode, TouchEventType.Contextmenu)).event, e => this.toGestureEvent(e))); }\n    get onTouchStart() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'touchstart')).event, e => this.toTouchEvent(e)); }\n    get onTap() { return Event.map(this.disposables.add(new DomEmitter(this.rowsContainer, TouchEventType.Tap)).event, e => this.toGestureEvent(e)); }\n    toMouseEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toTouchEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toGestureEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.initialTarget || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toDragEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    onScroll(e) {\n        try {\n            const previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n            this.render(previousRenderRange, e.scrollTop, e.height, e.scrollLeft, e.scrollWidth);\n            if (this.supportDynamicHeights) {\n                this._rerender(e.scrollTop, e.height, e.inSmoothScrolling);\n            }\n        }\n        catch (err) {\n            console.error('Got bad scroll event:', e);\n            throw err;\n        }\n    }\n    onTouchChange(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.scrollTop -= event.translationY;\n    }\n    // DND\n    onDragStart(element, uri, event) {\n        if (!event.dataTransfer) {\n            return;\n        }\n        const elements = this.dnd.getDragElements(element);\n        event.dataTransfer.effectAllowed = 'copyMove';\n        event.dataTransfer.setData(DataTransfers.TEXT, uri);\n        if (event.dataTransfer.setDragImage) {\n            let label;\n            if (this.dnd.getDragLabel) {\n                label = this.dnd.getDragLabel(elements, event);\n            }\n            if (typeof label === 'undefined') {\n                label = String(elements.length);\n            }\n            const dragImage = $('.monaco-drag-image');\n            dragImage.textContent = label;\n            document.body.appendChild(dragImage);\n            event.dataTransfer.setDragImage(dragImage, -10, -10);\n            setTimeout(() => document.body.removeChild(dragImage), 0);\n        }\n        this.currentDragData = new ElementsDragAndDropData(elements);\n        StaticDND.CurrentDragAndDropData = new ExternalElementsDragAndDropData(elements);\n        if (this.dnd.onDragStart) {\n            this.dnd.onDragStart(this.currentDragData, event);\n        }\n    }\n    onDragOver(event) {\n        event.browserEvent.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n        this.onDragLeaveTimeout.dispose();\n        if (StaticDND.CurrentDragAndDropData && StaticDND.CurrentDragAndDropData.getData() === 'vscode-ui') {\n            return false;\n        }\n        this.setupDragAndDropScrollTopAnimation(event.browserEvent);\n        if (!event.browserEvent.dataTransfer) {\n            return false;\n        }\n        // Drag over from outside\n        if (!this.currentDragData) {\n            if (StaticDND.CurrentDragAndDropData) {\n                // Drag over from another list\n                this.currentDragData = StaticDND.CurrentDragAndDropData;\n            }\n            else {\n                // Drag over from the desktop\n                if (!event.browserEvent.dataTransfer.types) {\n                    return false;\n                }\n                this.currentDragData = new NativeDragAndDropData();\n            }\n        }\n        const result = this.dnd.onDragOver(this.currentDragData, event.element, event.index, event.browserEvent);\n        this.canDrop = typeof result === 'boolean' ? result : result.accept;\n        if (!this.canDrop) {\n            this.currentDragFeedback = undefined;\n            this.currentDragFeedbackDisposable.dispose();\n            return false;\n        }\n        event.browserEvent.dataTransfer.dropEffect = (typeof result !== 'boolean' && result.effect === 0 /* Copy */) ? 'copy' : 'move';\n        let feedback;\n        if (typeof result !== 'boolean' && result.feedback) {\n            feedback = result.feedback;\n        }\n        else {\n            if (typeof event.index === 'undefined') {\n                feedback = [-1];\n            }\n            else {\n                feedback = [event.index];\n            }\n        }\n        // sanitize feedback list\n        feedback = distinct(feedback).filter(i => i >= -1 && i < this.length).sort((a, b) => a - b);\n        feedback = feedback[0] === -1 ? [-1] : feedback;\n        if (equalsDragFeedback(this.currentDragFeedback, feedback)) {\n            return true;\n        }\n        this.currentDragFeedback = feedback;\n        this.currentDragFeedbackDisposable.dispose();\n        if (feedback[0] === -1) { // entire list feedback\n            this.domNode.classList.add('drop-target');\n            this.rowsContainer.classList.add('drop-target');\n            this.currentDragFeedbackDisposable = toDisposable(() => {\n                this.domNode.classList.remove('drop-target');\n                this.rowsContainer.classList.remove('drop-target');\n            });\n        }\n        else {\n            for (const index of feedback) {\n                const item = this.items[index];\n                item.dropTarget = true;\n                if (item.row) {\n                    item.row.domNode.classList.add('drop-target');\n                }\n            }\n            this.currentDragFeedbackDisposable = toDisposable(() => {\n                for (const index of feedback) {\n                    const item = this.items[index];\n                    item.dropTarget = false;\n                    if (item.row) {\n                        item.row.domNode.classList.remove('drop-target');\n                    }\n                }\n            });\n        }\n        return true;\n    }\n    onDragLeave(event) {\n        var _a, _b;\n        this.onDragLeaveTimeout.dispose();\n        this.onDragLeaveTimeout = disposableTimeout(() => this.clearDragOverFeedback(), 100);\n        if (this.currentDragData) {\n            (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, this.currentDragData, event.element, event.index, event.browserEvent);\n        }\n    }\n    onDrop(event) {\n        if (!this.canDrop) {\n            return;\n        }\n        const dragData = this.currentDragData;\n        this.teardownDragAndDropScrollTopAnimation();\n        this.clearDragOverFeedback();\n        this.currentDragData = undefined;\n        StaticDND.CurrentDragAndDropData = undefined;\n        if (!dragData || !event.browserEvent.dataTransfer) {\n            return;\n        }\n        event.browserEvent.preventDefault();\n        dragData.update(event.browserEvent.dataTransfer);\n        this.dnd.drop(dragData, event.element, event.index, event.browserEvent);\n    }\n    onDragEnd(event) {\n        this.canDrop = false;\n        this.teardownDragAndDropScrollTopAnimation();\n        this.clearDragOverFeedback();\n        this.currentDragData = undefined;\n        StaticDND.CurrentDragAndDropData = undefined;\n        if (this.dnd.onDragEnd) {\n            this.dnd.onDragEnd(event);\n        }\n    }\n    clearDragOverFeedback() {\n        this.currentDragFeedback = undefined;\n        this.currentDragFeedbackDisposable.dispose();\n        this.currentDragFeedbackDisposable = Disposable.None;\n    }\n    // DND scroll top animation\n    setupDragAndDropScrollTopAnimation(event) {\n        if (!this.dragOverAnimationDisposable) {\n            const viewTop = getTopLeftOffset(this.domNode).top;\n            this.dragOverAnimationDisposable = animate(this.animateDragAndDropScrollTop.bind(this, viewTop));\n        }\n        this.dragOverAnimationStopDisposable.dispose();\n        this.dragOverAnimationStopDisposable = disposableTimeout(() => {\n            if (this.dragOverAnimationDisposable) {\n                this.dragOverAnimationDisposable.dispose();\n                this.dragOverAnimationDisposable = undefined;\n            }\n        }, 1000);\n        this.dragOverMouseY = event.pageY;\n    }\n    animateDragAndDropScrollTop(viewTop) {\n        if (this.dragOverMouseY === undefined) {\n            return;\n        }\n        const diff = this.dragOverMouseY - viewTop;\n        const upperLimit = this.renderHeight - 35;\n        if (diff < 35) {\n            this.scrollTop += Math.max(-14, Math.floor(0.3 * (diff - 35)));\n        }\n        else if (diff > upperLimit) {\n            this.scrollTop += Math.min(14, Math.floor(0.3 * (diff - upperLimit)));\n        }\n    }\n    teardownDragAndDropScrollTopAnimation() {\n        this.dragOverAnimationStopDisposable.dispose();\n        if (this.dragOverAnimationDisposable) {\n            this.dragOverAnimationDisposable.dispose();\n            this.dragOverAnimationDisposable = undefined;\n        }\n    }\n    // Util\n    getItemIndexFromEventTarget(target) {\n        const scrollableElement = this.scrollableElement.getDomNode();\n        let element = target;\n        while (element instanceof HTMLElement && element !== this.rowsContainer && scrollableElement.contains(element)) {\n            const rawIndex = element.getAttribute('data-index');\n            if (rawIndex) {\n                const index = Number(rawIndex);\n                if (!isNaN(index)) {\n                    return index;\n                }\n            }\n            element = element.parentElement;\n        }\n        return undefined;\n    }\n    getRenderRange(renderTop, renderHeight) {\n        return {\n            start: this.rangeMap.indexAt(renderTop),\n            end: this.rangeMap.indexAfter(renderTop + renderHeight - 1)\n        };\n    }\n    /**\n     * Given a stable rendered state, checks every rendered element whether it needs\n     * to be probed for dynamic height. Adjusts scroll height and top if necessary.\n     */\n    _rerender(renderTop, renderHeight, inSmoothScrolling) {\n        const previousRenderRange = this.getRenderRange(renderTop, renderHeight);\n        // Let's remember the second element's position, this helps in scrolling up\n        // and preserving a linear upwards scroll movement\n        let anchorElementIndex;\n        let anchorElementTopDelta;\n        if (renderTop === this.elementTop(previousRenderRange.start)) {\n            anchorElementIndex = previousRenderRange.start;\n            anchorElementTopDelta = 0;\n        }\n        else if (previousRenderRange.end - previousRenderRange.start > 1) {\n            anchorElementIndex = previousRenderRange.start + 1;\n            anchorElementTopDelta = this.elementTop(anchorElementIndex) - renderTop;\n        }\n        let heightDiff = 0;\n        while (true) {\n            const renderRange = this.getRenderRange(renderTop, renderHeight);\n            let didChange = false;\n            for (let i = renderRange.start; i < renderRange.end; i++) {\n                const diff = this.probeDynamicHeight(i);\n                if (diff !== 0) {\n                    this.rangeMap.splice(i, 1, [this.items[i]]);\n                }\n                heightDiff += diff;\n                didChange = didChange || diff !== 0;\n            }\n            if (!didChange) {\n                if (heightDiff !== 0) {\n                    this.eventuallyUpdateScrollDimensions();\n                }\n                const unrenderRanges = Range.relativeComplement(previousRenderRange, renderRange);\n                for (const range of unrenderRanges) {\n                    for (let i = range.start; i < range.end; i++) {\n                        if (this.items[i].row) {\n                            this.removeItemFromDOM(i);\n                        }\n                    }\n                }\n                const renderRanges = Range.relativeComplement(renderRange, previousRenderRange);\n                for (const range of renderRanges) {\n                    for (let i = range.start; i < range.end; i++) {\n                        const afterIndex = i + 1;\n                        const beforeRow = afterIndex < this.items.length ? this.items[afterIndex].row : null;\n                        const beforeElement = beforeRow ? beforeRow.domNode : null;\n                        this.insertItemInDOM(i, beforeElement);\n                    }\n                }\n                for (let i = renderRange.start; i < renderRange.end; i++) {\n                    if (this.items[i].row) {\n                        this.updateItemInDOM(this.items[i], i);\n                    }\n                }\n                if (typeof anchorElementIndex === 'number') {\n                    // To compute a destination scroll top, we need to take into account the current smooth scrolling\n                    // animation, and then reuse it with a new target (to avoid prolonging the scroll)\n                    // See https://github.com/microsoft/vscode/issues/104144\n                    // See https://github.com/microsoft/vscode/pull/104284\n                    // See https://github.com/microsoft/vscode/issues/107704\n                    const deltaScrollTop = this.scrollable.getFutureScrollPosition().scrollTop - renderTop;\n                    const newScrollTop = this.elementTop(anchorElementIndex) - anchorElementTopDelta + deltaScrollTop;\n                    this.setScrollTop(newScrollTop, inSmoothScrolling);\n                }\n                this._onDidChangeContentHeight.fire(this.contentHeight);\n                return;\n            }\n        }\n    }\n    probeDynamicHeight(index) {\n        const item = this.items[index];\n        if (!!this.virtualDelegate.getDynamicHeight) {\n            const newSize = this.virtualDelegate.getDynamicHeight(item.element);\n            if (newSize !== null) {\n                const size = item.size;\n                item.size = newSize;\n                item.lastDynamicHeightWidth = this.renderWidth;\n                return newSize - size;\n            }\n        }\n        if (!item.hasDynamicHeight || item.lastDynamicHeightWidth === this.renderWidth) {\n            return 0;\n        }\n        if (!!this.virtualDelegate.hasDynamicHeight && !this.virtualDelegate.hasDynamicHeight(item.element)) {\n            return 0;\n        }\n        const size = item.size;\n        if (!this.setRowHeight && item.row) {\n            let newSize = item.row.domNode.offsetHeight;\n            item.size = newSize;\n            item.lastDynamicHeightWidth = this.renderWidth;\n            return newSize - size;\n        }\n        const row = this.cache.alloc(item.templateId);\n        row.domNode.style.height = '';\n        this.rowsContainer.appendChild(row.domNode);\n        const renderer = this.renderers.get(item.templateId);\n        if (renderer) {\n            renderer.renderElement(item.element, index, row.templateData, undefined);\n            if (renderer.disposeElement) {\n                renderer.disposeElement(item.element, index, row.templateData, undefined);\n            }\n        }\n        item.size = row.domNode.offsetHeight;\n        if (this.virtualDelegate.setDynamicHeight) {\n            this.virtualDelegate.setDynamicHeight(item.element, item.size);\n        }\n        item.lastDynamicHeightWidth = this.renderWidth;\n        this.rowsContainer.removeChild(row.domNode);\n        this.cache.release(row);\n        return item.size - size;\n    }\n    getNextToLastElement(ranges) {\n        const lastRange = ranges[ranges.length - 1];\n        if (!lastRange) {\n            return null;\n        }\n        const nextToLastItem = this.items[lastRange.end];\n        if (!nextToLastItem) {\n            return null;\n        }\n        if (!nextToLastItem.row) {\n            return null;\n        }\n        return nextToLastItem.row.domNode;\n    }\n    getElementDomId(index) {\n        return `${this.domId}_${index}`;\n    }\n    // Dispose\n    dispose() {\n        if (this.items) {\n            for (const item of this.items) {\n                if (item.row) {\n                    const renderer = this.renderers.get(item.row.templateId);\n                    if (renderer) {\n                        if (renderer.disposeElement) {\n                            renderer.disposeElement(item.element, -1, item.row.templateData, undefined);\n                        }\n                        renderer.disposeTemplate(item.row.templateData);\n                    }\n                }\n            }\n            this.items = [];\n        }\n        if (this.domNode && this.domNode.parentNode) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        dispose(this.disposables);\n    }\n}\nListView.InstanceCount = 0;\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseDblClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseMiddleClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseDown\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onContextMenu\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onTouchStart\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onTap\", null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class CombinedSpliceable {\n    constructor(spliceables) {\n        this.spliceables = spliceables;\n    }\n    splice(start, deleteCount, elements) {\n        this.spliceables.forEach(s => s.splice(start, deleteCount, elements));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ListError extends Error {\n    constructor(user, message) {\n        super(`ListError [${user}] ${message}`);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { createStyleSheet } from '../../dom.js';\nimport { DomEmitter, stopEvent } from '../../event.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { Gesture } from '../../touch.js';\nimport { alert } from '../aria/aria.js';\nimport { CombinedSpliceable } from './splice.js';\nimport { binarySearch, firstOrDefault, range } from '../../../common/arrays.js';\nimport { timeout } from '../../../common/async.js';\nimport { Color } from '../../../common/color.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event, EventBufferer } from '../../../common/event.js';\nimport { matchesPrefix } from '../../../common/filters.js';\nimport { DisposableStore, dispose } from '../../../common/lifecycle.js';\nimport { clamp } from '../../../common/numbers.js';\nimport { mixin } from '../../../common/objects.js';\nimport * as platform from '../../../common/platform.js';\nimport { isNumber } from '../../../common/types.js';\nimport './list.css';\nimport { ListError } from './list.js';\nimport { ListView } from './listView.js';\nclass TraitRenderer {\n    constructor(trait) {\n        this.trait = trait;\n        this.renderedElements = [];\n    }\n    get templateId() {\n        return `template:${this.trait.trait}`;\n    }\n    renderTemplate(container) {\n        return container;\n    }\n    renderElement(element, index, templateData) {\n        const renderedElementIndex = this.renderedElements.findIndex(el => el.templateData === templateData);\n        if (renderedElementIndex >= 0) {\n            const rendered = this.renderedElements[renderedElementIndex];\n            this.trait.unrender(templateData);\n            rendered.index = index;\n        }\n        else {\n            const rendered = { index, templateData };\n            this.renderedElements.push(rendered);\n        }\n        this.trait.renderIndex(index, templateData);\n    }\n    splice(start, deleteCount, insertCount) {\n        const rendered = [];\n        for (const renderedElement of this.renderedElements) {\n            if (renderedElement.index < start) {\n                rendered.push(renderedElement);\n            }\n            else if (renderedElement.index >= start + deleteCount) {\n                rendered.push({\n                    index: renderedElement.index + insertCount - deleteCount,\n                    templateData: renderedElement.templateData\n                });\n            }\n        }\n        this.renderedElements = rendered;\n    }\n    renderIndexes(indexes) {\n        for (const { index, templateData } of this.renderedElements) {\n            if (indexes.indexOf(index) > -1) {\n                this.trait.renderIndex(index, templateData);\n            }\n        }\n    }\n    disposeTemplate(templateData) {\n        const index = this.renderedElements.findIndex(el => el.templateData === templateData);\n        if (index < 0) {\n            return;\n        }\n        this.renderedElements.splice(index, 1);\n    }\n}\nclass Trait {\n    constructor(_trait) {\n        this._trait = _trait;\n        this.length = 0;\n        this.indexes = [];\n        this.sortedIndexes = [];\n        this._onChange = new Emitter();\n        this.onChange = this._onChange.event;\n    }\n    get trait() { return this._trait; }\n    get renderer() {\n        return new TraitRenderer(this);\n    }\n    splice(start, deleteCount, elements) {\n        var _a;\n        deleteCount = Math.max(0, Math.min(deleteCount, this.length - start));\n        const diff = elements.length - deleteCount;\n        const end = start + deleteCount;\n        const sortedIndexes = [\n            ...this.sortedIndexes.filter(i => i < start),\n            ...elements.map((hasTrait, i) => hasTrait ? i + start : -1).filter(i => i !== -1),\n            ...this.sortedIndexes.filter(i => i >= end).map(i => i + diff)\n        ];\n        const length = this.length + diff;\n        if (this.sortedIndexes.length > 0 && sortedIndexes.length === 0 && length > 0) {\n            const first = (_a = this.sortedIndexes.find(index => index >= start)) !== null && _a !== void 0 ? _a : length - 1;\n            sortedIndexes.push(Math.min(first, length - 1));\n        }\n        this.renderer.splice(start, deleteCount, elements.length);\n        this._set(sortedIndexes, sortedIndexes);\n        this.length = length;\n    }\n    renderIndex(index, container) {\n        container.classList.toggle(this._trait, this.contains(index));\n    }\n    unrender(container) {\n        container.classList.remove(this._trait);\n    }\n    /**\n     * Sets the indexes which should have this trait.\n     *\n     * @param indexes Indexes which should have this trait.\n     * @return The old indexes which had this trait.\n     */\n    set(indexes, browserEvent) {\n        return this._set(indexes, [...indexes].sort(numericSort), browserEvent);\n    }\n    _set(indexes, sortedIndexes, browserEvent) {\n        const result = this.indexes;\n        const sortedResult = this.sortedIndexes;\n        this.indexes = indexes;\n        this.sortedIndexes = sortedIndexes;\n        const toRender = disjunction(sortedResult, indexes);\n        this.renderer.renderIndexes(toRender);\n        this._onChange.fire({ indexes, browserEvent });\n        return result;\n    }\n    get() {\n        return this.indexes;\n    }\n    contains(index) {\n        return binarySearch(this.sortedIndexes, index, numericSort) >= 0;\n    }\n    dispose() {\n        dispose(this._onChange);\n    }\n}\n__decorate([\n    memoize\n], Trait.prototype, \"renderer\", null);\nclass SelectionTrait extends Trait {\n    constructor(setAriaSelected) {\n        super('selected');\n        this.setAriaSelected = setAriaSelected;\n    }\n    renderIndex(index, container) {\n        super.renderIndex(index, container);\n        if (this.setAriaSelected) {\n            if (this.contains(index)) {\n                container.setAttribute('aria-selected', 'true');\n            }\n            else {\n                container.setAttribute('aria-selected', 'false');\n            }\n        }\n    }\n}\n/**\n * The TraitSpliceable is used as a util class to be able\n * to preserve traits across splice calls, given an identity\n * provider.\n */\nclass TraitSpliceable {\n    constructor(trait, view, identityProvider) {\n        this.trait = trait;\n        this.view = view;\n        this.identityProvider = identityProvider;\n    }\n    splice(start, deleteCount, elements) {\n        if (!this.identityProvider) {\n            return this.trait.splice(start, deleteCount, elements.map(() => false));\n        }\n        const pastElementsWithTrait = this.trait.get().map(i => this.identityProvider.getId(this.view.element(i)).toString());\n        const elementsWithTrait = elements.map(e => pastElementsWithTrait.indexOf(this.identityProvider.getId(e).toString()) > -1);\n        this.trait.splice(start, deleteCount, elementsWithTrait);\n    }\n}\nexport function isInputElement(e) {\n    return e.tagName === 'INPUT' || e.tagName === 'TEXTAREA';\n}\nexport function isMonacoEditor(e) {\n    if (e.classList.contains('monaco-editor')) {\n        return true;\n    }\n    if (e.classList.contains('monaco-list')) {\n        return false;\n    }\n    if (!e.parentElement) {\n        return false;\n    }\n    return isMonacoEditor(e.parentElement);\n}\nclass KeyboardController {\n    constructor(list, view, options) {\n        this.list = list;\n        this.view = view;\n        this.disposables = new DisposableStore();\n        this.multipleSelectionDisposables = new DisposableStore();\n        this.onKeyDown.filter(e => e.keyCode === 3 /* Enter */).on(this.onEnter, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 16 /* UpArrow */).on(this.onUpArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 18 /* DownArrow */).on(this.onDownArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 11 /* PageUp */).on(this.onPageUpArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 12 /* PageDown */).on(this.onPageDownArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 9 /* Escape */).on(this.onEscape, this, this.disposables);\n        if (options.multipleSelectionSupport !== false) {\n            this.onKeyDown.filter(e => (platform.isMacintosh ? e.metaKey : e.ctrlKey) && e.keyCode === 31 /* KeyA */).on(this.onCtrlA, this, this.multipleSelectionDisposables);\n        }\n    }\n    get onKeyDown() {\n        return Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event)\n            .filter(e => !isInputElement(e.target))\n            .map(e => new StandardKeyboardEvent(e));\n    }\n    updateOptions(optionsUpdate) {\n        if (optionsUpdate.multipleSelectionSupport !== undefined) {\n            this.multipleSelectionDisposables.clear();\n            if (optionsUpdate.multipleSelectionSupport) {\n                this.onKeyDown.filter(e => (platform.isMacintosh ? e.metaKey : e.ctrlKey) && e.keyCode === 31 /* KeyA */).on(this.onCtrlA, this, this.multipleSelectionDisposables);\n            }\n        }\n    }\n    onEnter(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.setSelection(this.list.getFocus(), e.browserEvent);\n    }\n    onUpArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusPrevious(1, false, e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onDownArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusNext(1, false, e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onPageUpArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusPreviousPage(e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onPageDownArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusNextPage(e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onCtrlA(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.setSelection(range(this.list.length), e.browserEvent);\n        this.list.setAnchor(undefined);\n        this.view.domNode.focus();\n    }\n    onEscape(e) {\n        if (this.list.getSelection().length) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.list.setSelection([], e.browserEvent);\n            this.list.setAnchor(undefined);\n            this.view.domNode.focus();\n        }\n    }\n    dispose() {\n        this.disposables.dispose();\n        this.multipleSelectionDisposables.dispose();\n    }\n}\n__decorate([\n    memoize\n], KeyboardController.prototype, \"onKeyDown\", null);\nvar TypeLabelControllerState;\n(function (TypeLabelControllerState) {\n    TypeLabelControllerState[TypeLabelControllerState[\"Idle\"] = 0] = \"Idle\";\n    TypeLabelControllerState[TypeLabelControllerState[\"Typing\"] = 1] = \"Typing\";\n})(TypeLabelControllerState || (TypeLabelControllerState = {}));\nexport const DefaultKeyboardNavigationDelegate = new class {\n    mightProducePrintableCharacter(event) {\n        if (event.ctrlKey || event.metaKey || event.altKey) {\n            return false;\n        }\n        return (event.keyCode >= 31 /* KeyA */ && event.keyCode <= 56 /* KeyZ */)\n            || (event.keyCode >= 21 /* Digit0 */ && event.keyCode <= 30 /* Digit9 */)\n            || (event.keyCode >= 93 /* Numpad0 */ && event.keyCode <= 102 /* Numpad9 */)\n            || (event.keyCode >= 80 /* Semicolon */ && event.keyCode <= 90 /* Quote */);\n    }\n};\nclass TypeLabelController {\n    constructor(list, view, keyboardNavigationLabelProvider, delegate) {\n        this.list = list;\n        this.view = view;\n        this.keyboardNavigationLabelProvider = keyboardNavigationLabelProvider;\n        this.delegate = delegate;\n        this.enabled = false;\n        this.state = TypeLabelControllerState.Idle;\n        this.automaticKeyboardNavigation = true;\n        this.triggered = false;\n        this.previouslyFocused = -1;\n        this.enabledDisposables = new DisposableStore();\n        this.disposables = new DisposableStore();\n        this.updateOptions(list.options);\n    }\n    updateOptions(options) {\n        const enableKeyboardNavigation = typeof options.enableKeyboardNavigation === 'undefined' ? true : !!options.enableKeyboardNavigation;\n        if (enableKeyboardNavigation) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n        if (typeof options.automaticKeyboardNavigation !== 'undefined') {\n            this.automaticKeyboardNavigation = options.automaticKeyboardNavigation;\n        }\n    }\n    enable() {\n        if (this.enabled) {\n            return;\n        }\n        const onChar = Event.chain(this.enabledDisposables.add(new DomEmitter(this.view.domNode, 'keydown')).event)\n            .filter(e => !isInputElement(e.target))\n            .filter(() => this.automaticKeyboardNavigation || this.triggered)\n            .map(event => new StandardKeyboardEvent(event))\n            .filter(e => this.delegate.mightProducePrintableCharacter(e))\n            .forEach(e => e.preventDefault())\n            .map(event => event.browserEvent.key)\n            .event;\n        const onClear = Event.debounce(onChar, () => null, 800);\n        const onInput = Event.reduce(Event.any(onChar, onClear), (r, i) => i === null ? null : ((r || '') + i));\n        onInput(this.onInput, this, this.enabledDisposables);\n        onClear(this.onClear, this, this.enabledDisposables);\n        this.enabled = true;\n        this.triggered = false;\n    }\n    disable() {\n        if (!this.enabled) {\n            return;\n        }\n        this.enabledDisposables.clear();\n        this.enabled = false;\n        this.triggered = false;\n    }\n    onClear() {\n        var _a;\n        const focus = this.list.getFocus();\n        if (focus.length > 0 && focus[0] === this.previouslyFocused) {\n            // List: re-announce element on typing end since typed keys will interrupt aria label of focused element\n            // Do not announce if there was a focus change at the end to prevent duplication https://github.com/microsoft/vscode/issues/95961\n            const ariaLabel = (_a = this.list.options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getAriaLabel(this.list.element(focus[0]));\n            if (ariaLabel) {\n                alert(ariaLabel);\n            }\n        }\n        this.previouslyFocused = -1;\n    }\n    onInput(word) {\n        if (!word) {\n            this.state = TypeLabelControllerState.Idle;\n            this.triggered = false;\n            return;\n        }\n        const focus = this.list.getFocus();\n        const start = focus.length > 0 ? focus[0] : 0;\n        const delta = this.state === TypeLabelControllerState.Idle ? 1 : 0;\n        this.state = TypeLabelControllerState.Typing;\n        for (let i = 0; i < this.list.length; i++) {\n            const index = (start + i + delta) % this.list.length;\n            const label = this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(index));\n            const labelStr = label && label.toString();\n            if (typeof labelStr === 'undefined' || matchesPrefix(word, labelStr)) {\n                this.previouslyFocused = start;\n                this.list.setFocus([index]);\n                this.list.reveal(index);\n                return;\n            }\n        }\n    }\n    dispose() {\n        this.disable();\n        this.enabledDisposables.dispose();\n        this.disposables.dispose();\n    }\n}\nclass DOMFocusController {\n    constructor(list, view) {\n        this.list = list;\n        this.view = view;\n        this.disposables = new DisposableStore();\n        const onKeyDown = Event.chain(this.disposables.add(new DomEmitter(view.domNode, 'keydown')).event)\n            .filter(e => !isInputElement(e.target))\n            .map(e => new StandardKeyboardEvent(e));\n        onKeyDown.filter(e => e.keyCode === 2 /* Tab */ && !e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey)\n            .on(this.onTab, this, this.disposables);\n    }\n    onTab(e) {\n        if (e.target !== this.view.domNode) {\n            return;\n        }\n        const focus = this.list.getFocus();\n        if (focus.length === 0) {\n            return;\n        }\n        const focusedDomElement = this.view.domElement(focus[0]);\n        if (!focusedDomElement) {\n            return;\n        }\n        const tabIndexElement = focusedDomElement.querySelector('[tabIndex]');\n        if (!tabIndexElement || !(tabIndexElement instanceof HTMLElement) || tabIndexElement.tabIndex === -1) {\n            return;\n        }\n        const style = window.getComputedStyle(tabIndexElement);\n        if (style.visibility === 'hidden' || style.display === 'none') {\n            return;\n        }\n        e.preventDefault();\n        e.stopPropagation();\n        tabIndexElement.focus();\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport function isSelectionSingleChangeEvent(event) {\n    return platform.isMacintosh ? event.browserEvent.metaKey : event.browserEvent.ctrlKey;\n}\nexport function isSelectionRangeChangeEvent(event) {\n    return event.browserEvent.shiftKey;\n}\nfunction isMouseRightClick(event) {\n    return event instanceof MouseEvent && event.button === 2;\n}\nconst DefaultMultipleSelectionController = {\n    isSelectionSingleChangeEvent,\n    isSelectionRangeChangeEvent\n};\nexport class MouseController {\n    constructor(list) {\n        this.list = list;\n        this.disposables = new DisposableStore();\n        this._onPointer = new Emitter();\n        this.onPointer = this._onPointer.event;\n        if (list.options.multipleSelectionSupport !== false) {\n            this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n        }\n        this.mouseSupport = typeof list.options.mouseSupport === 'undefined' || !!list.options.mouseSupport;\n        if (this.mouseSupport) {\n            list.onMouseDown(this.onMouseDown, this, this.disposables);\n            list.onContextMenu(this.onContextMenu, this, this.disposables);\n            list.onMouseDblClick(this.onDoubleClick, this, this.disposables);\n            list.onTouchStart(this.onMouseDown, this, this.disposables);\n            this.disposables.add(Gesture.addTarget(list.getHTMLElement()));\n        }\n        Event.any(list.onMouseClick, list.onMouseMiddleClick, list.onTap)(this.onViewPointer, this, this.disposables);\n    }\n    updateOptions(optionsUpdate) {\n        if (optionsUpdate.multipleSelectionSupport !== undefined) {\n            this.multipleSelectionController = undefined;\n            if (optionsUpdate.multipleSelectionSupport) {\n                this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n            }\n        }\n    }\n    isSelectionSingleChangeEvent(event) {\n        if (!this.multipleSelectionController) {\n            return false;\n        }\n        return this.multipleSelectionController.isSelectionSingleChangeEvent(event);\n    }\n    isSelectionRangeChangeEvent(event) {\n        if (!this.multipleSelectionController) {\n            return false;\n        }\n        return this.multipleSelectionController.isSelectionRangeChangeEvent(event);\n    }\n    isSelectionChangeEvent(event) {\n        return this.isSelectionSingleChangeEvent(event) || this.isSelectionRangeChangeEvent(event);\n    }\n    onMouseDown(e) {\n        if (isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (document.activeElement !== e.browserEvent.target) {\n            this.list.domFocus();\n        }\n    }\n    onContextMenu(e) {\n        if (isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        const focus = typeof e.index === 'undefined' ? [] : [e.index];\n        this.list.setFocus(focus, e.browserEvent);\n    }\n    onViewPointer(e) {\n        if (!this.mouseSupport) {\n            return;\n        }\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        const focus = e.index;\n        if (typeof focus === 'undefined') {\n            this.list.setFocus([], e.browserEvent);\n            this.list.setSelection([], e.browserEvent);\n            this.list.setAnchor(undefined);\n            return;\n        }\n        if (this.isSelectionRangeChangeEvent(e)) {\n            return this.changeSelection(e);\n        }\n        if (this.isSelectionChangeEvent(e)) {\n            return this.changeSelection(e);\n        }\n        this.list.setFocus([focus], e.browserEvent);\n        this.list.setAnchor(focus);\n        if (!isMouseRightClick(e.browserEvent)) {\n            this.list.setSelection([focus], e.browserEvent);\n        }\n        this._onPointer.fire(e);\n    }\n    onDoubleClick(e) {\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (this.isSelectionChangeEvent(e)) {\n            return;\n        }\n        const focus = this.list.getFocus();\n        this.list.setSelection(focus, e.browserEvent);\n    }\n    changeSelection(e) {\n        const focus = e.index;\n        let anchor = this.list.getAnchor();\n        if (this.isSelectionRangeChangeEvent(e)) {\n            if (typeof anchor === 'undefined') {\n                const currentFocus = this.list.getFocus()[0];\n                anchor = currentFocus !== null && currentFocus !== void 0 ? currentFocus : focus;\n                this.list.setAnchor(anchor);\n            }\n            const min = Math.min(anchor, focus);\n            const max = Math.max(anchor, focus);\n            const rangeSelection = range(min, max + 1);\n            const selection = this.list.getSelection();\n            const contiguousRange = getContiguousRangeContaining(disjunction(selection, [anchor]), anchor);\n            if (contiguousRange.length === 0) {\n                return;\n            }\n            const newSelection = disjunction(rangeSelection, relativeComplement(selection, contiguousRange));\n            this.list.setSelection(newSelection, e.browserEvent);\n            this.list.setFocus([focus], e.browserEvent);\n        }\n        else if (this.isSelectionSingleChangeEvent(e)) {\n            const selection = this.list.getSelection();\n            const newSelection = selection.filter(i => i !== focus);\n            this.list.setFocus([focus]);\n            this.list.setAnchor(focus);\n            if (selection.length === newSelection.length) {\n                this.list.setSelection([...newSelection, focus], e.browserEvent);\n            }\n            else {\n                this.list.setSelection(newSelection, e.browserEvent);\n            }\n        }\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport class DefaultStyleController {\n    constructor(styleElement, selectorSuffix) {\n        this.styleElement = styleElement;\n        this.selectorSuffix = selectorSuffix;\n    }\n    style(styles) {\n        const suffix = this.selectorSuffix && `.${this.selectorSuffix}`;\n        const content = [];\n        if (styles.listBackground) {\n            if (styles.listBackground.isOpaque()) {\n                content.push(`.monaco-list${suffix} .monaco-list-rows { background: ${styles.listBackground}; }`);\n            }\n            else if (!platform.isMacintosh) { // subpixel AA doesn't exist in macOS\n                console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`);\n            }\n        }\n        if (styles.listFocusBackground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { background-color: ${styles.listFocusBackground}; }`);\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused:hover { background-color: ${styles.listFocusBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listFocusForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { color: ${styles.listFocusForeground}; }`);\n        }\n        if (styles.listActiveSelectionBackground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { background-color: ${styles.listActiveSelectionBackground}; }`);\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected:hover { background-color: ${styles.listActiveSelectionBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listActiveSelectionForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { color: ${styles.listActiveSelectionForeground}; }`);\n        }\n        if (styles.listActiveSelectionIconForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected .codicon { color: ${styles.listActiveSelectionIconForeground}; }`);\n        }\n        if (styles.listFocusAndSelectionBackground) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { background-color: ${styles.listFocusAndSelectionBackground}; }\n\t\t\t`);\n        }\n        if (styles.listFocusAndSelectionForeground) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { color: ${styles.listFocusAndSelectionForeground}; }\n\t\t\t`);\n        }\n        if (styles.listInactiveFocusForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { color:  ${styles.listInactiveFocusForeground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused:hover { color:  ${styles.listInactiveFocusForeground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionIconForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused .codicon { color:  ${styles.listInactiveSelectionIconForeground}; }`);\n        }\n        if (styles.listInactiveFocusBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { background-color:  ${styles.listInactiveFocusBackground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused:hover { background-color:  ${styles.listInactiveFocusBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { background-color:  ${styles.listInactiveSelectionBackground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected:hover { background-color:  ${styles.listInactiveSelectionBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { color: ${styles.listInactiveSelectionForeground}; }`);\n        }\n        if (styles.listHoverBackground) {\n            content.push(`.monaco-list${suffix}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${styles.listHoverBackground}; }`);\n        }\n        if (styles.listHoverForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${styles.listHoverForeground}; }`);\n        }\n        if (styles.listSelectionOutline) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { outline: 1px dotted ${styles.listSelectionOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listFocusOutline) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${suffix}.last-focused .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`);\n        }\n        if (styles.listInactiveFocusOutline) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { outline: 1px dotted ${styles.listInactiveFocusOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listHoverOutline) {\n            content.push(`.monaco-list${suffix} .monaco-list-row:hover { outline: 1px dashed ${styles.listHoverOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listDropBackground) {\n            content.push(`\n\t\t\t\t.monaco-list${suffix}.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-row.drop-target { background-color: ${styles.listDropBackground} !important; color: inherit !important; }\n\t\t\t`);\n        }\n        if (styles.listFilterWidgetBackground) {\n            content.push(`.monaco-list-type-filter { background-color: ${styles.listFilterWidgetBackground} }`);\n        }\n        if (styles.listFilterWidgetOutline) {\n            content.push(`.monaco-list-type-filter { border: 1px solid ${styles.listFilterWidgetOutline}; }`);\n        }\n        if (styles.listFilterWidgetNoMatchesOutline) {\n            content.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${styles.listFilterWidgetNoMatchesOutline}; }`);\n        }\n        if (styles.listMatchesShadow) {\n            content.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${styles.listMatchesShadow}; }`);\n        }\n        if (styles.tableColumnsBorder) {\n            content.push(`\n\t\t\t\t.monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${styles.tableColumnsBorder};\n\t\t\t}`);\n        }\n        if (styles.tableOddRowsBackgroundColor) {\n            content.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${styles.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`);\n        }\n        this.styleElement.textContent = content.join('\\n');\n    }\n}\nconst defaultStyles = {\n    listFocusBackground: Color.fromHex('#7FB0D0'),\n    listActiveSelectionBackground: Color.fromHex('#0E639C'),\n    listActiveSelectionForeground: Color.fromHex('#FFFFFF'),\n    listActiveSelectionIconForeground: Color.fromHex('#FFFFFF'),\n    listFocusAndSelectionBackground: Color.fromHex('#094771'),\n    listFocusAndSelectionForeground: Color.fromHex('#FFFFFF'),\n    listInactiveSelectionBackground: Color.fromHex('#3F3F46'),\n    listInactiveSelectionIconForeground: Color.fromHex('#FFFFFF'),\n    listHoverBackground: Color.fromHex('#2A2D2E'),\n    listDropBackground: Color.fromHex('#383B3D'),\n    treeIndentGuidesStroke: Color.fromHex('#a9a9a9'),\n    tableColumnsBorder: Color.fromHex('#cccccc').transparent(0.2),\n    tableOddRowsBackgroundColor: Color.fromHex('#cccccc').transparent(0.04)\n};\nconst DefaultOptions = {\n    keyboardSupport: true,\n    mouseSupport: true,\n    multipleSelectionSupport: true,\n    dnd: {\n        getDragURI() { return null; },\n        onDragStart() { },\n        onDragOver() { return false; },\n        drop() { }\n    }\n};\n// TODO@Joao: move these utils into a SortedArray class\nfunction getContiguousRangeContaining(range, value) {\n    const index = range.indexOf(value);\n    if (index === -1) {\n        return [];\n    }\n    const result = [];\n    let i = index - 1;\n    while (i >= 0 && range[i] === value - (index - i)) {\n        result.push(range[i--]);\n    }\n    result.reverse();\n    i = index;\n    while (i < range.length && range[i] === value + (i - index)) {\n        result.push(range[i++]);\n    }\n    return result;\n}\n/**\n * Given two sorted collections of numbers, returns the intersection\n * between them (OR).\n */\nfunction disjunction(one, other) {\n    const result = [];\n    let i = 0, j = 0;\n    while (i < one.length || j < other.length) {\n        if (i >= one.length) {\n            result.push(other[j++]);\n        }\n        else if (j >= other.length) {\n            result.push(one[i++]);\n        }\n        else if (one[i] === other[j]) {\n            result.push(one[i]);\n            i++;\n            j++;\n            continue;\n        }\n        else if (one[i] < other[j]) {\n            result.push(one[i++]);\n        }\n        else {\n            result.push(other[j++]);\n        }\n    }\n    return result;\n}\n/**\n * Given two sorted collections of numbers, returns the relative\n * complement between them (XOR).\n */\nfunction relativeComplement(one, other) {\n    const result = [];\n    let i = 0, j = 0;\n    while (i < one.length || j < other.length) {\n        if (i >= one.length) {\n            result.push(other[j++]);\n        }\n        else if (j >= other.length) {\n            result.push(one[i++]);\n        }\n        else if (one[i] === other[j]) {\n            i++;\n            j++;\n            continue;\n        }\n        else if (one[i] < other[j]) {\n            result.push(one[i++]);\n        }\n        else {\n            j++;\n        }\n    }\n    return result;\n}\nconst numericSort = (a, b) => a - b;\nclass PipelineRenderer {\n    constructor(_templateId, renderers) {\n        this._templateId = _templateId;\n        this.renderers = renderers;\n    }\n    get templateId() {\n        return this._templateId;\n    }\n    renderTemplate(container) {\n        return this.renderers.map(r => r.renderTemplate(container));\n    }\n    renderElement(element, index, templateData, height) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            renderer.renderElement(element, index, templateData[i++], height);\n        }\n    }\n    disposeElement(element, index, templateData, height) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            if (renderer.disposeElement) {\n                renderer.disposeElement(element, index, templateData[i], height);\n            }\n            i += 1;\n        }\n    }\n    disposeTemplate(templateData) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            renderer.disposeTemplate(templateData[i++]);\n        }\n    }\n}\nclass AccessibiltyRenderer {\n    constructor(accessibilityProvider) {\n        this.accessibilityProvider = accessibilityProvider;\n        this.templateId = 'a18n';\n    }\n    renderTemplate(container) {\n        return container;\n    }\n    renderElement(element, index, container) {\n        const ariaLabel = this.accessibilityProvider.getAriaLabel(element);\n        if (ariaLabel) {\n            container.setAttribute('aria-label', ariaLabel);\n        }\n        else {\n            container.removeAttribute('aria-label');\n        }\n        const ariaLevel = this.accessibilityProvider.getAriaLevel && this.accessibilityProvider.getAriaLevel(element);\n        if (typeof ariaLevel === 'number') {\n            container.setAttribute('aria-level', `${ariaLevel}`);\n        }\n        else {\n            container.removeAttribute('aria-level');\n        }\n    }\n    disposeTemplate(templateData) {\n        // noop\n    }\n}\nclass ListViewDragAndDrop {\n    constructor(list, dnd) {\n        this.list = list;\n        this.dnd = dnd;\n    }\n    getDragElements(element) {\n        const selection = this.list.getSelectedElements();\n        const elements = selection.indexOf(element) > -1 ? selection : [element];\n        return elements;\n    }\n    getDragURI(element) {\n        return this.dnd.getDragURI(element);\n    }\n    getDragLabel(elements, originalEvent) {\n        if (this.dnd.getDragLabel) {\n            return this.dnd.getDragLabel(elements, originalEvent);\n        }\n        return undefined;\n    }\n    onDragStart(data, originalEvent) {\n        if (this.dnd.onDragStart) {\n            this.dnd.onDragStart(data, originalEvent);\n        }\n    }\n    onDragOver(data, targetElement, targetIndex, originalEvent) {\n        return this.dnd.onDragOver(data, targetElement, targetIndex, originalEvent);\n    }\n    onDragLeave(data, targetElement, targetIndex, originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, data, targetElement, targetIndex, originalEvent);\n    }\n    onDragEnd(originalEvent) {\n        if (this.dnd.onDragEnd) {\n            this.dnd.onDragEnd(originalEvent);\n        }\n    }\n    drop(data, targetElement, targetIndex, originalEvent) {\n        this.dnd.drop(data, targetElement, targetIndex, originalEvent);\n    }\n}\n/**\n * The {@link List} is a virtual scrolling widget, built on top of the {@link ListView}\n * widget.\n *\n * Features:\n * - Customizable keyboard and mouse support\n * - Element traits: focus, selection, achor\n * - Accessibility support\n * - Touch support\n * - Performant template-based rendering\n * - Horizontal scrolling\n * - Variable element height support\n * - Dynamic element height support\n * - Drag-and-drop support\n */\nexport class List {\n    constructor(user, container, virtualDelegate, renderers, _options = DefaultOptions) {\n        var _a;\n        this.user = user;\n        this._options = _options;\n        this.focus = new Trait('focused');\n        this.anchor = new Trait('anchor');\n        this.eventBufferer = new EventBufferer();\n        this._ariaLabel = '';\n        this.disposables = new DisposableStore();\n        this._onDidDispose = new Emitter();\n        this.onDidDispose = this._onDidDispose.event;\n        const role = this._options.accessibilityProvider && this._options.accessibilityProvider.getWidgetRole ? (_a = this._options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getWidgetRole() : 'list';\n        this.selection = new SelectionTrait(role !== 'listbox');\n        mixin(_options, defaultStyles, false);\n        const baseRenderers = [this.focus.renderer, this.selection.renderer];\n        this.accessibilityProvider = _options.accessibilityProvider;\n        if (this.accessibilityProvider) {\n            baseRenderers.push(new AccessibiltyRenderer(this.accessibilityProvider));\n            if (this.accessibilityProvider.onDidChangeActiveDescendant) {\n                this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant, this, this.disposables);\n            }\n        }\n        renderers = renderers.map(r => new PipelineRenderer(r.templateId, [...baseRenderers, r]));\n        const viewOptions = Object.assign(Object.assign({}, _options), { dnd: _options.dnd && new ListViewDragAndDrop(this, _options.dnd) });\n        this.view = new ListView(container, virtualDelegate, renderers, viewOptions);\n        this.view.domNode.setAttribute('role', role);\n        if (_options.styleController) {\n            this.styleController = _options.styleController(this.view.domId);\n        }\n        else {\n            const styleElement = createStyleSheet(this.view.domNode);\n            this.styleController = new DefaultStyleController(styleElement, this.view.domId);\n        }\n        this.spliceable = new CombinedSpliceable([\n            new TraitSpliceable(this.focus, this.view, _options.identityProvider),\n            new TraitSpliceable(this.selection, this.view, _options.identityProvider),\n            new TraitSpliceable(this.anchor, this.view, _options.identityProvider),\n            this.view\n        ]);\n        this.disposables.add(this.focus);\n        this.disposables.add(this.selection);\n        this.disposables.add(this.anchor);\n        this.disposables.add(this.view);\n        this.disposables.add(this._onDidDispose);\n        this.disposables.add(new DOMFocusController(this, this.view));\n        if (typeof _options.keyboardSupport !== 'boolean' || _options.keyboardSupport) {\n            this.keyboardController = new KeyboardController(this, this.view, _options);\n            this.disposables.add(this.keyboardController);\n        }\n        if (_options.keyboardNavigationLabelProvider) {\n            const delegate = _options.keyboardNavigationDelegate || DefaultKeyboardNavigationDelegate;\n            this.typeLabelController = new TypeLabelController(this, this.view, _options.keyboardNavigationLabelProvider, delegate);\n            this.disposables.add(this.typeLabelController);\n        }\n        this.mouseController = this.createMouseController(_options);\n        this.disposables.add(this.mouseController);\n        this.onDidChangeFocus(this._onFocusChange, this, this.disposables);\n        this.onDidChangeSelection(this._onSelectionChange, this, this.disposables);\n        if (this.accessibilityProvider) {\n            this.ariaLabel = this.accessibilityProvider.getWidgetAriaLabel();\n        }\n        if (this._options.multipleSelectionSupport !== false) {\n            this.view.domNode.setAttribute('aria-multiselectable', 'true');\n        }\n    }\n    get onDidChangeFocus() {\n        return Event.map(this.eventBufferer.wrapEvent(this.focus.onChange), e => this.toListEvent(e));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.eventBufferer.wrapEvent(this.selection.onChange), e => this.toListEvent(e));\n    }\n    get domId() { return this.view.domId; }\n    get onMouseClick() { return this.view.onMouseClick; }\n    get onMouseDblClick() { return this.view.onMouseDblClick; }\n    get onMouseMiddleClick() { return this.view.onMouseMiddleClick; }\n    get onPointer() { return this.mouseController.onPointer; }\n    get onMouseDown() { return this.view.onMouseDown; }\n    get onTouchStart() { return this.view.onTouchStart; }\n    get onTap() { return this.view.onTap; }\n    /**\n     * Possible context menu trigger events:\n     * - ContextMenu key\n     * - Shift F10\n     * - Ctrl Option Shift M (macOS with VoiceOver)\n     * - Mouse right click\n     */\n    get onContextMenu() {\n        let didJustPressContextMenuKey = false;\n        const fromKeyDown = Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event)\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => didJustPressContextMenuKey = e.keyCode === 58 /* ContextMenu */ || (e.shiftKey && e.keyCode === 68 /* F10 */))\n            .map(stopEvent)\n            .filter(() => false)\n            .event;\n        const fromKeyUp = Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keyup')).event)\n            .forEach(() => didJustPressContextMenuKey = false)\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => e.keyCode === 58 /* ContextMenu */ || (e.shiftKey && e.keyCode === 68 /* F10 */))\n            .map(stopEvent)\n            .map(({ browserEvent }) => {\n            const focus = this.getFocus();\n            const index = focus.length ? focus[0] : undefined;\n            const element = typeof index !== 'undefined' ? this.view.element(index) : undefined;\n            const anchor = typeof index !== 'undefined' ? this.view.domElement(index) : this.view.domNode;\n            return { index, element, anchor, browserEvent };\n        })\n            .event;\n        const fromMouse = Event.chain(this.view.onContextMenu)\n            .filter(_ => !didJustPressContextMenuKey)\n            .map(({ element, index, browserEvent }) => ({ element, index, anchor: { x: browserEvent.pageX + 1, y: browserEvent.pageY }, browserEvent }))\n            .event;\n        return Event.any(fromKeyDown, fromKeyUp, fromMouse);\n    }\n    get onKeyDown() { return this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event; }\n    get onDidFocus() { return Event.signal(this.disposables.add(new DomEmitter(this.view.domNode, 'focus', true)).event); }\n    createMouseController(options) {\n        return new MouseController(this);\n    }\n    updateOptions(optionsUpdate = {}) {\n        var _a;\n        this._options = Object.assign(Object.assign({}, this._options), optionsUpdate);\n        if (this.typeLabelController) {\n            this.typeLabelController.updateOptions(this._options);\n        }\n        if (this._options.multipleSelectionController !== undefined) {\n            if (this._options.multipleSelectionSupport) {\n                this.view.domNode.setAttribute('aria-multiselectable', 'true');\n            }\n            else {\n                this.view.domNode.removeAttribute('aria-multiselectable');\n            }\n        }\n        this.mouseController.updateOptions(optionsUpdate);\n        (_a = this.keyboardController) === null || _a === void 0 ? void 0 : _a.updateOptions(optionsUpdate);\n        this.view.updateOptions(optionsUpdate);\n    }\n    get options() {\n        return this._options;\n    }\n    splice(start, deleteCount, elements = []) {\n        if (start < 0 || start > this.view.length) {\n            throw new ListError(this.user, `Invalid start index: ${start}`);\n        }\n        if (deleteCount < 0) {\n            throw new ListError(this.user, `Invalid delete count: ${deleteCount}`);\n        }\n        if (deleteCount === 0 && elements.length === 0) {\n            return;\n        }\n        this.eventBufferer.bufferEvents(() => this.spliceable.splice(start, deleteCount, elements));\n    }\n    rerender() {\n        this.view.rerender();\n    }\n    element(index) {\n        return this.view.element(index);\n    }\n    get length() {\n        return this.view.length;\n    }\n    get contentHeight() {\n        return this.view.contentHeight;\n    }\n    get scrollTop() {\n        return this.view.getScrollTop();\n    }\n    set scrollTop(scrollTop) {\n        this.view.setScrollTop(scrollTop);\n    }\n    get ariaLabel() {\n        return this._ariaLabel;\n    }\n    set ariaLabel(value) {\n        this._ariaLabel = value;\n        this.view.domNode.setAttribute('aria-label', value);\n    }\n    domFocus() {\n        this.view.domNode.focus({ preventScroll: true });\n    }\n    layout(height, width) {\n        this.view.layout(height, width);\n    }\n    setSelection(indexes, browserEvent) {\n        for (const index of indexes) {\n            if (index < 0 || index >= this.length) {\n                throw new ListError(this.user, `Invalid index ${index}`);\n            }\n        }\n        this.selection.set(indexes, browserEvent);\n    }\n    getSelection() {\n        return this.selection.get();\n    }\n    getSelectedElements() {\n        return this.getSelection().map(i => this.view.element(i));\n    }\n    setAnchor(index) {\n        if (typeof index === 'undefined') {\n            this.anchor.set([]);\n            return;\n        }\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        this.anchor.set([index]);\n    }\n    getAnchor() {\n        return firstOrDefault(this.anchor.get(), undefined);\n    }\n    getAnchorElement() {\n        const anchor = this.getAnchor();\n        return typeof anchor === 'undefined' ? undefined : this.element(anchor);\n    }\n    setFocus(indexes, browserEvent) {\n        for (const index of indexes) {\n            if (index < 0 || index >= this.length) {\n                throw new ListError(this.user, `Invalid index ${index}`);\n            }\n        }\n        this.focus.set(indexes, browserEvent);\n    }\n    focusNext(n = 1, loop = false, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const focus = this.focus.get();\n        const index = this.findNextIndex(focus.length > 0 ? focus[0] + n : 0, loop, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusPrevious(n = 1, loop = false, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const focus = this.focus.get();\n        const index = this.findPreviousIndex(focus.length > 0 ? focus[0] - n : 0, loop, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusNextPage(browserEvent, filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let lastPageIndex = this.view.indexAt(this.view.getScrollTop() + this.view.renderHeight);\n            lastPageIndex = lastPageIndex === 0 ? 0 : lastPageIndex - 1;\n            const lastPageElement = this.view.element(lastPageIndex);\n            const currentlyFocusedElement = this.getFocusedElements()[0];\n            if (currentlyFocusedElement !== lastPageElement) {\n                const lastGoodPageIndex = this.findPreviousIndex(lastPageIndex, false, filter);\n                if (lastGoodPageIndex > -1 && currentlyFocusedElement !== this.view.element(lastGoodPageIndex)) {\n                    this.setFocus([lastGoodPageIndex], browserEvent);\n                }\n                else {\n                    this.setFocus([lastPageIndex], browserEvent);\n                }\n            }\n            else {\n                const previousScrollTop = this.view.getScrollTop();\n                this.view.setScrollTop(previousScrollTop + this.view.renderHeight - this.view.elementHeight(lastPageIndex));\n                if (this.view.getScrollTop() !== previousScrollTop) {\n                    this.setFocus([]);\n                    // Let the scroll event listener run\n                    yield timeout(0);\n                    yield this.focusNextPage(browserEvent, filter);\n                }\n            }\n        });\n    }\n    focusPreviousPage(browserEvent, filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let firstPageIndex;\n            const scrollTop = this.view.getScrollTop();\n            if (scrollTop === 0) {\n                firstPageIndex = this.view.indexAt(scrollTop);\n            }\n            else {\n                firstPageIndex = this.view.indexAfter(scrollTop - 1);\n            }\n            const firstPageElement = this.view.element(firstPageIndex);\n            const currentlyFocusedElement = this.getFocusedElements()[0];\n            if (currentlyFocusedElement !== firstPageElement) {\n                const firstGoodPageIndex = this.findNextIndex(firstPageIndex, false, filter);\n                if (firstGoodPageIndex > -1 && currentlyFocusedElement !== this.view.element(firstGoodPageIndex)) {\n                    this.setFocus([firstGoodPageIndex], browserEvent);\n                }\n                else {\n                    this.setFocus([firstPageIndex], browserEvent);\n                }\n            }\n            else {\n                const previousScrollTop = scrollTop;\n                this.view.setScrollTop(scrollTop - this.view.renderHeight);\n                if (this.view.getScrollTop() !== previousScrollTop) {\n                    this.setFocus([]);\n                    // Let the scroll event listener run\n                    yield timeout(0);\n                    yield this.focusPreviousPage(browserEvent, filter);\n                }\n            }\n        });\n    }\n    focusLast(browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const index = this.findPreviousIndex(this.length - 1, false, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusFirst(browserEvent, filter) {\n        this.focusNth(0, browserEvent, filter);\n    }\n    focusNth(n, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const index = this.findNextIndex(n, false, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    findNextIndex(index, loop = false, filter) {\n        for (let i = 0; i < this.length; i++) {\n            if (index >= this.length && !loop) {\n                return -1;\n            }\n            index = index % this.length;\n            if (!filter || filter(this.element(index))) {\n                return index;\n            }\n            index++;\n        }\n        return -1;\n    }\n    findPreviousIndex(index, loop = false, filter) {\n        for (let i = 0; i < this.length; i++) {\n            if (index < 0 && !loop) {\n                return -1;\n            }\n            index = (this.length + (index % this.length)) % this.length;\n            if (!filter || filter(this.element(index))) {\n                return index;\n            }\n            index--;\n        }\n        return -1;\n    }\n    getFocus() {\n        return this.focus.get();\n    }\n    getFocusedElements() {\n        return this.getFocus().map(i => this.view.element(i));\n    }\n    reveal(index, relativeTop) {\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        const scrollTop = this.view.getScrollTop();\n        const elementTop = this.view.elementTop(index);\n        const elementHeight = this.view.elementHeight(index);\n        if (isNumber(relativeTop)) {\n            // y = mx + b\n            const m = elementHeight - this.view.renderHeight;\n            this.view.setScrollTop(m * clamp(relativeTop, 0, 1) + elementTop);\n        }\n        else {\n            const viewItemBottom = elementTop + elementHeight;\n            const scrollBottom = scrollTop + this.view.renderHeight;\n            if (elementTop < scrollTop && viewItemBottom >= scrollBottom) {\n                // The element is already overflowing the viewport, no-op\n            }\n            else if (elementTop < scrollTop || (viewItemBottom >= scrollBottom && elementHeight >= this.view.renderHeight)) {\n                this.view.setScrollTop(elementTop);\n            }\n            else if (viewItemBottom >= scrollBottom) {\n                this.view.setScrollTop(viewItemBottom - this.view.renderHeight);\n            }\n        }\n    }\n    /**\n     * Returns the relative position of an element rendered in the list.\n     * Returns `null` if the element isn't *entirely* in the visible viewport.\n     */\n    getRelativeTop(index) {\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        const scrollTop = this.view.getScrollTop();\n        const elementTop = this.view.elementTop(index);\n        const elementHeight = this.view.elementHeight(index);\n        if (elementTop < scrollTop || elementTop + elementHeight > scrollTop + this.view.renderHeight) {\n            return null;\n        }\n        // y = mx + b\n        const m = elementHeight - this.view.renderHeight;\n        return Math.abs((scrollTop - elementTop) / m);\n    }\n    getHTMLElement() {\n        return this.view.domNode;\n    }\n    style(styles) {\n        this.styleController.style(styles);\n    }\n    toListEvent({ indexes, browserEvent }) {\n        return { indexes, elements: indexes.map(i => this.view.element(i)), browserEvent };\n    }\n    _onFocusChange() {\n        const focus = this.focus.get();\n        this.view.domNode.classList.toggle('element-focused', focus.length > 0);\n        this.onDidChangeActiveDescendant();\n    }\n    onDidChangeActiveDescendant() {\n        var _a;\n        const focus = this.focus.get();\n        if (focus.length > 0) {\n            let id;\n            if ((_a = this.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getActiveDescendantId) {\n                id = this.accessibilityProvider.getActiveDescendantId(this.view.element(focus[0]));\n            }\n            this.view.domNode.setAttribute('aria-activedescendant', id || this.view.getElementDomId(focus[0]));\n        }\n        else {\n            this.view.domNode.removeAttribute('aria-activedescendant');\n        }\n    }\n    _onSelectionChange() {\n        const selection = this.selection.get();\n        this.view.domNode.classList.toggle('selection-none', selection.length === 0);\n        this.view.domNode.classList.toggle('selection-single', selection.length === 1);\n        this.view.domNode.classList.toggle('selection-multiple', selection.length > 1);\n    }\n    dispose() {\n        this._onDidDispose.fire();\n        this.disposables.dispose();\n        this._onDidDispose.dispose();\n    }\n}\n__decorate([\n    memoize\n], List.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], List.prototype, \"onDidChangeSelection\", null);\n__decorate([\n    memoize\n], List.prototype, \"onContextMenu\", null);\n__decorate([\n    memoize\n], List.prototype, \"onKeyDown\", null);\n__decorate([\n    memoize\n], List.prototype, \"onDidFocus\", null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFirefox } from '../../browser.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { $, addDisposableListener, append, clearNode, createStyleSheet, Dimension, EventHelper, EventType, getActiveElement, isAncestor, isInShadowDOM } from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { StandardMouseEvent } from '../../mouseEvent.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport { ActionViewItem, BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { formatRule } from '../codicons/codiconStyles.js';\nimport { layout } from '../contextview/contextview.js';\nimport { DomScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { EmptySubmenuAction, Separator, SubmenuAction } from '../../../common/actions.js';\nimport { RunOnceScheduler } from '../../../common/async.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport { stripIcons } from '../../../common/iconLabels.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nimport { isLinux, isMacintosh } from '../../../common/platform.js';\nimport * as strings from '../../../common/strings.js';\nexport const MENU_MNEMONIC_REGEX = /\\(&([^\\s&])\\)|(^|[^&])&([^\\s&])/;\nexport const MENU_ESCAPED_MNEMONIC_REGEX = /(&amp;)?(&amp;)([^\\s&])/g;\nexport var Direction;\n(function (Direction) {\n    Direction[Direction[\"Right\"] = 0] = \"Right\";\n    Direction[Direction[\"Left\"] = 1] = \"Left\";\n})(Direction || (Direction = {}));\nexport class Menu extends ActionBar {\n    constructor(container, actions, options = {}) {\n        container.classList.add('monaco-menu-container');\n        container.setAttribute('role', 'presentation');\n        const menuElement = document.createElement('div');\n        menuElement.classList.add('monaco-menu');\n        menuElement.setAttribute('role', 'presentation');\n        super(menuElement, {\n            orientation: 1 /* VERTICAL */,\n            actionViewItemProvider: action => this.doGetActionViewItem(action, options, parentData),\n            context: options.context,\n            actionRunner: options.actionRunner,\n            ariaLabel: options.ariaLabel,\n            focusOnlyEnabledItems: true,\n            triggerKeys: { keys: [3 /* Enter */, ...(isMacintosh || isLinux ? [10 /* Space */] : [])], keyDown: true }\n        });\n        this.menuElement = menuElement;\n        this.actionsList.setAttribute('role', 'menu');\n        this.actionsList.tabIndex = 0;\n        this.menuDisposables = this._register(new DisposableStore());\n        this.initializeOrUpdateStyleSheet(container, {});\n        this._register(Gesture.addTarget(menuElement));\n        addDisposableListener(menuElement, EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            // Stop tab navigation of menus\n            if (event.equals(2 /* Tab */)) {\n                e.preventDefault();\n            }\n        });\n        if (options.enableMnemonics) {\n            this.menuDisposables.add(addDisposableListener(menuElement, EventType.KEY_DOWN, (e) => {\n                const key = e.key.toLocaleLowerCase();\n                if (this.mnemonics.has(key)) {\n                    EventHelper.stop(e, true);\n                    const actions = this.mnemonics.get(key);\n                    if (actions.length === 1) {\n                        if (actions[0] instanceof SubmenuMenuActionViewItem && actions[0].container) {\n                            this.focusItemByElement(actions[0].container);\n                        }\n                        actions[0].onClick(e);\n                    }\n                    if (actions.length > 1) {\n                        const action = actions.shift();\n                        if (action && action.container) {\n                            this.focusItemByElement(action.container);\n                            actions.push(action);\n                        }\n                        this.mnemonics.set(key, actions);\n                    }\n                }\n            }));\n        }\n        if (isLinux) {\n            this._register(addDisposableListener(menuElement, EventType.KEY_DOWN, e => {\n                const event = new StandardKeyboardEvent(e);\n                if (event.equals(14 /* Home */) || event.equals(11 /* PageUp */)) {\n                    this.focusedItem = this.viewItems.length - 1;\n                    this.focusNext();\n                    EventHelper.stop(e, true);\n                }\n                else if (event.equals(13 /* End */) || event.equals(12 /* PageDown */)) {\n                    this.focusedItem = 0;\n                    this.focusPrevious();\n                    EventHelper.stop(e, true);\n                }\n            }));\n        }\n        this._register(addDisposableListener(this.domNode, EventType.MOUSE_OUT, e => {\n            let relatedTarget = e.relatedTarget;\n            if (!isAncestor(relatedTarget, this.domNode)) {\n                this.focusedItem = undefined;\n                this.updateFocus();\n                e.stopPropagation();\n            }\n        }));\n        this._register(addDisposableListener(this.actionsList, EventType.MOUSE_OVER, e => {\n            let target = e.target;\n            if (!target || !isAncestor(target, this.actionsList) || target === this.actionsList) {\n                return;\n            }\n            while (target.parentElement !== this.actionsList && target.parentElement !== null) {\n                target = target.parentElement;\n            }\n            if (target.classList.contains('action-item')) {\n                const lastFocusedItem = this.focusedItem;\n                this.setFocusedItem(target);\n                if (lastFocusedItem !== this.focusedItem) {\n                    this.updateFocus();\n                }\n            }\n        }));\n        // Support touch on actions list to focus items (needed for submenus)\n        this._register(Gesture.addTarget(this.actionsList));\n        this._register(addDisposableListener(this.actionsList, TouchEventType.Tap, e => {\n            let target = e.initialTarget;\n            if (!target || !isAncestor(target, this.actionsList) || target === this.actionsList) {\n                return;\n            }\n            while (target.parentElement !== this.actionsList && target.parentElement !== null) {\n                target = target.parentElement;\n            }\n            if (target.classList.contains('action-item')) {\n                const lastFocusedItem = this.focusedItem;\n                this.setFocusedItem(target);\n                if (lastFocusedItem !== this.focusedItem) {\n                    this.updateFocus();\n                }\n            }\n        }));\n        let parentData = {\n            parent: this\n        };\n        this.mnemonics = new Map();\n        // Scroll Logic\n        this.scrollableElement = this._register(new DomScrollableElement(menuElement, {\n            alwaysConsumeMouseWheel: true,\n            horizontal: 2 /* Hidden */,\n            vertical: 3 /* Visible */,\n            verticalScrollbarSize: 7,\n            handleMouseWheel: true,\n            useShadows: true\n        }));\n        const scrollElement = this.scrollableElement.getDomNode();\n        scrollElement.style.position = '';\n        // Support scroll on menu drag\n        this._register(addDisposableListener(menuElement, TouchEventType.Change, e => {\n            EventHelper.stop(e, true);\n            const scrollTop = this.scrollableElement.getScrollPosition().scrollTop;\n            this.scrollableElement.setScrollPosition({ scrollTop: scrollTop - e.translationY });\n        }));\n        this._register(addDisposableListener(scrollElement, EventType.MOUSE_UP, e => {\n            // Absorb clicks in menu dead space https://github.com/microsoft/vscode/issues/63575\n            // We do this on the scroll element so the scroll bar doesn't dismiss the menu either\n            e.preventDefault();\n        }));\n        menuElement.style.maxHeight = `${Math.max(10, window.innerHeight - container.getBoundingClientRect().top - 35)}px`;\n        actions = actions.filter(a => {\n            var _a;\n            if ((_a = options.submenuIds) === null || _a === void 0 ? void 0 : _a.has(a.id)) {\n                console.warn(`Found submenu cycle: ${a.id}`);\n                return false;\n            }\n            return true;\n        });\n        this.push(actions, { icon: true, label: true, isMenu: true });\n        container.appendChild(this.scrollableElement.getDomNode());\n        this.scrollableElement.scanDomNode();\n        this.viewItems.filter(item => !(item instanceof MenuSeparatorActionViewItem)).forEach((item, index, array) => {\n            item.updatePositionInSet(index + 1, array.length);\n        });\n    }\n    initializeOrUpdateStyleSheet(container, style) {\n        if (!this.styleSheet) {\n            if (isInShadowDOM(container)) {\n                this.styleSheet = createStyleSheet(container);\n            }\n            else {\n                if (!Menu.globalStyleSheet) {\n                    Menu.globalStyleSheet = createStyleSheet();\n                }\n                this.styleSheet = Menu.globalStyleSheet;\n            }\n        }\n        this.styleSheet.textContent = getMenuWidgetCSS(style);\n    }\n    style(style) {\n        const container = this.getContainer();\n        this.initializeOrUpdateStyleSheet(container, style);\n        const fgColor = style.foregroundColor ? `${style.foregroundColor}` : '';\n        const bgColor = style.backgroundColor ? `${style.backgroundColor}` : '';\n        const border = style.borderColor ? `1px solid ${style.borderColor}` : '';\n        const shadow = style.shadowColor ? `0 2px 4px ${style.shadowColor}` : '';\n        container.style.border = border;\n        this.domNode.style.color = fgColor;\n        this.domNode.style.backgroundColor = bgColor;\n        container.style.boxShadow = shadow;\n        if (this.viewItems) {\n            this.viewItems.forEach(item => {\n                if (item instanceof BaseMenuActionViewItem || item instanceof MenuSeparatorActionViewItem) {\n                    item.style(style);\n                }\n            });\n        }\n    }\n    getContainer() {\n        return this.scrollableElement.getDomNode();\n    }\n    get onScroll() {\n        return this.scrollableElement.onScroll;\n    }\n    focusItemByElement(element) {\n        const lastFocusedItem = this.focusedItem;\n        this.setFocusedItem(element);\n        if (lastFocusedItem !== this.focusedItem) {\n            this.updateFocus();\n        }\n    }\n    setFocusedItem(element) {\n        for (let i = 0; i < this.actionsList.children.length; i++) {\n            let elem = this.actionsList.children[i];\n            if (element === elem) {\n                this.focusedItem = i;\n                break;\n            }\n        }\n    }\n    updateFocus(fromRight) {\n        super.updateFocus(fromRight, true, true);\n        if (typeof this.focusedItem !== 'undefined') {\n            // Workaround for #80047 caused by an issue in chromium\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=414283\n            // When that's fixed, just call this.scrollableElement.scanDomNode()\n            this.scrollableElement.setScrollPosition({\n                scrollTop: Math.round(this.menuElement.scrollTop)\n            });\n        }\n    }\n    doGetActionViewItem(action, options, parentData) {\n        if (action instanceof Separator) {\n            return new MenuSeparatorActionViewItem(options.context, action, { icon: true });\n        }\n        else if (action instanceof SubmenuAction) {\n            const menuActionViewItem = new SubmenuMenuActionViewItem(action, action.actions, parentData, Object.assign(Object.assign({}, options), { submenuIds: new Set([...(options.submenuIds || []), action.id]) }));\n            if (options.enableMnemonics) {\n                const mnemonic = menuActionViewItem.getMnemonic();\n                if (mnemonic && menuActionViewItem.isEnabled()) {\n                    let actionViewItems = [];\n                    if (this.mnemonics.has(mnemonic)) {\n                        actionViewItems = this.mnemonics.get(mnemonic);\n                    }\n                    actionViewItems.push(menuActionViewItem);\n                    this.mnemonics.set(mnemonic, actionViewItems);\n                }\n            }\n            return menuActionViewItem;\n        }\n        else {\n            const menuItemOptions = { enableMnemonics: options.enableMnemonics, useEventAsContext: options.useEventAsContext };\n            if (options.getKeyBinding) {\n                const keybinding = options.getKeyBinding(action);\n                if (keybinding) {\n                    const keybindingLabel = keybinding.getLabel();\n                    if (keybindingLabel) {\n                        menuItemOptions.keybinding = keybindingLabel;\n                    }\n                }\n            }\n            const menuActionViewItem = new BaseMenuActionViewItem(options.context, action, menuItemOptions);\n            if (options.enableMnemonics) {\n                const mnemonic = menuActionViewItem.getMnemonic();\n                if (mnemonic && menuActionViewItem.isEnabled()) {\n                    let actionViewItems = [];\n                    if (this.mnemonics.has(mnemonic)) {\n                        actionViewItems = this.mnemonics.get(mnemonic);\n                    }\n                    actionViewItems.push(menuActionViewItem);\n                    this.mnemonics.set(mnemonic, actionViewItems);\n                }\n            }\n            return menuActionViewItem;\n        }\n    }\n}\nclass BaseMenuActionViewItem extends BaseActionViewItem {\n    constructor(ctx, action, options = {}) {\n        options.isMenu = true;\n        super(action, action, options);\n        this.options = options;\n        this.options.icon = options.icon !== undefined ? options.icon : false;\n        this.options.label = options.label !== undefined ? options.label : true;\n        this.cssClass = '';\n        // Set mnemonic\n        if (this.options.label && options.enableMnemonics) {\n            let label = this.getAction().label;\n            if (label) {\n                let matches = MENU_MNEMONIC_REGEX.exec(label);\n                if (matches) {\n                    this.mnemonic = (!!matches[1] ? matches[1] : matches[3]).toLocaleLowerCase();\n                }\n            }\n        }\n        // Add mouse up listener later to avoid accidental clicks\n        this.runOnceToEnableMouseUp = new RunOnceScheduler(() => {\n            if (!this.element) {\n                return;\n            }\n            this._register(addDisposableListener(this.element, EventType.MOUSE_UP, e => {\n                // removed default prevention as it conflicts\n                // with BaseActionViewItem #101537\n                // add back if issues arise and link new issue\n                EventHelper.stop(e, true);\n                // See https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Interact_with_the_clipboard\n                // > Writing to the clipboard\n                // > You can use the \"cut\" and \"copy\" commands without any special\n                // permission if you are using them in a short-lived event handler\n                // for a user action (for example, a click handler).\n                // => to get the Copy and Paste context menu actions working on Firefox,\n                // there should be no timeout here\n                if (isFirefox) {\n                    const mouseEvent = new StandardMouseEvent(e);\n                    // Allowing right click to trigger the event causes the issue described below,\n                    // but since the solution below does not work in FF, we must disable right click\n                    if (mouseEvent.rightButton) {\n                        return;\n                    }\n                    this.onClick(e);\n                }\n                // In all other cases, set timeout to allow context menu cancellation to trigger\n                // otherwise the action will destroy the menu and a second context menu\n                // will still trigger for right click.\n                else {\n                    setTimeout(() => {\n                        this.onClick(e);\n                    }, 0);\n                }\n            }));\n            this._register(addDisposableListener(this.element, EventType.CONTEXT_MENU, e => {\n                EventHelper.stop(e, true);\n            }));\n        }, 100);\n        this._register(this.runOnceToEnableMouseUp);\n    }\n    render(container) {\n        super.render(container);\n        if (!this.element) {\n            return;\n        }\n        this.container = container;\n        this.item = append(this.element, $('a.action-menu-item'));\n        if (this._action.id === Separator.ID) {\n            // A separator is a presentation item\n            this.item.setAttribute('role', 'presentation');\n        }\n        else {\n            this.item.setAttribute('role', 'menuitem');\n            if (this.mnemonic) {\n                this.item.setAttribute('aria-keyshortcuts', `${this.mnemonic}`);\n            }\n        }\n        this.check = append(this.item, $('span.menu-item-check' + Codicon.menuSelection.cssSelector));\n        this.check.setAttribute('role', 'none');\n        this.label = append(this.item, $('span.action-label'));\n        if (this.options.label && this.options.keybinding) {\n            append(this.item, $('span.keybinding')).textContent = this.options.keybinding;\n        }\n        // Adds mouse up listener to actually run the action\n        this.runOnceToEnableMouseUp.schedule();\n        this.updateClass();\n        this.updateLabel();\n        this.updateTooltip();\n        this.updateEnabled();\n        this.updateChecked();\n    }\n    blur() {\n        super.blur();\n        this.applyStyle();\n    }\n    focus() {\n        super.focus();\n        if (this.item) {\n            this.item.focus();\n        }\n        this.applyStyle();\n    }\n    updatePositionInSet(pos, setSize) {\n        if (this.item) {\n            this.item.setAttribute('aria-posinset', `${pos}`);\n            this.item.setAttribute('aria-setsize', `${setSize}`);\n        }\n    }\n    updateLabel() {\n        if (!this.label) {\n            return;\n        }\n        if (this.options.label) {\n            clearNode(this.label);\n            let label = stripIcons(this.getAction().label);\n            if (label) {\n                const cleanLabel = cleanMnemonic(label);\n                if (!this.options.enableMnemonics) {\n                    label = cleanLabel;\n                }\n                this.label.setAttribute('aria-label', cleanLabel.replace(/&&/g, '&'));\n                const matches = MENU_MNEMONIC_REGEX.exec(label);\n                if (matches) {\n                    label = strings.escape(label);\n                    // This is global, reset it\n                    MENU_ESCAPED_MNEMONIC_REGEX.lastIndex = 0;\n                    let escMatch = MENU_ESCAPED_MNEMONIC_REGEX.exec(label);\n                    // We can't use negative lookbehind so if we match our negative and skip\n                    while (escMatch && escMatch[1]) {\n                        escMatch = MENU_ESCAPED_MNEMONIC_REGEX.exec(label);\n                    }\n                    const replaceDoubleEscapes = (str) => str.replace(/&amp;&amp;/g, '&amp;');\n                    if (escMatch) {\n                        this.label.append(strings.ltrim(replaceDoubleEscapes(label.substr(0, escMatch.index)), ' '), $('u', { 'aria-hidden': 'true' }, escMatch[3]), strings.rtrim(replaceDoubleEscapes(label.substr(escMatch.index + escMatch[0].length)), ' '));\n                    }\n                    else {\n                        this.label.innerText = replaceDoubleEscapes(label).trim();\n                    }\n                    if (this.item) {\n                        this.item.setAttribute('aria-keyshortcuts', (!!matches[1] ? matches[1] : matches[3]).toLocaleLowerCase());\n                    }\n                }\n                else {\n                    this.label.innerText = label.replace(/&&/g, '&').trim();\n                }\n            }\n        }\n    }\n    updateTooltip() {\n        // menus should function like native menus and they do not have tooltips\n    }\n    updateClass() {\n        if (this.cssClass && this.item) {\n            this.item.classList.remove(...this.cssClass.split(' '));\n        }\n        if (this.options.icon && this.label) {\n            this.cssClass = this.getAction().class || '';\n            this.label.classList.add('icon');\n            if (this.cssClass) {\n                this.label.classList.add(...this.cssClass.split(' '));\n            }\n            this.updateEnabled();\n        }\n        else if (this.label) {\n            this.label.classList.remove('icon');\n        }\n    }\n    updateEnabled() {\n        if (this.getAction().enabled) {\n            if (this.element) {\n                this.element.classList.remove('disabled');\n                this.element.removeAttribute('aria-disabled');\n            }\n            if (this.item) {\n                this.item.classList.remove('disabled');\n                this.item.removeAttribute('aria-disabled');\n                this.item.tabIndex = 0;\n            }\n        }\n        else {\n            if (this.element) {\n                this.element.classList.add('disabled');\n                this.element.setAttribute('aria-disabled', 'true');\n            }\n            if (this.item) {\n                this.item.classList.add('disabled');\n                this.item.setAttribute('aria-disabled', 'true');\n            }\n        }\n    }\n    updateChecked() {\n        if (!this.item) {\n            return;\n        }\n        const checked = this.getAction().checked;\n        this.item.classList.toggle('checked', !!checked);\n        if (checked !== undefined) {\n            this.item.setAttribute('role', 'menuitemcheckbox');\n            this.item.setAttribute('aria-checked', checked ? 'true' : 'false');\n        }\n        else {\n            this.item.setAttribute('role', 'menuitem');\n            this.item.setAttribute('aria-checked', '');\n        }\n    }\n    getMnemonic() {\n        return this.mnemonic;\n    }\n    applyStyle() {\n        if (!this.menuStyle) {\n            return;\n        }\n        const isSelected = this.element && this.element.classList.contains('focused');\n        const fgColor = isSelected && this.menuStyle.selectionForegroundColor ? this.menuStyle.selectionForegroundColor : this.menuStyle.foregroundColor;\n        const bgColor = isSelected && this.menuStyle.selectionBackgroundColor ? this.menuStyle.selectionBackgroundColor : undefined;\n        const border = isSelected && this.menuStyle.selectionBorderColor ? `thin solid ${this.menuStyle.selectionBorderColor}` : '';\n        if (this.item) {\n            this.item.style.color = fgColor ? fgColor.toString() : '';\n            this.item.style.backgroundColor = bgColor ? bgColor.toString() : '';\n        }\n        if (this.check) {\n            this.check.style.color = fgColor ? fgColor.toString() : '';\n        }\n        if (this.container) {\n            this.container.style.border = border;\n        }\n    }\n    style(style) {\n        this.menuStyle = style;\n        this.applyStyle();\n    }\n}\nclass SubmenuMenuActionViewItem extends BaseMenuActionViewItem {\n    constructor(action, submenuActions, parentData, submenuOptions) {\n        super(action, action, submenuOptions);\n        this.submenuActions = submenuActions;\n        this.parentData = parentData;\n        this.submenuOptions = submenuOptions;\n        this.mysubmenu = null;\n        this.submenuDisposables = this._register(new DisposableStore());\n        this.mouseOver = false;\n        this.expandDirection = submenuOptions && submenuOptions.expandDirection !== undefined ? submenuOptions.expandDirection : Direction.Right;\n        this.showScheduler = new RunOnceScheduler(() => {\n            if (this.mouseOver) {\n                this.cleanupExistingSubmenu(false);\n                this.createSubmenu(false);\n            }\n        }, 250);\n        this.hideScheduler = new RunOnceScheduler(() => {\n            if (this.element && (!isAncestor(getActiveElement(), this.element) && this.parentData.submenu === this.mysubmenu)) {\n                this.parentData.parent.focus(false);\n                this.cleanupExistingSubmenu(true);\n            }\n        }, 750);\n    }\n    render(container) {\n        super.render(container);\n        if (!this.element) {\n            return;\n        }\n        if (this.item) {\n            this.item.classList.add('monaco-submenu-item');\n            this.item.tabIndex = 0;\n            this.item.setAttribute('aria-haspopup', 'true');\n            this.updateAriaExpanded('false');\n            this.submenuIndicator = append(this.item, $('span.submenu-indicator' + Codicon.menuSubmenu.cssSelector));\n            this.submenuIndicator.setAttribute('aria-hidden', 'true');\n        }\n        this._register(addDisposableListener(this.element, EventType.KEY_UP, e => {\n            let event = new StandardKeyboardEvent(e);\n            if (event.equals(17 /* RightArrow */) || event.equals(3 /* Enter */)) {\n                EventHelper.stop(e, true);\n                this.createSubmenu(true);\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.KEY_DOWN, e => {\n            let event = new StandardKeyboardEvent(e);\n            if (getActiveElement() === this.item) {\n                if (event.equals(17 /* RightArrow */) || event.equals(3 /* Enter */)) {\n                    EventHelper.stop(e, true);\n                }\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.MOUSE_OVER, e => {\n            if (!this.mouseOver) {\n                this.mouseOver = true;\n                this.showScheduler.schedule();\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.MOUSE_LEAVE, e => {\n            this.mouseOver = false;\n        }));\n        this._register(addDisposableListener(this.element, EventType.FOCUS_OUT, e => {\n            if (this.element && !isAncestor(getActiveElement(), this.element)) {\n                this.hideScheduler.schedule();\n            }\n        }));\n        this._register(this.parentData.parent.onScroll(() => {\n            this.parentData.parent.focus(false);\n            this.cleanupExistingSubmenu(false);\n        }));\n    }\n    updateEnabled() {\n        // override on submenu entry\n        // native menus do not observe enablement on sumbenus\n        // we mimic that behavior\n    }\n    onClick(e) {\n        // stop clicking from trying to run an action\n        EventHelper.stop(e, true);\n        this.cleanupExistingSubmenu(false);\n        this.createSubmenu(true);\n    }\n    cleanupExistingSubmenu(force) {\n        if (this.parentData.submenu && (force || (this.parentData.submenu !== this.mysubmenu))) {\n            // disposal may throw if the submenu has already been removed\n            try {\n                this.parentData.submenu.dispose();\n            }\n            catch (_a) { }\n            this.parentData.submenu = undefined;\n            this.updateAriaExpanded('false');\n            if (this.submenuContainer) {\n                this.submenuDisposables.clear();\n                this.submenuContainer = undefined;\n            }\n        }\n    }\n    calculateSubmenuMenuLayout(windowDimensions, submenu, entry, expandDirection) {\n        const ret = { top: 0, left: 0 };\n        // Start with horizontal\n        ret.left = layout(windowDimensions.width, submenu.width, { position: expandDirection === Direction.Right ? 0 /* Before */ : 1 /* After */, offset: entry.left, size: entry.width });\n        // We don't have enough room to layout the menu fully, so we are overlapping the menu\n        if (ret.left >= entry.left && ret.left < entry.left + entry.width) {\n            if (entry.left + 10 + submenu.width <= windowDimensions.width) {\n                ret.left = entry.left + 10;\n            }\n            entry.top += 10;\n            entry.height = 0;\n        }\n        // Now that we have a horizontal position, try layout vertically\n        ret.top = layout(windowDimensions.height, submenu.height, { position: 0 /* Before */, offset: entry.top, size: 0 });\n        // We didn't have enough room below, but we did above, so we shift down to align the menu\n        if (ret.top + submenu.height === entry.top && ret.top + entry.height + submenu.height <= windowDimensions.height) {\n            ret.top += entry.height;\n        }\n        return ret;\n    }\n    createSubmenu(selectFirstItem = true) {\n        if (!this.element) {\n            return;\n        }\n        if (!this.parentData.submenu) {\n            this.updateAriaExpanded('true');\n            this.submenuContainer = append(this.element, $('div.monaco-submenu'));\n            this.submenuContainer.classList.add('menubar-menu-items-holder', 'context-view');\n            // Set the top value of the menu container before construction\n            // This allows the menu constructor to calculate the proper max height\n            const computedStyles = getComputedStyle(this.parentData.parent.domNode);\n            const paddingTop = parseFloat(computedStyles.paddingTop || '0') || 0;\n            // this.submenuContainer.style.top = `${this.element.offsetTop - this.parentData.parent.scrollOffset - paddingTop}px`;\n            this.submenuContainer.style.zIndex = '1';\n            this.submenuContainer.style.position = 'fixed';\n            this.submenuContainer.style.top = '0';\n            this.submenuContainer.style.left = '0';\n            this.parentData.submenu = new Menu(this.submenuContainer, this.submenuActions.length ? this.submenuActions : [new EmptySubmenuAction()], this.submenuOptions);\n            if (this.menuStyle) {\n                this.parentData.submenu.style(this.menuStyle);\n            }\n            // layout submenu\n            const entryBox = this.element.getBoundingClientRect();\n            const entryBoxUpdated = {\n                top: entryBox.top - paddingTop,\n                left: entryBox.left,\n                height: entryBox.height + 2 * paddingTop,\n                width: entryBox.width\n            };\n            const viewBox = this.submenuContainer.getBoundingClientRect();\n            const { top, left } = this.calculateSubmenuMenuLayout(new Dimension(window.innerWidth, window.innerHeight), Dimension.lift(viewBox), entryBoxUpdated, this.expandDirection);\n            // subtract offsets caused by transform parent\n            this.submenuContainer.style.left = `${left - viewBox.left}px`;\n            this.submenuContainer.style.top = `${top - viewBox.top}px`;\n            this.submenuDisposables.add(addDisposableListener(this.submenuContainer, EventType.KEY_UP, e => {\n                let event = new StandardKeyboardEvent(e);\n                if (event.equals(15 /* LeftArrow */)) {\n                    EventHelper.stop(e, true);\n                    this.parentData.parent.focus();\n                    this.cleanupExistingSubmenu(true);\n                }\n            }));\n            this.submenuDisposables.add(addDisposableListener(this.submenuContainer, EventType.KEY_DOWN, e => {\n                let event = new StandardKeyboardEvent(e);\n                if (event.equals(15 /* LeftArrow */)) {\n                    EventHelper.stop(e, true);\n                }\n            }));\n            this.submenuDisposables.add(this.parentData.submenu.onDidCancel(() => {\n                this.parentData.parent.focus();\n                this.cleanupExistingSubmenu(true);\n            }));\n            this.parentData.submenu.focus(selectFirstItem);\n            this.mysubmenu = this.parentData.submenu;\n        }\n        else {\n            this.parentData.submenu.focus(false);\n        }\n    }\n    updateAriaExpanded(value) {\n        var _a;\n        if (this.item) {\n            (_a = this.item) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', value);\n        }\n    }\n    applyStyle() {\n        super.applyStyle();\n        if (!this.menuStyle) {\n            return;\n        }\n        const isSelected = this.element && this.element.classList.contains('focused');\n        const fgColor = isSelected && this.menuStyle.selectionForegroundColor ? this.menuStyle.selectionForegroundColor : this.menuStyle.foregroundColor;\n        if (this.submenuIndicator) {\n            this.submenuIndicator.style.color = fgColor ? `${fgColor}` : '';\n        }\n        if (this.parentData.submenu) {\n            this.parentData.submenu.style(this.menuStyle);\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.hideScheduler.dispose();\n        if (this.mysubmenu) {\n            this.mysubmenu.dispose();\n            this.mysubmenu = null;\n        }\n        if (this.submenuContainer) {\n            this.submenuContainer = undefined;\n        }\n    }\n}\nclass MenuSeparatorActionViewItem extends ActionViewItem {\n    style(style) {\n        if (this.label) {\n            this.label.style.borderBottomColor = style.separatorColor ? `${style.separatorColor}` : '';\n        }\n    }\n}\nexport function cleanMnemonic(label) {\n    const regex = MENU_MNEMONIC_REGEX;\n    const matches = regex.exec(label);\n    if (!matches) {\n        return label;\n    }\n    const mnemonicInText = !matches[1];\n    return label.replace(regex, mnemonicInText ? '$2$3' : '').trim();\n}\nfunction getMenuWidgetCSS(style) {\n    let result = /* css */ `\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${formatRule(Codicon.menuSelection)}\n${formatRule(Codicon.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n`;\n    // Scrollbars\n    const scrollbarShadowColor = style.scrollbarShadow;\n    if (scrollbarShadowColor) {\n        result += `\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tbox-shadow: ${scrollbarShadowColor} 0 6px 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tbox-shadow: ${scrollbarShadowColor} 6px 0 6px -6px inset;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\tbox-shadow: ${scrollbarShadowColor} 6px 6px 6px -6px inset;\n\t\t\t}\n\t\t`;\n    }\n    const scrollbarSliderBackgroundColor = style.scrollbarSliderBackground;\n    if (scrollbarSliderBackgroundColor) {\n        result += `\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\tbackground: ${scrollbarSliderBackgroundColor};\n\t\t\t}\n\t\t`;\n    }\n    const scrollbarSliderHoverBackgroundColor = style.scrollbarSliderHoverBackground;\n    if (scrollbarSliderHoverBackgroundColor) {\n        result += `\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\tbackground: ${scrollbarSliderHoverBackgroundColor};\n\t\t\t}\n\t\t`;\n    }\n    const scrollbarSliderActiveBackgroundColor = style.scrollbarSliderActiveBackground;\n    if (scrollbarSliderActiveBackgroundColor) {\n        result += `\n\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\tbackground: ${scrollbarSliderActiveBackgroundColor};\n\t\t\t}\n\t\t`;\n    }\n    return result;\n}\n"],"names":["defaultOpts","inputActiveOptionBorder","Color","inputActiveOptionForeground","inputActiveOptionBackground","Checkbox","opts","_onChange","_register","Emitter","onChange","event","_onKeyDown","onKeyDown","_opts","Object","assign","_checked","isChecked","classes","icon","push","CSSIcon","actionClassName","split","domNode","document","createElement","title","classList","add","notFocusable","tabIndex","setAttribute","String","applyStyles","onclick","ev","enabled","checked","fire","preventDefault","ignoreGesture","onkeydown","keyboardEvent","keyCode","this","getAttribute","focus","newIsChecked","toggle","styles","style","borderColor","toString","color","backgroundColor","Widget","formatRule","c","def","definition","Codicon","id","fontCharacter","LayoutAnchorMode","layout","viewportSize","viewSize","anchor","layoutAfterAnchorBoundary","mode","ALIGN","offset","size","layoutBeforeAnchorBoundary","position","Math","max","ContextView","container","domPosition","delegate","toDisposeOnClean","Disposable","toDisposeOnSetContainer","shadowRoot","shadowRootHostElement","view","DOM","useFixedPosition","useShadowDOM","setContainer","toDisposable","_a","dispose","removeChild","remove","appendChild","attachShadow","textContent","SHADOW_ROOT_CSS","DisposableStore","BUBBLE_UP_EVENTS","forEach","e","onDOMEvent","BUBBLE_DOWN_EVENTS","isVisible","hide","className","top","left","zIndex","render","doLayout","canRelayout","platform","BrowserFeatures","around","getAnchor","elementPosition","width","height","y","x","viewSizeWidth","viewSizeHeight","anchorPosition","anchorAlignment","anchorAxisAlignment","verticalAnchor","window","pageYOffset","horizontalAnchor","innerHeight","Range","start","end","AVOID","innerWidth","containerPosition","data","onHide","onCapture","activeElement","target","badgeBackground","badgeForeground","CountBadge","options","count","create","mixin","badgeBorder","element","append","$","countFormat","titleFormat","setCount","format","background","foreground","border","borderWidth","borderStyle","DropdownMenu","_actions","_contextMenuProvider","contextMenuProvider","actions","actionProvider","menuClassName","menuAsChild","_menuOptions","getActions","showContextMenu","getActionsContext","menuOptions","context","getActionViewItem","action","actionViewItemProvider","undefined","getKeyBinding","getMenuClassName","actionRunner","domForShadowRoot","_onDidChangeVisibility","onDidChangeVisibility","_element","_label","labelRenderer","label","EventType","GestureEventType","addDisposableListener","EventHelper","MouseEvent","detail","visible","show","StandardKeyboardEvent","equals","cleanupFn","Gesture","boxContainer","contents","ActionRunner","DropdownMenuActionViewItem","menuActionsOrProvider","actionItem","isActionsArray","Array","isArray","el","classNames","filter","s","find","_action","dropdownMenu","keybindingProvider","_context","anchorAlignmentProvider","that","updateEnabled","newContext","_b","disabled","getAction","BaseActionViewItem","NLS_DEFAULT_LABEL","nls","FindInput","parent","contextViewProvider","_showOptionButtons","fixFocusOnOptionClickEnabled","imeSessionInProgress","_onDidOptionChange","onDidOptionChange","_onMouseDown","onMouseDown","_onInput","_onKeyUp","_onCaseSensitiveKeyDown","onCaseSensitiveKeyDown","_onRegexKeyDown","onRegexKeyDown","_lastHighlightFindOptions","placeholder","validation","inputBackground","inputForeground","inputBorder","inputValidationInfoBorder","inputValidationInfoBackground","inputValidationInfoForeground","inputValidationWarningBorder","inputValidationWarningBackground","inputValidationWarningForeground","inputValidationErrorBorder","inputValidationErrorBackground","inputValidationErrorForeground","appendCaseSensitiveLabel","appendWholeWordsLabel","appendRegexLabel","history","flexibleHeight","flexibleWidth","flexibleMaxHeight","inputBox","HistoryInputBox","ariaLabel","validationOptions","showHistoryHint","regex","RegexCheckbox","appendTitle","viaKeyboard","validate","wholeWords","WholeWordsCheckbox","caseSensitive","CaseSensitiveCheckbox","paddingRight","indexes","index","indexOf","newIndex","length","blur","dom","controls","display","inputElement","onkeyup","oninput","onmousedown","enable","disable","value","checkBoxStyles","inputBoxStyles","select","hideMessage","NLS_CASE_SENSITIVE_CHECKBOX_LABEL","NLS_WHOLE_WORD_CHECKBOX_LABEL","NLS_REGEX_CHECKBOX_LABEL","NLS_PRESERVE_CASE_LABEL","PreserveCaseCheckbox","ReplaceInput","cachedOptionsWidth","_onPreserveCaseKeyDown","onPreserveCaseKeyDown","appendPreserveCaseLabel","preserveCase","newWidth","HighlightedLabel","text","highlights","didEverRender","supportIcons","escapeNewLines","objects","children","pos","highlight","substring","renderLabelWithIcons","extraClasses","removeAttribute","total","extra","replace","match","HoverWidget","containerDomNode","contentsDomNode","scrollbar","DomScrollableElement","consumeMouseWheelIfScrollbarIsNeeded","getDomNode","scanDomNode","HoverAction","actionOptions","keybindingLabel","actionContainer","iconClass","MOUSE_DOWN","stopPropagation","run","setEnabled","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","apply","UpdatableHoverWidget","hoverDelegate","fadeInAnimation","markdownTooltip","_cancellationTokenSource","isDisposed","isString","HTMLElement","resolvedContent","isFunction","markdown","markdownNotSupportedFallback","_hoverWidget","localize","CancellationTokenSource","token","isCancellationRequested","content","oldHoverWidget","hasContent","hoverOptions","showPointer","placement","hoverPosition","skipFadeInAnimation","showHover","isMarkdownString","FastLabelNode","disposed","_textContent","_className","empty","_empty","marginLeft","IconLabel","customHovers","Map","labelContainer","nameContainer","descriptionContainer","supportHighlights","nameNode","LabelWithHighlights","Label","supportDescriptionHighlights","descriptionNodeFactory","description","italic","strikethrough","join","setupHover","descriptionTitle","setLabel","descriptionNode","set","descriptionMatches","htmlElement","tooltip","previousCustomHover","get","delete","hoverDisposable","hoverPreparation","hoverWidget","hideHover","disposeWidget","disposePreparation","onDidHideHover","call","triggerShowHover","delay","TimeoutTimer","update","mouseOverDomEmitter","MOUSE_OVER","toDispose","MOUSE_LEAVE","fromElement","targetElements","MOUSE_MOVE","newTooltip","setupCustomHover","stripIcons","setupNativeHover","values","clear","singleLabel","innerText","domId","i","l","separator","matches","labelEscapeNewLines","labels","labelStart","map","labelRange","range","splitMatches","m","name","labelWithIconsRegex","RegExp","elements","textStart","textStop","exec","escaped","codicon","renderIcon","node","InputBox","state","maxHeight","Number","POSITIVE_INFINITY","_onDidChange","onDidChange","_onDidHeightChange","onDidHeightChange","message","tagName","wrapper","input","onfocus","onblur","mirror","scrollableElement","ScrollableElement","vertical","whiteSpace","wordWrap","onScroll","scrollTop","onSelectionChange","DomEmitter","onAnchoredSelectionChange","Event","selection","getSelection","anchorNode","updateScrollDimensions","type","showPlaceholderOnFocus","setPlaceHolder","setTooltip","onValueChange","onBlur","onFocus","setTimeout","updateMirror","actionbar","ActionBar","_hideMessage","_showMessage","placeHolder","newValue","cachedHeight","getTotalHeight","setSelectionRange","scrollLeft","scrollWidth","selectionEnd","selectionStart","getTotalWidth","horizontalPadding","parseFloat","paddingLeft","cachedContentHeight","scrollHeight","setScrollDimensions","setScrollPosition","force","classForType","stylesForType","hasFocus","errorMsg","showMessage","hasAttribute","div","alertText","showContextView","renderOptions","inline","spanElement","formatContent","renderFormattedText","renderText","aria","hideContextView","suffix","charCodeAt","previousHeight","min","substr","NLS_PLACEHOLDER_HISTORY_HINT","key","comment","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS","HistoryNavigator","addSuffix","endsWith","getHistory","suffixedPlaceholder","observer","MutationObserver","mutationList","mutation","observe","attributeFilter","resetPlaceholder","historyHint","revertedPlaceholder","slice","disconnect","getCurrentValue","has","addToHistory","getNextValue","previous","getPreviousValue","currentValue","current","last","first","KeybindingLabel","os","keyElements","Set","labelBackground","keybindingLabelBackground","labelForeground","keybindingLabelForeground","labelBorder","keybindingLabelBorder","labelBottomBorder","keybindingLabelBottomBorder","labelShadow","keybindingLabelShadow","keybinding","areSame","getParts","firstPart","chordPart","renderPart","getAriaLabel","renderUnboundKeybindings","renderUnbound","clearNode","part","modifierLabels","UILabelProvider","ctrlKey","renderKey","Boolean","shiftKey","altKey","metaKey","keyLabel","createKeyElement","extraClass","keyElement","borderBottomColor","boxShadow","a","b","PagedRenderer","renderer","modelProvider","templateId","renderTemplate","disposable","_","model","isResolved","renderElement","cts","promise","cancel","renderPlaceholder","entry","disposeTemplate","PagedAccessibilityProvider","accessibilityProvider","getWidgetAriaLabel","fromPagedListOptions","PagedList","user","virtualDelegate","renderers","pagedRenderers","r","list","List","updateOptions","getHTMLElement","onDidFocus","onDidDispose","onMouseDblClick","browserEvent","_model","onPointer","onDidChangeSelection","splice","getFocus","groupIntersect","groups","intersection","shift","much","consolidate","previousGroup","group","concat","reduce","g","RangeMap","_size","deleteCount","items","diff","before","after","middle","item","t","len","newSize","floor","indexAt","groupCount","newCount","RowCache","cache","getTemplateCache","pop","templateData","getRenderer","row","releaseRow","parentElement","removeFromParent","cachedRows","cachedRow","Error","__decorate","decorators","desc","d","arguments","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DefaultOptions","useShadows","verticalScrollMode","setRowLineHeight","setRowHeight","supportDynamicHeights","dnd","getDragElements","getDragURI","onDragStart","onDragOver","drop","horizontalScrolling","transformOptimization","alwaysConsumeMouseWheel","ElementsDragAndDropData","ExternalElementsDragAndDropData","NativeDragAndDropData","types","files","dataTransfer","file","ListViewAccessibilityProvider","getSetSize","bind","getPosInSet","getRole","ListView","InstanceCount","renderWidth","_scrollHeight","scrollableElementUpdateDisposable","scrollableElementWidthDelayer","Delayer","splicing","dragOverAnimationStopDisposable","dragOverMouseY","canDrop","currentDragFeedbackDisposable","onDragLeaveTimeout","disposables","_onDidChangeContentHeight","_horizontalScrolling","itemId","rangeMap","lastRenderTop","lastRenderHeight","mouseSupport","getOrDefault","o","additionalScrollHeight","rowsContainer","transform","scrollable","Scrollable","forceIntegerValues","smoothScrollDuration","smoothScrolling","scheduleAtNextAnimationFrame","cb","SmoothScrollableElement","horizontal","mouseWheelScrollSensitivity","fastScrollSensitivity","TouchEventType","onTouchChange","toDragEvent","onDrop","onDragLeave","onDragEnd","measureItemWidth","updateScrollWidth","getContentWidth","setSmoothScrollDuration","_splice","contentHeight","previousRenderRange","getRenderRange","deleteRange","removeRange","rowsToDispose","dragStartDisposable","rows","disposeElement","deleted","previousRestRange","previousRenderedRestRange","previousUnrenderedRestRanges","inserted","getTemplateId","getHeight","hasDynamicHeight","lastDynamicHeightWidth","uri","dropTarget","delta","renderRange","renderedRestRange","updateRange","updateItemInDOM","removeRanges","removeItemFromDOM","unrenderedRestRanges","elementsRange","insertRanges","beforeElement","getNextToLastElement","insertItemInDOM","release","eventuallyUpdateScrollDimensions","_rerender","renderHeight","trigger","getScrollDimensions","positionAt","indexAfter","scrollDimensions","getContentHeight","renderTop","renderLeft","updateItemsInDOM","rangesToInsert","rangesToRemove","rangesToUpdate","alloc","role","insertBefore","draggable","eventuallyUpdateScrollWidth","isFirefox","getComputedStyle","elementTop","lineHeight","getElementDomId","getScrollPosition","reuseAnimation","getScrollTop","setScrollTop","toMouseEvent","button","toGestureEvent","toTouchEvent","getItemIndexFromEventTarget","initialTarget","inSmoothScrolling","err","console","error","translationY","effectAllowed","setData","DataTransfers","setDragImage","getDragLabel","dragImage","body","currentDragData","StaticDND","setupDragAndDropScrollTopAnimation","feedback","f1","f2","accept","currentDragFeedback","dropEffect","effect","distinct","sort","disposableTimeout","clearDragOverFeedback","dragData","teardownDragAndDropScrollTopAnimation","dragOverAnimationDisposable","viewTop","getTopLeftOffset","animate","animateDragAndDropScrollTop","pageY","upperLimit","contains","rawIndex","isNaN","anchorElementIndex","anchorElementTopDelta","heightDiff","didChange","probeDynamicHeight","unrenderRanges","renderRanges","afterIndex","beforeRow","deltaScrollTop","getFutureScrollPosition","newScrollTop","getDynamicHeight","offsetHeight","setDynamicHeight","ranges","lastRange","nextToLastItem","parentNode","memoize","prototype","CombinedSpliceable","spliceables","ListError","TraitRenderer","trait","renderedElements","renderedElementIndex","findIndex","rendered","unrender","renderIndex","insertCount","renderedElement","Trait","_trait","sortedIndexes","hasTrait","_set","numericSort","sortedResult","toRender","disjunction","renderIndexes","binarySearch","SelectionTrait","setAriaSelected","TraitSpliceable","identityProvider","pastElementsWithTrait","getId","elementsWithTrait","isInputElement","isMonacoEditor","TypeLabelControllerState","KeyboardController","multipleSelectionDisposables","on","onEnter","onUpArrow","onDownArrow","onPageUpArrow","onPageDownArrow","onEscape","multipleSelectionSupport","onCtrlA","optionsUpdate","setSelection","focusPrevious","setAnchor","reveal","focusNext","focusPreviousPage","focusNextPage","DefaultKeyboardNavigationDelegate","TypeLabelController","keyboardNavigationLabelProvider","Idle","automaticKeyboardNavigation","triggered","previouslyFocused","enabledDisposables","enableKeyboardNavigation","onChar","mightProducePrintableCharacter","onClear","onInput","alert","word","Typing","getKeyboardNavigationLabel","labelStr","matchesPrefix","setFocus","DOMFocusController","onTab","focusedDomElement","domElement","tabIndexElement","querySelector","visibility","isSelectionSingleChangeEvent","isSelectionRangeChangeEvent","DefaultMultipleSelectionController","MouseController","_onPointer","multipleSelectionController","onContextMenu","onDoubleClick","onTouchStart","onMouseClick","onMouseMiddleClick","onTap","onViewPointer","domFocus","changeSelection","isSelectionChangeEvent","currentFocus","rangeSelection","contiguousRange","reverse","getContiguousRangeContaining","newSelection","one","other","j","relativeComplement","DefaultStyleController","styleElement","selectorSuffix","listBackground","isOpaque","warn","listFocusBackground","listFocusForeground","listActiveSelectionBackground","listActiveSelectionForeground","listActiveSelectionIconForeground","listFocusAndSelectionBackground","listFocusAndSelectionForeground","listInactiveFocusForeground","listInactiveSelectionIconForeground","listInactiveFocusBackground","listInactiveSelectionBackground","listInactiveSelectionForeground","listHoverBackground","listHoverForeground","listSelectionOutline","listFocusOutline","listInactiveFocusOutline","listHoverOutline","listDropBackground","listFilterWidgetBackground","listFilterWidgetOutline","listFilterWidgetNoMatchesOutline","listMatchesShadow","tableColumnsBorder","tableOddRowsBackgroundColor","defaultStyles","treeIndentGuidesStroke","transparent","keyboardSupport","PipelineRenderer","_templateId","AccessibiltyRenderer","ariaLevel","getAriaLevel","ListViewDragAndDrop","getSelectedElements","originalEvent","targetElement","targetIndex","_options","eventBufferer","EventBufferer","_ariaLabel","_onDidDispose","getWidgetRole","baseRenderers","onDidChangeActiveDescendant","viewOptions","styleController","createStyleSheet","spliceable","keyboardController","keyboardNavigationDelegate","typeLabelController","mouseController","createMouseController","onDidChangeFocus","_onFocusChange","_onSelectionChange","wrapEvent","toListEvent","didJustPressContextMenuKey","fromKeyDown","stopEvent","fromKeyUp","fromMouse","pageX","bufferEvents","rerender","preventScroll","firstOrDefault","n","loop","findNextIndex","findPreviousIndex","lastPageIndex","lastPageElement","currentlyFocusedElement","getFocusedElements","lastGoodPageIndex","previousScrollTop","elementHeight","timeout","firstPageIndex","firstPageElement","firstGoodPageIndex","focusNth","relativeTop","isNumber","clamp","viewItemBottom","scrollBottom","abs","getActiveDescendantId","Direction","MENU_MNEMONIC_REGEX","MENU_ESCAPED_MNEMONIC_REGEX","Menu","menuElement","orientation","doGetActionViewItem","parentData","focusOnlyEnabledItems","triggerKeys","keys","isMacintosh","isLinux","keyDown","actionsList","menuDisposables","initializeOrUpdateStyleSheet","enableMnemonics","toLocaleLowerCase","mnemonics","SubmenuMenuActionViewItem","focusItemByElement","onClick","focusedItem","viewItems","relatedTarget","isAncestor","updateFocus","lastFocusedItem","setFocusedItem","verticalScrollbarSize","handleMouseWheel","scrollElement","getBoundingClientRect","submenuIds","isMenu","MenuSeparatorActionViewItem","array","updatePositionInSet","styleSheet","isInShadowDOM","globalStyleSheet","scrollbarShadowColor","scrollbarShadow","scrollbarSliderBackgroundColor","scrollbarSliderBackground","scrollbarSliderHoverBackgroundColor","scrollbarSliderHoverBackground","scrollbarSliderActiveBackgroundColor","scrollbarSliderActiveBackground","getMenuWidgetCSS","getContainer","fgColor","foregroundColor","bgColor","shadow","shadowColor","BaseMenuActionViewItem","fromRight","round","Separator","SubmenuAction","menuActionViewItem","mnemonic","getMnemonic","isEnabled","actionViewItems","menuItemOptions","useEventAsContext","getLabel","ctx","cssClass","runOnceToEnableMouseUp","RunOnceScheduler","StandardMouseEvent","rightButton","check","schedule","updateClass","updateLabel","updateTooltip","updateChecked","applyStyle","setSize","cleanLabel","mnemonicInText","trim","cleanMnemonic","strings","lastIndex","escMatch","replaceDoubleEscapes","str","class","menuStyle","isSelected","selectionForegroundColor","selectionBackgroundColor","selectionBorderColor","submenuActions","submenuOptions","mysubmenu","submenuDisposables","mouseOver","expandDirection","Right","showScheduler","cleanupExistingSubmenu","createSubmenu","hideScheduler","getActiveElement","submenu","updateAriaExpanded","submenuIndicator","submenuContainer","windowDimensions","ret","selectFirstItem","computedStyles","paddingTop","EmptySubmenuAction","entryBox","entryBoxUpdated","viewBox","calculateSubmenuMenuLayout","Dimension","onDidCancel","separatorColor","ActionViewItem"],"sourceRoot":""}