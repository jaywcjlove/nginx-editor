"use strict";(self.webpackChunkmonaco_editor_nginx=self.webpackChunkmonaco_editor_nginx||[]).push([[3507],{94604:function(e,t,i){i.d(t,{S:function(){return n}});var n="monaco-mouse-cursor-text"},70830:function(e,t,i){i.d(t,{k:function(){return p}});var n=i(15671),o=i(43144),s=i(60136),r=i(27277),l=i(39165),a=i(1670),d=i(82927),h="done",c="active",u="infinite",v="infinite-long-running",f="discrete",p=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e,o){var s;return(0,n.Z)(this,i),(s=t.call(this)).workedVal=0,s.showDelayedScheduler=s._register(new a.pY((function(){return(0,l.show)(s.element)}),0)),s.longRunningScheduler=s._register(new a.pY((function(){return s.infiniteLongRunning()}),i.LONG_RUNNING_INFINITE_THRESHOLD)),s.create(e,o),s}return(0,o.Z)(i,[{key:"create",value:function(e,t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=(null===t||void 0===t?void 0:t.progressBarBackground)||"#0E70C0",this.element.appendChild(this.bit)}},{key:"off",value:function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(c,u,v,f),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}},{key:"stop",value:function(){return this.doDone(!1)}},{key:"doDone",value:function(e){var t=this;return this.element.classList.add(h),this.element.classList.contains(u)?(this.bit.style.opacity="0",e?setTimeout((function(){return t.off()}),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((function(){return t.off()}),200):this.off()),this}},{key:"infinite",value:function(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(f,h,v),this.element.classList.add(c,u),this.longRunningScheduler.schedule(),this}},{key:"infiniteLongRunning",value:function(){this.element.classList.add(v)}},{key:"getContainer",value:function(){return this.element}}]),i}(d.JT);p.LONG_RUNNING_INFINITE_THRESHOLD=1e4},69753:function(e,t,i){i.d(t,{f:function(){return d}});var n=i(15671),o=i(43144),s=i(39165),r=i(85855),l=i(3318),a=i(82927),d=function(){function e(){var t,i=this;(0,n.Z)(this,e),this._onDidWillResize=new l.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new l.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new a.SL,this._size=new s.Dimension(0,0),this._minSize=new s.Dimension(0,0),this._maxSize=new s.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new r.g(this.domNode,{getVerticalSashLeft:function(){return i._size.width}},{orientation:0}),this._westSash=new r.g(this.domNode,{getVerticalSashLeft:function(){return 0}},{orientation:0}),this._northSash=new r.g(this.domNode,{getHorizontalSashTop:function(){return 0}},{orientation:1,orthogonalEdge:r.l.North}),this._southSash=new r.g(this.domNode,{getHorizontalSashTop:function(){return i._size.height}},{orientation:1,orthogonalEdge:r.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;var o=0,d=0;this._sashListener.add(l.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)((function(){void 0===t&&(i._onDidWillResize.fire(),t=i._size,o=0,d=0)}))),this._sashListener.add(l.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)((function(){void 0!==t&&(t=void 0,o=0,d=0,i._onDidResize.fire({dimension:i._size,done:!0}))}))),this._sashListener.add(this._eastSash.onDidChange((function(e){t&&(d=e.currentX-e.startX,i.layout(t.height+o,t.width+d),i._onDidResize.fire({dimension:i._size,done:!1,east:!0}))}))),this._sashListener.add(this._westSash.onDidChange((function(e){t&&(d=-(e.currentX-e.startX),i.layout(t.height+o,t.width+d),i._onDidResize.fire({dimension:i._size,done:!1,west:!0}))}))),this._sashListener.add(this._northSash.onDidChange((function(e){t&&(o=-(e.currentY-e.startY),i.layout(t.height+o,t.width+d),i._onDidResize.fire({dimension:i._size,done:!1,north:!0}))}))),this._sashListener.add(this._southSash.onDidChange((function(e){t&&(o=e.currentY-e.startY,i.layout(t.height+o,t.width+d),i._onDidResize.fire({dimension:i._size,done:!1,south:!0}))}))),this._sashListener.add(l.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)((function(e){i._preferredSize&&(i.layout(i._size.height,i._preferredSize.width),i._onDidResize.fire({dimension:i._size,done:!0}))}))),this._sashListener.add(l.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)((function(e){i._preferredSize&&(i.layout(i._preferredSize.height,i._size.width),i._onDidResize.fire({dimension:i._size,done:!0}))})))}return(0,o.Z)(e,[{key:"dispose",value:function(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}},{key:"enableSashes",value:function(e,t,i,n){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=n?3:0}},{key:"layout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size.height,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size.width,i=this._minSize,n=i.height,o=i.width,r=this._maxSize,l=r.height,a=r.width;e=Math.max(n,Math.min(l,e)),t=Math.max(o,Math.min(a,t));var d=new s.Dimension(t,e);s.Dimension.equals(d,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=d,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}},{key:"clearSashHoverState",value:function(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=e}},{key:"minSize",get:function(){return this._minSize},set:function(e){this._minSize=e}},{key:"preferredSize",get:function(){return this._preferredSize},set:function(e){this._preferredSize=e}}]),e}()},85855:function(e,t,i){i.d(t,{l:function(){return n},g:function(){return E}});var n,o=i(37762),s=i(97326),r=i(11752),l=i(61120),a=i(60136),d=i(27277),h=i(15671),c=i(43144),u=i(39165),v=i(24768),f=i(47505),p=i(1670),m=i(63439),g=i(3318),y=i(82927),b=i(37858),S=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};!function(e){e.North="north",e.South="south",e.East="east",e.West="west"}(n||(n={}));var _=new g.Q5,w=new g.Q5,D=function(){function e(){(0,h.Z)(this,e),this.disposables=new y.SL}return(0,c.Z)(e,[{key:"onPointerMove",get:function(){return this.disposables.add(new v.Y(window,"mousemove")).event}},{key:"onPointerUp",get:function(){return this.disposables.add(new v.Y(window,"mouseup")).event}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}();S([m.H],D.prototype,"onPointerMove",null),S([m.H],D.prototype,"onPointerUp",null);var k=function(){function e(t){(0,h.Z)(this,e),this.el=t,this.disposables=new y.SL}return(0,c.Z)(e,[{key:"onPointerMove",get:function(){return this.disposables.add(new v.Y(this.el,f.t.Change)).event}},{key:"onPointerUp",get:function(){return this.disposables.add(new v.Y(this.el,f.t.End)).event}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}();S([m.H],k.prototype,"onPointerMove",null),S([m.H],k.prototype,"onPointerUp",null);var C=function(){function e(t){(0,h.Z)(this,e),this.factory=t}return(0,c.Z)(e,[{key:"onPointerMove",get:function(){return this.factory.onPointerMove}},{key:"onPointerUp",get:function(){return this.factory.onPointerUp}},{key:"dispose",value:function(){}}]),e}();S([m.H],C.prototype,"onPointerMove",null),S([m.H],C.prototype,"onPointerUp",null);var N="pointer-events-disabled",E=function(e){(0,a.Z)(i,e);var t=(0,d.Z)(i);function i(e,n,o){var r;(0,h.Z)(this,i),(r=t.call(this)).hoverDelay=300,r.hoverDelayer=r._register(new p.vp(r.hoverDelay)),r._state=3,r.onDidEnablementChange=r._register(new g.Q5),r._onDidStart=r._register(new g.Q5),r._onDidChange=r._register(new g.Q5),r._onDidReset=r._register(new g.Q5),r._onDidEnd=r._register(new g.Q5),r.orthogonalStartSashDisposables=r._register(new y.SL),r.orthogonalStartDragHandleDisposables=r._register(new y.SL),r.orthogonalEndSashDisposables=r._register(new y.SL),r.orthogonalEndDragHandleDisposables=r._register(new y.SL),r.onDidStart=r._onDidStart.event,r.onDidChange=r._onDidChange.event,r.onDidReset=r._onDidReset.event,r.onDidEnd=r._onDidEnd.event,r.linkedSash=void 0,r.el=(0,u.append)(e,(0,u.$)(".monaco-sash")),o.orthogonalEdge&&r.el.classList.add("orthogonal-edge-".concat(o.orthogonalEdge)),b.dz&&r.el.classList.add("mac");var l=r._register(new v.Y(r.el,"mousedown")).event;r._register(l((function(e){return r.onPointerStart(e,new D)}),(0,s.Z)(r)));var a=r._register(new v.Y(r.el,"dblclick")).event;r._register(a(r.onPointerDoublePress,(0,s.Z)(r)));var d=r._register(new v.Y(r.el,"mouseenter")).event;r._register(d((function(){return i.onMouseEnter((0,s.Z)(r))})));var c=r._register(new v.Y(r.el,"mouseleave")).event;r._register(c((function(){return i.onMouseLeave((0,s.Z)(r))}))),r._register(f.o.addTarget(r.el));var m=r._register(new v.Y(r.el,f.t.Start)).event;r._register(m((function(e){return r.onPointerStart(e,new k(r.el))}),(0,s.Z)(r)));var S=r._register(new v.Y(r.el,f.t.Tap)).event,C=void 0;return r._register(S((function(e){if(C)return clearTimeout(C),C=void 0,void r.onPointerDoublePress(e);clearTimeout(C),C=setTimeout((function(){return C=void 0}),250)}),(0,s.Z)(r))),"number"===typeof o.size?(r.size=o.size,0===o.orientation?r.el.style.width="".concat(r.size,"px"):r.el.style.height="".concat(r.size,"px")):(r.size=4,r._register(_.event((function(e){r.size=e,r.layout()})))),r._register(w.event((function(e){return r.hoverDelay=e}))),r.layoutProvider=n,r.orthogonalStartSash=o.orthogonalStartSash,r.orthogonalEndSash=o.orthogonalEndSash,r.orientation=o.orientation||0,1===r.orientation?(r.el.classList.add("horizontal"),r.el.classList.remove("vertical")):(r.el.classList.remove("horizontal"),r.el.classList.add("vertical")),r.el.classList.toggle("debug",false),r.layout(),r}return(0,c.Z)(i,[{key:"state",get:function(){return this._state},set:function(e){this._state!==e&&(this.el.classList.toggle("disabled",0===e),this.el.classList.toggle("minimum",1===e),this.el.classList.toggle("maximum",2===e),this._state=e,this.onDidEnablementChange.fire(e))}},{key:"orthogonalStartSash",get:function(){return this._orthogonalStartSash},set:function(e){var t=this;if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){var n=function(n){t.orthogonalStartDragHandleDisposables.clear(),0!==n&&(t._orthogonalStartDragHandle=(0,u.append)(t.el,(0,u.$)(".orthogonal-drag-handle.start")),t.orthogonalStartDragHandleDisposables.add((0,y.OF)((function(){return t._orthogonalStartDragHandle.remove()}))),t.orthogonalStartDragHandleDisposables.add(new v.Y(t._orthogonalStartDragHandle,"mouseenter")).event((function(){return i.onMouseEnter(e)}),void 0,t.orthogonalStartDragHandleDisposables),t.orthogonalStartDragHandleDisposables.add(new v.Y(t._orthogonalStartDragHandle,"mouseleave")).event((function(){return i.onMouseLeave(e)}),void 0,t.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(n,this)),n(e.state)}this._orthogonalStartSash=e}},{key:"orthogonalEndSash",get:function(){return this._orthogonalEndSash},set:function(e){var t=this;if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){var n=function(n){t.orthogonalEndDragHandleDisposables.clear(),0!==n&&(t._orthogonalEndDragHandle=(0,u.append)(t.el,(0,u.$)(".orthogonal-drag-handle.end")),t.orthogonalEndDragHandleDisposables.add((0,y.OF)((function(){return t._orthogonalEndDragHandle.remove()}))),t.orthogonalEndDragHandleDisposables.add(new v.Y(t._orthogonalEndDragHandle,"mouseenter")).event((function(){return i.onMouseEnter(e)}),void 0,t.orthogonalEndDragHandleDisposables),t.orthogonalEndDragHandleDisposables.add(new v.Y(t._orthogonalEndDragHandle,"mouseleave")).event((function(){return i.onMouseLeave(e)}),void 0,t.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(n,this)),n(e.state)}this._orthogonalEndSash=e}},{key:"onPointerStart",value:function(e,t){var i=this;u.EventHelper.stop(e);var n=!1;if(!e.__orthogonalSashEvent){var s=this.getOrthogonalSash(e);s&&(n=!0,e.__orthogonalSashEvent=!0,s.onPointerStart(e,new C(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new C(t))),this.state){var r,l=document.getElementsByTagName("iframe"),a=(0,o.Z)(l);try{for(a.s();!(r=a.n()).done;){r.value.classList.add(N)}}catch(g){a.e(g)}finally{a.f()}var d=e.pageX,h=e.pageY,c=e.altKey,v={startX:d,currentX:d,startY:h,currentY:h,altKey:c};this.el.classList.add("active"),this._onDidStart.fire(v);var f=(0,u.createStyleSheet)(this.el),p=function(){var e="";e=n?"all-scroll":1===i.orientation?1===i.state?"s-resize":2===i.state?"n-resize":b.dz?"row-resize":"ns-resize":1===i.state?"e-resize":2===i.state?"w-resize":b.dz?"col-resize":"ew-resize",f.textContent="* { cursor: ".concat(e," !important; }")},m=new y.SL;p(),n||this.onDidEnablementChange.event(p,null,m);t.onPointerMove((function(e){u.EventHelper.stop(e,!1);var t={startX:d,currentX:e.pageX,startY:h,currentY:e.pageY,altKey:c};i._onDidChange.fire(t)}),null,m),t.onPointerUp((function(e){u.EventHelper.stop(e,!1),i.el.removeChild(f),i.el.classList.remove("active"),i._onDidEnd.fire(),m.dispose();var t,n=(0,o.Z)(l);try{for(n.s();!(t=n.n()).done;){t.value.classList.remove(N)}}catch(g){n.e(g)}finally{n.f()}}),null,m),m.add(t)}}},{key:"onPointerDoublePress",value:function(e){var t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}},{key:"clearSashHoverState",value:function(){i.onMouseLeave(this)}},{key:"layout",value:function(){if(0===this.orientation){var e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{var t=this.layoutProvider;this.el.style.top=t.getHorizontalSashTop(this)-this.size/2+"px",t.getHorizontalSashLeft&&(this.el.style.left=t.getHorizontalSashLeft(this)+"px"),t.getHorizontalSashWidth&&(this.el.style.width=t.getHorizontalSashWidth(this)+"px")}}},{key:"getOrthogonalSash",value:function(e){var t,i=null!==(t=e.initialTarget)&&void 0!==t?t:e.target;if(i&&i instanceof HTMLElement)return i.classList.contains("orthogonal-drag-handle")?i.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}},{key:"dispose",value:function(){(0,r.Z)((0,l.Z)(i.prototype),"dispose",this).call(this),this.el.remove()}}],[{key:"onMouseEnter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger((function(){return e.el.classList.add("hover")}),e.hoverDelay).then(void 0,(function(){})),!t&&e.linkedSash&&i.onMouseEnter(e.linkedSash,!0)}},{key:"onMouseLeave",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&i.onMouseLeave(e.linkedSash,!0)}}]),i}(y.JT)},19285:function(e,t,i){i.d(t,{s$:function(){return M},Io:function(){return I},NB:function(){return T},$Z:function(){return Z}});var n=i(11752),o=i(61120),s=i(60136),r=i(27277),l=i(43144),a=i(15671),d=i(34654),h=i(39165),c=i(74625),u=i(26596),v=i(89163),f=i(93433),p=i(59092),m=i(1670),g=i(95696),y=11,b=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e){var n,o;return(0,a.Z)(this,i),(o=t.call(this))._onActivate=e.onActivate,o.bgDomNode=document.createElement("div"),o.bgDomNode.className="arrow-background",o.bgDomNode.style.position="absolute",o.bgDomNode.style.width=e.bgWidth+"px",o.bgDomNode.style.height=e.bgHeight+"px","undefined"!==typeof e.top&&(o.bgDomNode.style.top="0px"),"undefined"!==typeof e.left&&(o.bgDomNode.style.left="0px"),"undefined"!==typeof e.bottom&&(o.bgDomNode.style.bottom="0px"),"undefined"!==typeof e.right&&(o.bgDomNode.style.right="0px"),o.domNode=document.createElement("div"),o.domNode.className=e.className,(n=o.domNode.classList).add.apply(n,(0,f.Z)(g.k.asClassNameArray(e.icon))),o.domNode.style.position="absolute",o.domNode.style.width="11px",o.domNode.style.height="11px","undefined"!==typeof e.top&&(o.domNode.style.top=e.top+"px"),"undefined"!==typeof e.left&&(o.domNode.style.left=e.left+"px"),"undefined"!==typeof e.bottom&&(o.domNode.style.bottom=e.bottom+"px"),"undefined"!==typeof e.right&&(o.domNode.style.right=e.right+"px"),o._pointerMoveMonitor=o._register(new v.C),o._register(h.addStandardDisposableListener(o.bgDomNode,h.EventType.POINTER_DOWN,(function(e){return o._arrowPointerDown(e)}))),o._register(h.addStandardDisposableListener(o.domNode,h.EventType.POINTER_DOWN,(function(e){return o._arrowPointerDown(e)}))),o._pointerdownRepeatTimer=o._register(new m.zh),o._pointerdownScheduleRepeatTimer=o._register(new m._F),o}return(0,l.Z)(i,[{key:"_arrowPointerDown",value:function(e){var t=this;if(e.target&&e.target instanceof Element){this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet((function(){t._pointerdownRepeatTimer.cancelAndSet((function(){return t._onActivate()}),1e3/24)}),200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(function(e){}),(function(){t._pointerdownRepeatTimer.cancel(),t._pointerdownScheduleRepeatTimer.cancel()})),e.preventDefault()}}}]),i}(p.$),S=i(82927),_=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e,n,o){var s;return(0,a.Z)(this,i),(s=t.call(this))._visibility=e,s._visibleClassName=n,s._invisibleClassName=o,s._domNode=null,s._isVisible=!1,s._isNeeded=!1,s._rawShouldBeVisible=!1,s._shouldBeVisible=!1,s._revealTimer=s._register(new m._F),s}return(0,l.Z)(i,[{key:"setVisibility",value:function(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}},{key:"setShouldBeVisible",value:function(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}},{key:"_applyVisibilitySetting",value:function(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}},{key:"_updateShouldBeVisible",value:function(){var e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}},{key:"setIsNeeded",value:function(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}},{key:"setDomNode",value:function(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}},{key:"ensureVisibility",value:function(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}},{key:"_reveal",value:function(){var e=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((function(){var t;null===(t=e._domNode)||void 0===t||t.setClassName(e._visibleClassName)}),0))}},{key:"_hide",value:function(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(t=this._domNode)||void 0===t||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}]),i}(S.JT),w=i(37858),D=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e){var n;return(0,a.Z)(this,i),(n=t.call(this))._lazyRender=e.lazyRender,n._host=e.host,n._scrollable=e.scrollable,n._scrollByPage=e.scrollByPage,n._scrollbarState=e.scrollbarState,n._visibilityController=n._register(new _(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),n._visibilityController.setIsNeeded(n._scrollbarState.isNeeded()),n._pointerMoveMonitor=n._register(new v.C),n._shouldRender=!0,n.domNode=(0,c.X)(document.createElement("div")),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n._visibilityController.setDomNode(n.domNode),n.domNode.setPosition("absolute"),n._register(h.addDisposableListener(n.domNode.domNode,h.EventType.POINTER_DOWN,(function(e){return n._domNodePointerDown(e)}))),n}return(0,l.Z)(i,[{key:"_createArrow",value:function(e){var t=this._register(new b(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}},{key:"_createSlider",value:function(e,t,i,n){var o=this;this.slider=(0,c.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"===typeof i&&this.slider.setWidth(i),"number"===typeof n&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(h.addDisposableListener(this.slider.domNode,h.EventType.POINTER_DOWN,(function(e){0===e.button&&(e.preventDefault(),o._sliderPointerDown(e))}))),this.onclick(this.slider.domNode,(function(e){e.leftButton&&e.stopPropagation()}))}},{key:"_onElementSize",value:function(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"_onElementScrollSize",value:function(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"_onElementScrollPosition",value:function(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"beginReveal",value:function(){this._visibilityController.setShouldBeVisible(!0)}},{key:"beginHide",value:function(){this._visibilityController.setShouldBeVisible(!1)}},{key:"render",value:function(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}},{key:"_domNodePointerDown",value:function(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}},{key:"delegatePointerDown",value:function(e){var t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);i<=o&&o<=n?0===e.button&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}},{key:"_onPointerDown",value:function(e){var t,i;if(e.target===this.domNode.domNode&&"number"===typeof e.offsetX&&"number"===typeof e.offsetY)t=e.offsetX,i=e.offsetY;else{var n=h.getDomNodePagePosition(this.domNode.domNode);t=e.pageX-n.left,i=e.pageY-n.top}var o=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(o):this._scrollbarState.getDesiredScrollPositionFromOffset(o)),0===e.button&&(e.preventDefault(),this._sliderPointerDown(e))}},{key:"_sliderPointerDown",value:function(e){var t=this;if(e.target&&e.target instanceof Element){var i=this._sliderPointerPosition(e),n=this._sliderOrthogonalPointerPosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(function(e){var s=t._sliderOrthogonalPointerPosition(e),r=Math.abs(s-n);if(w.ED&&r>140)t._setDesiredScrollPositionNow(o.getScrollPosition());else{var l=t._sliderPointerPosition(e)-i;t._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(l))}}),(function(){t.slider.toggleClassName("active",!1),t._host.onDragEnd()})),this._host.onDragStart()}}},{key:"_setDesiredScrollPositionNow",value:function(e){var t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}},{key:"updateScrollbarSize",value:function(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}},{key:"isNeeded",value:function(){return this._scrollbarState.isNeeded()}}]),i}(p.$),k=function(){function e(t,i,n,o,s,r){(0,a.Z)(this,e),this._scrollbarSize=Math.round(i),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(t),this._visibleSize=o,this._scrollSize=s,this._scrollPosition=r,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return(0,l.Z)(e,[{key:"clone",value:function(){return new e(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}},{key:"setVisibleSize",value:function(e){var t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}},{key:"setScrollSize",value:function(e){var t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}},{key:"setScrollPosition",value:function(e){var t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}},{key:"setScrollbarSize",value:function(e){this._scrollbarSize=Math.round(e)}},{key:"setOppositeScrollbarSize",value:function(e){this._oppositeScrollbarSize=Math.round(e)}},{key:"_refreshComputedValues",value:function(){var t=e._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition}},{key:"getArrowSize",value:function(){return this._arrowSize}},{key:"getScrollPosition",value:function(){return this._scrollPosition}},{key:"getRectangleLargeSize",value:function(){return this._computedAvailableSize}},{key:"getRectangleSmallSize",value:function(){return this._scrollbarSize}},{key:"isNeeded",value:function(){return this._computedIsNeeded}},{key:"getSliderSize",value:function(){return this._computedSliderSize}},{key:"getSliderPosition",value:function(){return this._computedSliderPosition}},{key:"getDesiredScrollPositionFromOffset",value:function(e){if(!this._computedIsNeeded)return 0;var t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}},{key:"getDesiredScrollPositionFromOffsetPaged",value:function(e){if(!this._computedIsNeeded)return 0;var t=e-this._arrowSize,i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}},{key:"getDesiredScrollPositionFromDelta",value:function(e){if(!this._computedIsNeeded)return 0;var t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}],[{key:"_computeValues",value:function(e,t,i,n,o){var s=Math.max(0,i-e),r=Math.max(0,s-2*t),l=n>0&&n>i;if(!l)return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(r),computedSliderRatio:0,computedSliderPosition:0};var a=Math.round(Math.max(20,Math.floor(i*r/n))),d=(r-a)/(n-i),h=o*d;return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:d,computedSliderPosition:Math.round(h)}}}]),e}(),C=i(34922),N=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e,n,o){var s;(0,a.Z)(this,i);var r=e.getScrollDimensions(),l=e.getCurrentScrollPosition();if(s=t.call(this,{lazyRender:n.lazyRender,host:o,scrollbarState:new k(n.horizontalHasArrows?n.arrowSize:0,2===n.horizontal?0:n.horizontalScrollbarSize,2===n.vertical?0:n.verticalScrollbarSize,r.width,r.scrollWidth,l.scrollLeft),visibility:n.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:n.scrollByPage}),n.horizontalHasArrows){var d=(n.arrowSize-y)/2,h=(n.horizontalScrollbarSize-y)/2;s._createArrow({className:"scra",icon:C.l.scrollbarButtonLeft,top:h,left:d,bottom:void 0,right:void 0,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return s._host.onMouseWheel(new u.q(null,1,0))}}),s._createArrow({className:"scra",icon:C.l.scrollbarButtonRight,top:h,left:void 0,bottom:void 0,right:d,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return s._host.onMouseWheel(new u.q(null,-1,0))}})}return s._createSlider(Math.floor((n.horizontalScrollbarSize-n.horizontalSliderSize)/2),0,void 0,n.horizontalSliderSize),s}return(0,l.Z)(i,[{key:"_updateSlider",value:function(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}},{key:"_renderDomNode",value:function(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}},{key:"onDidScroll",value:function(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}},{key:"_pointerDownRelativePosition",value:function(e,t){return e}},{key:"_sliderPointerPosition",value:function(e){return e.pageX}},{key:"_sliderOrthogonalPointerPosition",value:function(e){return e.pageY}},{key:"_updateScrollbarSize",value:function(e){this.slider.setHeight(e)}},{key:"writeScrollPosition",value:function(e,t){e.scrollLeft=t}},{key:"updateOptions",value:function(e){this.updateScrollbarSize(2===e.horizontal?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}]),i}(D),E=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e,n,o){var s;(0,a.Z)(this,i);var r=e.getScrollDimensions(),l=e.getCurrentScrollPosition();if(s=t.call(this,{lazyRender:n.lazyRender,host:o,scrollbarState:new k(n.verticalHasArrows?n.arrowSize:0,2===n.vertical?0:n.verticalScrollbarSize,0,r.height,r.scrollHeight,l.scrollTop),visibility:n.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:n.scrollByPage}),n.verticalHasArrows){var d=(n.arrowSize-y)/2,h=(n.verticalScrollbarSize-y)/2;s._createArrow({className:"scra",icon:C.l.scrollbarButtonUp,top:d,left:h,bottom:void 0,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return s._host.onMouseWheel(new u.q(null,0,1))}}),s._createArrow({className:"scra",icon:C.l.scrollbarButtonDown,top:void 0,left:h,bottom:d,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return s._host.onMouseWheel(new u.q(null,0,-1))}})}return s._createSlider(0,Math.floor((n.verticalScrollbarSize-n.verticalSliderSize)/2),n.verticalSliderSize,void 0),s}return(0,l.Z)(i,[{key:"_updateSlider",value:function(e,t){this.slider.setHeight(e),this.slider.setTop(t)}},{key:"_renderDomNode",value:function(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}},{key:"onDidScroll",value:function(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}},{key:"_pointerDownRelativePosition",value:function(e,t){return t}},{key:"_sliderPointerPosition",value:function(e){return e.pageY}},{key:"_sliderOrthogonalPointerPosition",value:function(e){return e.pageX}},{key:"_updateScrollbarSize",value:function(e){this.slider.setWidth(e)}},{key:"writeScrollPosition",value:function(e,t){e.scrollTop=t}},{key:"updateOptions",value:function(e){this.updateScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}]),i}(D),P=i(3318),L=i(46490),z=(0,l.Z)((function e(t,i,n){(0,a.Z)(this,e),this.timestamp=t,this.deltaX=i,this.deltaY=n,this.score=0})),I=function(){function e(){(0,a.Z)(this,e),this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}return(0,l.Z)(e,[{key:"isPhysicalMouseWheel",value:function(){if(-1===this._front&&-1===this._rear)return!1;for(var e=1,t=0,i=1,n=this._rear;;){var o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}return t<=.5}},{key:"acceptStandardWheelEvent",value:function(e){var t=window.devicePixelRatio/(0,d.getZoomFactor)();w.ED||w.IJ?this.accept(Date.now(),e.deltaX/t,e.deltaY/t):this.accept(Date.now(),e.deltaX,e.deltaY)}},{key:"accept",value:function(e,t,i){var n=new z(e,t,i);n.score=this._computeScore(n),-1===this._front&&-1===this._rear?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}},{key:"_computeScore",value:function(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;var t=.5;-1===this._front&&-1===this._rear||this._memory[this._rear];return this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}},{key:"_isAlmostInt",value:function(e){return Math.abs(Math.round(e)-e)<.01}}]),e}();I.INSTANCE=new I;var x=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e,n,o){var s;(0,a.Z)(this,i),(s=t.call(this))._onScroll=s._register(new P.Q5),s.onScroll=s._onScroll.event,s._onWillScroll=s._register(new P.Q5),e.style.overflow="hidden",s._options=function(e){var t={lazyRender:"undefined"!==typeof e.lazyRender&&e.lazyRender,className:"undefined"!==typeof e.className?e.className:"",useShadows:"undefined"===typeof e.useShadows||e.useShadows,handleMouseWheel:"undefined"===typeof e.handleMouseWheel||e.handleMouseWheel,flipAxes:"undefined"!==typeof e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:"undefined"!==typeof e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:"undefined"!==typeof e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:"undefined"!==typeof e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:"undefined"!==typeof e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:"undefined"!==typeof e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:"undefined"===typeof e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:"undefined"===typeof e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:"undefined"!==typeof e.arrowSize?e.arrowSize:11,listenOnDomNode:"undefined"!==typeof e.listenOnDomNode?e.listenOnDomNode:null,horizontal:"undefined"!==typeof e.horizontal?e.horizontal:1,horizontalScrollbarSize:"undefined"!==typeof e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:"undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:"undefined"!==typeof e.horizontalHasArrows&&e.horizontalHasArrows,vertical:"undefined"!==typeof e.vertical?e.vertical:1,verticalScrollbarSize:"undefined"!==typeof e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:"undefined"!==typeof e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:"undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:"undefined"!==typeof e.scrollByPage&&e.scrollByPage};t.horizontalSliderSize="undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize="undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,w.dz&&(t.className+=" mac");return t}(n),s._scrollable=o,s._register(s._scrollable.onScroll((function(e){s._onWillScroll.fire(e),s._onDidScroll(e),s._onScroll.fire(e)})));var r={onMouseWheel:function(e){return s._onMouseWheel(e)},onDragStart:function(){return s._onDragStart()},onDragEnd:function(){return s._onDragEnd()}};return s._verticalScrollbar=s._register(new E(s._scrollable,s._options,r)),s._horizontalScrollbar=s._register(new N(s._scrollable,s._options,r)),s._domNode=document.createElement("div"),s._domNode.className="monaco-scrollable-element "+s._options.className,s._domNode.setAttribute("role","presentation"),s._domNode.style.position="relative",s._domNode.style.overflow="hidden",s._domNode.appendChild(e),s._domNode.appendChild(s._horizontalScrollbar.domNode.domNode),s._domNode.appendChild(s._verticalScrollbar.domNode.domNode),s._options.useShadows?(s._leftShadowDomNode=(0,c.X)(document.createElement("div")),s._leftShadowDomNode.setClassName("shadow"),s._domNode.appendChild(s._leftShadowDomNode.domNode),s._topShadowDomNode=(0,c.X)(document.createElement("div")),s._topShadowDomNode.setClassName("shadow"),s._domNode.appendChild(s._topShadowDomNode.domNode),s._topLeftShadowDomNode=(0,c.X)(document.createElement("div")),s._topLeftShadowDomNode.setClassName("shadow"),s._domNode.appendChild(s._topLeftShadowDomNode.domNode)):(s._leftShadowDomNode=null,s._topShadowDomNode=null,s._topLeftShadowDomNode=null),s._listenOnDomNode=s._options.listenOnDomNode||s._domNode,s._mouseWheelToDispose=[],s._setListeningToMouseWheel(s._options.handleMouseWheel),s.onmouseover(s._listenOnDomNode,(function(e){return s._onMouseOver(e)})),s.onmouseleave(s._listenOnDomNode,(function(e){return s._onMouseLeave(e)})),s._hideTimeout=s._register(new m._F),s._isDragging=!1,s._mouseIsOver=!1,s._shouldRender=!0,s._revealOnScroll=!0,s}return(0,l.Z)(i,[{key:"options",get:function(){return this._options}},{key:"dispose",value:function(){this._mouseWheelToDispose=(0,S.B9)(this._mouseWheelToDispose),(0,n.Z)((0,o.Z)(i.prototype),"dispose",this).call(this)}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getOverviewRulerLayoutInfo",value:function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}},{key:"delegateVerticalScrollbarPointerDown",value:function(e){this._verticalScrollbar.delegatePointerDown(e)}},{key:"getScrollDimensions",value:function(){return this._scrollable.getScrollDimensions()}},{key:"setScrollDimensions",value:function(e){this._scrollable.setScrollDimensions(e,!1)}},{key:"updateClassName",value:function(e){this._options.className=e,w.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}},{key:"updateOptions",value:function(e){"undefined"!==typeof e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),"undefined"!==typeof e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),"undefined"!==typeof e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),"undefined"!==typeof e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),"undefined"!==typeof e.horizontal&&(this._options.horizontal=e.horizontal),"undefined"!==typeof e.vertical&&(this._options.vertical=e.vertical),"undefined"!==typeof e.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),"undefined"!==typeof e.verticalScrollbarSize&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),"undefined"!==typeof e.scrollByPage&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}},{key:"delegateScrollFromMouseWheelEvent",value:function(e){this._onMouseWheel(new u.q(e))}},{key:"_setListeningToMouseWheel",value:function(e){var t=this;if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=(0,S.B9)(this._mouseWheelToDispose),e)){this._mouseWheelToDispose.push(h.addDisposableListener(this._listenOnDomNode,h.EventType.MOUSE_WHEEL,(function(e){t._onMouseWheel(new u.q(e))}),{passive:!1}))}}},{key:"_onMouseWheel",value:function(e){var t=I.INSTANCE;t.acceptStandardWheelEvent(e);var i=!1;if(e.deltaY||e.deltaX){var n=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;if(this._options.scrollPredominantAxis&&(Math.abs(n)>=Math.abs(o)?o=0:n=0),this._options.flipAxes){var s=[o,n];n=s[0],o=s[1]}var r=!w.dz&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!r||o||(o=n,n=0),e.browserEvent&&e.browserEvent.altKey&&(o*=this._options.fastScrollSensitivity,n*=this._options.fastScrollSensitivity);var l=this._scrollable.getFutureScrollPosition(),a={};if(n){var d=50*n,h=l.scrollTop-(d<0?Math.floor(d):Math.ceil(d));this._verticalScrollbar.writeScrollPosition(a,h)}if(o){var c=50*o,u=l.scrollLeft-(c<0?Math.floor(c):Math.ceil(c));this._horizontalScrollbar.writeScrollPosition(a,u)}if(a=this._scrollable.validateScrollPosition(a),l.scrollLeft!==a.scrollLeft||l.scrollTop!==a.scrollTop)this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(a):this._scrollable.setScrollPositionNow(a),i=!0}var v=i;!v&&this._options.alwaysConsumeMouseWheel&&(v=!0),!v&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(v=!0),v&&(e.preventDefault(),e.stopPropagation())}},{key:"_onDidScroll",value:function(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}},{key:"renderNow",value:function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}},{key:"_render",value:function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,n=i?" left":"",o=t?" top":"",s=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName("shadow".concat(n)),this._topShadowDomNode.setClassName("shadow".concat(o)),this._topLeftShadowDomNode.setClassName("shadow".concat(s).concat(o).concat(n))}}},{key:"_onDragStart",value:function(){this._isDragging=!0,this._reveal()}},{key:"_onDragEnd",value:function(){this._isDragging=!1,this._hide()}},{key:"_onMouseLeave",value:function(e){this._mouseIsOver=!1,this._hide()}},{key:"_onMouseOver",value:function(e){this._mouseIsOver=!0,this._reveal()}},{key:"_reveal",value:function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}},{key:"_hide",value:function(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}},{key:"_scheduleHide",value:function(){var e=this;this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((function(){return e._hide()}),500)}}]),i}(p.$),T=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e,n){var o;(0,a.Z)(this,i),(n=n||{}).mouseWheelSmoothScroll=!1;var s=new L.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:function(e){return h.scheduleAtNextAnimationFrame(e)}});return(o=t.call(this,e,n,s))._register(s),o}return(0,l.Z)(i,[{key:"setScrollPosition",value:function(e){this._scrollable.setScrollPositionNow(e)}}]),i}(x),Z=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e,n,o){return(0,a.Z)(this,i),t.call(this,e,n,o)}return(0,l.Z)(i,[{key:"setScrollPosition",value:function(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}},{key:"getScrollPosition",value:function(){return this._scrollable.getCurrentScrollPosition()}}]),i}(x),M=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e,n){var o;(0,a.Z)(this,i),(n=n||{}).mouseWheelSmoothScroll=!1;var s=new L.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:function(e){return h.scheduleAtNextAnimationFrame(e)}});return(o=t.call(this,e,n,s))._register(s),o._element=e,o.onScroll((function(e){e.scrollTopChanged&&(o._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(o._element.scrollLeft=e.scrollLeft)})),o.scanDomNode(),o}return(0,l.Z)(i,[{key:"setScrollPosition",value:function(e){this._scrollable.setScrollPositionNow(e)}},{key:"getScrollPosition",value:function(){return this._scrollable.getCurrentScrollPosition()}},{key:"scanDomNode",value:function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}]),i}(x)},23812:function(e,t,i){i.d(t,{j:function(){return N}});var n=i(15671),o=i(43144),s=i(60136),r=i(27277),l=i(11752),a=i(61120),d=i(39165),h=i(24768),c=i(96857),u=i(2589),v=i(12830),f=i(85509),p=i(3318),m=i(84191),g=i(82927),y=i(37858),b=i(96531),S=d.$,_="selectOption.entry.template",w=function(){function e(){(0,n.Z)(this,e)}return(0,o.Z)(e,[{key:"templateId",get:function(){return _}},{key:"renderTemplate",value:function(e){var t=Object.create(null);return t.root=e,t.text=d.append(e,S(".option-text")),t.detail=d.append(e,S(".option-detail")),t.decoratorRight=d.append(e,S(".option-decorator-right")),t}},{key:"renderElement",value:function(e,t,i){var n=i,o=e.text,s=e.detail,r=e.decoratorRight,l=e.isDisabled;n.text.textContent=o,n.detail.textContent=s||"",n.decoratorRight.innerText=r||"",l?n.root.classList.add("option-disabled"):n.root.classList.remove("option-disabled")}},{key:"disposeTemplate",value:function(e){}}]),e}(),D=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e,o,s,r,l){var a;return(0,n.Z)(this,i),(a=t.call(this)).options=[],a._currentSelection=0,a._hasDetails=!1,a._skipLayout=!1,a._sticky=!1,a._isVisible=!1,a.styles=r,a.selectBoxOptions=l||Object.create(null),"number"!==typeof a.selectBoxOptions.minBottomMargin?a.selectBoxOptions.minBottomMargin=i.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:a.selectBoxOptions.minBottomMargin<0&&(a.selectBoxOptions.minBottomMargin=0),a.selectElement=document.createElement("select"),a.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding","string"===typeof a.selectBoxOptions.ariaLabel&&a.selectElement.setAttribute("aria-label",a.selectBoxOptions.ariaLabel),"string"===typeof a.selectBoxOptions.ariaDescription&&a.selectElement.setAttribute("aria-description",a.selectBoxOptions.ariaDescription),a._onDidSelect=new p.Q5,a._register(a._onDidSelect),a.registerListeners(),a.constructSelectDropDown(s),a.selected=o||0,e&&a.setOptions(e,o),a.initStyleSheet(),a}return(0,o.Z)(i,[{key:"getHeight",value:function(){return 22}},{key:"getTemplateId",value:function(){return _}},{key:"constructSelectDropDown",value:function(e){this.contextViewProvider=e,this.selectDropDownContainer=d.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=d.append(this.selectDropDownContainer,S(".select-box-details-pane"));var t=d.append(this.selectDropDownContainer,S(".select-box-dropdown-container-width-control")),i=d.append(t,S(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",d.append(i,this.widthControlElement),this._dropDownPosition=0,this.styleElement=d.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(d.addDisposableListener(this.selectDropDownContainer,d.EventType.DRAG_START,(function(e){d.EventHelper.stop(e,!0)})))}},{key:"registerListeners",value:function(){var e,t=this;this._register(d.addStandardDisposableListener(this.selectElement,"change",(function(e){t.selected=e.target.selectedIndex,t._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value}),t.options[t.selected]&&t.options[t.selected].text&&(t.selectElement.title=t.options[t.selected].text)}))),this._register(d.addDisposableListener(this.selectElement,d.EventType.CLICK,(function(e){d.EventHelper.stop(e),t._isVisible?t.hideSelectDropDown(!0):t.showSelectDropDown()}))),this._register(d.addDisposableListener(this.selectElement,d.EventType.MOUSE_DOWN,(function(e){d.EventHelper.stop(e)}))),this._register(d.addDisposableListener(this.selectElement,"touchstart",(function(i){e=t._isVisible}))),this._register(d.addDisposableListener(this.selectElement,"touchend",(function(i){d.EventHelper.stop(i),e?t.hideSelectDropDown(!0):t.showSelectDropDown()}))),this._register(d.addDisposableListener(this.selectElement,d.EventType.KEY_DOWN,(function(e){var i=new c.y(e),n=!1;y.dz?18!==i.keyCode&&16!==i.keyCode&&10!==i.keyCode&&3!==i.keyCode||(n=!0):(18===i.keyCode&&i.altKey||16===i.keyCode&&i.altKey||10===i.keyCode||3===i.keyCode)&&(n=!0),n&&(t.showSelectDropDown(),d.EventHelper.stop(e,!0))})))}},{key:"onDidSelect",get:function(){return this._onDidSelect.event}},{key:"setOptions",value:function(e,t){var i=this;f.fS(this.options,e)||(this.options=e,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((function(e,t){i.selectElement.add(i.createOption(e.text,t,e.isDisabled)),"string"===typeof e.description&&(i._hasDetails=!0)}))),void 0!==t&&(this.select(t),this._currentSelection=this.selected)}},{key:"setOptionsList",value:function(){var e;null===(e=this.selectList)||void 0===e||e.splice(0,this.selectList.length,this.options)}},{key:"select",value:function(e){e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}},{key:"focus",value:function(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}},{key:"blur",value:function(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}},{key:"setFocusable",value:function(e){this.selectElement.tabIndex=e?0:-1}},{key:"render",value:function(e){this.container=e,e.classList.add("select-container"),e.appendChild(this.selectElement),this.styleSelectElement()}},{key:"initStyleSheet",value:function(){var e=[];this.styles.listFocusBackground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ".concat(this.styles.listFocusBackground," !important; }")),this.styles.listFocusForeground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ".concat(this.styles.listFocusForeground," !important; }")),this.styles.decoratorRightForeground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ".concat(this.styles.decoratorRightForeground,"; }")),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(e.push(".monaco-select-box-dropdown-container { border: 1px solid ".concat(this.styles.selectBorder," } ")),e.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ".concat(this.styles.selectBorder," } ")),e.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ".concat(this.styles.selectBorder," } "))):this.styles.selectListBorder&&(e.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ".concat(this.styles.selectListBorder," } ")),e.push(".monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ".concat(this.styles.selectListBorder," } "))),this.styles.listHoverForeground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ".concat(this.styles.listHoverForeground," !important; }")),this.styles.listHoverBackground&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ".concat(this.styles.listHoverBackground," !important; }")),this.styles.listFocusOutline&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ".concat(this.styles.listFocusOutline," !important; outline-offset: -1.6px !important; }")),this.styles.listHoverOutline&&e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ".concat(this.styles.listHoverOutline," !important; outline-offset: -1.6px !important; }")),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=e.join("\n")}},{key:"styleSelectElement",value:function(){var e,t,i,n=null!==(e=this.styles.selectBackground)&&void 0!==e?e:"",o=null!==(t=this.styles.selectForeground)&&void 0!==t?t:"",s=null!==(i=this.styles.selectBorder)&&void 0!==i?i:"";this.selectElement.style.backgroundColor=n,this.selectElement.style.color=o,this.selectElement.style.borderColor=s}},{key:"styleList",value:function(){var e,t,i=null!==(e=this.styles.selectBackground)&&void 0!==e?e:"",n=d.asCssValueWithDefault(this.styles.selectListBackground,i);this.selectDropDownListContainer.style.backgroundColor=n,this.selectionDetailsPane.style.backgroundColor=n;var o=null!==(t=this.styles.focusBorder)&&void 0!==t?t:"";this.selectDropDownContainer.style.outlineColor=o,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}},{key:"createOption",value:function(e,t,i){var n=document.createElement("option");return n.value=e,n.text=e,n.disabled=!!i,n}},{key:"showSelectDropDown",value:function(){var e=this;this.selectionDetailsPane.innerText="",this.contextViewProvider&&!this._isVisible&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:function(){return e.selectElement},render:function(t){return e.renderSelectDropDown(t,!0)},layout:function(){e.layoutSelectDropDown()},onHide:function(){e.selectDropDownContainer.classList.remove("visible"),e.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:function(){return e.selectElement},render:function(t){return e.renderSelectDropDown(t)},layout:function(){return e.layoutSelectDropDown()},onHide:function(){e.selectDropDownContainer.classList.remove("visible"),e.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}},{key:"hideSelectDropDown",value:function(e){this.contextViewProvider&&this._isVisible&&(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),e&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}},{key:"renderSelectDropDown",value:function(e,t){var i=this;return e.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(t),{dispose:function(){try{e.removeChild(i.selectDropDownContainer)}catch(t){}}}}},{key:"measureMaxDetailsHeight",value:function(){var e=this,t=0;return this.options.forEach((function(i,n){e.updateDetail(n),e.selectionDetailsPane.offsetHeight>t&&(t=e.selectionDetailsPane.offsetHeight)})),t}},{key:"layoutSelectDropDown",value:function(e){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");var t=d.getDomNodePagePosition(this.selectElement),n=getComputedStyle(this.selectElement),o=parseFloat(n.getPropertyValue("--dropdown-padding-top"))+parseFloat(n.getPropertyValue("--dropdown-padding-bottom")),s=window.innerHeight-t.top-t.height-(this.selectBoxOptions.minBottomMargin||0),r=t.top-i.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,l=this.selectElement.offsetWidth,a=this.setWidthControlElement(this.widthControlElement),h=Math.max(a,Math.round(l)).toString()+"px";this.selectDropDownContainer.style.width=h,this.selectList.getHTMLElement().style.height="",this.selectList.layout();var c=this.selectList.contentHeight;this._hasDetails&&void 0===this._cachedMaxDetailsHeight&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());var u=this._hasDetails?this._cachedMaxDetailsHeight:0,v=c+o+u,f=Math.floor((s-o-u)/this.getHeight()),p=Math.floor((r-o-u)/this.getHeight());if(e)return!(t.top+t.height>window.innerHeight-22||t.top<i.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||f<1&&p<1)&&(f<i.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&p>f&&this.options.length>f?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(t.top+t.height>window.innerHeight-22||t.top<i.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||0===this._dropDownPosition&&f<1||1===this._dropDownPosition&&p<1)return this.hideSelectDropDown(!0),!1;if(0===this._dropDownPosition){if(this._isVisible&&f+p<1)return this.hideSelectDropDown(!0),!1;v>s&&(c=f*this.getHeight())}else v>r&&(c=p*this.getHeight());return this.selectList.layout(c),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=c+o+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=c+o+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=h,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}return!1}},{key:"setWidthControlElement",value:function(e){var t=0;if(e){var i=0,n=0;this.options.forEach((function(e,t){var o=e.detail?e.detail.length:0,s=e.decoratorRight?e.decoratorRight.length:0,r=e.text.length+o+s;r>n&&(i=t,n=r)})),e.textContent=this.options[i].text+(this.options[i].decoratorRight?this.options[i].decoratorRight+" ":""),t=d.getTotalWidth(e)}return t}},{key:"createSelectList",value:function(e){var t=this;if(!this.selectList){this.selectDropDownListContainer=d.append(e,S(".select-box-dropdown-list-container")),this.listRenderer=new w,this.selectList=new v.aV("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:function(e){var t=e.text;return e.detail&&(t+=". ".concat(e.detail)),e.decoratorRight&&(t+=". ".concat(e.decoratorRight)),e.description&&(t+=". ".concat(e.description)),t},getWidgetAriaLabel:function(){return(0,b.NC)({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box")},getRole:function(){return"option"},getWidgetRole:function(){return"listbox"}}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);var i=this._register(new h.Y(this.selectDropDownListContainer,"keydown")),n=p.ju.chain(i.event).filter((function(){return t.selectList.length>0})).map((function(e){return new c.y(e)}));this._register(n.filter((function(e){return 3===e.keyCode})).on((function(e){return t.onEnter(e)}),this)),this._register(n.filter((function(e){return 2===e.keyCode})).on((function(e){return t.onEnter(e)}),this)),this._register(n.filter((function(e){return 9===e.keyCode})).on((function(e){return t.onEscape(e)}),this)),this._register(n.filter((function(e){return 16===e.keyCode})).on((function(e){return t.onUpArrow(e)}),this)),this._register(n.filter((function(e){return 18===e.keyCode})).on((function(e){return t.onDownArrow(e)}),this)),this._register(n.filter((function(e){return 12===e.keyCode})).on(this.onPageDown,this)),this._register(n.filter((function(e){return 11===e.keyCode})).on(this.onPageUp,this)),this._register(n.filter((function(e){return 14===e.keyCode})).on(this.onHome,this)),this._register(n.filter((function(e){return 13===e.keyCode})).on(this.onEnd,this)),this._register(n.filter((function(e){return e.keyCode>=21&&e.keyCode<=56||e.keyCode>=80&&e.keyCode<=108})).on(this.onCharacter,this)),this._register(d.addDisposableListener(this.selectList.getHTMLElement(),d.EventType.POINTER_UP,(function(e){return t.onPointerUp(e)}))),this._register(this.selectList.onMouseOver((function(e){return"undefined"!==typeof e.index&&t.selectList.setFocus([e.index])}))),this._register(this.selectList.onDidChangeFocus((function(e){return t.onListFocus(e)}))),this._register(d.addDisposableListener(this.selectDropDownContainer,d.EventType.FOCUS_OUT,(function(e){t._isVisible&&!d.isAncestor(e.relatedTarget,t.selectDropDownContainer)&&t.onListBlur()}))),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}}},{key:"onPointerUp",value:function(e){if(this.selectList.length){d.EventHelper.stop(e);var t=e.target;if(t&&!t.classList.contains("slider")){var i=t.closest(".monaco-list-row");if(i){var n=Number(i.getAttribute("data-index")),o=i.classList.contains("option-disabled");n>=0&&n<this.options.length&&!o&&(this.selected=n,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}}}}},{key:"onListBlur",value:function(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}},{key:"renderDescriptionMarkdown",value:function(e,t){var i=(0,u.a)({value:e,supportThemeIcons:!0},{actionHandler:t});return i.element.classList.add("select-box-description-markdown"),function e(t){for(var i=0;i<t.childNodes.length;i++){var n=t.childNodes.item(i);"img"===(n.tagName&&n.tagName.toLowerCase())?t.removeChild(n):e(n)}}(i.element),i.element}},{key:"onListFocus",value:function(e){this._isVisible&&this._hasDetails&&this.updateDetail(e.indexes[0])}},{key:"updateDetail",value:function(e){var t,i;this.selectionDetailsPane.innerText="";var n=this.options[e],o=null!==(t=null===n||void 0===n?void 0:n.description)&&void 0!==t?t:"",s=null!==(i=null===n||void 0===n?void 0:n.descriptionIsMarkdown)&&void 0!==i&&i;if(o){if(s){var r=n.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(o,r))}else this.selectionDetailsPane.innerText=o;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}},{key:"onEscape",value:function(e){d.EventHelper.stop(e),this.select(this._currentSelection),this.hideSelectDropDown(!0)}},{key:"onEnter",value:function(e){d.EventHelper.stop(e),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}},{key:"onDownArrow",value:function(e){if(this.selected<this.options.length-1){d.EventHelper.stop(e,!0);var t=this.options[this.selected+1].isDisabled;if(t&&this.options.length>this.selected+2)this.selected+=2;else{if(t)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}},{key:"onUpArrow",value:function(e){this.selected>0&&(d.EventHelper.stop(e,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}},{key:"onPageUp",value:function(e){var t=this;d.EventHelper.stop(e),this.selectList.focusPreviousPage(),setTimeout((function(){t.selected=t.selectList.getFocus()[0],t.options[t.selected].isDisabled&&t.selected<t.options.length-1&&(t.selected++,t.selectList.setFocus([t.selected])),t.selectList.reveal(t.selected),t.select(t.selected)}),1)}},{key:"onPageDown",value:function(e){var t=this;d.EventHelper.stop(e),this.selectList.focusNextPage(),setTimeout((function(){t.selected=t.selectList.getFocus()[0],t.options[t.selected].isDisabled&&t.selected>0&&(t.selected--,t.selectList.setFocus([t.selected])),t.selectList.reveal(t.selected),t.select(t.selected)}),1)}},{key:"onHome",value:function(e){d.EventHelper.stop(e),this.options.length<2||(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}},{key:"onEnd",value:function(e){d.EventHelper.stop(e),this.options.length<2||(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}},{key:"onCharacter",value:function(e){for(var t=m.kL.toString(e.keyCode),i=-1,n=0;n<this.options.length-1;n++)if(i=(n+this.selected+1)%this.options.length,this.options[i].text.charAt(0).toUpperCase()===t&&!this.options[i].isDisabled){this.select(i),this.selectList.setFocus([i]),this.selectList.reveal(this.selectList.getFocus()[0]),d.EventHelper.stop(e);break}}},{key:"dispose",value:function(){this.hideSelectDropDown(!1),(0,l.Z)((0,a.Z)(i.prototype),"dispose",this).call(this)}}]),i}(g.JT);D.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,D.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,D.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;var k=i(47505),C=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e,o,s,r){var l;return(0,n.Z)(this,i),(l=t.call(this)).selected=0,l.selectBoxOptions=r||Object.create(null),l.options=[],l.selectElement=document.createElement("select"),l.selectElement.className="monaco-select-box","string"===typeof l.selectBoxOptions.ariaLabel&&l.selectElement.setAttribute("aria-label",l.selectBoxOptions.ariaLabel),"string"===typeof l.selectBoxOptions.ariaDescription&&l.selectElement.setAttribute("aria-description",l.selectBoxOptions.ariaDescription),l._onDidSelect=l._register(new p.Q5),l.styles=s,l.registerListeners(),l.setOptions(e,o),l}return(0,o.Z)(i,[{key:"registerListeners",value:function(){var e=this;this._register(k.o.addTarget(this.selectElement)),[k.t.Tap].forEach((function(t){e._register(d.addDisposableListener(e.selectElement,t,(function(t){e.selectElement.focus()})))})),this._register(d.addStandardDisposableListener(this.selectElement,"click",(function(e){d.EventHelper.stop(e,!0)}))),this._register(d.addStandardDisposableListener(this.selectElement,"change",(function(t){e.selectElement.title=t.target.value,e._onDidSelect.fire({index:t.target.selectedIndex,selected:t.target.value})}))),this._register(d.addStandardDisposableListener(this.selectElement,"keydown",(function(e){var t=!1;y.dz?18!==e.keyCode&&16!==e.keyCode&&10!==e.keyCode||(t=!0):(18===e.keyCode&&e.altKey||10===e.keyCode||3===e.keyCode)&&(t=!0),t&&e.stopPropagation()})))}},{key:"onDidSelect",get:function(){return this._onDidSelect.event}},{key:"setOptions",value:function(e,t){var i=this;this.options&&f.fS(this.options,e)||(this.options=e,this.selectElement.options.length=0,this.options.forEach((function(e,t){i.selectElement.add(i.createOption(e.text,t,e.isDisabled))}))),void 0!==t&&this.select(t)}},{key:"select",value:function(e){0===this.options.length?this.selected=0:e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&"string"===typeof this.options[this.selected].text?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}},{key:"focus",value:function(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}},{key:"blur",value:function(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}},{key:"setFocusable",value:function(e){this.selectElement.tabIndex=e?0:-1}},{key:"render",value:function(e){e.classList.add("select-container"),e.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}},{key:"applyStyles",value:function(){var e,t,i;this.selectElement&&(this.selectElement.style.backgroundColor=null!==(e=this.styles.selectBackground)&&void 0!==e?e:"",this.selectElement.style.color=null!==(t=this.styles.selectForeground)&&void 0!==t?t:"",this.selectElement.style.borderColor=null!==(i=this.styles.selectBorder)&&void 0!==i?i:"")}},{key:"createOption",value:function(e,t,i){var n=document.createElement("option");return n.value=e,n.text=e,n.disabled=!!i,n}}]),i}(g.JT),N=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e,o,s,r,l){var a;return(0,n.Z)(this,i),a=t.call(this),y.dz&&!(null===l||void 0===l?void 0:l.useCustomDrawn)?a.selectBoxDelegate=new C(e,o,r,l):a.selectBoxDelegate=new D(e,o,s,r,l),a._register(a.selectBoxDelegate),a}return(0,o.Z)(i,[{key:"onDidSelect",get:function(){return this.selectBoxDelegate.onDidSelect}},{key:"setOptions",value:function(e,t){this.selectBoxDelegate.setOptions(e,t)}},{key:"select",value:function(e){this.selectBoxDelegate.select(e)}},{key:"focus",value:function(){this.selectBoxDelegate.focus()}},{key:"blur",value:function(){this.selectBoxDelegate.blur()}},{key:"setFocusable",value:function(e){this.selectBoxDelegate.setFocusable(e)}},{key:"render",value:function(e){this.selectBoxDelegate.render(e)}}]),i}(i(59092).$)},61556:function(e,t,i){i.d(t,{M:function(){return o},z:function(){return P}});var n,o,s=i(93433),r=i(37762),l=i(11752),a=i(61120),d=i(60136),h=i(27277),c=i(15671),u=i(43144),v=i(39165),f=i(24768),p=i(85855),m=i(19285),g=i(85509),y=i(96142),b=i(3318),S=i(82927),_=i(46679),w=i(46490),D=i(91189),k={separatorBorder:y.Il.transparent},C=function(){function e(t,i,n,o){(0,c.Z)(this,e),this.container=t,this.view=i,this.disposable=o,this._cachedVisibleSize=void 0,"number"===typeof n?(this._size=n,this._cachedVisibleSize=void 0,t.classList.add("visible")):(this._size=0,this._cachedVisibleSize=n.cachedVisibleSize)}return(0,u.Z)(e,[{key:"size",get:function(){return this._size},set:function(e){this._size=e}},{key:"visible",get:function(){return"undefined"===typeof this._cachedVisibleSize}},{key:"setVisible",value:function(e,t){var i,n;e!==this.visible&&(e?(this.size=(0,_.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"===typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),null===(n=(i=this.view).setVisible)||void 0===n||n.call(i,e))}},{key:"minimumSize",get:function(){return this.visible?this.view.minimumSize:0}},{key:"viewMinimumSize",get:function(){return this.view.minimumSize}},{key:"maximumSize",get:function(){return this.visible?this.view.maximumSize:0}},{key:"viewMaximumSize",get:function(){return this.view.maximumSize}},{key:"priority",get:function(){return this.view.priority}},{key:"proportionalLayout",get:function(){var e;return null===(e=this.view.proportionalLayout)||void 0===e||e}},{key:"snap",get:function(){return!!this.view.snap}},{key:"enabled",set:function(e){this.container.style.pointerEvents=e?"":"none"}},{key:"layout",value:function(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}},{key:"dispose",value:function(){return this.disposable.dispose(),this.view}}]),e}(),N=function(e){(0,d.Z)(i,e);var t=(0,h.Z)(i);function i(){return(0,c.Z)(this,i),t.apply(this,arguments)}return(0,u.Z)(i,[{key:"layoutContainer",value:function(e){this.container.style.top="".concat(e,"px"),this.container.style.height="".concat(this.size,"px")}}]),i}(C),E=function(e){(0,d.Z)(i,e);var t=(0,h.Z)(i);function i(){return(0,c.Z)(this,i),t.apply(this,arguments)}return(0,u.Z)(i,[{key:"layoutContainer",value:function(e){this.container.style.left="".concat(e,"px"),this.container.style.width="".concat(this.size,"px")}}]),i}(C);!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(n||(n={})),function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}},e.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}}}(o||(o={}));var P=function(e){(0,d.Z)(i,e);var t=(0,h.Z)(i);function i(e){var o,s,r,l,a,d,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.Z)(this,i),(o=t.call(this)).size=0,o.contentSize=0,o.proportions=void 0,o.viewItems=[],o.sashItems=[],o.state=n.Idle,o._onDidSashChange=o._register(new b.Q5),o._onDidSashReset=o._register(new b.Q5),o._startSnappingEnabled=!0,o._endSnappingEnabled=!0,o.onDidSashChange=o._onDidSashChange.event,o.onDidSashReset=o._onDidSashReset.event,o.orientation=null!==(s=h.orientation)&&void 0!==s?s:0,o.inverseAltBehavior=null!==(r=h.inverseAltBehavior)&&void 0!==r&&r,o.proportionalLayout=null===(l=h.proportionalLayout)||void 0===l||l,o.getSashOrthogonalSize=h.getSashOrthogonalSize,o.el=document.createElement("div"),o.el.classList.add("monaco-split-view2"),o.el.classList.add(0===o.orientation?"vertical":"horizontal"),e.appendChild(o.el),o.sashContainer=(0,v.append)(o.el,(0,v.$)(".sash-container")),o.viewContainer=(0,v.$)(".split-view-container"),o.scrollable=new w.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:v.scheduleAtNextAnimationFrame}),o.scrollableElement=o._register(new m.$Z(o.viewContainer,{vertical:0===o.orientation?null!==(a=h.scrollbarVisibility)&&void 0!==a?a:1:2,horizontal:1===o.orientation?null!==(d=h.scrollbarVisibility)&&void 0!==d?d:1:2},o.scrollable));var u=o._register(new f.Y(o.viewContainer,"scroll")).event;return o._register(u((function(e){var t=o.scrollableElement.getScrollPosition(),i=Math.abs(o.viewContainer.scrollLeft-t.scrollLeft)<=1?void 0:o.viewContainer.scrollLeft,n=Math.abs(o.viewContainer.scrollTop-t.scrollTop)<=1?void 0:o.viewContainer.scrollTop;void 0===i&&void 0===n||o.scrollableElement.setScrollPosition({scrollLeft:i,scrollTop:n})}))),o.onDidScroll=o.scrollableElement.onScroll,o._register(o.onDidScroll((function(e){e.scrollTopChanged&&(o.viewContainer.scrollTop=e.scrollTop),e.scrollLeftChanged&&(o.viewContainer.scrollLeft=e.scrollLeft)}))),(0,v.append)(o.el,o.scrollableElement.getDomNode()),o.style(h.styles||k),h.descriptor&&(o.size=h.descriptor.size,h.descriptor.views.forEach((function(e,t){var i=D.o8(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},n=e.view;o.doAddView(n,i,t,!0)})),o.contentSize=o.viewItems.reduce((function(e,t){return e+t.size}),0),o.saveProportions()),o}return(0,u.Z)(i,[{key:"orthogonalStartSash",get:function(){return this._orthogonalStartSash},set:function(e){var t,i=(0,r.Z)(this.sashItems);try{for(i.s();!(t=i.n()).done;){t.value.sash.orthogonalStartSash=e}}catch(n){i.e(n)}finally{i.f()}this._orthogonalStartSash=e}},{key:"orthogonalEndSash",get:function(){return this._orthogonalEndSash},set:function(e){var t,i=(0,r.Z)(this.sashItems);try{for(i.s();!(t=i.n()).done;){t.value.sash.orthogonalEndSash=e}}catch(n){i.e(n)}finally{i.f()}this._orthogonalEndSash=e}},{key:"startSnappingEnabled",get:function(){return this._startSnappingEnabled},set:function(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}},{key:"endSnappingEnabled",get:function(){return this._endSnappingEnabled},set:function(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}},{key:"style",value:function(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}},{key:"addView",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.length,n=arguments.length>3?arguments[3]:void 0;this.doAddView(e,t,i,n)}},{key:"layout",value:function(e,t){var i=this,n=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions){for(var o=0,s=0;s<this.viewItems.length;s++){var r=this.viewItems[s],l=this.proportions[s];"number"===typeof l?o+=l:e-=r.size}for(var a=0;a<this.viewItems.length;a++){var d=this.viewItems[a],h=this.proportions[a];"number"===typeof h&&(d.size=(0,_.uZ)(Math.round(h*e/o),d.minimumSize,d.maximumSize))}}else{var c=(0,g.w6)(this.viewItems.length),u=c.filter((function(e){return 1===i.viewItems[e].priority})),v=c.filter((function(e){return 2===i.viewItems[e].priority}));this.resize(this.viewItems.length-1,e-n,void 0,u,v)}this.distributeEmptySpace(),this.layoutViews()}},{key:"saveProportions",value:function(){var e=this;this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((function(t){return t.proportionalLayout?t.size/e.contentSize:void 0})))}},{key:"onSashStart",value:function(e){var t,i=this,n=e.sash,o=e.start,s=e.alt,l=(0,r.Z)(this.viewItems);try{for(l.s();!(t=l.n()).done;){t.value.enabled=!1}}catch(c){l.e(c)}finally{l.f()}var a=this.sashItems.findIndex((function(e){return e.sash===n})),d=(0,S.F8)((0,v.addDisposableListener)(document.body,"keydown",(function(e){return h(i.sashDragState.current,e.altKey)})),(0,v.addDisposableListener)(document.body,"keyup",(function(){return h(i.sashDragState.current,!1)}))),h=function(e,t){var n,o,s=i.viewItems.map((function(e){return e.size})),r=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;if(i.inverseAltBehavior&&(t=!t),t)if(a===i.sashItems.length-1){var h=i.viewItems[a];r=(h.minimumSize-h.size)/2,l=(h.maximumSize-h.size)/2}else{var c=i.viewItems[a+1];r=(c.size-c.maximumSize)/2,l=(c.size-c.minimumSize)/2}if(!t){var u=(0,g.w6)(a,-1),v=(0,g.w6)(a+1,i.viewItems.length),f=u.reduce((function(e,t){return e+(i.viewItems[t].minimumSize-s[t])}),0),p=u.reduce((function(e,t){return e+(i.viewItems[t].viewMaximumSize-s[t])}),0),m=0===v.length?Number.POSITIVE_INFINITY:v.reduce((function(e,t){return e+(s[t]-i.viewItems[t].minimumSize)}),0),y=0===v.length?Number.NEGATIVE_INFINITY:v.reduce((function(e,t){return e+(s[t]-i.viewItems[t].viewMaximumSize)}),0),b=Math.max(f,y),S=Math.min(m,p),_=i.findFirstSnapIndex(u),w=i.findFirstSnapIndex(v);if("number"===typeof _){var D=i.viewItems[_],k=Math.floor(D.viewMinimumSize/2);n={index:_,limitDelta:D.visible?b-k:b+k,size:D.size}}if("number"===typeof w){var C=i.viewItems[w],N=Math.floor(C.viewMinimumSize/2);o={index:w,limitDelta:C.visible?S+N:S-N,size:C.size}}}i.sashDragState={start:e,current:e,index:a,sizes:s,minDelta:r,maxDelta:l,alt:t,snapBefore:n,snapAfter:o,disposable:d}};h(o,s)}},{key:"onSashChange",value:function(e){var t=e.current,i=this.sashDragState,n=i.index,o=i.start,s=i.sizes,r=i.alt,l=i.minDelta,a=i.maxDelta,d=i.snapBefore,h=i.snapAfter;this.sashDragState.current=t;var c=t-o,u=this.resize(n,c,s,void 0,void 0,l,a,d,h);if(r){var v=n===this.sashItems.length-1,f=this.viewItems.map((function(e){return e.size})),p=v?n:n+1,m=this.viewItems[p],g=m.size-m.maximumSize,y=m.size-m.minimumSize,b=v?n-1:n+1;this.resize(b,-u,f,void 0,void 0,g,y)}this.distributeEmptySpace(),this.layoutViews()}},{key:"onSashEnd",value:function(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();var t,i=(0,r.Z)(this.viewItems);try{for(i.s();!(t=i.n()).done;){t.value.enabled=!0}}catch(n){i.e(n)}finally{i.f()}}},{key:"onViewChange",value:function(e,t){var i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t="number"===typeof t?t:e.size,t=(0,_.uZ)(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}},{key:"resizeView",value:function(e,t){var i=this;if(this.state!==n.Idle)throw new Error("Cant modify splitview");if(this.state=n.Busy,!(e<0||e>=this.viewItems.length)){var o=(0,g.w6)(this.viewItems.length).filter((function(t){return t!==e})),r=[].concat((0,s.Z)(o.filter((function(e){return 1===i.viewItems[e].priority}))),[e]),l=o.filter((function(e){return 2===i.viewItems[e].priority})),a=this.viewItems[e];t=Math.round(t),t=(0,_.uZ)(t,a.minimumSize,Math.min(a.maximumSize,this.size)),a.size=t,this.relayout(r,l),this.state=n.Idle}}},{key:"distributeViewSizes",value:function(){var e,t=this,i=[],n=0,o=(0,r.Z)(this.viewItems);try{for(o.s();!(e=o.n()).done;){var s=e.value;s.maximumSize-s.minimumSize>0&&(i.push(s),n+=s.size)}}catch(f){o.e(f)}finally{o.f()}for(var l=Math.floor(n/i.length),a=0,d=i;a<d.length;a++){var h=d[a];h.size=(0,_.uZ)(l,h.minimumSize,h.maximumSize)}var c=(0,g.w6)(this.viewItems.length),u=c.filter((function(e){return 1===t.viewItems[e].priority})),v=c.filter((function(e){return 2===t.viewItems[e].priority}));this.relayout(u,v)}},{key:"getViewSize",value:function(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}},{key:"doAddView",value:function(e,t){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.length,s=arguments.length>3?arguments[3]:void 0;if(this.state!==n.Idle)throw new Error("Cant modify splitview");this.state=n.Busy;var r=(0,v.$)(".split-view-view");o===this.viewItems.length?this.viewContainer.appendChild(r):this.viewContainer.insertBefore(r,this.viewContainer.children.item(o));var l,a=e.onDidChange((function(e){return i.onViewChange(u,e)})),d=(0,S.OF)((function(){return i.viewContainer.removeChild(r)})),h=(0,S.F8)(a,d);l="number"===typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;var c,u=0===this.orientation?new N(r,e,l,h):new E(r,e,l,h);if(this.viewItems.splice(o,0,u),this.viewItems.length>1){var f={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},m=0===this.orientation?new p.g(this.sashContainer,{getHorizontalSashTop:function(e){return i.getSashPosition(e)},getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},f),{orientation:1})):new p.g(this.sashContainer,{getVerticalSashLeft:function(e){return i.getSashPosition(e)},getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},f),{orientation:0})),y=0===this.orientation?function(e){return{sash:m,start:e.startY,current:e.currentY,alt:e.altKey}}:function(e){return{sash:m,start:e.startX,current:e.currentX,alt:e.altKey}},_=b.ju.map(m.onDidStart,y)(this.onSashStart,this),w=b.ju.map(m.onDidChange,y)(this.onSashChange,this),D=b.ju.map(m.onDidEnd,(function(){return i.sashItems.findIndex((function(e){return e.sash===m}))})),k=D(this.onSashEnd,this),C=m.onDidReset((function(){var e=i.sashItems.findIndex((function(e){return e.sash===m})),t=(0,g.w6)(e,-1),n=(0,g.w6)(e+1,i.viewItems.length),o=i.findFirstSnapIndex(t),s=i.findFirstSnapIndex(n);("number"!==typeof o||i.viewItems[o].visible)&&("number"!==typeof s||i.viewItems[s].visible)&&i._onDidSashReset.fire(e)})),P=(0,S.F8)(_,w,k,C,m),L={sash:m,disposable:P};this.sashItems.splice(o-1,0,L)}r.appendChild(e.element),"number"!==typeof t&&"split"===t.type&&(c=[t.index]),s||this.relayout([o],c),this.state=n.Idle,s||"number"===typeof t||"distribute"!==t.type||this.distributeViewSizes()}},{key:"relayout",value:function(e,t){var i=this.viewItems.reduce((function(e,t){return e+t.size}),0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}},{key:"resize",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.map((function(e){return e.size})),o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Number.NEGATIVE_INFINITY,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Number.POSITIVE_INFINITY,d=arguments.length>7?arguments[7]:void 0,h=arguments.length>8?arguments[8]:void 0;if(e<0||e>=this.viewItems.length)return 0;var c=(0,g.w6)(e,-1),u=(0,g.w6)(e+1,this.viewItems.length);if(s){var v,f=(0,r.Z)(s);try{for(f.s();!(v=f.n()).done;){var p=v.value;(0,g.zI)(c,p),(0,g.zI)(u,p)}}catch(j){f.e(j)}finally{f.f()}}if(o){var m,y=(0,r.Z)(o);try{for(y.s();!(m=y.n()).done;){var b=m.value;(0,g.al)(c,b),(0,g.al)(u,b)}}catch(j){y.e(j)}finally{y.f()}}var S=c.map((function(e){return i.viewItems[e]})),w=c.map((function(e){return n[e]})),D=u.map((function(e){return i.viewItems[e]})),k=u.map((function(e){return n[e]})),C=c.reduce((function(e,t){return e+(i.viewItems[t].minimumSize-n[t])}),0),N=c.reduce((function(e,t){return e+(i.viewItems[t].maximumSize-n[t])}),0),E=0===u.length?Number.POSITIVE_INFINITY:u.reduce((function(e,t){return e+(n[t]-i.viewItems[t].minimumSize)}),0),P=0===u.length?Number.NEGATIVE_INFINITY:u.reduce((function(e,t){return e+(n[t]-i.viewItems[t].maximumSize)}),0),L=Math.max(C,P,l),z=Math.min(E,N,a),I=!1;if(d){var x=this.viewItems[d.index],T=t>=d.limitDelta;I=T!==x.visible,x.setVisible(T,d.size)}if(!I&&h){var Z=this.viewItems[h.index],M=t<h.limitDelta;I=M!==Z.visible,Z.setVisible(M,h.size)}if(I)return this.resize(e,t,n,o,s,l,a);for(var O=0,R=t=(0,_.uZ)(t,L,z);O<S.length;O++){var A=S[O],F=(0,_.uZ)(w[O]+R,A.minimumSize,A.maximumSize);R-=F-w[O],A.size=F}for(var B=0,H=t;B<D.length;B++){var V=D[B],W=(0,_.uZ)(k[B]-H,V.minimumSize,V.maximumSize);H+=W-k[B],V.size=W}return t}},{key:"distributeEmptySpace",value:function(e){var t,i=this,n=this.viewItems.reduce((function(e,t){return e+t.size}),0),o=this.size-n,s=(0,g.w6)(this.viewItems.length-1,-1),l=s.filter((function(e){return 1===i.viewItems[e].priority})),a=s.filter((function(e){return 2===i.viewItems[e].priority})),d=(0,r.Z)(a);try{for(d.s();!(t=d.n()).done;){var h=t.value;(0,g.zI)(s,h)}}catch(y){d.e(y)}finally{d.f()}var c,u=(0,r.Z)(l);try{for(u.s();!(c=u.n()).done;){var v=c.value;(0,g.al)(s,v)}}catch(y){u.e(y)}finally{u.f()}"number"===typeof e&&(0,g.al)(s,e);for(var f=0;0!==o&&f<s.length;f++){var p=this.viewItems[s[f]],m=(0,_.uZ)(p.size+o,p.minimumSize,p.maximumSize);o-=m-p.size,p.size=m}}},{key:"layoutViews",value:function(){this.contentSize=this.viewItems.reduce((function(e,t){return e+t.size}),0);var e,t=0,i=(0,r.Z)(this.viewItems);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.layout(t,this.layoutContext),t+=n.size}}catch(o){i.e(o)}finally{i.f()}this.sashItems.forEach((function(e){return e.sash.layout()})),this.updateSashEnablement(),this.updateScrollableElement()}},{key:"updateScrollableElement",value:function(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}},{key:"updateSashEnablement",value:function(){var e=!1,t=this.viewItems.map((function(t){return e=t.size-t.minimumSize>0||e}));e=!1;var i=this.viewItems.map((function(t){return e=t.maximumSize-t.size>0||e})),n=(0,s.Z)(this.viewItems).reverse();e=!1;var o=n.map((function(t){return e=t.size-t.minimumSize>0||e})).reverse();e=!1;for(var r=n.map((function(t){return e=t.maximumSize-t.size>0||e})).reverse(),l=0,a=0;a<this.sashItems.length;a++){var d=this.sashItems[a].sash;l+=this.viewItems[a].size;var h=!(t[a]&&r[a+1]),c=!(i[a]&&o[a+1]);if(h&&c){var u=(0,g.w6)(a,-1),v=(0,g.w6)(a+1,this.viewItems.length),f=this.findFirstSnapIndex(u),p=this.findFirstSnapIndex(v),m="number"===typeof f&&!this.viewItems[f].visible,y="number"===typeof p&&!this.viewItems[p].visible;m&&o[a]&&(l>0||this.startSnappingEnabled)?d.state=1:y&&t[a]&&(l<this.contentSize||this.endSnappingEnabled)?d.state=2:d.state=0}else d.state=h&&!c?1:!h&&c?2:3}}},{key:"getSashPosition",value:function(e){for(var t=0,i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}},{key:"findFirstSnapIndex",value:function(e){var t,i=(0,r.Z)(e);try{for(i.s();!(t=i.n()).done;){var n=t.value,o=this.viewItems[n];if(o.visible&&o.snap)return n}}catch(h){i.e(h)}finally{i.f()}var s,l=(0,r.Z)(e);try{for(l.s();!(s=l.n()).done;){var a=s.value,d=this.viewItems[a];if(d.visible&&d.maximumSize-d.minimumSize>0)return;if(!d.visible&&d.snap)return a}}catch(h){l.e(h)}finally{l.f()}}},{key:"dispose",value:function(){(0,l.Z)((0,a.Z)(i.prototype),"dispose",this).call(this),(0,S.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach((function(e){return e.disposable.dispose()})),this.sashItems=[]}}]),i}(S.JT)},96067:function(e,t,i){i.d(t,{i:function(){return p}});var n=i(29439),o=i(93433),s=i(37762),r=i(15671),l=i(43144),a=i(39165),d=i(12830),h=i(61556),c=i(3318),u=i(82927),v=function(){function e(t,i,n){(0,r.Z)(this,e),this.columns=t,this.getColumnSize=n,this.templateId=e.TemplateId,this.renderedTemplates=new Set;var o=new Map(i.map((function(e){return[e.templateId,e]})));this.renderers=[];var l,a=(0,s.Z)(t);try{for(a.s();!(l=a.n()).done;){var d=l.value,h=o.get(d.templateId);if(!h)throw new Error("Table cell renderer for template id ".concat(d.templateId," not found."));this.renderers.push(h)}}catch(c){a.e(c)}finally{a.f()}}return(0,l.Z)(e,[{key:"renderTemplate",value:function(e){for(var t=(0,a.append)(e,(0,a.$)(".monaco-table-tr")),i=[],n=[],o=0;o<this.columns.length;o++){var s=this.renderers[o],r=(0,a.append)(t,(0,a.$)(".monaco-table-td",{"data-col-index":o}));r.style.width="".concat(this.getColumnSize(o),"px"),i.push(r),n.push(s.renderTemplate(r))}var l={container:e,cellContainers:i,cellTemplateData:n};return this.renderedTemplates.add(l),l}},{key:"renderElement",value:function(e,t,i,n){for(var o=0;o<this.columns.length;o++){var s=this.columns[o].project(e);this.renderers[o].renderElement(s,t,i.cellTemplateData[o],n)}}},{key:"disposeElement",value:function(e,t,i,n){for(var o=0;o<this.columns.length;o++){var s=this.renderers[o];if(s.disposeElement){var r=this.columns[o].project(e);s.disposeElement(r,t,i.cellTemplateData[o],n)}}}},{key:"disposeTemplate",value:function(e){for(var t=0;t<this.columns.length;t++){this.renderers[t].disposeTemplate(e.cellTemplateData[t])}(0,a.clearNode)(e.container),this.renderedTemplates.delete(e)}},{key:"layoutColumn",value:function(e,t){var i,n=(0,s.Z)(this.renderedTemplates);try{for(n.s();!(i=n.n()).done;){i.value.cellContainers[e].style.width="".concat(t,"px")}}catch(o){n.e(o)}finally{n.f()}}}]),e}();v.TemplateId="row";var f=function(){function e(t,i){(0,r.Z)(this,e),this.column=t,this.index=i,this._onDidLayout=new c.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,a.$)(".monaco-table-th",{"data-col-index":i,title:t.tooltip},t.label)}return(0,l.Z)(e,[{key:"minimumSize",get:function(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}},{key:"maximumSize",get:function(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}},{key:"onDidChange",get:function(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:c.ju.None}},{key:"layout",value:function(e){this._onDidLayout.fire([this.index,e])}}]),e}(),p=function(){function e(t,i,s,l,p,m){var g=this;(0,r.Z)(this,e),this.virtualDelegate=s,this.domId="table_id_".concat(++e.InstanceCount),this.disposables=new u.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,a.append)(i,(0,a.$)(".monaco-table.".concat(this.domId)));var y=l.map((function(e,t){return new f(e,t)})),b={size:y.reduce((function(e,t){return e+t.column.weight}),0),views:y.map((function(e){return{size:e.column.weight,view:e}}))};this.splitview=this.disposables.add(new h.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:function(){return g.cachedHeight},descriptor:b})),this.splitview.el.style.height="".concat(s.headerRowHeight,"px"),this.splitview.el.style.lineHeight="".concat(s.headerRowHeight,"px");var S,_=new v(l,p,(function(e){return g.splitview.getViewSize(e)}));this.list=this.disposables.add(new d.aV(t,this.domNode,(S=s,{getHeight:function(e){return S.getHeight(e)},getTemplateId:function(){return v.TemplateId}}),[_],m)),c.ju.any.apply(c.ju,(0,o.Z)(y.map((function(e){return e.onDidLayout}))))((function(e){var t=(0,n.Z)(e,2),i=t[0],o=t[1];return _.layoutColumn(i,o)}),null,this.disposables),this.splitview.onDidSashReset((function(e){var t=l.reduce((function(e,t){return e+t.weight}),0),i=l[e].weight/t*g.cachedWidth;g.splitview.resizeView(e,i)}),null,this.disposables),this.styleElement=(0,a.createStyleSheet)(this.domNode),this.style(d.uZ)}return(0,l.Z)(e,[{key:"onDidChangeFocus",get:function(){return this.list.onDidChangeFocus}},{key:"onDidChangeSelection",get:function(){return this.list.onDidChangeSelection}},{key:"onMouseDblClick",get:function(){return this.list.onMouseDblClick}},{key:"onPointer",get:function(){return this.list.onPointer}},{key:"onDidFocus",get:function(){return this.list.onDidFocus}},{key:"onDidDispose",get:function(){return this.list.onDidDispose}},{key:"updateOptions",value:function(e){this.list.updateOptions(e)}},{key:"splice",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.list.splice(e,t,i)}},{key:"getHTMLElement",value:function(){return this.domNode}},{key:"style",value:function(e){var t=[];t.push(".monaco-table.".concat(this.domId," > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ").concat(this.virtualDelegate.headerRowHeight+1,"px;\n\t\t\theight: calc(100% - ").concat(this.virtualDelegate.headerRowHeight,"px);\n\t\t}")),this.styleElement.textContent=t.join("\n"),this.list.style(e)}},{key:"getSelectedElements",value:function(){return this.list.getSelectedElements()}},{key:"getSelection",value:function(){return this.list.getSelection()}},{key:"getFocus",value:function(){return this.list.getFocus()}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}();p.InstanceCount=0},37958:function(e,t,i){i.d(t,{Z:function(){return u},D:function(){return c}});var n=i(93433),o=i(15671),s=i(43144),r=i(60136),l=i(27277),a=i(59092),d=i(95696),h=i(3318),c={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"},u=function(e){(0,r.Z)(i,e);var t=(0,l.Z)(i);function i(e){var s,r;(0,o.Z)(this,i),(r=t.call(this))._onChange=r._register(new h.Q5),r.onChange=r._onChange.event,r._onKeyDown=r._register(new h.Q5),r.onKeyDown=r._onKeyDown.event,r._opts=e,r._checked=r._opts.isChecked;var l=["monaco-custom-toggle"];return r._opts.icon&&(r._icon=r._opts.icon,l.push.apply(l,(0,n.Z)(d.k.asClassNameArray(r._icon)))),r._opts.actionClassName&&l.push.apply(l,(0,n.Z)(r._opts.actionClassName.split(" "))),r._checked&&l.push("checked"),r.domNode=document.createElement("div"),r.domNode.title=r._opts.title,(s=r.domNode.classList).add.apply(s,l),r._opts.notFocusable||(r.domNode.tabIndex=0),r.domNode.setAttribute("role","checkbox"),r.domNode.setAttribute("aria-checked",String(r._checked)),r.domNode.setAttribute("aria-label",r._opts.title),r.applyStyles(),r.onclick(r.domNode,(function(e){r.enabled&&(r.checked=!r._checked,r._onChange.fire(!1),e.preventDefault())})),r._register(r.ignoreGesture(r.domNode)),r.onkeydown(r.domNode,(function(e){if(10===e.keyCode||3===e.keyCode)return r.checked=!r._checked,r._onChange.fire(!0),e.preventDefault(),void e.stopPropagation();r._onKeyDown.fire(e)})),r}return(0,s.Z)(i,[{key:"enabled",get:function(){return"true"!==this.domNode.getAttribute("aria-disabled")}},{key:"focus",value:function(){this.domNode.focus()}},{key:"checked",get:function(){return this._checked},set:function(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}},{key:"width",value:function(){return 22}},{key:"applyStyles",value:function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}},{key:"enable",value:function(){this.domNode.setAttribute("aria-disabled",String(!1))}},{key:"disable",value:function(){this.domNode.setAttribute("aria-disabled",String(!0))}}]),i}(a.$)},61012:function(e,t,i){i.d(t,{u:function(){return S}});var n=i(74165),o=i(15671),s=i(43144),r=i(11752),l=i(61120),a=i(60136),d=i(27277),h=i(73694),c=i(46120),u=i(98770),v=i(34922),f=i(95696),p=i(3318),m=i(82927),g=i(91189),y=i(96531),b=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{a(n.next(e))}catch(t){s(t)}}function l(e){try{a(n.throw(e))}catch(t){s(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,l)}a((n=n.apply(e,t||[])).next())}))},S=function(e){(0,a.Z)(i,e);var t=(0,d.Z)(i);function i(e,n){var s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{orientation:0};return(0,o.Z)(this,i),(s=t.call(this)).submenuActionViewItems=[],s.hasSecondaryActions=!1,s._onDidChangeDropdownVisibility=s._register(new p.z5),s.onDidChangeDropdownVisibility=s._onDidChangeDropdownVisibility.event,s.disposables=new m.SL,s.options=r,s.lookupKeybindings="function"===typeof s.options.getKeyBinding,s.toggleMenuAction=s._register(new _((function(){var e;return null===(e=s.toggleMenuActionViewItem)||void 0===e?void 0:e.show()}),r.toggleMenuTitle)),s.element=document.createElement("div"),s.element.className="monaco-toolbar",e.appendChild(s.element),s.actionBar=s._register(new h.o(s.element,{orientation:r.orientation,ariaLabel:r.ariaLabel,actionRunner:r.actionRunner,allowContextMenu:r.allowContextMenu,actionViewItemProvider:function(e,t){var i;if(e.id===_.ID)return s.toggleMenuActionViewItem=new c.C(e,e.menuActions,n,{actionViewItemProvider:s.options.actionViewItemProvider,actionRunner:s.actionRunner,keybindingProvider:s.options.getKeyBinding,classNames:f.k.asClassNameArray(null!==(i=r.moreIcon)&&void 0!==i?i:v.l.toolBarMore),anchorAlignmentProvider:s.options.anchorAlignmentProvider,menuAsChild:!!s.options.renderDropdownAsChildElement}),s.toggleMenuActionViewItem.setActionContext(s.actionBar.context),s.disposables.add(s._onDidChangeDropdownVisibility.add(s.toggleMenuActionViewItem.onDidChangeVisibility)),s.toggleMenuActionViewItem;if(r.actionViewItemProvider){var o=r.actionViewItemProvider(e,t);if(o)return o}if(e instanceof u.wY){var l=new c.C(e,e.actions,n,{actionViewItemProvider:s.options.actionViewItemProvider,actionRunner:s.actionRunner,keybindingProvider:s.options.getKeyBinding,classNames:e.class,anchorAlignmentProvider:s.options.anchorAlignmentProvider,menuAsChild:!!s.options.renderDropdownAsChildElement});return l.setActionContext(s.actionBar.context),s.submenuActionViewItems.push(l),s.disposables.add(s._onDidChangeDropdownVisibility.add(l.onDidChangeVisibility)),l}}})),s}return(0,s.Z)(i,[{key:"actionRunner",get:function(){return this.actionBar.actionRunner},set:function(e){this.actionBar.actionRunner=e}},{key:"getElement",value:function(){return this.element}},{key:"getItemAction",value:function(e){return this.actionBar.getAction(e)}},{key:"setActions",value:function(e,t){var i=this;this.clear();var n=e?e.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),n.push(this.toggleMenuAction)),n.forEach((function(e){i.actionBar.push(e,{icon:!0,label:!1,keybinding:i.getKeybindingLabel(e)})}))}},{key:"getKeybindingLabel",value:function(e){var t,i,n=this.lookupKeybindings?null===(i=(t=this.options).getKeyBinding)||void 0===i?void 0:i.call(t,e):void 0;return(0,g.f6)(null===n||void 0===n?void 0:n.getLabel())}},{key:"clear",value:function(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}},{key:"dispose",value:function(){this.clear(),(0,r.Z)((0,l.Z)(i.prototype),"dispose",this).call(this)}}]),i}(m.JT),_=function(e){(0,a.Z)(i,e);var t=(0,d.Z)(i);function i(e,n){var s;return(0,o.Z)(this,i),n=n||y.NC("moreActions","More Actions..."),(s=t.call(this,i.ID,n,void 0,!0))._menuActions=[],s.toggleDropdownMenu=e,s}return(0,s.Z)(i,[{key:"run",value:function(){return b(this,void 0,void 0,(0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.toggleDropdownMenu();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"menuActions",get:function(){return this._menuActions},set:function(e){this._menuActions=e}}]),i}(u.aU);_.ID="toolbar.toggle.more"},37799:function(e,t,i){i.d(t,{CH:function(){return G},cz:function(){return M},Zd:function(){return F},sZ:function(){return A}});var n=i(11752),o=i(61120),s=i(93433),r=i(29439),l=i(37762),a=i(43144),d=i(15671),h=i(60136),c=i(27277),u=i(39165),v=(i(24768),i(96857)),f=(i(73694),i(87890),i(54913)),p=i(31374),m=i(12830),g=i(37958),y=i(55567),b=i(38351),S=(i(98770),i(85509)),_=i(1670),w=i(34922),D=i(95696),k=i(30570),C=i(3318),N=i(96823),E=i(82927),P=i(46679),L=i(91189),z=i(96531),I=function(e){(0,h.Z)(i,e);var t=(0,c.Z)(i);function i(e){var n;return(0,d.Z)(this,i),(n=t.call(this,e.elements.map((function(e){return e.element})))).data=e,n}return(0,a.Z)(i)}(p.kX);function x(e){return e instanceof p.kX?new I(e):e}var T=function(){function e(t,i){(0,d.Z)(this,e),this.modelProvider=t,this.dnd=i,this.autoExpandDisposable=E.JT.None}return(0,a.Z)(e,[{key:"getDragURI",value:function(e){return this.dnd.getDragURI(e.element)}},{key:"getDragLabel",value:function(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((function(e){return e.element})),t)}},{key:"onDragStart",value:function(e,t){var i,n;null===(n=(i=this.dnd).onDragStart)||void 0===n||n.call(i,x(e),t)}},{key:"onDragOver",value:function(e,t,i,n){var o=this,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=this.dnd.onDragOver(x(e),t&&t.element,i,n),l=this.autoExpandNode!==t;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),"undefined"===typeof t)return r;if(l&&"boolean"!==typeof r&&r.autoExpand&&(this.autoExpandDisposable=(0,_.Vg)((function(){var e=o.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),o.autoExpandNode=void 0}),500)),"boolean"===typeof r||!r.accept||"undefined"===typeof r.bubble||r.feedback)return s?r:{accept:"boolean"===typeof r?r:r.accept,effect:"boolean"===typeof r?void 0:r.effect,feedback:[i]};if(1===r.bubble){var a=this.modelProvider(),d=a.getNodeLocation(t),h=a.getParentNodeLocation(d),c=a.getNode(h),u=h&&a.getListIndex(h);return this.onDragOver(e,c,u,n,!1)}var v=this.modelProvider(),f=v.getNodeLocation(t),p=v.getListIndex(f),m=v.getListRenderCount(f);return Object.assign(Object.assign({},r),{feedback:(0,S.w6)(p,p+m)})}},{key:"drop",value:function(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(x(e),t&&t.element,i,n)}},{key:"onDragEnd",value:function(e){var t,i;null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}}]),e}();var Z,M=function(){function e(t){(0,d.Z)(this,e),this.delegate=t}return(0,a.Z)(e,[{key:"getHeight",value:function(e){return this.delegate.getHeight(e.element)}},{key:"getTemplateId",value:function(e){return this.delegate.getTemplateId(e.element)}},{key:"hasDynamicHeight",value:function(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}},{key:"setDynamicHeight",value:function(e,t){var i,n;null===(n=(i=this.delegate).setDynamicHeight)||void 0===n||n.call(i,e.element,t)}}]),e}();!function(e){e.None="none",e.OnHover="onHover",e.Always="always"}(Z||(Z={}));var O=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,d.Z)(this,e),this._elements=n,this.disposables=new E.SL,this.onDidChange=C.ju.forEach(t,(function(e){return i._elements=e}),this.disposables)}return(0,a.Z)(e,[{key:"elements",get:function(){return this._elements}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}(),R=function(){function e(t,i,n,o,s){var r,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};(0,d.Z)(this,e),this.renderer=t,this.modelProvider=i,this.activeNodes=o,this.renderedIndentGuides=s,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=e.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=E.JT.None,this.disposables=new E.SL,this.templateId=t.templateId,this.updateOptions(l),C.ju.map(n,(function(e){return e.node}))(this.onDidChangeNodeTwistieState,this,this.disposables),null===(r=t.onDidChangeTwistieState)||void 0===r||r.call(t,this.onDidChangeTwistieState,this,this.disposables)}return(0,a.Z)(e,[{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof e.indent){var t=(0,P.uZ)(e.indent,0,40);if(t!==this.indent){this.indent=t;var i,n=(0,l.Z)(this.renderedNodes);try{for(n.s();!(i=n.n()).done;){var o=(0,r.Z)(i.value,2),s=o[0],a=o[1];this.renderTreeElement(s,a)}}catch(m){n.e(m)}finally{n.f()}}}if("undefined"!==typeof e.renderIndentGuides){var d=e.renderIndentGuides!==Z.None;if(d!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=d;var h,c=(0,l.Z)(this.renderedNodes);try{for(c.s();!(h=c.n()).done;){var u=(0,r.Z)(h.value,2),v=u[0],f=u[1];this._renderIndentGuides(v,f)}}catch(m){c.e(m)}finally{c.f()}if(this.indentGuidesDisposable.dispose(),d){var p=new E.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,p),this.indentGuidesDisposable=p,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}"undefined"!==typeof e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}},{key:"renderTemplate",value:function(e){var t=(0,u.append)(e,(0,u.$)(".monaco-tl-row")),i=(0,u.append)(t,(0,u.$)(".monaco-tl-indent")),n=(0,u.append)(t,(0,u.$)(".monaco-tl-twistie")),o=(0,u.append)(t,(0,u.$)(".monaco-tl-contents")),s=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:n,indentGuidesDisposable:E.JT.None,templateData:s}}},{key:"renderElement",value:function(e,t,i,n){this.renderedNodes.set(e,i),this.renderedElements.set(e.element,e),this.renderTreeElement(e,i),this.renderer.renderElement(e,t,i.templateData,n)}},{key:"disposeElement",value:function(e,t,i,n){var o,s;i.indentGuidesDisposable.dispose(),null===(s=(o=this.renderer).disposeElement)||void 0===s||s.call(o,e,t,i.templateData,n),"number"===typeof n&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}},{key:"disposeTemplate",value:function(e){this.renderer.disposeTemplate(e.templateData)}},{key:"onDidChangeTwistieState",value:function(e){var t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}},{key:"onDidChangeNodeTwistieState",value:function(e){var t=this.renderedNodes.get(e);t&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,t))}},{key:"renderTreeElement",value:function(t,i){var n,o=e.DefaultIndent+(t.depth-1)*this.indent;i.twistie.style.paddingLeft="".concat(o,"px"),i.indent.style.width="".concat(o+this.indent-16,"px"),t.collapsible?i.container.setAttribute("aria-expanded",String(!t.collapsed)):i.container.removeAttribute("aria-expanded"),(n=i.twistie.classList).remove.apply(n,(0,s.Z)(D.k.asClassNameArray(w.l.treeItemExpanded)));var r=!1;if(this.renderer.renderTwistie&&(r=this.renderer.renderTwistie(t.element,i.twistie)),t.collapsible&&(!this.hideTwistiesOfChildlessElements||t.visibleChildrenCount>0)){var l;if(!r)(l=i.twistie.classList).add.apply(l,(0,s.Z)(D.k.asClassNameArray(w.l.treeItemExpanded)));i.twistie.classList.add("collapsible"),i.twistie.classList.toggle("collapsed",t.collapsed)}else i.twistie.classList.remove("collapsible","collapsed");this._renderIndentGuides(t,i)}},{key:"_renderIndentGuides",value:function(e,t){var i=this;if((0,u.clearNode)(t.indent),t.indentGuidesDisposable.dispose(),this.shouldRenderIndentGuides){for(var n=new E.SL,o=this.modelProvider(),s=function(){var s=o.getNodeLocation(e),r=o.getParentNodeLocation(s);if(!r)return"break";var l=o.getNode(r),a=(0,u.$)(".indent-guide",{style:"width: ".concat(i.indent,"px")});i.activeIndentNodes.has(l)&&a.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),i.renderedIndentGuides.add(l,a),n.add((0,E.OF)((function(){return i.renderedIndentGuides.delete(l,a)}))),e=l};;){if("break"===s())break}t.indentGuidesDisposable=n}}},{key:"_onDidChangeActiveNodes",value:function(e){var t=this;if(this.shouldRenderIndentGuides){var i=new Set,n=this.modelProvider();e.forEach((function(e){var t=n.getNodeLocation(e);try{var o=n.getParentNodeLocation(t);e.collapsible&&e.children.length>0&&!e.collapsed?i.add(e):o&&i.add(n.getNode(o))}catch(s){}})),this.activeIndentNodes.forEach((function(e){i.has(e)||t.renderedIndentGuides.forEach(e,(function(e){return e.classList.remove("active")}))})),i.forEach((function(e){t.activeIndentNodes.has(e)||t.renderedIndentGuides.forEach(e,(function(e){return e.classList.add("active")}))})),this.activeIndentNodes=i}}},{key:"dispose",value:function(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,E.B9)(this.disposables)}}]),e}();R.DefaultIndent=8;var A,F,B=function(){function e(t,i,n){(0,d.Z)(this,e),this.tree=t,this.keyboardNavigationLabelProvider=i,this._filter=n,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new E.SL,t.onWillRefilter(this.reset,this,this.disposables)}return(0,a.Z)(e,[{key:"totalCount",get:function(){return this._totalCount}},{key:"matchCount",get:function(){return this._matchCount}},{key:"filter",value:function(e,t){var i=1;if(this._filter){var n=this._filter.filter(e,t);if(0===(i="boolean"===typeof n?n?1:0:(0,y.gB)(n)?(0,y.aG)(n.visibility):n))return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:N.CL.Default,visibility:i};var o,s=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),r=Array.isArray(s)?s:[s],a=(0,l.Z)(r);try{for(a.s();!(o=a.n()).done;){var d=o.value,h=d&&d.toString();if("undefined"===typeof h)return{data:N.CL.Default,visibility:i};var c=void 0;if(this.tree.findMatchType===F.Contiguous){var u=h.toLowerCase().indexOf(this._lowercasePattern);if(u>-1){c=[Number.MAX_SAFE_INTEGER,0];for(var v=this._lowercasePattern.length;v>0;v--)c.push(u+v-1)}}else c=(0,N.EW)(this._pattern,this._lowercasePattern,0,h,h.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(c)return this._matchCount++,1===r.length?{data:c,visibility:i}:{data:{label:h,score:c},visibility:i}}}catch(f){a.e(f)}finally{a.f()}return this.tree.findMode===A.Filter?"number"===typeof this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):2:{data:N.CL.Default,visibility:i}}},{key:"reset",value:function(){this._totalCount=0,this._matchCount=0}},{key:"dispose",value:function(){(0,E.B9)(this.disposables)}}]),e}();f.g4,g.D;!function(e){e[e.Highlight=0]="Highlight",e[e.Filter=1]="Filter"}(A||(A={})),function(e){e[e.Fuzzy=0]="Fuzzy",e[e.Contiguous=1]="Contiguous"}(F||(F={}));var H=function(){function e(t,i,n,o,s){var r,l,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};(0,d.Z)(this,e),this.tree=t,this.view=n,this.filter=o,this.contextViewProvider=s,this.options=a,this._pattern="",this.width=0,this._onDidChangeMode=new C.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new C.Q5,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new C.Q5,this._onDidChangeOpenState=new C.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new E.SL,this.disposables=new E.SL,this._mode=null!==(r=t.options.defaultFindMode)&&void 0!==r?r:A.Highlight,this._matchType=null!==(l=t.options.defaultFindMatchType)&&void 0!==l?l:F.Fuzzy,i.onDidSplice(this.onDidSpliceModel,this,this.disposables)}return(0,a.Z)(e,[{key:"pattern",get:function(){return this._pattern}},{key:"mode",get:function(){return this._mode},set:function(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}},{key:"matchType",get:function(){return this._matchType},set:function(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}},{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0!==e.defaultFindMode&&(this.mode=e.defaultFindMode),void 0!==e.defaultFindMatchType&&(this.matchType=e.defaultFindMatchType)}},{key:"onDidSpliceModel",value:function(){this.widget&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}},{key:"render",value:function(){var e,t,i,n,o=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&o?null===(e=this.tree.options.showNotFoundMessage)||void 0===e||e?null===(t=this.widget)||void 0===t||t.showMessage({type:2,content:(0,z.NC)("not found","No elements found.")}):null===(i=this.widget)||void 0===i||i.showMessage({type:2}):null===(n=this.widget)||void 0===n||n.clearMessage()}},{key:"shouldAllowFocus",value:function(e){return!this.widget||!this.pattern||this._mode===A.Filter||(this.filter.totalCount>0&&this.filter.matchCount<=1||!N.CL.isDefault(e.filterData))}},{key:"layout",value:function(e){var t;this.width=e,null===(t=this.widget)||void 0===t||t.layout(e)}},{key:"dispose",value:function(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}]),e}();function V(e){var t=b.sD.Unknown;return(0,u.hasParentWithClass)(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=b.sD.Twistie:(0,u.hasParentWithClass)(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?t=b.sD.Element:(0,u.hasParentWithClass)(e.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(t=b.sD.Filter),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function W(e,t){t(e),e.children.forEach((function(e){return W(e,t)}))}var j=function(){function e(t,i){(0,d.Z)(this,e),this.getFirstViewElementWithTrait=t,this.identityProvider=i,this.nodes=[],this._onDidChange=new C.Q5,this.onDidChange=this._onDidChange.event}return(0,a.Z)(e,[{key:"nodeSet",get:function(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}},{key:"set",value:function(e,t){!(null===t||void 0===t?void 0:t.__forceEvent)&&(0,S.fS)(this.nodes,e)||this._set(e,!1,t)}},{key:"_set",value:function(e,t,i){if(this.nodes=(0,s.Z)(e),this.elements=void 0,this._nodeSet=void 0,!t){var n=this;this._onDidChange.fire({get elements(){return n.get()},browserEvent:i})}}},{key:"get",value:function(){return this.elements||(this.elements=this.nodes.map((function(e){return e.element}))),(0,s.Z)(this.elements)}},{key:"getNodes",value:function(){return this.nodes}},{key:"has",value:function(e){return this.nodeSet.has(e)}},{key:"onDidModelSplice",value:function(e){var t=this,i=e.insertedNodes,n=e.deletedNodes;if(!this.identityProvider){var o=this.createNodeSet(),r=function(e){return o.delete(e)};return n.forEach((function(e){return W(e,r)})),void this.set((0,s.Z)(o.values()))}var a=new Set,d=function(e){return a.add(t.identityProvider.getId(e.element).toString())};n.forEach((function(e){return W(e,d)}));var h=new Map,c=function(e){return h.set(t.identityProvider.getId(e.element).toString(),e)};i.forEach((function(e){return W(e,c)}));var u,v=[],f=(0,l.Z)(this.nodes);try{for(f.s();!(u=f.n()).done;){var p=u.value,m=this.identityProvider.getId(p.element).toString();if(a.has(m)){var g=h.get(m);g&&v.push(g)}else v.push(p)}}catch(b){f.e(b)}finally{f.f()}if(this.nodes.length>0&&0===v.length){var y=this.getFirstViewElementWithTrait();y&&v.push(y)}this._set(v,!0)}},{key:"createNodeSet",value:function(){var e,t=new Set,i=(0,l.Z)(this.nodes);try{for(i.s();!(e=i.n()).done;){var n=e.value;t.add(n)}}catch(o){i.e(o)}finally{i.f()}return t}}]),e}(),Y=function(e){(0,h.Z)(i,e);var t=(0,c.Z)(i);function i(e,n){var o;return(0,d.Z)(this,i),(o=t.call(this,e)).tree=n,o}return(0,a.Z)(i,[{key:"onViewPointer",value:function(e){if(!((0,m.iK)(e.browserEvent.target)||(0,m.cK)(e.browserEvent.target)||(0,m.hD)(e.browserEvent.target))){var t=e.element;if(!t)return(0,n.Z)((0,o.Z)(i.prototype),"onViewPointer",this).call(this,e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return(0,n.Z)((0,o.Z)(i.prototype),"onViewPointer",this).call(this,e);var s=e.browserEvent.target,r=s.classList.contains("monaco-tl-twistie")||s.classList.contains("monaco-icon-label")&&s.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,l=!1;if((l="function"===typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick)&&!r&&2!==e.browserEvent.detail)return(0,n.Z)((0,o.Z)(i.prototype),"onViewPointer",this).call(this,e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return(0,n.Z)((0,o.Z)(i.prototype),"onViewPointer",this).call(this,e);if(t.collapsible){var a=this.tree.getNodeLocation(t),d=e.browserEvent.altKey;if(this.tree.setFocus([a]),this.tree.toggleCollapsed(a,d),l&&r)return}(0,n.Z)((0,o.Z)(i.prototype),"onViewPointer",this).call(this,e)}}},{key:"onDoubleClick",value:function(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&(0,n.Z)((0,o.Z)(i.prototype),"onDoubleClick",this).call(this,e)}}]),i}(m.sx),U=function(e){(0,h.Z)(i,e);var t=(0,c.Z)(i);function i(e,n,o,s,r,l,a,h){var c;return(0,d.Z)(this,i),(c=t.call(this,e,n,o,s,h)).focusTrait=r,c.selectionTrait=l,c.anchorTrait=a,c}return(0,a.Z)(i,[{key:"createMouseController",value:function(e){return new Y(this,e.tree)}},{key:"splice",value:function(e,t){var r=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if((0,n.Z)((0,o.Z)(i.prototype),"splice",this).call(this,e,t,l),0!==l.length){var a,d=[],h=[];l.forEach((function(t,i){r.focusTrait.has(t)&&d.push(e+i),r.selectionTrait.has(t)&&h.push(e+i),r.anchorTrait.has(t)&&(a=e+i)})),d.length>0&&(0,n.Z)((0,o.Z)(i.prototype),"setFocus",this).call(this,(0,S.EB)([].concat((0,s.Z)((0,n.Z)((0,o.Z)(i.prototype),"getFocus",this).call(this)),d))),h.length>0&&(0,n.Z)((0,o.Z)(i.prototype),"setSelection",this).call(this,(0,S.EB)([].concat((0,s.Z)((0,n.Z)((0,o.Z)(i.prototype),"getSelection",this).call(this)),h))),"number"===typeof a&&(0,n.Z)((0,o.Z)(i.prototype),"setAnchor",this).call(this,a)}}},{key:"setFocus",value:function(e,t){var s=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,n.Z)((0,o.Z)(i.prototype),"setFocus",this).call(this,e,t),r||this.focusTrait.set(e.map((function(e){return s.element(e)})),t)}},{key:"setSelection",value:function(e,t){var s=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,n.Z)((0,o.Z)(i.prototype),"setSelection",this).call(this,e,t),r||this.selectionTrait.set(e.map((function(e){return s.element(e)})),t)}},{key:"setAnchor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,n.Z)((0,o.Z)(i.prototype),"setAnchor",this).call(this,e),t||("undefined"===typeof e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}]),i}(m.aV),G=function(){function e(t,i,n,o){var r,a=this,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,d.Z)(this,e),this._user=t,this._options=h,this.eventBufferer=new C.E7,this.onDidChangeFindOpenState=C.ju.None,this.disposables=new E.SL,this._onWillRefilter=new C.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new C.Q5;var c=new M(n),f=new C.ZD,p=new C.ZD,g=this.disposables.add(new O(p.event)),y=new k.r;this.renderers=o.map((function(e){return new R(e,(function(){return a.model}),f.event,g,y,h)}));var b,S,_,w,D=(0,l.Z)(this.renderers);try{for(D.s();!(b=D.n()).done;){var N=b.value;this.disposables.add(N)}}catch(I){D.e(I)}finally{D.f()}h.keyboardNavigationLabelProvider&&(S=new B(this,h.keyboardNavigationLabelProvider,h.filter),h=Object.assign(Object.assign({},h),{filter:S}),this.disposables.add(S)),this.focus=new j((function(){return a.view.getFocusedElements()[0]}),h.identityProvider),this.selection=new j((function(){return a.view.getSelectedElements()[0]}),h.identityProvider),this.anchor=new j((function(){return a.view.getAnchorElement()}),h.identityProvider),this.view=new U(t,i,c,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},(_=function(){return a.model},(w=h)&&Object.assign(Object.assign({},w),{identityProvider:w.identityProvider&&{getId:function(e){return w.identityProvider.getId(e.element)}},dnd:w.dnd&&new T(_,w.dnd),multipleSelectionController:w.multipleSelectionController&&{isSelectionSingleChangeEvent:function(e){return w.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},isSelectionRangeChangeEvent:function(e){return w.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))}},accessibilityProvider:w.accessibilityProvider&&Object.assign(Object.assign({},w.accessibilityProvider),{getSetSize:function(e){var t=_(),i=t.getNodeLocation(e),n=t.getParentNodeLocation(i);return t.getNode(n).visibleChildrenCount},getPosInSet:function(e){return e.visibleChildIndex+1},isChecked:w.accessibilityProvider&&w.accessibilityProvider.isChecked?function(e){return w.accessibilityProvider.isChecked(e.element)}:void 0,getRole:w.accessibilityProvider&&w.accessibilityProvider.getRole?function(e){return w.accessibilityProvider.getRole(e.element)}:function(){return"treeitem"},getAriaLabel:function(e){return w.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel:function(){return w.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:w.accessibilityProvider&&w.accessibilityProvider.getWidgetRole?function(){return w.accessibilityProvider.getWidgetRole()}:function(){return"tree"},getAriaLevel:w.accessibilityProvider&&w.accessibilityProvider.getAriaLevel?function(e){return w.accessibilityProvider.getAriaLevel(e.element)}:function(e){return e.depth},getActiveDescendantId:w.accessibilityProvider.getActiveDescendantId&&function(e){return w.accessibilityProvider.getActiveDescendantId(e.element)}}),keyboardNavigationLabelProvider:w.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},w.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(e){return w.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}})}))),{tree:this})),this.model=this.createModel(t,this.view,h),f.input=this.model.onDidChangeCollapseState;var P=C.ju.forEach(this.model.onDidSplice,(function(e){a.eventBufferer.bufferEvents((function(){a.focus.onDidModelSplice(e),a.selection.onDidModelSplice(e)}))}),this.disposables);if(P((function(){return null}),null,this.disposables),p.input=C.ju.chain(C.ju.any(P,this.focus.onDidChange,this.selection.onDidChange)).debounce((function(){return null}),0).map((function(){var e,t=new Set,i=(0,l.Z)(a.focus.getNodes());try{for(i.s();!(e=i.n()).done;){var n=e.value;t.add(n)}}catch(I){i.e(I)}finally{i.f()}var o,r=(0,l.Z)(a.selection.getNodes());try{for(r.s();!(o=r.n()).done;){var d=o.value;t.add(d)}}catch(I){r.e(I)}finally{r.f()}return(0,s.Z)(t.values())})).event,!1!==h.keyboardSupport){var L=C.ju.chain(this.view.onKeyDown).filter((function(e){return!(0,m.cK)(e.target)})).map((function(e){return new v.y(e)}));L.filter((function(e){return 15===e.keyCode})).on(this.onLeftArrow,this,this.disposables),L.filter((function(e){return 17===e.keyCode})).on(this.onRightArrow,this,this.disposables),L.filter((function(e){return 10===e.keyCode})).on(this.onSpace,this,this.disposables)}if((null===(r=h.findWidgetEnabled)||void 0===r||r)&&h.keyboardNavigationLabelProvider&&h.contextViewProvider){var z=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new H(this,this.model,this.view,S,h.contextViewProvider,z),this.focusNavigationFilter=function(e){return a.findController.shouldAllowFocus(e)},this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=C.ju.None,this.onDidChangeFindMatchType=C.ju.None;this.styleElement=(0,u.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Z.Always)}return(0,a.Z)(e,[{key:"onDidChangeFocus",get:function(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}},{key:"onDidChangeSelection",get:function(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}},{key:"onMouseDblClick",get:function(){return C.ju.filter(C.ju.map(this.view.onMouseDblClick,V),(function(e){return e.target!==b.sD.Filter}))}},{key:"onPointer",get:function(){return C.ju.map(this.view.onPointer,V)}},{key:"onDidFocus",get:function(){return this.view.onDidFocus}},{key:"onDidChangeModel",get:function(){return C.ju.signal(this.model.onDidSplice)}},{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"findMode",get:function(){var e,t;return null!==(t=null===(e=this.findController)||void 0===e?void 0:e.mode)&&void 0!==t?t:A.Highlight},set:function(e){this.findController&&(this.findController.mode=e)}},{key:"findMatchType",get:function(){var e,t;return null!==(t=null===(e=this.findController)||void 0===e?void 0:e.matchType)&&void 0!==t?t:F.Fuzzy},set:function(e){this.findController&&(this.findController.matchType=e)}},{key:"expandOnDoubleClick",get:function(){return"undefined"===typeof this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}},{key:"expandOnlyOnTwistieClick",get:function(){return"undefined"===typeof this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}},{key:"onDidDispose",get:function(){return this.view.onDidDispose}},{key:"updateOptions",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options=Object.assign(Object.assign({},this._options),t);var i,n=(0,l.Z)(this.renderers);try{for(n.s();!(i=n.n()).done;){i.value.updateOptions(t)}}catch(o){n.e(o)}finally{n.f()}this.view.updateOptions(this._options),null===(e=this.findController)||void 0===e||e.updateOptions(t),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Z.Always)}},{key:"options",get:function(){return this._options}},{key:"getHTMLElement",value:function(){return this.view.getHTMLElement()}},{key:"scrollTop",get:function(){return this.view.scrollTop},set:function(e){this.view.scrollTop=e}},{key:"domFocus",value:function(){this.view.domFocus()}},{key:"layout",value:function(e,t){var i;this.view.layout(e,t),(0,L.hj)(t)&&(null===(i=this.findController)||void 0===i||i.layout(t))}},{key:"style",value:function(e){var t=".".concat(this.view.domId),i=[];e.treeIndentGuidesStroke&&(i.push(".monaco-list".concat(t,":hover .monaco-tl-indent > .indent-guide, .monaco-list").concat(t,".always .monaco-tl-indent > .indent-guide  { border-color: ").concat(e.treeInactiveIndentGuidesStroke,"; }")),i.push(".monaco-list".concat(t," .monaco-tl-indent > .indent-guide.active { border-color: ").concat(e.treeIndentGuidesStroke,"; }"))),this.styleElement.textContent=i.join("\n"),this.view.style(e)}},{key:"getParentElement",value:function(e){var t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}},{key:"getFirstElementChild",value:function(e){return this.model.getFirstElementChild(e)}},{key:"getNode",value:function(e){return this.model.getNode(e)}},{key:"getNodeLocation",value:function(e){return this.model.getNodeLocation(e)}},{key:"collapse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.model.setCollapsed(e,!0,t)}},{key:"expand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.model.setCollapsed(e,!1,t)}},{key:"toggleCollapsed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.model.setCollapsed(e,void 0,t)}},{key:"isCollapsible",value:function(e){return this.model.isCollapsible(e)}},{key:"setCollapsible",value:function(e,t){return this.model.setCollapsible(e,t)}},{key:"isCollapsed",value:function(e){return this.model.isCollapsed(e)}},{key:"refilter",value:function(){this._onWillRefilter.fire(void 0),this.model.refilter()}},{key:"setSelection",value:function(e,t){var i=this,n=e.map((function(e){return i.model.getNode(e)}));this.selection.set(n,t);var o=e.map((function(e){return i.model.getListIndex(e)})).filter((function(e){return e>-1}));this.view.setSelection(o,t,!0)}},{key:"getSelection",value:function(){return this.selection.get()}},{key:"setFocus",value:function(e,t){var i=this,n=e.map((function(e){return i.model.getNode(e)}));this.focus.set(n,t);var o=e.map((function(e){return i.model.getListIndex(e)})).filter((function(e){return e>-1}));this.view.setFocus(o,t,!0)}},{key:"getFocus",value:function(){return this.focus.get()}},{key:"reveal",value:function(e,t){this.model.expandTo(e);var i=this.model.getListIndex(e);-1!==i&&this.view.reveal(i,t)}},{key:"onLeftArrow",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){var o=this.model.getParentNodeLocation(n);if(!o)return;var s=this.model.getListIndex(o);this.view.reveal(s),this.view.setFocus([s])}}}},{key:"onRightArrow",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some((function(e){return e.visible})))return;var o=this.view.getFocus(),s=(0,r.Z)(o,1)[0]+1;this.view.reveal(s),this.view.setFocus([s])}}}},{key:"onSpace",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}}},{key:"dispose",value:function(){(0,E.B9)(this.disposables),this.view.dispose()}}]),e}()},32290:function(e,t,i){i.d(t,{c:function(){return A},h:function(){return H}});var n=i(11752),o=i(61120),s=i(37762),r=i(74165),l=i(60136),a=i(27277),d=i(93433),h=i(15671),c=i(43144),u=i(31374),v=i(37799),f=i(55567),p=i(75597),m=i(38351),g=i(1670),y=i(34922),b=i(95696),S=i(61002),_=i(3318),w=i(79620),D=i(82927),k=i(91189),C=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{a(n.next(e))}catch(t){s(t)}}function l(e){try{a(n.throw(e))}catch(t){s(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,l)}a((n=n.apply(e,t||[])).next())}))};function N(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function E(e,t){return!!t.parent&&(t.parent===e||E(e,t.parent))}function P(e,t){return e===t||E(e,t)||E(t,e)}var L=function(){function e(t){(0,h.Z)(this,e),this.node=t}return(0,c.Z)(e,[{key:"element",get:function(){return this.node.element.element}},{key:"children",get:function(){return this.node.children.map((function(t){return new e(t)}))}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),e}(),z=function(){function e(t,i,n){(0,h.Z)(this,e),this.renderer=t,this.nodeMapper=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.templateId=t.templateId}return(0,c.Z)(e,[{key:"renderTemplate",value:function(e){return{templateData:this.renderer.renderTemplate(e)}}},{key:"renderElement",value:function(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}},{key:"renderTwistie",value:function(e,t){var i,n;return e.slow?((i=t.classList).add.apply(i,(0,d.Z)(b.k.asClassNameArray(y.l.treeItemLoading))),!0):((n=t.classList).remove.apply(n,(0,d.Z)(b.k.asClassNameArray(y.l.treeItemLoading))),!1)}},{key:"disposeElement",value:function(e,t,i,n){var o,s;null===(s=(o=this.renderer).disposeElement)||void 0===s||s.call(o,this.nodeMapper.map(e),t,i.templateData,n)}},{key:"disposeTemplate",value:function(e){this.renderer.disposeTemplate(e.templateData)}},{key:"dispose",value:function(){this.renderedNodes.clear()}}]),e}();function I(e){return{browserEvent:e.browserEvent,elements:e.elements.map((function(e){return e.element}))}}function x(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}var T=function(e){(0,l.Z)(i,e);var t=(0,a.Z)(i);function i(e){var n;return(0,h.Z)(this,i),(n=t.call(this,e.elements.map((function(e){return e.element})))).data=e,n}return(0,c.Z)(i)}(u.kX);function Z(e){return e instanceof u.kX?new T(e):e}var M=function(){function e(t){(0,h.Z)(this,e),this.dnd=t}return(0,c.Z)(e,[{key:"getDragURI",value:function(e){return this.dnd.getDragURI(e.element)}},{key:"getDragLabel",value:function(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((function(e){return e.element})),t)}},{key:"onDragStart",value:function(e,t){var i,n;null===(n=(i=this.dnd).onDragStart)||void 0===n||n.call(i,Z(e),t)}},{key:"onDragOver",value:function(e,t,i,n){return this.dnd.onDragOver(Z(e),t&&t.element,i,n)}},{key:"drop",value:function(e,t,i,n){this.dnd.drop(Z(e),t&&t.element,i,n)}},{key:"onDragEnd",value:function(e){var t,i;null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}}]),e}();function O(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:function(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new M(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:function(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},isSelectionRangeChangeEvent:function(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?function(t){return e.accessibilityProvider.getRole(t.element)}:function(){return"treeitem"},isChecked:e.accessibilityProvider.isChecked?function(t){var i;return!!(null===(i=e.accessibilityProvider)||void 0===i?void 0:i.isChecked(t.element))}:void 0,getAriaLabel:function(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel:function(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider.getWidgetRole?function(){return e.accessibilityProvider.getWidgetRole()}:function(){return"tree"},getAriaLevel:e.accessibilityProvider.getAriaLevel&&function(t){return e.accessibilityProvider.getAriaLevel(t.element)},getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&function(t){return e.accessibilityProvider.getActiveDescendantId(t.element)}}),filter:e.filter&&{filter:function(t,i){return e.filter.filter(t.element,i)}},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}),sorter:void 0,expandOnlyOnTwistieClick:"undefined"===typeof e.expandOnlyOnTwistieClick?void 0:"function"!==typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:function(t){return e.expandOnlyOnTwistieClick(t.element)},defaultFindVisibility:function(t){return t.hasChildren&&t.stale?1:"number"===typeof e.defaultFindVisibility?e.defaultFindVisibility:"undefined"===typeof e.defaultFindVisibility?2:e.defaultFindVisibility(t.element)}})}function R(e,t){t(e),e.children.forEach((function(e){return R(e,t)}))}var A=function(){function e(t,i,n,o,s){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};(0,h.Z)(this,e),this.user=t,this.dataSource=s,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new _.Q5,this._onDidChangeNodeSlowState=new _.Q5,this.nodeMapper=new m.VA((function(e){return new L(e)})),this.disposables=new D.SL,this.identityProvider=r.identityProvider,this.autoExpandSingleChildren="undefined"!==typeof r.autoExpandSingleChildren&&r.autoExpandSingleChildren,this.sorter=r.sorter,this.collapseByDefault=r.collapseByDefault,this.tree=this.createTree(t,i,n,o,r),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=N({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}return(0,c.Z)(e,[{key:"onDidChangeFocus",get:function(){return _.ju.map(this.tree.onDidChangeFocus,I)}},{key:"onDidChangeSelection",get:function(){return _.ju.map(this.tree.onDidChangeSelection,I)}},{key:"onMouseDblClick",get:function(){return _.ju.map(this.tree.onMouseDblClick,x)}},{key:"onPointer",get:function(){return _.ju.map(this.tree.onPointer,x)}},{key:"onDidFocus",get:function(){return this.tree.onDidFocus}},{key:"onDidChangeModel",get:function(){return this.tree.onDidChangeModel}},{key:"onDidChangeCollapseState",get:function(){return this.tree.onDidChangeCollapseState}},{key:"onDidChangeFindOpenState",get:function(){return this.tree.onDidChangeFindOpenState}},{key:"onDidDispose",get:function(){return this.tree.onDidDispose}},{key:"createTree",value:function(e,t,i,n,o){var s=this,r=new v.cz(i),l=n.map((function(e){return new z(e,s.nodeMapper,s._onDidChangeNodeSlowState.event)})),a=O(o)||{};return new p.H(e,t,r,l,a)}},{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tree.updateOptions(e)}},{key:"getHTMLElement",value:function(){return this.tree.getHTMLElement()}},{key:"scrollTop",get:function(){return this.tree.scrollTop},set:function(e){this.tree.scrollTop=e}},{key:"domFocus",value:function(){this.tree.domFocus()}},{key:"layout",value:function(e,t){this.tree.layout(e,t)}},{key:"style",value:function(e){this.tree.style(e)}},{key:"getInput",value:function(){return this.root.element}},{key:"setInput",value:function(e,t){return C(this,void 0,void 0,(0,r.Z)().mark((function i(){var n;return(0,r.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return this.refreshPromises.forEach((function(e){return e.cancel()})),this.refreshPromises.clear(),this.root.element=e,n=t&&{viewState:t,focus:[],selection:[]},i.next=6,this._updateChildren(e,!0,!1,n);case 6:n&&(this.tree.setFocus(n.focus),this.tree.setSelection(n.selection)),t&&"number"===typeof t.scrollTop&&(this.scrollTop=t.scrollTop);case 8:case"end":return i.stop()}}),i,this)})))}},{key:"_updateChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return C(this,void 0,void 0,(0,r.Z)().mark((function s(){var l;return(0,r.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if("undefined"!==typeof this.root.element){s.next=2;break}throw new m.ac(this.user,"Tree input not set");case 2:if(!this.root.refreshPromise){s.next=7;break}return s.next=5,this.root.refreshPromise;case 5:return s.next=7,_.ju.toPromise(this._onDidRender.event);case 7:return l=this.getDataNode(e),s.next=10,this.refreshAndRenderNode(l,t,n,o);case 10:if(i)try{this.tree.rerender(l)}catch(r){}case 11:case"end":return s.stop()}}),s,this)})))}},{key:"rerender",value:function(e){if(void 0!==e&&e!==this.root.element){var t=this.getDataNode(e);this.tree.rerender(t)}else this.tree.rerender()}},{key:"getNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element,t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}},{key:"collapse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}},{key:"expand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return C(this,void 0,void 0,(0,r.Z)().mark((function i(){var n,o;return(0,r.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("undefined"!==typeof this.root.element){i.next=2;break}throw new m.ac(this.user,"Tree input not set");case 2:if(!this.root.refreshPromise){i.next=7;break}return i.next=5,this.root.refreshPromise;case 5:return i.next=7,_.ju.toPromise(this._onDidRender.event);case 7:if(n=this.getDataNode(e),!this.tree.hasElement(n)||this.tree.isCollapsible(n)){i.next=10;break}return i.abrupt("return",!1);case 10:if(!n.refreshPromise){i.next=15;break}return i.next=13,this.root.refreshPromise;case 13:return i.next=15,_.ju.toPromise(this._onDidRender.event);case 15:if(n===this.root||n.refreshPromise||this.tree.isCollapsed(n)){i.next=17;break}return i.abrupt("return",!1);case 17:if(o=this.tree.expand(n===this.root?null:n,t),!n.refreshPromise){i.next=23;break}return i.next=21,this.root.refreshPromise;case 21:return i.next=23,_.ju.toPromise(this._onDidRender.event);case 23:return i.abrupt("return",o);case 24:case"end":return i.stop()}}),i,this)})))}},{key:"setSelection",value:function(e,t){var i=this,n=e.map((function(e){return i.getDataNode(e)}));this.tree.setSelection(n,t)}},{key:"getSelection",value:function(){return this.tree.getSelection().map((function(e){return e.element}))}},{key:"setFocus",value:function(e,t){var i=this,n=e.map((function(e){return i.getDataNode(e)}));this.tree.setFocus(n,t)}},{key:"getFocus",value:function(){return this.tree.getFocus().map((function(e){return e.element}))}},{key:"reveal",value:function(e,t){this.tree.reveal(this.getDataNode(e),t)}},{key:"getParentElement",value:function(e){var t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}},{key:"getFirstElementChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element,t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}},{key:"getDataNode",value:function(e){var t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new m.ac(this.user,"Data tree node not found: ".concat(e));return t}},{key:"refreshAndRenderNode",value:function(e,t,i,n){return C(this,void 0,void 0,(0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.refreshNode(e,t,i);case 2:this.render(e,i,n);case 3:case"end":return o.stop()}}),o,this)})))}},{key:"refreshNode",value:function(e,t,i){return C(this,void 0,void 0,(0,r.Z)().mark((function n(){var o,s=this;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.subTreeRefreshPromises.forEach((function(n,r){!o&&P(r,e)&&(o=n.then((function(){return s.refreshNode(e,t,i)})))})),!o){n.next=3;break}return n.abrupt("return",o);case 3:if(e===this.root){n.next=9;break}if(!this.tree.getNode(e).collapsed){n.next=9;break}return e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0,n.abrupt("return");case 9:return n.abrupt("return",this.doRefreshSubTree(e,t,i));case 10:case"end":return n.stop()}}),n,this)})))}},{key:"doRefreshSubTree",value:function(e,t,i){return C(this,void 0,void 0,(0,r.Z)().mark((function n(){var o,s,l=this;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.refreshPromise=new Promise((function(e){return o=e})),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((function(){e.refreshPromise=void 0,l.subTreeRefreshPromises.delete(e)})),n.prev=3,n.next=6,this.doRefreshNode(e,t,i);case 6:return s=n.sent,e.stale=!1,n.next=10,g.jT.settled(s.map((function(e){return l.doRefreshSubTree(e,t,i)})));case 10:return n.prev=10,o(),n.finish(10);case 13:case"end":return n.stop()}}),n,this,[[3,,10,13]])})))}},{key:"doRefreshNode",value:function(e,t,i){return C(this,void 0,void 0,(0,r.Z)().mark((function n(){var o,s,l,a,d=this;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren?(s=this.doGetChildren(e),(0,k.TW)(s)?o=Promise.resolve(s):((l=(0,g.Vs)(800)).then((function(){e.slow=!0,d._onDidChangeNodeSlowState.fire(e)}),(function(e){return null})),o=s.finally((function(){return l.cancel()})))):o=Promise.resolve(w.$.empty()),n.prev=2,n.next=5,o;case 5:return a=n.sent,n.abrupt("return",this.setChildren(e,a,t,i));case 9:if(n.prev=9,n.t0=n.catch(2),e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),!(0,S.n2)(n.t0)){n.next=14;break}return n.abrupt("return",[]);case 14:throw n.t0;case 15:return n.prev=15,e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e)),n.finish(15);case 18:case"end":return n.stop()}}),n,this,[[2,9,15,18]])})))}},{key:"doGetChildren",value:function(e){var t=this,i=this.refreshPromises.get(e);if(i)return i;var n=this.dataSource.getChildren(e.element);return(0,k.TW)(n)?this.processChildren(n):(i=(0,g.PG)((function(){return C(t,void 0,void 0,(0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,n;case 3:return e.t1=e.sent,e.abrupt("return",e.t0.processChildren.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})))})),this.refreshPromises.set(e,i),i.finally((function(){t.refreshPromises.delete(e)})))}},{key:"_onDidChangeCollapseState",value:function(e){var t=e.node,i=e.deep;null!==t.element&&!t.collapsed&&t.element.stale&&(i?this.collapse(t.element.element):this.refreshAndRenderNode(t.element,!1).catch(S.dL))}},{key:"setChildren",value:function(e,t,i,n){var o,r=this,l=(0,d.Z)(t);if(0===e.children.length&&0===l.length)return[];var a,h=new Map,c=new Map,u=(0,s.Z)(e.children);try{for(u.s();!(a=u.n()).done;){var v=a.value;if(h.set(v.element,v),this.identityProvider){var f=this.tree.isCollapsed(v);c.set(v.id,{node:v,collapsed:f})}}}catch(w){u.e(w)}finally{u.f()}var p,m=[],g=l.map((function(t){var o=!!r.dataSource.hasChildren(t);if(!r.identityProvider){var s=N({element:t,parent:e,hasChildren:o});return o&&r.collapseByDefault&&!r.collapseByDefault(t)&&(s.collapsedByDefault=!1,m.push(s)),s}var l=r.identityProvider.getId(t).toString(),a=c.get(l);if(a){var d=a.node;return h.delete(d.element),r.nodes.delete(d.element),r.nodes.set(t,d),d.element=t,d.hasChildren=o,i?a.collapsed?(d.children.forEach((function(e){return R(e,(function(e){return r.nodes.delete(e.element)}))})),d.children.splice(0,d.children.length),d.stale=!0):m.push(d):o&&r.collapseByDefault&&!r.collapseByDefault(t)&&(d.collapsedByDefault=!1,m.push(d)),d}var u=N({element:t,parent:e,id:l,hasChildren:o});return n&&n.viewState.focus&&n.viewState.focus.indexOf(l)>-1&&n.focus.push(u),n&&n.viewState.selection&&n.viewState.selection.indexOf(l)>-1&&n.selection.push(u),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(l)>-1?m.push(u):o&&r.collapseByDefault&&!r.collapseByDefault(t)&&(u.collapsedByDefault=!1,m.push(u)),u})),y=(0,s.Z)(h.values());try{for(y.s();!(p=y.n()).done;){R(p.value,(function(e){return r.nodes.delete(e.element)}))}}catch(w){y.e(w)}finally{y.f()}var b,S=(0,s.Z)(g);try{for(S.s();!(b=S.n()).done;){var _=b.value;this.nodes.set(_.element,_)}}catch(w){S.e(w)}finally{S.f()}return(o=e.children).splice.apply(o,[0,e.children.length].concat((0,d.Z)(g))),e!==this.root&&this.autoExpandSingleChildren&&1===g.length&&0===m.length&&(g[0].collapsedByDefault=!1,m.push(g[0])),m}},{key:"render",value:function(e,t,i){var n=this,o=e.children.map((function(e){return n.asTreeElement(e,t)})),s=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId:function(e){return i.diffIdentityProvider.getId(e.element)}}});this.tree.setChildren(e===this.root?null:e,o,s),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}},{key:"asTreeElement",value:function(e,t){var i,n=this;return e.stale?{element:e,collapsible:e.hasChildren,collapsed:!0}:(i=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?w.$.map(e.children,(function(e){return n.asTreeElement(e,t)})):[],collapsible:e.hasChildren,collapsed:i})}},{key:"processChildren",value:function(e){return this.sorter&&(e=(0,d.Z)(e).sort(this.sorter.compare.bind(this.sorter))),e}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}(),F=function(){function e(t){(0,h.Z)(this,e),this.node=t}return(0,c.Z)(e,[{key:"element",get:function(){return{elements:this.node.element.elements.map((function(e){return e.element})),incompressible:this.node.element.incompressible}}},{key:"children",get:function(){return this.node.children.map((function(t){return new e(t)}))}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),e}(),B=function(){function e(t,i,n,o){(0,h.Z)(this,e),this.renderer=t,this.nodeMapper=i,this.compressibleNodeMapperProvider=n,this.onDidChangeTwistieState=o,this.renderedNodes=new Map,this.disposables=[],this.templateId=t.templateId}return(0,c.Z)(e,[{key:"renderTemplate",value:function(e){return{templateData:this.renderer.renderTemplate(e)}}},{key:"renderElement",value:function(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}},{key:"renderCompressedElements",value:function(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}},{key:"renderTwistie",value:function(e,t){var i,n;return e.slow?((i=t.classList).add.apply(i,(0,d.Z)(b.k.asClassNameArray(y.l.treeItemLoading))),!0):((n=t.classList).remove.apply(n,(0,d.Z)(b.k.asClassNameArray(y.l.treeItemLoading))),!1)}},{key:"disposeElement",value:function(e,t,i,n){var o,s;null===(s=(o=this.renderer).disposeElement)||void 0===s||s.call(o,this.nodeMapper.map(e),t,i.templateData,n)}},{key:"disposeCompressedElements",value:function(e,t,i,n){var o,s;null===(s=(o=this.renderer).disposeCompressedElements)||void 0===s||s.call(o,this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}},{key:"disposeTemplate",value:function(e){this.renderer.disposeTemplate(e.templateData)}},{key:"dispose",value:function(){this.renderedNodes.clear(),this.disposables=(0,D.B9)(this.disposables)}}]),e}();var H=function(e){(0,l.Z)(i,e);var t=(0,a.Z)(i);function i(e,n,o,s,r,l){var a,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return(0,h.Z)(this,i),(a=t.call(this,e,n,o,r,l,d)).compressionDelegate=s,a.compressibleNodeMapper=new m.VA((function(e){return new F(e)})),a.filter=d.filter,a}return(0,c.Z)(i,[{key:"createTree",value:function(e,t,i,n,o){var s=this,r=new v.cz(i),l=n.map((function(e){return new B(e,s.nodeMapper,(function(){return s.compressibleNodeMapper}),s._onDidChangeNodeSlowState.event)})),a=function(e){var t=e&&O(e);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:function(t){return e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((function(e){return e.element})))}})})}(o)||{};return new p.h(e,t,r,l,a)}},{key:"asTreeElement",value:function(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},(0,n.Z)((0,o.Z)(i.prototype),"asTreeElement",this).call(this,e,t))}},{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tree.updateOptions(e)}},{key:"render",value:function(e,t){var r=this;if(!this.identityProvider)return(0,n.Z)((0,o.Z)(i.prototype),"render",this).call(this,e,t);var l=function(e){return r.identityProvider.getId(e).toString()},a=function(e){var t,i=new Set,n=(0,s.Z)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,a=r.tree.getCompressedTreeNode(o===r.root?null:o);if(a.element){var d,h=(0,s.Z)(a.element.elements);try{for(h.s();!(d=h.n()).done;){var c=d.value;i.add(l(c.element))}}catch(u){h.e(u)}finally{h.f()}}}}catch(u){n.e(u)}finally{n.f()}return i},d=a(this.tree.getSelection()),h=a(this.tree.getFocus());(0,n.Z)((0,o.Z)(i.prototype),"render",this).call(this,e,t);var c=this.getSelection(),u=!1,v=this.getFocus(),f=!1;!function e(t){var i=t.element;if(i)for(var n=0;n<i.elements.length;n++){var o=l(i.elements[n].element),s=i.elements[i.elements.length-1].element;d.has(o)&&-1===c.indexOf(s)&&(c.push(s),u=!0),h.has(o)&&-1===v.indexOf(s)&&(v.push(s),f=!0)}t.children.forEach(e)}(this.tree.getCompressedTreeNode(e===this.root?null:e)),u&&this.setSelection(c),f&&this.setFocus(v)}},{key:"processChildren",value:function(e){var t=this;return this.filter&&(e=w.$.filter(e,(function(e){var i,n=t.filter.filter(e,1),o="boolean"===typeof(i=n)?i?1:0:(0,f.gB)(i)?(0,f.aG)(i.visibility):(0,f.aG)(i);if(2===o)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===o}))),(0,n.Z)((0,o.Z)(i.prototype),"processChildren",this).call(this,e)}}]),i}(A)},12960:function(e,t,i){i.d(t,{u:function(){return d}});var n=i(15671),o=i(43144),s=i(60136),r=i(27277),l=i(37799),a=i(88011),d=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(e,o,s,r,l){var a,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return(0,n.Z)(this,i),(a=t.call(this,e,o,s,r,d)).user=e,a.dataSource=l,a.identityProvider=d.identityProvider,a}return(0,o.Z)(i,[{key:"createModel",value:function(e,t,i){return new a.F(e,t,i)}}]),i}(l.CH)},55567:function(e,t,i){i.d(t,{X:function(){return y},aG:function(){return m},gB:function(){return p}});var n=i(84506),o=i(37762),s=i(93433),r=i(15671),l=i(43144),a=i(38351),d=i(85509),h=i(1670),c=i(60186),u=i(25365),v=i(3318),f=i(79620);function p(e){return"object"===typeof e&&"visibility"in e&&"data"in e}function m(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function g(e){return"boolean"===typeof e.collapsible}var y=function(){function e(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,r.Z)(this,e),this.user=t,this.list=i,this.rootRef=[],this.eventBufferer=new v.E7,this._onDidChangeCollapseState=new v.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new v.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new v.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new h.vp(c.n),this.collapseByDefault="undefined"!==typeof o.collapseByDefault&&o.collapseByDefault,this.filter=o.filter,this.autoExpandSingleChildren="undefined"!==typeof o.autoExpandSingleChildren&&o.autoExpandSingleChildren,this.root={parent:void 0,element:n,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}return(0,l.Z)(e,[{key:"splice",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.$.empty(),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(0===e.length)throw new a.ac(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}},{key:"spliceSmart",value:function(e,t,i,n,r,l){var a,d=this;void 0===n&&(n=f.$.empty()),void 0===l&&(l=null!==(a=r.diffDepth)&&void 0!==a?a:0);var h=this.getParentNodeWithListIndex(t).parentNode;if(!h.lastDiffIds)return this.spliceSimple(t,i,n,r);var c=(0,s.Z)(n),v=t[t.length-1],p=new u.Hs({getElements:function(){return h.lastDiffIds}},{getElements:function(){return[].concat((0,s.Z)(h.children.slice(0,v)),(0,s.Z)(c),(0,s.Z)(h.children.slice(v+i))).map((function(t){return e.getId(t.element).toString()}))}}).ComputeDiff(!1);if(p.quitEarly)return h.lastDiffIds=void 0,this.spliceSimple(t,i,c,r);var m,g=t.slice(0,-1),y=function(t,i,n){if(l>0)for(var o=0;o<n;o++)t--,i--,d.spliceSmart(e,[].concat((0,s.Z)(g),[t,0]),Number.MAX_SAFE_INTEGER,c[i].children,r,l-1)},b=Math.min(h.children.length,v+i),S=c.length,_=(0,o.Z)(p.changes.sort((function(e,t){return t.originalStart-e.originalStart})));try{for(_.s();!(m=_.n()).done;){var w=m.value;y(b,S,b-(w.originalStart+w.originalLength)),b=w.originalStart,S=w.modifiedStart-v,this.spliceSimple([].concat((0,s.Z)(g),[b]),w.originalLength,f.$.slice(c,S,S+w.modifiedLength),r)}}catch(D){_.e(D)}finally{_.f()}y(b,S,b)}},{key:"spliceSimple",value:function(e,t){for(var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.$.empty(),s=arguments.length>3?arguments[3]:void 0,r=s.onDidCreateNode,l=s.onDidDeleteNode,a=s.diffIdentityProvider,h=this.getParentNodeWithListIndex(e),c=h.parentNode,u=h.listIndex,v=h.revealed,p=h.visible,m=[],g=f.$.map(n,(function(e){return i.createTreeNode(e,c,c.visible?1:0,v,m,r)})),y=e[e.length-1],b=c.children.length>0,S=0,_=y;_>=0&&_<c.children.length;_--){var w=c.children[_];if(w.visible){S=w.visibleChildIndex;break}}var D,k=[],C=0,N=0,E=(0,o.Z)(g);try{for(E.s();!(D=E.n()).done;){var P=D.value;k.push(P),N+=P.renderNodeCount,P.visible&&(P.visibleChildIndex=S+C++)}}catch(A){E.e(A)}finally{E.f()}var L=(0,d.db)(c.children,y,t,k);a?c.lastDiffIds?(0,d.db)(c.lastDiffIds,y,t,k.map((function(e){return a.getId(e.element).toString()}))):c.lastDiffIds=c.children.map((function(e){return a.getId(e.element).toString()})):c.lastDiffIds=void 0;var z,I=0,x=(0,o.Z)(L);try{for(x.s();!(z=x.n()).done;){z.value.visible&&I++}}catch(A){x.e(A)}finally{x.f()}if(0!==I)for(var T=y+k.length;T<c.children.length;T++){var Z=c.children[T];Z.visible&&(Z.visibleChildIndex-=I)}if(c.visibleChildrenCount+=C-I,v&&p){var M=L.reduce((function(e,t){return e+(t.visible?t.renderNodeCount:0)}),0);this._updateAncestorsRenderNodeCount(c,N-M),this.list.splice(u,M,m)}if(L.length>0&&l){L.forEach((function e(t){l(t),t.children.forEach(e)}))}this._onDidSplice.fire({insertedNodes:k,deletedNodes:L});var O=c.children.length>0;b!==O&&this.setCollapsible(e.slice(0,-1),O);for(var R=c;R;){if(2===R.visibility){this.refilterDelayer.trigger((function(){return i.refilter()}));break}R=R.parent}}},{key:"rerender",value:function(e){if(0===e.length)throw new a.ac(this.user,"Invalid tree location");var t=this.getTreeNodeWithListIndex(e),i=t.node,n=t.listIndex,o=t.revealed;i.visible&&o&&this.list.splice(n,1,[i])}},{key:"has",value:function(e){return this.hasTreeNode(e)}},{key:"getListIndex",value:function(e){var t=this.getTreeNodeWithListIndex(e),i=t.listIndex,n=t.visible,o=t.revealed;return n&&o?i:-1}},{key:"getListRenderCount",value:function(e){return this.getTreeNode(e).renderNodeCount}},{key:"isCollapsible",value:function(e){return this.getTreeNode(e).collapsible}},{key:"setCollapsible",value:function(e,t){var i=this,n=this.getTreeNode(e);"undefined"===typeof t&&(t=!n.collapsible);var o={collapsible:t};return this.eventBufferer.bufferEvents((function(){return i._setCollapseState(e,o)}))}},{key:"isCollapsed",value:function(e){return this.getTreeNode(e).collapsed}},{key:"setCollapsed",value:function(e,t,i){var n=this,o=this.getTreeNode(e);"undefined"===typeof t&&(t=!o.collapsed);var s={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents((function(){return n._setCollapseState(e,s)}))}},{key:"_setCollapseState",value:function(e,t){var i=this.getTreeNodeWithListIndex(e),n=i.node,o=i.listIndex,r=i.revealed,l=this._setListNodeCollapseState(n,o,r,t);if(n!==this.root&&this.autoExpandSingleChildren&&l&&!g(t)&&n.collapsible&&!n.collapsed&&!t.recursive){for(var a=-1,d=0;d<n.children.length;d++){if(n.children[d].visible){if(a>-1){a=-1;break}a=d}}a>-1&&this._setCollapseState([].concat((0,s.Z)(e),[a]),t)}return l}},{key:"_setListNodeCollapseState",value:function(e,t,i,n){var o=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!o)return o;var s=e.renderNodeCount,r=this.updateNodeAfterCollapseChange(e),l=s-(-1===t?0:1);return this.list.splice(t+1,l,r.slice(1)),o}},{key:"_setNodeCollapseState",value:function(e,t,i){var n;if(e===this.root?n=!1:(g(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!g(t)&&t.recursive){var s,r=(0,o.Z)(e.children);try{for(r.s();!(s=r.n()).done;){var l=s.value;n=this._setNodeCollapseState(l,t,!0)||n}}catch(a){r.e(a)}finally{r.f()}}return n}},{key:"expandTo",value:function(e){var t=this;this.eventBufferer.bufferEvents((function(){for(var i=t.getTreeNode(e);i.parent;)i=i.parent,e=e.slice(0,e.length-1),i.collapsed&&t._setCollapseState(e,{collapsed:!1,recursive:!1})}))}},{key:"refilter",value:function(){var e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}},{key:"createTreeNode",value:function(e,t,i,n,s,r){var l={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"===typeof e.collapsible?e.collapsible:"undefined"!==typeof e.collapsed,collapsed:"undefined"===typeof e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(l,i);l.visibility=a,n&&s.push(l);var d,h=e.children||f.$.empty(),c=n&&0!==a&&!l.collapsed,u=0,v=1,p=(0,o.Z)(h);try{for(p.s();!(d=p.n()).done;){var m=d.value,g=this.createTreeNode(m,l,a,c,s,r);l.children.push(g),v+=g.renderNodeCount,g.visible&&(g.visibleChildIndex=u++)}}catch(y){p.e(y)}finally{p.f()}return l.collapsible=l.collapsible||l.children.length>0,l.visibleChildrenCount=u,l.visible=2===a?u>0:1===a,l.visible?l.collapsed||(l.renderNodeCount=v):(l.renderNodeCount=0,n&&s.pop()),null===r||void 0===r||r(l),l}},{key:"updateNodeAfterCollapseChange",value:function(e){var t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}},{key:"_updateNodeAfterCollapseChange",value:function(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed){var i,n=(0,o.Z)(e.children);try{for(n.s();!(i=n.n()).done;){var s=i.value;e.renderNodeCount+=this._updateNodeAfterCollapseChange(s,t)}}catch(r){n.e(r)}finally{n.f()}}return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}},{key:"updateNodeAfterFilterChange",value:function(e){var t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}},{key:"_updateNodeAfterFilterChange",value:function(e,t,i){var n,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e!==this.root){if(0===(n=this._filterNode(e,t)))return e.visible=!1,e.renderNodeCount=0,!1;s&&i.push(e)}var r=i.length;e.renderNodeCount=e===this.root?0:1;var l=!1;if(e.collapsed&&0===n)e.visibleChildrenCount=0;else{var a,d=0,h=(0,o.Z)(e.children);try{for(h.s();!(a=h.n()).done;){var c=a.value;l=this._updateNodeAfterFilterChange(c,n,i,s&&!e.collapsed)||l,c.visible&&(c.visibleChildIndex=d++)}}catch(u){h.e(u)}finally{h.f()}e.visibleChildrenCount=d}return e!==this.root&&(e.visible=2===n?l:1===n,e.visibility=n),e.visible?e.collapsed||(e.renderNodeCount+=i.length-r):(e.renderNodeCount=0,s&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}},{key:"_updateAncestorsRenderNodeCount",value:function(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}},{key:"_filterNode",value:function(e,t){var i=this.filter?this.filter.filter(e.element,t):1;return"boolean"===typeof i?(e.filterData=void 0,i?1:0):p(i)?(e.filterData=i.data,m(i.visibility)):(e.filterData=void 0,m(i))}},{key:"hasTreeNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root;if(!e||0===e.length)return!0;var i=(0,n.Z)(e),o=i[0],s=i.slice(1);return!(o<0||o>t.children.length)&&this.hasTreeNode(s,t.children[o])}},{key:"getTreeNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root;if(!e||0===e.length)return t;var i=(0,n.Z)(e),o=i[0],s=i.slice(1);if(o<0||o>t.children.length)throw new a.ac(this.user,"Invalid tree location");return this.getTreeNode(s,t.children[o])}},{key:"getTreeNodeWithListIndex",value:function(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var t=this.getParentNodeWithListIndex(e),i=t.parentNode,n=t.listIndex,o=t.revealed,s=t.visible,r=e[e.length-1];if(r<0||r>i.children.length)throw new a.ac(this.user,"Invalid tree location");var l=i.children[r];return{node:l,listIndex:n,revealed:o,visible:s&&l.visible}}},{key:"getParentNodeWithListIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=(0,n.Z)(e),l=r[0],d=r.slice(1);if(l<0||l>t.children.length)throw new a.ac(this.user,"Invalid tree location");for(var h=0;h<l;h++)i+=t.children[h].renderNodeCount;return o=o&&!t.collapsed,s=s&&t.visible,0===d.length?{parentNode:t,listIndex:i,revealed:o,visible:s}:this.getParentNodeWithListIndex(d,t.children[l],i+1,o,s)}},{key:"getNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.getTreeNode(e)}},{key:"getNodeLocation",value:function(e){for(var t=[],i=e;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}},{key:"getParentNodeLocation",value:function(e){return 0===e.length?void 0:1===e.length?[]:(0,d.JH)(e)[0]}},{key:"getFirstElementChild",value:function(e){var t=this.getTreeNode(e);if(0!==t.children.length)return t.children[0].element}}]),e}()},75597:function(e,t,i){i.d(t,{h:function(){return z},H:function(){return P}});var n=i(97326),o=i(11752),s=i(61120),r=i(15671),l=i(43144),a=i(60136),d=i(27277),h=i(37799),c=i(37762),u=i(29439),v=i(88011),f=i(38351),p=i(3318),m=i(79620);function g(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:m.$.map(m.$.from(e.children),g),collapsible:e.collapsible,collapsed:e.collapsed}}function y(e){for(var t,i,n=[e.element],o=e.incompressible||!1;;){var s=m.$.consume(m.$.from(e.children),2),r=(0,u.Z)(s,2);if(i=r[0],t=r[1],1!==i.length)break;if(i[0].incompressible)break;e=i[0],n.push(e.element)}return{element:{elements:n,incompressible:o},children:m.$.map(m.$.concat(i,t),y),collapsible:e.collapsible,collapsed:e.collapsed}}function b(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=i<e.element.elements.length-1?[b(e,i+1)]:m.$.map(m.$.from(e.children),(function(e){return b(e,0)})),0===i&&e.element.incompressible?{element:e.element.elements[i],children:t,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[i],children:t,collapsible:e.collapsible,collapsed:e.collapsed}}function S(e){return b(e,0)}function _(e,t,i){return e.element===t?Object.assign(Object.assign({},e),{children:i}):Object.assign(Object.assign({},e),{children:m.$.map(m.$.from(e.children),(function(e){return _(e,t,i)}))})}var w=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,r.Z)(this,e),this.user=t,this.rootRef=null,this.nodes=new Map,this.model=new v.F(t,i,n),this.enabled="undefined"===typeof n.compressionEnabled||n.compressionEnabled,this.identityProvider=n.identityProvider}return(0,l.Z)(e,[{key:"onDidSplice",get:function(){return this.model.onDidSplice}},{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"onDidChangeRenderNodeCount",get:function(){return this.model.onDidChangeRenderNodeCount}},{key:"setChildren",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.$.empty(),n=arguments.length>2?arguments[2]:void 0,o=n.diffIdentityProvider&&(t=n.diffIdentityProvider,{getId:function(e){return e.elements.map((function(e){return t.getId(e).toString()})).join("\0")}});if(null!==e){var s=this.nodes.get(e);if(!s)throw new f.ac(this.user,"Unknown compressed tree node");var r=this.model.getNode(s),l=this.model.getParentNodeLocation(s),a=this.model.getNode(l),d=_(S(r),e,i),h=(this.enabled?y:g)(d),c=a.children.map((function(e){return e===r?h:e}));this._setChildren(a.element,c,{diffIdentityProvider:o,diffDepth:r.depth-a.depth})}else{var u=m.$.map(i,this.enabled?y:g);this._setChildren(null,u,{diffIdentityProvider:o,diffDepth:1/0})}}},{key:"setCompressionEnabled",value:function(e){if(e!==this.enabled){this.enabled=e;var t=this.model.getNode().children,i=m.$.map(t,S),n=m.$.map(i,e?y:g);this._setChildren(null,n,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}}},{key:"_setChildren",value:function(e,t,i){var n=this,o=new Set;this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:function(e){var t,i=(0,c.Z)(e.element.elements);try{for(i.s();!(t=i.n()).done;){var s=t.value;o.add(s),n.nodes.set(s,e.element)}}catch(r){i.e(r)}finally{i.f()}},onDidDeleteNode:function(e){var t,i=(0,c.Z)(e.element.elements);try{for(i.s();!(t=i.n()).done;){var s=t.value;o.has(s)||n.nodes.delete(s)}}catch(r){i.e(r)}finally{i.f()}}}))}},{key:"has",value:function(e){return this.nodes.has(e)}},{key:"getListIndex",value:function(e){var t=this.getCompressedNode(e);return this.model.getListIndex(t)}},{key:"getListRenderCount",value:function(e){var t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}},{key:"getNode",value:function(e){if("undefined"===typeof e)return this.model.getNode();var t=this.getCompressedNode(e);return this.model.getNode(t)}},{key:"getNodeLocation",value:function(e){var t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}},{key:"getParentNodeLocation",value:function(e){var t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return null===i?null:i.elements[i.elements.length-1]}},{key:"getFirstElementChild",value:function(e){var t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}},{key:"isCollapsible",value:function(e){var t=this.getCompressedNode(e);return this.model.isCollapsible(t)}},{key:"setCollapsible",value:function(e,t){var i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}},{key:"isCollapsed",value:function(e){var t=this.getCompressedNode(e);return this.model.isCollapsed(t)}},{key:"setCollapsed",value:function(e,t,i){var n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}},{key:"expandTo",value:function(e){var t=this.getCompressedNode(e);this.model.expandTo(t)}},{key:"rerender",value:function(e){var t=this.getCompressedNode(e);this.model.rerender(t)}},{key:"refilter",value:function(){this.model.refilter()}},{key:"getCompressedNode",value:function(e){if(null===e)return null;var t=this.nodes.get(e);if(!t)throw new f.ac(this.user,"Tree element not found: ".concat(e));return t}}]),e}(),D=function(e){return e[e.length-1]},k=function(){function e(t,i){(0,r.Z)(this,e),this.unwrapper=t,this.node=i}return(0,l.Z)(e,[{key:"element",get:function(){return null===this.node.element?null:this.unwrapper(this.node.element)}},{key:"children",get:function(){var t=this;return this.node.children.map((function(i){return new e(t.unwrapper,i)}))}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),e}();var C=function(){function e(t,i){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,r.Z)(this,e),this.rootRef=null,this.elementMapper=o.elementMapper||D;var s=function(e){return n.elementMapper(e.elements)};this.nodeMapper=new f.VA((function(e){return new k(s,e)})),this.model=new w(t,function(e,t){return{splice:function(i,n,o){t.splice(i,n,o.map((function(t){return e.map(t)})))},updateElementHeight:function(e,i){t.updateElementHeight(e,i)}}}(this.nodeMapper,i),function(e,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId:function(i){return t.identityProvider.getId(e(i))}},sorter:t.sorter&&{compare:function(e,i){return t.sorter.compare(e.elements[0],i.elements[0])}},filter:t.filter&&{filter:function(i,n){return t.filter.filter(e(i),n)}}})}(s,o))}return(0,l.Z)(e,[{key:"onDidSplice",get:function(){var e=this;return p.ju.map(this.model.onDidSplice,(function(t){var i=t.insertedNodes,n=t.deletedNodes;return{insertedNodes:i.map((function(t){return e.nodeMapper.map(t)})),deletedNodes:n.map((function(t){return e.nodeMapper.map(t)}))}}))}},{key:"onDidChangeCollapseState",get:function(){var e=this;return p.ju.map(this.model.onDidChangeCollapseState,(function(t){var i=t.node,n=t.deep;return{node:e.nodeMapper.map(i),deep:n}}))}},{key:"onDidChangeRenderNodeCount",get:function(){var e=this;return p.ju.map(this.model.onDidChangeRenderNodeCount,(function(t){return e.nodeMapper.map(t)}))}},{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.$.empty(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.model.setChildren(e,t,i)}},{key:"setCompressionEnabled",value:function(e){this.model.setCompressionEnabled(e)}},{key:"has",value:function(e){return this.model.has(e)}},{key:"getListIndex",value:function(e){return this.model.getListIndex(e)}},{key:"getListRenderCount",value:function(e){return this.model.getListRenderCount(e)}},{key:"getNode",value:function(e){return this.nodeMapper.map(this.model.getNode(e))}},{key:"getNodeLocation",value:function(e){return e.element}},{key:"getParentNodeLocation",value:function(e){return this.model.getParentNodeLocation(e)}},{key:"getFirstElementChild",value:function(e){var t=this.model.getFirstElementChild(e);return null===t||"undefined"===typeof t?t:this.elementMapper(t.elements)}},{key:"isCollapsible",value:function(e){return this.model.isCollapsible(e)}},{key:"setCollapsible",value:function(e,t){return this.model.setCollapsible(e,t)}},{key:"isCollapsed",value:function(e){return this.model.isCollapsed(e)}},{key:"setCollapsed",value:function(e,t,i){return this.model.setCollapsed(e,t,i)}},{key:"expandTo",value:function(e){return this.model.expandTo(e)}},{key:"rerender",value:function(e){return this.model.rerender(e)}},{key:"refilter",value:function(){return this.model.refilter()}},{key:"getCompressedTreeNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.model.getNode(e)}}]),e}(),N=i(63439),E=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},P=function(e){(0,a.Z)(i,e);var t=(0,d.Z)(i);function i(e,n,o,s){var l,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,r.Z)(this,i),(l=t.call(this,e,n,o,s,a)).user=e,l}return(0,l.Z)(i,[{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.$.empty(),i=arguments.length>2?arguments[2]:void 0;this.model.setChildren(e,t,i)}},{key:"rerender",value:function(e){void 0!==e?this.model.rerender(e):this.view.rerender()}},{key:"hasElement",value:function(e){return this.model.has(e)}},{key:"createModel",value:function(e,t,i){return new v.F(e,t,i)}}]),i}(h.CH),L=function(){function e(t,i){(0,r.Z)(this,e),this._compressedTreeNodeProvider=t,this.renderer=i,this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}return(0,l.Z)(e,[{key:"compressedTreeNodeProvider",get:function(){return this._compressedTreeNodeProvider()}},{key:"renderTemplate",value:function(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}},{key:"renderElement",value:function(e,t,i,n){var o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===o.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}},{key:"disposeElement",value:function(e,t,i,n){var o,s,r,l;i.compressedTreeNode?null===(s=(o=this.renderer).disposeCompressedElements)||void 0===s||s.call(o,i.compressedTreeNode,t,i.data,n):null===(l=(r=this.renderer).disposeElement)||void 0===l||l.call(r,e,t,i.data,n)}},{key:"disposeTemplate",value:function(e){this.renderer.disposeTemplate(e.data)}},{key:"renderTwistie",value:function(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}]),e}();E([N.H],L.prototype,"compressedTreeNodeProvider",null);var z=function(e){(0,a.Z)(i,e);var t=(0,d.Z)(i);function i(e,o,s,l){var a,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,r.Z)(this,i);var h=function(){return(0,n.Z)(a)},c=l.map((function(e){return new L(h,e)}));return a=t.call(this,e,o,s,c,function(e,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel:function(i){var n;try{n=e().getCompressedTreeNode(i)}catch(o){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return 1===n.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}})}(h,d))}return(0,l.Z)(i,[{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.$.empty(),i=arguments.length>2?arguments[2]:void 0;this.model.setChildren(e,t,i)}},{key:"createModel",value:function(e,t,i){return new C(e,t,i)}},{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)((0,s.Z)(i.prototype),"updateOptions",this).call(this,e),"undefined"!==typeof e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}},{key:"getCompressedTreeNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.model.getCompressedTreeNode(e)}}]),i}(P)},88011:function(e,t,i){i.d(t,{F:function(){return d}});var n=i(93433),o=i(15671),s=i(43144),r=i(55567),l=i(38351),a=i(79620),d=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.Z)(this,e),this.user=t,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new r.X(t,i,null,n),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,n.sorter&&(this.sorter={compare:function(e,t){return n.sorter.compare(e.element,t.element)}}),this.identityProvider=n.identityProvider}return(0,s.Z)(e,[{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.$.empty(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}},{key:"_setChildren",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.$.empty(),o=arguments.length>2?arguments[2]:void 0,s=new Set,r=new Set;this.model.splice([].concat((0,n.Z)(e),[0]),Number.MAX_VALUE,i,Object.assign(Object.assign({},o),{onDidCreateNode:function(e){var i;if(null!==e.element){var n=e;if(s.add(n.element),t.nodes.set(n.element,n),t.identityProvider){var l=t.identityProvider.getId(n.element).toString();r.add(l),t.nodesByIdentity.set(l,n)}null===(i=o.onDidCreateNode)||void 0===i||i.call(o,n)}},onDidDeleteNode:function(e){var i;if(null!==e.element){var n=e;if(s.has(n.element)||t.nodes.delete(n.element),t.identityProvider){var l=t.identityProvider.getId(n.element).toString();r.has(l)||t.nodesByIdentity.delete(l)}null===(i=o.onDidDeleteNode)||void 0===i||i.call(o,n)}}}))}},{key:"preserveCollapseState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.$.empty();return this.sorter&&(t=(0,n.Z)(t).sort(this.sorter.compare.bind(this.sorter))),a.$.map(t,(function(t){var i=e.nodes.get(t.element);if(!i&&e.identityProvider){var n=e.identityProvider.getId(t.element).toString();i=e.nodesByIdentity.get(n)}if(!i)return Object.assign(Object.assign({},t),{children:e.preserveCollapseState(t.children)});var o="boolean"===typeof t.collapsible?t.collapsible:i.collapsible,s="undefined"!==typeof t.collapsed?t.collapsed:i.collapsed;return Object.assign(Object.assign({},t),{collapsible:o,collapsed:s,children:e.preserveCollapseState(t.children)})}))}},{key:"rerender",value:function(e){var t=this.getElementLocation(e);this.model.rerender(t)}},{key:"getFirstElementChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}},{key:"has",value:function(e){return this.nodes.has(e)}},{key:"getListIndex",value:function(e){var t=this.getElementLocation(e);return this.model.getListIndex(t)}},{key:"getListRenderCount",value:function(e){var t=this.getElementLocation(e);return this.model.getListRenderCount(t)}},{key:"isCollapsible",value:function(e){var t=this.getElementLocation(e);return this.model.isCollapsible(t)}},{key:"setCollapsible",value:function(e,t){var i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}},{key:"isCollapsed",value:function(e){var t=this.getElementLocation(e);return this.model.isCollapsed(t)}},{key:"setCollapsed",value:function(e,t,i){var n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}},{key:"expandTo",value:function(e){var t=this.getElementLocation(e);this.model.expandTo(t)}},{key:"refilter",value:function(){this.model.refilter()}},{key:"getNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===e)return this.model.getNode(this.model.rootRef);var t=this.nodes.get(e);if(!t)throw new l.ac(this.user,"Tree element not found: ".concat(e));return t}},{key:"getNodeLocation",value:function(e){return e.element}},{key:"getParentNodeLocation",value:function(e){if(null===e)throw new l.ac(this.user,"Invalid getParentNodeLocation call");var t=this.nodes.get(e);if(!t)throw new l.ac(this.user,"Tree element not found: ".concat(e));var i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}},{key:"getElementLocation",value:function(e){if(null===e)return[];var t=this.nodes.get(e);if(!t)throw new l.ac(this.user,"Tree element not found: ".concat(e));return this.model.getNodeLocation(t)}}]),e}()},38351:function(e,t,i){i.d(t,{VA:function(){return h},ac:function(){return d},sD:function(){return n}});var n,o=i(43144),s=i(15671),r=i(60136),l=i(27277),a=i(98737);!function(e){e[e.Unknown=0]="Unknown",e[e.Twistie=1]="Twistie",e[e.Element=2]="Element",e[e.Filter=3]="Filter"}(n||(n={}));var d=function(e){(0,r.Z)(i,e);var t=(0,l.Z)(i);function i(e,n){return(0,s.Z)(this,i),t.call(this,"TreeError [".concat(e,"] ").concat(n))}return(0,o.Z)(i)}((0,a.Z)(Error)),h=function(){function e(t){(0,s.Z)(this,e),this.fn=t,this._map=new WeakMap}return(0,o.Z)(e,[{key:"map",value:function(e){var t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}]),e}()},59092:function(e,t,i){i.d(t,{$:function(){return c}});var n=i(15671),o=i(43144),s=i(60136),r=i(27277),l=i(39165),a=i(96857),d=i(26596),h=i(47505),c=function(e){(0,s.Z)(i,e);var t=(0,r.Z)(i);function i(){return(0,n.Z)(this,i),t.apply(this,arguments)}return(0,o.Z)(i,[{key:"onclick",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.CLICK,(function(e){return t(new d.n(e))})))}},{key:"onmousedown",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.MOUSE_DOWN,(function(e){return t(new d.n(e))})))}},{key:"onmouseover",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.MOUSE_OVER,(function(e){return t(new d.n(e))})))}},{key:"onmouseleave",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.MOUSE_LEAVE,(function(e){return t(new d.n(e))})))}},{key:"onkeydown",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.KEY_DOWN,(function(e){return t(new a.y(e))})))}},{key:"onkeyup",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.KEY_UP,(function(e){return t(new a.y(e))})))}},{key:"oninput",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.INPUT,t))}},{key:"onblur",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.BLUR,t))}},{key:"onfocus",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.FOCUS,t))}},{key:"ignoreGesture",value:function(e){return h.o.ignoreTarget(e)}}]),i}(i(82927).JT)}}]);
//# sourceMappingURL=monaco-editor-vendor.a70d7200.388248ec.js.map