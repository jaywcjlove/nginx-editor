{"version":3,"file":"static/js/monaco-editor-vendor.39525ca6.16b2ec7a.js","mappings":"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","sources":["../../node_modules/monaco-editor/esm/vs/base/browser/keyboardEvent.js","../../node_modules/monaco-editor/esm/vs/base/browser/markdownRenderer.js","../../node_modules/monaco-editor/esm/vs/base/browser/iframe.js","../../node_modules/monaco-editor/esm/vs/base/browser/mouseEvent.js","../../node_modules/monaco-editor/esm/vs/base/browser/performance.js","../../node_modules/monaco-editor/esm/vs/base/browser/touch.js","../../node_modules/monaco-editor/esm/vs/base/browser/trustedTypes.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionViewItems.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionbar.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/aria/aria.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/button/button.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/contextview/contextview.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/countBadge/countBadge.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdown.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/dropdown/dropdownActionViewItem.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInput.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/findInputToggles.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/findinput/replaceInput.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/highlightedlabel/highlightedLabel.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/hover/hoverWidget.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabel.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabelHover.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/iconLabel/iconLabels.js","../../node_modules/monaco-editor/esm/vs/base/browser/ui/inputbox/inputBox.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { EVENT_KEY_CODE_MAP, KeyCodeUtils } from '../common/keyCodes.js';\nimport { KeyCodeChord } from '../common/keybindings.js';\nimport * as platform from '../common/platform.js';\nfunction extractKeyCode(e) {\n    if (e.charCode) {\n        // \"keypress\" events mostly\n        const char = String.fromCharCode(e.charCode).toUpperCase();\n        return KeyCodeUtils.fromString(char);\n    }\n    const keyCode = e.keyCode;\n    // browser quirks\n    if (keyCode === 3) {\n        return 7 /* KeyCode.PauseBreak */;\n    }\n    else if (browser.isFirefox) {\n        switch (keyCode) {\n            case 59: return 85 /* KeyCode.Semicolon */;\n            case 60:\n                if (platform.isLinux) {\n                    return 97 /* KeyCode.IntlBackslash */;\n                }\n                break;\n            case 61: return 86 /* KeyCode.Equal */;\n            // based on: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode#numpad_keys\n            case 107: return 109 /* KeyCode.NumpadAdd */;\n            case 109: return 111 /* KeyCode.NumpadSubtract */;\n            case 173: return 88 /* KeyCode.Minus */;\n            case 224:\n                if (platform.isMacintosh) {\n                    return 57 /* KeyCode.Meta */;\n                }\n                break;\n        }\n    }\n    else if (browser.isWebKit) {\n        if (platform.isMacintosh && keyCode === 93) {\n            // the two meta keys in the Mac have different key codes (91 and 93)\n            return 57 /* KeyCode.Meta */;\n        }\n        else if (!platform.isMacintosh && keyCode === 92) {\n            return 57 /* KeyCode.Meta */;\n        }\n    }\n    // cross browser keycodes:\n    return EVENT_KEY_CODE_MAP[keyCode] || 0 /* KeyCode.Unknown */;\n}\nconst ctrlKeyMod = (platform.isMacintosh ? 256 /* KeyMod.WinCtrl */ : 2048 /* KeyMod.CtrlCmd */);\nconst altKeyMod = 512 /* KeyMod.Alt */;\nconst shiftKeyMod = 1024 /* KeyMod.Shift */;\nconst metaKeyMod = (platform.isMacintosh ? 2048 /* KeyMod.CtrlCmd */ : 256 /* KeyMod.WinCtrl */);\nexport class StandardKeyboardEvent {\n    constructor(source) {\n        this._standardKeyboardEventBrand = true;\n        const e = source;\n        this.browserEvent = e;\n        this.target = e.target;\n        this.ctrlKey = e.ctrlKey;\n        this.shiftKey = e.shiftKey;\n        this.altKey = e.altKey;\n        this.metaKey = e.metaKey;\n        this.altGraphKey = e.getModifierState('AltGraph');\n        this.keyCode = extractKeyCode(e);\n        this.code = e.code;\n        // console.info(e.type + \": keyCode: \" + e.keyCode + \", which: \" + e.which + \", charCode: \" + e.charCode + \", detail: \" + e.detail + \" ====> \" + this.keyCode + ' -- ' + KeyCode[this.keyCode]);\n        this.ctrlKey = this.ctrlKey || this.keyCode === 5 /* KeyCode.Ctrl */;\n        this.altKey = this.altKey || this.keyCode === 6 /* KeyCode.Alt */;\n        this.shiftKey = this.shiftKey || this.keyCode === 4 /* KeyCode.Shift */;\n        this.metaKey = this.metaKey || this.keyCode === 57 /* KeyCode.Meta */;\n        this._asKeybinding = this._computeKeybinding();\n        this._asKeyCodeChord = this._computeKeyCodeChord();\n        // console.log(`code: ${e.code}, keyCode: ${e.keyCode}, key: ${e.key}`);\n    }\n    preventDefault() {\n        if (this.browserEvent && this.browserEvent.preventDefault) {\n            this.browserEvent.preventDefault();\n        }\n    }\n    stopPropagation() {\n        if (this.browserEvent && this.browserEvent.stopPropagation) {\n            this.browserEvent.stopPropagation();\n        }\n    }\n    toKeyCodeChord() {\n        return this._asKeyCodeChord;\n    }\n    equals(other) {\n        return this._asKeybinding === other;\n    }\n    _computeKeybinding() {\n        let key = 0 /* KeyCode.Unknown */;\n        if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n            key = this.keyCode;\n        }\n        let result = 0;\n        if (this.ctrlKey) {\n            result |= ctrlKeyMod;\n        }\n        if (this.altKey) {\n            result |= altKeyMod;\n        }\n        if (this.shiftKey) {\n            result |= shiftKeyMod;\n        }\n        if (this.metaKey) {\n            result |= metaKeyMod;\n        }\n        result |= key;\n        return result;\n    }\n    _computeKeyCodeChord() {\n        let key = 0 /* KeyCode.Unknown */;\n        if (this.keyCode !== 5 /* KeyCode.Ctrl */ && this.keyCode !== 4 /* KeyCode.Shift */ && this.keyCode !== 6 /* KeyCode.Alt */ && this.keyCode !== 57 /* KeyCode.Meta */) {\n            key = this.keyCode;\n        }\n        return new KeyCodeChord(this.ctrlKey, this.shiftKey, this.altKey, this.metaKey, key);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as DOM from './dom.js';\nimport * as dompurify from './dompurify/dompurify.js';\nimport { DomEmitter } from './event.js';\nimport { createElement } from './formattedTextRenderer.js';\nimport { StandardKeyboardEvent } from './keyboardEvent.js';\nimport { StandardMouseEvent } from './mouseEvent.js';\nimport { renderLabelWithIcons } from './ui/iconLabel/iconLabels.js';\nimport { onUnexpectedError } from '../common/errors.js';\nimport { Event } from '../common/event.js';\nimport { escapeDoubleQuotes, parseHrefAndDimensions, removeMarkdownEscapes } from '../common/htmlContent.js';\nimport { markdownEscapeEscapedIcons } from '../common/iconLabels.js';\nimport { defaultGenerator } from '../common/idGenerator.js';\nimport { Lazy } from '../common/lazy.js';\nimport { DisposableStore } from '../common/lifecycle.js';\nimport { marked } from '../common/marked/marked.js';\nimport { parse } from '../common/marshalling.js';\nimport { FileAccess, Schemas } from '../common/network.js';\nimport { cloneAndChange } from '../common/objects.js';\nimport { dirname, resolvePath } from '../common/resources.js';\nimport { escape } from '../common/strings.js';\nimport { URI } from '../common/uri.js';\nconst defaultMarkedRenderers = Object.freeze({\n    image: (href, title, text) => {\n        let dimensions = [];\n        let attributes = [];\n        if (href) {\n            ({ href, dimensions } = parseHrefAndDimensions(href));\n            attributes.push(`src=\"${escapeDoubleQuotes(href)}\"`);\n        }\n        if (text) {\n            attributes.push(`alt=\"${escapeDoubleQuotes(text)}\"`);\n        }\n        if (title) {\n            attributes.push(`title=\"${escapeDoubleQuotes(title)}\"`);\n        }\n        if (dimensions.length) {\n            attributes = attributes.concat(dimensions);\n        }\n        return '<img ' + attributes.join(' ') + '>';\n    },\n    paragraph: (text) => {\n        return `<p>${text}</p>`;\n    },\n    link: (href, title, text) => {\n        if (typeof href !== 'string') {\n            return '';\n        }\n        // Remove markdown escapes. Workaround for https://github.com/chjj/marked/issues/829\n        if (href === text) { // raw link case\n            text = removeMarkdownEscapes(text);\n        }\n        title = typeof title === 'string' ? escapeDoubleQuotes(removeMarkdownEscapes(title)) : '';\n        href = removeMarkdownEscapes(href);\n        // HTML Encode href\n        href = href.replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/'/g, '&#39;');\n        return `<a href=\"${href}\" title=\"${title || href}\">${text}</a>`;\n    },\n});\n/**\n * Low-level way create a html element from a markdown string.\n *\n * **Note** that for most cases you should be using [`MarkdownRenderer`](./src/vs/editor/contrib/markdownRenderer/browser/markdownRenderer.ts)\n * which comes with support for pretty code block rendering and which uses the default way of handling links.\n */\nexport function renderMarkdown(markdown, options = {}, markedOptions = {}) {\n    var _a, _b;\n    const disposables = new DisposableStore();\n    let isDisposed = false;\n    const element = createElement(options);\n    const _uriMassage = function (part) {\n        let data;\n        try {\n            data = parse(decodeURIComponent(part));\n        }\n        catch (e) {\n            // ignore\n        }\n        if (!data) {\n            return part;\n        }\n        data = cloneAndChange(data, value => {\n            if (markdown.uris && markdown.uris[value]) {\n                return URI.revive(markdown.uris[value]);\n            }\n            else {\n                return undefined;\n            }\n        });\n        return encodeURIComponent(JSON.stringify(data));\n    };\n    const _href = function (href, isDomUri) {\n        const data = markdown.uris && markdown.uris[href];\n        let uri = URI.revive(data);\n        if (isDomUri) {\n            if (href.startsWith(Schemas.data + ':')) {\n                return href;\n            }\n            if (!uri) {\n                uri = URI.parse(href);\n            }\n            // this URI will end up as \"src\"-attribute of a dom node\n            // and because of that special rewriting needs to be done\n            // so that the URI uses a protocol that's understood by\n            // browsers (like http or https)\n            return FileAccess.uriToBrowserUri(uri).toString(true);\n        }\n        if (!uri) {\n            return href;\n        }\n        if (URI.parse(href).toString() === uri.toString()) {\n            return href; // no transformation performed\n        }\n        if (uri.query) {\n            uri = uri.with({ query: _uriMassage(uri.query) });\n        }\n        return uri.toString();\n    };\n    const renderer = new marked.Renderer();\n    renderer.image = defaultMarkedRenderers.image;\n    renderer.link = defaultMarkedRenderers.link;\n    renderer.paragraph = defaultMarkedRenderers.paragraph;\n    // Will collect [id, renderedElement] tuples\n    const codeBlocks = [];\n    const syncCodeBlocks = [];\n    if (options.codeBlockRendererSync) {\n        renderer.code = (code, lang) => {\n            const id = defaultGenerator.nextId();\n            const value = options.codeBlockRendererSync(postProcessCodeBlockLanguageId(lang), code);\n            syncCodeBlocks.push([id, value]);\n            return `<div class=\"code\" data-code=\"${id}\">${escape(code)}</div>`;\n        };\n    }\n    else if (options.codeBlockRenderer) {\n        renderer.code = (code, lang) => {\n            const id = defaultGenerator.nextId();\n            const value = options.codeBlockRenderer(postProcessCodeBlockLanguageId(lang), code);\n            codeBlocks.push(value.then(element => [id, element]));\n            return `<div class=\"code\" data-code=\"${id}\">${escape(code)}</div>`;\n        };\n    }\n    if (options.actionHandler) {\n        const _activateLink = function (event) {\n            let target = event.target;\n            if (target.tagName !== 'A') {\n                target = target.parentElement;\n                if (!target || target.tagName !== 'A') {\n                    return;\n                }\n            }\n            try {\n                let href = target.dataset['href'];\n                if (href) {\n                    if (markdown.baseUri) {\n                        href = resolveWithBaseUri(URI.from(markdown.baseUri), href);\n                    }\n                    options.actionHandler.callback(href, event);\n                }\n            }\n            catch (err) {\n                onUnexpectedError(err);\n            }\n            finally {\n                event.preventDefault();\n            }\n        };\n        const onClick = options.actionHandler.disposables.add(new DomEmitter(element, 'click'));\n        const onAuxClick = options.actionHandler.disposables.add(new DomEmitter(element, 'auxclick'));\n        options.actionHandler.disposables.add(Event.any(onClick.event, onAuxClick.event)(e => {\n            const mouseEvent = new StandardMouseEvent(e);\n            if (!mouseEvent.leftButton && !mouseEvent.middleButton) {\n                return;\n            }\n            _activateLink(mouseEvent);\n        }));\n        options.actionHandler.disposables.add(DOM.addDisposableListener(element, 'keydown', (e) => {\n            const keyboardEvent = new StandardKeyboardEvent(e);\n            if (!keyboardEvent.equals(10 /* KeyCode.Space */) && !keyboardEvent.equals(3 /* KeyCode.Enter */)) {\n                return;\n            }\n            _activateLink(keyboardEvent);\n        }));\n    }\n    if (!markdown.supportHtml) {\n        // TODO: Can we deprecated this in favor of 'supportHtml'?\n        // Use our own sanitizer so that we can let through only spans.\n        // Otherwise, we'd be letting all html be rendered.\n        // If we want to allow markdown permitted tags, then we can delete sanitizer and sanitize.\n        // We always pass the output through dompurify after this so that we don't rely on\n        // marked for sanitization.\n        markedOptions.sanitizer = (html) => {\n            const match = markdown.isTrusted ? html.match(/^(<span[^>]+>)|(<\\/\\s*span>)$/) : undefined;\n            return match ? html : '';\n        };\n        markedOptions.sanitize = true;\n        markedOptions.silent = true;\n    }\n    markedOptions.renderer = renderer;\n    // values that are too long will freeze the UI\n    let value = (_a = markdown.value) !== null && _a !== void 0 ? _a : '';\n    if (value.length > 100000) {\n        value = `${value.substr(0, 100000)}…`;\n    }\n    // escape theme icons\n    if (markdown.supportThemeIcons) {\n        value = markdownEscapeEscapedIcons(value);\n    }\n    let renderedMarkdown;\n    if (options.fillInIncompleteTokens) {\n        // The defaults are applied by parse but not lexer()/parser(), and they need to be present\n        const opts = Object.assign(Object.assign({}, marked.defaults), markedOptions);\n        const tokens = marked.lexer(value, opts);\n        const newTokens = fillInIncompleteTokens(tokens);\n        renderedMarkdown = marked.parser(newTokens, opts);\n    }\n    else {\n        renderedMarkdown = marked.parse(value, markedOptions);\n    }\n    // Rewrite theme icons\n    if (markdown.supportThemeIcons) {\n        const elements = renderLabelWithIcons(renderedMarkdown);\n        renderedMarkdown = elements.map(e => typeof e === 'string' ? e : e.outerHTML).join('');\n    }\n    const htmlParser = new DOMParser();\n    const markdownHtmlDoc = htmlParser.parseFromString(sanitizeRenderedMarkdown(markdown, renderedMarkdown), 'text/html');\n    markdownHtmlDoc.body.querySelectorAll('img')\n        .forEach(img => {\n        const src = img.getAttribute('src'); // Get the raw 'src' attribute value as text, not the resolved 'src'\n        if (src) {\n            let href = src;\n            try {\n                if (markdown.baseUri) { // absolute or relative local path, or file: uri\n                    href = resolveWithBaseUri(URI.from(markdown.baseUri), href);\n                }\n            }\n            catch (err) { }\n            img.src = _href(href, true);\n        }\n    });\n    markdownHtmlDoc.body.querySelectorAll('a')\n        .forEach(a => {\n        const href = a.getAttribute('href'); // Get the raw 'href' attribute value as text, not the resolved 'href'\n        a.setAttribute('href', ''); // Clear out href. We use the `data-href` for handling clicks instead\n        if (!href\n            || /^data:|javascript:/i.test(href)\n            || (/^command:/i.test(href) && !markdown.isTrusted)\n            || /^command:(\\/\\/\\/)?_workbench\\.downloadResource/i.test(href)) {\n            // drop the link\n            a.replaceWith(...a.childNodes);\n        }\n        else {\n            let resolvedHref = _href(href, false);\n            if (markdown.baseUri) {\n                resolvedHref = resolveWithBaseUri(URI.from(markdown.baseUri), href);\n            }\n            a.dataset.href = resolvedHref;\n        }\n    });\n    element.innerHTML = sanitizeRenderedMarkdown(markdown, markdownHtmlDoc.body.innerHTML);\n    if (codeBlocks.length > 0) {\n        Promise.all(codeBlocks).then((tuples) => {\n            var _a, _b;\n            if (isDisposed) {\n                return;\n            }\n            const renderedElements = new Map(tuples);\n            const placeholderElements = element.querySelectorAll(`div[data-code]`);\n            for (const placeholderElement of placeholderElements) {\n                const renderedElement = renderedElements.get((_a = placeholderElement.dataset['code']) !== null && _a !== void 0 ? _a : '');\n                if (renderedElement) {\n                    DOM.reset(placeholderElement, renderedElement);\n                }\n            }\n            (_b = options.asyncRenderCallback) === null || _b === void 0 ? void 0 : _b.call(options);\n        });\n    }\n    else if (syncCodeBlocks.length > 0) {\n        const renderedElements = new Map(syncCodeBlocks);\n        const placeholderElements = element.querySelectorAll(`div[data-code]`);\n        for (const placeholderElement of placeholderElements) {\n            const renderedElement = renderedElements.get((_b = placeholderElement.dataset['code']) !== null && _b !== void 0 ? _b : '');\n            if (renderedElement) {\n                DOM.reset(placeholderElement, renderedElement);\n            }\n        }\n    }\n    // signal size changes for image tags\n    if (options.asyncRenderCallback) {\n        for (const img of element.getElementsByTagName('img')) {\n            const listener = disposables.add(DOM.addDisposableListener(img, 'load', () => {\n                listener.dispose();\n                options.asyncRenderCallback();\n            }));\n        }\n    }\n    return {\n        element,\n        dispose: () => {\n            isDisposed = true;\n            disposables.dispose();\n        }\n    };\n}\nfunction postProcessCodeBlockLanguageId(lang) {\n    if (!lang) {\n        return '';\n    }\n    const parts = lang.split(/[\\s+|:|,|\\{|\\?]/, 1);\n    if (parts.length) {\n        return parts[0];\n    }\n    return lang;\n}\nfunction resolveWithBaseUri(baseUri, href) {\n    const hasScheme = /^\\w[\\w\\d+.-]*:/.test(href);\n    if (hasScheme) {\n        return href;\n    }\n    if (baseUri.path.endsWith('/')) {\n        return resolvePath(baseUri, href).toString();\n    }\n    else {\n        return resolvePath(dirname(baseUri), href).toString();\n    }\n}\nfunction sanitizeRenderedMarkdown(options, renderedMarkdown) {\n    const { config, allowedSchemes } = getSanitizerOptions(options);\n    dompurify.addHook('uponSanitizeAttribute', (element, e) => {\n        if (e.attrName === 'style' || e.attrName === 'class') {\n            if (element.tagName === 'SPAN') {\n                if (e.attrName === 'style') {\n                    e.keepAttr = /^(color\\:(#[0-9a-fA-F]+|var\\(--vscode(-[a-zA-Z]+)+\\));)?(background-color\\:(#[0-9a-fA-F]+|var\\(--vscode(-[a-zA-Z]+)+\\));)?$/.test(e.attrValue);\n                    return;\n                }\n                else if (e.attrName === 'class') {\n                    e.keepAttr = /^codicon codicon-[a-z\\-]+( codicon-modifier-[a-z\\-]+)?$/.test(e.attrValue);\n                    return;\n                }\n            }\n            e.keepAttr = false;\n            return;\n        }\n    });\n    const hook = DOM.hookDomPurifyHrefAndSrcSanitizer(allowedSchemes);\n    try {\n        return dompurify.sanitize(renderedMarkdown, Object.assign(Object.assign({}, config), { RETURN_TRUSTED_TYPE: true }));\n    }\n    finally {\n        dompurify.removeHook('uponSanitizeAttribute');\n        hook.dispose();\n    }\n}\nexport const allowedMarkdownAttr = [\n    'align',\n    'autoplay',\n    'alt',\n    'class',\n    'controls',\n    'data-code',\n    'data-href',\n    'height',\n    'href',\n    'loop',\n    'muted',\n    'playsinline',\n    'poster',\n    'src',\n    'style',\n    'target',\n    'title',\n    'width',\n    'start',\n];\nfunction getSanitizerOptions(options) {\n    const allowedSchemes = [\n        Schemas.http,\n        Schemas.https,\n        Schemas.mailto,\n        Schemas.data,\n        Schemas.file,\n        Schemas.vscodeFileResource,\n        Schemas.vscodeRemote,\n        Schemas.vscodeRemoteResource,\n    ];\n    if (options.isTrusted) {\n        allowedSchemes.push(Schemas.command);\n    }\n    return {\n        config: {\n            // allowedTags should included everything that markdown renders to.\n            // Since we have our own sanitize function for marked, it's possible we missed some tag so let dompurify make sure.\n            // HTML tags that can result from markdown are from reading https://spec.commonmark.org/0.29/\n            // HTML table tags that can result from markdown are from https://github.github.com/gfm/#tables-extension-\n            ALLOWED_TAGS: [...DOM.basicMarkupHtmlTags],\n            ALLOWED_ATTR: allowedMarkdownAttr,\n            ALLOW_UNKNOWN_PROTOCOLS: true,\n        },\n        allowedSchemes\n    };\n}\n/**\n * Strips all markdown from `string`, if it's an IMarkdownString. For example\n * `# Header` would be output as `Header`. If it's not, the string is returned.\n */\nexport function renderStringAsPlaintext(string) {\n    return typeof string === 'string' ? string : renderMarkdownAsPlaintext(string);\n}\n/**\n * Strips all markdown from `markdown`. For example `# Header` would be output as `Header`.\n */\nexport function renderMarkdownAsPlaintext(markdown) {\n    var _a;\n    // values that are too long will freeze the UI\n    let value = (_a = markdown.value) !== null && _a !== void 0 ? _a : '';\n    if (value.length > 100000) {\n        value = `${value.substr(0, 100000)}…`;\n    }\n    const html = marked.parse(value, { renderer: plainTextRenderer.value }).replace(/&(#\\d+|[a-zA-Z]+);/g, m => { var _a; return (_a = unescapeInfo.get(m)) !== null && _a !== void 0 ? _a : m; });\n    return sanitizeRenderedMarkdown({ isTrusted: false }, html).toString();\n}\nconst unescapeInfo = new Map([\n    ['&quot;', '\"'],\n    ['&nbsp;', ' '],\n    ['&amp;', '&'],\n    ['&#39;', '\\''],\n    ['&lt;', '<'],\n    ['&gt;', '>'],\n]);\nconst plainTextRenderer = new Lazy(() => {\n    const renderer = new marked.Renderer();\n    renderer.code = (code) => {\n        return code;\n    };\n    renderer.blockquote = (quote) => {\n        return quote;\n    };\n    renderer.html = (_html) => {\n        return '';\n    };\n    renderer.heading = (text, _level, _raw) => {\n        return text + '\\n';\n    };\n    renderer.hr = () => {\n        return '';\n    };\n    renderer.list = (body, _ordered) => {\n        return body;\n    };\n    renderer.listitem = (text) => {\n        return text + '\\n';\n    };\n    renderer.paragraph = (text) => {\n        return text + '\\n';\n    };\n    renderer.table = (header, body) => {\n        return header + body + '\\n';\n    };\n    renderer.tablerow = (content) => {\n        return content;\n    };\n    renderer.tablecell = (content, _flags) => {\n        return content + ' ';\n    };\n    renderer.strong = (text) => {\n        return text;\n    };\n    renderer.em = (text) => {\n        return text;\n    };\n    renderer.codespan = (code) => {\n        return code;\n    };\n    renderer.br = () => {\n        return '\\n';\n    };\n    renderer.del = (text) => {\n        return text;\n    };\n    renderer.image = (_href, _title, _text) => {\n        return '';\n    };\n    renderer.text = (text) => {\n        return text;\n    };\n    renderer.link = (_href, _title, text) => {\n        return text;\n    };\n    return renderer;\n});\nfunction mergeRawTokenText(tokens) {\n    let mergedTokenText = '';\n    tokens.forEach(token => {\n        mergedTokenText += token.raw;\n    });\n    return mergedTokenText;\n}\nfunction completeSingleLinePattern(token) {\n    for (const subtoken of token.tokens) {\n        if (subtoken.type === 'text') {\n            const lines = subtoken.raw.split('\\n');\n            const lastLine = lines[lines.length - 1];\n            if (lastLine.includes('`')) {\n                return completeCodespan(token);\n            }\n            else if (lastLine.includes('**')) {\n                return completeDoublestar(token);\n            }\n            else if (lastLine.match(/\\*\\w/)) {\n                return completeStar(token);\n            }\n            else if (lastLine.match(/(^|\\s)__\\w/)) {\n                return completeDoubleUnderscore(token);\n            }\n            else if (lastLine.match(/(^|\\s)_\\w/)) {\n                return completeUnderscore(token);\n            }\n            else if (lastLine.match(/(^|\\s)\\[.*\\]\\(\\w*/)) {\n                return completeLinkTarget(token);\n            }\n            else if (lastLine.match(/(^|\\s)\\[\\w/)) {\n                return completeLinkText(token);\n            }\n        }\n    }\n    return undefined;\n}\n// function completeListItemPattern(token: marked.Tokens.List): marked.Tokens.List | undefined {\n// \t// Patch up this one list item\n// \tconst lastItem = token.items[token.items.length - 1];\n// \tconst newList = completeSingleLinePattern(lastItem);\n// \tif (!newList || newList.type !== 'list') {\n// \t\t// Nothing to fix, or not a pattern we were expecting\n// \t\treturn;\n// \t}\n// \t// Re-parse the whole list with the last item replaced\n// \tconst completeList = marked.lexer(mergeRawTokenText(token.items.slice(0, token.items.length - 1)) + newList.items[0].raw);\n// \tif (completeList.length === 1 && completeList[0].type === 'list') {\n// \t\treturn completeList[0];\n// \t}\n// \t// Not a pattern we were expecting\n// \treturn undefined;\n// }\nexport function fillInIncompleteTokens(tokens) {\n    let i;\n    let newTokens;\n    for (i = 0; i < tokens.length; i++) {\n        const token = tokens[i];\n        if (token.type === 'paragraph' && token.raw.match(/(\\n|^)```/)) {\n            // If the code block was complete, it would be in a type='code'\n            newTokens = completeCodeBlock(tokens.slice(i));\n            break;\n        }\n        if (token.type === 'paragraph' && token.raw.match(/(\\n|^)\\|/)) {\n            newTokens = completeTable(tokens.slice(i));\n            break;\n        }\n        // if (i === tokens.length - 1 && token.type === 'list') {\n        // \tconst newListToken = completeListItemPattern(token);\n        // \tif (newListToken) {\n        // \t\tnewTokens = [newListToken];\n        // \t\tbreak;\n        // \t}\n        // }\n        if (i === tokens.length - 1 && token.type === 'paragraph') {\n            // Only operates on a single token, because any newline that follows this should break these patterns\n            const newToken = completeSingleLinePattern(token);\n            if (newToken) {\n                newTokens = [newToken];\n                break;\n            }\n        }\n    }\n    if (newTokens) {\n        const newTokensList = [\n            ...tokens.slice(0, i),\n            ...newTokens\n        ];\n        newTokensList.links = tokens.links;\n        return newTokensList;\n    }\n    return tokens;\n}\nfunction completeCodeBlock(tokens) {\n    const mergedRawText = mergeRawTokenText(tokens);\n    return marked.lexer(mergedRawText + '\\n```');\n}\nfunction completeCodespan(token) {\n    return completeWithString(token, '`');\n}\nfunction completeStar(tokens) {\n    return completeWithString(tokens, '*');\n}\nfunction completeUnderscore(tokens) {\n    return completeWithString(tokens, '_');\n}\nfunction completeLinkTarget(tokens) {\n    return completeWithString(tokens, ')');\n}\nfunction completeLinkText(tokens) {\n    return completeWithString(tokens, '](about:blank)');\n}\nfunction completeDoublestar(tokens) {\n    return completeWithString(tokens, '**');\n}\nfunction completeDoubleUnderscore(tokens) {\n    return completeWithString(tokens, '__');\n}\nfunction completeWithString(tokens, closingString) {\n    const mergedRawText = mergeRawTokenText(Array.isArray(tokens) ? tokens : [tokens]);\n    // If it was completed correctly, this should be a single token.\n    // Expecting either a Paragraph or a List\n    return marked.lexer(mergedRawText + closingString)[0];\n}\nfunction completeTable(tokens) {\n    const mergedRawText = mergeRawTokenText(tokens);\n    const lines = mergedRawText.split('\\n');\n    let numCols; // The number of line1 col headers\n    let hasSeparatorRow = false;\n    for (let i = 0; i < lines.length; i++) {\n        const line = lines[i].trim();\n        if (typeof numCols === 'undefined' && line.match(/^\\s*\\|/)) {\n            const line1Matches = line.match(/(\\|[^\\|]+)(?=\\||$)/g);\n            if (line1Matches) {\n                numCols = line1Matches.length;\n            }\n        }\n        else if (typeof numCols === 'number') {\n            if (line.match(/^\\s*\\|/)) {\n                if (i !== lines.length - 1) {\n                    // We got the line1 header row, and the line2 separator row, but there are more lines, and it wasn't parsed as a table!\n                    // That's strange and means that the table is probably malformed in the source, so I won't try to patch it up.\n                    return undefined;\n                }\n                // Got a line2 separator row- partial or complete, doesn't matter, we'll replace it with a correct one\n                hasSeparatorRow = true;\n            }\n            else {\n                // The line after the header row isn't a valid separator row, so the table is malformed, don't fix it up\n                return undefined;\n            }\n        }\n    }\n    if (typeof numCols === 'number' && numCols > 0) {\n        const prefixText = hasSeparatorRow ? lines.slice(0, -1).join('\\n') : mergedRawText;\n        const line1EndsInPipe = !!prefixText.match(/\\|\\s*$/);\n        const newRawText = prefixText + (line1EndsInPipe ? '' : '|') + `\\n|${' --- |'.repeat(numCols)}`;\n        return marked.lexer(newRawText);\n    }\n    return undefined;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nlet hasDifferentOriginAncestorFlag = false;\nlet sameOriginWindowChainCache = null;\nfunction getParentWindowIfSameOrigin(w) {\n    if (!w.parent || w.parent === w) {\n        return null;\n    }\n    // Cannot really tell if we have access to the parent window unless we try to access something in it\n    try {\n        const location = w.location;\n        const parentLocation = w.parent.location;\n        if (location.origin !== 'null' && parentLocation.origin !== 'null' && location.origin !== parentLocation.origin) {\n            hasDifferentOriginAncestorFlag = true;\n            return null;\n        }\n    }\n    catch (e) {\n        hasDifferentOriginAncestorFlag = true;\n        return null;\n    }\n    return w.parent;\n}\nexport class IframeUtils {\n    /**\n     * Returns a chain of embedded windows with the same origin (which can be accessed programmatically).\n     * Having a chain of length 1 might mean that the current execution environment is running outside of an iframe or inside an iframe embedded in a window with a different origin.\n     * To distinguish if at one point the current execution environment is running inside a window with a different origin, see hasDifferentOriginAncestor()\n     */\n    static getSameOriginWindowChain() {\n        if (!sameOriginWindowChainCache) {\n            sameOriginWindowChainCache = [];\n            let w = window;\n            let parent;\n            do {\n                parent = getParentWindowIfSameOrigin(w);\n                if (parent) {\n                    sameOriginWindowChainCache.push({\n                        window: w,\n                        iframeElement: w.frameElement || null\n                    });\n                }\n                else {\n                    sameOriginWindowChainCache.push({\n                        window: w,\n                        iframeElement: null\n                    });\n                }\n                w = parent;\n            } while (w);\n        }\n        return sameOriginWindowChainCache.slice(0);\n    }\n    /**\n     * Returns the position of `childWindow` relative to `ancestorWindow`\n     */\n    static getPositionOfChildWindowRelativeToAncestorWindow(childWindow, ancestorWindow) {\n        if (!ancestorWindow || childWindow === ancestorWindow) {\n            return {\n                top: 0,\n                left: 0\n            };\n        }\n        let top = 0, left = 0;\n        const windowChain = this.getSameOriginWindowChain();\n        for (const windowChainEl of windowChain) {\n            top += windowChainEl.window.scrollY;\n            left += windowChainEl.window.scrollX;\n            if (windowChainEl.window === ancestorWindow) {\n                break;\n            }\n            if (!windowChainEl.iframeElement) {\n                break;\n            }\n            const boundingRect = windowChainEl.iframeElement.getBoundingClientRect();\n            top += boundingRect.top;\n            left += boundingRect.left;\n        }\n        return {\n            top: top,\n            left: left\n        };\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from './browser.js';\nimport { IframeUtils } from './iframe.js';\nimport * as platform from '../common/platform.js';\nexport class StandardMouseEvent {\n    constructor(e) {\n        this.timestamp = Date.now();\n        this.browserEvent = e;\n        this.leftButton = e.button === 0;\n        this.middleButton = e.button === 1;\n        this.rightButton = e.button === 2;\n        this.buttons = e.buttons;\n        this.target = e.target;\n        this.detail = e.detail || 1;\n        if (e.type === 'dblclick') {\n            this.detail = 2;\n        }\n        this.ctrlKey = e.ctrlKey;\n        this.shiftKey = e.shiftKey;\n        this.altKey = e.altKey;\n        this.metaKey = e.metaKey;\n        if (typeof e.pageX === 'number') {\n            this.posx = e.pageX;\n            this.posy = e.pageY;\n        }\n        else {\n            // Probably hit by MSGestureEvent\n            this.posx = e.clientX + this.target.ownerDocument.body.scrollLeft + this.target.ownerDocument.documentElement.scrollLeft;\n            this.posy = e.clientY + this.target.ownerDocument.body.scrollTop + this.target.ownerDocument.documentElement.scrollTop;\n        }\n        // Find the position of the iframe this code is executing in relative to the iframe where the event was captured.\n        const iframeOffsets = IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(window, e.view);\n        this.posx -= iframeOffsets.left;\n        this.posy -= iframeOffsets.top;\n    }\n    preventDefault() {\n        this.browserEvent.preventDefault();\n    }\n    stopPropagation() {\n        this.browserEvent.stopPropagation();\n    }\n}\nexport class StandardWheelEvent {\n    constructor(e, deltaX = 0, deltaY = 0) {\n        this.browserEvent = e || null;\n        this.target = e ? (e.target || e.targetNode || e.srcElement) : null;\n        this.deltaY = deltaY;\n        this.deltaX = deltaX;\n        if (e) {\n            // Old (deprecated) wheel events\n            const e1 = e;\n            const e2 = e;\n            // vertical delta scroll\n            if (typeof e1.wheelDeltaY !== 'undefined') {\n                this.deltaY = e1.wheelDeltaY / 120;\n            }\n            else if (typeof e2.VERTICAL_AXIS !== 'undefined' && e2.axis === e2.VERTICAL_AXIS) {\n                this.deltaY = -e2.detail / 3;\n            }\n            else if (e.type === 'wheel') {\n                // Modern wheel event\n                // https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n                const ev = e;\n                if (ev.deltaMode === ev.DOM_DELTA_LINE) {\n                    // the deltas are expressed in lines\n                    if (browser.isFirefox && !platform.isMacintosh) {\n                        this.deltaY = -e.deltaY / 3;\n                    }\n                    else {\n                        this.deltaY = -e.deltaY;\n                    }\n                }\n                else {\n                    this.deltaY = -e.deltaY / 40;\n                }\n            }\n            // horizontal delta scroll\n            if (typeof e1.wheelDeltaX !== 'undefined') {\n                if (browser.isSafari && platform.isWindows) {\n                    this.deltaX = -(e1.wheelDeltaX / 120);\n                }\n                else {\n                    this.deltaX = e1.wheelDeltaX / 120;\n                }\n            }\n            else if (typeof e2.HORIZONTAL_AXIS !== 'undefined' && e2.axis === e2.HORIZONTAL_AXIS) {\n                this.deltaX = -e.detail / 3;\n            }\n            else if (e.type === 'wheel') {\n                // Modern wheel event\n                // https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent\n                const ev = e;\n                if (ev.deltaMode === ev.DOM_DELTA_LINE) {\n                    // the deltas are expressed in lines\n                    if (browser.isFirefox && !platform.isMacintosh) {\n                        this.deltaX = -e.deltaX / 3;\n                    }\n                    else {\n                        this.deltaX = -e.deltaX;\n                    }\n                }\n                else {\n                    this.deltaX = -e.deltaX / 40;\n                }\n            }\n            // Assume a vertical scroll if nothing else worked\n            if (this.deltaY === 0 && this.deltaX === 0 && e.wheelDelta) {\n                this.deltaY = e.wheelDelta / 120;\n            }\n        }\n    }\n    preventDefault() {\n        var _a;\n        (_a = this.browserEvent) === null || _a === void 0 ? void 0 : _a.preventDefault();\n    }\n    stopPropagation() {\n        var _a;\n        (_a = this.browserEvent) === null || _a === void 0 ? void 0 : _a.stopPropagation();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport var inputLatency;\n(function (inputLatency) {\n    const totalKeydownTime = { total: 0, min: Number.MAX_VALUE, max: 0 };\n    const totalInputTime = Object.assign({}, totalKeydownTime);\n    const totalRenderTime = Object.assign({}, totalKeydownTime);\n    const totalInputLatencyTime = Object.assign({}, totalKeydownTime);\n    let measurementsCount = 0;\n    const state = {\n        keydown: 0 /* EventPhase.Before */,\n        input: 0 /* EventPhase.Before */,\n        render: 0 /* EventPhase.Before */,\n    };\n    /**\n     * Record the start of the keydown event.\n     */\n    function onKeyDown() {\n        /** Direct Check C. See explanation in {@link recordIfFinished} */\n        recordIfFinished();\n        performance.mark('inputlatency/start');\n        performance.mark('keydown/start');\n        state.keydown = 1 /* EventPhase.InProgress */;\n        queueMicrotask(markKeyDownEnd);\n    }\n    inputLatency.onKeyDown = onKeyDown;\n    /**\n     * Mark the end of the keydown event.\n     */\n    function markKeyDownEnd() {\n        if (state.keydown === 1 /* EventPhase.InProgress */) {\n            performance.mark('keydown/end');\n            state.keydown = 2 /* EventPhase.Finished */;\n        }\n    }\n    /**\n     * Record the start of the beforeinput event.\n     */\n    function onBeforeInput() {\n        performance.mark('input/start');\n        state.input = 1 /* EventPhase.InProgress */;\n        /** Schedule Task A. See explanation in {@link recordIfFinished} */\n        scheduleRecordIfFinishedTask();\n    }\n    inputLatency.onBeforeInput = onBeforeInput;\n    /**\n     * Record the start of the input event.\n     */\n    function onInput() {\n        if (state.input === 0 /* EventPhase.Before */) {\n            // it looks like we didn't receive a `beforeinput`\n            onBeforeInput();\n        }\n        queueMicrotask(markInputEnd);\n    }\n    inputLatency.onInput = onInput;\n    function markInputEnd() {\n        if (state.input === 1 /* EventPhase.InProgress */) {\n            performance.mark('input/end');\n            state.input = 2 /* EventPhase.Finished */;\n        }\n    }\n    /**\n     * Record the start of the keyup event.\n     */\n    function onKeyUp() {\n        /** Direct Check D. See explanation in {@link recordIfFinished} */\n        recordIfFinished();\n    }\n    inputLatency.onKeyUp = onKeyUp;\n    /**\n     * Record the start of the selectionchange event.\n     */\n    function onSelectionChange() {\n        /** Direct Check E. See explanation in {@link recordIfFinished} */\n        recordIfFinished();\n    }\n    inputLatency.onSelectionChange = onSelectionChange;\n    /**\n     * Record the start of the animation frame performing the rendering.\n     */\n    function onRenderStart() {\n        // Render may be triggered during input, but we only measure the following animation frame\n        if (state.keydown === 2 /* EventPhase.Finished */ && state.input === 2 /* EventPhase.Finished */ && state.render === 0 /* EventPhase.Before */) {\n            // Only measure the first render after keyboard input\n            performance.mark('render/start');\n            state.render = 1 /* EventPhase.InProgress */;\n            queueMicrotask(markRenderEnd);\n            /** Schedule Task B. See explanation in {@link recordIfFinished} */\n            scheduleRecordIfFinishedTask();\n        }\n    }\n    inputLatency.onRenderStart = onRenderStart;\n    /**\n     * Mark the end of the animation frame performing the rendering.\n     */\n    function markRenderEnd() {\n        if (state.render === 1 /* EventPhase.InProgress */) {\n            performance.mark('render/end');\n            state.render = 2 /* EventPhase.Finished */;\n        }\n    }\n    function scheduleRecordIfFinishedTask() {\n        // Here we can safely assume that the `setTimeout` will not be\n        // artificially delayed by 4ms because we schedule it from\n        // event handlers\n        setTimeout(recordIfFinished);\n    }\n    /**\n     * Record the input latency sample if input handling and rendering are finished.\n     *\n     * The challenge here is that we want to record the latency in such a way that it includes\n     * also the layout and painting work the browser does during the animation frame task.\n     *\n     * Simply scheduling a new task (via `setTimeout`) from the animation frame task would\n     * schedule the new task at the end of the task queue (after other code that uses `setTimeout`),\n     * so we need to use multiple strategies to make sure our task runs before others:\n     *\n     * We schedule tasks (A and B):\n     *    - we schedule a task A (via a `setTimeout` call) when the input starts in `markInputStart`.\n     *      If the animation frame task is scheduled quickly by the browser, then task A has a very good\n     *      chance of being the very first task after the animation frame and thus will record the input latency.\n     *    - however, if the animation frame task is scheduled a bit later, then task A might execute\n     *      before the animation frame task. We therefore schedule another task B from `markRenderStart`.\n     *\n     * We do direct checks in browser event handlers (C, D, E):\n     *    - if the browser has multiple keydown events queued up, they will be scheduled before the `setTimeout` tasks,\n     *      so we do a direct check in the keydown event handler (C).\n     *    - depending on timing, sometimes the animation frame is scheduled even before the `keyup` event, so we\n     *      do a direct check there too (E).\n     *    - the browser oftentimes emits a `selectionchange` event after an `input`, so we do a direct check there (D).\n     */\n    function recordIfFinished() {\n        if (state.keydown === 2 /* EventPhase.Finished */ && state.input === 2 /* EventPhase.Finished */ && state.render === 2 /* EventPhase.Finished */) {\n            performance.mark('inputlatency/end');\n            performance.measure('keydown', 'keydown/start', 'keydown/end');\n            performance.measure('input', 'input/start', 'input/end');\n            performance.measure('render', 'render/start', 'render/end');\n            performance.measure('inputlatency', 'inputlatency/start', 'inputlatency/end');\n            addMeasure('keydown', totalKeydownTime);\n            addMeasure('input', totalInputTime);\n            addMeasure('render', totalRenderTime);\n            addMeasure('inputlatency', totalInputLatencyTime);\n            // console.info(\n            // \t`input latency=${performance.getEntriesByName('inputlatency')[0].duration.toFixed(1)} [` +\n            // \t`keydown=${performance.getEntriesByName('keydown')[0].duration.toFixed(1)}, ` +\n            // \t`input=${performance.getEntriesByName('input')[0].duration.toFixed(1)}, ` +\n            // \t`render=${performance.getEntriesByName('render')[0].duration.toFixed(1)}` +\n            // \t`]`\n            // );\n            measurementsCount++;\n            reset();\n        }\n    }\n    function addMeasure(entryName, cumulativeMeasurement) {\n        const duration = performance.getEntriesByName(entryName)[0].duration;\n        cumulativeMeasurement.total += duration;\n        cumulativeMeasurement.min = Math.min(cumulativeMeasurement.min, duration);\n        cumulativeMeasurement.max = Math.max(cumulativeMeasurement.max, duration);\n    }\n    /**\n     * Clear the current sample.\n     */\n    function reset() {\n        performance.clearMarks('keydown/start');\n        performance.clearMarks('keydown/end');\n        performance.clearMarks('input/start');\n        performance.clearMarks('input/end');\n        performance.clearMarks('render/start');\n        performance.clearMarks('render/end');\n        performance.clearMarks('inputlatency/start');\n        performance.clearMarks('inputlatency/end');\n        performance.clearMeasures('keydown');\n        performance.clearMeasures('input');\n        performance.clearMeasures('render');\n        performance.clearMeasures('inputlatency');\n        state.keydown = 0 /* EventPhase.Before */;\n        state.input = 0 /* EventPhase.Before */;\n        state.render = 0 /* EventPhase.Before */;\n    }\n    /**\n     * Gets all input latency samples and clears the internal buffers to start recording a new set\n     * of samples.\n     */\n    function getAndClearMeasurements() {\n        if (measurementsCount === 0) {\n            return undefined;\n        }\n        // Assemble the result\n        const result = {\n            keydown: cumulativeToFinalMeasurement(totalKeydownTime),\n            input: cumulativeToFinalMeasurement(totalInputTime),\n            render: cumulativeToFinalMeasurement(totalRenderTime),\n            total: cumulativeToFinalMeasurement(totalInputLatencyTime),\n            sampleCount: measurementsCount\n        };\n        // Clear the cumulative measurements\n        clearCumulativeMeasurement(totalKeydownTime);\n        clearCumulativeMeasurement(totalInputTime);\n        clearCumulativeMeasurement(totalRenderTime);\n        clearCumulativeMeasurement(totalInputLatencyTime);\n        measurementsCount = 0;\n        return result;\n    }\n    inputLatency.getAndClearMeasurements = getAndClearMeasurements;\n    function cumulativeToFinalMeasurement(cumulative) {\n        return {\n            average: cumulative.total / measurementsCount,\n            max: cumulative.max,\n            min: cumulative.min,\n        };\n    }\n    function clearCumulativeMeasurement(cumulative) {\n        cumulative.total = 0;\n        cumulative.min = Number.MAX_VALUE;\n        cumulative.max = 0;\n    }\n})(inputLatency || (inputLatency = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport * as DomUtils from './dom.js';\nimport * as arrays from '../common/arrays.js';\nimport { memoize } from '../common/decorators.js';\nimport { Disposable, markAsSingleton, toDisposable } from '../common/lifecycle.js';\nimport { LinkedList } from '../common/linkedList.js';\nexport var EventType;\n(function (EventType) {\n    EventType.Tap = '-monaco-gesturetap';\n    EventType.Change = '-monaco-gesturechange';\n    EventType.Start = '-monaco-gesturestart';\n    EventType.End = '-monaco-gesturesend';\n    EventType.Contextmenu = '-monaco-gesturecontextmenu';\n})(EventType || (EventType = {}));\nexport class Gesture extends Disposable {\n    constructor() {\n        super();\n        this.dispatched = false;\n        this.targets = new LinkedList();\n        this.ignoreTargets = new LinkedList();\n        this.activeTouches = {};\n        this.handle = null;\n        this._lastSetTapCountTime = 0;\n        this._register(DomUtils.addDisposableListener(document, 'touchstart', (e) => this.onTouchStart(e), { passive: false }));\n        this._register(DomUtils.addDisposableListener(document, 'touchend', (e) => this.onTouchEnd(e)));\n        this._register(DomUtils.addDisposableListener(document, 'touchmove', (e) => this.onTouchMove(e), { passive: false }));\n    }\n    static addTarget(element) {\n        if (!Gesture.isTouchDevice()) {\n            return Disposable.None;\n        }\n        if (!Gesture.INSTANCE) {\n            Gesture.INSTANCE = markAsSingleton(new Gesture());\n        }\n        const remove = Gesture.INSTANCE.targets.push(element);\n        return toDisposable(remove);\n    }\n    static ignoreTarget(element) {\n        if (!Gesture.isTouchDevice()) {\n            return Disposable.None;\n        }\n        if (!Gesture.INSTANCE) {\n            Gesture.INSTANCE = markAsSingleton(new Gesture());\n        }\n        const remove = Gesture.INSTANCE.ignoreTargets.push(element);\n        return toDisposable(remove);\n    }\n    static isTouchDevice() {\n        // `'ontouchstart' in window` always evaluates to true with typescript's modern typings. This causes `window` to be\n        // `never` later in `window.navigator`. That's why we need the explicit `window as Window` cast\n        return 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n    }\n    dispose() {\n        if (this.handle) {\n            this.handle.dispose();\n            this.handle = null;\n        }\n        super.dispose();\n    }\n    onTouchStart(e) {\n        const timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n        if (this.handle) {\n            this.handle.dispose();\n            this.handle = null;\n        }\n        for (let i = 0, len = e.targetTouches.length; i < len; i++) {\n            const touch = e.targetTouches.item(i);\n            this.activeTouches[touch.identifier] = {\n                id: touch.identifier,\n                initialTarget: touch.target,\n                initialTimeStamp: timestamp,\n                initialPageX: touch.pageX,\n                initialPageY: touch.pageY,\n                rollingTimestamps: [timestamp],\n                rollingPageX: [touch.pageX],\n                rollingPageY: [touch.pageY]\n            };\n            const evt = this.newGestureEvent(EventType.Start, touch.target);\n            evt.pageX = touch.pageX;\n            evt.pageY = touch.pageY;\n            this.dispatchEvent(evt);\n        }\n        if (this.dispatched) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dispatched = false;\n        }\n    }\n    onTouchEnd(e) {\n        const timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n        const activeTouchCount = Object.keys(this.activeTouches).length;\n        for (let i = 0, len = e.changedTouches.length; i < len; i++) {\n            const touch = e.changedTouches.item(i);\n            if (!this.activeTouches.hasOwnProperty(String(touch.identifier))) {\n                console.warn('move of an UNKNOWN touch', touch);\n                continue;\n            }\n            const data = this.activeTouches[touch.identifier], holdTime = Date.now() - data.initialTimeStamp;\n            if (holdTime < Gesture.HOLD_DELAY\n                && Math.abs(data.initialPageX - arrays.tail(data.rollingPageX)) < 30\n                && Math.abs(data.initialPageY - arrays.tail(data.rollingPageY)) < 30) {\n                const evt = this.newGestureEvent(EventType.Tap, data.initialTarget);\n                evt.pageX = arrays.tail(data.rollingPageX);\n                evt.pageY = arrays.tail(data.rollingPageY);\n                this.dispatchEvent(evt);\n            }\n            else if (holdTime >= Gesture.HOLD_DELAY\n                && Math.abs(data.initialPageX - arrays.tail(data.rollingPageX)) < 30\n                && Math.abs(data.initialPageY - arrays.tail(data.rollingPageY)) < 30) {\n                const evt = this.newGestureEvent(EventType.Contextmenu, data.initialTarget);\n                evt.pageX = arrays.tail(data.rollingPageX);\n                evt.pageY = arrays.tail(data.rollingPageY);\n                this.dispatchEvent(evt);\n            }\n            else if (activeTouchCount === 1) {\n                const finalX = arrays.tail(data.rollingPageX);\n                const finalY = arrays.tail(data.rollingPageY);\n                const deltaT = arrays.tail(data.rollingTimestamps) - data.rollingTimestamps[0];\n                const deltaX = finalX - data.rollingPageX[0];\n                const deltaY = finalY - data.rollingPageY[0];\n                // We need to get all the dispatch targets on the start of the inertia event\n                const dispatchTo = [...this.targets].filter(t => data.initialTarget instanceof Node && t.contains(data.initialTarget));\n                this.inertia(dispatchTo, timestamp, // time now\n                Math.abs(deltaX) / deltaT, // speed\n                deltaX > 0 ? 1 : -1, // x direction\n                finalX, // x now\n                Math.abs(deltaY) / deltaT, // y speed\n                deltaY > 0 ? 1 : -1, // y direction\n                finalY // y now\n                );\n            }\n            this.dispatchEvent(this.newGestureEvent(EventType.End, data.initialTarget));\n            // forget about this touch\n            delete this.activeTouches[touch.identifier];\n        }\n        if (this.dispatched) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dispatched = false;\n        }\n    }\n    newGestureEvent(type, initialTarget) {\n        const event = document.createEvent('CustomEvent');\n        event.initEvent(type, false, true);\n        event.initialTarget = initialTarget;\n        event.tapCount = 0;\n        return event;\n    }\n    dispatchEvent(event) {\n        if (event.type === EventType.Tap) {\n            const currentTime = (new Date()).getTime();\n            let setTapCount = 0;\n            if (currentTime - this._lastSetTapCountTime > Gesture.CLEAR_TAP_COUNT_TIME) {\n                setTapCount = 1;\n            }\n            else {\n                setTapCount = 2;\n            }\n            this._lastSetTapCountTime = currentTime;\n            event.tapCount = setTapCount;\n        }\n        else if (event.type === EventType.Change || event.type === EventType.Contextmenu) {\n            // tap is canceled by scrolling or context menu\n            this._lastSetTapCountTime = 0;\n        }\n        if (event.initialTarget instanceof Node) {\n            for (const ignoreTarget of this.ignoreTargets) {\n                if (ignoreTarget.contains(event.initialTarget)) {\n                    return;\n                }\n            }\n            for (const target of this.targets) {\n                if (target.contains(event.initialTarget)) {\n                    target.dispatchEvent(event);\n                    this.dispatched = true;\n                }\n            }\n        }\n    }\n    inertia(dispatchTo, t1, vX, dirX, x, vY, dirY, y) {\n        this.handle = DomUtils.scheduleAtNextAnimationFrame(() => {\n            const now = Date.now();\n            // velocity: old speed + accel_over_time\n            const deltaT = now - t1;\n            let delta_pos_x = 0, delta_pos_y = 0;\n            let stopped = true;\n            vX += Gesture.SCROLL_FRICTION * deltaT;\n            vY += Gesture.SCROLL_FRICTION * deltaT;\n            if (vX > 0) {\n                stopped = false;\n                delta_pos_x = dirX * vX * deltaT;\n            }\n            if (vY > 0) {\n                stopped = false;\n                delta_pos_y = dirY * vY * deltaT;\n            }\n            // dispatch translation event\n            const evt = this.newGestureEvent(EventType.Change);\n            evt.translationX = delta_pos_x;\n            evt.translationY = delta_pos_y;\n            dispatchTo.forEach(d => d.dispatchEvent(evt));\n            if (!stopped) {\n                this.inertia(dispatchTo, now, vX, dirX, x + delta_pos_x, vY, dirY, y + delta_pos_y);\n            }\n        });\n    }\n    onTouchMove(e) {\n        const timestamp = Date.now(); // use Date.now() because on FF e.timeStamp is not epoch based.\n        for (let i = 0, len = e.changedTouches.length; i < len; i++) {\n            const touch = e.changedTouches.item(i);\n            if (!this.activeTouches.hasOwnProperty(String(touch.identifier))) {\n                console.warn('end of an UNKNOWN touch', touch);\n                continue;\n            }\n            const data = this.activeTouches[touch.identifier];\n            const evt = this.newGestureEvent(EventType.Change, data.initialTarget);\n            evt.translationX = touch.pageX - arrays.tail(data.rollingPageX);\n            evt.translationY = touch.pageY - arrays.tail(data.rollingPageY);\n            evt.pageX = touch.pageX;\n            evt.pageY = touch.pageY;\n            this.dispatchEvent(evt);\n            // only keep a few data points, to average the final speed\n            if (data.rollingPageX.length > 3) {\n                data.rollingPageX.shift();\n                data.rollingPageY.shift();\n                data.rollingTimestamps.shift();\n            }\n            data.rollingPageX.push(touch.pageX);\n            data.rollingPageY.push(touch.pageY);\n            data.rollingTimestamps.push(timestamp);\n        }\n        if (this.dispatched) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dispatched = false;\n        }\n    }\n}\nGesture.SCROLL_FRICTION = -0.005;\nGesture.HOLD_DELAY = 700;\nGesture.CLEAR_TAP_COUNT_TIME = 400; // ms\n__decorate([\n    memoize\n], Gesture, \"isTouchDevice\", null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { onUnexpectedError } from '../common/errors.js';\nexport function createTrustedTypesPolicy(policyName, policyOptions) {\n    var _a;\n    const monacoEnvironment = globalThis.MonacoEnvironment;\n    if (monacoEnvironment === null || monacoEnvironment === void 0 ? void 0 : monacoEnvironment.createTrustedTypesPolicy) {\n        try {\n            return monacoEnvironment.createTrustedTypesPolicy(policyName, policyOptions);\n        }\n        catch (err) {\n            onUnexpectedError(err);\n            return undefined;\n        }\n    }\n    try {\n        return (_a = window.trustedTypes) === null || _a === void 0 ? void 0 : _a.createPolicy(policyName, policyOptions);\n    }\n    catch (err) {\n        onUnexpectedError(err);\n        return undefined;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFirefox } from '../../browser.js';\nimport { DataTransfers } from '../../dnd.js';\nimport { $, addDisposableListener, append, EventHelper, EventType } from '../../dom.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { setupCustomHover } from '../iconLabel/iconLabelHover.js';\nimport { SelectBox } from '../selectBox/selectBox.js';\nimport { Action, ActionRunner, Separator } from '../../../common/actions.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport * as types from '../../../common/types.js';\nimport './actionbar.css';\nimport * as nls from '../../../../nls.js';\nexport class BaseActionViewItem extends Disposable {\n    get action() {\n        return this._action;\n    }\n    constructor(context, action, options = {}) {\n        super();\n        this.options = options;\n        this._context = context || this;\n        this._action = action;\n        if (action instanceof Action) {\n            this._register(action.onDidChange(event => {\n                if (!this.element) {\n                    // we have not been rendered yet, so there\n                    // is no point in updating the UI\n                    return;\n                }\n                this.handleActionChangeEvent(event);\n            }));\n        }\n    }\n    handleActionChangeEvent(event) {\n        if (event.enabled !== undefined) {\n            this.updateEnabled();\n        }\n        if (event.checked !== undefined) {\n            this.updateChecked();\n        }\n        if (event.class !== undefined) {\n            this.updateClass();\n        }\n        if (event.label !== undefined) {\n            this.updateLabel();\n            this.updateTooltip();\n        }\n        if (event.tooltip !== undefined) {\n            this.updateTooltip();\n        }\n    }\n    get actionRunner() {\n        if (!this._actionRunner) {\n            this._actionRunner = this._register(new ActionRunner());\n        }\n        return this._actionRunner;\n    }\n    set actionRunner(actionRunner) {\n        this._actionRunner = actionRunner;\n    }\n    isEnabled() {\n        return this._action.enabled;\n    }\n    setActionContext(newContext) {\n        this._context = newContext;\n    }\n    render(container) {\n        const element = this.element = container;\n        this._register(Gesture.addTarget(container));\n        const enableDragging = this.options && this.options.draggable;\n        if (enableDragging) {\n            container.draggable = true;\n            if (isFirefox) {\n                // Firefox: requires to set a text data transfer to get going\n                this._register(addDisposableListener(container, EventType.DRAG_START, e => { var _a; return (_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.setData(DataTransfers.TEXT, this._action.label); }));\n            }\n        }\n        this._register(addDisposableListener(element, TouchEventType.Tap, e => this.onClick(e, true))); // Preserve focus on tap #125470\n        this._register(addDisposableListener(element, EventType.MOUSE_DOWN, e => {\n            if (!enableDragging) {\n                EventHelper.stop(e, true); // do not run when dragging is on because that would disable it\n            }\n            if (this._action.enabled && e.button === 0) {\n                element.classList.add('active');\n            }\n        }));\n        if (platform.isMacintosh) {\n            // macOS: allow to trigger the button when holding Ctrl+key and pressing the\n            // main mouse button. This is for scenarios where e.g. some interaction forces\n            // the Ctrl+key to be pressed and hold but the user still wants to interact\n            // with the actions (for example quick access in quick navigation mode).\n            this._register(addDisposableListener(element, EventType.CONTEXT_MENU, e => {\n                if (e.button === 0 && e.ctrlKey === true) {\n                    this.onClick(e);\n                }\n            }));\n        }\n        this._register(addDisposableListener(element, EventType.CLICK, e => {\n            EventHelper.stop(e, true);\n            // menus do not use the click event\n            if (!(this.options && this.options.isMenu)) {\n                this.onClick(e);\n            }\n        }));\n        this._register(addDisposableListener(element, EventType.DBLCLICK, e => {\n            EventHelper.stop(e, true);\n        }));\n        [EventType.MOUSE_UP, EventType.MOUSE_OUT].forEach(event => {\n            this._register(addDisposableListener(element, event, e => {\n                EventHelper.stop(e);\n                element.classList.remove('active');\n            }));\n        });\n    }\n    onClick(event, preserveFocus = false) {\n        var _a;\n        EventHelper.stop(event, true);\n        const context = types.isUndefinedOrNull(this._context) ? ((_a = this.options) === null || _a === void 0 ? void 0 : _a.useEventAsContext) ? event : { preserveFocus } : this._context;\n        this.actionRunner.run(this._action, context);\n    }\n    // Only set the tabIndex on the element once it is about to get focused\n    // That way this element wont be a tab stop when it is not needed #106441\n    focus() {\n        if (this.element) {\n            this.element.tabIndex = 0;\n            this.element.focus();\n            this.element.classList.add('focused');\n        }\n    }\n    blur() {\n        if (this.element) {\n            this.element.blur();\n            this.element.tabIndex = -1;\n            this.element.classList.remove('focused');\n        }\n    }\n    setFocusable(focusable) {\n        if (this.element) {\n            this.element.tabIndex = focusable ? 0 : -1;\n        }\n    }\n    get trapsArrowNavigation() {\n        return false;\n    }\n    updateEnabled() {\n        // implement in subclass\n    }\n    updateLabel() {\n        // implement in subclass\n    }\n    getTooltip() {\n        return this.action.tooltip;\n    }\n    updateTooltip() {\n        var _a;\n        if (!this.element) {\n            return;\n        }\n        const title = (_a = this.getTooltip()) !== null && _a !== void 0 ? _a : '';\n        this.updateAriaLabel();\n        if (!this.options.hoverDelegate) {\n            this.element.title = title;\n        }\n        else {\n            this.element.title = '';\n            if (!this.customHover) {\n                this.customHover = setupCustomHover(this.options.hoverDelegate, this.element, title);\n                this._store.add(this.customHover);\n            }\n            else {\n                this.customHover.update(title);\n            }\n        }\n    }\n    updateAriaLabel() {\n        var _a;\n        if (this.element) {\n            const title = (_a = this.getTooltip()) !== null && _a !== void 0 ? _a : '';\n            this.element.setAttribute('aria-label', title);\n        }\n    }\n    updateClass() {\n        // implement in subclass\n    }\n    updateChecked() {\n        // implement in subclass\n    }\n    dispose() {\n        if (this.element) {\n            this.element.remove();\n            this.element = undefined;\n        }\n        this._context = undefined;\n        super.dispose();\n    }\n}\nexport class ActionViewItem extends BaseActionViewItem {\n    constructor(context, action, options) {\n        super(context, action, options);\n        this.options = options;\n        this.options.icon = options.icon !== undefined ? options.icon : false;\n        this.options.label = options.label !== undefined ? options.label : true;\n        this.cssClass = '';\n    }\n    render(container) {\n        super.render(container);\n        if (this.element) {\n            this.label = append(this.element, $('a.action-label'));\n        }\n        if (this.label) {\n            this.label.setAttribute('role', this.getDefaultAriaRole());\n        }\n        if (this.options.label && this.options.keybinding && this.element) {\n            append(this.element, $('span.keybinding')).textContent = this.options.keybinding;\n        }\n        this.updateClass();\n        this.updateLabel();\n        this.updateTooltip();\n        this.updateEnabled();\n        this.updateChecked();\n    }\n    getDefaultAriaRole() {\n        if (this._action.id === Separator.ID) {\n            return 'presentation'; // A separator is a presentation item\n        }\n        else {\n            if (this.options.isMenu) {\n                return 'menuitem';\n            }\n            else {\n                return 'button';\n            }\n        }\n    }\n    // Only set the tabIndex on the element once it is about to get focused\n    // That way this element wont be a tab stop when it is not needed #106441\n    focus() {\n        if (this.label) {\n            this.label.tabIndex = 0;\n            this.label.focus();\n        }\n    }\n    blur() {\n        if (this.label) {\n            this.label.tabIndex = -1;\n        }\n    }\n    setFocusable(focusable) {\n        if (this.label) {\n            this.label.tabIndex = focusable ? 0 : -1;\n        }\n    }\n    updateLabel() {\n        if (this.options.label && this.label) {\n            this.label.textContent = this.action.label;\n        }\n    }\n    getTooltip() {\n        let title = null;\n        if (this.action.tooltip) {\n            title = this.action.tooltip;\n        }\n        else if (!this.options.label && this.action.label && this.options.icon) {\n            title = this.action.label;\n            if (this.options.keybinding) {\n                title = nls.localize({ key: 'titleLabel', comment: ['action title', 'action keybinding'] }, \"{0} ({1})\", title, this.options.keybinding);\n            }\n        }\n        return title !== null && title !== void 0 ? title : undefined;\n    }\n    updateClass() {\n        var _a;\n        if (this.cssClass && this.label) {\n            this.label.classList.remove(...this.cssClass.split(' '));\n        }\n        if (this.options.icon) {\n            this.cssClass = this.action.class;\n            if (this.label) {\n                this.label.classList.add('codicon');\n                if (this.cssClass) {\n                    this.label.classList.add(...this.cssClass.split(' '));\n                }\n            }\n            this.updateEnabled();\n        }\n        else {\n            (_a = this.label) === null || _a === void 0 ? void 0 : _a.classList.remove('codicon');\n        }\n    }\n    updateEnabled() {\n        var _a, _b;\n        if (this.action.enabled) {\n            if (this.label) {\n                this.label.removeAttribute('aria-disabled');\n                this.label.classList.remove('disabled');\n            }\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.classList.remove('disabled');\n        }\n        else {\n            if (this.label) {\n                this.label.setAttribute('aria-disabled', 'true');\n                this.label.classList.add('disabled');\n            }\n            (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.add('disabled');\n        }\n    }\n    updateAriaLabel() {\n        var _a;\n        if (this.label) {\n            const title = (_a = this.getTooltip()) !== null && _a !== void 0 ? _a : '';\n            this.label.setAttribute('aria-label', title);\n        }\n    }\n    updateChecked() {\n        if (this.label) {\n            if (this.action.checked !== undefined) {\n                this.label.classList.toggle('checked', this.action.checked);\n                this.label.setAttribute('aria-checked', this.action.checked ? 'true' : 'false');\n                this.label.setAttribute('role', 'checkbox');\n            }\n            else {\n                this.label.classList.remove('checked');\n                this.label.setAttribute('aria-checked', '');\n                this.label.setAttribute('role', this.getDefaultAriaRole());\n            }\n        }\n    }\n}\nexport class SelectActionViewItem extends BaseActionViewItem {\n    constructor(ctx, action, options, selected, contextViewProvider, styles, selectBoxOptions) {\n        super(ctx, action);\n        this.selectBox = new SelectBox(options, selected, contextViewProvider, styles, selectBoxOptions);\n        this.selectBox.setFocusable(false);\n        this._register(this.selectBox);\n        this.registerListeners();\n    }\n    select(index) {\n        this.selectBox.select(index);\n    }\n    registerListeners() {\n        this._register(this.selectBox.onDidSelect(e => this.runAction(e.selected, e.index)));\n    }\n    runAction(option, index) {\n        this.actionRunner.run(this._action, this.getActionContext(option, index));\n    }\n    getActionContext(option, index) {\n        return option;\n    }\n    setFocusable(focusable) {\n        this.selectBox.setFocusable(focusable);\n    }\n    focus() {\n        var _a;\n        (_a = this.selectBox) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    blur() {\n        var _a;\n        (_a = this.selectBox) === null || _a === void 0 ? void 0 : _a.blur();\n    }\n    render(container) {\n        this.selectBox.render(container);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as DOM from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { ActionViewItem, BaseActionViewItem } from './actionViewItems.js';\nimport { ActionRunner, Separator } from '../../../common/actions.js';\nimport { Emitter } from '../../../common/event.js';\nimport { Disposable, DisposableMap, DisposableStore, dispose } from '../../../common/lifecycle.js';\nimport * as types from '../../../common/types.js';\nimport './actionbar.css';\nexport class ActionBar extends Disposable {\n    constructor(container, options = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        super();\n        this._actionRunnerDisposables = this._register(new DisposableStore());\n        this.viewItemDisposables = this._register(new DisposableMap());\n        // Trigger Key Tracking\n        this.triggerKeyDown = false;\n        this.focusable = true;\n        this._onDidBlur = this._register(new Emitter());\n        this.onDidBlur = this._onDidBlur.event;\n        this._onDidCancel = this._register(new Emitter({ onWillAddFirstListener: () => this.cancelHasListener = true }));\n        this.onDidCancel = this._onDidCancel.event;\n        this.cancelHasListener = false;\n        this._onDidRun = this._register(new Emitter());\n        this.onDidRun = this._onDidRun.event;\n        this._onWillRun = this._register(new Emitter());\n        this.onWillRun = this._onWillRun.event;\n        this.options = options;\n        this._context = (_a = options.context) !== null && _a !== void 0 ? _a : null;\n        this._orientation = (_b = this.options.orientation) !== null && _b !== void 0 ? _b : 0 /* ActionsOrientation.HORIZONTAL */;\n        this._triggerKeys = {\n            keyDown: (_d = (_c = this.options.triggerKeys) === null || _c === void 0 ? void 0 : _c.keyDown) !== null && _d !== void 0 ? _d : false,\n            keys: (_f = (_e = this.options.triggerKeys) === null || _e === void 0 ? void 0 : _e.keys) !== null && _f !== void 0 ? _f : [3 /* KeyCode.Enter */, 10 /* KeyCode.Space */]\n        };\n        if (this.options.actionRunner) {\n            this._actionRunner = this.options.actionRunner;\n        }\n        else {\n            this._actionRunner = new ActionRunner();\n            this._actionRunnerDisposables.add(this._actionRunner);\n        }\n        this._actionRunnerDisposables.add(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));\n        this._actionRunnerDisposables.add(this._actionRunner.onWillRun(e => this._onWillRun.fire(e)));\n        this.viewItems = [];\n        this.focusedItem = undefined;\n        this.domNode = document.createElement('div');\n        this.domNode.className = 'monaco-action-bar';\n        if (options.animated !== false) {\n            this.domNode.classList.add('animated');\n        }\n        let previousKeys;\n        let nextKeys;\n        switch (this._orientation) {\n            case 0 /* ActionsOrientation.HORIZONTAL */:\n                previousKeys = [15 /* KeyCode.LeftArrow */];\n                nextKeys = [17 /* KeyCode.RightArrow */];\n                break;\n            case 1 /* ActionsOrientation.VERTICAL */:\n                previousKeys = [16 /* KeyCode.UpArrow */];\n                nextKeys = [18 /* KeyCode.DownArrow */];\n                this.domNode.className += ' vertical';\n                break;\n        }\n        this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            let eventHandled = true;\n            const focusedItem = typeof this.focusedItem === 'number' ? this.viewItems[this.focusedItem] : undefined;\n            if (previousKeys && (event.equals(previousKeys[0]) || event.equals(previousKeys[1]))) {\n                eventHandled = this.focusPrevious();\n            }\n            else if (nextKeys && (event.equals(nextKeys[0]) || event.equals(nextKeys[1]))) {\n                eventHandled = this.focusNext();\n            }\n            else if (event.equals(9 /* KeyCode.Escape */) && this.cancelHasListener) {\n                this._onDidCancel.fire();\n            }\n            else if (event.equals(14 /* KeyCode.Home */)) {\n                eventHandled = this.focusFirst();\n            }\n            else if (event.equals(13 /* KeyCode.End */)) {\n                eventHandled = this.focusLast();\n            }\n            else if (event.equals(2 /* KeyCode.Tab */) && focusedItem instanceof BaseActionViewItem && focusedItem.trapsArrowNavigation) {\n                eventHandled = this.focusNext();\n            }\n            else if (this.isTriggerKeyEvent(event)) {\n                // Staying out of the else branch even if not triggered\n                if (this._triggerKeys.keyDown) {\n                    this.doTrigger(event);\n                }\n                else {\n                    this.triggerKeyDown = true;\n                }\n            }\n            else {\n                eventHandled = false;\n            }\n            if (eventHandled) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        }));\n        this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            // Run action on Enter/Space\n            if (this.isTriggerKeyEvent(event)) {\n                if (!this._triggerKeys.keyDown && this.triggerKeyDown) {\n                    this.triggerKeyDown = false;\n                    this.doTrigger(event);\n                }\n                event.preventDefault();\n                event.stopPropagation();\n            }\n            // Recompute focused item\n            else if (event.equals(2 /* KeyCode.Tab */) || event.equals(1024 /* KeyMod.Shift */ | 2 /* KeyCode.Tab */)) {\n                this.updateFocusedItem();\n            }\n        }));\n        this.focusTracker = this._register(DOM.trackFocus(this.domNode));\n        this._register(this.focusTracker.onDidBlur(() => {\n            if (DOM.getActiveElement() === this.domNode || !DOM.isAncestor(DOM.getActiveElement(), this.domNode)) {\n                this._onDidBlur.fire();\n                this.previouslyFocusedItem = this.focusedItem;\n                this.focusedItem = undefined;\n                this.triggerKeyDown = false;\n            }\n        }));\n        this._register(this.focusTracker.onDidFocus(() => this.updateFocusedItem()));\n        this.actionsList = document.createElement('ul');\n        this.actionsList.className = 'actions-container';\n        if (this.options.highlightToggledItems) {\n            this.actionsList.classList.add('highlight-toggled');\n        }\n        this.actionsList.setAttribute('role', this.options.ariaRole || 'toolbar');\n        if (this.options.ariaLabel) {\n            this.actionsList.setAttribute('aria-label', this.options.ariaLabel);\n        }\n        this.domNode.appendChild(this.actionsList);\n        container.appendChild(this.domNode);\n    }\n    refreshRole() {\n        if (this.length() >= 2) {\n            this.actionsList.setAttribute('role', this.options.ariaRole || 'toolbar');\n        }\n        else {\n            this.actionsList.setAttribute('role', 'presentation');\n        }\n    }\n    // Some action bars should not be focusable at times\n    // When an action bar is not focusable make sure to make all the elements inside it not focusable\n    // When an action bar is focusable again, make sure the first item can be focused\n    setFocusable(focusable) {\n        this.focusable = focusable;\n        if (this.focusable) {\n            const firstEnabled = this.viewItems.find(vi => vi instanceof BaseActionViewItem && vi.isEnabled());\n            if (firstEnabled instanceof BaseActionViewItem) {\n                firstEnabled.setFocusable(true);\n            }\n        }\n        else {\n            this.viewItems.forEach(vi => {\n                if (vi instanceof BaseActionViewItem) {\n                    vi.setFocusable(false);\n                }\n            });\n        }\n    }\n    isTriggerKeyEvent(event) {\n        let ret = false;\n        this._triggerKeys.keys.forEach(keyCode => {\n            ret = ret || event.equals(keyCode);\n        });\n        return ret;\n    }\n    updateFocusedItem() {\n        for (let i = 0; i < this.actionsList.children.length; i++) {\n            const elem = this.actionsList.children[i];\n            if (DOM.isAncestor(DOM.getActiveElement(), elem)) {\n                this.focusedItem = i;\n                break;\n            }\n        }\n    }\n    get context() {\n        return this._context;\n    }\n    set context(context) {\n        this._context = context;\n        this.viewItems.forEach(i => i.setActionContext(context));\n    }\n    get actionRunner() {\n        return this._actionRunner;\n    }\n    set actionRunner(actionRunner) {\n        this._actionRunner = actionRunner;\n        // when setting a new `IActionRunner` make sure to dispose old listeners and\n        // start to forward events from the new listener\n        this._actionRunnerDisposables.clear();\n        this._actionRunnerDisposables.add(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));\n        this._actionRunnerDisposables.add(this._actionRunner.onWillRun(e => this._onWillRun.fire(e)));\n        this.viewItems.forEach(item => item.actionRunner = actionRunner);\n    }\n    getContainer() {\n        return this.domNode;\n    }\n    getAction(indexOrElement) {\n        var _a;\n        // by index\n        if (typeof indexOrElement === 'number') {\n            return (_a = this.viewItems[indexOrElement]) === null || _a === void 0 ? void 0 : _a.action;\n        }\n        // by element\n        if (indexOrElement instanceof HTMLElement) {\n            while (indexOrElement.parentElement !== this.actionsList) {\n                if (!indexOrElement.parentElement) {\n                    return undefined;\n                }\n                indexOrElement = indexOrElement.parentElement;\n            }\n            for (let i = 0; i < this.actionsList.childNodes.length; i++) {\n                if (this.actionsList.childNodes[i] === indexOrElement) {\n                    return this.viewItems[i].action;\n                }\n            }\n        }\n        return undefined;\n    }\n    push(arg, options = {}) {\n        const actions = Array.isArray(arg) ? arg : [arg];\n        let index = types.isNumber(options.index) ? options.index : null;\n        actions.forEach((action) => {\n            const actionViewItemElement = document.createElement('li');\n            actionViewItemElement.className = 'action-item';\n            actionViewItemElement.setAttribute('role', 'presentation');\n            let item;\n            const viewItemOptions = Object.assign({ hoverDelegate: this.options.hoverDelegate }, options);\n            if (this.options.actionViewItemProvider) {\n                item = this.options.actionViewItemProvider(action, viewItemOptions);\n            }\n            if (!item) {\n                item = new ActionViewItem(this.context, action, viewItemOptions);\n            }\n            // Prevent native context menu on actions\n            if (!this.options.allowContextMenu) {\n                this.viewItemDisposables.set(item, DOM.addDisposableListener(actionViewItemElement, DOM.EventType.CONTEXT_MENU, (e) => {\n                    DOM.EventHelper.stop(e, true);\n                }));\n            }\n            item.actionRunner = this._actionRunner;\n            item.setActionContext(this.context);\n            item.render(actionViewItemElement);\n            if (this.focusable && item instanceof BaseActionViewItem && this.viewItems.length === 0) {\n                // We need to allow for the first enabled item to be focused on using tab navigation #106441\n                item.setFocusable(true);\n            }\n            if (index === null || index < 0 || index >= this.actionsList.children.length) {\n                this.actionsList.appendChild(actionViewItemElement);\n                this.viewItems.push(item);\n            }\n            else {\n                this.actionsList.insertBefore(actionViewItemElement, this.actionsList.children[index]);\n                this.viewItems.splice(index, 0, item);\n                index++;\n            }\n        });\n        if (typeof this.focusedItem === 'number') {\n            // After a clear actions might be re-added to simply toggle some actions. We should preserve focus #97128\n            this.focus(this.focusedItem);\n        }\n        this.refreshRole();\n    }\n    clear() {\n        if (this.isEmpty()) {\n            return;\n        }\n        this.viewItems = dispose(this.viewItems);\n        this.viewItemDisposables.clearAndDisposeAll();\n        DOM.clearNode(this.actionsList);\n        this.refreshRole();\n    }\n    length() {\n        return this.viewItems.length;\n    }\n    isEmpty() {\n        return this.viewItems.length === 0;\n    }\n    focus(arg) {\n        let selectFirst = false;\n        let index = undefined;\n        if (arg === undefined) {\n            selectFirst = true;\n        }\n        else if (typeof arg === 'number') {\n            index = arg;\n        }\n        else if (typeof arg === 'boolean') {\n            selectFirst = arg;\n        }\n        if (selectFirst && typeof this.focusedItem === 'undefined') {\n            const firstEnabled = this.viewItems.findIndex(item => item.isEnabled());\n            // Focus the first enabled item\n            this.focusedItem = firstEnabled === -1 ? undefined : firstEnabled;\n            this.updateFocus(undefined, undefined, true);\n        }\n        else {\n            if (index !== undefined) {\n                this.focusedItem = index;\n            }\n            this.updateFocus(undefined, undefined, true);\n        }\n    }\n    focusFirst() {\n        this.focusedItem = this.length() - 1;\n        return this.focusNext(true);\n    }\n    focusLast() {\n        this.focusedItem = 0;\n        return this.focusPrevious(true);\n    }\n    focusNext(forceLoop) {\n        if (typeof this.focusedItem === 'undefined') {\n            this.focusedItem = this.viewItems.length - 1;\n        }\n        else if (this.viewItems.length <= 1) {\n            return false;\n        }\n        const startIndex = this.focusedItem;\n        let item;\n        do {\n            if (!forceLoop && this.options.preventLoopNavigation && this.focusedItem + 1 >= this.viewItems.length) {\n                this.focusedItem = startIndex;\n                return false;\n            }\n            this.focusedItem = (this.focusedItem + 1) % this.viewItems.length;\n            item = this.viewItems[this.focusedItem];\n        } while (this.focusedItem !== startIndex && ((this.options.focusOnlyEnabledItems && !item.isEnabled()) || item.action.id === Separator.ID));\n        this.updateFocus();\n        return true;\n    }\n    focusPrevious(forceLoop) {\n        if (typeof this.focusedItem === 'undefined') {\n            this.focusedItem = 0;\n        }\n        else if (this.viewItems.length <= 1) {\n            return false;\n        }\n        const startIndex = this.focusedItem;\n        let item;\n        do {\n            this.focusedItem = this.focusedItem - 1;\n            if (this.focusedItem < 0) {\n                if (!forceLoop && this.options.preventLoopNavigation) {\n                    this.focusedItem = startIndex;\n                    return false;\n                }\n                this.focusedItem = this.viewItems.length - 1;\n            }\n            item = this.viewItems[this.focusedItem];\n        } while (this.focusedItem !== startIndex && ((this.options.focusOnlyEnabledItems && !item.isEnabled()) || item.action.id === Separator.ID));\n        this.updateFocus(true);\n        return true;\n    }\n    updateFocus(fromRight, preventScroll, forceFocus = false) {\n        var _a;\n        if (typeof this.focusedItem === 'undefined') {\n            this.actionsList.focus({ preventScroll });\n        }\n        if (this.previouslyFocusedItem !== undefined && this.previouslyFocusedItem !== this.focusedItem) {\n            (_a = this.viewItems[this.previouslyFocusedItem]) === null || _a === void 0 ? void 0 : _a.blur();\n        }\n        const actionViewItem = this.focusedItem !== undefined && this.viewItems[this.focusedItem];\n        if (actionViewItem) {\n            let focusItem = true;\n            if (!types.isFunction(actionViewItem.focus)) {\n                focusItem = false;\n            }\n            if (this.options.focusOnlyEnabledItems && types.isFunction(actionViewItem.isEnabled) && !actionViewItem.isEnabled()) {\n                focusItem = false;\n            }\n            if (actionViewItem.action.id === Separator.ID) {\n                focusItem = false;\n            }\n            if (!focusItem) {\n                this.actionsList.focus({ preventScroll });\n                this.previouslyFocusedItem = undefined;\n            }\n            else if (forceFocus || this.previouslyFocusedItem !== this.focusedItem) {\n                actionViewItem.focus(fromRight);\n                this.previouslyFocusedItem = this.focusedItem;\n            }\n        }\n    }\n    doTrigger(event) {\n        if (typeof this.focusedItem === 'undefined') {\n            return; //nothing to focus\n        }\n        // trigger action\n        const actionViewItem = this.viewItems[this.focusedItem];\n        if (actionViewItem instanceof BaseActionViewItem) {\n            const context = (actionViewItem._context === null || actionViewItem._context === undefined) ? event : actionViewItem._context;\n            this.run(actionViewItem._action, context);\n        }\n    }\n    run(action, context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._actionRunner.run(action, context);\n        });\n    }\n    dispose() {\n        this._context = undefined;\n        this.viewItems = dispose(this.viewItems);\n        this.getContainer().remove();\n        super.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport './aria.css';\n// Use a max length since we are inserting the whole msg in the DOM and that can cause browsers to freeze for long messages #94233\nconst MAX_MESSAGE_LENGTH = 20000;\nlet ariaContainer;\nlet alertContainer;\nlet alertContainer2;\nlet statusContainer;\nlet statusContainer2;\nexport function setARIAContainer(parent) {\n    ariaContainer = document.createElement('div');\n    ariaContainer.className = 'monaco-aria-container';\n    const createAlertContainer = () => {\n        const element = document.createElement('div');\n        element.className = 'monaco-alert';\n        element.setAttribute('role', 'alert');\n        element.setAttribute('aria-atomic', 'true');\n        ariaContainer.appendChild(element);\n        return element;\n    };\n    alertContainer = createAlertContainer();\n    alertContainer2 = createAlertContainer();\n    const createStatusContainer = () => {\n        const element = document.createElement('div');\n        element.className = 'monaco-status';\n        element.setAttribute('aria-live', 'polite');\n        element.setAttribute('aria-atomic', 'true');\n        ariaContainer.appendChild(element);\n        return element;\n    };\n    statusContainer = createStatusContainer();\n    statusContainer2 = createStatusContainer();\n    parent.appendChild(ariaContainer);\n}\n/**\n * Given the provided message, will make sure that it is read as alert to screen readers.\n */\nexport function alert(msg) {\n    if (!ariaContainer) {\n        return;\n    }\n    // Use alternate containers such that duplicated messages get read out by screen readers #99466\n    if (alertContainer.textContent !== msg) {\n        dom.clearNode(alertContainer2);\n        insertMessage(alertContainer, msg);\n    }\n    else {\n        dom.clearNode(alertContainer);\n        insertMessage(alertContainer2, msg);\n    }\n}\n/**\n * Given the provided message, will make sure that it is read as status to screen readers.\n */\nexport function status(msg) {\n    if (!ariaContainer) {\n        return;\n    }\n    if (statusContainer.textContent !== msg) {\n        dom.clearNode(statusContainer2);\n        insertMessage(statusContainer, msg);\n    }\n    else {\n        dom.clearNode(statusContainer);\n        insertMessage(statusContainer2, msg);\n    }\n}\nfunction insertMessage(target, msg) {\n    dom.clearNode(target);\n    if (msg.length > MAX_MESSAGE_LENGTH) {\n        msg = msg.substr(0, MAX_MESSAGE_LENGTH);\n    }\n    target.textContent = msg;\n    // See https://www.paciellogroup.com/blog/2012/06/html5-accessibility-chops-aria-rolealert-browser-support/\n    target.style.visibility = 'hidden';\n    target.style.visibility = 'visible';\n}\n","import { addDisposableListener, EventHelper, EventType, reset, trackFocus } from '../../dom.js';\nimport { sanitize } from '../../dompurify/dompurify.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { renderMarkdown, renderStringAsPlaintext } from '../../markdownRenderer.js';\nimport { Gesture, EventType as TouchEventType } from '../../touch.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nimport { Color } from '../../../common/color.js';\nimport { Emitter } from '../../../common/event.js';\nimport { isMarkdownString, markdownStringEqual } from '../../../common/htmlContent.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './button.css';\nexport const unthemedButtonStyles = {\n    buttonBackground: '#0E639C',\n    buttonHoverBackground: '#006BB3',\n    buttonSeparator: Color.white.toString(),\n    buttonForeground: Color.white.toString(),\n    buttonBorder: undefined,\n    buttonSecondaryBackground: undefined,\n    buttonSecondaryForeground: undefined,\n    buttonSecondaryHoverBackground: undefined\n};\nexport class Button extends Disposable {\n    get onDidClick() { return this._onDidClick.event; }\n    constructor(container, options) {\n        super();\n        this._label = '';\n        this._onDidClick = this._register(new Emitter());\n        this.options = options;\n        this._element = document.createElement('a');\n        this._element.classList.add('monaco-button');\n        this._element.tabIndex = 0;\n        this._element.setAttribute('role', 'button');\n        this._element.classList.toggle('secondary', !!options.secondary);\n        const background = options.secondary ? options.buttonSecondaryBackground : options.buttonBackground;\n        const foreground = options.secondary ? options.buttonSecondaryForeground : options.buttonForeground;\n        this._element.style.color = foreground || '';\n        this._element.style.backgroundColor = background || '';\n        if (options.supportShortLabel) {\n            this._labelShortElement = document.createElement('div');\n            this._labelShortElement.classList.add('monaco-button-label-short');\n            this._element.appendChild(this._labelShortElement);\n            this._labelElement = document.createElement('div');\n            this._labelElement.classList.add('monaco-button-label');\n            this._element.appendChild(this._labelElement);\n            this._element.classList.add('monaco-text-button-with-short-label');\n        }\n        container.appendChild(this._element);\n        this._register(Gesture.addTarget(this._element));\n        [EventType.CLICK, TouchEventType.Tap].forEach(eventType => {\n            this._register(addDisposableListener(this._element, eventType, e => {\n                if (!this.enabled) {\n                    EventHelper.stop(e);\n                    return;\n                }\n                this._onDidClick.fire(e);\n            }));\n        });\n        this._register(addDisposableListener(this._element, EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            let eventHandled = false;\n            if (this.enabled && (event.equals(3 /* KeyCode.Enter */) || event.equals(10 /* KeyCode.Space */))) {\n                this._onDidClick.fire(e);\n                eventHandled = true;\n            }\n            else if (event.equals(9 /* KeyCode.Escape */)) {\n                this._element.blur();\n                eventHandled = true;\n            }\n            if (eventHandled) {\n                EventHelper.stop(event, true);\n            }\n        }));\n        this._register(addDisposableListener(this._element, EventType.MOUSE_OVER, e => {\n            if (!this._element.classList.contains('disabled')) {\n                this.updateBackground(true);\n            }\n        }));\n        this._register(addDisposableListener(this._element, EventType.MOUSE_OUT, e => {\n            this.updateBackground(false); // restore standard styles\n        }));\n        // Also set hover background when button is focused for feedback\n        this.focusTracker = this._register(trackFocus(this._element));\n        this._register(this.focusTracker.onDidFocus(() => { if (this.enabled) {\n            this.updateBackground(true);\n        } }));\n        this._register(this.focusTracker.onDidBlur(() => { if (this.enabled) {\n            this.updateBackground(false);\n        } }));\n    }\n    dispose() {\n        super.dispose();\n        this._element.remove();\n    }\n    getContentElements(content) {\n        const elements = [];\n        for (let segment of renderLabelWithIcons(content)) {\n            if (typeof (segment) === 'string') {\n                segment = segment.trim();\n                // Ignore empty segment\n                if (segment === '') {\n                    continue;\n                }\n                // Convert string segments to <span> nodes\n                const node = document.createElement('span');\n                node.textContent = segment;\n                elements.push(node);\n            }\n            else {\n                elements.push(segment);\n            }\n        }\n        return elements;\n    }\n    updateBackground(hover) {\n        let background;\n        if (this.options.secondary) {\n            background = hover ? this.options.buttonSecondaryHoverBackground : this.options.buttonSecondaryBackground;\n        }\n        else {\n            background = hover ? this.options.buttonHoverBackground : this.options.buttonBackground;\n        }\n        if (background) {\n            this._element.style.backgroundColor = background;\n        }\n    }\n    get element() {\n        return this._element;\n    }\n    set label(value) {\n        var _a;\n        if (this._label === value) {\n            return;\n        }\n        if (isMarkdownString(this._label) && isMarkdownString(value) && markdownStringEqual(this._label, value)) {\n            return;\n        }\n        this._element.classList.add('monaco-text-button');\n        const labelElement = this.options.supportShortLabel ? this._labelElement : this._element;\n        if (isMarkdownString(value)) {\n            const rendered = renderMarkdown(value, { inline: true });\n            rendered.dispose();\n            // Don't include outer `<p>`\n            const root = (_a = rendered.element.querySelector('p')) === null || _a === void 0 ? void 0 : _a.innerHTML;\n            if (root) {\n                // Only allow a very limited set of inline html tags\n                const sanitized = sanitize(root, { ADD_TAGS: ['b', 'i', 'u', 'code', 'span'], ALLOWED_ATTR: ['class'], RETURN_TRUSTED_TYPE: true });\n                labelElement.innerHTML = sanitized;\n            }\n            else {\n                reset(labelElement);\n            }\n        }\n        else {\n            if (this.options.supportIcons) {\n                reset(labelElement, ...this.getContentElements(value));\n            }\n            else {\n                labelElement.textContent = value;\n            }\n        }\n        if (typeof this.options.title === 'string') {\n            this._element.title = this.options.title;\n        }\n        else if (this.options.title) {\n            this._element.title = renderStringAsPlaintext(value);\n        }\n        this._label = value;\n    }\n    get label() {\n        return this._label;\n    }\n    set enabled(value) {\n        if (value) {\n            this._element.classList.remove('disabled');\n            this._element.setAttribute('aria-disabled', String(false));\n            this._element.tabIndex = 0;\n        }\n        else {\n            this._element.classList.add('disabled');\n            this._element.setAttribute('aria-disabled', String(true));\n        }\n    }\n    get enabled() {\n        return !this._element.classList.contains('disabled');\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { BrowserFeatures } from '../../canIUse.js';\nimport * as DOM from '../../dom.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../common/lifecycle.js';\nimport * as platform from '../../../common/platform.js';\nimport { Range } from '../../../common/range.js';\nimport './contextview.css';\nexport function isAnchor(obj) {\n    const anchor = obj;\n    return !!anchor && typeof anchor.x === 'number' && typeof anchor.y === 'number';\n}\nexport var LayoutAnchorMode;\n(function (LayoutAnchorMode) {\n    LayoutAnchorMode[LayoutAnchorMode[\"AVOID\"] = 0] = \"AVOID\";\n    LayoutAnchorMode[LayoutAnchorMode[\"ALIGN\"] = 1] = \"ALIGN\";\n})(LayoutAnchorMode || (LayoutAnchorMode = {}));\n/**\n * Lays out a one dimensional view next to an anchor in a viewport.\n *\n * @returns The view offset within the viewport.\n */\nexport function layout(viewportSize, viewSize, anchor) {\n    const layoutAfterAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset : anchor.offset + anchor.size;\n    const layoutBeforeAnchorBoundary = anchor.mode === LayoutAnchorMode.ALIGN ? anchor.offset + anchor.size : anchor.offset;\n    if (anchor.position === 0 /* LayoutAnchorPosition.Before */) {\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // happy case, lay it out after the anchor\n        }\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // ok case, lay it out before the anchor\n        }\n        return Math.max(viewportSize - viewSize, 0); // sad case, lay it over the anchor\n    }\n    else {\n        if (viewSize <= layoutBeforeAnchorBoundary) {\n            return layoutBeforeAnchorBoundary - viewSize; // happy case, lay it out before the anchor\n        }\n        if (viewSize <= viewportSize - layoutAfterAnchorBoundary) {\n            return layoutAfterAnchorBoundary; // ok case, lay it out after the anchor\n        }\n        return 0; // sad case, lay it over the anchor\n    }\n}\nexport class ContextView extends Disposable {\n    constructor(container, domPosition) {\n        super();\n        this.container = null;\n        this.delegate = null;\n        this.toDisposeOnClean = Disposable.None;\n        this.toDisposeOnSetContainer = Disposable.None;\n        this.shadowRoot = null;\n        this.shadowRootHostElement = null;\n        this.view = DOM.$('.context-view');\n        this.useFixedPosition = false;\n        this.useShadowDOM = false;\n        DOM.hide(this.view);\n        this.setContainer(container, domPosition);\n        this._register(toDisposable(() => this.setContainer(null, 1 /* ContextViewDOMPosition.ABSOLUTE */)));\n    }\n    setContainer(container, domPosition) {\n        var _a;\n        if (this.container) {\n            this.toDisposeOnSetContainer.dispose();\n            if (this.shadowRoot) {\n                this.shadowRoot.removeChild(this.view);\n                this.shadowRoot = null;\n                (_a = this.shadowRootHostElement) === null || _a === void 0 ? void 0 : _a.remove();\n                this.shadowRootHostElement = null;\n            }\n            else {\n                this.container.removeChild(this.view);\n            }\n            this.container = null;\n        }\n        if (container) {\n            this.container = container;\n            this.useFixedPosition = domPosition !== 1 /* ContextViewDOMPosition.ABSOLUTE */;\n            this.useShadowDOM = domPosition === 3 /* ContextViewDOMPosition.FIXED_SHADOW */;\n            if (this.useShadowDOM) {\n                this.shadowRootHostElement = DOM.$('.shadow-root-host');\n                this.container.appendChild(this.shadowRootHostElement);\n                this.shadowRoot = this.shadowRootHostElement.attachShadow({ mode: 'open' });\n                const style = document.createElement('style');\n                style.textContent = SHADOW_ROOT_CSS;\n                this.shadowRoot.appendChild(style);\n                this.shadowRoot.appendChild(this.view);\n                this.shadowRoot.appendChild(DOM.$('slot'));\n            }\n            else {\n                this.container.appendChild(this.view);\n            }\n            const toDisposeOnSetContainer = new DisposableStore();\n            ContextView.BUBBLE_UP_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, (e) => {\n                    this.onDOMEvent(e, false);\n                }));\n            });\n            ContextView.BUBBLE_DOWN_EVENTS.forEach(event => {\n                toDisposeOnSetContainer.add(DOM.addStandardDisposableListener(this.container, event, (e) => {\n                    this.onDOMEvent(e, true);\n                }, true));\n            });\n            this.toDisposeOnSetContainer = toDisposeOnSetContainer;\n        }\n    }\n    show(delegate) {\n        var _a, _b;\n        if (this.isVisible()) {\n            this.hide();\n        }\n        // Show static box\n        DOM.clearNode(this.view);\n        this.view.className = 'context-view';\n        this.view.style.top = '0px';\n        this.view.style.left = '0px';\n        this.view.style.zIndex = '2575';\n        this.view.style.position = this.useFixedPosition ? 'fixed' : 'absolute';\n        DOM.show(this.view);\n        // Render content\n        this.toDisposeOnClean = delegate.render(this.view) || Disposable.None;\n        // Set active delegate\n        this.delegate = delegate;\n        // Layout\n        this.doLayout();\n        // Focus\n        (_b = (_a = this.delegate).focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    getViewElement() {\n        return this.view;\n    }\n    layout() {\n        if (!this.isVisible()) {\n            return;\n        }\n        if (this.delegate.canRelayout === false && !(platform.isIOS && BrowserFeatures.pointerEvents)) {\n            this.hide();\n            return;\n        }\n        if (this.delegate.layout) {\n            this.delegate.layout();\n        }\n        this.doLayout();\n    }\n    doLayout() {\n        // Check that we still have a delegate - this.delegate.layout may have hidden\n        if (!this.isVisible()) {\n            return;\n        }\n        // Get anchor\n        const anchor = this.delegate.getAnchor();\n        // Compute around\n        let around;\n        // Get the element's position and size (to anchor the view)\n        if (DOM.isHTMLElement(anchor)) {\n            const elementPosition = DOM.getDomNodePagePosition(anchor);\n            // In areas where zoom is applied to the element or its ancestors, we need to adjust the size of the element\n            // e.g. The title bar has counter zoom behavior meaning it applies the inverse of zoom level.\n            // Window Zoom Level: 1.5, Title Bar Zoom: 1/1.5, Size Multiplier: 1.5\n            const zoom = DOM.getDomNodeZoomLevel(anchor);\n            around = {\n                top: elementPosition.top * zoom,\n                left: elementPosition.left * zoom,\n                width: elementPosition.width * zoom,\n                height: elementPosition.height * zoom\n            };\n        }\n        else if (isAnchor(anchor)) {\n            around = {\n                top: anchor.y,\n                left: anchor.x,\n                width: anchor.width || 1,\n                height: anchor.height || 2\n            };\n        }\n        else {\n            around = {\n                top: anchor.posy,\n                left: anchor.posx,\n                // We are about to position the context view where the mouse\n                // cursor is. To prevent the view being exactly under the mouse\n                // when showing and thus potentially triggering an action within,\n                // we treat the mouse location like a small sized block element.\n                width: 2,\n                height: 2\n            };\n        }\n        const viewSizeWidth = DOM.getTotalWidth(this.view);\n        const viewSizeHeight = DOM.getTotalHeight(this.view);\n        const anchorPosition = this.delegate.anchorPosition || 0 /* AnchorPosition.BELOW */;\n        const anchorAlignment = this.delegate.anchorAlignment || 0 /* AnchorAlignment.LEFT */;\n        const anchorAxisAlignment = this.delegate.anchorAxisAlignment || 0 /* AnchorAxisAlignment.VERTICAL */;\n        let top;\n        let left;\n        if (anchorAxisAlignment === 0 /* AnchorAxisAlignment.VERTICAL */) {\n            const verticalAnchor = { offset: around.top - window.pageYOffset, size: around.height, position: anchorPosition === 0 /* AnchorPosition.BELOW */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */ };\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */, mode: LayoutAnchorMode.ALIGN };\n            top = layout(window.innerHeight, viewSizeHeight, verticalAnchor) + window.pageYOffset;\n            // if view intersects vertically with anchor,  we must avoid the anchor\n            if (Range.intersects({ start: top, end: top + viewSizeHeight }, { start: verticalAnchor.offset, end: verticalAnchor.offset + verticalAnchor.size })) {\n                horizontalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            left = layout(window.innerWidth, viewSizeWidth, horizontalAnchor);\n        }\n        else {\n            const horizontalAnchor = { offset: around.left, size: around.width, position: anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */ };\n            const verticalAnchor = { offset: around.top, size: around.height, position: anchorPosition === 0 /* AnchorPosition.BELOW */ ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */, mode: LayoutAnchorMode.ALIGN };\n            left = layout(window.innerWidth, viewSizeWidth, horizontalAnchor);\n            // if view intersects horizontally with anchor, we must avoid the anchor\n            if (Range.intersects({ start: left, end: left + viewSizeWidth }, { start: horizontalAnchor.offset, end: horizontalAnchor.offset + horizontalAnchor.size })) {\n                verticalAnchor.mode = LayoutAnchorMode.AVOID;\n            }\n            top = layout(window.innerHeight, viewSizeHeight, verticalAnchor) + window.pageYOffset;\n        }\n        this.view.classList.remove('top', 'bottom', 'left', 'right');\n        this.view.classList.add(anchorPosition === 0 /* AnchorPosition.BELOW */ ? 'bottom' : 'top');\n        this.view.classList.add(anchorAlignment === 0 /* AnchorAlignment.LEFT */ ? 'left' : 'right');\n        this.view.classList.toggle('fixed', this.useFixedPosition);\n        const containerPosition = DOM.getDomNodePagePosition(this.container);\n        this.view.style.top = `${top - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).top : containerPosition.top)}px`;\n        this.view.style.left = `${left - (this.useFixedPosition ? DOM.getDomNodePagePosition(this.view).left : containerPosition.left)}px`;\n        this.view.style.width = 'initial';\n    }\n    hide(data) {\n        const delegate = this.delegate;\n        this.delegate = null;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.onHide) {\n            delegate.onHide(data);\n        }\n        this.toDisposeOnClean.dispose();\n        DOM.hide(this.view);\n    }\n    isVisible() {\n        return !!this.delegate;\n    }\n    onDOMEvent(e, onCapture) {\n        if (this.delegate) {\n            if (this.delegate.onDOMEvent) {\n                this.delegate.onDOMEvent(e, document.activeElement);\n            }\n            else if (onCapture && !DOM.isAncestor(e.target, this.container)) {\n                this.hide();\n            }\n        }\n    }\n    dispose() {\n        this.hide();\n        super.dispose();\n    }\n}\nContextView.BUBBLE_UP_EVENTS = ['click', 'keydown', 'focus', 'blur'];\nContextView.BUBBLE_DOWN_EVENTS = ['click'];\nconst SHADOW_ROOT_CSS = /* css */ `\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t.codicon[class*='codicon-'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe WPC\", \"Segoe UI\", \"HelveticaNeue-Light\", system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang SC\", \"Hiragino Sans GB\", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, \"PingFang TC\", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, \"Hiragino Kaku Gothic Pro\", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, \"Nanum Gothic\", \"Apple SD Gothic Neo\", \"AppleGothic\", sans-serif; }\n\n\t:host-context(.windows) { font-family: \"Segoe WPC\", \"Segoe UI\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft YaHei\", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Microsoft Jhenghei\", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Yu Gothic UI\", \"Meiryo UI\", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: \"Segoe WPC\", \"Segoe UI\", \"Malgun Gothic\", \"Dotom\", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans SC\", \"Source Han Sans CN\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans TC\", \"Source Han Sans TW\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans J\", \"Source Han Sans JP\", \"Source Han Sans\", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, \"Ubuntu\", \"Droid Sans\", \"Source Han Sans K\", \"Source Han Sans JR\", \"Source Han Sans\", \"UnDotum\", \"FBaekmuk Gulim\", sans-serif; }\n`;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, append } from '../../dom.js';\nimport { format } from '../../../common/strings.js';\nimport './countBadge.css';\nexport class CountBadge {\n    constructor(container, options, styles) {\n        this.options = options;\n        this.styles = styles;\n        this.count = 0;\n        this.element = append(container, $('.monaco-count-badge'));\n        this.countFormat = this.options.countFormat || '{0}';\n        this.titleFormat = this.options.titleFormat || '';\n        this.setCount(this.options.count || 0);\n    }\n    setCount(count) {\n        this.count = count;\n        this.render();\n    }\n    setTitleFormat(titleFormat) {\n        this.titleFormat = titleFormat;\n        this.render();\n    }\n    render() {\n        var _a, _b;\n        this.element.textContent = format(this.countFormat, this.count);\n        this.element.title = format(this.titleFormat, this.count);\n        this.element.style.backgroundColor = (_a = this.styles.badgeBackground) !== null && _a !== void 0 ? _a : '';\n        this.element.style.color = (_b = this.styles.badgeForeground) !== null && _b !== void 0 ? _b : '';\n        if (this.styles.badgeBorder) {\n            this.element.style.border = `1px solid ${this.styles.badgeBorder}`;\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $, addDisposableListener, append, EventHelper, EventType } from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { EventType as GestureEventType, Gesture } from '../../touch.js';\nimport { ActionRunner } from '../../../common/actions.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nclass BaseDropdown extends ActionRunner {\n    constructor(container, options) {\n        super();\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n        this._element = append(container, $('.monaco-dropdown'));\n        this._label = append(this._element, $('.dropdown-label'));\n        let labelRenderer = options.labelRenderer;\n        if (!labelRenderer) {\n            labelRenderer = (container) => {\n                container.textContent = options.label || '';\n                return null;\n            };\n        }\n        for (const event of [EventType.CLICK, EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n            this._register(addDisposableListener(this.element, event, e => EventHelper.stop(e, true))); // prevent default click behaviour to trigger\n        }\n        for (const event of [EventType.MOUSE_DOWN, GestureEventType.Tap]) {\n            this._register(addDisposableListener(this._label, event, e => {\n                if (e instanceof MouseEvent && (e.detail > 1 || e.button !== 0)) {\n                    // prevent right click trigger to allow separate context menu (https://github.com/microsoft/vscode/issues/151064)\n                    // prevent multiple clicks to open multiple context menus (https://github.com/microsoft/vscode/issues/41363)\n                    return;\n                }\n                if (this.visible) {\n                    this.hide();\n                }\n                else {\n                    this.show();\n                }\n            }));\n        }\n        this._register(addDisposableListener(this._label, EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(3 /* KeyCode.Enter */) || event.equals(10 /* KeyCode.Space */)) {\n                EventHelper.stop(e, true); // https://github.com/microsoft/vscode/issues/57997\n                if (this.visible) {\n                    this.hide();\n                }\n                else {\n                    this.show();\n                }\n            }\n        }));\n        const cleanupFn = labelRenderer(this._label);\n        if (cleanupFn) {\n            this._register(cleanupFn);\n        }\n        this._register(Gesture.addTarget(this._label));\n    }\n    get element() {\n        return this._element;\n    }\n    show() {\n        if (!this.visible) {\n            this.visible = true;\n            this._onDidChangeVisibility.fire(true);\n        }\n    }\n    hide() {\n        if (this.visible) {\n            this.visible = false;\n            this._onDidChangeVisibility.fire(false);\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.hide();\n        if (this.boxContainer) {\n            this.boxContainer.remove();\n            this.boxContainer = undefined;\n        }\n        if (this.contents) {\n            this.contents.remove();\n            this.contents = undefined;\n        }\n        if (this._label) {\n            this._label.remove();\n            this._label = undefined;\n        }\n    }\n}\nexport class DropdownMenu extends BaseDropdown {\n    constructor(container, _options) {\n        super(container, _options);\n        this._options = _options;\n        this._actions = [];\n        this.actions = _options.actions || [];\n    }\n    set menuOptions(options) {\n        this._menuOptions = options;\n    }\n    get menuOptions() {\n        return this._menuOptions;\n    }\n    get actions() {\n        if (this._options.actionProvider) {\n            return this._options.actionProvider.getActions();\n        }\n        return this._actions;\n    }\n    set actions(actions) {\n        this._actions = actions;\n    }\n    show() {\n        super.show();\n        this.element.classList.add('active');\n        this._options.contextMenuProvider.showContextMenu({\n            getAnchor: () => this.element,\n            getActions: () => this.actions,\n            getActionsContext: () => this.menuOptions ? this.menuOptions.context : null,\n            getActionViewItem: (action, options) => this.menuOptions && this.menuOptions.actionViewItemProvider ? this.menuOptions.actionViewItemProvider(action, options) : undefined,\n            getKeyBinding: action => this.menuOptions && this.menuOptions.getKeyBinding ? this.menuOptions.getKeyBinding(action) : undefined,\n            getMenuClassName: () => this._options.menuClassName || '',\n            onHide: () => this.onHide(),\n            actionRunner: this.menuOptions ? this.menuOptions.actionRunner : undefined,\n            anchorAlignment: this.menuOptions ? this.menuOptions.anchorAlignment : 0 /* AnchorAlignment.LEFT */,\n            domForShadowRoot: this._options.menuAsChild ? this.element : undefined,\n            skipTelemetry: this._options.skipTelemetry\n        });\n    }\n    hide() {\n        super.hide();\n    }\n    onHide() {\n        this.hide();\n        this.element.classList.remove('active');\n    }\n}\n","import { $, append } from '../../dom.js';\nimport { BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { DropdownMenu } from './dropdown.js';\nimport { Emitter } from '../../../common/event.js';\nimport './dropdown.css';\nexport class DropdownMenuActionViewItem extends BaseActionViewItem {\n    constructor(action, menuActionsOrProvider, contextMenuProvider, options = Object.create(null)) {\n        super(null, action, options);\n        this.actionItem = null;\n        this._onDidChangeVisibility = this._register(new Emitter());\n        this.onDidChangeVisibility = this._onDidChangeVisibility.event;\n        this.menuActionsOrProvider = menuActionsOrProvider;\n        this.contextMenuProvider = contextMenuProvider;\n        this.options = options;\n        if (this.options.actionRunner) {\n            this.actionRunner = this.options.actionRunner;\n        }\n    }\n    render(container) {\n        this.actionItem = container;\n        const labelRenderer = (el) => {\n            this.element = append(el, $('a.action-label'));\n            let classNames = [];\n            if (typeof this.options.classNames === 'string') {\n                classNames = this.options.classNames.split(/\\s+/g).filter(s => !!s);\n            }\n            else if (this.options.classNames) {\n                classNames = this.options.classNames;\n            }\n            // todo@aeschli: remove codicon, should come through `this.options.classNames`\n            if (!classNames.find(c => c === 'icon')) {\n                classNames.push('codicon');\n            }\n            this.element.classList.add(...classNames);\n            this.element.setAttribute('role', 'button');\n            this.element.setAttribute('aria-haspopup', 'true');\n            this.element.setAttribute('aria-expanded', 'false');\n            this.element.title = this._action.label || '';\n            this.element.ariaLabel = this._action.label || '';\n            return null;\n        };\n        const isActionsArray = Array.isArray(this.menuActionsOrProvider);\n        const options = {\n            contextMenuProvider: this.contextMenuProvider,\n            labelRenderer: labelRenderer,\n            menuAsChild: this.options.menuAsChild,\n            actions: isActionsArray ? this.menuActionsOrProvider : undefined,\n            actionProvider: isActionsArray ? undefined : this.menuActionsOrProvider,\n            skipTelemetry: this.options.skipTelemetry\n        };\n        this.dropdownMenu = this._register(new DropdownMenu(container, options));\n        this._register(this.dropdownMenu.onDidChangeVisibility(visible => {\n            var _a;\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', `${visible}`);\n            this._onDidChangeVisibility.fire(visible);\n        }));\n        this.dropdownMenu.menuOptions = {\n            actionViewItemProvider: this.options.actionViewItemProvider,\n            actionRunner: this.actionRunner,\n            getKeyBinding: this.options.keybindingProvider,\n            context: this._context\n        };\n        if (this.options.anchorAlignmentProvider) {\n            const that = this;\n            this.dropdownMenu.menuOptions = Object.assign(Object.assign({}, this.dropdownMenu.menuOptions), { get anchorAlignment() {\n                    return that.options.anchorAlignmentProvider();\n                } });\n        }\n        this.updateTooltip();\n        this.updateEnabled();\n    }\n    getTooltip() {\n        let title = null;\n        if (this.action.tooltip) {\n            title = this.action.tooltip;\n        }\n        else if (this.action.label) {\n            title = this.action.label;\n        }\n        return title !== null && title !== void 0 ? title : undefined;\n    }\n    setActionContext(newContext) {\n        super.setActionContext(newContext);\n        if (this.dropdownMenu) {\n            if (this.dropdownMenu.menuOptions) {\n                this.dropdownMenu.menuOptions.context = newContext;\n            }\n            else {\n                this.dropdownMenu.menuOptions = { context: newContext };\n            }\n        }\n    }\n    show() {\n        var _a;\n        (_a = this.dropdownMenu) === null || _a === void 0 ? void 0 : _a.show();\n    }\n    updateEnabled() {\n        var _a, _b;\n        const disabled = !this.action.enabled;\n        (_a = this.actionItem) === null || _a === void 0 ? void 0 : _a.classList.toggle('disabled', disabled);\n        (_b = this.element) === null || _b === void 0 ? void 0 : _b.classList.toggle('disabled', disabled);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { CaseSensitiveToggle, RegexToggle, WholeWordsToggle } from './findInputToggles.js';\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\nimport { Widget } from '../widget.js';\nimport { Emitter } from '../../../common/event.js';\nimport './findInput.css';\nimport * as nls from '../../../../nls.js';\nimport { DisposableStore, MutableDisposable } from '../../../common/lifecycle.js';\nconst NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\nexport class FindInput extends Widget {\n    constructor(parent, contextViewProvider, options) {\n        super();\n        this.fixFocusOnOptionClickEnabled = true;\n        this.imeSessionInProgress = false;\n        this.additionalTogglesDisposables = this._register(new MutableDisposable());\n        this.additionalToggles = [];\n        this._onDidOptionChange = this._register(new Emitter());\n        this.onDidOptionChange = this._onDidOptionChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._onMouseDown = this._register(new Emitter());\n        this.onMouseDown = this._onMouseDown.event;\n        this._onInput = this._register(new Emitter());\n        this._onKeyUp = this._register(new Emitter());\n        this._onCaseSensitiveKeyDown = this._register(new Emitter());\n        this.onCaseSensitiveKeyDown = this._onCaseSensitiveKeyDown.event;\n        this._onRegexKeyDown = this._register(new Emitter());\n        this.onRegexKeyDown = this._onRegexKeyDown.event;\n        this._lastHighlightFindOptions = 0;\n        this.placeholder = options.placeholder || '';\n        this.validation = options.validation;\n        this.label = options.label || NLS_DEFAULT_LABEL;\n        this.showCommonFindToggles = !!options.showCommonFindToggles;\n        const appendCaseSensitiveLabel = options.appendCaseSensitiveLabel || '';\n        const appendWholeWordsLabel = options.appendWholeWordsLabel || '';\n        const appendRegexLabel = options.appendRegexLabel || '';\n        const history = options.history || [];\n        const flexibleHeight = !!options.flexibleHeight;\n        const flexibleWidth = !!options.flexibleWidth;\n        const flexibleMaxHeight = options.flexibleMaxHeight;\n        this.domNode = document.createElement('div');\n        this.domNode.classList.add('monaco-findInput');\n        this.inputBox = this._register(new HistoryInputBox(this.domNode, contextViewProvider, {\n            placeholder: this.placeholder || '',\n            ariaLabel: this.label || '',\n            validationOptions: {\n                validation: this.validation\n            },\n            history,\n            showHistoryHint: options.showHistoryHint,\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight,\n            inputBoxStyles: options.inputBoxStyles,\n        }));\n        if (this.showCommonFindToggles) {\n            this.regex = this._register(new RegexToggle(Object.assign({ appendTitle: appendRegexLabel, isChecked: false }, options.toggleStyles)));\n            this._register(this.regex.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n                this.validate();\n            }));\n            this._register(this.regex.onKeyDown(e => {\n                this._onRegexKeyDown.fire(e);\n            }));\n            this.wholeWords = this._register(new WholeWordsToggle(Object.assign({ appendTitle: appendWholeWordsLabel, isChecked: false }, options.toggleStyles)));\n            this._register(this.wholeWords.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n                this.validate();\n            }));\n            this.caseSensitive = this._register(new CaseSensitiveToggle(Object.assign({ appendTitle: appendCaseSensitiveLabel, isChecked: false }, options.toggleStyles)));\n            this._register(this.caseSensitive.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n                this.validate();\n            }));\n            this._register(this.caseSensitive.onKeyDown(e => {\n                this._onCaseSensitiveKeyDown.fire(e);\n            }));\n            // Arrow-Key support to navigate between options\n            const indexes = [this.caseSensitive.domNode, this.wholeWords.domNode, this.regex.domNode];\n            this.onkeydown(this.domNode, (event) => {\n                if (event.equals(15 /* KeyCode.LeftArrow */) || event.equals(17 /* KeyCode.RightArrow */) || event.equals(9 /* KeyCode.Escape */)) {\n                    const index = indexes.indexOf(document.activeElement);\n                    if (index >= 0) {\n                        let newIndex = -1;\n                        if (event.equals(17 /* KeyCode.RightArrow */)) {\n                            newIndex = (index + 1) % indexes.length;\n                        }\n                        else if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                            if (index === 0) {\n                                newIndex = indexes.length - 1;\n                            }\n                            else {\n                                newIndex = index - 1;\n                            }\n                        }\n                        if (event.equals(9 /* KeyCode.Escape */)) {\n                            indexes[index].blur();\n                            this.inputBox.focus();\n                        }\n                        else if (newIndex >= 0) {\n                            indexes[newIndex].focus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                    }\n                }\n            });\n        }\n        this.controls = document.createElement('div');\n        this.controls.className = 'controls';\n        this.controls.style.display = this.showCommonFindToggles ? '' : 'none';\n        if (this.caseSensitive) {\n            this.controls.append(this.caseSensitive.domNode);\n        }\n        if (this.wholeWords) {\n            this.controls.appendChild(this.wholeWords.domNode);\n        }\n        if (this.regex) {\n            this.controls.appendChild(this.regex.domNode);\n        }\n        this.setAdditionalToggles(options === null || options === void 0 ? void 0 : options.additionalToggles);\n        if (this.controls) {\n            this.domNode.appendChild(this.controls);\n        }\n        parent === null || parent === void 0 ? void 0 : parent.appendChild(this.domNode);\n        this._register(dom.addDisposableListener(this.inputBox.inputElement, 'compositionstart', (e) => {\n            this.imeSessionInProgress = true;\n        }));\n        this._register(dom.addDisposableListener(this.inputBox.inputElement, 'compositionend', (e) => {\n            this.imeSessionInProgress = false;\n            this._onInput.fire();\n        }));\n        this.onkeydown(this.inputBox.inputElement, (e) => this._onKeyDown.fire(e));\n        this.onkeyup(this.inputBox.inputElement, (e) => this._onKeyUp.fire(e));\n        this.oninput(this.inputBox.inputElement, (e) => this._onInput.fire());\n        this.onmousedown(this.inputBox.inputElement, (e) => this._onMouseDown.fire(e));\n    }\n    get onDidChange() {\n        return this.inputBox.onDidChange;\n    }\n    layout(style) {\n        this.inputBox.layout();\n        this.updateInputBoxPadding(style.collapsedFindWidget);\n    }\n    enable() {\n        var _a, _b, _c;\n        this.domNode.classList.remove('disabled');\n        this.inputBox.enable();\n        (_a = this.regex) === null || _a === void 0 ? void 0 : _a.enable();\n        (_b = this.wholeWords) === null || _b === void 0 ? void 0 : _b.enable();\n        (_c = this.caseSensitive) === null || _c === void 0 ? void 0 : _c.enable();\n        for (const toggle of this.additionalToggles) {\n            toggle.enable();\n        }\n    }\n    disable() {\n        var _a, _b, _c;\n        this.domNode.classList.add('disabled');\n        this.inputBox.disable();\n        (_a = this.regex) === null || _a === void 0 ? void 0 : _a.disable();\n        (_b = this.wholeWords) === null || _b === void 0 ? void 0 : _b.disable();\n        (_c = this.caseSensitive) === null || _c === void 0 ? void 0 : _c.disable();\n        for (const toggle of this.additionalToggles) {\n            toggle.disable();\n        }\n    }\n    setFocusInputOnOptionClick(value) {\n        this.fixFocusOnOptionClickEnabled = value;\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    }\n    setAdditionalToggles(toggles) {\n        for (const currentToggle of this.additionalToggles) {\n            currentToggle.domNode.remove();\n        }\n        this.additionalToggles = [];\n        this.additionalTogglesDisposables.value = new DisposableStore();\n        for (const toggle of toggles !== null && toggles !== void 0 ? toggles : []) {\n            this.additionalTogglesDisposables.value.add(toggle);\n            this.controls.appendChild(toggle.domNode);\n            this.additionalTogglesDisposables.value.add(toggle.onChange(viaKeyboard => {\n                this._onDidOptionChange.fire(viaKeyboard);\n                if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                    this.inputBox.focus();\n                }\n            }));\n            this.additionalToggles.push(toggle);\n        }\n        if (this.additionalToggles.length > 0) {\n            this.controls.style.display = '';\n        }\n        this.updateInputBoxPadding();\n    }\n    updateInputBoxPadding(controlsHidden = false) {\n        var _a, _b, _c, _d, _e, _f;\n        if (controlsHidden) {\n            this.inputBox.paddingRight = 0;\n        }\n        else {\n            this.inputBox.paddingRight =\n                (((_b = (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.width()) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = this.wholeWords) === null || _c === void 0 ? void 0 : _c.width()) !== null && _d !== void 0 ? _d : 0) + ((_f = (_e = this.regex) === null || _e === void 0 ? void 0 : _e.width()) !== null && _f !== void 0 ? _f : 0))\n                    + this.additionalToggles.reduce((r, t) => r + t.width(), 0);\n        }\n    }\n    getValue() {\n        return this.inputBox.value;\n    }\n    setValue(value) {\n        if (this.inputBox.value !== value) {\n            this.inputBox.value = value;\n        }\n    }\n    select() {\n        this.inputBox.select();\n    }\n    focus() {\n        this.inputBox.focus();\n    }\n    getCaseSensitive() {\n        var _a, _b;\n        return (_b = (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : false;\n    }\n    setCaseSensitive(value) {\n        if (this.caseSensitive) {\n            this.caseSensitive.checked = value;\n        }\n    }\n    getWholeWords() {\n        var _a, _b;\n        return (_b = (_a = this.wholeWords) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : false;\n    }\n    setWholeWords(value) {\n        if (this.wholeWords) {\n            this.wholeWords.checked = value;\n        }\n    }\n    getRegex() {\n        var _a, _b;\n        return (_b = (_a = this.regex) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : false;\n    }\n    setRegex(value) {\n        if (this.regex) {\n            this.regex.checked = value;\n            this.validate();\n        }\n    }\n    focusOnCaseSensitive() {\n        var _a;\n        (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    highlightFindOptions() {\n        this.domNode.classList.remove('highlight-' + (this._lastHighlightFindOptions));\n        this._lastHighlightFindOptions = 1 - this._lastHighlightFindOptions;\n        this.domNode.classList.add('highlight-' + (this._lastHighlightFindOptions));\n    }\n    validate() {\n        this.inputBox.validate();\n    }\n    showMessage(message) {\n        this.inputBox.showMessage(message);\n    }\n    clearMessage() {\n        this.inputBox.hideMessage();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Toggle } from '../toggle/toggle.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport * as nls from '../../../../nls.js';\nconst NLS_CASE_SENSITIVE_TOGGLE_LABEL = nls.localize('caseDescription', \"Match Case\");\nconst NLS_WHOLE_WORD_TOGGLE_LABEL = nls.localize('wordsDescription', \"Match Whole Word\");\nconst NLS_REGEX_TOGGLE_LABEL = nls.localize('regexDescription', \"Use Regular Expression\");\nexport class CaseSensitiveToggle extends Toggle {\n    constructor(opts) {\n        super({\n            icon: Codicon.caseSensitive,\n            title: NLS_CASE_SENSITIVE_TOGGLE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class WholeWordsToggle extends Toggle {\n    constructor(opts) {\n        super({\n            icon: Codicon.wholeWord,\n            title: NLS_WHOLE_WORD_TOGGLE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class RegexToggle extends Toggle {\n    constructor(opts) {\n        super({\n            icon: Codicon.regex,\n            title: NLS_REGEX_TOGGLE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { Toggle } from '../toggle/toggle.js';\nimport { HistoryInputBox } from '../inputbox/inputBox.js';\nimport { Widget } from '../widget.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport { Emitter } from '../../../common/event.js';\nimport './findInput.css';\nimport * as nls from '../../../../nls.js';\nconst NLS_DEFAULT_LABEL = nls.localize('defaultLabel', \"input\");\nconst NLS_PRESERVE_CASE_LABEL = nls.localize('label.preserveCaseToggle', \"Preserve Case\");\nclass PreserveCaseToggle extends Toggle {\n    constructor(opts) {\n        super({\n            // TODO: does this need its own icon?\n            icon: Codicon.preserveCase,\n            title: NLS_PRESERVE_CASE_LABEL + opts.appendTitle,\n            isChecked: opts.isChecked,\n            inputActiveOptionBorder: opts.inputActiveOptionBorder,\n            inputActiveOptionForeground: opts.inputActiveOptionForeground,\n            inputActiveOptionBackground: opts.inputActiveOptionBackground\n        });\n    }\n}\nexport class ReplaceInput extends Widget {\n    constructor(parent, contextViewProvider, _showOptionButtons, options) {\n        super();\n        this._showOptionButtons = _showOptionButtons;\n        this.fixFocusOnOptionClickEnabled = true;\n        this.cachedOptionsWidth = 0;\n        this._onDidOptionChange = this._register(new Emitter());\n        this.onDidOptionChange = this._onDidOptionChange.event;\n        this._onKeyDown = this._register(new Emitter());\n        this.onKeyDown = this._onKeyDown.event;\n        this._onMouseDown = this._register(new Emitter());\n        this._onInput = this._register(new Emitter());\n        this._onKeyUp = this._register(new Emitter());\n        this._onPreserveCaseKeyDown = this._register(new Emitter());\n        this.onPreserveCaseKeyDown = this._onPreserveCaseKeyDown.event;\n        this.contextViewProvider = contextViewProvider;\n        this.placeholder = options.placeholder || '';\n        this.validation = options.validation;\n        this.label = options.label || NLS_DEFAULT_LABEL;\n        const appendPreserveCaseLabel = options.appendPreserveCaseLabel || '';\n        const history = options.history || [];\n        const flexibleHeight = !!options.flexibleHeight;\n        const flexibleWidth = !!options.flexibleWidth;\n        const flexibleMaxHeight = options.flexibleMaxHeight;\n        this.domNode = document.createElement('div');\n        this.domNode.classList.add('monaco-findInput');\n        this.inputBox = this._register(new HistoryInputBox(this.domNode, this.contextViewProvider, {\n            ariaLabel: this.label || '',\n            placeholder: this.placeholder || '',\n            validationOptions: {\n                validation: this.validation\n            },\n            history,\n            showHistoryHint: options.showHistoryHint,\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight,\n            inputBoxStyles: options.inputBoxStyles\n        }));\n        this.preserveCase = this._register(new PreserveCaseToggle(Object.assign({ appendTitle: appendPreserveCaseLabel, isChecked: false }, options.toggleStyles)));\n        this._register(this.preserveCase.onChange(viaKeyboard => {\n            this._onDidOptionChange.fire(viaKeyboard);\n            if (!viaKeyboard && this.fixFocusOnOptionClickEnabled) {\n                this.inputBox.focus();\n            }\n            this.validate();\n        }));\n        this._register(this.preserveCase.onKeyDown(e => {\n            this._onPreserveCaseKeyDown.fire(e);\n        }));\n        if (this._showOptionButtons) {\n            this.cachedOptionsWidth = this.preserveCase.width();\n        }\n        else {\n            this.cachedOptionsWidth = 0;\n        }\n        // Arrow-Key support to navigate between options\n        const indexes = [this.preserveCase.domNode];\n        this.onkeydown(this.domNode, (event) => {\n            if (event.equals(15 /* KeyCode.LeftArrow */) || event.equals(17 /* KeyCode.RightArrow */) || event.equals(9 /* KeyCode.Escape */)) {\n                const index = indexes.indexOf(document.activeElement);\n                if (index >= 0) {\n                    let newIndex = -1;\n                    if (event.equals(17 /* KeyCode.RightArrow */)) {\n                        newIndex = (index + 1) % indexes.length;\n                    }\n                    else if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                        if (index === 0) {\n                            newIndex = indexes.length - 1;\n                        }\n                        else {\n                            newIndex = index - 1;\n                        }\n                    }\n                    if (event.equals(9 /* KeyCode.Escape */)) {\n                        indexes[index].blur();\n                        this.inputBox.focus();\n                    }\n                    else if (newIndex >= 0) {\n                        indexes[newIndex].focus();\n                    }\n                    dom.EventHelper.stop(event, true);\n                }\n            }\n        });\n        const controls = document.createElement('div');\n        controls.className = 'controls';\n        controls.style.display = this._showOptionButtons ? 'block' : 'none';\n        controls.appendChild(this.preserveCase.domNode);\n        this.domNode.appendChild(controls);\n        parent === null || parent === void 0 ? void 0 : parent.appendChild(this.domNode);\n        this.onkeydown(this.inputBox.inputElement, (e) => this._onKeyDown.fire(e));\n        this.onkeyup(this.inputBox.inputElement, (e) => this._onKeyUp.fire(e));\n        this.oninput(this.inputBox.inputElement, (e) => this._onInput.fire());\n        this.onmousedown(this.inputBox.inputElement, (e) => this._onMouseDown.fire(e));\n    }\n    enable() {\n        this.domNode.classList.remove('disabled');\n        this.inputBox.enable();\n        this.preserveCase.enable();\n    }\n    disable() {\n        this.domNode.classList.add('disabled');\n        this.inputBox.disable();\n        this.preserveCase.disable();\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n    }\n    select() {\n        this.inputBox.select();\n    }\n    focus() {\n        this.inputBox.focus();\n    }\n    getPreserveCase() {\n        return this.preserveCase.checked;\n    }\n    setPreserveCase(value) {\n        this.preserveCase.checked = value;\n    }\n    focusOnPreserve() {\n        this.preserveCase.focus();\n    }\n    validate() {\n        var _a;\n        (_a = this.inputBox) === null || _a === void 0 ? void 0 : _a.validate();\n    }\n    set width(newWidth) {\n        this.inputBox.paddingRight = this.cachedOptionsWidth;\n        this.domNode.style.width = newWidth + 'px';\n    }\n    dispose() {\n        super.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { renderLabelWithIcons } from '../iconLabel/iconLabels.js';\nimport * as objects from '../../../common/objects.js';\n/**\n * A widget which can render a label with substring highlights, often\n * originating from a filter function like the fuzzy matcher.\n */\nexport class HighlightedLabel {\n    /**\n     * Create a new {@link HighlightedLabel}.\n     *\n     * @param container The parent container to append to.\n     */\n    constructor(container, options) {\n        var _a;\n        this.text = '';\n        this.title = '';\n        this.highlights = [];\n        this.didEverRender = false;\n        this.supportIcons = (_a = options === null || options === void 0 ? void 0 : options.supportIcons) !== null && _a !== void 0 ? _a : false;\n        this.domNode = dom.append(container, dom.$('span.monaco-highlighted-label'));\n    }\n    /**\n     * The label's DOM node.\n     */\n    get element() {\n        return this.domNode;\n    }\n    /**\n     * Set the label and highlights.\n     *\n     * @param text The label to display.\n     * @param highlights The ranges to highlight.\n     * @param title An optional title for the hover tooltip.\n     * @param escapeNewLines Whether to escape new lines.\n     * @returns\n     */\n    set(text, highlights = [], title = '', escapeNewLines) {\n        if (!text) {\n            text = '';\n        }\n        if (escapeNewLines) {\n            // adjusts highlights inplace\n            text = HighlightedLabel.escapeNewLines(text, highlights);\n        }\n        if (this.didEverRender && this.text === text && this.title === title && objects.equals(this.highlights, highlights)) {\n            return;\n        }\n        this.text = text;\n        this.title = title;\n        this.highlights = highlights;\n        this.render();\n    }\n    render() {\n        const children = [];\n        let pos = 0;\n        for (const highlight of this.highlights) {\n            if (highlight.end === highlight.start) {\n                continue;\n            }\n            if (pos < highlight.start) {\n                const substring = this.text.substring(pos, highlight.start);\n                if (this.supportIcons) {\n                    children.push(...renderLabelWithIcons(substring));\n                }\n                else {\n                    children.push(substring);\n                }\n                pos = highlight.start;\n            }\n            const substring = this.text.substring(pos, highlight.end);\n            const element = dom.$('span.highlight', undefined, ...this.supportIcons ? renderLabelWithIcons(substring) : [substring]);\n            if (highlight.extraClasses) {\n                element.classList.add(...highlight.extraClasses);\n            }\n            children.push(element);\n            pos = highlight.end;\n        }\n        if (pos < this.text.length) {\n            const substring = this.text.substring(pos);\n            if (this.supportIcons) {\n                children.push(...renderLabelWithIcons(substring));\n            }\n            else {\n                children.push(substring);\n            }\n        }\n        dom.reset(this.domNode, ...children);\n        if (this.title) {\n            this.domNode.title = this.title;\n        }\n        else {\n            this.domNode.removeAttribute('title');\n        }\n        this.didEverRender = true;\n    }\n    static escapeNewLines(text, highlights) {\n        let total = 0;\n        let extra = 0;\n        return text.replace(/\\r\\n|\\r|\\n/g, (match, offset) => {\n            extra = match === '\\r\\n' ? -1 : 0;\n            offset += total;\n            for (const highlight of highlights) {\n                if (highlight.end <= offset) {\n                    continue;\n                }\n                if (highlight.start >= offset) {\n                    highlight.start += extra;\n                }\n                if (highlight.end >= offset) {\n                    highlight.end += extra;\n                }\n            }\n            total += extra;\n            return '\\u23CE';\n        });\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { DomScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './hover.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nexport class HoverWidget extends Disposable {\n    constructor() {\n        super();\n        this.containerDomNode = document.createElement('div');\n        this.containerDomNode.className = 'monaco-hover';\n        this.containerDomNode.tabIndex = 0;\n        this.containerDomNode.setAttribute('role', 'tooltip');\n        this.contentsDomNode = document.createElement('div');\n        this.contentsDomNode.className = 'monaco-hover-content';\n        this.scrollbar = this._register(new DomScrollableElement(this.contentsDomNode, {\n            consumeMouseWheelIfScrollbarIsNeeded: true\n        }));\n        this.containerDomNode.appendChild(this.scrollbar.getDomNode());\n    }\n    onContentsChanged() {\n        this.scrollbar.scanDomNode();\n    }\n}\nexport class HoverAction extends Disposable {\n    static render(parent, actionOptions, keybindingLabel) {\n        return new HoverAction(parent, actionOptions, keybindingLabel);\n    }\n    constructor(parent, actionOptions, keybindingLabel) {\n        super();\n        this.actionContainer = dom.append(parent, $('div.action-container'));\n        this.actionContainer.setAttribute('tabindex', '0');\n        this.action = dom.append(this.actionContainer, $('a.action'));\n        this.action.setAttribute('role', 'button');\n        if (actionOptions.iconClass) {\n            dom.append(this.action, $(`span.icon.${actionOptions.iconClass}`));\n        }\n        const label = dom.append(this.action, $('span'));\n        label.textContent = keybindingLabel ? `${actionOptions.label} (${keybindingLabel})` : actionOptions.label;\n        this._register(dom.addDisposableListener(this.actionContainer, dom.EventType.CLICK, e => {\n            e.stopPropagation();\n            e.preventDefault();\n            actionOptions.run(this.actionContainer);\n        }));\n        this._register(dom.addDisposableListener(this.actionContainer, dom.EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(3 /* KeyCode.Enter */) || event.equals(10 /* KeyCode.Space */)) {\n                e.stopPropagation();\n                e.preventDefault();\n                actionOptions.run(this.actionContainer);\n            }\n        }));\n        this.setEnabled(true);\n    }\n    setEnabled(enabled) {\n        if (enabled) {\n            this.actionContainer.classList.remove('disabled');\n            this.actionContainer.removeAttribute('aria-disabled');\n        }\n        else {\n            this.actionContainer.classList.add('disabled');\n            this.actionContainer.setAttribute('aria-disabled', 'true');\n        }\n    }\n}\nexport function getHoverAccessibleViewHint(shouldHaveHint, keybinding) {\n    return shouldHaveHint && keybinding ? localize('acessibleViewHint', \"Inspect this in the accessible view with {0}.\", keybinding) : shouldHaveHint ? localize('acessibleViewHintNoKbOpen', \"Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding.\") : '';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './iconlabel.css';\nimport * as dom from '../../dom.js';\nimport { HighlightedLabel } from '../highlightedlabel/highlightedLabel.js';\nimport { setupCustomHover, setupNativeHover } from './iconLabelHover.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport { equals } from '../../../common/objects.js';\nimport { Range } from '../../../common/range.js';\nclass FastLabelNode {\n    constructor(_element) {\n        this._element = _element;\n    }\n    get element() {\n        return this._element;\n    }\n    set textContent(content) {\n        if (this.disposed || content === this._textContent) {\n            return;\n        }\n        this._textContent = content;\n        this._element.textContent = content;\n    }\n    set className(className) {\n        if (this.disposed || className === this._className) {\n            return;\n        }\n        this._className = className;\n        this._element.className = className;\n    }\n    set empty(empty) {\n        if (this.disposed || empty === this._empty) {\n            return;\n        }\n        this._empty = empty;\n        this._element.style.marginLeft = empty ? '0' : '';\n    }\n    dispose() {\n        this.disposed = true;\n    }\n}\nexport class IconLabel extends Disposable {\n    constructor(container, options) {\n        super();\n        this.customHovers = new Map();\n        this.creationOptions = options;\n        this.domNode = this._register(new FastLabelNode(dom.append(container, dom.$('.monaco-icon-label'))));\n        this.labelContainer = dom.append(this.domNode.element, dom.$('.monaco-icon-label-container'));\n        const nameContainer = dom.append(this.labelContainer, dom.$('span.monaco-icon-name-container'));\n        if ((options === null || options === void 0 ? void 0 : options.supportHighlights) || (options === null || options === void 0 ? void 0 : options.supportIcons)) {\n            this.nameNode = new LabelWithHighlights(nameContainer, !!options.supportIcons);\n        }\n        else {\n            this.nameNode = new Label(nameContainer);\n        }\n        this.hoverDelegate = options === null || options === void 0 ? void 0 : options.hoverDelegate;\n    }\n    get element() {\n        return this.domNode.element;\n    }\n    setLabel(label, description, options) {\n        const labelClasses = ['monaco-icon-label'];\n        const containerClasses = ['monaco-icon-label-container'];\n        let ariaLabel = '';\n        if (options) {\n            if (options.extraClasses) {\n                labelClasses.push(...options.extraClasses);\n            }\n            if (options.italic) {\n                labelClasses.push('italic');\n            }\n            if (options.strikethrough) {\n                labelClasses.push('strikethrough');\n            }\n            if (options.disabledCommand) {\n                containerClasses.push('disabled');\n            }\n            if (options.title) {\n                ariaLabel += options.title;\n            }\n        }\n        this.domNode.className = labelClasses.join(' ');\n        this.domNode.element.setAttribute('aria-label', ariaLabel);\n        this.labelContainer.className = containerClasses.join(' ');\n        this.setupHover((options === null || options === void 0 ? void 0 : options.descriptionTitle) ? this.labelContainer : this.element, options === null || options === void 0 ? void 0 : options.title);\n        this.nameNode.setLabel(label, options);\n        if (description || this.descriptionNode) {\n            const descriptionNode = this.getOrCreateDescriptionNode();\n            if (descriptionNode instanceof HighlightedLabel) {\n                descriptionNode.set(description || '', options ? options.descriptionMatches : undefined, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n                this.setupHover(descriptionNode.element, options === null || options === void 0 ? void 0 : options.descriptionTitle);\n            }\n            else {\n                descriptionNode.textContent = description && (options === null || options === void 0 ? void 0 : options.labelEscapeNewLines) ? HighlightedLabel.escapeNewLines(description, []) : (description || '');\n                this.setupHover(descriptionNode.element, (options === null || options === void 0 ? void 0 : options.descriptionTitle) || '');\n                descriptionNode.empty = !description;\n            }\n        }\n    }\n    setupHover(htmlElement, tooltip) {\n        const previousCustomHover = this.customHovers.get(htmlElement);\n        if (previousCustomHover) {\n            previousCustomHover.dispose();\n            this.customHovers.delete(htmlElement);\n        }\n        if (!tooltip) {\n            htmlElement.removeAttribute('title');\n            return;\n        }\n        if (!this.hoverDelegate) {\n            setupNativeHover(htmlElement, tooltip);\n        }\n        else {\n            const hoverDisposable = setupCustomHover(this.hoverDelegate, htmlElement, tooltip);\n            if (hoverDisposable) {\n                this.customHovers.set(htmlElement, hoverDisposable);\n            }\n        }\n    }\n    dispose() {\n        super.dispose();\n        for (const disposable of this.customHovers.values()) {\n            disposable.dispose();\n        }\n        this.customHovers.clear();\n    }\n    getOrCreateDescriptionNode() {\n        var _a;\n        if (!this.descriptionNode) {\n            const descriptionContainer = this._register(new FastLabelNode(dom.append(this.labelContainer, dom.$('span.monaco-icon-description-container'))));\n            if ((_a = this.creationOptions) === null || _a === void 0 ? void 0 : _a.supportDescriptionHighlights) {\n                this.descriptionNode = new HighlightedLabel(dom.append(descriptionContainer.element, dom.$('span.label-description')), { supportIcons: !!this.creationOptions.supportIcons });\n            }\n            else {\n                this.descriptionNode = this._register(new FastLabelNode(dom.append(descriptionContainer.element, dom.$('span.label-description'))));\n            }\n        }\n        return this.descriptionNode;\n    }\n}\nclass Label {\n    constructor(container) {\n        this.container = container;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId }));\n            }\n            this.singleLabel.textContent = label;\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                dom.append(this.container, dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' }, l));\n                if (i < label.length - 1) {\n                    dom.append(this.container, dom.$('span.label-separator', undefined, (options === null || options === void 0 ? void 0 : options.separator) || '/'));\n                }\n            }\n        }\n    }\n}\nfunction splitMatches(labels, separator, matches) {\n    if (!matches) {\n        return undefined;\n    }\n    let labelStart = 0;\n    return labels.map(label => {\n        const labelRange = { start: labelStart, end: labelStart + label.length };\n        const result = matches\n            .map(match => Range.intersect(labelRange, match))\n            .filter(range => !Range.isEmpty(range))\n            .map(({ start, end }) => ({ start: start - labelStart, end: end - labelStart }));\n        labelStart = labelRange.end + separator.length;\n        return result;\n    });\n}\nclass LabelWithHighlights {\n    constructor(container, supportIcons) {\n        this.container = container;\n        this.supportIcons = supportIcons;\n        this.label = undefined;\n        this.singleLabel = undefined;\n    }\n    setLabel(label, options) {\n        if (this.label === label && equals(this.options, options)) {\n            return;\n        }\n        this.label = label;\n        this.options = options;\n        if (typeof label === 'string') {\n            if (!this.singleLabel) {\n                this.container.innerText = '';\n                this.container.classList.remove('multiple');\n                this.singleLabel = new HighlightedLabel(dom.append(this.container, dom.$('a.label-name', { id: options === null || options === void 0 ? void 0 : options.domId })), { supportIcons: this.supportIcons });\n            }\n            this.singleLabel.set(label, options === null || options === void 0 ? void 0 : options.matches, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n        }\n        else {\n            this.container.innerText = '';\n            this.container.classList.add('multiple');\n            this.singleLabel = undefined;\n            const separator = (options === null || options === void 0 ? void 0 : options.separator) || '/';\n            const matches = splitMatches(label, separator, options === null || options === void 0 ? void 0 : options.matches);\n            for (let i = 0; i < label.length; i++) {\n                const l = label[i];\n                const m = matches ? matches[i] : undefined;\n                const id = (options === null || options === void 0 ? void 0 : options.domId) && `${options === null || options === void 0 ? void 0 : options.domId}_${i}`;\n                const name = dom.$('a.label-name', { id, 'data-icon-label-count': label.length, 'data-icon-label-index': i, 'role': 'treeitem' });\n                const highlightedLabel = new HighlightedLabel(dom.append(this.container, name), { supportIcons: this.supportIcons });\n                highlightedLabel.set(l, m, undefined, options === null || options === void 0 ? void 0 : options.labelEscapeNewLines);\n                if (i < label.length - 1) {\n                    dom.append(name, dom.$('span.label-separator', undefined, separator));\n                }\n            }\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../dom.js';\nimport { TimeoutTimer } from '../../../common/async.js';\nimport { CancellationTokenSource } from '../../../common/cancellation.js';\nimport { isMarkdownString } from '../../../common/htmlContent.js';\nimport { stripIcons } from '../../../common/iconLabels.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nimport { isFunction, isString } from '../../../common/types.js';\nimport { localize } from '../../../../nls.js';\nexport function setupNativeHover(htmlElement, tooltip) {\n    if (isString(tooltip)) {\n        // Icons don't render in the native hover so we strip them out\n        htmlElement.title = stripIcons(tooltip);\n    }\n    else if (tooltip === null || tooltip === void 0 ? void 0 : tooltip.markdownNotSupportedFallback) {\n        htmlElement.title = tooltip.markdownNotSupportedFallback;\n    }\n    else {\n        htmlElement.removeAttribute('title');\n    }\n}\nclass UpdatableHoverWidget {\n    constructor(hoverDelegate, target, fadeInAnimation) {\n        this.hoverDelegate = hoverDelegate;\n        this.target = target;\n        this.fadeInAnimation = fadeInAnimation;\n    }\n    update(content, focus, options) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._cancellationTokenSource) {\n                // there's an computation ongoing, cancel it\n                this._cancellationTokenSource.dispose(true);\n                this._cancellationTokenSource = undefined;\n            }\n            if (this.isDisposed) {\n                return;\n            }\n            let resolvedContent;\n            if (content === undefined || isString(content) || content instanceof HTMLElement) {\n                resolvedContent = content;\n            }\n            else if (!isFunction(content.markdown)) {\n                resolvedContent = (_a = content.markdown) !== null && _a !== void 0 ? _a : content.markdownNotSupportedFallback;\n            }\n            else {\n                // compute the content, potentially long-running\n                // show 'Loading' if no hover is up yet\n                if (!this._hoverWidget) {\n                    this.show(localize('iconLabel.loading', \"Loading...\"), focus);\n                }\n                // compute the content\n                this._cancellationTokenSource = new CancellationTokenSource();\n                const token = this._cancellationTokenSource.token;\n                resolvedContent = yield content.markdown(token);\n                if (resolvedContent === undefined) {\n                    resolvedContent = content.markdownNotSupportedFallback;\n                }\n                if (this.isDisposed || token.isCancellationRequested) {\n                    // either the widget has been closed in the meantime\n                    // or there has been a new call to `update`\n                    return;\n                }\n            }\n            this.show(resolvedContent, focus, options);\n        });\n    }\n    show(content, focus, options) {\n        const oldHoverWidget = this._hoverWidget;\n        if (this.hasContent(content)) {\n            const hoverOptions = Object.assign({ content, target: this.target, showPointer: this.hoverDelegate.placement === 'element', hoverPosition: 2 /* HoverPosition.BELOW */, skipFadeInAnimation: !this.fadeInAnimation || !!oldHoverWidget }, options);\n            this._hoverWidget = this.hoverDelegate.showHover(hoverOptions, focus);\n        }\n        oldHoverWidget === null || oldHoverWidget === void 0 ? void 0 : oldHoverWidget.dispose();\n    }\n    hasContent(content) {\n        if (!content) {\n            return false;\n        }\n        if (isMarkdownString(content)) {\n            return !!content.value;\n        }\n        return true;\n    }\n    get isDisposed() {\n        var _a;\n        return (_a = this._hoverWidget) === null || _a === void 0 ? void 0 : _a.isDisposed;\n    }\n    dispose() {\n        var _a, _b;\n        (_a = this._hoverWidget) === null || _a === void 0 ? void 0 : _a.dispose();\n        (_b = this._cancellationTokenSource) === null || _b === void 0 ? void 0 : _b.dispose(true);\n        this._cancellationTokenSource = undefined;\n    }\n}\nexport function setupCustomHover(hoverDelegate, htmlElement, content, options) {\n    let hoverPreparation;\n    let hoverWidget;\n    const hideHover = (disposeWidget, disposePreparation) => {\n        var _a;\n        const hadHover = hoverWidget !== undefined;\n        if (disposeWidget) {\n            hoverWidget === null || hoverWidget === void 0 ? void 0 : hoverWidget.dispose();\n            hoverWidget = undefined;\n        }\n        if (disposePreparation) {\n            hoverPreparation === null || hoverPreparation === void 0 ? void 0 : hoverPreparation.dispose();\n            hoverPreparation = undefined;\n        }\n        if (hadHover) {\n            (_a = hoverDelegate.onDidHideHover) === null || _a === void 0 ? void 0 : _a.call(hoverDelegate);\n        }\n    };\n    const triggerShowHover = (delay, focus, target) => {\n        return new TimeoutTimer(() => __awaiter(this, void 0, void 0, function* () {\n            if (!hoverWidget || hoverWidget.isDisposed) {\n                hoverWidget = new UpdatableHoverWidget(hoverDelegate, target || htmlElement, delay > 0);\n                yield hoverWidget.update(content, focus, options);\n            }\n        }), delay);\n    };\n    const onMouseOver = () => {\n        if (hoverPreparation) {\n            return;\n        }\n        const toDispose = new DisposableStore();\n        const onMouseLeave = (e) => hideHover(false, e.fromElement === htmlElement);\n        toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_LEAVE, onMouseLeave, true));\n        const onMouseDown = () => hideHover(true, true);\n        toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_DOWN, onMouseDown, true));\n        const target = {\n            targetElements: [htmlElement],\n            dispose: () => { }\n        };\n        if (hoverDelegate.placement === undefined || hoverDelegate.placement === 'mouse') {\n            // track the mouse position\n            const onMouseMove = (e) => {\n                target.x = e.x + 10;\n                if ((e.target instanceof HTMLElement) && e.target.classList.contains('action-label')) {\n                    hideHover(true, true);\n                }\n            };\n            toDispose.add(dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_MOVE, onMouseMove, true));\n        }\n        toDispose.add(triggerShowHover(hoverDelegate.delay, false, target));\n        hoverPreparation = toDispose;\n    };\n    const mouseOverDomEmitter = dom.addDisposableListener(htmlElement, dom.EventType.MOUSE_OVER, onMouseOver, true);\n    const hover = {\n        show: focus => {\n            hideHover(false, true); // terminate a ongoing mouse over preparation\n            triggerShowHover(0, focus); // show hover immediately\n        },\n        hide: () => {\n            hideHover(true, true);\n        },\n        update: (newContent, hoverOptions) => __awaiter(this, void 0, void 0, function* () {\n            content = newContent;\n            yield (hoverWidget === null || hoverWidget === void 0 ? void 0 : hoverWidget.update(content, undefined, hoverOptions));\n        }),\n        dispose: () => {\n            mouseOverDomEmitter.dispose();\n            hideHover(true, true);\n        }\n    };\n    return hover;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { ThemeIcon } from '../../../common/themables.js';\nconst labelWithIconsRegex = new RegExp(`(\\\\\\\\)?\\\\$\\\\((${ThemeIcon.iconNameExpression}(?:${ThemeIcon.iconModifierExpression})?)\\\\)`, 'g');\nexport function renderLabelWithIcons(text) {\n    const elements = new Array();\n    let match;\n    let textStart = 0, textStop = 0;\n    while ((match = labelWithIconsRegex.exec(text)) !== null) {\n        textStop = match.index || 0;\n        if (textStart < textStop) {\n            elements.push(text.substring(textStart, textStop));\n        }\n        textStart = (match.index || 0) + match[0].length;\n        const [, escaped, codicon] = match;\n        elements.push(escaped ? `$(${codicon})` : renderIcon({ id: codicon }));\n    }\n    if (textStart < text.length) {\n        elements.push(text.substring(textStart));\n    }\n    return elements;\n}\nexport function renderIcon(icon) {\n    const node = dom.$(`span`);\n    node.classList.add(...ThemeIcon.asClassNameArray(icon));\n    return node;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { renderFormattedText, renderText } from '../../formattedTextRenderer.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport * as aria from '../aria/aria.js';\nimport { ScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { Widget } from '../widget.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { HistoryNavigator } from '../../../common/history.js';\nimport { equals } from '../../../common/objects.js';\nimport './inputBox.css';\nimport * as nls from '../../../../nls.js';\nconst $ = dom.$;\nexport const unthemedInboxStyles = {\n    inputBackground: '#3C3C3C',\n    inputForeground: '#CCCCCC',\n    inputValidationInfoBorder: '#55AAFF',\n    inputValidationInfoBackground: '#063B49',\n    inputValidationWarningBorder: '#B89500',\n    inputValidationWarningBackground: '#352A05',\n    inputValidationErrorBorder: '#BE1100',\n    inputValidationErrorBackground: '#5A1D1D',\n    inputBorder: undefined,\n    inputValidationErrorForeground: undefined,\n    inputValidationInfoForeground: undefined,\n    inputValidationWarningForeground: undefined\n};\nexport class InputBox extends Widget {\n    constructor(container, contextViewProvider, options) {\n        var _a;\n        super();\n        this.state = 'idle';\n        this.maxHeight = Number.POSITIVE_INFINITY;\n        this._onDidChange = this._register(new Emitter());\n        this.onDidChange = this._onDidChange.event;\n        this._onDidHeightChange = this._register(new Emitter());\n        this.onDidHeightChange = this._onDidHeightChange.event;\n        this.contextViewProvider = contextViewProvider;\n        this.options = options;\n        this.message = null;\n        this.placeholder = this.options.placeholder || '';\n        this.tooltip = (_a = this.options.tooltip) !== null && _a !== void 0 ? _a : (this.placeholder || '');\n        this.ariaLabel = this.options.ariaLabel || '';\n        if (this.options.validationOptions) {\n            this.validation = this.options.validationOptions.validation;\n        }\n        this.element = dom.append(container, $('.monaco-inputbox.idle'));\n        const tagName = this.options.flexibleHeight ? 'textarea' : 'input';\n        const wrapper = dom.append(this.element, $('.ibwrapper'));\n        this.input = dom.append(wrapper, $(tagName + '.input.empty'));\n        this.input.setAttribute('autocorrect', 'off');\n        this.input.setAttribute('autocapitalize', 'off');\n        this.input.setAttribute('spellcheck', 'false');\n        this.onfocus(this.input, () => this.element.classList.add('synthetic-focus'));\n        this.onblur(this.input, () => this.element.classList.remove('synthetic-focus'));\n        if (this.options.flexibleHeight) {\n            this.maxHeight = typeof this.options.flexibleMaxHeight === 'number' ? this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY;\n            this.mirror = dom.append(wrapper, $('div.mirror'));\n            this.mirror.innerText = '\\u00a0';\n            this.scrollableElement = new ScrollableElement(this.element, { vertical: 1 /* ScrollbarVisibility.Auto */ });\n            if (this.options.flexibleWidth) {\n                this.input.setAttribute('wrap', 'off');\n                this.mirror.style.whiteSpace = 'pre';\n                this.mirror.style.wordWrap = 'initial';\n            }\n            dom.append(container, this.scrollableElement.getDomNode());\n            this._register(this.scrollableElement);\n            // from ScrollableElement to DOM\n            this._register(this.scrollableElement.onScroll(e => this.input.scrollTop = e.scrollTop));\n            const onSelectionChange = this._register(new DomEmitter(document, 'selectionchange'));\n            const onAnchoredSelectionChange = Event.filter(onSelectionChange.event, () => {\n                const selection = document.getSelection();\n                return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === wrapper;\n            });\n            // from DOM to ScrollableElement\n            this._register(onAnchoredSelectionChange(this.updateScrollDimensions, this));\n            this._register(this.onDidHeightChange(this.updateScrollDimensions, this));\n        }\n        else {\n            this.input.type = this.options.type || 'text';\n            this.input.setAttribute('wrap', 'off');\n        }\n        if (this.ariaLabel) {\n            this.input.setAttribute('aria-label', this.ariaLabel);\n        }\n        if (this.placeholder && !this.options.showPlaceholderOnFocus) {\n            this.setPlaceHolder(this.placeholder);\n        }\n        if (this.tooltip) {\n            this.setTooltip(this.tooltip);\n        }\n        this.oninput(this.input, () => this.onValueChange());\n        this.onblur(this.input, () => this.onBlur());\n        this.onfocus(this.input, () => this.onFocus());\n        this._register(this.ignoreGesture(this.input));\n        setTimeout(() => this.updateMirror(), 0);\n        // Support actions\n        if (this.options.actions) {\n            this.actionbar = this._register(new ActionBar(this.element));\n            this.actionbar.push(this.options.actions, { icon: true, label: false });\n        }\n        this.applyStyles();\n    }\n    onBlur() {\n        this._hideMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', '');\n        }\n    }\n    onFocus() {\n        this._showMessage();\n        if (this.options.showPlaceholderOnFocus) {\n            this.input.setAttribute('placeholder', this.placeholder || '');\n        }\n    }\n    setPlaceHolder(placeHolder) {\n        this.placeholder = placeHolder;\n        this.input.setAttribute('placeholder', placeHolder);\n    }\n    setTooltip(tooltip) {\n        this.tooltip = tooltip;\n        this.input.title = tooltip;\n    }\n    get inputElement() {\n        return this.input;\n    }\n    get value() {\n        return this.input.value;\n    }\n    set value(newValue) {\n        if (this.input.value !== newValue) {\n            this.input.value = newValue;\n            this.onValueChange();\n        }\n    }\n    get height() {\n        return typeof this.cachedHeight === 'number' ? this.cachedHeight : dom.getTotalHeight(this.element);\n    }\n    focus() {\n        this.input.focus();\n    }\n    blur() {\n        this.input.blur();\n    }\n    hasFocus() {\n        return document.activeElement === this.input;\n    }\n    select(range = null) {\n        this.input.select();\n        if (range) {\n            this.input.setSelectionRange(range.start, range.end);\n            if (range.end === this.input.value.length) {\n                this.input.scrollLeft = this.input.scrollWidth;\n            }\n        }\n    }\n    isSelectionAtEnd() {\n        return this.input.selectionEnd === this.input.value.length && this.input.selectionStart === this.input.selectionEnd;\n    }\n    enable() {\n        this.input.removeAttribute('disabled');\n    }\n    disable() {\n        this.blur();\n        this.input.disabled = true;\n        this._hideMessage();\n    }\n    set paddingRight(paddingRight) {\n        // Set width to avoid hint text overlapping buttons\n        this.input.style.width = `calc(100% - ${paddingRight}px)`;\n        if (this.mirror) {\n            this.mirror.style.paddingRight = paddingRight + 'px';\n        }\n    }\n    updateScrollDimensions() {\n        if (typeof this.cachedContentHeight !== 'number' || typeof this.cachedHeight !== 'number' || !this.scrollableElement) {\n            return;\n        }\n        const scrollHeight = this.cachedContentHeight;\n        const height = this.cachedHeight;\n        const scrollTop = this.input.scrollTop;\n        this.scrollableElement.setScrollDimensions({ scrollHeight, height });\n        this.scrollableElement.setScrollPosition({ scrollTop });\n    }\n    showMessage(message, force) {\n        if (this.state === 'open' && equals(this.message, message)) {\n            // Already showing\n            return;\n        }\n        this.message = message;\n        this.element.classList.remove('idle');\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add(this.classForType(message.type));\n        const styles = this.stylesForType(this.message.type);\n        this.element.style.border = `1px solid ${dom.asCssValueWithDefault(styles.border, 'transparent')}`;\n        if (this.message.content && (this.hasFocus() || force)) {\n            this._showMessage();\n        }\n    }\n    hideMessage() {\n        this.message = null;\n        this.element.classList.remove('info');\n        this.element.classList.remove('warning');\n        this.element.classList.remove('error');\n        this.element.classList.add('idle');\n        this._hideMessage();\n        this.applyStyles();\n    }\n    validate() {\n        let errorMsg = null;\n        if (this.validation) {\n            errorMsg = this.validation(this.value);\n            if (errorMsg) {\n                this.inputElement.setAttribute('aria-invalid', 'true');\n                this.showMessage(errorMsg);\n            }\n            else if (this.inputElement.hasAttribute('aria-invalid')) {\n                this.inputElement.removeAttribute('aria-invalid');\n                this.hideMessage();\n            }\n        }\n        return errorMsg === null || errorMsg === void 0 ? void 0 : errorMsg.type;\n    }\n    stylesForType(type) {\n        const styles = this.options.inputBoxStyles;\n        switch (type) {\n            case 1 /* MessageType.INFO */: return { border: styles.inputValidationInfoBorder, background: styles.inputValidationInfoBackground, foreground: styles.inputValidationInfoForeground };\n            case 2 /* MessageType.WARNING */: return { border: styles.inputValidationWarningBorder, background: styles.inputValidationWarningBackground, foreground: styles.inputValidationWarningForeground };\n            default: return { border: styles.inputValidationErrorBorder, background: styles.inputValidationErrorBackground, foreground: styles.inputValidationErrorForeground };\n        }\n    }\n    classForType(type) {\n        switch (type) {\n            case 1 /* MessageType.INFO */: return 'info';\n            case 2 /* MessageType.WARNING */: return 'warning';\n            default: return 'error';\n        }\n    }\n    _showMessage() {\n        if (!this.contextViewProvider || !this.message) {\n            return;\n        }\n        let div;\n        const layout = () => div.style.width = dom.getTotalWidth(this.element) + 'px';\n        this.contextViewProvider.showContextView({\n            getAnchor: () => this.element,\n            anchorAlignment: 1 /* AnchorAlignment.RIGHT */,\n            render: (container) => {\n                var _a, _b;\n                if (!this.message) {\n                    return null;\n                }\n                div = dom.append(container, $('.monaco-inputbox-container'));\n                layout();\n                const renderOptions = {\n                    inline: true,\n                    className: 'monaco-inputbox-message'\n                };\n                const spanElement = (this.message.formatContent\n                    ? renderFormattedText(this.message.content, renderOptions)\n                    : renderText(this.message.content, renderOptions));\n                spanElement.classList.add(this.classForType(this.message.type));\n                const styles = this.stylesForType(this.message.type);\n                spanElement.style.backgroundColor = (_a = styles.background) !== null && _a !== void 0 ? _a : '';\n                spanElement.style.color = (_b = styles.foreground) !== null && _b !== void 0 ? _b : '';\n                spanElement.style.border = styles.border ? `1px solid ${styles.border}` : '';\n                dom.append(div, spanElement);\n                return null;\n            },\n            onHide: () => {\n                this.state = 'closed';\n            },\n            layout: layout\n        });\n        // ARIA Support\n        let alertText;\n        if (this.message.type === 3 /* MessageType.ERROR */) {\n            alertText = nls.localize('alertErrorMessage', \"Error: {0}\", this.message.content);\n        }\n        else if (this.message.type === 2 /* MessageType.WARNING */) {\n            alertText = nls.localize('alertWarningMessage', \"Warning: {0}\", this.message.content);\n        }\n        else {\n            alertText = nls.localize('alertInfoMessage', \"Info: {0}\", this.message.content);\n        }\n        aria.alert(alertText);\n        this.state = 'open';\n    }\n    _hideMessage() {\n        if (!this.contextViewProvider) {\n            return;\n        }\n        if (this.state === 'open') {\n            this.contextViewProvider.hideContextView();\n        }\n        this.state = 'idle';\n    }\n    onValueChange() {\n        this._onDidChange.fire(this.value);\n        this.validate();\n        this.updateMirror();\n        this.input.classList.toggle('empty', !this.value);\n        if (this.state === 'open' && this.contextViewProvider) {\n            this.contextViewProvider.layout();\n        }\n    }\n    updateMirror() {\n        if (!this.mirror) {\n            return;\n        }\n        const value = this.value;\n        const lastCharCode = value.charCodeAt(value.length - 1);\n        const suffix = lastCharCode === 10 ? ' ' : '';\n        const mirrorTextContent = (value + suffix)\n            .replace(/\\u000c/g, ''); // Don't measure with the form feed character, which messes up sizing\n        if (mirrorTextContent) {\n            this.mirror.textContent = value + suffix;\n        }\n        else {\n            this.mirror.innerText = '\\u00a0';\n        }\n        this.layout();\n    }\n    applyStyles() {\n        var _a, _b, _c;\n        const styles = this.options.inputBoxStyles;\n        const background = (_a = styles.inputBackground) !== null && _a !== void 0 ? _a : '';\n        const foreground = (_b = styles.inputForeground) !== null && _b !== void 0 ? _b : '';\n        const border = (_c = styles.inputBorder) !== null && _c !== void 0 ? _c : '';\n        this.element.style.backgroundColor = background;\n        this.element.style.color = foreground;\n        this.input.style.backgroundColor = 'inherit';\n        this.input.style.color = foreground;\n        // there's always a border, even if the color is not set.\n        this.element.style.border = `1px solid ${dom.asCssValueWithDefault(border, 'transparent')}`;\n    }\n    layout() {\n        if (!this.mirror) {\n            return;\n        }\n        const previousHeight = this.cachedContentHeight;\n        this.cachedContentHeight = dom.getTotalHeight(this.mirror);\n        if (previousHeight !== this.cachedContentHeight) {\n            this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight);\n            this.input.style.height = this.cachedHeight + 'px';\n            this._onDidHeightChange.fire(this.cachedContentHeight);\n        }\n    }\n    insertAtCursor(text) {\n        const inputElement = this.inputElement;\n        const start = inputElement.selectionStart;\n        const end = inputElement.selectionEnd;\n        const content = inputElement.value;\n        if (start !== null && end !== null) {\n            this.value = content.substr(0, start) + text + content.substr(end);\n            inputElement.setSelectionRange(start + 1, start + 1);\n            this.layout();\n        }\n    }\n    dispose() {\n        var _a;\n        this._hideMessage();\n        this.message = null;\n        (_a = this.actionbar) === null || _a === void 0 ? void 0 : _a.dispose();\n        super.dispose();\n    }\n}\nexport class HistoryInputBox extends InputBox {\n    constructor(container, contextViewProvider, options) {\n        const NLS_PLACEHOLDER_HISTORY_HINT = nls.localize({ key: 'history.inputbox.hint', comment: ['Text will be prefixed with \\u21C5 plus a single space, then used as a hint where input field keeps history'] }, \"for history\");\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX = ` or \\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT}`;\n        const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS = ` (\\u21C5 ${NLS_PLACEHOLDER_HISTORY_HINT})`;\n        super(container, contextViewProvider, options);\n        this._onDidFocus = this._register(new Emitter());\n        this.onDidFocus = this._onDidFocus.event;\n        this._onDidBlur = this._register(new Emitter());\n        this.onDidBlur = this._onDidBlur.event;\n        this.history = new HistoryNavigator(options.history, 100);\n        // Function to append the history suffix to the placeholder if necessary\n        const addSuffix = () => {\n            if (options.showHistoryHint && options.showHistoryHint() && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX) && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS) && this.history.getHistory().length) {\n                const suffix = this.placeholder.endsWith(')') ? NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX : NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS;\n                const suffixedPlaceholder = this.placeholder + suffix;\n                if (options.showPlaceholderOnFocus && document.activeElement !== this.input) {\n                    this.placeholder = suffixedPlaceholder;\n                }\n                else {\n                    this.setPlaceHolder(suffixedPlaceholder);\n                }\n            }\n        };\n        // Spot the change to the textarea class attribute which occurs when it changes between non-empty and empty,\n        // and add the history suffix to the placeholder if not yet present\n        this.observer = new MutationObserver((mutationList, observer) => {\n            mutationList.forEach((mutation) => {\n                if (!mutation.target.textContent) {\n                    addSuffix();\n                }\n            });\n        });\n        this.observer.observe(this.input, { attributeFilter: ['class'] });\n        this.onfocus(this.input, () => addSuffix());\n        this.onblur(this.input, () => {\n            const resetPlaceholder = (historyHint) => {\n                if (!this.placeholder.endsWith(historyHint)) {\n                    return false;\n                }\n                else {\n                    const revertedPlaceholder = this.placeholder.slice(0, this.placeholder.length - historyHint.length);\n                    if (options.showPlaceholderOnFocus) {\n                        this.placeholder = revertedPlaceholder;\n                    }\n                    else {\n                        this.setPlaceHolder(revertedPlaceholder);\n                    }\n                    return true;\n                }\n            };\n            if (!resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS)) {\n                resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX);\n            }\n        });\n    }\n    dispose() {\n        super.dispose();\n        if (this.observer) {\n            this.observer.disconnect();\n            this.observer = undefined;\n        }\n    }\n    addToHistory(always) {\n        if (this.value && (always || this.value !== this.getCurrentValue())) {\n            this.history.add(this.value);\n        }\n    }\n    isAtLastInHistory() {\n        return this.history.isLast();\n    }\n    isNowhereInHistory() {\n        return this.history.isNowhere();\n    }\n    showNextValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let next = this.getNextValue();\n        if (next) {\n            next = next === this.value ? this.getNextValue() : next;\n        }\n        this.value = next !== null && next !== void 0 ? next : '';\n        aria.status(this.value ? this.value : nls.localize('clearedInput', \"Cleared Input\"));\n    }\n    showPreviousValue() {\n        if (!this.history.has(this.value)) {\n            this.addToHistory();\n        }\n        let previous = this.getPreviousValue();\n        if (previous) {\n            previous = previous === this.value ? this.getPreviousValue() : previous;\n        }\n        if (previous) {\n            this.value = previous;\n            aria.status(this.value);\n        }\n    }\n    onBlur() {\n        super.onBlur();\n        this._onDidBlur.fire();\n    }\n    onFocus() {\n        super.onFocus();\n        this._onDidFocus.fire();\n    }\n    getCurrentValue() {\n        let currentValue = this.history.current();\n        if (!currentValue) {\n            currentValue = this.history.last();\n            this.history.next();\n        }\n        return currentValue;\n    }\n    getPreviousValue() {\n        return this.history.previous() || this.history.first();\n    }\n    getNextValue() {\n        return this.history.next();\n    }\n}\n"],"names":["ctrlKeyMod","platform","metaKeyMod","StandardKeyboardEvent","constructor","source","this","_standardKeyboardEventBrand","e","browserEvent","target","ctrlKey","shiftKey","altKey","metaKey","altGraphKey","getModifierState","keyCode","charCode","char","String","fromCharCode","toUpperCase","KeyCodeUtils","fromString","browser","EVENT_KEY_CODE_MAP","extractKeyCode","code","_asKeybinding","_computeKeybinding","_asKeyCodeChord","_computeKeyCodeChord","preventDefault","stopPropagation","toKeyCodeChord","equals","other","key","result","KeyCodeChord","defaultMarkedRenderers","Object","freeze","image","href","title","text","dimensions","attributes","parseHrefAndDimensions","push","concat","escapeDoubleQuotes","length","join","paragraph","link","removeMarkdownEscapes","replace","renderMarkdown","markdown","options","arguments","undefined","markedOptions","_a","_b","disposables","DisposableStore","isDisposed","element","createElement","_uriMassage","part","data","parse","decodeURIComponent","cloneAndChange","value","uris","URI","revive","encodeURIComponent","JSON","stringify","_href","isDomUri","uri","startsWith","Schemas","FileAccess","uriToBrowserUri","toString","query","with","renderer","marked","Renderer","codeBlocks","syncCodeBlocks","codeBlockRendererSync","lang","id","defaultGenerator","nextId","postProcessCodeBlockLanguageId","escape","codeBlockRenderer","then","actionHandler","_activateLink","event","tagName","parentElement","dataset","baseUri","resolveWithBaseUri","from","callback","err","onUnexpectedError","onClick","add","DomEmitter","onAuxClick","Event","any","mouseEvent","StandardMouseEvent","leftButton","middleButton","DOM","keyboardEvent","supportHtml","sanitizer","html","isTrusted","match","sanitize","silent","renderedMarkdown","substr","supportThemeIcons","markdownEscapeEscapedIcons","fillInIncompleteTokens","opts","assign","defaults","newTokens","tokens","i","token","type","raw","completeCodeBlock","slice","completeTable","newToken","completeSingleLinePattern","newTokensList","links","lexer","parser","renderLabelWithIcons","map","outerHTML","markdownHtmlDoc","DOMParser","parseFromString","sanitizeRenderedMarkdown","body","querySelectorAll","forEach","img","src","getAttribute","a","setAttribute","test","replaceWith","childNodes","resolvedHref","innerHTML","Promise","all","tuples","renderedElements","Map","placeholderElements","placeholderElement","renderedElement","get","asyncRenderCallback","call","getElementsByTagName","listener","dispose","parts","split","path","endsWith","resolvePath","dirname","config","allowedSchemes","http","https","mailto","file","vscodeFileResource","vscodeRemote","vscodeRemoteResource","command","ALLOWED_TAGS","ALLOWED_ATTR","allowedMarkdownAttr","ALLOW_UNKNOWN_PROTOCOLS","getSanitizerOptions","dompurify","attrName","keepAttr","attrValue","hook","RETURN_TRUSTED_TYPE","renderStringAsPlaintext","string","plainTextRenderer","m","unescapeInfo","renderMarkdownAsPlaintext","Lazy","blockquote","quote","_html","heading","_level","_raw","hr","list","_ordered","listitem","table","header","tablerow","content","tablecell","_flags","strong","em","codespan","br","del","_title","_text","mergeRawTokenText","mergedTokenText","subtoken","lines","lastLine","includes","completeCodespan","completeWithString","completeStar","completeDoubleUnderscore","completeUnderscore","completeLinkTarget","completeLinkText","mergedRawText","closingString","Array","isArray","numCols","hasSeparatorRow","line","trim","line1Matches","prefixText","line1EndsInPipe","newRawText","repeat","hasDifferentOriginAncestorFlag","sameOriginWindowChainCache","getParentWindowIfSameOrigin","w","parent","location","parentLocation","origin","IframeUtils","getSameOriginWindowChain","window","iframeElement","frameElement","getPositionOfChildWindowRelativeToAncestorWindow","childWindow","ancestorWindow","top","left","windowChain","windowChainEl","scrollY","scrollX","boundingRect","getBoundingClientRect","timestamp","Date","now","button","rightButton","buttons","detail","pageX","posx","posy","pageY","clientX","ownerDocument","scrollLeft","documentElement","clientY","scrollTop","iframeOffsets","view","StandardWheelEvent","deltaX","deltaY","targetNode","srcElement","e1","e2","wheelDeltaY","VERTICAL_AXIS","axis","ev","deltaMode","DOM_DELTA_LINE","wheelDeltaX","HORIZONTAL_AXIS","wheelDelta","inputLatency","totalKeydownTime","total","min","Number","MAX_VALUE","max","totalInputTime","totalRenderTime","totalInputLatencyTime","measurementsCount","state","keydown","input","render","markKeyDownEnd","performance","mark","onBeforeInput","scheduleRecordIfFinishedTask","markInputEnd","markRenderEnd","setTimeout","recordIfFinished","measure","addMeasure","clearMarks","clearMeasures","entryName","cumulativeMeasurement","duration","getEntriesByName","Math","cumulativeToFinalMeasurement","cumulative","average","clearCumulativeMeasurement","onKeyDown","queueMicrotask","onInput","onKeyUp","onSelectionChange","onRenderStart","getAndClearMeasurements","sampleCount","EventType","__decorate","decorators","desc","d","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Tap","Change","Start","End","Contextmenu","Gesture","Disposable","super","dispatched","targets","LinkedList","ignoreTargets","activeTouches","handle","_lastSetTapCountTime","_register","DomUtils","document","onTouchStart","passive","onTouchEnd","onTouchMove","addTarget","isTouchDevice","None","INSTANCE","markAsSingleton","remove","toDisposable","ignoreTarget","navigator","maxTouchPoints","len","targetTouches","touch","item","identifier","initialTarget","initialTimeStamp","initialPageX","initialPageY","rollingTimestamps","rollingPageX","rollingPageY","evt","newGestureEvent","dispatchEvent","activeTouchCount","keys","changedTouches","hasOwnProperty","console","warn","holdTime","HOLD_DELAY","abs","arrays","finalX","finalY","deltaT","dispatchTo","filter","t","Node","contains","inertia","createEvent","initEvent","tapCount","currentTime","getTime","setTapCount","CLEAR_TAP_COUNT_TIME","t1","vX","dirX","x","vY","dirY","y","delta_pos_x","delta_pos_y","stopped","SCROLL_FRICTION","translationX","translationY","shift","memoize","createTrustedTypesPolicy","policyName","policyOptions","monacoEnvironment","globalThis","MonacoEnvironment","trustedTypes","createPolicy","BaseActionViewItem","action","_action","context","_context","Action","onDidChange","handleActionChangeEvent","enabled","updateEnabled","checked","updateChecked","class","updateClass","label","updateLabel","updateTooltip","tooltip","actionRunner","_actionRunner","ActionRunner","isEnabled","setActionContext","newContext","container","enableDragging","draggable","isFirefox","addDisposableListener","DRAG_START","dataTransfer","setData","DataTransfers","TEXT","TouchEventType","MOUSE_DOWN","EventHelper","stop","classList","CONTEXT_MENU","CLICK","isMenu","DBLCLICK","MOUSE_UP","MOUSE_OUT","preserveFocus","types","useEventAsContext","run","focus","tabIndex","blur","setFocusable","focusable","trapsArrowNavigation","getTooltip","updateAriaLabel","hoverDelegate","customHover","update","setupCustomHover","_store","ActionViewItem","icon","cssClass","append","$","getDefaultAriaRole","keybinding","textContent","Separator","ID","nls","comment","removeAttribute","toggle","SelectActionViewItem","ctx","selected","contextViewProvider","styles","selectBoxOptions","selectBox","SelectBox","registerListeners","select","index","onDidSelect","runAction","option","getActionContext","__awaiter","thisArg","_arguments","P","generator","resolve","reject","fulfilled","step","next","rejected","done","apply","ActionBar","_c","_d","_e","_f","previousKeys","nextKeys","_actionRunnerDisposables","viewItemDisposables","DisposableMap","triggerKeyDown","_onDidBlur","Emitter","onDidBlur","_onDidCancel","onWillAddFirstListener","cancelHasListener","onDidCancel","_onDidRun","onDidRun","_onWillRun","onWillRun","_orientation","orientation","_triggerKeys","keyDown","triggerKeys","fire","viewItems","focusedItem","domNode","className","animated","KEY_DOWN","eventHandled","focusPrevious","focusNext","focusFirst","focusLast","isTriggerKeyEvent","doTrigger","KEY_UP","updateFocusedItem","focusTracker","previouslyFocusedItem","onDidFocus","actionsList","highlightToggledItems","ariaRole","ariaLabel","appendChild","refreshRole","firstEnabled","find","vi","ret","children","elem","clear","getContainer","getAction","indexOrElement","HTMLElement","arg","actions","actionViewItemElement","viewItemOptions","actionViewItemProvider","allowContextMenu","set","insertBefore","splice","isEmpty","clearAndDisposeAll","selectFirst","findIndex","updateFocus","forceLoop","startIndex","preventLoopNavigation","focusOnlyEnabledItems","fromRight","preventScroll","forceFocus","actionViewItem","focusItem","MAX_MESSAGE_LENGTH","ariaContainer","alertContainer","alertContainer2","statusContainer","statusContainer2","setARIAContainer","createAlertContainer","createStatusContainer","alert","msg","dom","insertMessage","status","style","visibility","Color","white","Button","onDidClick","_onDidClick","_label","_element","secondary","background","buttonSecondaryBackground","buttonBackground","foreground","buttonSecondaryForeground","buttonForeground","color","backgroundColor","supportShortLabel","_labelShortElement","_labelElement","eventType","MOUSE_OVER","updateBackground","trackFocus","getContentElements","elements","segment","node","hover","buttonSecondaryHoverBackground","buttonHoverBackground","isMarkdownString","markdownStringEqual","labelElement","rendered","inline","root","querySelector","sanitized","ADD_TAGS","reset","supportIcons","LayoutAnchorMode","layout","viewportSize","viewSize","anchor","layoutAfterAnchorBoundary","mode","ALIGN","offset","size","layoutBeforeAnchorBoundary","position","ContextView","domPosition","delegate","toDisposeOnClean","toDisposeOnSetContainer","shadowRoot","shadowRootHostElement","useFixedPosition","useShadowDOM","setContainer","removeChild","attachShadow","SHADOW_ROOT_CSS","BUBBLE_UP_EVENTS","onDOMEvent","BUBBLE_DOWN_EVENTS","show","isVisible","hide","zIndex","doLayout","getViewElement","canRelayout","BrowserFeatures","pointerEvents","getAnchor","around","elementPosition","zoom","width","height","obj","isAnchor","viewSizeWidth","viewSizeHeight","anchorPosition","anchorAlignment","anchorAxisAlignment","verticalAnchor","pageYOffset","horizontalAnchor","innerHeight","Range","intersects","start","end","AVOID","innerWidth","containerPosition","onHide","onCapture","activeElement","CountBadge","count","countFormat","titleFormat","setCount","setTitleFormat","format","badgeBackground","badgeForeground","badgeBorder","border","BaseDropdown","_onDidChangeVisibility","onDidChangeVisibility","labelRenderer","GestureEventType","MouseEvent","visible","cleanupFn","boxContainer","contents","DropdownMenu","_options","_actions","menuOptions","_menuOptions","actionProvider","getActions","contextMenuProvider","showContextMenu","getActionsContext","getActionViewItem","getKeyBinding","getMenuClassName","menuClassName","domForShadowRoot","menuAsChild","skipTelemetry","DropdownMenuActionViewItem","menuActionsOrProvider","create","actionItem","isActionsArray","el","classNames","s","dropdownMenu","keybindingProvider","anchorAlignmentProvider","that","disabled","NLS_DEFAULT_LABEL","FindInput","Widget","fixFocusOnOptionClickEnabled","imeSessionInProgress","additionalTogglesDisposables","MutableDisposable","additionalToggles","_onDidOptionChange","onDidOptionChange","_onKeyDown","_onMouseDown","onMouseDown","_onInput","_onKeyUp","_onCaseSensitiveKeyDown","onCaseSensitiveKeyDown","_onRegexKeyDown","onRegexKeyDown","_lastHighlightFindOptions","placeholder","validation","showCommonFindToggles","appendCaseSensitiveLabel","appendWholeWordsLabel","appendRegexLabel","history","flexibleHeight","flexibleWidth","flexibleMaxHeight","inputBox","HistoryInputBox","validationOptions","showHistoryHint","inputBoxStyles","regex","RegexToggle","appendTitle","isChecked","toggleStyles","onChange","viaKeyboard","validate","wholeWords","WholeWordsToggle","caseSensitive","CaseSensitiveToggle","indexes","onkeydown","indexOf","newIndex","controls","display","setAdditionalToggles","inputElement","onkeyup","oninput","onmousedown","updateInputBoxPadding","collapsedFindWidget","enable","disable","setFocusInputOnOptionClick","setEnabled","toggles","currentToggle","controlsHidden","paddingRight","reduce","getValue","setValue","getCaseSensitive","setCaseSensitive","getWholeWords","setWholeWords","getRegex","setRegex","focusOnCaseSensitive","highlightFindOptions","showMessage","message","clearMessage","hideMessage","NLS_CASE_SENSITIVE_TOGGLE_LABEL","NLS_WHOLE_WORD_TOGGLE_LABEL","NLS_REGEX_TOGGLE_LABEL","Toggle","Codicon","inputActiveOptionBorder","inputActiveOptionForeground","inputActiveOptionBackground","wholeWord","NLS_PRESERVE_CASE_LABEL","PreserveCaseToggle","preserveCase","ReplaceInput","_showOptionButtons","cachedOptionsWidth","_onPreserveCaseKeyDown","onPreserveCaseKeyDown","appendPreserveCaseLabel","getPreserveCase","setPreserveCase","focusOnPreserve","newWidth","HighlightedLabel","highlights","didEverRender","escapeNewLines","objects","pos","highlight","substring","extraClasses","extra","HoverWidget","containerDomNode","contentsDomNode","scrollbar","DomScrollableElement","consumeMouseWheelIfScrollbarIsNeeded","getDomNode","onContentsChanged","scanDomNode","HoverAction","actionOptions","keybindingLabel","actionContainer","iconClass","getHoverAccessibleViewHint","shouldHaveHint","localize","FastLabelNode","disposed","_textContent","_className","empty","_empty","marginLeft","IconLabel","customHovers","creationOptions","labelContainer","nameContainer","supportHighlights","nameNode","LabelWithHighlights","Label","setLabel","description","labelClasses","containerClasses","italic","strikethrough","disabledCommand","setupHover","descriptionTitle","descriptionNode","getOrCreateDescriptionNode","descriptionMatches","labelEscapeNewLines","htmlElement","previousCustomHover","delete","hoverDisposable","setupNativeHover","disposable","values","descriptionContainer","supportDescriptionHighlights","singleLabel","innerText","domId","l","separator","matches","labels","labelStart","labelRange","intersect","range","_ref","splitMatches","name","isString","stripIcons","markdownNotSupportedFallback","UpdatableHoverWidget","fadeInAnimation","_cancellationTokenSource","resolvedContent","isFunction","_hoverWidget","CancellationTokenSource","isCancellationRequested","oldHoverWidget","hasContent","hoverOptions","showPointer","placement","hoverPosition","skipFadeInAnimation","showHover","hoverPreparation","hoverWidget","hideHover","disposeWidget","disposePreparation","hadHover","onDidHideHover","triggerShowHover","delay","TimeoutTimer","mouseOverDomEmitter","onMouseOver","toDispose","MOUSE_LEAVE","fromElement","targetElements","onMouseMove","MOUSE_MOVE","newContent","labelWithIconsRegex","RegExp","ThemeIcon","iconNameExpression","iconModifierExpression","textStart","textStop","exec","escaped","codicon","renderIcon","asClassNameArray","unthemedInboxStyles","inputBackground","inputForeground","inputValidationInfoBorder","inputValidationInfoBackground","inputValidationWarningBorder","inputValidationWarningBackground","inputValidationErrorBorder","inputValidationErrorBackground","inputBorder","inputValidationErrorForeground","inputValidationInfoForeground","inputValidationWarningForeground","InputBox","maxHeight","POSITIVE_INFINITY","_onDidChange","_onDidHeightChange","onDidHeightChange","wrapper","onfocus","onblur","mirror","scrollableElement","ScrollableElement","vertical","whiteSpace","wordWrap","onScroll","onAnchoredSelectionChange","selection","getSelection","anchorNode","updateScrollDimensions","showPlaceholderOnFocus","setPlaceHolder","setTooltip","onValueChange","onBlur","onFocus","ignoreGesture","updateMirror","actionbar","applyStyles","_hideMessage","_showMessage","placeHolder","newValue","cachedHeight","hasFocus","setSelectionRange","scrollWidth","isSelectionAtEnd","selectionEnd","selectionStart","cachedContentHeight","scrollHeight","setScrollDimensions","setScrollPosition","force","classForType","stylesForType","errorMsg","hasAttribute","div","alertText","showContextView","renderOptions","spanElement","formatContent","renderFormattedText","renderText","aria","hideContextView","suffix","charCodeAt","previousHeight","insertAtCursor","NLS_PLACEHOLDER_HISTORY_HINT","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX","NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS","_onDidFocus","HistoryNavigator","addSuffix","getHistory","suffixedPlaceholder","observer","MutationObserver","mutationList","mutation","observe","attributeFilter","resetPlaceholder","historyHint","revertedPlaceholder","disconnect","addToHistory","always","getCurrentValue","isAtLastInHistory","isLast","isNowhereInHistory","isNowhere","showNextValue","has","getNextValue","showPreviousValue","previous","getPreviousValue","currentValue","current","last","first"],"sourceRoot":""}