"use strict";(self.webpackChunkmonaco_editor_nginx=self.webpackChunkmonaco_editor_nginx||[]).push([[2345],{10801:(e,t,i)=>{i.d(t,{l:()=>l,q:()=>d});var o=i(11721),n=i(52773),r=i(42962),s=i(56002),c=i(55334);function d(e){const t=new n.Vq;for(const i of e.items){const e=i.type;if("string"===i.kind){const o=new Promise((e=>i.getAsString(e)));t.append(e,(0,n.gf)(o))}else if("file"===i.kind){const o=i.getAsFile();o&&t.append(e,a(o))}}return t}function a(e){const t=e.path?s.r.parse(e.path):void 0;return(0,n.VX)(e.name,t,(async()=>new Uint8Array(await e.arrayBuffer())))}const h=Object.freeze([c.sV.EDITORS,c.sV.FILES,o.t.RESOURCES,o.t.INTERNAL_URI_LIST]);function l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=d(e),c=i.get(o.t.INTERNAL_URI_LIST);if(c)i.replace(r.K.uriList,c);else if(t||!i.has(r.K.uriList)){const t=[];for(const i of e.items){const e=i.getAsFile();if(e){const i=e.path;try{i?t.push(s.r.file(i).toString()):t.push(s.r.parse(e.name,!0).toString())}catch(a){}}}t.length&&i.replace(r.K.uriList,(0,n.gf)(n.jt.create(t)))}for(const o of h)i.delete(o);return i}},73800:(e,t,i)=>{i.d(t,{Np:()=>r,jA:()=>s,z9:()=>n});var o=i(11894);function n(e){return!(!e||"function"!==typeof e.getEditorType)&&e.getEditorType()===o._.ICodeEditor}function r(e){return!(!e||"function"!==typeof e.getEditorType)&&e.getEditorType()===o._.IDiffEditor}function s(e){return n(e)?e:r(e)?e.getModifiedEditor():function(e){return!!e&&"object"===typeof e&&"function"===typeof e.onDidChangeActiveEditor}(e)&&n(e.activeCodeEditor)?e.activeCodeEditor:null}},61260:(e,t,i)=>{i.d(t,{$z:()=>v,BA:()=>f,DW:()=>m,Hh:()=>h,Qn:()=>y,dO:()=>p,i_:()=>g,nz:()=>a,wt:()=>_});var o=i(29563),n=i(93542),r=i(90555),s=i(78112),c=i(60704),d=i(81203);class a{constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(e){return new h(this.x-e.scrollX,this.y-e.scrollY)}}class h{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(e){return new a(this.clientX+e.scrollX,this.clientY+e.scrollY)}}class l{constructor(e,t,i,o){this.x=e,this.y=t,this.width=i,this.height=o,this._editorPagePositionBrand=void 0}}class u{constructor(e,t){this.x=e,this.y=t,this._positionRelativeToEditorBrand=void 0}}function _(e){const t=o.BK(e);return new l(t.left,t.top,t.width,t.height)}function g(e,t,i){const o=t.width/e.offsetWidth,n=t.height/e.offsetHeight,r=(i.x-t.x)/o,s=(i.y-t.y)/n;return new u(r,s)}class p extends r.P{constructor(e,t,i){super(o.zk(i),e),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=t,this.pos=new a(this.posx,this.posy),this.editorPos=_(i),this.relativePos=g(i,this.editorPos,this.pos)}}class v{constructor(e){this._editorViewDomNode=e}_create(e){return new p(e,!1,this._editorViewDomNode)}onContextMenu(e,t){return o.ko(e,"contextmenu",(e=>{t(this._create(e))}))}onMouseUp(e,t){return o.ko(e,"mouseup",(e=>{t(this._create(e))}))}onMouseDown(e,t){return o.ko(e,o.Bx.MOUSE_DOWN,(e=>{t(this._create(e))}))}onPointerDown(e,t){return o.ko(e,o.Bx.POINTER_DOWN,(e=>{t(this._create(e),e.pointerId)}))}onMouseLeave(e,t){return o.ko(e,o.Bx.MOUSE_LEAVE,(e=>{t(this._create(e))}))}onMouseMove(e,t){return o.ko(e,"mousemove",(e=>t(this._create(e))))}}class m{constructor(e){this._editorViewDomNode=e}_create(e){return new p(e,!1,this._editorViewDomNode)}onPointerUp(e,t){return o.ko(e,"pointerup",(e=>{t(this._create(e))}))}onPointerDown(e,t){return o.ko(e,o.Bx.POINTER_DOWN,(e=>{t(this._create(e),e.pointerId)}))}onPointerLeave(e,t){return o.ko(e,o.Bx.POINTER_LEAVE,(e=>{t(this._create(e))}))}onPointerMove(e,t){return o.ko(e,"pointermove",(e=>t(this._create(e))))}}class f extends c.jG{constructor(e){super(),this._editorViewDomNode=e,this._globalPointerMoveMonitor=this._register(new n._),this._keydownListener=null}startMonitoring(e,t,i,n,r){this._keydownListener=o.b2(e.ownerDocument,"keydown",(e=>{e.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,e.browserEvent)}),!0),this._globalPointerMoveMonitor.startMonitoring(e,t,i,(e=>{n(new p(e,!0,this._editorViewDomNode))}),(e=>{this._keydownListener.dispose(),r(e)}))}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class y{constructor(e){this._editor=e,this._instanceId=++y._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new s.uC((()=>this.garbageCollect()),1e3)}createClassNameRef(e){const t=this.getOrCreateRule(e);return t.increaseRefCount(),{className:t.className,dispose:()=>{t.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(e){const t=this.computeUniqueKey(e);let i=this._rules.get(t);if(!i){const n=this._counter++;i=new w(t,"dyn-rule-".concat(this._instanceId,"-").concat(n),o.Cl(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,e),this._rules.set(t,i)}return i}computeUniqueKey(e){return JSON.stringify(e)}garbageCollect(){for(const e of this._rules.values())e.hasReferences()||(this._rules.delete(e.key),e.dispose())}}y._idPool=0;class w{constructor(e,t,i,n){this.key=e,this.className=t,this.properties=n,this._referenceCount=0,this._styleElementDisposables=new c.Cm,this._styleElement=o.li(i,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(e,t){let i=".".concat(e," {");for(const o in t){const e=t[o];let n;n="object"===typeof e?(0,d.GuP)(e.id):e;const r=C(o);i+="\n\t".concat(r,": ").concat(n,";")}return i+="\n}",i}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function C(e){return e.replace(/(^[A-Z])/,(e=>{let[t]=e;return t.toLowerCase()})).replace(/([A-Z])/g,(e=>{let[t]=e;return"-".concat(t.toLowerCase())}))}},444:(e,t,i)=>{i.d(t,{DX:()=>E,E_:()=>P,Fl:()=>D,HW:()=>N,PF:()=>b,aU:()=>I,dS:()=>o,fE:()=>C,gW:()=>O,ih:()=>R,ke:()=>x,ks:()=>S,qO:()=>M,tc:()=>W,uB:()=>w,xX:()=>T});var o,n=i(17483),r=i(56002),s=i(24107),c=i(20603),d=i(25132),a=i(6976),h=i(90585),l=i(22137),u=i(26376),_=i(17837),g=i(6219),p=i(4137),v=i(457),m=i(14945),f=i(4687),y=i(29563);class w{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this.metadata=e.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let e=t.kbExpr;this.precondition&&(e=e?u.M$.and(e,this.precondition):this.precondition);const i={id:this.id,weight:t.weight,args:t.args,when:e,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};g.f.registerKeybindingRule(i)}}l.w.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),metadata:this.metadata})}_registerMenuItem(e){h.ZG.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class C extends w{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i,o){return this._implementations.push({priority:e,name:t,implementation:i,when:o}),this._implementations.sort(((e,t)=>t.priority-e.priority)),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e].implementation===i)return void this._implementations.splice(e,1)}}}runCommand(e,t){const i=e.get(f.rr),o=e.get(u.fN);i.trace("Executing Command '".concat(this.id,"' which has ").concat(this._implementations.length," bound."));for(const n of this._implementations){if(n.when){const e=o.getContext((0,y.bq)());if(!n.when.evaluate(e))continue}const r=n.implementation(e,t);if(r){if(i.trace("Command '".concat(this.id,"' was handled by '").concat(n.name,"'.")),"boolean"===typeof r)return;return r}}i.trace("The Command '".concat(this.id,"' was not handled by any implementation."))}}class k extends w{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class E extends w{static bindToContribution(e){return class extends E{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,i,o){const n=e(i);n&&this._callback(n,o)}}}static runEditorCommand(e,t,i,o){const n=e.get(s.T),r=n.getFocusedCodeEditor()||n.getActiveCodeEditor();if(r)return r.invokeWithinContext((e=>{if(e.get(u.fN).contextMatchesRules(null!==i&&void 0!==i?i:void 0))return o(e,r,t)}))}runCommand(e,t){return E.runEditorCommand(e,t,this.precondition,((e,t,i)=>this.runEditorCommand(e,t,i)))}}class S extends E{static convertOptions(e){let t;function i(t){return t.menuId||(t.menuId=h.D8.EditorContext),t.title||(t.title=e.label),t.when=u.M$.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}constructor(e){super(S.convertOptions(e)),this.label=e.label,this.alias=e.alias}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(v.k).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class b extends S{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort(((e,t)=>t[0]-e[0])),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e][1]===t)return void this._implementations.splice(e,1)}}}run(e,t,i){for(const o of this._implementations){const n=o[1](e,t,i);if(n){if("boolean"===typeof n)return;return n}}}}class M extends h.L{run(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];const n=e.get(s.T),r=n.getFocusedCodeEditor()||n.getActiveCodeEditor();if(r)return r.invokeWithinContext((e=>{var t,o;const n=e.get(u.fN),s=e.get(f.rr);if(n.contextMatchesRules(null!==(t=this.desc.precondition)&&void 0!==t?t:void 0))return this.runEditorCommand(e,r,...i);s.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,null===(o=this.desc.precondition)||void 0===o?void 0:o.serialize())}))}}function x(e,t){l.w.registerCommand(e,(function(e){for(var i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];const s=e.get(_._Y),[h,l]=o;(0,m.j)(r.r.isUri(h)),(0,m.j)(c.y.isIPosition(l));const u=e.get(d.S).getModel(h);if(u){const e=c.y.lift(l);return s.invokeFunction(t,u,e,...o.slice(2))}return e.get(a.b).createModelReference(h).then((e=>new Promise(((i,n)=>{try{i(s.invokeFunction(t,e.object.textEditorModel,c.y.lift(l),o.slice(2)))}catch(r){n(r)}})).finally((()=>{e.dispose()}))))}))}function P(e){return H.INSTANCE.registerEditorCommand(e),e}function D(e){const t=new e;return H.INSTANCE.registerEditorAction(t),t}function O(e){return H.INSTANCE.registerEditorAction(e),e}function T(e){H.INSTANCE.registerEditorAction(e)}function N(e,t,i){H.INSTANCE.registerEditorContribution(e,t,i)}!function(e){e.getEditorCommand=function(e){return H.INSTANCE.getEditorCommand(e)},e.getEditorActions=function(){return H.INSTANCE.getEditorActions()},e.getEditorContributions=function(){return H.INSTANCE.getEditorContributions()},e.getSomeEditorContributions=function(e){return H.INSTANCE.getEditorContributions().filter((t=>e.indexOf(t.id)>=0))},e.getDiffEditorContributions=function(){return H.INSTANCE.getDiffEditorContributions()}}(o||(o={}));class H{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t,i){this.editorContributions.push({id:e,ctor:t,instantiation:i})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function L(e){return e.register(),e}H.INSTANCE=new H,p.O.add("editor.contributions",H.INSTANCE);const I=L(new C({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:h.D8.MenubarEditMenu,group:"1_do",title:n.kg({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:h.D8.CommandPalette,group:"",title:n.kg("undo","Undo"),order:1}]}));L(new k(I,{id:"default:undo",precondition:void 0}));const R=L(new C({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:h.D8.MenubarEditMenu,group:"1_do",title:n.kg({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:h.D8.CommandPalette,group:"",title:n.kg("redo","Redo"),order:1}]}));L(new k(R,{id:"default:redo",precondition:void 0}));const W=L(new C({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:h.D8.MenubarSelectionMenu,group:"1_basic",title:n.kg({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:h.D8.CommandPalette,group:"",title:n.kg("selectAll","Select All"),order:1}]}))},40112:(e,t,i)=>{i.d(t,{H:()=>n});var o=i(92444);function n(e){return r.get(e)}class r{static get(e){let t=r._map.get(e);if(!t){t=new r(e),r._map.set(e,t);const i=e.onDidDispose((()=>{r._map.delete(e),i.dispose()}))}return t}constructor(e){this.editor=e,this.model=(0,o.y0)(this.editor.onDidChangeModel,(()=>this.editor.getModel()))}}r._map=new Map},89169:(e,t,i)=>{i.d(t,{C:()=>a});var o=i(4640),n=i(60704),r=i(50907),s=i(84974),c=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=function(e,t){return function(i,o){t(i,o,e)}};let a=class extends n.jG{constructor(e){super(),this._themeService=e,this._onWillCreateCodeEditor=this._register(new o.vl),this._onCodeEditorAdd=this._register(new o.vl),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new o.vl),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new o.vl),this._onDiffEditorAdd=this._register(new o.vl),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new o.vl),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new r.w,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map((e=>this._codeEditors[e]))}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map((e=>this._diffEditors[e]))}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((t=>t.removeDecorationsByType(e)))))}setModelProperty(e,t,i){const o=e.toString();let n;this._modelProperties.has(o)?n=this._modelProperties.get(o):(n=new Map,this._modelProperties.set(o,n)),n.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i)){return this._modelProperties.get(i).get(t)}}async openCodeEditor(e,t,i){for(const o of this._codeEditorOpenHandlers){const n=await o(e,t,i);if(null!==n)return n}return null}registerCodeEditorOpenHandler(e){const t=this._codeEditorOpenHandlers.unshift(e);return(0,n.s)(t)}};a=c([d(0,s.Gy)],a)},30399:(e,t,i)=>{i.d(t,{cw:()=>d,jN:()=>c,nu:()=>s});var o=i(17837),n=i(56002),r=i(14945);const s=(0,o.u1)("IWorkspaceEditService");class c{constructor(e){this.metadata=e}static convert(e){return e.edits.map((e=>{if(d.is(e))return d.lift(e);if(a.is(e))return a.lift(e);throw new Error("Unsupported edit")}))}}class d extends c{static is(e){return e instanceof d||(0,r.Gv)(e)&&n.r.isUri(e.resource)&&(0,r.Gv)(e.textEdit)}static lift(e){return e instanceof d?e:new d(e.resource,e.textEdit,e.versionId,e.metadata)}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;super(arguments.length>3?arguments[3]:void 0),this.resource=e,this.textEdit=t,this.versionId=i}}class a extends c{static is(e){return e instanceof a||(0,r.Gv)(e)&&(Boolean(e.newResource)||Boolean(e.oldResource))}static lift(e){return e instanceof a?e:new a(e.oldResource,e.newResource,e.options,e.metadata)}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(arguments.length>3?arguments[3]:void 0),this.oldResource=e,this.newResource=t,this.options=i}}},24107:(e,t,i)=>{i.d(t,{T:()=>o});const o=(0,i(17837).u1)("codeEditorService")},63334:(e,t,i)=>{i.d(t,{Bc:()=>M,Z6:()=>N});var o=i(78112),n=i(60704),r=i(97623),s=i(31688),c=i(38499),d=i(41236),a=i(31218),h=i(25132),l=i(22246),u=i(55648),_=i(4687),g=i(40331),p=i(74821),v=i(58012),m=i(13567),f=i(48897),y=i(48861),w=i(80259),C=i(29563),k=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},E=function(e,t){return function(i,o){t(i,o,e)}};const S=3e5;function b(e,t){const i=e.getModel(t);return!!i&&!i.isTooLargeForSyncing()}let M=class extends n.jG{constructor(e,t,i,o,n){super(),this._modelService=e,this._workerManager=this._register(new P(this._modelService,o)),this._logService=i,this._register(n.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(e,t)=>b(this._modelService,e.uri)?this._workerManager.withWorker().then((t=>t.computeLinks(e.uri))).then((e=>e&&{links:e})):Promise.resolve({links:[]})})),this._register(n.completionProvider.register("*",new x(this._workerManager,t,this._modelService,o)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return b(this._modelService,e)}computedUnicodeHighlights(e,t,i){return this._workerManager.withWorker().then((o=>o.computedUnicodeHighlights(e,t,i)))}async computeDiff(e,t,i,o){const n=await this._workerManager.withWorker().then((n=>n.computeDiff(e,t,i,o)));if(!n)return null;return{identical:n.identical,quitEarly:n.quitEarly,changes:r(n.changes),moves:n.moves.map((e=>new m.t(new f.WL(new y.M(e[0],e[1]),new y.M(e[2],e[3])),r(e[4]))))};function r(e){return e.map((e=>{var t;return new f.wm(new y.M(e[0],e[1]),new y.M(e[2],e[3]),null===(t=e[4])||void 0===t?void 0:t.map((e=>new f.q6(new c.Q(e[0],e[1],e[2],e[3]),new c.Q(e[4],e[5],e[6],e[7])))))}))}}computeMoreMinimalEdits(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,u.EI)(t)){if(!b(this._modelService,e))return Promise.resolve(t);const n=g.W.create(),r=this._workerManager.withWorker().then((o=>o.computeMoreMinimalEdits(e,t,i)));return r.finally((()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),n.elapsed()))),Promise.race([r,(0,o.wR)(1e3).then((()=>t))])}return Promise.resolve(void 0)}canNavigateValueSet(e){return b(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then((o=>o.navigateValueSet(e,t,i)))}canComputeWordRanges(e){return b(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then((i=>i.computeWordRanges(e,t)))}findSectionHeaders(e,t){return this._workerManager.withWorker().then((i=>i.findSectionHeaders(e,t)))}};M=k([E(0,h.S),E(1,l.U),E(2,_.rr),E(3,d.JZ),E(4,v.u)],M);class x{constructor(e,t,i,o){this.languageConfigurationService=o,this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}async provideCompletionItems(e,t){const i=this._configurationService.getValue(e.uri,t,"editor");if("off"===i.wordBasedSuggestions)return;const o=[];if("currentDocument"===i.wordBasedSuggestions)b(this._modelService,e.uri)&&o.push(e.uri);else for(const c of this._modelService.getModels())b(this._modelService,c.uri)&&(c===e?o.unshift(c.uri):"allDocuments"!==i.wordBasedSuggestions&&c.getLanguageId()!==e.getLanguageId()||o.push(c.uri));if(0===o.length)return;const n=this.languageConfigurationService.getLanguageConfiguration(e.getLanguageId()).getWordDefinition(),r=e.getWordAtPosition(t),s=r?new c.Q(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn):c.Q.fromPositions(t),d=s.setEndPosition(t.lineNumber,t.column),a=await this._workerManager.withWorker(),h=await a.textualSuggest(o,null===r||void 0===r?void 0:r.word,n);return h?{duration:h.duration,suggestions:h.words.map((e=>({kind:18,label:e,insertText:e,range:{insert:d,replace:s}})))}:void 0}}class P extends n.jG{constructor(e,t){super(),this.languageConfigurationService=t,this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime();this._register(new C.Be).cancelAndSet((()=>this._checkStopIdleWorker()),Math.round(15e4),w.G),this._register(this._modelService.onModelRemoved((e=>this._checkStopEmptyWorker())))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>S&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new N(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class D extends n.jG{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){const e=new o.vb;e.cancelAndSet((()=>this._checkStopModelSync()),Math.round(3e4)),this._register(e)}}dispose(){for(const e in this._syncedModels)(0,n.AS)(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const i of e){const e=i.toString();this._syncedModels[e]||this._beginModelSync(i,t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){const e=(new Date).getTime(),t=[];for(const i in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[i]>6e4&&t.push(i)}for(const i of t)this._stopModelSync(i)}_beginModelSync(e,t){const i=this._modelService.getModel(e);if(!i)return;if(!t&&i.isTooLargeForSyncing())return;const o=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});const r=new n.Cm;r.add(i.onDidChangeContent((e=>{this._proxy.acceptModelChanged(o.toString(),e)}))),r.add(i.onWillDispose((()=>{this._stopModelSync(o)}))),r.add((0,n.s)((()=>{this._proxy.acceptRemovedModel(o)}))),this._syncedModels[o]=r}_stopModelSync(e){const t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],(0,n.AS)(t)}}class O{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class T{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class N extends n.jG{constructor(e,t,i,o){super(),this.languageConfigurationService=o,this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new s.K(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new r.gk(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new T(this)))}catch(e){(0,r.IR)(e),this._worker=new O(new a.W(new T(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(e=>((0,r.IR)(e),this._worker=new O(new a.W(new T(this),null)),this._getOrCreateWorker().getProxyObject())))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new D(e,this._modelService,this._keepIdleModels))),this._modelManager}async _withSyncedResources(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._disposed?Promise.reject((0,p.aD)()):this._getProxy().then((i=>(this._getOrCreateModelManager(i).ensureSyncedResources(e,t),i)))}computedUnicodeHighlights(e,t,i){return this._withSyncedResources([e]).then((o=>o.computeUnicodeHighlights(e.toString(),t,i)))}computeDiff(e,t,i,o){return this._withSyncedResources([e,t],!0).then((n=>n.computeDiff(e.toString(),t.toString(),i,o)))}computeMoreMinimalEdits(e,t,i){return this._withSyncedResources([e]).then((o=>o.computeMoreMinimalEdits(e.toString(),t,i)))}computeLinks(e){return this._withSyncedResources([e]).then((t=>t.computeLinks(e.toString())))}computeDefaultDocumentColors(e){return this._withSyncedResources([e]).then((t=>t.computeDefaultDocumentColors(e.toString())))}async textualSuggest(e,t,i){const o=await this._withSyncedResources(e),n=i.source,r=i.flags;return o.textualSuggest(e.map((e=>e.toString())),t,n,r)}computeWordRanges(e,t){return this._withSyncedResources([e]).then((i=>{const o=this._modelService.getModel(e);if(!o)return Promise.resolve(null);const n=this.languageConfigurationService.getLanguageConfiguration(o.getLanguageId()).getWordDefinition(),r=n.source,s=n.flags;return i.computeWordRanges(e.toString(),t,r,s)}))}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then((o=>{const n=this._modelService.getModel(e);if(!n)return null;const r=this.languageConfigurationService.getLanguageConfiguration(n.getLanguageId()).getWordDefinition(),s=r.source,c=r.flags;return o.navigateValueSet(e.toString(),t,i,s,c)}))}findSectionHeaders(e,t){return this._withSyncedResources([e]).then((i=>i.findSectionHeaders(e.toString(),t)))}dispose(){super.dispose(),this._disposed=!0}}},97837:(e,t,i)=>{var o=i(26528),n=i(84974),r=i(81203),s=i(5662),c=i(80222),d=i(17837),a=i(60704),h=i(4640),l=i(29563),u=i(37589),_=i(22311),g=i(60542),p=i(31478),v=i(70036),m=i(29321),f=i(19486),y=i(82602),w=i(17483),C=i(22057),k=i(42851),E=i(94198),S=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},b=function(e,t){return function(i,o){t(i,o,e)}};const M=l.$;let x=class extends v.x{get _targetWindow(){return l.zk(this._target.targetElements[0])}get _targetDocumentElement(){return l.zk(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return 2===this._hoverPosition?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(e,t,i,o,n,r){var s,c,d,u,_,v,m,k;super(),this._keybindingService=t,this._configurationService=i,this._openerService=o,this._instantiationService=n,this._accessibilityService=r,this._messageListeners=new a.Cm,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new h.vl),this._onRequestLayout=this._register(new h.vl),this._linkHandler=e.linkHandler||(t=>(0,f.i)(this._openerService,t,(0,y.VS)(e.content)?e.content.isTrusted:void 0)),this._target="targetElements"in e.target?e.target:new D(e.target),this._hoverPointer=(null===(s=e.appearance)||void 0===s?void 0:s.showPointer)?M("div.workbench-hover-pointer"):void 0,this._hover=this._register(new p.N4),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),(null===(c=e.appearance)||void 0===c?void 0:c.compact)&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),(null===(d=e.appearance)||void 0===d?void 0:d.skipFadeInAnimation)&&this._hover.containerDomNode.classList.add("skip-fade-in"),e.additionalClasses&&this._hover.containerDomNode.classList.add(...e.additionalClasses),(null===(u=e.position)||void 0===u?void 0:u.forcePosition)&&(this._forcePosition=!0),e.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=null!==(v=null===(_=e.position)||void 0===_?void 0:_.hoverPosition)&&void 0!==v?v:3,this.onmousedown(this._hover.containerDomNode,(e=>e.stopPropagation())),this.onkeydown(this._hover.containerDomNode,(e=>{e.equals(9)&&this.dispose()})),this._register(l.ko(this._targetWindow,"blur",(()=>this.dispose())));const E=M("div.hover-row.markdown-hover"),S=M("div.hover-contents");if("string"===typeof e.content)S.textContent=e.content,S.style.whiteSpace="pre-wrap";else if(e.content instanceof HTMLElement)S.appendChild(e.content),S.classList.add("html-hover-contents");else{const t=e.content,i=this._instantiationService.createInstance(f.T,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||g.jU.fontFamily}),{element:o}=i.render(t,{actionHandler:{callback:e=>this._linkHandler(e),disposables:this._messageListeners},asyncRenderCallback:()=>{S.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});S.appendChild(o)}if(E.appendChild(S),this._hover.contentsDomNode.appendChild(E),e.actions&&e.actions.length>0){const t=M("div.hover-row.status-bar"),i=M("div.actions");e.actions.forEach((e=>{const t=this._keybindingService.lookupKeybinding(e.commandId),o=t?t.getLabel():null;p.jQ.render(i,{label:e.label,commandId:e.commandId,run:t=>{e.run(t),this.dispose()},iconClass:e.iconClass},o)})),t.appendChild(i),this._hover.containerDomNode.appendChild(t)}let b;if(this._hoverContainer=M("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode),b=!(e.actions&&e.actions.length>0)&&(void 0===(null===(m=e.persistence)||void 0===m?void 0:m.hideOnHover)?"string"===typeof e.content||(0,y.VS)(e.content)&&!e.content.value.includes("](")&&!e.content.value.includes("</a>"):e.persistence.hideOnHover),b&&(null===(k=e.appearance)||void 0===k?void 0:k.showHoverHint)){const e=M("div.hover-row.status-bar"),t=M("div.info");t.textContent=(0,w.kg)("hoverhint","Hold {0} key to mouse over",C.zx?"Option":"Alt"),e.appendChild(t),this._hover.containerDomNode.appendChild(e)}const x=[...this._target.targetElements];b||x.push(this._hoverContainer);const O=this._register(new P(x));if(this._register(O.onMouseOut((()=>{this._isLocked||this.dispose()}))),b){const e=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new P(e)),this._register(this._lockMouseTracker.onMouseOut((()=>{this._isLocked||this.dispose()})))}else this._lockMouseTracker=O}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const e=this._hover.containerDomNode,t=this.findLastFocusableChild(this._hover.containerDomNode);if(t){const i=l.Hs(this._hoverContainer,M("div")),o=l.BC(this._hoverContainer,M("div"));i.tabIndex=0,o.tabIndex=0,this._register(l.ko(o,"focus",(t=>{e.focus(),t.preventDefault()}))),this._register(l.ko(i,"focus",(e=>{t.focus(),e.preventDefault()})))}}findLastFocusableChild(e){if(e.hasChildNodes())for(let t=0;t<e.childNodes.length;t++){const i=e.childNodes.item(e.childNodes.length-t-1);if(i.nodeType===i.ELEMENT_NODE){const e=i;if("number"===typeof e.tabIndex&&e.tabIndex>=0)return e}const o=this.findLastFocusableChild(i);if(o)return o}}render(e){var t;e.appendChild(this._hoverContainer);const i=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&(0,p.vr)(!0===this._configurationService.getValue("accessibility.verbosity.hover")&&this._accessibilityService.isScreenReaderOptimized(),null===(t=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))||void 0===t?void 0:t.getAriaLabel());i&&(0,E.h5)(i),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const e=this._target.targetElements.map((e=>(e=>{const t=l.mU(e),i=e.getBoundingClientRect();return{top:i.top*t,bottom:i.bottom*t,right:i.right*t,left:i.left*t}})(e))),{top:t,right:i,bottom:o,left:n}=e[0],r=i-n,s=o-t,c={top:t,right:i,bottom:o,left:n,width:r,height:s,center:{x:n+r/2,y:t+s/2}};if(this.adjustHorizontalHoverPosition(c),this.adjustVerticalHoverPosition(c),this.adjustHoverMaxHeight(c),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:c.left+=3,c.right+=3,this._hoverContainer.style.paddingLeft="".concat(3,"px"),this._hoverContainer.style.marginLeft="".concat(-3,"px");break;case 0:c.left-=3,c.right-=3,this._hoverContainer.style.paddingRight="".concat(3,"px"),this._hoverContainer.style.marginRight="".concat(-3,"px");break;case 2:c.top+=3,c.bottom+=3,this._hoverContainer.style.paddingTop="".concat(3,"px"),this._hoverContainer.style.marginTop="".concat(-3,"px");break;case 3:c.top-=3,c.bottom-=3,this._hoverContainer.style.paddingBottom="".concat(3,"px"),this._hoverContainer.style.marginBottom="".concat(-3,"px")}c.center.x=c.left+r/2,c.center.y=c.top+s/2}this.computeXCordinate(c),this.computeYCordinate(c),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(c)),this._hover.onContentsChanged()}computeXCordinate(e){const t=this._hover.containerDomNode.clientWidth+2;void 0!==this._target.x?this._x=this._target.x:1===this._hoverPosition?this._x=e.right:0===this._hoverPosition?this._x=e.left-t:(this._hoverPointer?this._x=e.center.x-this._hover.containerDomNode.clientWidth/2:this._x=e.left,this._x+t>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-t-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=e.left+2)}computeYCordinate(e){void 0!==this._target.y?this._y=this._target.y:3===this._hoverPosition?this._y=e.top:2===this._hoverPosition?this._y=e.bottom-2:this._hoverPointer?this._y=e.center.y+this._hover.containerDomNode.clientHeight/2:this._y=e.bottom,this._y>this._targetWindow.innerHeight&&(this._y=e.bottom)}adjustHorizontalHoverPosition(e){if(void 0!==this._target.x)return;const t=this._hoverPointer?3:0;if(this._forcePosition){const i=t+2;1===this._hoverPosition?this._hover.containerDomNode.style.maxWidth="".concat(this._targetDocumentElement.clientWidth-e.right-i,"px"):0===this._hoverPosition&&(this._hover.containerDomNode.style.maxWidth="".concat(e.left-i,"px"))}else if(1===this._hoverPosition){if(this._targetDocumentElement.clientWidth-e.right<this._hover.containerDomNode.clientWidth+t){e.left>=this._hover.containerDomNode.clientWidth+t?this._hoverPosition=0:this._hoverPosition=2}}else if(0===this._hoverPosition){if(e.left<this._hover.containerDomNode.clientWidth+t){this._targetDocumentElement.clientWidth-e.right>=this._hover.containerDomNode.clientWidth+t?this._hoverPosition=1:this._hoverPosition=2}e.left-this._hover.containerDomNode.clientWidth-t<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1)}}adjustVerticalHoverPosition(e){if(void 0!==this._target.y||this._forcePosition)return;const t=this._hoverPointer?3:0;3===this._hoverPosition?e.top-this._hover.containerDomNode.clientHeight-t<0&&(this._hoverPosition=2):2===this._hoverPosition&&e.bottom+this._hover.containerDomNode.clientHeight+t>this._targetWindow.innerHeight&&(this._hoverPosition=3)}adjustHoverMaxHeight(e){let t=this._targetWindow.innerHeight/2;if(this._forcePosition){const i=2+(this._hoverPointer?3:0);3===this._hoverPosition?t=Math.min(t,e.top-i):2===this._hoverPosition&&(t=Math.min(t,this._targetWindow.innerHeight-e.bottom-i))}if(this._hover.containerDomNode.style.maxHeight="".concat(t,"px"),this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const e="".concat(this._hover.scrollbar.options.verticalScrollbarSize,"px");this._hover.contentsDomNode.style.paddingRight!==e&&(this._hover.contentsDomNode.style.paddingRight=e)}}setHoverPointerPosition(e){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(0===this._hoverPosition?"right":"left");const t=this._hover.containerDomNode.clientHeight;t>e.height?this._hoverPointer.style.top="".concat(e.center.y-(this._y-t)-3,"px"):this._hoverPointer.style.top="".concat(Math.round(t/2)-3,"px");break}case 3:case 2:{this._hoverPointer.classList.add(3===this._hoverPosition?"bottom":"top");const t=this._hover.containerDomNode.clientWidth;let i=Math.round(t/2)-3;const o=this._x+i;(o<e.left||o>e.right)&&(i=e.center.x-this._x-3),this._hoverPointer.style.left="".concat(i,"px");break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};x=S([b(1,u.b),b(2,_.pG),b(3,m.C),b(4,d._Y),b(5,k.j)],x);class P extends v.x{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(e){super(),this._elements=e,this._isMouseIn=!0,this._onMouseOut=this._register(new h.vl),this._elements.forEach((e=>this.onmouseover(e,(()=>this._onTargetMouseOver(e))))),this._elements.forEach((e=>this.onmouseleave(e,(()=>this._onTargetMouseLeave(e)))))}_onTargetMouseOver(e){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(e)}_onTargetMouseLeave(e){this._isMouseIn=!1,this._evaluateMouseState(e)}_evaluateMouseState(e){this._clearEvaluateMouseStateTimeout(e),this._mouseTimeout=l.zk(e).setTimeout((()=>this._fireIfMouseOutside()),0)}_clearEvaluateMouseStateTimeout(e){this._mouseTimeout&&(l.zk(e).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class D{constructor(e){this._element=e,this.targetElements=[this._element]}dispose(){}}var O=i(87780),T=i(40323),N=i(80259),H=i(54243),L=i(53069),I=i(14945);class R{constructor(e,t,i){this.hoverDelegate=e,this.target=t,this.fadeInAnimation=i}async update(e,t,i){var o;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let n;if(void 0===e||(0,I.Kg)(e)||e instanceof HTMLElement)n=e;else if((0,I.Tn)(e.markdown)){this._hoverWidget||this.show((0,w.kg)("iconLabel.loading","Loading..."),t),this._cancellationTokenSource=new L.Qi;const i=this._cancellationTokenSource.token;if(n=await e.markdown(i),void 0===n&&(n=e.markdownNotSupportedFallback),this.isDisposed||i.isCancellationRequested)return}else n=null!==(o=e.markdown)&&void 0!==o?o:e.markdownNotSupportedFallback;this.show(n,t,i)}show(e,t,i){const o=this._hoverWidget;if(this.hasContent(e)){const n={content:e,target:this.target,appearance:{showPointer:"element"===this.hoverDelegate.placement,skipFadeInAnimation:!this.fadeInAnimation||!!o},position:{hoverPosition:2},...i};this._hoverWidget=this.hoverDelegate.showHover(n,t)}null===o||void 0===o||o.dispose()}hasContent(e){return!!e&&(!(0,y.VS)(e)||!!e.value)}get isDisposed(){var e;return null===(e=this._hoverWidget)||void 0===e?void 0:e.isDisposed}dispose(){var e,t;null===(e=this._hoverWidget)||void 0===e||e.dispose(),null===(t=this._cancellationTokenSource)||void 0===t||t.dispose(!0),this._cancellationTokenSource=void 0}}var W=i(78112),A=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},U=function(e,t){return function(i,o){t(i,o,e)}};let j=class extends a.jG{constructor(e,t,i,o,n){super(),this._instantiationService=e,this._keybindingService=i,this._layoutService=o,this._accessibilityService=n,t.onDidShowContextMenu((()=>this.hideHover())),this._contextViewHandler=this._register(new H.j(this._layoutService))}showHover(e,t,i){var o,n,r,s;if(F(this._currentHoverOptions)===F(e))return;if(this._currentHover&&(null===(n=null===(o=this._currentHoverOptions)||void 0===o?void 0:o.persistence)||void 0===n?void 0:n.sticky))return;this._currentHoverOptions=e,this._lastHoverOptions=e;const c=e.trapFocus||this._accessibilityService.isScreenReaderOptimized(),d=(0,l.bq)();i||(this._lastFocusedElementBeforeOpen=c&&d?d:void 0);const h=new a.Cm,u=this._instantiationService.createInstance(x,e);if((null===(r=e.persistence)||void 0===r?void 0:r.sticky)&&(u.isLocked=!0),u.onDispose((()=>{var t,i;(null===(t=this._currentHover)||void 0===t?void 0:t.domNode)&&(0,l.nR)(this._currentHover.domNode)&&(null===(i=this._lastFocusedElementBeforeOpen)||void 0===i||i.focus()),this._currentHoverOptions===e&&(this._currentHoverOptions=void 0),h.dispose()}),void 0,h),!e.container){const t=e.target instanceof HTMLElement?e.target:e.target.targetElements[0];e.container=this._layoutService.getContainer((0,l.zk)(t))}if(this._contextViewHandler.showContextView(new B(u,t),e.container),u.onRequestLayout((()=>this._contextViewHandler.layout()),void 0,h),null===(s=e.persistence)||void 0===s?void 0:s.sticky)h.add((0,l.ko)((0,l.zk)(e.container).document,l.Bx.MOUSE_DOWN,(e=>{(0,l.QX)(e.target,u.domNode)||this.doHideHover()})));else{if("targetElements"in e.target)for(const i of e.target.targetElements)h.add((0,l.ko)(i,l.Bx.CLICK,(()=>this.hideHover())));else h.add((0,l.ko)(e.target,l.Bx.CLICK,(()=>this.hideHover())));const t=(0,l.bq)();if(t){const i=(0,l.zk)(t).document;h.add((0,l.ko)(t,l.Bx.KEY_DOWN,(t=>{var i;return this._keyDown(t,u,!!(null===(i=e.persistence)||void 0===i?void 0:i.hideOnKeyDown))}))),h.add((0,l.ko)(i,l.Bx.KEY_DOWN,(t=>{var i;return this._keyDown(t,u,!!(null===(i=e.persistence)||void 0===i?void 0:i.hideOnKeyDown))}))),h.add((0,l.ko)(t,l.Bx.KEY_UP,(e=>this._keyUp(e,u)))),h.add((0,l.ko)(i,l.Bx.KEY_UP,(e=>this._keyUp(e,u))))}}if("IntersectionObserver"in N.G){const t=new IntersectionObserver((e=>this._intersectionChange(e,u)),{threshold:0}),i="targetElements"in e.target?e.target.targetElements[0]:e.target;t.observe(i),h.add((0,a.s)((()=>t.disconnect())))}return this._currentHover=u,u}hideHover(){var e;!(null===(e=this._currentHover)||void 0===e?void 0:e.isLocked)&&this._currentHoverOptions&&this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()}_intersectionChange(e,t){e[e.length-1].isIntersecting||t.dispose()}showAndFocusLastHover(){this._lastHoverOptions&&this.showHover(this._lastHoverOptions,!0,!0)}_keyDown(e,t,i){var o,n;if("Alt"===e.key)return void(t.isLocked=!0);const r=new O.Z(e);this._keybindingService.resolveKeyboardEvent(r).getSingleModifierDispatchChords().some((e=>!!e))||0!==this._keybindingService.softDispatch(r,r.target).kind||!i||(null===(o=this._currentHoverOptions)||void 0===o?void 0:o.trapFocus)&&"Tab"===e.key||(this.hideHover(),null===(n=this._lastFocusedElementBeforeOpen)||void 0===n||n.focus())}_keyUp(e,t){var i;"Alt"===e.key&&(t.isLocked=!1,t.isMouseIn||(this.hideHover(),null===(i=this._lastFocusedElementBeforeOpen)||void 0===i||i.focus()))}setupUpdatableHover(e,t,i,o){let n,r;t.setAttribute("custom-hover","true"),""!==t.title&&(console.warn("HTML element already has a title attribute, which will conflict with the custom hover. Please remove the title attribute."),console.trace("Stack trace:",t.title),t.title="");const s=(t,i)=>{var o;const s=void 0!==r;t&&(null===r||void 0===r||r.dispose(),r=void 0),i&&(null===n||void 0===n||n.dispose(),n=void 0),s&&(null===(o=e.onDidHideHover)||void 0===o||o.call(e),r=void 0)},c=(n,s,c)=>new W.pc((async()=>{r&&!r.isDisposed||(r=new R(e,c||t,n>0),await r.update("function"===typeof i?i():i,s,o))}),n);let d=!1;const h=(0,l.ko)(t,l.Bx.MOUSE_DOWN,(()=>{d=!0,s(!0,!0)}),!0),u=(0,l.ko)(t,l.Bx.MOUSE_UP,(()=>{d=!1}),!0),_=(0,l.ko)(t,l.Bx.MOUSE_LEAVE,(e=>{d=!1,s(!1,e.fromElement===t)}),!0),g=(0,l.ko)(t,l.Bx.MOUSE_OVER,(i=>{if(n)return;const o=new a.Cm,r={targetElements:[t],dispose:()=>{}};if(void 0===e.placement||"mouse"===e.placement){const e=e=>{r.x=e.x+10,e.target instanceof HTMLElement&&V(e.target,t)!==t&&s(!0,!0)};o.add((0,l.ko)(t,l.Bx.MOUSE_MOVE,e,!0))}n=o,i.target instanceof HTMLElement&&V(i.target,t)!==t||o.add(c(e.delay,!1,r))}),!0),p=()=>{if(d||n)return;const i={targetElements:[t],dispose:()=>{}},o=new a.Cm;o.add((0,l.ko)(t,l.Bx.BLUR,(()=>s(!0,!0)),!0)),o.add(c(e.delay,!1,i)),n=o};let v;const m=t.tagName.toLowerCase();"input"!==m&&"textarea"!==m&&(v=(0,l.ko)(t,l.Bx.FOCUS,p,!0));return{show:e=>{s(!1,!0),c(0,e)},hide:()=>{s(!0,!0)},update:async(e,t)=>{i=e,await(null===r||void 0===r?void 0:r.update(i,void 0,t))},dispose:()=>{g.dispose(),_.dispose(),h.dispose(),u.dispose(),null===v||void 0===v||v.dispose(),s(!0,!0)}}}};function F(e){var t;if(void 0!==e)return null!==(t=null===e||void 0===e?void 0:e.id)&&void 0!==t?t:e}j=A([U(0,d._Y),U(1,c.Z),U(2,u.b),U(3,T.x),U(4,k.j)],j);class B{get anchorPosition(){return this._hover.anchor}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._hover=e,this._focus=t,this.layer=1}render(e){return this._hover.render(e),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}function V(e,t){for(t=null!==t&&void 0!==t?t:(0,l.zk)(e).document.body;!e.hasAttribute("custom-hover")&&e!==t;)e=e.parentElement;return e}(0,o.v)(s.TN,j,1),(0,n.zy)(((e,t)=>{const i=e.getColor(r.oZ8);i&&(t.addRule(".monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ".concat(i.transparent(.5),"; }")),t.addRule(".monaco-workbench .workbench-hover hr { border-top: 1px solid ".concat(i.transparent(.5),"; }")))}))},25209:(e,t,i)=>{var o=i(63636),n=i(444),r=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},s=function(e,t){return function(i,o){t(i,o,e)}};let c=class{constructor(e,t){}dispose(){}};c.ID="editor.contrib.markerDecorations",c=r([s(1,o.A)],c),(0,n.HW)(c.ID,c,0)},22485:(e,t,i)=>{i.d(t,{J:()=>w});var o=i(29563),n=i(80259),r=i(53069),s=i(50907),c=i(81006),d=i(18106),a=i(83786),h=i(14297),l=i(56002),u=i(24107),_=i(22137),g=i(77577),p=i(29321),v=function(e,t,i,o){var n,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(r<3?n(s):r>3?n(t,i,s):n(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},m=function(e,t){return function(i,o){t(i,o,e)}};let f=class{constructor(e){this._commandService=e}async open(e,t){if(!(0,a.v$)(e,a.ny.command))return!1;if(!(null===t||void 0===t?void 0:t.allowCommands))return!0;if("string"===typeof e&&(e=l.r.parse(e)),Array.isArray(t.allowCommands)&&!t.allowCommands.includes(e.path))return!0;let i=[];try{i=(0,d.qg)(decodeURIComponent(e.query))}catch(o){try{i=(0,d.qg)(e.query)}catch(n){}}return Array.isArray(i)||(i=[i]),await this._commandService.executeCommand(e.path,...i),!0}};f=v([m(0,_.d)],f);let y=class{constructor(e){this._editorService=e}async open(e,t){"string"===typeof e&&(e=l.r.parse(e));const{selection:i,uri:o}=(0,p.e)(e);return(e=o).scheme===a.ny.file&&(e=(0,h.Fd)(e)),await this._editorService.openCodeEditor({resource:e,options:{selection:i,source:(null===t||void 0===t?void 0:t.fromUserGesture)?g.$.USER:g.$.API,...null===t||void 0===t?void 0:t.editorOptions}},this._editorService.getFocusedCodeEditor(),null===t||void 0===t?void 0:t.openToSide),!0}};y=v([m(0,u.T)],y);let w=class{constructor(e,t){this._openers=new s.w,this._validators=new s.w,this._resolvers=new s.w,this._resolvedUriTargets=new c.fT((e=>e.with({path:null,fragment:null,query:null}).toString())),this._externalOpeners=new s.w,this._defaultExternalOpener={openExternal:async e=>((0,a.fV)(e,a.ny.http,a.ny.https)?o.CE(e):n.G.location.href=e,!0)},this._openers.push({open:async(e,t)=>!(!(null===t||void 0===t?void 0:t.openExternal)&&!(0,a.fV)(e,a.ny.mailto,a.ny.http,a.ny.https,a.ny.vsls))&&(await this._doOpenExternal(e,t),!0)}),this._openers.push(new f(t)),this._openers.push(new y(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}async open(e,t){var i;const o="string"===typeof e?l.r.parse(e):e,n=null!==(i=this._resolvedUriTargets.get(o))&&void 0!==i?i:e;for(const r of this._validators)if(!await r.shouldOpen(n,t))return!1;for(const r of this._openers){if(await r.open(e,t))return!0}return!1}async resolveExternalUri(e,t){for(const o of this._resolvers)try{const i=await o.resolveExternalUri(e,t);if(i)return this._resolvedUriTargets.has(i.resolved)||this._resolvedUriTargets.set(i.resolved,e),i}catch(i){}throw new Error("Could not resolve external URI: "+e.toString())}async _doOpenExternal(e,t){const i="string"===typeof e?l.r.parse(e):e;let o,n;try{o=(await this.resolveExternalUri(i,t)).resolved}catch(s){o=i}if(n="string"===typeof e&&i.toString()===o.toString()?e:encodeURI(o.toString(!0)),null===t||void 0===t?void 0:t.allowContributedOpeners){const e="string"===typeof(null===t||void 0===t?void 0:t.allowContributedOpeners)?null===t||void 0===t?void 0:t.allowContributedOpeners:void 0;for(const t of this._externalOpeners){if(await t.openExternal(n,{sourceUri:i,preferredOpenerId:e},r.XO.None))return!0}}return this._defaultExternalOpener.openExternal(n,{sourceUri:i},r.XO.None)}dispose(){this._validators.clear()}};w=v([m(0,u.T),m(1,_.d)],w)},80800:(e,t,i)=>{i.d(t,{V:()=>r});var o=i(19604),n=i(63334);function r(e,t,i){return new s(e,t,i)}class s extends n.Z6{constructor(e,t,i){super(e,i.keepIdleModels||!1,i.label,t),this._foreignModuleId=i.moduleId,this._foreignModuleCreateData=i.createData||null,this._foreignModuleHost=i.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!==typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then((e=>{const t=this._foreignModuleHost?(0,o.V0)(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then((t=>{this._foreignModuleCreateData=null;const i=(t,i)=>e.fmr(t,i),o=(e,t)=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)},n={};for(const e of t)n[e]=o(e,i);return n}))}))),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then((e=>this.getProxy()))}}},85588:(e,t,i)=>{i.d(t,{D:()=>o});class o{static capture(e){if(0===e.getScrollTop()||e.hasPendingScrollAnimation())return new o(e.getScrollTop(),e.getContentHeight(),null,0,null);let t=null,i=0;const n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}return new o(e.getScrollTop(),e.getContentHeight(),t,i,e.getPosition())}constructor(e,t,i,o,n){this._initialScrollTop=e,this._initialContentHeight=t,this._visiblePosition=i,this._visiblePositionScrollDelta=o,this._cursorPosition=n}restore(e){if((this._initialContentHeight!==e.getContentHeight()||this._initialScrollTop!==e.getScrollTop())&&this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){if(this._initialContentHeight===e.getContentHeight()&&this._initialScrollTop===e.getScrollTop())return;const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}}}]);
//# sourceMappingURL=monaco-editor-vendor.b9228f58.e1f68187.js.map