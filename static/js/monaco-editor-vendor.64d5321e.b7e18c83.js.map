{"version":3,"file":"static/js/monaco-editor-vendor.64d5321e.b7e18c83.js","mappings":"yQASMA,EAAIC,EAAID,EACDE,EAAiC,CAC1CC,+BAA2BC,EAC3BC,+BAA2BD,EAC3BE,2BAAuBF,EACvBG,iCAA6BH,EAC7BI,2BAAuBJ,GAEdK,EAAe,WACxB,SAAAA,EAAYC,EAAWC,EAAIC,IAASC,EAAAA,EAAAA,GAAA,KAAAJ,GAChCK,KAAKH,GAAKA,EACVG,KAAKC,YAAc,IAAIC,IACvBF,KAAKF,QAAUA,GAAWK,OAAOC,OAAO,MACxC,IAAMC,EAAkBL,KAAKF,QAAQP,0BACrCS,KAAKM,QAAUnB,EAAIoB,OAAOX,EAAWV,EAAE,uBACnCmB,IACAL,KAAKM,QAAQE,MAAMC,MAAQJ,GAE/BL,KAAKU,eAAgB,EACrBd,EAAUe,YAAYX,KAAKM,QAC/B,CA2FC,OA3FAM,EAAAA,EAAAA,GAAAjB,EAAA,EAAAkB,IAAA,UAAAC,IACD,WACI,OAAOd,KAAKM,OAChB,GAAC,CAAAO,IAAA,MAAAE,MACD,SAAIC,EAAYC,GACRjB,KAAKU,eAAiBV,KAAKgB,aAAeA,GAAcrB,EAAgBuB,QAAQlB,KAAKiB,QAASA,KAGlGjB,KAAKgB,WAAaA,EAClBhB,KAAKiB,QAAUA,EACfjB,KAAKmB,SACT,GAAC,CAAAN,IAAA,SAAAE,MACD,WACI,IAAIK,EAEJ,GADApB,KAAKqB,QACDrB,KAAKgB,WAAY,CACjB,IAAAM,EAAkCtB,KAAKgB,WAAWO,YAAWC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAtDI,EAAUF,EAAA,GAAEG,EAAWH,EAAA,GAC1BE,GACA1B,KAAK4B,YAAY5B,KAAKM,QAASoB,EAAY1B,KAAKiB,QAAUjB,KAAKiB,QAAQY,UAAY,MAEnFF,IACAxC,EAAIoB,OAAOP,KAAKM,QAASpB,EAAE,kDAA8CI,EAAW,MACpFU,KAAK4B,YAAY5B,KAAKM,QAASqB,EAAa3B,KAAKiB,QAAUjB,KAAKiB,QAAQa,UAAY,OAExF,IAAMC,EAA8C,QAApCX,EAAKpB,KAAKF,QAAQkC,oBAAiC,IAAPZ,GAAgBA,OAAc9B,EAAYU,KAAKgB,WAAWiB,qBAAkB3C,OAC1HA,IAAVyC,EACA/B,KAAKM,QAAQyB,MAAQA,EAGrB/B,KAAKM,QAAQ4B,gBAAgB,QAErC,MACSlC,KAAKF,SAAWE,KAAKF,QAAQqC,0BAClCnC,KAAKoC,cAAcpC,KAAKM,SAE5BN,KAAKU,eAAgB,CACzB,GAAC,CAAAG,IAAA,QAAAE,MACD,WACI5B,EAAIkD,UAAUrC,KAAKM,SACnBN,KAAKC,YAAYoB,OACrB,GAAC,CAAAR,IAAA,cAAAE,MACD,SAAYuB,EAAQC,EAAOC,GACvB,IAAMC,EAAiBC,EAAAA,GAAgBD,eAAezC,KAAKH,IACvD0C,EAAMI,SACN3C,KAAK4C,UAAUN,EAAQG,EAAeE,QAASE,QAAkB,OAAVL,QAA4B,IAAVA,OAAmB,EAASA,EAAMG,SAAUF,EAAeK,WAEpIP,EAAMQ,UACN/C,KAAK4C,UAAUN,EAAQG,EAAeM,SAAUF,QAAkB,OAAVL,QAA4B,IAAVA,OAAmB,EAASA,EAAMO,UAAWN,EAAeK,WAEtIP,EAAMS,QACNhD,KAAK4C,UAAUN,EAAQG,EAAeO,OAAQH,QAAkB,OAAVL,QAA4B,IAAVA,OAAmB,EAASA,EAAMQ,QAASP,EAAeK,WAElIP,EAAMU,SACNjD,KAAK4C,UAAUN,EAAQG,EAAeQ,QAASJ,QAAkB,OAAVL,QAA4B,IAAVA,OAAmB,EAASA,EAAMS,SAAUR,EAAeK,WAExI,IAAMI,EAAWX,EAAMW,SACnBA,GACAlD,KAAK4C,UAAUN,EAAQY,EAAUL,QAAkB,OAAVL,QAA4B,IAAVA,OAAmB,EAASA,EAAMW,SAAU,GAE/G,GAAC,CAAAtC,IAAA,YAAAE,MACD,SAAUuB,EAAQc,EAAOC,EAAWP,GAChC3D,EAAIoB,OAAO+B,EAAQtC,KAAKsD,iBAAiBF,EAAOC,EAAY,aAAe,KACvEP,GACA3D,EAAIoB,OAAO+B,EAAQpD,EAAE,4CAAwCI,EAAWwD,GAEhF,GAAC,CAAAjC,IAAA,gBAAAE,MACD,SAAcuB,GACVnD,EAAIoB,OAAO+B,EAAQtC,KAAKsD,kBAAiBC,EAAAA,EAAAA,IAAS,UAAW,YACjE,GAAC,CAAA1C,IAAA,mBAAAE,MACD,SAAiBqC,GAAwB,IAC/BI,EAAatE,EAAE,8BADSuE,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,GAAAA,UAAA,GAAG,SAC+BnE,EAAW8D,GAc3E,OAbApD,KAAKC,YAAY0D,IAAIH,GACjBxD,KAAKF,QAAQT,4BACbmE,EAAWhD,MAAMoD,gBAAkB5D,KAAKF,QAAQT,2BAEhDW,KAAKF,QAAQN,wBACbgE,EAAWhD,MAAMqD,YAAc7D,KAAKF,QAAQN,uBAE5CQ,KAAKF,QAAQL,8BACb+D,EAAWhD,MAAMsD,kBAAoB9D,KAAKF,QAAQL,6BAElDO,KAAKF,QAAQJ,wBACb8D,EAAWhD,MAAMuD,UAAY,kBAAHC,OAAqBhE,KAAKF,QAAQJ,wBAEzD8D,CACX,IAAC,EAAA3C,IAAA,UAAAE,MACD,SAAekD,EAAGC,GACd,OAAID,IAAMC,IAAOD,IAAMC,KAGdD,KAAOC,IAAKC,EAAAA,EAAAA,IAAOF,EAAEpC,UAAWqC,EAAErC,aAAcsC,EAAAA,EAAAA,IAAOF,EAAEnC,UAAWoC,EAAEpC,UACnF,KAACnC,CAAA,CAvGuB,E,mJCPtByE,EAAa,WAEf,SAAAA,EAAYC,EAAUC,IAAevE,EAAAA,EAAAA,GAAA,KAAAqE,GACjCpE,KAAKqE,SAAWA,EAChBrE,KAAKsE,cAAgBA,CACzB,CA8BC,OA9BA1D,EAAAA,EAAAA,GAAAwD,EAAA,EAAAvD,IAAA,aAAAC,IAJD,WAAmB,OAAOd,KAAKqE,SAASE,UAAY,GAAC,CAAA1D,IAAA,iBAAAE,MAKrD,SAAenB,GAEX,MAAO,CAAE4E,KADIxE,KAAKqE,SAASI,eAAe7E,GAC3B8E,WAAYC,EAAAA,GAAWC,KAC1C,GAAC,CAAA/D,IAAA,gBAAAE,MACD,SAAc8D,EAAOC,EAAGN,EAAMO,GAAQ,IAC9B3D,EAD8B4D,EAAA,KAGlC,GAD2B,QAA1B5D,EAAKoD,EAAKE,kBAA+B,IAAPtD,GAAyBA,EAAG6D,UAC1DT,EAAKA,KAAV,CAGA,IAAMU,EAAQlF,KAAKsE,gBACnB,GAAIY,EAAMC,WAAWN,GACjB,OAAO7E,KAAKqE,SAASe,cAAcF,EAAMpE,IAAI+D,GAAQA,EAAOL,EAAKA,KAAMO,GAE3E,IAAMM,EAAM,IAAIC,EAAAA,EACVC,EAAUL,EAAMM,QAAQX,EAAOQ,EAAII,OACzCjB,EAAKE,WAAa,CAAEO,QAAS,kBAAMI,EAAIK,QAAQ,GAC/C1F,KAAKqE,SAASsB,kBAAkBd,EAAOL,EAAKA,MAC5Ce,EAAQK,MAAK,SAAAC,GAAK,OAAIb,EAAKX,SAASe,cAAcS,EAAOhB,EAAOL,EAAKA,KAAMO,EAAO,GATlF,CAUJ,GAAC,CAAAlE,IAAA,kBAAAE,MACD,SAAgByD,GACRA,EAAKE,aACLF,EAAKE,WAAWO,UAChBT,EAAKE,gBAAapF,GAElBkF,EAAKA,OACLxE,KAAKqE,SAASyB,gBAAgBtB,EAAKA,MACnCA,EAAKA,UAAOlF,EAEpB,KAAC8E,CAAA,CAnCc,GAqCb2B,EAA0B,WAC5B,SAAAA,EAAYzB,EAAe0B,IAAuBjG,EAAAA,EAAAA,GAAA,KAAAgG,GAC9C/F,KAAKsE,cAAgBA,EACrBtE,KAAKgG,sBAAwBA,CACjC,CAUC,OAVApF,EAAAA,EAAAA,GAAAmF,EAAA,EAAAlF,IAAA,qBAAAE,MACD,WACI,OAAOf,KAAKgG,sBAAsBC,oBACtC,GAAC,CAAApF,IAAA,eAAAE,MACD,SAAa8D,GACT,IAAMK,EAAQlF,KAAKsE,gBACnB,OAAKY,EAAMC,WAAWN,GAGf7E,KAAKgG,sBAAsB/D,aAAaiD,EAAMpE,IAAI+D,IAF9C,IAGf,KAACkB,CAAA,CAd2B,GAmBzB,IAAMG,EAAS,WAClB,SAAAA,EAAYC,EAAMvG,EAAWwG,EAAiBC,GAAyB,IAAAC,EAAA,KAAdxG,EAAO2D,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,GAAAA,UAAA,GAAG,CAAC,GAAC1D,EAAAA,EAAAA,GAAA,KAAAmG,GACjE,IAAM5B,EAAgB,WAAH,OAASgC,EAAKpB,KAAK,EAChCqB,EAAiBF,EAAUG,KAAI,SAAAC,GAAC,OAAI,IAAIrC,EAAcqC,EAAGnC,EAAc,IAC7EtE,KAAK0G,KAAO,IAAIC,EAAAA,GAAKR,EAAMvG,EAAWwG,EAAiBG,EAP/D,SAA8BjC,EAAexE,GACzC,OAAOK,OAAOyG,OAAOzG,OAAOyG,OAAO,CAAC,EAAG9G,GAAU,CAAEkG,sBAAuBlG,EAAQkG,uBAAyB,IAAID,EAA2BzB,EAAexE,EAAQkG,wBACrK,CAK+Ea,CAAqBvC,EAAexE,GAC/G,CA2CC,OA3CAc,EAAAA,EAAAA,GAAAsF,EAAA,EAAArF,IAAA,gBAAAE,MACD,SAAcjB,GACVE,KAAK0G,KAAKI,cAAchH,EAC5B,GAAC,CAAAe,IAAA,iBAAAE,MACD,WACI,OAAOf,KAAK0G,KAAKK,gBACrB,GAAC,CAAAlG,IAAA,aAAAC,IACD,WACI,OAAOd,KAAK0G,KAAKM,UACrB,GAAC,CAAAnG,IAAA,eAAAC,IACD,WACI,OAAOd,KAAK0G,KAAKO,YACrB,GAAC,CAAApG,IAAA,kBAAAC,IACD,WAAsB,IAAAoG,EAAA,KAClB,OAAOC,EAAAA,GAAMX,IAAIxG,KAAK0G,KAAKU,iBAAiB,SAAAC,GAAA,IAAGC,EAAOD,EAAPC,QAASzC,EAAKwC,EAALxC,MAAO0C,EAAYF,EAAZE,aAAY,MAAQ,CAAED,aAAqBhI,IAAZgI,OAAwBhI,EAAY4H,EAAKM,OAAO1G,IAAIwG,GAAUzC,MAAAA,EAAO0C,aAAAA,EAAc,GACrL,GAAC,CAAA1G,IAAA,YAAAC,IACD,WAAgB,IAAA2G,EAAA,KACZ,OAAON,EAAAA,GAAMX,IAAIxG,KAAK0G,KAAKgB,WAAW,SAAAC,GAAA,IAAGL,EAAOK,EAAPL,QAASzC,EAAK8C,EAAL9C,MAAO0C,EAAYI,EAAZJ,aAAY,MAAQ,CAAED,aAAqBhI,IAAZgI,OAAwBhI,EAAYmI,EAAKD,OAAO1G,IAAIwG,GAAUzC,MAAAA,EAAO0C,aAAAA,EAAc,GAC/K,GAAC,CAAA1G,IAAA,uBAAAC,IACD,WAA2B,IAAA8G,EAAA,KACvB,OAAOT,EAAAA,GAAMX,IAAIxG,KAAK0G,KAAKmB,sBAAsB,SAAAC,GAAA,IAAGC,EAAQD,EAARC,SAAUC,EAAOF,EAAPE,QAAST,EAAYO,EAAZP,aAAY,MAAQ,CAAEQ,SAAUA,EAASvB,KAAI,SAAAyB,GAAC,OAAIL,EAAKJ,OAAO1G,IAAImH,EAAE,IAAGD,QAAAA,EAAST,aAAAA,EAAc,GACzK,GAAC,CAAA1G,IAAA,QAAAC,IACD,WACI,OAAOd,KAAKwH,MAChB,EAACU,IACD,SAAUhD,GACNlF,KAAKwH,OAAStC,EACdlF,KAAK0G,KAAKyB,OAAO,EAAGnI,KAAK0G,KAAKhD,QAAQ0E,EAAAA,EAAAA,IAAMlD,EAAMxB,QACtD,GAAC,CAAA7C,IAAA,WAAAE,MACD,WACI,OAAOf,KAAK0G,KAAK2B,UACrB,GAAC,CAAAxH,IAAA,eAAAE,MACD,WACI,OAAOf,KAAK0G,KAAK4B,cACrB,GAAC,CAAAzH,IAAA,sBAAAE,MACD,WAAsB,IAAAwH,EAAA,KAClB,OAAOvI,KAAKsI,eAAe9B,KAAI,SAAAgC,GAAC,OAAID,EAAKrD,MAAMpE,IAAI0H,EAAE,GACzD,GAAC,CAAA3H,IAAA,QAAAE,MACD,SAAM0H,GACFzI,KAAK0G,KAAKlG,MAAMiI,EACpB,GAAC,CAAA5H,IAAA,UAAAE,MACD,WACIf,KAAK0G,KAAKzB,SACd,KAACiB,CAAA,CAhDiB,E,mQCzDf,SAASwC,EAAeN,EAAOO,GAClC,IACsBC,EADhBC,EAAS,GAAGC,GAAAC,EAAAA,EAAAA,GACFJ,GAAM,IAAtB,IAAAG,EAAAE,MAAAJ,EAAAE,EAAAG,KAAAC,MAAwB,KAAbzC,EAACmC,EAAA7H,MACR,KAAIqH,EAAMe,OAAS1C,EAAE2B,MAAMgB,KAA3B,CAGA,GAAIhB,EAAMgB,IAAM3C,EAAE2B,MAAMe,MACpB,MAEJ,IAAME,EAAeC,EAAAA,EAAMC,UAAUnB,EAAO3B,EAAE2B,OAC1CkB,EAAAA,EAAME,QAAQH,IAGlBR,EAAOY,KAAK,CACRrB,MAAOiB,EACPK,KAAMjD,EAAEiD,MAVZ,CAYJ,CAAC,OAAAC,GAAAb,EAAAb,EAAA0B,EAAA,SAAAb,EAAAc,GAAA,CACD,OAAOf,CACX,CAIO,SAASgB,EAAKxC,EAAiByC,GAClC,MAAO,CAAEX,MADgB9B,EAAL8B,MACIW,EAAMV,IADA/B,EAAH+B,IACcU,EAC7C,CA2BA,SAAS9F,IAAkB,QAAA+F,EAAAtG,UAAAC,OAARiF,EAAM,IAAAqB,MAAAD,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAANtB,EAAMsB,GAAAxG,UAAAwG,GACrB,OArBG,SAAqBtB,GACxB,IAE0BuB,EAFpBrB,EAAS,GACXsB,EAAgB,KAAKC,GAAArB,EAAAA,EAAAA,GACLJ,GAAM,IAA1B,IAAAyB,EAAApB,MAAAkB,EAAAE,EAAAnB,KAAAC,MAA4B,KAAjBmB,EAAKH,EAAAnJ,MACNoI,EAAQkB,EAAMjC,MAAMe,MACpBC,EAAMiB,EAAMjC,MAAMgB,IAClBM,EAAOW,EAAMX,KACfS,GAAiBT,IAASS,EAAcT,KACxCS,EAAc/B,MAAMgB,IAAMA,GAG9Be,EAAgB,CAAE/B,MAAO,CAAEe,MAAAA,EAAOC,IAAAA,GAAOM,KAAAA,GACzCb,EAAOY,KAAKU,GAChB,CAAC,OAAAR,GAAAS,EAAAnC,EAAA0B,EAAA,SAAAS,EAAAR,GAAA,CACD,OAAOf,CACX,CAMWyB,CAAY3B,EAAO4B,QAAO,SAAC9D,EAAG+D,GAAC,OAAK/D,EAAEzC,OAAOwG,EAAE,GAAE,IAC5D,CACO,IAAMC,EAAQ,WACjB,SAAAA,KAAc1K,EAAAA,EAAAA,GAAA,KAAA0K,GACVzK,KAAK2I,OAAS,GACd3I,KAAK0K,MAAQ,CACjB,CA2EC,OA3EA9J,EAAAA,EAAAA,GAAA6J,EAAA,EAAA5J,IAAA,SAAAE,MACD,SAAO8D,EAAO8F,GAAyB,IAAZC,EAAKnH,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,GAAAA,UAAA,GAAG,GACzBoH,EAAOD,EAAMlH,OAASiH,EACtBG,EAASpC,EAAe,CAAES,MAAO,EAAGC,IAAKvE,GAAS7E,KAAK2I,QACvDoC,EAAQrC,EAAe,CAAES,MAAOtE,EAAQ8F,EAAavB,IAAK4B,OAAOC,mBAAqBjL,KAAK2I,QAC5FnC,KAAI,SAAAgE,GAAC,MAAK,CAAEpC,MAAOyB,EAAMW,EAAEpC,MAAOyC,GAAOnB,KAAMc,EAAEd,KAAM,IACtDwB,EAASN,EAAMpE,KAAI,SAAC2E,EAAM3C,GAAC,MAAM,CACnCJ,MAAO,CAAEe,MAAOtE,EAAQ2D,EAAGY,IAAKvE,EAAQ2D,EAAI,GAC5CkB,KAAMyB,EAAKzB,KACd,IACD1J,KAAK2I,OAAS3E,EAAO8G,EAAQI,EAAQH,GACrC/K,KAAK0K,MAAQ1K,KAAK2I,OAAO4B,QAAO,SAACa,EAAGZ,GAAC,OAAKY,EAAKZ,EAAEd,MAAQc,EAAEpC,MAAMgB,IAAMoB,EAAEpC,MAAMe,MAAO,GAAE,EAC5F,GACA,CAAAtI,IAAA,QAAAC,IAGA,WACI,IAAMuK,EAAMrL,KAAK2I,OAAOjF,OACxB,OAAK2H,EAGErL,KAAK2I,OAAO0C,EAAM,GAAGjD,MAAMgB,IAFvB,CAGf,GACA,CAAAvI,IAAA,OAAAC,IAGA,WACI,OAAOd,KAAK0K,KAChB,GACA,CAAA7J,IAAA,UAAAE,MAGA,SAAQuK,GACJ,GAAIA,EAAW,EACX,OAAQ,EAEZ,IAE+BC,EAF3B1G,EAAQ,EACR6E,EAAO,EAAE8B,GAAAzC,EAAAA,EAAAA,GACO/I,KAAK2I,QAAM,IAA/B,IAAA6C,EAAAxC,MAAAuC,EAAAC,EAAAvC,KAAAC,MAAiC,KAAtBmB,EAAKkB,EAAAxK,MACN0K,EAAQpB,EAAMjC,MAAMgB,IAAMiB,EAAMjC,MAAMe,MACtCuC,EAAUhC,EAAQ+B,EAAQpB,EAAMX,KACtC,GAAI4B,EAAWI,EACX,OAAO7G,EAAQ8G,KAAKC,OAAON,EAAW5B,GAAQW,EAAMX,MAExD7E,GAAS4G,EACT/B,EAAOgC,CACX,CAAC,OAAA/B,GAAA6B,EAAAvD,EAAA0B,EAAA,SAAA6B,EAAA5B,GAAA,CACD,OAAO/E,CACX,GACA,CAAAhE,IAAA,aAAAE,MAIA,SAAWuK,GACP,OAAOK,KAAKE,IAAI7L,KAAK8L,QAAQR,GAAY,EAAGtL,KAAKyL,MACrD,GACA,CAAA5K,IAAA,aAAAE,MAGA,SAAW8D,GACP,GAAIA,EAAQ,EACR,OAAQ,EAEZ,IAE+BkH,EAF3BT,EAAW,EACXG,EAAQ,EAAEO,GAAAjD,EAAAA,EAAAA,GACM/I,KAAK2I,QAAM,IAA/B,IAAAqD,EAAAhD,MAAA+C,EAAAC,EAAA/C,KAAAC,MAAiC,KAAtBmB,EAAK0B,EAAAhL,MACNkL,EAAa5B,EAAMjC,MAAMgB,IAAMiB,EAAMjC,MAAMe,MAC3C+C,EAAWT,EAAQQ,EACzB,GAAIpH,EAAQqH,EACR,OAAOZ,GAAazG,EAAQ4G,GAASpB,EAAMX,KAE/C4B,GAAYW,EAAa5B,EAAMX,KAC/B+B,EAAQS,CACZ,CAAC,OAAAvC,GAAAqC,EAAA/D,EAAA0B,EAAA,SAAAqC,EAAApC,GAAA,CACD,OAAQ,CACZ,KAACa,CAAA,CA/EgB,GClDd,IAAM0B,EAAQ,WACjB,SAAAA,EAAY9F,IAAWtG,EAAAA,EAAAA,GAAA,KAAAoM,GACnBnM,KAAKqG,UAAYA,EACjBrG,KAAKoM,MAAQ,IAAIC,IACjBrM,KAAKsM,+BAAiC,IAAIpM,IAC1CF,KAAKuM,eAAgB,CACzB,CA8FC,OA7FD3L,EAAAA,EAAAA,GAAAuL,EAAA,EAAAtL,IAAA,QAAAE,MAMA,SAAMwD,GACF,IAAIsE,EAAS7I,KAAKwM,iBAAiBjI,GAAYkI,MAC3CC,GAAU,EACd,GAAI7D,GACA6D,EAAU1M,KAAKsM,+BAA+BK,IAAI9D,EAAOvI,WAErDN,KAAKsM,+BAA+BM,OAAO/D,EAAOvI,aAGrD,CACD,IAAMA,GAAUpB,EAAAA,EAAAA,GAAE,oBAGlB2J,EAAS,CAAEvI,QAAAA,EAASiE,WAAAA,EAAYsI,aAFf7M,KAAK8M,YAAYvI,GACJE,eAAenE,GAEjD,CACA,MAAO,CAAEyM,IAAKlE,EAAQmE,0BAA2BN,EACrD,GACA,CAAA7L,IAAA,UAAAE,MAGA,SAAQgM,GACCA,GAGL/M,KAAKiN,WAAWF,EACpB,GACA,CAAAlM,IAAA,WAAAE,MAGA,SAASmM,GACL,GAAIlN,KAAKuM,cACL,MAAM,IAAIY,MAAM,0BAEpBnN,KAAKuM,eAAgB,EACrB,IACIW,GACJ,CAAC,QACO,IACqDtE,EADrDE,GAAAC,EAAAA,EAAAA,GACkB/I,KAAKsM,gCAA8B,IAAzD,IAAAxD,EAAAE,MAAAJ,EAAAE,EAAAG,KAAAC,MAA2D,KAAhD5I,EAAOsI,EAAA7H,MACdf,KAAKoN,aAAa9M,EACtB,CAAC,OAAAqJ,GAAAb,EAAAb,EAAA0B,EAAA,SAAAb,EAAAc,GAAA,CACD5J,KAAKsM,+BAA+BjL,QACpCrB,KAAKuM,eAAgB,CACzB,CACJ,GAAC,CAAA1L,IAAA,aAAAE,MACD,SAAWgM,GACP,IAAQzM,EAAwByM,EAAxBzM,QAASiE,EAAewI,EAAfxI,WACbjE,IACIN,KAAKuM,cACLvM,KAAKsM,+BAA+B3I,IAAIrD,GAGxCN,KAAKoN,aAAa9M,IAGZN,KAAKwM,iBAAiBjI,GAC9BkF,KAAKsD,EACf,GAAC,CAAAlM,IAAA,eAAAE,MACD,SAAaT,GACTA,EAAQ+M,UAAUC,OAAO,aAjFjC,SAA0BhG,GACtB,IAAIlG,EACJ,IACqC,QAAhCA,EAAKkG,EAAQiG,qBAAkC,IAAPnM,GAAyBA,EAAGoM,YAAYlG,EACrF,CACA,MAAOW,GACH,CAER,CA0EQwF,CAAiBnN,EACrB,GAAC,CAAAO,IAAA,mBAAAE,MACD,SAAiBwD,GACb,IAAIsE,EAAS7I,KAAKoM,MAAMtL,IAAIyD,GAK5B,OAJKsE,IACDA,EAAS,GACT7I,KAAKoM,MAAMlE,IAAI3D,EAAYsE,IAExBA,CACX,GAAC,CAAAhI,IAAA,UAAAE,MACD,WAAU,IAAAiE,EAAA,KACNhF,KAAKoM,MAAMsB,SAAQ,SAACC,EAAYpJ,GAAe,IACT2F,EADSE,GAAArB,EAAAA,EAAAA,GACnB4E,GAAU,IAAlC,IAAAvD,EAAApB,MAAAkB,EAAAE,EAAAnB,KAAAC,MAAoC,KAAzB0E,EAAS1D,EAAAnJ,MACCiE,EAAK8H,YAAYvI,GACzBuB,gBAAgB8H,EAAUf,cACnCe,EAAUf,aAAe,IAC7B,CAAC,OAAAlD,GAAAS,EAAAnC,EAAA0B,EAAA,SAAAS,EAAAR,GAAA,CACL,IACA5J,KAAKoM,MAAM/K,QACXrB,KAAKsM,+BAA+BjL,OACxC,GAAC,CAAAR,IAAA,cAAAE,MACD,SAAYwD,GACR,IAAMF,EAAWrE,KAAKqG,UAAUvF,IAAIyD,GACpC,IAAKF,EACD,MAAM,IAAI8I,MAAM,yBAADnJ,OAA0BO,IAE7C,OAAOF,CACX,KAAC8H,CAAA,CApGgB,G,WCVjB0B,EAA0C,SAAUC,EAAYC,EAAQlN,EAAKmN,GAC7E,IAA2HC,EAAvHC,EAAIzK,UAAUC,OAAQ+C,EAAIyH,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAO7N,OAAOgO,yBAAyBJ,EAAQlN,GAAOmN,EACrH,GAAuB,kBAAZI,SAAoD,oBAArBA,QAAQC,SAAyB5H,EAAI2H,QAAQC,SAASP,EAAYC,EAAQlN,EAAKmN,QACpH,IAAK,IAAIxF,EAAIsF,EAAWpK,OAAS,EAAG8E,GAAK,EAAGA,KAASyF,EAAIH,EAAWtF,MAAI/B,GAAKyH,EAAI,EAAID,EAAExH,GAAKyH,EAAI,EAAID,EAAEF,EAAQlN,EAAK4F,GAAKwH,EAAEF,EAAQlN,KAAS4F,GAChJ,OAAOyH,EAAI,GAAKzH,GAAKtG,OAAOmO,eAAeP,EAAQlN,EAAK4F,GAAIA,CAChE,EAgBM8H,EAAY,CACdC,4BAAwBlP,GAEtBmP,EAAiB,CACnBC,YAAY,EACZC,mBAAoB,EACpBC,kBAAkB,EAClBC,cAAc,EACdC,uBAAuB,EACvBC,IAAK,CACDC,gBAAe,SAAC/G,GAAK,MAAO,CAACA,EAAI,EACjCgH,WAAU,WAAK,OAAO,IAAM,EAC5BC,YAAW,WAAK,EAChBC,WAAU,WAAK,OAAO,CAAO,EAC7BC,KAAI,WAAK,GAEbC,qBAAqB,EACrBC,uBAAuB,EACvBC,yBAAyB,GAEhBC,EAAuB,WAChC,SAAAA,EAAYzH,IAAUhI,EAAAA,EAAAA,GAAA,KAAAyP,GAClBxP,KAAK+H,SAAWA,CACpB,CAIC,OAJAnH,EAAAA,EAAAA,GAAA4O,EAAA,EAAA3O,IAAA,SAAAE,MACD,WAAW,GAAC,CAAAF,IAAA,UAAAE,MACZ,WACI,OAAOf,KAAK+H,QAChB,KAACyH,CAAA,CAP+B,GASvBC,EAA+B,WACxC,SAAAA,EAAY1H,IAAUhI,EAAAA,EAAAA,GAAA,KAAA0P,GAClBzP,KAAK+H,SAAWA,CACpB,CAIC,OAJAnH,EAAAA,EAAAA,GAAA6O,EAAA,EAAA5O,IAAA,SAAAE,MACD,WAAW,GAAC,CAAAF,IAAA,UAAAE,MACZ,WACI,OAAOf,KAAK+H,QAChB,KAAC0H,CAAA,CAPuC,GAS/BC,EAAqB,WAC9B,SAAAA,KAAc3P,EAAAA,EAAAA,GAAA,KAAA2P,GACV1P,KAAK2P,MAAQ,GACb3P,KAAK4P,MAAQ,EACjB,CAoBC,OApBAhP,EAAAA,EAAAA,GAAA8O,EAAA,EAAA7O,IAAA,SAAAE,MACD,SAAO8O,GACqB,IAAAC,EAApBD,EAAaF,QACbG,EAAA9P,KAAK2P,OAAMxH,OAAM4H,MAAAD,EAAA,CAAC,EAAG9P,KAAK2P,MAAMjM,QAAMM,QAAAgM,EAAAA,EAAAA,GAAKH,EAAaF,SAE5D,GAAIE,EAAaD,MAAO,CACpB5P,KAAK4P,MAAMzH,OAAO,EAAGnI,KAAK4P,MAAMlM,QAChC,IAAK,IAAI8E,EAAI,EAAGA,EAAIqH,EAAaD,MAAMlM,OAAQ8E,IAAK,CAChD,IAAMyH,EAAOJ,EAAaD,MAAMzE,KAAK3C,GACjCyH,IAASA,EAAKvG,MAAQuG,EAAKC,OAC3BlQ,KAAK4P,MAAMnG,KAAKwG,EAExB,CACJ,CACJ,GAAC,CAAApP,IAAA,UAAAE,MACD,WACI,MAAO,CACH4O,MAAO3P,KAAK2P,MACZC,MAAO5P,KAAK4P,MAEpB,KAACF,CAAA,CAxB6B,GA+BjC,IACKS,GAA6BvP,EAAAA,EAAAA,IAC/B,SAAAuP,EAAYnK,IAAuBjG,EAAAA,EAAAA,GAAA,KAAAoQ,IACD,OAA1BnK,QAA4D,IAA1BA,OAAmC,EAASA,EAAsBoK,YACpGpQ,KAAKoQ,WAAapK,EAAsBoK,WAAWC,KAAKrK,GAGxDhG,KAAKoQ,WAAa,SAACnI,EAAGO,EAAG8H,GAAC,OAAKA,CAAC,GAEN,OAA1BtK,QAA4D,IAA1BA,OAAmC,EAASA,EAAsBuK,aACpGvQ,KAAKuQ,YAAcvK,EAAsBuK,YAAYF,KAAKrK,GAG1DhG,KAAKuQ,YAAc,SAACtI,EAAGO,GAAC,OAAKA,EAAI,CAAC,GAER,OAA1BxC,QAA4D,IAA1BA,OAAmC,EAASA,EAAsBwK,SACpGxQ,KAAKwQ,QAAUxK,EAAsBwK,QAAQH,KAAKrK,GAGlDhG,KAAKwQ,QAAU,SAAA1L,GAAC,MAAI,UAAU,GAEJ,OAA1BkB,QAA4D,IAA1BA,OAAmC,EAASA,EAAsByK,WACpGzQ,KAAKyQ,UAAYzK,EAAsByK,UAAUJ,KAAKrK,GAGtDhG,KAAKyQ,UAAY,SAAA3L,GAAc,CAEvC,IAYE4L,EAAQ,WA0BV,SAAAA,EAAY9Q,EAAWwG,EAAiBC,GAAqC,IACrEjF,EAAIuP,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EADyBrM,EAAA,KAA1BlF,EAAO2D,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,GAAAA,UAAA,GAAGgL,EAkBzD,IAlBuE1O,EAAAA,EAAAA,GAAA,KAAA2Q,GAEvE1Q,KAAKoG,gBAAkBA,EACvBpG,KAAKsR,MAAQ,WAAHtN,SAAgB0M,EAASa,eACnCvR,KAAKqG,UAAY,IAAIgG,IACrBrM,KAAKwR,YAAc,EACnBxR,KAAKyR,cAAgB,EACrBzR,KAAK0R,kCAAoC,KACzC1R,KAAK2R,8BAAgC,IAAIC,EAAAA,GAAQ,IACjD5R,KAAK6R,UAAW,EAChB7R,KAAK8R,gCAAkCnN,EAAAA,GAAWC,KAClD5E,KAAK+R,eAAiB,EACtB/R,KAAKgS,SAAU,EACfhS,KAAKiS,8BAAgCtN,EAAAA,GAAWC,KAChD5E,KAAKkS,mBAAqBvN,EAAAA,GAAWC,KACrC5E,KAAKmS,YAAc,IAAIC,EAAAA,GACvBpS,KAAKqS,0BAA4B,IAAIC,EAAAA,GACrCtS,KAAKuS,sBAAuB,EACxBzS,EAAQuP,qBAAuBvP,EAAQgP,sBACvC,MAAM,IAAI3B,MAAM,yEAEpBnN,KAAK4K,MAAQ,GACb5K,KAAKwS,OAAS,EACdxS,KAAKyS,SAAW,IAAIhI,EAAW,IACC7B,EADDE,GAAAC,EAAAA,EAAAA,GACR1C,GAAS,IAAhC,IAAAyC,EAAAE,MAAAJ,EAAAE,EAAAG,KAAAC,MAAkC,KAAvB7E,EAAQuE,EAAA7H,MACff,KAAKqG,UAAU6B,IAAI7D,EAASE,WAAYF,EAC5C,CAAC,OAAAsF,GAAAb,EAAAb,EAAA0B,EAAA,SAAAb,EAAAc,GAAA,CACD5J,KAAKoM,MAAQpM,KAAKmS,YAAYxO,IAAI,IAAIwI,EAASnM,KAAKqG,YACpDrG,KAAK0S,cAAgB,EACrB1S,KAAK2S,iBAAmB,EACxB3S,KAAKM,QAAUsS,SAASC,cAAc,OACtC7S,KAAKM,QAAQwS,UAAY,cACzB9S,KAAKM,QAAQ+M,UAAU1J,IAAI3D,KAAKsR,OAChCtR,KAAKM,QAAQyS,SAAW,EACxB/S,KAAKM,QAAQ+M,UAAU2F,OAAO,gBAAiD,mBAAzBlT,EAAQmT,cAA6BnT,EAAQmT,cACnGjT,KAAKuS,qBAA8D,QAAtCnR,EAAKtB,EAAQuP,2BAAwC,IAAPjO,EAAgBA,EAAKqN,EAAeY,oBAC/GrP,KAAKM,QAAQ+M,UAAU2F,OAAO,uBAAwBhT,KAAKuS,sBAC3DvS,KAAKkT,uBAAmE,qBAAnCpT,EAAQoT,uBAAyC,EAAIpT,EAAQoT,uBAClGlT,KAAKgG,sBAAwB,IAAImK,EAA8BrQ,EAAQkG,uBACvEhG,KAAKmT,cAAgBP,SAASC,cAAc,OAC5C7S,KAAKmT,cAAcL,UAAY,oBACwC,QAAxCnC,EAAK7Q,EAAQwP,6BAA0C,IAAPqB,EAAgBA,EAAKlC,EAAea,yBAE/GtP,KAAKmT,cAAc3S,MAAM4S,UAAY,6BACrCpT,KAAKmT,cAAc3S,MAAM6S,SAAW,SACpCrT,KAAKmT,cAAc3S,MAAM8S,QAAU,UAEvCtT,KAAKmS,YAAYxO,IAAI4P,EAAAA,EAAQC,UAAUxT,KAAKmT,gBAC5CnT,KAAKyT,WAAa,IAAIC,EAAAA,GAAW,CAC7BC,oBAAoB,EACpBC,qBAA0D,QAAlChD,EAAK9Q,EAAQ+T,uBAAoC,IAAPjD,GAAgBA,EAAc,IAAM,EACtGkD,6BAA8B,SAAAC,GAAE,OAAID,EAAAA,EAAAA,8BAA6BC,EAAG,IAExE/T,KAAKgU,kBAAoBhU,KAAKmS,YAAYxO,IAAI,IAAIsQ,EAAAA,GAAwBjU,KAAKmT,cAAe,CAC1F5D,wBAAoE,QAA1CsB,EAAK/Q,EAAQyP,+BAA4C,IAAPsB,EAAgBA,EAAKpC,EAAec,wBAChH2E,WAAY,EACZC,SAAgD,QAArCrD,EAAKhR,EAAQ6O,0BAAuC,IAAPmC,EAAgBA,EAAKrC,EAAeE,mBAC5FD,WAA0C,QAA7BqC,EAAKjR,EAAQ4O,kBAA+B,IAAPqC,EAAgBA,EAAKtC,EAAeC,WACtF0F,4BAA6BtU,EAAQsU,4BACrCC,sBAAuBvU,EAAQuU,sBAC/BC,aAAcxU,EAAQwU,cACvBtU,KAAKyT,aACRzT,KAAKM,QAAQK,YAAYX,KAAKgU,kBAAkBO,cAChD3U,EAAUe,YAAYX,KAAKM,SAC3BN,KAAKgU,kBAAkBQ,SAASxU,KAAKwU,SAAUxU,KAAMA,KAAKmS,aAC1DnS,KAAKmS,YAAYxO,KAAI8Q,EAAAA,EAAAA,uBAAsBzU,KAAKmT,cAAeuB,EAAAA,EAAeC,QAAQ,SAAA1M,GAAC,OAAIjD,EAAK4P,cAAc3M,EAAE,KAGhHjI,KAAKmS,YAAYxO,KAAI8Q,EAAAA,EAAAA,uBAAsBzU,KAAKgU,kBAAkBO,aAAc,UAAU,SAAAtM,GAAC,OAAIA,EAAE8F,OAAO8G,UAAY,CAAC,KACrH7U,KAAKmS,YAAYxO,KAAI8Q,EAAAA,EAAAA,uBAAsBzU,KAAKM,QAAS,YAAY,SAAA2H,GAAC,OAAIjD,EAAKmK,WAAWnK,EAAK8P,YAAY7M,GAAG,KAC9GjI,KAAKmS,YAAYxO,KAAI8Q,EAAAA,EAAAA,uBAAsBzU,KAAKM,QAAS,QAAQ,SAAA2H,GAAC,OAAIjD,EAAK+P,OAAO/P,EAAK8P,YAAY7M,GAAG,KACtGjI,KAAKmS,YAAYxO,KAAI8Q,EAAAA,EAAAA,uBAAsBzU,KAAKM,QAAS,aAAa,SAAA2H,GAAC,OAAIjD,EAAKgQ,YAAYhQ,EAAK8P,YAAY7M,GAAG,KAChHjI,KAAKmS,YAAYxO,KAAI8Q,EAAAA,EAAAA,uBAAsBzU,KAAKM,QAAS,WAAW,SAAA2H,GAAC,OAAIjD,EAAKiQ,UAAUhN,EAAE,KAC1FjI,KAAK4O,iBAAuD,QAAnCoC,EAAKlR,EAAQ8O,wBAAqC,IAAPoC,EAAgBA,EAAKvC,EAAeG,iBACxG5O,KAAK6O,aAA+C,QAA/BoC,EAAKnR,EAAQ+O,oBAAiC,IAAPoC,EAAgBA,EAAKxC,EAAeI,aAChG7O,KAAK8O,sBAAiE,QAAxCoC,EAAKpR,EAAQgP,6BAA0C,IAAPoC,EAAgBA,EAAKzC,EAAeK,sBAClH9O,KAAK+O,IAA6B,QAAtBoC,EAAKrR,EAAQiP,WAAwB,IAAPoC,EAAgBA,EAAK1C,EAAeM,IAC9E/O,KAAKkV,OAAsC,QAA9B9D,EAAKtR,EAAQqV,mBAAgC,IAAP/D,OAAgB,EAASA,EAAGrM,OAAuC,QAA9BsM,EAAKvR,EAAQqV,mBAAgC,IAAP9D,OAAgB,EAASA,EAAG+D,MAC9J,CAsxBC,OAtxBAxU,EAAAA,EAAAA,GAAA8P,EAAA,EAAA7P,IAAA,gBAAAC,IAvGD,WAAsB,OAAOd,KAAKyS,SAAS/I,IAAM,GAAC,CAAA7I,IAAA,sBAAAC,IAClD,WAA4B,OAAOd,KAAKuS,oBAAsB,EAACrK,IAC/D,SAAwBnH,GACpB,GAAIA,IAAUf,KAAKuS,qBAAnB,CAGA,GAAIxR,GAASf,KAAK8O,sBACd,MAAM,IAAI3B,MAAM,yEAIpB,GAFAnN,KAAKuS,qBAAuBxR,EAC5Bf,KAAKM,QAAQ+M,UAAU2F,OAAO,uBAAwBhT,KAAKuS,sBACvDvS,KAAKuS,qBAAsB,KACErI,EADFE,GAAArB,EAAAA,EAAAA,GACR/I,KAAK4K,OAAK,IAA7B,IAAAR,EAAApB,MAAAkB,EAAAE,EAAAnB,KAAAC,MAA+B,KAApBiC,EAAIjB,EAAAnJ,MACXf,KAAKqV,iBAAiBlK,EAC1B,CAAC,OAAAxB,GAAAS,EAAAnC,EAAA0B,EAAA,SAAAS,EAAAR,GAAA,CACD5J,KAAKsV,oBACLtV,KAAKgU,kBAAkBuB,oBAAoB,CAAEH,OAAOI,EAAAA,EAAAA,iBAAgBxV,KAAKM,WACzEN,KAAKmT,cAAc3S,MAAM4U,MAAQ,GAAHpR,OAAM2H,KAAK8J,IAAIzV,KAAK0V,aAAe,EAAG1V,KAAKwR,aAAY,KACzF,MAEIxR,KAAK2R,8BAA8BjM,SACnC1F,KAAKgU,kBAAkBuB,oBAAoB,CAAEH,MAAOpV,KAAKwR,YAAakE,YAAa1V,KAAKwR,cACxFxR,KAAKmT,cAAc3S,MAAM4U,MAAQ,EAjBrC,CAmBJ,GAAC,CAAAvU,IAAA,gBAAAE,MAgFD,SAAcjB,GAWV,IAAI6V,OAVmCrW,IAAnCQ,EAAQoT,yBACRlT,KAAKkT,uBAAyBpT,EAAQoT,uBACtClT,KAAKgU,kBAAkBuB,oBAAoB,CAAEK,aAAc5V,KAAK4V,qBAEpCtW,IAA5BQ,EAAQ+T,iBACR7T,KAAKyT,WAAWoC,wBAAwB/V,EAAQ+T,gBAAkB,IAAM,QAExCvU,IAAhCQ,EAAQuP,sBACRrP,KAAKqP,oBAAsBvP,EAAQuP,0BAGV/P,IAAzBQ,EAAQwU,eACRqB,EAAoBxV,OAAOyG,OAAOzG,OAAOyG,OAAO,CAAC,EAA0B,OAAtB+O,QAAoD,IAAtBA,EAA+BA,EAAoB,CAAC,GAAK,CAAErB,aAAcxU,EAAQwU,qBAE5HhV,IAAxCQ,EAAQsU,8BACRuB,EAAoBxV,OAAOyG,OAAOzG,OAAOyG,OAAO,CAAC,EAA0B,OAAtB+O,QAAoD,IAAtBA,EAA+BA,EAAoB,CAAC,GAAK,CAAEvB,4BAA6BtU,EAAQsU,oCAEjJ9U,IAAlCQ,EAAQuU,wBACRsB,EAAoBxV,OAAOyG,OAAOzG,OAAOyG,OAAO,CAAC,EAA0B,OAAtB+O,QAAoD,IAAtBA,EAA+BA,EAAoB,CAAC,GAAK,CAAEtB,sBAAuBvU,EAAQuU,yBAE7KsB,GACA3V,KAAKgU,kBAAkBlN,cAAc6O,EAE7C,GAAC,CAAA9U,IAAA,SAAAE,MACD,SAAOoI,EAAOwB,GAA4B,IAAf5C,EAAQtE,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,GAAAA,UAAA,GAAG,GAClC,GAAIzD,KAAK6R,SACL,MAAM,IAAI1E,MAAM,gCAEpBnN,KAAK6R,UAAW,EAChB,IACI,OAAO7R,KAAK8V,QAAQ3M,EAAOwB,EAAa5C,EAC5C,CAAC,QAEG/H,KAAK6R,UAAW,EAChB7R,KAAKqS,0BAA0B0D,KAAK/V,KAAKgW,cAC7C,CACJ,GAAC,CAAAnV,IAAA,UAAAE,MACD,SAAQoI,EAAOwB,GAMX,IANuC,IAAArE,EAAA,KAAfyB,EAAQtE,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,GAAAA,UAAA,GAAG,GAC7BwS,EAAsBjW,KAAKkW,eAAelW,KAAK0S,cAAe1S,KAAK2S,kBACnEwD,EAAc,CAAEhN,MAAAA,EAAOC,IAAKD,EAAQwB,GACpCyL,EAAc9M,EAAAA,EAAMC,UAAU0M,EAAqBE,GAEnDE,EAAgB,IAAIhK,IACjB7D,EAAI4N,EAAYhN,IAAM,EAAGZ,GAAK4N,EAAYjN,MAAOX,IAAK,CAC3D,IAAM2C,EAAOnL,KAAK4K,MAAMpC,GAGxB,GAFA2C,EAAKmL,oBAAoBrR,UACzBkG,EAAKoL,kBAAkBtR,UACnBkG,EAAK4B,IAAK,CACV,IAAIyJ,EAAOH,EAAcvV,IAAIqK,EAAK5G,YAC7BiS,IACDA,EAAO,GACPH,EAAcnO,IAAIiD,EAAK5G,WAAYiS,IAEvC,IAAMnS,EAAWrE,KAAKqG,UAAUvF,IAAIqK,EAAK5G,YACrCF,GAAYA,EAASoS,gBACrBpS,EAASoS,eAAetL,EAAK7D,QAASkB,EAAG2C,EAAK4B,IAAIF,aAAc1B,EAAKzB,MAEzE8M,EAAK/M,KAAK0B,EAAK4B,IACnB,CACA5B,EAAK4B,IAAM,IACf,CACA,IAiBI2J,EAQCC,EAzBCC,EAAoB,CAAEzN,MAAOA,EAAQwB,EAAavB,IAAKpJ,KAAK4K,MAAMlH,QAClEmT,EAA4BvN,EAAAA,EAAMC,UAAUqN,EAAmBX,GAC/Da,EAA+BxN,EAAAA,EAAMyN,mBAAmBH,EAAmBX,GAC3Ee,EAAWjP,EAASvB,KAAI,SAAAc,GAAO,MAAK,CACtC2P,GAAIC,OAAO5Q,EAAKkM,UAChBlL,QAAAA,EACA/C,WAAY+B,EAAKF,gBAAgB+Q,cAAc7P,GAC/CoC,KAAMpD,EAAKF,gBAAgBgR,UAAU9P,GACrC8N,WAAO9V,EACP+X,mBAAoB/Q,EAAKF,gBAAgBiR,kBAAoB/Q,EAAKF,gBAAgBiR,iBAAiB/P,GACnGgQ,4BAAwBhY,EACxByN,IAAK,KACLwK,SAAKjY,EACLkY,YAAY,EACZlB,oBAAqB3R,EAAAA,GAAWC,KAChC2R,kBAAmB5R,EAAAA,GAAWC,KACjC,IAGa,IAAVuE,GAAewB,GAAe3K,KAAK4K,MAAMlH,QACzC1D,KAAKyS,SAAW,IAAIhI,EACpBzK,KAAKyS,SAAStK,OAAO,EAAG,EAAG6O,GAC3BN,EAAU1W,KAAK4K,MACf5K,KAAK4K,MAAQoM,IAGbhX,KAAKyS,SAAStK,OAAOgB,EAAOwB,EAAaqM,GACzCN,GAAUC,EAAA3W,KAAK4K,OAAMzC,OAAM4H,MAAA4G,EAAA,CAACxN,EAAOwB,GAAW3G,QAAAgM,EAAAA,EAAAA,GAAKgH,MAMvD,IAJA,IAAMS,EAAQ1P,EAASrE,OAASiH,EAC1B+M,EAAc1X,KAAKkW,eAAelW,KAAK0S,cAAe1S,KAAK2S,kBAC3DgF,EAAoB9N,EAAMgN,EAA2BY,GACrDG,EAActO,EAAAA,EAAMC,UAAUmO,EAAaC,GACxCnP,EAAIoP,EAAYzO,MAAOX,EAAIoP,EAAYxO,IAAKZ,IACjDxI,KAAK6X,gBAAgB7X,KAAK4K,MAAMpC,GAAIA,GAExC,IACgC+C,EAD1BuM,EAAexO,EAAAA,EAAMyN,mBAAmBY,EAAmBD,GAAalM,GAAAzC,EAAAA,EAAAA,GAC1D+O,GAAY,IAAhC,IAAAtM,EAAAxC,MAAAuC,EAAAC,EAAAvC,KAAAC,MACI,IAD8B,IAAvBd,EAAKmD,EAAAxK,MACHyH,EAAIJ,EAAMe,MAAOX,EAAIJ,EAAMgB,IAAKZ,IACrCxI,KAAK+X,kBAAkBvP,EAE9B,OAAAmB,GAAA6B,EAAAvD,EAAA0B,EAAA,SAAA6B,EAAA5B,GAAA,CACD,IAIgCmC,EAJ1BiM,EAAuBlB,EAA6BtQ,KAAI,SAAAC,GAAC,OAAIoD,EAAMpD,EAAGgR,EAAM,IAE5EQ,EAAe,CADC,CAAE9O,MAAAA,EAAOC,IAAKD,EAAQpB,EAASrE,SAClBM,QAAAgM,EAAAA,EAAAA,GAAKgI,IAAsBxR,KAAI,SAAAC,GAAC,OAAI6C,EAAAA,EAAMC,UAAUmO,EAAajR,EAAE,IAChGyR,EAAgBlY,KAAKmY,qBAAqBF,GAAcjM,GAAAjD,EAAAA,EAAAA,GAC1CkP,GAAY,IAAhC,IAAAjM,EAAAhD,MAAA+C,EAAAC,EAAA/C,KAAAC,MACI,IAD8B,IAAvBd,EAAK2D,EAAAhL,MACHyH,EAAIJ,EAAMe,MAAOX,EAAIJ,EAAMgB,IAAKZ,IAAK,CAC1C,IAAM2C,EAAOnL,KAAK4K,MAAMpC,GAClBgO,EAAOH,EAAcvV,IAAIqK,EAAK5G,YAC9BwI,EAAe,OAATyJ,QAA0B,IAATA,OAAkB,EAASA,EAAK/J,MAC7DzM,KAAKoY,gBAAgB5P,EAAG0P,EAAenL,EAC3C,CACH,OAAApD,GAAAqC,EAAA/D,EAAA0B,EAAA,SAAAqC,EAAApC,GAAA,KACwCyO,EADxCC,GAAAvP,EAAAA,EAAAA,GACkBsN,EAAckC,UAAQ,IAAzC,IAAAD,EAAAtP,MAAAqP,EAAAC,EAAArP,KAAAC,MAA2C,KACjBsP,EADfhC,EAAI6B,EAAAtX,MAAA0X,GAAA1P,EAAAA,EAAAA,GACOyN,GAAI,IAAtB,IAAAiC,EAAAzP,MAAAwP,EAAAC,EAAAxP,KAAAC,MAAwB,KAAb6D,EAAGyL,EAAAzX,MACVf,KAAKoM,MAAMsM,QAAQ3L,EACvB,CAAC,OAAApD,GAAA8O,EAAAxQ,EAAA0B,EAAA,SAAA8O,EAAA7O,GAAA,CACL,CAAC,OAAAD,GAAA2O,EAAArQ,EAAA0B,EAAA,SAAA2O,EAAA1O,GAAA,CAKD,OAJA5J,KAAK2Y,mCACD3Y,KAAK8O,uBACL9O,KAAK4Y,UAAU5Y,KAAK6U,UAAW7U,KAAK6Y,cAEjCnC,EAAQlQ,KAAI,SAAAgC,GAAC,OAAIA,EAAElB,OAAO,GACrC,GAAC,CAAAzG,IAAA,mCAAAE,MACD,WAAmC,IAAAmG,EAAA,KAC/BlH,KAAKyR,cAAgBzR,KAAKgW,cAC1BhW,KAAKmT,cAAc3S,MAAMuE,OAAS,GAAHf,OAAMhE,KAAKyR,cAAa,MAClDzR,KAAK0R,oCACN1R,KAAK0R,mCAAoCoC,EAAAA,EAAAA,+BAA6B,WAClE5M,EAAK8M,kBAAkBuB,oBAAoB,CAAEK,aAAc1O,EAAK0O,eAChE1O,EAAKoO,oBACLpO,EAAKwK,kCAAoC,IAC7C,IAER,GAAC,CAAA7Q,IAAA,8BAAAE,MACD,WAA8B,IAAA0G,EAAA,KACrBzH,KAAKqP,oBAIVrP,KAAK2R,8BAA8BmH,SAAQ,kBAAMrR,EAAK6N,mBAAmB,IAHrEtV,KAAK2R,8BAA8BjM,QAI3C,GAAC,CAAA7E,IAAA,oBAAAE,MACD,WACI,GAAKf,KAAKqP,oBAAV,CAGA,IAC6B0J,EADzBrD,EAAc,EAAEsD,GAAAjQ,EAAAA,EAAAA,GACD/I,KAAK4K,OAAK,IAA7B,IAAAoO,EAAAhQ,MAAA+P,EAAAC,EAAA/P,KAAAC,MAA+B,KAApBiC,EAAI4N,EAAAhY,MACe,qBAAfoK,EAAKiK,QACZM,EAAc/J,KAAK8J,IAAIC,EAAavK,EAAKiK,OAEjD,CAAC,OAAAzL,GAAAqP,EAAA/Q,EAAA0B,EAAA,SAAAqP,EAAApP,GAAA,CACD5J,KAAK0V,YAAcA,EACnB1V,KAAKgU,kBAAkBuB,oBAAoB,CAAEG,YAA6B,IAAhBA,EAAoB,EAAKA,EAAc,IARjG,CASJ,GAAC,CAAA7U,IAAA,WAAAE,MACD,WACI,GAAKf,KAAK8O,sBAAV,CAEC,IAC4BmK,EAD5BC,GAAAnQ,EAAAA,EAAAA,GACkB/I,KAAK4K,OAAK,IAA7B,IAAAsO,EAAAlQ,MAAAiQ,EAAAC,EAAAjQ,KAAAC,MAA+B,CAAhB+P,EAAAlY,MACNuW,4BAAyBhY,CAClC,CAAC,OAAAqK,GAAAuP,EAAAjR,EAAA0B,EAAA,SAAAuP,EAAAtP,GAAA,CACD5J,KAAK4Y,UAAU5Y,KAAK0S,cAAe1S,KAAK2S,iBAJxC,CAKJ,GAAC,CAAA9R,IAAA,SAAAC,IACD,WACI,OAAOd,KAAK4K,MAAMlH,MACtB,GAAC,CAAA7C,IAAA,eAAAC,IACD,WAEI,OADyBd,KAAKgU,kBAAkBmF,sBACxBpU,MAC5B,GAAC,CAAAlE,IAAA,oBAAAC,IACD,WACI,IAAMsH,EAAQpI,KAAKkW,eAAelW,KAAK0S,cAAe1S,KAAK2S,kBACrDyG,EAAapZ,KAAKyS,SAAS4G,WAAWjR,EAAMe,OAC5CmQ,EAAYtZ,KAAKyS,SAAS4G,WAAWjR,EAAMe,MAAQ,GACzD,IAAmB,IAAfmQ,IACyBA,EAAYF,GAAc,EAAIA,EACjCpZ,KAAK6U,UACvB,OAAOzM,EAAMe,MAAQ,EAG7B,OAAOf,EAAMe,KACjB,GAAC,CAAAtI,IAAA,UAAAE,MACD,SAAQ8D,GACJ,OAAO7E,KAAK4K,MAAM/F,GAAOyC,OAC7B,GAAC,CAAAzG,IAAA,aAAAE,MACD,SAAW8D,GACP,IAAMkI,EAAM/M,KAAK4K,MAAM/F,GAAOkI,IAC9B,OAAOA,GAAOA,EAAIzM,OACtB,GAAC,CAAAO,IAAA,gBAAAE,MACD,SAAc8D,GACV,OAAO7E,KAAK4K,MAAM/F,GAAO6E,IAC7B,GAAC,CAAA7I,IAAA,aAAAE,MACD,SAAW8D,GACP,OAAO7E,KAAKyS,SAAS4G,WAAWxU,EACpC,GAAC,CAAAhE,IAAA,UAAAE,MACD,SAAQuK,GACJ,OAAOtL,KAAKyS,SAAS3G,QAAQR,EACjC,GAAC,CAAAzK,IAAA,aAAAE,MACD,SAAWuK,GACP,OAAOtL,KAAKyS,SAAS8G,WAAWjO,EACpC,GAAC,CAAAzK,IAAA,SAAAE,MACD,SAAOgE,EAAQqQ,GACX,IAAMoE,EAAmB,CACrBzU,OAA0B,kBAAXA,EAAsBA,GAAS0U,EAAAA,EAAAA,kBAAiBzZ,KAAKM,UAEpEN,KAAK0R,oCACL1R,KAAK0R,kCAAkCzM,UACvCjF,KAAK0R,kCAAoC,KACzC8H,EAAiB5D,aAAe5V,KAAK4V,cAEzC5V,KAAKgU,kBAAkBuB,oBAAoBiE,GACtB,qBAAVpE,IACPpV,KAAKwR,YAAc4D,EACfpV,KAAK8O,uBACL9O,KAAK4Y,UAAU5Y,KAAK6U,UAAW7U,KAAK6Y,eAGxC7Y,KAAKqP,qBACLrP,KAAKgU,kBAAkBuB,oBAAoB,CACvCH,MAAwB,kBAAVA,EAAqBA,GAAQI,EAAAA,EAAAA,iBAAgBxV,KAAKM,UAG5E,GACA,CAAAO,IAAA,SAAAE,MACA,SAAOkV,EAAqByD,EAAWb,EAAcc,EAAYjE,GAAuC,IAAA9N,EAAA,KAA1BgS,EAAgBnW,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,IAAAA,UAAA,GACpFiU,EAAc1X,KAAKkW,eAAewD,EAAWb,GAC7CgB,EAAiBvQ,EAAAA,EAAMyN,mBAAmBW,EAAazB,GACvD6D,EAAiBxQ,EAAAA,EAAMyN,mBAAmBd,EAAqByB,GAC/DQ,EAAgBlY,KAAKmY,qBAAqB0B,GAChD,GAAID,EAEA,IADA,IAAMG,EAAiBzQ,EAAAA,EAAMC,UAAU0M,EAAqByB,GACnDlP,EAAIuR,EAAe5Q,MAAOX,EAAIuR,EAAe3Q,IAAKZ,IACvDxI,KAAK6X,gBAAgB7X,KAAK4K,MAAMpC,GAAIA,GAG5CxI,KAAKoM,MAAM4N,UAAS,WAAM,IACYC,EADZC,GAAAnR,EAAAA,EAAAA,GACF+Q,GAAc,IAAlC,IAAAI,EAAAlR,MAAAiR,EAAAC,EAAAjR,KAAAC,MACI,IADgC,IAAzBd,EAAK6R,EAAAlZ,MACHyH,EAAIJ,EAAMe,MAAOX,EAAIJ,EAAMgB,IAAKZ,IACrCZ,EAAKmQ,kBAAkBvP,EAE9B,OAAAmB,GAAAuQ,EAAAjS,EAAA0B,EAAA,SAAAuQ,EAAAtQ,GAAA,KACiCuQ,EADjCC,GAAArR,EAAAA,EAAAA,GACmB8Q,GAAc,IAAlC,IAAAO,EAAApR,MAAAmR,EAAAC,EAAAnR,KAAAC,MACI,IADgC,IAAzBd,EAAK+R,EAAApZ,MACHyH,EAAIJ,EAAMe,MAAOX,EAAIJ,EAAMgB,IAAKZ,IACrCZ,EAAKwQ,gBAAgB5P,EAAG0P,EAE/B,OAAAvO,GAAAyQ,EAAAnS,EAAA0B,EAAA,SAAAyQ,EAAAxQ,GAAA,CACL,SACmBtK,IAAfqa,IACA3Z,KAAKmT,cAAc3S,MAAM6Z,KAAO,IAAHrW,OAAO2V,EAAU,OAElD3Z,KAAKmT,cAAc3S,MAAM8Z,IAAM,IAAHtW,OAAO0V,EAAS,MACxC1Z,KAAKqP,0BAAuC/P,IAAhBoW,IAC5B1V,KAAKmT,cAAc3S,MAAM4U,MAAQ,GAAHpR,OAAM2H,KAAK8J,IAAIC,EAAa1V,KAAKwR,aAAY,OAE/ExR,KAAK0S,cAAgBgH,EACrB1Z,KAAK2S,iBAAmBkG,CAC5B,GACA,CAAAhY,IAAA,kBAAAE,MACA,SAAgB8D,EAAOqT,EAAenL,GAAK,IAAAxE,EAAA,KACjC4C,EAAOnL,KAAK4K,MAAM/F,GACpB6H,GAAU,EACd,IAAKvB,EAAK4B,IACN,GAAIA,EACA5B,EAAK4B,IAAMA,MAEV,CACD,IAAMlE,EAAS7I,KAAKoM,MAAMmO,MAAMpP,EAAK5G,YACrC4G,EAAK4B,IAAMlE,EAAOkE,IAClBL,EAAU7D,EAAOmE,yBACrB,CAEJ,IAAMwN,EAAOxa,KAAKgG,sBAAsBwK,QAAQrF,EAAK7D,UAAY,WACjE6D,EAAK4B,IAAIzM,QAAQma,aAAa,OAAQD,GACtC,IAAME,EAAU1a,KAAKgG,sBAAsByK,UAAUtF,EAAK7D,SAC1D,GAAuB,mBAAZoT,EACPvP,EAAK4B,IAAIzM,QAAQma,aAAa,eAAgBvD,SAASwD,SAEtD,GAAIA,EAAS,CACd,IAAMC,EAAS,SAACD,GAAO,OAAKvP,EAAK4B,IAAIzM,QAAQma,aAAa,eAAgBvD,SAASwD,GAAS,EAC5FC,EAAOD,EAAQ3Z,OACfoK,EAAKoL,kBAAoBmE,EAAQE,YAAYD,EACjD,EACIjO,GAAYvB,EAAK4B,IAAIzM,QAAQiN,gBACzB2K,EACAlY,KAAKmT,cAAc0H,aAAa1P,EAAK4B,IAAIzM,QAAS4X,GAGlDlY,KAAKmT,cAAcxS,YAAYwK,EAAK4B,IAAIzM,UAGhDN,KAAK6X,gBAAgB1M,EAAMtG,GAC3B,IAAMR,EAAWrE,KAAKqG,UAAUvF,IAAIqK,EAAK5G,YACzC,IAAKF,EACD,MAAM,IAAI8I,MAAM,qCAADnJ,OAAsCmH,EAAK5G,aAEjD,OAAbF,QAAkC,IAAbA,GAA+BA,EAASe,cAAc+F,EAAK7D,QAASzC,EAAOsG,EAAK4B,IAAIF,aAAc1B,EAAKzB,MAC5H,IAAM6N,EAAMvX,KAAK+O,IAAIE,WAAW9D,EAAK7D,SACrC6D,EAAKmL,oBAAoBrR,UACzBkG,EAAK4B,IAAIzM,QAAQwa,YAAcvD,EAC3BA,IACApM,EAAKmL,qBAAsB7B,EAAAA,EAAAA,uBAAsBtJ,EAAK4B,IAAIzM,QAAS,aAAa,SAAAya,GAAK,OAAIxS,EAAK2G,YAAY/D,EAAK7D,QAASiQ,EAAKwD,EAAM,KAEnI/a,KAAKqP,sBACLrP,KAAKqV,iBAAiBlK,GACtBnL,KAAKgb,8BAEb,GAAC,CAAAna,IAAA,mBAAAE,MACD,SAAiBoK,GACb,GAAKA,EAAK4B,KAAQ5B,EAAK4B,IAAIzM,QAA3B,CAGA6K,EAAK4B,IAAIzM,QAAQE,MAAM4U,MAAQ,cAC/BjK,EAAKiK,OAAQI,EAAAA,EAAAA,iBAAgBrK,EAAK4B,IAAIzM,SACtC,IAAME,EAAQya,OAAOC,iBAAiB/P,EAAK4B,IAAIzM,SAC3CE,EAAM2a,cACNhQ,EAAKiK,OAASgG,WAAW5a,EAAM2a,cAE/B3a,EAAM6a,eACNlQ,EAAKiK,OAASgG,WAAW5a,EAAM6a,eAEnClQ,EAAK4B,IAAIzM,QAAQE,MAAM4U,MAAQ,EAV/B,CAWJ,GAAC,CAAAvU,IAAA,kBAAAE,MACD,SAAgBoK,EAAMtG,GAClBsG,EAAK4B,IAAIzM,QAAQE,MAAM8Z,IAAM,GAAHtW,OAAMhE,KAAKsb,WAAWzW,GAAM,MAClD7E,KAAK6O,eACL1D,EAAK4B,IAAIzM,QAAQE,MAAMuE,OAAS,GAAHf,OAAMmH,EAAKzB,KAAI,OAE5C1J,KAAK4O,mBACLzD,EAAK4B,IAAIzM,QAAQE,MAAM+a,WAAa,GAAHvX,OAAMmH,EAAKzB,KAAI,OAEpDyB,EAAK4B,IAAIzM,QAAQma,aAAa,aAAc,GAAFzW,OAAKa,IAC/CsG,EAAK4B,IAAIzM,QAAQma,aAAa,oBAAqB5V,IAAU7E,KAAK0D,OAAS,EAAI,OAAS,SACxFyH,EAAK4B,IAAIzM,QAAQma,aAAa,cAAe5V,EAAQ,IAAM,EAAI,OAAS,OACxEsG,EAAK4B,IAAIzM,QAAQma,aAAa,eAAgBvD,OAAOlX,KAAKgG,sBAAsBoK,WAAWjF,EAAK7D,QAASzC,EAAO7E,KAAK0D,UACrHyH,EAAK4B,IAAIzM,QAAQma,aAAa,gBAAiBvD,OAAOlX,KAAKgG,sBAAsBuK,YAAYpF,EAAK7D,QAASzC,KAC3GsG,EAAK4B,IAAIzM,QAAQma,aAAa,KAAMza,KAAKwb,gBAAgB3W,IACzDsG,EAAK4B,IAAIzM,QAAQ+M,UAAU2F,OAAO,cAAe7H,EAAKqM,WAC1D,GAAC,CAAA3W,IAAA,oBAAAE,MACD,SAAkB8D,GACd,IAAMsG,EAAOnL,KAAK4K,MAAM/F,GAGxB,GAFAsG,EAAKmL,oBAAoBrR,UACzBkG,EAAKoL,kBAAkBtR,UACnBkG,EAAK4B,IAAK,CACV,IAAM1I,EAAWrE,KAAKqG,UAAUvF,IAAIqK,EAAK5G,YACrCF,GAAYA,EAASoS,gBACrBpS,EAASoS,eAAetL,EAAK7D,QAASzC,EAAOsG,EAAK4B,IAAIF,aAAc1B,EAAKzB,MAE7E1J,KAAKoM,MAAMsM,QAAQvN,EAAK4B,KACxB5B,EAAK4B,IAAM,IACf,CACI/M,KAAKqP,qBACLrP,KAAKgb,6BAEb,GAAC,CAAAna,IAAA,eAAAE,MACD,WAEI,OADuBf,KAAKgU,kBAAkByH,oBACxB5G,SAC1B,GAAC,CAAAhU,IAAA,eAAAE,MACD,SAAa8T,EAAW6G,GAChB1b,KAAK0R,oCACL1R,KAAK0R,kCAAkCzM,UACvCjF,KAAK0R,kCAAoC,KACzC1R,KAAKgU,kBAAkBuB,oBAAoB,CAAEK,aAAc5V,KAAK4V,gBAEpE5V,KAAKgU,kBAAkB2H,kBAAkB,CAAE9G,UAAAA,EAAW6G,eAAAA,GAC1D,GAAC,CAAA7a,IAAA,YAAAC,IACD,WACI,OAAOd,KAAK4b,cAChB,EAAC1T,IACD,SAAc2M,GACV7U,KAAK6b,aAAahH,EACtB,GAAC,CAAAhU,IAAA,eAAAC,IACD,WACI,OAAOd,KAAKyR,eAAiBzR,KAAKqP,oBAAsB,GAAK,GAAKrP,KAAKkT,sBAC3E,GACA,CAAArS,IAAA,eAAAC,IACA,WAAmB,IAAAgb,EAAA,KAAE,OAAO3U,EAAAA,GAAMX,IAAIxG,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAKM,QAAS,UAAUya,OAAO,SAAA9S,GAAC,OAAI6T,EAAKE,aAAa/T,EAAE,GAAEjI,KAAKmS,YAAc,GAAC,CAAAtR,IAAA,kBAAAC,IACxJ,WAAsB,IAAAmb,EAAA,KAAE,OAAO9U,EAAAA,GAAMX,IAAIxG,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAKM,QAAS,aAAaya,OAAO,SAAA9S,GAAC,OAAIgU,EAAKD,aAAa/T,EAAE,GAAEjI,KAAKmS,YAAc,GAAC,CAAAtR,IAAA,qBAAAC,IAC9J,WAAyB,IAAAob,EAAA,KAAE,OAAO/U,EAAAA,GAAMgV,OAAOhV,EAAAA,GAAMX,IAAIxG,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAKM,QAAS,aAAaya,OAAO,SAAA9S,GAAC,OAAIiU,EAAKF,aAAa/T,EAAE,GAAEjI,KAAKmS,cAAc,SAAAlK,GAAC,OAA8B,IAA1BA,EAAEV,aAAa6U,MAAY,GAAEpc,KAAKmS,YAAc,GAAC,CAAAtR,IAAA,cAAAC,IACnO,WAAkB,IAAAub,EAAA,KAAE,OAAOlV,EAAAA,GAAMX,IAAIxG,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAKM,QAAS,cAAcya,OAAO,SAAA9S,GAAC,OAAIoU,EAAKL,aAAa/T,EAAE,GAAEjI,KAAKmS,YAAc,GAAC,CAAAtR,IAAA,cAAAC,IAC3J,WAAkB,IAAAwb,EAAA,KAAE,OAAOnV,EAAAA,GAAMX,IAAIxG,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAKM,QAAS,cAAcya,OAAO,SAAA9S,GAAC,OAAIqU,EAAKN,aAAa/T,EAAE,GAAEjI,KAAKmS,YAAc,GAAC,CAAAtR,IAAA,aAAAC,IAC3J,WAAiB,IAAAyb,EAAA,KAAE,OAAOpV,EAAAA,GAAMX,IAAIxG,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAKM,QAAS,aAAaya,OAAO,SAAA9S,GAAC,OAAIsU,EAAKP,aAAa/T,EAAE,GAAEjI,KAAKmS,YAAc,GAAC,CAAAtR,IAAA,gBAAAC,IACzJ,WAAoB,IAAA0b,EAAA,KAAE,OAAOrV,EAAAA,GAAMsV,IAAItV,EAAAA,GAAMX,IAAIxG,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAKM,QAAS,gBAAgBya,OAAO,SAAA9S,GAAC,OAAIuU,EAAKR,aAAa/T,EAAE,GAAEjI,KAAKmS,aAAchL,EAAAA,GAAMX,IAAIxG,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAKM,QAASoU,EAAAA,EAAegI,cAAc3B,OAAO,SAAA9S,GAAC,OAAIuU,EAAKG,eAAe1U,EAAE,GAAEjI,KAAKmS,aAAe,GAAC,CAAAtR,IAAA,eAAAC,IAC1T,WAAmB,IAAA8b,EAAA,KAAE,OAAOzV,EAAAA,GAAMX,IAAIxG,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAKM,QAAS,eAAeya,OAAO,SAAA9S,GAAC,OAAI2U,EAAKC,aAAa5U,EAAE,GAAEjI,KAAKmS,YAAc,GAAC,CAAAtR,IAAA,QAAAC,IAC7J,WAAY,IAAAgc,EAAA,KAAE,OAAO3V,EAAAA,GAAMX,IAAIxG,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAKmT,cAAeuB,EAAAA,EAAeqI,MAAMhC,OAAO,SAAA9S,GAAC,OAAI6U,EAAKH,eAAe1U,EAAE,GAAEjI,KAAKmS,YAAc,GAAC,CAAAtR,IAAA,eAAAE,MACpK,SAAawG,GACT,IAAM1C,EAAQ7E,KAAKgd,4BAA4BzV,EAAawG,QAAU,MAChE5C,EAAwB,qBAAVtG,OAAwBvF,EAAYU,KAAK4K,MAAM/F,GAEnE,MAAO,CAAE0C,aAAAA,EAAc1C,MAAAA,EAAOyC,QADd6D,GAAQA,EAAK7D,QAEjC,GAAC,CAAAzG,IAAA,eAAAE,MACD,SAAawG,GACT,IAAM1C,EAAQ7E,KAAKgd,4BAA4BzV,EAAawG,QAAU,MAChE5C,EAAwB,qBAAVtG,OAAwBvF,EAAYU,KAAK4K,MAAM/F,GAEnE,MAAO,CAAE0C,aAAAA,EAAc1C,MAAAA,EAAOyC,QADd6D,GAAQA,EAAK7D,QAEjC,GAAC,CAAAzG,IAAA,iBAAAE,MACD,SAAewG,GACX,IAAM1C,EAAQ7E,KAAKgd,4BAA4BzV,EAAa0V,eAAiB,MACvE9R,EAAwB,qBAAVtG,OAAwBvF,EAAYU,KAAK4K,MAAM/F,GAEnE,MAAO,CAAE0C,aAAAA,EAAc1C,MAAAA,EAAOyC,QADd6D,GAAQA,EAAK7D,QAEjC,GAAC,CAAAzG,IAAA,cAAAE,MACD,SAAYwG,GACR,IAAM1C,EAAQ7E,KAAKgd,4BAA4BzV,EAAawG,QAAU,MAChE5C,EAAwB,qBAAVtG,OAAwBvF,EAAYU,KAAK4K,MAAM/F,GAEnE,MAAO,CAAE0C,aAAAA,EAAc1C,MAAAA,EAAOyC,QADd6D,GAAQA,EAAK7D,QAEjC,GAAC,CAAAzG,IAAA,WAAAE,MACD,SAASkH,GACL,IACI,IAAMgO,EAAsBjW,KAAKkW,eAAelW,KAAK0S,cAAe1S,KAAK2S,kBACzE3S,KAAKmB,OAAO8U,EAAqBhO,EAAE4M,UAAW5M,EAAElD,OAAQkD,EAAEiV,WAAYjV,EAAEyN,aACpE1V,KAAK8O,uBACL9O,KAAK4Y,UAAU3Q,EAAE4M,UAAW5M,EAAElD,OAAQkD,EAAEkV,kBAEhD,CACA,MAAOxT,GAEH,MADAyT,QAAQC,MAAM,wBAAyBpV,GACjC0B,CACV,CACJ,GAAC,CAAA9I,IAAA,gBAAAE,MACD,SAAcga,GACVA,EAAMuC,iBACNvC,EAAMwC,kBACNvd,KAAK6U,WAAakG,EAAMyC,YAC5B,GACA,CAAA3c,IAAA,cAAAE,MACA,SAAYuG,EAASiQ,EAAKwD,GACtB,IAAI3Z,EAAIuP,EACR,GAAKoK,EAAMlL,aAAX,CAGA,IAAM9H,EAAW/H,KAAK+O,IAAIC,gBAAgB1H,GAG1C,GAFAyT,EAAMlL,aAAa4N,cAAgB,WACnC1C,EAAMlL,aAAa6N,QAAQC,EAAAA,EAAcC,KAAMrG,GAC3CwD,EAAMlL,aAAagO,aAAc,CACjC,IAAIza,EACApD,KAAK+O,IAAI+O,eACT1a,EAAQpD,KAAK+O,IAAI+O,aAAa/V,EAAUgT,IAEvB,qBAAV3X,IACPA,EAAQ8T,OAAOnP,EAASrE,SAE5B,IAAMqa,GAAY7e,EAAAA,EAAAA,GAAE,sBACpB6e,EAAUC,YAAc5a,EACxB,IAMMxD,EANwB,SAACqI,GAC3B,KAAOA,IAAMA,EAAEoF,UAAU4Q,SAAS,qBAC9BhW,EAAIA,EAAEsF,cAEV,OAAOtF,GAAK2K,SAASsL,IACzB,CACkBC,CAAsBne,KAAKM,SAC7CV,EAAUe,YAAYod,GACtBhD,EAAMlL,aAAagO,aAAaE,GAAY,IAAK,IACjDK,YAAW,kBAAMxe,EAAU4N,YAAYuQ,EAAU,GAAE,EACvD,CACA/d,KAAKM,QAAQ+M,UAAU1J,IAAI,YAC3B3D,KAAKqe,gBAAkB,IAAI7O,EAAwBzH,GACnDwG,EAAUC,uBAAyB,IAAIiB,EAAgC1H,GAChC,QAAtC4I,GAAMvP,EAAKpB,KAAK+O,KAAKG,mBAAgC,IAAPyB,GAAyBA,EAAG2N,KAAKld,EAAIpB,KAAKqe,gBAAiBtD,EA5B1G,CA6BJ,GAAC,CAAAla,IAAA,aAAAE,MACD,SAAWga,GAAO,IACV3Z,EADUmd,EAAA,KAId,GAFAxD,EAAMxT,aAAa+V,iBACnBtd,KAAKkS,mBAAmBjN,UACpBsJ,EAAUC,wBAAyE,cAA/CD,EAAUC,uBAAuBgQ,UACrE,OAAO,EAGX,GADAxe,KAAKye,mCAAmC1D,EAAMxT,eACzCwT,EAAMxT,aAAasI,aACpB,OAAO,EAGX,IAAK7P,KAAKqe,gBACN,GAAI9P,EAAUC,uBAEVxO,KAAKqe,gBAAkB9P,EAAUC,2BAEhC,CAED,IAAKuM,EAAMxT,aAAasI,aAAaF,MACjC,OAAO,EAEX3P,KAAKqe,gBAAkB,IAAI3O,CAC/B,CAEJ,IAQIgP,EAxoBgBC,EAAIC,EAgoBlB/V,EAAS7I,KAAK+O,IAAII,WAAWnP,KAAKqe,gBAAiBtD,EAAMzT,QAASyT,EAAMlW,MAAOkW,EAAMxT,cAE3F,GADAvH,KAAKgS,QAA4B,mBAAXnJ,EAAuBA,EAASA,EAAOgW,QACxD7e,KAAKgS,QAGN,OAFAhS,KAAK8e,yBAAsBxf,EAC3BU,KAAKiS,8BAA8BhN,WAC5B,EAkBX,GAhBA8V,EAAMxT,aAAasI,aAAakP,WAAgC,mBAAXlW,GAA0C,IAAlBA,EAAOmW,OAA8C,OAAS,OAGvIN,EADkB,mBAAX7V,GAAwBA,EAAO6V,SAC3B7V,EAAO6V,SAGS,qBAAhB3D,EAAMlW,MACF,EAAE,GAGF,CAACkW,EAAMlW,OAK1B6Z,GAA4B,KAD5BA,GAAWO,EAAAA,EAAAA,IAASP,GAAUvC,QAAO,SAAA3T,GAAC,OAAIA,IAAM,GAAKA,EAAI+V,EAAK7a,MAAM,IAAEwb,MAAK,SAACjb,EAAGC,GAAC,OAAKD,EAAIC,CAAC,KACtE,GAAY,EAAE,GAAKwa,EAtpBnBC,EAupBG3e,KAAK8e,oBAvpBJF,EAupByBF,EAtpBjD1U,MAAMmV,QAAQR,IAAO3U,MAAMmV,QAAQP,IAC5Bza,EAAAA,EAAAA,IAAOwa,EAAIC,GAEfD,IAAOC,EAopBN,OAAO,EAIX,GAFA5e,KAAK8e,oBAAsBJ,EAC3B1e,KAAKiS,8BAA8BhN,WACd,IAAjByZ,EAAS,GACT1e,KAAKM,QAAQ+M,UAAU1J,IAAI,eAC3B3D,KAAKmT,cAAc9F,UAAU1J,IAAI,eACjC3D,KAAKiS,+BAAgCmN,EAAAA,EAAAA,KAAa,WAC9Cb,EAAKje,QAAQ+M,UAAUC,OAAO,eAC9BiR,EAAKpL,cAAc9F,UAAUC,OAAO,cACxC,QAEC,KAC2B+R,EAD3BC,GAAAvW,EAAAA,EAAAA,GACmB2V,GAAQ,IAA5B,IAAAY,EAAAtW,MAAAqW,EAAAC,EAAArW,KAAAC,MAA8B,KAAnBrE,EAAKwa,EAAAte,MACNoK,EAAOnL,KAAK4K,MAAM/F,GACxBsG,EAAKqM,YAAa,EACE,QAAnBpW,EAAK+J,EAAK4B,WAAwB,IAAP3L,GAAyBA,EAAGd,QAAQ+M,UAAU1J,IAAI,cAClF,CAAC,OAAAgG,GAAA2V,EAAArX,EAAA0B,EAAA,SAAA2V,EAAA1V,GAAA,CACD5J,KAAKiS,+BAAgCmN,EAAAA,EAAAA,KAAa,WAC9C,IAAIhe,EACwBme,EADrBC,GAAAzW,EAAAA,EAAAA,GACa2V,GAAQ,IAA5B,IAAAc,EAAAxW,MAAAuW,EAAAC,EAAAvW,KAAAC,MAA8B,KAAnBrE,EAAK0a,EAAAxe,MACNoK,EAAOoT,EAAK3T,MAAM/F,GACxBsG,EAAKqM,YAAa,EACE,QAAnBpW,EAAK+J,EAAK4B,WAAwB,IAAP3L,GAAyBA,EAAGd,QAAQ+M,UAAUC,OAAO,cACrF,CAAC,OAAA3D,GAAA6V,EAAAvX,EAAA0B,EAAA,SAAA6V,EAAA5V,GAAA,CACL,GACJ,CACA,OAAO,CACX,GAAC,CAAA/I,IAAA,cAAAE,MACD,SAAYga,GAAO,IACX3Z,EAAIuP,EADO8O,EAAA,KAEfzf,KAAKkS,mBAAmBjN,UACxBjF,KAAKkS,oBAAqBwN,EAAAA,EAAAA,KAAkB,kBAAMD,EAAKE,uBAAuB,GAAE,KAC5E3f,KAAKqe,kBACkC,QAAtC1N,GAAMvP,EAAKpB,KAAK+O,KAAKiG,mBAAgC,IAAPrE,GAAyBA,EAAG2N,KAAKld,EAAIpB,KAAKqe,gBAAiBtD,EAAMzT,QAASyT,EAAMlW,MAAOkW,EAAMxT,cAEpJ,GAAC,CAAA1G,IAAA,SAAAE,MACD,SAAOga,GACH,GAAK/a,KAAKgS,QAAV,CAGA,IAAM4N,EAAW5f,KAAKqe,gBACtBre,KAAK6f,wCACL7f,KAAK2f,wBACL3f,KAAKM,QAAQ+M,UAAUC,OAAO,YAC9BtN,KAAKqe,qBAAkB/e,EACvBiP,EAAUC,4BAAyBlP,EAC9BsgB,GAAa7E,EAAMxT,aAAasI,eAGrCkL,EAAMxT,aAAa+V,iBACnBsC,EAASjF,OAAOI,EAAMxT,aAAasI,cACnC7P,KAAK+O,IAAIK,KAAKwQ,EAAU7E,EAAMzT,QAASyT,EAAMlW,MAAOkW,EAAMxT,cAZ1D,CAaJ,GAAC,CAAA1G,IAAA,YAAAE,MACD,SAAUga,GACN,IAAI3Z,EAAIuP,EACR3Q,KAAKgS,SAAU,EACfhS,KAAK6f,wCACL7f,KAAK2f,wBACL3f,KAAKM,QAAQ+M,UAAUC,OAAO,YAC9BtN,KAAKqe,qBAAkB/e,EACvBiP,EAAUC,4BAAyBlP,EACE,QAApCqR,GAAMvP,EAAKpB,KAAK+O,KAAKkG,iBAA8B,IAAPtE,GAAyBA,EAAG2N,KAAKld,EAAI2Z,EACtF,GAAC,CAAAla,IAAA,wBAAAE,MACD,WACIf,KAAK8e,yBAAsBxf,EAC3BU,KAAKiS,8BAA8BhN,UACnCjF,KAAKiS,8BAAgCtN,EAAAA,GAAWC,IACpD,GACA,CAAA/D,IAAA,qCAAAE,MACA,SAAmCga,GAAO,IAAA+E,EAAA,KACtC,IAAK9f,KAAK+f,4BAA6B,CACnC,IAAMC,GAAUC,EAAAA,EAAAA,kBAAiBjgB,KAAKM,SAASga,IAC/Cta,KAAK+f,6BAA8BG,EAAAA,EAAAA,SAAQlgB,KAAKmgB,4BAA4B9P,KAAKrQ,KAAMggB,GAC3F,CACAhgB,KAAK8R,gCAAgC7M,UACrCjF,KAAK8R,iCAAkC4N,EAAAA,EAAAA,KAAkB,WACjDI,EAAKC,8BACLD,EAAKC,4BAA4B9a,UACjC6a,EAAKC,iCAA8BzgB,EAE3C,GAAG,KACHU,KAAK+R,eAAiBgJ,EAAMqF,KAChC,GAAC,CAAAvf,IAAA,8BAAAE,MACD,SAA4Bif,GACxB,QAA4B1gB,IAAxBU,KAAK+R,eAAT,CAGA,IAAMlH,EAAO7K,KAAK+R,eAAiBiO,EAC7BK,EAAargB,KAAK6Y,aAAe,GACnChO,EAAO,GACP7K,KAAK6U,WAAalJ,KAAK8J,KAAK,GAAI9J,KAAKC,MAAM,IAAOf,EAAO,MAEpDA,EAAOwV,IACZrgB,KAAK6U,WAAalJ,KAAKE,IAAI,GAAIF,KAAKC,MAAM,IAAOf,EAAOwV,KAP5D,CASJ,GAAC,CAAAxf,IAAA,wCAAAE,MACD,WACIf,KAAK8R,gCAAgC7M,UACjCjF,KAAK+f,8BACL/f,KAAK+f,4BAA4B9a,UACjCjF,KAAK+f,iCAA8BzgB,EAE3C,GACA,CAAAuB,IAAA,8BAAAE,MACA,SAA4BgN,GAGxB,IAFA,IAAMiG,EAAoBhU,KAAKgU,kBAAkBO,aAC7CjN,EAAUyG,EACPzG,aAAmBgZ,aAAehZ,IAAYtH,KAAKmT,eAAiBa,EAAkBiK,SAAS3W,IAAU,CAC5G,IAAMiZ,EAAWjZ,EAAQkZ,aAAa,cACtC,GAAID,EAAU,CACV,IAAM1b,EAAQmG,OAAOuV,GACrB,IAAKE,MAAM5b,GACP,OAAOA,CAEf,CACAyC,EAAUA,EAAQiG,aACtB,CAEJ,GAAC,CAAA1M,IAAA,iBAAAE,MACD,SAAe2Y,EAAWb,GACtB,MAAO,CACH1P,MAAOnJ,KAAKyS,SAAS3G,QAAQ4N,GAC7BtQ,IAAKpJ,KAAKyS,SAAS8G,WAAWG,EAAYb,EAAe,GAEjE,GACA,CAAAhY,IAAA,YAAAE,MAIA,SAAU2Y,EAAWb,EAAcsE,GAC/B,IAGIuD,EACAC,EAJE1K,EAAsBjW,KAAKkW,eAAewD,EAAWb,GAKvDa,IAAc1Z,KAAKsb,WAAWrF,EAAoB9M,QAClDuX,EAAqBzK,EAAoB9M,MACzCwX,EAAwB,GAEnB1K,EAAoB7M,IAAM6M,EAAoB9M,MAAQ,IAC3DuX,EAAqBzK,EAAoB9M,MAAQ,EACjDwX,EAAwB3gB,KAAKsb,WAAWoF,GAAsBhH,GAGlE,IADA,IAAIkH,EAAa,IACJ,CAGT,IAFA,IAAMlJ,EAAc1X,KAAKkW,eAAewD,EAAWb,GAC/CgI,GAAY,EACPrY,EAAIkP,EAAYvO,MAAOX,EAAIkP,EAAYtO,IAAKZ,IAAK,CACtD,IAAMqC,EAAO7K,KAAK8gB,mBAAmBtY,GACxB,IAATqC,GACA7K,KAAKyS,SAAStK,OAAOK,EAAG,EAAG,CAACxI,KAAK4K,MAAMpC,KAE3CoY,GAAc/V,EACdgW,EAAYA,GAAsB,IAAThW,CAC7B,CACA,IAAKgW,EAAW,CACO,IAAfD,GACA5gB,KAAK2Y,mCAET,IACkCoI,EAD5BC,EAAiB1X,EAAAA,EAAMyN,mBAAmBd,EAAqByB,GAAauJ,GAAAlY,EAAAA,EAAAA,GAC9DiY,GAAc,IAAlC,IAAAC,EAAAjY,MAAA+X,EAAAE,EAAAhY,KAAAC,MACI,IADgC,IAAzBd,EAAK2Y,EAAAhgB,MACHyH,EAAIJ,EAAMe,MAAOX,EAAIJ,EAAMgB,IAAKZ,IACjCxI,KAAK4K,MAAMpC,GAAGuE,KACd/M,KAAK+X,kBAAkBvP,EAGlC,OAAAmB,GAAAsX,EAAAhZ,EAAA0B,EAAA,SAAAsX,EAAArX,GAAA,CACD,IACgCsX,EAD1BC,EAAe7X,EAAAA,EAAMyN,mBAAmBW,EAAazB,GAAqBmL,GAAArY,EAAAA,EAAAA,GAC5DoY,GAAY,IAAhC,IAAAC,EAAApY,MAAAkY,EAAAE,EAAAnY,KAAAC,MACI,IAD8B,IAAvBd,EAAK8Y,EAAAngB,MACHyH,EAAIJ,EAAMe,MAAOX,EAAIJ,EAAMgB,IAAKZ,IAAK,CAC1C,IAAM6Y,EAAa7Y,EAAI,EACjB8Y,EAAYD,EAAarhB,KAAK4K,MAAMlH,OAAS1D,KAAK4K,MAAMyW,GAAYtU,IAAM,KAC1EmL,EAAgBoJ,EAAYA,EAAUhhB,QAAU,KACtDN,KAAKoY,gBAAgB5P,EAAG0P,EAC5B,CACH,OAAAvO,GAAAyX,EAAAnZ,EAAA0B,EAAA,SAAAyX,EAAAxX,GAAA,CACD,IAAK,IAAIpB,EAAIkP,EAAYvO,MAAOX,EAAIkP,EAAYtO,IAAKZ,IAC7CxI,KAAK4K,MAAMpC,GAAGuE,KACd/M,KAAK6X,gBAAgB7X,KAAK4K,MAAMpC,GAAIA,GAG5C,GAAkC,kBAAvBkY,EAAiC,CAMxC,IAAMa,EAAiBvhB,KAAKyT,WAAW+N,0BAA0B3M,UAAY6E,EACvE+H,EAAezhB,KAAKsb,WAAWoF,GAAsBC,EAAwBY,EACnFvhB,KAAK6b,aAAa4F,EAActE,EACpC,CAEA,YADAnd,KAAKqS,0BAA0B0D,KAAK/V,KAAKgW,cAE7C,CACJ,CACJ,GAAC,CAAAnV,IAAA,qBAAAE,MACD,SAAmB8D,GACf,IAAIzD,EAAIuP,EAAIC,EACNzF,EAAOnL,KAAK4K,MAAM/F,GACxB,GAAM7E,KAAKoG,gBAAgBsb,iBAAkB,CACzC,IAAMhW,EAAU1L,KAAKoG,gBAAgBsb,iBAAiBvW,EAAK7D,SAC3D,GAAgB,OAAZoE,EAAkB,CAClB,IAAMhC,EAAOyB,EAAKzB,KAGlB,OAFAyB,EAAKzB,KAAOgC,EACZP,EAAKmM,uBAAyBtX,KAAKwR,YAC5B9F,EAAUhC,CACrB,CACJ,CACA,IAAKyB,EAAKkM,kBAAoBlM,EAAKmM,yBAA2BtX,KAAKwR,YAC/D,OAAO,EAEX,GAAMxR,KAAKoG,gBAAgBiR,mBAAqBrX,KAAKoG,gBAAgBiR,iBAAiBlM,EAAK7D,SACvF,OAAO,EAEX,IAAMoC,EAAOyB,EAAKzB,KAClB,GAAIyB,EAAK4B,IAIL,OAHA5B,EAAK4B,IAAIzM,QAAQE,MAAMuE,OAAS,GAChCoG,EAAKzB,KAAOyB,EAAK4B,IAAIzM,QAAQqhB,aAC7BxW,EAAKmM,uBAAyBtX,KAAKwR,YAC5BrG,EAAKzB,KAAOA,EAEvB,IAAQqD,EAAQ/M,KAAKoM,MAAMmO,MAAMpP,EAAK5G,YAA9BwI,IACRA,EAAIzM,QAAQE,MAAMuE,OAAS,GAC3B/E,KAAKmT,cAAcxS,YAAYoM,EAAIzM,SACnC,IAAM+D,EAAWrE,KAAKqG,UAAUvF,IAAIqK,EAAK5G,YACzC,IAAKF,EACD,MAAM,IAAIud,EAAAA,GAAmB,oCAAsCzW,EAAK5G,YAS5E,OAPAF,EAASe,cAAc+F,EAAK7D,QAASzC,EAAOkI,EAAIF,kBAAcvN,GAC9D6L,EAAKzB,KAAOqD,EAAIzM,QAAQqhB,aACW,QAAlCvgB,EAAKiD,EAASoS,sBAAmC,IAAPrV,GAAyBA,EAAGkd,KAAKja,EAAU8G,EAAK7D,QAASzC,EAAOkI,EAAIF,kBAAcvN,GACrE,QAAvDsR,GAAMD,EAAK3Q,KAAKoG,iBAAiByb,wBAAqC,IAAPjR,GAAyBA,EAAG0N,KAAK3N,EAAIxF,EAAK7D,QAAS6D,EAAKzB,MACxHyB,EAAKmM,uBAAyBtX,KAAKwR,YACnCxR,KAAKmT,cAAc3F,YAAYT,EAAIzM,SACnCN,KAAKoM,MAAMsM,QAAQ3L,GACZ5B,EAAKzB,KAAOA,CACvB,GAAC,CAAA7I,IAAA,uBAAAE,MACD,SAAqB+gB,GACjB,IAAMC,EAAYD,EAAOA,EAAOpe,OAAS,GACzC,IAAKqe,EACD,OAAO,KAEX,IAAMC,EAAiBhiB,KAAK4K,MAAMmX,EAAU3Y,KAC5C,OAAK4Y,GAGAA,EAAejV,IAGbiV,EAAejV,IAAIzM,QALf,IAMf,GAAC,CAAAO,IAAA,kBAAAE,MACD,SAAgB8D,GACZ,MAAO,GAAPb,OAAUhE,KAAKsR,MAAK,KAAAtN,OAAIa,EAC5B,GACA,CAAAhE,IAAA,UAAAE,MACA,WACI,IAAIK,EACJ,GAAIpB,KAAK4K,MAAO,KACiBqX,EADjBC,GAAAnZ,EAAAA,EAAAA,GACO/I,KAAK4K,OAAK,IAA7B,IAAAsX,EAAAlZ,MAAAiZ,EAAAC,EAAAjZ,KAAAC,MAA+B,KAApBiC,EAAI8W,EAAAlhB,MACX,GAAIoK,EAAK4B,IAAK,CACV,IAAM1I,EAAWrE,KAAKqG,UAAUvF,IAAIqK,EAAK4B,IAAIxI,YACzCF,IACmC,QAAlCjD,EAAKiD,EAASoS,sBAAmC,IAAPrV,GAAyBA,EAAGkd,KAAKja,EAAU8G,EAAK7D,SAAU,EAAG6D,EAAK4B,IAAIF,kBAAcvN,GAC/H+E,EAASyB,gBAAgBqF,EAAK4B,IAAIF,cAE1C,CACJ,CAAC,OAAAlD,GAAAuY,EAAAja,EAAA0B,EAAA,SAAAuY,EAAAtY,GAAA,CACD5J,KAAK4K,MAAQ,EACjB,CACI5K,KAAKM,SAAWN,KAAKM,QAAQ6hB,YAC7BniB,KAAKM,QAAQ6hB,WAAW3U,YAAYxN,KAAKM,UAE7C2E,EAAAA,EAAAA,IAAQjF,KAAKmS,YACjB,KAACzB,CAAA,CA93BS,GAg4BdA,EAASa,cAAgB,EACzB1D,EAAW,CACPuU,EAAAA,GACD1R,EAAS2R,UAAW,eAAgB,MACvCxU,EAAW,CACPuU,EAAAA,GACD1R,EAAS2R,UAAW,kBAAmB,MAC1CxU,EAAW,CACPuU,EAAAA,GACD1R,EAAS2R,UAAW,qBAAsB,MAC7CxU,EAAW,CACPuU,EAAAA,GACD1R,EAAS2R,UAAW,cAAe,MACtCxU,EAAW,CACPuU,EAAAA,GACD1R,EAAS2R,UAAW,cAAe,MACtCxU,EAAW,CACPuU,EAAAA,GACD1R,EAAS2R,UAAW,aAAc,MACrCxU,EAAW,CACPuU,EAAAA,GACD1R,EAAS2R,UAAW,gBAAiB,MACxCxU,EAAW,CACPuU,EAAAA,GACD1R,EAAS2R,UAAW,eAAgB,MACvCxU,EAAW,CACPuU,EAAAA,GACD1R,EAAS2R,UAAW,QAAS,K,gbC5hCnBC,EAAkB,WAC3B,SAAAA,EAAYC,IAAaxiB,EAAAA,EAAAA,GAAA,KAAAuiB,GACrBtiB,KAAKuiB,YAAcA,CACvB,CAGC,OAHA3hB,EAAAA,EAAAA,GAAA0hB,EAAA,EAAAzhB,IAAA,SAAAE,MACD,SAAOoI,EAAOwB,EAAa5C,GACvB/H,KAAKuiB,YAAY7U,SAAQ,SAAA1E,GAAC,OAAIA,EAAEb,OAAOgB,EAAOwB,EAAa5C,EAAS,GACxE,KAACua,CAAA,CAN0B,G,4GCAlBE,G,SAAS,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GAClB,SAAAA,EAAYrc,EAAM0c,GAAS,OAAA9iB,EAAAA,EAAAA,GAAA,KAAAyiB,GAAAG,EAAArE,KAAA,mBAAAta,OACHmC,EAAI,MAAAnC,OAAK6e,GACjC,CAAC,OAAAjiB,EAAAA,EAAAA,GAAA4hB,EAAA,CAHiB,EAGjBM,E,SAAAA,GAH0B3V,S,WCA3BU,EAA0C,SAAUC,EAAYC,EAAQlN,EAAKmN,GAC7E,IAA2HC,EAAvHC,EAAIzK,UAAUC,OAAQ+C,EAAIyH,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAO7N,OAAOgO,yBAAyBJ,EAAQlN,GAAOmN,EACrH,GAAuB,kBAAZI,SAAoD,oBAArBA,QAAQC,SAAyB5H,EAAI2H,QAAQC,SAASP,EAAYC,EAAQlN,EAAKmN,QACpH,IAAK,IAAIxF,EAAIsF,EAAWpK,OAAS,EAAG8E,GAAK,EAAGA,KAASyF,EAAIH,EAAWtF,MAAI/B,GAAKyH,EAAI,EAAID,EAAExH,GAAKyH,EAAI,EAAID,EAAEF,EAAQlN,EAAK4F,GAAKwH,EAAEF,EAAQlN,KAAS4F,GAChJ,OAAOyH,EAAI,GAAKzH,GAAKtG,OAAOmO,eAAeP,EAAQlN,EAAK4F,GAAIA,CAChE,EACIsc,EAAwC,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAU5d,EAAS6d,GAC/C,SAASC,EAAUviB,GAAS,IAAMwiB,EAAKJ,EAAUK,KAAKziB,GAAS,CAAE,MAAOkH,GAAKob,EAAOpb,EAAI,CAAE,CAC1F,SAASwb,EAAS1iB,GAAS,IAAMwiB,EAAKJ,EAAiB,MAAEpiB,GAAS,CAAE,MAAOkH,GAAKob,EAAOpb,EAAI,CAAE,CAC7F,SAASsb,EAAK1a,GAJlB,IAAe9H,EAIa8H,EAAOK,KAAO1D,EAAQqD,EAAO9H,QAJ1CA,EAIyD8H,EAAO9H,MAJhDA,aAAiBmiB,EAAIniB,EAAQ,IAAImiB,GAAE,SAAU1d,GAAWA,EAAQzE,EAAQ,KAIjB6E,KAAK0d,EAAWG,EAAW,CAC7GF,GAAMJ,EAAYA,EAAUpT,MAAMiT,EAASC,GAAc,KAAKO,OAClE,GACJ,EAoBME,EAAa,WACf,SAAAA,EAAYC,IAAO5jB,EAAAA,EAAAA,GAAA,KAAA2jB,GACf1jB,KAAK2jB,MAAQA,EACb3jB,KAAK4jB,iBAAmB,EAC5B,CAgDC,OAhDAhjB,EAAAA,EAAAA,GAAA8iB,EAAA,EAAA7iB,IAAA,aAAAC,IACD,WACI,MAAO,YAAPkD,OAAmBhE,KAAK2jB,MAAME,KAClC,GAAC,CAAAhjB,IAAA,iBAAAE,MACD,SAAenB,GACX,OAAOA,CACX,GAAC,CAAAiB,IAAA,gBAAAE,MACD,SAAcuG,EAASzC,EAAOgI,GAC1B,IAAMiX,EAAuB9jB,KAAK4jB,iBAAiBG,WAAU,SAAAC,GAAE,OAAIA,EAAGnX,eAAiBA,CAAY,IACnG,GAAIiX,GAAwB,EAAG,CAC3B,IAAMG,EAAWjkB,KAAK4jB,iBAAiBE,GACvC9jB,KAAK2jB,MAAMO,SAASrX,GACpBoX,EAASpf,MAAQA,CACrB,KACK,CACD,IAAMof,EAAW,CAAEpf,MAAAA,EAAOgI,aAAAA,GAC1B7M,KAAK4jB,iBAAiBna,KAAKwa,EAC/B,CACAjkB,KAAK2jB,MAAMQ,YAAYtf,EAAOgI,EAClC,GAAC,CAAAhM,IAAA,SAAAE,MACD,SAAOoI,EAAOwB,EAAayZ,GACvB,IACmDxb,EAD7Cqb,EAAW,GAAGnb,GAAAC,EAAAA,EAAAA,GACU/I,KAAK4jB,kBAAgB,IAAnD,IAAA9a,EAAAE,MAAAJ,EAAAE,EAAAG,KAAAC,MAAqD,KAA1Cmb,EAAezb,EAAA7H,MAClBsjB,EAAgBxf,MAAQsE,EACxB8a,EAASxa,KAAK4a,GAETA,EAAgBxf,OAASsE,EAAQwB,GACtCsZ,EAASxa,KAAK,CACV5E,MAAOwf,EAAgBxf,MAAQuf,EAAczZ,EAC7CkC,aAAcwX,EAAgBxX,cAG1C,CAAC,OAAAlD,GAAAb,EAAAb,EAAA0B,EAAA,SAAAb,EAAAc,GAAA,CACD5J,KAAK4jB,iBAAmBK,CAC5B,GAAC,CAAApjB,IAAA,gBAAAE,MACD,SAAciH,GAAS,IACwCkC,EADxCE,GAAArB,EAAAA,EAAAA,GACmB/I,KAAK4jB,kBAAgB,IAA3D,IAAAxZ,EAAApB,MAAAkB,EAAAE,EAAAnB,KAAAC,MAA6D,KAAAob,EAAApa,EAAAnJ,MAAhD8D,EAAKyf,EAALzf,MAAOgI,EAAYyX,EAAZzX,aACZ7E,EAAQuc,QAAQ1f,IAAU,GAC1B7E,KAAK2jB,MAAMQ,YAAYtf,EAAOgI,EAEtC,CAAC,OAAAlD,GAAAS,EAAAnC,EAAA0B,EAAA,SAAAS,EAAAR,GAAA,CACL,GAAC,CAAA/I,IAAA,kBAAAE,MACD,SAAgB8L,GACZ,IAAMhI,EAAQ7E,KAAK4jB,iBAAiBG,WAAU,SAAAC,GAAE,OAAIA,EAAGnX,eAAiBA,CAAY,IAChFhI,EAAQ,GAGZ7E,KAAK4jB,iBAAiBzb,OAAOtD,EAAO,EACxC,KAAC6e,CAAA,CApDc,GAsDbc,EAAK,WAKP,SAAAA,EAAYC,IAAQ1kB,EAAAA,EAAAA,GAAA,KAAAykB,GAChBxkB,KAAKykB,OAASA,EACdzkB,KAAK0D,OAAS,EACd1D,KAAKgI,QAAU,GACfhI,KAAK0kB,cAAgB,GACrB1kB,KAAK2kB,UAAY,IAAIrS,EAAAA,GACrBtS,KAAK4kB,SAAW5kB,KAAK2kB,UAAU5J,KACnC,CAqDC,OArDAna,EAAAA,EAAAA,GAAA4jB,EAAA,EAAA3jB,IAAA,OAAAC,IAXD,WAAa,OAAOd,KAAKykB,MAAQ,GAAC,CAAA5jB,IAAA,WAAAC,IAClC,WACI,OAAO,IAAI4iB,EAAc1jB,KAC7B,GAAC,CAAAa,IAAA,SAAAE,MASD,SAAOoI,EAAOwB,EAAa5C,GACvB,IAAI3G,EACJuJ,EAAcgB,KAAK8J,IAAI,EAAG9J,KAAKE,IAAIlB,EAAa3K,KAAK0D,OAASyF,IAC9D,IAAM0B,EAAO9C,EAASrE,OAASiH,EACzBvB,EAAMD,EAAQwB,EACd+Z,EAAgB,GAAH1gB,QAAAgM,EAAAA,EAAAA,GACZhQ,KAAK0kB,cAAcvI,QAAO,SAAA3T,GAAC,OAAIA,EAAIW,CAAK,MAAC6G,EAAAA,EAAAA,GACzCjI,EAASvB,KAAI,SAACqe,EAAUrc,GAAC,OAAKqc,EAAWrc,EAAIW,GAAS,CAAC,IAAEgT,QAAO,SAAA3T,GAAC,OAAW,IAAPA,CAAQ,MAACwH,EAAAA,EAAAA,GAC9EhQ,KAAK0kB,cAAcvI,QAAO,SAAA3T,GAAC,OAAIA,GAAKY,CAAG,IAAE5C,KAAI,SAAAgC,GAAC,OAAIA,EAAIqC,CAAI,MAE3DnH,EAAS1D,KAAK0D,OAASmH,EAC7B,GAAI7K,KAAK0kB,cAAchhB,OAAS,GAA8B,IAAzBghB,EAAchhB,QAAgBA,EAAS,EAAG,CAC3E,IAAMohB,EAAoE,QAA3D1jB,EAAKpB,KAAK0kB,cAAcK,MAAK,SAAAlgB,GAAK,OAAIA,GAASsE,CAAK,WAAsB,IAAP/H,EAAgBA,EAAKsC,EAAS,EAChHghB,EAAcjb,KAAKkC,KAAKE,IAAIiZ,EAAOphB,EAAS,GAChD,CACA1D,KAAKqE,SAAS8D,OAAOgB,EAAOwB,EAAa5C,EAASrE,QAClD1D,KAAKglB,KAAKN,EAAeA,GACzB1kB,KAAK0D,OAASA,CAClB,GAAC,CAAA7C,IAAA,cAAAE,MACD,SAAY8D,EAAOjF,GACfA,EAAUyN,UAAU2F,OAAOhT,KAAKykB,OAAQzkB,KAAKie,SAASpZ,GAC1D,GAAC,CAAAhE,IAAA,WAAAE,MACD,SAASnB,GACLA,EAAUyN,UAAUC,OAAOtN,KAAKykB,OACpC,GACA,CAAA5jB,IAAA,MAAAE,MAMA,SAAIiH,EAAST,GACT,OAAOvH,KAAKglB,KAAKhd,GAASgI,EAAAA,EAAAA,GAAIhI,GAASkX,KAAK+F,GAAc1d,EAC9D,GAAC,CAAA1G,IAAA,OAAAE,MACD,SAAKiH,EAAS0c,EAAend,GACzB,IAAMsB,EAAS7I,KAAKgI,QACdkd,EAAellB,KAAK0kB,cAC1B1kB,KAAKgI,QAAUA,EACfhI,KAAK0kB,cAAgBA,EACrB,IAAMS,EAAWC,EAAYF,EAAcld,GAG3C,OAFAhI,KAAKqE,SAASghB,cAAcF,GAC5BnlB,KAAK2kB,UAAU5O,KAAK,CAAE/N,QAAAA,EAAST,aAAAA,IACxBsB,CACX,GAAC,CAAAhI,IAAA,MAAAE,MACD,WACI,OAAOf,KAAKgI,OAChB,GAAC,CAAAnH,IAAA,WAAAE,MACD,SAAS8D,GACL,OAAOygB,EAAAA,EAAAA,IAAatlB,KAAK0kB,cAAe7f,EAAOogB,IAAgB,CACnE,GAAC,CAAApkB,IAAA,UAAAE,MACD,YACIkE,EAAAA,EAAAA,IAAQjF,KAAK2kB,UACjB,KAACH,CAAA,CAjEM,GAmEX3W,EAAW,CACPuU,EAAAA,GACDoC,EAAMnC,UAAW,WAAY,MAAM,IAChCkD,EAAc,SAAAC,IAAA9C,EAAAA,EAAAA,GAAA6C,EAAAC,GAAA,IAAA7C,GAAAC,EAAAA,EAAAA,GAAA2C,GAChB,SAAAA,EAAYE,GAAiB,IAAAzgB,EAEc,OAFdjF,EAAAA,EAAAA,GAAA,KAAAwlB,IACzBvgB,EAAA2d,EAAArE,KAAA,KAAM,aACDmH,gBAAkBA,EAAgBzgB,CAC3C,CAWC,OAXApE,EAAAA,EAAAA,GAAA2kB,EAAA,EAAA1kB,IAAA,cAAAE,MACD,SAAY8D,EAAOjF,IACf8lB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAJ,EAAAlD,WAAA,oBAAA/D,KAAA,KAAkBzZ,EAAOjF,GACrBI,KAAKylB,kBACDzlB,KAAKie,SAASpZ,GACdjF,EAAU6a,aAAa,gBAAiB,QAGxC7a,EAAU6a,aAAa,gBAAiB,SAGpD,KAAC8K,CAAA,CAfe,CAASf,GAsBvBoB,EAAe,WACjB,SAAAA,EAAYjC,EAAOkC,EAAMC,IAAkB/lB,EAAAA,EAAAA,GAAA,KAAA6lB,GACvC5lB,KAAK2jB,MAAQA,EACb3jB,KAAK6lB,KAAOA,EACZ7lB,KAAK8lB,iBAAmBA,CAC5B,CAQC,OARAllB,EAAAA,EAAAA,GAAAglB,EAAA,EAAA/kB,IAAA,SAAAE,MACD,SAAOoI,EAAOwB,EAAa5C,GAAU,IAAAzB,EAAA,KACjC,IAAKtG,KAAK8lB,iBACN,OAAO9lB,KAAK2jB,MAAMxb,OAAOgB,EAAOwB,EAAa5C,EAASvB,KAAI,kBAAM,CAAK,KAEzE,IAAMuf,EAAwB/lB,KAAK2jB,MAAM7iB,MAAM0F,KAAI,SAAAgC,GAAC,OAAIlC,EAAKwf,iBAAiBE,MAAM1f,EAAKuf,KAAKve,QAAQkB,IAAIyd,UAAU,IAC9GC,EAAoBne,EAASvB,KAAI,SAAAyB,GAAC,OAAI8d,EAAsBxB,QAAQje,EAAKwf,iBAAiBE,MAAM/d,GAAGge,aAAe,CAAC,IACzHjmB,KAAK2jB,MAAMxb,OAAOgB,EAAOwB,EAAaub,EAC1C,KAACN,CAAA,CAbgB,GAed,SAASO,EAAele,GAC3B,MAAqB,UAAdA,EAAEme,SAAqC,aAAdne,EAAEme,OACtC,CACO,SAASC,EAAepe,GAC3B,QAAIA,EAAEoF,UAAU4Q,SAAS,mBAGrBhW,EAAEoF,UAAU4Q,SAAS,mBAGpBhW,EAAEsF,eAGA8Y,EAAepe,EAAEsF,eAC5B,CACO,SAAS+Y,EAASre,GACrB,SAAmB,MAAdA,EAAEme,SAAmBne,EAAEoF,UAAU4Q,SAAS,kBAC5B,QAAdhW,EAAEme,SAAqBne,EAAEoF,UAAU4Q,SAAS,6BAG7ChW,EAAEoF,UAAU4Q,SAAS,mBAGpBhW,EAAEsF,eAGA+Y,EAASre,EAAEsF,eACtB,CAAC,IA+FUgZ,EAKPC,EAnGEC,EAAkB,WAMpB,SAAAA,EAAY/f,EAAMmf,EAAM/lB,IAASC,EAAAA,EAAAA,GAAA,KAAA0mB,GAC7BzmB,KAAK0G,KAAOA,EACZ1G,KAAK6lB,KAAOA,EACZ7lB,KAAKmS,YAAc,IAAIC,EAAAA,GACvBpS,KAAK0mB,6BAA+B,IAAItU,EAAAA,GACxCpS,KAAK2mB,UAAUxK,QAAO,SAAAlU,GAAC,OAAkB,IAAdA,EAAE9E,OAAa,IAAsByjB,GAAG5mB,KAAK6mB,QAAS7mB,KAAMA,KAAKmS,aAC5FnS,KAAK2mB,UAAUxK,QAAO,SAAAlU,GAAC,OAAkB,KAAdA,EAAE9E,OAAc,IAAwByjB,GAAG5mB,KAAK8mB,UAAW9mB,KAAMA,KAAKmS,aACjGnS,KAAK2mB,UAAUxK,QAAO,SAAAlU,GAAC,OAAkB,KAAdA,EAAE9E,OAAc,IAA0ByjB,GAAG5mB,KAAK+mB,YAAa/mB,KAAMA,KAAKmS,aACrGnS,KAAK2mB,UAAUxK,QAAO,SAAAlU,GAAC,OAAkB,KAAdA,EAAE9E,OAAc,IAAuByjB,GAAG5mB,KAAKgnB,cAAehnB,KAAMA,KAAKmS,aACpGnS,KAAK2mB,UAAUxK,QAAO,SAAAlU,GAAC,OAAkB,KAAdA,EAAE9E,OAAc,IAAyByjB,GAAG5mB,KAAKinB,gBAAiBjnB,KAAMA,KAAKmS,aACxGnS,KAAK2mB,UAAUxK,QAAO,SAAAlU,GAAC,OAAkB,IAAdA,EAAE9E,OAAa,IAAuByjB,GAAG5mB,KAAKknB,SAAUlnB,KAAMA,KAAKmS,cACrD,IAArCrS,EAAQqnB,0BACRnnB,KAAK2mB,UAAUxK,QAAO,SAAAlU,GAAC,OAAKmf,EAAAA,GAAuBnf,EAAEhF,QAAUgF,EAAEtF,UAA0B,KAAdsF,EAAE9E,OAAc,IAAqByjB,GAAG5mB,KAAKqnB,QAASrnB,KAAMA,KAAK0mB,6BAEtJ,CAqEC,OArEA9lB,EAAAA,EAAAA,GAAA6lB,EAAA,EAAA5lB,IAAA,YAAAC,IAnBD,WACI,OAAOd,KAAKmS,YAAYxO,IAAIwD,EAAAA,GAAMmgB,MAAMtnB,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAK6lB,KAAKvlB,QAAS,YAAYya,OACtGoB,QAAO,SAAAlU,GAAC,OAAKke,EAAele,EAAE8F,OAAO,IACrCvH,KAAI,SAAAyB,GAAC,OAAI,IAAIsf,EAAAA,EAAsBtf,EAAE,IAC9C,GAAC,CAAApH,IAAA,gBAAAE,MAgBD,SAAcymB,QACqCloB,IAA3CkoB,EAAcL,2BACdnnB,KAAK0mB,6BAA6BrlB,QAC9BmmB,EAAcL,0BACdnnB,KAAK2mB,UAAUxK,QAAO,SAAAlU,GAAC,OAAKmf,EAAAA,GAAuBnf,EAAEhF,QAAUgF,EAAEtF,UAA0B,KAAdsF,EAAE9E,OAAc,IAAqByjB,GAAG5mB,KAAKqnB,QAASrnB,KAAMA,KAAK0mB,8BAG1J,GAAC,CAAA7lB,IAAA,UAAAE,MACD,SAAQkH,GACJA,EAAEqV,iBACFrV,EAAEsV,kBACFvd,KAAK0G,KAAK+gB,aAAaznB,KAAK0G,KAAK2B,WAAYJ,EAAEV,aACnD,GAAC,CAAA1G,IAAA,YAAAE,MACD,SAAUkH,GACNA,EAAEqV,iBACFrV,EAAEsV,kBACFvd,KAAK0G,KAAKghB,cAAc,GAAG,EAAOzf,EAAEV,cACpC,IAAMyc,EAAKhkB,KAAK0G,KAAK2B,WAAW,GAChCrI,KAAK0G,KAAKihB,UAAU3D,GACpBhkB,KAAK0G,KAAKkhB,OAAO5D,GACjBhkB,KAAK6lB,KAAKvlB,QAAQunB,OACtB,GAAC,CAAAhnB,IAAA,cAAAE,MACD,SAAYkH,GACRA,EAAEqV,iBACFrV,EAAEsV,kBACFvd,KAAK0G,KAAKohB,UAAU,GAAG,EAAO7f,EAAEV,cAChC,IAAMyc,EAAKhkB,KAAK0G,KAAK2B,WAAW,GAChCrI,KAAK0G,KAAKihB,UAAU3D,GACpBhkB,KAAK0G,KAAKkhB,OAAO5D,GACjBhkB,KAAK6lB,KAAKvlB,QAAQunB,OACtB,GAAC,CAAAhnB,IAAA,gBAAAE,MACD,SAAckH,GACVA,EAAEqV,iBACFrV,EAAEsV,kBACFvd,KAAK0G,KAAKqhB,kBAAkB9f,EAAEV,cAC9B,IAAMyc,EAAKhkB,KAAK0G,KAAK2B,WAAW,GAChCrI,KAAK0G,KAAKihB,UAAU3D,GACpBhkB,KAAK0G,KAAKkhB,OAAO5D,GACjBhkB,KAAK6lB,KAAKvlB,QAAQunB,OACtB,GAAC,CAAAhnB,IAAA,kBAAAE,MACD,SAAgBkH,GACZA,EAAEqV,iBACFrV,EAAEsV,kBACFvd,KAAK0G,KAAKshB,cAAc/f,EAAEV,cAC1B,IAAMyc,EAAKhkB,KAAK0G,KAAK2B,WAAW,GAChCrI,KAAK0G,KAAKihB,UAAU3D,GACpBhkB,KAAK0G,KAAKkhB,OAAO5D,GACjBhkB,KAAK6lB,KAAKvlB,QAAQunB,OACtB,GAAC,CAAAhnB,IAAA,UAAAE,MACD,SAAQkH,GACJA,EAAEqV,iBACFrV,EAAEsV,kBACFvd,KAAK0G,KAAK+gB,cAAarf,EAAAA,EAAAA,IAAMpI,KAAK0G,KAAKhD,QAASuE,EAAEV,cAClDvH,KAAK0G,KAAKihB,eAAUroB,GACpBU,KAAK6lB,KAAKvlB,QAAQunB,OACtB,GAAC,CAAAhnB,IAAA,WAAAE,MACD,SAASkH,GACDjI,KAAK0G,KAAK4B,eAAe5E,SACzBuE,EAAEqV,iBACFrV,EAAEsV,kBACFvd,KAAK0G,KAAK+gB,aAAa,GAAIxf,EAAEV,cAC7BvH,KAAK0G,KAAKihB,eAAUroB,GACpBU,KAAK6lB,KAAKvlB,QAAQunB,QAE1B,GAAC,CAAAhnB,IAAA,UAAAE,MACD,WACIf,KAAKmS,YAAYlN,UACjBjF,KAAK0mB,6BAA6BzhB,SACtC,KAACwhB,CAAA,CAzFmB,GA2FxB5Y,EAAW,CACPuU,EAAAA,GACDqE,EAAmBpE,UAAW,YAAa,MAE9C,SAAWkE,GACPA,EAAmBA,EAA8B,UAAI,GAAK,YAC1DA,EAAmBA,EAA4B,QAAI,GAAK,SAC3D,CAHD,CAGGA,IAAuBA,EAAqB,CAAC,IAEhD,SAAWC,GACPA,EAA8BA,EAAoC,KAAI,GAAK,OAC3EA,EAA8BA,EAAsC,OAAI,GAAK,QAChF,CAHD,CAGGA,IAAkCA,EAAgC,CAAC,IAC/D,IAAMyB,EAAoC,wBAAAC,KAAAnoB,EAAAA,EAAAA,GAAA,KAAAmoB,EAAA,CAS5C,OAT4CtnB,EAAAA,EAAAA,GAAAsnB,EAAA,EAAArnB,IAAA,iCAAAE,MAC7C,SAA+Bga,GAC3B,QAAIA,EAAMpY,SAAWoY,EAAM9X,SAAW8X,EAAM/X,UAGpC+X,EAAM5X,SAAW,IAAyB4X,EAAM5X,SAAW,IAC3D4X,EAAM5X,SAAW,IAA2B4X,EAAM5X,SAAW,IAC7D4X,EAAM5X,SAAW,IAA4B4X,EAAM5X,SAAW,KAC9D4X,EAAM5X,SAAW,IAA8B4X,EAAM5X,SAAW,GAC5E,KAAC+kB,CAAA,CATgD,IAW/CC,EAAwB,WAC1B,SAAAA,EAAYzhB,EAAMmf,EAAMuC,EAAiCC,EAA+BC,IAAUvoB,EAAAA,EAAAA,GAAA,KAAAooB,GAC9FnoB,KAAK0G,KAAOA,EACZ1G,KAAK6lB,KAAOA,EACZ7lB,KAAKooB,gCAAkCA,EACvCpoB,KAAKqoB,8BAAgCA,EACrCroB,KAAKsoB,SAAWA,EAChBtoB,KAAKuoB,SAAU,EACfvoB,KAAKwoB,MAAQhC,EAA8BiC,KAC3CzoB,KAAK0oB,KAAOnC,EAAmBoC,UAC/B3oB,KAAK4oB,WAAY,EACjB5oB,KAAK6oB,mBAAqB,EAC1B7oB,KAAK8oB,mBAAqB,IAAI1W,EAAAA,GAC9BpS,KAAKmS,YAAc,IAAIC,EAAAA,GACvBpS,KAAK8G,cAAcJ,EAAK5G,QAC5B,CAiFC,OAjFAc,EAAAA,EAAAA,GAAAunB,EAAA,EAAAtnB,IAAA,gBAAAE,MACD,SAAcjB,GACV,IAAIsB,EAAIuP,EACqC,QAAxCvP,EAAKtB,EAAQipB,6BAA0C,IAAP3nB,GAAgBA,EACjEpB,KAAKgpB,SAGLhpB,KAAKipB,UAETjpB,KAAK0oB,KAA6C,QAArC/X,EAAK7Q,EAAQopB,0BAAuC,IAAPvY,EAAgBA,EAAK4V,EAAmBoC,SACtG,GAAC,CAAA9nB,IAAA,SAAAE,MACD,WAAS,IAAAmG,EAAA,KACL,IAAIlH,KAAKuoB,QAAT,CAGA,IAAIY,GAAS,EACPC,EAASppB,KAAK8oB,mBAAmBnlB,IAAIwD,EAAAA,GAAMmgB,MAAMtnB,KAAK8oB,mBAAmBnlB,IAAI,IAAIoY,EAAAA,EAAW/b,KAAK6lB,KAAKvlB,QAAS,YAAYya,QAC5HoB,QAAO,SAAAlU,GAAC,OAAKke,EAAele,EAAE8F,OAAO,IACrCoO,QAAO,kBAAMjV,EAAKwhB,OAASnC,EAAmBoC,WAAazhB,EAAK0hB,SAAS,IACzEpiB,KAAI,SAAAuU,GAAK,OAAI,IAAIwM,EAAAA,EAAsBxM,EAAM,IAC7CoB,QAAO,SAAAlU,GAAC,OAAIkhB,GAAUjiB,EAAKmhB,8BAA8BpgB,EAAE,IAC3DkU,QAAO,SAAAlU,GAAC,OAAIf,EAAKohB,SAASe,+BAA+BphB,EAAE,IAC3DyF,SAAQ,SAAAzF,GAAC,OAAIqhB,EAAAA,YAAYC,KAAKthB,GAAG,EAAK,IACtCzB,KAAI,SAAAuU,GAAK,OAAIA,EAAMxT,aAAa1G,GAAG,IACnCka,MACCyO,EAAUriB,EAAAA,GAAMsiB,SAASL,GAAQ,kBAAM,IAAI,GAAE,SAAK9pB,OAAWA,OAAWA,EAAWU,KAAK8oB,oBAC9E3hB,EAAAA,GAAMoD,OAAOpD,EAAAA,GAAMsV,IAAI2M,EAAQI,IAAU,SAAC/iB,EAAG+B,GAAC,OAAW,OAANA,EAAa,MAAS/B,GAAK,IAAM+B,CAAE,QAAElJ,EAAWU,KAAK8oB,mBACxHY,CAAQ1pB,KAAK0pB,QAAS1pB,KAAMA,KAAK8oB,oBACjCU,EAAQxpB,KAAKwpB,QAASxpB,KAAMA,KAAK8oB,oBACjCM,GAAO,kBAAMD,GAAS,CAAI,QAAE7pB,EAAWU,KAAK8oB,oBAC5CU,GAAQ,kBAAML,GAAS,CAAK,QAAE7pB,EAAWU,KAAK8oB,oBAC9C9oB,KAAKuoB,SAAU,EACfvoB,KAAK4oB,WAAY,CAlBjB,CAmBJ,GAAC,CAAA/nB,IAAA,UAAAE,MACD,WACSf,KAAKuoB,UAGVvoB,KAAK8oB,mBAAmBznB,QACxBrB,KAAKuoB,SAAU,EACfvoB,KAAK4oB,WAAY,EACrB,GAAC,CAAA/nB,IAAA,UAAAE,MACD,WACI,IAAIK,EACEymB,EAAQ7nB,KAAK0G,KAAK2B,WACxB,GAAIwf,EAAMnkB,OAAS,GAAKmkB,EAAM,KAAO7nB,KAAK6oB,kBAAmB,CAGzD,IAAMc,EAA+D,QAAlDvoB,EAAKpB,KAAK0G,KAAK5G,QAAQkG,6BAA0C,IAAP5E,OAAgB,EAASA,EAAGa,aAAajC,KAAK0G,KAAKY,QAAQugB,EAAM,KAC1I8B,IACAC,EAAAA,EAAAA,IAAMD,EAEd,CACA3pB,KAAK6oB,mBAAqB,CAC9B,GAAC,CAAAhoB,IAAA,UAAAE,MACD,SAAQ8oB,GACJ,IAAKA,EAGD,OAFA7pB,KAAKwoB,MAAQhC,EAA8BiC,UAC3CzoB,KAAK4oB,WAAY,GAGrB,IAAMf,EAAQ7nB,KAAK0G,KAAK2B,WAClBc,EAAQ0e,EAAMnkB,OAAS,EAAImkB,EAAM,GAAK,EACtCpQ,EAAQzX,KAAKwoB,QAAUhC,EAA8BiC,KAAO,EAAI,EACtEzoB,KAAKwoB,MAAQhC,EAA8BsD,OAC3C,IAAK,IAAIthB,EAAI,EAAGA,EAAIxI,KAAK0G,KAAKhD,OAAQ8E,IAAK,CACvC,IAAM3D,GAASsE,EAAQX,EAAIiP,GAASzX,KAAK0G,KAAKhD,OACxCN,EAAQpD,KAAKooB,gCAAgC2B,2BAA2B/pB,KAAK6lB,KAAKve,QAAQzC,IAC1FmlB,EAAW5mB,GAASA,EAAM6iB,WAChC,GAAwB,qBAAb+D,IAA4BC,EAAAA,EAAAA,IAAcJ,EAAMG,GAIvD,OAHAhqB,KAAK6oB,kBAAoB1f,EACzBnJ,KAAK0G,KAAKwjB,SAAS,CAACrlB,SACpB7E,KAAK0G,KAAKkhB,OAAO/iB,EAGzB,CACJ,GAAC,CAAAhE,IAAA,UAAAE,MACD,WACIf,KAAKipB,UACLjpB,KAAK8oB,mBAAmB7jB,UACxBjF,KAAKmS,YAAYlN,SACrB,KAACkjB,CAAA,CAhGyB,GAkGxBgC,EAAkB,WACpB,SAAAA,EAAYzjB,EAAMmf,IAAM9lB,EAAAA,EAAAA,GAAA,KAAAoqB,GACpBnqB,KAAK0G,KAAOA,EACZ1G,KAAK6lB,KAAOA,EACZ7lB,KAAKmS,YAAc,IAAIC,EAAAA,GACLpS,KAAKmS,YAAYxO,IAAIwD,EAAAA,GAAMmgB,MAAMtnB,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW8J,EAAKvlB,QAAS,YAAYya,QAC5GoB,QAAO,SAAAlU,GAAC,OAAKke,EAAele,EAAE8F,OAAO,IACrCvH,KAAI,SAAAyB,GAAC,OAAI,IAAIsf,EAAAA,EAAsBtf,EAAE,IAChCkU,QAAO,SAAAlU,GAAC,OAAkB,IAAdA,EAAE9E,UAAoC8E,EAAEtF,UAAYsF,EAAEhF,UAAYgF,EAAElF,WAAakF,EAAEjF,MAAM,IAC1G4jB,GAAG5mB,KAAKoqB,MAAOpqB,KAAMA,KAAKmS,YACnC,CA2BC,OA3BAvR,EAAAA,EAAAA,GAAAupB,EAAA,EAAAtpB,IAAA,QAAAE,MACD,SAAMkH,GACF,GAAIA,EAAE8F,SAAW/N,KAAK6lB,KAAKvlB,QAA3B,CAGA,IAAMunB,EAAQ7nB,KAAK0G,KAAK2B,WACxB,GAAqB,IAAjBwf,EAAMnkB,OAAV,CAGA,IAAM2mB,EAAoBrqB,KAAK6lB,KAAKyE,WAAWzC,EAAM,IACrD,GAAKwC,EAAL,CAGA,IAAME,EAAkBF,EAAkBG,cAAc,cACxD,GAAKD,GAAqBA,aAA2BjK,cAA8C,IAA9BiK,EAAgBxX,SAArF,CAGA,IAAMvS,EAAQya,OAAOC,iBAAiBqP,GACb,WAArB/pB,EAAMiqB,YAA6C,SAAlBjqB,EAAMkqB,UAG3CziB,EAAEqV,iBACFrV,EAAEsV,kBACFgN,EAAgB1C,QAPhB,CAJA,CAJA,CAJA,CAoBJ,GAAC,CAAAhnB,IAAA,UAAAE,MACD,WACIf,KAAKmS,YAAYlN,SACrB,KAACklB,CAAA,CArCmB,GAuCjB,SAASQ,EAA6B5P,GACzC,OAAOqM,EAAAA,GAAuBrM,EAAMxT,aAAatE,QAAU8X,EAAMxT,aAAa5E,OAClF,CACO,SAASioB,EAA4B7P,GACxC,OAAOA,EAAMxT,aAAaxE,QAC9B,CAIA,IAAM8nB,EAAqC,CACvCF,6BAAAA,EACAC,4BAAAA,GAESE,EAAe,WACxB,SAAAA,EAAYpkB,IAAM3G,EAAAA,EAAAA,GAAA,KAAA+qB,GACd9qB,KAAK0G,KAAOA,EACZ1G,KAAKmS,YAAc,IAAIC,EAAAA,GACvBpS,KAAK+qB,WAAa,IAAIzY,EAAAA,GACtBtS,KAAK0H,UAAY1H,KAAK+qB,WAAWhQ,OACa,IAA1CrU,EAAK5G,QAAQqnB,2BACbnnB,KAAKgrB,4BAA8BhrB,KAAK0G,KAAK5G,QAAQkrB,6BAA+BH,GAExF7qB,KAAKiT,aAAoD,qBAA9BvM,EAAK5G,QAAQmT,gBAAkCvM,EAAK5G,QAAQmT,aACnFjT,KAAKiT,eACLvM,EAAKukB,YAAYjrB,KAAKirB,YAAajrB,KAAMA,KAAKmS,aAC9CzL,EAAKwkB,cAAclrB,KAAKkrB,cAAelrB,KAAMA,KAAKmS,aAClDzL,EAAKU,gBAAgBpH,KAAKmrB,cAAenrB,KAAMA,KAAKmS,aACpDzL,EAAK0kB,aAAaprB,KAAKirB,YAAajrB,KAAMA,KAAKmS,aAC/CnS,KAAKmS,YAAYxO,IAAI4P,EAAAA,EAAQC,UAAU9M,EAAKK,oBAEhDI,EAAAA,GAAMsV,IAAI/V,EAAK2kB,aAAc3kB,EAAK4kB,mBAAoB5kB,EAAK6kB,MAA3DpkB,CAAkEnH,KAAKwrB,cAAexrB,KAAMA,KAAKmS,YACrG,CAgHC,OAhHAvR,EAAAA,EAAAA,GAAAkqB,EAAA,EAAAjqB,IAAA,gBAAAE,MACD,SAAcymB,QACqCloB,IAA3CkoB,EAAcL,2BACdnnB,KAAKgrB,iCAA8B1rB,EAC/BkoB,EAAcL,2BACdnnB,KAAKgrB,4BAA8BhrB,KAAK0G,KAAK5G,QAAQkrB,6BAA+BH,GAGhG,GAAC,CAAAhqB,IAAA,+BAAAE,MACD,SAA6Bga,GACzB,QAAK/a,KAAKgrB,6BAGHhrB,KAAKgrB,4BAA4BL,6BAA6B5P,EACzE,GAAC,CAAAla,IAAA,8BAAAE,MACD,SAA4Bga,GACxB,QAAK/a,KAAKgrB,6BAGHhrB,KAAKgrB,4BAA4BJ,4BAA4B7P,EACxE,GAAC,CAAAla,IAAA,yBAAAE,MACD,SAAuBga,GACnB,OAAO/a,KAAK2qB,6BAA6B5P,IAAU/a,KAAK4qB,4BAA4B7P,EACxF,GAAC,CAAAla,IAAA,cAAAE,MACD,SAAYkH,GACJoe,EAAepe,EAAEV,aAAawG,SAG9B6E,SAAS6Y,gBAAkBxjB,EAAEV,aAAawG,QAC1C/N,KAAK0G,KAAKglB,UAElB,GAAC,CAAA7qB,IAAA,gBAAAE,MACD,SAAckH,GACV,IAAIke,EAAele,EAAEV,aAAawG,UAAWsY,EAAepe,EAAEV,aAAawG,QAA3E,CAGA,IAAM8Z,EAA2B,qBAAZ5f,EAAEpD,MAAwB,GAAK,CAACoD,EAAEpD,OACvD7E,KAAK0G,KAAKwjB,SAASrC,EAAO5f,EAAEV,aAF5B,CAGJ,GAAC,CAAA1G,IAAA,gBAAAE,MACD,SAAckH,GACV,GAAKjI,KAAKiT,eAGNkT,EAAele,EAAEV,aAAawG,UAAWsY,EAAepe,EAAEV,aAAawG,QAA3E,CAGA,IAvEmBgN,EAuEb8M,EAAQ5f,EAAEpD,MAChB,GAAqB,qBAAVgjB,EAIP,OAHA7nB,KAAK0G,KAAKwjB,SAAS,GAAIjiB,EAAEV,cACzBvH,KAAK0G,KAAK+gB,aAAa,GAAIxf,EAAEV,mBAC7BvH,KAAK0G,KAAKihB,eAAUroB,GAGxB,GAAIU,KAAK4qB,4BAA4B3iB,GACjC,OAAOjI,KAAK2rB,gBAAgB1jB,GAEhC,GAAIjI,KAAK4rB,uBAAuB3jB,GAC5B,OAAOjI,KAAK2rB,gBAAgB1jB,GAEhCjI,KAAK0G,KAAKwjB,SAAS,CAACrC,GAAQ5f,EAAEV,cAC9BvH,KAAK0G,KAAKihB,UAAUE,IArFD9M,EAsFI9S,EAAEV,wBArFLskB,YAA+B,IAAjB9Q,EAAMqB,QAsFpCpc,KAAK0G,KAAK+gB,aAAa,CAACI,GAAQ5f,EAAEV,cAEtCvH,KAAK+qB,WAAWhV,KAAK9N,EAnBrB,CAoBJ,GAAC,CAAApH,IAAA,gBAAAE,MACD,SAAckH,GACV,IAAIke,EAAele,EAAEV,aAAawG,UAAWsY,EAAepe,EAAEV,aAAawG,UAGvE/N,KAAK4rB,uBAAuB3jB,GAAhC,CAGA,IAAM4f,EAAQ7nB,KAAK0G,KAAK2B,WACxBrI,KAAK0G,KAAK+gB,aAAaI,EAAO5f,EAAEV,aAFhC,CAGJ,GAAC,CAAA1G,IAAA,kBAAAE,MACD,SAAgBkH,GACZ,IAAM4f,EAAQ5f,EAAEpD,MACZinB,EAAS9rB,KAAK0G,KAAKqlB,YACvB,GAAI/rB,KAAK4qB,4BAA4B3iB,GAAI,CACrC,GAAsB,qBAAX6jB,EAAwB,CAC/B,IAAME,EAAehsB,KAAK0G,KAAK2B,WAAW,GAC1CyjB,EAA0B,OAAjBE,QAA0C,IAAjBA,EAA0BA,EAAenE,EAC3E7nB,KAAK0G,KAAKihB,UAAUmE,EACxB,CACA,IAAMjgB,EAAMF,KAAKE,IAAIigB,EAAQjE,GACvBpS,EAAM9J,KAAK8J,IAAIqW,EAAQjE,GACvBoE,GAAiB7jB,EAAAA,EAAAA,IAAMyD,EAAK4J,EAAM,GAClCyW,EAAYlsB,KAAK0G,KAAK4B,eACtB6jB,EA8LlB,SAAsC/jB,EAAOrH,GACzC,IAAM8D,EAAQuD,EAAMmc,QAAQxjB,GAC5B,IAAe,IAAX8D,EACA,MAAO,GAEX,IAAMgE,EAAS,GACXL,EAAI3D,EAAQ,EAChB,KAAO2D,GAAK,GAAKJ,EAAMI,KAAOzH,GAAS8D,EAAQ2D,IAC3CK,EAAOY,KAAKrB,EAAMI,MAEtBK,EAAOujB,UACP5jB,EAAI3D,EACJ,KAAO2D,EAAIJ,EAAM1E,QAAU0E,EAAMI,KAAOzH,GAASyH,EAAI3D,IACjDgE,EAAOY,KAAKrB,EAAMI,MAEtB,OAAOK,CACX,CA9MoCwjB,CAA6BjH,EAAY8G,EAAW,CAACJ,IAAUA,GACvF,GAA+B,IAA3BK,EAAgBzoB,OAChB,OAEJ,IAAM4oB,EAAelH,EAAY6G,EA4O7C,SAA4BM,EAAKC,GAC7B,IAAM3jB,EAAS,GACXL,EAAI,EAAGikB,EAAI,EACf,KAAOjkB,EAAI+jB,EAAI7oB,QAAU+oB,EAAID,EAAM9oB,QAC/B,GAAI8E,GAAK+jB,EAAI7oB,OACTmF,EAAOY,KAAK+iB,EAAMC,WAEjB,GAAIA,GAAKD,EAAM9oB,OAChBmF,EAAOY,KAAK8iB,EAAI/jB,UAEf,IAAI+jB,EAAI/jB,KAAOgkB,EAAMC,GAAI,CAC1BjkB,IACAikB,IACA,QACJ,CACSF,EAAI/jB,GAAKgkB,EAAMC,GACpB5jB,EAAOY,KAAK8iB,EAAI/jB,MAGhBikB,GACJ,CAEJ,OAAO5jB,CACX,CAnQ6DkO,CAAmBmV,EAAWC,IAC/EnsB,KAAK0G,KAAK+gB,aAAa6E,EAAcrkB,EAAEV,cACvCvH,KAAK0G,KAAKwjB,SAAS,CAACrC,GAAQ5f,EAAEV,aAClC,MACK,GAAIvH,KAAK2qB,6BAA6B1iB,GAAI,CAC3C,IAAMikB,EAAYlsB,KAAK0G,KAAK4B,eACtBgkB,EAAeJ,EAAU/P,QAAO,SAAA3T,GAAC,OAAIA,IAAMqf,CAAK,IACtD7nB,KAAK0G,KAAKwjB,SAAS,CAACrC,IACpB7nB,KAAK0G,KAAKihB,UAAUE,GAChBqE,EAAUxoB,SAAW4oB,EAAa5oB,OAClC1D,KAAK0G,KAAK+gB,aAAa,GAADzjB,QAAAgM,EAAAA,EAAAA,GAAKsc,GAAY,CAAEzE,IAAQ5f,EAAEV,cAGnDvH,KAAK0G,KAAK+gB,aAAa6E,EAAcrkB,EAAEV,aAE/C,CACJ,GAAC,CAAA1G,IAAA,UAAAE,MACD,WACIf,KAAKmS,YAAYlN,SACrB,KAAC6lB,CAAA,CAlIuB,GAoIf4B,EAAsB,WAC/B,SAAAA,EAAYC,EAAcC,IAAgB7sB,EAAAA,EAAAA,GAAA,KAAA2sB,GACtC1sB,KAAK2sB,aAAeA,EACpB3sB,KAAK4sB,eAAiBA,CAC1B,CAwHC,OAxHAhsB,EAAAA,EAAAA,GAAA8rB,EAAA,EAAA7rB,IAAA,QAAAE,MACD,SAAM0H,GACF,IAAIrH,EAAIuP,EACFkc,EAAS7sB,KAAK4sB,gBAAkB,IAAJ5oB,OAAQhE,KAAK4sB,gBACzCE,EAAU,GACZrkB,EAAOskB,gBACPD,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,qCAAA7oB,OAAoCyE,EAAOskB,eAAc,QAE3FtkB,EAAOukB,sBACPF,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,wDAAA7oB,OAAuDyE,EAAOukB,oBAAmB,QACnHF,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,8DAAA7oB,OAA6DyE,EAAOukB,oBAAmB,SAEzHvkB,EAAOwkB,qBACPH,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,6CAAA7oB,OAA4CyE,EAAOwkB,oBAAmB,QAExGxkB,EAAOykB,gCACPJ,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,yDAAA7oB,OAAwDyE,EAAOykB,8BAA6B,QAC9HJ,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,+DAAA7oB,OAA8DyE,EAAOykB,8BAA6B,SAEpIzkB,EAAO0kB,+BACPL,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,8CAAA7oB,OAA6CyE,EAAO0kB,8BAA6B,QAEnH1kB,EAAO2kB,mCACPN,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,uDAAA7oB,OAAsDyE,EAAO2kB,kCAAiC,QAEhI3kB,EAAO4kB,iCACPP,EAAQrjB,KAAK,sDAADzF,OAEN6oB,EAAM,iEAAA7oB,OAAgEyE,EAAO4kB,gCAA+B,gBAGlH5kB,EAAO6kB,iCACPR,EAAQrjB,KAAK,sDAADzF,OAEN6oB,EAAM,sDAAA7oB,OAAqDyE,EAAO6kB,gCAA+B,gBAGvG7kB,EAAO8kB,8BACPT,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,wCAAA7oB,OAAuCyE,EAAO8kB,4BAA2B,QAC3GT,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,8CAAA7oB,OAA6CyE,EAAO8kB,4BAA2B,SAEjH9kB,EAAO+kB,qCACPV,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,iDAAA7oB,OAAgDyE,EAAO+kB,oCAAmC,QAE5H/kB,EAAOglB,8BACPX,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,mDAAA7oB,OAAkDyE,EAAOglB,4BAA2B,QACtHX,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,yDAAA7oB,OAAwDyE,EAAOglB,4BAA2B,SAE5HhlB,EAAOilB,kCACPZ,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,oDAAA7oB,OAAmDyE,EAAOilB,gCAA+B,QAC3HZ,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,0DAAA7oB,OAAyDyE,EAAOilB,gCAA+B,SAEjIjlB,EAAOklB,iCACPb,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,wCAAA7oB,OAAuCyE,EAAOklB,gCAA+B,QAE/GllB,EAAOmlB,qBACPd,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,8GAAA7oB,OAA6GyE,EAAOmlB,oBAAmB,QAEzKnlB,EAAOolB,qBACPf,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,oGAAA7oB,OAAmGyE,EAAOolB,oBAAmB,QAKnK,IAAMC,GAA2BC,EAAAA,EAAAA,uBAAsBtlB,EAAOulB,8BAA8BD,EAAAA,EAAAA,uBAAsBtlB,EAAOwlB,qBAAyD,QAAlC7sB,EAAKqH,EAAOylB,wBAAqC,IAAP9sB,EAAgBA,EAAK,KAC3M0sB,GACAhB,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,kEAAA7oB,OAAiE8pB,EAAwB,6BAE3HrlB,EAAOylB,kBACPpB,EAAQrjB,KAAK,sDAADzF,OAEN6oB,EAAM,yDAAA7oB,OAAwDyE,EAAOylB,iBAAgB,0FAAAlqB,OAC9C6oB,EAAM,gEAAA7oB,OAA+DyE,EAAOylB,iBAAgB,sCAG7I,IAAMC,GAAmCJ,EAAAA,EAAAA,uBAAsBtlB,EAAOwlB,qBAAiE,QAA1Ctd,EAAKlI,EAAO2lB,gCAA6C,IAAPzd,EAAgBA,EAAK,IAChKwd,GACArB,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,6DAAA7oB,OAA4DmqB,EAAgC,8BAE9H1lB,EAAOwlB,sBACPnB,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,qDAAA7oB,OAAoDyE,EAAOwlB,qBAAoB,8BAEjHxlB,EAAO2lB,0BACPtB,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,oDAAA7oB,OAAmDyE,EAAO2lB,yBAAwB,8BAEpH3lB,EAAO4lB,kBACPvB,EAAQrjB,KAAK,eAADzF,OAAgB6oB,EAAM,kDAAA7oB,OAAiDyE,EAAO4lB,iBAAgB,8BAE1G5lB,EAAO6lB,oBACPxB,EAAQrjB,KAAK,yBAADzF,OACN6oB,EAAM,uCAAA7oB,OACN6oB,EAAM,yDAAA7oB,OACN6oB,EAAM,sDAAA7oB,OAAqDyE,EAAO6lB,mBAAkB,sDAG1F7lB,EAAO8lB,oBACPzB,EAAQrjB,KAAK,0WAADzF,OAKHyE,EAAO8lB,mBAAkB,mRASlC9lB,EAAO+lB,6BACP1B,EAAQrjB,KAAK,saAADzF,OAICyE,EAAO+lB,4BAA2B,yBAInDxuB,KAAK2sB,aAAa3O,YAAc8O,EAAQ2B,KAAK,KACjD,KAAC/B,CAAA,CA5H8B,GA8HtBgC,EAAqB,CAC9B1B,oBAAqB,UACrBE,8BAA+B,UAC/BC,8BAA+B,UAC/BC,kCAAmC,UACnCY,6BAA8B,UAC9BX,gCAAiC,UACjCC,gCAAiC,UACjCI,gCAAiC,UACjCF,oCAAqC,UACrCI,oBAAqB,UACrBU,mBAAoB,UACpBK,uBAAwB,UACxBC,+BAAgCC,EAAAA,GAAMC,QAAQ,WAAWC,YAAY,IAAK9I,WAC1EsI,mBAAoBM,EAAAA,GAAMC,QAAQ,WAAWC,YAAY,IAAK9I,WAC9DuI,4BAA6BK,EAAAA,GAAMC,QAAQ,WAAWC,YAAY,KAAM9I,WACxE8G,oBAAgBztB,EAChB2tB,yBAAqB3tB,EACrBquB,qCAAiCruB,EACjCiuB,iCAA6BjuB,EAC7BmuB,iCAA6BnuB,EAC7BuuB,yBAAqBvuB,EACrB4uB,sBAAkB5uB,EAClB8uB,8BAA0B9uB,EAC1B2uB,0BAAsB3uB,EACtB+uB,sBAAkB/uB,GAEhBmP,EAAiB,CACnBugB,iBAAiB,EACjB/b,cAAc,EACdkU,0BAA0B,EAC1BpY,IAAK,CACDE,WAAU,WAAK,OAAO,IAAM,EAC5BC,YAAW,WAAK,EAChBC,WAAU,WAAK,OAAO,CAAO,EAC7BC,KAAI,WAAK,IAyBjB,SAASgW,EAAYmH,EAAKC,GAGtB,IAFA,IAAM3jB,EAAS,GACXL,EAAI,EAAGikB,EAAI,EACRjkB,EAAI+jB,EAAI7oB,QAAU+oB,EAAID,EAAM9oB,QAC/B,GAAI8E,GAAK+jB,EAAI7oB,OACTmF,EAAOY,KAAK+iB,EAAMC,WAEjB,GAAIA,GAAKD,EAAM9oB,OAChBmF,EAAOY,KAAK8iB,EAAI/jB,UAEf,IAAI+jB,EAAI/jB,KAAOgkB,EAAMC,GAAI,CAC1B5jB,EAAOY,KAAK8iB,EAAI/jB,IAChBA,IACAikB,IACA,QACJ,CACSF,EAAI/jB,GAAKgkB,EAAMC,GACpB5jB,EAAOY,KAAK8iB,EAAI/jB,MAGhBK,EAAOY,KAAK+iB,EAAMC,KACtB,CAEJ,OAAO5jB,CACX,CA6BA,IAAMoc,EAAc,SAAChhB,EAAGC,GAAC,OAAKD,EAAIC,CAAC,EAC7B+qB,GAAgB,WAClB,SAAAA,EAAYC,EAAa7oB,IAAWtG,EAAAA,EAAAA,GAAA,KAAAkvB,GAChCjvB,KAAKkvB,YAAcA,EACnBlvB,KAAKqG,UAAYA,CACrB,CA0BC,OA1BAzF,EAAAA,EAAAA,GAAAquB,EAAA,EAAApuB,IAAA,aAAAC,IACD,WACI,OAAOd,KAAKkvB,WAChB,GAAC,CAAAruB,IAAA,iBAAAE,MACD,SAAenB,GACX,OAAOI,KAAKqG,UAAUG,KAAI,SAAAC,GAAC,OAAIA,EAAEhC,eAAe7E,EAAU,GAC9D,GAAC,CAAAiB,IAAA,gBAAAE,MACD,SAAcuG,EAASzC,EAAOgI,EAAc9H,GACxC,IACqCwG,EADjC/C,EAAI,EAAEgD,GAAAzC,EAAAA,EAAAA,GACa/I,KAAKqG,WAAS,IAArC,IAAAmF,EAAAxC,MAAAuC,EAAAC,EAAAvC,KAAAC,MAAuC,CAApBqC,EAAAxK,MACNqE,cAAckC,EAASzC,EAAOgI,EAAarE,KAAMzD,EAC9D,CAAC,OAAA4E,GAAA6B,EAAAvD,EAAA0B,EAAA,SAAA6B,EAAA5B,GAAA,CACL,GAAC,CAAA/I,IAAA,iBAAAE,MACD,SAAeuG,EAASzC,EAAOgI,EAAc9H,GACzC,IAAI3D,EAEiC2K,EADjCvD,EAAI,EAAEwD,GAAAjD,EAAAA,EAAAA,GACa/I,KAAKqG,WAAS,IAArC,IAAA2F,EAAAhD,MAAA+C,EAAAC,EAAA/C,KAAAC,MAAuC,KAA5B7E,EAAQ0H,EAAAhL,MACoB,QAAlCK,EAAKiD,EAASoS,sBAAmC,IAAPrV,GAAyBA,EAAGkd,KAAKja,EAAUiD,EAASzC,EAAOgI,EAAarE,GAAIzD,GACvHyD,GAAK,CACT,CAAC,OAAAmB,GAAAqC,EAAA/D,EAAA0B,EAAA,SAAAqC,EAAApC,GAAA,CACL,GAAC,CAAA/I,IAAA,kBAAAE,MACD,SAAgB8L,GACZ,IACqCwL,EADjC7P,EAAI,EAAE8P,GAAAvP,EAAAA,EAAAA,GACa/I,KAAKqG,WAAS,IAArC,IAAAiS,EAAAtP,MAAAqP,EAAAC,EAAArP,KAAAC,MAAuC,CAApBmP,EAAAtX,MACN+E,gBAAgB+G,EAAarE,KAC1C,CAAC,OAAAmB,GAAA2O,EAAArQ,EAAA0B,EAAA,SAAA2O,EAAA1O,GAAA,CACL,KAACqlB,CAAA,CA9BiB,GAgChBE,GAAoB,WACtB,SAAAA,EAAYnpB,IAAuBjG,EAAAA,EAAAA,GAAA,KAAAovB,GAC/BnvB,KAAKgG,sBAAwBA,EAC7BhG,KAAKuE,WAAa,MACtB,CAsBC,OAtBA3D,EAAAA,EAAAA,GAAAuuB,EAAA,EAAAtuB,IAAA,iBAAAE,MACD,SAAenB,GACX,OAAOA,CACX,GAAC,CAAAiB,IAAA,gBAAAE,MACD,SAAcuG,EAASzC,EAAOjF,GAC1B,IAAM+pB,EAAY3pB,KAAKgG,sBAAsB/D,aAAaqF,GACtDqiB,EACA/pB,EAAU6a,aAAa,aAAckP,GAGrC/pB,EAAUsC,gBAAgB,cAE9B,IAAMktB,EAAYpvB,KAAKgG,sBAAsBqpB,cAAgBrvB,KAAKgG,sBAAsBqpB,aAAa/nB,GAC5E,kBAAd8nB,EACPxvB,EAAU6a,aAAa,aAAc,GAAFzW,OAAKorB,IAGxCxvB,EAAUsC,gBAAgB,aAElC,GAAC,CAAArB,IAAA,kBAAAE,MACD,SAAgB8L,GACZ,KACHsiB,CAAA,CA1BqB,GA4BpBG,GAAmB,WACrB,SAAAA,EAAY5oB,EAAMqI,IAAKhP,EAAAA,EAAAA,GAAA,KAAAuvB,GACnBtvB,KAAK0G,KAAOA,EACZ1G,KAAK+O,IAAMA,CACf,CAgCC,OAhCAnO,EAAAA,EAAAA,GAAA0uB,EAAA,EAAAzuB,IAAA,kBAAAE,MACD,SAAgBuG,GACZ,IAAM4kB,EAAYlsB,KAAK0G,KAAK6oB,sBAE5B,OADiBrD,EAAU3H,QAAQjd,IAAY,EAAI4kB,EAAY,CAAC5kB,EAEpE,GAAC,CAAAzG,IAAA,aAAAE,MACD,SAAWuG,GACP,OAAOtH,KAAK+O,IAAIE,WAAW3H,EAC/B,GAAC,CAAAzG,IAAA,eAAAE,MACD,SAAagH,EAAUynB,GACnB,GAAIxvB,KAAK+O,IAAI+O,aACT,OAAO9d,KAAK+O,IAAI+O,aAAa/V,EAAUynB,EAG/C,GAAC,CAAA3uB,IAAA,cAAAE,MACD,SAAYyD,EAAMgrB,GACd,IAAIpuB,EAAIuP,EAC+B,QAAtCA,GAAMvP,EAAKpB,KAAK+O,KAAKG,mBAAgC,IAAPyB,GAAyBA,EAAG2N,KAAKld,EAAIoD,EAAMgrB,EAC9F,GAAC,CAAA3uB,IAAA,aAAAE,MACD,SAAWyD,EAAMirB,EAAeC,EAAaF,GACzC,OAAOxvB,KAAK+O,IAAII,WAAW3K,EAAMirB,EAAeC,EAAaF,EACjE,GAAC,CAAA3uB,IAAA,cAAAE,MACD,SAAYyD,EAAMirB,EAAeC,EAAaF,GAC1C,IAAIpuB,EAAIuP,EAC+B,QAAtCA,GAAMvP,EAAKpB,KAAK+O,KAAKiG,mBAAgC,IAAPrE,GAAyBA,EAAG2N,KAAKld,EAAIoD,EAAMirB,EAAeC,EAAaF,EAC1H,GAAC,CAAA3uB,IAAA,YAAAE,MACD,SAAUyuB,GACN,IAAIpuB,EAAIuP,EAC6B,QAApCA,GAAMvP,EAAKpB,KAAK+O,KAAKkG,iBAA8B,IAAPtE,GAAyBA,EAAG2N,KAAKld,EAAIouB,EACtF,GAAC,CAAA3uB,IAAA,OAAAE,MACD,SAAKyD,EAAMirB,EAAeC,EAAaF,GACnCxvB,KAAK+O,IAAIK,KAAK5K,EAAMirB,EAAeC,EAAaF,EACpD,KAACF,CAAA,CApCoB,GAqDZ3oB,GAAI,WAqDb,SAAAA,EAAYR,EAAMvG,EAAWwG,EAAiBC,GAAsC,IAC5EjF,EAAIuP,EAAIC,EAAIC,EADqC8e,EAAQlsB,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,GAAAA,UAAA,GAAGgL,GAAc1O,EAAAA,EAAAA,GAAA,KAAA4G,GAE9E3G,KAAKmG,KAAOA,EACZnG,KAAK2vB,SAAWA,EAChB3vB,KAAK6nB,MAAQ,IAAIrD,EAAM,WACvBxkB,KAAK8rB,OAAS,IAAItH,EAAM,UACxBxkB,KAAK4vB,cAAgB,IAAIC,EAAAA,GACzB7vB,KAAK8vB,WAAa,GAClB9vB,KAAKmS,YAAc,IAAIC,EAAAA,GACvBpS,KAAK+vB,cAAgB,IAAIzd,EAAAA,GACzBtS,KAAKiH,aAAejH,KAAK+vB,cAAchV,MACvC,IAAMP,EAAOxa,KAAK2vB,SAAS3pB,uBAAyBhG,KAAK2vB,SAAS3pB,sBAAsBgqB,cAA+D,QAA9C5uB,EAAKpB,KAAK2vB,SAAS3pB,6BAA0C,IAAP5E,OAAgB,EAASA,EAAG4uB,gBAAkB,OAC7MhwB,KAAKksB,UAAY,IAAI3G,EAAwB,YAAT/K,GACpC,IAAMyV,EAAgB,CAACjwB,KAAK6nB,MAAMxjB,SAAUrE,KAAKksB,UAAU7nB,UAC3DrE,KAAKgG,sBAAwB2pB,EAAS3pB,sBAClChG,KAAKgG,wBACLiqB,EAAcxmB,KAAK,IAAI0lB,GAAqBnvB,KAAKgG,wBACwB,QAAxE4K,GAAMD,EAAK3Q,KAAKgG,uBAAuBkqB,mCAAgD,IAAPtf,GAAyBA,EAAG0N,KAAK3N,EAAI3Q,KAAKkwB,4BAA6BlwB,KAAMA,KAAKmS,cAEvK9L,EAAYA,EAAUG,KAAI,SAAAC,GAAC,OAAI,IAAIwoB,GAAiBxoB,EAAElC,WAAY,GAAFP,OAAMisB,EAAe,CAAAxpB,IAAG,IACxF,IAAM0pB,EAAchwB,OAAOyG,OAAOzG,OAAOyG,OAAO,CAAC,EAAG+oB,GAAW,CAAE5gB,IAAK4gB,EAAS5gB,KAAO,IAAIugB,GAAoBtvB,KAAM2vB,EAAS5gB,OAG7H,GAFA/O,KAAK6lB,KAAO7lB,KAAKowB,eAAexwB,EAAWwG,EAAiBC,EAAW8pB,GACvEnwB,KAAK6lB,KAAKvlB,QAAQma,aAAa,OAAQD,GACnCmV,EAASU,gBACTrwB,KAAKqwB,gBAAkBV,EAASU,gBAAgBrwB,KAAK6lB,KAAKvU,WAEzD,CACD,IAAMqb,GAAe2D,EAAAA,EAAAA,kBAAiBtwB,KAAK6lB,KAAKvlB,SAChDN,KAAKqwB,gBAAkB,IAAI3D,EAAuBC,EAAc3sB,KAAK6lB,KAAKvU,MAC9E,CAiBA,GAhBAtR,KAAKuwB,WAAa,IAAIjO,EAAmB,CACrC,IAAIsD,EAAgB5lB,KAAK6nB,MAAO7nB,KAAK6lB,KAAM8J,EAAS7J,kBACpD,IAAIF,EAAgB5lB,KAAKksB,UAAWlsB,KAAK6lB,KAAM8J,EAAS7J,kBACxD,IAAIF,EAAgB5lB,KAAK8rB,OAAQ9rB,KAAK6lB,KAAM8J,EAAS7J,kBACrD9lB,KAAK6lB,OAET7lB,KAAKmS,YAAYxO,IAAI3D,KAAK6nB,OAC1B7nB,KAAKmS,YAAYxO,IAAI3D,KAAKksB,WAC1BlsB,KAAKmS,YAAYxO,IAAI3D,KAAK8rB,QAC1B9rB,KAAKmS,YAAYxO,IAAI3D,KAAK6lB,MAC1B7lB,KAAKmS,YAAYxO,IAAI3D,KAAK+vB,eAC1B/vB,KAAKmS,YAAYxO,IAAI,IAAIwmB,EAAmBnqB,KAAMA,KAAK6lB,QACf,mBAA7B8J,EAASX,iBAAiCW,EAASX,mBAC1DhvB,KAAKwwB,mBAAqB,IAAI/J,EAAmBzmB,KAAMA,KAAK6lB,KAAM8J,GAClE3vB,KAAKmS,YAAYxO,IAAI3D,KAAKwwB,qBAE1Bb,EAASvH,gCAAiC,CAC1C,IAAME,EAAWqH,EAASc,4BAA8BxI,EACxDjoB,KAAK0wB,yBAA2B,IAAIvI,EAAyBnoB,KAAMA,KAAK6lB,KAAM8J,EAASvH,gCAAmF,QAAjDvX,EAAK8e,EAAStH,qCAAkD,IAAPxX,EAAgBA,EAAM,kBAAM,CAAI,EAAGyX,GACrNtoB,KAAKmS,YAAYxO,IAAI3D,KAAK0wB,yBAC9B,CACA1wB,KAAK2wB,gBAAkB3wB,KAAK4wB,sBAAsBjB,GAClD3vB,KAAKmS,YAAYxO,IAAI3D,KAAK2wB,iBAC1B3wB,KAAK6wB,iBAAiB7wB,KAAK8wB,eAAgB9wB,KAAMA,KAAKmS,aACtDnS,KAAK6H,qBAAqB7H,KAAK+wB,mBAAoB/wB,KAAMA,KAAKmS,aAC1DnS,KAAKgG,wBACLhG,KAAK2pB,UAAY3pB,KAAKgG,sBAAsBC,uBAED,IAA3CjG,KAAK2vB,SAASxI,0BACdnnB,KAAK6lB,KAAKvlB,QAAQma,aAAa,uBAAwB,OAE/D,CA6TC,OA7TA7Z,EAAAA,EAAAA,GAAA+F,EAAA,EAAA9F,IAAA,mBAAAC,IAjHD,WAAuB,IAAA2G,EAAA,KACnB,OAAON,EAAAA,GAAMX,IAAIxG,KAAK4vB,cAAcoB,UAAUhxB,KAAK6nB,MAAMjD,WAAW,SAAA3c,GAAC,OAAIR,EAAKwpB,YAAYhpB,EAAE,GAAEjI,KAAKmS,YACvG,GAAC,CAAAtR,IAAA,uBAAAC,IACD,WAA2B,IAAA8G,EAAA,KACvB,OAAOT,EAAAA,GAAMX,IAAIxG,KAAK4vB,cAAcoB,UAAUhxB,KAAKksB,UAAUtH,WAAW,SAAA3c,GAAC,OAAIL,EAAKqpB,YAAYhpB,EAAE,GAAEjI,KAAKmS,YAC3G,GAAC,CAAAtR,IAAA,QAAAC,IACD,WAAc,OAAOd,KAAK6lB,KAAKvU,KAAO,GAAC,CAAAzQ,IAAA,eAAAC,IACvC,WAAqB,OAAOd,KAAK6lB,KAAKwF,YAAc,GAAC,CAAAxqB,IAAA,kBAAAC,IACrD,WAAwB,OAAOd,KAAK6lB,KAAKze,eAAiB,GAAC,CAAAvG,IAAA,qBAAAC,IAC3D,WAA2B,OAAOd,KAAK6lB,KAAKyF,kBAAoB,GAAC,CAAAzqB,IAAA,YAAAC,IACjE,WAAkB,OAAOd,KAAK2wB,gBAAgBjpB,SAAW,GAAC,CAAA7G,IAAA,cAAAC,IAC1D,WAAoB,OAAOd,KAAK6lB,KAAKoF,WAAa,GAAC,CAAApqB,IAAA,cAAAC,IACnD,WAAoB,OAAOd,KAAK6lB,KAAKqL,WAAa,GAAC,CAAArwB,IAAA,aAAAC,IACnD,WAAmB,OAAOd,KAAK6lB,KAAKsL,UAAY,GAAC,CAAAtwB,IAAA,eAAAC,IACjD,WAAqB,OAAOd,KAAK6lB,KAAKuF,YAAc,GAAC,CAAAvqB,IAAA,QAAAC,IACrD,WAAc,OAAOd,KAAK6lB,KAAK0F,KAAO,GACtC,CAAA1qB,IAAA,gBAAAC,IAOA,WAAoB,IAAAyH,EAAA,KACZ6oB,GAA6B,EAC3BC,EAAcrxB,KAAKmS,YAAYxO,IAAIwD,EAAAA,GAAMmgB,MAAMtnB,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAK6lB,KAAKvlB,QAAS,YAAYya,QACnHvU,KAAI,SAAAyB,GAAC,OAAI,IAAIsf,EAAAA,EAAsBtf,EAAE,IACrCkU,QAAO,SAAAlU,GAAC,OAAImpB,EAA2C,KAAdnpB,EAAE9E,SAA6C8E,EAAElF,UAA0B,KAAdkF,EAAE9E,OAAiC,IACzIqD,KAAI,SAAAyB,GAAC,OAAIqhB,EAAAA,YAAYC,KAAKthB,GAAG,EAAK,IAClCkU,QAAO,kBAAM,CAAK,IAClBpB,MACCuW,EAAYtxB,KAAKmS,YAAYxO,IAAIwD,EAAAA,GAAMmgB,MAAMtnB,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAK6lB,KAAKvlB,QAAS,UAAUya,QAC/GrN,SAAQ,kBAAM0jB,GAA6B,CAAK,IAChD5qB,KAAI,SAAAyB,GAAC,OAAI,IAAIsf,EAAAA,EAAsBtf,EAAE,IACrCkU,QAAO,SAAAlU,GAAC,OAAkB,KAAdA,EAAE9E,SAA6C8E,EAAElF,UAA0B,KAAdkF,EAAE9E,OAAiC,IAC5GqD,KAAI,SAAAyB,GAAC,OAAIqhB,EAAAA,YAAYC,KAAKthB,GAAG,EAAK,IAClCzB,KAAI,SAAAa,GAAsB,IAAnBE,EAAYF,EAAZE,aACFsgB,EAAQtf,EAAKF,WACbxD,EAAQgjB,EAAMnkB,OAASmkB,EAAM,QAAKvoB,EAGxC,MAAO,CAAEuF,MAAAA,EAAOyC,QAFiB,qBAAVzC,EAAwB0D,EAAKsd,KAAKve,QAAQzC,QAASvF,EAEjDwsB,OADO,qBAAVjnB,EAAwB0D,EAAKsd,KAAKyE,WAAWzlB,GAAS0D,EAAKsd,KAAKvlB,QACrDiH,aAAAA,EACrC,IACKwT,MACCwW,EAAYvxB,KAAKmS,YAAYxO,IAAIwD,EAAAA,GAAMmgB,MAAMtnB,KAAK6lB,KAAKqF,gBACxD/O,QAAO,SAAArX,GAAC,OAAKssB,CAA0B,IACvC5qB,KAAI,SAAAmB,GAAA,IAAGL,EAAOK,EAAPL,QAASzC,EAAK8C,EAAL9C,MAAO0C,EAAYI,EAAZJ,aAAY,MAAQ,CAAED,QAAAA,EAASzC,MAAAA,EAAOinB,OAAQ,CAAE0F,EAAGjqB,EAAakqB,MAAQ,EAAGC,EAAGnqB,EAAa6Y,OAAS7Y,aAAAA,EAAc,IACzIwT,MACL,OAAO5T,EAAAA,GAAMsV,IAAI4U,EAAaC,EAAWC,EAC7C,GAAC,CAAA1wB,IAAA,YAAAC,IACD,WAAkB,OAAOd,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAK6lB,KAAKvlB,QAAS,YAAYya,KAAO,GAAC,CAAAla,IAAA,aAAAC,IACpG,WAAmB,OAAOqG,EAAAA,GAAMwqB,OAAO3xB,KAAKmS,YAAYxO,IAAI,IAAIoY,EAAAA,EAAW/b,KAAK6lB,KAAKvlB,QAAS,SAAS,IAAOya,MAAQ,GAAC,CAAAla,IAAA,iBAAAE,MA+DvH,SAAenB,EAAWwG,EAAiBC,EAAW8pB,GAClD,OAAO,IAAIzf,EAAAA,GAAS9Q,EAAWwG,EAAiBC,EAAW8pB,EAC/D,GAAC,CAAAtvB,IAAA,wBAAAE,MACD,SAAsBjB,GAClB,OAAO,IAAIgrB,EAAgB9qB,KAC/B,GAAC,CAAAa,IAAA,gBAAAE,MACD,WAAkC,IAC1BK,EAAIuP,EADE6W,EAAa/jB,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,GAAAA,UAAA,GAAG,CAAC,EAE3BzD,KAAK2vB,SAAWxvB,OAAOyG,OAAOzG,OAAOyG,OAAO,CAAC,EAAG5G,KAAK2vB,UAAWnI,GACvB,QAAxCpmB,EAAKpB,KAAK0wB,gCAA6C,IAAPtvB,GAAyBA,EAAG0F,cAAc9G,KAAK2vB,eAC9CrwB,IAA9CU,KAAK2vB,SAAS3E,8BACVhrB,KAAK2vB,SAASxI,yBACdnnB,KAAK6lB,KAAKvlB,QAAQma,aAAa,uBAAwB,QAGvDza,KAAK6lB,KAAKvlB,QAAQ4B,gBAAgB,yBAG1ClC,KAAK2wB,gBAAgB7pB,cAAc0gB,GACA,QAAlC7W,EAAK3Q,KAAKwwB,0BAAuC,IAAP7f,GAAyBA,EAAG7J,cAAc0gB,GACrFxnB,KAAK6lB,KAAK/e,cAAc0gB,EAC5B,GAAC,CAAA3mB,IAAA,UAAAC,IACD,WACI,OAAOd,KAAK2vB,QAChB,GAAC,CAAA9uB,IAAA,SAAAE,MACD,SAAOoI,EAAOwB,GAA4B,IAAAmR,EAAA,KAAf/T,EAAQtE,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,GAAAA,UAAA,GAAG,GAClC,GAAI0F,EAAQ,GAAKA,EAAQnJ,KAAK6lB,KAAKniB,OAC/B,MAAM,IAAI8e,EAAUxiB,KAAKmG,KAAM,wBAAFnC,OAA0BmF,IAE3D,GAAIwB,EAAc,EACd,MAAM,IAAI6X,EAAUxiB,KAAKmG,KAAM,yBAAFnC,OAA2B2G,IAExC,IAAhBA,GAAyC,IAApB5C,EAASrE,QAGlC1D,KAAK4vB,cAAcgC,cAAa,kBAAM9V,EAAKyU,WAAWpoB,OAAOgB,EAAOwB,EAAa5C,EAAS,GAC9F,GAAC,CAAAlH,IAAA,WAAAE,MACD,WACIf,KAAK6lB,KAAKgM,UACd,GAAC,CAAAhxB,IAAA,UAAAE,MACD,SAAQ8D,GACJ,OAAO7E,KAAK6lB,KAAKve,QAAQzC,EAC7B,GAAC,CAAAhE,IAAA,SAAAC,IACD,WACI,OAAOd,KAAK6lB,KAAKniB,MACrB,GAAC,CAAA7C,IAAA,gBAAAC,IACD,WACI,OAAOd,KAAK6lB,KAAK7P,aACrB,GAAC,CAAAnV,IAAA,YAAAC,IACD,WACI,OAAOd,KAAK6lB,KAAKjK,cACrB,EAAC1T,IACD,SAAc2M,GACV7U,KAAK6lB,KAAKhK,aAAahH,EAC3B,GAAC,CAAAhU,IAAA,eAAAC,IACD,WACI,OAAOd,KAAK6lB,KAAKjQ,YACrB,GAAC,CAAA/U,IAAA,oBAAAC,IACD,WACI,OAAOd,KAAK6lB,KAAKiM,iBACrB,GAAC,CAAAjxB,IAAA,YAAAC,IACD,WACI,OAAOd,KAAK8vB,UAChB,EAAC5nB,IACD,SAAcnH,GACVf,KAAK8vB,WAAa/uB,EAClBf,KAAK6lB,KAAKvlB,QAAQma,aAAa,aAAc1Z,EACjD,GAAC,CAAAF,IAAA,WAAAE,MACD,WACIf,KAAK6lB,KAAKvlB,QAAQunB,MAAM,CAAEkK,eAAe,GAC7C,GAAC,CAAAlxB,IAAA,SAAAE,MACD,SAAOgE,EAAQqQ,GACXpV,KAAK6lB,KAAK3Q,OAAOnQ,EAAQqQ,EAC7B,GAAC,CAAAvU,IAAA,eAAAE,MACD,SAAaiH,EAAST,GAAc,IACLiR,EADKC,GAAA1P,EAAAA,EAAAA,GACZf,GAAO,IAA3B,IAAAyQ,EAAAzP,MAAAwP,EAAAC,EAAAxP,KAAAC,MAA6B,KAAlBrE,EAAK2T,EAAAzX,MACZ,GAAI8D,EAAQ,GAAKA,GAAS7E,KAAK0D,OAC3B,MAAM,IAAI8e,EAAUxiB,KAAKmG,KAAM,iBAAFnC,OAAmBa,GAExD,CAAC,OAAA8E,GAAA8O,EAAAxQ,EAAA0B,EAAA,SAAA8O,EAAA7O,GAAA,CACD5J,KAAKksB,UAAUhkB,IAAIF,EAAST,EAChC,GAAC,CAAA1G,IAAA,eAAAE,MACD,WACI,OAAOf,KAAKksB,UAAUprB,KAC1B,GAAC,CAAAD,IAAA,sBAAAE,MACD,WAAsB,IAAAkb,EAAA,KAClB,OAAOjc,KAAKsI,eAAe9B,KAAI,SAAAgC,GAAC,OAAIyT,EAAK4J,KAAKve,QAAQkB,EAAE,GAC5D,GAAC,CAAA3H,IAAA,YAAAE,MACD,SAAU8D,GACN,GAAqB,qBAAVA,EAAX,CAIA,GAAIA,EAAQ,GAAKA,GAAS7E,KAAK0D,OAC3B,MAAM,IAAI8e,EAAUxiB,KAAKmG,KAAM,iBAAFnC,OAAmBa,IAEpD7E,KAAK8rB,OAAO5jB,IAAI,CAACrD,GAJjB,MAFI7E,KAAK8rB,OAAO5jB,IAAI,GAOxB,GAAC,CAAArH,IAAA,YAAAE,MACD,WACI,OAAOixB,EAAAA,EAAAA,IAAehyB,KAAK8rB,OAAOhrB,WAAOxB,EAC7C,GAAC,CAAAuB,IAAA,mBAAAE,MACD,WACI,IAAM+qB,EAAS9rB,KAAK+rB,YACpB,MAAyB,qBAAXD,OAAyBxsB,EAAYU,KAAKsH,QAAQwkB,EACpE,GAAC,CAAAjrB,IAAA,WAAAE,MACD,SAASiH,EAAST,GAAc,IACDwR,EADCC,GAAAjQ,EAAAA,EAAAA,GACRf,GAAO,IAA3B,IAAAgR,EAAAhQ,MAAA+P,EAAAC,EAAA/P,KAAAC,MAA6B,KAAlBrE,EAAKkU,EAAAhY,MACZ,GAAI8D,EAAQ,GAAKA,GAAS7E,KAAK0D,OAC3B,MAAM,IAAI8e,EAAUxiB,KAAKmG,KAAM,iBAAFnC,OAAmBa,GAExD,CAAC,OAAA8E,GAAAqP,EAAA/Q,EAAA0B,EAAA,SAAAqP,EAAApP,GAAA,CACD5J,KAAK6nB,MAAM3f,IAAIF,EAAST,EAC5B,GAAC,CAAA1G,IAAA,YAAAE,MACD,WAAqD,IAA3CkI,EAACxF,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,GAAAA,UAAA,GAAG,EAAGwuB,EAAIxuB,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,IAAAA,UAAA,GAAU8D,EAAY9D,UAAAC,OAAA,EAAAD,UAAA,QAAAnE,EAAE6c,EAAM1Y,UAAAC,OAAA,EAAAD,UAAA,QAAAnE,EAC/C,GAAoB,IAAhBU,KAAK0D,OAAT,CAGA,IAAMmkB,EAAQ7nB,KAAK6nB,MAAM/mB,MACnB+D,EAAQ7E,KAAKkyB,cAAcrK,EAAMnkB,OAAS,EAAImkB,EAAM,GAAK5e,EAAI,EAAGgpB,EAAM9V,GACxEtX,GAAS,GACT7E,KAAKkqB,SAAS,CAACrlB,GAAQ0C,EAJ3B,CAMJ,GAAC,CAAA1G,IAAA,gBAAAE,MACD,WAAyD,IAA3CkI,EAACxF,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,GAAAA,UAAA,GAAG,EAAGwuB,EAAIxuB,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,IAAAA,UAAA,GAAU8D,EAAY9D,UAAAC,OAAA,EAAAD,UAAA,QAAAnE,EAAE6c,EAAM1Y,UAAAC,OAAA,EAAAD,UAAA,QAAAnE,EACnD,GAAoB,IAAhBU,KAAK0D,OAAT,CAGA,IAAMmkB,EAAQ7nB,KAAK6nB,MAAM/mB,MACnB+D,EAAQ7E,KAAKmyB,kBAAkBtK,EAAMnkB,OAAS,EAAImkB,EAAM,GAAK5e,EAAI,EAAGgpB,EAAM9V,GAC5EtX,GAAS,GACT7E,KAAKkqB,SAAS,CAACrlB,GAAQ0C,EAJ3B,CAMJ,GAAC,CAAA1G,IAAA,gBAAAE,MACD,SAAcwG,EAAc4U,GACxB,OAAO4G,EAAU/iB,UAAM,OAAQ,GAAMoyB,EAAAA,EAAAA,KAAAC,MAAE,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,EAAAA,EAAAA,KAAAQ,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAArP,MAAA,OAGoB,GADvD+O,EAAkC,KAD9BA,EAAgBvyB,KAAK6lB,KAAK/Z,QAAQ9L,KAAK6lB,KAAKjK,eAAiB5b,KAAK6lB,KAAKhN,eACrC,EAAI0Z,EAAgB,GACpDC,EAA+BxyB,KAAKqI,WAAW,MAChBkqB,UAAmDjzB,IAAjCkzB,GAA8CD,EAAgBC,GAA6B,CAAAK,EAAArP,KAAA,SACxIiP,EAAoBzyB,KAAKmyB,kBAAkBI,GAAe,EAAOpW,KAC9C,GAAKqW,IAAiCC,EAC3DzyB,KAAKkqB,SAAS,CAACuI,GAAoBlrB,GAGnCvH,KAAKkqB,SAAS,CAACqI,GAAgBhrB,GAClCsrB,EAAArP,KAAA,gBASyC,GANpCkP,EAAoB1yB,KAAK6lB,KAAKjK,eAChC+W,EAAoBD,EAAoB1yB,KAAK6lB,KAAKhN,aAClD0Z,EAAgBC,IAEhBG,GAAqB3yB,KAAK6lB,KAAKkN,cAAcR,IAEjDvyB,KAAK6lB,KAAKhK,aAAa8W,GACnB3yB,KAAK6lB,KAAKjK,iBAAmB8W,EAAiB,CAAAG,EAAArP,KAAA,SAG9C,OAFAxjB,KAAKkqB,SAAS,IACd2I,EAAArP,KAAA,IACMwP,EAAAA,EAAAA,IAAQ,GAAE,QAChB,OADgBH,EAAArP,KAAA,GACVxjB,KAAKgoB,cAAczgB,EAAc4U,GAAO,yBAAA0W,EAAAtJ,OAAA,GAAA+I,EAAA,SAI9D,GAAC,CAAAzxB,IAAA,oBAAAE,MACD,SAAkBwG,EAAc4U,GAC5B,OAAO4G,EAAU/iB,UAAM,OAAQ,GAAMoyB,EAAAA,EAAAA,KAAAC,MAAE,SAAAY,IAAA,IAAAC,EAAAre,EAAA2d,EAAAW,EAAAT,EAAA,OAAAN,EAAAA,EAAAA,KAAAQ,MAAA,SAAAQ,GAAA,cAAAA,EAAAN,KAAAM,EAAA5P,MAAA,OASoB,GAPjD3O,EAAY7U,KAAK6lB,KAAKjK,eAExBsX,EADc,IAAdre,EACiB7U,KAAK6lB,KAAK/Z,QAAQ+I,GAGlB7U,KAAK6lB,KAAKtM,WAAW1E,EAAY,IAEhD2d,EAA+BxyB,KAAKqI,WAAW,MAChB6qB,UAAoD5zB,IAAjCkzB,GAA8CA,GAAgCU,GAAe,CAAAE,EAAA5P,KAAA,SAC3I2P,EAAqBnzB,KAAKkyB,cAAcgB,GAAgB,EAAO/W,KAC3C,GAAKqW,IAAiCW,EAC5DnzB,KAAKkqB,SAAS,CAACiJ,GAAqB5rB,GAGpCvH,KAAKkqB,SAAS,CAACgJ,GAAiB3rB,GACnC6rB,EAAA5P,KAAA,gBAI0D,GADrDkP,EAAoB7d,EAC1B7U,KAAK6lB,KAAKhK,aAAahH,EAAY7U,KAAK6lB,KAAKhN,cACzC7Y,KAAK6lB,KAAKjK,iBAAmB8W,EAAiB,CAAAU,EAAA5P,KAAA,SAG9C,OAFAxjB,KAAKkqB,SAAS,IACdkJ,EAAA5P,KAAA,IACMwP,EAAAA,EAAAA,IAAQ,GAAE,QAChB,OADgBI,EAAA5P,KAAA,GACVxjB,KAAK+nB,kBAAkBxgB,EAAc4U,GAAO,yBAAAiX,EAAA7J,OAAA,GAAA0J,EAAA,SAIlE,GAAC,CAAApyB,IAAA,YAAAE,MACD,SAAUwG,EAAc4U,GACpB,GAAoB,IAAhBnc,KAAK0D,OAAT,CAGA,IAAMmB,EAAQ7E,KAAKmyB,kBAAkBnyB,KAAK0D,OAAS,GAAG,EAAOyY,GACzDtX,GAAS,GACT7E,KAAKkqB,SAAS,CAACrlB,GAAQ0C,EAH3B,CAKJ,GAAC,CAAA1G,IAAA,aAAAE,MACD,SAAWwG,EAAc4U,GACrBnc,KAAKqzB,SAAS,EAAG9rB,EAAc4U,EACnC,GAAC,CAAAtb,IAAA,WAAAE,MACD,SAASkI,EAAG1B,EAAc4U,GACtB,GAAoB,IAAhBnc,KAAK0D,OAAT,CAGA,IAAMmB,EAAQ7E,KAAKkyB,cAAcjpB,GAAG,EAAOkT,GACvCtX,GAAS,GACT7E,KAAKkqB,SAAS,CAACrlB,GAAQ0C,EAH3B,CAKJ,GAAC,CAAA1G,IAAA,gBAAAE,MACD,SAAc8D,GACV,IADuC,IAAtBotB,EAAIxuB,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,IAAAA,UAAA,GAAU0Y,EAAM1Y,UAAAC,OAAA,EAAAD,UAAA,QAAAnE,EAC5BkJ,EAAI,EAAGA,EAAIxI,KAAK0D,OAAQ8E,IAAK,CAClC,GAAI3D,GAAS7E,KAAK0D,SAAWuuB,EACzB,OAAQ,EAGZ,GADAptB,GAAgB7E,KAAK0D,QAChByY,GAAUA,EAAOnc,KAAKsH,QAAQzC,IAC/B,OAAOA,EAEXA,GACJ,CACA,OAAQ,CACZ,GAAC,CAAAhE,IAAA,oBAAAE,MACD,SAAkB8D,GACd,IAD2C,IAAtBotB,EAAIxuB,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,IAAAA,UAAA,GAAU0Y,EAAM1Y,UAAAC,OAAA,EAAAD,UAAA,QAAAnE,EAChCkJ,EAAI,EAAGA,EAAIxI,KAAK0D,OAAQ8E,IAAK,CAClC,GAAI3D,EAAQ,IAAMotB,EACd,OAAQ,EAGZ,GADAptB,GAAS7E,KAAK0D,OAAUmB,EAAQ7E,KAAK0D,QAAW1D,KAAK0D,QAChDyY,GAAUA,EAAOnc,KAAKsH,QAAQzC,IAC/B,OAAOA,EAEXA,GACJ,CACA,OAAQ,CACZ,GAAC,CAAAhE,IAAA,WAAAE,MACD,WACI,OAAOf,KAAK6nB,MAAM/mB,KACtB,GAAC,CAAAD,IAAA,qBAAAE,MACD,WAAqB,IAAAmb,EAAA,KACjB,OAAOlc,KAAKqI,WAAW7B,KAAI,SAAAgC,GAAC,OAAI0T,EAAK2J,KAAKve,QAAQkB,EAAE,GACxD,GAAC,CAAA3H,IAAA,SAAAE,MACD,SAAO8D,EAAOyuB,GACV,GAAIzuB,EAAQ,GAAKA,GAAS7E,KAAK0D,OAC3B,MAAM,IAAI8e,EAAUxiB,KAAKmG,KAAM,iBAAFnC,OAAmBa,IAEpD,IAAMgQ,EAAY7U,KAAK6lB,KAAKjK,eACtBN,EAAatb,KAAK6lB,KAAKvK,WAAWzW,GAClCkuB,EAAgB/yB,KAAK6lB,KAAKkN,cAAcluB,GAC9C,IAAI0uB,EAAAA,EAAAA,IAASD,GAAc,CAEvB,IAAME,EAAIT,EAAgB/yB,KAAK6lB,KAAKhN,aACpC7Y,KAAK6lB,KAAKhK,aAAa2X,GAAIC,EAAAA,EAAAA,IAAMH,EAAa,EAAG,GAAKhY,EAC1D,KACK,CACD,IAAMoY,EAAiBpY,EAAayX,EAC9BY,EAAe9e,EAAY7U,KAAK6lB,KAAKhN,aACvCyC,EAAazG,GAAa6e,GAAkBC,IAGvCrY,EAAazG,GAAc6e,GAAkBC,GAAgBZ,GAAiB/yB,KAAK6lB,KAAKhN,aAC7F7Y,KAAK6lB,KAAKhK,aAAaP,GAElBoY,GAAkBC,GACvB3zB,KAAK6lB,KAAKhK,aAAa6X,EAAiB1zB,KAAK6lB,KAAKhN,cAE1D,CACJ,GAAC,CAAAhY,IAAA,iBAAAE,MACD,WACI,OAAOf,KAAK6lB,KAAKvlB,OACrB,GAAC,CAAAO,IAAA,eAAAE,MACD,SAAa8D,GACT,OAAO7E,KAAK6lB,KAAKrK,gBAAgB3W,EACrC,GAAC,CAAAhE,IAAA,QAAAE,MACD,SAAM0H,GACFzI,KAAKqwB,gBAAgB7vB,MAAMiI,EAC/B,GAAC,CAAA5H,IAAA,cAAAE,MACD,SAAA+G,GAAuC,IAAAuU,EAAA,KAAzBrU,EAAOF,EAAPE,QAAST,EAAYO,EAAZP,aACnB,MAAO,CAAES,QAAAA,EAASD,SAAUC,EAAQxB,KAAI,SAAAgC,GAAC,OAAI6T,EAAKwJ,KAAKve,QAAQkB,EAAE,IAAGjB,aAAAA,EACxE,GAAC,CAAA1G,IAAA,iBAAAE,MACD,WACI,IAAM8mB,EAAQ7nB,KAAK6nB,MAAM/mB,MACzBd,KAAK6lB,KAAKvlB,QAAQ+M,UAAU2F,OAAO,kBAAmB6U,EAAMnkB,OAAS,GACrE1D,KAAKkwB,6BACT,GAAC,CAAArvB,IAAA,8BAAAE,MACD,WACI,IAAIK,EAGI6V,EAFF4Q,EAAQ7nB,KAAK6nB,MAAM/mB,MACrB+mB,EAAMnkB,OAAS,IAE2B,QAArCtC,EAAKpB,KAAKgG,6BAA0C,IAAP5E,OAAgB,EAASA,EAAGwyB,yBAC1E3c,EAAKjX,KAAKgG,sBAAsB4tB,sBAAsB5zB,KAAK6lB,KAAKve,QAAQugB,EAAM,MAElF7nB,KAAK6lB,KAAKvlB,QAAQma,aAAa,wBAAyBxD,GAAMjX,KAAK6lB,KAAKrK,gBAAgBqM,EAAM,MAG9F7nB,KAAK6lB,KAAKvlB,QAAQ4B,gBAAgB,wBAE1C,GAAC,CAAArB,IAAA,qBAAAE,MACD,WACI,IAAMmrB,EAAYlsB,KAAKksB,UAAUprB,MACjCd,KAAK6lB,KAAKvlB,QAAQ+M,UAAU2F,OAAO,iBAAuC,IAArBkZ,EAAUxoB,QAC/D1D,KAAK6lB,KAAKvlB,QAAQ+M,UAAU2F,OAAO,mBAAyC,IAArBkZ,EAAUxoB,QACjE1D,KAAK6lB,KAAKvlB,QAAQ+M,UAAU2F,OAAO,qBAAsBkZ,EAAUxoB,OAAS,EAChF,GAAC,CAAA7C,IAAA,UAAAE,MACD,WACIf,KAAK+vB,cAAcha,OACnB/V,KAAKmS,YAAYlN,UACjBjF,KAAK+vB,cAAc9qB,SACvB,KAAC0B,CAAA,CA/aY,GAibjBkH,EAAW,CACPuU,EAAAA,GACDzb,GAAK0b,UAAW,mBAAoB,MACvCxU,EAAW,CACPuU,EAAAA,GACDzb,GAAK0b,UAAW,uBAAwB,MAC3CxU,EAAW,CACPuU,EAAAA,GACDzb,GAAK0b,UAAW,gBAAiB,MACpCxU,EAAW,CACPuU,EAAAA,GACDzb,GAAK0b,UAAW,YAAa,MAChCxU,EAAW,CACPuU,EAAAA,GACDzb,GAAK0b,UAAW,aAAc,K,6DCz3CtBwR,E,kRAFEC,EAAsB,kCACtBC,EAA8B,4BAE3C,SAAWF,GACPA,EAAUA,EAAiB,MAAI,GAAK,QACpCA,EAAUA,EAAgB,KAAI,GAAK,MACtC,CAHD,CAGGA,IAAcA,EAAY,CAAC,IACvB,IAAMG,EAAI,SAAAC,IAAAvR,EAAAA,EAAAA,GAAAsR,EAAAC,GAAA,IAAAtR,GAAAC,EAAAA,EAAAA,GAAAoR,GACb,SAAAA,EAAYp0B,EAAWs0B,EAASp0B,EAASq0B,GAAY,IAAAnvB,GAAAjF,EAAAA,EAAAA,GAAA,KAAAi0B,GACjDp0B,EAAUyN,UAAU1J,IAAI,yBACxB/D,EAAU6a,aAAa,OAAQ,gBAC/B,IAAM2Z,EAAcxhB,SAASC,cAAc,OAC3CuhB,EAAY/mB,UAAU1J,IAAI,eAC1BywB,EAAY3Z,aAAa,OAAQ,iBACjCzV,EAAA2d,EAAArE,KAAA,KAAM8V,EAAa,CACfC,YAAa,EACbC,uBAAwB,SAAAC,GAAM,OAAIvvB,EAAKwvB,oBAAoBD,EAAQz0B,EAAS20B,EAAW,EACvFC,QAAS50B,EAAQ40B,QACjBC,aAAc70B,EAAQ60B,aACtBhL,UAAW7pB,EAAQ6pB,UACnBiL,SAAU,OACVC,uBAAuB,EACvBC,YAAa,CAAEC,KAAM,CAAC,GAAE/wB,QAAAgM,EAAAA,EAAAA,GAAyBglB,EAAAA,IAAeC,EAAAA,GAAU,CAAC,IAA0B,KAAMC,SAAS,MAEnHf,WAAaA,EAClBnvB,EAAKovB,YAAcA,EACnBpvB,EAAKmwB,YAAYpiB,SAAW,EAC5B/N,EAAKowB,gBAAkBpwB,EAAKqwB,UAAU,IAAIjjB,EAAAA,IAC1CpN,EAAKswB,6BAA6B11B,EAAWu0B,GAC7CnvB,EAAKqwB,UAAU9hB,EAAAA,EAAQC,UAAU4gB,KACjC3f,EAAAA,EAAAA,uBAAsB2f,EAAamB,EAAAA,UAAUC,UAAU,SAACvtB,GACtC,IAAIsf,EAAAA,EAAsBtf,GAE9B9D,OAAO,IACb8D,EAAEqV,gBAEV,IACIxd,EAAQ21B,iBACRzwB,EAAKowB,gBAAgBzxB,KAAI8Q,EAAAA,EAAAA,uBAAsB2f,EAAamB,EAAAA,UAAUC,UAAU,SAACvtB,GAC7E,IAAMpH,EAAMoH,EAAEpH,IAAI60B,oBAClB,GAAI1wB,EAAK2wB,UAAUhpB,IAAI9L,GAAM,CACzByoB,EAAAA,YAAYC,KAAKthB,GAAG,GACpB,IAAMisB,EAAUlvB,EAAK2wB,UAAU70B,IAAID,GAOnC,GANuB,IAAnBqzB,EAAQxwB,SACJwwB,EAAQ,aAAc0B,GAA6B1B,EAAQ,GAAGt0B,WAC9DoF,EAAK6wB,mBAAmB3B,EAAQ,GAAGt0B,WAEvCs0B,EAAQ,GAAG4B,QAAQ7tB,IAEnBisB,EAAQxwB,OAAS,EAAG,CACpB,IAAM6wB,EAASL,EAAQrqB,QACnB0qB,GAAUA,EAAO30B,YACjBoF,EAAK6wB,mBAAmBtB,EAAO30B,WAC/Bs0B,EAAQzqB,KAAK8qB,IAEjBvvB,EAAK2wB,UAAUztB,IAAIrH,EAAKqzB,EAC5B,CACJ,CACJ,KAEAe,EAAAA,IACAjwB,EAAKqwB,WAAU5gB,EAAAA,EAAAA,uBAAsB2f,EAAamB,EAAAA,UAAUC,UAAU,SAAAvtB,GAClE,IAAM8S,EAAQ,IAAIwM,EAAAA,EAAsBtf,GACpC8S,EAAM5W,OAAO,KAA0B4W,EAAM5W,OAAO,KACpDa,EAAK+wB,YAAc/wB,EAAKgxB,UAAUtyB,OAAS,EAC3CsB,EAAK8iB,YACLwB,EAAAA,YAAYC,KAAKthB,GAAG,KAEf8S,EAAM5W,OAAO,KAAyB4W,EAAM5W,OAAO,OACxDa,EAAK+wB,YAAc,EACnB/wB,EAAK0iB,gBACL4B,EAAAA,YAAYC,KAAKthB,GAAG,GAE5B,KAEJjD,EAAKqwB,WAAU5gB,EAAAA,EAAAA,uBAAsBzP,EAAK1E,QAASi1B,EAAAA,UAAUU,WAAW,SAAAhuB,GACpE,IAAMiuB,EAAgBjuB,EAAEiuB,eACnBC,EAAAA,EAAAA,YAAWD,EAAelxB,EAAK1E,WAChC0E,EAAK+wB,iBAAcz2B,EACnB0F,EAAKoxB,cACLnuB,EAAEsV,kBAEV,KACAvY,EAAKqwB,WAAU5gB,EAAAA,EAAAA,uBAAsBzP,EAAKmwB,YAAaI,EAAAA,UAAUc,YAAY,SAAApuB,GACzE,IAAI8F,EAAS9F,EAAE8F,OACf,GAAKA,IAAWooB,EAAAA,EAAAA,YAAWpoB,EAAQ/I,EAAKmwB,cAAgBpnB,IAAW/I,EAAKmwB,YAAxE,CAGA,KAAOpnB,EAAOR,gBAAkBvI,EAAKmwB,aAAwC,OAAzBpnB,EAAOR,eACvDQ,EAASA,EAAOR,cAEpB,GAAIQ,EAAOV,UAAU4Q,SAAS,eAAgB,CAC1C,IAAMqY,EAAkBtxB,EAAK+wB,YAC7B/wB,EAAKuxB,eAAexoB,GAChBuoB,IAAoBtxB,EAAK+wB,aACzB/wB,EAAKoxB,aAEb,CAVA,CAWJ,KAEApxB,EAAKqwB,UAAU9hB,EAAAA,EAAQC,UAAUxO,EAAKmwB,cACtCnwB,EAAKqwB,WAAU5gB,EAAAA,EAAAA,uBAAsBzP,EAAKmwB,YAAazgB,EAAAA,EAAeqI,KAAK,SAAA9U,GACvE,IAAI8F,EAAS9F,EAAEgV,cACf,GAAKlP,IAAWooB,EAAAA,EAAAA,YAAWpoB,EAAQ/I,EAAKmwB,cAAgBpnB,IAAW/I,EAAKmwB,YAAxE,CAGA,KAAOpnB,EAAOR,gBAAkBvI,EAAKmwB,aAAwC,OAAzBpnB,EAAOR,eACvDQ,EAASA,EAAOR,cAEpB,GAAIQ,EAAOV,UAAU4Q,SAAS,eAAgB,CAC1C,IAAMqY,EAAkBtxB,EAAK+wB,YAC7B/wB,EAAKuxB,eAAexoB,GAChBuoB,IAAoBtxB,EAAK+wB,aACzB/wB,EAAKoxB,aAEb,CAVA,CAWJ,KACA,IAAM3B,EAAa,CACfnyB,QAAMk0B,EAAAA,EAAAA,GAAAxxB,IAEVA,EAAK2wB,UAAY,IAAItpB,IAErBrH,EAAKgP,kBAAoBhP,EAAKqwB,UAAU,IAAIoB,EAAAA,GAAqBrC,EAAa,CAC1E7kB,yBAAyB,EACzB2E,WAAY,EACZC,SAAU,EACVuiB,sBAAuB,EACvBC,kBAAkB,EAClBjoB,YAAY,KAEhB,IAAMkoB,EAAgB5xB,EAAKgP,kBAAkBO,aA4B1C,OA3BHqiB,EAAcp2B,MAAM8K,SAAW,GAC/BtG,EAAK6xB,mBAAmBD,EAAezC,GAEvCnvB,EAAKqwB,WAAU5gB,EAAAA,EAAAA,uBAAsB2f,EAAa1f,EAAAA,EAAeC,QAAQ,SAAA1M,GACrEqhB,EAAAA,YAAYC,KAAKthB,GAAG,GACpB,IAAM4M,EAAY7P,EAAKgP,kBAAkByH,oBAAoB5G,UAC7D7P,EAAKgP,kBAAkB2H,kBAAkB,CAAE9G,UAAWA,EAAY5M,EAAEuV,cACxE,KACAxY,EAAKqwB,WAAU5gB,EAAAA,EAAAA,uBAAsBmiB,EAAerB,EAAAA,UAAUuB,UAAU,SAAA7uB,GAGpEA,EAAEqV,gBACN,KACA8W,EAAY5zB,MAAMu2B,UAAY,GAAH/yB,OAAM2H,KAAK8J,IAAI,GAAIwF,OAAO+b,YAAcp3B,EAAUq3B,wBAAwB3c,IAAM,IAAG,MAC9G4Z,EAAUA,EAAQ/X,QAAO,SAAAlY,GACrB,IAAI7C,EACJ,QAAkC,QAA7BA,EAAKtB,EAAQo3B,kBAA+B,IAAP91B,OAAgB,EAASA,EAAGuL,IAAI1I,EAAEgT,OACxEmG,QAAQ+Z,KAAK,wBAADnzB,OAAyBC,EAAEgT,MAChC,EAGf,IACAjS,EAAKyE,KAAKyqB,EAAS,CAAEkD,MAAM,EAAMh0B,OAAO,EAAMi0B,QAAQ,IACtDz3B,EAAUe,YAAYqE,EAAKgP,kBAAkBO,cAC7CvP,EAAKgP,kBAAkBsjB,cACvBtyB,EAAKgxB,UAAU7Z,QAAO,SAAAhR,GAAI,QAAMA,aAAgBosB,EAA4B,IAAE7pB,SAAQ,SAACvC,EAAMtG,EAAO2yB,GAChGrsB,EAAKssB,oBAAoB5yB,EAAQ,EAAG2yB,EAAM9zB,OAC9C,IAAGsB,CACP,CAyGC,OAzGApE,EAAAA,EAAAA,GAAAozB,EAAA,EAAAnzB,IAAA,+BAAAE,MACD,SAA6BnB,EAAWY,GAC/BR,KAAK03B,cACFC,EAAAA,EAAAA,eAAc/3B,GACdI,KAAK03B,YAAapH,EAAAA,EAAAA,kBAAiB1wB,IAG9Bo0B,EAAK4D,mBACN5D,EAAK4D,kBAAmBtH,EAAAA,EAAAA,qBAE5BtwB,KAAK03B,WAAa1D,EAAK4D,mBAG/B53B,KAAK03B,WAAW1Z,YA+hBxB,SAA0Bxd,EAAOq3B,GAC7B,IAAIhvB,EAAkB,0FAAT7E,OAOf8zB,EAAWC,EAAAA,EAAQC,eAAc,MAAAh0B,OACjC8zB,EAAWC,EAAAA,EAAQE,aAAY,qoOAgS7B,GAAIJ,EAAgB,CAGhBhvB,GAAU,svCAmDV,IAAMqvB,EAAuB13B,EAAM23B,gBAC/BD,IACArvB,GAAU,+EAAJ7E,OAECk0B,EAAoB,oHAAAl0B,OAIpBk0B,EAAoB,wHAAAl0B,OAIpBk0B,EAAoB,gDAI/B,IAAME,EAAiC53B,EAAM63B,0BACzCD,IACAvvB,GAAU,wFAAJ7E,OAECo0B,EAA8B,yBAIzC,IAAME,EAAsC93B,EAAM+3B,+BAC9CD,IACAzvB,GAAU,8FAAJ7E,OAECs0B,EAAmC,yBAI9C,IAAME,EAAuCh4B,EAAMi4B,gCAC/CD,IACA3vB,GAAU,+FAAJ7E,OAECw0B,EAAoC,wBAInD,CACA,OAAO3vB,CACX,CAx6BsC6vB,CAAiBl4B,GAAOm3B,EAAAA,EAAAA,eAAc/3B,GACxE,GAAC,CAAAiB,IAAA,qBAAAE,MACD,SAAmB61B,EAAep2B,GAC9B,IAAIY,EAAIuP,EACFgoB,EAA2C,QAAhCv3B,EAAKZ,EAAMo4B,uBAAoC,IAAPx3B,EAAgBA,EAAK,GACxEy3B,EAA2C,QAAhCloB,EAAKnQ,EAAMoD,uBAAoC,IAAP+M,EAAgBA,EAAK,GACxEmoB,EAASt4B,EAAMqD,YAAc,aAAHG,OAAgBxD,EAAMqD,aAAgB,GAEhEk1B,EAASv4B,EAAMw4B,YAAc,aAAHh1B,OAAgBxD,EAAMw4B,aAAgB,GACtEpC,EAAcp2B,MAAMy4B,QAAUH,EAC9BlC,EAAcp2B,MAAM04B,aAHC,MAIrBtC,EAAcp2B,MAAMC,MAAQk4B,EAC5B/B,EAAcp2B,MAAMoD,gBAAkBi1B,EACtCjC,EAAcp2B,MAAMuD,UAAYg1B,CACpC,GAAC,CAAAl4B,IAAA,eAAAE,MACD,WACI,OAAOf,KAAKgU,kBAAkBO,YAClC,GAAC,CAAA1T,IAAA,WAAAC,IACD,WACI,OAAOd,KAAKgU,kBAAkBQ,QAClC,GAAC,CAAA3T,IAAA,qBAAAE,MACD,SAAmBuG,GACf,IAAMgvB,EAAkBt2B,KAAK+1B,YAC7B/1B,KAAKu2B,eAAejvB,GAChBgvB,IAAoBt2B,KAAK+1B,aACzB/1B,KAAKo2B,aAEb,GAAC,CAAAv1B,IAAA,iBAAAE,MACD,SAAeuG,GACX,IAAK,IAAIkB,EAAI,EAAGA,EAAIxI,KAAKm1B,YAAYgE,SAASz1B,OAAQ8E,IAAK,CAEvD,GAAIlB,IADStH,KAAKm1B,YAAYgE,SAAS3wB,GACjB,CAClBxI,KAAK+1B,YAAcvtB,EACnB,KACJ,CACJ,CACJ,GAAC,CAAA3H,IAAA,cAAAE,MACD,SAAYq4B,IACR1T,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAqO,EAAA3R,WAAA,oBAAA/D,KAAA,KAAkB8a,GAAW,GAAM,GACH,qBAArBp5B,KAAK+1B,aAIZ/1B,KAAKgU,kBAAkB2H,kBAAkB,CACrC9G,UAAWlJ,KAAK0tB,MAAMr5B,KAAKo0B,YAAYvf,YAGnD,GAAC,CAAAhU,IAAA,sBAAAE,MACD,SAAoBwzB,EAAQz0B,EAAS20B,GACjC,GAAIF,aAAkB+E,EAAAA,GAClB,OAAO,IAAI/B,EAA4Bz3B,EAAQ40B,QAASH,EAAQ,CAAE6C,MAAM,GAAQp3B,KAAKm0B,YAEpF,GAAII,aAAkBgF,EAAAA,GAAe,CACtC,IAAMC,EAAqB,IAAI5D,EAA0BrB,EAAQA,EAAOL,QAASO,EAAYt0B,OAAOyG,OAAOzG,OAAOyG,OAAO,CAAC,EAAG9G,GAAU,CAAEo3B,WAAY,IAAIh3B,IAAI,GAAD8D,QAAAgM,EAAAA,EAAAA,GAAMlQ,EAAQo3B,YAAc,IAAK,CAAA3C,EAAOtd,QAASjX,KAAKm0B,YAClN,GAAIr0B,EAAQ21B,gBAAiB,CACzB,IAAMgE,EAAWD,EAAmBE,cACpC,GAAID,GAAYD,EAAmBG,YAAa,CAC5C,IAAIC,EAAkB,GAClB55B,KAAK21B,UAAUhpB,IAAI8sB,KACnBG,EAAkB55B,KAAK21B,UAAU70B,IAAI24B,IAEzCG,EAAgBnwB,KAAK+vB,GACrBx5B,KAAK21B,UAAUztB,IAAIuxB,EAAUG,EACjC,CACJ,CACA,OAAOJ,CACX,CAEI,IAAMK,EAAkB,CAAEpE,gBAAiB31B,EAAQ21B,gBAAiBqE,kBAAmBh6B,EAAQg6B,mBAC/F,GAAIh6B,EAAQi6B,cAAe,CACvB,IAAM/4B,EAAalB,EAAQi6B,cAAcxF,GACzC,GAAIvzB,EAAY,CACZ,IAAMg5B,EAAkBh5B,EAAWi5B,WAC/BD,IACAH,EAAgB74B,WAAag5B,EAErC,CACJ,CACA,IAAMR,EAAqB,IAAIU,EAAuBp6B,EAAQ40B,QAASH,EAAQsF,EAAiB75B,KAAKm0B,YACrG,GAAIr0B,EAAQ21B,gBAAiB,CACzB,IAAMgE,EAAWD,EAAmBE,cACpC,GAAID,GAAYD,EAAmBG,YAAa,CAC5C,IAAIC,EAAkB,GAClB55B,KAAK21B,UAAUhpB,IAAI8sB,KACnBG,EAAkB55B,KAAK21B,UAAU70B,IAAI24B,IAEzCG,EAAgBnwB,KAAK+vB,GACrBx5B,KAAK21B,UAAUztB,IAAIuxB,EAAUG,EACjC,CACJ,CACA,OAAOJ,CAEf,KAACxF,CAAA,CAjQY,CAASmG,EAAAA,GAmQpBD,EAAsB,SAAAE,IAAA1X,EAAAA,EAAAA,GAAAwX,EAAAE,GAAA,IAAAC,GAAAzX,EAAAA,EAAAA,GAAAsX,GACxB,SAAAA,EAAYI,EAAK/F,EAAQz0B,EAASy6B,GAAW,IAAAj0B,EASzC,IATyCvG,EAAAA,EAAAA,GAAA,KAAAm6B,GACzCp6B,EAAQu3B,QAAS,GACjB/wB,EAAA+zB,EAAA/b,KAAA,KAAMiW,EAAQA,EAAQz0B,IACjBy6B,UAAYA,EACjBj0B,EAAKxG,QAAUA,EACfwG,EAAKxG,QAAQs3B,UAAwB93B,IAAjBQ,EAAQs3B,MAAqBt3B,EAAQs3B,KACzD9wB,EAAKxG,QAAQsD,WAA0B9D,IAAlBQ,EAAQsD,OAAsBtD,EAAQsD,MAC3DkD,EAAKk0B,SAAW,GAEZl0B,EAAKxG,QAAQsD,OAAStD,EAAQ21B,gBAAiB,CAC/C,IAAMryB,EAAQkD,EAAKiuB,OAAOnxB,MAC1B,GAAIA,EAAO,CACP,IAAMnC,EAAU6yB,EAAoB2G,KAAKr3B,GACrCnC,IACAqF,EAAKmzB,UAAcx4B,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAIy0B,oBAEjE,CACJ,CAwC4C,OAtC5CpvB,EAAKo0B,uBAAyB,IAAIC,EAAAA,IAAiB,WAC1Cr0B,EAAKgB,UAGVhB,EAAK+uB,WAAU5gB,EAAAA,EAAAA,uBAAsBnO,EAAKgB,QAASiuB,EAAAA,UAAUuB,UAAU,SAAA7uB,GAYnE,GARAqhB,EAAAA,YAAYC,KAAKthB,GAAG,GAQhB2yB,EAAAA,UAAW,CAIX,GAHmB,IAAIC,EAAAA,EAAmB5yB,GAG3B6yB,YACX,OAEJx0B,EAAKwvB,QAAQ7tB,EACjB,MAKImW,YAAW,WACP9X,EAAKwvB,QAAQ7tB,EACjB,GAAG,EAEX,KACA3B,EAAK+uB,WAAU5gB,EAAAA,EAAAA,uBAAsBnO,EAAKgB,QAASiuB,EAAAA,UAAUwF,cAAc,SAAA9yB,GACvEqhB,EAAAA,YAAYC,KAAKthB,GAAG,EACxB,KACJ,GAAG,KACH3B,EAAK+uB,UAAU/uB,EAAKo0B,wBAAwBp0B,CAChD,CAmKC,OAnKA1F,EAAAA,EAAAA,GAAAs5B,EAAA,EAAAr5B,IAAA,SAAAE,MACD,SAAOnB,IACH8lB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAuU,EAAA7X,WAAA,eAAA/D,KAAA,KAAa1e,GACRI,KAAKsH,UAGVtH,KAAKJ,UAAYA,EACjBI,KAAKmL,MAAO5K,EAAAA,EAAAA,QAAOP,KAAKsH,SAASpI,EAAAA,EAAAA,GAAE,uBAC/Bc,KAAKg7B,QAAQ/jB,KAAOqiB,EAAAA,GAAU2B,GAE9Bj7B,KAAKmL,KAAKsP,aAAa,OAAQ,iBAG/Bza,KAAKmL,KAAKsP,aAAa,OAAQ,YAC3Bza,KAAKy5B,UACLz5B,KAAKmL,KAAKsP,aAAa,oBAAqB,GAAFzW,OAAKhE,KAAKy5B,YAG5Dz5B,KAAKk7B,OAAQ36B,EAAAA,EAAAA,QAAOP,KAAKmL,MAAMjM,EAAAA,EAAAA,GAAE,uBAAyBi8B,EAAAA,EAAUC,cAAcrD,EAAAA,EAAQC,iBAC1Fh4B,KAAKk7B,MAAMzgB,aAAa,OAAQ,QAChCza,KAAKoD,OAAQ7C,EAAAA,EAAAA,QAAOP,KAAKmL,MAAMjM,EAAAA,EAAAA,GAAE,sBAC7Bc,KAAKF,QAAQsD,OAASpD,KAAKF,QAAQkB,cACnCT,EAAAA,EAAAA,QAAOP,KAAKmL,MAAMjM,EAAAA,EAAAA,GAAE,oBAAoB8e,YAAche,KAAKF,QAAQkB,YAGvEhB,KAAK06B,uBAAuBW,WAC5Br7B,KAAKs7B,cACLt7B,KAAKu7B,cACLv7B,KAAKw7B,gBACLx7B,KAAKy7B,gBACLz7B,KAAK07B,gBACL17B,KAAK27B,aACT,GAAC,CAAA96B,IAAA,OAAAE,MACD,YACI2kB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAuU,EAAA7X,WAAA,aAAA/D,KAAA,MACAte,KAAK27B,YACT,GAAC,CAAA96B,IAAA,QAAAE,MACD,WACI,IAAIK,GACJskB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAuU,EAAA7X,WAAA,cAAA/D,KAAA,MACqB,QAApBld,EAAKpB,KAAKmL,YAAyB,IAAP/J,GAAyBA,EAAGymB,QACzD7nB,KAAK27B,YACT,GAAC,CAAA96B,IAAA,sBAAAE,MACD,SAAoB66B,EAAKC,GACjB77B,KAAKmL,OACLnL,KAAKmL,KAAKsP,aAAa,gBAAiB,GAAFzW,OAAK43B,IAC3C57B,KAAKmL,KAAKsP,aAAa,eAAgB,GAAFzW,OAAK63B,IAElD,GAAC,CAAAh7B,IAAA,cAAAE,MACD,WACI,IAAIK,EACJ,GAAKpB,KAAKoD,OAGNpD,KAAKF,QAAQsD,MAAO,EACpBf,EAAAA,EAAAA,WAAUrC,KAAKoD,OACf,IAAIA,GAAQ04B,EAAAA,EAAAA,IAAW97B,KAAKu0B,OAAOnxB,OACnC,GAAIA,EAAO,CACP,IAAM24B,EA+Tf,SAAuB34B,GAC1B,IAAM44B,EAAQlI,EACR7yB,EAAU+6B,EAAMvB,KAAKr3B,GAC3B,IAAKnC,EACD,OAAOmC,EAEX,IAAM64B,GAAkBh7B,EAAQ,GAChC,OAAOmC,EAAM84B,QAAQF,EAAOC,EAAiB,OAAS,IAAIE,MAC9D,CAvUmCC,CAAch5B,GAC5BpD,KAAKF,QAAQ21B,kBACdryB,EAAQ24B,GAEZ/7B,KAAKoD,MAAMqX,aAAa,aAAcshB,EAAWG,QAAQ,MAAO,MAChE,IAAMj7B,EAAU6yB,EAAoB2G,KAAKr3B,GACzC,GAAInC,EAAS,CACTmC,EAAQi5B,EAAAA,GAAej5B,GAEvB2wB,EAA4BuI,UAAY,EAGxC,IAFA,IAAIC,EAAWxI,EAA4B0G,KAAKr3B,GAEzCm5B,GAAYA,EAAS,IACxBA,EAAWxI,EAA4B0G,KAAKr3B,GAEhD,IAAMo5B,EAAuB,SAACC,GAAG,OAAKA,EAAIP,QAAQ,cAAe,QAAQ,EACrEK,EACAv8B,KAAKoD,MAAM7C,OAAO87B,EAAAA,GAAcG,EAAqBp5B,EAAMs5B,OAAO,EAAGH,EAAS13B,QAAS,MAAM3F,EAAAA,EAAAA,GAAE,IAAK,CAAE,cAAe,QAAUq9B,EAAS,IAAKF,EAAAA,GAAcG,EAAqBp5B,EAAMs5B,OAAOH,EAAS13B,MAAQ03B,EAAS,GAAG74B,SAAU,MAGpO1D,KAAKoD,MAAMu5B,UAAYH,EAAqBp5B,GAAO+4B,OAElC,QAApB/6B,EAAKpB,KAAKmL,YAAyB,IAAP/J,GAAyBA,EAAGqZ,aAAa,qBAAwBxZ,EAAQ,GAAKA,EAAQ,GAAKA,EAAQ,IAAIy0B,oBACxI,MAEI11B,KAAKoD,MAAMu5B,UAAYv5B,EAAM84B,QAAQ,MAAO,KAAKC,MAEzD,CACJ,CACJ,GAAC,CAAAt7B,IAAA,gBAAAE,MACD,WACI,GACH,CAAAF,IAAA,cAAAE,MACD,WACoC,IAAA67B,EAA5B58B,KAAKw6B,UAAYx6B,KAAKmL,OACtByxB,EAAA58B,KAAKmL,KAAKkC,WAAUC,OAAMyC,MAAA6sB,GAAA5sB,EAAAA,EAAAA,GAAIhQ,KAAKw6B,SAASqC,MAAM,OAEtD,GAAI78B,KAAKF,QAAQs3B,MAAQp3B,KAAKoD,MAAO,CAGd,IAAA05B,EAAnB,GAFA98B,KAAKw6B,SAAWx6B,KAAKu0B,OAAOwI,OAAS,GACrC/8B,KAAKoD,MAAMiK,UAAU1J,IAAI,QACrB3D,KAAKw6B,UACLsC,EAAA98B,KAAKoD,MAAMiK,WAAU1J,IAAGoM,MAAA+sB,GAAA9sB,EAAAA,EAAAA,GAAIhQ,KAAKw6B,SAASqC,MAAM,OAEpD78B,KAAKy7B,eACT,MACSz7B,KAAKoD,OACVpD,KAAKoD,MAAMiK,UAAUC,OAAO,OAEpC,GAAC,CAAAzM,IAAA,gBAAAE,MACD,WACQf,KAAKu0B,OAAOhM,SACRvoB,KAAKsH,UACLtH,KAAKsH,QAAQ+F,UAAUC,OAAO,YAC9BtN,KAAKsH,QAAQpF,gBAAgB,kBAE7BlC,KAAKmL,OACLnL,KAAKmL,KAAKkC,UAAUC,OAAO,YAC3BtN,KAAKmL,KAAKjJ,gBAAgB,iBAC1BlC,KAAKmL,KAAK4H,SAAW,KAIrB/S,KAAKsH,UACLtH,KAAKsH,QAAQ+F,UAAU1J,IAAI,YAC3B3D,KAAKsH,QAAQmT,aAAa,gBAAiB,SAE3Cza,KAAKmL,OACLnL,KAAKmL,KAAKkC,UAAU1J,IAAI,YACxB3D,KAAKmL,KAAKsP,aAAa,gBAAiB,SAGpD,GAAC,CAAA5Z,IAAA,gBAAAE,MACD,WACI,GAAKf,KAAKmL,KAAV,CAGA,IAAMuP,EAAU1a,KAAKu0B,OAAO7Z,QAC5B1a,KAAKmL,KAAKkC,UAAU2F,OAAO,YAAa0H,QACxBpb,IAAZob,GACA1a,KAAKmL,KAAKsP,aAAa,OAAQ,oBAC/Bza,KAAKmL,KAAKsP,aAAa,eAAgBC,EAAU,OAAS,WAG1D1a,KAAKmL,KAAKsP,aAAa,OAAQ,YAC/Bza,KAAKmL,KAAKsP,aAAa,eAAgB,IAT3C,CAWJ,GAAC,CAAA5Z,IAAA,cAAAE,MACD,WACI,OAAOf,KAAKy5B,QAChB,GAAC,CAAA54B,IAAA,aAAAE,MACD,WACI,IAAMi8B,EAAah9B,KAAKsH,SAAWtH,KAAKsH,QAAQ+F,UAAU4Q,SAAS,WAC7D0a,EAAUqE,GAAch9B,KAAKu6B,UAAU0C,yBAA2Bj9B,KAAKu6B,UAAU0C,yBAA2Bj9B,KAAKu6B,UAAU3B,gBAC3HC,EAAUmE,GAAch9B,KAAKu6B,UAAU2C,yBAA2Bl9B,KAAKu6B,UAAU2C,8BAA2B59B,EAC5G25B,EAAU+D,GAAch9B,KAAKu6B,UAAU4C,qBAAuB,aAAHn5B,OAAgBhE,KAAKu6B,UAAU4C,sBAAyB,GACnHC,EAAgBJ,GAAch9B,KAAKu6B,UAAU4C,qBAAuB,OAAS,GAC/En9B,KAAKmL,OACLnL,KAAKmL,KAAK3K,MAAMC,MAAoB,OAAZk4B,QAAgC,IAAZA,EAAqBA,EAAU,GAC3E34B,KAAKmL,KAAK3K,MAAMoD,gBAA8B,OAAZi1B,QAAgC,IAAZA,EAAqBA,EAAU,GACrF74B,KAAKmL,KAAK3K,MAAMy4B,QAAUA,EAC1Bj5B,KAAKmL,KAAK3K,MAAM48B,cAAgBA,GAEhCp9B,KAAKk7B,QACLl7B,KAAKk7B,MAAM16B,MAAMC,MAAoB,OAAZk4B,QAAgC,IAAZA,EAAqBA,EAAU,GAEpF,KAACuB,CAAA,CA9NuB,CAASmD,EAAAA,IAgO/BzH,EAAyB,SAAA0H,IAAA5a,EAAAA,EAAAA,GAAAkT,EAAA0H,GAAA,IAAAC,GAAA3a,EAAAA,EAAAA,GAAAgT,GAC3B,SAAAA,EAAYrB,EAAQiJ,EAAgB/I,EAAYgJ,EAAgBtJ,GAAY,IAAAjtB,EAoBhE,OApBgEnH,EAAAA,EAAAA,GAAA,KAAA61B,IACxE1uB,EAAAq2B,EAAAjf,KAAA,KAAMiW,EAAQA,EAAQkJ,EAAgBtJ,IACjCqJ,eAAiBA,EACtBt2B,EAAKutB,WAAaA,EAClBvtB,EAAKu2B,eAAiBA,EACtBv2B,EAAKw2B,UAAY,KACjBx2B,EAAKy2B,mBAAqBz2B,EAAKmuB,UAAU,IAAIjjB,EAAAA,IAC7ClL,EAAK02B,WAAY,EACjB12B,EAAK22B,gBAAkBJ,QAAqDn+B,IAAnCm+B,EAAeI,gBAAgCJ,EAAeI,gBAAkBhK,EAAUiK,MACnI52B,EAAK62B,cAAgB,IAAIpD,EAAAA,IAAiB,WAClCzzB,EAAK02B,YACL12B,EAAK82B,wBAAuB,GAC5B92B,EAAK+2B,eAAc,GAE3B,GAAG,KACH/2B,EAAKg3B,cAAgB,IAAIvD,EAAAA,IAAiB,WAClCzzB,EAAKI,WAAa6uB,EAAAA,EAAAA,aAAWgI,EAAAA,EAAAA,oBAAoBj3B,EAAKI,UAAYJ,EAAKutB,WAAW2J,UAAYl3B,EAAKw2B,YACnGx2B,EAAKutB,WAAWnyB,OAAOulB,OAAM,GAC7B3gB,EAAK82B,wBAAuB,GAEpC,GAAG,KAAK92B,CACZ,CAgLC,OAhLAtG,EAAAA,EAAAA,GAAAg1B,EAAA,EAAA/0B,IAAA,SAAAE,MACD,SAAOnB,GAAW,IAAA6H,EAAA,MACdie,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAiQ,EAAAvT,WAAA,eAAA/D,KAAA,KAAa1e,GACRI,KAAKsH,UAGNtH,KAAKmL,OACLnL,KAAKmL,KAAKkC,UAAU1J,IAAI,uBACxB3D,KAAKmL,KAAK4H,SAAW,EACrB/S,KAAKmL,KAAKsP,aAAa,gBAAiB,QACxCza,KAAKq+B,mBAAmB,SACxBr+B,KAAKs+B,kBAAmB/9B,EAAAA,EAAAA,QAAOP,KAAKmL,MAAMjM,EAAAA,EAAAA,GAAE,yBAA2Bi8B,EAAAA,EAAUC,cAAcrD,EAAAA,EAAQE,eACvGj4B,KAAKs+B,iBAAiB7jB,aAAa,cAAe,SAEtDza,KAAKq1B,WAAU5gB,EAAAA,EAAAA,uBAAsBzU,KAAKsH,QAASiuB,EAAAA,UAAUgJ,QAAQ,SAAAt2B,GACjE,IAAM8S,EAAQ,IAAIwM,EAAAA,EAAsBtf,IACpC8S,EAAM5W,OAAO,KAAgC4W,EAAM5W,OAAO,MAC1DmlB,EAAAA,YAAYC,KAAKthB,GAAG,GACpBR,EAAKw2B,eAAc,GAE3B,KACAj+B,KAAKq1B,WAAU5gB,EAAAA,EAAAA,uBAAsBzU,KAAKsH,QAASiuB,EAAAA,UAAUC,UAAU,SAAAvtB,GACnE,IAAM8S,EAAQ,IAAIwM,EAAAA,EAAsBtf,IACpCk2B,EAAAA,EAAAA,sBAAuB12B,EAAK0D,OACxB4P,EAAM5W,OAAO,KAAgC4W,EAAM5W,OAAO,KAC1DmlB,EAAAA,YAAYC,KAAKthB,GAAG,EAGhC,KACAjI,KAAKq1B,WAAU5gB,EAAAA,EAAAA,uBAAsBzU,KAAKsH,QAASiuB,EAAAA,UAAUc,YAAY,SAAApuB,GAChER,EAAKm2B,YACNn2B,EAAKm2B,WAAY,EACjBn2B,EAAKs2B,cAAc1C,WAE3B,KACAr7B,KAAKq1B,WAAU5gB,EAAAA,EAAAA,uBAAsBzU,KAAKsH,QAASiuB,EAAAA,UAAUiJ,aAAa,SAAAv2B,GACtER,EAAKm2B,WAAY,CACrB,KACA59B,KAAKq1B,WAAU5gB,EAAAA,EAAAA,uBAAsBzU,KAAKsH,QAASiuB,EAAAA,UAAUkJ,WAAW,SAAAx2B,GAChER,EAAKH,WAAY6uB,EAAAA,EAAAA,aAAWgI,EAAAA,EAAAA,oBAAoB12B,EAAKH,UACrDG,EAAKy2B,cAAc7C,UAE3B,KACAr7B,KAAKq1B,UAAUr1B,KAAKy0B,WAAWnyB,OAAOkS,UAAS,WACvC/M,EAAKgtB,WAAW2J,UAAY32B,EAAKi2B,YACjCj2B,EAAKgtB,WAAWnyB,OAAOulB,OAAM,GAC7BpgB,EAAKu2B,wBAAuB,GAEpC,KACJ,GAAC,CAAAn9B,IAAA,gBAAAE,MACD,WAGI,GACH,CAAAF,IAAA,UAAAE,MACD,SAAQkH,GAEJqhB,EAAAA,YAAYC,KAAKthB,GAAG,GACpBjI,KAAKg+B,wBAAuB,GAC5Bh+B,KAAKi+B,eAAc,EACvB,GAAC,CAAAp9B,IAAA,yBAAAE,MACD,SAAuB29B,GACnB,GAAI1+B,KAAKy0B,WAAW2J,UAAYM,GAAU1+B,KAAKy0B,WAAW2J,UAAYp+B,KAAK09B,WAAa,CAEpF,IACI19B,KAAKy0B,WAAW2J,QAAQn5B,SAC5B,CACA,MAAO7D,GAAM,CACbpB,KAAKy0B,WAAW2J,aAAU9+B,EAC1BU,KAAKq+B,mBAAmB,SACpBr+B,KAAK2+B,mBACL3+B,KAAK29B,mBAAmBt8B,QACxBrB,KAAK2+B,sBAAmBr/B,EAEhC,CACJ,GAAC,CAAAuB,IAAA,6BAAAE,MACD,SAA2B69B,EAAkBR,EAASv4B,EAAOg4B,GACzD,IAAMgB,EAAM,CAAEvkB,IAAK,EAAGD,KAAM,GAiB5B,OAfAwkB,EAAIxkB,MAAOnF,EAAAA,EAAAA,IAAO0pB,EAAiBxpB,MAAOgpB,EAAQhpB,MAAO,CAAE9J,SAAUuyB,IAAoBhK,EAAUiK,MAAQ,EAAsC,EAAoCgB,OAAQj5B,EAAMwU,KAAM3Q,KAAM7D,EAAMuP,QAEjNypB,EAAIxkB,MAAQxU,EAAMwU,MAAQwkB,EAAIxkB,KAAOxU,EAAMwU,KAAOxU,EAAMuP,QACpDvP,EAAMwU,KAAO,GAAK+jB,EAAQhpB,OAASwpB,EAAiBxpB,QACpDypB,EAAIxkB,KAAOxU,EAAMwU,KAAO,IAE5BxU,EAAMyU,KAAO,GACbzU,EAAMd,OAAS,GAGnB85B,EAAIvkB,KAAMpF,EAAAA,EAAAA,IAAO0pB,EAAiB75B,OAAQq5B,EAAQr5B,OAAQ,CAAEuG,SAAU,EAAqCwzB,OAAQj5B,EAAMyU,IAAK5Q,KAAM,IAEhIm1B,EAAIvkB,IAAM8jB,EAAQr5B,SAAWc,EAAMyU,KAAOukB,EAAIvkB,IAAMzU,EAAMd,OAASq5B,EAAQr5B,QAAU65B,EAAiB75B,SACtG85B,EAAIvkB,KAAOzU,EAAMd,QAEd85B,CACX,GAAC,CAAAh+B,IAAA,gBAAAE,MACD,WAAsC,IAAA6G,EAAA,KAAxBm3B,IAAet7B,UAAAC,OAAA,QAAApE,IAAAmE,UAAA,KAAAA,UAAA,GACzB,GAAKzD,KAAKsH,QAGV,GAAKtH,KAAKy0B,WAAW2J,QAiDjBp+B,KAAKy0B,WAAW2J,QAAQvW,OAAM,OAjDJ,CAC1B7nB,KAAKq+B,mBAAmB,QACxBr+B,KAAK2+B,kBAAmBp+B,EAAAA,EAAAA,QAAOP,KAAKsH,SAASpI,EAAAA,EAAAA,GAAE,uBAC/Cc,KAAK2+B,iBAAiBtxB,UAAU1J,IAAI,4BAA6B,gBAGjE,IAAMq7B,EAAiB9jB,iBAAiBlb,KAAKy0B,WAAWnyB,OAAOhC,SACzD2+B,EAAa7jB,WAAW4jB,EAAeC,YAAc,MAAQ,EAEnEj/B,KAAK2+B,iBAAiBn+B,MAAM0+B,OAAS,IACrCl/B,KAAK2+B,iBAAiBn+B,MAAM8K,SAAW,QACvCtL,KAAK2+B,iBAAiBn+B,MAAM8Z,IAAM,IAClCta,KAAK2+B,iBAAiBn+B,MAAM6Z,KAAO,IACnCra,KAAKy0B,WAAW2J,QAAU,IAAIpK,EAAKh0B,KAAK2+B,iBAAkB3+B,KAAKw9B,eAAe95B,OAAS1D,KAAKw9B,eAAiB,CAAC,IAAI2B,EAAAA,IAAuBn/B,KAAKy9B,eAAgBz9B,KAAKu6B,WAEnK,IAAM6E,EAAWp/B,KAAKsH,QAAQ2vB,wBACxBoI,EAAkB,CACpB/kB,IAAK8kB,EAAS9kB,IAAM2kB,EACpB5kB,KAAM+kB,EAAS/kB,KACftV,OAAQq6B,EAASr6B,OAAS,EAAIk6B,EAC9B7pB,MAAOgqB,EAAShqB,OAEdkqB,EAAUt/B,KAAK2+B,iBAAiB1H,wBACtCsI,EAAsBv/B,KAAKw/B,2BAA2B,IAAIC,EAAAA,UAAUxkB,OAAOykB,WAAYzkB,OAAO+b,aAAcyI,EAAAA,UAAUE,KAAKL,GAAUD,EAAiBr/B,KAAK69B,iBAAnJvjB,EAAGilB,EAAHjlB,IAAKD,EAAIklB,EAAJllB,KAEbra,KAAK2+B,iBAAiBn+B,MAAM6Z,KAAO,GAAHrW,OAAMqW,EAAOilB,EAAQjlB,KAAI,MACzDra,KAAK2+B,iBAAiBn+B,MAAM8Z,IAAM,GAAHtW,OAAMsW,EAAMglB,EAAQhlB,IAAG,MACtDta,KAAK29B,mBAAmBh6B,KAAI8Q,EAAAA,EAAAA,uBAAsBzU,KAAK2+B,iBAAkBpJ,EAAAA,UAAUgJ,QAAQ,SAAAt2B,GACzE,IAAIsf,EAAAA,EAAsBtf,GAC9B9D,OAAO,MACbmlB,EAAAA,YAAYC,KAAKthB,GAAG,GACpBL,EAAK6sB,WAAWnyB,OAAOulB,QACvBjgB,EAAKo2B,wBAAuB,GAEpC,KACAh+B,KAAK29B,mBAAmBh6B,KAAI8Q,EAAAA,EAAAA,uBAAsBzU,KAAK2+B,iBAAkBpJ,EAAAA,UAAUC,UAAU,SAAAvtB,GAC3E,IAAIsf,EAAAA,EAAsBtf,GAC9B9D,OAAO,KACbmlB,EAAAA,YAAYC,KAAKthB,GAAG,EAE5B,KACAjI,KAAK29B,mBAAmBh6B,IAAI3D,KAAKy0B,WAAW2J,QAAQwB,aAAY,WAC5Dh4B,EAAK6sB,WAAWnyB,OAAOulB,QACvBjgB,EAAKo2B,wBAAuB,EAChC,KACAh+B,KAAKy0B,WAAW2J,QAAQvW,MAAMkX,GAC9B/+B,KAAK09B,UAAY19B,KAAKy0B,WAAW2J,OACrC,CAIJ,GAAC,CAAAv9B,IAAA,qBAAAE,MACD,SAAmBA,GACf,IAAIK,EACApB,KAAKmL,OACgB,QAApB/J,EAAKpB,KAAKmL,YAAyB,IAAP/J,GAAyBA,EAAGqZ,aAAa,gBAAiB1Z,GAE/F,GAAC,CAAAF,IAAA,aAAAE,MACD,YACI2kB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAiQ,EAAAvT,WAAA,mBAAA/D,KAAA,MACA,IACMqa,EADa34B,KAAKsH,SAAWtH,KAAKsH,QAAQ+F,UAAU4Q,SAAS,YACrCje,KAAKu6B,UAAU0C,yBAA2Bj9B,KAAKu6B,UAAU0C,yBAA2Bj9B,KAAKu6B,UAAU3B,gBAC7H54B,KAAKs+B,mBACLt+B,KAAKs+B,iBAAiB99B,MAAMC,MAAoB,OAAZk4B,QAAgC,IAAZA,EAAqBA,EAAU,GAE/F,GAAC,CAAA93B,IAAA,UAAAE,MACD,YACI2kB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAiQ,EAAAvT,WAAA,gBAAA/D,KAAA,MACAte,KAAKk+B,cAAcj5B,UACfjF,KAAK09B,YACL19B,KAAK09B,UAAUz4B,UACfjF,KAAK09B,UAAY,MAEjB19B,KAAK2+B,mBACL3+B,KAAK2+B,sBAAmBr/B,EAEhC,KAACs2B,CAAA,CAtM0B,CAASsE,GAwMlC3C,EAA2B,SAAAsI,IAAAnd,EAAAA,EAAAA,GAAA6U,EAAAsI,GAAA,IAAAC,GAAAld,EAAAA,EAAAA,GAAA2U,GAC7B,SAAAA,EAAY7C,EAASH,EAAQz0B,EAASq0B,GAAY,IAAA5rB,EAEjB,OAFiBxI,EAAAA,EAAAA,GAAA,KAAAw3B,IAC9ChvB,EAAAu3B,EAAAxhB,KAAA,KAAMoW,EAASH,EAAQz0B,IAClBq0B,WAAaA,EAAW5rB,CACjC,CAMC,OANA3H,EAAAA,EAAAA,GAAA22B,EAAA,EAAA12B,IAAA,SAAAE,MACD,SAAOnB,IACH8lB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAA4R,EAAAlV,WAAA,eAAA/D,KAAA,KAAa1e,GACTI,KAAKoD,QACLpD,KAAKoD,MAAM5C,MAAMsD,kBAAoB9D,KAAKm0B,WAAW4L,eAAiB,GAAH/7B,OAAMhE,KAAKm0B,WAAW4L,gBAAmB,GAEpH,KAACxI,CAAA,CAV4B,CAASyI,EAAAA,IAqBnC,SAASlI,EAAW5pB,GACvB,IAAM+xB,GAAgBC,EAAAA,EAAAA,KAA2BhyB,EAAE+I,IACnD,MAAO,YAAPjT,OAAmBkK,EAAE+I,GAAE,0BAAAjT,OAAyBi8B,EAAcha,SAAS,IAAG,OAC9E,C","sources":["../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/base/browser/ui/keybindingLabel/keybindingLabel.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listPaging.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/base/browser/ui/list/rangeMap.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/base/browser/ui/list/rowCache.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/base/browser/ui/list/splice.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/base/browser/ui/list/list.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listWidget.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/base/browser/ui/menu/menu.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../dom.js';\nimport { UILabelProvider } from '../../../common/keybindingLabels.js';\nimport { equals } from '../../../common/objects.js';\nimport './keybindingLabel.css';\nimport { localize } from '../../../../nls.js';\nconst $ = dom.$;\nexport const unthemedKeybindingLabelOptions = {\n    keybindingLabelBackground: undefined,\n    keybindingLabelForeground: undefined,\n    keybindingLabelBorder: undefined,\n    keybindingLabelBottomBorder: undefined,\n    keybindingLabelShadow: undefined\n};\nexport class KeybindingLabel {\n    constructor(container, os, options) {\n        this.os = os;\n        this.keyElements = new Set();\n        this.options = options || Object.create(null);\n        const labelForeground = this.options.keybindingLabelForeground;\n        this.domNode = dom.append(container, $('.monaco-keybinding'));\n        if (labelForeground) {\n            this.domNode.style.color = labelForeground;\n        }\n        this.didEverRender = false;\n        container.appendChild(this.domNode);\n    }\n    get element() {\n        return this.domNode;\n    }\n    set(keybinding, matches) {\n        if (this.didEverRender && this.keybinding === keybinding && KeybindingLabel.areSame(this.matches, matches)) {\n            return;\n        }\n        this.keybinding = keybinding;\n        this.matches = matches;\n        this.render();\n    }\n    render() {\n        var _a;\n        this.clear();\n        if (this.keybinding) {\n            const [firstChord, secondChord] = this.keybinding.getChords(); // TODO@chords\n            if (firstChord) {\n                this.renderChord(this.domNode, firstChord, this.matches ? this.matches.firstPart : null);\n            }\n            if (secondChord) {\n                dom.append(this.domNode, $('span.monaco-keybinding-key-chord-separator', undefined, ' '));\n                this.renderChord(this.domNode, secondChord, this.matches ? this.matches.chordPart : null);\n            }\n            const title = ((_a = this.options.disableTitle) !== null && _a !== void 0 ? _a : false) ? undefined : this.keybinding.getAriaLabel() || undefined;\n            if (title !== undefined) {\n                this.domNode.title = title;\n            }\n            else {\n                this.domNode.removeAttribute('title');\n            }\n        }\n        else if (this.options && this.options.renderUnboundKeybindings) {\n            this.renderUnbound(this.domNode);\n        }\n        this.didEverRender = true;\n    }\n    clear() {\n        dom.clearNode(this.domNode);\n        this.keyElements.clear();\n    }\n    renderChord(parent, chord, match) {\n        const modifierLabels = UILabelProvider.modifierLabels[this.os];\n        if (chord.ctrlKey) {\n            this.renderKey(parent, modifierLabels.ctrlKey, Boolean(match === null || match === void 0 ? void 0 : match.ctrlKey), modifierLabels.separator);\n        }\n        if (chord.shiftKey) {\n            this.renderKey(parent, modifierLabels.shiftKey, Boolean(match === null || match === void 0 ? void 0 : match.shiftKey), modifierLabels.separator);\n        }\n        if (chord.altKey) {\n            this.renderKey(parent, modifierLabels.altKey, Boolean(match === null || match === void 0 ? void 0 : match.altKey), modifierLabels.separator);\n        }\n        if (chord.metaKey) {\n            this.renderKey(parent, modifierLabels.metaKey, Boolean(match === null || match === void 0 ? void 0 : match.metaKey), modifierLabels.separator);\n        }\n        const keyLabel = chord.keyLabel;\n        if (keyLabel) {\n            this.renderKey(parent, keyLabel, Boolean(match === null || match === void 0 ? void 0 : match.keyCode), '');\n        }\n    }\n    renderKey(parent, label, highlight, separator) {\n        dom.append(parent, this.createKeyElement(label, highlight ? '.highlight' : ''));\n        if (separator) {\n            dom.append(parent, $('span.monaco-keybinding-key-separator', undefined, separator));\n        }\n    }\n    renderUnbound(parent) {\n        dom.append(parent, this.createKeyElement(localize('unbound', \"Unbound\")));\n    }\n    createKeyElement(label, extraClass = '') {\n        const keyElement = $('span.monaco-keybinding-key' + extraClass, undefined, label);\n        this.keyElements.add(keyElement);\n        if (this.options.keybindingLabelBackground) {\n            keyElement.style.backgroundColor = this.options.keybindingLabelBackground;\n        }\n        if (this.options.keybindingLabelBorder) {\n            keyElement.style.borderColor = this.options.keybindingLabelBorder;\n        }\n        if (this.options.keybindingLabelBottomBorder) {\n            keyElement.style.borderBottomColor = this.options.keybindingLabelBottomBorder;\n        }\n        if (this.options.keybindingLabelShadow) {\n            keyElement.style.boxShadow = `inset 0 -1px 0 ${this.options.keybindingLabelShadow}`;\n        }\n        return keyElement;\n    }\n    static areSame(a, b) {\n        if (a === b || (!a && !b)) {\n            return true;\n        }\n        return !!a && !!b && equals(a.firstPart, b.firstPart) && equals(a.chordPart, b.chordPart);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { range } from '../../../common/arrays.js';\nimport { CancellationTokenSource } from '../../../common/cancellation.js';\nimport { Event } from '../../../common/event.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './list.css';\nimport { List } from './listWidget.js';\nclass PagedRenderer {\n    get templateId() { return this.renderer.templateId; }\n    constructor(renderer, modelProvider) {\n        this.renderer = renderer;\n        this.modelProvider = modelProvider;\n    }\n    renderTemplate(container) {\n        const data = this.renderer.renderTemplate(container);\n        return { data, disposable: Disposable.None };\n    }\n    renderElement(index, _, data, height) {\n        var _a;\n        (_a = data.disposable) === null || _a === void 0 ? void 0 : _a.dispose();\n        if (!data.data) {\n            return;\n        }\n        const model = this.modelProvider();\n        if (model.isResolved(index)) {\n            return this.renderer.renderElement(model.get(index), index, data.data, height);\n        }\n        const cts = new CancellationTokenSource();\n        const promise = model.resolve(index, cts.token);\n        data.disposable = { dispose: () => cts.cancel() };\n        this.renderer.renderPlaceholder(index, data.data);\n        promise.then(entry => this.renderer.renderElement(entry, index, data.data, height));\n    }\n    disposeTemplate(data) {\n        if (data.disposable) {\n            data.disposable.dispose();\n            data.disposable = undefined;\n        }\n        if (data.data) {\n            this.renderer.disposeTemplate(data.data);\n            data.data = undefined;\n        }\n    }\n}\nclass PagedAccessibilityProvider {\n    constructor(modelProvider, accessibilityProvider) {\n        this.modelProvider = modelProvider;\n        this.accessibilityProvider = accessibilityProvider;\n    }\n    getWidgetAriaLabel() {\n        return this.accessibilityProvider.getWidgetAriaLabel();\n    }\n    getAriaLabel(index) {\n        const model = this.modelProvider();\n        if (!model.isResolved(index)) {\n            return null;\n        }\n        return this.accessibilityProvider.getAriaLabel(model.get(index));\n    }\n}\nfunction fromPagedListOptions(modelProvider, options) {\n    return Object.assign(Object.assign({}, options), { accessibilityProvider: options.accessibilityProvider && new PagedAccessibilityProvider(modelProvider, options.accessibilityProvider) });\n}\nexport class PagedList {\n    constructor(user, container, virtualDelegate, renderers, options = {}) {\n        const modelProvider = () => this.model;\n        const pagedRenderers = renderers.map(r => new PagedRenderer(r, modelProvider));\n        this.list = new List(user, container, virtualDelegate, pagedRenderers, fromPagedListOptions(modelProvider, options));\n    }\n    updateOptions(options) {\n        this.list.updateOptions(options);\n    }\n    getHTMLElement() {\n        return this.list.getHTMLElement();\n    }\n    get onDidFocus() {\n        return this.list.onDidFocus;\n    }\n    get onDidDispose() {\n        return this.list.onDidDispose;\n    }\n    get onMouseDblClick() {\n        return Event.map(this.list.onMouseDblClick, ({ element, index, browserEvent }) => ({ element: element === undefined ? undefined : this._model.get(element), index, browserEvent }));\n    }\n    get onPointer() {\n        return Event.map(this.list.onPointer, ({ element, index, browserEvent }) => ({ element: element === undefined ? undefined : this._model.get(element), index, browserEvent }));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, ({ elements, indexes, browserEvent }) => ({ elements: elements.map(e => this._model.get(e)), indexes, browserEvent }));\n    }\n    get model() {\n        return this._model;\n    }\n    set model(model) {\n        this._model = model;\n        this.list.splice(0, this.list.length, range(model.length));\n    }\n    getFocus() {\n        return this.list.getFocus();\n    }\n    getSelection() {\n        return this.list.getSelection();\n    }\n    getSelectedElements() {\n        return this.getSelection().map(i => this.model.get(i));\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n    dispose() {\n        this.list.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../../../common/range.js';\n/**\n * Returns the intersection between a ranged group and a range.\n * Returns `[]` if the intersection is empty.\n */\nexport function groupIntersect(range, groups) {\n    const result = [];\n    for (const r of groups) {\n        if (range.start >= r.range.end) {\n            continue;\n        }\n        if (range.end < r.range.start) {\n            break;\n        }\n        const intersection = Range.intersect(range, r.range);\n        if (Range.isEmpty(intersection)) {\n            continue;\n        }\n        result.push({\n            range: intersection,\n            size: r.size\n        });\n    }\n    return result;\n}\n/**\n * Shifts a range by that `much`.\n */\nexport function shift({ start, end }, much) {\n    return { start: start + much, end: end + much };\n}\n/**\n * Consolidates a collection of ranged groups.\n *\n * Consolidation is the process of merging consecutive ranged groups\n * that share the same `size`.\n */\nexport function consolidate(groups) {\n    const result = [];\n    let previousGroup = null;\n    for (const group of groups) {\n        const start = group.range.start;\n        const end = group.range.end;\n        const size = group.size;\n        if (previousGroup && size === previousGroup.size) {\n            previousGroup.range.end = end;\n            continue;\n        }\n        previousGroup = { range: { start, end }, size };\n        result.push(previousGroup);\n    }\n    return result;\n}\n/**\n * Concatenates several collections of ranged groups into a single\n * collection.\n */\nfunction concat(...groups) {\n    return consolidate(groups.reduce((r, g) => r.concat(g), []));\n}\nexport class RangeMap {\n    constructor() {\n        this.groups = [];\n        this._size = 0;\n    }\n    splice(index, deleteCount, items = []) {\n        const diff = items.length - deleteCount;\n        const before = groupIntersect({ start: 0, end: index }, this.groups);\n        const after = groupIntersect({ start: index + deleteCount, end: Number.POSITIVE_INFINITY }, this.groups)\n            .map(g => ({ range: shift(g.range, diff), size: g.size }));\n        const middle = items.map((item, i) => ({\n            range: { start: index + i, end: index + i + 1 },\n            size: item.size\n        }));\n        this.groups = concat(before, middle, after);\n        this._size = this.groups.reduce((t, g) => t + (g.size * (g.range.end - g.range.start)), 0);\n    }\n    /**\n     * Returns the number of items in the range map.\n     */\n    get count() {\n        const len = this.groups.length;\n        if (!len) {\n            return 0;\n        }\n        return this.groups[len - 1].range.end;\n    }\n    /**\n     * Returns the sum of the sizes of all items in the range map.\n     */\n    get size() {\n        return this._size;\n    }\n    /**\n     * Returns the index of the item at the given position.\n     */\n    indexAt(position) {\n        if (position < 0) {\n            return -1;\n        }\n        let index = 0;\n        let size = 0;\n        for (const group of this.groups) {\n            const count = group.range.end - group.range.start;\n            const newSize = size + (count * group.size);\n            if (position < newSize) {\n                return index + Math.floor((position - size) / group.size);\n            }\n            index += count;\n            size = newSize;\n        }\n        return index;\n    }\n    /**\n     * Returns the index of the item right after the item at the\n     * index of the given position.\n     */\n    indexAfter(position) {\n        return Math.min(this.indexAt(position) + 1, this.count);\n    }\n    /**\n     * Returns the start position of the item at the given index.\n     */\n    positionAt(index) {\n        if (index < 0) {\n            return -1;\n        }\n        let position = 0;\n        let count = 0;\n        for (const group of this.groups) {\n            const groupCount = group.range.end - group.range.start;\n            const newCount = count + groupCount;\n            if (index < newCount) {\n                return position + ((index - count) * group.size);\n            }\n            position += groupCount * group.size;\n            count = newCount;\n        }\n        return -1;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { $ } from '../../dom.js';\nfunction removeFromParent(element) {\n    var _a;\n    try {\n        (_a = element.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(element);\n    }\n    catch (e) {\n        // this will throw if this happens due to a blur event, nasty business\n    }\n}\nexport class RowCache {\n    constructor(renderers) {\n        this.renderers = renderers;\n        this.cache = new Map();\n        this.transactionNodesPendingRemoval = new Set();\n        this.inTransaction = false;\n    }\n    /**\n     * Returns a row either by creating a new one or reusing\n     * a previously released row which shares the same templateId.\n     *\n     * @returns A row and `isReusingConnectedDomNode` if the row's node is already in the dom in a stale position.\n     */\n    alloc(templateId) {\n        let result = this.getTemplateCache(templateId).pop();\n        let isStale = false;\n        if (result) {\n            isStale = this.transactionNodesPendingRemoval.has(result.domNode);\n            if (isStale) {\n                this.transactionNodesPendingRemoval.delete(result.domNode);\n            }\n        }\n        else {\n            const domNode = $('.monaco-list-row');\n            const renderer = this.getRenderer(templateId);\n            const templateData = renderer.renderTemplate(domNode);\n            result = { domNode, templateId, templateData };\n        }\n        return { row: result, isReusingConnectedDomNode: isStale };\n    }\n    /**\n     * Releases the row for eventual reuse.\n     */\n    release(row) {\n        if (!row) {\n            return;\n        }\n        this.releaseRow(row);\n    }\n    /**\n     * Begin a set of changes that use the cache. This lets us skip work when a row is removed and then inserted again.\n     */\n    transact(makeChanges) {\n        if (this.inTransaction) {\n            throw new Error('Already in transaction');\n        }\n        this.inTransaction = true;\n        try {\n            makeChanges();\n        }\n        finally {\n            for (const domNode of this.transactionNodesPendingRemoval) {\n                this.doRemoveNode(domNode);\n            }\n            this.transactionNodesPendingRemoval.clear();\n            this.inTransaction = false;\n        }\n    }\n    releaseRow(row) {\n        const { domNode, templateId } = row;\n        if (domNode) {\n            if (this.inTransaction) {\n                this.transactionNodesPendingRemoval.add(domNode);\n            }\n            else {\n                this.doRemoveNode(domNode);\n            }\n        }\n        const cache = this.getTemplateCache(templateId);\n        cache.push(row);\n    }\n    doRemoveNode(domNode) {\n        domNode.classList.remove('scrolling');\n        removeFromParent(domNode);\n    }\n    getTemplateCache(templateId) {\n        let result = this.cache.get(templateId);\n        if (!result) {\n            result = [];\n            this.cache.set(templateId, result);\n        }\n        return result;\n    }\n    dispose() {\n        this.cache.forEach((cachedRows, templateId) => {\n            for (const cachedRow of cachedRows) {\n                const renderer = this.getRenderer(templateId);\n                renderer.disposeTemplate(cachedRow.templateData);\n                cachedRow.templateData = null;\n            }\n        });\n        this.cache.clear();\n        this.transactionNodesPendingRemoval.clear();\n    }\n    getRenderer(templateId) {\n        const renderer = this.renderers.get(templateId);\n        if (!renderer) {\n            throw new Error(`No renderer found for ${templateId}`);\n        }\n        return renderer;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { DataTransfers } from '../../dnd.js';\nimport { $, addDisposableListener, animate, getContentHeight, getContentWidth, getTopLeftOffset, scheduleAtNextAnimationFrame } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { SmoothScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { distinct, equals } from '../../../common/arrays.js';\nimport { Delayer, disposableTimeout } from '../../../common/async.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { Disposable, DisposableStore, dispose, toDisposable } from '../../../common/lifecycle.js';\nimport { Range } from '../../../common/range.js';\nimport { Scrollable } from '../../../common/scrollable.js';\nimport { RangeMap, shift } from './rangeMap.js';\nimport { RowCache } from './rowCache.js';\nimport { BugIndicatingError } from '../../../common/errors.js';\nconst StaticDND = {\n    CurrentDragAndDropData: undefined\n};\nconst DefaultOptions = {\n    useShadows: true,\n    verticalScrollMode: 1 /* ScrollbarVisibility.Auto */,\n    setRowLineHeight: true,\n    setRowHeight: true,\n    supportDynamicHeights: false,\n    dnd: {\n        getDragElements(e) { return [e]; },\n        getDragURI() { return null; },\n        onDragStart() { },\n        onDragOver() { return false; },\n        drop() { }\n    },\n    horizontalScrolling: false,\n    transformOptimization: true,\n    alwaysConsumeMouseWheel: true,\n};\nexport class ElementsDragAndDropData {\n    constructor(elements) {\n        this.elements = elements;\n    }\n    update() { }\n    getData() {\n        return this.elements;\n    }\n}\nexport class ExternalElementsDragAndDropData {\n    constructor(elements) {\n        this.elements = elements;\n    }\n    update() { }\n    getData() {\n        return this.elements;\n    }\n}\nexport class NativeDragAndDropData {\n    constructor() {\n        this.types = [];\n        this.files = [];\n    }\n    update(dataTransfer) {\n        if (dataTransfer.types) {\n            this.types.splice(0, this.types.length, ...dataTransfer.types);\n        }\n        if (dataTransfer.files) {\n            this.files.splice(0, this.files.length);\n            for (let i = 0; i < dataTransfer.files.length; i++) {\n                const file = dataTransfer.files.item(i);\n                if (file && (file.size || file.type)) {\n                    this.files.push(file);\n                }\n            }\n        }\n    }\n    getData() {\n        return {\n            types: this.types,\n            files: this.files\n        };\n    }\n}\nfunction equalsDragFeedback(f1, f2) {\n    if (Array.isArray(f1) && Array.isArray(f2)) {\n        return equals(f1, f2);\n    }\n    return f1 === f2;\n}\nclass ListViewAccessibilityProvider {\n    constructor(accessibilityProvider) {\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getSetSize) {\n            this.getSetSize = accessibilityProvider.getSetSize.bind(accessibilityProvider);\n        }\n        else {\n            this.getSetSize = (e, i, l) => l;\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getPosInSet) {\n            this.getPosInSet = accessibilityProvider.getPosInSet.bind(accessibilityProvider);\n        }\n        else {\n            this.getPosInSet = (e, i) => i + 1;\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.getRole) {\n            this.getRole = accessibilityProvider.getRole.bind(accessibilityProvider);\n        }\n        else {\n            this.getRole = _ => 'listitem';\n        }\n        if (accessibilityProvider === null || accessibilityProvider === void 0 ? void 0 : accessibilityProvider.isChecked) {\n            this.isChecked = accessibilityProvider.isChecked.bind(accessibilityProvider);\n        }\n        else {\n            this.isChecked = _ => undefined;\n        }\n    }\n}\n/**\n * The {@link ListView} is a virtual scrolling engine.\n *\n * Given that it only renders elements within its viewport, it can hold large\n * collections of elements and stay very performant. The performance bottleneck\n * usually lies within the user's rendering code for each element.\n *\n * @remarks It is a low-level widget, not meant to be used directly. Refer to the\n * List widget instead.\n */\nclass ListView {\n    get contentHeight() { return this.rangeMap.size; }\n    get horizontalScrolling() { return this._horizontalScrolling; }\n    set horizontalScrolling(value) {\n        if (value === this._horizontalScrolling) {\n            return;\n        }\n        if (value && this.supportDynamicHeights) {\n            throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n        }\n        this._horizontalScrolling = value;\n        this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n        if (this._horizontalScrolling) {\n            for (const item of this.items) {\n                this.measureItemWidth(item);\n            }\n            this.updateScrollWidth();\n            this.scrollableElement.setScrollDimensions({ width: getContentWidth(this.domNode) });\n            this.rowsContainer.style.width = `${Math.max(this.scrollWidth || 0, this.renderWidth)}px`;\n        }\n        else {\n            this.scrollableElementWidthDelayer.cancel();\n            this.scrollableElement.setScrollDimensions({ width: this.renderWidth, scrollWidth: this.renderWidth });\n            this.rowsContainer.style.width = '';\n        }\n    }\n    constructor(container, virtualDelegate, renderers, options = DefaultOptions) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n        this.virtualDelegate = virtualDelegate;\n        this.domId = `list_id_${++ListView.InstanceCount}`;\n        this.renderers = new Map();\n        this.renderWidth = 0;\n        this._scrollHeight = 0;\n        this.scrollableElementUpdateDisposable = null;\n        this.scrollableElementWidthDelayer = new Delayer(50);\n        this.splicing = false;\n        this.dragOverAnimationStopDisposable = Disposable.None;\n        this.dragOverMouseY = 0;\n        this.canDrop = false;\n        this.currentDragFeedbackDisposable = Disposable.None;\n        this.onDragLeaveTimeout = Disposable.None;\n        this.disposables = new DisposableStore();\n        this._onDidChangeContentHeight = new Emitter();\n        this._horizontalScrolling = false;\n        if (options.horizontalScrolling && options.supportDynamicHeights) {\n            throw new Error('Horizontal scrolling and dynamic heights not supported simultaneously');\n        }\n        this.items = [];\n        this.itemId = 0;\n        this.rangeMap = new RangeMap();\n        for (const renderer of renderers) {\n            this.renderers.set(renderer.templateId, renderer);\n        }\n        this.cache = this.disposables.add(new RowCache(this.renderers));\n        this.lastRenderTop = 0;\n        this.lastRenderHeight = 0;\n        this.domNode = document.createElement('div');\n        this.domNode.className = 'monaco-list';\n        this.domNode.classList.add(this.domId);\n        this.domNode.tabIndex = 0;\n        this.domNode.classList.toggle('mouse-support', typeof options.mouseSupport === 'boolean' ? options.mouseSupport : true);\n        this._horizontalScrolling = (_a = options.horizontalScrolling) !== null && _a !== void 0 ? _a : DefaultOptions.horizontalScrolling;\n        this.domNode.classList.toggle('horizontal-scrolling', this._horizontalScrolling);\n        this.additionalScrollHeight = typeof options.additionalScrollHeight === 'undefined' ? 0 : options.additionalScrollHeight;\n        this.accessibilityProvider = new ListViewAccessibilityProvider(options.accessibilityProvider);\n        this.rowsContainer = document.createElement('div');\n        this.rowsContainer.className = 'monaco-list-rows';\n        const transformOptimization = (_b = options.transformOptimization) !== null && _b !== void 0 ? _b : DefaultOptions.transformOptimization;\n        if (transformOptimization) {\n            this.rowsContainer.style.transform = 'translate3d(0px, 0px, 0px)';\n            this.rowsContainer.style.overflow = 'hidden';\n            this.rowsContainer.style.contain = 'strict';\n        }\n        this.disposables.add(Gesture.addTarget(this.rowsContainer));\n        this.scrollable = new Scrollable({\n            forceIntegerValues: true,\n            smoothScrollDuration: ((_c = options.smoothScrolling) !== null && _c !== void 0 ? _c : false) ? 125 : 0,\n            scheduleAtNextAnimationFrame: cb => scheduleAtNextAnimationFrame(cb)\n        });\n        this.scrollableElement = this.disposables.add(new SmoothScrollableElement(this.rowsContainer, {\n            alwaysConsumeMouseWheel: (_d = options.alwaysConsumeMouseWheel) !== null && _d !== void 0 ? _d : DefaultOptions.alwaysConsumeMouseWheel,\n            horizontal: 1 /* ScrollbarVisibility.Auto */,\n            vertical: (_e = options.verticalScrollMode) !== null && _e !== void 0 ? _e : DefaultOptions.verticalScrollMode,\n            useShadows: (_f = options.useShadows) !== null && _f !== void 0 ? _f : DefaultOptions.useShadows,\n            mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity,\n            fastScrollSensitivity: options.fastScrollSensitivity,\n            scrollByPage: options.scrollByPage\n        }, this.scrollable));\n        this.domNode.appendChild(this.scrollableElement.getDomNode());\n        container.appendChild(this.domNode);\n        this.scrollableElement.onScroll(this.onScroll, this, this.disposables);\n        this.disposables.add(addDisposableListener(this.rowsContainer, TouchEventType.Change, e => this.onTouchChange(e)));\n        // Prevent the monaco-scrollable-element from scrolling\n        // https://github.com/microsoft/vscode/issues/44181\n        this.disposables.add(addDisposableListener(this.scrollableElement.getDomNode(), 'scroll', e => e.target.scrollTop = 0));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragover', e => this.onDragOver(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'drop', e => this.onDrop(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragleave', e => this.onDragLeave(this.toDragEvent(e))));\n        this.disposables.add(addDisposableListener(this.domNode, 'dragend', e => this.onDragEnd(e)));\n        this.setRowLineHeight = (_g = options.setRowLineHeight) !== null && _g !== void 0 ? _g : DefaultOptions.setRowLineHeight;\n        this.setRowHeight = (_h = options.setRowHeight) !== null && _h !== void 0 ? _h : DefaultOptions.setRowHeight;\n        this.supportDynamicHeights = (_j = options.supportDynamicHeights) !== null && _j !== void 0 ? _j : DefaultOptions.supportDynamicHeights;\n        this.dnd = (_k = options.dnd) !== null && _k !== void 0 ? _k : DefaultOptions.dnd;\n        this.layout((_l = options.initialSize) === null || _l === void 0 ? void 0 : _l.height, (_m = options.initialSize) === null || _m === void 0 ? void 0 : _m.width);\n    }\n    updateOptions(options) {\n        if (options.additionalScrollHeight !== undefined) {\n            this.additionalScrollHeight = options.additionalScrollHeight;\n            this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n        }\n        if (options.smoothScrolling !== undefined) {\n            this.scrollable.setSmoothScrollDuration(options.smoothScrolling ? 125 : 0);\n        }\n        if (options.horizontalScrolling !== undefined) {\n            this.horizontalScrolling = options.horizontalScrolling;\n        }\n        let scrollableOptions;\n        if (options.scrollByPage !== undefined) {\n            scrollableOptions = Object.assign(Object.assign({}, (scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {})), { scrollByPage: options.scrollByPage });\n        }\n        if (options.mouseWheelScrollSensitivity !== undefined) {\n            scrollableOptions = Object.assign(Object.assign({}, (scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {})), { mouseWheelScrollSensitivity: options.mouseWheelScrollSensitivity });\n        }\n        if (options.fastScrollSensitivity !== undefined) {\n            scrollableOptions = Object.assign(Object.assign({}, (scrollableOptions !== null && scrollableOptions !== void 0 ? scrollableOptions : {})), { fastScrollSensitivity: options.fastScrollSensitivity });\n        }\n        if (scrollableOptions) {\n            this.scrollableElement.updateOptions(scrollableOptions);\n        }\n    }\n    splice(start, deleteCount, elements = []) {\n        if (this.splicing) {\n            throw new Error('Can\\'t run recursive splices.');\n        }\n        this.splicing = true;\n        try {\n            return this._splice(start, deleteCount, elements);\n        }\n        finally {\n            this.splicing = false;\n            this._onDidChangeContentHeight.fire(this.contentHeight);\n        }\n    }\n    _splice(start, deleteCount, elements = []) {\n        const previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const deleteRange = { start, end: start + deleteCount };\n        const removeRange = Range.intersect(previousRenderRange, deleteRange);\n        // try to reuse rows, avoid removing them from DOM\n        const rowsToDispose = new Map();\n        for (let i = removeRange.end - 1; i >= removeRange.start; i--) {\n            const item = this.items[i];\n            item.dragStartDisposable.dispose();\n            item.checkedDisposable.dispose();\n            if (item.row) {\n                let rows = rowsToDispose.get(item.templateId);\n                if (!rows) {\n                    rows = [];\n                    rowsToDispose.set(item.templateId, rows);\n                }\n                const renderer = this.renderers.get(item.templateId);\n                if (renderer && renderer.disposeElement) {\n                    renderer.disposeElement(item.element, i, item.row.templateData, item.size);\n                }\n                rows.push(item.row);\n            }\n            item.row = null;\n        }\n        const previousRestRange = { start: start + deleteCount, end: this.items.length };\n        const previousRenderedRestRange = Range.intersect(previousRestRange, previousRenderRange);\n        const previousUnrenderedRestRanges = Range.relativeComplement(previousRestRange, previousRenderRange);\n        const inserted = elements.map(element => ({\n            id: String(this.itemId++),\n            element,\n            templateId: this.virtualDelegate.getTemplateId(element),\n            size: this.virtualDelegate.getHeight(element),\n            width: undefined,\n            hasDynamicHeight: !!this.virtualDelegate.hasDynamicHeight && this.virtualDelegate.hasDynamicHeight(element),\n            lastDynamicHeightWidth: undefined,\n            row: null,\n            uri: undefined,\n            dropTarget: false,\n            dragStartDisposable: Disposable.None,\n            checkedDisposable: Disposable.None\n        }));\n        let deleted;\n        // TODO@joao: improve this optimization to catch even more cases\n        if (start === 0 && deleteCount >= this.items.length) {\n            this.rangeMap = new RangeMap();\n            this.rangeMap.splice(0, 0, inserted);\n            deleted = this.items;\n            this.items = inserted;\n        }\n        else {\n            this.rangeMap.splice(start, deleteCount, inserted);\n            deleted = this.items.splice(start, deleteCount, ...inserted);\n        }\n        const delta = elements.length - deleteCount;\n        const renderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const renderedRestRange = shift(previousRenderedRestRange, delta);\n        const updateRange = Range.intersect(renderRange, renderedRestRange);\n        for (let i = updateRange.start; i < updateRange.end; i++) {\n            this.updateItemInDOM(this.items[i], i);\n        }\n        const removeRanges = Range.relativeComplement(renderedRestRange, renderRange);\n        for (const range of removeRanges) {\n            for (let i = range.start; i < range.end; i++) {\n                this.removeItemFromDOM(i);\n            }\n        }\n        const unrenderedRestRanges = previousUnrenderedRestRanges.map(r => shift(r, delta));\n        const elementsRange = { start, end: start + elements.length };\n        const insertRanges = [elementsRange, ...unrenderedRestRanges].map(r => Range.intersect(renderRange, r));\n        const beforeElement = this.getNextToLastElement(insertRanges);\n        for (const range of insertRanges) {\n            for (let i = range.start; i < range.end; i++) {\n                const item = this.items[i];\n                const rows = rowsToDispose.get(item.templateId);\n                const row = rows === null || rows === void 0 ? void 0 : rows.pop();\n                this.insertItemInDOM(i, beforeElement, row);\n            }\n        }\n        for (const rows of rowsToDispose.values()) {\n            for (const row of rows) {\n                this.cache.release(row);\n            }\n        }\n        this.eventuallyUpdateScrollDimensions();\n        if (this.supportDynamicHeights) {\n            this._rerender(this.scrollTop, this.renderHeight);\n        }\n        return deleted.map(i => i.element);\n    }\n    eventuallyUpdateScrollDimensions() {\n        this._scrollHeight = this.contentHeight;\n        this.rowsContainer.style.height = `${this._scrollHeight}px`;\n        if (!this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable = scheduleAtNextAnimationFrame(() => {\n                this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n                this.updateScrollWidth();\n                this.scrollableElementUpdateDisposable = null;\n            });\n        }\n    }\n    eventuallyUpdateScrollWidth() {\n        if (!this.horizontalScrolling) {\n            this.scrollableElementWidthDelayer.cancel();\n            return;\n        }\n        this.scrollableElementWidthDelayer.trigger(() => this.updateScrollWidth());\n    }\n    updateScrollWidth() {\n        if (!this.horizontalScrolling) {\n            return;\n        }\n        let scrollWidth = 0;\n        for (const item of this.items) {\n            if (typeof item.width !== 'undefined') {\n                scrollWidth = Math.max(scrollWidth, item.width);\n            }\n        }\n        this.scrollWidth = scrollWidth;\n        this.scrollableElement.setScrollDimensions({ scrollWidth: scrollWidth === 0 ? 0 : (scrollWidth + 10) });\n    }\n    rerender() {\n        if (!this.supportDynamicHeights) {\n            return;\n        }\n        for (const item of this.items) {\n            item.lastDynamicHeightWidth = undefined;\n        }\n        this._rerender(this.lastRenderTop, this.lastRenderHeight);\n    }\n    get length() {\n        return this.items.length;\n    }\n    get renderHeight() {\n        const scrollDimensions = this.scrollableElement.getScrollDimensions();\n        return scrollDimensions.height;\n    }\n    get firstVisibleIndex() {\n        const range = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n        const firstElTop = this.rangeMap.positionAt(range.start);\n        const nextElTop = this.rangeMap.positionAt(range.start + 1);\n        if (nextElTop !== -1) {\n            const firstElMidpoint = (nextElTop - firstElTop) / 2 + firstElTop;\n            if (firstElMidpoint < this.scrollTop) {\n                return range.start + 1;\n            }\n        }\n        return range.start;\n    }\n    element(index) {\n        return this.items[index].element;\n    }\n    domElement(index) {\n        const row = this.items[index].row;\n        return row && row.domNode;\n    }\n    elementHeight(index) {\n        return this.items[index].size;\n    }\n    elementTop(index) {\n        return this.rangeMap.positionAt(index);\n    }\n    indexAt(position) {\n        return this.rangeMap.indexAt(position);\n    }\n    indexAfter(position) {\n        return this.rangeMap.indexAfter(position);\n    }\n    layout(height, width) {\n        const scrollDimensions = {\n            height: typeof height === 'number' ? height : getContentHeight(this.domNode)\n        };\n        if (this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable.dispose();\n            this.scrollableElementUpdateDisposable = null;\n            scrollDimensions.scrollHeight = this.scrollHeight;\n        }\n        this.scrollableElement.setScrollDimensions(scrollDimensions);\n        if (typeof width !== 'undefined') {\n            this.renderWidth = width;\n            if (this.supportDynamicHeights) {\n                this._rerender(this.scrollTop, this.renderHeight);\n            }\n        }\n        if (this.horizontalScrolling) {\n            this.scrollableElement.setScrollDimensions({\n                width: typeof width === 'number' ? width : getContentWidth(this.domNode)\n            });\n        }\n    }\n    // Render\n    render(previousRenderRange, renderTop, renderHeight, renderLeft, scrollWidth, updateItemsInDOM = false) {\n        const renderRange = this.getRenderRange(renderTop, renderHeight);\n        const rangesToInsert = Range.relativeComplement(renderRange, previousRenderRange);\n        const rangesToRemove = Range.relativeComplement(previousRenderRange, renderRange);\n        const beforeElement = this.getNextToLastElement(rangesToInsert);\n        if (updateItemsInDOM) {\n            const rangesToUpdate = Range.intersect(previousRenderRange, renderRange);\n            for (let i = rangesToUpdate.start; i < rangesToUpdate.end; i++) {\n                this.updateItemInDOM(this.items[i], i);\n            }\n        }\n        this.cache.transact(() => {\n            for (const range of rangesToRemove) {\n                for (let i = range.start; i < range.end; i++) {\n                    this.removeItemFromDOM(i);\n                }\n            }\n            for (const range of rangesToInsert) {\n                for (let i = range.start; i < range.end; i++) {\n                    this.insertItemInDOM(i, beforeElement);\n                }\n            }\n        });\n        if (renderLeft !== undefined) {\n            this.rowsContainer.style.left = `-${renderLeft}px`;\n        }\n        this.rowsContainer.style.top = `-${renderTop}px`;\n        if (this.horizontalScrolling && scrollWidth !== undefined) {\n            this.rowsContainer.style.width = `${Math.max(scrollWidth, this.renderWidth)}px`;\n        }\n        this.lastRenderTop = renderTop;\n        this.lastRenderHeight = renderHeight;\n    }\n    // DOM operations\n    insertItemInDOM(index, beforeElement, row) {\n        const item = this.items[index];\n        let isStale = false;\n        if (!item.row) {\n            if (row) {\n                item.row = row;\n            }\n            else {\n                const result = this.cache.alloc(item.templateId);\n                item.row = result.row;\n                isStale = result.isReusingConnectedDomNode;\n            }\n        }\n        const role = this.accessibilityProvider.getRole(item.element) || 'listitem';\n        item.row.domNode.setAttribute('role', role);\n        const checked = this.accessibilityProvider.isChecked(item.element);\n        if (typeof checked === 'boolean') {\n            item.row.domNode.setAttribute('aria-checked', String(!!checked));\n        }\n        else if (checked) {\n            const update = (checked) => item.row.domNode.setAttribute('aria-checked', String(!!checked));\n            update(checked.value);\n            item.checkedDisposable = checked.onDidChange(update);\n        }\n        if (isStale || !item.row.domNode.parentElement) {\n            if (beforeElement) {\n                this.rowsContainer.insertBefore(item.row.domNode, beforeElement);\n            }\n            else {\n                this.rowsContainer.appendChild(item.row.domNode);\n            }\n        }\n        this.updateItemInDOM(item, index);\n        const renderer = this.renderers.get(item.templateId);\n        if (!renderer) {\n            throw new Error(`No renderer found for template id ${item.templateId}`);\n        }\n        renderer === null || renderer === void 0 ? void 0 : renderer.renderElement(item.element, index, item.row.templateData, item.size);\n        const uri = this.dnd.getDragURI(item.element);\n        item.dragStartDisposable.dispose();\n        item.row.domNode.draggable = !!uri;\n        if (uri) {\n            item.dragStartDisposable = addDisposableListener(item.row.domNode, 'dragstart', event => this.onDragStart(item.element, uri, event));\n        }\n        if (this.horizontalScrolling) {\n            this.measureItemWidth(item);\n            this.eventuallyUpdateScrollWidth();\n        }\n    }\n    measureItemWidth(item) {\n        if (!item.row || !item.row.domNode) {\n            return;\n        }\n        item.row.domNode.style.width = 'fit-content';\n        item.width = getContentWidth(item.row.domNode);\n        const style = window.getComputedStyle(item.row.domNode);\n        if (style.paddingLeft) {\n            item.width += parseFloat(style.paddingLeft);\n        }\n        if (style.paddingRight) {\n            item.width += parseFloat(style.paddingRight);\n        }\n        item.row.domNode.style.width = '';\n    }\n    updateItemInDOM(item, index) {\n        item.row.domNode.style.top = `${this.elementTop(index)}px`;\n        if (this.setRowHeight) {\n            item.row.domNode.style.height = `${item.size}px`;\n        }\n        if (this.setRowLineHeight) {\n            item.row.domNode.style.lineHeight = `${item.size}px`;\n        }\n        item.row.domNode.setAttribute('data-index', `${index}`);\n        item.row.domNode.setAttribute('data-last-element', index === this.length - 1 ? 'true' : 'false');\n        item.row.domNode.setAttribute('data-parity', index % 2 === 0 ? 'even' : 'odd');\n        item.row.domNode.setAttribute('aria-setsize', String(this.accessibilityProvider.getSetSize(item.element, index, this.length)));\n        item.row.domNode.setAttribute('aria-posinset', String(this.accessibilityProvider.getPosInSet(item.element, index)));\n        item.row.domNode.setAttribute('id', this.getElementDomId(index));\n        item.row.domNode.classList.toggle('drop-target', item.dropTarget);\n    }\n    removeItemFromDOM(index) {\n        const item = this.items[index];\n        item.dragStartDisposable.dispose();\n        item.checkedDisposable.dispose();\n        if (item.row) {\n            const renderer = this.renderers.get(item.templateId);\n            if (renderer && renderer.disposeElement) {\n                renderer.disposeElement(item.element, index, item.row.templateData, item.size);\n            }\n            this.cache.release(item.row);\n            item.row = null;\n        }\n        if (this.horizontalScrolling) {\n            this.eventuallyUpdateScrollWidth();\n        }\n    }\n    getScrollTop() {\n        const scrollPosition = this.scrollableElement.getScrollPosition();\n        return scrollPosition.scrollTop;\n    }\n    setScrollTop(scrollTop, reuseAnimation) {\n        if (this.scrollableElementUpdateDisposable) {\n            this.scrollableElementUpdateDisposable.dispose();\n            this.scrollableElementUpdateDisposable = null;\n            this.scrollableElement.setScrollDimensions({ scrollHeight: this.scrollHeight });\n        }\n        this.scrollableElement.setScrollPosition({ scrollTop, reuseAnimation });\n    }\n    get scrollTop() {\n        return this.getScrollTop();\n    }\n    set scrollTop(scrollTop) {\n        this.setScrollTop(scrollTop);\n    }\n    get scrollHeight() {\n        return this._scrollHeight + (this.horizontalScrolling ? 10 : 0) + this.additionalScrollHeight;\n    }\n    // Events\n    get onMouseClick() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'click')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseDblClick() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'dblclick')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseMiddleClick() { return Event.filter(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'auxclick')).event, e => this.toMouseEvent(e), this.disposables), e => e.browserEvent.button === 1, this.disposables); }\n    get onMouseDown() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mousedown')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseOver() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseover')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onMouseOut() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'mouseout')).event, e => this.toMouseEvent(e), this.disposables); }\n    get onContextMenu() { return Event.any(Event.map(this.disposables.add(new DomEmitter(this.domNode, 'contextmenu')).event, e => this.toMouseEvent(e), this.disposables), Event.map(this.disposables.add(new DomEmitter(this.domNode, TouchEventType.Contextmenu)).event, e => this.toGestureEvent(e), this.disposables)); }\n    get onTouchStart() { return Event.map(this.disposables.add(new DomEmitter(this.domNode, 'touchstart')).event, e => this.toTouchEvent(e), this.disposables); }\n    get onTap() { return Event.map(this.disposables.add(new DomEmitter(this.rowsContainer, TouchEventType.Tap)).event, e => this.toGestureEvent(e), this.disposables); }\n    toMouseEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toTouchEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toGestureEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.initialTarget || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    toDragEvent(browserEvent) {\n        const index = this.getItemIndexFromEventTarget(browserEvent.target || null);\n        const item = typeof index === 'undefined' ? undefined : this.items[index];\n        const element = item && item.element;\n        return { browserEvent, index, element };\n    }\n    onScroll(e) {\n        try {\n            const previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n            this.render(previousRenderRange, e.scrollTop, e.height, e.scrollLeft, e.scrollWidth);\n            if (this.supportDynamicHeights) {\n                this._rerender(e.scrollTop, e.height, e.inSmoothScrolling);\n            }\n        }\n        catch (err) {\n            console.error('Got bad scroll event:', e);\n            throw err;\n        }\n    }\n    onTouchChange(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.scrollTop -= event.translationY;\n    }\n    // DND\n    onDragStart(element, uri, event) {\n        var _a, _b;\n        if (!event.dataTransfer) {\n            return;\n        }\n        const elements = this.dnd.getDragElements(element);\n        event.dataTransfer.effectAllowed = 'copyMove';\n        event.dataTransfer.setData(DataTransfers.TEXT, uri);\n        if (event.dataTransfer.setDragImage) {\n            let label;\n            if (this.dnd.getDragLabel) {\n                label = this.dnd.getDragLabel(elements, event);\n            }\n            if (typeof label === 'undefined') {\n                label = String(elements.length);\n            }\n            const dragImage = $('.monaco-drag-image');\n            dragImage.textContent = label;\n            const getDragImageContainer = (e) => {\n                while (e && !e.classList.contains('monaco-workbench')) {\n                    e = e.parentElement;\n                }\n                return e || document.body;\n            };\n            const container = getDragImageContainer(this.domNode);\n            container.appendChild(dragImage);\n            event.dataTransfer.setDragImage(dragImage, -10, -10);\n            setTimeout(() => container.removeChild(dragImage), 0);\n        }\n        this.domNode.classList.add('dragging');\n        this.currentDragData = new ElementsDragAndDropData(elements);\n        StaticDND.CurrentDragAndDropData = new ExternalElementsDragAndDropData(elements);\n        (_b = (_a = this.dnd).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, this.currentDragData, event);\n    }\n    onDragOver(event) {\n        var _a;\n        event.browserEvent.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n        this.onDragLeaveTimeout.dispose();\n        if (StaticDND.CurrentDragAndDropData && StaticDND.CurrentDragAndDropData.getData() === 'vscode-ui') {\n            return false;\n        }\n        this.setupDragAndDropScrollTopAnimation(event.browserEvent);\n        if (!event.browserEvent.dataTransfer) {\n            return false;\n        }\n        // Drag over from outside\n        if (!this.currentDragData) {\n            if (StaticDND.CurrentDragAndDropData) {\n                // Drag over from another list\n                this.currentDragData = StaticDND.CurrentDragAndDropData;\n            }\n            else {\n                // Drag over from the desktop\n                if (!event.browserEvent.dataTransfer.types) {\n                    return false;\n                }\n                this.currentDragData = new NativeDragAndDropData();\n            }\n        }\n        const result = this.dnd.onDragOver(this.currentDragData, event.element, event.index, event.browserEvent);\n        this.canDrop = typeof result === 'boolean' ? result : result.accept;\n        if (!this.canDrop) {\n            this.currentDragFeedback = undefined;\n            this.currentDragFeedbackDisposable.dispose();\n            return false;\n        }\n        event.browserEvent.dataTransfer.dropEffect = (typeof result !== 'boolean' && result.effect === 0 /* ListDragOverEffect.Copy */) ? 'copy' : 'move';\n        let feedback;\n        if (typeof result !== 'boolean' && result.feedback) {\n            feedback = result.feedback;\n        }\n        else {\n            if (typeof event.index === 'undefined') {\n                feedback = [-1];\n            }\n            else {\n                feedback = [event.index];\n            }\n        }\n        // sanitize feedback list\n        feedback = distinct(feedback).filter(i => i >= -1 && i < this.length).sort((a, b) => a - b);\n        feedback = feedback[0] === -1 ? [-1] : feedback;\n        if (equalsDragFeedback(this.currentDragFeedback, feedback)) {\n            return true;\n        }\n        this.currentDragFeedback = feedback;\n        this.currentDragFeedbackDisposable.dispose();\n        if (feedback[0] === -1) { // entire list feedback\n            this.domNode.classList.add('drop-target');\n            this.rowsContainer.classList.add('drop-target');\n            this.currentDragFeedbackDisposable = toDisposable(() => {\n                this.domNode.classList.remove('drop-target');\n                this.rowsContainer.classList.remove('drop-target');\n            });\n        }\n        else {\n            for (const index of feedback) {\n                const item = this.items[index];\n                item.dropTarget = true;\n                (_a = item.row) === null || _a === void 0 ? void 0 : _a.domNode.classList.add('drop-target');\n            }\n            this.currentDragFeedbackDisposable = toDisposable(() => {\n                var _a;\n                for (const index of feedback) {\n                    const item = this.items[index];\n                    item.dropTarget = false;\n                    (_a = item.row) === null || _a === void 0 ? void 0 : _a.domNode.classList.remove('drop-target');\n                }\n            });\n        }\n        return true;\n    }\n    onDragLeave(event) {\n        var _a, _b;\n        this.onDragLeaveTimeout.dispose();\n        this.onDragLeaveTimeout = disposableTimeout(() => this.clearDragOverFeedback(), 100);\n        if (this.currentDragData) {\n            (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, this.currentDragData, event.element, event.index, event.browserEvent);\n        }\n    }\n    onDrop(event) {\n        if (!this.canDrop) {\n            return;\n        }\n        const dragData = this.currentDragData;\n        this.teardownDragAndDropScrollTopAnimation();\n        this.clearDragOverFeedback();\n        this.domNode.classList.remove('dragging');\n        this.currentDragData = undefined;\n        StaticDND.CurrentDragAndDropData = undefined;\n        if (!dragData || !event.browserEvent.dataTransfer) {\n            return;\n        }\n        event.browserEvent.preventDefault();\n        dragData.update(event.browserEvent.dataTransfer);\n        this.dnd.drop(dragData, event.element, event.index, event.browserEvent);\n    }\n    onDragEnd(event) {\n        var _a, _b;\n        this.canDrop = false;\n        this.teardownDragAndDropScrollTopAnimation();\n        this.clearDragOverFeedback();\n        this.domNode.classList.remove('dragging');\n        this.currentDragData = undefined;\n        StaticDND.CurrentDragAndDropData = undefined;\n        (_b = (_a = this.dnd).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n    }\n    clearDragOverFeedback() {\n        this.currentDragFeedback = undefined;\n        this.currentDragFeedbackDisposable.dispose();\n        this.currentDragFeedbackDisposable = Disposable.None;\n    }\n    // DND scroll top animation\n    setupDragAndDropScrollTopAnimation(event) {\n        if (!this.dragOverAnimationDisposable) {\n            const viewTop = getTopLeftOffset(this.domNode).top;\n            this.dragOverAnimationDisposable = animate(this.animateDragAndDropScrollTop.bind(this, viewTop));\n        }\n        this.dragOverAnimationStopDisposable.dispose();\n        this.dragOverAnimationStopDisposable = disposableTimeout(() => {\n            if (this.dragOverAnimationDisposable) {\n                this.dragOverAnimationDisposable.dispose();\n                this.dragOverAnimationDisposable = undefined;\n            }\n        }, 1000);\n        this.dragOverMouseY = event.pageY;\n    }\n    animateDragAndDropScrollTop(viewTop) {\n        if (this.dragOverMouseY === undefined) {\n            return;\n        }\n        const diff = this.dragOverMouseY - viewTop;\n        const upperLimit = this.renderHeight - 35;\n        if (diff < 35) {\n            this.scrollTop += Math.max(-14, Math.floor(0.3 * (diff - 35)));\n        }\n        else if (diff > upperLimit) {\n            this.scrollTop += Math.min(14, Math.floor(0.3 * (diff - upperLimit)));\n        }\n    }\n    teardownDragAndDropScrollTopAnimation() {\n        this.dragOverAnimationStopDisposable.dispose();\n        if (this.dragOverAnimationDisposable) {\n            this.dragOverAnimationDisposable.dispose();\n            this.dragOverAnimationDisposable = undefined;\n        }\n    }\n    // Util\n    getItemIndexFromEventTarget(target) {\n        const scrollableElement = this.scrollableElement.getDomNode();\n        let element = target;\n        while (element instanceof HTMLElement && element !== this.rowsContainer && scrollableElement.contains(element)) {\n            const rawIndex = element.getAttribute('data-index');\n            if (rawIndex) {\n                const index = Number(rawIndex);\n                if (!isNaN(index)) {\n                    return index;\n                }\n            }\n            element = element.parentElement;\n        }\n        return undefined;\n    }\n    getRenderRange(renderTop, renderHeight) {\n        return {\n            start: this.rangeMap.indexAt(renderTop),\n            end: this.rangeMap.indexAfter(renderTop + renderHeight - 1)\n        };\n    }\n    /**\n     * Given a stable rendered state, checks every rendered element whether it needs\n     * to be probed for dynamic height. Adjusts scroll height and top if necessary.\n     */\n    _rerender(renderTop, renderHeight, inSmoothScrolling) {\n        const previousRenderRange = this.getRenderRange(renderTop, renderHeight);\n        // Let's remember the second element's position, this helps in scrolling up\n        // and preserving a linear upwards scroll movement\n        let anchorElementIndex;\n        let anchorElementTopDelta;\n        if (renderTop === this.elementTop(previousRenderRange.start)) {\n            anchorElementIndex = previousRenderRange.start;\n            anchorElementTopDelta = 0;\n        }\n        else if (previousRenderRange.end - previousRenderRange.start > 1) {\n            anchorElementIndex = previousRenderRange.start + 1;\n            anchorElementTopDelta = this.elementTop(anchorElementIndex) - renderTop;\n        }\n        let heightDiff = 0;\n        while (true) {\n            const renderRange = this.getRenderRange(renderTop, renderHeight);\n            let didChange = false;\n            for (let i = renderRange.start; i < renderRange.end; i++) {\n                const diff = this.probeDynamicHeight(i);\n                if (diff !== 0) {\n                    this.rangeMap.splice(i, 1, [this.items[i]]);\n                }\n                heightDiff += diff;\n                didChange = didChange || diff !== 0;\n            }\n            if (!didChange) {\n                if (heightDiff !== 0) {\n                    this.eventuallyUpdateScrollDimensions();\n                }\n                const unrenderRanges = Range.relativeComplement(previousRenderRange, renderRange);\n                for (const range of unrenderRanges) {\n                    for (let i = range.start; i < range.end; i++) {\n                        if (this.items[i].row) {\n                            this.removeItemFromDOM(i);\n                        }\n                    }\n                }\n                const renderRanges = Range.relativeComplement(renderRange, previousRenderRange);\n                for (const range of renderRanges) {\n                    for (let i = range.start; i < range.end; i++) {\n                        const afterIndex = i + 1;\n                        const beforeRow = afterIndex < this.items.length ? this.items[afterIndex].row : null;\n                        const beforeElement = beforeRow ? beforeRow.domNode : null;\n                        this.insertItemInDOM(i, beforeElement);\n                    }\n                }\n                for (let i = renderRange.start; i < renderRange.end; i++) {\n                    if (this.items[i].row) {\n                        this.updateItemInDOM(this.items[i], i);\n                    }\n                }\n                if (typeof anchorElementIndex === 'number') {\n                    // To compute a destination scroll top, we need to take into account the current smooth scrolling\n                    // animation, and then reuse it with a new target (to avoid prolonging the scroll)\n                    // See https://github.com/microsoft/vscode/issues/104144\n                    // See https://github.com/microsoft/vscode/pull/104284\n                    // See https://github.com/microsoft/vscode/issues/107704\n                    const deltaScrollTop = this.scrollable.getFutureScrollPosition().scrollTop - renderTop;\n                    const newScrollTop = this.elementTop(anchorElementIndex) - anchorElementTopDelta + deltaScrollTop;\n                    this.setScrollTop(newScrollTop, inSmoothScrolling);\n                }\n                this._onDidChangeContentHeight.fire(this.contentHeight);\n                return;\n            }\n        }\n    }\n    probeDynamicHeight(index) {\n        var _a, _b, _c;\n        const item = this.items[index];\n        if (!!this.virtualDelegate.getDynamicHeight) {\n            const newSize = this.virtualDelegate.getDynamicHeight(item.element);\n            if (newSize !== null) {\n                const size = item.size;\n                item.size = newSize;\n                item.lastDynamicHeightWidth = this.renderWidth;\n                return newSize - size;\n            }\n        }\n        if (!item.hasDynamicHeight || item.lastDynamicHeightWidth === this.renderWidth) {\n            return 0;\n        }\n        if (!!this.virtualDelegate.hasDynamicHeight && !this.virtualDelegate.hasDynamicHeight(item.element)) {\n            return 0;\n        }\n        const size = item.size;\n        if (item.row) {\n            item.row.domNode.style.height = '';\n            item.size = item.row.domNode.offsetHeight;\n            item.lastDynamicHeightWidth = this.renderWidth;\n            return item.size - size;\n        }\n        const { row } = this.cache.alloc(item.templateId);\n        row.domNode.style.height = '';\n        this.rowsContainer.appendChild(row.domNode);\n        const renderer = this.renderers.get(item.templateId);\n        if (!renderer) {\n            throw new BugIndicatingError('Missing renderer for templateId: ' + item.templateId);\n        }\n        renderer.renderElement(item.element, index, row.templateData, undefined);\n        item.size = row.domNode.offsetHeight;\n        (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, item.element, index, row.templateData, undefined);\n        (_c = (_b = this.virtualDelegate).setDynamicHeight) === null || _c === void 0 ? void 0 : _c.call(_b, item.element, item.size);\n        item.lastDynamicHeightWidth = this.renderWidth;\n        this.rowsContainer.removeChild(row.domNode);\n        this.cache.release(row);\n        return item.size - size;\n    }\n    getNextToLastElement(ranges) {\n        const lastRange = ranges[ranges.length - 1];\n        if (!lastRange) {\n            return null;\n        }\n        const nextToLastItem = this.items[lastRange.end];\n        if (!nextToLastItem) {\n            return null;\n        }\n        if (!nextToLastItem.row) {\n            return null;\n        }\n        return nextToLastItem.row.domNode;\n    }\n    getElementDomId(index) {\n        return `${this.domId}_${index}`;\n    }\n    // Dispose\n    dispose() {\n        var _a;\n        if (this.items) {\n            for (const item of this.items) {\n                if (item.row) {\n                    const renderer = this.renderers.get(item.row.templateId);\n                    if (renderer) {\n                        (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, item.element, -1, item.row.templateData, undefined);\n                        renderer.disposeTemplate(item.row.templateData);\n                    }\n                }\n            }\n            this.items = [];\n        }\n        if (this.domNode && this.domNode.parentNode) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        dispose(this.disposables);\n    }\n}\nListView.InstanceCount = 0;\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseDblClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseMiddleClick\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseDown\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseOver\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onMouseOut\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onContextMenu\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onTouchStart\", null);\n__decorate([\n    memoize\n], ListView.prototype, \"onTap\", null);\nexport { ListView };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class CombinedSpliceable {\n    constructor(spliceables) {\n        this.spliceables = spliceables;\n    }\n    splice(start, deleteCount, elements) {\n        this.spliceables.forEach(s => s.splice(start, deleteCount, elements));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ListError extends Error {\n    constructor(user, message) {\n        super(`ListError [${user}] ${message}`);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { asCssValueWithDefault, createStyleSheet, EventHelper } from '../../dom.js';\nimport { DomEmitter } from '../../event.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { Gesture } from '../../touch.js';\nimport { alert } from '../aria/aria.js';\nimport { CombinedSpliceable } from './splice.js';\nimport { binarySearch, firstOrDefault, range } from '../../../common/arrays.js';\nimport { timeout } from '../../../common/async.js';\nimport { Color } from '../../../common/color.js';\nimport { memoize } from '../../../common/decorators.js';\nimport { Emitter, Event, EventBufferer } from '../../../common/event.js';\nimport { matchesPrefix } from '../../../common/filters.js';\nimport { DisposableStore, dispose } from '../../../common/lifecycle.js';\nimport { clamp } from '../../../common/numbers.js';\nimport * as platform from '../../../common/platform.js';\nimport { isNumber } from '../../../common/types.js';\nimport './list.css';\nimport { ListError } from './list.js';\nimport { ListView } from './listView.js';\nclass TraitRenderer {\n    constructor(trait) {\n        this.trait = trait;\n        this.renderedElements = [];\n    }\n    get templateId() {\n        return `template:${this.trait.name}`;\n    }\n    renderTemplate(container) {\n        return container;\n    }\n    renderElement(element, index, templateData) {\n        const renderedElementIndex = this.renderedElements.findIndex(el => el.templateData === templateData);\n        if (renderedElementIndex >= 0) {\n            const rendered = this.renderedElements[renderedElementIndex];\n            this.trait.unrender(templateData);\n            rendered.index = index;\n        }\n        else {\n            const rendered = { index, templateData };\n            this.renderedElements.push(rendered);\n        }\n        this.trait.renderIndex(index, templateData);\n    }\n    splice(start, deleteCount, insertCount) {\n        const rendered = [];\n        for (const renderedElement of this.renderedElements) {\n            if (renderedElement.index < start) {\n                rendered.push(renderedElement);\n            }\n            else if (renderedElement.index >= start + deleteCount) {\n                rendered.push({\n                    index: renderedElement.index + insertCount - deleteCount,\n                    templateData: renderedElement.templateData\n                });\n            }\n        }\n        this.renderedElements = rendered;\n    }\n    renderIndexes(indexes) {\n        for (const { index, templateData } of this.renderedElements) {\n            if (indexes.indexOf(index) > -1) {\n                this.trait.renderIndex(index, templateData);\n            }\n        }\n    }\n    disposeTemplate(templateData) {\n        const index = this.renderedElements.findIndex(el => el.templateData === templateData);\n        if (index < 0) {\n            return;\n        }\n        this.renderedElements.splice(index, 1);\n    }\n}\nclass Trait {\n    get name() { return this._trait; }\n    get renderer() {\n        return new TraitRenderer(this);\n    }\n    constructor(_trait) {\n        this._trait = _trait;\n        this.length = 0;\n        this.indexes = [];\n        this.sortedIndexes = [];\n        this._onChange = new Emitter();\n        this.onChange = this._onChange.event;\n    }\n    splice(start, deleteCount, elements) {\n        var _a;\n        deleteCount = Math.max(0, Math.min(deleteCount, this.length - start));\n        const diff = elements.length - deleteCount;\n        const end = start + deleteCount;\n        const sortedIndexes = [\n            ...this.sortedIndexes.filter(i => i < start),\n            ...elements.map((hasTrait, i) => hasTrait ? i + start : -1).filter(i => i !== -1),\n            ...this.sortedIndexes.filter(i => i >= end).map(i => i + diff)\n        ];\n        const length = this.length + diff;\n        if (this.sortedIndexes.length > 0 && sortedIndexes.length === 0 && length > 0) {\n            const first = (_a = this.sortedIndexes.find(index => index >= start)) !== null && _a !== void 0 ? _a : length - 1;\n            sortedIndexes.push(Math.min(first, length - 1));\n        }\n        this.renderer.splice(start, deleteCount, elements.length);\n        this._set(sortedIndexes, sortedIndexes);\n        this.length = length;\n    }\n    renderIndex(index, container) {\n        container.classList.toggle(this._trait, this.contains(index));\n    }\n    unrender(container) {\n        container.classList.remove(this._trait);\n    }\n    /**\n     * Sets the indexes which should have this trait.\n     *\n     * @param indexes Indexes which should have this trait.\n     * @return The old indexes which had this trait.\n     */\n    set(indexes, browserEvent) {\n        return this._set(indexes, [...indexes].sort(numericSort), browserEvent);\n    }\n    _set(indexes, sortedIndexes, browserEvent) {\n        const result = this.indexes;\n        const sortedResult = this.sortedIndexes;\n        this.indexes = indexes;\n        this.sortedIndexes = sortedIndexes;\n        const toRender = disjunction(sortedResult, indexes);\n        this.renderer.renderIndexes(toRender);\n        this._onChange.fire({ indexes, browserEvent });\n        return result;\n    }\n    get() {\n        return this.indexes;\n    }\n    contains(index) {\n        return binarySearch(this.sortedIndexes, index, numericSort) >= 0;\n    }\n    dispose() {\n        dispose(this._onChange);\n    }\n}\n__decorate([\n    memoize\n], Trait.prototype, \"renderer\", null);\nclass SelectionTrait extends Trait {\n    constructor(setAriaSelected) {\n        super('selected');\n        this.setAriaSelected = setAriaSelected;\n    }\n    renderIndex(index, container) {\n        super.renderIndex(index, container);\n        if (this.setAriaSelected) {\n            if (this.contains(index)) {\n                container.setAttribute('aria-selected', 'true');\n            }\n            else {\n                container.setAttribute('aria-selected', 'false');\n            }\n        }\n    }\n}\n/**\n * The TraitSpliceable is used as a util class to be able\n * to preserve traits across splice calls, given an identity\n * provider.\n */\nclass TraitSpliceable {\n    constructor(trait, view, identityProvider) {\n        this.trait = trait;\n        this.view = view;\n        this.identityProvider = identityProvider;\n    }\n    splice(start, deleteCount, elements) {\n        if (!this.identityProvider) {\n            return this.trait.splice(start, deleteCount, elements.map(() => false));\n        }\n        const pastElementsWithTrait = this.trait.get().map(i => this.identityProvider.getId(this.view.element(i)).toString());\n        const elementsWithTrait = elements.map(e => pastElementsWithTrait.indexOf(this.identityProvider.getId(e).toString()) > -1);\n        this.trait.splice(start, deleteCount, elementsWithTrait);\n    }\n}\nexport function isInputElement(e) {\n    return e.tagName === 'INPUT' || e.tagName === 'TEXTAREA';\n}\nexport function isMonacoEditor(e) {\n    if (e.classList.contains('monaco-editor')) {\n        return true;\n    }\n    if (e.classList.contains('monaco-list')) {\n        return false;\n    }\n    if (!e.parentElement) {\n        return false;\n    }\n    return isMonacoEditor(e.parentElement);\n}\nexport function isButton(e) {\n    if ((e.tagName === 'A' && e.classList.contains('monaco-button')) ||\n        (e.tagName === 'DIV' && e.classList.contains('monaco-button-dropdown'))) {\n        return true;\n    }\n    if (e.classList.contains('monaco-list')) {\n        return false;\n    }\n    if (!e.parentElement) {\n        return false;\n    }\n    return isButton(e.parentElement);\n}\nclass KeyboardController {\n    get onKeyDown() {\n        return this.disposables.add(Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event)\n            .filter(e => !isInputElement(e.target))\n            .map(e => new StandardKeyboardEvent(e)));\n    }\n    constructor(list, view, options) {\n        this.list = list;\n        this.view = view;\n        this.disposables = new DisposableStore();\n        this.multipleSelectionDisposables = new DisposableStore();\n        this.onKeyDown.filter(e => e.keyCode === 3 /* KeyCode.Enter */).on(this.onEnter, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 16 /* KeyCode.UpArrow */).on(this.onUpArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 18 /* KeyCode.DownArrow */).on(this.onDownArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 11 /* KeyCode.PageUp */).on(this.onPageUpArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 12 /* KeyCode.PageDown */).on(this.onPageDownArrow, this, this.disposables);\n        this.onKeyDown.filter(e => e.keyCode === 9 /* KeyCode.Escape */).on(this.onEscape, this, this.disposables);\n        if (options.multipleSelectionSupport !== false) {\n            this.onKeyDown.filter(e => (platform.isMacintosh ? e.metaKey : e.ctrlKey) && e.keyCode === 31 /* KeyCode.KeyA */).on(this.onCtrlA, this, this.multipleSelectionDisposables);\n        }\n    }\n    updateOptions(optionsUpdate) {\n        if (optionsUpdate.multipleSelectionSupport !== undefined) {\n            this.multipleSelectionDisposables.clear();\n            if (optionsUpdate.multipleSelectionSupport) {\n                this.onKeyDown.filter(e => (platform.isMacintosh ? e.metaKey : e.ctrlKey) && e.keyCode === 31 /* KeyCode.KeyA */).on(this.onCtrlA, this, this.multipleSelectionDisposables);\n            }\n        }\n    }\n    onEnter(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.setSelection(this.list.getFocus(), e.browserEvent);\n    }\n    onUpArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusPrevious(1, false, e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onDownArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusNext(1, false, e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onPageUpArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusPreviousPage(e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onPageDownArrow(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.focusNextPage(e.browserEvent);\n        const el = this.list.getFocus()[0];\n        this.list.setAnchor(el);\n        this.list.reveal(el);\n        this.view.domNode.focus();\n    }\n    onCtrlA(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.list.setSelection(range(this.list.length), e.browserEvent);\n        this.list.setAnchor(undefined);\n        this.view.domNode.focus();\n    }\n    onEscape(e) {\n        if (this.list.getSelection().length) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.list.setSelection([], e.browserEvent);\n            this.list.setAnchor(undefined);\n            this.view.domNode.focus();\n        }\n    }\n    dispose() {\n        this.disposables.dispose();\n        this.multipleSelectionDisposables.dispose();\n    }\n}\n__decorate([\n    memoize\n], KeyboardController.prototype, \"onKeyDown\", null);\nexport var TypeNavigationMode;\n(function (TypeNavigationMode) {\n    TypeNavigationMode[TypeNavigationMode[\"Automatic\"] = 0] = \"Automatic\";\n    TypeNavigationMode[TypeNavigationMode[\"Trigger\"] = 1] = \"Trigger\";\n})(TypeNavigationMode || (TypeNavigationMode = {}));\nvar TypeNavigationControllerState;\n(function (TypeNavigationControllerState) {\n    TypeNavigationControllerState[TypeNavigationControllerState[\"Idle\"] = 0] = \"Idle\";\n    TypeNavigationControllerState[TypeNavigationControllerState[\"Typing\"] = 1] = \"Typing\";\n})(TypeNavigationControllerState || (TypeNavigationControllerState = {}));\nexport const DefaultKeyboardNavigationDelegate = new class {\n    mightProducePrintableCharacter(event) {\n        if (event.ctrlKey || event.metaKey || event.altKey) {\n            return false;\n        }\n        return (event.keyCode >= 31 /* KeyCode.KeyA */ && event.keyCode <= 56 /* KeyCode.KeyZ */)\n            || (event.keyCode >= 21 /* KeyCode.Digit0 */ && event.keyCode <= 30 /* KeyCode.Digit9 */)\n            || (event.keyCode >= 93 /* KeyCode.Numpad0 */ && event.keyCode <= 102 /* KeyCode.Numpad9 */)\n            || (event.keyCode >= 80 /* KeyCode.Semicolon */ && event.keyCode <= 90 /* KeyCode.Quote */);\n    }\n};\nclass TypeNavigationController {\n    constructor(list, view, keyboardNavigationLabelProvider, keyboardNavigationEventFilter, delegate) {\n        this.list = list;\n        this.view = view;\n        this.keyboardNavigationLabelProvider = keyboardNavigationLabelProvider;\n        this.keyboardNavigationEventFilter = keyboardNavigationEventFilter;\n        this.delegate = delegate;\n        this.enabled = false;\n        this.state = TypeNavigationControllerState.Idle;\n        this.mode = TypeNavigationMode.Automatic;\n        this.triggered = false;\n        this.previouslyFocused = -1;\n        this.enabledDisposables = new DisposableStore();\n        this.disposables = new DisposableStore();\n        this.updateOptions(list.options);\n    }\n    updateOptions(options) {\n        var _a, _b;\n        if ((_a = options.typeNavigationEnabled) !== null && _a !== void 0 ? _a : true) {\n            this.enable();\n        }\n        else {\n            this.disable();\n        }\n        this.mode = (_b = options.typeNavigationMode) !== null && _b !== void 0 ? _b : TypeNavigationMode.Automatic;\n    }\n    enable() {\n        if (this.enabled) {\n            return;\n        }\n        let typing = false;\n        const onChar = this.enabledDisposables.add(Event.chain(this.enabledDisposables.add(new DomEmitter(this.view.domNode, 'keydown')).event))\n            .filter(e => !isInputElement(e.target))\n            .filter(() => this.mode === TypeNavigationMode.Automatic || this.triggered)\n            .map(event => new StandardKeyboardEvent(event))\n            .filter(e => typing || this.keyboardNavigationEventFilter(e))\n            .filter(e => this.delegate.mightProducePrintableCharacter(e))\n            .forEach(e => EventHelper.stop(e, true))\n            .map(event => event.browserEvent.key)\n            .event;\n        const onClear = Event.debounce(onChar, () => null, 800, undefined, undefined, undefined, this.enabledDisposables);\n        const onInput = Event.reduce(Event.any(onChar, onClear), (r, i) => i === null ? null : ((r || '') + i), undefined, this.enabledDisposables);\n        onInput(this.onInput, this, this.enabledDisposables);\n        onClear(this.onClear, this, this.enabledDisposables);\n        onChar(() => typing = true, undefined, this.enabledDisposables);\n        onClear(() => typing = false, undefined, this.enabledDisposables);\n        this.enabled = true;\n        this.triggered = false;\n    }\n    disable() {\n        if (!this.enabled) {\n            return;\n        }\n        this.enabledDisposables.clear();\n        this.enabled = false;\n        this.triggered = false;\n    }\n    onClear() {\n        var _a;\n        const focus = this.list.getFocus();\n        if (focus.length > 0 && focus[0] === this.previouslyFocused) {\n            // List: re-announce element on typing end since typed keys will interrupt aria label of focused element\n            // Do not announce if there was a focus change at the end to prevent duplication https://github.com/microsoft/vscode/issues/95961\n            const ariaLabel = (_a = this.list.options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getAriaLabel(this.list.element(focus[0]));\n            if (ariaLabel) {\n                alert(ariaLabel);\n            }\n        }\n        this.previouslyFocused = -1;\n    }\n    onInput(word) {\n        if (!word) {\n            this.state = TypeNavigationControllerState.Idle;\n            this.triggered = false;\n            return;\n        }\n        const focus = this.list.getFocus();\n        const start = focus.length > 0 ? focus[0] : 0;\n        const delta = this.state === TypeNavigationControllerState.Idle ? 1 : 0;\n        this.state = TypeNavigationControllerState.Typing;\n        for (let i = 0; i < this.list.length; i++) {\n            const index = (start + i + delta) % this.list.length;\n            const label = this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(index));\n            const labelStr = label && label.toString();\n            if (typeof labelStr === 'undefined' || matchesPrefix(word, labelStr)) {\n                this.previouslyFocused = start;\n                this.list.setFocus([index]);\n                this.list.reveal(index);\n                return;\n            }\n        }\n    }\n    dispose() {\n        this.disable();\n        this.enabledDisposables.dispose();\n        this.disposables.dispose();\n    }\n}\nclass DOMFocusController {\n    constructor(list, view) {\n        this.list = list;\n        this.view = view;\n        this.disposables = new DisposableStore();\n        const onKeyDown = this.disposables.add(Event.chain(this.disposables.add(new DomEmitter(view.domNode, 'keydown')).event))\n            .filter(e => !isInputElement(e.target))\n            .map(e => new StandardKeyboardEvent(e));\n        onKeyDown.filter(e => e.keyCode === 2 /* KeyCode.Tab */ && !e.ctrlKey && !e.metaKey && !e.shiftKey && !e.altKey)\n            .on(this.onTab, this, this.disposables);\n    }\n    onTab(e) {\n        if (e.target !== this.view.domNode) {\n            return;\n        }\n        const focus = this.list.getFocus();\n        if (focus.length === 0) {\n            return;\n        }\n        const focusedDomElement = this.view.domElement(focus[0]);\n        if (!focusedDomElement) {\n            return;\n        }\n        const tabIndexElement = focusedDomElement.querySelector('[tabIndex]');\n        if (!tabIndexElement || !(tabIndexElement instanceof HTMLElement) || tabIndexElement.tabIndex === -1) {\n            return;\n        }\n        const style = window.getComputedStyle(tabIndexElement);\n        if (style.visibility === 'hidden' || style.display === 'none') {\n            return;\n        }\n        e.preventDefault();\n        e.stopPropagation();\n        tabIndexElement.focus();\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport function isSelectionSingleChangeEvent(event) {\n    return platform.isMacintosh ? event.browserEvent.metaKey : event.browserEvent.ctrlKey;\n}\nexport function isSelectionRangeChangeEvent(event) {\n    return event.browserEvent.shiftKey;\n}\nfunction isMouseRightClick(event) {\n    return event instanceof MouseEvent && event.button === 2;\n}\nconst DefaultMultipleSelectionController = {\n    isSelectionSingleChangeEvent,\n    isSelectionRangeChangeEvent\n};\nexport class MouseController {\n    constructor(list) {\n        this.list = list;\n        this.disposables = new DisposableStore();\n        this._onPointer = new Emitter();\n        this.onPointer = this._onPointer.event;\n        if (list.options.multipleSelectionSupport !== false) {\n            this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n        }\n        this.mouseSupport = typeof list.options.mouseSupport === 'undefined' || !!list.options.mouseSupport;\n        if (this.mouseSupport) {\n            list.onMouseDown(this.onMouseDown, this, this.disposables);\n            list.onContextMenu(this.onContextMenu, this, this.disposables);\n            list.onMouseDblClick(this.onDoubleClick, this, this.disposables);\n            list.onTouchStart(this.onMouseDown, this, this.disposables);\n            this.disposables.add(Gesture.addTarget(list.getHTMLElement()));\n        }\n        Event.any(list.onMouseClick, list.onMouseMiddleClick, list.onTap)(this.onViewPointer, this, this.disposables);\n    }\n    updateOptions(optionsUpdate) {\n        if (optionsUpdate.multipleSelectionSupport !== undefined) {\n            this.multipleSelectionController = undefined;\n            if (optionsUpdate.multipleSelectionSupport) {\n                this.multipleSelectionController = this.list.options.multipleSelectionController || DefaultMultipleSelectionController;\n            }\n        }\n    }\n    isSelectionSingleChangeEvent(event) {\n        if (!this.multipleSelectionController) {\n            return false;\n        }\n        return this.multipleSelectionController.isSelectionSingleChangeEvent(event);\n    }\n    isSelectionRangeChangeEvent(event) {\n        if (!this.multipleSelectionController) {\n            return false;\n        }\n        return this.multipleSelectionController.isSelectionRangeChangeEvent(event);\n    }\n    isSelectionChangeEvent(event) {\n        return this.isSelectionSingleChangeEvent(event) || this.isSelectionRangeChangeEvent(event);\n    }\n    onMouseDown(e) {\n        if (isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (document.activeElement !== e.browserEvent.target) {\n            this.list.domFocus();\n        }\n    }\n    onContextMenu(e) {\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        const focus = typeof e.index === 'undefined' ? [] : [e.index];\n        this.list.setFocus(focus, e.browserEvent);\n    }\n    onViewPointer(e) {\n        if (!this.mouseSupport) {\n            return;\n        }\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        const focus = e.index;\n        if (typeof focus === 'undefined') {\n            this.list.setFocus([], e.browserEvent);\n            this.list.setSelection([], e.browserEvent);\n            this.list.setAnchor(undefined);\n            return;\n        }\n        if (this.isSelectionRangeChangeEvent(e)) {\n            return this.changeSelection(e);\n        }\n        if (this.isSelectionChangeEvent(e)) {\n            return this.changeSelection(e);\n        }\n        this.list.setFocus([focus], e.browserEvent);\n        this.list.setAnchor(focus);\n        if (!isMouseRightClick(e.browserEvent)) {\n            this.list.setSelection([focus], e.browserEvent);\n        }\n        this._onPointer.fire(e);\n    }\n    onDoubleClick(e) {\n        if (isInputElement(e.browserEvent.target) || isMonacoEditor(e.browserEvent.target)) {\n            return;\n        }\n        if (this.isSelectionChangeEvent(e)) {\n            return;\n        }\n        const focus = this.list.getFocus();\n        this.list.setSelection(focus, e.browserEvent);\n    }\n    changeSelection(e) {\n        const focus = e.index;\n        let anchor = this.list.getAnchor();\n        if (this.isSelectionRangeChangeEvent(e)) {\n            if (typeof anchor === 'undefined') {\n                const currentFocus = this.list.getFocus()[0];\n                anchor = currentFocus !== null && currentFocus !== void 0 ? currentFocus : focus;\n                this.list.setAnchor(anchor);\n            }\n            const min = Math.min(anchor, focus);\n            const max = Math.max(anchor, focus);\n            const rangeSelection = range(min, max + 1);\n            const selection = this.list.getSelection();\n            const contiguousRange = getContiguousRangeContaining(disjunction(selection, [anchor]), anchor);\n            if (contiguousRange.length === 0) {\n                return;\n            }\n            const newSelection = disjunction(rangeSelection, relativeComplement(selection, contiguousRange));\n            this.list.setSelection(newSelection, e.browserEvent);\n            this.list.setFocus([focus], e.browserEvent);\n        }\n        else if (this.isSelectionSingleChangeEvent(e)) {\n            const selection = this.list.getSelection();\n            const newSelection = selection.filter(i => i !== focus);\n            this.list.setFocus([focus]);\n            this.list.setAnchor(focus);\n            if (selection.length === newSelection.length) {\n                this.list.setSelection([...newSelection, focus], e.browserEvent);\n            }\n            else {\n                this.list.setSelection(newSelection, e.browserEvent);\n            }\n        }\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport class DefaultStyleController {\n    constructor(styleElement, selectorSuffix) {\n        this.styleElement = styleElement;\n        this.selectorSuffix = selectorSuffix;\n    }\n    style(styles) {\n        var _a, _b;\n        const suffix = this.selectorSuffix && `.${this.selectorSuffix}`;\n        const content = [];\n        if (styles.listBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-rows { background: ${styles.listBackground}; }`);\n        }\n        if (styles.listFocusBackground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { background-color: ${styles.listFocusBackground}; }`);\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused:hover { background-color: ${styles.listFocusBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listFocusForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused { color: ${styles.listFocusForeground}; }`);\n        }\n        if (styles.listActiveSelectionBackground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { background-color: ${styles.listActiveSelectionBackground}; }`);\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected:hover { background-color: ${styles.listActiveSelectionBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listActiveSelectionForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected { color: ${styles.listActiveSelectionForeground}; }`);\n        }\n        if (styles.listActiveSelectionIconForeground) {\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.selected .codicon { color: ${styles.listActiveSelectionIconForeground}; }`);\n        }\n        if (styles.listFocusAndSelectionBackground) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { background-color: ${styles.listFocusAndSelectionBackground}; }\n\t\t\t`);\n        }\n        if (styles.listFocusAndSelectionForeground) {\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.selected.focused { color: ${styles.listFocusAndSelectionForeground}; }\n\t\t\t`);\n        }\n        if (styles.listInactiveFocusForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { color:  ${styles.listInactiveFocusForeground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused:hover { color:  ${styles.listInactiveFocusForeground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionIconForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused .codicon { color:  ${styles.listInactiveSelectionIconForeground}; }`);\n        }\n        if (styles.listInactiveFocusBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { background-color:  ${styles.listInactiveFocusBackground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused:hover { background-color:  ${styles.listInactiveFocusBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionBackground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { background-color:  ${styles.listInactiveSelectionBackground}; }`);\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected:hover { background-color:  ${styles.listInactiveSelectionBackground}; }`); // overwrite :hover style in this case!\n        }\n        if (styles.listInactiveSelectionForeground) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { color: ${styles.listInactiveSelectionForeground}; }`);\n        }\n        if (styles.listHoverBackground) {\n            content.push(`.monaco-list${suffix}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${styles.listHoverBackground}; }`);\n        }\n        if (styles.listHoverForeground) {\n            content.push(`.monaco-list${suffix}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${styles.listHoverForeground}; }`);\n        }\n        /**\n         * Outlines\n         */\n        const focusAndSelectionOutline = asCssValueWithDefault(styles.listFocusAndSelectionOutline, asCssValueWithDefault(styles.listSelectionOutline, (_a = styles.listFocusOutline) !== null && _a !== void 0 ? _a : ''));\n        if (focusAndSelectionOutline) { // default: listFocusOutline\n            content.push(`.monaco-list${suffix}:focus .monaco-list-row.focused.selected { outline: 1px solid ${focusAndSelectionOutline}; outline-offset: -1px;}`);\n        }\n        if (styles.listFocusOutline) { // default: set\n            content.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${suffix}:focus .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${suffix}.last-focused .monaco-list-row.focused { outline: 1px solid ${styles.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`);\n        }\n        const inactiveFocusAndSelectionOutline = asCssValueWithDefault(styles.listSelectionOutline, (_b = styles.listInactiveFocusOutline) !== null && _b !== void 0 ? _b : '');\n        if (inactiveFocusAndSelectionOutline) {\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused.selected { outline: 1px dotted ${inactiveFocusAndSelectionOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listSelectionOutline) { // default: activeContrastBorder\n            content.push(`.monaco-list${suffix} .monaco-list-row.selected { outline: 1px dotted ${styles.listSelectionOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listInactiveFocusOutline) { // default: null\n            content.push(`.monaco-list${suffix} .monaco-list-row.focused { outline: 1px dotted ${styles.listInactiveFocusOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listHoverOutline) { // default: activeContrastBorder\n            content.push(`.monaco-list${suffix} .monaco-list-row:hover { outline: 1px dashed ${styles.listHoverOutline}; outline-offset: -1px; }`);\n        }\n        if (styles.listDropBackground) {\n            content.push(`\n\t\t\t\t.monaco-list${suffix}.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${suffix} .monaco-list-row.drop-target { background-color: ${styles.listDropBackground} !important; color: inherit !important; }\n\t\t\t`);\n        }\n        if (styles.tableColumnsBorder) {\n            content.push(`\n\t\t\t\t.monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${styles.tableColumnsBorder};\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: transparent;\n\t\t\t\t}\n\t\t\t`);\n        }\n        if (styles.tableOddRowsBackgroundColor) {\n            content.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${styles.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`);\n        }\n        this.styleElement.textContent = content.join('\\n');\n    }\n}\nexport const unthemedListStyles = {\n    listFocusBackground: '#7FB0D0',\n    listActiveSelectionBackground: '#0E639C',\n    listActiveSelectionForeground: '#FFFFFF',\n    listActiveSelectionIconForeground: '#FFFFFF',\n    listFocusAndSelectionOutline: '#90C2F9',\n    listFocusAndSelectionBackground: '#094771',\n    listFocusAndSelectionForeground: '#FFFFFF',\n    listInactiveSelectionBackground: '#3F3F46',\n    listInactiveSelectionIconForeground: '#FFFFFF',\n    listHoverBackground: '#2A2D2E',\n    listDropBackground: '#383B3D',\n    treeIndentGuidesStroke: '#a9a9a9',\n    treeInactiveIndentGuidesStroke: Color.fromHex('#a9a9a9').transparent(0.4).toString(),\n    tableColumnsBorder: Color.fromHex('#cccccc').transparent(0.2).toString(),\n    tableOddRowsBackgroundColor: Color.fromHex('#cccccc').transparent(0.04).toString(),\n    listBackground: undefined,\n    listFocusForeground: undefined,\n    listInactiveSelectionForeground: undefined,\n    listInactiveFocusForeground: undefined,\n    listInactiveFocusBackground: undefined,\n    listHoverForeground: undefined,\n    listFocusOutline: undefined,\n    listInactiveFocusOutline: undefined,\n    listSelectionOutline: undefined,\n    listHoverOutline: undefined\n};\nconst DefaultOptions = {\n    keyboardSupport: true,\n    mouseSupport: true,\n    multipleSelectionSupport: true,\n    dnd: {\n        getDragURI() { return null; },\n        onDragStart() { },\n        onDragOver() { return false; },\n        drop() { }\n    }\n};\n// TODO@Joao: move these utils into a SortedArray class\nfunction getContiguousRangeContaining(range, value) {\n    const index = range.indexOf(value);\n    if (index === -1) {\n        return [];\n    }\n    const result = [];\n    let i = index - 1;\n    while (i >= 0 && range[i] === value - (index - i)) {\n        result.push(range[i--]);\n    }\n    result.reverse();\n    i = index;\n    while (i < range.length && range[i] === value + (i - index)) {\n        result.push(range[i++]);\n    }\n    return result;\n}\n/**\n * Given two sorted collections of numbers, returns the intersection\n * between them (OR).\n */\nfunction disjunction(one, other) {\n    const result = [];\n    let i = 0, j = 0;\n    while (i < one.length || j < other.length) {\n        if (i >= one.length) {\n            result.push(other[j++]);\n        }\n        else if (j >= other.length) {\n            result.push(one[i++]);\n        }\n        else if (one[i] === other[j]) {\n            result.push(one[i]);\n            i++;\n            j++;\n            continue;\n        }\n        else if (one[i] < other[j]) {\n            result.push(one[i++]);\n        }\n        else {\n            result.push(other[j++]);\n        }\n    }\n    return result;\n}\n/**\n * Given two sorted collections of numbers, returns the relative\n * complement between them (XOR).\n */\nfunction relativeComplement(one, other) {\n    const result = [];\n    let i = 0, j = 0;\n    while (i < one.length || j < other.length) {\n        if (i >= one.length) {\n            result.push(other[j++]);\n        }\n        else if (j >= other.length) {\n            result.push(one[i++]);\n        }\n        else if (one[i] === other[j]) {\n            i++;\n            j++;\n            continue;\n        }\n        else if (one[i] < other[j]) {\n            result.push(one[i++]);\n        }\n        else {\n            j++;\n        }\n    }\n    return result;\n}\nconst numericSort = (a, b) => a - b;\nclass PipelineRenderer {\n    constructor(_templateId, renderers) {\n        this._templateId = _templateId;\n        this.renderers = renderers;\n    }\n    get templateId() {\n        return this._templateId;\n    }\n    renderTemplate(container) {\n        return this.renderers.map(r => r.renderTemplate(container));\n    }\n    renderElement(element, index, templateData, height) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            renderer.renderElement(element, index, templateData[i++], height);\n        }\n    }\n    disposeElement(element, index, templateData, height) {\n        var _a;\n        let i = 0;\n        for (const renderer of this.renderers) {\n            (_a = renderer.disposeElement) === null || _a === void 0 ? void 0 : _a.call(renderer, element, index, templateData[i], height);\n            i += 1;\n        }\n    }\n    disposeTemplate(templateData) {\n        let i = 0;\n        for (const renderer of this.renderers) {\n            renderer.disposeTemplate(templateData[i++]);\n        }\n    }\n}\nclass AccessibiltyRenderer {\n    constructor(accessibilityProvider) {\n        this.accessibilityProvider = accessibilityProvider;\n        this.templateId = 'a18n';\n    }\n    renderTemplate(container) {\n        return container;\n    }\n    renderElement(element, index, container) {\n        const ariaLabel = this.accessibilityProvider.getAriaLabel(element);\n        if (ariaLabel) {\n            container.setAttribute('aria-label', ariaLabel);\n        }\n        else {\n            container.removeAttribute('aria-label');\n        }\n        const ariaLevel = this.accessibilityProvider.getAriaLevel && this.accessibilityProvider.getAriaLevel(element);\n        if (typeof ariaLevel === 'number') {\n            container.setAttribute('aria-level', `${ariaLevel}`);\n        }\n        else {\n            container.removeAttribute('aria-level');\n        }\n    }\n    disposeTemplate(templateData) {\n        // noop\n    }\n}\nclass ListViewDragAndDrop {\n    constructor(list, dnd) {\n        this.list = list;\n        this.dnd = dnd;\n    }\n    getDragElements(element) {\n        const selection = this.list.getSelectedElements();\n        const elements = selection.indexOf(element) > -1 ? selection : [element];\n        return elements;\n    }\n    getDragURI(element) {\n        return this.dnd.getDragURI(element);\n    }\n    getDragLabel(elements, originalEvent) {\n        if (this.dnd.getDragLabel) {\n            return this.dnd.getDragLabel(elements, originalEvent);\n        }\n        return undefined;\n    }\n    onDragStart(data, originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragStart) === null || _b === void 0 ? void 0 : _b.call(_a, data, originalEvent);\n    }\n    onDragOver(data, targetElement, targetIndex, originalEvent) {\n        return this.dnd.onDragOver(data, targetElement, targetIndex, originalEvent);\n    }\n    onDragLeave(data, targetElement, targetIndex, originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragLeave) === null || _b === void 0 ? void 0 : _b.call(_a, data, targetElement, targetIndex, originalEvent);\n    }\n    onDragEnd(originalEvent) {\n        var _a, _b;\n        (_b = (_a = this.dnd).onDragEnd) === null || _b === void 0 ? void 0 : _b.call(_a, originalEvent);\n    }\n    drop(data, targetElement, targetIndex, originalEvent) {\n        this.dnd.drop(data, targetElement, targetIndex, originalEvent);\n    }\n}\n/**\n * The {@link List} is a virtual scrolling widget, built on top of the {@link ListView}\n * widget.\n *\n * Features:\n * - Customizable keyboard and mouse support\n * - Element traits: focus, selection, achor\n * - Accessibility support\n * - Touch support\n * - Performant template-based rendering\n * - Horizontal scrolling\n * - Variable element height support\n * - Dynamic element height support\n * - Drag-and-drop support\n */\nexport class List {\n    get onDidChangeFocus() {\n        return Event.map(this.eventBufferer.wrapEvent(this.focus.onChange), e => this.toListEvent(e), this.disposables);\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.eventBufferer.wrapEvent(this.selection.onChange), e => this.toListEvent(e), this.disposables);\n    }\n    get domId() { return this.view.domId; }\n    get onMouseClick() { return this.view.onMouseClick; }\n    get onMouseDblClick() { return this.view.onMouseDblClick; }\n    get onMouseMiddleClick() { return this.view.onMouseMiddleClick; }\n    get onPointer() { return this.mouseController.onPointer; }\n    get onMouseDown() { return this.view.onMouseDown; }\n    get onMouseOver() { return this.view.onMouseOver; }\n    get onMouseOut() { return this.view.onMouseOut; }\n    get onTouchStart() { return this.view.onTouchStart; }\n    get onTap() { return this.view.onTap; }\n    /**\n     * Possible context menu trigger events:\n     * - ContextMenu key\n     * - Shift F10\n     * - Ctrl Option Shift M (macOS with VoiceOver)\n     * - Mouse right click\n     */\n    get onContextMenu() {\n        let didJustPressContextMenuKey = false;\n        const fromKeyDown = this.disposables.add(Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event))\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => didJustPressContextMenuKey = e.keyCode === 58 /* KeyCode.ContextMenu */ || (e.shiftKey && e.keyCode === 68 /* KeyCode.F10 */))\n            .map(e => EventHelper.stop(e, true))\n            .filter(() => false)\n            .event;\n        const fromKeyUp = this.disposables.add(Event.chain(this.disposables.add(new DomEmitter(this.view.domNode, 'keyup')).event))\n            .forEach(() => didJustPressContextMenuKey = false)\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => e.keyCode === 58 /* KeyCode.ContextMenu */ || (e.shiftKey && e.keyCode === 68 /* KeyCode.F10 */))\n            .map(e => EventHelper.stop(e, true))\n            .map(({ browserEvent }) => {\n            const focus = this.getFocus();\n            const index = focus.length ? focus[0] : undefined;\n            const element = typeof index !== 'undefined' ? this.view.element(index) : undefined;\n            const anchor = typeof index !== 'undefined' ? this.view.domElement(index) : this.view.domNode;\n            return { index, element, anchor, browserEvent };\n        })\n            .event;\n        const fromMouse = this.disposables.add(Event.chain(this.view.onContextMenu))\n            .filter(_ => !didJustPressContextMenuKey)\n            .map(({ element, index, browserEvent }) => ({ element, index, anchor: { x: browserEvent.pageX + 1, y: browserEvent.pageY }, browserEvent }))\n            .event;\n        return Event.any(fromKeyDown, fromKeyUp, fromMouse);\n    }\n    get onKeyDown() { return this.disposables.add(new DomEmitter(this.view.domNode, 'keydown')).event; }\n    get onDidFocus() { return Event.signal(this.disposables.add(new DomEmitter(this.view.domNode, 'focus', true)).event); }\n    constructor(user, container, virtualDelegate, renderers, _options = DefaultOptions) {\n        var _a, _b, _c, _d;\n        this.user = user;\n        this._options = _options;\n        this.focus = new Trait('focused');\n        this.anchor = new Trait('anchor');\n        this.eventBufferer = new EventBufferer();\n        this._ariaLabel = '';\n        this.disposables = new DisposableStore();\n        this._onDidDispose = new Emitter();\n        this.onDidDispose = this._onDidDispose.event;\n        const role = this._options.accessibilityProvider && this._options.accessibilityProvider.getWidgetRole ? (_a = this._options.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getWidgetRole() : 'list';\n        this.selection = new SelectionTrait(role !== 'listbox');\n        const baseRenderers = [this.focus.renderer, this.selection.renderer];\n        this.accessibilityProvider = _options.accessibilityProvider;\n        if (this.accessibilityProvider) {\n            baseRenderers.push(new AccessibiltyRenderer(this.accessibilityProvider));\n            (_c = (_b = this.accessibilityProvider).onDidChangeActiveDescendant) === null || _c === void 0 ? void 0 : _c.call(_b, this.onDidChangeActiveDescendant, this, this.disposables);\n        }\n        renderers = renderers.map(r => new PipelineRenderer(r.templateId, [...baseRenderers, r]));\n        const viewOptions = Object.assign(Object.assign({}, _options), { dnd: _options.dnd && new ListViewDragAndDrop(this, _options.dnd) });\n        this.view = this.createListView(container, virtualDelegate, renderers, viewOptions);\n        this.view.domNode.setAttribute('role', role);\n        if (_options.styleController) {\n            this.styleController = _options.styleController(this.view.domId);\n        }\n        else {\n            const styleElement = createStyleSheet(this.view.domNode);\n            this.styleController = new DefaultStyleController(styleElement, this.view.domId);\n        }\n        this.spliceable = new CombinedSpliceable([\n            new TraitSpliceable(this.focus, this.view, _options.identityProvider),\n            new TraitSpliceable(this.selection, this.view, _options.identityProvider),\n            new TraitSpliceable(this.anchor, this.view, _options.identityProvider),\n            this.view\n        ]);\n        this.disposables.add(this.focus);\n        this.disposables.add(this.selection);\n        this.disposables.add(this.anchor);\n        this.disposables.add(this.view);\n        this.disposables.add(this._onDidDispose);\n        this.disposables.add(new DOMFocusController(this, this.view));\n        if (typeof _options.keyboardSupport !== 'boolean' || _options.keyboardSupport) {\n            this.keyboardController = new KeyboardController(this, this.view, _options);\n            this.disposables.add(this.keyboardController);\n        }\n        if (_options.keyboardNavigationLabelProvider) {\n            const delegate = _options.keyboardNavigationDelegate || DefaultKeyboardNavigationDelegate;\n            this.typeNavigationController = new TypeNavigationController(this, this.view, _options.keyboardNavigationLabelProvider, (_d = _options.keyboardNavigationEventFilter) !== null && _d !== void 0 ? _d : (() => true), delegate);\n            this.disposables.add(this.typeNavigationController);\n        }\n        this.mouseController = this.createMouseController(_options);\n        this.disposables.add(this.mouseController);\n        this.onDidChangeFocus(this._onFocusChange, this, this.disposables);\n        this.onDidChangeSelection(this._onSelectionChange, this, this.disposables);\n        if (this.accessibilityProvider) {\n            this.ariaLabel = this.accessibilityProvider.getWidgetAriaLabel();\n        }\n        if (this._options.multipleSelectionSupport !== false) {\n            this.view.domNode.setAttribute('aria-multiselectable', 'true');\n        }\n    }\n    createListView(container, virtualDelegate, renderers, viewOptions) {\n        return new ListView(container, virtualDelegate, renderers, viewOptions);\n    }\n    createMouseController(options) {\n        return new MouseController(this);\n    }\n    updateOptions(optionsUpdate = {}) {\n        var _a, _b;\n        this._options = Object.assign(Object.assign({}, this._options), optionsUpdate);\n        (_a = this.typeNavigationController) === null || _a === void 0 ? void 0 : _a.updateOptions(this._options);\n        if (this._options.multipleSelectionController !== undefined) {\n            if (this._options.multipleSelectionSupport) {\n                this.view.domNode.setAttribute('aria-multiselectable', 'true');\n            }\n            else {\n                this.view.domNode.removeAttribute('aria-multiselectable');\n            }\n        }\n        this.mouseController.updateOptions(optionsUpdate);\n        (_b = this.keyboardController) === null || _b === void 0 ? void 0 : _b.updateOptions(optionsUpdate);\n        this.view.updateOptions(optionsUpdate);\n    }\n    get options() {\n        return this._options;\n    }\n    splice(start, deleteCount, elements = []) {\n        if (start < 0 || start > this.view.length) {\n            throw new ListError(this.user, `Invalid start index: ${start}`);\n        }\n        if (deleteCount < 0) {\n            throw new ListError(this.user, `Invalid delete count: ${deleteCount}`);\n        }\n        if (deleteCount === 0 && elements.length === 0) {\n            return;\n        }\n        this.eventBufferer.bufferEvents(() => this.spliceable.splice(start, deleteCount, elements));\n    }\n    rerender() {\n        this.view.rerender();\n    }\n    element(index) {\n        return this.view.element(index);\n    }\n    get length() {\n        return this.view.length;\n    }\n    get contentHeight() {\n        return this.view.contentHeight;\n    }\n    get scrollTop() {\n        return this.view.getScrollTop();\n    }\n    set scrollTop(scrollTop) {\n        this.view.setScrollTop(scrollTop);\n    }\n    get scrollHeight() {\n        return this.view.scrollHeight;\n    }\n    get firstVisibleIndex() {\n        return this.view.firstVisibleIndex;\n    }\n    get ariaLabel() {\n        return this._ariaLabel;\n    }\n    set ariaLabel(value) {\n        this._ariaLabel = value;\n        this.view.domNode.setAttribute('aria-label', value);\n    }\n    domFocus() {\n        this.view.domNode.focus({ preventScroll: true });\n    }\n    layout(height, width) {\n        this.view.layout(height, width);\n    }\n    setSelection(indexes, browserEvent) {\n        for (const index of indexes) {\n            if (index < 0 || index >= this.length) {\n                throw new ListError(this.user, `Invalid index ${index}`);\n            }\n        }\n        this.selection.set(indexes, browserEvent);\n    }\n    getSelection() {\n        return this.selection.get();\n    }\n    getSelectedElements() {\n        return this.getSelection().map(i => this.view.element(i));\n    }\n    setAnchor(index) {\n        if (typeof index === 'undefined') {\n            this.anchor.set([]);\n            return;\n        }\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        this.anchor.set([index]);\n    }\n    getAnchor() {\n        return firstOrDefault(this.anchor.get(), undefined);\n    }\n    getAnchorElement() {\n        const anchor = this.getAnchor();\n        return typeof anchor === 'undefined' ? undefined : this.element(anchor);\n    }\n    setFocus(indexes, browserEvent) {\n        for (const index of indexes) {\n            if (index < 0 || index >= this.length) {\n                throw new ListError(this.user, `Invalid index ${index}`);\n            }\n        }\n        this.focus.set(indexes, browserEvent);\n    }\n    focusNext(n = 1, loop = false, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const focus = this.focus.get();\n        const index = this.findNextIndex(focus.length > 0 ? focus[0] + n : 0, loop, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusPrevious(n = 1, loop = false, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const focus = this.focus.get();\n        const index = this.findPreviousIndex(focus.length > 0 ? focus[0] - n : 0, loop, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusNextPage(browserEvent, filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let lastPageIndex = this.view.indexAt(this.view.getScrollTop() + this.view.renderHeight);\n            lastPageIndex = lastPageIndex === 0 ? 0 : lastPageIndex - 1;\n            const currentlyFocusedElementIndex = this.getFocus()[0];\n            if (currentlyFocusedElementIndex !== lastPageIndex && (currentlyFocusedElementIndex === undefined || lastPageIndex > currentlyFocusedElementIndex)) {\n                const lastGoodPageIndex = this.findPreviousIndex(lastPageIndex, false, filter);\n                if (lastGoodPageIndex > -1 && currentlyFocusedElementIndex !== lastGoodPageIndex) {\n                    this.setFocus([lastGoodPageIndex], browserEvent);\n                }\n                else {\n                    this.setFocus([lastPageIndex], browserEvent);\n                }\n            }\n            else {\n                const previousScrollTop = this.view.getScrollTop();\n                let nextpageScrollTop = previousScrollTop + this.view.renderHeight;\n                if (lastPageIndex > currentlyFocusedElementIndex) {\n                    // scroll last page element to the top only if the last page element is below the focused element\n                    nextpageScrollTop -= this.view.elementHeight(lastPageIndex);\n                }\n                this.view.setScrollTop(nextpageScrollTop);\n                if (this.view.getScrollTop() !== previousScrollTop) {\n                    this.setFocus([]);\n                    // Let the scroll event listener run\n                    yield timeout(0);\n                    yield this.focusNextPage(browserEvent, filter);\n                }\n            }\n        });\n    }\n    focusPreviousPage(browserEvent, filter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let firstPageIndex;\n            const scrollTop = this.view.getScrollTop();\n            if (scrollTop === 0) {\n                firstPageIndex = this.view.indexAt(scrollTop);\n            }\n            else {\n                firstPageIndex = this.view.indexAfter(scrollTop - 1);\n            }\n            const currentlyFocusedElementIndex = this.getFocus()[0];\n            if (currentlyFocusedElementIndex !== firstPageIndex && (currentlyFocusedElementIndex === undefined || currentlyFocusedElementIndex >= firstPageIndex)) {\n                const firstGoodPageIndex = this.findNextIndex(firstPageIndex, false, filter);\n                if (firstGoodPageIndex > -1 && currentlyFocusedElementIndex !== firstGoodPageIndex) {\n                    this.setFocus([firstGoodPageIndex], browserEvent);\n                }\n                else {\n                    this.setFocus([firstPageIndex], browserEvent);\n                }\n            }\n            else {\n                const previousScrollTop = scrollTop;\n                this.view.setScrollTop(scrollTop - this.view.renderHeight);\n                if (this.view.getScrollTop() !== previousScrollTop) {\n                    this.setFocus([]);\n                    // Let the scroll event listener run\n                    yield timeout(0);\n                    yield this.focusPreviousPage(browserEvent, filter);\n                }\n            }\n        });\n    }\n    focusLast(browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const index = this.findPreviousIndex(this.length - 1, false, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    focusFirst(browserEvent, filter) {\n        this.focusNth(0, browserEvent, filter);\n    }\n    focusNth(n, browserEvent, filter) {\n        if (this.length === 0) {\n            return;\n        }\n        const index = this.findNextIndex(n, false, filter);\n        if (index > -1) {\n            this.setFocus([index], browserEvent);\n        }\n    }\n    findNextIndex(index, loop = false, filter) {\n        for (let i = 0; i < this.length; i++) {\n            if (index >= this.length && !loop) {\n                return -1;\n            }\n            index = index % this.length;\n            if (!filter || filter(this.element(index))) {\n                return index;\n            }\n            index++;\n        }\n        return -1;\n    }\n    findPreviousIndex(index, loop = false, filter) {\n        for (let i = 0; i < this.length; i++) {\n            if (index < 0 && !loop) {\n                return -1;\n            }\n            index = (this.length + (index % this.length)) % this.length;\n            if (!filter || filter(this.element(index))) {\n                return index;\n            }\n            index--;\n        }\n        return -1;\n    }\n    getFocus() {\n        return this.focus.get();\n    }\n    getFocusedElements() {\n        return this.getFocus().map(i => this.view.element(i));\n    }\n    reveal(index, relativeTop) {\n        if (index < 0 || index >= this.length) {\n            throw new ListError(this.user, `Invalid index ${index}`);\n        }\n        const scrollTop = this.view.getScrollTop();\n        const elementTop = this.view.elementTop(index);\n        const elementHeight = this.view.elementHeight(index);\n        if (isNumber(relativeTop)) {\n            // y = mx + b\n            const m = elementHeight - this.view.renderHeight;\n            this.view.setScrollTop(m * clamp(relativeTop, 0, 1) + elementTop);\n        }\n        else {\n            const viewItemBottom = elementTop + elementHeight;\n            const scrollBottom = scrollTop + this.view.renderHeight;\n            if (elementTop < scrollTop && viewItemBottom >= scrollBottom) {\n                // The element is already overflowing the viewport, no-op\n            }\n            else if (elementTop < scrollTop || (viewItemBottom >= scrollBottom && elementHeight >= this.view.renderHeight)) {\n                this.view.setScrollTop(elementTop);\n            }\n            else if (viewItemBottom >= scrollBottom) {\n                this.view.setScrollTop(viewItemBottom - this.view.renderHeight);\n            }\n        }\n    }\n    getHTMLElement() {\n        return this.view.domNode;\n    }\n    getElementID(index) {\n        return this.view.getElementDomId(index);\n    }\n    style(styles) {\n        this.styleController.style(styles);\n    }\n    toListEvent({ indexes, browserEvent }) {\n        return { indexes, elements: indexes.map(i => this.view.element(i)), browserEvent };\n    }\n    _onFocusChange() {\n        const focus = this.focus.get();\n        this.view.domNode.classList.toggle('element-focused', focus.length > 0);\n        this.onDidChangeActiveDescendant();\n    }\n    onDidChangeActiveDescendant() {\n        var _a;\n        const focus = this.focus.get();\n        if (focus.length > 0) {\n            let id;\n            if ((_a = this.accessibilityProvider) === null || _a === void 0 ? void 0 : _a.getActiveDescendantId) {\n                id = this.accessibilityProvider.getActiveDescendantId(this.view.element(focus[0]));\n            }\n            this.view.domNode.setAttribute('aria-activedescendant', id || this.view.getElementDomId(focus[0]));\n        }\n        else {\n            this.view.domNode.removeAttribute('aria-activedescendant');\n        }\n    }\n    _onSelectionChange() {\n        const selection = this.selection.get();\n        this.view.domNode.classList.toggle('selection-none', selection.length === 0);\n        this.view.domNode.classList.toggle('selection-single', selection.length === 1);\n        this.view.domNode.classList.toggle('selection-multiple', selection.length > 1);\n    }\n    dispose() {\n        this._onDidDispose.fire();\n        this.disposables.dispose();\n        this._onDidDispose.dispose();\n    }\n}\n__decorate([\n    memoize\n], List.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], List.prototype, \"onDidChangeSelection\", null);\n__decorate([\n    memoize\n], List.prototype, \"onContextMenu\", null);\n__decorate([\n    memoize\n], List.prototype, \"onKeyDown\", null);\n__decorate([\n    memoize\n], List.prototype, \"onDidFocus\", null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFirefox } from '../../browser.js';\nimport { EventType as TouchEventType, Gesture } from '../../touch.js';\nimport { $, addDisposableListener, append, clearNode, createStyleSheet, Dimension, EventHelper, EventType, getActiveElement, isAncestor, isInShadowDOM } from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { StandardMouseEvent } from '../../mouseEvent.js';\nimport { ActionBar } from '../actionbar/actionbar.js';\nimport { ActionViewItem, BaseActionViewItem } from '../actionbar/actionViewItems.js';\nimport { layout } from '../contextview/contextview.js';\nimport { DomScrollableElement } from '../scrollbar/scrollableElement.js';\nimport { EmptySubmenuAction, Separator, SubmenuAction } from '../../../common/actions.js';\nimport { RunOnceScheduler } from '../../../common/async.js';\nimport { Codicon, getCodiconFontCharacters } from '../../../common/codicons.js';\nimport { ThemeIcon } from '../../../common/themables.js';\nimport { stripIcons } from '../../../common/iconLabels.js';\nimport { DisposableStore } from '../../../common/lifecycle.js';\nimport { isLinux, isMacintosh } from '../../../common/platform.js';\nimport * as strings from '../../../common/strings.js';\nexport const MENU_MNEMONIC_REGEX = /\\(&([^\\s&])\\)|(^|[^&])&([^\\s&])/;\nexport const MENU_ESCAPED_MNEMONIC_REGEX = /(&amp;)?(&amp;)([^\\s&])/g;\nexport var Direction;\n(function (Direction) {\n    Direction[Direction[\"Right\"] = 0] = \"Right\";\n    Direction[Direction[\"Left\"] = 1] = \"Left\";\n})(Direction || (Direction = {}));\nexport class Menu extends ActionBar {\n    constructor(container, actions, options, menuStyles) {\n        container.classList.add('monaco-menu-container');\n        container.setAttribute('role', 'presentation');\n        const menuElement = document.createElement('div');\n        menuElement.classList.add('monaco-menu');\n        menuElement.setAttribute('role', 'presentation');\n        super(menuElement, {\n            orientation: 1 /* ActionsOrientation.VERTICAL */,\n            actionViewItemProvider: action => this.doGetActionViewItem(action, options, parentData),\n            context: options.context,\n            actionRunner: options.actionRunner,\n            ariaLabel: options.ariaLabel,\n            ariaRole: 'menu',\n            focusOnlyEnabledItems: true,\n            triggerKeys: { keys: [3 /* KeyCode.Enter */, ...(isMacintosh || isLinux ? [10 /* KeyCode.Space */] : [])], keyDown: true }\n        });\n        this.menuStyles = menuStyles;\n        this.menuElement = menuElement;\n        this.actionsList.tabIndex = 0;\n        this.menuDisposables = this._register(new DisposableStore());\n        this.initializeOrUpdateStyleSheet(container, menuStyles);\n        this._register(Gesture.addTarget(menuElement));\n        addDisposableListener(menuElement, EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            // Stop tab navigation of menus\n            if (event.equals(2 /* KeyCode.Tab */)) {\n                e.preventDefault();\n            }\n        });\n        if (options.enableMnemonics) {\n            this.menuDisposables.add(addDisposableListener(menuElement, EventType.KEY_DOWN, (e) => {\n                const key = e.key.toLocaleLowerCase();\n                if (this.mnemonics.has(key)) {\n                    EventHelper.stop(e, true);\n                    const actions = this.mnemonics.get(key);\n                    if (actions.length === 1) {\n                        if (actions[0] instanceof SubmenuMenuActionViewItem && actions[0].container) {\n                            this.focusItemByElement(actions[0].container);\n                        }\n                        actions[0].onClick(e);\n                    }\n                    if (actions.length > 1) {\n                        const action = actions.shift();\n                        if (action && action.container) {\n                            this.focusItemByElement(action.container);\n                            actions.push(action);\n                        }\n                        this.mnemonics.set(key, actions);\n                    }\n                }\n            }));\n        }\n        if (isLinux) {\n            this._register(addDisposableListener(menuElement, EventType.KEY_DOWN, e => {\n                const event = new StandardKeyboardEvent(e);\n                if (event.equals(14 /* KeyCode.Home */) || event.equals(11 /* KeyCode.PageUp */)) {\n                    this.focusedItem = this.viewItems.length - 1;\n                    this.focusNext();\n                    EventHelper.stop(e, true);\n                }\n                else if (event.equals(13 /* KeyCode.End */) || event.equals(12 /* KeyCode.PageDown */)) {\n                    this.focusedItem = 0;\n                    this.focusPrevious();\n                    EventHelper.stop(e, true);\n                }\n            }));\n        }\n        this._register(addDisposableListener(this.domNode, EventType.MOUSE_OUT, e => {\n            const relatedTarget = e.relatedTarget;\n            if (!isAncestor(relatedTarget, this.domNode)) {\n                this.focusedItem = undefined;\n                this.updateFocus();\n                e.stopPropagation();\n            }\n        }));\n        this._register(addDisposableListener(this.actionsList, EventType.MOUSE_OVER, e => {\n            let target = e.target;\n            if (!target || !isAncestor(target, this.actionsList) || target === this.actionsList) {\n                return;\n            }\n            while (target.parentElement !== this.actionsList && target.parentElement !== null) {\n                target = target.parentElement;\n            }\n            if (target.classList.contains('action-item')) {\n                const lastFocusedItem = this.focusedItem;\n                this.setFocusedItem(target);\n                if (lastFocusedItem !== this.focusedItem) {\n                    this.updateFocus();\n                }\n            }\n        }));\n        // Support touch on actions list to focus items (needed for submenus)\n        this._register(Gesture.addTarget(this.actionsList));\n        this._register(addDisposableListener(this.actionsList, TouchEventType.Tap, e => {\n            let target = e.initialTarget;\n            if (!target || !isAncestor(target, this.actionsList) || target === this.actionsList) {\n                return;\n            }\n            while (target.parentElement !== this.actionsList && target.parentElement !== null) {\n                target = target.parentElement;\n            }\n            if (target.classList.contains('action-item')) {\n                const lastFocusedItem = this.focusedItem;\n                this.setFocusedItem(target);\n                if (lastFocusedItem !== this.focusedItem) {\n                    this.updateFocus();\n                }\n            }\n        }));\n        const parentData = {\n            parent: this\n        };\n        this.mnemonics = new Map();\n        // Scroll Logic\n        this.scrollableElement = this._register(new DomScrollableElement(menuElement, {\n            alwaysConsumeMouseWheel: true,\n            horizontal: 2 /* ScrollbarVisibility.Hidden */,\n            vertical: 3 /* ScrollbarVisibility.Visible */,\n            verticalScrollbarSize: 7,\n            handleMouseWheel: true,\n            useShadows: true\n        }));\n        const scrollElement = this.scrollableElement.getDomNode();\n        scrollElement.style.position = '';\n        this.styleScrollElement(scrollElement, menuStyles);\n        // Support scroll on menu drag\n        this._register(addDisposableListener(menuElement, TouchEventType.Change, e => {\n            EventHelper.stop(e, true);\n            const scrollTop = this.scrollableElement.getScrollPosition().scrollTop;\n            this.scrollableElement.setScrollPosition({ scrollTop: scrollTop - e.translationY });\n        }));\n        this._register(addDisposableListener(scrollElement, EventType.MOUSE_UP, e => {\n            // Absorb clicks in menu dead space https://github.com/microsoft/vscode/issues/63575\n            // We do this on the scroll element so the scroll bar doesn't dismiss the menu either\n            e.preventDefault();\n        }));\n        menuElement.style.maxHeight = `${Math.max(10, window.innerHeight - container.getBoundingClientRect().top - 35)}px`;\n        actions = actions.filter(a => {\n            var _a;\n            if ((_a = options.submenuIds) === null || _a === void 0 ? void 0 : _a.has(a.id)) {\n                console.warn(`Found submenu cycle: ${a.id}`);\n                return false;\n            }\n            return true;\n        });\n        this.push(actions, { icon: true, label: true, isMenu: true });\n        container.appendChild(this.scrollableElement.getDomNode());\n        this.scrollableElement.scanDomNode();\n        this.viewItems.filter(item => !(item instanceof MenuSeparatorActionViewItem)).forEach((item, index, array) => {\n            item.updatePositionInSet(index + 1, array.length);\n        });\n    }\n    initializeOrUpdateStyleSheet(container, style) {\n        if (!this.styleSheet) {\n            if (isInShadowDOM(container)) {\n                this.styleSheet = createStyleSheet(container);\n            }\n            else {\n                if (!Menu.globalStyleSheet) {\n                    Menu.globalStyleSheet = createStyleSheet();\n                }\n                this.styleSheet = Menu.globalStyleSheet;\n            }\n        }\n        this.styleSheet.textContent = getMenuWidgetCSS(style, isInShadowDOM(container));\n    }\n    styleScrollElement(scrollElement, style) {\n        var _a, _b;\n        const fgColor = (_a = style.foregroundColor) !== null && _a !== void 0 ? _a : '';\n        const bgColor = (_b = style.backgroundColor) !== null && _b !== void 0 ? _b : '';\n        const border = style.borderColor ? `1px solid ${style.borderColor}` : '';\n        const borderRadius = '5px';\n        const shadow = style.shadowColor ? `0 2px 8px ${style.shadowColor}` : '';\n        scrollElement.style.outline = border;\n        scrollElement.style.borderRadius = borderRadius;\n        scrollElement.style.color = fgColor;\n        scrollElement.style.backgroundColor = bgColor;\n        scrollElement.style.boxShadow = shadow;\n    }\n    getContainer() {\n        return this.scrollableElement.getDomNode();\n    }\n    get onScroll() {\n        return this.scrollableElement.onScroll;\n    }\n    focusItemByElement(element) {\n        const lastFocusedItem = this.focusedItem;\n        this.setFocusedItem(element);\n        if (lastFocusedItem !== this.focusedItem) {\n            this.updateFocus();\n        }\n    }\n    setFocusedItem(element) {\n        for (let i = 0; i < this.actionsList.children.length; i++) {\n            const elem = this.actionsList.children[i];\n            if (element === elem) {\n                this.focusedItem = i;\n                break;\n            }\n        }\n    }\n    updateFocus(fromRight) {\n        super.updateFocus(fromRight, true, true);\n        if (typeof this.focusedItem !== 'undefined') {\n            // Workaround for #80047 caused by an issue in chromium\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=414283\n            // When that's fixed, just call this.scrollableElement.scanDomNode()\n            this.scrollableElement.setScrollPosition({\n                scrollTop: Math.round(this.menuElement.scrollTop)\n            });\n        }\n    }\n    doGetActionViewItem(action, options, parentData) {\n        if (action instanceof Separator) {\n            return new MenuSeparatorActionViewItem(options.context, action, { icon: true }, this.menuStyles);\n        }\n        else if (action instanceof SubmenuAction) {\n            const menuActionViewItem = new SubmenuMenuActionViewItem(action, action.actions, parentData, Object.assign(Object.assign({}, options), { submenuIds: new Set([...(options.submenuIds || []), action.id]) }), this.menuStyles);\n            if (options.enableMnemonics) {\n                const mnemonic = menuActionViewItem.getMnemonic();\n                if (mnemonic && menuActionViewItem.isEnabled()) {\n                    let actionViewItems = [];\n                    if (this.mnemonics.has(mnemonic)) {\n                        actionViewItems = this.mnemonics.get(mnemonic);\n                    }\n                    actionViewItems.push(menuActionViewItem);\n                    this.mnemonics.set(mnemonic, actionViewItems);\n                }\n            }\n            return menuActionViewItem;\n        }\n        else {\n            const menuItemOptions = { enableMnemonics: options.enableMnemonics, useEventAsContext: options.useEventAsContext };\n            if (options.getKeyBinding) {\n                const keybinding = options.getKeyBinding(action);\n                if (keybinding) {\n                    const keybindingLabel = keybinding.getLabel();\n                    if (keybindingLabel) {\n                        menuItemOptions.keybinding = keybindingLabel;\n                    }\n                }\n            }\n            const menuActionViewItem = new BaseMenuActionViewItem(options.context, action, menuItemOptions, this.menuStyles);\n            if (options.enableMnemonics) {\n                const mnemonic = menuActionViewItem.getMnemonic();\n                if (mnemonic && menuActionViewItem.isEnabled()) {\n                    let actionViewItems = [];\n                    if (this.mnemonics.has(mnemonic)) {\n                        actionViewItems = this.mnemonics.get(mnemonic);\n                    }\n                    actionViewItems.push(menuActionViewItem);\n                    this.mnemonics.set(mnemonic, actionViewItems);\n                }\n            }\n            return menuActionViewItem;\n        }\n    }\n}\nclass BaseMenuActionViewItem extends BaseActionViewItem {\n    constructor(ctx, action, options, menuStyle) {\n        options.isMenu = true;\n        super(action, action, options);\n        this.menuStyle = menuStyle;\n        this.options = options;\n        this.options.icon = options.icon !== undefined ? options.icon : false;\n        this.options.label = options.label !== undefined ? options.label : true;\n        this.cssClass = '';\n        // Set mnemonic\n        if (this.options.label && options.enableMnemonics) {\n            const label = this.action.label;\n            if (label) {\n                const matches = MENU_MNEMONIC_REGEX.exec(label);\n                if (matches) {\n                    this.mnemonic = (!!matches[1] ? matches[1] : matches[3]).toLocaleLowerCase();\n                }\n            }\n        }\n        // Add mouse up listener later to avoid accidental clicks\n        this.runOnceToEnableMouseUp = new RunOnceScheduler(() => {\n            if (!this.element) {\n                return;\n            }\n            this._register(addDisposableListener(this.element, EventType.MOUSE_UP, e => {\n                // removed default prevention as it conflicts\n                // with BaseActionViewItem #101537\n                // add back if issues arise and link new issue\n                EventHelper.stop(e, true);\n                // See https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Interact_with_the_clipboard\n                // > Writing to the clipboard\n                // > You can use the \"cut\" and \"copy\" commands without any special\n                // permission if you are using them in a short-lived event handler\n                // for a user action (for example, a click handler).\n                // => to get the Copy and Paste context menu actions working on Firefox,\n                // there should be no timeout here\n                if (isFirefox) {\n                    const mouseEvent = new StandardMouseEvent(e);\n                    // Allowing right click to trigger the event causes the issue described below,\n                    // but since the solution below does not work in FF, we must disable right click\n                    if (mouseEvent.rightButton) {\n                        return;\n                    }\n                    this.onClick(e);\n                }\n                // In all other cases, set timeout to allow context menu cancellation to trigger\n                // otherwise the action will destroy the menu and a second context menu\n                // will still trigger for right click.\n                else {\n                    setTimeout(() => {\n                        this.onClick(e);\n                    }, 0);\n                }\n            }));\n            this._register(addDisposableListener(this.element, EventType.CONTEXT_MENU, e => {\n                EventHelper.stop(e, true);\n            }));\n        }, 100);\n        this._register(this.runOnceToEnableMouseUp);\n    }\n    render(container) {\n        super.render(container);\n        if (!this.element) {\n            return;\n        }\n        this.container = container;\n        this.item = append(this.element, $('a.action-menu-item'));\n        if (this._action.id === Separator.ID) {\n            // A separator is a presentation item\n            this.item.setAttribute('role', 'presentation');\n        }\n        else {\n            this.item.setAttribute('role', 'menuitem');\n            if (this.mnemonic) {\n                this.item.setAttribute('aria-keyshortcuts', `${this.mnemonic}`);\n            }\n        }\n        this.check = append(this.item, $('span.menu-item-check' + ThemeIcon.asCSSSelector(Codicon.menuSelection)));\n        this.check.setAttribute('role', 'none');\n        this.label = append(this.item, $('span.action-label'));\n        if (this.options.label && this.options.keybinding) {\n            append(this.item, $('span.keybinding')).textContent = this.options.keybinding;\n        }\n        // Adds mouse up listener to actually run the action\n        this.runOnceToEnableMouseUp.schedule();\n        this.updateClass();\n        this.updateLabel();\n        this.updateTooltip();\n        this.updateEnabled();\n        this.updateChecked();\n        this.applyStyle();\n    }\n    blur() {\n        super.blur();\n        this.applyStyle();\n    }\n    focus() {\n        var _a;\n        super.focus();\n        (_a = this.item) === null || _a === void 0 ? void 0 : _a.focus();\n        this.applyStyle();\n    }\n    updatePositionInSet(pos, setSize) {\n        if (this.item) {\n            this.item.setAttribute('aria-posinset', `${pos}`);\n            this.item.setAttribute('aria-setsize', `${setSize}`);\n        }\n    }\n    updateLabel() {\n        var _a;\n        if (!this.label) {\n            return;\n        }\n        if (this.options.label) {\n            clearNode(this.label);\n            let label = stripIcons(this.action.label);\n            if (label) {\n                const cleanLabel = cleanMnemonic(label);\n                if (!this.options.enableMnemonics) {\n                    label = cleanLabel;\n                }\n                this.label.setAttribute('aria-label', cleanLabel.replace(/&&/g, '&'));\n                const matches = MENU_MNEMONIC_REGEX.exec(label);\n                if (matches) {\n                    label = strings.escape(label);\n                    // This is global, reset it\n                    MENU_ESCAPED_MNEMONIC_REGEX.lastIndex = 0;\n                    let escMatch = MENU_ESCAPED_MNEMONIC_REGEX.exec(label);\n                    // We can't use negative lookbehind so if we match our negative and skip\n                    while (escMatch && escMatch[1]) {\n                        escMatch = MENU_ESCAPED_MNEMONIC_REGEX.exec(label);\n                    }\n                    const replaceDoubleEscapes = (str) => str.replace(/&amp;&amp;/g, '&amp;');\n                    if (escMatch) {\n                        this.label.append(strings.ltrim(replaceDoubleEscapes(label.substr(0, escMatch.index)), ' '), $('u', { 'aria-hidden': 'true' }, escMatch[3]), strings.rtrim(replaceDoubleEscapes(label.substr(escMatch.index + escMatch[0].length)), ' '));\n                    }\n                    else {\n                        this.label.innerText = replaceDoubleEscapes(label).trim();\n                    }\n                    (_a = this.item) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-keyshortcuts', (!!matches[1] ? matches[1] : matches[3]).toLocaleLowerCase());\n                }\n                else {\n                    this.label.innerText = label.replace(/&&/g, '&').trim();\n                }\n            }\n        }\n    }\n    updateTooltip() {\n        // menus should function like native menus and they do not have tooltips\n    }\n    updateClass() {\n        if (this.cssClass && this.item) {\n            this.item.classList.remove(...this.cssClass.split(' '));\n        }\n        if (this.options.icon && this.label) {\n            this.cssClass = this.action.class || '';\n            this.label.classList.add('icon');\n            if (this.cssClass) {\n                this.label.classList.add(...this.cssClass.split(' '));\n            }\n            this.updateEnabled();\n        }\n        else if (this.label) {\n            this.label.classList.remove('icon');\n        }\n    }\n    updateEnabled() {\n        if (this.action.enabled) {\n            if (this.element) {\n                this.element.classList.remove('disabled');\n                this.element.removeAttribute('aria-disabled');\n            }\n            if (this.item) {\n                this.item.classList.remove('disabled');\n                this.item.removeAttribute('aria-disabled');\n                this.item.tabIndex = 0;\n            }\n        }\n        else {\n            if (this.element) {\n                this.element.classList.add('disabled');\n                this.element.setAttribute('aria-disabled', 'true');\n            }\n            if (this.item) {\n                this.item.classList.add('disabled');\n                this.item.setAttribute('aria-disabled', 'true');\n            }\n        }\n    }\n    updateChecked() {\n        if (!this.item) {\n            return;\n        }\n        const checked = this.action.checked;\n        this.item.classList.toggle('checked', !!checked);\n        if (checked !== undefined) {\n            this.item.setAttribute('role', 'menuitemcheckbox');\n            this.item.setAttribute('aria-checked', checked ? 'true' : 'false');\n        }\n        else {\n            this.item.setAttribute('role', 'menuitem');\n            this.item.setAttribute('aria-checked', '');\n        }\n    }\n    getMnemonic() {\n        return this.mnemonic;\n    }\n    applyStyle() {\n        const isSelected = this.element && this.element.classList.contains('focused');\n        const fgColor = isSelected && this.menuStyle.selectionForegroundColor ? this.menuStyle.selectionForegroundColor : this.menuStyle.foregroundColor;\n        const bgColor = isSelected && this.menuStyle.selectionBackgroundColor ? this.menuStyle.selectionBackgroundColor : undefined;\n        const outline = isSelected && this.menuStyle.selectionBorderColor ? `1px solid ${this.menuStyle.selectionBorderColor}` : '';\n        const outlineOffset = isSelected && this.menuStyle.selectionBorderColor ? `-1px` : '';\n        if (this.item) {\n            this.item.style.color = fgColor !== null && fgColor !== void 0 ? fgColor : '';\n            this.item.style.backgroundColor = bgColor !== null && bgColor !== void 0 ? bgColor : '';\n            this.item.style.outline = outline;\n            this.item.style.outlineOffset = outlineOffset;\n        }\n        if (this.check) {\n            this.check.style.color = fgColor !== null && fgColor !== void 0 ? fgColor : '';\n        }\n    }\n}\nclass SubmenuMenuActionViewItem extends BaseMenuActionViewItem {\n    constructor(action, submenuActions, parentData, submenuOptions, menuStyles) {\n        super(action, action, submenuOptions, menuStyles);\n        this.submenuActions = submenuActions;\n        this.parentData = parentData;\n        this.submenuOptions = submenuOptions;\n        this.mysubmenu = null;\n        this.submenuDisposables = this._register(new DisposableStore());\n        this.mouseOver = false;\n        this.expandDirection = submenuOptions && submenuOptions.expandDirection !== undefined ? submenuOptions.expandDirection : Direction.Right;\n        this.showScheduler = new RunOnceScheduler(() => {\n            if (this.mouseOver) {\n                this.cleanupExistingSubmenu(false);\n                this.createSubmenu(false);\n            }\n        }, 250);\n        this.hideScheduler = new RunOnceScheduler(() => {\n            if (this.element && (!isAncestor(getActiveElement(), this.element) && this.parentData.submenu === this.mysubmenu)) {\n                this.parentData.parent.focus(false);\n                this.cleanupExistingSubmenu(true);\n            }\n        }, 750);\n    }\n    render(container) {\n        super.render(container);\n        if (!this.element) {\n            return;\n        }\n        if (this.item) {\n            this.item.classList.add('monaco-submenu-item');\n            this.item.tabIndex = 0;\n            this.item.setAttribute('aria-haspopup', 'true');\n            this.updateAriaExpanded('false');\n            this.submenuIndicator = append(this.item, $('span.submenu-indicator' + ThemeIcon.asCSSSelector(Codicon.menuSubmenu)));\n            this.submenuIndicator.setAttribute('aria-hidden', 'true');\n        }\n        this._register(addDisposableListener(this.element, EventType.KEY_UP, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(17 /* KeyCode.RightArrow */) || event.equals(3 /* KeyCode.Enter */)) {\n                EventHelper.stop(e, true);\n                this.createSubmenu(true);\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.KEY_DOWN, e => {\n            const event = new StandardKeyboardEvent(e);\n            if (getActiveElement() === this.item) {\n                if (event.equals(17 /* KeyCode.RightArrow */) || event.equals(3 /* KeyCode.Enter */)) {\n                    EventHelper.stop(e, true);\n                }\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.MOUSE_OVER, e => {\n            if (!this.mouseOver) {\n                this.mouseOver = true;\n                this.showScheduler.schedule();\n            }\n        }));\n        this._register(addDisposableListener(this.element, EventType.MOUSE_LEAVE, e => {\n            this.mouseOver = false;\n        }));\n        this._register(addDisposableListener(this.element, EventType.FOCUS_OUT, e => {\n            if (this.element && !isAncestor(getActiveElement(), this.element)) {\n                this.hideScheduler.schedule();\n            }\n        }));\n        this._register(this.parentData.parent.onScroll(() => {\n            if (this.parentData.submenu === this.mysubmenu) {\n                this.parentData.parent.focus(false);\n                this.cleanupExistingSubmenu(true);\n            }\n        }));\n    }\n    updateEnabled() {\n        // override on submenu entry\n        // native menus do not observe enablement on sumbenus\n        // we mimic that behavior\n    }\n    onClick(e) {\n        // stop clicking from trying to run an action\n        EventHelper.stop(e, true);\n        this.cleanupExistingSubmenu(false);\n        this.createSubmenu(true);\n    }\n    cleanupExistingSubmenu(force) {\n        if (this.parentData.submenu && (force || (this.parentData.submenu !== this.mysubmenu))) {\n            // disposal may throw if the submenu has already been removed\n            try {\n                this.parentData.submenu.dispose();\n            }\n            catch (_a) { }\n            this.parentData.submenu = undefined;\n            this.updateAriaExpanded('false');\n            if (this.submenuContainer) {\n                this.submenuDisposables.clear();\n                this.submenuContainer = undefined;\n            }\n        }\n    }\n    calculateSubmenuMenuLayout(windowDimensions, submenu, entry, expandDirection) {\n        const ret = { top: 0, left: 0 };\n        // Start with horizontal\n        ret.left = layout(windowDimensions.width, submenu.width, { position: expandDirection === Direction.Right ? 0 /* LayoutAnchorPosition.Before */ : 1 /* LayoutAnchorPosition.After */, offset: entry.left, size: entry.width });\n        // We don't have enough room to layout the menu fully, so we are overlapping the menu\n        if (ret.left >= entry.left && ret.left < entry.left + entry.width) {\n            if (entry.left + 10 + submenu.width <= windowDimensions.width) {\n                ret.left = entry.left + 10;\n            }\n            entry.top += 10;\n            entry.height = 0;\n        }\n        // Now that we have a horizontal position, try layout vertically\n        ret.top = layout(windowDimensions.height, submenu.height, { position: 0 /* LayoutAnchorPosition.Before */, offset: entry.top, size: 0 });\n        // We didn't have enough room below, but we did above, so we shift down to align the menu\n        if (ret.top + submenu.height === entry.top && ret.top + entry.height + submenu.height <= windowDimensions.height) {\n            ret.top += entry.height;\n        }\n        return ret;\n    }\n    createSubmenu(selectFirstItem = true) {\n        if (!this.element) {\n            return;\n        }\n        if (!this.parentData.submenu) {\n            this.updateAriaExpanded('true');\n            this.submenuContainer = append(this.element, $('div.monaco-submenu'));\n            this.submenuContainer.classList.add('menubar-menu-items-holder', 'context-view');\n            // Set the top value of the menu container before construction\n            // This allows the menu constructor to calculate the proper max height\n            const computedStyles = getComputedStyle(this.parentData.parent.domNode);\n            const paddingTop = parseFloat(computedStyles.paddingTop || '0') || 0;\n            // this.submenuContainer.style.top = `${this.element.offsetTop - this.parentData.parent.scrollOffset - paddingTop}px`;\n            this.submenuContainer.style.zIndex = '1';\n            this.submenuContainer.style.position = 'fixed';\n            this.submenuContainer.style.top = '0';\n            this.submenuContainer.style.left = '0';\n            this.parentData.submenu = new Menu(this.submenuContainer, this.submenuActions.length ? this.submenuActions : [new EmptySubmenuAction()], this.submenuOptions, this.menuStyle);\n            // layout submenu\n            const entryBox = this.element.getBoundingClientRect();\n            const entryBoxUpdated = {\n                top: entryBox.top - paddingTop,\n                left: entryBox.left,\n                height: entryBox.height + 2 * paddingTop,\n                width: entryBox.width\n            };\n            const viewBox = this.submenuContainer.getBoundingClientRect();\n            const { top, left } = this.calculateSubmenuMenuLayout(new Dimension(window.innerWidth, window.innerHeight), Dimension.lift(viewBox), entryBoxUpdated, this.expandDirection);\n            // subtract offsets caused by transform parent\n            this.submenuContainer.style.left = `${left - viewBox.left}px`;\n            this.submenuContainer.style.top = `${top - viewBox.top}px`;\n            this.submenuDisposables.add(addDisposableListener(this.submenuContainer, EventType.KEY_UP, e => {\n                const event = new StandardKeyboardEvent(e);\n                if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                    EventHelper.stop(e, true);\n                    this.parentData.parent.focus();\n                    this.cleanupExistingSubmenu(true);\n                }\n            }));\n            this.submenuDisposables.add(addDisposableListener(this.submenuContainer, EventType.KEY_DOWN, e => {\n                const event = new StandardKeyboardEvent(e);\n                if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                    EventHelper.stop(e, true);\n                }\n            }));\n            this.submenuDisposables.add(this.parentData.submenu.onDidCancel(() => {\n                this.parentData.parent.focus();\n                this.cleanupExistingSubmenu(true);\n            }));\n            this.parentData.submenu.focus(selectFirstItem);\n            this.mysubmenu = this.parentData.submenu;\n        }\n        else {\n            this.parentData.submenu.focus(false);\n        }\n    }\n    updateAriaExpanded(value) {\n        var _a;\n        if (this.item) {\n            (_a = this.item) === null || _a === void 0 ? void 0 : _a.setAttribute('aria-expanded', value);\n        }\n    }\n    applyStyle() {\n        super.applyStyle();\n        const isSelected = this.element && this.element.classList.contains('focused');\n        const fgColor = isSelected && this.menuStyle.selectionForegroundColor ? this.menuStyle.selectionForegroundColor : this.menuStyle.foregroundColor;\n        if (this.submenuIndicator) {\n            this.submenuIndicator.style.color = fgColor !== null && fgColor !== void 0 ? fgColor : '';\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.hideScheduler.dispose();\n        if (this.mysubmenu) {\n            this.mysubmenu.dispose();\n            this.mysubmenu = null;\n        }\n        if (this.submenuContainer) {\n            this.submenuContainer = undefined;\n        }\n    }\n}\nclass MenuSeparatorActionViewItem extends ActionViewItem {\n    constructor(context, action, options, menuStyles) {\n        super(context, action, options);\n        this.menuStyles = menuStyles;\n    }\n    render(container) {\n        super.render(container);\n        if (this.label) {\n            this.label.style.borderBottomColor = this.menuStyles.separatorColor ? `${this.menuStyles.separatorColor}` : '';\n        }\n    }\n}\nexport function cleanMnemonic(label) {\n    const regex = MENU_MNEMONIC_REGEX;\n    const matches = regex.exec(label);\n    if (!matches) {\n        return label;\n    }\n    const mnemonicInText = !matches[1];\n    return label.replace(regex, mnemonicInText ? '$2$3' : '').trim();\n}\nexport function formatRule(c) {\n    const fontCharacter = getCodiconFontCharacters()[c.id];\n    return `.codicon-${c.id}:before { content: '\\\\${fontCharacter.toString(16)}'; }`;\n}\nfunction getMenuWidgetCSS(style, isForShadowDom) {\n    let result = /* css */ `\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${formatRule(Codicon.menuSelection)}\n${formatRule(Codicon.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n\tmargin: 0 4px;\n\tborder-radius: 4px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: 4px 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;\n    if (isForShadowDom) {\n        // Only define scrollbar styles when used inside shadow dom,\n        // otherwise leave their styling to the global workbench styling.\n        result += `\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t`;\n        // Scrollbars\n        const scrollbarShadowColor = style.scrollbarShadow;\n        if (scrollbarShadowColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${scrollbarShadowColor} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${scrollbarShadowColor} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${scrollbarShadowColor} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`;\n        }\n        const scrollbarSliderBackgroundColor = style.scrollbarSliderBackground;\n        if (scrollbarSliderBackgroundColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${scrollbarSliderBackgroundColor};\n\t\t\t\t}\n\t\t\t`;\n        }\n        const scrollbarSliderHoverBackgroundColor = style.scrollbarSliderHoverBackground;\n        if (scrollbarSliderHoverBackgroundColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${scrollbarSliderHoverBackgroundColor};\n\t\t\t\t}\n\t\t\t`;\n        }\n        const scrollbarSliderActiveBackgroundColor = style.scrollbarSliderActiveBackground;\n        if (scrollbarSliderActiveBackgroundColor) {\n            result += `\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${scrollbarSliderActiveBackgroundColor};\n\t\t\t\t}\n\t\t\t`;\n        }\n    }\n    return result;\n}\n"],"names":["$","dom","unthemedKeybindingLabelOptions","keybindingLabelBackground","undefined","keybindingLabelForeground","keybindingLabelBorder","keybindingLabelBottomBorder","keybindingLabelShadow","KeybindingLabel","container","os","options","_classCallCheck","this","keyElements","Set","Object","create","labelForeground","domNode","append","style","color","didEverRender","appendChild","_createClass","key","get","value","keybinding","matches","areSame","render","_a","clear","_this$keybinding$getC","getChords","_this$keybinding$getC2","_slicedToArray","firstChord","secondChord","renderChord","firstPart","chordPart","title","disableTitle","getAriaLabel","removeAttribute","renderUnboundKeybindings","renderUnbound","clearNode","parent","chord","match","modifierLabels","UILabelProvider","ctrlKey","renderKey","Boolean","separator","shiftKey","altKey","metaKey","keyLabel","keyCode","label","highlight","createKeyElement","localize","keyElement","arguments","length","add","backgroundColor","borderColor","borderBottomColor","boxShadow","concat","a","b","equals","PagedRenderer","renderer","modelProvider","templateId","data","renderTemplate","disposable","Disposable","None","index","_","height","_this","dispose","model","isResolved","renderElement","cts","CancellationTokenSource","promise","resolve","token","cancel","renderPlaceholder","then","entry","disposeTemplate","PagedAccessibilityProvider","accessibilityProvider","getWidgetAriaLabel","PagedList","user","virtualDelegate","renderers","_this2","pagedRenderers","map","r","list","List","assign","fromPagedListOptions","updateOptions","getHTMLElement","onDidFocus","onDidDispose","_this3","Event","onMouseDblClick","_ref","element","browserEvent","_model","_this4","onPointer","_ref2","_this5","onDidChangeSelection","_ref3","elements","indexes","e","set","splice","range","getFocus","getSelection","_this6","i","styles","groupIntersect","groups","_step","result","_iterator","_createForOfIteratorHelper","s","n","done","start","end","intersection","Range","intersect","isEmpty","push","size","err","f","shift","much","_len","Array","_key","_step2","previousGroup","_iterator2","group","consolidate","reduce","g","RangeMap","_size","deleteCount","items","diff","before","after","Number","POSITIVE_INFINITY","middle","item","t","len","position","_step3","_iterator3","count","newSize","Math","floor","min","indexAt","_step4","_iterator4","groupCount","newCount","RowCache","cache","Map","transactionNodesPendingRemoval","inTransaction","getTemplateCache","pop","isStale","has","delete","templateData","getRenderer","row","isReusingConnectedDomNode","releaseRow","makeChanges","Error","doRemoveNode","classList","remove","parentElement","removeChild","removeFromParent","forEach","cachedRows","cachedRow","__decorate","decorators","target","desc","d","c","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","StaticDND","CurrentDragAndDropData","DefaultOptions","useShadows","verticalScrollMode","setRowLineHeight","setRowHeight","supportDynamicHeights","dnd","getDragElements","getDragURI","onDragStart","onDragOver","drop","horizontalScrolling","transformOptimization","alwaysConsumeMouseWheel","ElementsDragAndDropData","ExternalElementsDragAndDropData","NativeDragAndDropData","types","files","dataTransfer","_this$types","apply","_toConsumableArray","file","type","ListViewAccessibilityProvider","getSetSize","bind","l","getPosInSet","getRole","isChecked","ListView","_b","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","domId","InstanceCount","renderWidth","_scrollHeight","scrollableElementUpdateDisposable","scrollableElementWidthDelayer","Delayer","splicing","dragOverAnimationStopDisposable","dragOverMouseY","canDrop","currentDragFeedbackDisposable","onDragLeaveTimeout","disposables","DisposableStore","_onDidChangeContentHeight","Emitter","_horizontalScrolling","itemId","rangeMap","lastRenderTop","lastRenderHeight","document","createElement","className","tabIndex","toggle","mouseSupport","additionalScrollHeight","rowsContainer","transform","overflow","contain","Gesture","addTarget","scrollable","Scrollable","forceIntegerValues","smoothScrollDuration","smoothScrolling","scheduleAtNextAnimationFrame","cb","scrollableElement","SmoothScrollableElement","horizontal","vertical","mouseWheelScrollSensitivity","fastScrollSensitivity","scrollByPage","getDomNode","onScroll","addDisposableListener","TouchEventType","Change","onTouchChange","scrollTop","toDragEvent","onDrop","onDragLeave","onDragEnd","layout","initialSize","width","measureItemWidth","updateScrollWidth","setScrollDimensions","getContentWidth","max","scrollWidth","scrollableOptions","scrollHeight","setSmoothScrollDuration","_splice","fire","contentHeight","previousRenderRange","getRenderRange","deleteRange","removeRange","rowsToDispose","dragStartDisposable","checkedDisposable","rows","disposeElement","deleted","_this$items","previousRestRange","previousRenderedRestRange","previousUnrenderedRestRanges","relativeComplement","inserted","id","String","getTemplateId","getHeight","hasDynamicHeight","lastDynamicHeightWidth","uri","dropTarget","delta","renderRange","renderedRestRange","updateRange","updateItemInDOM","removeRanges","removeItemFromDOM","unrenderedRestRanges","insertRanges","beforeElement","getNextToLastElement","insertItemInDOM","_step5","_iterator5","values","_step6","_iterator6","release","eventuallyUpdateScrollDimensions","_rerender","renderHeight","trigger","_step7","_iterator7","_step8","_iterator8","getScrollDimensions","firstElTop","positionAt","nextElTop","indexAfter","scrollDimensions","getContentHeight","renderTop","renderLeft","updateItemsInDOM","rangesToInsert","rangesToRemove","rangesToUpdate","transact","_step9","_iterator9","_step10","_iterator10","left","top","alloc","role","setAttribute","checked","update","onDidChange","insertBefore","draggable","event","eventuallyUpdateScrollWidth","window","getComputedStyle","paddingLeft","parseFloat","paddingRight","elementTop","lineHeight","getElementDomId","getScrollPosition","reuseAnimation","setScrollPosition","getScrollTop","setScrollTop","_this7","DomEmitter","toMouseEvent","_this8","_this9","filter","button","_this10","_this11","_this12","_this13","any","Contextmenu","toGestureEvent","_this14","toTouchEvent","_this15","Tap","getItemIndexFromEventTarget","initialTarget","scrollLeft","inSmoothScrolling","console","error","preventDefault","stopPropagation","translationY","effectAllowed","setData","DataTransfers","TEXT","setDragImage","getDragLabel","dragImage","textContent","contains","body","getDragImageContainer","setTimeout","currentDragData","call","_this16","getData","setupDragAndDropScrollTopAnimation","feedback","f1","f2","accept","currentDragFeedback","dropEffect","effect","distinct","sort","isArray","toDisposable","_step11","_iterator11","_step12","_iterator12","_this17","disposableTimeout","clearDragOverFeedback","dragData","teardownDragAndDropScrollTopAnimation","_this18","dragOverAnimationDisposable","viewTop","getTopLeftOffset","animate","animateDragAndDropScrollTop","pageY","upperLimit","HTMLElement","rawIndex","getAttribute","isNaN","anchorElementIndex","anchorElementTopDelta","heightDiff","didChange","probeDynamicHeight","_step13","unrenderRanges","_iterator13","_step14","renderRanges","_iterator14","afterIndex","beforeRow","deltaScrollTop","getFutureScrollPosition","newScrollTop","getDynamicHeight","offsetHeight","BugIndicatingError","setDynamicHeight","ranges","lastRange","nextToLastItem","_step15","_iterator15","parentNode","memoize","prototype","CombinedSpliceable","spliceables","ListError","_Error","_inherits","_super","_createSuper","message","_wrapNativeSuper","__awaiter","thisArg","_arguments","P","generator","Promise","reject","fulfilled","step","next","rejected","TraitRenderer","trait","renderedElements","name","renderedElementIndex","findIndex","el","rendered","unrender","renderIndex","insertCount","renderedElement","_step2$value","indexOf","Trait","_trait","sortedIndexes","_onChange","onChange","hasTrait","first","find","_set","numericSort","sortedResult","toRender","disjunction","renderIndexes","binarySearch","SelectionTrait","_Trait","setAriaSelected","_get","_getPrototypeOf","TraitSpliceable","view","identityProvider","pastElementsWithTrait","getId","toString","elementsWithTrait","isInputElement","tagName","isMonacoEditor","isButton","TypeNavigationMode","TypeNavigationControllerState","KeyboardController","multipleSelectionDisposables","onKeyDown","on","onEnter","onUpArrow","onDownArrow","onPageUpArrow","onPageDownArrow","onEscape","multipleSelectionSupport","platform","onCtrlA","chain","StandardKeyboardEvent","optionsUpdate","setSelection","focusPrevious","setAnchor","reveal","focus","focusNext","focusPreviousPage","focusNextPage","DefaultKeyboardNavigationDelegate","_class","TypeNavigationController","keyboardNavigationLabelProvider","keyboardNavigationEventFilter","delegate","enabled","state","Idle","mode","Automatic","triggered","previouslyFocused","enabledDisposables","typeNavigationEnabled","enable","disable","typeNavigationMode","typing","onChar","mightProducePrintableCharacter","EventHelper","stop","onClear","debounce","onInput","ariaLabel","alert","word","Typing","getKeyboardNavigationLabel","labelStr","matchesPrefix","setFocus","DOMFocusController","onTab","focusedDomElement","domElement","tabIndexElement","querySelector","visibility","display","isSelectionSingleChangeEvent","isSelectionRangeChangeEvent","DefaultMultipleSelectionController","MouseController","_onPointer","multipleSelectionController","onMouseDown","onContextMenu","onDoubleClick","onTouchStart","onMouseClick","onMouseMiddleClick","onTap","onViewPointer","activeElement","domFocus","changeSelection","isSelectionChangeEvent","MouseEvent","anchor","getAnchor","currentFocus","rangeSelection","selection","contiguousRange","reverse","getContiguousRangeContaining","newSelection","one","other","j","DefaultStyleController","styleElement","selectorSuffix","suffix","content","listBackground","listFocusBackground","listFocusForeground","listActiveSelectionBackground","listActiveSelectionForeground","listActiveSelectionIconForeground","listFocusAndSelectionBackground","listFocusAndSelectionForeground","listInactiveFocusForeground","listInactiveSelectionIconForeground","listInactiveFocusBackground","listInactiveSelectionBackground","listInactiveSelectionForeground","listHoverBackground","listHoverForeground","focusAndSelectionOutline","asCssValueWithDefault","listFocusAndSelectionOutline","listSelectionOutline","listFocusOutline","inactiveFocusAndSelectionOutline","listInactiveFocusOutline","listHoverOutline","listDropBackground","tableColumnsBorder","tableOddRowsBackgroundColor","join","unthemedListStyles","treeIndentGuidesStroke","treeInactiveIndentGuidesStroke","Color","fromHex","transparent","keyboardSupport","PipelineRenderer","_templateId","AccessibiltyRenderer","ariaLevel","getAriaLevel","ListViewDragAndDrop","getSelectedElements","originalEvent","targetElement","targetIndex","_options","eventBufferer","EventBufferer","_ariaLabel","_onDidDispose","getWidgetRole","baseRenderers","onDidChangeActiveDescendant","viewOptions","createListView","styleController","createStyleSheet","spliceable","keyboardController","keyboardNavigationDelegate","typeNavigationController","mouseController","createMouseController","onDidChangeFocus","_onFocusChange","_onSelectionChange","wrapEvent","toListEvent","onMouseOver","onMouseOut","didJustPressContextMenuKey","fromKeyDown","fromKeyUp","fromMouse","x","pageX","y","signal","bufferEvents","rerender","firstVisibleIndex","preventScroll","firstOrDefault","loop","findNextIndex","findPreviousIndex","_regeneratorRuntime","mark","_callee","lastPageIndex","currentlyFocusedElementIndex","lastGoodPageIndex","previousScrollTop","nextpageScrollTop","wrap","_context","prev","elementHeight","timeout","_callee2","firstPageIndex","firstGoodPageIndex","_context2","focusNth","relativeTop","isNumber","m","clamp","viewItemBottom","scrollBottom","getActiveDescendantId","Direction","MENU_MNEMONIC_REGEX","MENU_ESCAPED_MNEMONIC_REGEX","Menu","_ActionBar","actions","menuStyles","menuElement","orientation","actionViewItemProvider","action","doGetActionViewItem","parentData","context","actionRunner","ariaRole","focusOnlyEnabledItems","triggerKeys","keys","isMacintosh","isLinux","keyDown","actionsList","menuDisposables","_register","initializeOrUpdateStyleSheet","EventType","KEY_DOWN","enableMnemonics","toLocaleLowerCase","mnemonics","SubmenuMenuActionViewItem","focusItemByElement","onClick","focusedItem","viewItems","MOUSE_OUT","relatedTarget","isAncestor","updateFocus","MOUSE_OVER","lastFocusedItem","setFocusedItem","_assertThisInitialized","DomScrollableElement","verticalScrollbarSize","handleMouseWheel","scrollElement","styleScrollElement","MOUSE_UP","maxHeight","innerHeight","getBoundingClientRect","submenuIds","warn","icon","isMenu","scanDomNode","MenuSeparatorActionViewItem","array","updatePositionInSet","styleSheet","isInShadowDOM","globalStyleSheet","isForShadowDom","formatRule","Codicon","menuSelection","menuSubmenu","scrollbarShadowColor","scrollbarShadow","scrollbarSliderBackgroundColor","scrollbarSliderBackground","scrollbarSliderHoverBackgroundColor","scrollbarSliderHoverBackground","scrollbarSliderActiveBackgroundColor","scrollbarSliderActiveBackground","getMenuWidgetCSS","fgColor","foregroundColor","bgColor","border","shadow","shadowColor","outline","borderRadius","children","fromRight","round","Separator","SubmenuAction","menuActionViewItem","mnemonic","getMnemonic","isEnabled","actionViewItems","menuItemOptions","useEventAsContext","getKeyBinding","keybindingLabel","getLabel","BaseMenuActionViewItem","ActionBar","_BaseActionViewItem","_super2","ctx","menuStyle","cssClass","exec","runOnceToEnableMouseUp","RunOnceScheduler","isFirefox","StandardMouseEvent","rightButton","CONTEXT_MENU","_action","ID","check","ThemeIcon","asCSSSelector","schedule","updateClass","updateLabel","updateTooltip","updateEnabled","updateChecked","applyStyle","pos","setSize","stripIcons","cleanLabel","regex","mnemonicInText","replace","trim","cleanMnemonic","strings","lastIndex","escMatch","replaceDoubleEscapes","str","substr","innerText","_this$item$classList","split","_this$label$classList","class","isSelected","selectionForegroundColor","selectionBackgroundColor","selectionBorderColor","outlineOffset","BaseActionViewItem","_BaseMenuActionViewIt","_super3","submenuActions","submenuOptions","mysubmenu","submenuDisposables","mouseOver","expandDirection","Right","showScheduler","cleanupExistingSubmenu","createSubmenu","hideScheduler","getActiveElement","submenu","updateAriaExpanded","submenuIndicator","KEY_UP","MOUSE_LEAVE","FOCUS_OUT","force","submenuContainer","windowDimensions","ret","offset","selectFirstItem","computedStyles","paddingTop","zIndex","EmptySubmenuAction","entryBox","entryBoxUpdated","viewBox","_this$calculateSubmen","calculateSubmenuMenuLayout","Dimension","innerWidth","lift","onDidCancel","_ActionViewItem","_super4","separatorColor","ActionViewItem","fontCharacter","getCodiconFontCharacters"],"sourceRoot":""}