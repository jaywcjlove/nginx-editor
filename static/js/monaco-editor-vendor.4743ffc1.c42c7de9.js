"use strict";(self.webpackChunkmonaco_editor_nginx=self.webpackChunkmonaco_editor_nginx||[]).push([[692],{68537:function(e,t,i){i.d(t,{S:function(){return n}});var n="monaco-mouse-cursor-text"},22327:function(e,t,i){i.d(t,{k:function(){return y}});var n=i(15671),o=i(43144),r=i(60136),s=i(27277),l=i(53210),a=i(32590),d=i(17424),h=i(10526),u=i(57151),c="done",v="active",f="infinite",p="infinite-long-running",m="discrete",g={progressBarBackground:d.Il.fromHex("#0E70C0")},y=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,o){var r;return(0,n.Z)(this,i),(r=t.call(this)).options=o||Object.create(null),(0,u.jB)(r.options,g,!1),r.workedVal=0,r.progressBarBackground=r.options.progressBarBackground,r.showDelayedScheduler=r._register(new a.pY((function(){return(0,l.show)(r.element)}),0)),r.longRunningScheduler=r._register(new a.pY((function(){return r.infiniteLongRunning()}),i.LONG_RUNNING_INFINITE_THRESHOLD)),r.create(e),r}return(0,o.Z)(i,[{key:"create",value:function(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}},{key:"off",value:function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(v,f,p,m),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}},{key:"stop",value:function(){return this.doDone(!1)}},{key:"doDone",value:function(e){var t=this;return this.element.classList.add(c),this.element.classList.contains(f)?(this.bit.style.opacity="0",e?setTimeout((function(){return t.off()}),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((function(){return t.off()}),200):this.off()),this}},{key:"infinite",value:function(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(m,c,p),this.element.classList.add(v,f),this.longRunningScheduler.schedule(),this}},{key:"infiniteLongRunning",value:function(){this.element.classList.add(p)}},{key:"getContainer",value:function(){return this.element}},{key:"style",value:function(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}},{key:"applyStyles",value:function(){if(this.bit){var e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}]),i}(h.JT);y.LONG_RUNNING_INFINITE_THRESHOLD=1e4},18721:function(e,t,i){i.d(t,{f:function(){return d}});var n=i(15671),o=i(43144),r=i(53210),s=i(98883),l=i(28941),a=i(10526),d=function(){function e(){var t,i=this;(0,n.Z)(this,e),this._onDidWillResize=new l.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new l.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new a.SL,this._size=new r.Dimension(0,0),this._minSize=new r.Dimension(0,0),this._maxSize=new r.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new s.g(this.domNode,{getVerticalSashLeft:function(){return i._size.width}},{orientation:0}),this._westSash=new s.g(this.domNode,{getVerticalSashLeft:function(){return 0}},{orientation:0}),this._northSash=new s.g(this.domNode,{getHorizontalSashTop:function(){return 0}},{orientation:1,orthogonalEdge:s.l.North}),this._southSash=new s.g(this.domNode,{getHorizontalSashTop:function(){return i._size.height}},{orientation:1,orthogonalEdge:s.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;var o=0,d=0;this._sashListener.add(l.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)((function(){void 0===t&&(i._onDidWillResize.fire(),t=i._size,o=0,d=0)}))),this._sashListener.add(l.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)((function(){void 0!==t&&(t=void 0,o=0,d=0,i._onDidResize.fire({dimension:i._size,done:!0}))}))),this._sashListener.add(this._eastSash.onDidChange((function(e){t&&(d=e.currentX-e.startX,i.layout(t.height+o,t.width+d),i._onDidResize.fire({dimension:i._size,done:!1,east:!0}))}))),this._sashListener.add(this._westSash.onDidChange((function(e){t&&(d=-(e.currentX-e.startX),i.layout(t.height+o,t.width+d),i._onDidResize.fire({dimension:i._size,done:!1,west:!0}))}))),this._sashListener.add(this._northSash.onDidChange((function(e){t&&(o=-(e.currentY-e.startY),i.layout(t.height+o,t.width+d),i._onDidResize.fire({dimension:i._size,done:!1,north:!0}))}))),this._sashListener.add(this._southSash.onDidChange((function(e){t&&(o=e.currentY-e.startY,i.layout(t.height+o,t.width+d),i._onDidResize.fire({dimension:i._size,done:!1,south:!0}))}))),this._sashListener.add(l.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)((function(e){i._preferredSize&&(i.layout(i._size.height,i._preferredSize.width),i._onDidResize.fire({dimension:i._size,done:!0}))}))),this._sashListener.add(l.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)((function(e){i._preferredSize&&(i.layout(i._preferredSize.height,i._size.width),i._onDidResize.fire({dimension:i._size,done:!0}))})))}return(0,o.Z)(e,[{key:"dispose",value:function(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}},{key:"enableSashes",value:function(e,t,i,n){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=n?3:0}},{key:"layout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size.height,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size.width,i=this._minSize,n=i.height,o=i.width,s=this._maxSize,l=s.height,a=s.width;e=Math.max(n,Math.min(l,e)),t=Math.max(o,Math.min(a,t));var d=new r.Dimension(t,e);r.Dimension.equals(d,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=d,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}},{key:"clearSashHoverState",value:function(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}},{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=e}},{key:"minSize",get:function(){return this._minSize},set:function(e){this._minSize=e}},{key:"preferredSize",get:function(){return this._preferredSize},set:function(e){this._preferredSize=e}}]),e}()},98883:function(e,t,i){i.d(t,{l:function(){return n},g:function(){return z}});var n,o=i(37762),r=i(97326),s=i(11752),l=i(61120),a=i(60136),d=i(27277),h=i(15671),u=i(43144),c=i(53210),v=i(70300),f=i(6287),p=i(32590),m=i(44628),g=i(28941),y=i(10526),S=i(4827),b=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};!function(e){e.North="north",e.South="south",e.East="east",e.West="west"}(n||(n={}));var _=new g.Q5,w=new g.Q5,k=function(){function e(){(0,h.Z)(this,e),this.disposables=new y.SL}return(0,u.Z)(e,[{key:"onPointerMove",get:function(){return this.disposables.add(new v.Y(window,"mousemove")).event}},{key:"onPointerUp",get:function(){return this.disposables.add(new v.Y(window,"mouseup")).event}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}();b([m.H],k.prototype,"onPointerMove",null),b([m.H],k.prototype,"onPointerUp",null);var D=function(){function e(t){(0,h.Z)(this,e),this.el=t,this.disposables=new y.SL}return(0,u.Z)(e,[{key:"onPointerMove",get:function(){return this.disposables.add(new v.Y(this.el,f.t.Change)).event}},{key:"onPointerUp",get:function(){return this.disposables.add(new v.Y(this.el,f.t.End)).event}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}();b([m.H],D.prototype,"onPointerMove",null),b([m.H],D.prototype,"onPointerUp",null);var C=function(){function e(t){(0,h.Z)(this,e),this.factory=t}return(0,u.Z)(e,[{key:"onPointerMove",get:function(){return this.factory.onPointerMove}},{key:"onPointerUp",get:function(){return this.factory.onPointerUp}},{key:"dispose",value:function(){}}]),e}();b([m.H],C.prototype,"onPointerMove",null),b([m.H],C.prototype,"onPointerUp",null);var N="pointer-events-disabled",z=function(e){(0,a.Z)(i,e);var t=(0,d.Z)(i);function i(e,n,o){var s;(0,h.Z)(this,i),(s=t.call(this)).hoverDelay=300,s.hoverDelayer=s._register(new p.vp(s.hoverDelay)),s._state=3,s.onDidEnablementChange=s._register(new g.Q5),s._onDidStart=s._register(new g.Q5),s._onDidChange=s._register(new g.Q5),s._onDidReset=s._register(new g.Q5),s._onDidEnd=s._register(new g.Q5),s.orthogonalStartSashDisposables=s._register(new y.SL),s.orthogonalStartDragHandleDisposables=s._register(new y.SL),s.orthogonalEndSashDisposables=s._register(new y.SL),s.orthogonalEndDragHandleDisposables=s._register(new y.SL),s.onDidStart=s._onDidStart.event,s.onDidChange=s._onDidChange.event,s.onDidReset=s._onDidReset.event,s.onDidEnd=s._onDidEnd.event,s.linkedSash=void 0,s.el=(0,c.append)(e,(0,c.$)(".monaco-sash")),o.orthogonalEdge&&s.el.classList.add("orthogonal-edge-".concat(o.orthogonalEdge)),S.dz&&s.el.classList.add("mac");var l=s._register(new v.Y(s.el,"mousedown")).event;s._register(l((function(e){return s.onPointerStart(e,new k)}),(0,r.Z)(s)));var a=s._register(new v.Y(s.el,"dblclick")).event;s._register(a(s.onPointerDoublePress,(0,r.Z)(s)));var d=s._register(new v.Y(s.el,"mouseenter")).event;s._register(d((function(){return i.onMouseEnter((0,r.Z)(s))})));var u=s._register(new v.Y(s.el,"mouseleave")).event;s._register(u((function(){return i.onMouseLeave((0,r.Z)(s))}))),s._register(f.o.addTarget(s.el));var m=g.ju.map(s._register(new v.Y(s.el,f.t.Start)).event,(function(e){var t;return Object.assign(Object.assign({},e),{target:null!==(t=e.initialTarget)&&void 0!==t?t:null})}));s._register(m((function(e){return s.onPointerStart(e,new D(s.el))}),(0,r.Z)(s)));var b=s._register(new v.Y(s.el,f.t.Tap)).event,C=g.ju.map(g.ju.filter(g.ju.debounce(b,(function(e,t){var i;return{event:t,count:(null!==(i=null===e||void 0===e?void 0:e.count)&&void 0!==i?i:0)+1}}),250),(function(e){return 2===e.count})),(function(e){var t,i=e.event;return Object.assign(Object.assign({},i),{target:null!==(t=i.initialTarget)&&void 0!==t?t:null})}));return s._register(C(s.onPointerDoublePress,(0,r.Z)(s))),"number"===typeof o.size?(s.size=o.size,0===o.orientation?s.el.style.width="".concat(s.size,"px"):s.el.style.height="".concat(s.size,"px")):(s.size=4,s._register(_.event((function(e){s.size=e,s.layout()})))),s._register(w.event((function(e){return s.hoverDelay=e}))),s.layoutProvider=n,s.orthogonalStartSash=o.orthogonalStartSash,s.orthogonalEndSash=o.orthogonalEndSash,s.orientation=o.orientation||0,1===s.orientation?(s.el.classList.add("horizontal"),s.el.classList.remove("vertical")):(s.el.classList.remove("horizontal"),s.el.classList.add("vertical")),s.el.classList.toggle("debug",false),s.layout(),s}return(0,u.Z)(i,[{key:"state",get:function(){return this._state},set:function(e){this._state!==e&&(this.el.classList.toggle("disabled",0===e),this.el.classList.toggle("minimum",1===e),this.el.classList.toggle("maximum",2===e),this._state=e,this.onDidEnablementChange.fire(e))}},{key:"orthogonalStartSash",get:function(){return this._orthogonalStartSash},set:function(e){var t=this;if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){var n=function(n){t.orthogonalStartDragHandleDisposables.clear(),0!==n&&(t._orthogonalStartDragHandle=(0,c.append)(t.el,(0,c.$)(".orthogonal-drag-handle.start")),t.orthogonalStartDragHandleDisposables.add((0,y.OF)((function(){return t._orthogonalStartDragHandle.remove()}))),t.orthogonalStartDragHandleDisposables.add(new v.Y(t._orthogonalStartDragHandle,"mouseenter")).event((function(){return i.onMouseEnter(e)}),void 0,t.orthogonalStartDragHandleDisposables),t.orthogonalStartDragHandleDisposables.add(new v.Y(t._orthogonalStartDragHandle,"mouseleave")).event((function(){return i.onMouseLeave(e)}),void 0,t.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(n,this)),n(e.state)}this._orthogonalStartSash=e}},{key:"orthogonalEndSash",get:function(){return this._orthogonalEndSash},set:function(e){var t=this;if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){var n=function(n){t.orthogonalEndDragHandleDisposables.clear(),0!==n&&(t._orthogonalEndDragHandle=(0,c.append)(t.el,(0,c.$)(".orthogonal-drag-handle.end")),t.orthogonalEndDragHandleDisposables.add((0,y.OF)((function(){return t._orthogonalEndDragHandle.remove()}))),t.orthogonalEndDragHandleDisposables.add(new v.Y(t._orthogonalEndDragHandle,"mouseenter")).event((function(){return i.onMouseEnter(e)}),void 0,t.orthogonalEndDragHandleDisposables),t.orthogonalEndDragHandleDisposables.add(new v.Y(t._orthogonalEndDragHandle,"mouseleave")).event((function(){return i.onMouseLeave(e)}),void 0,t.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(n,this)),n(e.state)}this._orthogonalEndSash=e}},{key:"onPointerStart",value:function(e,t){var i=this;c.EventHelper.stop(e);var n=!1;if(!e.__orthogonalSashEvent){var r=this.getOrthogonalSash(e);r&&(n=!0,e.__orthogonalSashEvent=!0,r.onPointerStart(e,new C(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new C(t))),this.state){var s,l=(0,c.getElementsByTagName)("iframe"),a=(0,o.Z)(l);try{for(a.s();!(s=a.n()).done;){s.value.classList.add(N)}}catch(g){a.e(g)}finally{a.f()}var d=e.pageX,h=e.pageY,u=e.altKey,v={startX:d,currentX:d,startY:h,currentY:h,altKey:u};this.el.classList.add("active"),this._onDidStart.fire(v);var f=(0,c.createStyleSheet)(this.el),p=function(){var e="";e=n?"all-scroll":1===i.orientation?1===i.state?"s-resize":2===i.state?"n-resize":S.dz?"row-resize":"ns-resize":1===i.state?"e-resize":2===i.state?"w-resize":S.dz?"col-resize":"ew-resize",f.textContent="* { cursor: ".concat(e," !important; }")},m=new y.SL;p(),n||this.onDidEnablementChange.event(p,null,m);t.onPointerMove((function(e){c.EventHelper.stop(e,!1);var t={startX:d,currentX:e.pageX,startY:h,currentY:e.pageY,altKey:u};i._onDidChange.fire(t)}),null,m),t.onPointerUp((function(e){c.EventHelper.stop(e,!1),i.el.removeChild(f),i.el.classList.remove("active"),i._onDidEnd.fire(),m.dispose();var t,n=(0,o.Z)(l);try{for(n.s();!(t=n.n()).done;){t.value.classList.remove(N)}}catch(g){n.e(g)}finally{n.f()}}),null,m),m.add(t)}}},{key:"onPointerDoublePress",value:function(e){var t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}},{key:"clearSashHoverState",value:function(){i.onMouseLeave(this)}},{key:"layout",value:function(){if(0===this.orientation){var e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{var t=this.layoutProvider;this.el.style.top=t.getHorizontalSashTop(this)-this.size/2+"px",t.getHorizontalSashLeft&&(this.el.style.left=t.getHorizontalSashLeft(this)+"px"),t.getHorizontalSashWidth&&(this.el.style.width=t.getHorizontalSashWidth(this)+"px")}}},{key:"getOrthogonalSash",value:function(e){if(e.target&&e.target instanceof HTMLElement)return e.target.classList.contains("orthogonal-drag-handle")?e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash:void 0}},{key:"dispose",value:function(){(0,s.Z)((0,l.Z)(i.prototype),"dispose",this).call(this),this.el.remove()}}],[{key:"onMouseEnter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger((function(){return e.el.classList.add("hover")}),e.hoverDelay).then(void 0,(function(){})),!t&&e.linkedSash&&i.onMouseEnter(e.linkedSash,!0)}},{key:"onMouseLeave",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&i.onMouseLeave(e.linkedSash,!0)}}]),i}(y.JT)},48301:function(e,t,i){i.d(t,{s$:function(){return x},NB:function(){return L},$Z:function(){return T}});var n=i(11752),o=i(61120),r=i(60136),s=i(27277),l=i(43144),a=i(15671),d=i(12426),h=i(53210),u=i(16688),c=i(98022),v=i(83533),f=i(93433),p=i(86457),m=i(32590),g=11,y=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n,o;return(0,a.Z)(this,i),(o=t.call(this))._onActivate=e.onActivate,o.bgDomNode=document.createElement("div"),o.bgDomNode.className="arrow-background",o.bgDomNode.style.position="absolute",o.bgDomNode.style.width=e.bgWidth+"px",o.bgDomNode.style.height=e.bgHeight+"px","undefined"!==typeof e.top&&(o.bgDomNode.style.top="0px"),"undefined"!==typeof e.left&&(o.bgDomNode.style.left="0px"),"undefined"!==typeof e.bottom&&(o.bgDomNode.style.bottom="0px"),"undefined"!==typeof e.right&&(o.bgDomNode.style.right="0px"),o.domNode=document.createElement("div"),o.domNode.className=e.className,(n=o.domNode.classList).add.apply(n,(0,f.Z)(e.icon.classNamesArray)),o.domNode.style.position="absolute",o.domNode.style.width="11px",o.domNode.style.height="11px","undefined"!==typeof e.top&&(o.domNode.style.top=e.top+"px"),"undefined"!==typeof e.left&&(o.domNode.style.left=e.left+"px"),"undefined"!==typeof e.bottom&&(o.domNode.style.bottom=e.bottom+"px"),"undefined"!==typeof e.right&&(o.domNode.style.right=e.right+"px"),o._pointerMoveMonitor=o._register(new v.C),o._register(h.addStandardDisposableListener(o.bgDomNode,h.EventType.POINTER_DOWN,(function(e){return o._arrowPointerDown(e)}))),o._register(h.addStandardDisposableListener(o.domNode,h.EventType.POINTER_DOWN,(function(e){return o._arrowPointerDown(e)}))),o._pointerdownRepeatTimer=o._register(new m.zh),o._pointerdownScheduleRepeatTimer=o._register(new m._F),o}return(0,l.Z)(i,[{key:"_arrowPointerDown",value:function(e){var t=this;if(e.target&&e.target instanceof Element){this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet((function(){t._pointerdownRepeatTimer.cancelAndSet((function(){return t._onActivate()}),1e3/24)}),200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(function(e){}),(function(){t._pointerdownRepeatTimer.cancel(),t._pointerdownScheduleRepeatTimer.cancel()})),e.preventDefault()}}}]),i}(p.$),S=i(10526),b=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n,o){var r;return(0,a.Z)(this,i),(r=t.call(this))._visibility=e,r._visibleClassName=n,r._invisibleClassName=o,r._domNode=null,r._isVisible=!1,r._isNeeded=!1,r._rawShouldBeVisible=!1,r._shouldBeVisible=!1,r._revealTimer=r._register(new m._F),r}return(0,l.Z)(i,[{key:"setVisibility",value:function(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}},{key:"setShouldBeVisible",value:function(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}},{key:"_applyVisibilitySetting",value:function(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}},{key:"_updateShouldBeVisible",value:function(){var e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}},{key:"setIsNeeded",value:function(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}},{key:"setDomNode",value:function(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}},{key:"ensureVisibility",value:function(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}},{key:"_reveal",value:function(){var e=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((function(){var t;null===(t=e._domNode)||void 0===t||t.setClassName(e._visibleClassName)}),0))}},{key:"_hide",value:function(e){var t;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(t=this._domNode)||void 0===t||t.setClassName(this._invisibleClassName+(e?" fade":"")))}}]),i}(S.JT),_=i(4827),w=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,a.Z)(this,i),(n=t.call(this))._lazyRender=e.lazyRender,n._host=e.host,n._scrollable=e.scrollable,n._scrollByPage=e.scrollByPage,n._scrollbarState=e.scrollbarState,n._visibilityController=n._register(new b(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),n._visibilityController.setIsNeeded(n._scrollbarState.isNeeded()),n._pointerMoveMonitor=n._register(new v.C),n._shouldRender=!0,n.domNode=(0,u.X)(document.createElement("div")),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n._visibilityController.setDomNode(n.domNode),n.domNode.setPosition("absolute"),n._register(h.addDisposableListener(n.domNode.domNode,h.EventType.POINTER_DOWN,(function(e){return n._domNodePointerDown(e)}))),n}return(0,l.Z)(i,[{key:"_createArrow",value:function(e){var t=this._register(new y(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}},{key:"_createSlider",value:function(e,t,i,n){var o=this;this.slider=(0,u.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"===typeof i&&this.slider.setWidth(i),"number"===typeof n&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(h.addDisposableListener(this.slider.domNode,h.EventType.POINTER_DOWN,(function(e){0===e.button&&(e.preventDefault(),o._sliderPointerDown(e))}))),this.onclick(this.slider.domNode,(function(e){e.leftButton&&e.stopPropagation()}))}},{key:"_onElementSize",value:function(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"_onElementScrollSize",value:function(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"_onElementScrollPosition",value:function(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}},{key:"beginReveal",value:function(){this._visibilityController.setShouldBeVisible(!0)}},{key:"beginHide",value:function(){this._visibilityController.setShouldBeVisible(!1)}},{key:"render",value:function(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}},{key:"_domNodePointerDown",value:function(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}},{key:"delegatePointerDown",value:function(e){var t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);i<=o&&o<=n?0===e.button&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}},{key:"_onPointerDown",value:function(e){var t,i;if(e.target===this.domNode.domNode&&"number"===typeof e.offsetX&&"number"===typeof e.offsetY)t=e.offsetX,i=e.offsetY;else{var n=h.getDomNodePagePosition(this.domNode.domNode);t=e.pageX-n.left,i=e.pageY-n.top}var o=this._pointerDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(o):this._scrollbarState.getDesiredScrollPositionFromOffset(o)),0===e.button&&(e.preventDefault(),this._sliderPointerDown(e))}},{key:"_sliderPointerDown",value:function(e){var t=this;if(e.target&&e.target instanceof Element){var i=this._sliderPointerPosition(e),n=this._sliderOrthogonalPointerPosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,(function(e){var r=t._sliderOrthogonalPointerPosition(e),s=Math.abs(r-n);if(_.ED&&s>140)t._setDesiredScrollPositionNow(o.getScrollPosition());else{var l=t._sliderPointerPosition(e)-i;t._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(l))}}),(function(){t.slider.toggleClassName("active",!1),t._host.onDragEnd()})),this._host.onDragStart()}}},{key:"_setDesiredScrollPositionNow",value:function(e){var t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}},{key:"updateScrollbarSize",value:function(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}},{key:"isNeeded",value:function(){return this._scrollbarState.isNeeded()}}]),i}(p.$),k=function(){function e(t,i,n,o,r,s){(0,a.Z)(this,e),this._scrollbarSize=Math.round(i),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(t),this._visibleSize=o,this._scrollSize=r,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return(0,l.Z)(e,[{key:"clone",value:function(){return new e(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}},{key:"setVisibleSize",value:function(e){var t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}},{key:"setScrollSize",value:function(e){var t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}},{key:"setScrollPosition",value:function(e){var t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}},{key:"setScrollbarSize",value:function(e){this._scrollbarSize=Math.round(e)}},{key:"setOppositeScrollbarSize",value:function(e){this._oppositeScrollbarSize=Math.round(e)}},{key:"_refreshComputedValues",value:function(){var t=e._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition}},{key:"getArrowSize",value:function(){return this._arrowSize}},{key:"getScrollPosition",value:function(){return this._scrollPosition}},{key:"getRectangleLargeSize",value:function(){return this._computedAvailableSize}},{key:"getRectangleSmallSize",value:function(){return this._scrollbarSize}},{key:"isNeeded",value:function(){return this._computedIsNeeded}},{key:"getSliderSize",value:function(){return this._computedSliderSize}},{key:"getSliderPosition",value:function(){return this._computedSliderPosition}},{key:"getDesiredScrollPositionFromOffset",value:function(e){if(!this._computedIsNeeded)return 0;var t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}},{key:"getDesiredScrollPositionFromOffsetPaged",value:function(e){if(!this._computedIsNeeded)return 0;var t=e-this._arrowSize,i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}},{key:"getDesiredScrollPositionFromDelta",value:function(e){if(!this._computedIsNeeded)return 0;var t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}],[{key:"_computeValues",value:function(e,t,i,n,o){var r=Math.max(0,i-e),s=Math.max(0,r-2*t),l=n>0&&n>i;if(!l)return{computedAvailableSize:Math.round(r),computedIsNeeded:l,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};var a=Math.round(Math.max(20,Math.floor(i*s/n))),d=(s-a)/(n-i),h=o*d;return{computedAvailableSize:Math.round(r),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:d,computedSliderPosition:Math.round(h)}}}]),e}(),D=i(7579),C=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n,o){var r;(0,a.Z)(this,i);var s=e.getScrollDimensions(),l=e.getCurrentScrollPosition();if(r=t.call(this,{lazyRender:n.lazyRender,host:o,scrollbarState:new k(n.horizontalHasArrows?n.arrowSize:0,2===n.horizontal?0:n.horizontalScrollbarSize,2===n.vertical?0:n.verticalScrollbarSize,s.width,s.scrollWidth,l.scrollLeft),visibility:n.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:n.scrollByPage}),n.horizontalHasArrows){var d=(n.arrowSize-g)/2,h=(n.horizontalScrollbarSize-g)/2;r._createArrow({className:"scra",icon:D.lA.scrollbarButtonLeft,top:h,left:d,bottom:void 0,right:void 0,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return r._host.onMouseWheel(new c.q(null,1,0))}}),r._createArrow({className:"scra",icon:D.lA.scrollbarButtonRight,top:h,left:void 0,bottom:void 0,right:d,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return r._host.onMouseWheel(new c.q(null,-1,0))}})}return r._createSlider(Math.floor((n.horizontalScrollbarSize-n.horizontalSliderSize)/2),0,void 0,n.horizontalSliderSize),r}return(0,l.Z)(i,[{key:"_updateSlider",value:function(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}},{key:"_renderDomNode",value:function(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}},{key:"onDidScroll",value:function(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}},{key:"_pointerDownRelativePosition",value:function(e,t){return e}},{key:"_sliderPointerPosition",value:function(e){return e.pageX}},{key:"_sliderOrthogonalPointerPosition",value:function(e){return e.pageY}},{key:"_updateScrollbarSize",value:function(e){this.slider.setHeight(e)}},{key:"writeScrollPosition",value:function(e,t){e.scrollLeft=t}},{key:"updateOptions",value:function(e){this.updateScrollbarSize(2===e.horizontal?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}]),i}(w),N=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n,o){var r;(0,a.Z)(this,i);var s=e.getScrollDimensions(),l=e.getCurrentScrollPosition();if(r=t.call(this,{lazyRender:n.lazyRender,host:o,scrollbarState:new k(n.verticalHasArrows?n.arrowSize:0,2===n.vertical?0:n.verticalScrollbarSize,0,s.height,s.scrollHeight,l.scrollTop),visibility:n.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:n.scrollByPage}),n.verticalHasArrows){var d=(n.arrowSize-g)/2,h=(n.verticalScrollbarSize-g)/2;r._createArrow({className:"scra",icon:D.lA.scrollbarButtonUp,top:d,left:h,bottom:void 0,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return r._host.onMouseWheel(new c.q(null,0,1))}}),r._createArrow({className:"scra",icon:D.lA.scrollbarButtonDown,top:void 0,left:h,bottom:d,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return r._host.onMouseWheel(new c.q(null,0,-1))}})}return r._createSlider(0,Math.floor((n.verticalScrollbarSize-n.verticalSliderSize)/2),n.verticalSliderSize,void 0),r}return(0,l.Z)(i,[{key:"_updateSlider",value:function(e,t){this.slider.setHeight(e),this.slider.setTop(t)}},{key:"_renderDomNode",value:function(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}},{key:"onDidScroll",value:function(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}},{key:"_pointerDownRelativePosition",value:function(e,t){return t}},{key:"_sliderPointerPosition",value:function(e){return e.pageY}},{key:"_sliderOrthogonalPointerPosition",value:function(e){return e.pageX}},{key:"_updateScrollbarSize",value:function(e){this.slider.setWidth(e)}},{key:"writeScrollPosition",value:function(e,t){e.scrollTop=t}},{key:"updateOptions",value:function(e){this.updateScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}]),i}(w),z=i(28941),E=i(17603),P=(0,l.Z)((function e(t,i,n){(0,a.Z)(this,e),this.timestamp=t,this.deltaX=i,this.deltaY=n,this.score=0})),I=function(){function e(){(0,a.Z)(this,e),this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}return(0,l.Z)(e,[{key:"isPhysicalMouseWheel",value:function(){if(-1===this._front&&-1===this._rear)return!1;for(var e=1,t=0,i=1,n=this._rear;;){var o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}return t<=.5}},{key:"accept",value:function(e,t,i){var n=new P(e,t,i);n.score=this._computeScore(n),-1===this._front&&-1===this._rear?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}},{key:"_computeScore",value:function(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;var t=.5;-1===this._front&&-1===this._rear||this._memory[this._rear];return this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}},{key:"_isAlmostInt",value:function(e){return Math.abs(Math.round(e)-e)<.01}}]),e}();I.INSTANCE=new I;var Z=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n,o){var r;(0,a.Z)(this,i),(r=t.call(this))._onScroll=r._register(new z.Q5),r.onScroll=r._onScroll.event,r._onWillScroll=r._register(new z.Q5),e.style.overflow="hidden",r._options=function(e){var t={lazyRender:"undefined"!==typeof e.lazyRender&&e.lazyRender,className:"undefined"!==typeof e.className?e.className:"",useShadows:"undefined"===typeof e.useShadows||e.useShadows,handleMouseWheel:"undefined"===typeof e.handleMouseWheel||e.handleMouseWheel,flipAxes:"undefined"!==typeof e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:"undefined"!==typeof e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:"undefined"!==typeof e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:"undefined"!==typeof e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:"undefined"!==typeof e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:"undefined"!==typeof e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:"undefined"===typeof e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:"undefined"===typeof e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:"undefined"!==typeof e.arrowSize?e.arrowSize:11,listenOnDomNode:"undefined"!==typeof e.listenOnDomNode?e.listenOnDomNode:null,horizontal:"undefined"!==typeof e.horizontal?e.horizontal:1,horizontalScrollbarSize:"undefined"!==typeof e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:"undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:"undefined"!==typeof e.horizontalHasArrows&&e.horizontalHasArrows,vertical:"undefined"!==typeof e.vertical?e.vertical:1,verticalScrollbarSize:"undefined"!==typeof e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:"undefined"!==typeof e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:"undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:"undefined"!==typeof e.scrollByPage&&e.scrollByPage};t.horizontalSliderSize="undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize="undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,_.dz&&(t.className+=" mac");return t}(n),r._scrollable=o,r._register(r._scrollable.onScroll((function(e){r._onWillScroll.fire(e),r._onDidScroll(e),r._onScroll.fire(e)})));var s={onMouseWheel:function(e){return r._onMouseWheel(e)},onDragStart:function(){return r._onDragStart()},onDragEnd:function(){return r._onDragEnd()}};return r._verticalScrollbar=r._register(new N(r._scrollable,r._options,s)),r._horizontalScrollbar=r._register(new C(r._scrollable,r._options,s)),r._domNode=document.createElement("div"),r._domNode.className="monaco-scrollable-element "+r._options.className,r._domNode.setAttribute("role","presentation"),r._domNode.style.position="relative",r._domNode.style.overflow="hidden",r._domNode.appendChild(e),r._domNode.appendChild(r._horizontalScrollbar.domNode.domNode),r._domNode.appendChild(r._verticalScrollbar.domNode.domNode),r._options.useShadows?(r._leftShadowDomNode=(0,u.X)(document.createElement("div")),r._leftShadowDomNode.setClassName("shadow"),r._domNode.appendChild(r._leftShadowDomNode.domNode),r._topShadowDomNode=(0,u.X)(document.createElement("div")),r._topShadowDomNode.setClassName("shadow"),r._domNode.appendChild(r._topShadowDomNode.domNode),r._topLeftShadowDomNode=(0,u.X)(document.createElement("div")),r._topLeftShadowDomNode.setClassName("shadow"),r._domNode.appendChild(r._topLeftShadowDomNode.domNode)):(r._leftShadowDomNode=null,r._topShadowDomNode=null,r._topLeftShadowDomNode=null),r._listenOnDomNode=r._options.listenOnDomNode||r._domNode,r._mouseWheelToDispose=[],r._setListeningToMouseWheel(r._options.handleMouseWheel),r.onmouseover(r._listenOnDomNode,(function(e){return r._onMouseOver(e)})),r.onmouseleave(r._listenOnDomNode,(function(e){return r._onMouseLeave(e)})),r._hideTimeout=r._register(new m._F),r._isDragging=!1,r._mouseIsOver=!1,r._shouldRender=!0,r._revealOnScroll=!0,r}return(0,l.Z)(i,[{key:"options",get:function(){return this._options}},{key:"dispose",value:function(){this._mouseWheelToDispose=(0,S.B9)(this._mouseWheelToDispose),(0,n.Z)((0,o.Z)(i.prototype),"dispose",this).call(this)}},{key:"getDomNode",value:function(){return this._domNode}},{key:"getOverviewRulerLayoutInfo",value:function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}},{key:"delegateVerticalScrollbarPointerDown",value:function(e){this._verticalScrollbar.delegatePointerDown(e)}},{key:"getScrollDimensions",value:function(){return this._scrollable.getScrollDimensions()}},{key:"setScrollDimensions",value:function(e){this._scrollable.setScrollDimensions(e,!1)}},{key:"updateClassName",value:function(e){this._options.className=e,_.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}},{key:"updateOptions",value:function(e){"undefined"!==typeof e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),"undefined"!==typeof e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),"undefined"!==typeof e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),"undefined"!==typeof e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),"undefined"!==typeof e.horizontal&&(this._options.horizontal=e.horizontal),"undefined"!==typeof e.vertical&&(this._options.vertical=e.vertical),"undefined"!==typeof e.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),"undefined"!==typeof e.verticalScrollbarSize&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),"undefined"!==typeof e.scrollByPage&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}},{key:"_setListeningToMouseWheel",value:function(e){var t=this;if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=(0,S.B9)(this._mouseWheelToDispose),e)){this._mouseWheelToDispose.push(h.addDisposableListener(this._listenOnDomNode,h.EventType.MOUSE_WHEEL,(function(e){t._onMouseWheel(new c.q(e))}),{passive:!1}))}}},{key:"_onMouseWheel",value:function(e){var t=I.INSTANCE,i=window.devicePixelRatio/(0,d.getZoomFactor)();_.ED||_.IJ?t.accept(Date.now(),e.deltaX/i,e.deltaY/i):t.accept(Date.now(),e.deltaX,e.deltaY);var n=!1;if(e.deltaY||e.deltaX){var o=e.deltaY*this._options.mouseWheelScrollSensitivity,r=e.deltaX*this._options.mouseWheelScrollSensitivity;if(this._options.scrollPredominantAxis&&(Math.abs(o)>=Math.abs(r)?r=0:o=0),this._options.flipAxes){var s=[r,o];o=s[0],r=s[1]}var l=!_.dz&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!l||r||(r=o,o=0),e.browserEvent&&e.browserEvent.altKey&&(r*=this._options.fastScrollSensitivity,o*=this._options.fastScrollSensitivity);var a=this._scrollable.getFutureScrollPosition(),h={};if(o){var u=50*o,c=a.scrollTop-(u<0?Math.floor(u):Math.ceil(u));this._verticalScrollbar.writeScrollPosition(h,c)}if(r){var v=50*r,f=a.scrollLeft-(v<0?Math.floor(v):Math.ceil(v));this._horizontalScrollbar.writeScrollPosition(h,f)}if(h=this._scrollable.validateScrollPosition(h),a.scrollLeft!==h.scrollLeft||a.scrollTop!==h.scrollTop)this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(h):this._scrollable.setScrollPositionNow(h),n=!0}var p=n;!p&&this._options.alwaysConsumeMouseWheel&&(p=!0),!p&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(p=!0),p&&(e.preventDefault(),e.stopPropagation())}},{key:"_onDidScroll",value:function(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}},{key:"renderNow",value:function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}},{key:"_render",value:function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,n=i?" left":"",o=t?" top":"",r=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName("shadow".concat(n)),this._topShadowDomNode.setClassName("shadow".concat(o)),this._topLeftShadowDomNode.setClassName("shadow".concat(r).concat(o).concat(n))}}},{key:"_onDragStart",value:function(){this._isDragging=!0,this._reveal()}},{key:"_onDragEnd",value:function(){this._isDragging=!1,this._hide()}},{key:"_onMouseLeave",value:function(e){this._mouseIsOver=!1,this._hide()}},{key:"_onMouseOver",value:function(e){this._mouseIsOver=!0,this._reveal()}},{key:"_reveal",value:function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}},{key:"_hide",value:function(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}},{key:"_scheduleHide",value:function(){var e=this;this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((function(){return e._hide()}),500)}}]),i}(p.$),L=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n){var o;(0,a.Z)(this,i),(n=n||{}).mouseWheelSmoothScroll=!1;var r=new E.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:function(e){return h.scheduleAtNextAnimationFrame(e)}});return(o=t.call(this,e,n,r))._register(r),o}return(0,l.Z)(i,[{key:"setScrollPosition",value:function(e){this._scrollable.setScrollPositionNow(e)}}]),i}(Z),T=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n,o){return(0,a.Z)(this,i),t.call(this,e,n,o)}return(0,l.Z)(i,[{key:"setScrollPosition",value:function(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}},{key:"getScrollPosition",value:function(){return this._scrollable.getCurrentScrollPosition()}}]),i}(Z),x=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,n){var o;(0,a.Z)(this,i),(n=n||{}).mouseWheelSmoothScroll=!1;var r=new E.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:function(e){return h.scheduleAtNextAnimationFrame(e)}});return(o=t.call(this,e,n,r))._register(r),o._element=e,o.onScroll((function(e){e.scrollTopChanged&&(o._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(o._element.scrollLeft=e.scrollLeft)})),o.scanDomNode(),o}return(0,l.Z)(i,[{key:"setScrollPosition",value:function(e){this._scrollable.setScrollPositionNow(e)}},{key:"getScrollPosition",value:function(){return this._scrollable.getCurrentScrollPosition()}},{key:"scanDomNode",value:function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}]),i}(Z)},96622:function(e,t,i){i.d(t,{M:function(){return o},z:function(){return z}});var n,o,r=i(93433),s=i(37762),l=i(11752),a=i(61120),d=i(60136),h=i(27277),u=i(15671),c=i(43144),v=i(53210),f=i(98883),p=i(48301),m=i(71881),g=i(17424),y=i(28941),S=i(10526),b=i(53391),_=i(17603),w=i(64272),k={separatorBorder:g.Il.transparent},D=function(){function e(t,i,n,o){(0,u.Z)(this,e),this.container=t,this.view=i,this.disposable=o,this._cachedVisibleSize=void 0,"number"===typeof n?(this._size=n,this._cachedVisibleSize=void 0,t.classList.add("visible")):(this._size=0,this._cachedVisibleSize=n.cachedVisibleSize)}return(0,c.Z)(e,[{key:"size",get:function(){return this._size},set:function(e){this._size=e}},{key:"visible",get:function(){return"undefined"===typeof this._cachedVisibleSize}},{key:"setVisible",value:function(e,t){var i,n;e!==this.visible&&(e?(this.size=(0,b.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"===typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),null===(n=(i=this.view).setVisible)||void 0===n||n.call(i,e))}},{key:"minimumSize",get:function(){return this.visible?this.view.minimumSize:0}},{key:"viewMinimumSize",get:function(){return this.view.minimumSize}},{key:"maximumSize",get:function(){return this.visible?this.view.maximumSize:0}},{key:"viewMaximumSize",get:function(){return this.view.maximumSize}},{key:"priority",get:function(){return this.view.priority}},{key:"snap",get:function(){return!!this.view.snap}},{key:"enabled",set:function(e){this.container.style.pointerEvents=e?"":"none"}},{key:"layout",value:function(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}},{key:"dispose",value:function(){return this.disposable.dispose(),this.view}}]),e}(),C=function(e){(0,d.Z)(i,e);var t=(0,h.Z)(i);function i(){return(0,u.Z)(this,i),t.apply(this,arguments)}return(0,c.Z)(i,[{key:"layoutContainer",value:function(e){this.container.style.top="".concat(e,"px"),this.container.style.height="".concat(this.size,"px")}}]),i}(D),N=function(e){(0,d.Z)(i,e);var t=(0,h.Z)(i);function i(){return(0,u.Z)(this,i),t.apply(this,arguments)}return(0,c.Z)(i,[{key:"layoutContainer",value:function(e){this.container.style.left="".concat(e,"px"),this.container.style.width="".concat(this.size,"px")}}]),i}(D);!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(n||(n={})),function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}},e.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}}}(o||(o={}));var z=function(e){(0,d.Z)(i,e);var t=(0,h.Z)(i);function i(e){var o,r,s,l,a,d,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.Z)(this,i),(o=t.call(this)).size=0,o.contentSize=0,o.proportions=void 0,o.viewItems=[],o.sashItems=[],o.state=n.Idle,o._onDidSashChange=o._register(new y.Q5),o._onDidSashReset=o._register(new y.Q5),o._startSnappingEnabled=!0,o._endSnappingEnabled=!0,o.onDidSashChange=o._onDidSashChange.event,o.onDidSashReset=o._onDidSashReset.event,o.orientation=null!==(r=h.orientation)&&void 0!==r?r:0,o.inverseAltBehavior=null!==(s=h.inverseAltBehavior)&&void 0!==s&&s,o.proportionalLayout=null===(l=h.proportionalLayout)||void 0===l||l,o.getSashOrthogonalSize=h.getSashOrthogonalSize,o.el=document.createElement("div"),o.el.classList.add("monaco-split-view2"),o.el.classList.add(0===o.orientation?"vertical":"horizontal"),e.appendChild(o.el),o.sashContainer=(0,v.append)(o.el,(0,v.$)(".sash-container")),o.viewContainer=(0,v.$)(".split-view-container"),o.scrollable=new _.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:v.scheduleAtNextAnimationFrame}),o.scrollableElement=o._register(new p.$Z(o.viewContainer,{vertical:0===o.orientation?null!==(a=h.scrollbarVisibility)&&void 0!==a?a:1:2,horizontal:1===o.orientation?null!==(d=h.scrollbarVisibility)&&void 0!==d?d:1:2},o.scrollable)),o.onDidScroll=o.scrollableElement.onScroll,o._register(o.onDidScroll((function(e){o.viewContainer.scrollTop=e.scrollTop,o.viewContainer.scrollLeft=e.scrollLeft}))),(0,v.append)(o.el,o.scrollableElement.getDomNode()),o.style(h.styles||k),h.descriptor&&(o.size=h.descriptor.size,h.descriptor.views.forEach((function(e,t){var i=w.o8(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},n=e.view;o.doAddView(n,i,t,!0)})),o.contentSize=o.viewItems.reduce((function(e,t){return e+t.size}),0),o.saveProportions()),o}return(0,c.Z)(i,[{key:"orthogonalStartSash",get:function(){return this._orthogonalStartSash},set:function(e){var t,i=(0,s.Z)(this.sashItems);try{for(i.s();!(t=i.n()).done;){t.value.sash.orthogonalStartSash=e}}catch(n){i.e(n)}finally{i.f()}this._orthogonalStartSash=e}},{key:"orthogonalEndSash",get:function(){return this._orthogonalEndSash},set:function(e){var t,i=(0,s.Z)(this.sashItems);try{for(i.s();!(t=i.n()).done;){t.value.sash.orthogonalEndSash=e}}catch(n){i.e(n)}finally{i.f()}this._orthogonalEndSash=e}},{key:"startSnappingEnabled",get:function(){return this._startSnappingEnabled},set:function(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}},{key:"endSnappingEnabled",get:function(){return this._endSnappingEnabled},set:function(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}},{key:"style",value:function(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}},{key:"addView",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.length,n=arguments.length>3?arguments[3]:void 0;this.doAddView(e,t,i,n)}},{key:"layout",value:function(e,t){var i=this,n=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(var o=0;o<this.viewItems.length;o++){var r=this.viewItems[o];r.size=(0,b.uZ)(Math.round(this.proportions[o]*e),r.minimumSize,r.maximumSize)}else{var s=(0,m.w6)(this.viewItems.length),l=s.filter((function(e){return 1===i.viewItems[e].priority})),a=s.filter((function(e){return 2===i.viewItems[e].priority}));this.resize(this.viewItems.length-1,e-n,void 0,l,a)}this.distributeEmptySpace(),this.layoutViews()}},{key:"saveProportions",value:function(){var e=this;this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((function(t){return t.size/e.contentSize})))}},{key:"onSashStart",value:function(e){var t,i=this,n=e.sash,o=e.start,r=e.alt,l=(0,s.Z)(this.viewItems);try{for(l.s();!(t=l.n()).done;){t.value.enabled=!1}}catch(u){l.e(u)}finally{l.f()}var a=this.sashItems.findIndex((function(e){return e.sash===n})),d=(0,S.F8)((0,v.addDisposableListener)(document.body,"keydown",(function(e){return h(i.sashDragState.current,e.altKey)})),(0,v.addDisposableListener)(document.body,"keyup",(function(){return h(i.sashDragState.current,!1)}))),h=function(e,t){var n,o,r=i.viewItems.map((function(e){return e.size})),s=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;if(i.inverseAltBehavior&&(t=!t),t)if(a===i.sashItems.length-1){var h=i.viewItems[a];s=(h.minimumSize-h.size)/2,l=(h.maximumSize-h.size)/2}else{var u=i.viewItems[a+1];s=(u.size-u.maximumSize)/2,l=(u.size-u.minimumSize)/2}if(!t){var c=(0,m.w6)(a,-1),v=(0,m.w6)(a+1,i.viewItems.length),f=c.reduce((function(e,t){return e+(i.viewItems[t].minimumSize-r[t])}),0),p=c.reduce((function(e,t){return e+(i.viewItems[t].viewMaximumSize-r[t])}),0),g=0===v.length?Number.POSITIVE_INFINITY:v.reduce((function(e,t){return e+(r[t]-i.viewItems[t].minimumSize)}),0),y=0===v.length?Number.NEGATIVE_INFINITY:v.reduce((function(e,t){return e+(r[t]-i.viewItems[t].viewMaximumSize)}),0),S=Math.max(f,y),b=Math.min(g,p),_=i.findFirstSnapIndex(c),w=i.findFirstSnapIndex(v);if("number"===typeof _){var k=i.viewItems[_],D=Math.floor(k.viewMinimumSize/2);n={index:_,limitDelta:k.visible?S-D:S+D,size:k.size}}if("number"===typeof w){var C=i.viewItems[w],N=Math.floor(C.viewMinimumSize/2);o={index:w,limitDelta:C.visible?b+N:b-N,size:C.size}}}i.sashDragState={start:e,current:e,index:a,sizes:r,minDelta:s,maxDelta:l,alt:t,snapBefore:n,snapAfter:o,disposable:d}};h(o,r)}},{key:"onSashChange",value:function(e){var t=e.current,i=this.sashDragState,n=i.index,o=i.start,r=i.sizes,s=i.alt,l=i.minDelta,a=i.maxDelta,d=i.snapBefore,h=i.snapAfter;this.sashDragState.current=t;var u=t-o,c=this.resize(n,u,r,void 0,void 0,l,a,d,h);if(s){var v=n===this.sashItems.length-1,f=this.viewItems.map((function(e){return e.size})),p=v?n:n+1,m=this.viewItems[p],g=m.size-m.maximumSize,y=m.size-m.minimumSize,S=v?n-1:n+1;this.resize(S,-c,f,void 0,void 0,g,y)}this.distributeEmptySpace(),this.layoutViews()}},{key:"onSashEnd",value:function(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();var t,i=(0,s.Z)(this.viewItems);try{for(i.s();!(t=i.n()).done;){t.value.enabled=!0}}catch(n){i.e(n)}finally{i.f()}}},{key:"onViewChange",value:function(e,t){var i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t="number"===typeof t?t:e.size,t=(0,b.uZ)(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}},{key:"resizeView",value:function(e,t){var i=this;if(this.state!==n.Idle)throw new Error("Cant modify splitview");if(this.state=n.Busy,!(e<0||e>=this.viewItems.length)){var o=(0,m.w6)(this.viewItems.length).filter((function(t){return t!==e})),s=[].concat((0,r.Z)(o.filter((function(e){return 1===i.viewItems[e].priority}))),[e]),l=o.filter((function(e){return 2===i.viewItems[e].priority})),a=this.viewItems[e];t=Math.round(t),t=(0,b.uZ)(t,a.minimumSize,Math.min(a.maximumSize,this.size)),a.size=t,this.relayout(s,l),this.state=n.Idle}}},{key:"distributeViewSizes",value:function(){var e,t=this,i=[],n=0,o=(0,s.Z)(this.viewItems);try{for(o.s();!(e=o.n()).done;){var r=e.value;r.maximumSize-r.minimumSize>0&&(i.push(r),n+=r.size)}}catch(f){o.e(f)}finally{o.f()}for(var l=Math.floor(n/i.length),a=0,d=i;a<d.length;a++){var h=d[a];h.size=(0,b.uZ)(l,h.minimumSize,h.maximumSize)}var u=(0,m.w6)(this.viewItems.length),c=u.filter((function(e){return 1===t.viewItems[e].priority})),v=u.filter((function(e){return 2===t.viewItems[e].priority}));this.relayout(c,v)}},{key:"getViewSize",value:function(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}},{key:"doAddView",value:function(e,t){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.length,r=arguments.length>3?arguments[3]:void 0;if(this.state!==n.Idle)throw new Error("Cant modify splitview");this.state=n.Busy;var s=(0,v.$)(".split-view-view");o===this.viewItems.length?this.viewContainer.appendChild(s):this.viewContainer.insertBefore(s,this.viewContainer.children.item(o));var l,a=e.onDidChange((function(e){return i.onViewChange(c,e)})),d=(0,S.OF)((function(){return i.viewContainer.removeChild(s)})),h=(0,S.F8)(a,d);l="number"===typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;var u,c=0===this.orientation?new C(s,e,l,h):new N(s,e,l,h);if(this.viewItems.splice(o,0,c),this.viewItems.length>1){var p={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},g=0===this.orientation?new f.g(this.sashContainer,{getHorizontalSashTop:function(e){return i.getSashPosition(e)},getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},p),{orientation:1})):new f.g(this.sashContainer,{getVerticalSashLeft:function(e){return i.getSashPosition(e)},getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},p),{orientation:0})),b=0===this.orientation?function(e){return{sash:g,start:e.startY,current:e.currentY,alt:e.altKey}}:function(e){return{sash:g,start:e.startX,current:e.currentX,alt:e.altKey}},_=y.ju.map(g.onDidStart,b),w=_(this.onSashStart,this),k=y.ju.map(g.onDidChange,b),D=k(this.onSashChange,this),z=y.ju.map(g.onDidEnd,(function(){return i.sashItems.findIndex((function(e){return e.sash===g}))})),E=z(this.onSashEnd,this),P=g.onDidReset((function(){var e=i.sashItems.findIndex((function(e){return e.sash===g})),t=(0,m.w6)(e,-1),n=(0,m.w6)(e+1,i.viewItems.length),o=i.findFirstSnapIndex(t),r=i.findFirstSnapIndex(n);("number"!==typeof o||i.viewItems[o].visible)&&("number"!==typeof r||i.viewItems[r].visible)&&i._onDidSashReset.fire(e)})),I=(0,S.F8)(w,D,E,P,g),Z={sash:g,disposable:I};this.sashItems.splice(o-1,0,Z)}s.appendChild(e.element),"number"!==typeof t&&"split"===t.type&&(u=[t.index]),r||this.relayout([o],u),this.state=n.Idle,r||"number"===typeof t||"distribute"!==t.type||this.distributeViewSizes()}},{key:"relayout",value:function(e,t){var i=this.viewItems.reduce((function(e,t){return e+t.size}),0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}},{key:"resize",value:function(e,t){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewItems.map((function(e){return e.size})),o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Number.NEGATIVE_INFINITY,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Number.POSITIVE_INFINITY,d=arguments.length>7?arguments[7]:void 0,h=arguments.length>8?arguments[8]:void 0;if(e<0||e>=this.viewItems.length)return 0;var u=(0,m.w6)(e,-1),c=(0,m.w6)(e+1,this.viewItems.length);if(r){var v,f=(0,s.Z)(r);try{for(f.s();!(v=f.n()).done;){var p=v.value;(0,m.zI)(u,p),(0,m.zI)(c,p)}}catch($){f.e($)}finally{f.f()}}if(o){var g,y=(0,s.Z)(o);try{for(y.s();!(g=y.n()).done;){var S=g.value;(0,m.al)(u,S),(0,m.al)(c,S)}}catch($){y.e($)}finally{y.f()}}var _=u.map((function(e){return i.viewItems[e]})),w=u.map((function(e){return n[e]})),k=c.map((function(e){return i.viewItems[e]})),D=c.map((function(e){return n[e]})),C=u.reduce((function(e,t){return e+(i.viewItems[t].minimumSize-n[t])}),0),N=u.reduce((function(e,t){return e+(i.viewItems[t].maximumSize-n[t])}),0),z=0===c.length?Number.POSITIVE_INFINITY:c.reduce((function(e,t){return e+(n[t]-i.viewItems[t].minimumSize)}),0),E=0===c.length?Number.NEGATIVE_INFINITY:c.reduce((function(e,t){return e+(n[t]-i.viewItems[t].maximumSize)}),0),P=Math.max(C,E,l),I=Math.min(z,N,a),Z=!1;if(d){var L=this.viewItems[d.index],T=t>=d.limitDelta;Z=T!==L.visible,L.setVisible(T,d.size)}if(!Z&&h){var x=this.viewItems[h.index],O=t<h.limitDelta;Z=O!==x.visible,x.setVisible(O,h.size)}if(Z)return this.resize(e,t,n,o,r,l,a);for(var R=0,M=t=(0,b.uZ)(t,P,I);R<_.length;R++){var A=_[R],F=(0,b.uZ)(w[R]+M,A.minimumSize,A.maximumSize),H=F-w[R];M-=H,A.size=F}for(var B=0,W=t;B<k.length;B++){var V=k[B],j=(0,b.uZ)(D[B]-W,V.minimumSize,V.maximumSize),Y=j-D[B];W+=Y,V.size=j}return t}},{key:"distributeEmptySpace",value:function(e){var t,i=this,n=this.viewItems.reduce((function(e,t){return e+t.size}),0),o=this.size-n,r=(0,m.w6)(this.viewItems.length-1,-1),l=r.filter((function(e){return 1===i.viewItems[e].priority})),a=r.filter((function(e){return 2===i.viewItems[e].priority})),d=(0,s.Z)(a);try{for(d.s();!(t=d.n()).done;){var h=t.value;(0,m.zI)(r,h)}}catch(y){d.e(y)}finally{d.f()}var u,c=(0,s.Z)(l);try{for(c.s();!(u=c.n()).done;){var v=u.value;(0,m.al)(r,v)}}catch(y){c.e(y)}finally{c.f()}"number"===typeof e&&(0,m.al)(r,e);for(var f=0;0!==o&&f<r.length;f++){var p=this.viewItems[r[f]],g=(0,b.uZ)(p.size+o,p.minimumSize,p.maximumSize);o-=g-p.size,p.size=g}}},{key:"layoutViews",value:function(){this.contentSize=this.viewItems.reduce((function(e,t){return e+t.size}),0);var e,t=0,i=(0,s.Z)(this.viewItems);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.layout(t,this.layoutContext),t+=n.size}}catch(o){i.e(o)}finally{i.f()}this.sashItems.forEach((function(e){return e.sash.layout()})),this.updateSashEnablement(),this.updateScrollableElement()}},{key:"updateScrollableElement",value:function(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}},{key:"updateSashEnablement",value:function(){var e=!1,t=this.viewItems.map((function(t){return e=t.size-t.minimumSize>0||e}));e=!1;var i=this.viewItems.map((function(t){return e=t.maximumSize-t.size>0||e})),n=(0,r.Z)(this.viewItems).reverse();e=!1;var o=n.map((function(t){return e=t.size-t.minimumSize>0||e})).reverse();e=!1;for(var s=n.map((function(t){return e=t.maximumSize-t.size>0||e})).reverse(),l=0,a=0;a<this.sashItems.length;a++){var d=this.sashItems[a].sash;l+=this.viewItems[a].size;var h=!(t[a]&&s[a+1]),u=!(i[a]&&o[a+1]);if(h&&u){var c=(0,m.w6)(a,-1),v=(0,m.w6)(a+1,this.viewItems.length),f=this.findFirstSnapIndex(c),p=this.findFirstSnapIndex(v),g="number"===typeof f&&!this.viewItems[f].visible,y="number"===typeof p&&!this.viewItems[p].visible;g&&o[a]&&(l>0||this.startSnappingEnabled)?d.state=1:y&&t[a]&&(l<this.contentSize||this.endSnappingEnabled)?d.state=2:d.state=0}else d.state=h&&!u?1:!h&&u?2:3}}},{key:"getSashPosition",value:function(e){for(var t=0,i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}},{key:"findFirstSnapIndex",value:function(e){var t,i=(0,s.Z)(e);try{for(i.s();!(t=i.n()).done;){var n=t.value,o=this.viewItems[n];if(o.visible&&o.snap)return n}}catch(h){i.e(h)}finally{i.f()}var r,l=(0,s.Z)(e);try{for(l.s();!(r=l.n()).done;){var a=r.value,d=this.viewItems[a];if(d.visible&&d.maximumSize-d.minimumSize>0)return;if(!d.visible&&d.snap)return a}}catch(h){l.e(h)}finally{l.f()}}},{key:"dispose",value:function(){(0,l.Z)((0,a.Z)(i.prototype),"dispose",this).call(this),(0,S.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach((function(e){return e.disposable.dispose()})),this.sashItems=[]}}]),i}(S.JT)},86276:function(e,t,i){i.d(t,{i:function(){return p}});var n=i(29439),o=i(93433),r=i(37762),s=i(15671),l=i(43144),a=i(53210),d=i(34534),h=i(96622),u=i(28941),c=i(10526),v=function(){function e(t,i,n){(0,s.Z)(this,e),this.columns=t,this.getColumnSize=n,this.templateId=e.TemplateId,this.renderedTemplates=new Set;var o=new Map(i.map((function(e){return[e.templateId,e]})));this.renderers=[];var l,a=(0,r.Z)(t);try{for(a.s();!(l=a.n()).done;){var d=l.value,h=o.get(d.templateId);if(!h)throw new Error("Table cell renderer for template id ".concat(d.templateId," not found."));this.renderers.push(h)}}catch(u){a.e(u)}finally{a.f()}}return(0,l.Z)(e,[{key:"renderTemplate",value:function(e){for(var t=(0,a.append)(e,(0,a.$)(".monaco-table-tr")),i=[],n=[],o=0;o<this.columns.length;o++){var r=this.renderers[o],s=(0,a.append)(t,(0,a.$)(".monaco-table-td",{"data-col-index":o}));s.style.width="".concat(this.getColumnSize(o),"px"),i.push(s),n.push(r.renderTemplate(s))}var l={container:e,cellContainers:i,cellTemplateData:n};return this.renderedTemplates.add(l),l}},{key:"renderElement",value:function(e,t,i,n){for(var o=0;o<this.columns.length;o++){var r=this.columns[o].project(e);this.renderers[o].renderElement(r,t,i.cellTemplateData[o],n)}}},{key:"disposeElement",value:function(e,t,i,n){for(var o=0;o<this.columns.length;o++){var r=this.renderers[o];if(r.disposeElement){var s=this.columns[o].project(e);r.disposeElement(s,t,i.cellTemplateData[o],n)}}}},{key:"disposeTemplate",value:function(e){for(var t=0;t<this.columns.length;t++){this.renderers[t].disposeTemplate(e.cellTemplateData[t])}(0,a.clearNode)(e.container),this.renderedTemplates.delete(e)}},{key:"layoutColumn",value:function(e,t){var i,n=(0,r.Z)(this.renderedTemplates);try{for(n.s();!(i=n.n()).done;){i.value.cellContainers[e].style.width="".concat(t,"px")}}catch(o){n.e(o)}finally{n.f()}}}]),e}();v.TemplateId="row";var f=function(){function e(t,i){(0,s.Z)(this,e),this.column=t,this.index=i,this._onDidLayout=new u.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,a.$)(".monaco-table-th",{"data-col-index":i,title:t.tooltip},t.label)}return(0,l.Z)(e,[{key:"minimumSize",get:function(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}},{key:"maximumSize",get:function(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}},{key:"onDidChange",get:function(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:u.ju.None}},{key:"layout",value:function(e){this._onDidLayout.fire([this.index,e])}}]),e}(),p=function(){function e(t,i,r,l,p,m){var g=this;(0,s.Z)(this,e),this.virtualDelegate=r,this.domId="table_id_".concat(++e.InstanceCount),this.disposables=new c.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,a.append)(i,(0,a.$)(".monaco-table.".concat(this.domId)));var y=l.map((function(e,t){return new f(e,t)})),S={size:y.reduce((function(e,t){return e+t.column.weight}),0),views:y.map((function(e){return{size:e.column.weight,view:e}}))};this.splitview=this.disposables.add(new h.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:function(){return g.cachedHeight},descriptor:S})),this.splitview.el.style.height="".concat(r.headerRowHeight,"px"),this.splitview.el.style.lineHeight="".concat(r.headerRowHeight,"px");var b,_=new v(l,p,(function(e){return g.splitview.getViewSize(e)}));this.list=this.disposables.add(new d.aV(t,this.domNode,(b=r,{getHeight:function(e){return b.getHeight(e)},getTemplateId:function(){return v.TemplateId}}),[_],m)),u.ju.any.apply(u.ju,(0,o.Z)(y.map((function(e){return e.onDidLayout}))))((function(e){var t=(0,n.Z)(e,2),i=t[0],o=t[1];return _.layoutColumn(i,o)}),null,this.disposables),this.splitview.onDidSashReset((function(e){var t=l.reduce((function(e,t){return e+t.weight}),0),i=l[e].weight/t*g.cachedWidth;g.splitview.resizeView(e,i)}),null,this.disposables),this.styleElement=(0,a.createStyleSheet)(this.domNode),this.style({})}return(0,l.Z)(e,[{key:"onDidChangeFocus",get:function(){return this.list.onDidChangeFocus}},{key:"onDidChangeSelection",get:function(){return this.list.onDidChangeSelection}},{key:"onMouseDblClick",get:function(){return this.list.onMouseDblClick}},{key:"onPointer",get:function(){return this.list.onPointer}},{key:"onDidFocus",get:function(){return this.list.onDidFocus}},{key:"onDidDispose",get:function(){return this.list.onDidDispose}},{key:"updateOptions",value:function(e){this.list.updateOptions(e)}},{key:"splice",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.list.splice(e,t,i)}},{key:"getHTMLElement",value:function(){return this.domNode}},{key:"style",value:function(e){var t=[];t.push(".monaco-table.".concat(this.domId," > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ").concat(this.virtualDelegate.headerRowHeight+1,"px;\n\t\t\theight: calc(100% - ").concat(this.virtualDelegate.headerRowHeight,"px);\n\t\t}")),this.styleElement.textContent=t.join("\n"),this.list.style(e)}},{key:"getSelectedElements",value:function(){return this.list.getSelectedElements()}},{key:"getSelection",value:function(){return this.list.getSelection()}},{key:"getFocus",value:function(){return this.list.getFocus()}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}();p.InstanceCount=0},5762:function(e,t,i){i.d(t,{Z:function(){return v}});var n=i(93433),o=i(15671),r=i(43144),s=i(60136),l=i(27277),a=i(86457),d=i(7579),h=i(17424),u=i(28941),c={inputActiveOptionBorder:h.Il.fromHex("#007ACC00"),inputActiveOptionForeground:h.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:h.Il.fromHex("#0E639C50")},v=function(e){(0,s.Z)(i,e);var t=(0,l.Z)(i);function i(e){var r,s;(0,o.Z)(this,i),(s=t.call(this))._onChange=s._register(new u.Q5),s.onChange=s._onChange.event,s._onKeyDown=s._register(new u.Q5),s.onKeyDown=s._onKeyDown.event,s._opts=Object.assign(Object.assign({},c),e),s._checked=s._opts.isChecked;var l=["monaco-custom-toggle"];return s._opts.icon&&(s._icon=s._opts.icon,l.push.apply(l,(0,n.Z)(d.dT.asClassNameArray(s._icon)))),s._opts.actionClassName&&l.push.apply(l,(0,n.Z)(s._opts.actionClassName.split(" "))),s._checked&&l.push("checked"),s.domNode=document.createElement("div"),s.domNode.title=s._opts.title,(r=s.domNode.classList).add.apply(r,l),s._opts.notFocusable||(s.domNode.tabIndex=0),s.domNode.setAttribute("role","checkbox"),s.domNode.setAttribute("aria-checked",String(s._checked)),s.domNode.setAttribute("aria-label",s._opts.title),s.applyStyles(),s.onclick(s.domNode,(function(e){s.enabled&&(s.checked=!s._checked,s._onChange.fire(!1),e.preventDefault())})),s.ignoreGesture(s.domNode),s.onkeydown(s.domNode,(function(e){if(10===e.keyCode||3===e.keyCode)return s.checked=!s._checked,s._onChange.fire(!0),e.preventDefault(),void e.stopPropagation();s._onKeyDown.fire(e)})),s}return(0,r.Z)(i,[{key:"enabled",get:function(){return"true"!==this.domNode.getAttribute("aria-disabled")}},{key:"focus",value:function(){this.domNode.focus()}},{key:"checked",get:function(){return this._checked},set:function(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}},{key:"width",value:function(){return 22}},{key:"style",value:function(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}},{key:"applyStyles",value:function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}},{key:"enable",value:function(){this.domNode.setAttribute("aria-disabled",String(!1))}},{key:"disable",value:function(){this.domNode.setAttribute("aria-disabled",String(!0))}}]),i}(a.$)},75770:function(e,t,i){i.d(t,{CH:function(){return J},cz:function(){return H},sZ:function(){return V}});var n=i(29439),o=i(74165),r=i(11752),s=i(61120),l=i(37762),a=i(93433),d=i(43144),h=i(15671),u=i(60136),c=i(27277),v=i(53210),f=i(70300),p=i(81882),m=i(95454),g=i(58666),y=i(51242),S=i(34534),b=i(5762),_=i(91102),w=i(71232),k=i(89663),D=i(71881),C=i(32590),N=i(7579),z=i(84286),E=i(28941),P=i(45842),I=i(10526),Z=i(53391),L=i(64272),T=i(87697),x=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{a(n.next(e))}catch(t){r(t)}}function l(e){try{a(n.throw(e))}catch(t){r(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}a((n=n.apply(e,t||[])).next())}))},O=function(e){(0,u.Z)(i,e);var t=(0,c.Z)(i);function i(e){var n;return(0,h.Z)(this,i),(n=t.call(this,e.elements.map((function(e){return e.element})))).data=e,n}return(0,d.Z)(i)}(y.kX);function R(e){return e instanceof y.kX?new O(e):e}var M=function(){function e(t,i){(0,h.Z)(this,e),this.modelProvider=t,this.dnd=i,this.autoExpandDisposable=I.JT.None}return(0,d.Z)(e,[{key:"getDragURI",value:function(e){return this.dnd.getDragURI(e.element)}},{key:"getDragLabel",value:function(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((function(e){return e.element})),t)}},{key:"onDragStart",value:function(e,t){var i,n;null===(n=(i=this.dnd).onDragStart)||void 0===n||n.call(i,R(e),t)}},{key:"onDragOver",value:function(e,t,i,n){var o=this,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this.dnd.onDragOver(R(e),t&&t.element,i,n),l=this.autoExpandNode!==t;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),"undefined"===typeof t)return s;if(l&&"boolean"!==typeof s&&s.autoExpand&&(this.autoExpandDisposable=(0,C.Vg)((function(){var e=o.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),o.autoExpandNode=void 0}),500)),"boolean"===typeof s||!s.accept||"undefined"===typeof s.bubble||s.feedback){if(!r){var a="boolean"===typeof s?s:s.accept,d="boolean"===typeof s?void 0:s.effect;return{accept:a,effect:d,feedback:[i]}}return s}if(1===s.bubble){var h=this.modelProvider(),u=h.getNodeLocation(t),c=h.getParentNodeLocation(u),v=h.getNode(c),f=c&&h.getListIndex(c);return this.onDragOver(e,v,f,n,!1)}var p=this.modelProvider(),m=p.getNodeLocation(t),g=p.getListIndex(m),y=p.getListRenderCount(m);return Object.assign(Object.assign({},s),{feedback:(0,D.w6)(g,g+y)})}},{key:"drop",value:function(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(R(e),t&&t.element,i,n)}},{key:"onDragEnd",value:function(e){var t,i;null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}}]),e}();function A(e,t){return t&&Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId:function(e){return t.identityProvider.getId(e.element)}},dnd:t.dnd&&new M(e,t.dnd),multipleSelectionController:t.multipleSelectionController&&{isSelectionSingleChangeEvent:function(e){return t.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},isSelectionRangeChangeEvent:function(e){return t.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))}},accessibilityProvider:t.accessibilityProvider&&Object.assign(Object.assign({},t.accessibilityProvider),{getSetSize:function(t){var i=e(),n=i.getNodeLocation(t),o=i.getParentNodeLocation(n);return i.getNode(o).visibleChildrenCount},getPosInSet:function(e){return e.visibleChildIndex+1},isChecked:t.accessibilityProvider&&t.accessibilityProvider.isChecked?function(e){return t.accessibilityProvider.isChecked(e.element)}:void 0,getRole:t.accessibilityProvider&&t.accessibilityProvider.getRole?function(e){return t.accessibilityProvider.getRole(e.element)}:function(){return"treeitem"},getAriaLabel:function(e){return t.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel:function(){return t.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:t.accessibilityProvider&&t.accessibilityProvider.getWidgetRole?function(){return t.accessibilityProvider.getWidgetRole()}:function(){return"tree"},getAriaLevel:t.accessibilityProvider&&t.accessibilityProvider.getAriaLevel?function(e){return t.accessibilityProvider.getAriaLevel(e.element)}:function(e){return e.depth},getActiveDescendantId:t.accessibilityProvider.getActiveDescendantId&&function(e){return t.accessibilityProvider.getActiveDescendantId(e.element)}}),keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(e){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}})})}var F,H=function(){function e(t){(0,h.Z)(this,e),this.delegate=t}return(0,d.Z)(e,[{key:"getHeight",value:function(e){return this.delegate.getHeight(e.element)}},{key:"getTemplateId",value:function(e){return this.delegate.getTemplateId(e.element)}},{key:"hasDynamicHeight",value:function(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}},{key:"setDynamicHeight",value:function(e,t){var i,n;null===(n=(i=this.delegate).setDynamicHeight)||void 0===n||n.call(i,e.element,t)}}]),e}();!function(e){e.None="none",e.OnHover="onHover",e.Always="always"}(F||(F={}));var B=function(){function e(t){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,h.Z)(this,e),this._elements=n,this.disposables=new I.SL,this.onDidChange=E.ju.forEach(t,(function(e){return i._elements=e}),this.disposables)}return(0,d.Z)(e,[{key:"elements",get:function(){return this._elements}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}(),W=function(){function e(t,i,n,o){var r,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,h.Z)(this,e),this.renderer=t,this.modelProvider=i,this.activeNodes=o,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=e.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new z.r,this.activeIndentNodes=new Set,this.indentGuidesDisposable=I.JT.None,this.disposables=new I.SL,this.templateId=t.templateId,this.updateOptions(s),E.ju.map(n,(function(e){return e.node}))(this.onDidChangeNodeTwistieState,this,this.disposables),null===(r=t.onDidChangeTwistieState)||void 0===r||r.call(t,this.onDidChangeTwistieState,this,this.disposables)}return(0,d.Z)(e,[{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof e.indent&&(this.indent=(0,Z.uZ)(e.indent,0,40)),"undefined"!==typeof e.renderIndentGuides){var t=e.renderIndentGuides!==F.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){var i=new I.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}"undefined"!==typeof e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}},{key:"renderTemplate",value:function(e){var t=(0,v.append)(e,(0,v.$)(".monaco-tl-row")),i=(0,v.append)(t,(0,v.$)(".monaco-tl-indent")),n=(0,v.append)(t,(0,v.$)(".monaco-tl-twistie")),o=(0,v.append)(t,(0,v.$)(".monaco-tl-contents")),r=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:n,indentGuidesDisposable:I.JT.None,templateData:r}}},{key:"renderElement",value:function(t,i,n,o){"number"===typeof o&&(this.renderedNodes.set(t,{templateData:n,height:o}),this.renderedElements.set(t.element,t));var r=e.DefaultIndent+(t.depth-1)*this.indent;n.twistie.style.paddingLeft="".concat(r,"px"),n.indent.style.width="".concat(r+this.indent-16,"px"),this.renderTwistie(t,n),"number"===typeof o&&this.renderIndentGuides(t,n),this.renderer.renderElement(t,i,n.templateData,o)}},{key:"disposeElement",value:function(e,t,i,n){var o,r;i.indentGuidesDisposable.dispose(),null===(r=(o=this.renderer).disposeElement)||void 0===r||r.call(o,e,t,i.templateData,n),"number"===typeof n&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}},{key:"disposeTemplate",value:function(e){this.renderer.disposeTemplate(e.templateData)}},{key:"onDidChangeTwistieState",value:function(e){var t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}},{key:"onDidChangeNodeTwistieState",value:function(e){var t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}},{key:"renderTwistie",value:function(e,t){var i;(i=t.twistie.classList).remove.apply(i,(0,a.Z)(N.lA.treeItemExpanded.classNamesArray));var n=!1;if(this.renderer.renderTwistie&&(n=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)){var o;if(!n)(o=t.twistie.classList).add.apply(o,(0,a.Z)(N.lA.treeItemExpanded.classNamesArray));t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)}else t.twistie.classList.remove("collapsible","collapsed");e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}},{key:"renderIndentGuides",value:function(e,t){var i=this;if((0,v.clearNode)(t.indent),t.indentGuidesDisposable.dispose(),this.shouldRenderIndentGuides){for(var n=new I.SL,o=this.modelProvider(),r=e,s=function(){var e=o.getNodeLocation(r),s=o.getParentNodeLocation(e);if(!s)return"break";var l=o.getNode(s),a=(0,v.$)(".indent-guide",{style:"width: ".concat(i.indent,"px")});i.activeIndentNodes.has(l)&&a.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),i.renderedIndentGuides.add(l,a),n.add((0,I.OF)((function(){return i.renderedIndentGuides.delete(l,a)}))),r=l};;){if("break"===s())break}t.indentGuidesDisposable=n}}},{key:"_onDidChangeActiveNodes",value:function(e){var t=this;if(this.shouldRenderIndentGuides){var i=new Set,n=this.modelProvider();e.forEach((function(e){var t=n.getNodeLocation(e);try{var o=n.getParentNodeLocation(t);e.collapsible&&e.children.length>0&&!e.collapsed?i.add(e):o&&i.add(n.getNode(o))}catch(r){}})),this.activeIndentNodes.forEach((function(e){i.has(e)||t.renderedIndentGuides.forEach(e,(function(e){return e.classList.remove("active")}))})),i.forEach((function(e){t.activeIndentNodes.has(e)||t.renderedIndentGuides.forEach(e,(function(e){return e.classList.add("active")}))})),this.activeIndentNodes=i}}},{key:"dispose",value:function(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,I.B9)(this.disposables)}}]),e}();W.DefaultIndent=8;var V,j=function(){function e(t,i,n){(0,h.Z)(this,e),this.tree=t,this.keyboardNavigationLabelProvider=i,this._filter=n,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new I.SL,t.onWillRefilter(this.reset,this,this.disposables)}return(0,d.Z)(e,[{key:"totalCount",get:function(){return this._totalCount}},{key:"matchCount",get:function(){return this._matchCount}},{key:"filter",value:function(e,t){var i=1;if(this._filter){var n=this._filter.filter(e,t);if(0===(i="boolean"===typeof n?n?1:0:(0,_.gB)(n)?(0,_.aG)(n.visibility):n))return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:P.CL.Default,visibility:i};var o,r=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),s=Array.isArray(r)?r:[r],a=(0,l.Z)(s);try{for(a.s();!(o=a.n()).done;){var d=o.value,h=d&&d.toString();if("undefined"===typeof h)return{data:P.CL.Default,visibility:i};var u=(0,P.EW)(this._pattern,this._lowercasePattern,0,h,h.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(u)return this._matchCount++,1===s.length?{data:u,visibility:i}:{data:{label:h,score:u},visibility:i}}}catch(c){a.e(c)}finally{a.f()}return this.tree.findMode===V.Filter?2:{data:P.CL.Default,visibility:i}}},{key:"reset",value:function(){this._totalCount=0,this._matchCount=0}},{key:"dispose",value:function(){(0,I.B9)(this.disposables)}}]),e}(),Y=function(e){(0,u.Z)(i,e);var t=(0,c.Z)(i);function i(e){var n;return(0,h.Z)(this,i),t.call(this,{icon:N.lA.filter,title:(0,T.NC)("filter","Filter"),isChecked:null!==(n=null===e||void 0===e?void 0:e.isChecked)&&void 0!==n&&n,inputActiveOptionBorder:null===e||void 0===e?void 0:e.inputActiveOptionBorder,inputActiveOptionForeground:null===e||void 0===e?void 0:e.inputActiveOptionForeground,inputActiveOptionBackground:null===e||void 0===e?void 0:e.inputActiveOptionBackground})}return(0,d.Z)(i)}(b.Z);!function(e){e[e.Highlight=0]="Highlight",e[e.Filter=1]="Filter"}(V||(V={}));I.JT;var $=function(){function e(t,i,n,o,r){var s;(0,h.Z)(this,e),this.tree=t,this.view=n,this.filter=o,this.contextViewProvider=r,this._pattern="",this.width=0,this._onDidChangeMode=new E.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new E.Q5,this._onDidChangeOpenState=new E.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new I.SL,this.disposables=new I.SL,this._mode=null!==(s=t.options.defaultFindMode)&&void 0!==s?s:V.Highlight,i.onDidSplice(this.onDidSpliceModel,this,this.disposables)}return(0,d.Z)(e,[{key:"pattern",get:function(){return this._pattern}},{key:"mode",get:function(){return this._mode},set:function(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}},{key:"onDidSpliceModel",value:function(){this.widget&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}},{key:"render",value:function(){var e,t,i=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&i?null===(e=this.widget)||void 0===e||e.showMessage({type:2,content:(0,T.NC)("not found","No elements found.")}):null===(t=this.widget)||void 0===t||t.clearMessage()}},{key:"shouldAllowFocus",value:function(e){return!this.widget||!this.pattern||this._mode===V.Filter||(this.filter.totalCount>0&&this.filter.matchCount<=1||!P.CL.isDefault(e.filterData))}},{key:"style",value:function(e){var t;this.styles=e,null===(t=this.widget)||void 0===t||t.style(e)}},{key:"layout",value:function(e){var t;this.width=e,null===(t=this.widget)||void 0===t||t.layout(e)}},{key:"dispose",value:function(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}]),e}();function G(e){var t=w.sD.Unknown;return(0,v.hasParentWithClass)(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=w.sD.Twistie:(0,v.hasParentWithClass)(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?t=w.sD.Element:(0,v.hasParentWithClass)(e.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(t=w.sD.Filter),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function X(e,t){t(e),e.children.forEach((function(e){return X(e,t)}))}var K=function(){function e(t,i){(0,h.Z)(this,e),this.getFirstViewElementWithTrait=t,this.identityProvider=i,this.nodes=[],this._onDidChange=new E.Q5,this.onDidChange=this._onDidChange.event}return(0,d.Z)(e,[{key:"nodeSet",get:function(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}},{key:"set",value:function(e,t){!(null===t||void 0===t?void 0:t.__forceEvent)&&(0,D.fS)(this.nodes,e)||this._set(e,!1,t)}},{key:"_set",value:function(e,t,i){if(this.nodes=(0,a.Z)(e),this.elements=void 0,this._nodeSet=void 0,!t){var n=this;this._onDidChange.fire({get elements(){return n.get()},browserEvent:i})}}},{key:"get",value:function(){return this.elements||(this.elements=this.nodes.map((function(e){return e.element}))),(0,a.Z)(this.elements)}},{key:"getNodes",value:function(){return this.nodes}},{key:"has",value:function(e){return this.nodeSet.has(e)}},{key:"onDidModelSplice",value:function(e){var t=this,i=e.insertedNodes,n=e.deletedNodes;if(!this.identityProvider){var o=this.createNodeSet(),r=function(e){return o.delete(e)};return n.forEach((function(e){return X(e,r)})),void this.set((0,a.Z)(o.values()))}var s=new Set,d=function(e){return s.add(t.identityProvider.getId(e.element).toString())};n.forEach((function(e){return X(e,d)}));var h=new Map,u=function(e){return h.set(t.identityProvider.getId(e.element).toString(),e)};i.forEach((function(e){return X(e,u)}));var c,v=[],f=(0,l.Z)(this.nodes);try{for(f.s();!(c=f.n()).done;){var p=c.value,m=this.identityProvider.getId(p.element).toString();if(s.has(m)){var g=h.get(m);g&&v.push(g)}else v.push(p)}}catch(S){f.e(S)}finally{f.f()}if(this.nodes.length>0&&0===v.length){var y=this.getFirstViewElementWithTrait();y&&v.push(y)}this._set(v,!0)}},{key:"createNodeSet",value:function(){var e,t=new Set,i=(0,l.Z)(this.nodes);try{for(i.s();!(e=i.n()).done;){var n=e.value;t.add(n)}}catch(o){i.e(o)}finally{i.f()}return t}}]),e}(),U=function(e){(0,u.Z)(i,e);var t=(0,c.Z)(i);function i(e,n){var o;return(0,h.Z)(this,i),(o=t.call(this,e)).tree=n,o}return(0,d.Z)(i,[{key:"onViewPointer",value:function(e){if(!((0,S.iK)(e.browserEvent.target)||(0,S.cK)(e.browserEvent.target)||(0,S.hD)(e.browserEvent.target))){var t=e.element;if(!t)return(0,r.Z)((0,s.Z)(i.prototype),"onViewPointer",this).call(this,e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return(0,r.Z)((0,s.Z)(i.prototype),"onViewPointer",this).call(this,e);var n=e.browserEvent.target,o=n.classList.contains("monaco-tl-twistie")||n.classList.contains("monaco-icon-label")&&n.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,l=!1;if((l="function"===typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick)&&!o&&2!==e.browserEvent.detail)return(0,r.Z)((0,s.Z)(i.prototype),"onViewPointer",this).call(this,e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return(0,r.Z)((0,s.Z)(i.prototype),"onViewPointer",this).call(this,e);if(t.collapsible){var a=this.tree.model,d=a.getNodeLocation(t),h=e.browserEvent.altKey;if(this.tree.setFocus([d]),a.setCollapsed(d,void 0,h),l&&o)return}(0,r.Z)((0,s.Z)(i.prototype),"onViewPointer",this).call(this,e)}}},{key:"onDoubleClick",value:function(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&(0,r.Z)((0,s.Z)(i.prototype),"onDoubleClick",this).call(this,e)}}]),i}(S.sx),Q=function(e){(0,u.Z)(i,e);var t=(0,c.Z)(i);function i(e,n,o,r,s,l,a,d){var u;return(0,h.Z)(this,i),(u=t.call(this,e,n,o,r,d)).focusTrait=s,u.selectionTrait=l,u.anchorTrait=a,u}return(0,d.Z)(i,[{key:"createMouseController",value:function(e){return new U(this,e.tree)}},{key:"splice",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if((0,r.Z)((0,s.Z)(i.prototype),"splice",this).call(this,e,t,o),0!==o.length){var l,d=[],h=[];o.forEach((function(t,i){n.focusTrait.has(t)&&d.push(e+i),n.selectionTrait.has(t)&&h.push(e+i),n.anchorTrait.has(t)&&(l=e+i)})),d.length>0&&(0,r.Z)((0,s.Z)(i.prototype),"setFocus",this).call(this,(0,D.EB)([].concat((0,a.Z)((0,r.Z)((0,s.Z)(i.prototype),"getFocus",this).call(this)),d))),h.length>0&&(0,r.Z)((0,s.Z)(i.prototype),"setSelection",this).call(this,(0,D.EB)([].concat((0,a.Z)((0,r.Z)((0,s.Z)(i.prototype),"getSelection",this).call(this)),h))),"number"===typeof l&&(0,r.Z)((0,s.Z)(i.prototype),"setAnchor",this).call(this,l)}}},{key:"setFocus",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.Z)((0,s.Z)(i.prototype),"setFocus",this).call(this,e,t),o||this.focusTrait.set(e.map((function(e){return n.element(e)})),t)}},{key:"setSelection",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.Z)((0,s.Z)(i.prototype),"setSelection",this).call(this,e,t),o||this.selectionTrait.set(e.map((function(e){return n.element(e)})),t)}},{key:"setAnchor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,r.Z)((0,s.Z)(i.prototype),"setAnchor",this).call(this,e),t||("undefined"===typeof e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}]),i}(S.aV),J=function(){function e(t,i,n,o){var r,s=this,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,h.Z)(this,e),this._user=t,this._options=d,this.eventBufferer=new E.E7,this.onDidChangeFindOpenState=E.ju.None,this.disposables=new I.SL,this._onWillRefilter=new E.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new E.Q5;var u=new H(n),c=new E.ZD,f=new E.ZD,m=this.disposables.add(new B(f.event));this.renderers=o.map((function(e){return new W(e,(function(){return s.model}),c.event,m,d)}));var g,y,b=(0,l.Z)(this.renderers);try{for(b.s();!(g=b.n()).done;){var _=g.value;this.disposables.add(_)}}catch(D){b.e(D)}finally{b.f()}d.keyboardNavigationLabelProvider&&(y=new j(this,d.keyboardNavigationLabelProvider,d.filter),d=Object.assign(Object.assign({},d),{filter:y}),this.disposables.add(y)),this.focus=new K((function(){return s.view.getFocusedElements()[0]}),d.identityProvider),this.selection=new K((function(){return s.view.getSelectedElements()[0]}),d.identityProvider),this.anchor=new K((function(){return s.view.getAnchorElement()}),d.identityProvider),this.view=new Q(t,i,u,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},A((function(){return s.model}),d)),{tree:this})),this.model=this.createModel(t,this.view,d),c.input=this.model.onDidChangeCollapseState;var w=E.ju.forEach(this.model.onDidSplice,(function(e){s.eventBufferer.bufferEvents((function(){s.focus.onDidModelSplice(e),s.selection.onDidModelSplice(e)}))}),this.disposables);if(w((function(){return null}),null,this.disposables),f.input=E.ju.chain(E.ju.any(w,this.focus.onDidChange,this.selection.onDidChange)).debounce((function(){return null}),0).map((function(){var e,t=new Set,i=(0,l.Z)(s.focus.getNodes());try{for(i.s();!(e=i.n()).done;){var n=e.value;t.add(n)}}catch(D){i.e(D)}finally{i.f()}var o,r=(0,l.Z)(s.selection.getNodes());try{for(r.s();!(o=r.n()).done;){var d=o.value;t.add(d)}}catch(D){r.e(D)}finally{r.f()}return(0,a.Z)(t.values())})).event,!1!==d.keyboardSupport){var k=E.ju.chain(this.view.onKeyDown).filter((function(e){return!(0,S.cK)(e.target)})).map((function(e){return new p.y(e)}));k.filter((function(e){return 15===e.keyCode})).on(this.onLeftArrow,this,this.disposables),k.filter((function(e){return 17===e.keyCode})).on(this.onRightArrow,this,this.disposables),k.filter((function(e){return 10===e.keyCode})).on(this.onSpace,this,this.disposables)}(null===(r=d.findWidgetEnabled)||void 0===r||r)&&d.keyboardNavigationLabelProvider&&d.contextViewProvider?(this.findController=new $(this,this.model,this.view,y,d.contextViewProvider),this.focusNavigationFilter=function(e){return s.findController.shouldAllowFocus(e)},this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=E.ju.None,this.styleElement=(0,v.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===F.Always)}return(0,d.Z)(e,[{key:"onDidChangeFocus",get:function(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}},{key:"onDidChangeSelection",get:function(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}},{key:"onMouseDblClick",get:function(){return E.ju.filter(E.ju.map(this.view.onMouseDblClick,G),(function(e){return e.target!==w.sD.Filter}))}},{key:"onPointer",get:function(){return E.ju.map(this.view.onPointer,G)}},{key:"onDidFocus",get:function(){return this.view.onDidFocus}},{key:"onDidChangeModel",get:function(){return E.ju.signal(this.model.onDidSplice)}},{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"findMode",get:function(){var e,t;return null!==(t=null===(e=this.findController)||void 0===e?void 0:e.mode)&&void 0!==t?t:V.Highlight},set:function(e){this.findController&&(this.findController.mode=e)}},{key:"expandOnDoubleClick",get:function(){return"undefined"===typeof this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}},{key:"expandOnlyOnTwistieClick",get:function(){return"undefined"===typeof this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}},{key:"onDidDispose",get:function(){return this.view.onDidDispose}},{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options=Object.assign(Object.assign({},this._options),e);var t,i=(0,l.Z)(this.renderers);try{for(i.s();!(t=i.n()).done;){var n=t.value;n.updateOptions(e)}}catch(o){i.e(o)}finally{i.f()}this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===F.Always)}},{key:"options",get:function(){return this._options}},{key:"getHTMLElement",value:function(){return this.view.getHTMLElement()}},{key:"scrollTop",get:function(){return this.view.scrollTop},set:function(e){this.view.scrollTop=e}},{key:"domFocus",value:function(){this.view.domFocus()}},{key:"layout",value:function(e,t){var i;this.view.layout(e,t),(0,L.hj)(t)&&(null===(i=this.findController)||void 0===i||i.layout(t))}},{key:"style",value:function(e){var t,i=".".concat(this.view.domId),n=[];e.treeIndentGuidesStroke&&(n.push(".monaco-list".concat(i,":hover .monaco-tl-indent > .indent-guide, .monaco-list").concat(i,".always .monaco-tl-indent > .indent-guide  { border-color: ").concat(e.treeIndentGuidesStroke.transparent(.4),"; }")),n.push(".monaco-list".concat(i," .monaco-tl-indent > .indent-guide.active { border-color: ").concat(e.treeIndentGuidesStroke,"; }"))),this.styleElement.textContent=n.join("\n"),null===(t=this.findController)||void 0===t||t.style(e),this.view.style(e)}},{key:"getParentElement",value:function(e){var t=this.model.getParentNodeLocation(e);return this.model.getNode(t).element}},{key:"getFirstElementChild",value:function(e){return this.model.getFirstElementChild(e)}},{key:"getNode",value:function(e){return this.model.getNode(e)}},{key:"collapse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.model.setCollapsed(e,!0,t)}},{key:"expand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.model.setCollapsed(e,!1,t)}},{key:"isCollapsible",value:function(e){return this.model.isCollapsible(e)}},{key:"setCollapsible",value:function(e,t){return this.model.setCollapsible(e,t)}},{key:"isCollapsed",value:function(e){return this.model.isCollapsed(e)}},{key:"refilter",value:function(){this._onWillRefilter.fire(void 0),this.model.refilter()}},{key:"setSelection",value:function(e,t){var i=this,n=e.map((function(e){return i.model.getNode(e)}));this.selection.set(n,t);var o=e.map((function(e){return i.model.getListIndex(e)})).filter((function(e){return e>-1}));this.view.setSelection(o,t,!0)}},{key:"getSelection",value:function(){return this.selection.get()}},{key:"setFocus",value:function(e,t){var i=this,n=e.map((function(e){return i.model.getNode(e)}));this.focus.set(n,t);var o=e.map((function(e){return i.model.getListIndex(e)})).filter((function(e){return e>-1}));this.view.setFocus(o,t,!0)}},{key:"getFocus",value:function(){return this.focus.get()}},{key:"reveal",value:function(e,t){this.model.expandTo(e);var i=this.model.getListIndex(e);-1!==i&&this.view.reveal(i,t)}},{key:"onLeftArrow",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){var o=this.model.getParentNodeLocation(n);if(!o)return;var r=this.model.getListIndex(o);this.view.reveal(r),this.view.setFocus([r])}}}},{key:"onRightArrow",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],o=this.model.getNodeLocation(i);if(!this.model.setCollapsed(o,!1)){if(!i.children.some((function(e){return e.visible})))return;var r=this.view.getFocus(),s=(0,n.Z)(r,1)[0]+1;this.view.reveal(s),this.view.setFocus([s])}}}},{key:"onSpace",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}}},{key:"dispose",value:function(){(0,I.B9)(this.disposables),this.view.dispose()}}]),e}()},23176:function(e,t,i){i.d(t,{c:function(){return M},h:function(){return H}});var n=i(11752),o=i(61120),r=i(37762),s=i(74165),l=i(60136),a=i(27277),d=i(93433),h=i(15671),u=i(43144),c=i(51242),v=i(75770),f=i(91102),p=i(13940),m=i(71232),g=i(32590),y=i(7579),S=i(68552),b=i(28941),_=i(25138),w=i(10526),k=i(64272),D=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{a(n.next(e))}catch(t){r(t)}}function l(e){try{a(n.throw(e))}catch(t){r(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,l)}a((n=n.apply(e,t||[])).next())}))};function C(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function N(e,t){return!!t.parent&&(t.parent===e||N(e,t.parent))}function z(e,t){return e===t||N(e,t)||N(t,e)}var E=function(){function e(t){(0,h.Z)(this,e),this.node=t}return(0,u.Z)(e,[{key:"element",get:function(){return this.node.element.element}},{key:"children",get:function(){return this.node.children.map((function(t){return new e(t)}))}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),e}(),P=function(){function e(t,i,n){(0,h.Z)(this,e),this.renderer=t,this.nodeMapper=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.templateId=t.templateId}return(0,u.Z)(e,[{key:"renderTemplate",value:function(e){return{templateData:this.renderer.renderTemplate(e)}}},{key:"renderElement",value:function(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}},{key:"renderTwistie",value:function(e,t){var i,n;return e.slow?((i=t.classList).add.apply(i,(0,d.Z)(y.lA.treeItemLoading.classNamesArray)),!0):((n=t.classList).remove.apply(n,(0,d.Z)(y.lA.treeItemLoading.classNamesArray)),!1)}},{key:"disposeElement",value:function(e,t,i,n){var o,r;null===(r=(o=this.renderer).disposeElement)||void 0===r||r.call(o,this.nodeMapper.map(e),t,i.templateData,n)}},{key:"disposeTemplate",value:function(e){this.renderer.disposeTemplate(e.templateData)}},{key:"dispose",value:function(){this.renderedNodes.clear()}}]),e}();function I(e){return{browserEvent:e.browserEvent,elements:e.elements.map((function(e){return e.element}))}}function Z(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}var L=function(e){(0,l.Z)(i,e);var t=(0,a.Z)(i);function i(e){var n;return(0,h.Z)(this,i),(n=t.call(this,e.elements.map((function(e){return e.element})))).data=e,n}return(0,u.Z)(i)}(c.kX);function T(e){return e instanceof c.kX?new L(e):e}var x=function(){function e(t){(0,h.Z)(this,e),this.dnd=t}return(0,u.Z)(e,[{key:"getDragURI",value:function(e){return this.dnd.getDragURI(e.element)}},{key:"getDragLabel",value:function(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((function(e){return e.element})),t)}},{key:"onDragStart",value:function(e,t){var i,n;null===(n=(i=this.dnd).onDragStart)||void 0===n||n.call(i,T(e),t)}},{key:"onDragOver",value:function(e,t,i,n){return this.dnd.onDragOver(T(e),t&&t.element,i,n)}},{key:"drop",value:function(e,t,i,n){this.dnd.drop(T(e),t&&t.element,i,n)}},{key:"onDragEnd",value:function(e){var t,i;null===(i=(t=this.dnd).onDragEnd)||void 0===i||i.call(t,e)}}]),e}();function O(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:function(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new x(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:function(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},isSelectionRangeChangeEvent:function(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?function(t){return e.accessibilityProvider.getRole(t.element)}:function(){return"treeitem"},isChecked:e.accessibilityProvider.isChecked?function(t){var i;return!!(null===(i=e.accessibilityProvider)||void 0===i?void 0:i.isChecked(t.element))}:void 0,getAriaLabel:function(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel:function(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider.getWidgetRole?function(){return e.accessibilityProvider.getWidgetRole()}:function(){return"tree"},getAriaLevel:e.accessibilityProvider.getAriaLevel&&function(t){return e.accessibilityProvider.getAriaLevel(t.element)},getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&function(t){return e.accessibilityProvider.getActiveDescendantId(t.element)}}),filter:e.filter&&{filter:function(t,i){return e.filter.filter(t.element,i)}},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}),sorter:void 0,expandOnlyOnTwistieClick:"undefined"===typeof e.expandOnlyOnTwistieClick?void 0:"function"!==typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:function(t){return e.expandOnlyOnTwistieClick(t.element)},additionalScrollHeight:e.additionalScrollHeight})}function R(e,t){t(e),e.children.forEach((function(e){return R(e,t)}))}var M=function(){function e(t,i,n,o,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};(0,h.Z)(this,e),this.user=t,this.dataSource=r,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new b.Q5,this._onDidChangeNodeSlowState=new b.Q5,this.nodeMapper=new m.VA((function(e){return new E(e)})),this.disposables=new w.SL,this.identityProvider=s.identityProvider,this.autoExpandSingleChildren="undefined"!==typeof s.autoExpandSingleChildren&&s.autoExpandSingleChildren,this.sorter=s.sorter,this.collapseByDefault=s.collapseByDefault,this.tree=this.createTree(t,i,n,o,s),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=C({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}return(0,u.Z)(e,[{key:"onDidChangeFocus",get:function(){return b.ju.map(this.tree.onDidChangeFocus,I)}},{key:"onDidChangeSelection",get:function(){return b.ju.map(this.tree.onDidChangeSelection,I)}},{key:"onMouseDblClick",get:function(){return b.ju.map(this.tree.onMouseDblClick,Z)}},{key:"onPointer",get:function(){return b.ju.map(this.tree.onPointer,Z)}},{key:"onDidFocus",get:function(){return this.tree.onDidFocus}},{key:"onDidChangeModel",get:function(){return this.tree.onDidChangeModel}},{key:"onDidChangeCollapseState",get:function(){return this.tree.onDidChangeCollapseState}},{key:"onDidChangeFindOpenState",get:function(){return this.tree.onDidChangeFindOpenState}},{key:"onDidDispose",get:function(){return this.tree.onDidDispose}},{key:"createTree",value:function(e,t,i,n,o){var r=this,s=new v.cz(i),l=n.map((function(e){return new P(e,r.nodeMapper,r._onDidChangeNodeSlowState.event)})),a=O(o)||{};return new p.H(e,t,s,l,a)}},{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tree.updateOptions(e)}},{key:"getHTMLElement",value:function(){return this.tree.getHTMLElement()}},{key:"scrollTop",get:function(){return this.tree.scrollTop},set:function(e){this.tree.scrollTop=e}},{key:"domFocus",value:function(){this.tree.domFocus()}},{key:"layout",value:function(e,t){this.tree.layout(e,t)}},{key:"style",value:function(e){this.tree.style(e)}},{key:"getInput",value:function(){return this.root.element}},{key:"setInput",value:function(e,t){return D(this,void 0,void 0,(0,s.Z)().mark((function i(){var n;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return this.refreshPromises.forEach((function(e){return e.cancel()})),this.refreshPromises.clear(),this.root.element=e,n=t&&{viewState:t,focus:[],selection:[]},i.next=6,this._updateChildren(e,!0,!1,n);case 6:n&&(this.tree.setFocus(n.focus),this.tree.setSelection(n.selection)),t&&"number"===typeof t.scrollTop&&(this.scrollTop=t.scrollTop);case 8:case"end":return i.stop()}}),i,this)})))}},{key:"_updateChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return D(this,void 0,void 0,(0,s.Z)().mark((function r(){var l;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("undefined"!==typeof this.root.element){r.next=2;break}throw new m.ac(this.user,"Tree input not set");case 2:if(!this.root.refreshPromise){r.next=7;break}return r.next=5,this.root.refreshPromise;case 5:return r.next=7,b.ju.toPromise(this._onDidRender.event);case 7:return l=this.getDataNode(e),r.next=10,this.refreshAndRenderNode(l,t,n,o);case 10:if(i)try{this.tree.rerender(l)}catch(s){}case 11:case"end":return r.stop()}}),r,this)})))}},{key:"rerender",value:function(e){if(void 0!==e&&e!==this.root.element){var t=this.getDataNode(e);this.tree.rerender(t)}else this.tree.rerender()}},{key:"getNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element,t=this.getDataNode(e),i=this.tree.getNode(t===this.root?null:t);return this.nodeMapper.map(i)}},{key:"collapse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}},{key:"expand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return D(this,void 0,void 0,(0,s.Z)().mark((function i(){var n,o;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("undefined"!==typeof this.root.element){i.next=2;break}throw new m.ac(this.user,"Tree input not set");case 2:if(!this.root.refreshPromise){i.next=7;break}return i.next=5,this.root.refreshPromise;case 5:return i.next=7,b.ju.toPromise(this._onDidRender.event);case 7:if(n=this.getDataNode(e),!this.tree.hasElement(n)||this.tree.isCollapsible(n)){i.next=10;break}return i.abrupt("return",!1);case 10:if(!n.refreshPromise){i.next=15;break}return i.next=13,this.root.refreshPromise;case 13:return i.next=15,b.ju.toPromise(this._onDidRender.event);case 15:if(n===this.root||n.refreshPromise||this.tree.isCollapsed(n)){i.next=17;break}return i.abrupt("return",!1);case 17:if(o=this.tree.expand(n===this.root?null:n,t),!n.refreshPromise){i.next=23;break}return i.next=21,this.root.refreshPromise;case 21:return i.next=23,b.ju.toPromise(this._onDidRender.event);case 23:return i.abrupt("return",o);case 24:case"end":return i.stop()}}),i,this)})))}},{key:"setSelection",value:function(e,t){var i=this,n=e.map((function(e){return i.getDataNode(e)}));this.tree.setSelection(n,t)}},{key:"getSelection",value:function(){return this.tree.getSelection().map((function(e){return e.element}))}},{key:"setFocus",value:function(e,t){var i=this,n=e.map((function(e){return i.getDataNode(e)}));this.tree.setFocus(n,t)}},{key:"getFocus",value:function(){return this.tree.getFocus().map((function(e){return e.element}))}},{key:"reveal",value:function(e,t){this.tree.reveal(this.getDataNode(e),t)}},{key:"getParentElement",value:function(e){var t=this.tree.getParentElement(this.getDataNode(e));return t&&t.element}},{key:"getFirstElementChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root.element,t=this.getDataNode(e),i=this.tree.getFirstElementChild(t===this.root?null:t);return i&&i.element}},{key:"getDataNode",value:function(e){var t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new m.ac(this.user,"Data tree node not found: ".concat(e));return t}},{key:"refreshAndRenderNode",value:function(e,t,i,n){return D(this,void 0,void 0,(0,s.Z)().mark((function o(){return(0,s.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.refreshNode(e,t,i);case 2:this.render(e,i,n);case 3:case"end":return o.stop()}}),o,this)})))}},{key:"refreshNode",value:function(e,t,i){return D(this,void 0,void 0,(0,s.Z)().mark((function n(){var o,r=this;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.subTreeRefreshPromises.forEach((function(n,s){!o&&z(s,e)&&(o=n.then((function(){return r.refreshNode(e,t,i)})))})),!o){n.next=3;break}return n.abrupt("return",o);case 3:if(e===this.root){n.next=9;break}if(!this.tree.getNode(e).collapsed){n.next=9;break}return e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0,n.abrupt("return");case 9:return n.abrupt("return",this.doRefreshSubTree(e,t,i));case 10:case"end":return n.stop()}}),n,this)})))}},{key:"doRefreshSubTree",value:function(e,t,i){return D(this,void 0,void 0,(0,s.Z)().mark((function n(){var o,r,l=this;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.refreshPromise=new Promise((function(e){return o=e})),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((function(){e.refreshPromise=void 0,l.subTreeRefreshPromises.delete(e)})),n.prev=3,n.next=6,this.doRefreshNode(e,t,i);case 6:return r=n.sent,e.stale=!1,n.next=10,g.jT.settled(r.map((function(e){return l.doRefreshSubTree(e,t,i)})));case 10:return n.prev=10,o(),n.finish(10);case 13:case"end":return n.stop()}}),n,this,[[3,,10,13]])})))}},{key:"doRefreshNode",value:function(e,t,i){return D(this,void 0,void 0,(0,s.Z)().mark((function n(){var o,r,l,a,d=this;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren?(r=this.doGetChildren(e),(0,k.TW)(r)?o=Promise.resolve(r):((l=(0,g.Vs)(800)).then((function(){e.slow=!0,d._onDidChangeNodeSlowState.fire(e)}),(function(e){return null})),o=r.finally((function(){return l.cancel()})))):o=Promise.resolve(_.$.empty()),n.prev=2,n.next=5,o;case 5:return a=n.sent,n.abrupt("return",this.setChildren(e,a,t,i));case 9:if(n.prev=9,n.t0=n.catch(2),e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),!(0,S.n2)(n.t0)){n.next=14;break}return n.abrupt("return",[]);case 14:throw n.t0;case 15:return n.prev=15,e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e)),n.finish(15);case 18:case"end":return n.stop()}}),n,this,[[2,9,15,18]])})))}},{key:"doGetChildren",value:function(e){var t=this,i=this.refreshPromises.get(e);if(i)return i;var n=this.dataSource.getChildren(e.element);return(0,k.TW)(n)?this.processChildren(n):(i=(0,g.PG)((function(){return D(t,void 0,void 0,(0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,n;case 3:return e.t1=e.sent,e.abrupt("return",e.t0.processChildren.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})))})),this.refreshPromises.set(e,i),i.finally((function(){t.refreshPromises.delete(e)})))}},{key:"_onDidChangeCollapseState",value:function(e){var t=e.node,i=e.deep;null!==t.element&&!t.collapsed&&t.element.stale&&(i?this.collapse(t.element.element):this.refreshAndRenderNode(t.element,!1).catch(S.dL))}},{key:"setChildren",value:function(e,t,i,n){var o,s=this,l=(0,d.Z)(t);if(0===e.children.length&&0===l.length)return[];var a,h=new Map,u=new Map,c=(0,r.Z)(e.children);try{for(c.s();!(a=c.n()).done;){var v=a.value;if(h.set(v.element,v),this.identityProvider){var f=this.tree.isCollapsed(v);u.set(v.id,{node:v,collapsed:f})}}}catch(w){c.e(w)}finally{c.f()}var p,m=[],g=l.map((function(t){var o=!!s.dataSource.hasChildren(t);if(!s.identityProvider){var r=C({element:t,parent:e,hasChildren:o});return o&&s.collapseByDefault&&!s.collapseByDefault(t)&&(r.collapsedByDefault=!1,m.push(r)),r}var l=s.identityProvider.getId(t).toString(),a=u.get(l);if(a){var d=a.node;return h.delete(d.element),s.nodes.delete(d.element),s.nodes.set(t,d),d.element=t,d.hasChildren=o,i?a.collapsed?(d.children.forEach((function(e){return R(e,(function(e){return s.nodes.delete(e.element)}))})),d.children.splice(0,d.children.length),d.stale=!0):m.push(d):o&&s.collapseByDefault&&!s.collapseByDefault(t)&&(d.collapsedByDefault=!1,m.push(d)),d}var c=C({element:t,parent:e,id:l,hasChildren:o});return n&&n.viewState.focus&&n.viewState.focus.indexOf(l)>-1&&n.focus.push(c),n&&n.viewState.selection&&n.viewState.selection.indexOf(l)>-1&&n.selection.push(c),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(l)>-1?m.push(c):o&&s.collapseByDefault&&!s.collapseByDefault(t)&&(c.collapsedByDefault=!1,m.push(c)),c})),y=(0,r.Z)(h.values());try{for(y.s();!(p=y.n()).done;){R(p.value,(function(e){return s.nodes.delete(e.element)}))}}catch(w){y.e(w)}finally{y.f()}var S,b=(0,r.Z)(g);try{for(b.s();!(S=b.n()).done;){var _=S.value;this.nodes.set(_.element,_)}}catch(w){b.e(w)}finally{b.f()}return(o=e.children).splice.apply(o,[0,e.children.length].concat((0,d.Z)(g))),e!==this.root&&this.autoExpandSingleChildren&&1===g.length&&0===m.length&&(g[0].collapsedByDefault=!1,m.push(g[0])),m}},{key:"render",value:function(e,t,i){var n=this,o=e.children.map((function(e){return n.asTreeElement(e,t)})),r=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId:function(e){return i.diffIdentityProvider.getId(e.element)}}});this.tree.setChildren(e===this.root?null:e,o,r),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}},{key:"asTreeElement",value:function(e,t){var i,n=this;return e.stale?{element:e,collapsible:e.hasChildren,collapsed:!0}:(i=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?_.$.map(e.children,(function(e){return n.asTreeElement(e,t)})):[],collapsible:e.hasChildren,collapsed:i})}},{key:"processChildren",value:function(e){return this.sorter&&(e=(0,d.Z)(e).sort(this.sorter.compare.bind(this.sorter))),e}},{key:"dispose",value:function(){this.disposables.dispose()}}]),e}(),A=function(){function e(t){(0,h.Z)(this,e),this.node=t}return(0,u.Z)(e,[{key:"element",get:function(){return{elements:this.node.element.elements.map((function(e){return e.element})),incompressible:this.node.element.incompressible}}},{key:"children",get:function(){return this.node.children.map((function(t){return new e(t)}))}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),e}(),F=function(){function e(t,i,n,o){(0,h.Z)(this,e),this.renderer=t,this.nodeMapper=i,this.compressibleNodeMapperProvider=n,this.onDidChangeTwistieState=o,this.renderedNodes=new Map,this.disposables=[],this.templateId=t.templateId}return(0,u.Z)(e,[{key:"renderTemplate",value:function(e){return{templateData:this.renderer.renderTemplate(e)}}},{key:"renderElement",value:function(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}},{key:"renderCompressedElements",value:function(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}},{key:"renderTwistie",value:function(e,t){var i,n;return e.slow?((i=t.classList).add.apply(i,(0,d.Z)(y.lA.treeItemLoading.classNamesArray)),!0):((n=t.classList).remove.apply(n,(0,d.Z)(y.lA.treeItemLoading.classNamesArray)),!1)}},{key:"disposeElement",value:function(e,t,i,n){var o,r;null===(r=(o=this.renderer).disposeElement)||void 0===r||r.call(o,this.nodeMapper.map(e),t,i.templateData,n)}},{key:"disposeCompressedElements",value:function(e,t,i,n){var o,r;null===(r=(o=this.renderer).disposeCompressedElements)||void 0===r||r.call(o,this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}},{key:"disposeTemplate",value:function(e){this.renderer.disposeTemplate(e.templateData)}},{key:"dispose",value:function(){this.renderedNodes.clear(),this.disposables=(0,w.B9)(this.disposables)}}]),e}();var H=function(e){(0,l.Z)(i,e);var t=(0,a.Z)(i);function i(e,n,o,r,s,l){var a,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return(0,h.Z)(this,i),(a=t.call(this,e,n,o,s,l,d)).compressionDelegate=r,a.compressibleNodeMapper=new m.VA((function(e){return new A(e)})),a.filter=d.filter,a}return(0,u.Z)(i,[{key:"createTree",value:function(e,t,i,n,o){var r=this,s=new v.cz(i),l=n.map((function(e){return new F(e,r.nodeMapper,(function(){return r.compressibleNodeMapper}),r._onDidChangeNodeSlowState.event)})),a=function(e){var t=e&&O(e);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:function(t){return e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((function(e){return e.element})))}})})}(o)||{};return new p.h(e,t,s,l,a)}},{key:"asTreeElement",value:function(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},(0,n.Z)((0,o.Z)(i.prototype),"asTreeElement",this).call(this,e,t))}},{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tree.updateOptions(e)}},{key:"render",value:function(e,t){var s=this;if(!this.identityProvider)return(0,n.Z)((0,o.Z)(i.prototype),"render",this).call(this,e,t);var l=function(e){return s.identityProvider.getId(e).toString()},a=function(e){var t,i=new Set,n=(0,r.Z)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,a=s.tree.getCompressedTreeNode(o===s.root?null:o);if(a.element){var d,h=(0,r.Z)(a.element.elements);try{for(h.s();!(d=h.n()).done;){var u=d.value;i.add(l(u.element))}}catch(c){h.e(c)}finally{h.f()}}}}catch(c){n.e(c)}finally{n.f()}return i},d=a(this.tree.getSelection()),h=a(this.tree.getFocus());(0,n.Z)((0,o.Z)(i.prototype),"render",this).call(this,e,t);var u=this.getSelection(),c=!1,v=this.getFocus(),f=!1;!function e(t){var i=t.element;if(i)for(var n=0;n<i.elements.length;n++){var o=l(i.elements[n].element),r=i.elements[i.elements.length-1].element;d.has(o)&&-1===u.indexOf(r)&&(u.push(r),c=!0),h.has(o)&&-1===v.indexOf(r)&&(v.push(r),f=!0)}t.children.forEach(e)}(this.tree.getCompressedTreeNode(e===this.root?null:e)),c&&this.setSelection(u),f&&this.setFocus(v)}},{key:"processChildren",value:function(e){var t=this;return this.filter&&(e=_.$.filter(e,(function(e){var i,n=t.filter.filter(e,1),o="boolean"===typeof(i=n)?i?1:0:(0,f.gB)(i)?(0,f.aG)(i.visibility):(0,f.aG)(i);if(2===o)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===o}))),(0,n.Z)((0,o.Z)(i.prototype),"processChildren",this).call(this,e)}}]),i}(M)},69316:function(e,t,i){i.d(t,{u:function(){return d}});var n=i(15671),o=i(43144),r=i(60136),s=i(27277),l=i(75770),a=i(58679),d=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(e,o,r,s,l){var a,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return(0,n.Z)(this,i),(a=t.call(this,e,o,r,s,d)).user=e,a.dataSource=l,a.identityProvider=d.identityProvider,a}return(0,o.Z)(i,[{key:"createModel",value:function(e,t,i){return new a.F(e,t,i)}}]),i}(l.CH)},91102:function(e,t,i){i.d(t,{X:function(){return g},aG:function(){return p},gB:function(){return f}});var n=i(84506),o=i(37762),r=i(93433),s=i(15671),l=i(43144),a=i(71232),d=i(71881),h=i(32590),u=i(56199),c=i(28941),v=i(25138);function f(e){return"object"===typeof e&&"visibility"in e&&"data"in e}function p(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function m(e){return"boolean"===typeof e.collapsible}var g=function(){function e(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,s.Z)(this,e),this.user=t,this.list=i,this.rootRef=[],this.eventBufferer=new c.E7,this._onDidChangeCollapseState=new c.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new c.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new c.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new h.vp(h.ne),this.collapseByDefault="undefined"!==typeof o.collapseByDefault&&o.collapseByDefault,this.filter=o.filter,this.autoExpandSingleChildren="undefined"!==typeof o.autoExpandSingleChildren&&o.autoExpandSingleChildren,this.root={parent:void 0,element:n,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}return(0,l.Z)(e,[{key:"splice",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.$.empty(),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(0===e.length)throw new a.ac(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,t,i,n):this.spliceSimple(e,t,i,n)}},{key:"spliceSmart",value:function(e,t,i,n,s,l){var a,d=this;void 0===n&&(n=v.$.empty()),void 0===l&&(l=null!==(a=s.diffDepth)&&void 0!==a?a:0);var h=this.getParentNodeWithListIndex(t).parentNode;if(!h.lastDiffIds)return this.spliceSimple(t,i,n,s);var c=(0,r.Z)(n),f=t[t.length-1],p=new u.Hs({getElements:function(){return h.lastDiffIds}},{getElements:function(){return[].concat((0,r.Z)(h.children.slice(0,f)),(0,r.Z)(c),(0,r.Z)(h.children.slice(f+i))).map((function(t){return e.getId(t.element).toString()}))}}).ComputeDiff(!1);if(p.quitEarly)return h.lastDiffIds=void 0,this.spliceSimple(t,i,c,s);var m,g=t.slice(0,-1),y=function(t,i,n){if(l>0)for(var o=0;o<n;o++)t--,i--,d.spliceSmart(e,[].concat((0,r.Z)(g),[t,0]),Number.MAX_SAFE_INTEGER,c[i].children,s,l-1)},S=Math.min(h.children.length,f+i),b=c.length,_=(0,o.Z)(p.changes.sort((function(e,t){return t.originalStart-e.originalStart})));try{for(_.s();!(m=_.n()).done;){var w=m.value;y(S,b,S-(w.originalStart+w.originalLength)),S=w.originalStart,b=w.modifiedStart-f,this.spliceSimple([].concat((0,r.Z)(g),[S]),w.originalLength,v.$.slice(c,b,b+w.modifiedLength),s)}}catch(k){_.e(k)}finally{_.f()}y(S,b,S)}},{key:"spliceSimple",value:function(e,t){for(var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.$.empty(),r=arguments.length>3?arguments[3]:void 0,s=r.onDidCreateNode,l=r.onDidDeleteNode,a=r.diffIdentityProvider,h=this.getParentNodeWithListIndex(e),u=h.parentNode,c=h.listIndex,f=h.revealed,p=h.visible,m=[],g=v.$.map(n,(function(e){return i.createTreeNode(e,u,u.visible?1:0,f,m,s)})),y=e[e.length-1],S=u.children.length>0,b=0,_=y;_>=0&&_<u.children.length;_--){var w=u.children[_];if(w.visible){b=w.visibleChildIndex;break}}var k,D=[],C=0,N=0,z=(0,o.Z)(g);try{for(z.s();!(k=z.n()).done;){var E=k.value;D.push(E),N+=E.renderNodeCount,E.visible&&(E.visibleChildIndex=b+C++)}}catch(H){z.e(H)}finally{z.f()}var P=(0,d.db)(u.children,y,t,D);a?u.lastDiffIds?(0,d.db)(u.lastDiffIds,y,t,D.map((function(e){return a.getId(e.element).toString()}))):u.lastDiffIds=u.children.map((function(e){return a.getId(e.element).toString()})):u.lastDiffIds=void 0;var I,Z=0,L=(0,o.Z)(P);try{for(L.s();!(I=L.n()).done;){var T=I.value;T.visible&&Z++}}catch(H){L.e(H)}finally{L.f()}if(0!==Z)for(var x=y+D.length;x<u.children.length;x++){var O=u.children[x];O.visible&&(O.visibleChildIndex-=Z)}if(u.visibleChildrenCount+=C-Z,f&&p){var R=P.reduce((function(e,t){return e+(t.visible?t.renderNodeCount:0)}),0);this._updateAncestorsRenderNodeCount(u,N-R),this.list.splice(c,R,m)}if(P.length>0&&l){var M=function e(t){l(t),t.children.forEach(e)};P.forEach(M)}this._onDidSplice.fire({insertedNodes:D,deletedNodes:P});var A=u.children.length>0;S!==A&&this.setCollapsible(e.slice(0,-1),A);for(var F=u;F;){if(2===F.visibility){this.refilterDelayer.trigger((function(){return i.refilter()}));break}F=F.parent}}},{key:"rerender",value:function(e){if(0===e.length)throw new a.ac(this.user,"Invalid tree location");var t=this.getTreeNodeWithListIndex(e),i=t.node,n=t.listIndex,o=t.revealed;i.visible&&o&&this.list.splice(n,1,[i])}},{key:"has",value:function(e){return this.hasTreeNode(e)}},{key:"getListIndex",value:function(e){var t=this.getTreeNodeWithListIndex(e),i=t.listIndex,n=t.visible,o=t.revealed;return n&&o?i:-1}},{key:"getListRenderCount",value:function(e){return this.getTreeNode(e).renderNodeCount}},{key:"isCollapsible",value:function(e){return this.getTreeNode(e).collapsible}},{key:"setCollapsible",value:function(e,t){var i=this,n=this.getTreeNode(e);"undefined"===typeof t&&(t=!n.collapsible);var o={collapsible:t};return this.eventBufferer.bufferEvents((function(){return i._setCollapseState(e,o)}))}},{key:"isCollapsed",value:function(e){return this.getTreeNode(e).collapsed}},{key:"setCollapsed",value:function(e,t,i){var n=this,o=this.getTreeNode(e);"undefined"===typeof t&&(t=!o.collapsed);var r={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents((function(){return n._setCollapseState(e,r)}))}},{key:"_setCollapseState",value:function(e,t){var i=this.getTreeNodeWithListIndex(e),n=i.node,o=i.listIndex,s=i.revealed,l=this._setListNodeCollapseState(n,o,s,t);if(n!==this.root&&this.autoExpandSingleChildren&&l&&!m(t)&&n.collapsible&&!n.collapsed&&!t.recursive){for(var a=-1,d=0;d<n.children.length;d++){if(n.children[d].visible){if(a>-1){a=-1;break}a=d}}a>-1&&this._setCollapseState([].concat((0,r.Z)(e),[a]),t)}return l}},{key:"_setListNodeCollapseState",value:function(e,t,i,n){var o=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!o)return o;var r=e.renderNodeCount,s=this.updateNodeAfterCollapseChange(e),l=r-(-1===t?0:1);return this.list.splice(t+1,l,s.slice(1)),o}},{key:"_setNodeCollapseState",value:function(e,t,i){var n;if(e===this.root?n=!1:(m(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!m(t)&&t.recursive){var r,s=(0,o.Z)(e.children);try{for(s.s();!(r=s.n()).done;){var l=r.value;n=this._setNodeCollapseState(l,t,!0)||n}}catch(a){s.e(a)}finally{s.f()}}return n}},{key:"expandTo",value:function(e){var t=this;this.eventBufferer.bufferEvents((function(){for(var i=t.getTreeNode(e);i.parent;)i=i.parent,e=e.slice(0,e.length-1),i.collapsed&&t._setCollapseState(e,{collapsed:!1,recursive:!1})}))}},{key:"refilter",value:function(){var e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t),this.refilterDelayer.cancel()}},{key:"createTreeNode",value:function(e,t,i,n,r,s){var l=this,a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"===typeof e.collapsible?e.collapsible:"undefined"!==typeof e.collapsed,collapsed:"undefined"===typeof e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},d=this._filterNode(a,i);a.visibility=d,n&&r.push(a);var h,u=e.children||v.$.empty(),c=n&&0!==d&&!a.collapsed,f=v.$.map(u,(function(e){return l.createTreeNode(e,a,d,c,r,s)})),p=0,m=1,g=(0,o.Z)(f);try{for(g.s();!(h=g.n()).done;){var y=h.value;a.children.push(y),m+=y.renderNodeCount,y.visible&&(y.visibleChildIndex=p++)}}catch(S){g.e(S)}finally{g.f()}return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=p,a.visible=2===d?p>0:1===d,a.visible?a.collapsed||(a.renderNodeCount=m):(a.renderNodeCount=0,n&&r.pop()),null===s||void 0===s||s(a),a}},{key:"updateNodeAfterCollapseChange",value:function(e){var t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}},{key:"_updateNodeAfterCollapseChange",value:function(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed){var i,n=(0,o.Z)(e.children);try{for(n.s();!(i=n.n()).done;){var r=i.value;e.renderNodeCount+=this._updateNodeAfterCollapseChange(r,t)}}catch(s){n.e(s)}finally{n.f()}}return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}},{key:"updateNodeAfterFilterChange",value:function(e){var t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}},{key:"_updateNodeAfterFilterChange",value:function(e,t,i){var n,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e!==this.root){if(0===(n=this._filterNode(e,t)))return e.visible=!1,e.renderNodeCount=0,!1;r&&i.push(e)}var s=i.length;e.renderNodeCount=e===this.root?0:1;var l=!1;if(e.collapsed&&0===n)e.visibleChildrenCount=0;else{var a,d=0,h=(0,o.Z)(e.children);try{for(h.s();!(a=h.n()).done;){var u=a.value;l=this._updateNodeAfterFilterChange(u,n,i,r&&!e.collapsed)||l,u.visible&&(u.visibleChildIndex=d++)}}catch(c){h.e(c)}finally{h.f()}e.visibleChildrenCount=d}return e!==this.root&&(e.visible=2===n?l:1===n,e.visibility=n),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,r&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}},{key:"_updateAncestorsRenderNodeCount",value:function(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}},{key:"_filterNode",value:function(e,t){var i=this.filter?this.filter.filter(e.element,t):1;return"boolean"===typeof i?(e.filterData=void 0,i?1:0):f(i)?(e.filterData=i.data,p(i.visibility)):(e.filterData=void 0,p(i))}},{key:"hasTreeNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root;if(!e||0===e.length)return!0;var i=(0,n.Z)(e),o=i[0],r=i.slice(1);return!(o<0||o>t.children.length)&&this.hasTreeNode(r,t.children[o])}},{key:"getTreeNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root;if(!e||0===e.length)return t;var i=(0,n.Z)(e),o=i[0],r=i.slice(1);if(o<0||o>t.children.length)throw new a.ac(this.user,"Invalid tree location");return this.getTreeNode(r,t.children[o])}},{key:"getTreeNodeWithListIndex",value:function(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var t=this.getParentNodeWithListIndex(e),i=t.parentNode,n=t.listIndex,o=t.revealed,r=t.visible,s=e[e.length-1];if(s<0||s>i.children.length)throw new a.ac(this.user,"Invalid tree location");var l=i.children[s];return{node:l,listIndex:n,revealed:o,visible:r&&l.visible}}},{key:"getParentNodeWithListIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=(0,n.Z)(e),l=s[0],d=s.slice(1);if(l<0||l>t.children.length)throw new a.ac(this.user,"Invalid tree location");for(var h=0;h<l;h++)i+=t.children[h].renderNodeCount;return o=o&&!t.collapsed,r=r&&t.visible,0===d.length?{parentNode:t,listIndex:i,revealed:o,visible:r}:this.getParentNodeWithListIndex(d,t.children[l],i+1,o,r)}},{key:"getNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.getTreeNode(e)}},{key:"getNodeLocation",value:function(e){for(var t=[],i=e;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}},{key:"getParentNodeLocation",value:function(e){return 0===e.length?void 0:1===e.length?[]:(0,d.JH)(e)[0]}},{key:"getFirstElementChild",value:function(e){var t=this.getTreeNode(e);if(0!==t.children.length)return t.children[0].element}}]),e}()},13940:function(e,t,i){i.d(t,{h:function(){return x},H:function(){return Z}});var n=i(97326),o=i(11752),r=i(61120),s=i(15671),l=i(43144),a=i(60136),d=i(27277),h=i(75770),u=i(37762),c=i(29439),v=i(58679),f=i(71232),p=i(28941),m=i(25138);function g(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:m.$.map(m.$.from(e.children),g),collapsible:e.collapsible,collapsed:e.collapsed}}function y(e){for(var t,i,n=[e.element],o=e.incompressible||!1;;){var r=m.$.consume(m.$.from(e.children),2),s=(0,c.Z)(r,2);if(i=s[0],t=s[1],1!==i.length)break;if(i[0].incompressible)break;e=i[0],n.push(e.element)}return{element:{elements:n,incompressible:o},children:m.$.map(m.$.concat(i,t),y),collapsible:e.collapsible,collapsed:e.collapsed}}function S(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=i<e.element.elements.length-1?[S(e,i+1)]:m.$.map(m.$.from(e.children),(function(e){return S(e,0)})),0===i&&e.element.incompressible?{element:e.element.elements[i],children:t,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[i],children:t,collapsible:e.collapsible,collapsed:e.collapsed}}function b(e){return S(e,0)}function _(e,t,i){return e.element===t?Object.assign(Object.assign({},e),{children:i}):Object.assign(Object.assign({},e),{children:m.$.map(m.$.from(e.children),(function(e){return _(e,t,i)}))})}var w=function(e){return{getId:function(t){return t.elements.map((function(t){return e.getId(t).toString()})).join("\0")}}},k=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s.Z)(this,e),this.user=t,this.rootRef=null,this.nodes=new Map,this.model=new v.F(t,i,n),this.enabled="undefined"===typeof n.compressionEnabled||n.compressionEnabled,this.identityProvider=n.identityProvider}return(0,l.Z)(e,[{key:"onDidSplice",get:function(){return this.model.onDidSplice}},{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"onDidChangeRenderNodeCount",get:function(){return this.model.onDidChangeRenderNodeCount}},{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.$.empty(),i=arguments.length>2?arguments[2]:void 0,n=i.diffIdentityProvider&&w(i.diffIdentityProvider);if(null!==e){var o=this.nodes.get(e);if(!o)throw new Error("Unknown compressed tree node");var r=this.model.getNode(o),s=this.model.getParentNodeLocation(o),l=this.model.getNode(s),a=b(r),d=_(a,e,t),h=(this.enabled?y:g)(d),u=l.children.map((function(e){return e===r?h:e}));this._setChildren(l.element,u,{diffIdentityProvider:n,diffDepth:r.depth-l.depth})}else{var c=m.$.map(t,this.enabled?y:g);this._setChildren(null,c,{diffIdentityProvider:n,diffDepth:1/0})}}},{key:"setCompressionEnabled",value:function(e){if(e!==this.enabled){this.enabled=e;var t=this.model.getNode().children,i=m.$.map(t,b),n=m.$.map(i,e?y:g);this._setChildren(null,n,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}}},{key:"_setChildren",value:function(e,t,i){var n=this,o=new Set;this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:function(e){var t,i=(0,u.Z)(e.element.elements);try{for(i.s();!(t=i.n()).done;){var r=t.value;o.add(r),n.nodes.set(r,e.element)}}catch(s){i.e(s)}finally{i.f()}},onDidDeleteNode:function(e){var t,i=(0,u.Z)(e.element.elements);try{for(i.s();!(t=i.n()).done;){var r=t.value;o.has(r)||n.nodes.delete(r)}}catch(s){i.e(s)}finally{i.f()}}}))}},{key:"has",value:function(e){return this.nodes.has(e)}},{key:"getListIndex",value:function(e){var t=this.getCompressedNode(e);return this.model.getListIndex(t)}},{key:"getListRenderCount",value:function(e){var t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}},{key:"getNode",value:function(e){if("undefined"===typeof e)return this.model.getNode();var t=this.getCompressedNode(e);return this.model.getNode(t)}},{key:"getNodeLocation",value:function(e){var t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}},{key:"getParentNodeLocation",value:function(e){var t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return null===i?null:i.elements[i.elements.length-1]}},{key:"getFirstElementChild",value:function(e){var t=this.getCompressedNode(e);return this.model.getFirstElementChild(t)}},{key:"isCollapsible",value:function(e){var t=this.getCompressedNode(e);return this.model.isCollapsible(t)}},{key:"setCollapsible",value:function(e,t){var i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}},{key:"isCollapsed",value:function(e){var t=this.getCompressedNode(e);return this.model.isCollapsed(t)}},{key:"setCollapsed",value:function(e,t,i){var n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}},{key:"expandTo",value:function(e){var t=this.getCompressedNode(e);this.model.expandTo(t)}},{key:"rerender",value:function(e){var t=this.getCompressedNode(e);this.model.rerender(t)}},{key:"refilter",value:function(){this.model.refilter()}},{key:"getCompressedNode",value:function(e){if(null===e)return null;var t=this.nodes.get(e);if(!t)throw new f.ac(this.user,"Tree element not found: ".concat(e));return t}}]),e}(),D=function(e){return e[e.length-1]},C=function(){function e(t,i){(0,s.Z)(this,e),this.unwrapper=t,this.node=i}return(0,l.Z)(e,[{key:"element",get:function(){return null===this.node.element?null:this.unwrapper(this.node.element)}},{key:"children",get:function(){var t=this;return this.node.children.map((function(i){return new e(t.unwrapper,i)}))}},{key:"depth",get:function(){return this.node.depth}},{key:"visibleChildrenCount",get:function(){return this.node.visibleChildrenCount}},{key:"visibleChildIndex",get:function(){return this.node.visibleChildIndex}},{key:"collapsible",get:function(){return this.node.collapsible}},{key:"collapsed",get:function(){return this.node.collapsed}},{key:"visible",get:function(){return this.node.visible}},{key:"filterData",get:function(){return this.node.filterData}}]),e}();function N(e,t){return{splice:function(i,n,o){t.splice(i,n,o.map((function(t){return e.map(t)})))},updateElementHeight:function(e,i){t.updateElementHeight(e,i)}}}function z(e,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId:function(i){return t.identityProvider.getId(e(i))}},sorter:t.sorter&&{compare:function(e,i){return t.sorter.compare(e.elements[0],i.elements[0])}},filter:t.filter&&{filter:function(i,n){return t.filter.filter(e(i),n)}}})}var E=function(){function e(t,i){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s.Z)(this,e),this.rootRef=null,this.elementMapper=o.elementMapper||D;var r=function(e){return n.elementMapper(e.elements)};this.nodeMapper=new f.VA((function(e){return new C(r,e)})),this.model=new k(t,N(this.nodeMapper,i),z(r,o))}return(0,l.Z)(e,[{key:"onDidSplice",get:function(){var e=this;return p.ju.map(this.model.onDidSplice,(function(t){var i=t.insertedNodes,n=t.deletedNodes;return{insertedNodes:i.map((function(t){return e.nodeMapper.map(t)})),deletedNodes:n.map((function(t){return e.nodeMapper.map(t)}))}}))}},{key:"onDidChangeCollapseState",get:function(){var e=this;return p.ju.map(this.model.onDidChangeCollapseState,(function(t){var i=t.node,n=t.deep;return{node:e.nodeMapper.map(i),deep:n}}))}},{key:"onDidChangeRenderNodeCount",get:function(){var e=this;return p.ju.map(this.model.onDidChangeRenderNodeCount,(function(t){return e.nodeMapper.map(t)}))}},{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.$.empty(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.model.setChildren(e,t,i)}},{key:"setCompressionEnabled",value:function(e){this.model.setCompressionEnabled(e)}},{key:"has",value:function(e){return this.model.has(e)}},{key:"getListIndex",value:function(e){return this.model.getListIndex(e)}},{key:"getListRenderCount",value:function(e){return this.model.getListRenderCount(e)}},{key:"getNode",value:function(e){return this.nodeMapper.map(this.model.getNode(e))}},{key:"getNodeLocation",value:function(e){return e.element}},{key:"getParentNodeLocation",value:function(e){return this.model.getParentNodeLocation(e)}},{key:"getFirstElementChild",value:function(e){var t=this.model.getFirstElementChild(e);return null===t||"undefined"===typeof t?t:this.elementMapper(t.elements)}},{key:"isCollapsible",value:function(e){return this.model.isCollapsible(e)}},{key:"setCollapsible",value:function(e,t){return this.model.setCollapsible(e,t)}},{key:"isCollapsed",value:function(e){return this.model.isCollapsed(e)}},{key:"setCollapsed",value:function(e,t,i){return this.model.setCollapsed(e,t,i)}},{key:"expandTo",value:function(e){return this.model.expandTo(e)}},{key:"rerender",value:function(e){return this.model.rerender(e)}},{key:"refilter",value:function(){return this.model.refilter()}},{key:"getCompressedTreeNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.model.getNode(e)}}]),e}(),P=i(44628),I=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Z=function(e){(0,a.Z)(i,e);var t=(0,d.Z)(i);function i(e,n,o,r){var l,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,s.Z)(this,i),(l=t.call(this,e,n,o,r,a)).user=e,l}return(0,l.Z)(i,[{key:"onDidChangeCollapseState",get:function(){return this.model.onDidChangeCollapseState}},{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.$.empty(),i=arguments.length>2?arguments[2]:void 0;this.model.setChildren(e,t,i)}},{key:"rerender",value:function(e){void 0!==e?this.model.rerender(e):this.view.rerender()}},{key:"hasElement",value:function(e){return this.model.has(e)}},{key:"createModel",value:function(e,t,i){return new v.F(e,t,i)}}]),i}(h.CH),L=function(){function e(t,i){(0,s.Z)(this,e),this._compressedTreeNodeProvider=t,this.renderer=i,this.templateId=i.templateId,i.onDidChangeTwistieState&&(this.onDidChangeTwistieState=i.onDidChangeTwistieState)}return(0,l.Z)(e,[{key:"compressedTreeNodeProvider",get:function(){return this._compressedTreeNodeProvider()}},{key:"renderTemplate",value:function(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}},{key:"renderElement",value:function(e,t,i,n){var o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===o.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}},{key:"disposeElement",value:function(e,t,i,n){var o,r,s,l;i.compressedTreeNode?null===(r=(o=this.renderer).disposeCompressedElements)||void 0===r||r.call(o,i.compressedTreeNode,t,i.data,n):null===(l=(s=this.renderer).disposeElement)||void 0===l||l.call(s,e,t,i.data,n)}},{key:"disposeTemplate",value:function(e){this.renderer.disposeTemplate(e.data)}},{key:"renderTwistie",value:function(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}]),e}();function T(e,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel:function(i){var n;try{n=e().getCompressedTreeNode(i)}catch(o){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return 1===n.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}})}I([P.H],L.prototype,"compressedTreeNodeProvider",null);var x=function(e){(0,a.Z)(i,e);var t=(0,d.Z)(i);function i(e,o,r,l){var a,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,s.Z)(this,i);var h=function(){return(0,n.Z)(a)},u=l.map((function(e){return new L(h,e)}));return a=t.call(this,e,o,r,u,T(h,d))}return(0,l.Z)(i,[{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.$.empty(),i=arguments.length>2?arguments[2]:void 0;this.model.setChildren(e,t,i)}},{key:"createModel",value:function(e,t,i){return new E(e,t,i)}},{key:"updateOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)((0,r.Z)(i.prototype),"updateOptions",this).call(this,e),"undefined"!==typeof e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}},{key:"getCompressedTreeNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.model.getCompressedTreeNode(e)}}]),i}(Z)},58679:function(e,t,i){i.d(t,{F:function(){return d}});var n=i(93433),o=i(15671),r=i(43144),s=i(91102),l=i(71232),a=i(25138),d=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,o.Z)(this,e),this.user=t,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new s.X(t,i,null,n),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,n.sorter&&(this.sorter={compare:function(e,t){return n.sorter.compare(e.element,t.element)}}),this.identityProvider=n.identityProvider}return(0,r.Z)(e,[{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.$.empty(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(t),i)}},{key:"_setChildren",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.$.empty(),o=arguments.length>2?arguments[2]:void 0,r=new Set,s=new Set,l=function(e){var i;if(null!==e.element){var n=e;if(r.add(n.element),t.nodes.set(n.element,n),t.identityProvider){var l=t.identityProvider.getId(n.element).toString();s.add(l),t.nodesByIdentity.set(l,n)}null===(i=o.onDidCreateNode)||void 0===i||i.call(o,n)}},d=function(e){var i;if(null!==e.element){var n=e;if(r.has(n.element)||t.nodes.delete(n.element),t.identityProvider){var l=t.identityProvider.getId(n.element).toString();s.has(l)||t.nodesByIdentity.delete(l)}null===(i=o.onDidDeleteNode)||void 0===i||i.call(o,n)}};this.model.splice([].concat((0,n.Z)(e),[0]),Number.MAX_VALUE,i,Object.assign(Object.assign({},o),{onDidCreateNode:l,onDidDeleteNode:d}))}},{key:"preserveCollapseState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.$.empty();return this.sorter&&(t=(0,n.Z)(t).sort(this.sorter.compare.bind(this.sorter))),a.$.map(t,(function(t){var i=e.nodes.get(t.element);if(!i&&e.identityProvider){var n=e.identityProvider.getId(t.element).toString();i=e.nodesByIdentity.get(n)}if(!i)return Object.assign(Object.assign({},t),{children:e.preserveCollapseState(t.children)});var o="boolean"===typeof t.collapsible?t.collapsible:i.collapsible,r="undefined"!==typeof t.collapsed?t.collapsed:i.collapsed;return Object.assign(Object.assign({},t),{collapsible:o,collapsed:r,children:e.preserveCollapseState(t.children)})}))}},{key:"rerender",value:function(e){var t=this.getElementLocation(e);this.model.rerender(t)}},{key:"getFirstElementChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}},{key:"has",value:function(e){return this.nodes.has(e)}},{key:"getListIndex",value:function(e){var t=this.getElementLocation(e);return this.model.getListIndex(t)}},{key:"getListRenderCount",value:function(e){var t=this.getElementLocation(e);return this.model.getListRenderCount(t)}},{key:"isCollapsible",value:function(e){var t=this.getElementLocation(e);return this.model.isCollapsible(t)}},{key:"setCollapsible",value:function(e,t){var i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}},{key:"isCollapsed",value:function(e){var t=this.getElementLocation(e);return this.model.isCollapsed(t)}},{key:"setCollapsed",value:function(e,t,i){var n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}},{key:"expandTo",value:function(e){var t=this.getElementLocation(e);this.model.expandTo(t)}},{key:"refilter",value:function(){this.model.refilter()}},{key:"getNode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===e)return this.model.getNode(this.model.rootRef);var t=this.nodes.get(e);if(!t)throw new l.ac(this.user,"Tree element not found: ".concat(e));return t}},{key:"getNodeLocation",value:function(e){return e.element}},{key:"getParentNodeLocation",value:function(e){if(null===e)throw new l.ac(this.user,"Invalid getParentNodeLocation call");var t=this.nodes.get(e);if(!t)throw new l.ac(this.user,"Tree element not found: ".concat(e));var i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}},{key:"getElementLocation",value:function(e){if(null===e)return[];var t=this.nodes.get(e);if(!t)throw new l.ac(this.user,"Tree element not found: ".concat(e));return this.model.getNodeLocation(t)}}]),e}()},71232:function(e,t,i){i.d(t,{VA:function(){return h},ac:function(){return d},sD:function(){return n}});var n,o=i(43144),r=i(15671),s=i(60136),l=i(27277),a=i(28664);!function(e){e[e.Unknown=0]="Unknown",e[e.Twistie=1]="Twistie",e[e.Element=2]="Element",e[e.Filter=3]="Filter"}(n||(n={}));var d=function(e){(0,s.Z)(i,e);var t=(0,l.Z)(i);function i(e,n){return(0,r.Z)(this,i),t.call(this,"TreeError [".concat(e,"] ").concat(n))}return(0,o.Z)(i)}((0,a.Z)(Error)),h=function(){function e(t){(0,r.Z)(this,e),this.fn=t,this._map=new WeakMap}return(0,o.Z)(e,[{key:"map",value:function(e){var t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}]),e}()},86457:function(e,t,i){i.d(t,{$:function(){return u}});var n=i(15671),o=i(43144),r=i(60136),s=i(27277),l=i(53210),a=i(81882),d=i(98022),h=i(6287),u=function(e){(0,r.Z)(i,e);var t=(0,s.Z)(i);function i(){return(0,n.Z)(this,i),t.apply(this,arguments)}return(0,o.Z)(i,[{key:"onclick",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.CLICK,(function(e){return t(new d.n(e))})))}},{key:"onmousedown",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.MOUSE_DOWN,(function(e){return t(new d.n(e))})))}},{key:"onmouseover",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.MOUSE_OVER,(function(e){return t(new d.n(e))})))}},{key:"onmouseleave",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.MOUSE_LEAVE,(function(e){return t(new d.n(e))})))}},{key:"onkeydown",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.KEY_DOWN,(function(e){return t(new a.y(e))})))}},{key:"onkeyup",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.KEY_UP,(function(e){return t(new a.y(e))})))}},{key:"oninput",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.INPUT,t))}},{key:"onblur",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.BLUR,t))}},{key:"onfocus",value:function(e,t){this._register(l.addDisposableListener(e,l.EventType.FOCUS,t))}},{key:"ignoreGesture",value:function(e){h.o.ignoreTarget(e)}}]),i}(i(10526).JT)}}]);
//# sourceMappingURL=monaco-editor-vendor.4743ffc1.c42c7de9.js.map