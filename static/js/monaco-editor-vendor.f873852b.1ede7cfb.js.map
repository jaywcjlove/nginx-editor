{"version":3,"file":"static/js/monaco-editor-vendor.f873852b.1ede7cfb.js","mappings":"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","sources":["../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/browser/dragAndDropCommand.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/browser/dnd.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/browser/documentSymbols.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/browser/outlineModel.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/dropOrPasteInto/browser/edit.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/dropOrPasteInto/browser/copyPasteController.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/dropOrPasteInto/browser/defaultProviders.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/dropOrPasteInto/browser/postEditWidget.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/editorState/browser/keybindingCancellation.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/editorState/browser/editorState.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/findDecorations.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/replaceAllCommand.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/replacePattern.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/findModel.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/findOptionsWidget.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/findState.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/findWidget.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/editor/contrib/find/browser/findController.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nexport class DragAndDropCommand {\n    constructor(selection, targetPosition, copy) {\n        this.selection = selection;\n        this.targetPosition = targetPosition;\n        this.copy = copy;\n        this.targetSelection = null;\n    }\n    getEditOperations(model, builder) {\n        const text = model.getValueInRange(this.selection);\n        if (!this.copy) {\n            builder.addEditOperation(this.selection, null);\n        }\n        builder.addEditOperation(new Range(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column), text);\n        if (this.selection.containsPosition(this.targetPosition) && !(this.copy && (this.selection.getEndPosition().equals(this.targetPosition) || this.selection.getStartPosition().equals(this.targetPosition)) // we allow users to paste content beside the selection\n        )) {\n            this.targetSelection = this.selection;\n            return;\n        }\n        if (this.copy) {\n            this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.selection.endLineNumber - this.selection.startLineNumber + this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\n                this.selection.endColumn);\n            return;\n        }\n        if (this.targetPosition.lineNumber > this.selection.endLineNumber) {\n            // Drag the selection downwards\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\n                this.selection.endColumn);\n            return;\n        }\n        if (this.targetPosition.lineNumber < this.selection.endLineNumber) {\n            // Drag the selection upwards\n            this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber + this.selection.endLineNumber - this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\n                this.selection.endColumn);\n            return;\n        }\n        // The target position is at the same line as the selection's end position.\n        if (this.selection.endColumn <= this.targetPosition.column) {\n            // The target position is after the selection's end position\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column - this.selection.endColumn + this.selection.startColumn :\n                this.targetPosition.column - this.selection.endColumn + this.selection.startColumn, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column :\n                this.selection.endColumn);\n        }\n        else {\n            // The target position is before the selection's end position. Since the selection doesn't contain the target position, the selection is one-line and target position is before this selection.\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column + this.selection.endColumn - this.selection.startColumn);\n        }\n    }\n    computeCursorState(model, helper) {\n        return this.targetSelection;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { isMacintosh } from '../../../../base/common/platform.js';\nimport './dnd.css';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { DragAndDropCommand } from './dragAndDropCommand.js';\nfunction hasTriggerModifier(e) {\n    if (isMacintosh) {\n        return e.altKey;\n    }\n    else {\n        return e.ctrlKey;\n    }\n}\nexport class DragAndDropController extends Disposable {\n    constructor(editor) {\n        super();\n        this._editor = editor;\n        this._dndDecorationIds = this._editor.createDecorationsCollection();\n        this._register(this._editor.onMouseDown((e) => this._onEditorMouseDown(e)));\n        this._register(this._editor.onMouseUp((e) => this._onEditorMouseUp(e)));\n        this._register(this._editor.onMouseDrag((e) => this._onEditorMouseDrag(e)));\n        this._register(this._editor.onMouseDrop((e) => this._onEditorMouseDrop(e)));\n        this._register(this._editor.onMouseDropCanceled(() => this._onEditorMouseDropCanceled()));\n        this._register(this._editor.onKeyDown((e) => this.onEditorKeyDown(e)));\n        this._register(this._editor.onKeyUp((e) => this.onEditorKeyUp(e)));\n        this._register(this._editor.onDidBlurEditorWidget(() => this.onEditorBlur()));\n        this._register(this._editor.onDidBlurEditorText(() => this.onEditorBlur()));\n        this._mouseDown = false;\n        this._modifierPressed = false;\n        this._dragSelection = null;\n    }\n    onEditorBlur() {\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n        this._modifierPressed = false;\n    }\n    onEditorKeyDown(e) {\n        if (!this._editor.getOption(33 /* EditorOption.dragAndDrop */) || this._editor.getOption(20 /* EditorOption.columnSelection */)) {\n            return;\n        }\n        if (hasTriggerModifier(e)) {\n            this._modifierPressed = true;\n        }\n        if (this._mouseDown && hasTriggerModifier(e)) {\n            this._editor.updateOptions({\n                mouseStyle: 'copy'\n            });\n        }\n    }\n    onEditorKeyUp(e) {\n        if (!this._editor.getOption(33 /* EditorOption.dragAndDrop */) || this._editor.getOption(20 /* EditorOption.columnSelection */)) {\n            return;\n        }\n        if (hasTriggerModifier(e)) {\n            this._modifierPressed = false;\n        }\n        if (this._mouseDown && e.keyCode === DragAndDropController.TRIGGER_KEY_VALUE) {\n            this._editor.updateOptions({\n                mouseStyle: 'default'\n            });\n        }\n    }\n    _onEditorMouseDown(mouseEvent) {\n        this._mouseDown = true;\n    }\n    _onEditorMouseUp(mouseEvent) {\n        this._mouseDown = false;\n        // Whenever users release the mouse, the drag and drop operation should finish and the cursor should revert to text.\n        this._editor.updateOptions({\n            mouseStyle: 'text'\n        });\n    }\n    _onEditorMouseDrag(mouseEvent) {\n        const target = mouseEvent.target;\n        if (this._dragSelection === null) {\n            const selections = this._editor.getSelections() || [];\n            const possibleSelections = selections.filter(selection => target.position && selection.containsPosition(target.position));\n            if (possibleSelections.length === 1) {\n                this._dragSelection = possibleSelections[0];\n            }\n            else {\n                return;\n            }\n        }\n        if (hasTriggerModifier(mouseEvent.event)) {\n            this._editor.updateOptions({\n                mouseStyle: 'copy'\n            });\n        }\n        else {\n            this._editor.updateOptions({\n                mouseStyle: 'default'\n            });\n        }\n        if (target.position) {\n            if (this._dragSelection.containsPosition(target.position)) {\n                this._removeDecoration();\n            }\n            else {\n                this.showAt(target.position);\n            }\n        }\n    }\n    _onEditorMouseDropCanceled() {\n        this._editor.updateOptions({\n            mouseStyle: 'text'\n        });\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n    }\n    _onEditorMouseDrop(mouseEvent) {\n        if (mouseEvent.target && (this._hitContent(mouseEvent.target) || this._hitMargin(mouseEvent.target)) && mouseEvent.target.position) {\n            const newCursorPosition = new Position(mouseEvent.target.position.lineNumber, mouseEvent.target.position.column);\n            if (this._dragSelection === null) {\n                let newSelections = null;\n                if (mouseEvent.event.shiftKey) {\n                    const primarySelection = this._editor.getSelection();\n                    if (primarySelection) {\n                        const { selectionStartLineNumber, selectionStartColumn } = primarySelection;\n                        newSelections = [new Selection(selectionStartLineNumber, selectionStartColumn, newCursorPosition.lineNumber, newCursorPosition.column)];\n                    }\n                }\n                else {\n                    newSelections = (this._editor.getSelections() || []).map(selection => {\n                        if (selection.containsPosition(newCursorPosition)) {\n                            return new Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);\n                        }\n                        else {\n                            return selection;\n                        }\n                    });\n                }\n                // Use `mouse` as the source instead of `api` and setting the reason to explicit (to behave like any other mouse operation).\n                this._editor.setSelections(newSelections || [], 'mouse', 3 /* CursorChangeReason.Explicit */);\n            }\n            else if (!this._dragSelection.containsPosition(newCursorPosition) ||\n                ((hasTriggerModifier(mouseEvent.event) ||\n                    this._modifierPressed) && (this._dragSelection.getEndPosition().equals(newCursorPosition) || this._dragSelection.getStartPosition().equals(newCursorPosition)) // we allow users to paste content beside the selection\n                )) {\n                this._editor.pushUndoStop();\n                this._editor.executeCommand(DragAndDropController.ID, new DragAndDropCommand(this._dragSelection, newCursorPosition, hasTriggerModifier(mouseEvent.event) || this._modifierPressed));\n                this._editor.pushUndoStop();\n            }\n        }\n        this._editor.updateOptions({\n            mouseStyle: 'text'\n        });\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n    }\n    showAt(position) {\n        this._dndDecorationIds.set([{\n                range: new Range(position.lineNumber, position.column, position.lineNumber, position.column),\n                options: DragAndDropController._DECORATION_OPTIONS\n            }]);\n        this._editor.revealPosition(position, 1 /* ScrollType.Immediate */);\n    }\n    _removeDecoration() {\n        this._dndDecorationIds.clear();\n    }\n    _hitContent(target) {\n        return target.type === 6 /* MouseTargetType.CONTENT_TEXT */ ||\n            target.type === 7 /* MouseTargetType.CONTENT_EMPTY */;\n    }\n    _hitMargin(target) {\n        return target.type === 2 /* MouseTargetType.GUTTER_GLYPH_MARGIN */ ||\n            target.type === 3 /* MouseTargetType.GUTTER_LINE_NUMBERS */ ||\n            target.type === 4 /* MouseTargetType.GUTTER_LINE_DECORATIONS */;\n    }\n    dispose() {\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n        this._modifierPressed = false;\n        super.dispose();\n    }\n}\nDragAndDropController.ID = 'editor.contrib.dragAndDrop';\nDragAndDropController.TRIGGER_KEY_VALUE = isMacintosh ? 6 /* KeyCode.Alt */ : 5 /* KeyCode.Ctrl */;\nDragAndDropController._DECORATION_OPTIONS = ModelDecorationOptions.register({\n    description: 'dnd-target',\n    className: 'dnd-target'\n});\nregisterEditorContribution(DragAndDropController.ID, DragAndDropController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { IOutlineModelService } from './outlineModel.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nCommandsRegistry.registerCommand('_executeDocumentSymbolProvider', function (accessor, ...args) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const [resource] = args;\n        assertType(URI.isUri(resource));\n        const outlineService = accessor.get(IOutlineModelService);\n        const modelService = accessor.get(ITextModelService);\n        const reference = yield modelService.createModelReference(resource);\n        try {\n            return (yield outlineService.getOrCreate(reference.object.textEditorModel, CancellationToken.None)).getTopLevelSymbols();\n        }\n        finally {\n            reference.dispose();\n        }\n    });\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { equals } from '../../../../base/common/arrays.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { LRUCache } from '../../../../base/common/map.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport class TreeElement {\n    remove() {\n        var _a;\n        (_a = this.parent) === null || _a === void 0 ? void 0 : _a.children.delete(this.id);\n    }\n    static findId(candidate, container) {\n        // complex id-computation which contains the origin/extension,\n        // the parent path, and some dedupe logic when names collide\n        let candidateId;\n        if (typeof candidate === 'string') {\n            candidateId = `${container.id}/${candidate}`;\n        }\n        else {\n            candidateId = `${container.id}/${candidate.name}`;\n            if (container.children.get(candidateId) !== undefined) {\n                candidateId = `${container.id}/${candidate.name}_${candidate.range.startLineNumber}_${candidate.range.startColumn}`;\n            }\n        }\n        let id = candidateId;\n        for (let i = 0; container.children.get(id) !== undefined; i++) {\n            id = `${candidateId}_${i}`;\n        }\n        return id;\n    }\n    static empty(element) {\n        return element.children.size === 0;\n    }\n}\nexport class OutlineElement extends TreeElement {\n    constructor(id, parent, symbol) {\n        super();\n        this.id = id;\n        this.parent = parent;\n        this.symbol = symbol;\n        this.children = new Map();\n    }\n}\nexport class OutlineGroup extends TreeElement {\n    constructor(id, parent, label, order) {\n        super();\n        this.id = id;\n        this.parent = parent;\n        this.label = label;\n        this.order = order;\n        this.children = new Map();\n    }\n}\nexport class OutlineModel extends TreeElement {\n    static create(registry, textModel, token) {\n        const cts = new CancellationTokenSource(token);\n        const result = new OutlineModel(textModel.uri);\n        const provider = registry.ordered(textModel);\n        const promises = provider.map((provider, index) => {\n            var _a;\n            const id = TreeElement.findId(`provider_${index}`, result);\n            const group = new OutlineGroup(id, result, (_a = provider.displayName) !== null && _a !== void 0 ? _a : 'Unknown Outline Provider', index);\n            return Promise.resolve(provider.provideDocumentSymbols(textModel, cts.token)).then(result => {\n                for (const info of result || []) {\n                    OutlineModel._makeOutlineElement(info, group);\n                }\n                return group;\n            }, err => {\n                onUnexpectedExternalError(err);\n                return group;\n            }).then(group => {\n                if (!TreeElement.empty(group)) {\n                    result._groups.set(id, group);\n                }\n                else {\n                    group.remove();\n                }\n            });\n        });\n        const listener = registry.onDidChange(() => {\n            const newProvider = registry.ordered(textModel);\n            if (!equals(newProvider, provider)) {\n                cts.cancel();\n            }\n        });\n        return Promise.all(promises).then(() => {\n            if (cts.token.isCancellationRequested && !token.isCancellationRequested) {\n                return OutlineModel.create(registry, textModel, token);\n            }\n            else {\n                return result._compact();\n            }\n        }).finally(() => {\n            listener.dispose();\n        });\n    }\n    static _makeOutlineElement(info, container) {\n        const id = TreeElement.findId(info, container);\n        const res = new OutlineElement(id, container, info);\n        if (info.children) {\n            for (const childInfo of info.children) {\n                OutlineModel._makeOutlineElement(childInfo, res);\n            }\n        }\n        container.children.set(res.id, res);\n    }\n    constructor(uri) {\n        super();\n        this.uri = uri;\n        this.id = 'root';\n        this.parent = undefined;\n        this._groups = new Map();\n        this.children = new Map();\n        this.id = 'root';\n        this.parent = undefined;\n    }\n    _compact() {\n        let count = 0;\n        for (const [key, group] of this._groups) {\n            if (group.children.size === 0) { // empty\n                this._groups.delete(key);\n            }\n            else {\n                count += 1;\n            }\n        }\n        if (count !== 1) {\n            //\n            this.children = this._groups;\n        }\n        else {\n            // adopt all elements of the first group\n            const group = Iterable.first(this._groups.values());\n            for (const [, child] of group.children) {\n                child.parent = this;\n                this.children.set(child.id, child);\n            }\n        }\n        return this;\n    }\n    getTopLevelSymbols() {\n        const roots = [];\n        for (const child of this.children.values()) {\n            if (child instanceof OutlineElement) {\n                roots.push(child.symbol);\n            }\n            else {\n                roots.push(...Iterable.map(child.children.values(), child => child.symbol));\n            }\n        }\n        return roots.sort((a, b) => Range.compareRangesUsingStarts(a.range, b.range));\n    }\n    asListOfDocumentSymbols() {\n        const roots = this.getTopLevelSymbols();\n        const bucket = [];\n        OutlineModel._flattenDocumentSymbols(bucket, roots, '');\n        return bucket.sort((a, b) => Position.compare(Range.getStartPosition(a.range), Range.getStartPosition(b.range)) || Position.compare(Range.getEndPosition(b.range), Range.getEndPosition(a.range)));\n    }\n    static _flattenDocumentSymbols(bucket, entries, overrideContainerLabel) {\n        for (const entry of entries) {\n            bucket.push({\n                kind: entry.kind,\n                tags: entry.tags,\n                name: entry.name,\n                detail: entry.detail,\n                containerName: entry.containerName || overrideContainerLabel,\n                range: entry.range,\n                selectionRange: entry.selectionRange,\n                children: undefined, // we flatten it...\n            });\n            // Recurse over children\n            if (entry.children) {\n                OutlineModel._flattenDocumentSymbols(bucket, entry.children, entry.name);\n            }\n        }\n    }\n}\nexport const IOutlineModelService = createDecorator('IOutlineModelService');\nexport let OutlineModelService = class OutlineModelService {\n    constructor(_languageFeaturesService, debounces, modelService) {\n        this._languageFeaturesService = _languageFeaturesService;\n        this._disposables = new DisposableStore();\n        this._cache = new LRUCache(10, 0.7);\n        this._debounceInformation = debounces.for(_languageFeaturesService.documentSymbolProvider, 'DocumentSymbols', { min: 350 });\n        // don't cache outline models longer than their text model\n        this._disposables.add(modelService.onModelRemoved(textModel => {\n            this._cache.delete(textModel.id);\n        }));\n    }\n    dispose() {\n        this._disposables.dispose();\n    }\n    getOrCreate(textModel, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const registry = this._languageFeaturesService.documentSymbolProvider;\n            const provider = registry.ordered(textModel);\n            let data = this._cache.get(textModel.id);\n            if (!data || data.versionId !== textModel.getVersionId() || !equals(data.provider, provider)) {\n                const source = new CancellationTokenSource();\n                data = {\n                    versionId: textModel.getVersionId(),\n                    provider,\n                    promiseCnt: 0,\n                    source,\n                    promise: OutlineModel.create(registry, textModel, source.token),\n                    model: undefined,\n                };\n                this._cache.set(textModel.id, data);\n                const now = Date.now();\n                data.promise.then(outlineModel => {\n                    data.model = outlineModel;\n                    this._debounceInformation.update(textModel, Date.now() - now);\n                }).catch(_err => {\n                    this._cache.delete(textModel.id);\n                });\n            }\n            if (data.model) {\n                // resolved -> return data\n                return data.model;\n            }\n            // increase usage counter\n            data.promiseCnt += 1;\n            const listener = token.onCancellationRequested(() => {\n                // last -> cancel provider request, remove cached promise\n                if (--data.promiseCnt === 0) {\n                    data.source.cancel();\n                    this._cache.delete(textModel.id);\n                }\n            });\n            try {\n                return yield data.promise;\n            }\n            finally {\n                listener.dispose();\n            }\n        });\n    }\n};\nOutlineModelService = __decorate([\n    __param(0, ILanguageFeaturesService),\n    __param(1, ILanguageFeatureDebounceService),\n    __param(2, IModelService)\n], OutlineModelService);\nregisterSingleton(IOutlineModelService, OutlineModelService, 1 /* InstantiationType.Delayed */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { ResourceTextEdit } from '../../../browser/services/bulkEditService.js';\nexport function createCombinedWorkspaceEdit(uri, ranges, edit) {\n    var _a, _b;\n    return {\n        edits: [\n            ...ranges.map(range => new ResourceTextEdit(uri, typeof edit.insertText === 'string'\n                ? { range, text: edit.insertText, insertAsSnippet: false }\n                : { range, text: edit.insertText.snippet, insertAsSnippet: true })),\n            ...((_b = (_a = edit.additionalEdit) === null || _a === void 0 ? void 0 : _a.edits) !== null && _b !== void 0 ? _b : [])\n        ]\n    };\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { addDisposableListener } from '../../../../base/browser/dom.js';\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { createCancelablePromise, raceCancellation } from '../../../../base/common/async.js';\nimport { UriList, createStringDataTransferItem, matchesMimeType } from '../../../../base/common/dataTransfer.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Mimes } from '../../../../base/common/mime.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport { toExternalVSDataTransfer, toVSDataTransfer } from '../../../browser/dnd.js';\nimport { IBulkEditService } from '../../../browser/services/bulkEditService.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { createCombinedWorkspaceEdit } from './edit.js';\nimport { EditorStateCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { InlineProgressManager } from '../../inlineProgress/browser/inlineProgress.js';\nimport { localize } from '../../../../nls.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IProgressService } from '../../../../platform/progress/common/progress.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { PostEditWidgetManager } from './postEditWidget.js';\nexport const changePasteTypeCommandId = 'editor.changePasteType';\nexport const pasteWidgetVisibleCtx = new RawContextKey('pasteWidgetVisible', false, localize('pasteWidgetVisible', \"Whether the paste widget is showing\"));\nconst vscodeClipboardMime = 'application/vnd.code.copyMetadata';\nexport let CopyPasteController = class CopyPasteController extends Disposable {\n    static get(editor) {\n        return editor.getContribution(CopyPasteController.ID);\n    }\n    constructor(editor, instantiationService, _bulkEditService, _clipboardService, _languageFeaturesService, _quickInputService, _progressService) {\n        super();\n        this._bulkEditService = _bulkEditService;\n        this._clipboardService = _clipboardService;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._quickInputService = _quickInputService;\n        this._progressService = _progressService;\n        this._editor = editor;\n        const container = editor.getContainerDomNode();\n        this._register(addDisposableListener(container, 'copy', e => this.handleCopy(e)));\n        this._register(addDisposableListener(container, 'cut', e => this.handleCopy(e)));\n        this._register(addDisposableListener(container, 'paste', e => this.handlePaste(e), true));\n        this._pasteProgressManager = this._register(new InlineProgressManager('pasteIntoEditor', editor, instantiationService));\n        this._postPasteWidgetManager = this._register(instantiationService.createInstance(PostEditWidgetManager, 'pasteIntoEditor', editor, pasteWidgetVisibleCtx, { id: changePasteTypeCommandId, label: localize('postPasteWidgetTitle', \"Show paste options...\") }));\n    }\n    changePasteType() {\n        this._postPasteWidgetManager.tryShowSelector();\n    }\n    pasteAs(preferredId) {\n        this._editor.focus();\n        try {\n            this._pasteAsActionContext = { preferredId };\n            document.execCommand('paste');\n        }\n        finally {\n            this._pasteAsActionContext = undefined;\n        }\n    }\n    isPasteAsEnabled() {\n        return this._editor.getOption(82 /* EditorOption.pasteAs */).enabled\n            && !this._editor.getOption(88 /* EditorOption.readOnly */);\n    }\n    handleCopy(e) {\n        var _a, _b;\n        if (!e.clipboardData || !this._editor.hasTextFocus() || !this.isPasteAsEnabled()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        const selections = this._editor.getSelections();\n        if (!model || !(selections === null || selections === void 0 ? void 0 : selections.length)) {\n            return;\n        }\n        const enableEmptySelectionClipboard = this._editor.getOption(35 /* EditorOption.emptySelectionClipboard */);\n        let ranges = selections;\n        const wasFromEmptySelection = selections.length === 1 && selections[0].isEmpty();\n        if (wasFromEmptySelection) {\n            if (!enableEmptySelectionClipboard) {\n                return;\n            }\n            ranges = [new Range(ranges[0].startLineNumber, 1, ranges[0].startLineNumber, 1 + model.getLineLength(ranges[0].startLineNumber))];\n        }\n        const toCopy = (_a = this._editor._getViewModel()) === null || _a === void 0 ? void 0 : _a.getPlainTextToCopy(selections, enableEmptySelectionClipboard, platform.isWindows);\n        const multicursorText = Array.isArray(toCopy) ? toCopy : null;\n        const defaultPastePayload = {\n            multicursorText,\n            pasteOnNewLine: wasFromEmptySelection,\n            mode: null\n        };\n        const providers = this._languageFeaturesService.documentPasteEditProvider\n            .ordered(model)\n            .filter(x => !!x.prepareDocumentPaste);\n        if (!providers.length) {\n            this.setCopyMetadata(e.clipboardData, { defaultPastePayload });\n            return;\n        }\n        const dataTransfer = toVSDataTransfer(e.clipboardData);\n        const providerCopyMimeTypes = providers.flatMap(x => { var _a; return (_a = x.copyMimeTypes) !== null && _a !== void 0 ? _a : []; });\n        // Save off a handle pointing to data that VS Code maintains.\n        const handle = generateUuid();\n        this.setCopyMetadata(e.clipboardData, {\n            id: handle,\n            providerCopyMimeTypes,\n            defaultPastePayload\n        });\n        const promise = createCancelablePromise((token) => __awaiter(this, void 0, void 0, function* () {\n            const results = coalesce(yield Promise.all(providers.map((provider) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    return yield provider.prepareDocumentPaste(model, ranges, dataTransfer, token);\n                }\n                catch (err) {\n                    console.error(err);\n                    return undefined;\n                }\n            }))));\n            // Values from higher priority providers should overwrite values from lower priority ones.\n            // Reverse the array to so that the calls to `replace` below will do this\n            results.reverse();\n            for (const result of results) {\n                for (const [mime, value] of result) {\n                    dataTransfer.replace(mime, value);\n                }\n            }\n            return dataTransfer;\n        }));\n        (_b = this._currentCopyOperation) === null || _b === void 0 ? void 0 : _b.dataTransferPromise.cancel();\n        this._currentCopyOperation = { handle: handle, dataTransferPromise: promise };\n    }\n    handlePaste(e) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!e.clipboardData || !this._editor.hasTextFocus()) {\n                return;\n            }\n            (_a = this._currentPasteOperation) === null || _a === void 0 ? void 0 : _a.cancel();\n            this._currentPasteOperation = undefined;\n            const model = this._editor.getModel();\n            const selections = this._editor.getSelections();\n            if (!(selections === null || selections === void 0 ? void 0 : selections.length) || !model) {\n                return;\n            }\n            if (!this.isPasteAsEnabled()) {\n                return;\n            }\n            const metadata = this.fetchCopyMetadata(e.clipboardData);\n            const dataTransfer = toExternalVSDataTransfer(e.clipboardData);\n            dataTransfer.delete(vscodeClipboardMime);\n            const allPotentialMimeTypes = [\n                ...e.clipboardData.types,\n                ...(_b = metadata === null || metadata === void 0 ? void 0 : metadata.providerCopyMimeTypes) !== null && _b !== void 0 ? _b : [],\n                // TODO: always adds `uri-list` because this get set if there are resources in the system clipboard.\n                // However we can only check the system clipboard async. For this early check, just add it in.\n                // We filter providers again once we have the final dataTransfer we will use.\n                Mimes.uriList,\n            ];\n            const allProviders = this._languageFeaturesService.documentPasteEditProvider\n                .ordered(model)\n                .filter(provider => { var _a; return (_a = provider.pasteMimeTypes) === null || _a === void 0 ? void 0 : _a.some(type => matchesMimeType(type, allPotentialMimeTypes)); });\n            if (!allProviders.length) {\n                return;\n            }\n            // Prevent the editor's default paste handler from running.\n            // Note that after this point, we are fully responsible for handling paste.\n            // If we can't provider a paste for any reason, we need to explicitly delegate pasting back to the editor.\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            if (this._pasteAsActionContext) {\n                this.showPasteAsPick(this._pasteAsActionContext.preferredId, allProviders, selections, dataTransfer, metadata);\n            }\n            else {\n                this.doPasteInline(allProviders, selections, dataTransfer, metadata);\n            }\n        });\n    }\n    doPasteInline(allProviders, selections, dataTransfer, metadata) {\n        const p = createCancelablePromise((token) => __awaiter(this, void 0, void 0, function* () {\n            const editor = this._editor;\n            if (!editor.hasModel()) {\n                return;\n            }\n            const model = editor.getModel();\n            const tokenSource = new EditorStateCancellationTokenSource(editor, 1 /* CodeEditorStateFlag.Value */ | 2 /* CodeEditorStateFlag.Selection */, undefined, token);\n            try {\n                yield this.mergeInDataFromCopy(dataTransfer, metadata, tokenSource.token);\n                if (tokenSource.token.isCancellationRequested) {\n                    return;\n                }\n                // Filter out any providers the don't match the full data transfer we will send them.\n                const supportedProviders = allProviders.filter(provider => isSupportedPasteProvider(provider, dataTransfer));\n                if (!supportedProviders.length\n                    || (supportedProviders.length === 1 && supportedProviders[0].id === 'text') // Only our default text provider is active\n                ) {\n                    yield this.applyDefaultPasteHandler(dataTransfer, metadata, tokenSource.token);\n                    return;\n                }\n                const providerEdits = yield this.getPasteEdits(supportedProviders, dataTransfer, model, selections, tokenSource.token);\n                if (tokenSource.token.isCancellationRequested) {\n                    return;\n                }\n                if (providerEdits.length) {\n                    const canShowWidget = editor.getOption(82 /* EditorOption.pasteAs */).showPasteSelector === 'afterPaste';\n                    return this._postPasteWidgetManager.applyEditAndShowIfNeeded(selections, { activeEditIndex: 0, allEdits: providerEdits }, canShowWidget, tokenSource.token);\n                }\n                yield this.applyDefaultPasteHandler(dataTransfer, metadata, tokenSource.token);\n            }\n            finally {\n                tokenSource.dispose();\n                if (this._currentPasteOperation === p) {\n                    this._currentPasteOperation = undefined;\n                }\n            }\n        }));\n        this._pasteProgressManager.showWhile(selections[0].getEndPosition(), localize('pasteIntoEditorProgress', \"Running paste handlers. Click to cancel\"), p);\n        this._currentPasteOperation = p;\n    }\n    showPasteAsPick(preferredId, allProviders, selections, dataTransfer, metadata) {\n        const p = createCancelablePromise((token) => __awaiter(this, void 0, void 0, function* () {\n            const editor = this._editor;\n            if (!editor.hasModel()) {\n                return;\n            }\n            const model = editor.getModel();\n            const tokenSource = new EditorStateCancellationTokenSource(editor, 1 /* CodeEditorStateFlag.Value */ | 2 /* CodeEditorStateFlag.Selection */, undefined, token);\n            try {\n                yield this.mergeInDataFromCopy(dataTransfer, metadata, tokenSource.token);\n                if (tokenSource.token.isCancellationRequested) {\n                    return;\n                }\n                // Filter out any providers the don't match the full data transfer we will send them.\n                const supportedProviders = allProviders.filter(provider => isSupportedPasteProvider(provider, dataTransfer));\n                const providerEdits = yield this.getPasteEdits(supportedProviders, dataTransfer, model, selections, tokenSource.token);\n                if (tokenSource.token.isCancellationRequested) {\n                    return;\n                }\n                if (!providerEdits.length) {\n                    return;\n                }\n                let pickedEdit;\n                if (typeof preferredId === 'string') {\n                    // We are looking for a specific edit\n                    pickedEdit = providerEdits.find(edit => edit.id === preferredId);\n                }\n                else {\n                    const selected = yield this._quickInputService.pick(providerEdits.map((edit) => ({\n                        label: edit.label,\n                        description: edit.id,\n                        detail: edit.detail,\n                        edit,\n                    })), {\n                        placeHolder: localize('pasteAsPickerPlaceholder', \"Select Paste Action\"),\n                    });\n                    pickedEdit = selected === null || selected === void 0 ? void 0 : selected.edit;\n                }\n                if (!pickedEdit) {\n                    return;\n                }\n                const combinedWorkspaceEdit = createCombinedWorkspaceEdit(model.uri, selections, pickedEdit);\n                yield this._bulkEditService.apply(combinedWorkspaceEdit, { editor: this._editor });\n            }\n            finally {\n                tokenSource.dispose();\n                if (this._currentPasteOperation === p) {\n                    this._currentPasteOperation = undefined;\n                }\n            }\n        }));\n        this._progressService.withProgress({\n            location: 10 /* ProgressLocation.Window */,\n            title: localize('pasteAsProgress', \"Running paste handlers\"),\n        }, () => p);\n    }\n    setCopyMetadata(dataTransfer, metadata) {\n        dataTransfer.setData(vscodeClipboardMime, JSON.stringify(metadata));\n    }\n    fetchCopyMetadata(dataTransfer) {\n        const rawMetadata = dataTransfer.getData(vscodeClipboardMime);\n        if (rawMetadata) {\n            try {\n                return JSON.parse(rawMetadata);\n            }\n            catch (_a) {\n                return undefined;\n            }\n        }\n        return undefined;\n    }\n    mergeInDataFromCopy(dataTransfer, metadata, token) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if ((metadata === null || metadata === void 0 ? void 0 : metadata.id) && ((_a = this._currentCopyOperation) === null || _a === void 0 ? void 0 : _a.handle) === metadata.id) {\n                const toMergeDataTransfer = yield this._currentCopyOperation.dataTransferPromise;\n                if (token.isCancellationRequested) {\n                    return;\n                }\n                for (const [key, value] of toMergeDataTransfer) {\n                    dataTransfer.replace(key, value);\n                }\n            }\n            if (!dataTransfer.has(Mimes.uriList)) {\n                const resources = yield this._clipboardService.readResources();\n                if (token.isCancellationRequested) {\n                    return;\n                }\n                if (resources.length) {\n                    dataTransfer.append(Mimes.uriList, createStringDataTransferItem(UriList.create(resources)));\n                }\n            }\n        });\n    }\n    getPasteEdits(providers, dataTransfer, model, selections, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = yield raceCancellation(Promise.all(providers.map(provider => {\n                var _a;\n                try {\n                    return (_a = provider.provideDocumentPasteEdits) === null || _a === void 0 ? void 0 : _a.call(provider, model, selections, dataTransfer, token);\n                }\n                catch (err) {\n                    console.error(err);\n                    return undefined;\n                }\n            })).then(coalesce), token);\n            result === null || result === void 0 ? void 0 : result.sort((a, b) => b.priority - a.priority);\n            return result !== null && result !== void 0 ? result : [];\n        });\n    }\n    applyDefaultPasteHandler(dataTransfer, metadata, token) {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            const textDataTransfer = (_a = dataTransfer.get(Mimes.text)) !== null && _a !== void 0 ? _a : dataTransfer.get('text');\n            if (!textDataTransfer) {\n                return;\n            }\n            const text = yield textDataTransfer.asString();\n            if (token.isCancellationRequested) {\n                return;\n            }\n            const payload = {\n                text,\n                pasteOnNewLine: (_b = metadata === null || metadata === void 0 ? void 0 : metadata.defaultPastePayload.pasteOnNewLine) !== null && _b !== void 0 ? _b : false,\n                multicursorText: (_c = metadata === null || metadata === void 0 ? void 0 : metadata.defaultPastePayload.multicursorText) !== null && _c !== void 0 ? _c : null,\n                mode: null,\n            };\n            this._editor.trigger('keyboard', \"paste\" /* Handler.Paste */, payload);\n        });\n    }\n};\nCopyPasteController.ID = 'editor.contrib.copyPasteActionController';\nCopyPasteController = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IBulkEditService),\n    __param(3, IClipboardService),\n    __param(4, ILanguageFeaturesService),\n    __param(5, IQuickInputService),\n    __param(6, IProgressService)\n], CopyPasteController);\nfunction isSupportedPasteProvider(provider, dataTransfer) {\n    var _a;\n    return Boolean((_a = provider.pasteMimeTypes) === null || _a === void 0 ? void 0 : _a.some(type => dataTransfer.matches(type)));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { registerEditorFeature } from '../../../common/editorFeatures.js';\nimport { CopyPasteController, changePasteTypeCommandId, pasteWidgetVisibleCtx } from './copyPasteController.js';\nimport { DefaultPasteProvidersFeature } from './defaultProviders.js';\nimport * as nls from '../../../../nls.js';\nregisterEditorContribution(CopyPasteController.ID, CopyPasteController, 0 /* EditorContributionInstantiation.Eager */); // eager because it listens to events on the container dom node of the editor\nregisterEditorFeature(DefaultPasteProvidersFeature);\nregisterEditorCommand(new class extends EditorCommand {\n    constructor() {\n        super({\n            id: changePasteTypeCommandId,\n            precondition: pasteWidgetVisibleCtx,\n            kbOpts: {\n                weight: 100 /* KeybindingWeight.EditorContrib */,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 89 /* KeyCode.Period */,\n            }\n        });\n    }\n    runEditorCommand(_accessor, editor, _args) {\n        var _a;\n        return (_a = CopyPasteController.get(editor)) === null || _a === void 0 ? void 0 : _a.changePasteType();\n    }\n});\nregisterEditorAction(class extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.pasteAs',\n            label: nls.localize('pasteAs', \"Paste As...\"),\n            alias: 'Paste As...',\n            precondition: undefined,\n            description: {\n                description: 'Paste as',\n                args: [{\n                        name: 'args',\n                        schema: {\n                            type: 'object',\n                            properties: {\n                                'id': {\n                                    type: 'string',\n                                    description: nls.localize('pasteAs.id', \"The id of the paste edit to try applying. If not provided, the editor will show a picker.\"),\n                                }\n                            },\n                        }\n                    }]\n            }\n        });\n    }\n    run(_accessor, editor, args) {\n        var _a;\n        const id = typeof (args === null || args === void 0 ? void 0 : args.id) === 'string' ? args.id : undefined;\n        return (_a = CopyPasteController.get(editor)) === null || _a === void 0 ? void 0 : _a.pasteAs(id);\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { UriList } from '../../../../base/common/dataTransfer.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Mimes } from '../../../../base/common/mime.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { relativePath } from '../../../../base/common/resources.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { localize } from '../../../../nls.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nconst builtInLabel = localize('builtIn', 'Built-in');\nclass SimplePasteAndDropProvider {\n    provideDocumentPasteEdits(_model, _ranges, dataTransfer, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const edit = yield this.getEdit(dataTransfer, token);\n            return edit ? { id: this.id, insertText: edit.insertText, label: edit.label, detail: edit.detail, priority: edit.priority } : undefined;\n        });\n    }\n    provideDocumentOnDropEdits(_model, _position, dataTransfer, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const edit = yield this.getEdit(dataTransfer, token);\n            return edit ? { id: this.id, insertText: edit.insertText, label: edit.label, priority: edit.priority } : undefined;\n        });\n    }\n}\nclass DefaultTextProvider extends SimplePasteAndDropProvider {\n    constructor() {\n        super(...arguments);\n        this.id = 'text';\n        this.dropMimeTypes = [Mimes.text];\n        this.pasteMimeTypes = [Mimes.text];\n    }\n    getEdit(dataTransfer, _token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const textEntry = dataTransfer.get(Mimes.text);\n            if (!textEntry) {\n                return;\n            }\n            // Suppress if there's also a uriList entry.\n            // Typically the uri-list contains the same text as the text entry so showing both is confusing.\n            if (dataTransfer.has(Mimes.uriList)) {\n                return;\n            }\n            const insertText = yield textEntry.asString();\n            return {\n                id: this.id,\n                priority: 0,\n                label: localize('text.label', \"Insert Plain Text\"),\n                detail: builtInLabel,\n                insertText\n            };\n        });\n    }\n}\nclass PathProvider extends SimplePasteAndDropProvider {\n    constructor() {\n        super(...arguments);\n        this.id = 'uri';\n        this.dropMimeTypes = [Mimes.uriList];\n        this.pasteMimeTypes = [Mimes.uriList];\n    }\n    getEdit(dataTransfer, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const entries = yield extractUriList(dataTransfer);\n            if (!entries.length || token.isCancellationRequested) {\n                return;\n            }\n            let uriCount = 0;\n            const insertText = entries\n                .map(({ uri, originalText }) => {\n                if (uri.scheme === Schemas.file) {\n                    return uri.fsPath;\n                }\n                else {\n                    uriCount++;\n                    return originalText;\n                }\n            })\n                .join(' ');\n            let label;\n            if (uriCount > 0) {\n                // Dropping at least one generic uri (such as https) so use most generic label\n                label = entries.length > 1\n                    ? localize('defaultDropProvider.uriList.uris', \"Insert Uris\")\n                    : localize('defaultDropProvider.uriList.uri', \"Insert Uri\");\n            }\n            else {\n                // All the paths are file paths\n                label = entries.length > 1\n                    ? localize('defaultDropProvider.uriList.paths', \"Insert Paths\")\n                    : localize('defaultDropProvider.uriList.path', \"Insert Path\");\n            }\n            return {\n                id: this.id,\n                priority: 0,\n                insertText,\n                label,\n                detail: builtInLabel,\n            };\n        });\n    }\n}\nlet RelativePathProvider = class RelativePathProvider extends SimplePasteAndDropProvider {\n    constructor(_workspaceContextService) {\n        super();\n        this._workspaceContextService = _workspaceContextService;\n        this.id = 'relativePath';\n        this.dropMimeTypes = [Mimes.uriList];\n        this.pasteMimeTypes = [Mimes.uriList];\n    }\n    getEdit(dataTransfer, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const entries = yield extractUriList(dataTransfer);\n            if (!entries.length || token.isCancellationRequested) {\n                return;\n            }\n            const relativeUris = coalesce(entries.map(({ uri }) => {\n                const root = this._workspaceContextService.getWorkspaceFolder(uri);\n                return root ? relativePath(root.uri, uri) : undefined;\n            }));\n            if (!relativeUris.length) {\n                return;\n            }\n            return {\n                id: this.id,\n                priority: 0,\n                insertText: relativeUris.join(' '),\n                label: entries.length > 1\n                    ? localize('defaultDropProvider.uriList.relativePaths', \"Insert Relative Paths\")\n                    : localize('defaultDropProvider.uriList.relativePath', \"Insert Relative Path\"),\n                detail: builtInLabel,\n            };\n        });\n    }\n};\nRelativePathProvider = __decorate([\n    __param(0, IWorkspaceContextService)\n], RelativePathProvider);\nfunction extractUriList(dataTransfer) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const urlListEntry = dataTransfer.get(Mimes.uriList);\n        if (!urlListEntry) {\n            return [];\n        }\n        const strUriList = yield urlListEntry.asString();\n        const entries = [];\n        for (const entry of UriList.parse(strUriList)) {\n            try {\n                entries.push({ uri: URI.parse(entry), originalText: entry });\n            }\n            catch (_a) {\n                // noop\n            }\n        }\n        return entries;\n    });\n}\nexport let DefaultDropProvidersFeature = class DefaultDropProvidersFeature extends Disposable {\n    constructor(languageFeaturesService, workspaceContextService) {\n        super();\n        this._register(languageFeaturesService.documentOnDropEditProvider.register('*', new DefaultTextProvider()));\n        this._register(languageFeaturesService.documentOnDropEditProvider.register('*', new PathProvider()));\n        this._register(languageFeaturesService.documentOnDropEditProvider.register('*', new RelativePathProvider(workspaceContextService)));\n    }\n};\nDefaultDropProvidersFeature = __decorate([\n    __param(0, ILanguageFeaturesService),\n    __param(1, IWorkspaceContextService)\n], DefaultDropProvidersFeature);\nexport let DefaultPasteProvidersFeature = class DefaultPasteProvidersFeature extends Disposable {\n    constructor(languageFeaturesService, workspaceContextService) {\n        super();\n        this._register(languageFeaturesService.documentPasteEditProvider.register('*', new DefaultTextProvider()));\n        this._register(languageFeaturesService.documentPasteEditProvider.register('*', new PathProvider()));\n        this._register(languageFeaturesService.documentPasteEditProvider.register('*', new RelativePathProvider(workspaceContextService)));\n    }\n};\nDefaultPasteProvidersFeature = __decorate([\n    __param(0, ILanguageFeaturesService),\n    __param(1, IWorkspaceContextService)\n], DefaultPasteProvidersFeature);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { createCancelablePromise, raceCancellation } from '../../../../base/common/async.js';\nimport { VSDataTransfer } from '../../../../base/common/dataTransfer.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { toExternalVSDataTransfer } from '../../../browser/dnd.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { DraggedTreeItemsIdentifier } from '../../../common/services/treeViewsDnd.js';\nimport { ITreeViewsDnDService } from '../../../common/services/treeViewsDndService.js';\nimport { EditorStateCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { InlineProgressManager } from '../../inlineProgress/browser/inlineProgress.js';\nimport { localize } from '../../../../nls.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { LocalSelectionTransfer } from '../../../../platform/dnd/browser/dnd.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { PostEditWidgetManager } from './postEditWidget.js';\nexport const changeDropTypeCommandId = 'editor.changeDropType';\nexport const dropWidgetVisibleCtx = new RawContextKey('dropWidgetVisible', false, localize('dropWidgetVisible', \"Whether the drop widget is showing\"));\nexport let DropIntoEditorController = class DropIntoEditorController extends Disposable {\n    static get(editor) {\n        return editor.getContribution(DropIntoEditorController.ID);\n    }\n    constructor(editor, instantiationService, _languageFeaturesService, _treeViewsDragAndDropService) {\n        super();\n        this._languageFeaturesService = _languageFeaturesService;\n        this._treeViewsDragAndDropService = _treeViewsDragAndDropService;\n        this.treeItemsTransfer = LocalSelectionTransfer.getInstance();\n        this._dropProgressManager = this._register(instantiationService.createInstance(InlineProgressManager, 'dropIntoEditor', editor));\n        this._postDropWidgetManager = this._register(instantiationService.createInstance(PostEditWidgetManager, 'dropIntoEditor', editor, dropWidgetVisibleCtx, { id: changeDropTypeCommandId, label: localize('postDropWidgetTitle', \"Show drop options...\") }));\n        this._register(editor.onDropIntoEditor(e => this.onDropIntoEditor(editor, e.position, e.event)));\n    }\n    changeDropType() {\n        this._postDropWidgetManager.tryShowSelector();\n    }\n    onDropIntoEditor(editor, position, dragEvent) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!dragEvent.dataTransfer || !editor.hasModel()) {\n                return;\n            }\n            (_a = this._currentOperation) === null || _a === void 0 ? void 0 : _a.cancel();\n            editor.focus();\n            editor.setPosition(position);\n            const p = createCancelablePromise((token) => __awaiter(this, void 0, void 0, function* () {\n                const tokenSource = new EditorStateCancellationTokenSource(editor, 1 /* CodeEditorStateFlag.Value */, undefined, token);\n                try {\n                    const ourDataTransfer = yield this.extractDataTransferData(dragEvent);\n                    if (ourDataTransfer.size === 0 || tokenSource.token.isCancellationRequested) {\n                        return;\n                    }\n                    const model = editor.getModel();\n                    if (!model) {\n                        return;\n                    }\n                    const providers = this._languageFeaturesService.documentOnDropEditProvider\n                        .ordered(model)\n                        .filter(provider => {\n                        if (!provider.dropMimeTypes) {\n                            // Keep all providers that don't specify mime types\n                            return true;\n                        }\n                        return provider.dropMimeTypes.some(mime => ourDataTransfer.matches(mime));\n                    });\n                    const edits = yield this.getDropEdits(providers, model, position, ourDataTransfer, tokenSource);\n                    if (tokenSource.token.isCancellationRequested) {\n                        return;\n                    }\n                    if (edits.length) {\n                        const canShowWidget = editor.getOption(34 /* EditorOption.dropIntoEditor */).showDropSelector === 'afterDrop';\n                        // Pass in the parent token here as it tracks cancelling the entire drop operation\n                        yield this._postDropWidgetManager.applyEditAndShowIfNeeded([Range.fromPositions(position)], { activeEditIndex: 0, allEdits: edits }, canShowWidget, token);\n                    }\n                }\n                finally {\n                    tokenSource.dispose();\n                    if (this._currentOperation === p) {\n                        this._currentOperation = undefined;\n                    }\n                }\n            }));\n            this._dropProgressManager.showWhile(position, localize('dropIntoEditorProgress', \"Running drop handlers. Click to cancel\"), p);\n            this._currentOperation = p;\n        });\n    }\n    getDropEdits(providers, model, position, dataTransfer, tokenSource) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const results = yield raceCancellation(Promise.all(providers.map(provider => {\n                return provider.provideDocumentOnDropEdits(model, position, dataTransfer, tokenSource.token);\n            })), tokenSource.token);\n            const edits = coalesce(results !== null && results !== void 0 ? results : []);\n            edits.sort((a, b) => b.priority - a.priority);\n            return edits;\n        });\n    }\n    extractDataTransferData(dragEvent) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!dragEvent.dataTransfer) {\n                return new VSDataTransfer();\n            }\n            const dataTransfer = toExternalVSDataTransfer(dragEvent.dataTransfer);\n            if (this.treeItemsTransfer.hasData(DraggedTreeItemsIdentifier.prototype)) {\n                const data = this.treeItemsTransfer.getData(DraggedTreeItemsIdentifier.prototype);\n                if (Array.isArray(data)) {\n                    for (const id of data) {\n                        const treeDataTransfer = yield this._treeViewsDragAndDropService.removeDragOperationTransfer(id.identifier);\n                        if (treeDataTransfer) {\n                            for (const [type, value] of treeDataTransfer) {\n                                dataTransfer.replace(type, value);\n                            }\n                        }\n                    }\n                }\n            }\n            return dataTransfer;\n        });\n    }\n};\nDropIntoEditorController.ID = 'editor.contrib.dropIntoEditorController';\nDropIntoEditorController = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, ILanguageFeaturesService),\n    __param(3, ITreeViewsDnDService)\n], DropIntoEditorController);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorCommand, registerEditorCommand, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { registerEditorFeature } from '../../../common/editorFeatures.js';\nimport { DefaultDropProvidersFeature } from './defaultProviders.js';\nimport { DropIntoEditorController, changeDropTypeCommandId, dropWidgetVisibleCtx } from './dropIntoEditorController.js';\nregisterEditorContribution(DropIntoEditorController.ID, DropIntoEditorController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorCommand(new class extends EditorCommand {\n    constructor() {\n        super({\n            id: changeDropTypeCommandId,\n            precondition: dropWidgetVisibleCtx,\n            kbOpts: {\n                weight: 100 /* KeybindingWeight.EditorContrib */,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 89 /* KeyCode.Period */,\n            }\n        });\n    }\n    runEditorCommand(_accessor, editor, _args) {\n        var _a;\n        (_a = DropIntoEditorController.get(editor)) === null || _a === void 0 ? void 0 : _a.changeDropType();\n    }\n});\nregisterEditorFeature(DefaultDropProvidersFeature);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Button } from '../../../../base/browser/ui/button/button.js';\nimport { toAction } from '../../../../base/common/actions.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { Disposable, MutableDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport './postEditWidget.css';\nimport { IBulkEditService, ResourceTextEdit } from '../../../browser/services/bulkEditService.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nlet PostEditWidget = class PostEditWidget extends Disposable {\n    constructor(typeId, editor, visibleContext, showCommand, range, edits, onSelectNewEdit, _contextMenuService, contextKeyService, _keybindingService) {\n        super();\n        this.typeId = typeId;\n        this.editor = editor;\n        this.showCommand = showCommand;\n        this.range = range;\n        this.edits = edits;\n        this.onSelectNewEdit = onSelectNewEdit;\n        this._contextMenuService = _contextMenuService;\n        this._keybindingService = _keybindingService;\n        this.allowEditorOverflow = true;\n        this.suppressMouseDown = true;\n        this.create();\n        this.visibleContext = visibleContext.bindTo(contextKeyService);\n        this.visibleContext.set(true);\n        this._register(toDisposable(() => this.visibleContext.reset()));\n        this.editor.addContentWidget(this);\n        this.editor.layoutContentWidget(this);\n        this._register(toDisposable((() => this.editor.removeContentWidget(this))));\n        this._register(this.editor.onDidChangeCursorPosition(e => {\n            if (!range.containsPosition(e.position)) {\n                this.dispose();\n            }\n        }));\n        this._register(Event.runAndSubscribe(_keybindingService.onDidUpdateKeybindings, () => {\n            this._updateButtonTitle();\n        }));\n    }\n    _updateButtonTitle() {\n        var _a;\n        const binding = (_a = this._keybindingService.lookupKeybinding(this.showCommand.id)) === null || _a === void 0 ? void 0 : _a.getLabel();\n        this.button.element.title = this.showCommand.label + (binding ? ` (${binding})` : '');\n    }\n    create() {\n        this.domNode = dom.$('.post-edit-widget');\n        this.button = this._register(new Button(this.domNode, {\n            supportIcons: true,\n        }));\n        this.button.label = '$(insert)';\n        this._register(dom.addDisposableListener(this.domNode, dom.EventType.CLICK, () => this.showSelector()));\n    }\n    getId() {\n        return PostEditWidget.baseId + '.' + this.typeId;\n    }\n    getDomNode() {\n        return this.domNode;\n    }\n    getPosition() {\n        return {\n            position: this.range.getEndPosition(),\n            preference: [2 /* ContentWidgetPositionPreference.BELOW */]\n        };\n    }\n    showSelector() {\n        this._contextMenuService.showContextMenu({\n            getAnchor: () => {\n                const pos = dom.getDomNodePagePosition(this.button.element);\n                return { x: pos.left + pos.width, y: pos.top + pos.height };\n            },\n            getActions: () => {\n                return this.edits.allEdits.map((edit, i) => toAction({\n                    id: '',\n                    label: edit.label,\n                    checked: i === this.edits.activeEditIndex,\n                    run: () => {\n                        if (i !== this.edits.activeEditIndex) {\n                            return this.onSelectNewEdit(i);\n                        }\n                    },\n                }));\n            }\n        });\n    }\n};\nPostEditWidget.baseId = 'editor.widget.postEditWidget';\nPostEditWidget = __decorate([\n    __param(7, IContextMenuService),\n    __param(8, IContextKeyService),\n    __param(9, IKeybindingService)\n], PostEditWidget);\nexport let PostEditWidgetManager = class PostEditWidgetManager extends Disposable {\n    constructor(_id, _editor, _visibleContext, _showCommand, _instantiationService, _bulkEditService) {\n        super();\n        this._id = _id;\n        this._editor = _editor;\n        this._visibleContext = _visibleContext;\n        this._showCommand = _showCommand;\n        this._instantiationService = _instantiationService;\n        this._bulkEditService = _bulkEditService;\n        this._currentWidget = this._register(new MutableDisposable());\n        this._register(Event.any(_editor.onDidChangeModel, _editor.onDidChangeModelContent)(() => this.clear()));\n    }\n    applyEditAndShowIfNeeded(ranges, edits, canShowWidget, token) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            const model = this._editor.getModel();\n            if (!model || !ranges.length) {\n                return;\n            }\n            const edit = edits.allEdits[edits.activeEditIndex];\n            if (!edit) {\n                return;\n            }\n            const combinedWorkspaceEdit = {\n                edits: [\n                    ...ranges.map(range => new ResourceTextEdit(model.uri, typeof edit.insertText === 'string'\n                        ? { range, text: edit.insertText, insertAsSnippet: false }\n                        : { range, text: edit.insertText.snippet, insertAsSnippet: true })),\n                    ...((_b = (_a = edit.additionalEdit) === null || _a === void 0 ? void 0 : _a.edits) !== null && _b !== void 0 ? _b : [])\n                ]\n            };\n            // Use a decoration to track edits around the trigger range\n            const primaryRange = ranges[0];\n            const editTrackingDecoration = model.deltaDecorations([], [{\n                    range: primaryRange,\n                    options: { description: 'paste-line-suffix', stickiness: 0 /* TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges */ }\n                }]);\n            let editResult;\n            let editRange;\n            try {\n                editResult = yield this._bulkEditService.apply(combinedWorkspaceEdit, { editor: this._editor, token });\n                editRange = model.getDecorationRange(editTrackingDecoration[0]);\n            }\n            finally {\n                model.deltaDecorations(editTrackingDecoration, []);\n            }\n            if (canShowWidget && editResult.isApplied && edits.allEdits.length > 1) {\n                this.show(editRange !== null && editRange !== void 0 ? editRange : primaryRange, edits, (newEditIndex) => __awaiter(this, void 0, void 0, function* () {\n                    const model = this._editor.getModel();\n                    if (!model) {\n                        return;\n                    }\n                    yield model.undo();\n                    this.applyEditAndShowIfNeeded(ranges, { activeEditIndex: newEditIndex, allEdits: edits.allEdits }, canShowWidget, token);\n                }));\n            }\n        });\n    }\n    show(range, edits, onDidSelectEdit) {\n        this.clear();\n        if (this._editor.hasModel()) {\n            this._currentWidget.value = this._instantiationService.createInstance(PostEditWidget, this._id, this._editor, this._visibleContext, this._showCommand, range, edits, onDidSelectEdit);\n        }\n    }\n    clear() {\n        this._currentWidget.clear();\n    }\n    tryShowSelector() {\n        var _a;\n        (_a = this._currentWidget.value) === null || _a === void 0 ? void 0 : _a.showSelector();\n    }\n};\nPostEditWidgetManager = __decorate([\n    __param(4, IInstantiationService),\n    __param(5, IBulkEditService)\n], PostEditWidgetManager);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorCommand, registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { LinkedList } from '../../../../base/common/linkedList.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { localize } from '../../../../nls.js';\nconst IEditorCancellationTokens = createDecorator('IEditorCancelService');\nconst ctxCancellableOperation = new RawContextKey('cancellableOperation', false, localize('cancellableOperation', 'Whether the editor runs a cancellable operation, e.g. like \\'Peek References\\''));\nregisterSingleton(IEditorCancellationTokens, class {\n    constructor() {\n        this._tokens = new WeakMap();\n    }\n    add(editor, cts) {\n        let data = this._tokens.get(editor);\n        if (!data) {\n            data = editor.invokeWithinContext(accessor => {\n                const key = ctxCancellableOperation.bindTo(accessor.get(IContextKeyService));\n                const tokens = new LinkedList();\n                return { key, tokens };\n            });\n            this._tokens.set(editor, data);\n        }\n        let removeFn;\n        data.key.set(true);\n        removeFn = data.tokens.push(cts);\n        return () => {\n            // remove w/o cancellation\n            if (removeFn) {\n                removeFn();\n                data.key.set(!data.tokens.isEmpty());\n                removeFn = undefined;\n            }\n        };\n    }\n    cancel(editor) {\n        const data = this._tokens.get(editor);\n        if (!data) {\n            return;\n        }\n        // remove with cancellation\n        const cts = data.tokens.pop();\n        if (cts) {\n            cts.cancel();\n            data.key.set(!data.tokens.isEmpty());\n        }\n    }\n}, 1 /* InstantiationType.Delayed */);\nexport class EditorKeybindingCancellationTokenSource extends CancellationTokenSource {\n    constructor(editor, parent) {\n        super(parent);\n        this.editor = editor;\n        this._unregister = editor.invokeWithinContext(accessor => accessor.get(IEditorCancellationTokens).add(editor, this));\n    }\n    dispose() {\n        this._unregister();\n        super.dispose();\n    }\n}\nregisterEditorCommand(new class extends EditorCommand {\n    constructor() {\n        super({\n            id: 'editor.cancelOperation',\n            kbOpts: {\n                weight: 100 /* KeybindingWeight.EditorContrib */,\n                primary: 9 /* KeyCode.Escape */\n            },\n            precondition: ctxCancellableOperation\n        });\n    }\n    runEditorCommand(accessor, editor) {\n        accessor.get(IEditorCancellationTokens).cancel(editor);\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as strings from '../../../../base/common/strings.js';\nimport { Range } from '../../../common/core/range.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorKeybindingCancellationTokenSource } from './keybindingCancellation.js';\nexport class EditorState {\n    constructor(editor, flags) {\n        this.flags = flags;\n        if ((this.flags & 1 /* CodeEditorStateFlag.Value */) !== 0) {\n            const model = editor.getModel();\n            this.modelVersionId = model ? strings.format('{0}#{1}', model.uri.toString(), model.getVersionId()) : null;\n        }\n        else {\n            this.modelVersionId = null;\n        }\n        if ((this.flags & 4 /* CodeEditorStateFlag.Position */) !== 0) {\n            this.position = editor.getPosition();\n        }\n        else {\n            this.position = null;\n        }\n        if ((this.flags & 2 /* CodeEditorStateFlag.Selection */) !== 0) {\n            this.selection = editor.getSelection();\n        }\n        else {\n            this.selection = null;\n        }\n        if ((this.flags & 8 /* CodeEditorStateFlag.Scroll */) !== 0) {\n            this.scrollLeft = editor.getScrollLeft();\n            this.scrollTop = editor.getScrollTop();\n        }\n        else {\n            this.scrollLeft = -1;\n            this.scrollTop = -1;\n        }\n    }\n    _equals(other) {\n        if (!(other instanceof EditorState)) {\n            return false;\n        }\n        const state = other;\n        if (this.modelVersionId !== state.modelVersionId) {\n            return false;\n        }\n        if (this.scrollLeft !== state.scrollLeft || this.scrollTop !== state.scrollTop) {\n            return false;\n        }\n        if (!this.position && state.position || this.position && !state.position || this.position && state.position && !this.position.equals(state.position)) {\n            return false;\n        }\n        if (!this.selection && state.selection || this.selection && !state.selection || this.selection && state.selection && !this.selection.equalsRange(state.selection)) {\n            return false;\n        }\n        return true;\n    }\n    validate(editor) {\n        return this._equals(new EditorState(editor, this.flags));\n    }\n}\n/**\n * A cancellation token source that cancels when the editor changes as expressed\n * by the provided flags\n * @param range If provided, changes in position and selection within this range will not trigger cancellation\n */\nexport class EditorStateCancellationTokenSource extends EditorKeybindingCancellationTokenSource {\n    constructor(editor, flags, range, parent) {\n        super(editor, parent);\n        this._listener = new DisposableStore();\n        if (flags & 4 /* CodeEditorStateFlag.Position */) {\n            this._listener.add(editor.onDidChangeCursorPosition(e => {\n                if (!range || !Range.containsPosition(range, e.position)) {\n                    this.cancel();\n                }\n            }));\n        }\n        if (flags & 2 /* CodeEditorStateFlag.Selection */) {\n            this._listener.add(editor.onDidChangeCursorSelection(e => {\n                if (!range || !Range.containsRange(range, e.selection)) {\n                    this.cancel();\n                }\n            }));\n        }\n        if (flags & 8 /* CodeEditorStateFlag.Scroll */) {\n            this._listener.add(editor.onDidScrollChange(_ => this.cancel()));\n        }\n        if (flags & 1 /* CodeEditorStateFlag.Value */) {\n            this._listener.add(editor.onDidChangeModel(_ => this.cancel()));\n            this._listener.add(editor.onDidChangeModelContent(_ => this.cancel()));\n        }\n    }\n    dispose() {\n        this._listener.dispose();\n        super.dispose();\n    }\n}\n/**\n * A cancellation token source that cancels when the provided model changes\n */\nexport class TextModelCancellationTokenSource extends CancellationTokenSource {\n    constructor(model, parent) {\n        super(parent);\n        this._listener = model.onDidChangeContent(() => this.cancel());\n    }\n    dispose() {\n        this._listener.dispose();\n        super.dispose();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../../../common/core/range.js';\nimport { MinimapPosition, OverviewRulerLane } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { minimapFindMatch, overviewRulerFindMatchForeground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nexport class FindDecorations {\n    constructor(editor) {\n        this._editor = editor;\n        this._decorations = [];\n        this._overviewRulerApproximateDecorations = [];\n        this._findScopeDecorationIds = [];\n        this._rangeHighlightDecorationId = null;\n        this._highlightedDecorationId = null;\n        this._startPosition = this._editor.getPosition();\n    }\n    dispose() {\n        this._editor.removeDecorations(this._allDecorations());\n        this._decorations = [];\n        this._overviewRulerApproximateDecorations = [];\n        this._findScopeDecorationIds = [];\n        this._rangeHighlightDecorationId = null;\n        this._highlightedDecorationId = null;\n    }\n    reset() {\n        this._decorations = [];\n        this._overviewRulerApproximateDecorations = [];\n        this._findScopeDecorationIds = [];\n        this._rangeHighlightDecorationId = null;\n        this._highlightedDecorationId = null;\n    }\n    getCount() {\n        return this._decorations.length;\n    }\n    /** @deprecated use getFindScopes to support multiple selections */\n    getFindScope() {\n        if (this._findScopeDecorationIds[0]) {\n            return this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]);\n        }\n        return null;\n    }\n    getFindScopes() {\n        if (this._findScopeDecorationIds.length) {\n            const scopes = this._findScopeDecorationIds.map(findScopeDecorationId => this._editor.getModel().getDecorationRange(findScopeDecorationId)).filter(element => !!element);\n            if (scopes.length) {\n                return scopes;\n            }\n        }\n        return null;\n    }\n    getStartPosition() {\n        return this._startPosition;\n    }\n    setStartPosition(newStartPosition) {\n        this._startPosition = newStartPosition;\n        this.setCurrentFindMatch(null);\n    }\n    _getDecorationIndex(decorationId) {\n        const index = this._decorations.indexOf(decorationId);\n        if (index >= 0) {\n            return index + 1;\n        }\n        return 1;\n    }\n    getDecorationRangeAt(index) {\n        const decorationId = index < this._decorations.length ? this._decorations[index] : null;\n        if (decorationId) {\n            return this._editor.getModel().getDecorationRange(decorationId);\n        }\n        return null;\n    }\n    getCurrentMatchesPosition(desiredRange) {\n        const candidates = this._editor.getModel().getDecorationsInRange(desiredRange);\n        for (const candidate of candidates) {\n            const candidateOpts = candidate.options;\n            if (candidateOpts === FindDecorations._FIND_MATCH_DECORATION || candidateOpts === FindDecorations._CURRENT_FIND_MATCH_DECORATION) {\n                return this._getDecorationIndex(candidate.id);\n            }\n        }\n        // We don't know the current match position, so returns zero to show '?' in find widget\n        return 0;\n    }\n    setCurrentFindMatch(nextMatch) {\n        let newCurrentDecorationId = null;\n        let matchPosition = 0;\n        if (nextMatch) {\n            for (let i = 0, len = this._decorations.length; i < len; i++) {\n                const range = this._editor.getModel().getDecorationRange(this._decorations[i]);\n                if (nextMatch.equalsRange(range)) {\n                    newCurrentDecorationId = this._decorations[i];\n                    matchPosition = (i + 1);\n                    break;\n                }\n            }\n        }\n        if (this._highlightedDecorationId !== null || newCurrentDecorationId !== null) {\n            this._editor.changeDecorations((changeAccessor) => {\n                if (this._highlightedDecorationId !== null) {\n                    changeAccessor.changeDecorationOptions(this._highlightedDecorationId, FindDecorations._FIND_MATCH_DECORATION);\n                    this._highlightedDecorationId = null;\n                }\n                if (newCurrentDecorationId !== null) {\n                    this._highlightedDecorationId = newCurrentDecorationId;\n                    changeAccessor.changeDecorationOptions(this._highlightedDecorationId, FindDecorations._CURRENT_FIND_MATCH_DECORATION);\n                }\n                if (this._rangeHighlightDecorationId !== null) {\n                    changeAccessor.removeDecoration(this._rangeHighlightDecorationId);\n                    this._rangeHighlightDecorationId = null;\n                }\n                if (newCurrentDecorationId !== null) {\n                    let rng = this._editor.getModel().getDecorationRange(newCurrentDecorationId);\n                    if (rng.startLineNumber !== rng.endLineNumber && rng.endColumn === 1) {\n                        const lineBeforeEnd = rng.endLineNumber - 1;\n                        const lineBeforeEndMaxColumn = this._editor.getModel().getLineMaxColumn(lineBeforeEnd);\n                        rng = new Range(rng.startLineNumber, rng.startColumn, lineBeforeEnd, lineBeforeEndMaxColumn);\n                    }\n                    this._rangeHighlightDecorationId = changeAccessor.addDecoration(rng, FindDecorations._RANGE_HIGHLIGHT_DECORATION);\n                }\n            });\n        }\n        return matchPosition;\n    }\n    set(findMatches, findScopes) {\n        this._editor.changeDecorations((accessor) => {\n            let findMatchesOptions = FindDecorations._FIND_MATCH_DECORATION;\n            const newOverviewRulerApproximateDecorations = [];\n            if (findMatches.length > 1000) {\n                // we go into a mode where the overview ruler gets \"approximate\" decorations\n                // the reason is that the overview ruler paints all the decorations in the file and we don't want to cause freezes\n                findMatchesOptions = FindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION;\n                // approximate a distance in lines where matches should be merged\n                const lineCount = this._editor.getModel().getLineCount();\n                const height = this._editor.getLayoutInfo().height;\n                const approxPixelsPerLine = height / lineCount;\n                const mergeLinesDelta = Math.max(2, Math.ceil(3 / approxPixelsPerLine));\n                // merge decorations as much as possible\n                let prevStartLineNumber = findMatches[0].range.startLineNumber;\n                let prevEndLineNumber = findMatches[0].range.endLineNumber;\n                for (let i = 1, len = findMatches.length; i < len; i++) {\n                    const range = findMatches[i].range;\n                    if (prevEndLineNumber + mergeLinesDelta >= range.startLineNumber) {\n                        if (range.endLineNumber > prevEndLineNumber) {\n                            prevEndLineNumber = range.endLineNumber;\n                        }\n                    }\n                    else {\n                        newOverviewRulerApproximateDecorations.push({\n                            range: new Range(prevStartLineNumber, 1, prevEndLineNumber, 1),\n                            options: FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION\n                        });\n                        prevStartLineNumber = range.startLineNumber;\n                        prevEndLineNumber = range.endLineNumber;\n                    }\n                }\n                newOverviewRulerApproximateDecorations.push({\n                    range: new Range(prevStartLineNumber, 1, prevEndLineNumber, 1),\n                    options: FindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION\n                });\n            }\n            // Find matches\n            const newFindMatchesDecorations = new Array(findMatches.length);\n            for (let i = 0, len = findMatches.length; i < len; i++) {\n                newFindMatchesDecorations[i] = {\n                    range: findMatches[i].range,\n                    options: findMatchesOptions\n                };\n            }\n            this._decorations = accessor.deltaDecorations(this._decorations, newFindMatchesDecorations);\n            // Overview ruler approximate decorations\n            this._overviewRulerApproximateDecorations = accessor.deltaDecorations(this._overviewRulerApproximateDecorations, newOverviewRulerApproximateDecorations);\n            // Range highlight\n            if (this._rangeHighlightDecorationId) {\n                accessor.removeDecoration(this._rangeHighlightDecorationId);\n                this._rangeHighlightDecorationId = null;\n            }\n            // Find scope\n            if (this._findScopeDecorationIds.length) {\n                this._findScopeDecorationIds.forEach(findScopeDecorationId => accessor.removeDecoration(findScopeDecorationId));\n                this._findScopeDecorationIds = [];\n            }\n            if (findScopes === null || findScopes === void 0 ? void 0 : findScopes.length) {\n                this._findScopeDecorationIds = findScopes.map(findScope => accessor.addDecoration(findScope, FindDecorations._FIND_SCOPE_DECORATION));\n            }\n        });\n    }\n    matchBeforePosition(position) {\n        if (this._decorations.length === 0) {\n            return null;\n        }\n        for (let i = this._decorations.length - 1; i >= 0; i--) {\n            const decorationId = this._decorations[i];\n            const r = this._editor.getModel().getDecorationRange(decorationId);\n            if (!r || r.endLineNumber > position.lineNumber) {\n                continue;\n            }\n            if (r.endLineNumber < position.lineNumber) {\n                return r;\n            }\n            if (r.endColumn > position.column) {\n                continue;\n            }\n            return r;\n        }\n        return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length - 1]);\n    }\n    matchAfterPosition(position) {\n        if (this._decorations.length === 0) {\n            return null;\n        }\n        for (let i = 0, len = this._decorations.length; i < len; i++) {\n            const decorationId = this._decorations[i];\n            const r = this._editor.getModel().getDecorationRange(decorationId);\n            if (!r || r.startLineNumber < position.lineNumber) {\n                continue;\n            }\n            if (r.startLineNumber > position.lineNumber) {\n                return r;\n            }\n            if (r.startColumn < position.column) {\n                continue;\n            }\n            return r;\n        }\n        return this._editor.getModel().getDecorationRange(this._decorations[0]);\n    }\n    _allDecorations() {\n        let result = [];\n        result = result.concat(this._decorations);\n        result = result.concat(this._overviewRulerApproximateDecorations);\n        if (this._findScopeDecorationIds.length) {\n            result.push(...this._findScopeDecorationIds);\n        }\n        if (this._rangeHighlightDecorationId) {\n            result.push(this._rangeHighlightDecorationId);\n        }\n        return result;\n    }\n}\nFindDecorations._CURRENT_FIND_MATCH_DECORATION = ModelDecorationOptions.register({\n    description: 'current-find-match',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    zIndex: 13,\n    className: 'currentFindMatch',\n    showIfCollapsed: true,\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerFindMatchForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapFindMatch),\n        position: MinimapPosition.Inline\n    }\n});\nFindDecorations._FIND_MATCH_DECORATION = ModelDecorationOptions.register({\n    description: 'find-match',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    zIndex: 10,\n    className: 'findMatch',\n    showIfCollapsed: true,\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerFindMatchForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapFindMatch),\n        position: MinimapPosition.Inline\n    }\n});\nFindDecorations._FIND_MATCH_NO_OVERVIEW_DECORATION = ModelDecorationOptions.register({\n    description: 'find-match-no-overview',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'findMatch',\n    showIfCollapsed: true\n});\nFindDecorations._FIND_MATCH_ONLY_OVERVIEW_DECORATION = ModelDecorationOptions.register({\n    description: 'find-match-only-overview',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerFindMatchForeground),\n        position: OverviewRulerLane.Center\n    }\n});\nFindDecorations._RANGE_HIGHLIGHT_DECORATION = ModelDecorationOptions.register({\n    description: 'find-range-highlight',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'rangeHighlight',\n    isWholeLine: true\n});\nFindDecorations._FIND_SCOPE_DECORATION = ModelDecorationOptions.register({\n    description: 'find-scope',\n    className: 'findScope',\n    isWholeLine: true\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../../../common/core/range.js';\nexport class ReplaceAllCommand {\n    constructor(editorSelection, ranges, replaceStrings) {\n        this._editorSelection = editorSelection;\n        this._ranges = ranges;\n        this._replaceStrings = replaceStrings;\n        this._trackedEditorSelectionId = null;\n    }\n    getEditOperations(model, builder) {\n        if (this._ranges.length > 0) {\n            // Collect all edit operations\n            const ops = [];\n            for (let i = 0; i < this._ranges.length; i++) {\n                ops.push({\n                    range: this._ranges[i],\n                    text: this._replaceStrings[i]\n                });\n            }\n            // Sort them in ascending order by range starts\n            ops.sort((o1, o2) => {\n                return Range.compareRangesUsingStarts(o1.range, o2.range);\n            });\n            // Merge operations that touch each other\n            const resultOps = [];\n            let previousOp = ops[0];\n            for (let i = 1; i < ops.length; i++) {\n                if (previousOp.range.endLineNumber === ops[i].range.startLineNumber && previousOp.range.endColumn === ops[i].range.startColumn) {\n                    // These operations are one after another and can be merged\n                    previousOp.range = previousOp.range.plusRange(ops[i].range);\n                    previousOp.text = previousOp.text + ops[i].text;\n                }\n                else {\n                    resultOps.push(previousOp);\n                    previousOp = ops[i];\n                }\n            }\n            resultOps.push(previousOp);\n            for (const op of resultOps) {\n                builder.addEditOperation(op.range, op.text);\n            }\n        }\n        this._trackedEditorSelectionId = builder.trackSelection(this._editorSelection);\n    }\n    computeCursorState(model, helper) {\n        return helper.getTrackedSelection(this._trackedEditorSelectionId);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { buildReplaceStringWithCasePreserved } from '../../../../base/common/search.js';\n/**\n * Assigned when the replace pattern is entirely static.\n */\nclass StaticValueReplacePattern {\n    constructor(staticValue) {\n        this.staticValue = staticValue;\n        this.kind = 0 /* ReplacePatternKind.StaticValue */;\n    }\n}\n/**\n * Assigned when the replace pattern has replacement patterns.\n */\nclass DynamicPiecesReplacePattern {\n    constructor(pieces) {\n        this.pieces = pieces;\n        this.kind = 1 /* ReplacePatternKind.DynamicPieces */;\n    }\n}\nexport class ReplacePattern {\n    static fromStaticValue(value) {\n        return new ReplacePattern([ReplacePiece.staticValue(value)]);\n    }\n    get hasReplacementPatterns() {\n        return (this._state.kind === 1 /* ReplacePatternKind.DynamicPieces */);\n    }\n    constructor(pieces) {\n        if (!pieces || pieces.length === 0) {\n            this._state = new StaticValueReplacePattern('');\n        }\n        else if (pieces.length === 1 && pieces[0].staticValue !== null) {\n            this._state = new StaticValueReplacePattern(pieces[0].staticValue);\n        }\n        else {\n            this._state = new DynamicPiecesReplacePattern(pieces);\n        }\n    }\n    buildReplaceString(matches, preserveCase) {\n        if (this._state.kind === 0 /* ReplacePatternKind.StaticValue */) {\n            if (preserveCase) {\n                return buildReplaceStringWithCasePreserved(matches, this._state.staticValue);\n            }\n            else {\n                return this._state.staticValue;\n            }\n        }\n        let result = '';\n        for (let i = 0, len = this._state.pieces.length; i < len; i++) {\n            const piece = this._state.pieces[i];\n            if (piece.staticValue !== null) {\n                // static value ReplacePiece\n                result += piece.staticValue;\n                continue;\n            }\n            // match index ReplacePiece\n            let match = ReplacePattern._substitute(piece.matchIndex, matches);\n            if (piece.caseOps !== null && piece.caseOps.length > 0) {\n                const repl = [];\n                const lenOps = piece.caseOps.length;\n                let opIdx = 0;\n                for (let idx = 0, len = match.length; idx < len; idx++) {\n                    if (opIdx >= lenOps) {\n                        repl.push(match.slice(idx));\n                        break;\n                    }\n                    switch (piece.caseOps[opIdx]) {\n                        case 'U':\n                            repl.push(match[idx].toUpperCase());\n                            break;\n                        case 'u':\n                            repl.push(match[idx].toUpperCase());\n                            opIdx++;\n                            break;\n                        case 'L':\n                            repl.push(match[idx].toLowerCase());\n                            break;\n                        case 'l':\n                            repl.push(match[idx].toLowerCase());\n                            opIdx++;\n                            break;\n                        default:\n                            repl.push(match[idx]);\n                    }\n                }\n                match = repl.join('');\n            }\n            result += match;\n        }\n        return result;\n    }\n    static _substitute(matchIndex, matches) {\n        if (matches === null) {\n            return '';\n        }\n        if (matchIndex === 0) {\n            return matches[0];\n        }\n        let remainder = '';\n        while (matchIndex > 0) {\n            if (matchIndex < matches.length) {\n                // A match can be undefined\n                const match = (matches[matchIndex] || '');\n                return match + remainder;\n            }\n            remainder = String(matchIndex % 10) + remainder;\n            matchIndex = Math.floor(matchIndex / 10);\n        }\n        return '$' + remainder;\n    }\n}\n/**\n * A replace piece can either be a static string or an index to a specific match.\n */\nexport class ReplacePiece {\n    static staticValue(value) {\n        return new ReplacePiece(value, -1, null);\n    }\n    static caseOps(index, caseOps) {\n        return new ReplacePiece(null, index, caseOps);\n    }\n    constructor(staticValue, matchIndex, caseOps) {\n        this.staticValue = staticValue;\n        this.matchIndex = matchIndex;\n        if (!caseOps || caseOps.length === 0) {\n            this.caseOps = null;\n        }\n        else {\n            this.caseOps = caseOps.slice(0);\n        }\n    }\n}\nclass ReplacePieceBuilder {\n    constructor(source) {\n        this._source = source;\n        this._lastCharIndex = 0;\n        this._result = [];\n        this._resultLen = 0;\n        this._currentStaticPiece = '';\n    }\n    emitUnchanged(toCharIndex) {\n        this._emitStatic(this._source.substring(this._lastCharIndex, toCharIndex));\n        this._lastCharIndex = toCharIndex;\n    }\n    emitStatic(value, toCharIndex) {\n        this._emitStatic(value);\n        this._lastCharIndex = toCharIndex;\n    }\n    _emitStatic(value) {\n        if (value.length === 0) {\n            return;\n        }\n        this._currentStaticPiece += value;\n    }\n    emitMatchIndex(index, toCharIndex, caseOps) {\n        if (this._currentStaticPiece.length !== 0) {\n            this._result[this._resultLen++] = ReplacePiece.staticValue(this._currentStaticPiece);\n            this._currentStaticPiece = '';\n        }\n        this._result[this._resultLen++] = ReplacePiece.caseOps(index, caseOps);\n        this._lastCharIndex = toCharIndex;\n    }\n    finalize() {\n        this.emitUnchanged(this._source.length);\n        if (this._currentStaticPiece.length !== 0) {\n            this._result[this._resultLen++] = ReplacePiece.staticValue(this._currentStaticPiece);\n            this._currentStaticPiece = '';\n        }\n        return new ReplacePattern(this._result);\n    }\n}\n/**\n * \\n\t\t\t=> inserts a LF\n * \\t\t\t\t=> inserts a TAB\n * \\\\\t\t\t=> inserts a \"\\\".\n * \\u\t\t\t=> upper-cases one character in a match.\n * \\U\t\t\t=> upper-cases ALL remaining characters in a match.\n * \\l\t\t\t=> lower-cases one character in a match.\n * \\L\t\t\t=> lower-cases ALL remaining characters in a match.\n * $$\t\t\t=> inserts a \"$\".\n * $& and $0\t=> inserts the matched substring.\n * $n\t\t\t=> Where n is a non-negative integer lesser than 100, inserts the nth parenthesized submatch string\n * everything else stays untouched\n *\n * Also see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#Specifying_a_string_as_a_parameter\n */\nexport function parseReplaceString(replaceString) {\n    if (!replaceString || replaceString.length === 0) {\n        return new ReplacePattern(null);\n    }\n    const caseOps = [];\n    const result = new ReplacePieceBuilder(replaceString);\n    for (let i = 0, len = replaceString.length; i < len; i++) {\n        const chCode = replaceString.charCodeAt(i);\n        if (chCode === 92 /* CharCode.Backslash */) {\n            // move to next char\n            i++;\n            if (i >= len) {\n                // string ends with a \\\n                break;\n            }\n            const nextChCode = replaceString.charCodeAt(i);\n            // let replaceWithCharacter: string | null = null;\n            switch (nextChCode) {\n                case 92 /* CharCode.Backslash */:\n                    // \\\\ => inserts a \"\\\"\n                    result.emitUnchanged(i - 1);\n                    result.emitStatic('\\\\', i + 1);\n                    break;\n                case 110 /* CharCode.n */:\n                    // \\n => inserts a LF\n                    result.emitUnchanged(i - 1);\n                    result.emitStatic('\\n', i + 1);\n                    break;\n                case 116 /* CharCode.t */:\n                    // \\t => inserts a TAB\n                    result.emitUnchanged(i - 1);\n                    result.emitStatic('\\t', i + 1);\n                    break;\n                // Case modification of string replacements, patterned after Boost, but only applied\n                // to the replacement text, not subsequent content.\n                case 117 /* CharCode.u */:\n                // \\u => upper-cases one character.\n                case 85 /* CharCode.U */:\n                // \\U => upper-cases ALL following characters.\n                case 108 /* CharCode.l */:\n                // \\l => lower-cases one character.\n                case 76 /* CharCode.L */:\n                    // \\L => lower-cases ALL following characters.\n                    result.emitUnchanged(i - 1);\n                    result.emitStatic('', i + 1);\n                    caseOps.push(String.fromCharCode(nextChCode));\n                    break;\n            }\n            continue;\n        }\n        if (chCode === 36 /* CharCode.DollarSign */) {\n            // move to next char\n            i++;\n            if (i >= len) {\n                // string ends with a $\n                break;\n            }\n            const nextChCode = replaceString.charCodeAt(i);\n            if (nextChCode === 36 /* CharCode.DollarSign */) {\n                // $$ => inserts a \"$\"\n                result.emitUnchanged(i - 1);\n                result.emitStatic('$', i + 1);\n                continue;\n            }\n            if (nextChCode === 48 /* CharCode.Digit0 */ || nextChCode === 38 /* CharCode.Ampersand */) {\n                // $& and $0 => inserts the matched substring.\n                result.emitUnchanged(i - 1);\n                result.emitMatchIndex(0, i + 1, caseOps);\n                caseOps.length = 0;\n                continue;\n            }\n            if (49 /* CharCode.Digit1 */ <= nextChCode && nextChCode <= 57 /* CharCode.Digit9 */) {\n                // $n\n                let matchIndex = nextChCode - 48 /* CharCode.Digit0 */;\n                // peek next char to probe for $nn\n                if (i + 1 < len) {\n                    const nextNextChCode = replaceString.charCodeAt(i + 1);\n                    if (48 /* CharCode.Digit0 */ <= nextNextChCode && nextNextChCode <= 57 /* CharCode.Digit9 */) {\n                        // $nn\n                        // move to next char\n                        i++;\n                        matchIndex = matchIndex * 10 + (nextNextChCode - 48 /* CharCode.Digit0 */);\n                        result.emitUnchanged(i - 2);\n                        result.emitMatchIndex(matchIndex, i + 1, caseOps);\n                        caseOps.length = 0;\n                        continue;\n                    }\n                }\n                result.emitUnchanged(i - 1);\n                result.emitMatchIndex(matchIndex, i + 1, caseOps);\n                caseOps.length = 0;\n                continue;\n            }\n        }\n    }\n    return result.finalize();\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { findFirstInSorted } from '../../../../base/common/arrays.js';\nimport { RunOnceScheduler, TimeoutTimer } from '../../../../base/common/async.js';\nimport { DisposableStore, dispose } from '../../../../base/common/lifecycle.js';\nimport { ReplaceCommand, ReplaceCommandThatPreservesSelection } from '../../../common/commands/replaceCommand.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { SearchParams } from '../../../common/model/textModelSearch.js';\nimport { FindDecorations } from './findDecorations.js';\nimport { ReplaceAllCommand } from './replaceAllCommand.js';\nimport { parseReplaceString, ReplacePattern } from './replacePattern.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nexport const CONTEXT_FIND_WIDGET_VISIBLE = new RawContextKey('findWidgetVisible', false);\nexport const CONTEXT_FIND_WIDGET_NOT_VISIBLE = CONTEXT_FIND_WIDGET_VISIBLE.toNegated();\n// Keep ContextKey use of 'Focussed' to not break when clauses\nexport const CONTEXT_FIND_INPUT_FOCUSED = new RawContextKey('findInputFocussed', false);\nexport const CONTEXT_REPLACE_INPUT_FOCUSED = new RawContextKey('replaceInputFocussed', false);\nexport const ToggleCaseSensitiveKeybinding = {\n    primary: 512 /* KeyMod.Alt */ | 33 /* KeyCode.KeyC */,\n    mac: { primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 33 /* KeyCode.KeyC */ }\n};\nexport const ToggleWholeWordKeybinding = {\n    primary: 512 /* KeyMod.Alt */ | 53 /* KeyCode.KeyW */,\n    mac: { primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 53 /* KeyCode.KeyW */ }\n};\nexport const ToggleRegexKeybinding = {\n    primary: 512 /* KeyMod.Alt */ | 48 /* KeyCode.KeyR */,\n    mac: { primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 48 /* KeyCode.KeyR */ }\n};\nexport const ToggleSearchScopeKeybinding = {\n    primary: 512 /* KeyMod.Alt */ | 42 /* KeyCode.KeyL */,\n    mac: { primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 42 /* KeyCode.KeyL */ }\n};\nexport const TogglePreserveCaseKeybinding = {\n    primary: 512 /* KeyMod.Alt */ | 46 /* KeyCode.KeyP */,\n    mac: { primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 46 /* KeyCode.KeyP */ }\n};\nexport const FIND_IDS = {\n    StartFindAction: 'actions.find',\n    StartFindWithSelection: 'actions.findWithSelection',\n    StartFindWithArgs: 'editor.actions.findWithArgs',\n    NextMatchFindAction: 'editor.action.nextMatchFindAction',\n    PreviousMatchFindAction: 'editor.action.previousMatchFindAction',\n    GoToMatchFindAction: 'editor.action.goToMatchFindAction',\n    NextSelectionMatchFindAction: 'editor.action.nextSelectionMatchFindAction',\n    PreviousSelectionMatchFindAction: 'editor.action.previousSelectionMatchFindAction',\n    StartFindReplaceAction: 'editor.action.startFindReplaceAction',\n    CloseFindWidgetCommand: 'closeFindWidget',\n    ToggleCaseSensitiveCommand: 'toggleFindCaseSensitive',\n    ToggleWholeWordCommand: 'toggleFindWholeWord',\n    ToggleRegexCommand: 'toggleFindRegex',\n    ToggleSearchScopeCommand: 'toggleFindInSelection',\n    TogglePreserveCaseCommand: 'togglePreserveCase',\n    ReplaceOneAction: 'editor.action.replaceOne',\n    ReplaceAllAction: 'editor.action.replaceAll',\n    SelectAllMatchesAction: 'editor.action.selectAllMatches'\n};\nexport const MATCHES_LIMIT = 19999;\nconst RESEARCH_DELAY = 240;\nexport class FindModelBoundToEditorModel {\n    constructor(editor, state) {\n        this._toDispose = new DisposableStore();\n        this._editor = editor;\n        this._state = state;\n        this._isDisposed = false;\n        this._startSearchingTimer = new TimeoutTimer();\n        this._decorations = new FindDecorations(editor);\n        this._toDispose.add(this._decorations);\n        this._updateDecorationsScheduler = new RunOnceScheduler(() => this.research(false), 100);\n        this._toDispose.add(this._updateDecorationsScheduler);\n        this._toDispose.add(this._editor.onDidChangeCursorPosition((e) => {\n            if (e.reason === 3 /* CursorChangeReason.Explicit */\n                || e.reason === 5 /* CursorChangeReason.Undo */\n                || e.reason === 6 /* CursorChangeReason.Redo */) {\n                this._decorations.setStartPosition(this._editor.getPosition());\n            }\n        }));\n        this._ignoreModelContentChanged = false;\n        this._toDispose.add(this._editor.onDidChangeModelContent((e) => {\n            if (this._ignoreModelContentChanged) {\n                return;\n            }\n            if (e.isFlush) {\n                // a model.setValue() was called\n                this._decorations.reset();\n            }\n            this._decorations.setStartPosition(this._editor.getPosition());\n            this._updateDecorationsScheduler.schedule();\n        }));\n        this._toDispose.add(this._state.onFindReplaceStateChange((e) => this._onStateChanged(e)));\n        this.research(false, this._state.searchScope);\n    }\n    dispose() {\n        this._isDisposed = true;\n        dispose(this._startSearchingTimer);\n        this._toDispose.dispose();\n    }\n    _onStateChanged(e) {\n        if (this._isDisposed) {\n            // The find model is disposed during a find state changed event\n            return;\n        }\n        if (!this._editor.hasModel()) {\n            // The find model will be disposed momentarily\n            return;\n        }\n        if (e.searchString || e.isReplaceRevealed || e.isRegex || e.wholeWord || e.matchCase || e.searchScope) {\n            const model = this._editor.getModel();\n            if (model.isTooLargeForSyncing()) {\n                this._startSearchingTimer.cancel();\n                this._startSearchingTimer.setIfNotSet(() => {\n                    if (e.searchScope) {\n                        this.research(e.moveCursor, this._state.searchScope);\n                    }\n                    else {\n                        this.research(e.moveCursor);\n                    }\n                }, RESEARCH_DELAY);\n            }\n            else {\n                if (e.searchScope) {\n                    this.research(e.moveCursor, this._state.searchScope);\n                }\n                else {\n                    this.research(e.moveCursor);\n                }\n            }\n        }\n    }\n    static _getSearchRange(model, findScope) {\n        // If we have set now or before a find scope, use it for computing the search range\n        if (findScope) {\n            return findScope;\n        }\n        return model.getFullModelRange();\n    }\n    research(moveCursor, newFindScope) {\n        let findScopes = null;\n        if (typeof newFindScope !== 'undefined') {\n            if (newFindScope !== null) {\n                if (!Array.isArray(newFindScope)) {\n                    findScopes = [newFindScope];\n                }\n                else {\n                    findScopes = newFindScope;\n                }\n            }\n        }\n        else {\n            findScopes = this._decorations.getFindScopes();\n        }\n        if (findScopes !== null) {\n            findScopes = findScopes.map(findScope => {\n                if (findScope.startLineNumber !== findScope.endLineNumber) {\n                    let endLineNumber = findScope.endLineNumber;\n                    if (findScope.endColumn === 1) {\n                        endLineNumber = endLineNumber - 1;\n                    }\n                    return new Range(findScope.startLineNumber, 1, endLineNumber, this._editor.getModel().getLineMaxColumn(endLineNumber));\n                }\n                return findScope;\n            });\n        }\n        const findMatches = this._findMatches(findScopes, false, MATCHES_LIMIT);\n        this._decorations.set(findMatches, findScopes);\n        const editorSelection = this._editor.getSelection();\n        let currentMatchesPosition = this._decorations.getCurrentMatchesPosition(editorSelection);\n        if (currentMatchesPosition === 0 && findMatches.length > 0) {\n            // current selection is not on top of a match\n            // try to find its nearest result from the top of the document\n            const matchAfterSelection = findFirstInSorted(findMatches.map(match => match.range), range => Range.compareRangesUsingStarts(range, editorSelection) >= 0);\n            currentMatchesPosition = matchAfterSelection > 0 ? matchAfterSelection - 1 + 1 /** match position is one based */ : currentMatchesPosition;\n        }\n        this._state.changeMatchInfo(currentMatchesPosition, this._decorations.getCount(), undefined);\n        if (moveCursor && this._editor.getOption(39 /* EditorOption.find */).cursorMoveOnType) {\n            this._moveToNextMatch(this._decorations.getStartPosition());\n        }\n    }\n    _hasMatches() {\n        return (this._state.matchesCount > 0);\n    }\n    _cannotFind() {\n        if (!this._hasMatches()) {\n            const findScope = this._decorations.getFindScope();\n            if (findScope) {\n                // Reveal the selection so user is reminded that 'selection find' is on.\n                this._editor.revealRangeInCenterIfOutsideViewport(findScope, 0 /* ScrollType.Smooth */);\n            }\n            return true;\n        }\n        return false;\n    }\n    _setCurrentFindMatch(match) {\n        const matchesPosition = this._decorations.setCurrentFindMatch(match);\n        this._state.changeMatchInfo(matchesPosition, this._decorations.getCount(), match);\n        this._editor.setSelection(match);\n        this._editor.revealRangeInCenterIfOutsideViewport(match, 0 /* ScrollType.Smooth */);\n    }\n    _prevSearchPosition(before) {\n        const isUsingLineStops = this._state.isRegex && (this._state.searchString.indexOf('^') >= 0\n            || this._state.searchString.indexOf('$') >= 0);\n        let { lineNumber, column } = before;\n        const model = this._editor.getModel();\n        if (isUsingLineStops || column === 1) {\n            if (lineNumber === 1) {\n                lineNumber = model.getLineCount();\n            }\n            else {\n                lineNumber--;\n            }\n            column = model.getLineMaxColumn(lineNumber);\n        }\n        else {\n            column--;\n        }\n        return new Position(lineNumber, column);\n    }\n    _moveToPrevMatch(before, isRecursed = false) {\n        if (!this._state.canNavigateBack()) {\n            // we are beyond the first matched find result\n            // instead of doing nothing, we should refocus the first item\n            const nextMatchRange = this._decorations.matchAfterPosition(before);\n            if (nextMatchRange) {\n                this._setCurrentFindMatch(nextMatchRange);\n            }\n            return;\n        }\n        if (this._decorations.getCount() < MATCHES_LIMIT) {\n            let prevMatchRange = this._decorations.matchBeforePosition(before);\n            if (prevMatchRange && prevMatchRange.isEmpty() && prevMatchRange.getStartPosition().equals(before)) {\n                before = this._prevSearchPosition(before);\n                prevMatchRange = this._decorations.matchBeforePosition(before);\n            }\n            if (prevMatchRange) {\n                this._setCurrentFindMatch(prevMatchRange);\n            }\n            return;\n        }\n        if (this._cannotFind()) {\n            return;\n        }\n        const findScope = this._decorations.getFindScope();\n        const searchRange = FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(), findScope);\n        // ...(----)...|...\n        if (searchRange.getEndPosition().isBefore(before)) {\n            before = searchRange.getEndPosition();\n        }\n        // ...|...(----)...\n        if (before.isBefore(searchRange.getStartPosition())) {\n            before = searchRange.getEndPosition();\n        }\n        const { lineNumber, column } = before;\n        const model = this._editor.getModel();\n        let position = new Position(lineNumber, column);\n        let prevMatch = model.findPreviousMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(126 /* EditorOption.wordSeparators */) : null, false);\n        if (prevMatch && prevMatch.range.isEmpty() && prevMatch.range.getStartPosition().equals(position)) {\n            // Looks like we're stuck at this position, unacceptable!\n            position = this._prevSearchPosition(position);\n            prevMatch = model.findPreviousMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(126 /* EditorOption.wordSeparators */) : null, false);\n        }\n        if (!prevMatch) {\n            // there is precisely one match and selection is on top of it\n            return;\n        }\n        if (!isRecursed && !searchRange.containsRange(prevMatch.range)) {\n            return this._moveToPrevMatch(prevMatch.range.getStartPosition(), true);\n        }\n        this._setCurrentFindMatch(prevMatch.range);\n    }\n    moveToPrevMatch() {\n        this._moveToPrevMatch(this._editor.getSelection().getStartPosition());\n    }\n    _nextSearchPosition(after) {\n        const isUsingLineStops = this._state.isRegex && (this._state.searchString.indexOf('^') >= 0\n            || this._state.searchString.indexOf('$') >= 0);\n        let { lineNumber, column } = after;\n        const model = this._editor.getModel();\n        if (isUsingLineStops || column === model.getLineMaxColumn(lineNumber)) {\n            if (lineNumber === model.getLineCount()) {\n                lineNumber = 1;\n            }\n            else {\n                lineNumber++;\n            }\n            column = 1;\n        }\n        else {\n            column++;\n        }\n        return new Position(lineNumber, column);\n    }\n    _moveToNextMatch(after) {\n        if (!this._state.canNavigateForward()) {\n            // we are beyond the last matched find result\n            // instead of doing nothing, we should refocus the last item\n            const prevMatchRange = this._decorations.matchBeforePosition(after);\n            if (prevMatchRange) {\n                this._setCurrentFindMatch(prevMatchRange);\n            }\n            return;\n        }\n        if (this._decorations.getCount() < MATCHES_LIMIT) {\n            let nextMatchRange = this._decorations.matchAfterPosition(after);\n            if (nextMatchRange && nextMatchRange.isEmpty() && nextMatchRange.getStartPosition().equals(after)) {\n                // Looks like we're stuck at this position, unacceptable!\n                after = this._nextSearchPosition(after);\n                nextMatchRange = this._decorations.matchAfterPosition(after);\n            }\n            if (nextMatchRange) {\n                this._setCurrentFindMatch(nextMatchRange);\n            }\n            return;\n        }\n        const nextMatch = this._getNextMatch(after, false, true);\n        if (nextMatch) {\n            this._setCurrentFindMatch(nextMatch.range);\n        }\n    }\n    _getNextMatch(after, captureMatches, forceMove, isRecursed = false) {\n        if (this._cannotFind()) {\n            return null;\n        }\n        const findScope = this._decorations.getFindScope();\n        const searchRange = FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(), findScope);\n        // ...(----)...|...\n        if (searchRange.getEndPosition().isBefore(after)) {\n            after = searchRange.getStartPosition();\n        }\n        // ...|...(----)...\n        if (after.isBefore(searchRange.getStartPosition())) {\n            after = searchRange.getStartPosition();\n        }\n        const { lineNumber, column } = after;\n        const model = this._editor.getModel();\n        let position = new Position(lineNumber, column);\n        let nextMatch = model.findNextMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(126 /* EditorOption.wordSeparators */) : null, captureMatches);\n        if (forceMove && nextMatch && nextMatch.range.isEmpty() && nextMatch.range.getStartPosition().equals(position)) {\n            // Looks like we're stuck at this position, unacceptable!\n            position = this._nextSearchPosition(position);\n            nextMatch = model.findNextMatch(this._state.searchString, position, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(126 /* EditorOption.wordSeparators */) : null, captureMatches);\n        }\n        if (!nextMatch) {\n            // there is precisely one match and selection is on top of it\n            return null;\n        }\n        if (!isRecursed && !searchRange.containsRange(nextMatch.range)) {\n            return this._getNextMatch(nextMatch.range.getEndPosition(), captureMatches, forceMove, true);\n        }\n        return nextMatch;\n    }\n    moveToNextMatch() {\n        this._moveToNextMatch(this._editor.getSelection().getEndPosition());\n    }\n    _moveToMatch(index) {\n        const decorationRange = this._decorations.getDecorationRangeAt(index);\n        if (decorationRange) {\n            this._setCurrentFindMatch(decorationRange);\n        }\n    }\n    moveToMatch(index) {\n        this._moveToMatch(index);\n    }\n    _getReplacePattern() {\n        if (this._state.isRegex) {\n            return parseReplaceString(this._state.replaceString);\n        }\n        return ReplacePattern.fromStaticValue(this._state.replaceString);\n    }\n    replace() {\n        if (!this._hasMatches()) {\n            return;\n        }\n        const replacePattern = this._getReplacePattern();\n        const selection = this._editor.getSelection();\n        const nextMatch = this._getNextMatch(selection.getStartPosition(), true, false);\n        if (nextMatch) {\n            if (selection.equalsRange(nextMatch.range)) {\n                // selection sits on a find match => replace it!\n                const replaceString = replacePattern.buildReplaceString(nextMatch.matches, this._state.preserveCase);\n                const command = new ReplaceCommand(selection, replaceString);\n                this._executeEditorCommand('replace', command);\n                this._decorations.setStartPosition(new Position(selection.startLineNumber, selection.startColumn + replaceString.length));\n                this.research(true);\n            }\n            else {\n                this._decorations.setStartPosition(this._editor.getPosition());\n                this._setCurrentFindMatch(nextMatch.range);\n            }\n        }\n    }\n    _findMatches(findScopes, captureMatches, limitResultCount) {\n        const searchRanges = (findScopes || [null]).map((scope) => FindModelBoundToEditorModel._getSearchRange(this._editor.getModel(), scope));\n        return this._editor.getModel().findMatches(this._state.searchString, searchRanges, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(126 /* EditorOption.wordSeparators */) : null, captureMatches, limitResultCount);\n    }\n    replaceAll() {\n        if (!this._hasMatches()) {\n            return;\n        }\n        const findScopes = this._decorations.getFindScopes();\n        if (findScopes === null && this._state.matchesCount >= MATCHES_LIMIT) {\n            // Doing a replace on the entire file that is over ${MATCHES_LIMIT} matches\n            this._largeReplaceAll();\n        }\n        else {\n            this._regularReplaceAll(findScopes);\n        }\n        this.research(false);\n    }\n    _largeReplaceAll() {\n        const searchParams = new SearchParams(this._state.searchString, this._state.isRegex, this._state.matchCase, this._state.wholeWord ? this._editor.getOption(126 /* EditorOption.wordSeparators */) : null);\n        const searchData = searchParams.parseSearchRequest();\n        if (!searchData) {\n            return;\n        }\n        let searchRegex = searchData.regex;\n        if (!searchRegex.multiline) {\n            let mod = 'mu';\n            if (searchRegex.ignoreCase) {\n                mod += 'i';\n            }\n            if (searchRegex.global) {\n                mod += 'g';\n            }\n            searchRegex = new RegExp(searchRegex.source, mod);\n        }\n        const model = this._editor.getModel();\n        const modelText = model.getValue(1 /* EndOfLinePreference.LF */);\n        const fullModelRange = model.getFullModelRange();\n        const replacePattern = this._getReplacePattern();\n        let resultText;\n        const preserveCase = this._state.preserveCase;\n        if (replacePattern.hasReplacementPatterns || preserveCase) {\n            resultText = modelText.replace(searchRegex, function () {\n                return replacePattern.buildReplaceString(arguments, preserveCase);\n            });\n        }\n        else {\n            resultText = modelText.replace(searchRegex, replacePattern.buildReplaceString(null, preserveCase));\n        }\n        const command = new ReplaceCommandThatPreservesSelection(fullModelRange, resultText, this._editor.getSelection());\n        this._executeEditorCommand('replaceAll', command);\n    }\n    _regularReplaceAll(findScopes) {\n        const replacePattern = this._getReplacePattern();\n        // Get all the ranges (even more than the highlighted ones)\n        const matches = this._findMatches(findScopes, replacePattern.hasReplacementPatterns || this._state.preserveCase, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n        const replaceStrings = [];\n        for (let i = 0, len = matches.length; i < len; i++) {\n            replaceStrings[i] = replacePattern.buildReplaceString(matches[i].matches, this._state.preserveCase);\n        }\n        const command = new ReplaceAllCommand(this._editor.getSelection(), matches.map(m => m.range), replaceStrings);\n        this._executeEditorCommand('replaceAll', command);\n    }\n    selectAllMatches() {\n        if (!this._hasMatches()) {\n            return;\n        }\n        const findScopes = this._decorations.getFindScopes();\n        // Get all the ranges (even more than the highlighted ones)\n        const matches = this._findMatches(findScopes, false, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n        let selections = matches.map(m => new Selection(m.range.startLineNumber, m.range.startColumn, m.range.endLineNumber, m.range.endColumn));\n        // If one of the ranges is the editor selection, then maintain it as primary\n        const editorSelection = this._editor.getSelection();\n        for (let i = 0, len = selections.length; i < len; i++) {\n            const sel = selections[i];\n            if (sel.equalsRange(editorSelection)) {\n                selections = [editorSelection].concat(selections.slice(0, i)).concat(selections.slice(i + 1));\n                break;\n            }\n        }\n        this._editor.setSelections(selections);\n    }\n    _executeEditorCommand(source, command) {\n        try {\n            this._ignoreModelContentChanged = true;\n            this._editor.pushUndoStop();\n            this._editor.executeCommand(source, command);\n            this._editor.pushUndoStop();\n        }\n        finally {\n            this._ignoreModelContentChanged = false;\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../../base/browser/dom.js';\nimport './findOptionsWidget.css';\nimport { CaseSensitiveToggle, RegexToggle, WholeWordsToggle } from '../../../../base/browser/ui/findinput/findInputToggles.js';\nimport { Widget } from '../../../../base/browser/ui/widget.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { FIND_IDS } from './findModel.js';\nimport { asCssVariable, inputActiveOptionBackground, inputActiveOptionBorder, inputActiveOptionForeground } from '../../../../platform/theme/common/colorRegistry.js';\nexport class FindOptionsWidget extends Widget {\n    constructor(editor, state, keybindingService) {\n        super();\n        this._hideSoon = this._register(new RunOnceScheduler(() => this._hide(), 2000));\n        this._isVisible = false;\n        this._editor = editor;\n        this._state = state;\n        this._keybindingService = keybindingService;\n        this._domNode = document.createElement('div');\n        this._domNode.className = 'findOptionsWidget';\n        this._domNode.style.display = 'none';\n        this._domNode.style.top = '10px';\n        this._domNode.style.zIndex = '12';\n        this._domNode.setAttribute('role', 'presentation');\n        this._domNode.setAttribute('aria-hidden', 'true');\n        const toggleStyles = {\n            inputActiveOptionBorder: asCssVariable(inputActiveOptionBorder),\n            inputActiveOptionForeground: asCssVariable(inputActiveOptionForeground),\n            inputActiveOptionBackground: asCssVariable(inputActiveOptionBackground),\n        };\n        this.caseSensitive = this._register(new CaseSensitiveToggle(Object.assign({ appendTitle: this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand), isChecked: this._state.matchCase }, toggleStyles)));\n        this._domNode.appendChild(this.caseSensitive.domNode);\n        this._register(this.caseSensitive.onChange(() => {\n            this._state.change({\n                matchCase: this.caseSensitive.checked\n            }, false);\n        }));\n        this.wholeWords = this._register(new WholeWordsToggle(Object.assign({ appendTitle: this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand), isChecked: this._state.wholeWord }, toggleStyles)));\n        this._domNode.appendChild(this.wholeWords.domNode);\n        this._register(this.wholeWords.onChange(() => {\n            this._state.change({\n                wholeWord: this.wholeWords.checked\n            }, false);\n        }));\n        this.regex = this._register(new RegexToggle(Object.assign({ appendTitle: this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand), isChecked: this._state.isRegex }, toggleStyles)));\n        this._domNode.appendChild(this.regex.domNode);\n        this._register(this.regex.onChange(() => {\n            this._state.change({\n                isRegex: this.regex.checked\n            }, false);\n        }));\n        this._editor.addOverlayWidget(this);\n        this._register(this._state.onFindReplaceStateChange((e) => {\n            let somethingChanged = false;\n            if (e.isRegex) {\n                this.regex.checked = this._state.isRegex;\n                somethingChanged = true;\n            }\n            if (e.wholeWord) {\n                this.wholeWords.checked = this._state.wholeWord;\n                somethingChanged = true;\n            }\n            if (e.matchCase) {\n                this.caseSensitive.checked = this._state.matchCase;\n                somethingChanged = true;\n            }\n            if (!this._state.isRevealed && somethingChanged) {\n                this._revealTemporarily();\n            }\n        }));\n        this._register(dom.addDisposableListener(this._domNode, dom.EventType.MOUSE_LEAVE, (e) => this._onMouseLeave()));\n        this._register(dom.addDisposableListener(this._domNode, 'mouseover', (e) => this._onMouseOver()));\n    }\n    _keybindingLabelFor(actionId) {\n        const kb = this._keybindingService.lookupKeybinding(actionId);\n        if (!kb) {\n            return '';\n        }\n        return ` (${kb.getLabel()})`;\n    }\n    dispose() {\n        this._editor.removeOverlayWidget(this);\n        super.dispose();\n    }\n    // ----- IOverlayWidget API\n    getId() {\n        return FindOptionsWidget.ID;\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return {\n            preference: 0 /* OverlayWidgetPositionPreference.TOP_RIGHT_CORNER */\n        };\n    }\n    highlightFindOptions() {\n        this._revealTemporarily();\n    }\n    _revealTemporarily() {\n        this._show();\n        this._hideSoon.schedule();\n    }\n    _onMouseLeave() {\n        this._hideSoon.schedule();\n    }\n    _onMouseOver() {\n        this._hideSoon.cancel();\n    }\n    _show() {\n        if (this._isVisible) {\n            return;\n        }\n        this._isVisible = true;\n        this._domNode.style.display = 'block';\n    }\n    _hide() {\n        if (!this._isVisible) {\n            return;\n        }\n        this._isVisible = false;\n        this._domNode.style.display = 'none';\n    }\n}\nFindOptionsWidget.ID = 'editor.contrib.findOptionsWidget';\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Range } from '../../../common/core/range.js';\nimport { MATCHES_LIMIT } from './findModel.js';\nfunction effectiveOptionValue(override, value) {\n    if (override === 1 /* FindOptionOverride.True */) {\n        return true;\n    }\n    if (override === 2 /* FindOptionOverride.False */) {\n        return false;\n    }\n    return value;\n}\nexport class FindReplaceState extends Disposable {\n    get searchString() { return this._searchString; }\n    get replaceString() { return this._replaceString; }\n    get isRevealed() { return this._isRevealed; }\n    get isReplaceRevealed() { return this._isReplaceRevealed; }\n    get isRegex() { return effectiveOptionValue(this._isRegexOverride, this._isRegex); }\n    get wholeWord() { return effectiveOptionValue(this._wholeWordOverride, this._wholeWord); }\n    get matchCase() { return effectiveOptionValue(this._matchCaseOverride, this._matchCase); }\n    get preserveCase() { return effectiveOptionValue(this._preserveCaseOverride, this._preserveCase); }\n    get actualIsRegex() { return this._isRegex; }\n    get actualWholeWord() { return this._wholeWord; }\n    get actualMatchCase() { return this._matchCase; }\n    get actualPreserveCase() { return this._preserveCase; }\n    get searchScope() { return this._searchScope; }\n    get matchesPosition() { return this._matchesPosition; }\n    get matchesCount() { return this._matchesCount; }\n    get currentMatch() { return this._currentMatch; }\n    constructor() {\n        super();\n        this._onFindReplaceStateChange = this._register(new Emitter());\n        this.onFindReplaceStateChange = this._onFindReplaceStateChange.event;\n        this._searchString = '';\n        this._replaceString = '';\n        this._isRevealed = false;\n        this._isReplaceRevealed = false;\n        this._isRegex = false;\n        this._isRegexOverride = 0 /* FindOptionOverride.NotSet */;\n        this._wholeWord = false;\n        this._wholeWordOverride = 0 /* FindOptionOverride.NotSet */;\n        this._matchCase = false;\n        this._matchCaseOverride = 0 /* FindOptionOverride.NotSet */;\n        this._preserveCase = false;\n        this._preserveCaseOverride = 0 /* FindOptionOverride.NotSet */;\n        this._searchScope = null;\n        this._matchesPosition = 0;\n        this._matchesCount = 0;\n        this._currentMatch = null;\n        this._loop = true;\n        this._isSearching = false;\n        this._filters = null;\n    }\n    changeMatchInfo(matchesPosition, matchesCount, currentMatch) {\n        const changeEvent = {\n            moveCursor: false,\n            updateHistory: false,\n            searchString: false,\n            replaceString: false,\n            isRevealed: false,\n            isReplaceRevealed: false,\n            isRegex: false,\n            wholeWord: false,\n            matchCase: false,\n            preserveCase: false,\n            searchScope: false,\n            matchesPosition: false,\n            matchesCount: false,\n            currentMatch: false,\n            loop: false,\n            isSearching: false,\n            filters: false\n        };\n        let somethingChanged = false;\n        if (matchesCount === 0) {\n            matchesPosition = 0;\n        }\n        if (matchesPosition > matchesCount) {\n            matchesPosition = matchesCount;\n        }\n        if (this._matchesPosition !== matchesPosition) {\n            this._matchesPosition = matchesPosition;\n            changeEvent.matchesPosition = true;\n            somethingChanged = true;\n        }\n        if (this._matchesCount !== matchesCount) {\n            this._matchesCount = matchesCount;\n            changeEvent.matchesCount = true;\n            somethingChanged = true;\n        }\n        if (typeof currentMatch !== 'undefined') {\n            if (!Range.equalsRange(this._currentMatch, currentMatch)) {\n                this._currentMatch = currentMatch;\n                changeEvent.currentMatch = true;\n                somethingChanged = true;\n            }\n        }\n        if (somethingChanged) {\n            this._onFindReplaceStateChange.fire(changeEvent);\n        }\n    }\n    change(newState, moveCursor, updateHistory = true) {\n        var _a;\n        const changeEvent = {\n            moveCursor: moveCursor,\n            updateHistory: updateHistory,\n            searchString: false,\n            replaceString: false,\n            isRevealed: false,\n            isReplaceRevealed: false,\n            isRegex: false,\n            wholeWord: false,\n            matchCase: false,\n            preserveCase: false,\n            searchScope: false,\n            matchesPosition: false,\n            matchesCount: false,\n            currentMatch: false,\n            loop: false,\n            isSearching: false,\n            filters: false\n        };\n        let somethingChanged = false;\n        const oldEffectiveIsRegex = this.isRegex;\n        const oldEffectiveWholeWords = this.wholeWord;\n        const oldEffectiveMatchCase = this.matchCase;\n        const oldEffectivePreserveCase = this.preserveCase;\n        if (typeof newState.searchString !== 'undefined') {\n            if (this._searchString !== newState.searchString) {\n                this._searchString = newState.searchString;\n                changeEvent.searchString = true;\n                somethingChanged = true;\n            }\n        }\n        if (typeof newState.replaceString !== 'undefined') {\n            if (this._replaceString !== newState.replaceString) {\n                this._replaceString = newState.replaceString;\n                changeEvent.replaceString = true;\n                somethingChanged = true;\n            }\n        }\n        if (typeof newState.isRevealed !== 'undefined') {\n            if (this._isRevealed !== newState.isRevealed) {\n                this._isRevealed = newState.isRevealed;\n                changeEvent.isRevealed = true;\n                somethingChanged = true;\n            }\n        }\n        if (typeof newState.isReplaceRevealed !== 'undefined') {\n            if (this._isReplaceRevealed !== newState.isReplaceRevealed) {\n                this._isReplaceRevealed = newState.isReplaceRevealed;\n                changeEvent.isReplaceRevealed = true;\n                somethingChanged = true;\n            }\n        }\n        if (typeof newState.isRegex !== 'undefined') {\n            this._isRegex = newState.isRegex;\n        }\n        if (typeof newState.wholeWord !== 'undefined') {\n            this._wholeWord = newState.wholeWord;\n        }\n        if (typeof newState.matchCase !== 'undefined') {\n            this._matchCase = newState.matchCase;\n        }\n        if (typeof newState.preserveCase !== 'undefined') {\n            this._preserveCase = newState.preserveCase;\n        }\n        if (typeof newState.searchScope !== 'undefined') {\n            if (!((_a = newState.searchScope) === null || _a === void 0 ? void 0 : _a.every((newSearchScope) => {\n                var _a;\n                return (_a = this._searchScope) === null || _a === void 0 ? void 0 : _a.some(existingSearchScope => {\n                    return !Range.equalsRange(existingSearchScope, newSearchScope);\n                });\n            }))) {\n                this._searchScope = newState.searchScope;\n                changeEvent.searchScope = true;\n                somethingChanged = true;\n            }\n        }\n        if (typeof newState.loop !== 'undefined') {\n            if (this._loop !== newState.loop) {\n                this._loop = newState.loop;\n                changeEvent.loop = true;\n                somethingChanged = true;\n            }\n        }\n        if (typeof newState.isSearching !== 'undefined') {\n            if (this._isSearching !== newState.isSearching) {\n                this._isSearching = newState.isSearching;\n                changeEvent.isSearching = true;\n                somethingChanged = true;\n            }\n        }\n        if (typeof newState.filters !== 'undefined') {\n            if (this._filters) {\n                this._filters.update(newState.filters);\n            }\n            else {\n                this._filters = newState.filters;\n            }\n            changeEvent.filters = true;\n            somethingChanged = true;\n        }\n        // Overrides get set when they explicitly come in and get reset anytime something else changes\n        this._isRegexOverride = (typeof newState.isRegexOverride !== 'undefined' ? newState.isRegexOverride : 0 /* FindOptionOverride.NotSet */);\n        this._wholeWordOverride = (typeof newState.wholeWordOverride !== 'undefined' ? newState.wholeWordOverride : 0 /* FindOptionOverride.NotSet */);\n        this._matchCaseOverride = (typeof newState.matchCaseOverride !== 'undefined' ? newState.matchCaseOverride : 0 /* FindOptionOverride.NotSet */);\n        this._preserveCaseOverride = (typeof newState.preserveCaseOverride !== 'undefined' ? newState.preserveCaseOverride : 0 /* FindOptionOverride.NotSet */);\n        if (oldEffectiveIsRegex !== this.isRegex) {\n            somethingChanged = true;\n            changeEvent.isRegex = true;\n        }\n        if (oldEffectiveWholeWords !== this.wholeWord) {\n            somethingChanged = true;\n            changeEvent.wholeWord = true;\n        }\n        if (oldEffectiveMatchCase !== this.matchCase) {\n            somethingChanged = true;\n            changeEvent.matchCase = true;\n        }\n        if (oldEffectivePreserveCase !== this.preserveCase) {\n            somethingChanged = true;\n            changeEvent.preserveCase = true;\n        }\n        if (somethingChanged) {\n            this._onFindReplaceStateChange.fire(changeEvent);\n        }\n    }\n    canNavigateBack() {\n        return this.canNavigateInLoop() || (this.matchesPosition !== 1);\n    }\n    canNavigateForward() {\n        return this.canNavigateInLoop() || (this.matchesPosition < this.matchesCount);\n    }\n    canNavigateInLoop() {\n        return this._loop || (this.matchesCount >= MATCHES_LIMIT);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { alert as alertFn } from '../../../../base/browser/ui/aria/aria.js';\nimport { Toggle } from '../../../../base/browser/ui/toggle/toggle.js';\nimport { Sash } from '../../../../base/browser/ui/sash/sash.js';\nimport { Widget } from '../../../../base/browser/ui/widget.js';\nimport { Delayer } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { toDisposable } from '../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport './findWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { CONTEXT_FIND_INPUT_FOCUSED, CONTEXT_REPLACE_INPUT_FOCUSED, FIND_IDS, MATCHES_LIMIT } from './findModel.js';\nimport * as nls from '../../../../nls.js';\nimport { ContextScopedFindInput, ContextScopedReplaceInput } from '../../../../platform/history/browser/contextScopedHistoryWidget.js';\nimport { showHistoryKeybindingHint } from '../../../../platform/history/browser/historyWidgetKeybindingHint.js';\nimport { asCssVariable, contrastBorder, editorFindMatch, editorFindMatchBorder, editorFindMatchHighlight, editorFindMatchHighlightBorder, editorFindRangeHighlight, editorFindRangeHighlightBorder, editorWidgetBackground, editorWidgetBorder, editorWidgetForeground, editorWidgetResizeBorder, errorForeground, focusBorder, inputActiveOptionBackground, inputActiveOptionBorder, inputActiveOptionForeground, toolbarHoverBackground, widgetBorder, widgetShadow } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerIcon, widgetClose } from '../../../../platform/theme/common/iconRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { isHighContrast } from '../../../../platform/theme/common/theme.js';\nimport { assertIsDefined } from '../../../../base/common/types.js';\nimport { defaultInputBoxStyles, defaultToggleStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nconst findSelectionIcon = registerIcon('find-selection', Codicon.selection, nls.localize('findSelectionIcon', 'Icon for \\'Find in Selection\\' in the editor find widget.'));\nconst findCollapsedIcon = registerIcon('find-collapsed', Codicon.chevronRight, nls.localize('findCollapsedIcon', 'Icon to indicate that the editor find widget is collapsed.'));\nconst findExpandedIcon = registerIcon('find-expanded', Codicon.chevronDown, nls.localize('findExpandedIcon', 'Icon to indicate that the editor find widget is expanded.'));\nexport const findReplaceIcon = registerIcon('find-replace', Codicon.replace, nls.localize('findReplaceIcon', 'Icon for \\'Replace\\' in the editor find widget.'));\nexport const findReplaceAllIcon = registerIcon('find-replace-all', Codicon.replaceAll, nls.localize('findReplaceAllIcon', 'Icon for \\'Replace All\\' in the editor find widget.'));\nexport const findPreviousMatchIcon = registerIcon('find-previous-match', Codicon.arrowUp, nls.localize('findPreviousMatchIcon', 'Icon for \\'Find Previous\\' in the editor find widget.'));\nexport const findNextMatchIcon = registerIcon('find-next-match', Codicon.arrowDown, nls.localize('findNextMatchIcon', 'Icon for \\'Find Next\\' in the editor find widget.'));\nconst NLS_FIND_INPUT_LABEL = nls.localize('label.find', \"Find\");\nconst NLS_FIND_INPUT_PLACEHOLDER = nls.localize('placeholder.find', \"Find\");\nconst NLS_PREVIOUS_MATCH_BTN_LABEL = nls.localize('label.previousMatchButton', \"Previous Match\");\nconst NLS_NEXT_MATCH_BTN_LABEL = nls.localize('label.nextMatchButton', \"Next Match\");\nconst NLS_TOGGLE_SELECTION_FIND_TITLE = nls.localize('label.toggleSelectionFind', \"Find in Selection\");\nconst NLS_CLOSE_BTN_LABEL = nls.localize('label.closeButton', \"Close\");\nconst NLS_REPLACE_INPUT_LABEL = nls.localize('label.replace', \"Replace\");\nconst NLS_REPLACE_INPUT_PLACEHOLDER = nls.localize('placeholder.replace', \"Replace\");\nconst NLS_REPLACE_BTN_LABEL = nls.localize('label.replaceButton', \"Replace\");\nconst NLS_REPLACE_ALL_BTN_LABEL = nls.localize('label.replaceAllButton', \"Replace All\");\nconst NLS_TOGGLE_REPLACE_MODE_BTN_LABEL = nls.localize('label.toggleReplaceButton', \"Toggle Replace\");\nconst NLS_MATCHES_COUNT_LIMIT_TITLE = nls.localize('title.matchesCountLimit', \"Only the first {0} results are highlighted, but all find operations work on the entire text.\", MATCHES_LIMIT);\nexport const NLS_MATCHES_LOCATION = nls.localize('label.matchesLocation', \"{0} of {1}\");\nexport const NLS_NO_RESULTS = nls.localize('label.noResults', \"No results\");\nconst FIND_WIDGET_INITIAL_WIDTH = 419;\nconst PART_WIDTH = 275;\nconst FIND_INPUT_AREA_WIDTH = PART_WIDTH - 54;\nlet MAX_MATCHES_COUNT_WIDTH = 69;\n// let FIND_ALL_CONTROLS_WIDTH = 17/** Find Input margin-left */ + (MAX_MATCHES_COUNT_WIDTH + 3 + 1) /** Match Results */ + 23 /** Button */ * 4 + 2/** sash */;\nconst FIND_INPUT_AREA_HEIGHT = 33; // The height of Find Widget when Replace Input is not visible.\nconst ctrlEnterReplaceAllWarningPromptedKey = 'ctrlEnterReplaceAll.windows.donotask';\nconst ctrlKeyMod = (platform.isMacintosh ? 256 /* KeyMod.WinCtrl */ : 2048 /* KeyMod.CtrlCmd */);\nexport class FindWidgetViewZone {\n    constructor(afterLineNumber) {\n        this.afterLineNumber = afterLineNumber;\n        this.heightInPx = FIND_INPUT_AREA_HEIGHT;\n        this.suppressMouseDown = false;\n        this.domNode = document.createElement('div');\n        this.domNode.className = 'dock-find-viewzone';\n    }\n}\nfunction stopPropagationForMultiLineUpwards(event, value, textarea) {\n    const isMultiline = !!value.match(/\\n/);\n    if (textarea && isMultiline && textarea.selectionStart > 0) {\n        event.stopPropagation();\n        return;\n    }\n}\nfunction stopPropagationForMultiLineDownwards(event, value, textarea) {\n    const isMultiline = !!value.match(/\\n/);\n    if (textarea && isMultiline && textarea.selectionEnd < textarea.value.length) {\n        event.stopPropagation();\n        return;\n    }\n}\nexport class FindWidget extends Widget {\n    constructor(codeEditor, controller, state, contextViewProvider, keybindingService, contextKeyService, themeService, storageService, notificationService) {\n        super();\n        this._cachedHeight = null;\n        this._revealTimeouts = [];\n        this._codeEditor = codeEditor;\n        this._controller = controller;\n        this._state = state;\n        this._contextViewProvider = contextViewProvider;\n        this._keybindingService = keybindingService;\n        this._contextKeyService = contextKeyService;\n        this._storageService = storageService;\n        this._notificationService = notificationService;\n        this._ctrlEnterReplaceAllWarningPrompted = !!storageService.getBoolean(ctrlEnterReplaceAllWarningPromptedKey, 0 /* StorageScope.PROFILE */);\n        this._isVisible = false;\n        this._isReplaceVisible = false;\n        this._ignoreChangeEvent = false;\n        this._updateHistoryDelayer = new Delayer(500);\n        this._register(toDisposable(() => this._updateHistoryDelayer.cancel()));\n        this._register(this._state.onFindReplaceStateChange((e) => this._onStateChanged(e)));\n        this._buildDomNode();\n        this._updateButtons();\n        this._tryUpdateWidgetWidth();\n        this._findInput.inputBox.layout();\n        this._register(this._codeEditor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(88 /* EditorOption.readOnly */)) {\n                if (this._codeEditor.getOption(88 /* EditorOption.readOnly */)) {\n                    // Hide replace part if editor becomes read only\n                    this._state.change({ isReplaceRevealed: false }, false);\n                }\n                this._updateButtons();\n            }\n            if (e.hasChanged(140 /* EditorOption.layoutInfo */)) {\n                this._tryUpdateWidgetWidth();\n            }\n            if (e.hasChanged(2 /* EditorOption.accessibilitySupport */)) {\n                this.updateAccessibilitySupport();\n            }\n            if (e.hasChanged(39 /* EditorOption.find */)) {\n                const supportLoop = this._codeEditor.getOption(39 /* EditorOption.find */).loop;\n                this._state.change({ loop: supportLoop }, false);\n                const addExtraSpaceOnTop = this._codeEditor.getOption(39 /* EditorOption.find */).addExtraSpaceOnTop;\n                if (addExtraSpaceOnTop && !this._viewZone) {\n                    this._viewZone = new FindWidgetViewZone(0);\n                    this._showViewZone();\n                }\n                if (!addExtraSpaceOnTop && this._viewZone) {\n                    this._removeViewZone();\n                }\n            }\n        }));\n        this.updateAccessibilitySupport();\n        this._register(this._codeEditor.onDidChangeCursorSelection(() => {\n            if (this._isVisible) {\n                this._updateToggleSelectionFindButton();\n            }\n        }));\n        this._register(this._codeEditor.onDidFocusEditorWidget(() => __awaiter(this, void 0, void 0, function* () {\n            if (this._isVisible) {\n                const globalBufferTerm = yield this._controller.getGlobalBufferTerm();\n                if (globalBufferTerm && globalBufferTerm !== this._state.searchString) {\n                    this._state.change({ searchString: globalBufferTerm }, false);\n                    this._findInput.select();\n                }\n            }\n        })));\n        this._findInputFocused = CONTEXT_FIND_INPUT_FOCUSED.bindTo(contextKeyService);\n        this._findFocusTracker = this._register(dom.trackFocus(this._findInput.inputBox.inputElement));\n        this._register(this._findFocusTracker.onDidFocus(() => {\n            this._findInputFocused.set(true);\n            this._updateSearchScope();\n        }));\n        this._register(this._findFocusTracker.onDidBlur(() => {\n            this._findInputFocused.set(false);\n        }));\n        this._replaceInputFocused = CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(contextKeyService);\n        this._replaceFocusTracker = this._register(dom.trackFocus(this._replaceInput.inputBox.inputElement));\n        this._register(this._replaceFocusTracker.onDidFocus(() => {\n            this._replaceInputFocused.set(true);\n            this._updateSearchScope();\n        }));\n        this._register(this._replaceFocusTracker.onDidBlur(() => {\n            this._replaceInputFocused.set(false);\n        }));\n        this._codeEditor.addOverlayWidget(this);\n        if (this._codeEditor.getOption(39 /* EditorOption.find */).addExtraSpaceOnTop) {\n            this._viewZone = new FindWidgetViewZone(0); // Put it before the first line then users can scroll beyond the first line.\n        }\n        this._register(this._codeEditor.onDidChangeModel(() => {\n            if (!this._isVisible) {\n                return;\n            }\n            this._viewZoneId = undefined;\n        }));\n        this._register(this._codeEditor.onDidScrollChange((e) => {\n            if (e.scrollTopChanged) {\n                this._layoutViewZone();\n                return;\n            }\n            // for other scroll changes, layout the viewzone in next tick to avoid ruining current rendering.\n            setTimeout(() => {\n                this._layoutViewZone();\n            }, 0);\n        }));\n    }\n    // ----- IOverlayWidget API\n    getId() {\n        return FindWidget.ID;\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        if (this._isVisible) {\n            return {\n                preference: 0 /* OverlayWidgetPositionPreference.TOP_RIGHT_CORNER */\n            };\n        }\n        return null;\n    }\n    // ----- React to state changes\n    _onStateChanged(e) {\n        if (e.searchString) {\n            try {\n                this._ignoreChangeEvent = true;\n                this._findInput.setValue(this._state.searchString);\n            }\n            finally {\n                this._ignoreChangeEvent = false;\n            }\n            this._updateButtons();\n        }\n        if (e.replaceString) {\n            this._replaceInput.inputBox.value = this._state.replaceString;\n        }\n        if (e.isRevealed) {\n            if (this._state.isRevealed) {\n                this._reveal();\n            }\n            else {\n                this._hide(true);\n            }\n        }\n        if (e.isReplaceRevealed) {\n            if (this._state.isReplaceRevealed) {\n                if (!this._codeEditor.getOption(88 /* EditorOption.readOnly */) && !this._isReplaceVisible) {\n                    this._isReplaceVisible = true;\n                    this._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n                    this._updateButtons();\n                    this._replaceInput.inputBox.layout();\n                }\n            }\n            else {\n                if (this._isReplaceVisible) {\n                    this._isReplaceVisible = false;\n                    this._updateButtons();\n                }\n            }\n        }\n        if ((e.isRevealed || e.isReplaceRevealed) && (this._state.isRevealed || this._state.isReplaceRevealed)) {\n            if (this._tryUpdateHeight()) {\n                this._showViewZone();\n            }\n        }\n        if (e.isRegex) {\n            this._findInput.setRegex(this._state.isRegex);\n        }\n        if (e.wholeWord) {\n            this._findInput.setWholeWords(this._state.wholeWord);\n        }\n        if (e.matchCase) {\n            this._findInput.setCaseSensitive(this._state.matchCase);\n        }\n        if (e.preserveCase) {\n            this._replaceInput.setPreserveCase(this._state.preserveCase);\n        }\n        if (e.searchScope) {\n            if (this._state.searchScope) {\n                this._toggleSelectionFind.checked = true;\n            }\n            else {\n                this._toggleSelectionFind.checked = false;\n            }\n            this._updateToggleSelectionFindButton();\n        }\n        if (e.searchString || e.matchesCount || e.matchesPosition) {\n            const showRedOutline = (this._state.searchString.length > 0 && this._state.matchesCount === 0);\n            this._domNode.classList.toggle('no-results', showRedOutline);\n            this._updateMatchesCount();\n            this._updateButtons();\n        }\n        if (e.searchString || e.currentMatch) {\n            this._layoutViewZone();\n        }\n        if (e.updateHistory) {\n            this._delayedUpdateHistory();\n        }\n        if (e.loop) {\n            this._updateButtons();\n        }\n    }\n    _delayedUpdateHistory() {\n        this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(undefined, onUnexpectedError);\n    }\n    _updateHistory() {\n        if (this._state.searchString) {\n            this._findInput.inputBox.addToHistory();\n        }\n        if (this._state.replaceString) {\n            this._replaceInput.inputBox.addToHistory();\n        }\n    }\n    _updateMatchesCount() {\n        this._matchesCount.style.minWidth = MAX_MATCHES_COUNT_WIDTH + 'px';\n        if (this._state.matchesCount >= MATCHES_LIMIT) {\n            this._matchesCount.title = NLS_MATCHES_COUNT_LIMIT_TITLE;\n        }\n        else {\n            this._matchesCount.title = '';\n        }\n        // remove previous content\n        if (this._matchesCount.firstChild) {\n            this._matchesCount.removeChild(this._matchesCount.firstChild);\n        }\n        let label;\n        if (this._state.matchesCount > 0) {\n            let matchesCount = String(this._state.matchesCount);\n            if (this._state.matchesCount >= MATCHES_LIMIT) {\n                matchesCount += '+';\n            }\n            let matchesPosition = String(this._state.matchesPosition);\n            if (matchesPosition === '0') {\n                matchesPosition = '?';\n            }\n            label = strings.format(NLS_MATCHES_LOCATION, matchesPosition, matchesCount);\n        }\n        else {\n            label = NLS_NO_RESULTS;\n        }\n        this._matchesCount.appendChild(document.createTextNode(label));\n        alertFn(this._getAriaLabel(label, this._state.currentMatch, this._state.searchString));\n        MAX_MATCHES_COUNT_WIDTH = Math.max(MAX_MATCHES_COUNT_WIDTH, this._matchesCount.clientWidth);\n    }\n    // ----- actions\n    _getAriaLabel(label, currentMatch, searchString) {\n        if (label === NLS_NO_RESULTS) {\n            return searchString === ''\n                ? nls.localize('ariaSearchNoResultEmpty', \"{0} found\", label)\n                : nls.localize('ariaSearchNoResult', \"{0} found for '{1}'\", label, searchString);\n        }\n        if (currentMatch) {\n            const ariaLabel = nls.localize('ariaSearchNoResultWithLineNum', \"{0} found for '{1}', at {2}\", label, searchString, currentMatch.startLineNumber + ':' + currentMatch.startColumn);\n            const model = this._codeEditor.getModel();\n            if (model && (currentMatch.startLineNumber <= model.getLineCount()) && (currentMatch.startLineNumber >= 1)) {\n                const lineContent = model.getLineContent(currentMatch.startLineNumber);\n                return `${lineContent}, ${ariaLabel}`;\n            }\n            return ariaLabel;\n        }\n        return nls.localize('ariaSearchNoResultWithLineNumNoCurrentMatch', \"{0} found for '{1}'\", label, searchString);\n    }\n    /**\n     * If 'selection find' is ON we should not disable the button (its function is to cancel 'selection find').\n     * If 'selection find' is OFF we enable the button only if there is a selection.\n     */\n    _updateToggleSelectionFindButton() {\n        const selection = this._codeEditor.getSelection();\n        const isSelection = selection ? (selection.startLineNumber !== selection.endLineNumber || selection.startColumn !== selection.endColumn) : false;\n        const isChecked = this._toggleSelectionFind.checked;\n        if (this._isVisible && (isChecked || isSelection)) {\n            this._toggleSelectionFind.enable();\n        }\n        else {\n            this._toggleSelectionFind.disable();\n        }\n    }\n    _updateButtons() {\n        this._findInput.setEnabled(this._isVisible);\n        this._replaceInput.setEnabled(this._isVisible && this._isReplaceVisible);\n        this._updateToggleSelectionFindButton();\n        this._closeBtn.setEnabled(this._isVisible);\n        const findInputIsNonEmpty = (this._state.searchString.length > 0);\n        const matchesCount = this._state.matchesCount ? true : false;\n        this._prevBtn.setEnabled(this._isVisible && findInputIsNonEmpty && matchesCount && this._state.canNavigateBack());\n        this._nextBtn.setEnabled(this._isVisible && findInputIsNonEmpty && matchesCount && this._state.canNavigateForward());\n        this._replaceBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\n        this._replaceAllBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\n        this._domNode.classList.toggle('replaceToggled', this._isReplaceVisible);\n        this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\n        const canReplace = !this._codeEditor.getOption(88 /* EditorOption.readOnly */);\n        this._toggleReplaceBtn.setEnabled(this._isVisible && canReplace);\n    }\n    _reveal() {\n        this._revealTimeouts.forEach(e => {\n            clearTimeout(e);\n        });\n        this._revealTimeouts = [];\n        if (!this._isVisible) {\n            this._isVisible = true;\n            const selection = this._codeEditor.getSelection();\n            switch (this._codeEditor.getOption(39 /* EditorOption.find */).autoFindInSelection) {\n                case 'always':\n                    this._toggleSelectionFind.checked = true;\n                    break;\n                case 'never':\n                    this._toggleSelectionFind.checked = false;\n                    break;\n                case 'multiline': {\n                    const isSelectionMultipleLine = !!selection && selection.startLineNumber !== selection.endLineNumber;\n                    this._toggleSelectionFind.checked = isSelectionMultipleLine;\n                    break;\n                }\n                default:\n                    break;\n            }\n            this._tryUpdateWidgetWidth();\n            this._updateButtons();\n            this._revealTimeouts.push(setTimeout(() => {\n                this._domNode.classList.add('visible');\n                this._domNode.setAttribute('aria-hidden', 'false');\n            }, 0));\n            // validate query again as it's being dismissed when we hide the find widget.\n            this._revealTimeouts.push(setTimeout(() => {\n                this._findInput.validate();\n            }, 200));\n            this._codeEditor.layoutOverlayWidget(this);\n            let adjustEditorScrollTop = true;\n            if (this._codeEditor.getOption(39 /* EditorOption.find */).seedSearchStringFromSelection && selection) {\n                const domNode = this._codeEditor.getDomNode();\n                if (domNode) {\n                    const editorCoords = dom.getDomNodePagePosition(domNode);\n                    const startCoords = this._codeEditor.getScrolledVisiblePosition(selection.getStartPosition());\n                    const startLeft = editorCoords.left + (startCoords ? startCoords.left : 0);\n                    const startTop = startCoords ? startCoords.top : 0;\n                    if (this._viewZone && startTop < this._viewZone.heightInPx) {\n                        if (selection.endLineNumber > selection.startLineNumber) {\n                            adjustEditorScrollTop = false;\n                        }\n                        const leftOfFindWidget = dom.getTopLeftOffset(this._domNode).left;\n                        if (startLeft > leftOfFindWidget) {\n                            adjustEditorScrollTop = false;\n                        }\n                        const endCoords = this._codeEditor.getScrolledVisiblePosition(selection.getEndPosition());\n                        const endLeft = editorCoords.left + (endCoords ? endCoords.left : 0);\n                        if (endLeft > leftOfFindWidget) {\n                            adjustEditorScrollTop = false;\n                        }\n                    }\n                }\n            }\n            this._showViewZone(adjustEditorScrollTop);\n        }\n    }\n    _hide(focusTheEditor) {\n        this._revealTimeouts.forEach(e => {\n            clearTimeout(e);\n        });\n        this._revealTimeouts = [];\n        if (this._isVisible) {\n            this._isVisible = false;\n            this._updateButtons();\n            this._domNode.classList.remove('visible');\n            this._domNode.setAttribute('aria-hidden', 'true');\n            this._findInput.clearMessage();\n            if (focusTheEditor) {\n                this._codeEditor.focus();\n            }\n            this._codeEditor.layoutOverlayWidget(this);\n            this._removeViewZone();\n        }\n    }\n    _layoutViewZone(targetScrollTop) {\n        const addExtraSpaceOnTop = this._codeEditor.getOption(39 /* EditorOption.find */).addExtraSpaceOnTop;\n        if (!addExtraSpaceOnTop) {\n            this._removeViewZone();\n            return;\n        }\n        if (!this._isVisible) {\n            return;\n        }\n        const viewZone = this._viewZone;\n        if (this._viewZoneId !== undefined || !viewZone) {\n            return;\n        }\n        this._codeEditor.changeViewZones((accessor) => {\n            viewZone.heightInPx = this._getHeight();\n            this._viewZoneId = accessor.addZone(viewZone);\n            // scroll top adjust to make sure the editor doesn't scroll when adding viewzone at the beginning.\n            this._codeEditor.setScrollTop(targetScrollTop || this._codeEditor.getScrollTop() + viewZone.heightInPx);\n        });\n    }\n    _showViewZone(adjustScroll = true) {\n        if (!this._isVisible) {\n            return;\n        }\n        const addExtraSpaceOnTop = this._codeEditor.getOption(39 /* EditorOption.find */).addExtraSpaceOnTop;\n        if (!addExtraSpaceOnTop) {\n            return;\n        }\n        if (this._viewZone === undefined) {\n            this._viewZone = new FindWidgetViewZone(0);\n        }\n        const viewZone = this._viewZone;\n        this._codeEditor.changeViewZones((accessor) => {\n            if (this._viewZoneId !== undefined) {\n                // the view zone already exists, we need to update the height\n                const newHeight = this._getHeight();\n                if (newHeight === viewZone.heightInPx) {\n                    return;\n                }\n                const scrollAdjustment = newHeight - viewZone.heightInPx;\n                viewZone.heightInPx = newHeight;\n                accessor.layoutZone(this._viewZoneId);\n                if (adjustScroll) {\n                    this._codeEditor.setScrollTop(this._codeEditor.getScrollTop() + scrollAdjustment);\n                }\n                return;\n            }\n            else {\n                let scrollAdjustment = this._getHeight();\n                // if the editor has top padding, factor that into the zone height\n                scrollAdjustment -= this._codeEditor.getOption(81 /* EditorOption.padding */).top;\n                if (scrollAdjustment <= 0) {\n                    return;\n                }\n                viewZone.heightInPx = scrollAdjustment;\n                this._viewZoneId = accessor.addZone(viewZone);\n                if (adjustScroll) {\n                    this._codeEditor.setScrollTop(this._codeEditor.getScrollTop() + scrollAdjustment);\n                }\n            }\n        });\n    }\n    _removeViewZone() {\n        this._codeEditor.changeViewZones((accessor) => {\n            if (this._viewZoneId !== undefined) {\n                accessor.removeZone(this._viewZoneId);\n                this._viewZoneId = undefined;\n                if (this._viewZone) {\n                    this._codeEditor.setScrollTop(this._codeEditor.getScrollTop() - this._viewZone.heightInPx);\n                    this._viewZone = undefined;\n                }\n            }\n        });\n    }\n    _tryUpdateWidgetWidth() {\n        if (!this._isVisible) {\n            return;\n        }\n        if (!dom.isInDOM(this._domNode)) {\n            // the widget is not in the DOM\n            return;\n        }\n        const layoutInfo = this._codeEditor.getLayoutInfo();\n        const editorContentWidth = layoutInfo.contentWidth;\n        if (editorContentWidth <= 0) {\n            // for example, diff view original editor\n            this._domNode.classList.add('hiddenEditor');\n            return;\n        }\n        else if (this._domNode.classList.contains('hiddenEditor')) {\n            this._domNode.classList.remove('hiddenEditor');\n        }\n        const editorWidth = layoutInfo.width;\n        const minimapWidth = layoutInfo.minimap.minimapWidth;\n        let collapsedFindWidget = false;\n        let reducedFindWidget = false;\n        let narrowFindWidget = false;\n        if (this._resized) {\n            const widgetWidth = dom.getTotalWidth(this._domNode);\n            if (widgetWidth > FIND_WIDGET_INITIAL_WIDTH) {\n                // as the widget is resized by users, we may need to change the max width of the widget as the editor width changes.\n                this._domNode.style.maxWidth = `${editorWidth - 28 - minimapWidth - 15}px`;\n                this._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n                return;\n            }\n        }\n        if (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth >= editorWidth) {\n            reducedFindWidget = true;\n        }\n        if (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth - MAX_MATCHES_COUNT_WIDTH >= editorWidth) {\n            narrowFindWidget = true;\n        }\n        if (FIND_WIDGET_INITIAL_WIDTH + 28 + minimapWidth - MAX_MATCHES_COUNT_WIDTH >= editorWidth + 50) {\n            collapsedFindWidget = true;\n        }\n        this._domNode.classList.toggle('collapsed-find-widget', collapsedFindWidget);\n        this._domNode.classList.toggle('narrow-find-widget', narrowFindWidget);\n        this._domNode.classList.toggle('reduced-find-widget', reducedFindWidget);\n        if (!narrowFindWidget && !collapsedFindWidget) {\n            // the minimal left offset of findwidget is 15px.\n            this._domNode.style.maxWidth = `${editorWidth - 28 - minimapWidth - 15}px`;\n        }\n        this._findInput.layout({ collapsedFindWidget, narrowFindWidget, reducedFindWidget });\n        if (this._resized) {\n            const findInputWidth = this._findInput.inputBox.element.clientWidth;\n            if (findInputWidth > 0) {\n                this._replaceInput.width = findInputWidth;\n            }\n        }\n        else if (this._isReplaceVisible) {\n            this._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n        }\n    }\n    _getHeight() {\n        let totalheight = 0;\n        // find input margin top\n        totalheight += 4;\n        // find input height\n        totalheight += this._findInput.inputBox.height + 2 /** input box border */;\n        if (this._isReplaceVisible) {\n            // replace input margin\n            totalheight += 4;\n            totalheight += this._replaceInput.inputBox.height + 2 /** input box border */;\n        }\n        // margin bottom\n        totalheight += 4;\n        return totalheight;\n    }\n    _tryUpdateHeight() {\n        const totalHeight = this._getHeight();\n        if (this._cachedHeight !== null && this._cachedHeight === totalHeight) {\n            return false;\n        }\n        this._cachedHeight = totalHeight;\n        this._domNode.style.height = `${totalHeight}px`;\n        return true;\n    }\n    // ----- Public\n    focusFindInput() {\n        this._findInput.select();\n        // Edge browser requires focus() in addition to select()\n        this._findInput.focus();\n    }\n    focusReplaceInput() {\n        this._replaceInput.select();\n        // Edge browser requires focus() in addition to select()\n        this._replaceInput.focus();\n    }\n    highlightFindOptions() {\n        this._findInput.highlightFindOptions();\n    }\n    _updateSearchScope() {\n        if (!this._codeEditor.hasModel()) {\n            return;\n        }\n        if (this._toggleSelectionFind.checked) {\n            const selections = this._codeEditor.getSelections();\n            selections.map(selection => {\n                if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\n                    selection = selection.setEndPosition(selection.endLineNumber - 1, this._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber - 1));\n                }\n                const currentMatch = this._state.currentMatch;\n                if (selection.startLineNumber !== selection.endLineNumber) {\n                    if (!Range.equalsRange(selection, currentMatch)) {\n                        return selection;\n                    }\n                }\n                return null;\n            }).filter(element => !!element);\n            if (selections.length) {\n                this._state.change({ searchScope: selections }, true);\n            }\n        }\n    }\n    _onFindInputMouseDown(e) {\n        // on linux, middle key does pasting.\n        if (e.middleButton) {\n            e.stopPropagation();\n        }\n    }\n    _onFindInputKeyDown(e) {\n        if (e.equals(ctrlKeyMod | 3 /* KeyCode.Enter */)) {\n            if (this._keybindingService.dispatchEvent(e, e.target)) {\n                e.preventDefault();\n                return;\n            }\n            else {\n                this._findInput.inputBox.insertAtCursor('\\n');\n                e.preventDefault();\n                return;\n            }\n        }\n        if (e.equals(2 /* KeyCode.Tab */)) {\n            if (this._isReplaceVisible) {\n                this._replaceInput.focus();\n            }\n            else {\n                this._findInput.focusOnCaseSensitive();\n            }\n            e.preventDefault();\n            return;\n        }\n        if (e.equals(2048 /* KeyMod.CtrlCmd */ | 18 /* KeyCode.DownArrow */)) {\n            this._codeEditor.focus();\n            e.preventDefault();\n            return;\n        }\n        if (e.equals(16 /* KeyCode.UpArrow */)) {\n            return stopPropagationForMultiLineUpwards(e, this._findInput.getValue(), this._findInput.domNode.querySelector('textarea'));\n        }\n        if (e.equals(18 /* KeyCode.DownArrow */)) {\n            return stopPropagationForMultiLineDownwards(e, this._findInput.getValue(), this._findInput.domNode.querySelector('textarea'));\n        }\n    }\n    _onReplaceInputKeyDown(e) {\n        if (e.equals(ctrlKeyMod | 3 /* KeyCode.Enter */)) {\n            if (this._keybindingService.dispatchEvent(e, e.target)) {\n                e.preventDefault();\n                return;\n            }\n            else {\n                if (platform.isWindows && platform.isNative && !this._ctrlEnterReplaceAllWarningPrompted) {\n                    // this is the first time when users press Ctrl + Enter to replace all\n                    this._notificationService.info(nls.localize('ctrlEnter.keybindingChanged', 'Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.'));\n                    this._ctrlEnterReplaceAllWarningPrompted = true;\n                    this._storageService.store(ctrlEnterReplaceAllWarningPromptedKey, true, 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n                }\n                this._replaceInput.inputBox.insertAtCursor('\\n');\n                e.preventDefault();\n                return;\n            }\n        }\n        if (e.equals(2 /* KeyCode.Tab */)) {\n            this._findInput.focusOnCaseSensitive();\n            e.preventDefault();\n            return;\n        }\n        if (e.equals(1024 /* KeyMod.Shift */ | 2 /* KeyCode.Tab */)) {\n            this._findInput.focus();\n            e.preventDefault();\n            return;\n        }\n        if (e.equals(2048 /* KeyMod.CtrlCmd */ | 18 /* KeyCode.DownArrow */)) {\n            this._codeEditor.focus();\n            e.preventDefault();\n            return;\n        }\n        if (e.equals(16 /* KeyCode.UpArrow */)) {\n            return stopPropagationForMultiLineUpwards(e, this._replaceInput.inputBox.value, this._replaceInput.inputBox.element.querySelector('textarea'));\n        }\n        if (e.equals(18 /* KeyCode.DownArrow */)) {\n            return stopPropagationForMultiLineDownwards(e, this._replaceInput.inputBox.value, this._replaceInput.inputBox.element.querySelector('textarea'));\n        }\n    }\n    // ----- sash\n    getVerticalSashLeft(_sash) {\n        return 0;\n    }\n    // ----- initialization\n    _keybindingLabelFor(actionId) {\n        const kb = this._keybindingService.lookupKeybinding(actionId);\n        if (!kb) {\n            return '';\n        }\n        return ` (${kb.getLabel()})`;\n    }\n    _buildDomNode() {\n        const flexibleHeight = true;\n        const flexibleWidth = true;\n        // Find input\n        this._findInput = this._register(new ContextScopedFindInput(null, this._contextViewProvider, {\n            width: FIND_INPUT_AREA_WIDTH,\n            label: NLS_FIND_INPUT_LABEL,\n            placeholder: NLS_FIND_INPUT_PLACEHOLDER,\n            appendCaseSensitiveLabel: this._keybindingLabelFor(FIND_IDS.ToggleCaseSensitiveCommand),\n            appendWholeWordsLabel: this._keybindingLabelFor(FIND_IDS.ToggleWholeWordCommand),\n            appendRegexLabel: this._keybindingLabelFor(FIND_IDS.ToggleRegexCommand),\n            validation: (value) => {\n                if (value.length === 0 || !this._findInput.getRegex()) {\n                    return null;\n                }\n                try {\n                    // use `g` and `u` which are also used by the TextModel search\n                    new RegExp(value, 'gu');\n                    return null;\n                }\n                catch (e) {\n                    return { content: e.message };\n                }\n            },\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight: 118,\n            showCommonFindToggles: true,\n            showHistoryHint: () => showHistoryKeybindingHint(this._keybindingService),\n            inputBoxStyles: defaultInputBoxStyles,\n            toggleStyles: defaultToggleStyles\n        }, this._contextKeyService));\n        this._findInput.setRegex(!!this._state.isRegex);\n        this._findInput.setCaseSensitive(!!this._state.matchCase);\n        this._findInput.setWholeWords(!!this._state.wholeWord);\n        this._register(this._findInput.onKeyDown((e) => this._onFindInputKeyDown(e)));\n        this._register(this._findInput.inputBox.onDidChange(() => {\n            if (this._ignoreChangeEvent) {\n                return;\n            }\n            this._state.change({ searchString: this._findInput.getValue() }, true);\n        }));\n        this._register(this._findInput.onDidOptionChange(() => {\n            this._state.change({\n                isRegex: this._findInput.getRegex(),\n                wholeWord: this._findInput.getWholeWords(),\n                matchCase: this._findInput.getCaseSensitive()\n            }, true);\n        }));\n        this._register(this._findInput.onCaseSensitiveKeyDown((e) => {\n            if (e.equals(1024 /* KeyMod.Shift */ | 2 /* KeyCode.Tab */)) {\n                if (this._isReplaceVisible) {\n                    this._replaceInput.focus();\n                    e.preventDefault();\n                }\n            }\n        }));\n        this._register(this._findInput.onRegexKeyDown((e) => {\n            if (e.equals(2 /* KeyCode.Tab */)) {\n                if (this._isReplaceVisible) {\n                    this._replaceInput.focusOnPreserve();\n                    e.preventDefault();\n                }\n            }\n        }));\n        this._register(this._findInput.inputBox.onDidHeightChange((e) => {\n            if (this._tryUpdateHeight()) {\n                this._showViewZone();\n            }\n        }));\n        if (platform.isLinux) {\n            this._register(this._findInput.onMouseDown((e) => this._onFindInputMouseDown(e)));\n        }\n        this._matchesCount = document.createElement('div');\n        this._matchesCount.className = 'matchesCount';\n        this._updateMatchesCount();\n        // Previous button\n        this._prevBtn = this._register(new SimpleButton({\n            label: NLS_PREVIOUS_MATCH_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.PreviousMatchFindAction),\n            icon: findPreviousMatchIcon,\n            onTrigger: () => {\n                assertIsDefined(this._codeEditor.getAction(FIND_IDS.PreviousMatchFindAction)).run().then(undefined, onUnexpectedError);\n            }\n        }));\n        // Next button\n        this._nextBtn = this._register(new SimpleButton({\n            label: NLS_NEXT_MATCH_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.NextMatchFindAction),\n            icon: findNextMatchIcon,\n            onTrigger: () => {\n                assertIsDefined(this._codeEditor.getAction(FIND_IDS.NextMatchFindAction)).run().then(undefined, onUnexpectedError);\n            }\n        }));\n        const findPart = document.createElement('div');\n        findPart.className = 'find-part';\n        findPart.appendChild(this._findInput.domNode);\n        const actionsContainer = document.createElement('div');\n        actionsContainer.className = 'find-actions';\n        findPart.appendChild(actionsContainer);\n        actionsContainer.appendChild(this._matchesCount);\n        actionsContainer.appendChild(this._prevBtn.domNode);\n        actionsContainer.appendChild(this._nextBtn.domNode);\n        // Toggle selection button\n        this._toggleSelectionFind = this._register(new Toggle({\n            icon: findSelectionIcon,\n            title: NLS_TOGGLE_SELECTION_FIND_TITLE + this._keybindingLabelFor(FIND_IDS.ToggleSearchScopeCommand),\n            isChecked: false,\n            inputActiveOptionBackground: asCssVariable(inputActiveOptionBackground),\n            inputActiveOptionBorder: asCssVariable(inputActiveOptionBorder),\n            inputActiveOptionForeground: asCssVariable(inputActiveOptionForeground),\n        }));\n        this._register(this._toggleSelectionFind.onChange(() => {\n            if (this._toggleSelectionFind.checked) {\n                if (this._codeEditor.hasModel()) {\n                    const selections = this._codeEditor.getSelections();\n                    selections.map(selection => {\n                        if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\n                            selection = selection.setEndPosition(selection.endLineNumber - 1, this._codeEditor.getModel().getLineMaxColumn(selection.endLineNumber - 1));\n                        }\n                        if (!selection.isEmpty()) {\n                            return selection;\n                        }\n                        return null;\n                    }).filter(element => !!element);\n                    if (selections.length) {\n                        this._state.change({ searchScope: selections }, true);\n                    }\n                }\n            }\n            else {\n                this._state.change({ searchScope: null }, true);\n            }\n        }));\n        actionsContainer.appendChild(this._toggleSelectionFind.domNode);\n        // Close button\n        this._closeBtn = this._register(new SimpleButton({\n            label: NLS_CLOSE_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.CloseFindWidgetCommand),\n            icon: widgetClose,\n            onTrigger: () => {\n                this._state.change({ isRevealed: false, searchScope: null }, false);\n            },\n            onKeyDown: (e) => {\n                if (e.equals(2 /* KeyCode.Tab */)) {\n                    if (this._isReplaceVisible) {\n                        if (this._replaceBtn.isEnabled()) {\n                            this._replaceBtn.focus();\n                        }\n                        else {\n                            this._codeEditor.focus();\n                        }\n                        e.preventDefault();\n                    }\n                }\n            }\n        }));\n        actionsContainer.appendChild(this._closeBtn.domNode);\n        // Replace input\n        this._replaceInput = this._register(new ContextScopedReplaceInput(null, undefined, {\n            label: NLS_REPLACE_INPUT_LABEL,\n            placeholder: NLS_REPLACE_INPUT_PLACEHOLDER,\n            appendPreserveCaseLabel: this._keybindingLabelFor(FIND_IDS.TogglePreserveCaseCommand),\n            history: [],\n            flexibleHeight,\n            flexibleWidth,\n            flexibleMaxHeight: 118,\n            showHistoryHint: () => showHistoryKeybindingHint(this._keybindingService),\n            inputBoxStyles: defaultInputBoxStyles,\n            toggleStyles: defaultToggleStyles\n        }, this._contextKeyService, true));\n        this._replaceInput.setPreserveCase(!!this._state.preserveCase);\n        this._register(this._replaceInput.onKeyDown((e) => this._onReplaceInputKeyDown(e)));\n        this._register(this._replaceInput.inputBox.onDidChange(() => {\n            this._state.change({ replaceString: this._replaceInput.inputBox.value }, false);\n        }));\n        this._register(this._replaceInput.inputBox.onDidHeightChange((e) => {\n            if (this._isReplaceVisible && this._tryUpdateHeight()) {\n                this._showViewZone();\n            }\n        }));\n        this._register(this._replaceInput.onDidOptionChange(() => {\n            this._state.change({\n                preserveCase: this._replaceInput.getPreserveCase()\n            }, true);\n        }));\n        this._register(this._replaceInput.onPreserveCaseKeyDown((e) => {\n            if (e.equals(2 /* KeyCode.Tab */)) {\n                if (this._prevBtn.isEnabled()) {\n                    this._prevBtn.focus();\n                }\n                else if (this._nextBtn.isEnabled()) {\n                    this._nextBtn.focus();\n                }\n                else if (this._toggleSelectionFind.enabled) {\n                    this._toggleSelectionFind.focus();\n                }\n                else if (this._closeBtn.isEnabled()) {\n                    this._closeBtn.focus();\n                }\n                e.preventDefault();\n            }\n        }));\n        // Replace one button\n        this._replaceBtn = this._register(new SimpleButton({\n            label: NLS_REPLACE_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.ReplaceOneAction),\n            icon: findReplaceIcon,\n            onTrigger: () => {\n                this._controller.replace();\n            },\n            onKeyDown: (e) => {\n                if (e.equals(1024 /* KeyMod.Shift */ | 2 /* KeyCode.Tab */)) {\n                    this._closeBtn.focus();\n                    e.preventDefault();\n                }\n            }\n        }));\n        // Replace all button\n        this._replaceAllBtn = this._register(new SimpleButton({\n            label: NLS_REPLACE_ALL_BTN_LABEL + this._keybindingLabelFor(FIND_IDS.ReplaceAllAction),\n            icon: findReplaceAllIcon,\n            onTrigger: () => {\n                this._controller.replaceAll();\n            }\n        }));\n        const replacePart = document.createElement('div');\n        replacePart.className = 'replace-part';\n        replacePart.appendChild(this._replaceInput.domNode);\n        const replaceActionsContainer = document.createElement('div');\n        replaceActionsContainer.className = 'replace-actions';\n        replacePart.appendChild(replaceActionsContainer);\n        replaceActionsContainer.appendChild(this._replaceBtn.domNode);\n        replaceActionsContainer.appendChild(this._replaceAllBtn.domNode);\n        // Toggle replace button\n        this._toggleReplaceBtn = this._register(new SimpleButton({\n            label: NLS_TOGGLE_REPLACE_MODE_BTN_LABEL,\n            className: 'codicon toggle left',\n            onTrigger: () => {\n                this._state.change({ isReplaceRevealed: !this._isReplaceVisible }, false);\n                if (this._isReplaceVisible) {\n                    this._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n                    this._replaceInput.inputBox.layout();\n                }\n                this._showViewZone();\n            }\n        }));\n        this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\n        // Widget\n        this._domNode = document.createElement('div');\n        this._domNode.className = 'editor-widget find-widget';\n        this._domNode.setAttribute('aria-hidden', 'true');\n        // We need to set this explicitly, otherwise on IE11, the width inheritence of flex doesn't work.\n        this._domNode.style.width = `${FIND_WIDGET_INITIAL_WIDTH}px`;\n        this._domNode.appendChild(this._toggleReplaceBtn.domNode);\n        this._domNode.appendChild(findPart);\n        this._domNode.appendChild(replacePart);\n        this._resizeSash = new Sash(this._domNode, this, { orientation: 0 /* Orientation.VERTICAL */, size: 2 });\n        this._resized = false;\n        let originalWidth = FIND_WIDGET_INITIAL_WIDTH;\n        this._register(this._resizeSash.onDidStart(() => {\n            originalWidth = dom.getTotalWidth(this._domNode);\n        }));\n        this._register(this._resizeSash.onDidChange((evt) => {\n            this._resized = true;\n            const width = originalWidth + evt.startX - evt.currentX;\n            if (width < FIND_WIDGET_INITIAL_WIDTH) {\n                // narrow down the find widget should be handled by CSS.\n                return;\n            }\n            const maxWidth = parseFloat(dom.getComputedStyle(this._domNode).maxWidth) || 0;\n            if (width > maxWidth) {\n                return;\n            }\n            this._domNode.style.width = `${width}px`;\n            if (this._isReplaceVisible) {\n                this._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n            }\n            this._findInput.inputBox.layout();\n            this._tryUpdateHeight();\n        }));\n        this._register(this._resizeSash.onDidReset(() => {\n            // users double click on the sash\n            const currentWidth = dom.getTotalWidth(this._domNode);\n            if (currentWidth < FIND_WIDGET_INITIAL_WIDTH) {\n                // The editor is narrow and the width of the find widget is controlled fully by CSS.\n                return;\n            }\n            let width = FIND_WIDGET_INITIAL_WIDTH;\n            if (!this._resized || currentWidth === FIND_WIDGET_INITIAL_WIDTH) {\n                // 1. never resized before, double click should maximizes it\n                // 2. users resized it already but its width is the same as default\n                const layoutInfo = this._codeEditor.getLayoutInfo();\n                width = layoutInfo.width - 28 - layoutInfo.minimap.minimapWidth - 15;\n                this._resized = true;\n            }\n            else {\n                /**\n                 * no op, the find widget should be shrinked to its default size.\n                 */\n            }\n            this._domNode.style.width = `${width}px`;\n            if (this._isReplaceVisible) {\n                this._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n            }\n            this._findInput.inputBox.layout();\n        }));\n    }\n    updateAccessibilitySupport() {\n        const value = this._codeEditor.getOption(2 /* EditorOption.accessibilitySupport */);\n        this._findInput.setFocusInputOnOptionClick(value !== 2 /* AccessibilitySupport.Enabled */);\n    }\n}\nFindWidget.ID = 'editor.contrib.findWidget';\nexport class SimpleButton extends Widget {\n    constructor(opts) {\n        super();\n        this._opts = opts;\n        let className = 'button';\n        if (this._opts.className) {\n            className = className + ' ' + this._opts.className;\n        }\n        if (this._opts.icon) {\n            className = className + ' ' + ThemeIcon.asClassName(this._opts.icon);\n        }\n        this._domNode = document.createElement('div');\n        this._domNode.title = this._opts.label;\n        this._domNode.tabIndex = 0;\n        this._domNode.className = className;\n        this._domNode.setAttribute('role', 'button');\n        this._domNode.setAttribute('aria-label', this._opts.label);\n        this.onclick(this._domNode, (e) => {\n            this._opts.onTrigger();\n            e.preventDefault();\n        });\n        this.onkeydown(this._domNode, (e) => {\n            var _a, _b;\n            if (e.equals(10 /* KeyCode.Space */) || e.equals(3 /* KeyCode.Enter */)) {\n                this._opts.onTrigger();\n                e.preventDefault();\n                return;\n            }\n            (_b = (_a = this._opts).onKeyDown) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        });\n    }\n    get domNode() {\n        return this._domNode;\n    }\n    isEnabled() {\n        return (this._domNode.tabIndex >= 0);\n    }\n    focus() {\n        this._domNode.focus();\n    }\n    setEnabled(enabled) {\n        this._domNode.classList.toggle('disabled', !enabled);\n        this._domNode.setAttribute('aria-disabled', String(!enabled));\n        this._domNode.tabIndex = enabled ? 0 : -1;\n    }\n    setExpanded(expanded) {\n        this._domNode.setAttribute('aria-expanded', String(!!expanded));\n        if (expanded) {\n            this._domNode.classList.remove(...ThemeIcon.asClassNameArray(findCollapsedIcon));\n            this._domNode.classList.add(...ThemeIcon.asClassNameArray(findExpandedIcon));\n        }\n        else {\n            this._domNode.classList.remove(...ThemeIcon.asClassNameArray(findExpandedIcon));\n            this._domNode.classList.add(...ThemeIcon.asClassNameArray(findCollapsedIcon));\n        }\n    }\n}\n// theming\nregisterThemingParticipant((theme, collector) => {\n    const addBackgroundColorRule = (selector, color) => {\n        if (color) {\n            collector.addRule(`.monaco-editor ${selector} { background-color: ${color}; }`);\n        }\n    };\n    addBackgroundColorRule('.findMatch', theme.getColor(editorFindMatchHighlight));\n    addBackgroundColorRule('.currentFindMatch', theme.getColor(editorFindMatch));\n    addBackgroundColorRule('.findScope', theme.getColor(editorFindRangeHighlight));\n    const widgetBackground = theme.getColor(editorWidgetBackground);\n    addBackgroundColorRule('.find-widget', widgetBackground);\n    const widgetShadowColor = theme.getColor(widgetShadow);\n    if (widgetShadowColor) {\n        collector.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${widgetShadowColor}; }`);\n    }\n    const widgetBorderColor = theme.getColor(widgetBorder);\n    if (widgetBorderColor) {\n        collector.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${widgetBorderColor}; border-right: 1px solid ${widgetBorderColor}; border-bottom: 1px solid ${widgetBorderColor}; }`);\n    }\n    const findMatchHighlightBorder = theme.getColor(editorFindMatchHighlightBorder);\n    if (findMatchHighlightBorder) {\n        collector.addRule(`.monaco-editor .findMatch { border: 1px ${isHighContrast(theme.type) ? 'dotted' : 'solid'} ${findMatchHighlightBorder}; box-sizing: border-box; }`);\n    }\n    const findMatchBorder = theme.getColor(editorFindMatchBorder);\n    if (findMatchBorder) {\n        collector.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${findMatchBorder}; padding: 1px; box-sizing: border-box; }`);\n    }\n    const findRangeHighlightBorder = theme.getColor(editorFindRangeHighlightBorder);\n    if (findRangeHighlightBorder) {\n        collector.addRule(`.monaco-editor .findScope { border: 1px ${isHighContrast(theme.type) ? 'dashed' : 'solid'} ${findRangeHighlightBorder}; }`);\n    }\n    const hcBorder = theme.getColor(contrastBorder);\n    if (hcBorder) {\n        collector.addRule(`.monaco-editor .find-widget { border: 1px solid ${hcBorder}; }`);\n    }\n    const foreground = theme.getColor(editorWidgetForeground);\n    if (foreground) {\n        collector.addRule(`.monaco-editor .find-widget { color: ${foreground}; }`);\n    }\n    const error = theme.getColor(errorForeground);\n    if (error) {\n        collector.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${error}; }`);\n    }\n    const resizeBorderBackground = theme.getColor(editorWidgetResizeBorder);\n    if (resizeBorderBackground) {\n        collector.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${resizeBorderBackground}; }`);\n    }\n    else {\n        const border = theme.getColor(editorWidgetBorder);\n        if (border) {\n            collector.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${border}; }`);\n        }\n    }\n    // Action bars\n    const toolbarHoverBackgroundColor = theme.getColor(toolbarHoverBackground);\n    if (toolbarHoverBackgroundColor) {\n        collector.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${toolbarHoverBackgroundColor} !important;\n\t\t}\n\t`);\n    }\n    // This rule is used to override the outline color for synthetic-focus find input.\n    const focusOutline = theme.getColor(focusBorder);\n    if (focusOutline) {\n        collector.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${focusOutline}; }`);\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Delayer } from '../../../../base/common/async.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { EditorAction, EditorCommand, MultiEditorAction, registerEditorAction, registerEditorCommand, registerEditorContribution, registerMultiEditorAction } from '../../../browser/editorExtensions.js';\nimport { overviewRulerRangeHighlight } from '../../../common/core/editorColorRegistry.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { OverviewRulerLane } from '../../../common/model.js';\nimport { CONTEXT_FIND_INPUT_FOCUSED, CONTEXT_FIND_WIDGET_VISIBLE, CONTEXT_REPLACE_INPUT_FOCUSED, FindModelBoundToEditorModel, FIND_IDS, ToggleCaseSensitiveKeybinding, TogglePreserveCaseKeybinding, ToggleRegexKeybinding, ToggleSearchScopeKeybinding, ToggleWholeWordKeybinding } from './findModel.js';\nimport { FindOptionsWidget } from './findOptionsWidget.js';\nimport { FindReplaceState } from './findState.js';\nimport { FindWidget } from './findWidget.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { INotificationService, Severity } from '../../../../platform/notification/common/notification.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\nimport { IThemeService, themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nconst SEARCH_STRING_MAX_LENGTH = 524288;\nexport function getSelectionSearchString(editor, seedSearchStringFromSelection = 'single', seedSearchStringFromNonEmptySelection = false) {\n    if (!editor.hasModel()) {\n        return null;\n    }\n    const selection = editor.getSelection();\n    // if selection spans multiple lines, default search string to empty\n    if ((seedSearchStringFromSelection === 'single' && selection.startLineNumber === selection.endLineNumber)\n        || seedSearchStringFromSelection === 'multiple') {\n        if (selection.isEmpty()) {\n            const wordAtPosition = editor.getConfiguredWordAtPosition(selection.getStartPosition());\n            if (wordAtPosition && (false === seedSearchStringFromNonEmptySelection)) {\n                return wordAtPosition.word;\n            }\n        }\n        else {\n            if (editor.getModel().getValueLengthInRange(selection) < SEARCH_STRING_MAX_LENGTH) {\n                return editor.getModel().getValueInRange(selection);\n            }\n        }\n    }\n    return null;\n}\nexport let CommonFindController = class CommonFindController extends Disposable {\n    get editor() {\n        return this._editor;\n    }\n    static get(editor) {\n        return editor.getContribution(CommonFindController.ID);\n    }\n    constructor(editor, contextKeyService, storageService, clipboardService) {\n        super();\n        this._editor = editor;\n        this._findWidgetVisible = CONTEXT_FIND_WIDGET_VISIBLE.bindTo(contextKeyService);\n        this._contextKeyService = contextKeyService;\n        this._storageService = storageService;\n        this._clipboardService = clipboardService;\n        this._updateHistoryDelayer = new Delayer(500);\n        this._state = this._register(new FindReplaceState());\n        this.loadQueryState();\n        this._register(this._state.onFindReplaceStateChange((e) => this._onStateChanged(e)));\n        this._model = null;\n        this._register(this._editor.onDidChangeModel(() => {\n            const shouldRestartFind = (this._editor.getModel() && this._state.isRevealed);\n            this.disposeModel();\n            this._state.change({\n                searchScope: null,\n                matchCase: this._storageService.getBoolean('editor.matchCase', 1 /* StorageScope.WORKSPACE */, false),\n                wholeWord: this._storageService.getBoolean('editor.wholeWord', 1 /* StorageScope.WORKSPACE */, false),\n                isRegex: this._storageService.getBoolean('editor.isRegex', 1 /* StorageScope.WORKSPACE */, false),\n                preserveCase: this._storageService.getBoolean('editor.preserveCase', 1 /* StorageScope.WORKSPACE */, false)\n            }, false);\n            if (shouldRestartFind) {\n                this._start({\n                    forceRevealReplace: false,\n                    seedSearchStringFromSelection: 'none',\n                    seedSearchStringFromNonEmptySelection: false,\n                    seedSearchStringFromGlobalClipboard: false,\n                    shouldFocus: 0 /* FindStartFocusAction.NoFocusChange */,\n                    shouldAnimate: false,\n                    updateSearchScope: false,\n                    loop: this._editor.getOption(39 /* EditorOption.find */).loop\n                });\n            }\n        }));\n    }\n    dispose() {\n        this.disposeModel();\n        super.dispose();\n    }\n    disposeModel() {\n        if (this._model) {\n            this._model.dispose();\n            this._model = null;\n        }\n    }\n    _onStateChanged(e) {\n        this.saveQueryState(e);\n        if (e.isRevealed) {\n            if (this._state.isRevealed) {\n                this._findWidgetVisible.set(true);\n            }\n            else {\n                this._findWidgetVisible.reset();\n                this.disposeModel();\n            }\n        }\n        if (e.searchString) {\n            this.setGlobalBufferTerm(this._state.searchString);\n        }\n    }\n    saveQueryState(e) {\n        if (e.isRegex) {\n            this._storageService.store('editor.isRegex', this._state.actualIsRegex, 1 /* StorageScope.WORKSPACE */, 1 /* StorageTarget.MACHINE */);\n        }\n        if (e.wholeWord) {\n            this._storageService.store('editor.wholeWord', this._state.actualWholeWord, 1 /* StorageScope.WORKSPACE */, 1 /* StorageTarget.MACHINE */);\n        }\n        if (e.matchCase) {\n            this._storageService.store('editor.matchCase', this._state.actualMatchCase, 1 /* StorageScope.WORKSPACE */, 1 /* StorageTarget.MACHINE */);\n        }\n        if (e.preserveCase) {\n            this._storageService.store('editor.preserveCase', this._state.actualPreserveCase, 1 /* StorageScope.WORKSPACE */, 1 /* StorageTarget.MACHINE */);\n        }\n    }\n    loadQueryState() {\n        this._state.change({\n            matchCase: this._storageService.getBoolean('editor.matchCase', 1 /* StorageScope.WORKSPACE */, this._state.matchCase),\n            wholeWord: this._storageService.getBoolean('editor.wholeWord', 1 /* StorageScope.WORKSPACE */, this._state.wholeWord),\n            isRegex: this._storageService.getBoolean('editor.isRegex', 1 /* StorageScope.WORKSPACE */, this._state.isRegex),\n            preserveCase: this._storageService.getBoolean('editor.preserveCase', 1 /* StorageScope.WORKSPACE */, this._state.preserveCase)\n        }, false);\n    }\n    isFindInputFocused() {\n        return !!CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService);\n    }\n    getState() {\n        return this._state;\n    }\n    closeFindWidget() {\n        this._state.change({\n            isRevealed: false,\n            searchScope: null\n        }, false);\n        this._editor.focus();\n    }\n    toggleCaseSensitive() {\n        this._state.change({ matchCase: !this._state.matchCase }, false);\n        if (!this._state.isRevealed) {\n            this.highlightFindOptions();\n        }\n    }\n    toggleWholeWords() {\n        this._state.change({ wholeWord: !this._state.wholeWord }, false);\n        if (!this._state.isRevealed) {\n            this.highlightFindOptions();\n        }\n    }\n    toggleRegex() {\n        this._state.change({ isRegex: !this._state.isRegex }, false);\n        if (!this._state.isRevealed) {\n            this.highlightFindOptions();\n        }\n    }\n    togglePreserveCase() {\n        this._state.change({ preserveCase: !this._state.preserveCase }, false);\n        if (!this._state.isRevealed) {\n            this.highlightFindOptions();\n        }\n    }\n    toggleSearchScope() {\n        if (this._state.searchScope) {\n            this._state.change({ searchScope: null }, true);\n        }\n        else {\n            if (this._editor.hasModel()) {\n                const selections = this._editor.getSelections();\n                selections.map(selection => {\n                    if (selection.endColumn === 1 && selection.endLineNumber > selection.startLineNumber) {\n                        selection = selection.setEndPosition(selection.endLineNumber - 1, this._editor.getModel().getLineMaxColumn(selection.endLineNumber - 1));\n                    }\n                    if (!selection.isEmpty()) {\n                        return selection;\n                    }\n                    return null;\n                }).filter(element => !!element);\n                if (selections.length) {\n                    this._state.change({ searchScope: selections }, true);\n                }\n            }\n        }\n    }\n    setSearchString(searchString) {\n        if (this._state.isRegex) {\n            searchString = strings.escapeRegExpCharacters(searchString);\n        }\n        this._state.change({ searchString: searchString }, false);\n    }\n    highlightFindOptions(ignoreWhenVisible = false) {\n        // overwritten in subclass\n    }\n    _start(opts, newState) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.disposeModel();\n            if (!this._editor.hasModel()) {\n                // cannot do anything with an editor that doesn't have a model...\n                return;\n            }\n            const stateChanges = Object.assign(Object.assign({}, newState), { isRevealed: true });\n            if (opts.seedSearchStringFromSelection === 'single') {\n                const selectionSearchString = getSelectionSearchString(this._editor, opts.seedSearchStringFromSelection, opts.seedSearchStringFromNonEmptySelection);\n                if (selectionSearchString) {\n                    if (this._state.isRegex) {\n                        stateChanges.searchString = strings.escapeRegExpCharacters(selectionSearchString);\n                    }\n                    else {\n                        stateChanges.searchString = selectionSearchString;\n                    }\n                }\n            }\n            else if (opts.seedSearchStringFromSelection === 'multiple' && !opts.updateSearchScope) {\n                const selectionSearchString = getSelectionSearchString(this._editor, opts.seedSearchStringFromSelection);\n                if (selectionSearchString) {\n                    stateChanges.searchString = selectionSearchString;\n                }\n            }\n            if (!stateChanges.searchString && opts.seedSearchStringFromGlobalClipboard) {\n                const selectionSearchString = yield this.getGlobalBufferTerm();\n                if (!this._editor.hasModel()) {\n                    // the editor has lost its model in the meantime\n                    return;\n                }\n                if (selectionSearchString) {\n                    stateChanges.searchString = selectionSearchString;\n                }\n            }\n            // Overwrite isReplaceRevealed\n            if (opts.forceRevealReplace || stateChanges.isReplaceRevealed) {\n                stateChanges.isReplaceRevealed = true;\n            }\n            else if (!this._findWidgetVisible.get()) {\n                stateChanges.isReplaceRevealed = false;\n            }\n            if (opts.updateSearchScope) {\n                const currentSelections = this._editor.getSelections();\n                if (currentSelections.some(selection => !selection.isEmpty())) {\n                    stateChanges.searchScope = currentSelections;\n                }\n            }\n            stateChanges.loop = opts.loop;\n            this._state.change(stateChanges, false);\n            if (!this._model) {\n                this._model = new FindModelBoundToEditorModel(this._editor, this._state);\n            }\n        });\n    }\n    start(opts, newState) {\n        return this._start(opts, newState);\n    }\n    moveToNextMatch() {\n        if (this._model) {\n            this._model.moveToNextMatch();\n            return true;\n        }\n        return false;\n    }\n    moveToPrevMatch() {\n        if (this._model) {\n            this._model.moveToPrevMatch();\n            return true;\n        }\n        return false;\n    }\n    goToMatch(index) {\n        if (this._model) {\n            this._model.moveToMatch(index);\n            return true;\n        }\n        return false;\n    }\n    replace() {\n        if (this._model) {\n            this._model.replace();\n            return true;\n        }\n        return false;\n    }\n    replaceAll() {\n        if (this._model) {\n            this._model.replaceAll();\n            return true;\n        }\n        return false;\n    }\n    selectAllMatches() {\n        if (this._model) {\n            this._model.selectAllMatches();\n            this._editor.focus();\n            return true;\n        }\n        return false;\n    }\n    getGlobalBufferTerm() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._editor.getOption(39 /* EditorOption.find */).globalFindClipboard\n                && this._editor.hasModel()\n                && !this._editor.getModel().isTooLargeForSyncing()) {\n                return this._clipboardService.readFindText();\n            }\n            return '';\n        });\n    }\n    setGlobalBufferTerm(text) {\n        if (this._editor.getOption(39 /* EditorOption.find */).globalFindClipboard\n            && this._editor.hasModel()\n            && !this._editor.getModel().isTooLargeForSyncing()) {\n            // intentionally not awaited\n            this._clipboardService.writeFindText(text);\n        }\n    }\n};\nCommonFindController.ID = 'editor.contrib.findController';\nCommonFindController = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, IStorageService),\n    __param(3, IClipboardService)\n], CommonFindController);\nexport let FindController = class FindController extends CommonFindController {\n    constructor(editor, _contextViewService, _contextKeyService, _keybindingService, _themeService, _notificationService, _storageService, clipboardService) {\n        super(editor, _contextKeyService, _storageService, clipboardService);\n        this._contextViewService = _contextViewService;\n        this._keybindingService = _keybindingService;\n        this._themeService = _themeService;\n        this._notificationService = _notificationService;\n        this._widget = null;\n        this._findOptionsWidget = null;\n    }\n    _start(opts, newState) {\n        const _super = Object.create(null, {\n            _start: { get: () => super._start }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this._widget) {\n                this._createFindWidget();\n            }\n            const selection = this._editor.getSelection();\n            let updateSearchScope = false;\n            switch (this._editor.getOption(39 /* EditorOption.find */).autoFindInSelection) {\n                case 'always':\n                    updateSearchScope = true;\n                    break;\n                case 'never':\n                    updateSearchScope = false;\n                    break;\n                case 'multiline': {\n                    const isSelectionMultipleLine = !!selection && selection.startLineNumber !== selection.endLineNumber;\n                    updateSearchScope = isSelectionMultipleLine;\n                    break;\n                }\n                default:\n                    break;\n            }\n            opts.updateSearchScope = opts.updateSearchScope || updateSearchScope;\n            yield _super._start.call(this, opts, newState);\n            if (this._widget) {\n                if (opts.shouldFocus === 2 /* FindStartFocusAction.FocusReplaceInput */) {\n                    this._widget.focusReplaceInput();\n                }\n                else if (opts.shouldFocus === 1 /* FindStartFocusAction.FocusFindInput */) {\n                    this._widget.focusFindInput();\n                }\n            }\n        });\n    }\n    highlightFindOptions(ignoreWhenVisible = false) {\n        if (!this._widget) {\n            this._createFindWidget();\n        }\n        if (this._state.isRevealed && !ignoreWhenVisible) {\n            this._widget.highlightFindOptions();\n        }\n        else {\n            this._findOptionsWidget.highlightFindOptions();\n        }\n    }\n    _createFindWidget() {\n        this._widget = this._register(new FindWidget(this._editor, this, this._state, this._contextViewService, this._keybindingService, this._contextKeyService, this._themeService, this._storageService, this._notificationService));\n        this._findOptionsWidget = this._register(new FindOptionsWidget(this._editor, this._state, this._keybindingService));\n    }\n};\nFindController = __decorate([\n    __param(1, IContextViewService),\n    __param(2, IContextKeyService),\n    __param(3, IKeybindingService),\n    __param(4, IThemeService),\n    __param(5, INotificationService),\n    __param(6, IStorageService),\n    __param(7, IClipboardService)\n], FindController);\nexport const StartFindAction = registerMultiEditorAction(new MultiEditorAction({\n    id: FIND_IDS.StartFindAction,\n    label: nls.localize('startFindAction', \"Find\"),\n    alias: 'Find',\n    precondition: ContextKeyExpr.or(EditorContextKeys.focus, ContextKeyExpr.has('editorIsOpen')),\n    kbOpts: {\n        kbExpr: null,\n        primary: 2048 /* KeyMod.CtrlCmd */ | 36 /* KeyCode.KeyF */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n    },\n    menuOpts: {\n        menuId: MenuId.MenubarEditMenu,\n        group: '3_find',\n        title: nls.localize({ key: 'miFind', comment: ['&& denotes a mnemonic'] }, \"&&Find\"),\n        order: 1\n    }\n}));\nStartFindAction.addImplementation(0, (accessor, editor, args) => {\n    const controller = CommonFindController.get(editor);\n    if (!controller) {\n        return false;\n    }\n    return controller.start({\n        forceRevealReplace: false,\n        seedSearchStringFromSelection: editor.getOption(39 /* EditorOption.find */).seedSearchStringFromSelection !== 'never' ? 'single' : 'none',\n        seedSearchStringFromNonEmptySelection: editor.getOption(39 /* EditorOption.find */).seedSearchStringFromSelection === 'selection',\n        seedSearchStringFromGlobalClipboard: editor.getOption(39 /* EditorOption.find */).globalFindClipboard,\n        shouldFocus: 1 /* FindStartFocusAction.FocusFindInput */,\n        shouldAnimate: true,\n        updateSearchScope: false,\n        loop: editor.getOption(39 /* EditorOption.find */).loop\n    });\n});\nconst findArgDescription = {\n    description: 'Open a new In-Editor Find Widget.',\n    args: [{\n            name: 'Open a new In-Editor Find Widget args',\n            schema: {\n                properties: {\n                    searchString: { type: 'string' },\n                    replaceString: { type: 'string' },\n                    regex: { type: 'boolean' },\n                    regexOverride: {\n                        type: 'number',\n                        description: nls.localize('actions.find.isRegexOverride', 'Overrides \"Use Regular Expression\" flag.\\nThe flag will not be saved for the future.\\n0: Do Nothing\\n1: True\\n2: False')\n                    },\n                    wholeWord: { type: 'boolean' },\n                    wholeWordOverride: {\n                        type: 'number',\n                        description: nls.localize('actions.find.wholeWordOverride', 'Overrides \"Match Whole Word\" flag.\\nThe flag will not be saved for the future.\\n0: Do Nothing\\n1: True\\n2: False')\n                    },\n                    matchCase: { type: 'boolean' },\n                    matchCaseOverride: {\n                        type: 'number',\n                        description: nls.localize('actions.find.matchCaseOverride', 'Overrides \"Math Case\" flag.\\nThe flag will not be saved for the future.\\n0: Do Nothing\\n1: True\\n2: False')\n                    },\n                    preserveCase: { type: 'boolean' },\n                    preserveCaseOverride: {\n                        type: 'number',\n                        description: nls.localize('actions.find.preserveCaseOverride', 'Overrides \"Preserve Case\" flag.\\nThe flag will not be saved for the future.\\n0: Do Nothing\\n1: True\\n2: False')\n                    },\n                    findInSelection: { type: 'boolean' },\n                }\n            }\n        }]\n};\nexport class StartFindWithArgsAction extends EditorAction {\n    constructor() {\n        super({\n            id: FIND_IDS.StartFindWithArgs,\n            label: nls.localize('startFindWithArgsAction', \"Find With Arguments\"),\n            alias: 'Find With Arguments',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: null,\n                primary: 0,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            description: findArgDescription\n        });\n    }\n    run(accessor, editor, args) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const controller = CommonFindController.get(editor);\n            if (controller) {\n                const newState = args ? {\n                    searchString: args.searchString,\n                    replaceString: args.replaceString,\n                    isReplaceRevealed: args.replaceString !== undefined,\n                    isRegex: args.isRegex,\n                    // isRegexOverride: args.regexOverride,\n                    wholeWord: args.matchWholeWord,\n                    // wholeWordOverride: args.wholeWordOverride,\n                    matchCase: args.isCaseSensitive,\n                    // matchCaseOverride: args.matchCaseOverride,\n                    preserveCase: args.preserveCase,\n                    // preserveCaseOverride: args.preserveCaseOverride,\n                } : {};\n                yield controller.start({\n                    forceRevealReplace: false,\n                    seedSearchStringFromSelection: (controller.getState().searchString.length === 0) && editor.getOption(39 /* EditorOption.find */).seedSearchStringFromSelection !== 'never' ? 'single' : 'none',\n                    seedSearchStringFromNonEmptySelection: editor.getOption(39 /* EditorOption.find */).seedSearchStringFromSelection === 'selection',\n                    seedSearchStringFromGlobalClipboard: true,\n                    shouldFocus: 1 /* FindStartFocusAction.FocusFindInput */,\n                    shouldAnimate: true,\n                    updateSearchScope: (args === null || args === void 0 ? void 0 : args.findInSelection) || false,\n                    loop: editor.getOption(39 /* EditorOption.find */).loop\n                }, newState);\n                controller.setGlobalBufferTerm(controller.getState().searchString);\n            }\n        });\n    }\n}\nexport class StartFindWithSelectionAction extends EditorAction {\n    constructor() {\n        super({\n            id: FIND_IDS.StartFindWithSelection,\n            label: nls.localize('startFindWithSelectionAction', \"Find With Selection\"),\n            alias: 'Find With Selection',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: null,\n                primary: 0,\n                mac: {\n                    primary: 2048 /* KeyMod.CtrlCmd */ | 35 /* KeyCode.KeyE */,\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const controller = CommonFindController.get(editor);\n            if (controller) {\n                yield controller.start({\n                    forceRevealReplace: false,\n                    seedSearchStringFromSelection: 'multiple',\n                    seedSearchStringFromNonEmptySelection: false,\n                    seedSearchStringFromGlobalClipboard: false,\n                    shouldFocus: 0 /* FindStartFocusAction.NoFocusChange */,\n                    shouldAnimate: true,\n                    updateSearchScope: false,\n                    loop: editor.getOption(39 /* EditorOption.find */).loop\n                });\n                controller.setGlobalBufferTerm(controller.getState().searchString);\n            }\n        });\n    }\n}\nexport class MatchFindAction extends EditorAction {\n    run(accessor, editor) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const controller = CommonFindController.get(editor);\n            if (controller && !this._run(controller)) {\n                yield controller.start({\n                    forceRevealReplace: false,\n                    seedSearchStringFromSelection: (controller.getState().searchString.length === 0) && editor.getOption(39 /* EditorOption.find */).seedSearchStringFromSelection !== 'never' ? 'single' : 'none',\n                    seedSearchStringFromNonEmptySelection: editor.getOption(39 /* EditorOption.find */).seedSearchStringFromSelection === 'selection',\n                    seedSearchStringFromGlobalClipboard: true,\n                    shouldFocus: 0 /* FindStartFocusAction.NoFocusChange */,\n                    shouldAnimate: true,\n                    updateSearchScope: false,\n                    loop: editor.getOption(39 /* EditorOption.find */).loop\n                });\n                this._run(controller);\n            }\n        });\n    }\n}\nexport class NextMatchFindAction extends MatchFindAction {\n    constructor() {\n        super({\n            id: FIND_IDS.NextMatchFindAction,\n            label: nls.localize('findNextMatchAction', \"Find Next\"),\n            alias: 'Find Next',\n            precondition: undefined,\n            kbOpts: [{\n                    kbExpr: EditorContextKeys.focus,\n                    primary: 61 /* KeyCode.F3 */,\n                    mac: { primary: 2048 /* KeyMod.CtrlCmd */ | 37 /* KeyCode.KeyG */, secondary: [61 /* KeyCode.F3 */] },\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                }, {\n                    kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_FIND_INPUT_FOCUSED),\n                    primary: 3 /* KeyCode.Enter */,\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                }]\n        });\n    }\n    _run(controller) {\n        const result = controller.moveToNextMatch();\n        if (result) {\n            controller.editor.pushUndoStop();\n            return true;\n        }\n        return false;\n    }\n}\nexport class PreviousMatchFindAction extends MatchFindAction {\n    constructor() {\n        super({\n            id: FIND_IDS.PreviousMatchFindAction,\n            label: nls.localize('findPreviousMatchAction', \"Find Previous\"),\n            alias: 'Find Previous',\n            precondition: undefined,\n            kbOpts: [{\n                    kbExpr: EditorContextKeys.focus,\n                    primary: 1024 /* KeyMod.Shift */ | 61 /* KeyCode.F3 */,\n                    mac: { primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 37 /* KeyCode.KeyG */, secondary: [1024 /* KeyMod.Shift */ | 61 /* KeyCode.F3 */] },\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                }, {\n                    kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_FIND_INPUT_FOCUSED),\n                    primary: 1024 /* KeyMod.Shift */ | 3 /* KeyCode.Enter */,\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                }\n            ]\n        });\n    }\n    _run(controller) {\n        return controller.moveToPrevMatch();\n    }\n}\nexport class MoveToMatchFindAction extends EditorAction {\n    constructor() {\n        super({\n            id: FIND_IDS.GoToMatchFindAction,\n            label: nls.localize('findMatchAction.goToMatch', \"Go to Match...\"),\n            alias: 'Go to Match...',\n            precondition: CONTEXT_FIND_WIDGET_VISIBLE\n        });\n        this._highlightDecorations = [];\n    }\n    run(accessor, editor, args) {\n        const controller = CommonFindController.get(editor);\n        if (!controller) {\n            return;\n        }\n        const matchesCount = controller.getState().matchesCount;\n        if (matchesCount < 1) {\n            const notificationService = accessor.get(INotificationService);\n            notificationService.notify({\n                severity: Severity.Warning,\n                message: nls.localize('findMatchAction.noResults', \"No matches. Try searching for something else.\")\n            });\n            return;\n        }\n        const quickInputService = accessor.get(IQuickInputService);\n        const inputBox = quickInputService.createInputBox();\n        inputBox.placeholder = nls.localize('findMatchAction.inputPlaceHolder', \"Type a number to go to a specific match (between 1 and {0})\", matchesCount);\n        const toFindMatchIndex = (value) => {\n            const index = parseInt(value);\n            if (isNaN(index)) {\n                return undefined;\n            }\n            const matchCount = controller.getState().matchesCount;\n            if (index > 0 && index <= matchCount) {\n                return index - 1; // zero based\n            }\n            else if (index < 0 && index >= -matchCount) {\n                return matchCount + index;\n            }\n            return undefined;\n        };\n        const updatePickerAndEditor = (value) => {\n            const index = toFindMatchIndex(value);\n            if (typeof index === 'number') {\n                // valid\n                inputBox.validationMessage = undefined;\n                controller.goToMatch(index);\n                const currentMatch = controller.getState().currentMatch;\n                if (currentMatch) {\n                    this.addDecorations(editor, currentMatch);\n                }\n            }\n            else {\n                inputBox.validationMessage = nls.localize('findMatchAction.inputValidationMessage', \"Please type a number between 1 and {0}\", controller.getState().matchesCount);\n                this.clearDecorations(editor);\n            }\n        };\n        inputBox.onDidChangeValue(value => {\n            updatePickerAndEditor(value);\n        });\n        inputBox.onDidAccept(() => {\n            const index = toFindMatchIndex(inputBox.value);\n            if (typeof index === 'number') {\n                controller.goToMatch(index);\n                inputBox.hide();\n            }\n            else {\n                inputBox.validationMessage = nls.localize('findMatchAction.inputValidationMessage', \"Please type a number between 1 and {0}\", controller.getState().matchesCount);\n            }\n        });\n        inputBox.onDidHide(() => {\n            this.clearDecorations(editor);\n            inputBox.dispose();\n        });\n        inputBox.show();\n    }\n    clearDecorations(editor) {\n        editor.changeDecorations(changeAccessor => {\n            this._highlightDecorations = changeAccessor.deltaDecorations(this._highlightDecorations, []);\n        });\n    }\n    addDecorations(editor, range) {\n        editor.changeDecorations(changeAccessor => {\n            this._highlightDecorations = changeAccessor.deltaDecorations(this._highlightDecorations, [\n                {\n                    range,\n                    options: {\n                        description: 'find-match-quick-access-range-highlight',\n                        className: 'rangeHighlight',\n                        isWholeLine: true\n                    }\n                },\n                {\n                    range,\n                    options: {\n                        description: 'find-match-quick-access-range-highlight-overview',\n                        overviewRuler: {\n                            color: themeColorFromId(overviewRulerRangeHighlight),\n                            position: OverviewRulerLane.Full\n                        }\n                    }\n                }\n            ]);\n        });\n    }\n}\nexport class SelectionMatchFindAction extends EditorAction {\n    run(accessor, editor) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const controller = CommonFindController.get(editor);\n            if (!controller) {\n                return;\n            }\n            const selectionSearchString = getSelectionSearchString(editor, 'single', false);\n            if (selectionSearchString) {\n                controller.setSearchString(selectionSearchString);\n            }\n            if (!this._run(controller)) {\n                yield controller.start({\n                    forceRevealReplace: false,\n                    seedSearchStringFromSelection: 'none',\n                    seedSearchStringFromNonEmptySelection: false,\n                    seedSearchStringFromGlobalClipboard: false,\n                    shouldFocus: 0 /* FindStartFocusAction.NoFocusChange */,\n                    shouldAnimate: true,\n                    updateSearchScope: false,\n                    loop: editor.getOption(39 /* EditorOption.find */).loop\n                });\n                this._run(controller);\n            }\n        });\n    }\n}\nexport class NextSelectionMatchFindAction extends SelectionMatchFindAction {\n    constructor() {\n        super({\n            id: FIND_IDS.NextSelectionMatchFindAction,\n            label: nls.localize('nextSelectionMatchFindAction', \"Find Next Selection\"),\n            alias: 'Find Next Selection',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 61 /* KeyCode.F3 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    _run(controller) {\n        return controller.moveToNextMatch();\n    }\n}\nexport class PreviousSelectionMatchFindAction extends SelectionMatchFindAction {\n    constructor() {\n        super({\n            id: FIND_IDS.PreviousSelectionMatchFindAction,\n            label: nls.localize('previousSelectionMatchFindAction', \"Find Previous Selection\"),\n            alias: 'Find Previous Selection',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 61 /* KeyCode.F3 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    _run(controller) {\n        return controller.moveToPrevMatch();\n    }\n}\nexport const StartFindReplaceAction = registerMultiEditorAction(new MultiEditorAction({\n    id: FIND_IDS.StartFindReplaceAction,\n    label: nls.localize('startReplace', \"Replace\"),\n    alias: 'Replace',\n    precondition: ContextKeyExpr.or(EditorContextKeys.focus, ContextKeyExpr.has('editorIsOpen')),\n    kbOpts: {\n        kbExpr: null,\n        primary: 2048 /* KeyMod.CtrlCmd */ | 38 /* KeyCode.KeyH */,\n        mac: { primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 36 /* KeyCode.KeyF */ },\n        weight: 100 /* KeybindingWeight.EditorContrib */\n    },\n    menuOpts: {\n        menuId: MenuId.MenubarEditMenu,\n        group: '3_find',\n        title: nls.localize({ key: 'miReplace', comment: ['&& denotes a mnemonic'] }, \"&&Replace\"),\n        order: 2\n    }\n}));\nStartFindReplaceAction.addImplementation(0, (accessor, editor, args) => {\n    if (!editor.hasModel() || editor.getOption(88 /* EditorOption.readOnly */)) {\n        return false;\n    }\n    const controller = CommonFindController.get(editor);\n    if (!controller) {\n        return false;\n    }\n    const currentSelection = editor.getSelection();\n    const findInputFocused = controller.isFindInputFocused();\n    // we only seed search string from selection when the current selection is single line and not empty,\n    // + the find input is not focused\n    const seedSearchStringFromSelection = !currentSelection.isEmpty()\n        && currentSelection.startLineNumber === currentSelection.endLineNumber\n        && (editor.getOption(39 /* EditorOption.find */).seedSearchStringFromSelection !== 'never')\n        && !findInputFocused;\n    /*\n    * if the existing search string in find widget is empty and we don't seed search string from selection, it means the Find Input is still empty, so we should focus the Find Input instead of Replace Input.\n\n    * findInputFocused true -> seedSearchStringFromSelection false, FocusReplaceInput\n    * findInputFocused false, seedSearchStringFromSelection true FocusReplaceInput\n    * findInputFocused false seedSearchStringFromSelection false FocusFindInput\n    */\n    const shouldFocus = (findInputFocused || seedSearchStringFromSelection) ?\n        2 /* FindStartFocusAction.FocusReplaceInput */ : 1 /* FindStartFocusAction.FocusFindInput */;\n    return controller.start({\n        forceRevealReplace: true,\n        seedSearchStringFromSelection: seedSearchStringFromSelection ? 'single' : 'none',\n        seedSearchStringFromNonEmptySelection: editor.getOption(39 /* EditorOption.find */).seedSearchStringFromSelection === 'selection',\n        seedSearchStringFromGlobalClipboard: editor.getOption(39 /* EditorOption.find */).seedSearchStringFromSelection !== 'never',\n        shouldFocus: shouldFocus,\n        shouldAnimate: true,\n        updateSearchScope: false,\n        loop: editor.getOption(39 /* EditorOption.find */).loop\n    });\n});\nregisterEditorContribution(CommonFindController.ID, FindController, 0 /* EditorContributionInstantiation.Eager */); // eager because it uses `saveViewState`/`restoreViewState`\nregisterEditorAction(StartFindWithArgsAction);\nregisterEditorAction(StartFindWithSelectionAction);\nregisterEditorAction(NextMatchFindAction);\nregisterEditorAction(PreviousMatchFindAction);\nregisterEditorAction(MoveToMatchFindAction);\nregisterEditorAction(NextSelectionMatchFindAction);\nregisterEditorAction(PreviousSelectionMatchFindAction);\nconst FindCommand = EditorCommand.bindToContribution(CommonFindController.get);\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.CloseFindWidgetCommand,\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n    handler: x => x.closeFindWidget(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 5,\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, ContextKeyExpr.not('isComposing')),\n        primary: 9 /* KeyCode.Escape */,\n        secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */]\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ToggleCaseSensitiveCommand,\n    precondition: undefined,\n    handler: x => x.toggleCaseSensitive(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 5,\n        kbExpr: EditorContextKeys.focus,\n        primary: ToggleCaseSensitiveKeybinding.primary,\n        mac: ToggleCaseSensitiveKeybinding.mac,\n        win: ToggleCaseSensitiveKeybinding.win,\n        linux: ToggleCaseSensitiveKeybinding.linux\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ToggleWholeWordCommand,\n    precondition: undefined,\n    handler: x => x.toggleWholeWords(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 5,\n        kbExpr: EditorContextKeys.focus,\n        primary: ToggleWholeWordKeybinding.primary,\n        mac: ToggleWholeWordKeybinding.mac,\n        win: ToggleWholeWordKeybinding.win,\n        linux: ToggleWholeWordKeybinding.linux\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ToggleRegexCommand,\n    precondition: undefined,\n    handler: x => x.toggleRegex(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 5,\n        kbExpr: EditorContextKeys.focus,\n        primary: ToggleRegexKeybinding.primary,\n        mac: ToggleRegexKeybinding.mac,\n        win: ToggleRegexKeybinding.win,\n        linux: ToggleRegexKeybinding.linux\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ToggleSearchScopeCommand,\n    precondition: undefined,\n    handler: x => x.toggleSearchScope(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 5,\n        kbExpr: EditorContextKeys.focus,\n        primary: ToggleSearchScopeKeybinding.primary,\n        mac: ToggleSearchScopeKeybinding.mac,\n        win: ToggleSearchScopeKeybinding.win,\n        linux: ToggleSearchScopeKeybinding.linux\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.TogglePreserveCaseCommand,\n    precondition: undefined,\n    handler: x => x.togglePreserveCase(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 5,\n        kbExpr: EditorContextKeys.focus,\n        primary: TogglePreserveCaseKeybinding.primary,\n        mac: TogglePreserveCaseKeybinding.mac,\n        win: TogglePreserveCaseKeybinding.win,\n        linux: TogglePreserveCaseKeybinding.linux\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ReplaceOneAction,\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n    handler: x => x.replace(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 5,\n        kbExpr: EditorContextKeys.focus,\n        primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 22 /* KeyCode.Digit1 */\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ReplaceOneAction,\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n    handler: x => x.replace(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 5,\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_REPLACE_INPUT_FOCUSED),\n        primary: 3 /* KeyCode.Enter */\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ReplaceAllAction,\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n    handler: x => x.replaceAll(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 5,\n        kbExpr: EditorContextKeys.focus,\n        primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 3 /* KeyCode.Enter */\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.ReplaceAllAction,\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n    handler: x => x.replaceAll(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 5,\n        kbExpr: ContextKeyExpr.and(EditorContextKeys.focus, CONTEXT_REPLACE_INPUT_FOCUSED),\n        primary: undefined,\n        mac: {\n            primary: 2048 /* KeyMod.CtrlCmd */ | 3 /* KeyCode.Enter */,\n        }\n    }\n}));\nregisterEditorCommand(new FindCommand({\n    id: FIND_IDS.SelectAllMatchesAction,\n    precondition: CONTEXT_FIND_WIDGET_VISIBLE,\n    handler: x => x.selectAllMatches(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 5,\n        kbExpr: EditorContextKeys.focus,\n        primary: 512 /* KeyMod.Alt */ | 3 /* KeyCode.Enter */\n    }\n}));\n"],"names":["DragAndDropCommand","selection","targetPosition","copy","_classCallCheck","this","targetSelection","_createClass","key","value","model","builder","text","getValueInRange","addEditOperation","Range","lineNumber","column","containsPosition","getEndPosition","equals","getStartPosition","Selection","endLineNumber","startLineNumber","endColumn","startColumn","helper","hasTriggerModifier","e","isMacintosh","altKey","ctrlKey","DragAndDropController","_Disposable","_inherits","_super","_createSuper","editor","_this","call","_editor","_dndDecorationIds","createDecorationsCollection","_register","onMouseDown","_onEditorMouseDown","onMouseUp","_onEditorMouseUp","onMouseDrag","_onEditorMouseDrag","onMouseDrop","_onEditorMouseDrop","onMouseDropCanceled","_onEditorMouseDropCanceled","onKeyDown","onEditorKeyDown","onKeyUp","onEditorKeyUp","onDidBlurEditorWidget","onEditorBlur","onDidBlurEditorText","_mouseDown","_modifierPressed","_dragSelection","_removeDecoration","getOption","updateOptions","mouseStyle","keyCode","TRIGGER_KEY_VALUE","mouseEvent","target","possibleSelections","getSelections","filter","position","length","event","showAt","_hitContent","_hitMargin","newCursorPosition","Position","newSelections","shiftKey","primarySelection","getSelection","selectionStartLineNumber","selectionStartColumn","map","setSelections","pushUndoStop","executeCommand","ID","set","range","options","_DECORATION_OPTIONS","revealPosition","clear","type","_get","_getPrototypeOf","prototype","Disposable","ModelDecorationOptions","register","description","className","registerEditorContribution","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","apply","CommandsRegistry","registerCommand","accessor","_len","arguments","args","Array","_key","_regeneratorRuntime","mark","_callee","resource","outlineService","modelService","reference","wrap","_context","prev","assertType","URI","isUri","get","IOutlineModelService","ITextModelService","createModelReference","sent","getOrCreate","object","textEditorModel","CancellationToken","None","abrupt","getTopLevelSymbols","dispose","finish","stop","__decorate","decorators","desc","d","c","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","TreeElement","_a","parent","children","delete","id","candidate","container","candidateId","concat","name","undefined","element","size","OutlineElement","_TreeElement","symbol","Map","OutlineGroup","_TreeElement2","_super2","label","order","_this2","OutlineModel","_TreeElement3","_super3","uri","_this3","_groups","_step","count","_iterator","_createForOfIteratorHelper","s","n","_step$value","_slicedToArray","err","f","_step2","group","Iterable","first","values","_iterator2","child","_step3","roots","_iterator3","push","_toConsumableArray","sort","a","b","compareRangesUsingStarts","bucket","_flattenDocumentSymbols","compare","registry","textModel","token","cts","CancellationTokenSource","provider","ordered","promises","index","findId","displayName","provideDocumentSymbols","_step4","_iterator4","info","_makeOutlineElement","onUnexpectedExternalError","empty","remove","listener","onDidChange","newProvider","cancel","all","isCancellationRequested","create","_compact","finally","res","_step5","_iterator5","childInfo","entries","overrideContainerLabel","_step6","_iterator6","entry","kind","tags","detail","containerName","selectionRange","createDecorator","OutlineModelService","_languageFeaturesService","debounces","_this4","_disposables","DisposableStore","_cache","LRUCache","_debounceInformation","for","documentSymbolProvider","min","add","onModelRemoved","data","source","now","_this5","versionId","getVersionId","promiseCnt","promise","Date","outlineModel","update","catch","_err","onCancellationRequested","ILanguageFeaturesService","ILanguageFeatureDebounceService","IModelService","registerSingleton","createCombinedWorkspaceEdit","ranges","edit","_b","edits","ResourceTextEdit","insertText","insertAsSnippet","snippet","additionalEdit","changePasteTypeCommandId","pasteWidgetVisibleCtx","RawContextKey","localize","vscodeClipboardMime","CopyPasteController","instantiationService","_bulkEditService","_clipboardService","_quickInputService","_progressService","getContainerDomNode","addDisposableListener","handleCopy","handlePaste","_pasteProgressManager","InlineProgressManager","_postPasteWidgetManager","createInstance","PostEditWidgetManager","tryShowSelector","preferredId","focus","_pasteAsActionContext","document","execCommand","enabled","clipboardData","hasTextFocus","isPasteAsEnabled","getModel","selections","enableEmptySelectionClipboard","wasFromEmptySelection","isEmpty","getLineLength","toCopy","_getViewModel","getPlainTextToCopy","platform","defaultPastePayload","multicursorText","isArray","pasteOnNewLine","mode","providers","documentPasteEditProvider","x","prepareDocumentPaste","dataTransfer","toVSDataTransfer","providerCopyMimeTypes","flatMap","copyMimeTypes","handle","generateUuid","setCopyMetadata","createCancelablePromise","_callee2","results","_step2$value","mime","_context2","t0","coalesce","console","error","t1","reverse","replace","_currentCopyOperation","dataTransferPromise","_callee3","metadata","allPotentialMimeTypes","allProviders","_context3","_currentPasteOperation","fetchCopyMetadata","toExternalVSDataTransfer","types","Mimes","uriList","pasteMimeTypes","some","matchesMimeType","preventDefault","stopImmediatePropagation","showPasteAsPick","doPasteInline","p","_callee4","tokenSource","supportedProviders","providerEdits","canShowWidget","_context4","hasModel","EditorStateCancellationTokenSource","mergeInDataFromCopy","isSupportedPasteProvider","applyDefaultPasteHandler","getPasteEdits","showPasteSelector","applyEditAndShowIfNeeded","activeEditIndex","allEdits","showWhile","_callee5","pickedEdit","selected","combinedWorkspaceEdit","_context5","find","pick","placeHolder","withProgress","location","title","setData","JSON","stringify","rawMetadata","getData","parse","_callee6","toMergeDataTransfer","_step3$value","resources","_context6","has","readResources","append","createStringDataTransferItem","UriList","_callee7","_context7","raceCancellation","provideDocumentPasteEdits","priority","_c","_callee8","textDataTransfer","payload","_context8","asString","trigger","getContribution","Boolean","matches","IInstantiationService","IBulkEditService","IClipboardService","IQuickInputService","IProgressService","registerEditorFeature","DefaultPasteProvidersFeature","registerEditorCommand","_EditorCommand","_class","precondition","kbOpts","weight","primary","_accessor","_args","changePasteType","EditorCommand","registerEditorAction","_EditorAction","_class2","nls","alias","schema","properties","pasteAs","EditorAction","builtInLabel","SimplePasteAndDropProvider","_model","_ranges","getEdit","_position","DefaultTextProvider","_SimplePasteAndDropPr","dropMimeTypes","_token","textEntry","PathProvider","_SimplePasteAndDropPr2","uriCount","extractUriList","_ref","originalText","scheme","Schemas","file","fsPath","join","RelativePathProvider","_SimplePasteAndDropPr3","_workspaceContextService","relativeUris","_ref2","root","getWorkspaceFolder","relativePath","urlListEntry","strUriList","IWorkspaceContextService","DefaultDropProvidersFeature","_super4","languageFeaturesService","workspaceContextService","documentOnDropEditProvider","_Disposable2","_super5","_this6","changeDropTypeCommandId","dropWidgetVisibleCtx","DropIntoEditorController","_treeViewsDragAndDropService","treeItemsTransfer","LocalSelectionTransfer","getInstance","_dropProgressManager","_postDropWidgetManager","onDropIntoEditor","dragEvent","_currentOperation","setPosition","ourDataTransfer","extractDataTransferData","getDropEdits","showDropSelector","fromPositions","provideDocumentOnDropEdits","treeDataTransfer","VSDataTransfer","hasData","DraggedTreeItemsIdentifier","removeDragOperationTransfer","identifier","ITreeViewsDnDService","changeDropType","PostEditWidget","typeId","visibleContext","showCommand","onSelectNewEdit","_contextMenuService","contextKeyService","_keybindingService","allowEditorOverflow","suppressMouseDown","bindTo","toDisposable","reset","addContentWidget","_assertThisInitialized","layoutContentWidget","removeContentWidget","onDidChangeCursorPosition","Event","runAndSubscribe","onDidUpdateKeybindings","_updateButtonTitle","binding","lookupKeybinding","getLabel","button","domNode","dom","$","Button","supportIcons","EventType","CLICK","showSelector","baseId","preference","showContextMenu","getAnchor","pos","getDomNodePagePosition","left","width","y","top","height","getActions","toAction","checked","run","IContextMenuService","IContextKeyService","IKeybindingService","_id","_visibleContext","_showCommand","_instantiationService","_currentWidget","MutableDisposable","any","onDidChangeModel","onDidChangeModelContent","primaryRange","editTrackingDecoration","editResult","editRange","deltaDecorations","stickiness","getDecorationRange","isApplied","show","newEditIndex","undo","onDidSelectEdit","IEditorCancellationTokens","ctxCancellableOperation","_tokens","WeakMap","removeFn","invokeWithinContext","tokens","LinkedList","pop","EditorKeybindingCancellationTokenSource","_CancellationTokenSou","_unregister","EditorState","flags","modelVersionId","strings","toString","getPosition","scrollLeft","getScrollLeft","scrollTop","getScrollTop","other","state","equalsRange","_equals","_EditorKeybindingCanc","_listener","onDidChangeCursorSelection","containsRange","onDidScrollChange","_","TextModelCancellationTokenSource","onDidChangeContent","FindDecorations","_decorations","_overviewRulerApproximateDecorations","_findScopeDecorationIds","_rangeHighlightDecorationId","_highlightedDecorationId","_startPosition","removeDecorations","_allDecorations","scopes","findScopeDecorationId","newStartPosition","setCurrentFindMatch","decorationId","indexOf","desiredRange","candidates","getDecorationsInRange","candidateOpts","_FIND_MATCH_DECORATION","_CURRENT_FIND_MATCH_DECORATION","_getDecorationIndex","nextMatch","newCurrentDecorationId","matchPosition","len","changeDecorations","changeAccessor","changeDecorationOptions","removeDecoration","rng","lineBeforeEnd","lineBeforeEndMaxColumn","getLineMaxColumn","addDecoration","_RANGE_HIGHLIGHT_DECORATION","findMatches","findScopes","findMatchesOptions","newOverviewRulerApproximateDecorations","_FIND_MATCH_NO_OVERVIEW_DECORATION","lineCount","getLineCount","approxPixelsPerLine","getLayoutInfo","mergeLinesDelta","Math","max","ceil","prevStartLineNumber","prevEndLineNumber","_FIND_MATCH_ONLY_OVERVIEW_DECORATION","newFindMatchesDecorations","forEach","findScope","_FIND_SCOPE_DECORATION","_result","zIndex","showIfCollapsed","overviewRuler","color","themeColorFromId","overviewRulerFindMatchForeground","OverviewRulerLane","Center","minimap","minimapFindMatch","MinimapPosition","Inline","isWholeLine","ReplaceAllCommand","editorSelection","replaceStrings","_editorSelection","_replaceStrings","_trackedEditorSelectionId","ops","o1","o2","resultOps","previousOp","plusRange","_i2","_resultOps","op","trackSelection","getTrackedSelection","StaticValueReplacePattern","staticValue","DynamicPiecesReplacePattern","pieces","ReplacePattern","_state","preserveCase","buildReplaceStringWithCasePreserved","piece","match","_substitute","matchIndex","caseOps","repl","lenOps","opIdx","idx","slice","toUpperCase","toLowerCase","ReplacePiece","remainder","String","floor","ReplacePieceBuilder","_source","_lastCharIndex","_resultLen","_currentStaticPiece","toCharIndex","_emitStatic","substring","emitUnchanged","CONTEXT_FIND_WIDGET_VISIBLE","CONTEXT_FIND_INPUT_FOCUSED","toNegated","CONTEXT_REPLACE_INPUT_FOCUSED","ToggleCaseSensitiveKeybinding","mac","ToggleWholeWordKeybinding","ToggleRegexKeybinding","ToggleSearchScopeKeybinding","TogglePreserveCaseKeybinding","FIND_IDS","MATCHES_LIMIT","FindModelBoundToEditorModel","_toDispose","_isDisposed","_startSearchingTimer","TimeoutTimer","_updateDecorationsScheduler","RunOnceScheduler","research","reason","setStartPosition","_ignoreModelContentChanged","isFlush","schedule","onFindReplaceStateChange","_onStateChanged","searchScope","searchString","isReplaceRevealed","isRegex","wholeWord","matchCase","isTooLargeForSyncing","setIfNotSet","moveCursor","newFindScope","getFindScopes","_findMatches","currentMatchesPosition","getCurrentMatchesPosition","matchAfterSelection","findFirstInSorted","changeMatchInfo","getCount","cursorMoveOnType","_moveToNextMatch","matchesCount","_hasMatches","getFindScope","revealRangeInCenterIfOutsideViewport","matchesPosition","setSelection","before","isUsingLineStops","isRecursed","canNavigateBack","prevMatchRange","matchBeforePosition","_prevSearchPosition","_setCurrentFindMatch","_cannotFind","searchRange","_getSearchRange","isBefore","_before","prevMatch","findPreviousMatch","_moveToPrevMatch","nextMatchRange","matchAfterPosition","after","canNavigateForward","_nextSearchPosition","_getNextMatch","captureMatches","forceMove","_after","findNextMatch","decorationRange","getDecorationRangeAt","_moveToMatch","replaceString","chCode","charCodeAt","nextChCode","emitStatic","emitMatchIndex","nextNextChCode","fromCharCode","finalize","parseReplaceString","fromStaticValue","replacePattern","_getReplacePattern","buildReplaceString","command","ReplaceCommand","_executeEditorCommand","limitResultCount","searchRanges","scope","_largeReplaceAll","_regularReplaceAll","searchData","SearchParams","parseSearchRequest","searchRegex","regex","multiline","mod","ignoreCase","global","RegExp","resultText","modelText","getValue","fullModelRange","getFullModelRange","hasReplacementPatterns","ReplaceCommandThatPreservesSelection","m","FindOptionsWidget","_Widget","keybindingService","_hideSoon","_hide","_isVisible","_domNode","createElement","style","display","setAttribute","toggleStyles","inputActiveOptionBorder","asCssVariable","inputActiveOptionForeground","inputActiveOptionBackground","caseSensitive","CaseSensitiveToggle","assign","appendTitle","_keybindingLabelFor","isChecked","appendChild","onChange","change","wholeWords","WholeWordsToggle","RegexToggle","addOverlayWidget","somethingChanged","isRevealed","_revealTemporarily","MOUSE_LEAVE","_onMouseLeave","_onMouseOver","actionId","kb","removeOverlayWidget","_show","Widget","effectiveOptionValue","override","FindReplaceState","_onFindReplaceStateChange","Emitter","_searchString","_replaceString","_isRevealed","_isReplaceRevealed","_isRegex","_isRegexOverride","_wholeWord","_wholeWordOverride","_matchCase","_matchCaseOverride","_preserveCase","_preserveCaseOverride","_searchScope","_matchesPosition","_matchesCount","_currentMatch","_loop","_isSearching","_filters","currentMatch","changeEvent","updateHistory","loop","isSearching","filters","fire","newState","oldEffectiveIsRegex","oldEffectiveWholeWords","oldEffectiveMatchCase","oldEffectivePreserveCase","every","newSearchScope","existingSearchScope","isRegexOverride","wholeWordOverride","matchCaseOverride","preserveCaseOverride","canNavigateInLoop","findSelectionIcon","registerIcon","Codicon","findCollapsedIcon","chevronRight","findExpandedIcon","chevronDown","findReplaceIcon","findReplaceAllIcon","replaceAll","findPreviousMatchIcon","arrowUp","findNextMatchIcon","arrowDown","NLS_FIND_INPUT_LABEL","NLS_FIND_INPUT_PLACEHOLDER","NLS_PREVIOUS_MATCH_BTN_LABEL","NLS_NEXT_MATCH_BTN_LABEL","NLS_TOGGLE_SELECTION_FIND_TITLE","NLS_CLOSE_BTN_LABEL","NLS_REPLACE_INPUT_LABEL","NLS_REPLACE_INPUT_PLACEHOLDER","NLS_REPLACE_BTN_LABEL","NLS_REPLACE_ALL_BTN_LABEL","NLS_TOGGLE_REPLACE_MODE_BTN_LABEL","NLS_MATCHES_COUNT_LIMIT_TITLE","NLS_MATCHES_LOCATION","NLS_NO_RESULTS","FIND_WIDGET_INITIAL_WIDTH","MAX_MATCHES_COUNT_WIDTH","ctrlEnterReplaceAllWarningPromptedKey","ctrlKeyMod","FindWidgetViewZone","afterLineNumber","heightInPx","stopPropagationForMultiLineUpwards","textarea","isMultiline","selectionStart","stopPropagation","stopPropagationForMultiLineDownwards","selectionEnd","FindWidget","codeEditor","controller","contextViewProvider","themeService","storageService","notificationService","_cachedHeight","_revealTimeouts","_codeEditor","_controller","_contextViewProvider","_contextKeyService","_storageService","_notificationService","_ctrlEnterReplaceAllWarningPrompted","getBoolean","_isReplaceVisible","_ignoreChangeEvent","_updateHistoryDelayer","Delayer","_buildDomNode","_updateButtons","_tryUpdateWidgetWidth","_findInput","inputBox","layout","onDidChangeConfiguration","hasChanged","updateAccessibilitySupport","supportLoop","addExtraSpaceOnTop","_viewZone","_showViewZone","_removeViewZone","_updateToggleSelectionFindButton","onDidFocusEditorWidget","globalBufferTerm","getGlobalBufferTerm","select","_findInputFocused","_findFocusTracker","trackFocus","inputElement","onDidFocus","_updateSearchScope","onDidBlur","_replaceInputFocused","_replaceFocusTracker","_replaceInput","_viewZoneId","scrollTopChanged","_layoutViewZone","setTimeout","setValue","_reveal","getTotalWidth","_tryUpdateHeight","setRegex","setWholeWords","setCaseSensitive","setPreserveCase","_toggleSelectionFind","showRedOutline","classList","toggle","_updateMatchesCount","_delayedUpdateHistory","_updateHistory","bind","onUnexpectedError","addToHistory","minWidth","firstChild","removeChild","createTextNode","alertFn","_getAriaLabel","clientWidth","ariaLabel","lineContent","getLineContent","isSelection","enable","disable","setEnabled","_closeBtn","findInputIsNonEmpty","_prevBtn","_nextBtn","_replaceBtn","_replaceAllBtn","_toggleReplaceBtn","setExpanded","canReplace","clearTimeout","autoFindInSelection","isSelectionMultipleLine","validate","layoutOverlayWidget","adjustEditorScrollTop","seedSearchStringFromSelection","getDomNode","editorCoords","startCoords","getScrolledVisiblePosition","startLeft","startTop","leftOfFindWidget","getTopLeftOffset","endCoords","focusTheEditor","clearMessage","targetScrollTop","viewZone","changeViewZones","_getHeight","addZone","setScrollTop","adjustScroll","newHeight","scrollAdjustment","layoutZone","removeZone","isInDOM","layoutInfo","contentWidth","contains","editorWidth","minimapWidth","collapsedFindWidget","reducedFindWidget","narrowFindWidget","_resized","maxWidth","findInputWidth","totalheight","totalHeight","highlightFindOptions","setEndPosition","middleButton","dispatchEvent","insertAtCursor","focusOnCaseSensitive","querySelector","store","_sash","_this7","ContextScopedFindInput","PART_WIDTH","placeholder","appendCaseSensitiveLabel","appendWholeWordsLabel","appendRegexLabel","validation","getRegex","content","message","flexibleHeight","flexibleWidth","flexibleMaxHeight","showCommonFindToggles","showHistoryHint","showHistoryKeybindingHint","inputBoxStyles","defaultInputBoxStyles","defaultToggleStyles","_onFindInputKeyDown","onDidOptionChange","getWholeWords","getCaseSensitive","onCaseSensitiveKeyDown","onRegexKeyDown","focusOnPreserve","onDidHeightChange","_onFindInputMouseDown","SimpleButton","icon","onTrigger","assertIsDefined","getAction","findPart","actionsContainer","Toggle","widgetClose","isEnabled","ContextScopedReplaceInput","appendPreserveCaseLabel","history","_onReplaceInputKeyDown","getPreserveCase","onPreserveCaseKeyDown","replacePart","replaceActionsContainer","_resizeSash","Sash","orientation","originalWidth","onDidStart","evt","startX","currentX","parseFloat","getComputedStyle","onDidReset","currentWidth","setFocusInputOnOptionClick","_Widget2","opts","_this8","_opts","ThemeIcon","asClassName","tabIndex","onclick","onkeydown","expanded","_this$_domNode$classL","_this$_domNode$classL2","_this$_domNode$classL3","_this$_domNode$classL4","asClassNameArray","registerThemingParticipant","theme","collector","addBackgroundColorRule","selector","addRule","getColor","editorFindMatchHighlight","editorFindMatch","editorFindRangeHighlight","editorWidgetBackground","widgetShadowColor","widgetShadow","widgetBorderColor","widgetBorder","findMatchHighlightBorder","editorFindMatchHighlightBorder","isHighContrast","findMatchBorder","editorFindMatchBorder","findRangeHighlightBorder","editorFindRangeHighlightBorder","hcBorder","contrastBorder","foreground","editorWidgetForeground","errorForeground","resizeBorderBackground","editorWidgetResizeBorder","border","editorWidgetBorder","toolbarHoverBackgroundColor","toolbarHoverBackground","focusOutline","focusBorder","getSelectionSearchString","seedSearchStringFromNonEmptySelection","wordAtPosition","getConfiguredWordAtPosition","word","getValueLengthInRange","CommonFindController","clipboardService","_findWidgetVisible","loadQueryState","shouldRestartFind","disposeModel","_start","forceRevealReplace","seedSearchStringFromGlobalClipboard","shouldFocus","shouldAnimate","updateSearchScope","saveQueryState","setGlobalBufferTerm","actualIsRegex","actualWholeWord","actualMatchCase","actualPreserveCase","stateChanges","selectionSearchString","_selectionSearchString","_selectionSearchString2","currentSelections","moveToNextMatch","moveToPrevMatch","moveToMatch","selectAllMatches","globalFindClipboard","readFindText","writeFindText","FindController","_CommonFindController","_contextViewService","_themeService","_widget","_findOptionsWidget","_createFindWidget","focusReplaceInput","focusFindInput","ignoreWhenVisible","IStorageService","IContextViewService","IThemeService","INotificationService","registerMultiEditorAction","MultiEditorAction","ContextKeyExpr","or","EditorContextKeys","kbExpr","menuOpts","menuId","MenuId","MenubarEditMenu","comment","addImplementation","start","findArgDescription","regexOverride","findInSelection","StartFindWithArgsAction","matchWholeWord","isCaseSensitive","getState","StartFindWithSelectionAction","_EditorAction2","MatchFindAction","_EditorAction3","_super6","_run","NextMatchFindAction","_MatchFindAction","_super7","secondary","and","PreviousMatchFindAction","_MatchFindAction2","_super8","MoveToMatchFindAction","_EditorAction4","_super9","_highlightDecorations","notify","severity","Severity","Warning","createInputBox","toFindMatchIndex","parseInt","isNaN","matchCount","onDidChangeValue","validationMessage","goToMatch","addDecorations","clearDecorations","updatePickerAndEditor","onDidAccept","hide","onDidHide","overviewRulerRangeHighlight","Full","SelectionMatchFindAction","_EditorAction5","_super10","setSearchString","NextSelectionMatchFindAction","_SelectionMatchFindAc","_super11","PreviousSelectionMatchFindAction","_SelectionMatchFindAc2","_super12","currentSelection","findInputFocused","isFindInputFocused","FindCommand","bindToContribution","handler","closeFindWidget","not","toggleCaseSensitive","win","linux","toggleWholeWords","toggleRegex","toggleSearchScope","togglePreserveCase"],"sourceRoot":""}