{"version":3,"file":"static/js/monaco-editor-vendor.fee7cd5e.a5947f1f.js","mappings":"qKACaA,GAAiBC,E,SAAAA,IAAgB,gB,sHCCjCC,EAAoB,CAC7BC,QAAS,cACTC,MAAO,aAELC,GAA+BC,EAAAA,EAAAA,IAAA,SAAAD,KAAAE,EAAAA,EAAAA,GAAA,KAAAF,EAAA,IAKrCG,EAAAA,EAASC,IAFoB,sCAEoB,IAAIJ,GAM9C,IAAMK,EAAsB,WAC/B,SAAAA,KAAcH,EAAAA,EAAAA,GAAA,KAAAG,EAEd,CAGC,OAHAJ,EAAAA,EAAAA,GAAAI,EAAA,EAAAC,IAAA,UAAAC,MAID,SAAQC,GACJ,OAAOA,GAASA,IAAUC,KAAKD,KACnC,GAAC,CAAAF,IAAA,UAAAC,MACD,SAAQC,GACJ,GAAIC,KAAKC,QAAQF,GACb,OAAOC,KAAKE,IAGpB,IAAC,EAAAL,IAAA,cAAAC,MAXD,WACI,OAAOF,EAAuBO,QAClC,KAACP,CAAA,CAN8B,GAiBnCA,EAAuBO,SAAW,IAAIP,C,wBClC/B,IAAIQ,E,gCACX,SAAWA,GAKPA,EAAiBA,EAAsB,IAAI,GAAK,MAKhDA,EAAiBA,EAAuB,KAAI,GAAK,MACpD,CAXD,CAWGA,IAAqBA,EAAmB,CAAC,G,6FCI/BC,EAAmB,WAC5B,SAAAA,EAAYP,IAAOL,EAAAA,EAAAA,GAAA,KAAAY,GACfL,KAAKF,MAAQA,EACbE,KAAKM,OAASR,EAAMS,aACxB,CASC,OARDf,EAAAA,EAAAA,GAAAa,EAAA,OAAAR,IAAA,QAAAC,MAGA,SAAaU,GACT,MAAkB,kBAAPA,EACAA,EAAGD,cAEPC,EAAGF,MACd,KAACD,CAAA,CAb2B,GAenBI,EAAsB,WAC/B,SAAAA,EAAYC,GAER,IAFkBjB,EAAAA,EAAAA,GAAA,KAAAgB,GAClBT,KAAKW,KAAO,IAAIC,IACZF,EAAU,KACkBG,EADlBC,GAAAC,EAAAA,EAAAA,GACUL,GAAQ,IAA5B,IAAAI,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAA8B,KAAnBpB,EAAKe,EAAAf,MACZE,KAAKL,IAAIG,EACb,CAAC,OAAAqB,GAAAL,EAAAM,EAAAD,EAAA,SAAAL,EAAAO,GAAA,CACL,CACJ,CAMC,OANA7B,EAAAA,EAAAA,GAAAiB,EAAA,EAAAZ,IAAA,MAAAC,MACD,SAAIU,GACAR,KAAKW,KAAKhB,IAAIU,EAAoBiB,MAAMd,GAC5C,GAAC,CAAAX,IAAA,MAAAC,MACD,SAAIU,GACA,OAAOR,KAAKW,KAAKY,IAAIlB,EAAoBiB,MAAMd,GACnD,KAACC,CAAA,CAd8B,E,uBC7B5B,IAAIe,E,gCACX,SAAWA,GACPA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAiB,OAAI,GAAK,SACnCA,EAASA,EAAsB,YAAI,GAAK,aAC3C,CAJD,CAIGA,IAAaA,EAAW,CAAC,G,2NCHxBC,EAA0C,SAAUC,EAAYC,EAAQ9B,EAAK+B,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOM,OAAOC,yBAAyBR,EAAQ9B,GAAO+B,EACrH,GAAuB,kBAAZQ,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQ9B,EAAK+B,QACpH,IAAK,IAAIU,EAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAST,EAAIH,EAAWY,MAAIL,GAAKH,EAAI,EAAID,EAAEI,GAAKH,EAAI,EAAID,EAAEF,EAAQ9B,EAAKoC,GAAKJ,EAAEF,EAAQ9B,KAASoC,GAChJ,OAAOH,EAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQ9B,EAAKoC,GAAIA,CAChE,EACIO,EAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUf,EAAQ9B,GAAO6C,EAAUf,EAAQ9B,EAAK4C,EAAa,CACxE,EAOaE,EAA2B,IAAIC,EAAAA,GAAc,wBAAwB,GAAOC,EAAAA,EAAAA,IAAS,uBAAwB,mCACpHC,EAAsC,+BACtCC,EAA6C,mCAC7CC,EAA8C,oCAChDC,OAAoBC,EAClBC,EAAU,GACT,SAASC,EAA0CC,EAAyBC,GAC/E,GAAIH,EAAQI,SAASD,GACjB,MAAM,IAAIE,MAAM,kDAEpBL,EAAQM,KAAKH,GACb,IAAMI,EAAkB,IAAIC,EAAAA,GACtBC,EAA+B,IAAIhB,EAAAA,GAAcE,GAAqC,GAAOe,OAAOR,GACpGS,EAAsC,IAAIlB,EAAAA,GAAcG,GAA4C,GAAMc,OAAOR,GACjHU,EAAuC,IAAInB,EAAAA,GAAcI,GAA6C,GAAMa,OAAOR,GACnHW,EAAa,WACfJ,EAA6BK,KAAI,GACjChB,EAAoBK,CACxB,EACMY,EAAY,WACdN,EAA6BK,KAAI,GAC7BhB,IAAsBK,IACtBL,OAAoBC,EAE5B,EAWA,OATII,EAAOa,UAAYC,SAASC,eAC5BL,IAEJN,EAAgB/D,IAAI2D,EAAOU,YAAW,kBAAMA,GAAY,KACxDN,EAAgB/D,IAAI2D,EAAOY,WAAU,kBAAMA,GAAW,KACtDR,EAAgB/D,KAAI2E,EAAAA,EAAAA,KAAa,WAC7BnB,EAAQoB,OAAOpB,EAAQqB,QAAQlB,GAAS,GACxCY,GACJ,KACO,CACHJ,oCAAAA,EACAC,qCAAAA,EACAU,QAAO,WACHf,EAAgBe,SACpB,EAER,CACO,IAAIC,EAAsB,SAAAC,IAAAC,EAAAA,EAAAA,GAAAF,EAAAC,GAAA,IAAAE,GAAAC,EAAAA,EAAAA,GAAAJ,GAC7B,SAAAA,EAAYK,EAAWC,EAAqBC,EAASC,GAAmB,IAAAC,GAAA1F,EAAAA,EAAAA,GAAA,KAAAiF,GAEpE,IAAMrB,GADN8B,EAAAN,EAAAO,KAAA,KAAML,EAAWC,EAAqBC,IACDI,UAAUH,EAAkBI,aAAaH,EAAKI,SAASpB,UACM,OAAlGgB,EAAKE,UAAUjC,EAA0CC,EAAyB8B,EAAKI,WAAWJ,CACtG,CAAC,OAAA3F,EAAAA,EAAAA,GAAAkF,EAAA,CAL4B,CAAwCc,EAAAA,GAOzEd,EAAyBjD,EAAW,CAChCe,EAAQ,EAAGiD,EAAAA,KACZf,GACI,IAAIgB,EAAyB,SAAAC,IAAAf,EAAAA,EAAAA,GAAAc,EAAAC,GAAA,IAAAC,GAAAd,EAAAA,EAAAA,GAAAY,GAChC,SAAAA,EAAYX,EAAWC,EAAqBC,EAASC,GAA+C,IAAAW,EAA5BC,EAAkB/D,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,IAAAA,UAAA,IAAQtC,EAAAA,EAAAA,GAAA,KAAAiG,GAE9F,IAAMrC,GADNwC,EAAAD,EAAAR,KAAA,KAAML,EAAWC,EAAqBc,EAAoBb,IACrBI,UAAUH,EAAkBI,aAAaO,EAAKN,SAASpB,UACM,OAAlG0B,EAAKR,UAAUjC,EAA0CC,EAAyBwC,EAAKN,WAAWM,CACtG,CAAC,OAAArG,EAAAA,EAAAA,GAAAkG,EAAA,CAL+B,CAA2CK,EAAAA,GAO/EL,EAA4BjE,EAAW,CACnCe,EAAQ,EAAGiD,EAAAA,KACZC,GACHM,EAAAA,EAAoBC,iCAAiC,CACjDzF,GAAI,uBACJ0F,OAAQ,IACRC,KAAMC,EAAAA,GAAeC,IAAID,EAAAA,GAAe7E,IAAIuB,GAAsCsD,EAAAA,GAAeE,OAAOtD,GAA6C,GAAOL,EAAyB4D,WAAU,IAC/LC,QAAS,GACTC,UAAW,CAAC,KACZC,QAAS,SAACC,GACgB,OAAtB1D,QAAoD,IAAtBA,GAAwCA,EAAkB2D,mBAC5F,IAEJZ,EAAAA,EAAoBC,iCAAiC,CACjDzF,GAAI,mBACJ0F,OAAQ,IACRC,KAAMC,EAAAA,GAAeC,IAAID,EAAAA,GAAe7E,IAAIuB,GAAsCsD,EAAAA,GAAeE,OAAOvD,GAA4C,GAAOJ,EAAyB4D,WAAU,IAC9LC,QAAS,GACTC,UAAW,CAAC,KACZC,QAAS,SAACC,GACgB,OAAtB1D,QAAoD,IAAtBA,GAAwCA,EAAkB4D,eAC5F,G,wBChGG,SAASC,EAA0BC,GACtC,IAAIC,EAAIC,EACR,MAAgJ,QAAlE,QAArED,EAAKD,EAAkBG,iBAAiB,+BAA4C,IAAPF,OAAgB,EAASA,EAAGG,2BAA2K,UAAlE,QAAjEF,EAAKF,EAAkBG,iBAAiB,2BAAwC,IAAPD,OAAgB,EAASA,EAAGE,yBACnQ,C,iHCHaC,GAAc5H,EAAAA,EAAAA,IACvB,SAAA4H,EAAYC,GAAkE,IAA5DC,EAAevF,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,GAAIwF,EAA4BxF,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,IAAAA,UAAA,IAAQtC,EAAAA,EAAAA,GAAA,KAAA2H,GACxEpH,KAAKqH,KAAOA,EACZrH,KAAKsH,gBAAkBA,EACvBtH,KAAKuH,6BAA+BA,CACxC,G,8FCJEC,EAAY,GACX,SAASC,EAAkBjH,EAAIkH,EAAkBH,GAC9CG,aAA4BN,EAAAA,IAC9BM,EAAmB,IAAIN,EAAAA,EAAeM,EAAkB,GAAIC,QAAQJ,KAExEC,EAAU/D,KAAK,CAACjD,EAAIkH,GACxB,CACO,SAASE,IACZ,OAAOJ,CACX,C,wBCTO,IAAIK,E,iFACX,SAAWA,GACPA,EAAMC,WAAa,IAAIC,IACvBF,EAAMG,UAAY,aAClBH,EAAMI,gBAAkB,mBAIxBJ,EAAMK,uBAHN,SAAgCb,GAC5B,OAAOA,EAAKQ,EAAMI,kBAAoB,EAC1C,CAEH,CARD,CAQGJ,IAAUA,EAAQ,CAAC,IACf,IAAMM,EAAwBhJ,EAAgB,wBAa9C,SAASA,EAAgBiJ,GAC5B,GAAIP,EAAMC,WAAWvG,IAAI6G,GACrB,OAAOP,EAAMC,WAAWO,IAAID,GAEhC,IAAM5H,EAAK,SAALA,EAAemB,EAAQ9B,EAAKyI,GAC9B,GAAyB,IAArBvG,UAAUC,OACV,MAAM,IAAIwB,MAAM,qEAlB5B,SAAgChD,EAAImB,EAAQ2G,GACpC3G,EAAOkG,EAAMG,aAAerG,EAC5BA,EAAOkG,EAAMI,iBAAiBxE,KAAK,CAAEjD,GAAAA,EAAI8H,MAAAA,KAGzC3G,EAAOkG,EAAMI,iBAAmB,CAAC,CAAEzH,GAAAA,EAAI8H,MAAAA,IACvC3G,EAAOkG,EAAMG,WAAarG,EAElC,CAYQ4G,CAAuB/H,EAAImB,EAAQ2G,EACvC,EAGA,OAFA9H,EAAGgI,SAAW,kBAAMJ,CAAS,EAC7BP,EAAMC,WAAW7D,IAAImE,EAAW5H,GACzBA,CACX,C,+LCrCaiI,GAAIjJ,EAAAA,EAAAA,IACb,SAAAiJ,EAAY5I,EAAKK,IAAMT,EAAAA,EAAAA,GAAA,KAAAgJ,GACnBzI,KAAKH,IAAMA,EACXG,KAAKE,KAAOA,EACZF,KAAK0I,SAAW,IAAIX,IACpB/H,KAAK2I,SAAW,IAAIZ,GACxB,IAESa,EAAK,WACd,SAAAA,EAAYC,IAASpJ,EAAAA,EAAAA,GAAA,KAAAmJ,GACjB5I,KAAK6I,QAAUA,EACf7I,KAAK8I,OAAS,IAAIf,GAEtB,CAsEC,OAtEAvI,EAAAA,EAAAA,GAAAoJ,EAAA,EAAA/I,IAAA,QAAAC,MACD,WACI,IACuCe,EADjCkI,EAAM,GAAGjI,GAAAC,EAAAA,EAAAA,GACIf,KAAK8I,OAAOE,UAAQ,IAAvC,IAAAlI,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAAyC,KAA9B+H,EAAIpI,EAAAf,MACgB,IAAvBmJ,EAAKN,SAASO,MACdH,EAAItF,KAAKwF,EAEjB,CAAC,OAAA9H,GAAAL,EAAAM,EAAAD,EAAA,SAAAL,EAAAO,GAAA,CACD,OAAO0H,CACX,GAAC,CAAAlJ,IAAA,aAAAC,MACD,SAAWqJ,EAAMC,GACb,IAAMC,EAAWrJ,KAAKsJ,mBAAmBH,GACnCI,EAASvJ,KAAKsJ,mBAAmBF,GACvCC,EAASV,SAAS1E,IAAIsF,EAAO1J,IAAK0J,GAClCA,EAAOb,SAASzE,IAAIoF,EAASxJ,IAAKwJ,EACtC,GAAC,CAAAxJ,IAAA,aAAAC,MACD,SAAWI,GACP,IAAML,EAAMG,KAAK6I,QAAQ3I,GACzBF,KAAK8I,OAAOU,OAAO3J,GAAK,IACe4J,EADfC,GAAA3I,EAAAA,EAAAA,GACLf,KAAK8I,OAAOE,UAAQ,IAAvC,IAAAU,EAAA1I,MAAAyI,EAAAC,EAAAzI,KAAAC,MAAyC,KAA9B+H,EAAIQ,EAAA3J,MACXmJ,EAAKN,SAASa,OAAO3J,GACrBoJ,EAAKP,SAASc,OAAO3J,EACzB,CAAC,OAAAsB,GAAAuI,EAAAtI,EAAAD,EAAA,SAAAuI,EAAArI,GAAA,CACL,GAAC,CAAAxB,IAAA,qBAAAC,MACD,SAAmBI,GACf,IAAML,EAAMG,KAAK6I,QAAQ3I,GACrB+I,EAAOjJ,KAAK8I,OAAOT,IAAIxI,GAK3B,OAJKoJ,IACDA,EAAO,IAAIR,EAAK5I,EAAKK,GACrBF,KAAK8I,OAAO7E,IAAIpE,EAAKoJ,IAElBA,CACX,GAAC,CAAApJ,IAAA,UAAAC,MACD,WACI,OAA4B,IAArBE,KAAK8I,OAAOI,IACvB,GAAC,CAAArJ,IAAA,WAAAC,MACD,WACI,IACsC6J,EADhCzJ,EAAO,GAAG0J,GAAA7I,EAAAA,EAAAA,GACWf,KAAK8I,QAAM,IAAtC,IAAAc,EAAA5I,MAAA2I,EAAAC,EAAA3I,KAAAC,MAAwC,KAAA2I,GAAAC,EAAAA,EAAAA,GAAAH,EAAA7J,MAAA,GAA5BD,EAAGgK,EAAA,GAAE/J,EAAK+J,EAAA,GAClB3J,EAAKuD,KAAK,GAADsG,OAAIlK,EAAG,sBAAAkK,QAAqBC,EAAAA,EAAAA,GAAIlK,EAAM4I,SAASuB,QAAQC,KAAK,MAAK,uBAAAH,QAAsBC,EAAAA,EAAAA,GAAIlK,EAAM6I,SAASsB,QAAQC,KAAK,KAAI,OACxI,CAAC,OAAA/I,GAAAyI,EAAAxI,EAAAD,EAAA,SAAAyI,EAAAvI,GAAA,CACD,OAAOnB,EAAKgK,KAAK,KACrB,GACA,CAAArK,IAAA,gBAAAC,MAIA,WAAgB,IACwBqK,EADxBC,GAAArJ,EAAAA,EAAAA,GACaf,KAAK8I,QAAM,IAApC,IAAAsB,EAAApJ,MAAAmJ,EAAAC,EAAAnJ,KAAAC,MAAsC,KAAAmJ,GAAAP,EAAAA,EAAAA,GAAAK,EAAArK,MAAA,GAA1BU,EAAE6J,EAAA,GAAEpB,EAAIoB,EAAA,GACVC,EAAO,IAAI1J,IAAI,CAACJ,IAChB+J,EAAMvK,KAAKwK,WAAWvB,EAAMqB,GAClC,GAAIC,EACA,OAAOA,CAEf,CAAC,OAAApJ,GAAAiJ,EAAAhJ,EAAAD,EAAA,SAAAiJ,EAAA/I,GAAA,CAEL,GAAC,CAAAxB,IAAA,aAAAC,MACD,SAAWmJ,EAAMqB,GAAM,IACuBG,EADvBC,GAAA3J,EAAAA,EAAAA,GACUkI,EAAKN,UAAQ,IAA1C,IAAA+B,EAAA1J,MAAAyJ,EAAAC,EAAAzJ,KAAAC,MAA4C,KAAAyJ,GAAAb,EAAAA,EAAAA,GAAAW,EAAA3K,MAAA,GAAhCU,EAAEmK,EAAA,GAAEhC,EAAQgC,EAAA,GACpB,GAAIL,EAAK/I,IAAIf,GACT,MAAO,GAAAuJ,QAAAC,EAAAA,EAAAA,GAAIM,GAAI,CAAE9J,IAAI0J,KAAK,QAE9BI,EAAK3K,IAAIa,GACT,IAAMV,EAAQE,KAAKwK,WAAW7B,EAAU2B,GACxC,GAAIxK,EACA,OAAOA,EAEXwK,EAAKd,OAAOhJ,EAChB,CAAC,OAAAW,GAAAuJ,EAAAtJ,EAAAD,EAAA,SAAAuJ,EAAArJ,GAAA,CAEL,KAACuH,CAAA,CA3Ea,G,iCCEZgC,EAAqB,SAAAC,IAAAjG,EAAAA,EAAAA,GAAAgG,EAAAC,GAAA,IAAAhG,GAAAC,EAAAA,EAAAA,GAAA8F,GACvB,SAAAA,EAAYE,GAAO,IAAA3F,EACX6B,EAEwI,OAH7HvH,EAAAA,EAAAA,GAAA,KAAAmL,IAEfzF,EAAAN,EAAAO,KAAA,KAAM,uCACD2F,QAA2C,QAAhC/D,EAAK8D,EAAME,uBAAoC,IAAPhE,EAAgBA,EAAK,4CAAH+C,OAA+Ce,EAAMtC,YAAarD,CAChJ,CAAC,OAAA3F,EAAAA,EAAAA,GAAAoL,EAAA,CALsB,EAKtBK,EAAAA,EAAAA,GAL+BzH,QAOvB0H,EAAoB,WAC7B,SAAAA,IAA+G,IACvGlE,EADImE,EAASpJ,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,IAAIqJ,EAAAA,EAAqBC,EAAOtJ,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,IAAAA,UAAA,GAAUuJ,EAAOvJ,UAAAC,OAAA,EAAAD,UAAA,QAAAmB,EAAEqI,EAAcxJ,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,IAAAA,UAAA,IAAoBtC,EAAAA,EAAAA,GAAA,KAAAyL,GAEzGlL,KAAKmL,UAAYA,EACjBnL,KAAKqL,QAAUA,EACfrL,KAAKsL,QAAUA,EACftL,KAAKuL,eAAiBA,EACtBvL,KAAKwL,sBAAwB,IAAI5K,IACjCZ,KAAKmL,UAAUlH,IAAIkE,EAAAA,GAAuBnI,MAC1CA,KAAKyL,aAAeF,EAAmG,QAAjFvE,EAAiB,OAAZsE,QAAgC,IAAZA,OAAqB,EAASA,EAAQG,oBAAiC,IAAPzE,EAAgBA,EAAK,IAAI4B,GAAM,SAAAxH,GAAC,OAAIA,CAAC,SAAI8B,CAC5K,CA2PC,OA3PA1D,EAAAA,EAAAA,GAAA0L,EAAA,EAAArL,IAAA,cAAAC,MACD,SAAY4L,GACR,OAAO,IAAIR,EAAqBQ,EAAU1L,KAAKqL,QAASrL,KAAMA,KAAKuL,eACvE,GAAC,CAAA1L,IAAA,iBAAAC,MACD,SAAe6L,GAAa,IAAA9F,EAAA,KAClB+F,EAASC,EAAMC,gBAAgB9L,KAAKuL,eAAgBI,GACtDI,GAAQ,EACZ,IAYM,IAXF,IAAMpF,EAAW,CACb0B,IAAK,SAAC7H,GACF,GAAIuL,EACA,MAAMC,EAAAA,EAAAA,IAAa,6EAEvB,IAAMC,EAASpG,EAAKqG,4BAA4B1L,EAAIoL,GACpD,IAAKK,EACD,MAAM,IAAIzI,MAAM,qCAADuG,OAAsCvJ,EAAE,MAE3D,OAAOyL,CACX,GACFE,EAAApK,UAAAC,OAfYoK,EAAI,IAAAC,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAJF,EAAIE,EAAA,GAAAvK,UAAAuK,GAgBlB,OAAOX,EAAEY,WAAC,EAAD,CAAC5F,GAAQoD,OAAKqC,GAC3B,CAAC,QAEGL,GAAQ,EACRH,EAAOY,MACX,CACJ,GAAC,CAAA3M,IAAA,iBAAAC,MACD,SAAe4H,GAEA,IADX,IAAIkE,EACAK,EAAOQ,EAAA1K,UAAAC,OAFqB0K,EAAI,IAAAL,MAAAI,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJD,EAAIC,EAAA,GAAA5K,UAAA4K,GAYpC,OATIjF,aAA4BN,EAAAA,GAC5BwE,EAASC,EAAMe,cAAc5M,KAAKuL,eAAgB7D,EAAiBL,MACnE4E,EAASjM,KAAK6M,gBAAgBnF,EAAiBL,KAAMK,EAAiBJ,gBAAgByC,OAAO2C,GAAOd,KAGpGA,EAASC,EAAMe,cAAc5M,KAAKuL,eAAgB7D,GAClDuE,EAASjM,KAAK6M,gBAAgBnF,EAAkBgF,EAAMd,IAE1DA,EAAOY,OACAP,CACX,GAAC,CAAApM,IAAA,kBAAAC,MACD,SAAgBuH,GAAyB,IAIOxG,EAJ1BuL,EAAIrK,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,GAAI6J,EAAM7J,UAAAC,OAAA,EAAAD,UAAA,QAAAmB,EAE7B4J,EAAsBjF,EAAAA,GAAMK,uBAAuBb,GAAM0F,MAAK,SAACC,EAAGC,GAAC,OAAKD,EAAE1E,MAAQ2E,EAAE3E,KAAK,IACzF4E,EAAc,GAAGpM,GAAAC,EAAAA,EAAAA,GACE+L,GAAmB,IAA5C,IAAAhM,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAA8C,KAAnCiM,EAAUtM,EAAAf,MACXsN,EAAUpN,KAAKkM,4BAA4BiB,EAAW3M,GAAIoL,GAC3DwB,GACDpN,KAAKqN,eAAe,oBAADtD,OAAqB1C,EAAKiG,KAAI,gCAAAvD,OAA+BoD,EAAW3M,GAAE,MAAK,GAEtG0M,EAAYzJ,KAAK2J,EACrB,CAAC,OAAAjM,GAAAL,EAAAM,EAAAD,EAAA,SAAAL,EAAAO,GAAA,CACD,IAAMkM,EAAqBT,EAAoB9K,OAAS,EAAI8K,EAAoB,GAAGxE,MAAQ8D,EAAKpK,OAEhG,GAAIoK,EAAKpK,SAAWuL,EAAoB,CACpCC,QAAQC,MAAM,gDAAD1D,OAAiD1C,EAAKiG,KAAI,iBAAAvD,OAAgBwD,EAAqB,EAAC,oBAAAxD,OAAmBqC,EAAKpK,OAAM,sBAC3I,IAAM0L,EAAQH,EAAqBnB,EAAKpK,OAEpCoK,EADAsB,EAAQ,EACDtB,EAAKrC,OAAO,IAAIsC,MAAMqB,IAGtBtB,EAAKuB,MAAM,EAAGJ,EAE7B,CAEA,OAAOnL,QAAQwL,UAAUvG,EAAM+E,EAAKrC,OAAOmD,GAC/C,GAAC,CAAArN,IAAA,sBAAAC,MACD,SAAoBU,EAAIqN,GACpB,GAAI7N,KAAKmL,UAAU9C,IAAI7H,aAAe4G,EAAAA,EAClCpH,KAAKmL,UAAUlH,IAAIzD,EAAIqN,OAEtB,KAAI7N,KAAKsL,QAIV,MAAM,IAAI9H,MAAM,mDAHhBxD,KAAKsL,QAAQwC,oBAAoBtN,EAAIqN,EAIzC,CACJ,GAAC,CAAAhO,IAAA,kCAAAC,MACD,SAAgCU,GAC5B,IAAMuN,EAAiB/N,KAAKmL,UAAU9C,IAAI7H,GAC1C,OAAKuN,GAAkB/N,KAAKsL,QACjBtL,KAAKsL,QAAQ0C,gCAAgCxN,GAG7CuN,CAEf,GAAC,CAAAlO,IAAA,8BAAAC,MACD,SAA4BU,EAAIoL,GACxB5L,KAAKyL,cAAgBzL,KAAKiO,gCAC1BjO,KAAKyL,aAAayC,WAAWlO,KAAKiO,+BAAgCE,OAAO3N,IAE7E,IAAM4N,EAAQpO,KAAKgO,gCAAgCxN,GACnD,OAAI4N,aAAiBhH,EAAAA,EACVpH,KAAKqO,mCAAmC7N,EAAI4N,EAAOxC,EAAO0C,OAAO9N,GAAI,KAG5EoL,EAAO0C,OAAO9N,GAAI,GACX4N,EAEf,GAAC,CAAAvO,IAAA,qCAAAC,MACD,SAAmCU,EAAIoB,EAAMgK,GACzC,GAAI5L,KAAKwL,sBAAsBjK,IAAIf,GAC/B,MAAM,IAAIgD,MAAM,sDAADuG,OAAuDvJ,EAAE,MAE5ER,KAAKwL,sBAAsB7L,IAAIa,GAC/B,IACI,OAAOR,KAAKuO,+BAA+B/N,EAAIoB,EAAMgK,EACzD,CAAC,QAEG5L,KAAKwL,sBAAsBhC,OAAOhJ,EACtC,CACJ,GAAC,CAAAX,IAAA,iCAAAC,MACD,SAA+BU,EAAIoB,EAAMgK,GAKrC,IAJA,IAAI5E,EACE8D,EAAQ,IAAIlC,GAAM,SAAA1I,GAAI,OAAIA,EAAKM,GAAGgI,UAAU,IAC9CgG,EAAa,EACXC,EAAQ,CAAC,CAAEjO,GAAAA,EAAIoB,KAAAA,EAAMgK,OAAAA,IACpB6C,EAAMzM,QAAQ,CACjB,IAAM0M,EAAOD,EAAME,MAGnB,GAFA7D,EAAMxB,mBAAmBoF,GAErBF,IAAe,IACf,MAAM,IAAI5D,EAAsBE,GAEpC,IACqErB,EADrEC,GAAA3I,EAAAA,EAAAA,GACyB8G,EAAAA,GAAMK,uBAAuBwG,EAAK9M,KAAKyF,OAAK,IAArE,IAAAqC,EAAA1I,MAAAyI,EAAAC,EAAAzI,KAAAC,MAAuE,KAA5DiM,EAAU1D,EAAA3J,MACXiO,EAAiB/N,KAAKgO,gCAAgCb,EAAW3M,IAMvE,GALKuN,GACD/N,KAAKqN,eAAe,oBAADtD,OAAqBvJ,EAAE,gBAAAuJ,OAAeoD,EAAW3M,GAAE,8BAA6B,GAG1E,QAA5BwG,EAAKhH,KAAKyL,oBAAiC,IAAPzE,GAAyBA,EAAGkH,WAAWC,OAAOO,EAAKlO,IAAK2N,OAAOhB,EAAW3M,KAC3GuN,aAA0B3G,EAAAA,EAAgB,CAC1C,IAAMvF,EAAI,CAAErB,GAAI2M,EAAW3M,GAAIoB,KAAMmM,EAAgBnC,OAAQ8C,EAAK9C,OAAO0C,OAAOnB,EAAW3M,IAAI,IAC/FsK,EAAMoD,WAAWQ,EAAM7M,GACvB4M,EAAMhL,KAAK5B,EACf,CACJ,CAAC,OAAAV,GAAAuI,EAAAtI,EAAAD,EAAA,SAAAuI,EAAArI,GAAA,CACL,CACA,OAAa,CACT,IAAMuN,EAAQ9D,EAAM8D,QAGpB,GAAqB,IAAjBA,EAAM5M,OAAc,CACpB,IAAK8I,EAAM+D,UACP,MAAM,IAAIjE,EAAsBE,GAEpC,KACJ,CAAC,IAC2BnB,EAD3BC,GAAA7I,EAAAA,EAAAA,GACsB6N,GAAK,IAA5B,IAAAhF,EAAA5I,MAAA2I,EAAAC,EAAA3I,KAAAC,MAA8B,KAAjBhB,EAAIyJ,EAAA7J,MAAJI,KAKT,GADuBF,KAAKgO,gCAAgC9N,EAAKM,cACnC4G,EAAAA,EAAgB,CAE1C,IAAMyG,EAAW7N,KAAK8O,gCAAgC5O,EAAKM,GAAIN,EAAK0B,KAAKyF,KAAMnH,EAAK0B,KAAK0F,gBAAiBpH,EAAK0B,KAAK2F,6BAA8BrH,EAAK0L,QACvJ5L,KAAK8N,oBAAoB5N,EAAKM,GAAIqN,EACtC,CACA/C,EAAMiE,WAAW7O,EACrB,CAAC,OAAAiB,GAAAyI,EAAAxI,EAAAD,EAAA,SAAAyI,EAAAvI,GAAA,CACL,CACA,OAAOrB,KAAKgO,gCAAgCxN,EAChD,GAAC,CAAAX,IAAA,kCAAAC,MACD,SAAgCU,EAAI6G,GAAuD,IAAjD+E,EAAIrK,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,GAAIwF,EAA4BxF,UAAAC,OAAA,EAAAD,UAAA,QAAAmB,EAAE0I,EAAM7J,UAAAC,OAAA,EAAAD,UAAA,QAAAmB,EACrF,GAAIlD,KAAKmL,UAAU9C,IAAI7H,aAAe4G,EAAAA,EAClC,OAAOpH,KAAKgP,uBAAuBxO,EAAI6G,EAAM+E,EAAM7E,EAA8BqE,GAEhF,GAAI5L,KAAKsL,QACV,OAAOtL,KAAKsL,QAAQwD,gCAAgCtO,EAAI6G,EAAM+E,EAAM7E,EAA8BqE,GAGlG,MAAM,IAAIpI,MAAM,oDAADuG,OAAqD1C,EAAKiG,MAEjF,GAAC,CAAAzN,IAAA,yBAAAC,MACD,SAAuBU,EAAI6G,GAAuD,IAAjD+E,EAAIrK,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,GAAkC6J,EAAM7J,UAAAC,OAAA,EAAAD,UAAA,QAAAmB,EAC5E,GADoEnB,UAAAC,OAAA,EAAAD,UAAA,QAAAmB,EAK/D,CACD,IAAM+L,EAAQ,IAAI/D,OAAqBhI,EAAWlD,KAAKqL,QAASrL,KAAMA,KAAKuL,gBAC3E0D,EAAMhB,+BAAiCE,OAAO3N,GAK9C,IAAM0O,EAAiB,IAAInH,IACrBoH,EAAO,IAAIC,EAAAA,IAAU,WACvB,IAG0CjF,EAHpC8B,EAASgD,EAAMpC,gBAAgBxF,EAAM+E,EAAMR,GAEjDxB,GAAArJ,EAAAA,EAAAA,GAC4BmO,GAAc,IAA1C,IAAA9E,EAAApJ,MAAAmJ,EAAAC,EAAAnJ,KAAAC,MAA4C,KAAAmJ,GAAAP,EAAAA,EAAAA,GAAAK,EAAArK,MAAA,GAAhCD,EAAGwK,EAAA,GAAErB,EAAMqB,EAAA,GACbgF,EAAYpD,EAAOpM,GACzB,GAAyB,oBAAdwP,EAA0B,KACJ5E,EADIC,GAAA3J,EAAAA,EAAAA,GACViI,GAAM,IAA7B,IAAA0B,EAAA1J,MAAAyJ,EAAAC,EAAAzJ,KAAAC,MAA+B,KAApBoO,EAAQ7E,EAAA3K,MACfuP,EAAU9C,MAAMN,EAAQqD,EAC5B,CAAC,OAAAnO,GAAAuJ,EAAAtJ,EAAAD,EAAA,SAAAuJ,EAAArJ,GAAA,CACL,CACJ,CAAC,OAAAF,GAAAiJ,EAAAhJ,EAAAD,EAAA,SAAAiJ,EAAA/I,GAAA,CAED,OADA6N,EAAeK,QACRtD,CACX,IACA,OAAO,IAAIuD,MAAMtN,OAAOuN,OAAO,MAAO,CAClCpH,IAAG,SAAC1G,EAAQ9B,GACR,IAAKsP,EAAKO,eAEa,kBAAR7P,IAAqBA,EAAI8P,WAAW,UAAY9P,EAAI8P,WAAW,WAAY,CAClF,IAAIC,EAAOV,EAAe7G,IAAIxI,GACzB+P,IACDA,EAAO,IAAIC,EAAAA,EACXX,EAAejL,IAAIpE,EAAK+P,IAM5B,OAJc,SAACE,EAAUC,EAASC,GAC9B,IAAMC,EAAKL,EAAKnM,KAAK,CAACqM,EAAUC,EAASC,IACzC,OAAO1L,EAAAA,EAAAA,IAAa2L,EACxB,CAEJ,CAGJ,GAAIpQ,KAAO8B,EACP,OAAOA,EAAO9B,GAGlB,IAAMqQ,EAAMf,EAAKrP,MACbqQ,EAAOD,EAAIrQ,GACf,MAAoB,oBAATsQ,IAGXA,EAAOA,EAAKC,KAAKF,GACjBvO,EAAO9B,GAAOsQ,GAHHA,CAKf,EACAlM,IAAG,SAACoM,EAASC,EAAGxQ,GAEZ,OADAqP,EAAKrP,MAAMwQ,GAAKxQ,GACT,CACX,EACAyQ,eAAc,SAACF,GACX,OAAOhJ,EAAKmJ,SAChB,GAER,CAhEI,OAAOxQ,KAAK6M,gBAAgBxF,EAAM+E,EAAMR,EAiEhD,GAAC,CAAA/L,IAAA,iBAAAC,MACD,SAAe2Q,EAAKC,GAIhB,GAHIA,GACAlD,QAAQmD,KAAKF,GAEbzQ,KAAKqL,QACL,MAAM,IAAI7H,MAAMiN,EAExB,KAACvF,CAAA,CArQ4B,GAuQpBW,EAAK,WAOd,SAAAA,EAAY+E,EAAMtD,IAAM7N,EAAAA,EAAAA,GAAA,KAAAoM,GACpB7L,KAAK4Q,KAAOA,EACZ5Q,KAAKsN,KAAOA,EACZtN,KAAK6Q,OAASC,KAAKC,MACnB/Q,KAAKgR,KAAO,EAChB,CANC,OAMAxR,EAAAA,EAAAA,GAAAqM,EAAA,EAAAhM,IAAA,SAAAC,MACD,SAAOU,EAAIyQ,GACP,IAAMhC,EAAQ,IAAIpD,EAAM,EAA0BrL,EAAGgI,YAErD,OADAxI,KAAKgR,KAAKvN,KAAK,CAACjD,EAAIyQ,EAAOhC,IACpBA,CACX,GAAC,CAAApP,IAAA,OAAAC,MACD,WACI,IAAMoR,EAAMJ,KAAKC,MAAQ/Q,KAAK6Q,OAC9BhF,EAAMsF,SAAWD,EACjB,IAAIE,GAAiB,EAmBrB,IAAMC,EAAQ,CAAC,GAADtH,OACO,IAAd/J,KAAK4Q,KAAsC,SAAW,OAAM,KAAA7G,OAAI/J,KAAKsN,MAAI,GAAAvD,OAnBhF,SAASuH,EAAWrQ,EAAGwM,GACnB,IAE2C8D,EAFrChH,EAAM,GACNiH,EAAS,IAAInF,MAAMpL,EAAI,GAAGiJ,KAAK,MAAMuH,GAAA1Q,EAAAA,EAAAA,GACV0M,EAAMuD,MAAI,IAA3C,IAAAS,EAAAzQ,MAAAuQ,EAAAE,EAAAxQ,KAAAC,MAA6C,KAAAwQ,GAAA5H,EAAAA,EAAAA,GAAAyH,EAAAzR,MAAA,GAAjCU,EAAEkR,EAAA,GAAET,EAAKS,EAAA,GAAEzC,EAAKyC,EAAA,GACxB,GAAIT,GAAShC,EAAO,CAChBmC,GAAiB,EACjB7G,EAAI9G,KAAK,GAADsG,OAAIyH,EAAM,eAAAzH,OAAcvJ,IAChC,IAAMmR,EAASL,EAAWrQ,EAAI,EAAGgO,GAC7B0C,GACApH,EAAI9G,KAAKkO,EAEjB,MAEIpH,EAAI9G,KAAK,GAADsG,OAAIyH,EAAM,YAAAzH,OAAWvJ,GAErC,CAAC,OAAAW,GAAAsQ,EAAArQ,EAAAD,EAAA,SAAAsQ,EAAApQ,GAAA,CACD,OAAOkJ,EAAIL,KAAK,KACpB,CAGOoH,CAAW,EAAGtR,OAAK,cAAA+J,OACRmH,EAAIU,QAAQ,GAAE,oBAAA7H,OAAmB8B,EAAMsF,QAAQS,QAAQ,GAAE,SAEvEV,EAAM,GAAKE,IACXvF,EAAMgG,IAAIlS,IAAI0R,EAAMnH,KAAK,MAEjC,IAAC,EAAArK,IAAA,kBAAAC,MA/CD,SAAuByL,EAAgBlE,GACnC,OAAQkE,EAA+B,IAAIM,EAAM,EAA8BxE,EAAKiG,OAAQ,IAAI9J,OAAQiL,MAAMqD,MAAM,MAAMnE,MAAM,EAAG,GAAGzD,KAAK,OAAlH2B,EAAMkG,KACnC,GAAC,CAAAlS,IAAA,gBAAAC,MACD,SAAqByL,EAAgBlE,GACjC,OAAQkE,EAA+B,IAAIM,EAAM,EAA4BxE,EAAKiG,MAAzDzB,EAAMkG,KACnC,KAAClG,CAAA,CANa,GAkDlBA,EAAMgG,IAAM,IAAIjR,IAChBiL,EAAMkG,MAAQ,aAAAC,IAAApN,EAAAA,EAAAA,GAAAqN,EAAAD,GAAA,IAAApM,GAAAd,EAAAA,EAAAA,GAAAmN,GACV,SAAAA,IAAc,OAAAxS,EAAAA,EAAAA,GAAA,KAAAwS,GAAArM,EAAAR,KAAA,KAAQ,EAAwB,KAAO,CAE5B,OAF6B5F,EAAAA,EAAAA,GAAAyS,EAAA,EAAApS,IAAA,OAAAC,MACtD,WAAS,GAAC,CAAAD,IAAA,SAAAC,MACV,WAAW,OAAOE,IAAM,KAACiS,CAAA,CAHX,CAAcpG,IAKhCA,EAAMsF,QAAU,C,6FChVH/F,EAAiB,WAC1B,SAAAA,KAAwB3L,EAAAA,EAAAA,GAAA,KAAA2L,GACpBpL,KAAKkS,SAAW,IAAInK,IAAM,QAAAoE,EAAApK,UAAAC,OADfmQ,EAAO,IAAA9F,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAP6F,EAAO7F,GAAAvK,UAAAuK,GAElB,IAAK,IAAL8F,EAAA,EAAAF,EAA4BC,EAAOC,EAAAF,EAAAlQ,OAAAoQ,IAAE,CAAhC,IAAAC,GAAAvI,EAAAA,EAAAA,GAAAoI,EAAAE,GAAA,GAAO5R,EAAE6R,EAAA,GAAEjF,EAAOiF,EAAA,GACnBrS,KAAKiE,IAAIzD,EAAI4M,EACjB,CACJ,CAQC,OARA5N,EAAAA,EAAAA,GAAA4L,EAAA,EAAAvL,IAAA,MAAAC,MACD,SAAIU,EAAI8R,GACJ,IAAMrG,EAASjM,KAAKkS,SAAS7J,IAAI7H,GAEjC,OADAR,KAAKkS,SAASjO,IAAIzD,EAAI8R,GACfrG,CACX,GAAC,CAAApM,IAAA,MAAAC,MACD,SAAIU,GACA,OAAOR,KAAKkS,SAAS7J,IAAI7H,EAC7B,KAAC4K,CAAA,CAdyB,E,uGCEjBmH,EAAa,CACtBC,iBAAkB,2BAOrB,IAcKC,EAA2B,IAbH,WAC1B,SAAAC,KAAcjT,EAAAA,EAAAA,GAAA,KAAAiT,GACV1S,KAAK2S,mBAAqB,IAAIC,EAAAA,GAC9B5S,KAAK6S,YAAc,CAAC,CACxB,CAOC,OAPArT,EAAAA,EAAAA,GAAAkT,EAAA,EAAA7S,IAAA,iBAAAC,MACD,SAAegT,EAAKC,GAXxB,IAAqBvS,EAYbR,KAAK6S,aAZQrS,EAYgBsS,EAX7BtS,EAAGwB,OAAS,GAAkC,MAA7BxB,EAAGwS,OAAOxS,EAAGwB,OAAS,GAChCxB,EAAGyS,UAAU,EAAGzS,EAAGwB,OAAS,GAEhCxB,IAQkCuS,EACrC/S,KAAK2S,mBAAmBO,KAAKJ,EACjC,GAAC,CAAAjT,IAAA,sBAAAC,MACD,SAAoBgT,GAChB9S,KAAK2S,mBAAmBO,KAAKJ,EACjC,KAACJ,CAAA,CAXyB,IAc9BS,EAAAA,EAAkBxT,IAAI4S,EAAWC,iBAAkBC,E,oNClB7CW,EAAqB,2DACdC,EAAyB,SAAAC,IAAA1O,EAAAA,EAAAA,GAAAyO,EAAAC,GAAA,IAAAzO,GAAAC,EAAAA,EAAAA,GAAAuO,GAOlC,SAAAA,EAAYE,EAAoBC,EAAiBC,EAAmBC,EAAsBC,GAAa,IAAAxO,EAc7E,OAd6E1F,EAAAA,EAAAA,GAAA,KAAA4T,IACnGlO,EAAAN,EAAAO,KAAA,OACKmO,mBAAqBA,EAC1BpO,EAAKqO,gBAAkBA,EACvBrO,EAAKsO,kBAAoBA,EACzBtO,EAAKuO,qBAAuBA,EAC5BvO,EAAKwO,YAAcA,EACnBxO,EAAKyO,wBAA0BzO,EAAKE,UAAU,IAAIuN,EAAAA,IAClDzN,EAAK0O,eAAiB,GACtB1O,EAAK2O,qBAAuB,IAAIC,EAAAA,GAChC5O,EAAK6O,2BAA6B,KAClC7O,EAAK8O,uBAAyBC,EAAsBC,MACpDhP,EAAKiP,uBAAyB,KAC9BjP,EAAKkP,mCAAqC,IAAIC,EAAAA,GAC9CnP,EAAKoP,UAAW,EAAMpP,CAC1B,CAgOC,OAhOA3F,EAAAA,EAAAA,GAAA6T,EAAA,EAAAxT,IAAA,yBAAAwI,IArBD,WACI,OAAOrI,KAAK4T,wBAA0B5T,KAAK4T,wBAAwBY,MAAQC,EAAAA,GAAMC,IACrF,GAAC,CAAA7U,IAAA,cAAAwI,IACD,WACI,OAAOrI,KAAK6T,eAAe7R,OAAS,CACxC,GAAC,CAAAnC,IAAA,UAAAC,MAiBD,YACI6U,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAvB,EAAA7C,WAAA,gBAAApL,KAAA,KACJ,GAAC,CAAAvF,IAAA,OAAAC,MACD,SAAK+U,GACG7U,KAAKuU,UACLvU,KAAK2T,YAAYmB,KAAK,wBAAD/K,OAAyB8K,GAEtD,GAAC,CAAAhV,IAAA,iBAAAC,MACD,WACI,OAAOE,KAAK+U,eAAeC,gBAC/B,GAAC,CAAAnV,IAAA,mBAAAC,MACD,SAAiBmV,EAAWC,GACxB,IAAMjJ,EAASjM,KAAK+U,eAAeI,wBAAwBF,EAAWC,GAAWlV,KAAKuT,oBACtF,GAAKtH,EAGL,OAAOA,EAAOmJ,kBAClB,GAAC,CAAAvV,IAAA,gBAAAC,MACD,SAAcsB,EAAGO,GACb,OAAO3B,KAAKqV,UAAUjU,EAAGO,EAC7B,GAEA,CAAA9B,IAAA,eAAAC,MACA,SAAasB,EAAGO,GACZ3B,KAAKsV,KAAK,qCACV,IAAMC,EAAavV,KAAKwV,qBAAqBpU,GAC7C,GAAImU,EAAWE,oBAEX,OADAjI,QAAQmD,KAAK,0DACN+E,EAAAA,EAEX,IAAAC,EAAsBJ,EAAWK,oBAA1BC,GAA6C/L,EAAAA,EAAAA,GAAA6L,EAAA,GAAnC,GACjB,GAAmB,OAAfE,EAGA,OADA7V,KAAKsV,KAAK,0CACHI,EAAAA,EAEX,IAAMI,EAAe9V,KAAKuT,mBAAmBwC,WAAWpU,GAClDqU,EAAgBhW,KAAK6T,eAAeoC,KAAK,SAAAC,GAAW,OAAAA,EAARC,QAAuB,IACzE,OAAOnW,KAAK+U,eAAeqB,QAAQN,EAAcE,EAAeH,EACpE,GAAC,CAAAhW,IAAA,0BAAAC,MACD,WAA0B,IAAA+F,EAAA,KAChBwQ,EAA0BvF,KAAKC,MACrC/Q,KAAK8T,qBAAqBwC,cAAa,WAC9BzQ,EAAK0Q,oBAKNzF,KAAKC,MAAQsF,EAA0B,KAEvCxQ,EAAK2Q,kBALL3Q,EAAK2Q,iBAOb,GAAG,IACP,GAAC,CAAA3W,IAAA,sBAAAC,MACD,SAAoB+V,EAAYY,GAE5B,OADAzW,KAAK6T,eAAepQ,KAAK,CAAE0S,SAAUN,EAAYa,MAAOD,IAChDzW,KAAK6T,eAAe7R,QACxB,KAAK,EACD,MAAMgK,EAAAA,EAAAA,IAAa,cACvB,KAAK,EAEDhM,KAAKgU,2BAA6BhU,KAAK0T,qBAAqBiD,OAAOC,EAAAA,GAAa,cAAe,wDAAyDH,IACxJ,MACJ,QACI,IAAMI,EAAoB7W,KAAK6T,eAAeoC,KAAI,SAAAa,GAAQ,OAAAA,EAALJ,KAAiB,IAAExM,KAAK,MAC7ElK,KAAKgU,2BAA6BhU,KAAK0T,qBAAqBiD,OAAOC,EAAAA,GAAa,aAAc,sDAAuDC,IAG7J7W,KAAK+W,0BACDC,EAAAA,EAAIC,SACJD,EAAAA,EAAIE,SAEZ,GAAC,CAAArX,IAAA,kBAAAC,MACD,WACQE,KAAKgU,6BACLhU,KAAKgU,2BAA2BvP,UAChCzE,KAAKgU,2BAA6B,MAEtChU,KAAK8T,qBAAqBqD,SAC1BnX,KAAK6T,eAAiB,GACtBmD,EAAAA,EAAII,QACR,GAAC,CAAAvX,IAAA,YAAAC,MACD,SAAUsB,EAAGO,GACT,OAAO3B,KAAKqX,YAAYrX,KAAKwV,qBAAqBpU,GAAIO,GAAiC,EAC3F,GAAC,CAAA9B,IAAA,0BAAAC,MACD,SAAwBsB,EAAGO,GAAQ,IAAA2V,EAAA,KACzB/B,EAAavV,KAAKwV,qBAAqBpU,GAC7CmW,EAA0BhC,EAAWiC,kCAA9BC,GAA+D3N,EAAAA,EAAAA,GAAAyN,EAAA,GAAjD,GACrB,GAAIE,EACA,OAAIzX,KAAKiU,uBAAuB1S,IAAIkW,IAChCzX,KAAKsV,KAAK,8BAADvL,OAA+B0N,EAAc,uDACtDzX,KAAKiU,uBAAyBC,EAAsBC,MACpDnU,KAAKqU,mCAAmC8C,SACxCnX,KAAKoU,uBAAyB,MACvB,IAEXpU,KAAKiU,uBAAyBC,EAAsBC,MAChB,OAAhCnU,KAAKoU,wBAELpU,KAAKsV,KAAK,gDAADvL,OAAiD0N,EAAc,MACxEzX,KAAKoU,uBAAyBqD,EAC9BzX,KAAKqU,mCAAmCiC,cAAa,WACjDgB,EAAKhC,KAAK,oDACVgC,EAAKlD,uBAAyB,IAClC,GAAG,MACI,GAEPqD,IAAmBzX,KAAKoU,wBAExBpU,KAAKsV,KAAK,uCAADvL,OAAwC0N,EAAc,KAAA1N,OAAI0N,IACnEzX,KAAKqU,mCAAmC8C,SACxCnX,KAAKoU,uBAAyB,KACvBpU,KAAKqX,YAAY9B,EAAY5T,GAAiC,KAEzE3B,KAAKsV,KAAK,wDAADvL,OAAyD/J,KAAKoU,uBAAsB,KAAArK,OAAI0N,IACjGzX,KAAKqU,mCAAmC8C,SACxCnX,KAAKoU,uBAAyB,MACvB,IAIX,IAAAsD,EAAsBnC,EAAWoC,YAA1B9B,GAAqC/L,EAAAA,EAAAA,GAAA4N,EAAA,GAA3B,GAOjB,OANA1X,KAAKiU,uBAAyB,IAAIC,EAAsB2B,GACpB,OAAhC7V,KAAKoU,wBACLpU,KAAKsV,KAAK,mDAEdtV,KAAKqU,mCAAmC8C,SACxCnX,KAAKoU,uBAAyB,MACvB,CACX,GAAC,CAAAvU,IAAA,cAAAC,MACD,SAAY8X,EAAcjW,GAAsC,IACxDqF,EADwD6Q,EAAA,KAA9BC,EAAoB/V,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,IAAAA,UAAA,GAE9CgW,GAAuB,EAC3B,GAAIH,EAAanC,oBAEb,OADAjI,QAAQmD,KAAK,wDACN,EAEX,IAAIqH,EAAmB,KACnBhC,EAAgB,KACpB,GAAI8B,EAAsB,CAItB,IAAAG,EAA2BL,EAAaJ,kCAAjCU,GAAkEpO,EAAAA,EAAAA,GAAAmO,EAAA,GAAnD,GACtBD,EAAmBE,EACnBlC,EAAgBkC,EAAkB,CAACA,GAAmB,EAC1D,KACK,KAAAC,EACqBP,EAAahC,oBAAlCoC,GAAqDlO,EAAAA,EAAAA,GAAAqO,EAAA,GAArC,GACjBnC,EAAgBhW,KAAK6T,eAAeoC,KAAI,SAAAmC,GAAW,OAAAA,EAARjC,QAAuB,GACtE,CACA,GAAyB,OAArB6B,EAGA,OAFAhY,KAAKsV,KAAK,4DAEHyC,EAEX,IAAMjC,EAAe9V,KAAKuT,mBAAmBwC,WAAWpU,GAClD8U,EAAgBmB,EAAaS,WAC7BC,EAAgBtY,KAAK+U,eAAeqB,QAAQN,EAAcE,EAAegC,GAC/E,OAAQM,EAAcC,MAClB,KAAK,EAED,GADAvY,KAAK2T,YAAYlG,MAAM,6BAA8BgJ,EAAe,8BAChEzW,KAAKwY,YAAa,CAClB,IAAMC,EAAqBzY,KAAK6T,eAAeoC,KAAI,SAAAyC,GAAQ,OAAAA,EAALhC,KAAiB,IAAExM,KAAK,MAC9ElK,KAAKsV,KAAK,iDAADvL,OAAkD0O,EAAkB,MAAA1O,OAAK0M,EAAa,OAC/FzW,KAAK0T,qBAAqBiD,OAAOC,EAAAA,GAAa,gBAAiB,mDAAoD6B,EAAoBhC,GAAgB,CAAEkC,UAAW,MACpK3Y,KAAKwW,kBACLuB,GAAuB,CAC3B,CACA,OAAOA,EAEX,KAAK,EAKD,OAJA/X,KAAK2T,YAAYlG,MAAM,6BAA8BgJ,EAAe,sDACpEsB,GAAuB,EACvB/X,KAAK4Y,oBAAoBZ,EAAkBvB,GAC3CzW,KAAKsV,KAAoC,IAA/BtV,KAAK6T,eAAe7R,OAAe,iCAAH,oCACnC+V,EAEX,KAAK,EAED,GADA/X,KAAK2T,YAAYlG,MAAM,6BAA8BgJ,EAAe,2BAAF1M,OAA6BuO,EAAcrD,UAAS,OACtF,OAA5BqD,EAAcrD,WAAkD,KAA5BqD,EAAcrD,WAClD,GAAIjV,KAAKwY,YAAa,CAClB,IAAMC,EAAqBzY,KAAK6T,eAAeoC,KAAI,SAAA4C,GAAQ,OAAAA,EAALnC,KAAiB,IAAExM,KAAK,MAC9ElK,KAAKsV,KAAK,2CAADvL,OAA4C0O,EAAkB,MAAA1O,OAAK0M,EAAa,OACzFzW,KAAK0T,qBAAqBiD,OAAOC,EAAAA,GAAa,gBAAiB,mDAAoD6B,EAAoBhC,GAAgB,CAAEkC,UAAW,MACpK3Y,KAAKwW,kBACLuB,GAAuB,CAC3B,OAGI/X,KAAKwY,aACLxY,KAAKwW,kBAEJ8B,EAAcQ,WACff,GAAuB,GAE3B/X,KAAKsV,KAAK,sBAADvL,OAAuBuO,EAAcrD,UAAS,MACd,qBAA9BqD,EAAcS,YACrB/Y,KAAKwT,gBAAgBwF,eAAeV,EAAcrD,WAAWgE,UAAK/V,GAAW,SAAA/B,GAAG,OAAI0W,EAAKnE,qBAAqB/C,KAAKxP,EAAI,IAGvHnB,KAAKwT,gBAAgBwF,eAAeV,EAAcrD,UAAWqD,EAAcS,aAAaE,UAAK/V,GAAW,SAAA/B,GAAG,OAAI0W,EAAKnE,qBAAqB/C,KAAKxP,EAAI,IAEjJiS,EAAmB8F,KAAKZ,EAAcrD,YACvCjV,KAAKyT,kBAAkB0F,WAAW,0BAA2B,CAAE3Y,GAAI8X,EAAcrD,UAAW9L,KAAM,aAAciQ,OAAuD,QAA9CpS,EAAK4Q,EAAayB,8BAA2C,IAAPrS,EAAgBA,OAAK9D,IAG5M,OAAO6U,EAGnB,GAAC,CAAAlY,IAAA,iCAAAC,MACD,SAA+B0U,GAC3B,OAAIA,EAAM8E,UAAW9E,EAAM+E,UAMtB/E,EAAMgF,SAAW,IAAyBhF,EAAMgF,SAAW,IACxDhF,EAAMgF,SAAW,IAA2BhF,EAAMgF,SAAW,GAIzE,KAACnG,CAAA,CAtPiC,CAASoG,EAAAA,IAwPzCvF,EAAqB,WACvB,SAAAA,EAAYwF,IAAQja,EAAAA,EAAAA,GAAA,KAAAyU,GAChBlU,KAAK2Z,WAAWD,GAASA,EAAOJ,QAChCtZ,KAAK4Z,YAAYF,GAASA,EAAOG,SACjC7Z,KAAK8Z,UAAUJ,GAASA,EAAOK,OAC/B/Z,KAAKga,WAAWN,GAASA,EAAOH,OACpC,CAQC,OARA/Z,EAAAA,EAAAA,GAAA0U,EAAA,EAAArU,IAAA,MAAAC,MACD,SAAIma,GACA,OAAQA,GACJ,IAAK,OAAQ,OAAOja,KAAK2Z,SACzB,IAAK,QAAS,OAAO3Z,KAAK4Z,UAC1B,IAAK,MAAO,OAAO5Z,KAAK8Z,QACxB,IAAK,OAAQ,OAAO9Z,KAAKga,SAEjC,KAAC9F,CAAA,CAdsB,GAgB3BA,EAAsBC,MAAQ,IAAID,EAAsB,K,4DC/Q3CgG,GAAqB/a,E,SAAAA,IAAgB,oB,0ICCrCuW,EAAe,CAAE6C,KAAM,GAC9B4B,EAAmB,CAAE5B,KAAM,GAS1B,IAAM6B,EAAkB,WAC3B,SAAAA,EAEAC,EAEAC,EAAWC,GACP,IAAIvT,GADQvH,EAAAA,EAAAA,GAAA,KAAA2a,GAEZpa,KAAKsV,KAAOiF,EACZva,KAAKwa,oBAAsBH,EAC3Bra,KAAKya,sBAAwB,IAAI1S,IAAM,IACWlH,EADXC,GAAAC,EAAAA,EAAAA,GACPsZ,GAAkB,IAAlD,IAAAvZ,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAAoD,KAC1CwZ,EADkB7Z,EAAAf,MACU4a,QAC9BA,GAAiC,MAAtBA,EAAQ1H,OAAO,IAC1BhT,KAAKya,sBAAsBxW,IAAIyW,GAAS,EAEhD,CAAC,OAAAvZ,GAAAL,EAAAM,EAAAD,EAAA,SAAAL,EAAAO,GAAA,CACDrB,KAAK2a,KAAO,IAAI5S,IAChB/H,KAAK4a,WAAa,IAAI7S,IACtB/H,KAAK6a,aAAeT,EAAmBU,eAAe,GAAG/Q,OAAOsQ,GAAoBtQ,OAAOuQ,IAC3F,IAAK,IAAIhY,EAAI,EAAGyY,EAAM/a,KAAK6a,aAAa7Y,OAAQM,EAAIyY,EAAKzY,IAAK,CAC1D,IAAM0Y,EAAIhb,KAAK6a,aAAavY,GAC5B,GAAwB,IAApB0Y,EAAEC,OAAOjZ,OAAb,CAKA,IAAMmE,EAAyB,QAAjBa,EAAKgU,EAAE7U,YAAyB,IAAPa,OAAgB,EAASA,EAAGkU,sBAC/D/U,GAAsB,IAAdA,EAAKyK,MAIjB5Q,KAAKmb,aAAaH,EAAEC,OAAO,GAAID,EAP/B,CAQJ,CACJ,CA6OC,OA7OAxb,EAAAA,EAAAA,GAAA4a,EAAA,EAAAva,IAAA,eAAAC,MA0ED,SAAaqW,EAAUzH,GACnB,IAAM0M,EAAYpb,KAAK2a,KAAKtS,IAAI8N,GAChC,GAAyB,qBAAdiF,EAIP,OAFApb,KAAK2a,KAAK1W,IAAIkS,EAAU,CAACzH,SACzB1O,KAAKqb,gBAAgB3M,GAGzB,IAAK,IAAIpM,EAAI8Y,EAAUpZ,OAAS,EAAGM,GAAK,EAAGA,IAAK,CAC5C,IAAMgZ,EAAWF,EAAU9Y,GAC3B,GAAIgZ,EAASZ,UAAYhM,EAAKgM,QAA9B,CAMA,IADA,IAAIa,GAAoB,EACfjZ,EAAI,EAAGA,EAAIgZ,EAASL,OAAOjZ,QAAUM,EAAIoM,EAAKuM,OAAOjZ,OAAQM,IAClE,GAAIgZ,EAASL,OAAO3Y,KAAOoM,EAAKuM,OAAO3Y,GAAI,CAEvCiZ,GAAoB,EACpB,KACJ,CAECA,GAGDnB,EAAmBoB,uBAAuBF,EAASnV,KAAMuI,EAAKvI,OAG9DnG,KAAKyb,qBAAqBH,EAjB9B,CAmBJ,CACAF,EAAU3X,KAAKiL,GACf1O,KAAKqb,gBAAgB3M,EACzB,GAAC,CAAA7O,IAAA,kBAAAC,MACD,SAAgB4O,GACZ,GAAKA,EAAKgM,QAAV,CAGA,IAAIgB,EAAM1b,KAAK4a,WAAWvS,IAAIqG,EAAKgM,SAChB,qBAARgB,GACPA,EAAM,CAAChN,GACP1O,KAAK4a,WAAW3W,IAAIyK,EAAKgM,QAASgB,IAGlCA,EAAIjY,KAAKiL,EAPb,CASJ,GAAC,CAAA7O,IAAA,uBAAAC,MACD,SAAqB4O,GACjB,GAAKA,EAAKgM,QAAV,CAGA,IAAMgB,EAAM1b,KAAK4a,WAAWvS,IAAIqG,EAAKgM,SACrC,GAAmB,qBAARgB,EAGX,IAAK,IAAIpZ,EAAI,EAAGyY,EAAMW,EAAI1Z,OAAQM,EAAIyY,EAAKzY,IACvC,GAAIoZ,EAAIpZ,KAAOoM,EAEX,YADAgN,EAAInX,OAAOjC,EAAG,EAPtB,CAWJ,GACA,CAAAzC,IAAA,iBAAAC,MAYA,WACI,OAAOE,KAAK6a,YAChB,GAAC,CAAAhb,IAAA,0BAAAC,MACD,SAAwBmV,EAAWC,GAC/B,IAAMyG,EAAQ3b,KAAK4a,WAAWvS,IAAI4M,GAClC,GAAqB,qBAAV0G,GAA0C,IAAjBA,EAAM3Z,OACtC,OAAO,KAEX,GAAqB,IAAjB2Z,EAAM3Z,OACN,OAAO2Z,EAAM,GAEjB,IAAK,IAAIrZ,EAAIqZ,EAAM3Z,OAAS,EAAGM,GAAK,EAAGA,IAAK,CACxC,IAAMoM,EAAOiN,EAAMrZ,GACnB,GAAI4S,EAAQ0G,oBAAoBlN,EAAKvI,MACjC,OAAOuI,CAEf,CACA,OAAOiN,EAAMA,EAAM3Z,OAAS,EAChC,GACA,CAAAnC,IAAA,UAAAC,MAMA,SAAQoV,EAASc,EAAeG,GAC5B,IAAM0F,EAAgB,GAAH9R,QAAAC,EAAAA,EAAAA,GAAOgM,GAAa,CAAEG,IACzCnW,KAAKsV,KAAK,eAADvL,OAAgB8R,IACzB,IAAMC,EAAe9b,KAAK2a,KAAKtS,IAAIwT,EAAc,IACjD,QAAqB3Y,IAAjB4Y,EAGA,OADA9b,KAAKsV,KAAK,6BACHI,EAEX,IAAIqG,EAAY,KAChB,GAAIF,EAAc7Z,OAAS,EACvB+Z,EAAYD,MAEX,CAEDC,EAAY,GACZ,IAAK,IAAIzZ,EAAI,EAAGyY,EAAMe,EAAa9Z,OAAQM,EAAIyY,EAAKzY,IAAK,CACrD,IAAM+M,EAAYyM,EAAaxZ,GAC/B,KAAIuZ,EAAc7Z,OAASqN,EAAU4L,OAAOjZ,QAA5C,CAIA,IADA,IAAIga,GAAgB,EACX1Z,EAAI,EAAGA,EAAIuZ,EAAc7Z,OAAQM,IACtC,GAAI+M,EAAU4L,OAAO3Y,KAAOuZ,EAAcvZ,GAAI,CAC1C0Z,GAAgB,EAChB,KACJ,CAEAA,GACAD,EAAUtY,KAAK4L,EATnB,CAWJ,CACJ,CAEA,IAzPS4F,EAAW8D,EAAaD,EAyP3B7M,EAASjM,KAAKic,aAAa/G,EAAS6G,GAC1C,OAAK9P,EAKD4P,EAAc7Z,OAASiK,EAAOgP,OAAOjZ,QAErChC,KAAKsV,KAAK,WAADvL,OAAYgS,EAAU/Z,OAAM,kCAAA+H,OAAiCkC,EAAOgP,OAAOjZ,OAAS6Z,EAAc7Z,OAAM,0BAAA+H,OAAyBmS,EAAqBjQ,EAAO9F,MAAK,cAAA4D,OAAaoS,EAAuBlQ,GAAO,MAC/MkO,IAEXna,KAAKsV,KAAK,WAADvL,OAAYgS,EAAU/Z,OAAM,iCAAA+H,OAAgCkC,EAAOyO,QAAO,YAAA3Q,OAAWmS,EAAqBjQ,EAAO9F,MAAK,cAAA4D,OAAaoS,EAAuBlQ,GAAO,MApQjKgJ,EAqQMhJ,EAAOyO,QArQF3B,EAqQW9M,EAAO8M,YArQLD,EAqQkB7M,EAAOmQ,OApQvD,CAAE7D,KAAM,EAA4BtD,UAAAA,EAAW8D,YAAAA,EAAaD,SAAAA,KA0P3D9Y,KAAKsV,KAAK,WAADvL,OAAYgS,EAAU/Z,OAAM,8DAC9B0T,EAUf,GAAC,CAAA7V,IAAA,eAAAC,MACD,SAAaoV,EAASmH,GAClB,IAAK,IAAI/Z,EAAI+Z,EAAQra,OAAS,EAAGM,GAAK,EAAGA,IAAK,CAC1C,IAAM0Y,EAAIqB,EAAQ/Z,GAClB,GAAK8X,EAAmBkC,qBAAqBpH,EAAS8F,EAAE7U,MAGxD,OAAO6U,CACX,CACA,OAAO,IACX,IAAC,EAAAnb,IAAA,wBAAAC,MAtOD,SAA6Byc,EAAWpG,EAAUhQ,GAC9C,GAAIgQ,EACA,IAAK,IAAI7T,EAAI,EAAGA,EAAI6T,EAASnU,OAAQM,IACjC,GAAI6T,EAAS7T,KAAOia,EAAUtB,OAAO3Y,GACjC,OAAO,EAMnB,GAAI6D,GAAsB,IAAdA,EAAKyK,KAA0C,CACvD,IAAK2L,EAAUpW,KACX,OAAO,EAEX,KAAKqW,EAAAA,EAAAA,IAA4CrW,EAAMoW,EAAUpW,MAC7D,OAAO,CAEf,CACA,OAAO,CACX,GACA,CAAAtG,IAAA,iBAAAC,MAGA,SAAsB2c,GAGlB,IADA,IAAMC,EAAW,IAAI3U,IACZzF,EAAI,EAAGyY,EAAM0B,EAAMza,OAAQM,EAAIyY,EAAKzY,IAAK,CAC9C,IAAMqa,EAAOF,EAAMna,GACnB,GAAIqa,EAAKjC,SAAsC,MAA3BiC,EAAKjC,QAAQ1H,OAAO,GAAY,CAChD,IAAM0H,EAAUiC,EAAKjC,QAAQzH,UAAU,GAClCyJ,EAASnb,IAAImZ,GAIdgC,EAASrU,IAAIqS,GAASjX,KAAKkZ,GAH3BD,EAASzY,IAAIyW,EAAS,CAACiC,GAK/B,CACJ,CACA,GAAsB,IAAlBD,EAASxT,KAET,OAAOuT,EAIX,IADA,IAAMxQ,EAAS,GACN3J,EAAI,EAAGyY,EAAM0B,EAAMza,OAAQM,EAAIyY,EAAKzY,IAAK,CAC9C,IAAMqa,EAAOF,EAAMna,GACnB,GAAKqa,EAAKjC,SAAmC,IAAxBiC,EAAKjC,QAAQ1Y,QAIlC,GAA+B,MAA3B2a,EAAKjC,QAAQ1H,OAAO,GAAxB,CAGA,IAAM4J,EAAkBF,EAASrU,IAAIsU,EAAKjC,SAC1C,GAAKkC,GAAoBD,EAAKE,UAA9B,CAIA,IAC4CpT,EADxCqT,GAAY,EAAMpT,GAAA3I,EAAAA,EAAAA,GACO6b,GAAe,IAA5C,IAAAlT,EAAA1I,MAAAyI,EAAAC,EAAAzI,KAAAC,MAA8C,KAAnC6b,EAActT,EAAA3J,MACfqG,EAAO4W,EAAe5W,KAC5B,GAAInG,KAAKgd,sBAAsBL,EAAMI,EAAe9B,OAAQ9U,GAAO,CAC/D2W,GAAY,EACZ,KACJ,CACJ,CAAC,OAAA3b,GAAAuI,EAAAtI,EAAAD,EAAA,SAAAuI,EAAArI,GAAA,CACIyb,GACD7Q,EAAOxI,KAAKkZ,EAVhB,MAFI1Q,EAAOxI,KAAKkZ,EAHhB,OALI1Q,EAAOxI,KAAKkZ,EAuBpB,CACA,OAAO1Q,CACX,GAAC,CAAApM,IAAA,yBAAAC,MAmED,SAA8BkN,EAAGC,GAC7B,OAAKA,GAAgB,IAAXA,EAAE2D,SAGP5D,GAAgB,IAAXA,EAAE4D,QAGLqM,EAAAA,EAAAA,IAAQjQ,EAAGC,EACtB,GAAC,CAAApN,IAAA,uBAAAC,MAoFD,SAA4BoV,EAASuH,GACjC,OAAKA,GAGEA,EAAMS,SAAShI,EAC1B,KAACkF,CAAA,CA9Q0B,GAgR/B,SAAS8B,EAAqB/V,GAC1B,OAAKA,EAGE,GAAP4D,OAAU5D,EAAKgX,aAFJ,mBAGf,CACA,SAAShB,EAAuBiB,GAC5B,OAAQA,EAAGC,YACJD,EAAGE,mBAAqB,sBAAHvT,OAAyBqT,EAAGC,aAAW,kBAAAtT,OAAuBqT,EAAGC,aACtFD,EAAGP,UAAY,WAAH,MACvB,C,oJClNa7W,EAAsB,IA3EN,WACzB,SAAAuX,KAAc9d,EAAAA,EAAAA,GAAA,KAAA8d,GACVvd,KAAKwd,iBAAmB,IAAI3N,EAAAA,EAC5B7P,KAAKyd,sBAAwB,GAC7Bzd,KAAK0d,yBAA2B,IACpC,CAqBC,OApBDle,EAAAA,EAAAA,GAAA+d,EAAA,EAAA1d,IAAA,yBAAAC,MAqBA,SAAuB6c,GACnB,IAAMgB,EAAWJ,EAAwBK,sBAAsBjB,GACzD1Q,EAAS,IAAItI,EAAAA,GACnB,GAAIga,GAAYA,EAASnX,QAAS,CAC9B,IAAMqX,GAAKC,EAAAA,EAAAA,IAAiBH,EAASnX,QAASuX,EAAAA,IAC1CF,GACA5R,EAAOtM,IAAIK,KAAKge,2BAA2BH,EAAIlB,EAAKnc,GAAImc,EAAKvQ,KAAMuQ,EAAKzW,OAAQ,EAAGyW,EAAKxW,MAEhG,CACA,GAAIwX,GAAYtR,MAAM4R,QAAQN,EAASlX,WACnC,IAAK,IAAInE,EAAI,EAAGyY,EAAM4C,EAASlX,UAAUzE,OAAQM,EAAIyY,EAAKzY,IAAK,CAC3D,IAAM0Y,EAAI2C,EAASlX,UAAUnE,GACvBub,GAAKC,EAAAA,EAAAA,IAAiB9C,EAAG+C,EAAAA,IAC3BF,GACA5R,EAAOtM,IAAIK,KAAKge,2BAA2BH,EAAIlB,EAAKnc,GAAImc,EAAKvQ,KAAMuQ,EAAKzW,QAAS5D,EAAI,EAAGqa,EAAKxW,MAErG,CAEJ,OAAO8F,CACX,GAAC,CAAApM,IAAA,mCAAAC,MACD,SAAiC8B,GAC7B,OAAOsc,EAAAA,EAAAA,IAAmBle,KAAKme,uBAAuBvc,GAAOwc,EAAAA,EAAiBC,gBAAgBzc,GAClG,GAAC,CAAA/B,IAAA,6BAAAC,MACD,SAA2ByV,EAAYN,EAAW8D,EAAauF,EAASC,EAASpY,GAAM,IAAAhB,EAAA,KAC7EqZ,EAASxe,KAAKwd,iBAAiB/Z,KAAK,CACtC8R,WAAYA,EACZmF,QAASzF,EACT8D,YAAaA,EACb5S,KAAMA,EACNmY,QAASA,EACTC,QAASA,EACTlB,YAAa,KACbC,oBAAoB,IAGxB,OADAtd,KAAK0d,yBAA2B,MACzBpZ,EAAAA,EAAAA,KAAa,WAChBka,IACArZ,EAAKuY,yBAA2B,IACpC,GACJ,GAAC,CAAA7d,IAAA,wBAAAC,MACD,WAKI,OAJKE,KAAK0d,2BACN1d,KAAK0d,yBAA2BrR,MAAMlD,KAAKnJ,KAAKwd,kBAAkBzT,OAAO/J,KAAKyd,uBAC9Ezd,KAAK0d,yBAAyB3Q,KAAK0R,IAEhCze,KAAK0d,yBAAyB/P,MAAM,EAC/C,IAAC,EAAA9N,IAAA,wBAAAC,MAhED,SAA6Bsd,GACzB,GAAW,IAAPW,EAAAA,IACA,GAAIX,GAAMA,EAAGsB,IACT,OAAOtB,EAAGsB,SAGb,GAAW,IAAPX,EAAAA,IACL,GAAIX,GAAMA,EAAGuB,IACT,OAAOvB,EAAGuB,SAId,GAAIvB,GAAMA,EAAGwB,MACT,OAAOxB,EAAGwB,MAGlB,OAAOxB,CACX,KAACG,CAAA,CA1BwB,IAiF7B,SAASkB,EAAOzR,EAAGC,GACf,GAAID,EAAEsR,UAAYrR,EAAEqR,QAChB,OAAOtR,EAAEsR,QAAUrR,EAAEqR,QAEzB,GAAItR,EAAE0N,SAAWzN,EAAEyN,QAAS,CACxB,GAAI1N,EAAE0N,QAAUzN,EAAEyN,QACd,OAAQ,EAEZ,GAAI1N,EAAE0N,QAAUzN,EAAEyN,QACd,OAAO,CAEf,CACA,OAAO1N,EAAEuR,QAAUtR,EAAEsR,OACzB,CAdA7e,EAAAA,EAASC,IAFQ,+BAEoBqG,E,yGCzFxB6Y,GAAsBrf,EAAAA,EAAAA,IAC/B,SAAAqf,EAAYzJ,EAAoBsF,EAAS3B,EAAa5S,EAAM0W,EAAWQ,EAAaC,IAAoB7d,EAAAA,EAAAA,GAAA,KAAAof,GACpG7e,KAAK8e,kCAA+B5b,EACpClD,KAAKoV,mBAAqBA,EAC1BpV,KAAKib,OAAS7F,EAAqB2J,EAA2B3J,EAAmBQ,qBAAuB,GACpGR,GAA6C,IAAvBpV,KAAKib,OAAOjZ,SAElChC,KAAKib,OAAS8D,EAA2B3J,EAAmBoC,oCAEhExX,KAAKoc,SAAU1B,GAAoC,KAA1BA,EAAQsE,WAAW,GAC5Chf,KAAK0a,QAAU1a,KAAKoc,OAAS1B,EAAQuE,OAAO,GAAKvE,EACjD1a,KAAK+Y,YAAcA,EACnB/Y,KAAKmG,KAAOA,EACZnG,KAAK6c,UAAYA,EACjB7c,KAAKqd,YAAcA,EACnBrd,KAAKsd,mBAAqBA,CAC9B,IAEG,SAASyB,EAA2BrD,GAEvC,IADA,IAAMzP,EAAS,GACN3J,EAAI,EAAGyY,EAAMW,EAAI1Z,OAAQM,EAAIyY,EAAKzY,IAAK,CAC5C,IAAM6B,EAAUuX,EAAIpZ,GACpB,IAAK6B,EACD,MAAO,GAEX8H,EAAOxI,KAAKU,EAChB,CACA,OAAO8H,CACX,C,oJCzBaiT,EAAsB,SAAAC,IAAAva,EAAAA,EAAAA,GAAAsa,EAAAC,GAAA,IAAAta,GAAAC,EAAAA,EAAAA,GAAAoa,GAC/B,SAAAA,EAAYE,EAAInE,GAAQ,IAAA9V,EAEpB,IAFoB1F,EAAAA,EAAAA,GAAA,KAAAyf,GACpB/Z,EAAAN,EAAAO,KAAA,MACsB,IAAlB6V,EAAOjZ,OACP,MAAMqd,EAAAA,EAAAA,IAAgB,UAGJ,OADtBla,EAAKma,IAAMF,EACXja,EAAKoa,QAAUtE,EAAO9V,CAC1B,CAoCC,OApCA3F,EAAAA,EAAAA,GAAA0f,EAAA,EAAArf,IAAA,WAAAC,MACD,WAAW,IAAA+F,EAAA,KACP,OAAO2Z,EAAAA,GAAgBC,QAAQzf,KAAKsf,IAAKtf,KAAKuf,SAAS,SAAChK,GAAU,OAAK1P,EAAK6Z,UAAUnK,EAAW,GACrG,GAAC,CAAA1V,IAAA,eAAAC,MACD,WAAe,IAAAwX,EAAA,KACX,OAAOqI,EAAAA,GAAkBF,QAAQzf,KAAKsf,IAAKtf,KAAKuf,SAAS,SAAChK,GAAU,OAAK+B,EAAKsI,cAAcrK,EAAW,GAC3G,GAAC,CAAA1V,IAAA,yBAAAC,MACD,WAAyB,IAAA+X,EAAA,KACrB,OAAI7X,KAAKuf,QAAQvd,OAAS,GAItBhC,KAAKuf,QAAQ,GAAGM,0BAFT,KAOJC,EAAAA,GAAiCL,QAAQzf,KAAKsf,IAAKtf,KAAKuf,SAAS,SAAChK,GAAU,OAAKsC,EAAKkI,wBAAwBxK,EAAW,GACpI,GAAC,CAAA1V,IAAA,uBAAAC,MACD,WAAuB,IAAAkgB,EAAA,KACnB,OAAOC,EAAAA,GAA0BR,QAAQzf,KAAKsf,IAAKtf,KAAKuf,SAAS,SAAChK,GAAU,OAAKyK,EAAKE,sBAAsB3K,EAAW,GAC3H,GAAC,CAAA1V,IAAA,oBAAAC,MACD,WACI,OAAQE,KAAKuf,QAAQvd,OAAS,CAClC,GAAC,CAAAnC,IAAA,YAAAC,MACD,WAAY,IAAAqgB,EAAA,KACR,OAAOngB,KAAKuf,QAAQtJ,KAAI,SAACV,GAAU,OAAK4K,EAAKC,UAAU7K,EAAW,GACtE,GAAC,CAAA1V,IAAA,YAAAC,MACD,SAAUyV,GACN,OAAO,IAAI8K,EAAAA,GAAc9K,EAAW+D,QAAS/D,EAAWsE,SAAUtE,EAAWwE,OAAQxE,EAAWgE,QAASvZ,KAAK0f,UAAUnK,GAAavV,KAAK4f,cAAcrK,GAC5J,GAAC,CAAA1V,IAAA,oBAAAC,MACD,WAAoB,IAAAwgB,EAAA,KAChB,OAAOtgB,KAAKuf,QAAQtJ,KAAI,SAACV,GAAU,OAAK+K,EAAKC,kBAAkBhL,EAAW,GAC9E,GAAC,CAAA1V,IAAA,kCAAAC,MACD,WAAkC,IAAA0gB,EAAA,KAC9B,OAAOxgB,KAAKuf,QAAQtJ,KAAI,SAACV,GAAU,OAAKiL,EAAKC,gCAAgClL,EAAW,GAC5F,KAAC2J,CAAA,CA5C8B,CAASwB,EAAAA,I,WCI/BC,EAA0B,SAAAC,IAAAhc,EAAAA,EAAAA,GAAA+b,EAAAC,GAAA,IAAA/b,GAAAC,EAAAA,EAAAA,GAAA6b,GACnC,SAAAA,EAAY1F,EAAQmE,GAAI,OAAA3f,EAAAA,EAAAA,GAAA,KAAAkhB,GAAA9b,EAAAO,KAAA,KACdga,EAAInE,EACd,CA4JC,OA5JAzb,EAAAA,EAAAA,GAAAmhB,EAAA,EAAA9gB,IAAA,oBAAAC,MACD,SAAkB0Z,GACd,GAAiB,IAAbxZ,KAAKsf,IACL,OAAQ9F,GACJ,KAAK,GACD,MAAO,SACX,KAAK,GACD,MAAO,SACX,KAAK,GACD,MAAO,SACX,KAAK,GACD,MAAO,SAGnB,OAAOqH,EAAAA,GAAarY,SAASgR,EACjC,GAAC,CAAA3Z,IAAA,YAAAC,MACD,SAAUghB,GACN,OAAIA,EAAMjB,0BACC,GAEJ7f,KAAK+gB,kBAAkBD,EAAMtH,QACxC,GAAC,CAAA3Z,IAAA,gBAAAC,MACD,SAAcghB,GACV,OAAIA,EAAMjB,0BACC,GAEJgB,EAAAA,GAAarY,SAASsY,EAAMtH,QACvC,GAAC,CAAA3Z,IAAA,0BAAAC,MACD,SAAwBghB,GACpB,OAAOD,EAAAA,GAAaG,sBAAsBF,EAAMtH,QACpD,GAAC,CAAA3Z,IAAA,wBAAAC,MACD,SAAsBghB,GAClB,GAAIA,EAAMjB,0BACN,MAAO,GAEX,IAAM5T,EAAS4U,EAAAA,GAAaI,iBAAiBH,EAAMtH,SACnD,OAAQvN,EAASA,EAAO1L,cAAgB0L,CAC5C,GAAC,CAAApM,IAAA,oBAAAC,MACD,SAAkBghB,GACd,OAAOH,EAA2BO,eAAeJ,EACrD,GAAC,CAAAjhB,IAAA,kCAAAC,MAqBD,SAAgCyV,GAC5B,OAA2B,IAAvBA,EAAWiE,SAAqCjE,EAAWsE,UAAatE,EAAWwE,QAAWxE,EAAWgE,QAGlF,IAAvBhE,EAAWiE,SAAsCjE,EAAW+D,SAAY/D,EAAWwE,QAAWxE,EAAWgE,QAGlF,IAAvBhE,EAAWiE,SAAoCjE,EAAW+D,SAAY/D,EAAWsE,UAAatE,EAAWgE,QAGlF,KAAvBhE,EAAWiE,SAAsCjE,EAAW+D,SAAY/D,EAAWsE,UAAatE,EAAWwE,OAGxG,KAFI,OAHA,MAHA,QAHA,MAYf,IACA,EAAAla,IAAA,iBAAAC,MAnCA,SAAsBghB,GAClB,GAAIA,EAAMK,gBACN,OAAO,KAEX,IAAIlV,EAAS,GAcb,OAbI6U,EAAMxH,UACNrN,GAAU,SAEV6U,EAAMjH,WACN5N,GAAU,UAEV6U,EAAM/G,SACN9N,GAAU,QAEV6U,EAAMvH,UACNtN,GAAU,SAEdA,GAAU4U,EAAAA,GAAarY,SAASsY,EAAMtH,QAE1C,GAAC,CAAA3Z,IAAA,qBAAAC,MAmBD,SAA0BshB,GACtB,IAAMC,EAAmBC,EAAAA,GAA2BF,GACpD,IAA0B,IAAtBC,EACA,OAAOA,EAEX,OAAQD,GACJ,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAAwB,OAAO,GACpC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAAyB,OAAO,GACrC,KAAK,GAAyB,OAAO,GACrC,KAAK,GAA+B,OAAO,GAC3C,KAAK,GAAgC,OAAO,GAC5C,KAAK,GAA6B,OAAO,GACzC,KAAK,GAA4B,OAAO,EACxC,KAAK,GAA6B,OAAO,GACzC,KAAK,GAAyB,OAAO,GACrC,KAAK,GAA6B,OAAO,GACzC,KAAK,GAAyB,OAAO,GACrC,KAAK,GAA0B,OAAO,GACtC,KAAK,GAAyB,OAAO,GACrC,KAAK,IAAkC,OAAO,GAElD,OAAO,CACX,GAAC,CAAAvhB,IAAA,kBAAAC,MACD,SAAuBghB,GACnB,IAAKA,EACD,OAAO,KAEX,GAAIA,aAAiBS,EAAAA,GACjB,OAAOT,EAEX,IAAMtH,EAAUxZ,KAAKwhB,mBAAmBV,EAAMM,UAC9C,OAAgB,IAAZ5H,EACO,KAEJ,IAAI+H,EAAAA,GAAaT,EAAMxH,QAASwH,EAAMjH,SAAUiH,EAAM/G,OAAQ+G,EAAMvH,QAASC,EACxF,GAAC,CAAA3Z,IAAA,oBAAAC,MACD,SAAyByV,EAAY6J,GAAI,IAAAja,EAAA,KAC/B8V,GAAS8D,EAAAA,EAAAA,GAA2BxJ,EAAW0F,OAAOhF,KAAI,SAAA6K,GAAK,OAAI3b,EAAKsc,gBAAgBX,EAAM,KACpG,OAAI7F,EAAOjZ,OAAS,EACT,CAAC,IAAI2e,EAA2B1F,EAAQmE,IAE5C,EACX,KAACuB,CAAA,CA/JkC,CAASzB,E,4DCVnCwC,GAAgBviB,E,SAAAA,IAAgB,e,2DCIhCwiB,GAAiBxiB,E,SAAAA,IAAgB,gB,8gBCD1CsC,EAA0C,SAAUC,EAAYC,EAAQ9B,EAAK+B,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOM,OAAOC,yBAAyBR,EAAQ9B,GAAO+B,EACrH,GAAuB,kBAAZQ,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQ9B,EAAK+B,QACpH,IAAK,IAAIU,EAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAST,EAAIH,EAAWY,MAAIL,GAAKH,EAAI,EAAID,EAAEI,GAAKH,EAAI,EAAID,EAAEF,EAAQ9B,EAAKoC,GAAKJ,EAAEF,EAAQ9B,KAASoC,GAChJ,OAAOH,EAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQ9B,EAAKoC,GAAIA,CAChE,EACIO,EAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUf,EAAQ9B,GAAO6C,EAAUf,EAAQ9B,EAAK4C,EAAa,CACxE,EAqBamf,GAAeziB,EAAAA,EAAAA,IAAgB,eAC/B0iB,EAAW,WAIpB,SAAAA,KAAcpiB,EAAAA,EAAAA,GAAA,KAAAoiB,GACV7hB,KAAKgQ,YAAc,IAAIrM,EAAAA,GACvB3D,KAAK8hB,MAAQ,GACb9hB,KAAK+hB,wBAAqB7e,EAC1BlD,KAAKgiB,4BAA6B,CACtC,CAoCC,OApCAxiB,EAAAA,EAAAA,GAAAqiB,EAAA,EAAAhiB,IAAA,kBAAAwI,IARD,WACI,OAAOrI,KAAK+hB,kBAChB,GAAC,CAAAliB,IAAA,qBAAAC,MAOD,SAAmBwD,GACf,IAAI0D,EAAIC,EACJ3D,IAAWtD,KAAK+hB,qBAGe,QAAlC/a,EAAKhH,KAAK+hB,0BAAuC,IAAP/a,GAAyBA,EAAGib,iBAAiBC,UAAU1D,OAAO,gBACzGxe,KAAK+hB,mBAAqBze,EACS,QAAlC2D,EAAKjH,KAAK+hB,0BAAuC,IAAP9a,GAAyBA,EAAGgb,iBAAiBC,UAAUviB,IAAI,gBAC1G,GAAC,CAAAE,IAAA,WAAAC,MACD,SAASwD,EAAQ6e,GAAkB,IAAAhd,EAAA,KAC1BnF,KAAKgiB,6BACNhiB,KAAKgiB,4BAA6B,EAEV,IAAII,EAAAA,IAAuBC,EAAAA,EAAAA,oBAAoB,IACvDC,MAAMC,EAAAA,KAE1B,GAAIviB,KAAK8hB,MAAMU,MAAK,SAAAC,GAAC,OAAIA,EAAEnf,SAAWA,CAAM,IACxC,MAAM,IAAIE,MAAM,kDAGpB,IAAMkf,EAAiB,CAAEpf,OAAAA,EAAQ6e,iBAAAA,GAMjC,OALAniB,KAAK8hB,MAAMre,KAAKif,GAEZpf,EAAO2e,mBAAqB7d,SAASC,eACrCrE,KAAK2iB,mBAAmBrf,IAErB4a,EAAAA,EAAAA,IAAmB5a,EAAOU,YAAW,kBAAMmB,EAAKwd,mBAAmBrf,EAAO,KAAGgB,EAAAA,EAAAA,KAAa,kBAAMa,EAAK2c,MAAMvd,OAAOY,EAAK2c,MAAMtd,QAAQke,GAAiB,EAAE,IAAGpf,EAAOsf,cAAa,WAClLzd,EAAK2c,MAAQ3c,EAAK2c,MAAMe,QAAO,SAAAJ,GAAC,OAAIA,IAAMC,CAAc,IACpDvd,EAAK4c,qBAAuBze,GAC5B6B,EAAKwd,wBAAmBzf,EAEhC,IACJ,GAAC,CAAArD,IAAA,UAAAC,MACD,WACIE,KAAKgQ,YAAYvL,SACrB,KAACod,CAAA,CA7CmB,GA+CXiB,EAAkC,IAAIlgB,EAAAA,GAAc,aAAa,GACjEmgB,EAA6C,IAAIngB,EAAAA,GAAc,2BAA2B,GAC1FogB,EAA+B5c,EAAAA,GAAeC,IAAIyc,EAAiC1c,EAAAA,GAAe6c,IAAIC,EAAAA,KACtGC,EAAmC,IAAIvgB,EAAAA,GAAc,2BAA2B,GAChFwgB,EAA+B,IAAIxgB,EAAAA,GAAc,uBAAuB,GACxEygB,EAA8B,IAAIzgB,EAAAA,GAAc,sBAAsB,GACtE0gB,EAAmC,IAAI1gB,EAAAA,GAAc,2BAA2B,GAChF2gB,EAA4B,IAAI3gB,EAAAA,GAAc,oBAAoB,GAClE4gB,EAAkC,IAAI5gB,EAAAA,GAAc,0BAA0B,GAC9E6gB,EAAgC,IAAI7gB,EAAAA,GAAc,wBAAwB,GAC1E8gB,EAAgC,IAAI9gB,EAAAA,GAAc,wBAAwB,GAC1E+gB,EAA+B,IAAI/gB,EAAAA,GAAc,uBAAuB,GACxEghB,EAAwB,IAAIhhB,EAAAA,GAAc,gBAAgB,GACjEihB,EAAqC,yBAIrCC,EAAoD,kCAC1D,SAASC,EAA8B7e,EAAmB5B,GACtD,IAAM2I,EAAS/G,EAAkBI,aAAahC,EAAO2e,kBAErD,OADAa,EAAgCjf,OAAOoI,GAChCA,CACX,CACA,IAAM+X,EAAgC,qCAChCC,GAAqB,0BACrBC,GAAyB,qCACzBC,GAA4B,iCAC5BC,GAA+B,oCAE/BC,GAA+B,oCAC/BC,GAAkB,8BAClBC,GAAiC,sCACjCC,GAAgB,wBAChBC,GAA4B,oCAC5BC,GAAsB,iCACtBC,GAAiC,6CACjCC,GAA2B,uCAC3BC,GAAiB,4BACvB,SAASC,GAAkCC,GACvC,MAAwE,QAAjEA,EAAqBC,SAAShB,EACzC,CAAC,IACKiB,GAA2B,SAAA3R,IAAA1O,EAAAA,EAAAA,GAAAqgB,EAAA3R,GAAA,IAAAzO,GAAAC,EAAAA,EAAAA,GAAAmgB,GAC7B,SAAAA,EAAYF,GAAsB,IAAAlf,EAIL,OAJKpG,EAAAA,EAAAA,GAAA,KAAAwlB,IAC9Bpf,EAAAhB,EAAAO,KAAA,OACK2f,qBAAuBA,EAC5Blf,EAAKif,kCAAoCA,GAAkCC,GAC3Elf,EAAKqf,oBAAoBrf,CAC7B,CAgBC,OAhBArG,EAAAA,EAAAA,GAAAylB,EAAA,EAAAplB,IAAA,oBAAAC,MACD,WAAoB,IAAAwX,EAAA,KAChBtX,KAAKqF,UAAUrF,KAAK+kB,qBAAqBI,0BAAyB,SAAA/jB,GAC1DA,EAAEgkB,qBAAqBpB,KACvB1M,EAAKwN,kCAAoCA,GAAkCxN,EAAKyN,sBAExF,IACJ,GAAC,CAAAllB,IAAA,+BAAAC,MACD,SAA6B0U,GACzB,OAAIxU,KAAK8kB,kCACEtQ,EAAM6Q,aAAatL,QAEvBuL,EAAAA,EAAAA,IAA6B9Q,EACxC,GAAC,CAAA3U,IAAA,8BAAAC,MACD,SAA4B0U,GACxB,OAAO+Q,EAAAA,EAAAA,IAA4B/Q,EACvC,KAACyQ,CAAA,CAtB4B,CAASxL,EAAAA,IAwB1C,SAAS+L,GAAuB7e,EAAU1B,GACtC,IAAI+B,EACE+d,EAAuBpe,EAAS0B,IAAIod,EAAAA,IACpC1e,EAAoBJ,EAAS0B,IAAI6R,EAAAA,GACjClK,EAAc,IAAIrM,EAAAA,GAExB,MAAO,CADQzB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAE0gB,2BAA4B,CAAEC,+BAA8B,SAACxkB,GAAK,OAAO2F,EAAkB6e,+BAA+BxkB,EAAI,GAAKykB,gBAAiBle,QAAQod,EAAqBC,SAASN,KAAuBoB,4BAA6Bf,EAAqBC,SAASL,IAAiCoB,sBAAuBhB,EAAqBC,SAASJ,IAA2BoB,4BAA4E,QAA9Chf,EAAK/B,EAAQ+gB,mCAAgD,IAAPhf,EAAgBA,EAAKgJ,EAAYrQ,IAAI,IAAIslB,GAA4BF,IAAwBkB,8BAA+BC,GAAoCnf,GAAoBof,aAAcxe,QAAQod,EAAqBC,SAASV,OACpuBtU,EACpB,CACO,IAAIoW,GAAa,SAAAC,IAAAzhB,EAAAA,EAAAA,GAAAwhB,EAAAC,GAAA,IAAAzgB,GAAAd,EAAAA,EAAAA,GAAAshB,GACpB,SAAAA,EAAYE,EAAMvhB,EAAWwhB,EAAUC,EAAWvhB,EAASC,EAAmBuhB,EAAa1B,EAAsB2B,GAAsB,IAAA7O,GAAApY,EAAAA,EAAAA,GAAA,KAAA2mB,GACnI,IAAMO,EAA6D,qBAAhC1hB,EAAQ0hB,oBAAsC1hB,EAAQ0hB,oBAAsBhf,QAAQod,EAAqBC,SAASd,KACrJ0C,EAA+DF,EAAqBG,eAAerB,GAAwBvgB,GAAQ6hB,GAAAhd,EAAAA,EAAAA,GAAA8c,EAAA,GAA5HG,EAAoBD,EAAA,GAAEE,EAA8BF,EAAA,GA4DtB,OA3DrCjP,EAAAjS,EAAAR,KAAA,KAAMkhB,EAAMvhB,EAAWwhB,EAAUC,EAAWtkB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAEuB,iBAAiB,GAASF,GAAuB,CAAEJ,oBAAAA,MACxH3W,YAAYrQ,IAAIqnB,GACrBnP,EAAK3S,kBAAoB6e,EAA8B7e,GAAiBgiB,EAAAA,EAAAA,GAAArP,IACxEA,EAAKsP,wBAA0BpE,EAA2Clf,OAAOgU,EAAK3S,mBACtF2S,EAAKsP,wBAAwBljB,KAAyC,IAArCgB,EAAQmiB,0BACT9D,EAAiCzf,OAAOgU,EAAK3S,mBACrDjB,IAAI0D,QAAQ1C,EAAQoiB,sBAC5CxP,EAAKyP,wBAA0BnE,EAAiCtf,OAAOgU,EAAK3S,mBAC5E2S,EAAK0P,oBAAsBnE,EAA6Bvf,OAAOgU,EAAK3S,mBACpE2S,EAAK2P,mBAAqBnE,EAA4Bxf,OAAOgU,EAAK3S,mBAClE2S,EAAK8O,oBAAsB1hB,EAAQ0hB,oBACnC9O,EAAK4P,mCAAqC3C,GAAkCC,GAC5ElN,EAAK7H,YAAYrQ,IAAIkY,EAAK3S,mBAC1B2S,EAAK7H,YAAYrQ,IAAI8mB,EAAYiB,UAAQR,EAAAA,EAAAA,GAAArP,KACzCA,EAAK8P,aAAa1iB,EAAQ2iB,gBAC1B/P,EAAK7H,YAAYrQ,IAAIkY,EAAKgQ,sBAAqB,WAC3C,IAAMC,EAAYjQ,EAAKkQ,eACjBC,EAAQnQ,EAAKoQ,WACnBpQ,EAAK3S,kBAAkBgjB,oBAAmB,WACtCrQ,EAAKyP,wBAAwBrjB,IAAI6jB,EAAU9lB,OAAS,GAAKgmB,EAAMhmB,OAAS,GACxE6V,EAAK2P,mBAAmBvjB,IAAI6jB,EAAU9lB,OAAS,GAC/C6V,EAAK0P,oBAAoBtjB,IAAyB,IAArB6jB,EAAU9lB,OAC3C,GACJ,KACA6V,EAAK7H,YAAYrQ,IAAIkY,EAAKsQ,kBAAiB,WACvC,IAAML,EAAYjQ,EAAKkQ,eACjBC,EAAQnQ,EAAKoQ,WACnBpQ,EAAKyP,wBAAwBrjB,IAAI6jB,EAAU9lB,OAAS,GAAKgmB,EAAMhmB,OAAS,EAC5E,KACA6V,EAAK7H,YAAYrQ,IAAIolB,EAAqBI,0BAAyB,SAAA/jB,GAC3DA,EAAEgkB,qBAAqBpB,KACvBnM,EAAK4P,mCAAqC3C,GAAkCC,IAEhF,IAAI9f,EAAU,CAAC,EACf,GAAI7D,EAAEgkB,qBAAqBlB,UAAwDhhB,IAA7B2U,EAAK8O,oBAAmC,CAC1F,IAAMA,EAAsBhf,QAAQod,EAAqBC,SAASd,KAClEjf,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAE0hB,oBAAAA,GAC1D,CACA,GAAIvlB,EAAEgkB,qBAAqBd,IAAkB,CACzC,IAAM6B,EAAexe,QAAQod,EAAqBC,SAASV,KAC3Drf,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAEkhB,aAAAA,GAC1D,CACA,GAAI/kB,EAAEgkB,qBAAqBV,IAAsB,CAC7C,IAAMmB,EAAkBle,QAAQod,EAAqBC,SAASN,KAC9Dzf,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAE4gB,gBAAAA,GAC1D,CACA,GAAIzkB,EAAEgkB,qBAAqBT,IAAiC,CACxD,IAAMmB,EAA8Bf,EAAqBC,SAASL,IAClE1f,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAE6gB,4BAAAA,GAC1D,CACA,GAAI1kB,EAAEgkB,qBAAqBR,IAA2B,CAClD,IAAMmB,EAAwBhB,EAAqBC,SAASJ,IAC5D3f,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAE8gB,sBAAAA,GAC1D,CACI7jB,OAAO+H,KAAKhF,GAASjD,OAAS,GAC9B6V,EAAKuQ,cAAcnjB,EAE3B,KACA4S,EAAKwQ,UAAY,IAAIC,IAAqBpB,EAAAA,EAAAA,GAAArP,GAAO3V,OAAOwjB,OAAO,CAAEX,qBAAAA,GAAwB9f,IACzF4S,EAAK7H,YAAYrQ,IAAIkY,EAAKwQ,WAAWxQ,CACzC,CAYC,OAZArY,EAAAA,EAAAA,GAAA4mB,EAAA,EAAAvmB,IAAA,gBAAAC,MACD,SAAcmF,IACV0P,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAwR,EAAA5V,WAAA,sBAAApL,KAAA,KAAoBH,QACW/B,IAA3B+B,EAAQ2iB,gBACR5nB,KAAK2nB,aAAa1iB,EAAQ2iB,qBAEW1kB,IAArC+B,EAAQmiB,0BACRpnB,KAAKmnB,wBAAwBljB,MAAMgB,EAAQmiB,yBAEnD,GAAC,CAAAvnB,IAAA,eAAAC,MACD,SAAayoB,GACTvoB,KAAKsiB,MAAMiG,GAASC,EAAAA,EAAAA,IAAcD,GAAUhG,EAAAA,GAChD,KAAC6D,CAAA,CA5EmB,CAA+BqC,EAAAA,IA8EvDrC,GAAgB3kB,EAAW,CACvBe,EAAQ,EAAGiD,EAAAA,IACXjD,EAAQ,EAAGof,GACXpf,EAAQ,EAAGijB,EAAAA,IACXjjB,EAAQ,EAAG2F,EAAAA,KACZie,IACI,IAAIsC,GAAkB,SAAAC,IAAA/jB,EAAAA,EAAAA,GAAA8jB,EAAAC,GAAA,IAAAC,GAAA9jB,EAAAA,EAAAA,GAAA4jB,GACzB,SAAAA,EAAYpC,EAAMvhB,EAAWwhB,EAAUC,EAAWvhB,EAASC,EAAmBuhB,EAAa1B,EAAsB2B,GAAsB,IAAA1G,GAAAvgB,EAAAA,EAAAA,GAAA,KAAAipB,GACnI,IAAM/B,EAA6D,qBAAhC1hB,EAAQ0hB,oBAAsC1hB,EAAQ0hB,oBAAsBhf,QAAQod,EAAqBC,SAASd,KACrJ2E,EAA+DnC,EAAqBG,eAAerB,GAAwBvgB,GAAQ6jB,GAAAhf,EAAAA,EAAAA,GAAA+e,EAAA,GAA5H9B,EAAoB+B,EAAA,GAAE9B,EAA8B8B,EAAA,GA4CtB,OA3CrC9I,EAAA4I,EAAAxjB,KAAA,KAAMkhB,EAAMvhB,EAAWwhB,EAAUC,EAAWtkB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAEuB,iBAAiB,GAASF,GAAuB,CAAEJ,oBAAAA,MACxH3W,YAAc,IAAIrM,EAAAA,GACvBqc,EAAKhQ,YAAYrQ,IAAIqnB,GACrBhH,EAAK9a,kBAAoB6e,EAA8B7e,GAAiBgiB,EAAAA,EAAAA,GAAAlH,IACxEA,EAAK2G,oBAAsB1hB,EAAQ0hB,oBACnC3G,EAAKmH,wBAA0BpE,EAA2Clf,OAAOmc,EAAK9a,mBACtF8a,EAAKmH,wBAAwBljB,KAAyC,IAArCgB,EAAQmiB,0BACT9D,EAAiCzf,OAAOmc,EAAK9a,mBACrDjB,IAAI0D,QAAQ1C,EAAQoiB,sBAC5CrH,EAAKyH,mCAAqC3C,GAAkCC,GAC5E/E,EAAKhQ,YAAYrQ,IAAIqgB,EAAK9a,mBAC1B8a,EAAKhQ,YAAYrQ,IAAI8mB,EAAYiB,UAAQR,EAAAA,EAAAA,GAAAlH,KACzCA,EAAK2H,aAAa1iB,EAAQ2iB,gBAC1B5H,EAAKhQ,YAAYrQ,IAAIolB,EAAqBI,0BAAyB,SAAA/jB,GAC3DA,EAAEgkB,qBAAqBpB,KACvBhE,EAAKyH,mCAAqC3C,GAAkCC,IAEhF,IAAI9f,EAAU,CAAC,EACf,GAAI7D,EAAEgkB,qBAAqBlB,UAAwDhhB,IAA7B8c,EAAK2G,oBAAmC,CAC1F,IAAMA,EAAsBhf,QAAQod,EAAqBC,SAASd,KAClEjf,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAE0hB,oBAAAA,GAC1D,CACA,GAAIvlB,EAAEgkB,qBAAqBd,IAAkB,CACzC,IAAM6B,EAAexe,QAAQod,EAAqBC,SAASV,KAC3Drf,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAEkhB,aAAAA,GAC1D,CACA,GAAI/kB,EAAEgkB,qBAAqBV,IAAsB,CAC7C,IAAMmB,EAAkBle,QAAQod,EAAqBC,SAASN,KAC9Dzf,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAE4gB,gBAAAA,GAC1D,CACA,GAAIzkB,EAAEgkB,qBAAqBT,IAAiC,CACxD,IAAMmB,EAA8Bf,EAAqBC,SAASL,IAClE1f,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAE6gB,4BAAAA,GAC1D,CACA,GAAI1kB,EAAEgkB,qBAAqBR,IAA2B,CAClD,IAAMmB,EAAwBhB,EAAqBC,SAASJ,IAC5D3f,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAE8gB,sBAAAA,GAC1D,CACI7jB,OAAO+H,KAAKhF,GAASjD,OAAS,GAC9Bge,EAAKoI,cAAcnjB,EAE3B,KACA+a,EAAKqI,UAAY,IAAIC,IAAqBpB,EAAAA,EAAAA,GAAAlH,GAAO9d,OAAOwjB,OAAO,CAAEX,qBAAAA,GAAwB9f,IACzF+a,EAAKhQ,YAAYrQ,IAAIqgB,EAAKqI,WAAWrI,CACzC,CAgBC,OAhBAxgB,EAAAA,EAAAA,GAAAkpB,EAAA,EAAA7oB,IAAA,gBAAAC,MACD,SAAcmF,IACV0P,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAA8T,EAAAlY,WAAA,sBAAApL,KAAA,KAAoBH,QACW/B,IAA3B+B,EAAQ2iB,gBACR5nB,KAAK2nB,aAAa1iB,EAAQ2iB,qBAEW1kB,IAArC+B,EAAQmiB,0BACRpnB,KAAKmnB,wBAAwBljB,MAAMgB,EAAQmiB,yBAEnD,GAAC,CAAAvnB,IAAA,eAAAC,MACD,SAAayoB,GACTvoB,KAAKsiB,MAAMiG,GAASC,EAAAA,EAAAA,IAAcD,GAAUhG,EAAAA,GAChD,GAAC,CAAA1iB,IAAA,UAAAC,MACD,WACIE,KAAKgQ,YAAYvL,WACjBkQ,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAA8T,EAAAlY,WAAA,gBAAApL,KAAA,KACJ,KAACsjB,CAAA,CAhEwB,CAAoCK,EAAAA,GAkEjEL,GAAqBjnB,EAAW,CAC5Be,EAAQ,EAAGiD,EAAAA,IACXjD,EAAQ,EAAGof,GACXpf,EAAQ,EAAGijB,EAAAA,IACXjjB,EAAQ,EAAG2F,EAAAA,KACZugB,IACI,IAAIM,GAAc,SAAAC,IAAArkB,EAAAA,EAAAA,GAAAokB,EAAAC,GAAA,IAAAC,GAAApkB,EAAAA,EAAAA,GAAAkkB,GACrB,SAAAA,EAAY1C,EAAMvhB,EAAWwhB,EAAU4C,EAAS3C,EAAWvhB,EAASC,EAAmBuhB,EAAa1B,EAAsB2B,GAAsB,IAAAvG,GAAA1gB,EAAAA,EAAAA,GAAA,KAAAupB,GAC5I,IAAMrC,EAA6D,qBAAhC1hB,EAAQ0hB,oBAAsC1hB,EAAQ0hB,oBAAsBhf,QAAQod,EAAqBC,SAASd,KACrJkF,EAA+D1C,EAAqBG,eAAerB,GAAwBvgB,GAAQokB,GAAAvf,EAAAA,EAAAA,GAAAsf,EAAA,GAA5HrC,EAAoBsC,EAAA,GAAErC,EAA8BqC,EAAA,GA4DtB,OA3DrClJ,EAAA+I,EAAA9jB,KAAA,KAAMkhB,EAAMvhB,EAAWwhB,EAAU4C,EAAS3C,EAAWtkB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAEuB,iBAAiB,GAASF,GAAuB,CAAEJ,oBAAAA,MACjI3W,YAAYrQ,IAAIqnB,GACrB7G,EAAKjb,kBAAoB6e,EAA8B7e,GAAiBgiB,EAAAA,EAAAA,GAAA/G,IACxEA,EAAKgH,wBAA0BpE,EAA2Clf,OAAOsc,EAAKjb,mBACtFib,EAAKgH,wBAAwBljB,KAAyC,IAArCgB,EAAQmiB,0BACT9D,EAAiCzf,OAAOsc,EAAKjb,mBACrDjB,IAAI0D,QAAQ1C,EAAQoiB,sBAC5ClH,EAAKmH,wBAA0BnE,EAAiCtf,OAAOsc,EAAKjb,mBAC5Eib,EAAKoH,oBAAsBnE,EAA6Bvf,OAAOsc,EAAKjb,mBACpEib,EAAKqH,mBAAqBnE,EAA4Bxf,OAAOsc,EAAKjb,mBAClEib,EAAKwG,oBAAsB1hB,EAAQ0hB,oBACnCxG,EAAKsH,mCAAqC3C,GAAkCC,GAC5E5E,EAAKnQ,YAAYrQ,IAAIwgB,EAAKjb,mBAC1Bib,EAAKnQ,YAAYrQ,IAAI8mB,EAAYiB,UAAQR,EAAAA,EAAAA,GAAA/G,KACzCA,EAAKwH,aAAa1iB,EAAQ2iB,gBAC1BzH,EAAKnQ,YAAYrQ,IAAIwgB,EAAK0H,sBAAqB,WAC3C,IAAMC,EAAY3H,EAAK4H,eACjBC,EAAQ7H,EAAK8H,WACnB9H,EAAKjb,kBAAkBgjB,oBAAmB,WACtC/H,EAAKmH,wBAAwBrjB,IAAI6jB,EAAU9lB,OAAS,GAAKgmB,EAAMhmB,OAAS,GACxEme,EAAKqH,mBAAmBvjB,IAAI6jB,EAAU9lB,OAAS,GAC/Cme,EAAKoH,oBAAoBtjB,IAAyB,IAArB6jB,EAAU9lB,OAC3C,GACJ,KACAme,EAAKnQ,YAAYrQ,IAAIwgB,EAAKgI,kBAAiB,WACvC,IAAML,EAAY3H,EAAK4H,eACjBC,EAAQ7H,EAAK8H,WACnB9H,EAAKmH,wBAAwBrjB,IAAI6jB,EAAU9lB,OAAS,GAAKgmB,EAAMhmB,OAAS,EAC5E,KACAme,EAAKnQ,YAAYrQ,IAAIolB,EAAqBI,0BAAyB,SAAA/jB,GAC3DA,EAAEgkB,qBAAqBpB,KACvB7D,EAAKsH,mCAAqC3C,GAAkCC,IAEhF,IAAI9f,EAAU,CAAC,EACf,GAAI7D,EAAEgkB,qBAAqBlB,UAAwDhhB,IAA7Bid,EAAKwG,oBAAmC,CAC1F,IAAMA,EAAsBhf,QAAQod,EAAqBC,SAASd,KAClEjf,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAE0hB,oBAAAA,GAC1D,CACA,GAAIvlB,EAAEgkB,qBAAqBd,IAAkB,CACzC,IAAM6B,EAAexe,QAAQod,EAAqBC,SAASV,KAC3Drf,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAEkhB,aAAAA,GAC1D,CACA,GAAI/kB,EAAEgkB,qBAAqBV,IAAsB,CAC7C,IAAMmB,EAAkBle,QAAQod,EAAqBC,SAASN,KAC9Dzf,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAE4gB,gBAAAA,GAC1D,CACA,GAAIzkB,EAAEgkB,qBAAqBT,IAAiC,CACxD,IAAMmB,EAA8Bf,EAAqBC,SAASL,IAClE1f,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAE6gB,4BAAAA,GAC1D,CACA,GAAI1kB,EAAEgkB,qBAAqBR,IAA2B,CAClD,IAAMmB,EAAwBhB,EAAqBC,SAASJ,IAC5D3f,EAAU/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGzgB,GAAU,CAAE8gB,sBAAAA,GAC1D,CACI7jB,OAAO+H,KAAKhF,GAASjD,OAAS,GAC9Bme,EAAKiI,cAAcnjB,EAE3B,KACAkb,EAAKkI,UAAY,IAAIiB,IAAsBpC,EAAAA,EAAAA,GAAA/G,GAAOje,OAAOwjB,OAAO,CAAEX,qBAAAA,GAAwB9f,IAC1Fkb,EAAKnQ,YAAYrQ,IAAIwgB,EAAKkI,WAAWlI,CACzC,CAgBC,OAhBA3gB,EAAAA,EAAAA,GAAAwpB,EAAA,EAAAnpB,IAAA,gBAAAC,MACD,SAAcmF,IACV0P,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAoU,EAAAxY,WAAA,sBAAApL,KAAA,KAAoBH,QACW/B,IAA3B+B,EAAQ2iB,gBACR5nB,KAAK2nB,aAAa1iB,EAAQ2iB,qBAEW1kB,IAArC+B,EAAQmiB,0BACRpnB,KAAKmnB,wBAAwBljB,MAAMgB,EAAQmiB,yBAEnD,GAAC,CAAAvnB,IAAA,eAAAC,MACD,SAAayoB,GACTvoB,KAAKsiB,MAAMiG,GAASC,EAAAA,EAAAA,IAAcD,GAAUhG,EAAAA,GAChD,GAAC,CAAA1iB,IAAA,UAAAC,MACD,WACIE,KAAKgQ,YAAYvL,WACjBkQ,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAoU,EAAAxY,WAAA,gBAAApL,KAAA,KACJ,KAAC4jB,CAAA,CAhFoB,CAAgCO,EAAAA,GAkFzDP,GAAiBvnB,EAAW,CACxBe,EAAQ,EAAGiD,EAAAA,IACXjD,EAAQ,EAAGof,GACXpf,EAAQ,EAAGijB,EAAAA,IACXjjB,EAAQ,EAAG2F,EAAAA,KACZ6gB,IAAgB,IACbQ,GAAiB,SAAAC,IAAA7kB,EAAAA,EAAAA,GAAA4kB,EAAAC,GAAA,IAAAC,GAAA5kB,EAAAA,EAAAA,GAAA0kB,GACnB,SAAAA,EAAYlmB,EAAQ2B,GAAS,IAAAqb,EACrBtZ,EAkBH,OAnBwBvH,EAAAA,EAAAA,GAAA,KAAA+pB,IAEzBlJ,EAAAoJ,EAAAtkB,KAAA,OACK9B,OAASA,EACdgd,EAAKqJ,WAAarJ,EAAKjb,UAAU,IAAIuN,EAAAA,IACrC0N,EAAKsJ,UAAYtJ,EAAKqJ,WAAWnV,MACjC8L,EAAKjb,UAAUoP,EAAAA,GAAMoO,OAAOvC,EAAKhd,OAAOukB,sBAAsB,SAAAzmB,GAAC,OAAIA,EAAEikB,wBAAwBwE,aAAa,GAA3FpV,EAA6F,SAAArT,GAAC,OAAIkf,EAAKwJ,wBAAwB1oB,EAAE,KAChJkf,EAAKjb,UAAUib,EAAKhd,OAAOymB,WAAU,SAAC3oB,GAAC,OAAKkf,EAAKyJ,UAAU3oB,EAAE+C,QAAS/C,EAAEikB,aAAa,KACrF/E,EAAKjb,UAAUib,EAAKhd,OAAO0mB,iBAAgB,SAAC5oB,GAAC,OAAKkf,EAAK0J,gBAAgB5oB,EAAE+C,QAAS/C,EAAEikB,aAAa,KACJ,mBAArE,OAAZpgB,QAAgC,IAAZA,OAAqB,EAASA,EAAQglB,qBAAiD,OAAZhlB,QAAgC,IAAZA,OAAqB,EAASA,EAAQ8f,uBACjKzE,EAAK2J,kBAAsI,iBAArG,OAAZhlB,QAAgC,IAAZA,OAAqB,EAASA,EAAQ8f,qBAAqBC,SAASf,KAClH3D,EAAKjb,UAAsB,OAAZJ,QAAgC,IAAZA,OAAqB,EAASA,EAAQ8f,qBAAqBI,0BAAyB,SAAA/jB,GAC/GA,EAAEgkB,qBAAqBnB,MACvB3D,EAAK2J,kBAAsI,iBAArG,OAAZhlB,QAAgC,IAAZA,OAAqB,EAASA,EAAQ8f,qBAAqBC,SAASf,KAE1H,MAGA3D,EAAK2J,kBAA2G,QAAtFjjB,EAAiB,OAAZ/B,QAAgC,IAAZA,OAAqB,EAASA,EAAQglB,yBAAsC,IAAPjjB,GAAgBA,EAC3IsZ,CACL,CAuDC,OAvDA9gB,EAAAA,EAAAA,GAAAgqB,EAAA,EAAA3pB,IAAA,0BAAAC,MACD,SAAwB0U,GACpB,GAA8B,IAA1BA,EAAM0V,SAASloB,OAAnB,CAGA,IAAMmoB,EAAyB3V,EAAM6Q,aAC/B+E,EAAgE,mBAAzCD,EAAuBC,eAA8BD,EAAuBC,cACnGC,EAAkD,mBAAlCF,EAAuBE,OAAuBF,EAAuBE,QAAUD,EAErGpqB,KAAKsqB,MAAMtqB,KAAKuqB,qBAAsBH,EAAeC,GADlC,EACsD7V,EAAM6Q,aAL/E,CAMJ,GAAC,CAAAxlB,IAAA,YAAAC,MACD,SAAUqE,EAASkhB,GACf,GAAKrlB,KAAKiqB,qBAGoC,IAAxB5E,EAAajM,QACnC,CAGA,IAEMiR,EAFwC,IAAxBhF,EAAamF,OAG7BC,EAAapF,EAAa/L,SAAW+L,EAAa9L,SAAW8L,EAAatL,OAChF/Z,KAAKsqB,MAAMnmB,GAHW,EAGakmB,EAAQI,EAAYpF,EALvD,CAMJ,GAAC,CAAAxlB,IAAA,kBAAAC,MACD,SAAgBqE,EAASkhB,GACrB,GAAKA,EAAL,CAIA,IAAM1jB,EAAS0jB,EAAa1jB,OAG5B,KAFkBA,EAAOugB,UAAUwI,SAAS,sBACpC/oB,EAAOugB,UAAUwI,SAAS,sBAAwB/oB,EAAOugB,UAAUwI,SAAS,gBAAkBrF,EAAasF,QAAU,IAC7H,CAGA,IAEMF,EAAcpF,EAAa/L,SAAW+L,EAAa9L,SAAW8L,EAAatL,OACjF/Z,KAAKsqB,MAAMnmB,GAHW,GACP,EAE4BsmB,EAAYpF,EAJvD,CAPA,CAYJ,GAAC,CAAAxlB,IAAA,QAAAC,MACD,SAAMqE,EAASimB,EAAeC,EAAQI,EAAYpF,GACzClhB,GAGLnE,KAAK2pB,WAAWzW,KAAK,CACjB0X,cAAe,CACXR,cAAAA,EACAC,OAAAA,EACAQ,iBAAiB,GAErBJ,WAAAA,EACAtmB,QAAAA,EACAkhB,aAAAA,GAER,KAACmE,CAAA,CA5EkB,CAAS/P,EAAAA,IA8E1B6O,GAAqB,SAAAwC,IAAAlmB,EAAAA,EAAAA,GAAA0jB,EAAAwC,GAAA,IAAAC,GAAAjmB,EAAAA,EAAAA,GAAAwjB,GACvB,SAAAA,EAAYhlB,EAAQ2B,GAAS,IAAAub,EAEJ,OAFI/gB,EAAAA,EAAAA,GAAA,KAAA6oB,IACzB9H,EAAAuK,EAAA3lB,KAAA,KAAM9B,EAAQ2B,IACT3B,OAASA,EAAOkd,CACzB,CAGC,OAHAhhB,EAAAA,EAAAA,GAAA8oB,EAAA,EAAAzoB,IAAA,qBAAAC,MACD,WACI,OAAOE,KAAKsD,OAAO0nB,sBAAsB,EAC7C,KAAC1C,CAAA,CAPsB,CAASkB,IAS9BF,GAAsB,SAAA2B,IAAArmB,EAAAA,EAAAA,GAAA0kB,EAAA2B,GAAA,IAAAC,GAAApmB,EAAAA,EAAAA,GAAAwkB,GACxB,SAAAA,EAAYhmB,EAAQ2B,GAAS,OAAAxF,EAAAA,EAAAA,GAAA,KAAA6pB,GAAA4B,EAAA9lB,KAAA,KACnB9B,EAAQ2B,EAClB,CAGC,OAHAzF,EAAAA,EAAAA,GAAA8pB,EAAA,EAAAzpB,IAAA,qBAAAC,MACD,WACI,OAAOE,KAAKsD,OAAO0nB,sBAAsB,EAC7C,KAAC1B,CAAA,CANuB,CAASE,IAQ/B2B,GAAqB,SAAAC,IAAAxmB,EAAAA,EAAAA,GAAAumB,EAAAC,GAAA,IAAAC,GAAAvmB,EAAAA,EAAAA,GAAAqmB,GACvB,SAAAA,EAAY7nB,EAAQ2B,GAAS,OAAAxF,EAAAA,EAAAA,GAAA,KAAA0rB,GAAAE,EAAAjmB,KAAA,KACnB9B,EAAQ2B,EAClB,CAIC,OAJAzF,EAAAA,EAAAA,GAAA2rB,EAAA,EAAAtrB,IAAA,qBAAAC,MACD,WACI,IAAIkH,EACJ,OAAgD,QAAxCA,EAAKhH,KAAKsD,OAAOykB,eAAe,UAAuB,IAAP/gB,EAAgBA,OAAK9D,CACjF,KAACioB,CAAA,CAPsB,CAAS3B,IASpC,SAAStD,GAAoCnf,GACzC,IAAIukB,GAAe,EACnB,OAAO,SAAA9W,GACH,GAAIA,EAAM+W,iBAAiBpK,gBACvB,OAAO,EAEX,GAAImK,EAEA,OADAA,GAAe,GACR,EAEX,IAAMrf,EAASlF,EAAkBykB,aAAahX,EAAOA,EAAM7S,QAC3D,OAAoB,IAAhBsK,EAAOsM,MACP+S,GAAe,GACR,IAEXA,GAAe,EACQ,IAAhBrf,EAAOsM,KAClB,CACJ,CACO,IAAIkT,GAAmB,SAAAC,IAAA9mB,EAAAA,EAAAA,GAAA6mB,EAAAC,GAAA,IAAAC,GAAA7mB,EAAAA,EAAAA,GAAA2mB,GAC1B,SAAAA,EAAYnF,EAAMvhB,EAAWwhB,EAAUC,EAAWvhB,EAASyhB,EAAsBxhB,EAAmBuhB,EAAa1B,GAAsB,IAAA6G,GAAAnsB,EAAAA,EAAAA,GAAA,KAAAgsB,GACnI,IAAAI,EAAoEnF,EAAqBG,eAAeiF,GAA2B7mB,GAAlH8mB,EAAWF,EAApB5mB,QAAsB+mB,EAAqBH,EAArBG,sBAAuBC,EAAUJ,EAAVI,WAIhB,OAHrCL,EAAAD,EAAAvmB,KAAA,KAAMkhB,EAAMvhB,EAAWwhB,EAAUC,EAAWuF,IACvC/b,YAAYrQ,IAAIssB,GACrBL,EAAKM,UAAY,IAAIC,IAAsBjF,EAAAA,EAAAA,GAAA0E,GAAO3mB,EAAS+mB,EAAuB/mB,EAAQ2iB,eAAgB1iB,EAAmBuhB,EAAa1B,GAC1I6G,EAAK5b,YAAYrQ,IAAIisB,EAAKM,WAAWN,CACzC,CAIC,OAJApsB,EAAAA,EAAAA,GAAAisB,EAAA,EAAA5rB,IAAA,gBAAAC,MACD,SAAcmF,IACV0P,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAA6W,EAAAjb,WAAA,sBAAApL,KAAA,KAAoBH,GACpBjF,KAAKksB,UAAU9D,cAAcnjB,EACjC,KAACwmB,CAAA,CAXyB,CAAqCW,EAAAA,GAanEX,GAAsBhqB,EAAW,CAC7Be,EAAQ,EAAG2F,EAAAA,IACX3F,EAAQ,EAAGiD,EAAAA,IACXjD,EAAQ,EAAGof,GACXpf,EAAQ,EAAGijB,EAAAA,KACZgG,IACI,IAAIY,GAA+B,SAAAC,IAAA1nB,EAAAA,EAAAA,GAAAynB,EAAAC,GAAA,IAAAC,GAAAznB,EAAAA,EAAAA,GAAAunB,GACtC,SAAAA,EAAY/F,EAAMvhB,EAAWwhB,EAAUC,EAAWvhB,EAASyhB,EAAsBxhB,EAAmBuhB,EAAa1B,GAAsB,IAAAyH,GAAA/sB,EAAAA,EAAAA,GAAA,KAAA4sB,GACnI,IAAAI,EAAoE/F,EAAqBG,eAAeiF,GAA2B7mB,GAAlH8mB,EAAWU,EAApBxnB,QAAsB+mB,EAAqBS,EAArBT,sBAAuBC,EAAUQ,EAAVR,WAIhB,OAHrCO,EAAAD,EAAAnnB,KAAA,KAAMkhB,EAAMvhB,EAAWwhB,EAAUC,EAAWuF,IACvC/b,YAAYrQ,IAAIssB,GACrBO,EAAKN,UAAY,IAAIC,IAAsBjF,EAAAA,EAAAA,GAAAsF,GAAOvnB,EAAS+mB,EAAuB/mB,EAAQ2iB,eAAgB1iB,EAAmBuhB,EAAa1B,GAC1IyH,EAAKxc,YAAYrQ,IAAI6sB,EAAKN,WAAWM,CACzC,CAOC,OAPAhtB,EAAAA,EAAAA,GAAA6sB,EAAA,EAAAxsB,IAAA,gBAAAC,MACD,WAA4B,IAAdmF,EAAOlD,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,CAAC,GACrB4S,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAyX,EAAA7b,WAAA,sBAAApL,KAAA,KAAoBH,GAChBA,EAAQ2iB,gBACR5nB,KAAKksB,UAAUQ,qBAAqBznB,EAAQ2iB,gBAEhD5nB,KAAKksB,UAAU9D,cAAcnjB,EACjC,KAAConB,CAAA,CAdqC,CAAiDM,EAAAA,GAgB3FN,GAAkC5qB,EAAW,CACzCe,EAAQ,EAAG2F,EAAAA,IACX3F,EAAQ,EAAGiD,EAAAA,IACXjD,EAAQ,EAAGof,GACXpf,EAAQ,EAAGijB,EAAAA,KACZ4G,IACI,IAAIO,GAAiB,SAAAC,IAAAjoB,EAAAA,EAAAA,GAAAgoB,EAAAC,GAAA,IAAAC,GAAAhoB,EAAAA,EAAAA,GAAA8nB,GACxB,SAAAA,EAAYtG,EAAMvhB,EAAWwhB,EAAUC,EAAWuG,EAAY9nB,EAASyhB,EAAsBxhB,EAAmBuhB,EAAa1B,GAAsB,IAAAiI,GAAAvtB,EAAAA,EAAAA,GAAA,KAAAmtB,GAC/I,IAAAK,EAAoEvG,EAAqBG,eAAeiF,GAA2B7mB,GAAlH8mB,EAAWkB,EAApBhoB,QAAsB+mB,EAAqBiB,EAArBjB,sBAAuBC,EAAUgB,EAAVhB,WAIhB,OAHrCe,EAAAF,EAAA1nB,KAAA,KAAMkhB,EAAMvhB,EAAWwhB,EAAUC,EAAWuG,EAAYhB,IACnD/b,YAAYrQ,IAAIssB,GACrBe,EAAKd,UAAY,IAAIC,IAAsBjF,EAAAA,EAAAA,GAAA8F,GAAO/nB,EAAS+mB,EAAuB/mB,EAAQ2iB,eAAgB1iB,EAAmBuhB,EAAa1B,GAC1IiI,EAAKhd,YAAYrQ,IAAIqtB,EAAKd,WAAWc,CACzC,CAOC,OAPAxtB,EAAAA,EAAAA,GAAAotB,EAAA,EAAA/sB,IAAA,gBAAAC,MACD,WAA4B,IAAdmF,EAAOlD,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,CAAC,GACrB4S,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAgY,EAAApc,WAAA,sBAAApL,KAAA,KAAoBH,QACW/B,IAA3B+B,EAAQ2iB,gBACR5nB,KAAKksB,UAAUQ,qBAAqBznB,EAAQ2iB,gBAEhD5nB,KAAKksB,UAAU9D,cAAcnjB,EACjC,KAAC2nB,CAAA,CAduB,CAAmCM,EAAAA,GAgB/DN,GAAoBnrB,EAAW,CAC3Be,EAAQ,EAAG2F,EAAAA,IACX3F,EAAQ,EAAGiD,EAAAA,IACXjD,EAAQ,EAAGof,GACXpf,EAAQ,EAAGijB,EAAAA,KACZmH,IACI,IAAIO,GAAsB,SAAAC,IAAAxoB,EAAAA,EAAAA,GAAAuoB,EAAAC,GAAA,IAAAC,GAAAvoB,EAAAA,EAAAA,GAAAqoB,GAE7B,SAAAA,EAAY7G,EAAMvhB,EAAWwhB,EAAUC,EAAWuG,EAAY9nB,EAASyhB,EAAsBxhB,EAAmBuhB,EAAa1B,GAAsB,IAAAuI,GAAA7tB,EAAAA,EAAAA,GAAA,KAAA0tB,GAC/I,IAAAI,EAAoE7G,EAAqBG,eAAeiF,GAA2B7mB,GAAlH8mB,EAAWwB,EAApBtoB,QAAsB+mB,EAAqBuB,EAArBvB,sBAAuBC,EAAUsB,EAAVtB,WAIhB,OAHrCqB,EAAAD,EAAAjoB,KAAA,KAAMkhB,EAAMvhB,EAAWwhB,EAAUC,EAAWuG,EAAYhB,IACnD/b,YAAYrQ,IAAIssB,GACrBqB,EAAKpB,UAAY,IAAIC,IAAsBjF,EAAAA,EAAAA,GAAAoG,GAAOroB,EAAS+mB,EAAuB/mB,EAAQ2iB,eAAgB1iB,EAAmBuhB,EAAa1B,GAC1IuI,EAAKtd,YAAYrQ,IAAI2tB,EAAKpB,WAAWoB,CACzC,CAOC,OAPA9tB,EAAAA,EAAAA,GAAA2tB,EAAA,EAAAttB,IAAA,YAAAwI,IAPD,WAAkB,OAAOrI,KAAKksB,UAAUtC,SAAW,GAAC,CAAA/pB,IAAA,gBAAAC,MAQpD,WAA4B,IAAdmF,EAAOlD,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,CAAC,GACrB4S,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAuY,EAAA3c,WAAA,sBAAApL,KAAA,KAAoBH,GAChBA,EAAQ2iB,gBACR5nB,KAAKksB,UAAUQ,qBAAqBznB,EAAQ2iB,gBAEhD5nB,KAAKksB,UAAU9D,cAAcnjB,EACjC,KAACkoB,CAAA,CAf4B,CAAwCK,EAAAA,GAiBzEL,GAAyB1rB,EAAW,CAChCe,EAAQ,EAAG2F,EAAAA,IACX3F,EAAQ,EAAGiD,EAAAA,IACXjD,EAAQ,EAAGof,GACXpf,EAAQ,EAAGijB,EAAAA,KACZ0H,IACI,IAAIM,GAAkC,SAAAC,IAAA9oB,EAAAA,EAAAA,GAAA6oB,EAAAC,GAAA,IAAAC,GAAA7oB,EAAAA,EAAAA,GAAA2oB,GACzC,SAAAA,EAAYnH,EAAMvhB,EAAW6oB,EAAiBC,EAAqBrH,EAAWuG,EAAY9nB,EAASyhB,EAAsBxhB,EAAmBuhB,EAAa1B,GAAsB,IAAA+I,GAAAruB,EAAAA,EAAAA,GAAA,KAAAguB,GAC3K,IAAAM,EAAoErH,EAAqBG,eAAeiF,GAA2B7mB,GAAlH8mB,EAAWgC,EAApB9oB,QAAsB+mB,EAAqB+B,EAArB/B,sBAAuBC,EAAU8B,EAAV9B,WAIhB,OAHrC6B,EAAAH,EAAAvoB,KAAA,KAAMkhB,EAAMvhB,EAAW6oB,EAAiBC,EAAqBrH,EAAWuG,EAAYhB,IAC/E/b,YAAYrQ,IAAIssB,GACrB6B,EAAK5B,UAAY,IAAIC,IAAsBjF,EAAAA,EAAAA,GAAA4G,GAAO7oB,EAAS+mB,EAAuB/mB,EAAQ2iB,eAAgB1iB,EAAmBuhB,EAAa1B,GAC1I+I,EAAK9d,YAAYrQ,IAAImuB,EAAK5B,WAAW4B,CACzC,CAIC,OAJAtuB,EAAAA,EAAAA,GAAAiuB,EAAA,EAAA5tB,IAAA,gBAAAC,MACD,SAAcmF,IACV0P,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAA6Y,EAAAjd,WAAA,sBAAApL,KAAA,KAAoBH,GACpBjF,KAAKksB,UAAU9D,cAAcnjB,EACjC,KAACwoB,CAAA,CAXwC,CAAoDO,EAAAA,GAmBjG,SAASC,GAAuBlJ,GAC5B,IAAMjlB,EAAQilB,EAAqBC,SAASb,IAC5C,GAAc,cAAVrkB,EACA,OAAOouB,EAAAA,GAAaC,UAEnB,GAAc,WAAVruB,EACL,OAAOouB,EAAAA,GAAaE,OAExB,IAAMC,EAAkBtJ,EAAqBC,SAASX,IACtD,MAAwB,WAApBgK,GAAoD,cAApBA,EACzBH,EAAAA,GAAaC,UAEK,WAApBE,EACEH,EAAAA,GAAaE,YADnB,CAIT,CACA,SAASE,GAA4BvJ,GACjC,IAAMjlB,EAAQilB,EAAqBC,SAAST,IAC5C,MAAc,UAAVzkB,EACOyuB,EAAAA,GAAkBC,MAEV,eAAV1uB,EACEyuB,EAAAA,GAAkBE,gBADxB,CAIT,CACA,SAAS3C,GAA0BnlB,EAAU1B,GACzC,IAAI+B,EACE+d,EAAuBpe,EAAS0B,IAAIod,EAAAA,IACpCiJ,EAAqB/nB,EAAS0B,IAAIsmB,EAAAA,GAClCzpB,EAAoByB,EAAS0B,IAAI5C,EAAAA,IACjCihB,EAAuB/f,EAAS0B,IAAIF,EAAAA,IAyBpCwe,OAAsDzjB,IAAhC+B,EAAQ0hB,oBAAoC1hB,EAAQ0hB,oBAAsBhf,QAAQod,EAAqBC,SAASd,KAC5I0K,EAA2ClI,EAAqBG,eAAerB,GAAwBvgB,GAAQ4pB,GAAA/kB,EAAAA,EAAAA,GAAA8kB,EAAA,GAAxG7H,EAAoB8H,EAAA,GAAE5C,EAAU4C,EAAA,GACjCC,EAAyB7pB,EAAQ6pB,uBACjCC,OAAoD7rB,IAA/B+B,EAAQ8pB,mBAAmC9pB,EAAQ8pB,mBAAqBhK,EAAqBC,SAASP,IACjI,MAAO,CACHuH,sBA7B0B,WAE1B,IAAMgD,EAAa9pB,EAAkB+pB,mBAAmBpL,GACxD,GAAmB,cAAfmL,EACA,OAAOE,EAAAA,GAAmBC,UAEzB,GAAmB,YAAfH,EACL,OAAOE,EAAAA,GAAmBE,QAI9B,IAAoB,IADAlqB,EAAkB+pB,mBAAmBnL,GAErD,OAAOoL,EAAAA,GAAmBE,QAG9B,IAAMC,EAAetK,EAAqBC,SAASZ,IACnD,MAAqB,cAAjBiL,EACOH,EAAAA,GAAmBC,UAEJ,YAAjBE,EACEH,EAAAA,GAAmBE,aADzB,CAIT,EAOInD,WAAAA,EACAhnB,QAAS/C,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAEjCuB,iBAAiB,GAASF,GAAuB,CAAEuI,OAAgE,kBAAjDvK,EAAqBC,SAASR,IAA8BO,EAAqBC,SAASR,SAAiBthB,EAAW6rB,mBAAAA,EAAoBlJ,gBAAiBle,QAAQod,EAAqBC,SAASN,KAAuB6K,gBAAiBtB,GAAuBlJ,GAAuByK,qBAAsBlB,GAA4BvJ,GAAuB4B,oBAAAA,EAAqBR,aAAcxe,QAAQod,EAAqBC,SAASV,KAAmBwK,uBAAAA,EAAwBW,gCAAiCxqB,EAAQwqB,gCAAiCC,yBAAsE,QAA3C1oB,EAAK/B,EAAQyqB,gCAA6C,IAAP1oB,EAAgBA,EAAwD,gBAAlD+d,EAAqBC,SAASH,IAAoC7f,oBAAqB0pB,EAAoBiB,iBAAkBC,EAAAA,KAE70B,CA1EAnC,GAAqChsB,EAAW,CAC5Ce,EAAQ,EAAG2F,EAAAA,IACX3F,EAAQ,EAAGiD,EAAAA,IACXjD,EAAQ,EAAGof,GACXpf,EAAQ,GAAIijB,EAAAA,KACbgI,IAsEH,IAAItB,GAAsB,WAEtB,SAAAA,EAAY0D,EAAM5qB,EAAS+mB,EAAuBpE,EAAgB1iB,EAAmBuhB,EAAa1B,GAAsB,IAChH/d,EADgH8oB,EAAA,MAAArwB,EAAAA,EAAAA,GAAA,KAAA0sB,GAEpHnsB,KAAK6vB,KAAOA,EACZ7vB,KAAKgQ,YAAc,GACnBhQ,KAAKkF,kBAAoB6e,EAA8B7e,EAAmB2qB,GAC1E7vB,KAAKmnB,wBAA0BpE,EAA2Clf,OAAO7D,KAAKkF,mBACtFlF,KAAKmnB,wBAAwBljB,KAAyC,IAArCgB,EAAQmiB,0BACT9D,EAAiCzf,OAAO7D,KAAKkF,mBACrDjB,IAAI0D,QAAQ1C,EAAQoiB,sBAC5CrnB,KAAK+vB,sBAAwBxM,EAA0B1f,OAAO7D,KAAKkF,mBACnElF,KAAK+vB,sBAAsB9rB,IAAyC,QAApC+C,EAAK/B,EAAQ+qB,yBAAsC,IAAPhpB,GAAgBA,GAC5FhH,KAAKiwB,oBAAsB9M,EAAiCtf,OAAO7D,KAAKkF,mBACxElF,KAAKkwB,mBAAqB9M,EAA6Bvf,OAAO7D,KAAKkF,mBACnElF,KAAKmwB,kBAAoB9M,EAA4Bxf,OAAO7D,KAAKkF,mBACjElF,KAAKowB,uBAAyB5M,EAAgC3f,OAAO7D,KAAKkF,mBAC1ElF,KAAKqwB,qBAAuB5M,EAA8B5f,OAAO7D,KAAKkF,mBACtElF,KAAKswB,qBAAuB5M,EAA8B7f,OAAO7D,KAAKkF,mBACtElF,KAAKuwB,oBAAsB5M,EAA6B9f,OAAO7D,KAAKkF,mBACpElF,KAAKwwB,aAAe5M,EAAsB/f,OAAO7D,KAAKkF,mBACtDlF,KAAKynB,mCAAqC3C,GAAkCC,GAC5E/kB,KAAK0sB,qBAAqB9E,GAC1B,IAAM6I,EAA4B,WAC9B,IAAMzI,EAAQ6H,EAAK5H,WAAW,GAC9B,GAAKD,EAAL,CAGA,IAAM/e,EAAO4mB,EAAKa,QAAQ1I,GAC1B8H,EAAKM,uBAAuBnsB,IAAIgF,EAAK0nB,cAAgB1nB,EAAK2nB,WAC1Dd,EAAKO,qBAAqBpsB,MAAM4rB,EAAKgB,iBAAiB7I,IACtD8H,EAAKQ,qBAAqBrsB,IAAIgF,EAAK0nB,aAAe1nB,EAAK2nB,WACvDd,EAAKS,oBAAoBtsB,MAAM4rB,EAAKiB,qBAAqB9I,GALzD,CAMJ,EACM+I,EAAyB,IAAInwB,IACnCmwB,EAAuBpxB,IAAIkkB,GAC3BkN,EAAuBpxB,IAAImkB,GAC3B9jB,KAAKgQ,YAAYvM,KAAKzD,KAAKkF,kBAAmBuhB,EAAYiB,SAASmI,GAAOA,EAAKhI,sBAAqB,WAChG,IAAMC,EAAY+H,EAAK9H,eACjBC,EAAQ6H,EAAK5H,WACnB6H,EAAK5qB,kBAAkBgjB,oBAAmB,WACtC4H,EAAKG,oBAAoBhsB,IAAI6jB,EAAU9lB,OAAS,GAAKgmB,EAAMhmB,OAAS,GACpE8tB,EAAKK,kBAAkBlsB,IAAI6jB,EAAU9lB,OAAS,GAC9C8tB,EAAKI,mBAAmBjsB,IAAyB,IAArB6jB,EAAU9lB,OAC1C,GACJ,IAAI6tB,EAAK1H,kBAAiB,WACtB,IAAML,EAAY+H,EAAK9H,eACjBC,EAAQ6H,EAAK5H,WACnB6H,EAAKG,oBAAoBhsB,IAAI6jB,EAAU9lB,OAAS,GAAKgmB,EAAMhmB,OAAS,GACpEyuB,GACJ,IAAIZ,EAAKmB,yBAAyBP,GAA4BZ,EAAKoB,iBAAiBR,GAA4BZ,EAAKqB,0BAAyB,SAAAja,GAAO,OAAI6Y,EAAKU,aAAavsB,IAAIgT,EAAQ,IAAG8N,EAAqBI,0BAAyB,SAAA/jB,GACpO,IAAI+vB,EAAa,CAAC,EAIlB,GAHI/vB,EAAEgkB,qBAAqBpB,KACvB8L,EAAKrI,mCAAqC3C,GAAkCC,IAE5E3jB,EAAEgkB,qBAAqBZ,IAAgB,CACvC,IAAM8K,EAASvK,EAAqBC,SAASR,IAC7C2M,EAAajvB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGyL,GAAa,CAAE7B,OAAAA,GAChE,CACA,GAAIluB,EAAEgkB,qBAAqBX,UAA6DvhB,IAA/B+B,EAAQ8pB,mBAAkC,CAC/F,IAAMA,EAAqBhK,EAAqBC,SAASP,IACzD0M,EAAajvB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGyL,GAAa,CAAEpC,mBAAAA,GAChE,CACA,GAAI3tB,EAAEgkB,qBAAqBV,IAAsB,CAC7C,IAAMmB,EAAkBle,QAAQod,EAAqBC,SAASN,KAC9DyM,EAAajvB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGyL,GAAa,CAAEtL,gBAAAA,GAChE,CACA,GAAIzkB,EAAEgkB,qBAAqBjB,KAA8B/iB,EAAEgkB,qBAAqBf,IAA+B,CAC3G,IAAMkL,EAAkBtB,GAAuBlJ,GAC/CoM,EAAajvB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGyL,GAAa,CAAE5B,gBAAAA,GAChE,CACA,GAAInuB,EAAEgkB,qBAAqBhB,KAAiChjB,EAAEgkB,qBAAqBf,IAA+B,CAC9G,IAAM+M,EAAqBpF,IAC3BmF,EAAajvB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGyL,GAAa,CAAEC,mBAAAA,GAChE,CACA,GAAIhwB,EAAEgkB,qBAAqBb,IAAiC,CACxD,IAAMiL,EAAuBlB,GAA4BvJ,GACzDoM,EAAajvB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGyL,GAAa,CAAE3B,qBAAAA,GAChE,CACA,GAAIpuB,EAAEgkB,qBAAqBlB,UAA2DhhB,IAAhC+B,EAAQ0hB,oBAAmC,CAC7F,IAAMA,EAAsBhf,QAAQod,EAAqBC,SAASd,KAClEiN,EAAajvB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGyL,GAAa,CAAExK,oBAAAA,GAChE,CACA,GAAIvlB,EAAEgkB,qBAAqBd,IAAkB,CACzC,IAAM6B,EAAexe,QAAQod,EAAqBC,SAASV,KAC3D6M,EAAajvB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGyL,GAAa,CAAEhL,aAAAA,GAChE,CAIA,GAHI/kB,EAAEgkB,qBAAqBP,UAAwD3hB,IAArC+B,EAAQyqB,2BAClDyB,EAAajvB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGyL,GAAa,CAAEzB,yBAA4E,gBAAlD3K,EAAqBC,SAASH,OAEpHzjB,EAAEgkB,qBAAqBT,IAAiC,CACxD,IAAMmB,EAA8Bf,EAAqBC,SAASL,IAClEwM,EAAajvB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGyL,GAAa,CAAErL,4BAAAA,GAChE,CACA,GAAI1kB,EAAEgkB,qBAAqBR,IAA2B,CAClD,IAAMmB,EAAwBhB,EAAqBC,SAASJ,IAC5DuM,EAAajvB,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGyL,GAAa,CAAEpL,sBAAAA,GAChE,CACI7jB,OAAO+H,KAAKknB,GAAYnvB,OAAS,GACjC6tB,EAAKzH,cAAc+I,EAE3B,IAAInxB,KAAKkF,kBAAkBmsB,oBAAmB,SAAAjwB,GACtCA,EAAEkwB,YAAYP,IACdlB,EAAKzH,cAAc,CAAEgJ,mBAAoBpF,KAEjD,KACAhsB,KAAKqoB,UAAY,IAAI8C,GAAsB0E,EAAM3tB,OAAOwjB,OAAO,CAAEX,qBAAAA,GAAwB9f,IACzFjF,KAAKgQ,YAAYvM,KAAKzD,KAAKqoB,UAC/B,CAWC,OAXA7oB,EAAAA,EAAAA,GAAA2sB,EAAA,EAAAtsB,IAAA,YAAAwI,IA3GD,WAAkB,OAAOrI,KAAKqoB,UAAUuB,SAAW,GAAC,CAAA/pB,IAAA,gBAAAC,MA4GpD,SAAcmF,QAC+B/B,IAArC+B,EAAQmiB,0BACRpnB,KAAKmnB,wBAAwBljB,MAAMgB,EAAQmiB,yBAEnD,GAAC,CAAAvnB,IAAA,uBAAAC,MACD,SAAqB8nB,GACjB5nB,KAAK6vB,KAAKvN,MAAMsF,GAAiBY,EAAAA,EAAAA,IAAcZ,GAAkBrF,EAAAA,GACrE,GAAC,CAAA1iB,IAAA,UAAAC,MACD,WACIE,KAAKgQ,aAAcvL,EAAAA,EAAAA,IAAQzE,KAAKgQ,YACpC,KAACmc,CAAA,CAvHqB,GAyH1BA,GAAyB1qB,EAAW,CAChCe,EAAQ,EAAGiD,EAAAA,IACXjD,EAAQ,EAAGof,GACXpf,EAAQ,EAAGijB,EAAAA,KACZ0G,IAC2BzsB,EAAAA,EAAS6xB,GAAGC,EAAAA,GAAwBC,eAC5CC,sBAAsB,CACxClxB,GAAI,YACJmxB,MAAO,EACPC,OAAO/uB,EAAAA,EAAAA,IAAS,8BAA+B,aAC/C+N,KAAM,SACNihB,YAAUC,EAAA,IAAAC,EAAAA,EAAAA,GAAAD,EACL9N,EAAgC,CAC7BpT,KAAM,SACNohB,KAAM,CAAC,UAAW,OAClBC,yBAA0B,EACtBpvB,EAAAA,EAAAA,IAAS,8BAA+B,sEACxCA,EAAAA,EAAAA,IAAS,0BAA2B,iEAExCqvB,QAAS,UACTC,aAAatvB,EAAAA,EAAAA,IAAS,CAClBhD,IAAK,sBACLuyB,QAAS,CACL,kFACA,2GAEL,0RACNL,EAAAA,EAAAA,GAAAD,EACA7N,GAAqB,CAClBrT,KAAM,SACNohB,KAAM,CAAC,cAAe,eACtBE,QAAS,cACTC,aAAatvB,EAAAA,EAAAA,IAAS,CAClBhD,IAAK,mBACLuyB,QAAS,CAAC,wGACX,gLACNL,EAAAA,EAAAA,GAAAD,EACA5N,GAAyB,CACtBtT,KAAM,UACNshB,SAAS,EACTC,aAAatvB,EAAAA,EAAAA,IAAS,8BAA+B,sJACxDkvB,EAAAA,EAAAA,GAAAD,EACAxN,GAAkB,CACf1T,KAAM,UACNshB,SAAS,EACTC,aAAatvB,EAAAA,EAAAA,IAAS,oBAAqB,oEAC9CkvB,EAAAA,EAAAA,GAAAD,EACAtN,GAAgB,CACb5T,KAAM,SACNshB,QAAS,EACTG,QAAS,EACTC,QAAS,GACTH,aAAatvB,EAAAA,EAAAA,IAAS,sBAAuB,2CAChDkvB,EAAAA,EAAAA,GAAAD,EACArN,GAA4B,CACzB7T,KAAM,SACNohB,KAAM,CAAC,OAAQ,UAAW,UAC1BE,QAAS,UACTC,aAAatvB,EAAAA,EAAAA,IAAS,4BAA6B,6DACtDkvB,EAAAA,EAAAA,GAAAD,EACApN,GAAsB,CACnB9T,KAAM,UACNshB,SAAS,EACTC,aAAatvB,EAAAA,EAAAA,IAAS,+BAAgC,8DACzDkvB,EAAAA,EAAAA,GAAAD,EACAnN,GAAiC,CAC9B/T,KAAM,SACNshB,QAAS,EACTK,qBAAqB1vB,EAAAA,EAAAA,IAAS,iCAAkC,yFACnEkvB,EAAAA,EAAAA,GAAAD,EACAlN,GAA2B,CACxBhU,KAAM,SACNshB,QAAS,EACTK,qBAAqB1vB,EAAAA,EAAAA,IAAS,0BAA2B,sDAC5DkvB,EAAAA,EAAAA,GAAAD,EACA3N,GAA4B,CACzBvT,KAAM,SACNohB,KAAM,CAAC,YAAa,UACpBQ,iBAAkB,EACd3vB,EAAAA,EAAAA,IAAS,sCAAuC,mHAChDA,EAAAA,EAAAA,IAAS,mCAAoC,oCAEjDqvB,QAAS,YACTC,aAAatvB,EAAAA,EAAAA,IAAS,4BAA6B,2EACtDkvB,EAAAA,EAAAA,GAAAD,EACAzN,GAA+B,CAC5BzT,KAAM,SACNohB,KAAM,CAAC,SAAU,YAAa,UAC9BQ,iBAAkB,EACd3vB,EAAAA,EAAAA,IAAS,sCAAuC,mHAChDA,EAAAA,EAAAA,IAAS,yCAA0C,kKACnDA,EAAAA,EAAAA,IAAS,sCAAuC,gHAEpDqvB,QAAS,YACTC,aAAatvB,EAAAA,EAAAA,IAAS,+BAAgC,qHACtD4vB,YAAY,EACZC,oBAAoB7vB,EAAAA,EAAAA,IAAS,yCAA0C,oGAC1EkvB,EAAAA,EAAAA,GAAAD,EACAvN,GAAiC,CAC9B3T,KAAM,SACNohB,KAAM,CAAC,QAAS,cAChBQ,iBAAkB,EACd3vB,EAAAA,EAAAA,IAAS,uCAAwC,uCACjDA,EAAAA,EAAAA,IAAS,4CAA6C,4CAE1DqvB,QAAS,QACTC,aAAatvB,EAAAA,EAAAA,IAAS,iCAAkC,0FAC3DkvB,EAAAA,EAAAA,GAAAD,EACAjN,GAAiB,CACdjU,KAAM,SACNohB,KAAM,CAAC,cAAe,eACtBE,QAAS,cACTC,aAAatvB,EAAAA,EAAAA,IAAS,cAAe,yKACxCkvB,EAAAA,EAAAA,GAAAD,EACA1N,GAA+B,CAC5BxT,KAAM,SACNohB,KAAM,CAAC,YAAa,WACpBE,QAAS,YACTC,aAAatvB,EAAAA,EAAAA,IAAS,qBAAsB,qLAC/CivB,I,qICl6BEa,E,6GADEC,GAAczzB,E,SAAAA,IAAgB,eAE3C,SAAWwzB,GACPA,EAASA,EAAc,IAAI,GAAK,MAChCA,EAASA,EAAgB,MAAI,GAAK,QAClCA,EAASA,EAAgB,MAAI,GAAK,QAClCA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAkB,QAAI,GAAK,UACpCA,EAASA,EAAgB,MAAI,GAAK,OACrC,CAPD,CAOGA,IAAaA,EAAW,CAAC,IACrB,IAAME,EAAoBF,EAASG,KAC7BC,EAAc,SAAAzf,IAAA1O,EAAAA,EAAAA,GAAAmuB,EAAAzf,GAAA,IAAAzO,GAAAC,EAAAA,EAAAA,GAAAiuB,GACvB,SAAAA,IAAc,IAAA5tB,EAIiD,OAJjD1F,EAAAA,EAAAA,GAAA,KAAAszB,IACV5tB,EAAAN,EAAA0H,MAAA,KAASxK,YACJixB,MAAQH,EACb1tB,EAAK8tB,qBAAuB9tB,EAAKE,UAAU,IAAIuN,EAAAA,IAC/CzN,EAAK+tB,oBAAsB/tB,EAAK8tB,qBAAqBze,MAAMrP,CAC/D,CAYC,OAZA3F,EAAAA,EAAAA,GAAAuzB,EAAA,EAAAlzB,IAAA,WAAAC,MACD,SAASkzB,GACDhzB,KAAKgzB,QAAUA,IACfhzB,KAAKgzB,MAAQA,EACbhzB,KAAKizB,qBAAqB/f,KAAKlT,KAAKgzB,OAE5C,GAAC,CAAAnzB,IAAA,WAAAC,MACD,WACI,OAAOE,KAAKgzB,KAChB,GAAC,CAAAnzB,IAAA,gBAAAC,MACD,SAAckzB,GACV,OAAOhzB,KAAKgzB,QAAUL,EAASQ,KAAOnzB,KAAKgzB,OAASA,CACxD,KAACD,CAAA,CAlBsB,CAAStZ,EAAAA,IAoBvB2Z,EAAa,SAAAC,IAAAzuB,EAAAA,EAAAA,GAAAwuB,EAAAC,GAAA,IAAAztB,GAAAd,EAAAA,EAAAA,GAAAsuB,GACtB,SAAAA,IAA4D,IAAAvtB,EAAhDytB,EAAQvxB,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG8wB,EAAmBU,IAASxxB,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,KAAAA,UAAA,GAGvB,OAH8BtC,EAAAA,EAAAA,GAAA,KAAA2zB,IACtDvtB,EAAAD,EAAAR,KAAA,OACKmuB,UAAYA,EACjB1tB,EAAK2tB,SAASF,GAAUztB,CAC5B,CA2CC,OA3CArG,EAAAA,EAAAA,GAAA4zB,EAAA,EAAAvzB,IAAA,QAAAC,MACD,SAAMiL,GACF,GAAI/K,KAAKyzB,cAAcd,EAAS9mB,OAAQ,SAAAM,EAAApK,UAAAC,OAD1BoK,EAAI,IAAAC,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAJF,EAAIE,EAAA,GAAAvK,UAAAuK,GAEM,IAAAonB,EAGfC,EAHL,GAAI3zB,KAAKuzB,WACLG,EAAAlmB,SAAQ+M,IAAGhO,MAAAmnB,EAAA,CAAC,UAAW,cAAe3oB,GAAOhB,OAAKqC,SAGlDunB,EAAAnmB,SAAQ+M,IAAGhO,MAAAonB,EAAA,CAAC5oB,GAAOhB,OAAKqC,GAEhC,CACJ,GAAC,CAAAvM,IAAA,QAAAC,MACD,SAAMiL,GACF,GAAI/K,KAAKyzB,cAAcd,EAASiB,OAAQ,SAAAnnB,EAAA1K,UAAAC,OAD1BoK,EAAI,IAAAC,MAAAI,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJP,EAAIO,EAAA,GAAA5K,UAAA4K,GAEM,IAAAknB,EAGfC,EAHL,GAAI9zB,KAAKuzB,WACLM,EAAArmB,SAAQ+M,IAAGhO,MAAAsnB,EAAA,CAAC,UAAW,gCAAiC9oB,GAAOhB,OAAKqC,SAGpE0nB,EAAAtmB,SAAQ+M,IAAGhO,MAAAunB,EAAA,CAAC/oB,GAAOhB,OAAKqC,GAEhC,CACJ,GAAC,CAAAvM,IAAA,OAAAC,MACD,SAAKiL,GACD,GAAI/K,KAAKyzB,cAAcd,EAASG,MAAO,SAAAiB,EAAAhyB,UAAAC,OAD1BoK,EAAI,IAAAC,MAAA0nB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ5nB,EAAI4nB,EAAA,GAAAjyB,UAAAiyB,GAEO,IAAAC,EAGfC,EAHL,GAAIl0B,KAAKuzB,WACLU,EAAAzmB,SAAQ+M,IAAGhO,MAAA0nB,EAAA,CAAC,UAAW,cAAelpB,GAAOhB,OAAKqC,SAGlD8nB,EAAA1mB,SAAQ+M,IAAGhO,MAAA2nB,EAAA,CAACnpB,GAAOhB,OAAKqC,GAEhC,CACJ,GAAC,CAAAvM,IAAA,QAAAC,MACD,SAAMiL,GACF,GAAI/K,KAAKyzB,cAAcd,EAASnvB,OAAQ,SAAA2wB,EAAApyB,UAAAC,OAD1BoK,EAAI,IAAAC,MAAA8nB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJhoB,EAAIgoB,EAAA,GAAAryB,UAAAqyB,GAEM,IAAAC,EAGfC,EAHL,GAAIt0B,KAAKuzB,WACLc,EAAA7mB,SAAQ+M,IAAGhO,MAAA8nB,EAAA,CAAC,UAAW,cAAetpB,GAAOhB,OAAKqC,SAGlDkoB,EAAA9mB,SAAQ+mB,MAAKhoB,MAAA+nB,EAAA,CAACvpB,GAAOhB,OAAKqC,GAElC,CACJ,GAAC,CAAAvM,IAAA,UAAAC,MACD,WACI,KACHszB,CAAA,CAhDqB,CAASL,GAkDtByB,EAAe,SAAAC,IAAA7vB,EAAAA,EAAAA,GAAA4vB,EAAAC,GAAA,IAAA7L,GAAA9jB,EAAAA,EAAAA,GAAA0vB,GACxB,SAAAA,EAAYE,GAAS,IAAApd,EAKhB,OALgB7X,EAAAA,EAAAA,GAAA,KAAA+0B,IACjBld,EAAAsR,EAAAxjB,KAAA,OACKsvB,QAAUA,EACXA,EAAQ1yB,QACRsV,EAAKkc,SAASkB,EAAQ,GAAGC,YAC5Brd,CACL,CA+BC,OA/BA9X,EAAAA,EAAAA,GAAAg1B,EAAA,EAAA30B,IAAA,WAAAC,MACD,SAASkzB,GAAO,IACqBnyB,EADrBC,GAAAC,EAAAA,EAAAA,GACSf,KAAK00B,SAAO,IAAjC,IAAA5zB,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAAmC,CAAlBL,EAAAf,MACN0zB,SAASR,EACpB,CAAC,OAAA7xB,GAAAL,EAAAM,EAAAD,EAAA,SAAAL,EAAAO,GAAA,EACDsT,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAA4f,EAAAhkB,WAAA,iBAAApL,KAAA,KAAe4tB,EACnB,GAAC,CAAAnzB,IAAA,QAAAC,MACD,SAAMiL,GAAkB,QAAA6pB,EAAA7yB,UAAAC,OAANoK,EAAI,IAAAC,MAAAuoB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJzoB,EAAIyoB,EAAA,GAAA9yB,UAAA8yB,GAAA,IACeprB,EADfC,GAAA3I,EAAAA,EAAAA,GACGf,KAAK00B,SAAO,IAAjC,IAAAhrB,EAAA1I,MAAAyI,EAAAC,EAAAzI,KAAAC,MAAmC,KAAxB4zB,EAAMrrB,EAAA3J,MACbg1B,EAAOrnB,MAAKlB,MAAZuoB,EAAM,CAAO/pB,GAAOhB,OAAKqC,GAC7B,CAAC,OAAAjL,GAAAuI,EAAAtI,EAAAD,EAAA,SAAAuI,EAAArI,GAAA,CACL,GAAC,CAAAxB,IAAA,QAAAC,MACD,SAAMiL,GAAkB,QAAAgqB,EAAAhzB,UAAAC,OAANoK,EAAI,IAAAC,MAAA0oB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ5oB,EAAI4oB,EAAA,GAAAjzB,UAAAizB,GAAA,IACerrB,EADfC,GAAA7I,EAAAA,EAAAA,GACGf,KAAK00B,SAAO,IAAjC,IAAA9qB,EAAA5I,MAAA2I,EAAAC,EAAA3I,KAAAC,MAAmC,KAAxB4zB,EAAMnrB,EAAA7J,MACbg1B,EAAOG,MAAK1oB,MAAZuoB,EAAM,CAAO/pB,GAAOhB,OAAKqC,GAC7B,CAAC,OAAAjL,GAAAyI,EAAAxI,EAAAD,EAAA,SAAAyI,EAAAvI,GAAA,CACL,GAAC,CAAAxB,IAAA,OAAAC,MACD,SAAKiL,GAAkB,QAAAmqB,EAAAnzB,UAAAC,OAANoK,EAAI,IAAAC,MAAA6oB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ/oB,EAAI+oB,EAAA,GAAApzB,UAAAozB,GAAA,IACgBhrB,EADhBC,GAAArJ,EAAAA,EAAAA,GACIf,KAAK00B,SAAO,IAAjC,IAAAtqB,EAAApJ,MAAAmJ,EAAAC,EAAAnJ,KAAAC,MAAmC,KAAxB4zB,EAAM3qB,EAAArK,MACbg1B,EAAOhgB,KAAIvI,MAAXuoB,EAAM,CAAM/pB,GAAOhB,OAAKqC,GAC5B,CAAC,OAAAjL,GAAAiJ,EAAAhJ,EAAAD,EAAA,SAAAiJ,EAAA/I,GAAA,CACL,GAAC,CAAAxB,IAAA,QAAAC,MACD,SAAMiL,GAAkB,QAAAqqB,EAAArzB,UAAAC,OAANoK,EAAI,IAAAC,MAAA+oB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJjpB,EAAIipB,EAAA,GAAAtzB,UAAAszB,GAAA,IACe5qB,EADfC,GAAA3J,EAAAA,EAAAA,GACGf,KAAK00B,SAAO,IAAjC,IAAAhqB,EAAA1J,MAAAyJ,EAAAC,EAAAzJ,KAAAC,MAAmC,KAAxB4zB,EAAMrqB,EAAA3K,MACbg1B,EAAOP,MAAKhoB,MAAZuoB,EAAM,CAAO/pB,GAAOhB,OAAKqC,GAC7B,CAAC,OAAAjL,GAAAuJ,EAAAtJ,EAAAD,EAAA,SAAAuJ,EAAArJ,GAAA,CACL,GAAC,CAAAxB,IAAA,UAAAC,MACD,WAAU,IAC2ByR,EAD3BE,GAAA1Q,EAAAA,EAAAA,GACef,KAAK00B,SAAO,IAAjC,IAAAjjB,EAAAzQ,MAAAuQ,EAAAE,EAAAxQ,KAAAC,MAAmC,CAAlBqQ,EAAAzR,MACN2E,SACX,CAAC,OAAAtD,GAAAsQ,EAAArQ,EAAAD,EAAA,SAAAsQ,EAAApQ,GAAA,CACL,KAACmzB,CAAA,CAtCuB,CAASzB,GAmDJ,IAAInwB,EAAAA,GAAc,WAX5C,SAA0B0wB,GAC7B,OAAQA,GACJ,KAAKX,EAAS9mB,MAAO,MAAO,QAC5B,KAAK8mB,EAASiB,MAAO,MAAO,QAC5B,KAAKjB,EAASG,KAAM,MAAO,OAC3B,KAAKH,EAAS2C,QAAS,MAAO,OAC9B,KAAK3C,EAASnvB,MAAO,MAAO,QAC5B,KAAKmvB,EAASQ,IAAK,MAAO,MAElC,CAE+DoC,CAAiB5C,EAASG,M,yIClI5E0C,EAAU,SAAAliB,IAAA1O,EAAAA,EAAAA,GAAA4wB,EAAAliB,GAAA,IAAAzO,GAAAC,EAAAA,EAAAA,GAAA0wB,GACnB,SAAAA,EAAYC,GAAkC,IAAAtwB,EAAnBuwB,EAAY3zB,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,GAG2C,OAHzCtC,EAAAA,EAAAA,GAAA,KAAA+1B,IACxCrwB,EAAAN,EAAAO,KAAA,OACK0vB,OAAS,IAAIN,EAAAA,GAAgB,CAACiB,GAAa1rB,QAAAC,EAAAA,EAAAA,GAAK0rB,KACrDvwB,EAAKE,UAAUowB,EAAcvC,qBAAoB,SAAAF,GAAK,OAAI7tB,EAAKquB,SAASR,EAAM,KAAG7tB,CACrF,CAqBC,OArBA3F,EAAAA,EAAAA,GAAAg2B,EAAA,EAAA31B,IAAA,sBAAAwI,IACD,WACI,OAAOrI,KAAK80B,OAAO5B,mBACvB,GAAC,CAAArzB,IAAA,WAAAC,MACD,SAASkzB,GACLhzB,KAAK80B,OAAOtB,SAASR,EACzB,GAAC,CAAAnzB,IAAA,WAAAC,MACD,WACI,OAAOE,KAAK80B,OAAOH,UACvB,GAAC,CAAA90B,IAAA,QAAAC,MACD,SAAMiL,GAAkB,QAAA4qB,EAAAxpB,EAAApK,UAAAC,OAANoK,EAAI,IAAAC,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAJF,EAAIE,EAAA,GAAAvK,UAAAuK,IAClBqpB,EAAA31B,KAAK80B,QAAOrnB,MAAKlB,MAAAopB,EAAA,CAAC5qB,GAAOhB,OAAKqC,GAClC,GAAC,CAAAvM,IAAA,QAAAC,MACD,SAAMiL,GAAkB,QAAA6qB,EAAAnpB,EAAA1K,UAAAC,OAANoK,EAAI,IAAAC,MAAAI,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAJP,EAAIO,EAAA,GAAA5K,UAAA4K,IAClBipB,EAAA51B,KAAK80B,QAAOG,MAAK1oB,MAAAqpB,EAAA,CAAC7qB,GAAOhB,OAAKqC,GAClC,GAAC,CAAAvM,IAAA,OAAAC,MACD,SAAKiL,GAAkB,QAAA8qB,EAAA9B,EAAAhyB,UAAAC,OAANoK,EAAI,IAAAC,MAAA0nB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJ5nB,EAAI4nB,EAAA,GAAAjyB,UAAAiyB,IACjB6B,EAAA71B,KAAK80B,QAAOhgB,KAAIvI,MAAAspB,EAAA,CAAC9qB,GAAOhB,OAAKqC,GACjC,GAAC,CAAAvM,IAAA,QAAAC,MACD,SAAMiL,GAAkB,QAAA+qB,EAAA3B,EAAApyB,UAAAC,OAANoK,EAAI,IAAAC,MAAA8nB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAJhoB,EAAIgoB,EAAA,GAAAryB,UAAAqyB,IAClB0B,EAAA91B,KAAK80B,QAAOP,MAAKhoB,MAAAupB,EAAA,CAAC/qB,GAAOhB,OAAKqC,GAClC,KAACopB,CAAA,CA1BkB,CAAS/b,EAAAA,G,+LCKnBsc,EAAqB,IAAIn1B,IAAI,CAACo1B,EAAAA,GAAQC,SAAUD,EAAAA,GAAQE,oBAAqBF,EAAAA,GAAQG,YAAaH,EAAAA,GAAQI,qBACjHC,EAAiB,WACnB,SAAAA,KAAc52B,EAAAA,EAAAA,GAAA,KAAA42B,GACVr2B,KAAKs2B,YAAc,IAAIC,EAAAA,GACvBv2B,KAAKw2B,SAAW,IAAIzuB,GACxB,CA4CC,OA5CAvI,EAAAA,EAAAA,GAAA62B,EAAA,EAAAx2B,IAAA,MAAAC,MACD,SAAI22B,EAAUC,EAAO52B,GACjB,IAAI62B,EAAW32B,KAAKs2B,YAAYjuB,IAAIouB,GAC/BE,IACDA,EAAW,IAAI5uB,IACf/H,KAAKs2B,YAAYryB,IAAIwyB,EAAUE,IAEnCA,EAAS1yB,IAAIyyB,EAAO52B,GACpB,IAAI82B,EAAc52B,KAAKw2B,SAASnuB,IAAIquB,GAC/BE,IACDA,EAAc,IAAIL,EAAAA,GAClBv2B,KAAKw2B,SAASvyB,IAAIyyB,EAAOE,IAE7BA,EAAY3yB,IAAIwyB,EAAU32B,EAC9B,GAAC,CAAAD,IAAA,MAAAC,MACD,SAAI22B,EAAUC,GACV,IAAMC,EAAW32B,KAAKs2B,YAAYjuB,IAAIouB,GACtC,OAAoB,OAAbE,QAAkC,IAAbA,OAAsB,EAASA,EAAStuB,IAAIquB,EAC5E,GAAC,CAAA72B,IAAA,SAAAC,MACD,SAAO22B,EAAUC,GACb,IAAIG,GAAW,EACXC,GAAW,EACTH,EAAW32B,KAAKs2B,YAAYjuB,IAAIouB,GAClCE,IACAE,EAAWF,EAASntB,OAAOktB,IAE/B,IAAME,EAAc52B,KAAKw2B,SAASnuB,IAAIquB,GAItC,GAHIE,IACAE,EAAWF,EAAYptB,OAAOitB,IAE9BI,IAAaC,EACb,MAAM,IAAItzB,MAAM,iBAEpB,OAAOqzB,GAAYC,CACvB,GAAC,CAAAj3B,IAAA,SAAAC,MACD,SAAOD,GACH,IAAImH,EAAIC,EAAI8vB,EAAIC,EAChB,MAAmB,kBAARn3B,EAC0F,QAAzFoH,EAAuC,QAAjCD,EAAKhH,KAAKw2B,SAASnuB,IAAIxI,UAAyB,IAAPmH,OAAgB,EAASA,EAAGgC,gBAA6B,IAAP/B,EAAgBA,EAAKgwB,EAAAA,EAASC,QAEvIC,EAAAA,EAAIC,MAAMv3B,GAC0F,QAA5Fm3B,EAA0C,QAApCD,EAAK/2B,KAAKs2B,YAAYjuB,IAAIxI,UAAyB,IAAPk3B,OAAgB,EAASA,EAAG/tB,gBAA6B,IAAPguB,EAAgBA,EAAKC,EAAAA,EAASC,QAEvID,EAAAA,EAAShhB,IAAIghB,EAAAA,EAASltB,OAAMwC,MAAf0qB,EAAAA,GAAQjtB,EAAAA,EAAAA,GAAWhK,KAAKw2B,SAASxtB,YAAW,SAAAiN,GAAG,OAAIA,EAAI,EAAE,GACjF,KAACogB,CAAA,CAhDkB,GAkDjBgB,EAAW,WACb,SAAAA,EAAYjqB,IAAS3N,EAAAA,EAAAA,GAAA,KAAA43B,GACjBr3B,KAAKs3B,OAAS,EACdt3B,KAAKu3B,MAAQ,EACbv3B,KAAKw3B,SAAW,EAChBx3B,KAAKy3B,SAAW,EAChBz3B,KAAK03B,MAAQ,IAAInB,EAAAA,GACjBv2B,KAAK23B,SAAWvqB,EAChBpN,KAAK43B,cAAgBxqB,EAAQyqB,gBAAgB73B,KAAK83B,QAAS93B,KAC/D,CAgDC,OAhDAR,EAAAA,EAAAA,GAAA63B,EAAA,EAAAx3B,IAAA,UAAAC,MACD,WACIE,KAAK43B,cAAcnzB,SACvB,GAAC,CAAA5E,IAAA,UAAAC,MACD,SAAQi4B,GAAW,IACiBl3B,EADjBC,GAAAC,EAAAA,EAAAA,GACQg3B,GAAS,IAAhC,IAAAj3B,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAAkC,KAAvBu1B,EAAQ51B,EAAAf,MACTk4B,EAAWh4B,KAAK03B,MAAMrvB,IAAIouB,GAC5BuB,GACAh4B,KAAKi4B,WAAWD,GAEpB,IAAME,EAAWl4B,KAAKm4B,eAAe1B,GACrCz2B,KAAKo4B,KAAKF,GACVl4B,KAAK03B,MAAMzzB,IAAIwyB,EAAUyB,EAC7B,CAAC,OAAA/2B,GAAAL,EAAAM,EAAAD,EAAA,SAAAL,EAAAO,GAAA,CACL,GAAC,CAAAxB,IAAA,iBAAAC,MACD,SAAe22B,GACX,IAAMxqB,EAAS,CAAEqrB,OAAQ,EAAGE,SAAU,EAAGD,MAAO,EAAGE,SAAU,GAE7D,GAAI1B,EAAmBx0B,IAAIk1B,EAAS4B,QAChC,OAAOpsB,EACV,IAC0DxC,EAD1DC,GAAA3I,EAAAA,EAAAA,GAC0Bf,KAAK23B,SAASW,KAAK,CAAE7B,SAAAA,KAAW,IAA3D,IAAA/sB,EAAA1I,MAAAyI,EAAAC,EAAAzI,KAAAC,MAA6D,KAAhDq3B,EAAQ9uB,EAAA3J,MAARy4B,SACLA,IAAaC,EAAAA,GAAeh1B,MAC5ByI,EAAOqrB,QAAU,EAEZiB,IAAaC,EAAAA,GAAelD,QACjCrpB,EAAOurB,UAAY,EAEde,IAAaC,EAAAA,GAAe1F,KACjC7mB,EAAOsrB,OAAS,EAGhBtrB,EAAOwrB,UAAY,CAE3B,CAAC,OAAAt2B,GAAAuI,EAAAtI,EAAAD,EAAA,SAAAuI,EAAArI,GAAA,CACD,OAAO4K,CACX,GAAC,CAAApM,IAAA,aAAAC,MACD,SAAW24B,GACPz4B,KAAKs3B,QAAUmB,EAAGnB,OAClBt3B,KAAKw3B,UAAYiB,EAAGjB,SACpBx3B,KAAKu3B,OAASkB,EAAGlB,MACjBv3B,KAAKy3B,UAAYgB,EAAGhB,QACxB,GAAC,CAAA53B,IAAA,OAAAC,MACD,SAAK24B,GACDz4B,KAAKs3B,QAAUmB,EAAGnB,OAClBt3B,KAAKw3B,UAAYiB,EAAGjB,SACpBx3B,KAAKu3B,OAASkB,EAAGlB,MACjBv3B,KAAKy3B,UAAYgB,EAAGhB,QACxB,KAACJ,CAAA,CAzDY,GA2DJqB,EAAa,WACtB,SAAAA,KAAcj5B,EAAAA,EAAAA,GAAA,KAAAi5B,GACV14B,KAAK24B,iBAAmB,IAAIC,EAAAA,GAAgB,CACxCC,MAAO,EACPC,MAAOJ,EAAcK,SAEzB/4B,KAAK63B,gBAAkB73B,KAAK24B,iBAAiBnkB,MAC7CxU,KAAK03B,MAAQ,IAAIrB,EACjBr2B,KAAKg5B,OAAS,IAAI3B,EAAYr3B,KAClC,CAqKC,OArKAR,EAAAA,EAAAA,GAAAk5B,EAAA,EAAA74B,IAAA,UAAAC,MACD,WACIE,KAAKg5B,OAAOv0B,UACZzE,KAAK24B,iBAAiBl0B,SAC1B,GAAC,CAAA5E,IAAA,SAAAC,MACD,SAAO42B,EAAOqB,GAAW,IACiBpuB,EADjBC,GAAA7I,EAAAA,EAAAA,GACEg3B,GAAa,IAAE,IAAtC,IAAAnuB,EAAA5I,MAAA2I,EAAAC,EAAA3I,KAAAC,MAAwC,KAA7Bu1B,EAAQ9sB,EAAA7J,MACfE,KAAKi5B,UAAUvC,EAAOD,EAAU,GACpC,CAAC,OAAAt1B,GAAAyI,EAAAxI,EAAAD,EAAA,SAAAyI,EAAAvI,GAAA,CACL,GAAC,CAAAxB,IAAA,YAAAC,MACD,SAAU42B,EAAOD,EAAUyC,GACvB,IAAIC,EAAAA,EAAAA,IAAeD,GAAa,CAEZl5B,KAAK03B,MAAMluB,OAAOitB,EAAUC,IAExC12B,KAAK24B,iBAAiBzlB,KAAK,CAACujB,GAEpC,KACK,CAED,IAC6BtsB,EADvBivB,EAAU,GAAGhvB,GAAArJ,EAAAA,EAAAA,GACAm4B,GAAU,IAA7B,IAAA9uB,EAAApJ,MAAAmJ,EAAAC,EAAAnJ,KAAAC,MAA+B,KAApBhB,EAAIiK,EAAArK,MACLu5B,EAASX,EAAcY,UAAU5C,EAAOD,EAAUv2B,GACpDm5B,GACAD,EAAQ31B,KAAK41B,EAErB,CAAC,OAAAl4B,GAAAiJ,EAAAhJ,EAAAD,EAAA,SAAAiJ,EAAA/I,GAAA,CACDrB,KAAK03B,MAAMzzB,IAAIwyB,EAAUC,EAAO0C,GAChCp5B,KAAK24B,iBAAiBzlB,KAAK,CAACujB,GAChC,CACJ,GAAC,CAAA52B,IAAA,YAAAC,MA0BD,SAAU42B,EAAOx2B,GACb,IAAMq5B,EAAU,GAEVC,EAAWx5B,KAAK03B,MAAM1uB,OAAO0tB,GACnC,GAAI8C,EAAU,KACiB/uB,EADjBC,GAAA3J,EAAAA,EAAAA,GACSy4B,GAAQ,IAA3B,IAAA9uB,EAAA1J,MAAAyJ,EAAAC,EAAAzJ,KAAAC,MAA6B,KAAlBhB,EAAIuK,EAAA3K,MACLmR,EAAQgmB,EAAAA,EAAShmB,MAAM/Q,GACzB+Q,IACAsoB,EAAQ91B,KAAKwN,EAAMwlB,UACnBz2B,KAAK03B,MAAMluB,OAAOyH,EAAMwlB,SAAUC,GAE1C,CAAC,OAAAv1B,GAAAuJ,EAAAtJ,EAAAD,EAAA,SAAAuJ,EAAArJ,GAAA,CACL,CAEA,IAAIo4B,EAAAA,EAAAA,IAAgBv5B,GAAO,CAEvB,IACmDqR,EAD7CmoB,EAAS,IAAInD,EAAAA,GAAc9kB,GAAA1Q,EAAAA,EAAAA,GACcb,GAAI,IAAnD,IAAAuR,EAAAzQ,MAAAuQ,EAAAE,EAAAxQ,KAAAC,MAAqD,KAAAwQ,EAAAH,EAAAzR,MAAxC22B,EAAQ/kB,EAAR+kB,SAAkByC,EAAUxnB,EAAlB2nB,OACbA,EAASX,EAAcY,UAAU5C,EAAOD,EAAUyC,GACxD,GAAKG,EAAL,CAIA,IAAMM,EAAQD,EAAOrxB,IAAIouB,GACpBkD,EAKDA,EAAMl2B,KAAK41B,IAJXK,EAAOz1B,IAAIwyB,EAAU,CAAC4C,IACtBE,EAAQ91B,KAAKgzB,GAJjB,CASJ,CACA,OAAAt1B,GAAAsQ,EAAArQ,EAAAD,EAAA,SAAAsQ,EAAApQ,GAAA,KACsCu4B,EADtCC,GAAA94B,EAAAA,EAAAA,GACgC24B,GAAM,IAAtC,IAAAG,EAAA74B,MAAA44B,EAAAC,EAAA54B,KAAAC,MAAwC,KAAA44B,GAAAhwB,EAAAA,EAAAA,GAAA8vB,EAAA95B,MAAA,GAA5B22B,EAAQqD,EAAA,GAAEh6B,EAAKg6B,EAAA,GACvB95B,KAAK03B,MAAMzzB,IAAIwyB,EAAUC,EAAO52B,EACpC,CAAC,OAAAqB,GAAA04B,EAAAz4B,EAAAD,EAAA,SAAA04B,EAAAx4B,GAAA,CACL,CACIk4B,EAAQv3B,OAAS,GACjBhC,KAAK24B,iBAAiBzlB,KAAKqmB,EAEnC,GAAC,CAAA15B,IAAA,OAAAC,MACD,WAAmC,IAA9B+iB,EAAM9gB,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAGG,OAAOuN,OAAO,MAClBinB,EAAsC7T,EAAtC6T,MAAOD,EAA+B5T,EAA/B4T,SAAUsD,EAAqBlX,EAArBkX,WAAYC,EAASnX,EAATmX,KAInC,KAHKA,GAAQA,EAAO,KAChBA,GAAQ,GAERtD,GAASD,EAAU,CAEnB,IAAMv2B,EAAOF,KAAK03B,MAAMrvB,IAAIouB,EAAUC,GACtC,GAAKx2B,EAGA,CACD,IACyB+5B,EADnBhuB,EAAS,GAAGiuB,GAAAn5B,EAAAA,EAAAA,GACGb,GAAI,IAAzB,IAAAg6B,EAAAl5B,MAAAi5B,EAAAC,EAAAj5B,KAAAC,MAA2B,KAAhBm4B,EAAMY,EAAAn6B,MACb,GAAI44B,EAAcyB,QAAQd,EAAQU,GAAa,CAC3C,IAAMK,EAASnuB,EAAOxI,KAAK41B,GAC3B,GAAIW,EAAO,GAAKI,IAAWJ,EACvB,KAER,CACJ,CAAC,OAAA74B,GAAA+4B,EAAA94B,EAAAD,EAAA,SAAA+4B,EAAA74B,GAAA,CACD,OAAO4K,CACX,CAbI,MAAO,EAcf,CACK,GAAKyqB,GAAUD,EAef,CAED,IAE8B4D,EAFxB35B,EAAWV,KAAK03B,MAAM1uB,OAAoB,OAAbytB,QAAkC,IAAbA,EAAsBA,EAAWC,GACnFzqB,EAAS,GAAGquB,GAAAv5B,EAAAA,EAAAA,GACIL,GAAQ,IAA9B,IAAA45B,EAAAt5B,MAAAq5B,EAAAC,EAAAr5B,KAAAC,MAAgC,KACFq5B,EADnBnB,EAAOiB,EAAAv6B,MAAA06B,GAAAz5B,EAAAA,EAAAA,GACKq4B,GAAO,IAA1B,IAAAoB,EAAAx5B,MAAAu5B,EAAAC,EAAAv5B,KAAAC,MAA4B,KAAjBhB,EAAIq6B,EAAAz6B,MACX,GAAI44B,EAAcyB,QAAQj6B,EAAM65B,GAAa,CACzC,IAAMK,EAASnuB,EAAOxI,KAAKvD,GAC3B,GAAI85B,EAAO,GAAKI,IAAWJ,EACvB,OAAO/tB,CAEf,CACJ,CAAC,OAAA9K,GAAAq5B,EAAAp5B,EAAAD,EAAA,SAAAq5B,EAAAn5B,GAAA,CACL,CAAC,OAAAF,GAAAm5B,EAAAl5B,EAAAD,EAAA,SAAAm5B,EAAAj5B,GAAA,CACD,OAAO4K,CACX,CA5BI,IACyCwuB,EADnCxuB,EAAS,GAAGyuB,GAAA35B,EAAAA,EAAAA,GACIf,KAAK03B,MAAM1uB,UAAQ,IAAzC,IAAA0xB,EAAA15B,MAAAy5B,EAAAC,EAAAz5B,KAAAC,MAA2C,KACby5B,EADnBvB,EAAOqB,EAAA36B,MAAA86B,GAAA75B,EAAAA,EAAAA,GACKq4B,GAAO,IAA1B,IAAAwB,EAAA55B,MAAA25B,EAAAC,EAAA35B,KAAAC,MAA4B,KAAjBhB,EAAIy6B,EAAA76B,MACX,GAAI44B,EAAcyB,QAAQj6B,EAAM65B,GAAa,CACzC,IAAMK,EAASnuB,EAAOxI,KAAKvD,GAC3B,GAAI85B,EAAO,GAAKI,IAAWJ,EACvB,OAAO/tB,CAEf,CACJ,CAAC,OAAA9K,GAAAy5B,EAAAx5B,EAAAD,EAAA,SAAAy5B,EAAAv5B,GAAA,CACL,CAAC,OAAAF,GAAAu5B,EAAAt5B,EAAAD,EAAA,SAAAu5B,EAAAr5B,GAAA,CACD,OAAO4K,CAkBf,IAAC,EAAApM,IAAA,YAAAC,MAzHD,SAAiB42B,EAAOD,EAAUv2B,GAC9B,IAAM26B,EAAuH36B,EAAvH26B,KAAMtC,EAAiHr4B,EAAjHq4B,SAAUxtB,EAAuG7K,EAAvG6K,QAAS2O,EAA8FxZ,EAA9FwZ,OAAQohB,EAAsF56B,EAAtF46B,gBAAiBC,EAAqE76B,EAArE66B,YAAaC,EAAwD96B,EAAxD86B,cAAeC,EAAyC/6B,EAAzC+6B,UAAWC,EAA8Bh7B,EAA9Bg7B,mBAAoBC,EAAUj7B,EAAVi7B,KACnH,GAAKpwB,EAQL,MAAO,CACH0rB,SAAAA,EACAC,MAAAA,EACAmE,KAAAA,EACAtC,SAAAA,EACAxtB,QAAAA,EACA2O,OAAAA,EACAohB,gBAXJA,EAAkBA,EAAkB,EAAIA,EAAkB,EAYtDC,YAXJA,EAAcA,EAAc,EAAIA,EAAc,EAY1CC,cAXJA,EAAgBA,GAAiBF,EAAkBE,EAAgBF,EAY/DG,UAXJA,EAAYA,EAAY,EAAIA,EAAYF,EAYpCG,mBAAAA,EACAC,KAAAA,EAER,GAAC,CAAAt7B,IAAA,UAAAC,MAkGD,SAAeu5B,EAAQU,GACnB,YAAsB72B,IAAf62B,IAA6BA,EAAaV,EAAOd,YAAcc,EAAOd,QACjF,GACA,CAAA14B,IAAA,SAAAC,MACA,SAAc+R,GACV,IACuBupB,EADjBn3B,EAAM,IAAIsyB,EAAAA,GAAc8E,GAAAt6B,EAAAA,EAAAA,GACV8Q,GAAG,IAAvB,IAAAwpB,EAAAr6B,MAAAo6B,EAAAC,EAAAp6B,KAAAC,MAAyB,KACGo6B,EADjB3B,EAAKyB,EAAAt7B,MAAAy7B,GAAAx6B,EAAAA,EAAAA,GACO44B,GAAK,IAAxB,IAAA4B,EAAAv6B,MAAAs6B,EAAAC,EAAAt6B,KAAAC,MAA0B,KAAfwN,EAAI4sB,EAAAx7B,MACXmE,EAAIA,IAAIyK,GAAM,EAClB,CAAC,OAAAvN,GAAAo6B,EAAAn6B,EAAAD,EAAA,SAAAo6B,EAAAl6B,GAAA,CACL,CAAC,OAAAF,GAAAk6B,EAAAj6B,EAAAD,EAAA,SAAAk6B,EAAAh6B,GAAA,CACD,OAAOgL,MAAMlD,KAAKlF,EAAIgG,OAC1B,KAACyuB,CAAA,CA9KqB,E,6GClHfF,EAuCAgD,E,kCAtCX,SAAWhD,GACPA,EAAeA,EAAqB,KAAI,GAAK,OAC7CA,EAAeA,EAAqB,KAAI,GAAK,OAC7CA,EAAeA,EAAwB,QAAI,GAAK,UAChDA,EAAeA,EAAsB,MAAI,GAAK,OACjD,CALD,CAKGA,IAAmBA,EAAiB,CAAC,IACxC,SAAWA,GAIPA,EAAeiD,QAHf,SAAiBzuB,EAAGC,GAChB,OAAOA,EAAID,CACf,EAEA,IAAM0uB,EAAkBx5B,OAAOuN,OAAO,MACtCisB,EAAgBlD,EAAeh1B,QAASX,EAAAA,EAAAA,IAAS,YAAa,SAC9D64B,EAAgBlD,EAAelD,UAAWzyB,EAAAA,EAAAA,IAAS,cAAe,WAClE64B,EAAgBlD,EAAe1F,OAAQjwB,EAAAA,EAAAA,IAAS,WAAY,QAI5D21B,EAAehwB,SAHf,SAAkBwE,GACd,OAAO0uB,EAAgB1uB,IAAM,EACjC,EAUAwrB,EAAemD,aARf,SAAsBpD,GAClB,OAAQA,GACJ,KAAKqD,EAAAA,EAASp4B,MAAO,OAAOg1B,EAAeh1B,MAC3C,KAAKo4B,EAAAA,EAAStG,QAAS,OAAOkD,EAAelD,QAC7C,KAAKsG,EAAAA,EAAS9I,KAAM,OAAO0F,EAAe1F,KAC1C,KAAK8I,EAAAA,EAASC,OAAQ,OAAOrD,EAAesD,KAEpD,EAUAtD,EAAeuD,WARf,SAAoBxD,GAChB,OAAQA,GACJ,KAAKC,EAAeh1B,MAAO,OAAOo4B,EAAAA,EAASp4B,MAC3C,KAAKg1B,EAAelD,QAAS,OAAOsG,EAAAA,EAAStG,QAC7C,KAAKkD,EAAe1F,KAAM,OAAO8I,EAAAA,EAAS9I,KAC1C,KAAK0F,EAAesD,KAAM,OAAOF,EAAAA,EAASC,OAElD,CAEH,CA/BD,CA+BGrD,IAAmBA,EAAiB,CAAC,IAExC,SAAWgD,GACP,IAAMQ,EAAc,GAKpB,SAASC,EAAuB/C,EAAYgD,GACxC,IAAMjwB,EAAS,CAAC+vB,GAyDhB,OAxDI9C,EAAWxf,OACXzN,EAAOxI,KAAKy1B,EAAWxf,OAAOyiB,QAAQ,OAAK,WAG3ClwB,EAAOxI,KAAKu4B,GAEZ9C,EAAW2B,KACoB,kBAApB3B,EAAW2B,KAClB5uB,EAAOxI,KAAKy1B,EAAW2B,KAAKsB,QAAQ,OAAK,WAGzClwB,EAAOxI,KAAKy1B,EAAW2B,KAAK/6B,MAAMq8B,QAAQ,OAAK,WAInDlwB,EAAOxI,KAAKu4B,QAEY94B,IAAxBg2B,EAAWX,UAAkD,OAAxBW,EAAWX,SAChDtsB,EAAOxI,KAAK+0B,EAAehwB,SAAS0wB,EAAWX,WAG/CtsB,EAAOxI,KAAKu4B,GAIZ9C,EAAWnuB,SAAWmxB,EACtBjwB,EAAOxI,KAAKy1B,EAAWnuB,QAAQoxB,QAAQ,OAAK,WAG5ClwB,EAAOxI,KAAKu4B,QAEmB94B,IAA/Bg2B,EAAW4B,iBAAgE,OAA/B5B,EAAW4B,gBACvD7uB,EAAOxI,KAAKy1B,EAAW4B,gBAAgBtyB,YAGvCyD,EAAOxI,KAAKu4B,QAEe94B,IAA3Bg2B,EAAW6B,aAAwD,OAA3B7B,EAAW6B,YACnD9uB,EAAOxI,KAAKy1B,EAAW6B,YAAYvyB,YAGnCyD,EAAOxI,KAAKu4B,QAEiB94B,IAA7Bg2B,EAAW8B,eAA4D,OAA7B9B,EAAW8B,cACrD/uB,EAAOxI,KAAKy1B,EAAW8B,cAAcxyB,YAGrCyD,EAAOxI,KAAKu4B,QAEa94B,IAAzBg2B,EAAW+B,WAAoD,OAAzB/B,EAAW+B,UACjDhvB,EAAOxI,KAAKy1B,EAAW+B,UAAUzyB,YAGjCyD,EAAOxI,KAAKu4B,GAEhB/vB,EAAOxI,KAAKu4B,GACL/vB,EAAO/B,KAAK,OACvB,CA5DAsxB,EAAYY,QAHZ,SAAiBlD,GACb,OAAO+C,EAAuB/C,GAAY,EAC9C,EA8DAsC,EAAYS,uBAAyBA,CACxC,CAnED,CAmEGT,IAAgBA,EAAc,CAAC,IAC3B,IAAMa,GAAiBl9B,EAAAA,EAAAA,IAAgB,gB,wJCjHnCy8B,EAAWU,EAAAA,EACTC,GAAuBp9B,EAAAA,EAAAA,IAAgB,uBACvCq9B,GAAgBh9B,EAAAA,EAAAA,IAAA,SAAAg9B,KAAA/8B,EAAAA,EAAAA,GAAA,KAAA+8B,EAAA,G,oLCAzB/6B,EAA0C,SAAUC,EAAYC,EAAQ9B,EAAK+B,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOM,OAAOC,yBAAyBR,EAAQ9B,GAAO+B,EACrH,GAAuB,kBAAZQ,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQ9B,EAAK+B,QACpH,IAAK,IAAIU,EAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAST,EAAIH,EAAWY,MAAIL,GAAKH,EAAI,EAAID,EAAEI,GAAKH,EAAI,EAAID,EAAEF,EAAQ9B,EAAKoC,GAAKJ,EAAEF,EAAQ9B,KAASoC,GAChJ,OAAOH,EAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQ9B,EAAKoC,GAAIA,CAChE,EACIO,EAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUf,EAAQ9B,GAAO6C,EAAUf,EAAQ9B,EAAK4C,EAAa,CACxE,EASWg6B,EAAI,SAAAnpB,IAAA1O,EAAAA,EAAAA,GAAA63B,EAAAnpB,GAAA,IAAAzO,GAAAC,EAAAA,EAAAA,GAAA23B,GAuBX,SAAAA,EAAY13B,EAAW23B,GAAoC,IAAAv3B,EACnD6B,EADsB/B,EAAOlD,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAG46B,EAAa56B,UAAAC,OAAA,EAAAD,UAAA,QAAAmB,GAAAzD,EAAAA,EAAAA,GAAA,KAAAg9B,IAErDt3B,EAAAN,EAAAO,KAAA,OACKs3B,MAAQA,EACbv3B,EAAKy3B,UAAW,EAChBz3B,EAAK03B,IAAKC,EAAAA,EAAAA,QAAO/3B,GAAWg4B,EAAAA,EAAAA,GAAE,gBAAiB,CAC3CC,SAAoC,QAAzBh2B,EAAK01B,EAAMM,gBAA6B,IAAPh2B,EAAgBA,EAAK,EACjEi2B,KAAMP,EAAMO,KACZrL,MAAO8K,EAAM9K,OACd8K,EAAMhmB,QACTvR,EAAK03B,GAAGK,aAAa,OAAQ,UAC7B,IAAMC,EAAiBh4B,EAAKE,UAAU,IAAI+3B,EAAAA,EAAWj4B,EAAK03B,GAAI,UACxDQ,EAAal4B,EAAKE,UAAU,IAAI+3B,EAAAA,EAAWj4B,EAAK03B,GAAI,aACpDS,EAAe7oB,EAAAA,GAAM8oB,MAAMF,EAAW7oB,OACvCyB,KAAI,SAAA7U,GAAC,OAAI,IAAIo8B,EAAAA,EAAsBp8B,EAAE,IACrCyhB,QAAO,SAAAzhB,GAAC,OAAkB,IAAdA,EAAEoY,OAAa,IAC3BhF,MACCipB,EAAQt4B,EAAKE,UAAU,IAAI+3B,EAAAA,EAAWj4B,EAAK03B,GAAIa,EAAAA,EAAeC,MAAMnpB,MAC1ErP,EAAKE,UAAUu4B,EAAAA,EAAQC,UAAU14B,EAAK03B,KACtC,IAAMiB,EAASrpB,EAAAA,GAAMspB,IAAIZ,EAAe3oB,MAAO8oB,EAAcG,GAazC,OAZpBt4B,EAAKE,UAAUy4B,GAAO,SAAA18B,GACb+D,EAAK8R,UAGV+mB,EAAAA,YAAYxxB,KAAKpL,GAAG,IACJ,OAAZ6D,QAAgC,IAAZA,OAAqB,EAASA,EAAQg5B,QAC1Dh5B,EAAQg5B,OAAO94B,EAAKu3B,MAAMO,MAG1BN,EAAcuB,KAAK/4B,EAAKu3B,MAAMO,KAAM,CAAEkB,eAAe,IAE7D,KACAh5B,EAAK8R,SAAU,EAAK9R,CACxB,CAlCC,OAkCA3F,EAAAA,EAAAA,GAAAi9B,EAAA,EAAA58B,IAAA,UAAAwI,IAvDD,WACI,OAAOrI,KAAK48B,QAChB,EAAC34B,IACD,SAAYgT,GACJA,GACAjX,KAAK68B,GAAGK,aAAa,gBAAiB,SACtCl9B,KAAK68B,GAAGG,SAAW,EACnBh9B,KAAK68B,GAAGva,MAAM8b,cAAgB,OAC9Bp+B,KAAK68B,GAAGva,MAAM+b,QAAU,IACxBr+B,KAAK68B,GAAGva,MAAMgc,OAAS,UACvBt+B,KAAK48B,UAAW,IAGhB58B,KAAK68B,GAAGK,aAAa,gBAAiB,QACtCl9B,KAAK68B,GAAGG,UAAY,EACpBh9B,KAAK68B,GAAGva,MAAM8b,cAAgB,OAC9Bp+B,KAAK68B,GAAGva,MAAM+b,QAAU,MACxBr+B,KAAK68B,GAAGva,MAAMgc,OAAS,UACvBt+B,KAAK48B,UAAW,GAEpB58B,KAAK48B,SAAW3lB,CACpB,KAACwlB,CAAA,CAtBU,CAAsBhjB,EAAAA,IA0DrCgjB,EAAOh7B,EAAW,CACde,EAAQ,EAAG+7B,EAAAA,KACZ9B,E,2JC1EU8B,GAAiBp/B,E,SAAAA,IAAgB,iBACvC,SAASq/B,EAAc78B,EAAQ02B,GAClC,OAAIlB,EAAAA,EAAIC,MAAMz1B,IACH88B,EAAAA,EAAAA,IAAiB98B,EAAO02B,OAAQA,IAGhCqG,EAAAA,EAAAA,IAAqB/8B,EAAQ02B,EAAS,IAErD,CACO,SAASsG,EAAkBh9B,GAAoB,QAAAwK,EAAApK,UAAAC,OAAT48B,EAAO,IAAAvyB,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAPsyB,EAAOtyB,EAAA,GAAAvK,UAAAuK,GAChD,OAAOsyB,EAAQpc,MAAK,SAAA6V,GAAM,OAAImG,EAAc78B,EAAQ02B,EAAO,GAC/D,CAWO,SAASwG,EAAiB/rB,GAC7B,IAAIgV,OAAY5kB,EACV47B,EAAQ,4CAA4CC,KAAKjsB,EAAIksB,UAUnE,OATIF,IACAhX,EAAY,CACRgT,gBAAiBmE,SAASH,EAAM,IAChC/D,YAAa+D,EAAM,GAAKG,SAASH,EAAM,IAAM,EAC7C9D,cAAe8D,EAAM,GAAKG,SAASH,EAAM,SAAM57B,EAC/C+3B,UAAW6D,EAAM,GAAMA,EAAM,GAAKG,SAASH,EAAM,IAAM,OAAK57B,GAEhE4P,EAAMA,EAAIosB,KAAK,CAAEF,SAAU,MAExB,CAAElX,UAAAA,EAAWhV,IAAAA,EACxB,C,8ICzCaqsB,GAAmBhgC,EAAAA,EAAAA,IAAgB,mBAMnCigC,GALsBl9B,OAAOm9B,OAAO,CAC7CC,MAAK,WAAK,EACVC,OAAM,WAAK,EACXr+B,KAAI,WAAK,IAEQ,WACjB,SAAAk+B,EAAYtvB,IAAUrQ,EAAAA,EAAAA,GAAA,KAAA2/B,GAClBp/B,KAAK8P,SAAWA,CACpB,CAIC,OAJAtQ,EAAAA,EAAAA,GAAA4/B,EAAA,EAAAv/B,IAAA,SAAAC,MACD,SAAO4O,GACH1O,KAAKw/B,OAAS9wB,EACd1O,KAAK8P,SAAS9P,KAAKw/B,OACvB,KAACJ,CAAA,CAPgB,IASrBA,EAAS1qB,KAAOxS,OAAOm9B,OAAO,CAAEI,OAAM,WAAK,IACpC,IAAMC,GAAyBvgC,EAAAA,EAAAA,IAAgB,wB,0DCA3CwgC,E,iPAbPC,EAAwC,SAAU7vB,EAAS8vB,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAU5pB,EAAS6pB,GAC/C,SAASC,EAAUpgC,GAAS,IAAMqgC,EAAKJ,EAAUK,KAAKtgC,GAAS,CAAE,MAAOsB,GAAK6+B,EAAO7+B,EAAI,CAAE,CAC1F,SAASi/B,EAASvgC,GAAS,IAAMqgC,EAAKJ,EAAiB,MAAEjgC,GAAS,CAAE,MAAOsB,GAAK6+B,EAAO7+B,EAAI,CAAE,CAC7F,SAAS++B,EAAKl0B,GAJlB,IAAenM,EAIamM,EAAO/K,KAAOkV,EAAQnK,EAAOnM,QAJ1CA,EAIyDmM,EAAOnM,MAJhDA,aAAiBggC,EAAIhgC,EAAQ,IAAIggC,GAAE,SAAU1pB,GAAWA,EAAQtW,EAAQ,KAIjBmZ,KAAKinB,EAAWG,EAAW,CAC7GF,GAAMJ,EAAYA,EAAUxzB,MAAMwD,EAAS8vB,GAAc,KAAKO,OAClE,GACJ,EAwBA,SAASE,EAAkBpwB,GACvB,IAAMb,EAAYa,EAClB,OAAO7D,MAAM4R,QAAQ5O,EAAUsM,MACnC,CACA,SAAS4kB,EAAmBrwB,GACxB,IAAMb,EAAYa,EAClB,QAASb,EAAUmxB,OAASnxB,EAAUoxB,2BAA2BT,OACrE,EAzBA,SAAWL,GAIPA,EAAcA,EAAyB,UAAI,GAAK,YAIhDA,EAAcA,EAA4B,aAAI,GAAK,eAInDA,EAAcA,EAA8B,eAAI,GAAK,iBAIrDA,EAAcA,EAA2B,YAAI,GAAK,aACrD,CAjBD,CAiBGA,IAAkBA,EAAgB,CAAC,IAS/B,IAAMe,EAAyB,SAAAptB,IAAA1O,EAAAA,EAAAA,GAAA87B,EAAAptB,GAAA,IAAAzO,GAAAC,EAAAA,EAAAA,GAAA47B,GAClC,SAAAA,EAAYlvB,EAAQvM,GAAS,IAAAE,EAGF,OAHE1F,EAAAA,EAAAA,GAAA,KAAAihC,IACzBv7B,EAAAN,EAAAO,KAAA,OACKoM,OAASA,EACdrM,EAAKF,QAAUA,EAAQE,CAC3B,CAyNC,OAzNA3F,EAAAA,EAAAA,GAAAkhC,EAAA,EAAA7gC,IAAA,UAAAC,MACD,SAAQ6gC,EAAQC,EAAOC,GAAY,IAC3B75B,EAD2BnB,EAAA,KAEzBmK,EAAc,IAAIrM,EAAAA,GAExBg9B,EAAOG,yBAAmD,QAAvB95B,EAAKhH,KAAKiF,eAA4B,IAAP+B,OAAgB,EAASA,EAAG85B,uBAE9FH,EAAOI,aAAeJ,EAAOK,mBAAqBL,EAAOM,cAAgBN,EAAOO,aAAc,EAE9F,IAAIC,OAAWj+B,EACTk+B,EAAkBpxB,EAAYrQ,IAAI,IAAI0hC,EAAAA,IACtCC,EAAoB,WAAH,OAAS1B,EAAU/5B,OAAM,OAAQ,GAAM07B,EAAAA,EAAAA,KAAAC,MAAE,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA1qB,EAAA,YAAAiqB,EAAAA,EAAAA,KAAAU,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA9B,MAAA,OAuH5D,GAtHMsB,EAAmBN,EAAgBthC,MAAQ,IAAI6D,EAAAA,GAExC,OAAbw9B,QAAkC,IAAbA,GAA+BA,EAAS18B,SAAQ,GACrEk8B,EAAOyB,MAAO,EAEdjB,EAAW,IAAIkB,EAAAA,EAAwBzB,GAEjCe,EAAaR,EAASP,MACtBgB,EAAcjB,EAAO7gC,MAAMmf,OAAOjf,KAAKwR,OAAOxP,QAAQsgC,OACtDT,EAAgB7hC,KAAKuiC,UAAUX,EAAaF,EAAkBC,EAAYd,GAC1EiB,EAAa,SAACtB,EAAOgC,GACvB,IAAIx7B,EACA2U,EACA8mB,OAAav/B,EAQjB,GAPIo9B,EAAkBE,IAClB7kB,EAAQ6kB,EAAM7kB,MACd8mB,EAAajC,EAAMkC,QAGnB/mB,EAAQ6kB,EAES,IAAjB7kB,EAAM3Z,OAAc,CACpB,GAAIwgC,EACA,OAAO,GAGNZ,EAAY5/B,OAAS,GAAK2+B,EAAOgC,aAAuC,QAAvB37B,EAAKsQ,EAAKrS,eAA4B,IAAP+B,OAAgB,EAASA,EAAG47B,iBAEzGjnB,GADAknB,EAAAA,EAAAA,IAAWvrB,EAAKrS,QAAQ29B,eAChB,CAACtrB,EAAKrS,QAAQ29B,cAAchB,IAG5B,CAACtqB,EAAKrS,QAAQ29B,eAGlC,CAKA,OAJAjC,EAAOhlB,MAAQA,EACX8mB,IACA9B,EAAOmC,YAAc,CAACL,KAEnB,CACX,EACMV,EAAwB,SAACgB,GAAgB,OAAKnD,EAAUtoB,OAAM,OAAQ,GAAMiqB,EAAAA,EAAAA,KAAAC,MAAE,SAAAwB,IAAA,IAAAC,EAAAC,EAAArrB,EAAA,YAAA0pB,EAAAA,EAAAA,KAAAU,MAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAA/C,MAAA,OAGhF,OAFI6C,GAAmB,EACnBC,GAAmB,EAAKC,EAAA/C,KAAA,EACtBJ,QAAQnuB,IAAI,CAMP+tB,EAAU/nB,OAAM,OAAQ,GAAM0pB,EAAAA,EAAAA,KAAAC,MAAE,SAAA4B,IAAA,OAAA7B,EAAAA,EAAAA,KAAAU,MAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjD,MAAA,UACQ,kBAAhC2C,EAAiBO,WAAuB,CAAAD,EAAAjD,KAAA,QAC/C,OAD+CiD,EAAAjD,KAAA,GACzCmD,EAAAA,EAAAA,IAAQR,EAAiBO,YAAW,WACtC3B,EAAW6B,wBAAyB,CAAFH,EAAAjD,KAAA,eAAAiD,EAAAI,OAAA,iBAIrCP,IACDD,EAAmBnB,EAAWiB,EAAiBvC,OAAO,IACzD,wBAAA6C,EAAA72B,OAAA,GAAA42B,EAAA,KAKExD,EAAU/nB,OAAM,OAAQ,GAAM0pB,EAAAA,EAAAA,KAAAC,MAAE,SAAAkC,IAAA,IAAAC,EAAAnD,EAAAoD,EAAAnD,EAAAoD,EAAAC,EAAAC,EAAA,OAAAxC,EAAAA,EAAAA,KAAAU,MAAA,SAAA+B,GAAA,cAAAA,EAAA7B,KAAA6B,EAAA5D,MAAA,OAGA,OAFnCO,EAAOyB,MAAO,EAAK4B,EAAA7B,KAAA,EAAA6B,EAAA5D,KAAA,EAEsB2C,EAAiBtC,gBAAe,OAAzC,GAAtBkD,EAAsBK,EAAAC,MACxBtC,EAAW6B,wBAAyB,CAAFQ,EAAA5D,KAAA,eAAA4D,EAAAP,OAAA,iBAIlCG,OAAa1gC,EACbo9B,EAAkByC,EAAiBvC,QACnCA,EAAQuC,EAAiBvC,MAAM7kB,MAC/BioB,EAAab,EAAiBvC,MAAMkC,QAGpClC,EAAQuC,EAAiBvC,MAGzBqD,OAAuB3gC,EACvBo9B,EAAkBqD,IAClBlD,EAAkBkD,EAAuBhoB,MACzCkoB,EAAuBF,EAAuBjB,QAG9CjC,EAAkBkD,GAElBlD,EAAgBz+B,OAAS,IAAMihC,KAO3Ba,OAAqB5gC,EACpB0gC,GAAeC,IACVE,EAA8BpD,EAAOmC,YAAY,MAC4B,IAAhDtC,EAAMh8B,QAAQu/B,KAC7CD,EAAqBC,GAG7BjC,EAAW,CACPnmB,MAAO,GAAF5R,QAAAC,EAAAA,EAAAA,GAAMw2B,IAAKx2B,EAAAA,EAAAA,GAAKy2B,IACrBiC,OAAQkB,GAAcC,GAAwBC,KAErD,QAMuB,OANvBE,EAAA7B,KAAA,GAGIR,EAAW6B,0BACZ7C,EAAOyB,MAAO,GAElBc,GAAmB,EAAKc,EAAAE,OAAA,6BAAAF,EAAAx3B,OAAA,GAAAk3B,EAAA,yBAGlC,wBAAAP,EAAA32B,OAAA,GAAAw2B,EAAA,IACJ,EAEoB,OAAlBnB,EAAsB,CAAAK,EAAA9B,KAAA,SAAA8B,EAAA9B,KAAA,qBAIjBG,EAAmBsB,GAAgB,CAAFK,EAAA9B,KAAA,SACtC,OADsC8B,EAAA9B,KAAA,GAChC2B,EAAsBF,GAAc,QAAAK,EAAA9B,KAAA,oBAGnCyB,aAAyB7B,QAAO,CAAAkC,EAAA9B,KAAA,SACvC0B,EAAWD,GAAeK,EAAA9B,KAAA,iBAMD,OAFzBO,EAAOyB,MAAO,EAAKF,EAAAC,KAAA,GAAAD,EAAA9B,KAAA,GAEYyB,EAAa,QAAtB,GAAZG,EAAYE,EAAA+B,MACdtC,EAAW6B,wBAAyB,CAAFtB,EAAA9B,KAAA,gBAAA8B,EAAAuB,OAAA,sBAGlClD,EAAmByB,GAAe,CAAFE,EAAA9B,KAAA,SAChC,OADgC8B,EAAA9B,KAAA,GAC1B2B,EAAsBC,GAAa,QAAAE,EAAA9B,KAAA,iBAGzC0B,EAAWE,GAAc,QAM5B,OAN4BE,EAAAC,KAAA,GAIxBR,EAAW6B,0BACZ7C,EAAOyB,MAAO,GACjBF,EAAAgC,OAAA,6BAAAhC,EAAA11B,OAAA,GAAAi1B,EAAA,uBAGX,EAqDF,OApDAzxB,EAAYrQ,IAAIghC,EAAOwD,kBAAiB,kBAAM7C,GAAmB,KACjEA,IAEAtxB,EAAYrQ,IAAIghC,EAAOyD,aAAY,SAAA5vB,GAC/B,IAAO9F,GAAP5E,EAAAA,EAAAA,GAAe62B,EAAO0D,cAAa,GAAxB,GAC8D,oBAApD,OAAT31B,QAA0B,IAATA,OAAkB,EAASA,EAAK41B,UACpD9vB,EAAM+vB,cACP5D,EAAO6D,OAEX91B,EAAK41B,OAAO3D,EAAO8D,QAASjwB,GAEpC,KAEAxE,EAAYrQ,IAAIghC,EAAO+D,wBAAuB,SAAAxuB,GAAA,IAAGsU,EAAMtU,EAANsU,OAAQ9b,EAAIwH,EAAJxH,KAAI,OAAOkxB,EAAU/5B,OAAM,OAAQ,GAAM07B,EAAAA,EAAAA,KAAAC,MAAE,SAAAmD,IAAA,IAAA19B,EAAA8vB,EAAA6N,EAAA34B,EAAA44B,EAAAv8B,EAAAqT,EAAAmpB,EAAAhC,EAAAiC,EAAA,OAAAxD,EAAAA,EAAAA,KAAAU,MAAA,SAAA+C,GAAA,cAAAA,EAAA7C,KAAA6C,EAAA5E,MAAA,UAEpE,oBAAjB1xB,EAAKu2B,QAAsB,CAAAD,EAAA5E,KAAA,SACwG,MAApIwE,EAAqG,QAAtF7N,EAA6B,QAAvB9vB,EAAKyH,EAAKw2B,eAA4B,IAAPj+B,OAAgB,EAASA,EAAGzC,QAAQgmB,UAA4B,IAAPuM,EAAgBA,GAAM,IACtH,GAAC,CAAAiO,EAAA5E,KAAA,SACwC,GACtB,kBAD5Bn0B,EAASyC,EAAKu2B,QAAQL,EAAajE,EAAO8D,UACN,CAAAO,EAAA5E,KAAA,QAAA4E,EAAAG,GAAIl5B,EAAM+4B,EAAA5E,KAAA,gBAAG,OAAH4E,EAAA5E,KAAA,GAASn0B,EAAM,QAAA+4B,EAAAG,GAAAH,EAAAf,KAAA,QAAvD,GAANY,EAAMG,EAAAG,IACRvE,EAAM4C,wBAAyB,CAAFwB,EAAA5E,KAAA,gBAAA4E,EAAAvB,OAAA,kBAAAuB,EAAAI,GAGzBP,EAAMG,EAAA5E,KAAA4E,EAAAI,KACLzF,EAAc0F,UAAS,GAAAL,EAAAI,KAEvBzF,EAAc2F,aAAY,GAAAN,EAAAI,KAG1BzF,EAAc4F,eAAc,GAAAP,EAAAI,KAG5BzF,EAAc6F,YAAW,2BAAAR,EAAAvB,OAAA,oBALZ,OAAd9C,EAAO6D,OAAOQ,EAAAvB,OAAA,oBAGM,OAApBnC,IAAoB0D,EAAAvB,OAAA,oBAenB,OAXc,KADTn7B,EAAQq4B,EAAOhlB,MAAMnX,QAAQkK,MAEzBiN,EAAQglB,EAAOhlB,MAAMhO,QACrBm3B,EAAUnpB,EAAMpX,OAAO+D,EAAO,GAC9Bw6B,EAAcnC,EAAOmC,YAAYjgB,QAAO,SAAA4f,GAAU,OAAIA,IAAeqC,EAAQ,EAAE,IAC/EC,EAA2BpE,EAAO8E,mBACxC9E,EAAO8E,oBAAqB,EAC5B9E,EAAOhlB,MAAQA,EACXmnB,IACAnC,EAAOmC,YAAcA,GAEzBnC,EAAO8E,mBAAqBV,GAC/BC,EAAAvB,OAAA,qCAAAuB,EAAAx4B,OAAA,GAAAm4B,EAAA,IAMnB,KACK30B,CACX,KAAC0wB,CAAA,CA9NiC,CAASjnB,EAAAA,I,sBCxC3ChY,EAA0C,SAAUC,EAAYC,EAAQ9B,EAAK+B,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOM,OAAOC,yBAAyBR,EAAQ9B,GAAO+B,EACrH,GAAuB,kBAAZQ,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQ9B,EAAK+B,QACpH,IAAK,IAAIU,EAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAST,EAAIH,EAAWY,MAAIL,GAAKH,EAAI,EAAID,EAAEI,GAAKH,EAAI,EAAID,EAAEF,EAAQ9B,EAAKoC,GAAKJ,EAAEF,EAAQ9B,KAASoC,GAChJ,OAAOH,EAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQ9B,EAAKoC,GAAIA,CAChE,EACIO,EAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUf,EAAQ9B,GAAO6C,EAAUf,EAAQ9B,EAAK4C,EAAa,CACxE,EACIm9B,EAAwC,SAAU7vB,EAAS8vB,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAU5pB,EAAS6pB,GAC/C,SAASC,EAAUpgC,GAAS,IAAMqgC,EAAKJ,EAAUK,KAAKtgC,GAAS,CAAE,MAAOsB,GAAK6+B,EAAO7+B,EAAI,CAAE,CAC1F,SAASi/B,EAASvgC,GAAS,IAAMqgC,EAAKJ,EAAiB,MAAEjgC,GAAS,CAAE,MAAOsB,GAAK6+B,EAAO7+B,EAAI,CAAE,CAC7F,SAAS++B,EAAKl0B,GAJlB,IAAenM,EAIamM,EAAO/K,KAAOkV,EAAQnK,EAAOnM,QAJ1CA,EAIyDmM,EAAOnM,MAJhDA,aAAiBggC,EAAIhgC,EAAQ,IAAIggC,GAAE,SAAU1pB,GAAWA,EAAQtW,EAAQ,KAIjBmZ,KAAKinB,EAAWG,EAAW,CAC7GF,GAAMJ,EAAYA,EAAUxzB,MAAMwD,EAAS8vB,GAAc,KAAKO,OAClE,GACJ,EAgBWsF,EAAmC,SAAAC,IAAA/gC,EAAAA,EAAAA,GAAA8gC,EAAAC,GAAA,IAAA9gC,GAAAC,EAAAA,EAAAA,GAAA4gC,GAC1C,SAAAA,EAAYzgC,EAASyhB,EAAsB3f,EAAmB6+B,EAAgBC,EAAkBC,GAAe,IAAA3gC,EAQpF,OARoF1F,EAAAA,EAAAA,GAAA,KAAAimC,IAC3GvgC,EAAAN,EAAAO,KAAA,KAAMsgC,EAAoCK,OAAQ9gC,IAC7CyhB,qBAAuBA,EAC5BvhB,EAAK4B,kBAAoBA,EACzB5B,EAAKygC,eAAiBA,EACtBzgC,EAAK0gC,iBAAmBA,EACxB1gC,EAAK2gC,cAAgBA,EACrB3gC,EAAK6gC,gBAAkB7gC,EAAKE,UAAUF,EAAKuhB,qBAAqBuf,eAAeC,IAC/E/gC,EAAKF,QAAUA,EAAQE,CAC3B,CAsIC,OAtIA3F,EAAAA,EAAAA,GAAAkmC,EAAA,EAAA7lC,IAAA,YAAAC,MACD,SAAU+iB,EAAQsjB,EAAcvF,EAAOC,GACnC,IAAI75B,EAAIC,EACR,OAAO24B,EAAU5/B,UAAM,OAAQ,GAAMuhC,EAAAA,EAAAA,KAAAC,MAAE,SAAAkC,IAAA,IAAA0C,EAAAC,EAAAvlC,EAAAD,EAAAylC,EAAAC,EAAAC,EAAAC,EAAAr0B,EAAAs0B,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAzkC,EAAA0kC,EAAAnhC,EAAA,YAAA07B,EAAAA,EAAAA,KAAAU,MAAA,SAAA+B,GAAA,cAAAA,EAAA7B,KAAA6B,EAAA5D,MAAA,OAEX,OAFW4D,EAAA5D,KAAA,EAELpgC,KAAKinC,gBAAgBrG,GAAM,OAApC,GAAfwF,EAAepC,EAAAC,MACjBrD,EAAM4C,wBAAyB,CAAFQ,EAAA5D,KAAA,eAAA4D,EAAAP,OAAA,SACtB,IAAE,OAGP4C,EAAuB,GAAEvlC,GAAAC,EAAAA,EAAAA,GACLqlC,GAAe,IAAzC,IAAAtlC,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAAWylC,EAAW9lC,EAAAf,MACZymC,GAAkBW,EAAAA,EAAAA,IAAoBxB,EAAoCyB,YAAYtkB,EAAQ8jB,EAAYjwB,QAC1G8vB,EAAkBG,EAAYS,cAAeF,EAAAA,EAAAA,IAAoBxB,EAAoCyB,YAAYtkB,EAAQ8jB,EAAYS,oBAAiBlkC,EAExJqjC,GAAmBC,GACnBG,EAAYU,WAAa,CACrB3wB,MAAO6vB,EACPntB,OAAQpZ,KAAKiF,QAAQqiC,UAAYd,OAAkBtjC,GAEvDmjC,EAAqB5iC,KAAKkjC,IAGrB9jB,IAAW8jB,EAAY1xB,WAC5BoxB,EAAqB5iC,KAAKkjC,EAGlC,OAAAxlC,GAAAL,EAAAM,EAAAD,EAAA,SAAAL,EAAAO,GAAA,CAEA,IADMolC,EAAoB,IAAI1+B,IAC9BqK,EAAA,EAAAs0B,EAA0BL,EAAoBj0B,EAAAs0B,EAAA1kC,OAAAoQ,IAAnCu0B,EAAWD,EAAAt0B,IACZw0B,EAA0BH,EAAkBp+B,IAAIs+B,EAAYjwB,SAE9DiwB,EAAYxU,YAAcwU,EAAY1xB,UACtC2xB,EAAwBzU,YAAcyU,EAAwB3xB,WAG9DwxB,EAAkBxiC,IAAI0iC,EAAYjwB,MAAOiwB,GAmCjD,IA/BAN,EAAqBt5B,MAAK,SAACw6B,EAAcC,GACrC,IAAMC,EAAkB5hC,EAAKmgC,gBAAgB0B,KAAKH,EAAatyB,WACzD0yB,EAAkB9hC,EAAKmgC,gBAAgB0B,KAAKF,EAAavyB,WAC/D,GAAIwyB,GAAmBE,EACnB,OAAOF,EAAkBE,GAAmB,EAAI,EAEpD,GAAIF,EACA,OAAQ,EAEZ,GAAIE,EACA,OAAO,EAEX,GAAI9hC,EAAKZ,QAAQ2iC,oBAAqB,CAClC,IAAMC,EAAqBhiC,EAAKZ,QAAQ2iC,oBAAoBrmC,IAAIgmC,EAAatyB,WACvE6yB,EAAqBjiC,EAAKZ,QAAQ2iC,oBAAoBrmC,IAAIimC,EAAavyB,WAC7E,GAAI4yB,GAAsBC,EACtB,OAAO,EAEX,GAAID,EACA,OAAQ,EAEZ,GAAIC,EACA,OAAO,CAEf,CAEA,OAAOP,EAAa7wB,MAAMqxB,cAAcP,EAAa9wB,MACzD,IACMmwB,EAAe,GACjBC,GAAoB,EACpBC,IAA6B/mC,KAAKiF,QAAQ2iC,oBACrCtlC,EAAI,EAAGA,EAAI+jC,EAAqBrkC,OAAQM,IACvCqkC,EAAcN,EAAqB/jC,GAE/B,IAANA,GAAWtC,KAAKgmC,gBAAgB0B,KAAKf,EAAY1xB,aACjD4xB,EAAapjC,KAAK,CAAEmN,KAAM,YAAa8F,OAAO7T,EAAAA,EAAAA,IAAS,eAAgB,mBACvEikC,GAAoB,GAGpBC,IAA6B/mC,KAAKgmC,gBAAgB0B,KAAKf,EAAY1xB,aAA2D,QAA3CjO,EAAKhH,KAAKiF,QAAQ2iC,2BAAwC,IAAP5gC,OAAgB,EAASA,EAAGzF,IAAIolC,EAAY1xB,cAClL4xB,EAAapjC,KAAK,CAAEmN,KAAM,YAAa8F,OAAO7T,EAAAA,EAAAA,IAAS,eAAgB,mBACvEikC,GAAoB,EACpBC,GAA2B,IAG3BD,GAAsB9mC,KAAKgmC,gBAAgB0B,KAAKf,EAAY1xB,aAA4D,QAA3ChO,EAAKjH,KAAKiF,QAAQ2iC,2BAAwC,IAAP3gC,OAAgB,EAASA,EAAG1F,IAAIolC,EAAY1xB,cAC5K4xB,EAAapjC,KAAK,CAAEmN,KAAM,YAAa8F,OAAO7T,EAAAA,EAAAA,IAAS,gBAAiB,oBACxEikC,GAAoB,GAGxBD,EAAapjC,KAAKzD,KAAKgoC,cAAcrB,EAAa9F,IACrD,GACI7gC,KAAKioC,0BAA0BplB,EAAQ+d,GAAQ,CAAFoD,EAAA5D,KAAA,gBAAA4D,EAAAP,OAAA,SACvCoD,GAAY,eAAA7C,EAAAP,OAAA,SAEhB,CACHjD,MAAOqG,EACPpG,gBAAwBb,EAAU/5B,OAAM,OAAQ,GAAM07B,EAAAA,EAAAA,KAAAC,MAAE,SAAA4B,IAAA,IAAA8E,EAAA5wB,EAAA,YAAAiqB,EAAAA,EAAAA,KAAAU,MAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjD,MAAA,OACrB,OADqBiD,EAAAjD,KAAA,EACfpgC,KAAKmoC,0BAA0B/B,EAAiBC,EAAsBxjB,EAAQ+d,GAAM,OAA7F,GAAtBsH,EAAsB7E,EAAAY,MACxBrD,EAAM4C,wBAAyB,CAAFH,EAAAjD,KAAA,eAAAiD,EAAAI,OAAA,SACtB,IAAE,cAAAJ,EAAAI,OAAA,SAENyE,EAAuBjyB,KAAI,SAAA0wB,GAAW,OAAIrvB,EAAK0wB,cAAcrB,EAAa9F,EAAW,KAAC,wBAAAwC,EAAA72B,OAAA,GAAA42B,EAAA,YAEpG,yBAAAY,EAAAx3B,OAAA,GAAAk3B,EAAA,SAET,GAAC,CAAA7jC,IAAA,gBAAAC,MACD,SAAc6mC,EAAa9F,GAAY,IAAAhpB,EAAA,KACnC,GAAyB,cAArB8uB,EAAY/1B,KACZ,OAAO+1B,EAEX,IAAMpxB,EAAavV,KAAK+G,kBAAkBG,iBAAiBy/B,EAAY1xB,WACjEmzB,EAAY7yB,GACd1S,EAAAA,EAAAA,IAAS,qCAAsC,WAAY8jC,EAAYjwB,MAAOnB,EAAW8yB,gBACzF1B,EAAYjwB,MAChB,OAAOxU,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGihB,GAAc,CAAEyB,UAAAA,EAAWhvB,OAAQpZ,KAAKiF,QAAQqiC,WAAaX,EAAYS,eAAiBT,EAAYjwB,MAAQiwB,EAAYS,kBAAelkC,EAAWqS,WAAAA,EAAY+uB,OAAQ,kBAAM1E,EAAU/nB,OAAM,OAAQ,GAAM0pB,EAAAA,EAAAA,KAAAC,MAAE,SAAAwB,IAAA,IAAAh8B,EAAA,OAAAu6B,EAAAA,EAAAA,KAAAU,MAAA,SAAAkB,GAAA,cAAAA,EAAAhB,KAAAgB,EAAA/C,MAAA,OAWzO,OARJpgC,KAAKgmC,gBAAgBviC,KAAKkjC,EAAY1xB,WAEtCjV,KAAK6lC,iBAAiB1sB,WAAW,0BAA2B,CACxD3Y,GAAImmC,EAAY1xB,UAChB9L,KAAyF,QAAlFnC,EAAoB,OAAf65B,QAAsC,IAAfA,OAAwB,EAASA,EAAW13B,YAAyB,IAAPnC,EAAgBA,EAAK,eAE1Hm8B,EAAAhB,KAAA,EAAAgB,EAAA/C,KAAA,EAEUpgC,KAAK4lC,eAAe5sB,eAAe2tB,EAAY1xB,WAAU,OAAAkuB,EAAA/C,KAAA,gBAAA+C,EAAAhB,KAAA,EAAAgB,EAAAgC,GAAAhC,EAAA,UAG1DmF,EAAAA,EAAAA,IAAmBnF,EAAAgC,KACpBnlC,KAAK8lC,cAAcvR,OAAM1xB,EAAAA,EAAAA,IAAS,YAAa,qCAAsC8jC,EAAYjwB,QAAQ6xB,EAAAA,EAAAA,GAAcpF,EAAAgC,KAC1H,yBAAAhC,EAAA32B,OAAA,GAAAw2B,EAAA,iBAEP,GACV,KAAC0C,CAAA,CAhJyC,CAAqDhF,GAkJnGgF,EAAoCK,OAAS,IAC7CL,EAAoCyB,aAAcqB,EAAAA,EAAAA,IAAGC,EAAAA,GAAeC,EAAAA,GAAcC,EAAAA,IAClFjD,EAAsCjkC,EAAW,CAC7Ce,EAAQ,EAAG2F,EAAAA,IACX3F,EAAQ,EAAG0X,EAAAA,GACX1X,EAAQ,EAAGomC,EAAAA,GACXpmC,EAAQ,EAAGqmC,EAAAA,GACXrmC,EAAQ,EAAGtD,EAAAA,IACZwmC,GACI,IAAIQ,EAAe,SAAA5yB,IAAA1O,EAAAA,EAAAA,GAAAshC,EAAA5yB,GAAA,IAAA1N,GAAAd,EAAAA,EAAAA,GAAAohC,GACtB,SAAAA,EAAY4C,EAAgB/jB,GAAsB,IAAA/E,EAOrB,OAPqBvgB,EAAAA,EAAAA,GAAA,KAAAymC,IAC9ClmB,EAAApa,EAAAR,KAAA,OACK0jC,eAAiBA,EACtB9oB,EAAK+E,qBAAuBA,EAC5B/E,EAAK+oB,gCAAkC,EACvC/oB,EAAKgpB,sBACLhpB,EAAKipB,OACLjpB,EAAKkF,oBAAoBlF,CAC7B,CAkEC,OAlEAxgB,EAAAA,EAAAA,GAAA0mC,EAAA,EAAArmC,IAAA,oBAAAC,MACD,WAAoB,IAAAqgB,EAAA,KAChBngB,KAAKqF,UAAUrF,KAAK+kB,qBAAqBI,0BAAyB,SAAA/jB,GAAC,OAAI+e,EAAK6oB,oBAAoB5nC,EAAE,IACtG,GAAC,CAAAvB,IAAA,sBAAAC,MACD,SAAoBsB,GACZA,IAAMA,EAAEgkB,qBAAqB,sCAGjCplB,KAAK+oC,gCAAkC7C,EAAgBgD,kCAAkClpC,KAAK+kB,sBAC1FmhB,EAAgBiD,OAASjD,EAAgBiD,MAAMC,QAAUppC,KAAK+oC,kCAC9D7C,EAAgBiD,MAAMC,MAAQppC,KAAK+oC,gCACnC7C,EAAgBmD,UAAUrpC,KAAK8oC,iBAEvC,GAAC,CAAAjpC,IAAA,OAAAC,MACD,WACI,IACIwpC,EADEC,EAAMvpC,KAAK8oC,eAAezgC,IAAI69B,EAAgBsD,eAAgB,GAEpE,GAAID,EACA,IACID,EAAkBG,KAAKC,MAAMH,EACjC,CACA,MAAOhV,GACH,CAGR,IAAM4U,EAAQjD,EAAgBiD,MAAQ,IAAIQ,EAAAA,GAAS3pC,KAAK+oC,gCAAiC,GACrFO,IAEIA,EAAgBM,QACNN,EAAgBn3B,QAGhBm3B,EAAgBn3B,QAAQpF,MAAK,SAACC,EAAGC,GAAC,OAAKD,EAAElN,MAAQmN,EAAEnN,KAAK,KAE9D+pC,SAAQ,SAAAC,GAAK,OAAIX,EAAMllC,IAAI6lC,EAAMjqC,IAAKiqC,EAAMhqC,MAAM,IAE9DomC,EAAgB6D,QAAU/pC,KAAK8oC,eAAekB,UAAU9D,EAAgB+D,iBAAkB,EAA8B/D,EAAgB6D,QAC5I,GAAC,CAAAlqC,IAAA,OAAAC,MACD,SAAKmV,GACIixB,EAAgBiD,QAGrBjD,EAAgBiD,MAAMllC,IAAIgR,EAAWixB,EAAgB6D,WACrD7D,EAAgBmD,UAAUrpC,KAAK8oC,gBACnC,GAAC,CAAAjpC,IAAA,OAAAC,MACD,SAAKmV,GACD,IAAIjO,EACJ,OAAwC,QAAhCA,EAAKk/B,EAAgBiD,aAA0B,IAAPniC,OAAgB,EAASA,EAAG0gC,KAAKzyB,EACrF,IAAC,EAAApV,IAAA,YAAAC,MACD,SAAiBgpC,GACb,GAAK5C,EAAgBiD,MAArB,CAGA,IAAMG,EAAkB,CAAEM,SAAS,EAAMz3B,QAAS,IAClD+zB,EAAgBiD,MAAMU,SAAQ,SAAC/pC,EAAOD,GAAG,OAAKypC,EAAgBn3B,QAAQ1O,KAAK,CAAE5D,IAAAA,EAAKC,MAAAA,GAAQ,IAC1FgpC,EAAeoB,MAAMhE,EAAgBsD,eAAgBC,KAAKU,UAAUb,GAAkB,EAA8B,GACpHR,EAAeoB,MAAMhE,EAAgB+D,iBAAkB/D,EAAgB6D,QAAS,EAA8B,EAJ9G,CAKJ,GAAC,CAAAlqC,IAAA,oCAAAC,MACD,SAAyCilB,GACrC,IAAI/d,EAAIC,EAEFmjC,EAA2H,QAAzFnjC,EAAiC,QAA3BD,EAD/B+d,EAAqBC,WACsBqlB,iBAA8B,IAAPrjC,OAAgB,EAASA,EAAGsjC,sBAAmC,IAAPrjC,OAAgB,EAASA,EAAGsjC,QACrK,MAA8C,kBAAnCH,EACAA,EAEJlE,EAAgBsE,+BAC3B,KAACtE,CAAA,CA3EqB,CAAiCzsB,EAAAA,IA6E3DysB,EAAgBsE,gCAAkC,GAClDtE,EAAgBsD,eAAiB,2BACjCtD,EAAgB+D,iBAAmB,6BACnC/D,EAAgB6D,QAAU,EAC1B7D,EAAkBzkC,EAAW,CACzBe,EAAQ,EAAGioC,EAAAA,IACXjoC,EAAQ,EAAGijB,EAAAA,KACZygB,E,+JChRCzkC,EAA0C,SAAUC,EAAYC,EAAQ9B,EAAK+B,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOM,OAAOC,yBAAyBR,EAAQ9B,GAAO+B,EACrH,GAAuB,kBAAZQ,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQ9B,EAAK+B,QACpH,IAAK,IAAIU,EAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAST,EAAIH,EAAWY,MAAIL,GAAKH,EAAI,EAAID,EAAEI,GAAKH,EAAI,EAAID,EAAEF,EAAQ9B,EAAKoC,GAAKJ,EAAEF,EAAQ9B,KAASoC,GAChJ,OAAOH,EAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQ9B,EAAKoC,GAAIA,CAChE,EACIO,EAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUf,EAAQ9B,GAAO6C,EAAUf,EAAQ9B,EAAK4C,EAAa,CACxE,EAOWioC,EAAuB,WAC9B,SAAAA,EAAYC,EAAmB5jC,IAAmBtH,EAAAA,EAAAA,GAAA,KAAAirC,GAC9C1qC,KAAK2qC,kBAAoBA,EACzB3qC,KAAK+G,kBAAoBA,EACzB/G,KAAK4qC,SAAWlrC,EAAAA,EAAS6xB,GAAGhf,EAAAA,GAAWs4B,YAC3C,CAyCC,OAzCArrC,EAAAA,EAAAA,GAAAkrC,EAAA,EAAA7qC,IAAA,UAAAC,MACD,SAAQ6gC,GAAQ,IAAAx7B,EAAA,KACN6K,EAAc,IAAIrM,EAAAA,GAkBxB,OAhBAqM,EAAYrQ,IAAIghC,EAAOyD,aAAY,WAC/B,IAAO11B,GAAP5E,EAAAA,EAAAA,GAAe62B,EAAO0D,cAAa,GAAxB,GACP31B,GACAvJ,EAAKwlC,kBAAkBG,YAAYC,KAAKr8B,EAAK8C,OAAQ,CAAEw5B,eAAe,GAE9E,KAGAh7B,EAAYrQ,IAAIghC,EAAOwD,kBAAiB,SAAArkC,GACpC,IAAMmrC,EAAqB9lC,EAAKylC,SAASM,uBAAuBprC,EAAMmf,OAAOyrB,EAAwB3E,OAAO/jC,SACxGipC,GAAsBA,EAAmBz5B,QAAUy5B,EAAmBz5B,SAAWk5B,EAAwB3E,QACzG5gC,EAAKwlC,kBAAkBG,YAAYC,KAAKE,EAAmBz5B,OAAQ,CAAEw5B,eAAe,GAE5F,KAEArK,EAAOhlB,MAAQ3b,KAAKmrC,0BAA0BtoB,QAAO,SAAAvS,GAAC,OAAIA,EAAEkB,SAAWk5B,EAAwB3E,MAAM,IAC9F/1B,CACX,GAAC,CAAAnQ,IAAA,0BAAAC,MACD,WAA0B,IAAA+F,EAAA,KAKtB,OAJkB7F,KAAK4qC,SAClBO,0BACAp+B,MAAK,SAACq+B,EAAWC,GAAS,OAAKD,EAAU55B,OAAOu2B,cAAcsD,EAAU75B,OAAO,IAC/E85B,SAAQ,SAAAC,GAAQ,OAAI1lC,EAAK2lC,YAAYD,EAAS,GAEvD,GAAC,CAAA1rC,IAAA,cAAAC,MACD,SAAYyrC,GAAU,IAAAj0B,EAAA,KAClB,OAAOi0B,EAASE,YAAYx1B,KAAI,SAAAy1B,GAC5B,IAAMl6B,EAASk6B,EAAUl6B,QAAU+5B,EAAS/5B,OACtCkF,EAAQlF,GAAU,SACxB,MAAO,CACHA,OAAAA,EACAkF,MAAAA,EACAnB,WAAYm2B,EAAUz2B,UAAYqC,EAAKvQ,kBAAkBG,iBAAiBwkC,EAAUz2B,gBAAa/R,EACjGklC,WAAWvlC,EAAAA,EAAAA,IAAS,oBAAqB,WAAY6T,EAAOg1B,EAAUvZ,aACtEA,YAAauZ,EAAUvZ,YAE/B,GACJ,KAACuY,CAAA,CA9C6B,GAgDlCA,EAAwB3E,OAAS,IACjC2E,EAA0BjpC,EAAW,CACjCe,EAAQ,EAAGmpC,EAAAA,IACXnpC,EAAQ,EAAG0X,EAAAA,IACZwwB,E,gQCnECjpC,EAA0C,SAAUC,EAAYC,EAAQ9B,EAAK+B,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOM,OAAOC,yBAAyBR,EAAQ9B,GAAO+B,EACrH,GAAuB,kBAAZQ,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQ9B,EAAK+B,QACpH,IAAK,IAAIU,EAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAST,EAAIH,EAAWY,MAAIL,GAAKH,EAAI,EAAID,EAAEI,GAAKH,EAAI,EAAID,EAAEF,EAAQ9B,EAAKoC,GAAKJ,EAAEF,EAAQ9B,KAASoC,GAChJ,OAAOH,EAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQ9B,EAAKoC,GAAIA,CAChE,EACIO,EAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUf,EAAQ9B,GAAO6C,EAAUf,EAAQ9B,EAAK4C,EAAa,CACxE,EASWmpC,EAAqB,SAAAt4B,IAAA1O,EAAAA,EAAAA,GAAAgnC,EAAAt4B,GAAA,IAAAzO,GAAAC,EAAAA,EAAAA,GAAA8mC,GAC5B,SAAAA,EAAYjB,EAAmBjkB,GAAsB,IAAAvhB,EAOb,OAPa1F,EAAAA,EAAAA,GAAA,KAAAmsC,IACjDzmC,EAAAN,EAAAO,KAAA,OACKulC,kBAAoBA,EACzBxlC,EAAKuhB,qBAAuBA,EAC5BvhB,EAAKylC,SAAWlrC,EAAAA,EAAS6xB,GAAGhf,EAAAA,GAAWs4B,aACvC1lC,EAAK0mC,wBAA0B,IAAI9jC,IACnC5C,EAAK2mC,yBAA2B,IAAI/jC,IACpC5C,EAAK4mC,wBAAqB7oC,EAAUiC,CACxC,CA4JC,OA5JA3F,EAAAA,EAAAA,GAAAosC,EAAA,EAAA/rC,IAAA,OAAAC,MACD,WAA0B,IAArBA,EAAKiC,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,GAAIkD,EAAOlD,UAAAC,OAAA,EAAAD,UAAA,QAAAmB,EACpBlD,KAAKgsC,aAAalsC,GAAO,EAAOmF,EACpC,GAAC,CAAApF,IAAA,eAAAC,MACD,SAAaA,EAAOmsC,EAAMhnC,GACtB,IAAI+B,EAEJklC,EAA+BlsC,KAAKmsC,yBAAyBrsC,GAAMssC,GAAAtiC,EAAAA,EAAAA,GAAAoiC,EAAA,GAA5DX,EAAQa,EAAA,GAAEC,EAAUD,EAAA,GAErBL,EAAqB/rC,KAAK+rC,mBAC1BO,EAA2C,OAAvBP,QAAsD,IAAvBA,OAAgC,EAASA,EAAmBM,WACrH,GAAIN,GAAsBM,GAAcC,IAAsBD,EAQ1D,OALIvsC,IAAUusC,EAAW76B,SAAwB,OAAZvM,QAAgC,IAAZA,OAAqB,EAASA,EAAQ+lC,iBAC3Fe,EAAmBpL,OAAO7gC,MAAQA,QAGtCE,KAAKusC,qBAAqBR,EAAmBpL,OAAQ0L,EAAYpnC,GAIrE,GAAIonC,KAA4B,OAAZpnC,QAAgC,IAAZA,OAAqB,EAASA,EAAQ+lC,eAAgB,CAC1F,IAAIwB,OAAWtpC,EAGf,GAAI6oC,GAAsBO,GAAqBA,IAAsBD,EAAY,CAC7E,IAAMI,EAAiCV,EAAmBjsC,MAAMmf,OAAOqtB,EAAkB96B,OAAOxP,QAC5FyqC,IACAD,EAAW,GAAHziC,OAAMsiC,EAAW76B,QAAMzH,OAAG0iC,GAE1C,CAEA,IAAKD,EAAU,CACX,IAAME,EAAkC,OAAbnB,QAAkC,IAAbA,OAAsB,EAASA,EAASmB,mBACpFA,IAAuBC,EAAAA,GAA8BC,KACrDJ,EAAWxsC,KAAK8rC,yBAAyBzjC,IAAIgkC,GAEV,kBAAvBK,IACZF,EAAW,GAAHziC,OAAMsiC,EAAW76B,QAAMzH,OAAG2iC,GAE1C,CACwB,kBAAbF,IACP1sC,EAAQ0sC,EAEhB,CAGA,IAAMx8B,EAAc,IAAIrM,EAAAA,GAClBg9B,EAAS3wB,EAAYrQ,IAAIK,KAAK2qC,kBAAkBkC,mBACtDlM,EAAO7gC,MAAQA,EACfE,KAAKusC,qBAAqB5L,EAAQ0L,EAAYpnC,GAC9C07B,EAAOmM,YAA6B,OAAfT,QAAsC,IAAfA,OAAwB,EAASA,EAAWS,YACxFnM,EAAOoM,cAA4B,OAAZ9nC,QAAgC,IAAZA,OAAqB,EAASA,EAAQ+nC,2BACjFrM,EAAOgC,YAAchC,EAAOoM,gBAAkBhB,GAC4C,kBAAlE,OAAZ9mC,QAAgC,IAAZA,OAAqB,EAASA,EAAQgoC,kBAA6C,OAAZhoC,QAAgC,IAAZA,OAAqB,EAASA,EAAQ+nC,+BAC7JrM,EAAOsM,eAAqG,QAAnFjmC,EAAiB,OAAZ/B,QAAgC,IAAZA,OAAqB,EAASA,EAAQgoC,sBAAmC,IAAPjmC,EAAgBA,EAAKkmC,EAAAA,GAAeC,QAE5JxM,EAAOyM,WAA4B,OAAff,QAAsC,IAAfA,OAAwB,EAASA,EAAWe,WACvFzM,EAAO0M,YAAc,SAACvtC,GAAK,OAAKA,EAAMmT,UAAUo5B,EAAaA,EAAW76B,OAAOxP,OAAS,EAAE,EAG1F,IAAIsrC,OAAcpqC,EACd+oC,IACAqB,EAAc,IAAIC,EAAAA,GAClBv9B,EAAYrQ,KAAI6tC,EAAAA,EAAAA,GAAK7M,EAAO8M,aAAZD,EAA0B,SAAApsC,GACtCA,EAAEssC,OACF/M,EAAO6D,MACX,MAGJx0B,EAAYrQ,IAAIK,KAAK2tC,wBAAwBhN,EAAQ4K,EAAUc,EAAYvsC,EAAmB,OAAZmF,QAAgC,IAAZA,OAAqB,EAASA,EAAQ2oC,kBAI5I,IAAMC,EAAM79B,EAAYrQ,IAAI,IAAI0iC,EAAAA,GAoBhC,OAnBIkJ,GACAv7B,EAAYrQ,IAAI4rC,EAASuC,QAAQnN,EAAQkN,EAAIjN,MAAmB,OAAZ37B,QAAgC,IAAZA,OAAqB,EAASA,EAAQ2oC,mBAIlHJ,EAAAA,EAAAA,GAAK7M,EAAOoN,UAAZP,EAAuB,WACiB,IAAhC7M,EAAO0D,cAAcriC,QACrB6rC,EAAI12B,SAGRnH,EAAYvL,UAEI,OAAhB6oC,QAAwC,IAAhBA,GAAkCA,EAAYU,SAASrN,EAAO0D,cAAc12B,MAAM,GAC9G,IAIAgzB,EAAOoK,OAEHkB,EACuB,OAAhBqB,QAAwC,IAAhBA,OAAyB,EAASA,EAAYh9B,OADjF,CAGJ,GAAC,CAAAzQ,IAAA,uBAAAC,MACD,SAAqB6gC,EAAQ0L,EAAYpnC,GACrC,IAAI+B,EACAinC,EAGAA,GADY,OAAZhpC,QAAgC,IAAZA,OAAqB,EAASA,EAAQ+lC,eACzC,CAACrK,EAAO7gC,MAAMkC,OAAQ2+B,EAAO7gC,MAAMkC,QAInC,CAA6F,QAA3FgF,EAAoB,OAAfqlC,QAAsC,IAAfA,OAAwB,EAASA,EAAW76B,OAAOxP,cAA2B,IAAPgF,EAAgBA,EAAK,EAAG25B,EAAO7gC,MAAMkC,QAE/J2+B,EAAOsN,eAAiBA,CAC5B,GAAC,CAAApuC,IAAA,0BAAAC,MACD,SAAwB6gC,EAAQ4K,EAAUc,EAAYvsC,EAAO8tC,GAAiB,IAAA/nC,EAAA,KACpEmK,EAAc,IAAIrM,EAAAA,GAElBooC,EAAqB/rC,KAAK+rC,mBAAqB,CAAEpL,OAAAA,EAAQ0L,WAAAA,EAAYvsC,MAAAA,GA4B3E,OA3BAkQ,EAAYrQ,KAAI2E,EAAAA,EAAAA,KAAa,WACrBynC,IAAuBlmC,EAAKkmC,qBAC5BlmC,EAAKkmC,wBAAqB7oC,EAElC,KAGA8M,EAAYrQ,IAAIghC,EAAOwD,kBAAiB,SAAArkC,GACpC,IAAAouC,EAA2BroC,EAAKsmC,yBAAyBrsC,IAAMgK,EAAAA,EAAAA,GAAAokC,EAAA,GAAxC,KACE3C,EACrB1lC,EAAKklC,KAAKjrC,EAAO,CAEbkrC,eAAe,EAEf4C,gBAAAA,IAIJ7B,EAAmBjsC,MAAQA,CAEnC,KAEIusC,GACAr8B,EAAYrQ,IAAIghC,EAAOyD,aAAY,WAC/Bv+B,EAAKimC,yBAAyB7nC,IAAIooC,EAAY1L,EAAO7gC,MACzD,KAEGkQ,CACX,GAAC,CAAAnQ,IAAA,2BAAAC,MACD,SAAyBA,GACrB,IAAMmrC,EAAqBjrC,KAAK4qC,SAASM,uBAAuBprC,GAChE,IAAKmrC,EACD,MAAO,MAAC/nC,OAAWA,GAEvB,IAAIqoC,EAAWvrC,KAAK6rC,wBAAwBxjC,IAAI4iC,GAKhD,OAJKM,IACDA,EAAWvrC,KAAK0mB,qBAAqBuf,eAAegF,EAAmB5jC,MACvErH,KAAK6rC,wBAAwB5nC,IAAIgnC,EAAoBM,IAElD,CAACA,EAAUN,EACtB,KAACW,CAAA,CArK2B,CAAuCnyB,EAAAA,IAuKvEmyB,EAAwBnqC,EAAW,CAC/Be,EAAQ,EAAGmpC,EAAAA,IACXnpC,EAAQ,EAAG2F,EAAAA,KACZyjC,G,4QCpLG7O,EAAIoR,EAAIpR,EACDqR,EAAa,SAAA96B,IAAA1O,EAAAA,EAAAA,GAAAwpC,EAAA96B,GAAA,IAAAzO,GAAAC,EAAAA,EAAAA,GAAAspC,GACtB,SAAAA,EAAYC,EAAQC,EAAgBC,GAAc,IAAAppC,GAAA1F,EAAAA,EAAAA,GAAA,KAAA2uC,IAC9CjpC,EAAAN,EAAAO,KAAA,OACKipC,OAASA,EACdlpC,EAAKqpC,UAAY,SAAC9nC,GACd,OAAOynC,EAAIM,sBAAsBtpC,EAAKupC,UAAUnpC,SAASopC,aAAcR,EAAIS,UAAUC,UAAU,SAACztC,GAC5FsF,EAAQ,IAAI82B,EAAAA,EAAsBp8B,GACtC,GACJ,EACA+D,EAAK2pC,YAAc,SAACpoC,GAChB,OAAOynC,EAAIM,sBAAsBtpC,EAAKupC,UAAUnpC,SAASopC,aAAcR,EAAIS,UAAUG,YAAY,SAAC3tC,GAC9FsF,EAAQ,IAAIsoC,EAAAA,EAAmB5tC,GACnC,GACJ,EACA+D,EAAK8pC,YAAc,SAACvoC,GAChB,OAAOvB,EAAKupC,UAAUO,YAAYvoC,EACtC,EACAvB,EAAKJ,UAAYopC,EAAIrR,OAAO33B,EAAKkpC,OAAQtR,EAAE,qBAC3C53B,EAAKupC,UAAYvpC,EAAKE,UAAU,IAAIG,EAAAA,EAAUL,EAAKJ,eAAW7B,EAAW,CAAEwT,MAAO,GAAI43B,eAAAA,EAAgBC,aAAAA,KACtG,IAAMW,EAAQ/pC,EAAKupC,UAAUnpC,SAASopC,aAIV,OAH5BO,EAAMC,KAAO,WACbD,EAAME,aAAe,OACrBF,EAAMG,iBAAmB,OACzBH,EAAMI,aAAe,OAAOnqC,CAChC,CA0DC,OA1DA3F,EAAAA,EAAAA,GAAA4uC,EAAA,EAAAvuC,IAAA,QAAAwI,IACD,WACI,OAAOrI,KAAK0uC,UAAU1pB,UAC1B,EAAC/gB,IACD,SAAUnE,GACNE,KAAK0uC,UAAUa,SAASzvC,EAC5B,GAAC,CAAAD,IAAA,SAAAC,MACD,WAAqB,IAAd0vC,EAAKztC,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,KACX/B,KAAK0uC,UAAUnpC,SAASkqC,OAAOD,EACnC,GAAC,CAAA3vC,IAAA,mBAAAC,MACD,WACI,OAAOE,KAAK0uC,UAAUnpC,SAASmqC,kBACnC,GAAC,CAAA7vC,IAAA,cAAAwI,IACD,WACI,OAAOrI,KAAK0uC,UAAUnpC,SAASopC,aAAagB,aAAa,gBAAkB,EAC/E,EAAC1rC,IACD,SAAgB6oC,GACZ9sC,KAAK0uC,UAAUnpC,SAASqqC,eAAe9C,EAC3C,GAAC,CAAAjtC,IAAA,WAAAwI,IACD,WACI,MAAqD,aAA9CrI,KAAK0uC,UAAUnpC,SAASopC,aAAa/9B,IAChD,EAAC3M,IACD,SAAa4rC,GACT7vC,KAAK0uC,UAAUnpC,SAASopC,aAAa/9B,KAAOi/B,EAAW,WAAa,MACxE,GAAC,CAAAhwC,IAAA,UAAAoE,IACD,SAAYgT,GAMRjX,KAAK0uC,UAAUnpC,SAASopC,aAAamB,gBAAgB,YAAa74B,EAItE,GAAC,CAAApX,IAAA,UAAAoE,IACD,SAAY8rC,GACR/vC,KAAK0uC,UAAUsB,qBAAqBD,EACxC,GAAC,CAAAlwC,IAAA,eAAAC,MACD,SAAawN,EAAMxN,GACfE,KAAK0uC,UAAUnpC,SAASopC,aAAazR,aAAa5vB,EAAMxN,EAC5D,GAAC,CAAAD,IAAA,iBAAAC,MACD,SAAemwC,GACPA,IAAerU,EAAAA,EAASC,OACxB77B,KAAK0uC,UAAUwB,eAGflwC,KAAK0uC,UAAUyB,YAAY,CAAEv/B,KAAMq/B,IAAerU,EAAAA,EAAS9I,KAAO,EAA2Bmd,IAAerU,EAAAA,EAAStG,QAAU,EAA8B,EAA2B8a,QAAS,IAEzM,GAAC,CAAAvwC,IAAA,gBAAAC,MACD,SAAcmwC,GACV,OAAOjwC,KAAK0uC,UAAUnpC,SAAS8qC,cAAcJ,IAAerU,EAAAA,EAAS9I,KAAO,EAA2Bmd,IAAerU,EAAAA,EAAStG,QAAU,EAA8B,EAC3K,GAAC,CAAAz1B,IAAA,WAAAC,MACD,WACIE,KAAK0uC,UAAU1mB,OACnB,GAAC,CAAAnoB,IAAA,SAAAC,MACD,WACIE,KAAK0uC,UAAUnpC,SAAS+qC,QAC5B,KAAClC,CAAA,CAlFqB,CAAS30B,EAAAA,I,wJCE7B82B,GAAkB,CAAC,EACnBC,GAAqB,IAAIC,GAAAA,EAAY,4BACpC,SAASC,GAAaC,GACzB,GAAKA,EAAL,CAGA,IAAIC,EACE/wC,EAAM8wC,EAASE,KAAKroC,WAU1B,OATI+nC,GAAgB1wC,GAChB+wC,EAAYL,GAAgB1wC,IAG5B+wC,EAAYJ,GAAmBM,SAC/B3C,EAAI4C,cAAc,IAADhnC,OAAK6mC,EAAS,iBAAA7mC,OAAgB6mC,GAAS,qBAAA7mC,OAAyBokC,EAAI6C,SAASL,EAASM,OAASN,EAASE,QACzH1C,EAAI4C,cAAc,aAADhnC,OAAc6mC,EAAS,iBAAA7mC,OAAgB6mC,GAAS,qBAAA7mC,OAAyBokC,EAAI6C,SAASL,EAASE,QAChHN,GAAgB1wC,GAAO+wC,GAEpBA,CAZP,CAaJ,CC5BA,IAAInvC,GAA0C,SAAUC,EAAYC,EAAQ9B,EAAK+B,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOM,OAAOC,yBAAyBR,EAAQ9B,GAAO+B,EACrH,GAAuB,kBAAZQ,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQ9B,EAAK+B,QACpH,IAAK,IAAIU,EAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAST,EAAIH,EAAWY,MAAIL,GAAKH,EAAI,EAAID,EAAEI,GAAKH,EAAI,EAAID,EAAEF,EAAQ9B,EAAKoC,GAAKJ,EAAEF,EAAQ9B,KAASoC,GAChJ,OAAOH,EAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQ9B,EAAKoC,GAAIA,CAChE,EACI29B,GAAwC,SAAU7vB,EAAS8vB,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAU5pB,EAAS6pB,GAC/C,SAASC,EAAUpgC,GAAS,IAAMqgC,EAAKJ,EAAUK,KAAKtgC,GAAS,CAAE,MAAOsB,GAAK6+B,EAAO7+B,EAAI,CAAE,CAC1F,SAASi/B,EAASvgC,GAAS,IAAMqgC,EAAKJ,EAAiB,MAAEjgC,GAAS,CAAE,MAAOsB,GAAK6+B,EAAO7+B,EAAI,CAAE,CAC7F,SAAS++B,EAAKl0B,GAJlB,IAAenM,EAIamM,EAAO/K,KAAOkV,EAAQnK,EAAOnM,QAJ1CA,EAIyDmM,EAAOnM,MAJhDA,aAAiBggC,EAAIhgC,EAAQ,IAAIggC,GAAE,SAAU1pB,GAAWA,EAAQtW,EAAQ,KAIjBmZ,KAAKinB,EAAWG,EAAW,CAC7GF,GAAMJ,EAAYA,EAAUxzB,MAAMwD,EAAS8vB,GAAc,KAAKO,OAClE,GACJ,EAoBMrD,GAAIoR,EAAIpR,EACRmU,GAAW,WAUb,SAAAA,EAAYC,IAAM1xC,EAAAA,EAAAA,GAAA,KAAAyxC,GACdlxC,KAAKoxC,QAAS,EACdpxC,KAAKqxC,WAAa,IAAIz+B,EAAAA,GACtB5S,KAAKsxC,UAAYtxC,KAAKqxC,WAAW78B,MACjCtS,OAAOwjB,OAAO1lB,KAAMmxC,EACxB,CAGC,OAHA3xC,EAAAA,EAAAA,GAAA0xC,EAAA,EAAArxC,IAAA,UAAAwI,IAdD,WACI,QAASrI,KAAKuxC,QAClB,EAACttC,IACD,SAAYnE,GACJA,IAAUE,KAAKuxC,WACfvxC,KAAKuxC,SAAWzxC,EAChBE,KAAKqxC,WAAWn+B,KAAKpT,GAE7B,GAAC,CAAAD,IAAA,UAAAC,MAOD,WACIE,KAAKqxC,WAAW5sC,SACpB,KAACysC,CAAA,CAlBY,GAoBXM,GAAmB,oBAAAA,KAAA/xC,EAAAA,EAAAA,GAAA,KAAA+xC,EAAA,CA6HpB,OA7HoBhyC,EAAAA,EAAAA,GAAAgyC,EAAA,EAAA3xC,IAAA,aAAAwI,IACrB,WACI,OAAOmpC,EAAoBC,EAC/B,GAAC,CAAA5xC,IAAA,iBAAAC,MACD,SAAeiF,GACX,IAAM7E,EAAOgC,OAAOuN,OAAO,MAC3BvP,EAAKwxC,iBAAmB,GACxBxxC,EAAKyxC,kBAAoB,GACzBzxC,EAAK4pC,MAAQqE,EAAIrR,OAAO/3B,EAAWg4B,GAAE,4BAErC,IAAMrmB,EAAQy3B,EAAIrR,OAAO58B,EAAK4pC,MAAO/M,GAAE,iCACvC78B,EAAKyxC,kBAAkBluC,KAAK0qC,EAAIyD,8BAA8Bl7B,EAAOy3B,EAAIS,UAAUiD,OAAO,SAAAzwC,GACjFlB,EAAK4xC,SAASC,cACf3wC,EAAE4wC,gBAEV,KACA9xC,EAAK4xC,SAAW3D,EAAIrR,OAAOpmB,EAAOqmB,GAAE,oCACpC78B,EAAK4xC,SAASlhC,KAAO,WACrB1Q,EAAKyxC,kBAAkBluC,KAAK0qC,EAAIyD,8BAA8B1xC,EAAK4xC,SAAU3D,EAAIS,UAAUqD,QAAQ,SAAA7wC,GAC/FlB,EAAKiE,QAAQ+tC,QAAUhyC,EAAK4xC,SAASI,OACzC,KAEA,IAAMC,EAAOhE,EAAIrR,OAAOpmB,EAAOqmB,GAAE,2BAC3BqV,EAAOjE,EAAIrR,OAAOqV,EAAMpV,GAAE,0BAC1BsV,EAAOlE,EAAIrR,OAAOqV,EAAMpV,GAAE,0BAEhC78B,EAAKwW,MAAQ,IAAI47B,EAAAA,EAAUF,EAAM,CAAEG,mBAAmB,EAAMC,8BAA8B,EAAMC,cAAc,IAE9G,IAAMC,EAAsBvE,EAAIrR,OAAOsV,EAAMrV,GAAE,uCAC/C78B,EAAKqV,WAAa,IAAIo9B,EAAAA,EAAgBD,EAAqBv/B,EAAAA,IAE3D,IAAMy/B,EAAkBzE,EAAIrR,OAAOuV,EAAMtV,GAAE,iCAQ3C,OAPA78B,EAAKkZ,OAAS,IAAIk5B,EAAAA,EAAUM,EAAiB,CAAEL,mBAAmB,EAAME,cAAc,IAEtFvyC,EAAK2yC,UAAY1E,EAAIrR,OAAO58B,EAAK4pC,MAAO/M,GAAE,gCAE1C78B,EAAK4yC,UAAY,IAAIC,EAAAA,EAAU7yC,EAAK4pC,OACpC5pC,EAAK4yC,UAAUE,QAAQ9wB,UAAUviB,IAAI,qCACrCO,EAAKyxC,kBAAkBluC,KAAKvD,EAAK4yC,WAC1B5yC,CACX,GAAC,CAAAL,IAAA,gBAAAC,MACD,SAAcqE,EAASmE,EAAOpI,GAC1BA,EAAKiE,QAAUA,EACfA,EAAQA,SAAU+iC,EAAAA,EAAAA,IAAoBhnC,EAAK4pC,OAC3C,IAAMmJ,EAAW9uC,EAAQuK,KAAOvK,EAAQuK,KAAOvK,EAAQ0uC,UACvD3yC,EAAK4xC,SAASI,QAAU/tC,EAAQ+tC,QAChChyC,EAAKwxC,iBAAiBjuC,KAAKU,EAAQmtC,WAAU,SAAAY,GAAO,OAAIhyC,EAAK4xC,SAASI,QAAUA,CAAO,KACvF,IAAQ3L,EAA6DpiC,EAA7DoiC,gBAAiB2M,EAA4C/uC,EAA5C+uC,sBAAuBC,EAAqBhvC,EAArBgvC,iBAE1CluC,EAAU/C,OAAOuN,OAAO,MAC9BxK,EAAQoX,QAAUkqB,GAAmB,GACrCthC,EAAQmuC,iBAAmBjvC,EAAQkvC,gBACnCpuC,EAAQquC,mBAAqBJ,GAAyB,GAChC,cAAlBD,EAASriC,MACT3L,EAAQsuC,aAAeN,EAASO,YAChCvuC,EAAQwuC,OAASR,EAASQ,OAC1BxuC,EAAQyuC,cAAgBT,EAASS,cACjCxzC,EAAK4pC,MAAM5nB,UAAU1D,OAAO,uCAG5Bte,EAAK4pC,MAAM5nB,UAAUviB,IAAI,sCAE7BO,EAAKwW,MAAMi9B,SAASxvC,EAAQyvC,UAAWzvC,EAAQkvC,gBAAiBpuC,GAEhE/E,EAAKqV,WAAWtR,IAAsB,cAAlBgvC,EAASriC,UAAuB1N,EAAY+vC,EAAS19B,YAErEpR,EAAQ0vC,YACR3zC,EAAKkZ,OAAOjV,QAAQme,MAAMwxB,QAAU,GACpC5zC,EAAKkZ,OAAOu6B,SAASxvC,EAAQ0vC,gBAAY3wC,EAAW,CAChDmZ,QAAS82B,EACTvhB,MAAOztB,EAAQ0vC,cAInB3zC,EAAKkZ,OAAOjV,QAAQme,MAAMwxB,QAAU,OAGpC3vC,EAAQuK,MAAQvK,EAAQ0uC,WAAa1uC,EAAQ0uC,UAAUn8B,OACvDxW,EAAK2yC,UAAUkB,YAAc5vC,EAAQ0uC,UAAUn8B,MAC/CxW,EAAK2yC,UAAUvwB,MAAMwxB,QAAU,IAG/B5zC,EAAK2yC,UAAUvwB,MAAMwxB,QAAU,OAEnC5zC,EAAK4pC,MAAM5nB,UAAU8xB,OAAO,sCAAuC7vC,EAAQ0uC,WAE3E,IAAM3N,EAAU+N,EAAS/N,QACrBA,GAAWA,EAAQljC,QACnB9B,EAAK4yC,UAAUrvC,KAAKyhC,EAAQjvB,KAAI,SAACuU,EAAQliB,GACrC,IAAI2rC,EAAazpB,EAAOomB,YAAcpmB,EAAOmmB,SAAWD,GAAalmB,EAAOmmB,eAAYztC,GAIxF,OAHIsnB,EAAO0pB,gBACPD,EAAaA,EAAa,GAAHlqC,OAAMkqC,EAAU,mBAAoB,kBAExD,CACHzzC,GAAI,MAAFuJ,OAAQzB,GACV6rC,MAAOF,EACPh9B,SAAS,EACTP,MAAO,GACP09B,QAAS5pB,EAAO4pB,SAAW,GAC3BC,IAAK,WACiB,cAAlBpB,EAASriC,KACHzM,EAAQmwC,oBAAoB,CAC1B9pB,OAAAA,EACA9b,KAAMukC,IAER9uC,EAAQowC,6BAA6B,CACnC/pB,OAAAA,EACAqoB,UAAWI,GAEvB,EAER,IAAI,CAAEuB,MAAM,EAAM99B,OAAO,IACzBxW,EAAK4pC,MAAM5nB,UAAUviB,IAAI,gBAGzBO,EAAK4pC,MAAM5nB,UAAU1D,OAAO,cAEpC,GAAC,CAAA3e,IAAA,iBAAAC,MACD,SAAeqE,EAASmE,EAAOpI,GAC3BA,EAAKwxC,kBAAmBjtC,EAAAA,EAAAA,IAAQvE,EAAKwxC,kBACrCxxC,EAAK4yC,UAAUvjC,OACnB,GAAC,CAAA1P,IAAA,kBAAAC,MACD,SAAgBI,GACZA,EAAKwxC,kBAAmBjtC,EAAAA,EAAAA,IAAQvE,EAAKwxC,kBACrCxxC,EAAKyxC,mBAAoBltC,EAAAA,EAAAA,IAAQvE,EAAKyxC,kBAC1C,KAACH,CAAA,CA7HoB,GA+HzBA,GAAoBC,GAAK,cAAc,IAa5BgD,GAZLC,GAAmB,oBAAAA,KAAAj1C,EAAAA,EAAAA,GAAA,KAAAi1C,EAAA,CAUpB,OAVoBl1C,EAAAA,EAAAA,GAAAk1C,EAAA,EAAA70C,IAAA,YAAAC,MACrB,SAAUqE,GACN,OAAKA,EAAQuK,KAINvK,EAAQ0vC,WAAa,GAAK,GAFtB,EAGf,GAAC,CAAAh0C,IAAA,gBAAAC,MACD,SAAcqE,GACV,OAAOqtC,GAAoBC,EAC/B,KAACiD,CAAA,CAVoB,IAazB,SAAWD,GACPA,EAAoBA,EAA2B,MAAI,GAAK,QACxDA,EAAoBA,EAA4B,OAAI,GAAK,SACzDA,EAAoBA,EAA0B,KAAI,GAAK,OACvDA,EAAoBA,EAA0B,KAAI,GAAK,OACvDA,EAAoBA,EAA8B,SAAI,GAAK,WAC3DA,EAAoBA,EAA8B,SAAI,GAAK,WAC3DA,EAAoBA,EAAkC,aAAI,GAAK,cAClE,CARD,CAQGA,KAAwBA,GAAsB,CAAC,IAC3C,IAAME,GAAc,WACvB,SAAAA,EAAYtG,EAAQ7tC,EAAIyE,GAAS,IAAAE,EAAA,MAAA1F,EAAAA,EAAAA,GAAA,KAAAk1C,GAC7B30C,KAAKquC,OAASA,EACdruC,KAAKiF,QAAUA,EACfjF,KAAK40C,cAAgB,GACrB50C,KAAKkqB,SAAW,GAChBlqB,KAAK60C,kBAAoB,IAAI9sC,IAC7B/H,KAAKghC,oBAAqB,EAC1BhhC,KAAKihC,eAAgB,EACrBjhC,KAAK+gC,cAAe,EACpB/gC,KAAK80C,iBAAmB,QACxB90C,KAAK+0C,aAAc,EACnB/0C,KAAKkhC,aAAc,EACnBlhC,KAAKg1C,4BAA8B,IAAIpiC,EAAAA,GACvC5S,KAAKi1C,2BAA6Bj1C,KAAKg1C,4BAA4BxgC,MACnExU,KAAKk1C,uBAAyB,IAAItiC,EAAAA,GAClC5S,KAAKm1C,sBAAwBn1C,KAAKk1C,uBAAuB1gC,MACzDxU,KAAKo1C,uBAAyB,IAAIxiC,EAAAA,GAClC5S,KAAKq1C,sBAAwBr1C,KAAKo1C,uBAAuB5gC,MACzDxU,KAAKs1C,0BAA4B,IAAI1iC,EAAAA,GACrC5S,KAAKu1C,yBAA2Bv1C,KAAKs1C,0BAA0B9gC,MAC/DxU,KAAKw1C,mBAAqB,IAAI5iC,EAAAA,GAC9B5S,KAAKy1C,kBAAoBz1C,KAAKw1C,mBAAmBhhC,MACjDxU,KAAK01C,4BAA8B,IAAI9iC,EAAAA,GACvC5S,KAAK21C,2BAA6B31C,KAAK01C,4BAA4BlhC,MACnExU,KAAK41C,WAAa,IAAIhjC,EAAAA,GACtB5S,KAAKwuC,UAAYxuC,KAAK41C,WAAWphC,MACjCxU,KAAK61C,SAAW,IAAIjjC,EAAAA,GACpB5S,KAAK81C,QAAU91C,KAAK61C,SAASrhC,MAC7BxU,KAAK+1C,oBAAqB,EAC1B/1C,KAAKg2C,mBAAqB,GAC1Bh2C,KAAKgQ,YAAc,GACnBhQ,KAAKQ,GAAKA,EACVR,KAAK+E,UAAYopC,EAAIrR,OAAO98B,KAAKquC,OAAQtR,GAAE,sBAC3C,IAAMxW,EAAW,IAAImuB,GACfuB,EAAwB,IAAIC,GAClCl2C,KAAK4P,KAAO3K,EAAQkxC,WAAW,aAAcn2C,KAAK+E,UAAWwhB,EAAU,CAAC,IAAIirB,IAAwB,CAChG4E,iBAAkB,CAAEC,MAAO,SAAAlyC,GAAO,OAAIA,EAAQyvC,SAAS,GACvD0C,kBAAkB,EAClBlvB,0BAA0B,EAC1BT,qBAAqB,EACrBsvB,sBAAAA,IAEJj2C,KAAK4P,KAAKqS,iBAAiBzhB,GAAKA,EAChCR,KAAKgQ,YAAYvM,KAAKzD,KAAK4P,MAC3B5P,KAAKgQ,YAAYvM,KAAKzD,KAAK4P,KAAK4+B,WAAU,SAAAptC,GACtC,IAAMoT,EAAQ,IAAIgpB,EAAAA,EAAsBp8B,GACxC,OAAQoT,EAAMgF,SACV,KAAK,GACDrU,EAAKoxC,iBACL,MACJ,KAAK,IACGpjC,EAAAA,GAAuB/R,EAAEmY,QAAUnY,EAAEkY,UACrCnU,EAAKyK,KAAK4mC,UAAShH,EAAAA,EAAAA,IAAMrqC,EAAKyK,KAAK5N,SAEvC,MACJ,KAAK,GACD,IAAMy0C,EAAStxC,EAAKyK,KAAKqY,WACH,IAAlBwuB,EAAOz0C,QAA8B,IAAdy0C,EAAO,IAC9BtxC,EAAK0wC,SAAS3iC,OAElB,MAEJ,KAAK,GACD,IAAMwjC,EAASvxC,EAAKyK,KAAKqY,WACH,IAAlByuB,EAAO10C,QAAgB00C,EAAO,KAAOvxC,EAAKyK,KAAK5N,OAAS,GACxDmD,EAAK0wC,SAAS3iC,OAK1B/N,EAAKywC,WAAW1iC,KAAKsB,EACzB,KACAxU,KAAKgQ,YAAYvM,KAAKzD,KAAK4P,KAAKk/B,aAAY,SAAA1tC,GACV,IAA1BA,EAAEikB,aAAamF,QAEfppB,EAAEikB,aAAa2sB,gBAEvB,KACAhyC,KAAKgQ,YAAYvM,KAAK0qC,EAAIM,sBAAsBzuC,KAAK+E,UAAWopC,EAAIS,UAAUiD,OAAO,SAAAzwC,IAC7EA,EAAEu1C,GAAKv1C,EAAEw1C,IACTzxC,EAAK0wC,SAAS3iC,MAEtB,KACAlT,KAAKgQ,YAAYvM,KAAKzD,KAAK4P,KAAKinC,oBAAmB,SAAAz1C,GAC/C+D,EAAK0wC,SAAS3iC,MAClB,KACAlT,KAAKgQ,YAAYvM,KAAKzD,KAAK4P,KAAKknC,eAAc,SAAA11C,GACnB,kBAAZA,EAAEkH,QACTlH,EAAEikB,aAAa2sB,iBAMf7sC,EAAKyK,KAAKmnC,aAAa,CAAC31C,EAAEkH,QAElC,KACA,IAAM0uC,EAAU,IAAIC,EAAAA,GAAiBhyC,EAAQiyC,cAAcre,OAG3D74B,KAAKgQ,YAAYvM,KAAKzD,KAAK4P,KAAKunC,aAAY,SAAC/1C,GAAC,OAAKw+B,GAAUz6B,OAAM,OAAQ,GAAMo8B,EAAAA,EAAAA,KAAAC,MAAE,SAAAkC,IAAA,IAAA18B,EAAAnB,EAAA,YAAA07B,EAAAA,EAAAA,KAAAU,MAAA,SAAA+B,GAAA,cAAAA,EAAA7B,KAAA6B,EAAA5D,MAAA,YAI3Eh/B,EAAEikB,aAAa1jB,kBAAkBy1C,mBAAiB,CAAApT,EAAA5D,KAAA,QACjC,OAAjB4W,EAAQ7/B,SAAS6sB,EAAAP,OAAA,oBAKnBriC,EAAEikB,aAAagyB,yBAAyBD,oBAEtCjJ,EAAImJ,WAAWl2C,EAAEikB,aAAagyB,cAAoC,QAApBrwC,EAAK5F,EAAE+C,eAA4B,IAAP6C,OAAgB,EAASA,EAAG7C,SAAQ,CAAA6/B,EAAA5D,KAAA,eAAA4D,EAAAP,OAAA,iBAI9G,OAJ8GO,EAAA7B,KAAA,EAAA6B,EAAA5D,KAAA,EAIxG4W,EAAQ/R,SAAQ,kBAAMrF,GAAU/5B,OAAM,OAAQ,GAAM07B,EAAAA,EAAAA,KAAAC,MAAE,SAAA4B,IAAA,OAAA7B,EAAAA,EAAAA,KAAAU,MAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjD,MAAA,OACpDh/B,EAAE+C,SACFnE,KAAKu3C,UAAUn2C,EAAE+C,SACpB,wBAAAk/B,EAAA72B,OAAA,GAAA42B,EAAA,SACH,IAAC,OAAAY,EAAA5D,KAAA,oBAAA4D,EAAA7B,KAAA,GAAA6B,EAAAmB,GAAAnB,EAAA,UAIEsE,EAAAA,GAAAA,IAAmBtE,EAAAmB,IAAK,CAAFnB,EAAA5D,KAAA,eAAA4D,EAAAmB,GAAA,yBAAAnB,EAAAx3B,OAAA,GAAAk3B,EAAA,kBAIjC,KACF1jC,KAAKgQ,YAAYvM,KAAKzD,KAAK4P,KAAK4nC,YAAW,SAAAp2C,GACvC,IAAI4F,EAIAmnC,EAAImJ,WAAWl2C,EAAEikB,aAAagyB,cAAoC,QAApBrwC,EAAK5F,EAAE+C,eAA4B,IAAP6C,OAAgB,EAASA,EAAG7C,UAG1G6yC,EAAQ7/B,QACZ,KACAnX,KAAKgQ,YAAYvM,KAAKzD,KAAKg1C,4BAA6Bh1C,KAAKk1C,uBAAwBl1C,KAAKo1C,uBAAwBp1C,KAAKs1C,0BAA2Bt1C,KAAKw1C,mBAAoBx1C,KAAK01C,4BAA6B11C,KAAK61C,SAAU71C,KAAK41C,WAAYoB,EACjP,CAuaC,OAvaAx3C,EAAAA,EAAAA,GAAAm1C,EAAA,EAAA90C,IAAA,mBAAAwI,IACD,WACI,OAAOoM,EAAAA,GAAMwB,IAAIjW,KAAK4P,KAAKuY,kBAAkB,SAAA/mB,GAAC,OAAIA,EAAE8oB,SAASjU,KAAI,SAAA7U,GAAC,OAAIA,EAAEsN,IAAI,GAAC,GACjF,GAAC,CAAA7O,IAAA,uBAAAwI,IACD,WACI,OAAOoM,EAAAA,GAAMwB,IAAIjW,KAAK4P,KAAKiY,sBAAsB,SAAAzmB,GAAC,MAAK,CAAEua,MAAOva,EAAE8oB,SAASjU,KAAI,SAAA7U,GAAC,OAAIA,EAAEsN,IAAI,IAAG8F,MAAOpT,EAAEikB,aAAc,GACxH,GAAC,CAAAxlB,IAAA,YAAAwI,IACD,WACI,OAAOrI,KAAK4P,KAAK6nC,SACrB,EAACxzC,IACD,SAAcwzC,GACVz3C,KAAK4P,KAAK6nC,UAAYA,CAC1B,GAAC,CAAA53C,IAAA,YAAAwI,IACD,WACI,OAAOrI,KAAK4P,KAAKqS,iBAAiBmmB,SACtC,EAACnkC,IACD,SAAcyS,GACV1W,KAAK4P,KAAKqS,iBAAiBmmB,UAAY1xB,CAC3C,GAAC,CAAA7W,IAAA,uBAAAC,MACD,WACI,OAAOE,KAAK03C,kBAAkB13C,KAAKkqB,UAAU,EACjD,GAAC,CAAArqB,IAAA,oBAAAC,MACD,SAAkBoqB,GACd,IADgD,IAAxBytB,IAAe51C,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,KAAAA,UAAA,GAC9BO,EAAI,EAAGrB,EAAIipB,EAASloB,OAAQM,EAAIrB,EAAGqB,IAAK,CAC7C,IAAM6B,EAAU+lB,EAAS5nB,GACzB,IAAK6B,EAAQitC,OAAQ,CACjB,IAAKjtC,EAAQ+tC,QACT,OAAO,EAGPyF,GAAkB,CAE1B,CACJ,CACA,OAAOA,CACX,GAAC,CAAA93C,IAAA,kBAAAC,MACD,WAGI,IAFA,IAAI83C,EAAQ,EACN1tB,EAAWlqB,KAAKkqB,SACb5nB,EAAI,EAAGrB,EAAIipB,EAASloB,OAAQM,EAAIrB,EAAGqB,IACpC4nB,EAAS5nB,GAAG4vC,SACZ0F,IAGR,OAAOA,CACX,GAAC,CAAA/3C,IAAA,kBAAAC,MACD,WAGI,IAFA,IAAI83C,EAAQ,EACN1tB,EAAWlqB,KAAKkqB,SACb5nB,EAAI,EAAGrB,EAAIipB,EAASloB,OAAQM,EAAIrB,EAAGqB,IACnC4nB,EAAS5nB,GAAG8uC,QACbwG,IAGR,OAAOA,CACX,GAAC,CAAA/3C,IAAA,uBAAAC,MACD,SAAqBoyC,GACjB,IACIlyC,KAAK+1C,oBAAqB,EAC1B/1C,KAAKkqB,SAAS2f,SAAQ,SAAA1lC,GACbA,EAAQitC,SACTjtC,EAAQ+tC,QAAUA,EAE1B,GACJ,CAAC,QAEGlyC,KAAK+1C,oBAAqB,EAC1B/1C,KAAK63C,mBACT,CACJ,GAAC,CAAAh4C,IAAA,cAAAC,MACD,SAAY80C,GAAe,IAAAt9B,EAAA,KACvBtX,KAAKg2C,oBAAqBvxC,EAAAA,EAAAA,IAAQzE,KAAKg2C,oBACvC,IAAM1B,EAAsB,SAAC9/B,GAAK,OAAK8C,EAAKg9B,oBAAoB9/B,EAAM,EAChE+/B,EAA+B,SAAC//B,GAAK,OAAK8C,EAAKi9B,6BAA6B//B,EAAM,EACxFxU,KAAK40C,cAAgBA,EACrB50C,KAAKkqB,SAAW0qB,EAAckD,QAAO,SAAC7rC,EAAQyC,EAAMpG,GAChD,IAAItB,EAAIC,EAAI8vB,EAIRghB,EAAU1E,EAAiBQ,EAAYtN,EAAiB2M,EAAuBC,EAAkB6E,EAH/FC,EAAW3vC,GAASssC,EAActsC,EAAQ,GAC1CsrC,EAAYllC,EAAKgI,MAAQhI,EAAKgI,MAAMylB,QAAQ,SAAU,KAAO,GAC7D+b,GAAgBC,EAAAA,GAAAA,IAAoBvE,GAAWwE,KAAK9V,OAExC,cAAd5zB,EAAKkC,OACLmnC,EAAWrpC,EAAK2pC,MAAQ3pC,EAAK2pC,KAAKlc,QAAQ,SAAU,KACpDkX,EAAkB3kC,EAAKyjB,aAAezjB,EAAKyjB,YAAYgK,QAAQ,SAAU,KACzE0X,EAAanlC,EAAK0K,QAAU1K,EAAK0K,OAAO+iB,QAAQ,SAAU,KAC1DoK,EAA6C,QAA1Bv/B,EAAK0H,EAAK24B,kBAA+B,IAAPrgC,OAAgB,EAASA,EAAG0P,MACjFw8B,EAAmD,QAA1BjsC,EAAKyH,EAAK24B,kBAA+B,IAAPpgC,OAAgB,EAASA,EAAGkrB,YACvFghB,EAA8C,QAA1Bpc,EAAKroB,EAAK24B,kBAA+B,IAAPtQ,OAAgB,EAASA,EAAG3d,OAClF4+B,EAActpC,EAAK0lC,SAEvB,IAKIvB,EALEyF,EAAgB5pC,EAAK05B,WAAa,CAACwL,EAAWP,EAAiBQ,GAChE59B,KAAI,SAAAjV,GAAC,OAAIu3C,EAAAA,GAAAA,IAAoBv3C,EAAE,IAC/B6hB,QAAO,SAAA7hB,GAAC,QAAMA,CAAC,IACfkJ,KAAK,MACJsuC,EAAclhC,EAAK+2B,OAAOnsB,UAAUwI,SAAS,mBAEnD,GAAkB,cAAdhc,EAAKkC,KAAsB,CAC3B,IAAKlC,EAAKw2B,QAEN,OAAOj5B,EAEX4mC,EAAYnkC,CAChB,MACSupC,GAA8B,cAAlBA,EAASrnC,OAAyBqnC,EAAS/S,UAC5D2N,EAAYoF,GAEhB,IAAM9zC,EAAU,IAAI+sC,GAAY,CAC5BsH,YAAAA,EACAlwC,MAAAA,EACAoG,KAAoB,cAAdA,EAAKkC,KAAuBlC,OAAOxL,EACzC0wC,UAAAA,EACAsE,cAAAA,EACAH,SAAAA,EACAO,cAAAA,EACAjF,gBAAAA,EACAQ,WAAAA,EACAmE,YAAAA,EACAzR,gBAAAA,EACA2M,sBAAAA,EACAC,iBAAAA,EACAjB,SAAS,EACTW,UAAAA,EACAyB,oBAAAA,EACAC,6BAAAA,IAKJ,OAHAj9B,EAAK0+B,mBAAmBvyC,KAAKU,GAC7BmT,EAAK0+B,mBAAmBvyC,KAAKU,EAAQmtC,WAAU,kBAAMh6B,EAAKugC,mBAAmB,KAC7E5rC,EAAOxI,KAAKU,GACL8H,CACX,GAAG,IACHjM,KAAK60C,kBAAoB70C,KAAKkqB,SAAS4tB,QAAO,SAAC7hC,EAAK9R,EAASmE,GACzD,IAAItB,EAEJ,OADAiP,EAAIhS,IAA4B,QAAvB+C,EAAK7C,EAAQuK,YAAyB,IAAP1H,EAAgBA,EAAK7C,EAAQ0uC,UAAWvqC,GACzE2N,CACX,GAAG,IAAIlO,KACP/H,KAAK4P,KAAKrL,OAAO,EAAGvE,KAAK4P,KAAK5N,QAC9BhC,KAAK4P,KAAKrL,OAAO,EAAGvE,KAAK4P,KAAK5N,OAAQhC,KAAKkqB,UAC3ClqB,KAAKo1C,uBAAuBliC,KAAKlT,KAAKkqB,SAASloB,OACnD,GAAC,CAAAnC,IAAA,qBAAAC,MACD,WACI,OAAOE,KAAK4P,KAAK6oC,qBACZxiC,KAAI,SAAA7U,GAAC,OAAIA,EAAEsN,IAAI,GACxB,GAAC,CAAA7O,IAAA,qBAAAC,MACD,SAAmB6b,GAAO,IAAA9D,EAAA,KAItB,GAHA7X,KAAK4P,KAAK4mC,SAAS76B,EACdkH,QAAO,SAAAnU,GAAI,OAAImJ,EAAKg9B,kBAAkBtzC,IAAImN,EAAK,IAC/CuH,KAAI,SAAAvH,GAAI,OAAImJ,EAAKg9B,kBAAkBxsC,IAAIqG,EAAK,KAC7CiN,EAAM3Z,OAAS,EAAG,CAClB,IAAM02C,EAAU14C,KAAK4P,KAAKqY,WAAW,GACd,kBAAZywB,GACP14C,KAAK4P,KAAK+oC,OAAOD,EAEzB,CACJ,GAAC,CAAA74C,IAAA,sBAAAC,MACD,WACI,OAAOE,KAAK4P,KAAKqS,iBAAiB0tB,aAAa,wBACnD,GAAC,CAAA9vC,IAAA,sBAAAC,MACD,SAAoB6b,GAAO,IAAAqE,EAAA,KACvBhgB,KAAK4P,KAAKmnC,aAAap7B,EAClBkH,QAAO,SAAAnU,GAAI,OAAIsR,EAAK60B,kBAAkBtzC,IAAImN,EAAK,IAC/CuH,KAAI,SAAAvH,GAAI,OAAIsR,EAAK60B,kBAAkBxsC,IAAIqG,EAAK,IACrD,GAAC,CAAA7O,IAAA,qBAAAC,MACD,WACI,OAAOE,KAAKkqB,SAASrH,QAAO,SAAAzhB,GAAC,OAAIA,EAAE8wC,OAAO,IACrCj8B,KAAI,SAAA7U,GAAC,OAAIA,EAAEsN,IAAI,IACfmU,QAAO,SAAAzhB,GAAC,QAAMA,CAAC,GACxB,GAAC,CAAAvB,IAAA,qBAAAC,MACD,SAAmB6b,GACf,IACI3b,KAAK+1C,oBAAqB,EAC1B,IACwBl1C,EADlBqxC,EAAU,IAAItxC,IAAME,GAAAC,EAAAA,EAAAA,GACP4a,GAAK,IAAxB,IAAA7a,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAA0B,KAAfwN,EAAI7N,EAAAf,MACXoyC,EAAQvyC,IAAI+O,EAChB,CAAC,OAAAvN,GAAAL,EAAAM,EAAAD,EAAA,SAAAL,EAAAO,GAAA,KACkCoI,EADlCC,GAAA3I,EAAAA,EAAAA,GACqBf,KAAKkqB,UAAQ,IAAnC,IAAAxgB,EAAA1I,MAAAyI,EAAAC,EAAAzI,KAAAC,MAAqC,KAA1BiD,EAAOsF,EAAA3J,MACdqE,EAAQ+tC,QAAUA,EAAQ3wC,IAAI4C,EAAQuK,KAC1C,CAAC,OAAAvN,GAAAuI,EAAAtI,EAAAD,EAAA,SAAAuI,EAAArI,GAAA,CACL,CAAC,QAEGrB,KAAK+1C,oBAAqB,EAC1B/1C,KAAK63C,mBACT,CACJ,GAAC,CAAAh4C,IAAA,UAAAoE,IACD,SAAYnE,GACRE,KAAK4P,KAAKqS,iBAAiBK,MAAM8b,cAAgBt+B,EAAQ,GAAK,MAClE,GAAC,CAAAD,IAAA,QAAAC,MACD,SAAM84C,GACF,GAAK54C,KAAK4P,KAAK5N,OAAf,CAMA,OAHI42C,IAASnE,GAAoBoE,QAAU74C,KAAK4P,KAAK5N,OAAS,IAC1D42C,EAAOnE,GAAoBqE,OAEvBF,GACJ,KAAKnE,GAAoBqE,MACrB94C,KAAK4P,KAAK6nC,UAAY,EACtBz3C,KAAK4P,KAAKmpC,gBAAW71C,GAAW,SAAC9B,GAAC,QAAOA,EAAEsN,IAAI,IAC/C,MACJ,KAAK+lC,GAAoBoE,OACrB74C,KAAK4P,KAAK6nC,UAAY,EACtBz3C,KAAK4P,KAAKopC,SAAS,OAAG91C,GAAW,SAAC9B,GAAC,QAAOA,EAAEsN,IAAI,IAChD,MACJ,KAAK+lC,GAAoBwE,KACrBj5C,KAAK4P,KAAK6nC,UAAYz3C,KAAK4P,KAAKspC,aAChCl5C,KAAK4P,KAAKupC,eAAUj2C,GAAW,SAAC9B,GAAC,QAAOA,EAAEsN,IAAI,IAC9C,MACJ,KAAK+lC,GAAoB2E,KACrBp5C,KAAK4P,KAAKypC,eAAUn2C,GAAW,OAAMA,GAAW,SAAC9B,GAAC,QAAOA,EAAEsN,IAAI,IAC/D,IAAMpG,EAAQtI,KAAK4P,KAAKqY,WAAW,GACrB,IAAV3f,IAAgBtI,KAAKkqB,SAAS5hB,EAAQ,GAAGoG,MAAQ1O,KAAK4P,KAAK0pC,kBAAoBhxC,EAAQ,GACvFtI,KAAK4P,KAAK+oC,OAAOrwC,EAAQ,GAE7B,MAEJ,KAAKmsC,GAAoB8E,SACrBv5C,KAAK4P,KAAK4pC,mBAAct2C,GAAW,OAAMA,GAAW,SAAC9B,GAAC,QAAOA,EAAEsN,IAAI,IACnE,IAAMpG,EAAQtI,KAAK4P,KAAKqY,WAAW,GACrB,IAAV3f,IAAgBtI,KAAKkqB,SAAS5hB,EAAQ,GAAGoG,MAAQ1O,KAAK4P,KAAK0pC,kBAAoBhxC,EAAQ,GACvFtI,KAAK4P,KAAK+oC,OAAOrwC,EAAQ,GAE7B,MAEJ,KAAKmsC,GAAoBgF,SACrBz5C,KAAK4P,KAAK8pC,mBAAcx2C,GAAW,SAAC9B,GAAC,QAAOA,EAAEsN,IAAI,IAClD,MACJ,KAAK+lC,GAAoBkF,aACrB35C,KAAK4P,KAAKgqC,uBAAkB12C,GAAW,SAAC9B,GAAC,QAAOA,EAAEsN,IAAI,IAG9D,IAAMgqC,EAAU14C,KAAK4P,KAAKqY,WAAW,GACd,kBAAZywB,GACP14C,KAAK4P,KAAK+oC,OAAOD,EA1CrB,CA4CJ,GAAC,CAAA74C,IAAA,aAAAC,MACD,WACIE,KAAK4P,KAAK4mC,SAAS,GACvB,GAAC,CAAA32C,IAAA,WAAAC,MACD,WACIE,KAAK4P,KAAKiqC,UACd,GACA,CAAAh6C,IAAA,YAAAC,MAIA,SAAUqE,GAAS,IACX6C,EAAIC,EAAI8vB,EADG5W,EAAA,KAEXngB,KAAK85C,aAAe95C,KAAK85C,WAAWC,aACwB,QAA3D9yC,GAAMD,EAAKhH,KAAKiF,QAAQiyC,eAAe8C,sBAAmC,IAAP/yC,GAAyBA,EAAG7B,KAAK4B,GAC1E,QAA1B+vB,EAAK/2B,KAAK85C,kBAA+B,IAAP/iB,GAAyBA,EAAGtyB,WAE9DN,EAAQA,SAAYA,EAAQ6zC,cAGjCh4C,KAAK85C,WAAa95C,KAAKiF,QAAQiyC,cAAcK,UAAU,CACnDnH,QAASjsC,EAAQ6zC,YACjBr2C,OAAQwC,EAAQA,QAChB81C,YAAa,SAACC,GACV/5B,EAAKlb,QAAQk1C,mBAAmBD,EACpC,EACAE,aAAa,EACbr1C,UAAW/E,KAAK+E,UAChBs1C,cAAe,IAChB,GACP,GAAC,CAAAx6C,IAAA,SAAAC,MACD,SAAOw6C,GACHt6C,KAAK4P,KAAKqS,iBAAiBK,MAAMg4B,UAAYA,EAAY,GAAHvwC,OAEzB,GAA7BwwC,KAAKC,MAAMF,EAAY,IAEjB,EAAC,MAAO,GACdt6C,KAAK4P,KAAK0gC,QACd,GAAC,CAAAzwC,IAAA,SAAAC,MACD,SAAO26C,GAAO,IAAAn6B,EAAA,KACV,KAAMtgB,KAAKkhC,aAAelhC,KAAK+gC,cAAgB/gC,KAAKghC,oBAAsBhhC,KAAKihC,eAE3E,OADAjhC,KAAK4P,KAAK0gC,UACH,EAEX,IAiBQoK,EAjBFC,EAAsBF,GAC5BA,EAAQA,EAAMnY,UAEEtiC,KAAK+gC,cAAgB/gC,KAAKghC,oBAAsBhhC,KAAKihC,eAejEjhC,KAAKkqB,SAAS2f,SAAQ,SAAA1lC,GAClB,IAAIoiC,EAEAA,EAD0B,UAA1BjmB,EAAKw0B,iBACax0B,EAAKygB,cAAemG,EAAAA,EAAAA,KAAoB0T,EAAAA,GAAAA,IAAsBH,GAAOtC,EAAAA,GAAAA,IAAoBh0C,EAAQyvC,kBAAe1wC,EAGhHod,EAAKygB,cAAemG,EAAAA,EAAAA,IAkI1D,SAAoCuT,EAAO94C,GACvC,IAAQy2C,EAAsBz2C,EAAtBy2C,KAAMyC,EAAgBl5C,EAAhBk5C,YAEd,IAAKA,GAAsC,IAAvBA,EAAY74C,OAC5B,OAAO84C,GAAkBL,EAAOrC,GAIpC,IAAM2C,GAAwCC,EAAAA,GAAAA,IAAM5C,EAAM,KACpD6C,EAA0B7C,EAAKp2C,OAAS+4C,EAAsC/4C,OAE9Eqa,EAAUy+B,GAAkBL,EAAOM,GAEzC,GAAI1+B,EAAS,KACkBlS,EADlBC,GAAArJ,EAAAA,EAAAA,GACWsb,GAAO,IAA3B,IAAAjS,EAAApJ,MAAAmJ,EAAAC,EAAAnJ,KAAAC,MAA6B,KAAlB49B,EAAK30B,EAAArK,MACNo7C,EAAaL,EAAY/b,EAAMqc,MAAQF,GAAuDA,EACpGnc,EAAMqc,OAASD,EACfpc,EAAMsc,KAAOF,CACjB,CAAC,OAAA/5C,GAAAiJ,EAAAhJ,EAAAD,EAAA,SAAAiJ,EAAA/I,GAAA,CACL,CACA,OAAOgb,CACX,CAvJ8Eg/B,CAA2BV,GAAqBxC,EAAAA,GAAAA,IAAoBh0C,EAAQyvC,kBAAe1wC,EAEzJ,IAAMgwC,EAAwB5yB,EAAK0gB,oBAAqBkG,EAAAA,EAAAA,KAAoB0T,EAAAA,GAAAA,IAAsBH,GAAOtC,EAAAA,GAAAA,IAAoBh0C,EAAQkvC,iBAAmB,WAAQnwC,EAC1JiwC,EAAmB7yB,EAAK2gB,eAAgBiG,EAAAA,EAAAA,KAAoB0T,EAAAA,GAAAA,IAAsBH,GAAOtC,EAAAA,GAAAA,IAAoBh0C,EAAQ0vC,YAAc,WAAQ3wC,EAC3Io4C,EAAiBh7B,EAAKy0B,aAAc7N,EAAAA,EAAAA,KAAoB0T,EAAAA,GAAAA,IAAsBH,GAAOtC,EAAAA,GAAAA,IAAoBh0C,EAAQ4zC,UAAY,WAAQ70C,EAqB3I,GApBIqjC,GAAmB2M,GAAyBC,GAAoBmI,GAChEn3C,EAAQoiC,gBAAkBA,EAC1BpiC,EAAQ+uC,sBAAwBA,EAChC/uC,EAAQgvC,iBAAmBA,EAC3BhvC,EAAQitC,QAAS,IAGjBjtC,EAAQoiC,qBAAkBrjC,EAC1BiB,EAAQ+uC,2BAAwBhwC,EAChCiB,EAAQgvC,sBAAmBjwC,EAC3BiB,EAAQitC,QAASjtC,EAAQuK,OAAQvK,EAAQuK,KAAK6sC,YAG9Cp3C,EAAQuK,KACRvK,EAAQ0uC,eAAY3vC,EAEfiB,EAAQ0uC,YACb1uC,EAAQitC,QAAS,IAGhB9wB,EAAK4gB,YAAa,CACnB,IAAM+W,EAAW9zC,EAAQmE,OAASgY,EAAKs0B,cAAczwC,EAAQmE,MAAQ,IACrEoyC,EAAmBzC,GAA8B,cAAlBA,EAASrnC,KAAuBqnC,EAAWyC,KACjDv2C,EAAQitC,SAC7BjtC,EAAQ0uC,UAAY6H,EACpBA,OAAmBx3C,EAE3B,CACJ,IArDAlD,KAAKkqB,SAAS2f,SAAQ,SAAA1lC,GAClBA,EAAQoiC,qBAAkBrjC,EAC1BiB,EAAQ+uC,2BAAwBhwC,EAChCiB,EAAQgvC,sBAAmBjwC,EAC3BiB,EAAQitC,QAAS,EACjB,IAAM6G,EAAW9zC,EAAQmE,OAASgY,EAAKs0B,cAAczwC,EAAQmE,MAAQ,GACjEnE,EAAQuK,OACRvK,EAAQ0uC,UAAYoF,GAA8B,cAAlBA,EAASrnC,OAAyBqnC,EAAS/S,QAAU+S,OAAW/0C,EAExG,IA8CJ,IAAMs4C,EAAgBx7C,KAAKkqB,SAASrH,QAAO,SAAA1e,GAAO,OAAKA,EAAQitC,MAAM,IAErE,GAAIpxC,KAAKkhC,aAAeuZ,EAAO,CAC3B,IAAMgB,EAAwBhB,EAAMl6C,cACpCi7C,EAAczuC,MAAK,SAACC,EAAGC,GACnB,OAuHhB,SAAwByuC,EAAUC,EAAUC,GACxC,IAAMC,EAAmBH,EAASnV,iBAAmB,GAC/CuV,EAAmBH,EAASpV,iBAAmB,GACrD,GAAIsV,EAAiB75C,SAAW85C,EAAiB95C,OAC7C,OAAQ,EAEZ,IAAK65C,EAAiB75C,QAAU85C,EAAiB95C,OAC7C,OAAO,EAEX,GAAgC,IAA5B65C,EAAiB75C,QAA4C,IAA5B85C,EAAiB95C,OAClD,OAAO,EAEX,OAAO+5C,EAAAA,EAAAA,IAAgBL,EAASxD,cAAeyD,EAASzD,cAAe0D,EAC3E,CApIuBI,CAAehvC,EAAGC,EAAGwuC,EAChC,GACJ,CAWA,OAVAz7C,KAAK60C,kBAAoB2G,EAAc1D,QAAO,SAAC7hC,EAAK9R,EAASmE,GACzD,IAAItB,EAEJ,OADAiP,EAAIhS,IAA4B,QAAvB+C,EAAK7C,EAAQuK,YAAyB,IAAP1H,EAAgBA,EAAK7C,EAAQ0uC,UAAWvqC,GACzE2N,CACX,GAAG,IAAIlO,KACP/H,KAAK4P,KAAKrL,OAAO,EAAGvE,KAAK4P,KAAK5N,OAAQw5C,GACtCx7C,KAAK4P,KAAK4mC,SAAS,IACnBx2C,KAAK4P,KAAK0gC,SACVtwC,KAAKg1C,4BAA4B9hC,KAAKlT,KAAKi8C,wBAC3Cj8C,KAAKo1C,uBAAuBliC,KAAKsoC,EAAcx5C,SACxC,CACX,GAAC,CAAAnC,IAAA,iBAAAC,MACD,WACI,IACIE,KAAK+1C,oBAAqB,EAC1B,IAE8BpsC,EAFxBugB,EAAWlqB,KAAK4P,KAAK6oC,qBACrByD,EAAal8C,KAAK03C,kBAAkBxtB,GAAUtgB,GAAA7I,EAAAA,EAAAA,GAC9BmpB,GAAQ,IAA9B,IAAAtgB,EAAA5I,MAAA2I,EAAAC,EAAA3I,KAAAC,MAAgC,CAAdyI,EAAA7J,MACNoyC,SAAWgK,CACvB,CAAC,OAAA/6C,GAAAyI,EAAAxI,EAAAD,EAAA,SAAAyI,EAAAvI,GAAA,CACL,CAAC,QAEGrB,KAAK+1C,oBAAqB,EAC1B/1C,KAAK63C,mBACT,CACJ,GAAC,CAAAh4C,IAAA,UAAAC,MACD,SAAQg0C,GACJ9zC,KAAK+E,UAAUud,MAAMwxB,QAAUA,EAAU,GAAK,MAClD,GAAC,CAAAj0C,IAAA,cAAAC,MACD,WACI,MAAwC,SAAjCE,KAAK+E,UAAUud,MAAMwxB,OAChC,GAAC,CAAAj0C,IAAA,UAAAC,MACD,WACIE,KAAKg2C,oBAAqBvxC,EAAAA,EAAAA,IAAQzE,KAAKg2C,oBACvCh2C,KAAKgQ,aAAcvL,EAAAA,EAAAA,IAAQzE,KAAKgQ,YACpC,GAAC,CAAAnQ,IAAA,oBAAAC,MACD,WACQE,KAAK+1C,qBACL/1C,KAAKg1C,4BAA4B9hC,KAAKlT,KAAKi8C,wBAC3Cj8C,KAAKk1C,uBAAuBhiC,KAAKlT,KAAKm8C,mBACtCn8C,KAAKs1C,0BAA0BpiC,KAAKlT,KAAKo8C,sBAEjD,GAAC,CAAAv8C,IAAA,sBAAAC,MACD,SAAoB0U,GAChBxU,KAAKw1C,mBAAmBtiC,KAAKsB,EACjC,GAAC,CAAA3U,IAAA,+BAAAC,MACD,SAA6B0U,GACzBxU,KAAK01C,4BAA4BxiC,KAAKsB,EAC1C,GAAC,CAAA3U,IAAA,QAAAC,MACD,SAAMyoB,GACFvoB,KAAK4P,KAAK0S,MAAMiG,EACpB,GAAC,CAAA1oB,IAAA,cAAAC,MACD,WAAc,IAAA0gB,EAAA,KAEV,GADgBxgB,KAAK4P,KAAK6oC,qBAAqB,GAClCT,YAIb,IAAIh4C,KAAK85C,YAAe95C,KAAK85C,WAAWC,WAAxC,CAKA,IAAMrB,EAAU14C,KAAK4P,KAAK6oC,qBAAqB,GAC/C,GAAKC,EAAL,CAGA14C,KAAKu3C,UAAUmB,GACf,IAAMxO,EAAQ,IAAIvmC,EAAAA,GAClBumC,EAAMvqC,IAAIK,KAAK4P,KAAKuY,kBAAiB,SAAA/mB,GAC7BA,EAAEi7C,QAAQr6C,QACVwe,EAAK+2B,UAAUn2C,EAAE8oB,SAAS,GAElC,KACIlqB,KAAK85C,YACL5P,EAAMvqC,IAAIK,KAAK85C,YAEnB95C,KAAKs8C,aAAepS,EACpBlqC,KAAKg2C,mBAAmBvyC,KAAKzD,KAAKs8C,aAZlC,CALA,MAFIt8C,KAAK85C,WAAWr1C,SAoBxB,KAACkwC,CAAA,CApjBsB,GAklB3B,SAASmG,GAAkByB,EAAMC,GAC7B,IAAMC,EAAaD,EAAmBj8C,cAAciE,QAAQ+3C,EAAKh8C,eACjE,OAAoB,IAAhBk8C,EACO,CAAC,CAAEtB,MAAOsB,EAAYrB,IAAKqB,EAAaF,EAAKv6C,SAEjD,IACX,CAlCAP,GAAW,CACPi7C,EAAAA,GACD/H,GAAenkC,UAAW,mBAAoB,MACjD/O,GAAW,CACPi7C,EAAAA,GACD/H,GAAenkC,UAAW,uBAAwB,MA2CpD,IACK0lC,GAA+B,oBAAAA,KAAAz2C,EAAAA,EAAAA,GAAA,KAAAy2C,EAAA,CAwBhC,OAxBgC12C,EAAAA,EAAAA,GAAA02C,EAAA,EAAAr2C,IAAA,qBAAAC,MACjC,WACI,OAAO+C,EAAAA,EAAAA,IAAS,aAAc,cAClC,GAAC,CAAAhD,IAAA,eAAAC,MACD,SAAaqE,GACT,IAAI6C,EACJ,OAAqC,QAA5BA,EAAK7C,EAAQ0uC,iBAA8B,IAAP7rC,OAAgB,EAASA,EAAG0P,OAAK,GAAA3M,OACrE5F,EAAQm0C,cAAa,MAAAvuC,OAAK5F,EAAQ0uC,UAAUn8B,OAC/CvS,EAAQm0C,aAClB,GAAC,CAAAz4C,IAAA,gBAAAC,MACD,WACI,MAAO,SACX,GAAC,CAAAD,IAAA,UAAAC,MACD,SAAQqE,GACJ,OAAOA,EAAQq0C,YAAc,WAAa,QAC9C,GAAC,CAAA34C,IAAA,YAAAC,MACD,SAAUqE,GACN,GAAKA,EAAQq0C,YAGb,MAAO,CACH14C,MAAOqE,EAAQ+tC,QACfjD,YAAa9qC,EAAQmtC,UAE7B,KAAC4E,CAAA,CAxBgC,GCpzBjCtW,GAAwC,SAAU7vB,EAAS8vB,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAU5pB,EAAS6pB,GAC/C,SAASC,EAAUpgC,GAAS,IAAMqgC,EAAKJ,EAAUK,KAAKtgC,GAAS,CAAE,MAAOsB,GAAK6+B,EAAO7+B,EAAI,CAAE,CAC1F,SAASi/B,EAASvgC,GAAS,IAAMqgC,EAAKJ,EAAiB,MAAEjgC,GAAS,CAAE,MAAOsB,GAAK6+B,EAAO7+B,EAAI,CAAE,CAC7F,SAAS++B,EAAKl0B,GAJlB,IAAenM,EAIamM,EAAO/K,KAAOkV,EAAQnK,EAAOnM,QAJ1CA,EAIyDmM,EAAOnM,MAJhDA,aAAiBggC,EAAIhgC,EAAQ,IAAIggC,GAAE,SAAU1pB,GAAWA,EAAQtW,EAAQ,KAIjBmZ,KAAKinB,EAAWG,EAAW,CAC7GF,GAAMJ,EAAYA,EAAUxzB,MAAMwD,EAAS8vB,GAAc,KAAKO,OAClE,GACJ,EAyBMrD,GAAIoR,EAAIpR,EACR4f,GAAa,CACf/L,UAAWgM,EAAAA,EAAUC,YAAYC,EAAAA,EAAQC,gBACzC3I,SAASvxC,EAAAA,EAAAA,IAAS,kBAAmB,QACrCm6C,QAAS,GAEPC,GAAU,SAAA3pC,IAAA1O,EAAAA,EAAAA,GAAAq4C,EAAA3pC,GAAA,IAAAzO,GAAAC,EAAAA,EAAAA,GAAAm4C,GACZ,SAAAA,EAAYC,GAAI,IAAA/3C,EAkBiC,OAlBjC1F,EAAAA,EAAAA,GAAA,KAAAw9C,IACZ93C,EAAAN,EAAAO,KAAA,OACK83C,GAAKA,EACV/3C,EAAKg4C,gBAAiB,EACtBh4C,EAAKi4C,SAAU,EACfj4C,EAAKy3B,UAAW,EAChBz3B,EAAKk4C,OAAQ,EACbl4C,EAAKm4C,iBAAkB,EACvBn4C,EAAKo4C,SAAW,GAChBp4C,EAAKq4C,gBAAiB,EACtBr4C,EAAKs4C,SAAW,GAChBt4C,EAAKu4C,gBAAiB,EACtBv4C,EAAKw4C,oBAAsBV,EAAWW,gBACtCz4C,EAAK04C,UAAYjiB,EAAAA,EAASC,OAC1B12B,EAAK24C,0BAA4B34C,EAAKE,UAAU,IAAIuN,EAAAA,IACpDzN,EAAK44C,iBAAmB54C,EAAKE,UAAU,IAAIuN,EAAAA,IAC3CzN,EAAK64C,iBAAmB74C,EAAKE,UAAU,IAAIuN,EAAAA,IAC3CzN,EAAK84C,mBAAqB94C,EAAKE,UAAU,IAAI1B,EAAAA,IAC7CwB,EAAK4oC,UAAY5oC,EAAK44C,iBAAiBvpC,MAAMrP,CACjD,CAsQC,OAtQA3F,EAAAA,EAAAA,GAAAy9C,EAAA,EAAAp9C,IAAA,QAAAwI,IACD,WACI,OAAOrI,KAAKk+C,MAChB,EAACj6C,IACD,SAAU2tB,GACN5xB,KAAKk+C,OAAStsB,EACd5xB,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,cAAAwI,IACD,WACI,OAAOrI,KAAKo+C,YAChB,EAACn6C,IACD,SAAgBkuB,GACZnyB,KAAKo+C,aAAejsB,EACpBnyB,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,OAAAwI,IACD,WACI,OAAOrI,KAAKq+C,MAChB,EAACp6C,IACD,SAASk8B,GACLngC,KAAKq+C,OAASle,EACdngC,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,aAAAwI,IACD,WACI,OAAOrI,KAAKs+C,WAChB,EAACr6C,IACD,SAAes6C,GACXv+C,KAAKs+C,YAAcC,EACnBv+C,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,UAAAwI,IACD,WACI,OAAOrI,KAAK48B,QAChB,EAAC34B,IACD,SAAYgT,GACRjX,KAAK48B,SAAW3lB,EAChBjX,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,aAAAwI,IACD,WACI,OAAOrI,KAAKw+C,WAChB,EAACv6C,IACD,SAAempC,GACXptC,KAAKw+C,YAAcpR,EACnBptC,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,OAAAwI,IACD,WACI,OAAOrI,KAAKq9C,KAChB,EAACp5C,IACD,SAASm+B,GACLpiC,KAAKq9C,MAAQjb,EACbpiC,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,iBAAAwI,IACD,WACI,OAAOrI,KAAKs9C,eAChB,EAACr5C,IACD,SAAmBw6C,GACf,IAAMC,EAAe1+C,KAAKs9C,kBAAoBmB,IAAmBE,EAAAA,GACjE3+C,KAAKs9C,gBAAkBmB,IAAmBE,EAAAA,GACtCD,GACA1+C,KAAKm+C,QAEb,GAAC,CAAAt+C,IAAA,UAAAwI,IACD,WACI,OAAOrI,KAAKu9C,QAChB,EAACt5C,IACD,SAAYihC,GACRllC,KAAKu9C,SAAWrY,EAChBllC,KAAKw9C,gBAAiB,EACtBx9C,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,UAAAwI,IACD,WACI,OAAOrI,KAAKy9C,QAChB,EAACx5C,IACD,SAAY8rC,GACR/vC,KAAKy9C,SAAuB,OAAZ1N,QAAgC,IAAZA,EAAqBA,EAAU,GACnE/vC,KAAK09C,gBAAiB,EACtB19C,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,oBAAAwI,IACD,WACI,OAAOrI,KAAK4+C,kBAChB,EAAC36C,IACD,SAAsB46C,GAClB7+C,KAAK4+C,mBAAqBC,EAC1B7+C,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,WAAAwI,IACD,WACI,OAAOrI,KAAK69C,SAChB,EAAC55C,IACD,SAAas0B,GACTv4B,KAAK69C,UAAYtlB,EACjBv4B,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,OAAAC,MACD,WAAO,IAAA+F,EAAA,KACC7F,KAAKo9C,UAGTp9C,KAAKi+C,mBAAmBt+C,IAAIK,KAAKk9C,GAAG4B,oBAAmB,SAAAt0B,IACb,IAAlC3kB,EAAKq/B,QAAQ1gC,QAAQgmB,IACrB3kB,EAAKi4C,0BAA0B5qC,KAAKsX,EAE5C,KACAxqB,KAAKk9C,GAAGnS,KAAK/qC,MAEbA,KAAKo9C,SAAU,EAEfp9C,KAAK++C,4BAAyB77C,EAE9BlD,KAAKg/C,mBAAgB97C,EACjBlD,KAAKklC,QAAQljC,SAGbhC,KAAKw9C,gBAAiB,GAEtBx9C,KAAK+vC,QAAQ/tC,SAGbhC,KAAK09C,gBAAiB,GAE1B19C,KAAKm+C,SACT,GAAC,CAAAt+C,IAAA,OAAAC,MACD,WACSE,KAAKo9C,SAGVp9C,KAAKk9C,GAAG1Y,MACZ,GAAC,CAAA3kC,IAAA,UAAAC,MACD,WAA6C,IAArCm/C,EAAMl9C,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAGm9C,EAAAA,GAAqBC,MAClCn/C,KAAKo9C,SAAU,EACfp9C,KAAKi+C,mBAAmB1uC,QACxBvP,KAAK+9C,iBAAiB7qC,KAAK,CAAE+rC,OAAAA,GACjC,GAAC,CAAAp/C,IAAA,SAAAC,MACD,WAAS,IACDkH,EAAIC,EADHqQ,EAAA,KAEL,GAAKtX,KAAKo9C,QAAV,CAGA,IAAMxrB,EAAQ5xB,KAAKo/C,WACfxtB,GAAS5xB,KAAKk9C,GAAGtrB,MAAMmiB,cAAgBniB,EACvC5xB,KAAKk9C,GAAGtrB,MAAMmiB,YAAcniB,EAEtBA,GAAqC,WAA5B5xB,KAAKk9C,GAAGtrB,MAAMytB,YAC7Br/C,KAAKk9C,GAAGtrB,MAAM0tB,UAAY,QAE9B,IAAMntB,EAAcnyB,KAAKu/C,iBA6BzB,GA5BIv/C,KAAKk9C,GAAGsC,aAAazL,cAAgB5hB,IACrCnyB,KAAKk9C,GAAGsC,aAAazL,YAAc5hB,GAEnCnyB,KAAKk9C,GAAGuC,aAAa1L,cAAgB5hB,IACrCnyB,KAAKk9C,GAAGuC,aAAa1L,YAAc5hB,GAEnCnyB,KAAKm9C,iBACLn9C,KAAKm9C,gBAAiB,EAClBn9C,KAAK0/C,QACLvR,EAAIwR,MAAM3/C,KAAKk9C,GAAG55C,OAAQtD,KAAK0/C,SAG/BvR,EAAIwR,MAAM3/C,KAAKk9C,GAAG55C,SAGtBtD,KAAKoiC,OAASpiC,KAAK4/C,YACnB5/C,KAAK4/C,UAAY,IAAItrC,EAAAA,GACrBtU,KAAK4/C,UAAUC,aAAY,WACnBvoC,EAAK8lC,SACL9lC,EAAK4lC,GAAG4C,YAAYC,UAE5B,GAAG,OAEF//C,KAAKoiC,MAAQpiC,KAAK4/C,YACnB5/C,KAAKk9C,GAAG4C,YAAYtzC,OACpBxM,KAAK4/C,UAAUzoC,SACfnX,KAAK4/C,eAAY18C,GAEjBlD,KAAKw9C,eAAgB,CACrBx9C,KAAKw9C,gBAAiB,EACtBx9C,KAAKk9C,GAAG8C,cAAczwC,QACtB,IAAM0wC,EAAcjgD,KAAKklC,QAAQriB,QAAO,SAAA2H,GAAM,OAAIA,IAAWmyB,EAAU,IACvE38C,KAAKk9C,GAAG8C,cAAcv8C,KAAKw8C,EAAYhqC,KAAI,SAACuU,EAAQliB,GAChD,IAAMu8B,EAAS,IAAIqb,EAAAA,GAAO,MAADn2C,OAAOzB,GAAS,GAAIkiB,EAAOomB,WAAaF,GAAalmB,EAAOmmB,WAAW,GAAM,kBAAM/Q,GAAUtoB,OAAM,OAAQ,GAAMiqB,EAAAA,EAAAA,KAAAC,MAAE,SAAA4B,IAAA,OAAA7B,EAAAA,EAAAA,KAAAU,MAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjD,MAAA,OACxIpgC,KAAK89C,0BAA0B5qC,KAAKsX,GAAQ,wBAAA6Y,EAAA72B,OAAA,GAAA42B,EAAA,SAC9C,IAEF,OADAyB,EAAOuP,QAAU5pB,EAAO4pB,SAAW,GAC5BvP,CACX,IAAI,CAAE2P,MAAM,EAAM99B,OAAO,IACzB1W,KAAKk9C,GAAGiD,eAAe5wC,QACvB,IAAM6wC,EAAepgD,KAAKklC,QAAQriB,QAAO,SAAA2H,GAAM,OAAIA,IAAWmyB,EAAU,IACxE38C,KAAKk9C,GAAGiD,eAAe18C,KAAK28C,EAAanqC,KAAI,SAACuU,EAAQliB,GAClD,IAAMu8B,EAAS,IAAIqb,EAAAA,GAAO,MAADn2C,OAAOzB,GAAS,GAAIkiB,EAAOomB,WAAaF,GAAalmB,EAAOmmB,WAAW,GAAM,kBAAM/Q,GAAUtoB,OAAM,OAAQ,GAAMiqB,EAAAA,EAAAA,KAAAC,MAAE,SAAAkC,IAAA,OAAAnC,EAAAA,EAAAA,KAAAU,MAAA,SAAA+B,GAAA,cAAAA,EAAA7B,KAAA6B,EAAA5D,MAAA,OACxIpgC,KAAK89C,0BAA0B5qC,KAAKsX,GAAQ,wBAAAwZ,EAAAx3B,OAAA,GAAAk3B,EAAA,SAC9C,IAEF,OADAmB,EAAOuP,QAAU5pB,EAAO4pB,SAAW,GAC5BvP,CACX,IAAI,CAAE2P,MAAM,EAAM99B,OAAO,GAC7B,CACA,GAAI1W,KAAK09C,eAAgB,CACrB19C,KAAK09C,gBAAiB,EAItB,IAAM2C,EAAgI,QAA7Gp5C,EAA6B,QAAvBD,EAAKhH,KAAK+vC,eAA4B,IAAP/oC,OAAgB,EAASA,EAAG6b,QAAO,SAAAy9B,GAAI,OAAIA,aAAgBC,EAAAA,CAAM,WAAsB,IAAPt5C,EAAgBA,EAAK,GACnKjH,KAAKk9C,GAAG33C,SAASwqC,QAAUsQ,CAC/B,CACArgD,KAAKk9C,GAAGuB,eAAiBz+C,KAAKy+C,eAC9Bz+C,KAAKk9C,GAAGsD,WAAWxgD,KAAKiX,SACxBjX,KAAKk9C,GAAGuD,cAAczgD,KAAKotC,YAC3B,IAAMyR,EAAoB7+C,KAAK6+C,mBAAqB7+C,KAAK29C,oBACrD39C,KAAK++C,yBAA2BF,IAChC7+C,KAAK++C,uBAAyBF,EAC9B1Q,EAAIwR,MAAM3/C,KAAKk9C,GAAGnyC,SF3OvB,SAAqConB,EAAaptB,EAAW27C,GAChEvS,EAAIwR,MAAM56C,GACV,IAE+BlE,EAFzB8/C,GAASC,EAAAA,GAAAA,GAAgBzuB,GAC3B6K,EAAW,EAAEl8B,GAAAC,EAAAA,EAAAA,GACE4/C,EAAOE,OAAK,QAAAC,EAAA,WAAE,IAAtB73C,EAAIpI,EAAAf,MACX,GAAoB,kBAATmJ,EACPlE,EAAU+3B,OAAMvwB,MAAhBxH,GAASiF,EAAAA,GAAAA,IAAW+2C,EAAAA,GAAAA,GAAqB93C,SAExC,CACD,IAAI2oB,EAAQ3oB,EAAK2oB,OACZA,GAAS3oB,EAAKg0B,KAAKttB,WAAW,YAC/BiiB,GAAQ/uB,EAAAA,EAAAA,IAAS,iBAAkB,iCAAkCoG,EAAKg0B,KAAKhqB,UAAU,IAEnF2e,IACNA,EAAQ3oB,EAAKg0B,MAEjB,IAAM+jB,EAAS7S,EAAIpR,EAAE,IAAK,CAAEE,KAAMh0B,EAAKg0B,KAAMrL,MAAAA,EAAOoL,SAAUA,KAAc/zB,EAAKyN,OACjFsqC,EAAO1+B,MAAM2+B,eAAiB,YAC9B,IAMMC,EAAUR,EAAc1wC,YAAYrQ,IAAI,IAAIy9B,GAAAA,EAAW4jB,EAAQ7S,EAAIS,UAAUiD,QAAQr9B,MACrF2sC,EAAYT,EAAc1wC,YAAYrQ,IAAI,IAAIy9B,GAAAA,EAAW4jB,EAAQ7S,EAAIS,UAAUC,WAAWr6B,MAC1F4sC,EAAiBV,EAAc1wC,YAAYrQ,IAAI8U,EAAAA,GAAM8oB,MAAM4jB,IAAYt+B,QAAO,SAAAzhB,GAChF,IAAMoT,EAAQ,IAAIgpB,EAAAA,EAAsBp8B,GACxC,OAAOoT,EAAMlO,OAAO,KAA2BkO,EAAMlO,OAAO,EAChE,IAAGkO,MACHksC,EAAc1wC,YAAYrQ,IAAIi+B,GAAAA,EAAQC,UAAUmjB,IAChD,IAAMvjB,EAAQijB,EAAc1wC,YAAYrQ,IAAI,IAAIy9B,GAAAA,EAAW4jB,EAAQK,GAAAA,EAAiB1jB,MAAMnpB,MAC1FC,EAAAA,GAAMspB,IAAImjB,EAASzjB,EAAO2jB,EAA1B3sC,EAdmB,SAACrT,GACZ+sC,EAAImT,YAAYlgD,IAChB+sC,EAAInQ,YAAYxxB,KAAKpL,GAAG,GAE5Bs/C,EAAc5wC,SAAS7G,EAAKg0B,KAChC,GASsD,KAAMyjB,EAAc1wC,aAC1EjL,EAAUw8C,YAAYP,EAC1B,CACJ,EA/BA,IAAAlgD,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAAA4/C,GA+BC,OAAA3/C,GAAAL,EAAAM,EAAAD,EAAA,SAAAL,EAAAO,GAAA,CACL,CEwMYmgD,CAA4B3C,EAAmB7+C,KAAKk9C,GAAGnyC,QAAS,CAC5D+E,SAAU,SAACsgC,GACP94B,EAAK4lC,GAAG/C,mBAAmB/J,EAC/B,EACApgC,YAAahQ,KAAKi+C,sBAGtBj+C,KAAKg/C,gBAAkBh/C,KAAKu4B,WAC5Bv4B,KAAKg/C,cAAgBh/C,KAAKu4B,SAC1Bv4B,KAAKyhD,sBAAsBzhD,KAAKu4B,UAlFpC,CAoFJ,GAAC,CAAA14B,IAAA,WAAAC,MACD,WACI,OAAIE,KAAK4xB,OAAS5xB,KAAKmgC,KACZ,GAAPp2B,OAAU/J,KAAK4xB,MAAK,MAAA7nB,OAAK/J,KAAK0hD,WAAU,KAExC1hD,KAAK4xB,MACE5xB,KAAK4xB,MAEZ5xB,KAAKmgC,KACEngC,KAAK0hD,WAET,EACX,GAAC,CAAA7hD,IAAA,iBAAAC,MACD,WACI,OAAOE,KAAKmyB,aAAe,EAC/B,GAAC,CAAAtyB,IAAA,WAAAC,MACD,WACI,OAAIE,KAAKmgC,MAAQngC,KAAKu+C,YACX17C,EAAAA,EAAAA,IAAS,mBAAoB,UAAW7C,KAAKmgC,KAAMngC,KAAKu+C,YAE/Dv+C,KAAKmgC,KACEhyB,OAAOnO,KAAKmgC,MAEhB,EACX,GAAC,CAAAtgC,IAAA,wBAAAC,MACD,SAAsBy4B,GAElB,GADAv4B,KAAKk9C,GAAG33C,SAASo8C,eAAeppB,GAC5BA,IAAaqD,EAAAA,EAASC,OAAQ,CAC9B,IAAMtT,EAASvoB,KAAKk9C,GAAG33C,SAAS8qC,cAAc9X,GAC9Cv4B,KAAKk9C,GAAGnyC,QAAQuX,MAAMs/B,MAAQr5B,EAAOs5B,WAAa,GAAH93C,OAAMwe,EAAOs5B,YAAe,GAC3E7hD,KAAKk9C,GAAGnyC,QAAQuX,MAAMw/B,gBAAkBv5B,EAAOw5B,WAAa,GAAHh4C,OAAMwe,EAAOw5B,YAAe,GACrF/hD,KAAKk9C,GAAGnyC,QAAQuX,MAAM0/B,OAASz5B,EAAOy5B,OAAS,aAAHj4C,OAAgBwe,EAAOy5B,QAAW,GAC9EhiD,KAAKk9C,GAAGnyC,QAAQuX,MAAM2/B,aAAe,MACzC,MAEIjiD,KAAKk9C,GAAGnyC,QAAQuX,MAAMs/B,MAAQ,GAC9B5hD,KAAKk9C,GAAGnyC,QAAQuX,MAAMw/B,gBAAkB,GACxC9hD,KAAKk9C,GAAGnyC,QAAQuX,MAAM0/B,OAAS,GAC/BhiD,KAAKk9C,GAAGnyC,QAAQuX,MAAM2/B,aAAe,EAE7C,GAAC,CAAApiD,IAAA,UAAAC,MACD,WACIE,KAAKwkC,OACLxkC,KAAKg+C,iBAAiB9qC,QACtByB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAqoC,EAAAzsC,WAAA,gBAAApL,KAAA,KACJ,KAAC63C,CAAA,CA1RW,CAASxjC,EAAAA,IA4RzBwjC,GAAWW,iBAAkB/6C,EAAAA,EAAAA,IAAS,iBAAkB,6DAA6D,IAC/Gq/C,GAAS,SAAAC,IAAAv9C,EAAAA,EAAAA,GAAAs9C,EAAAC,GAAA,IAAAv8C,GAAAd,EAAAA,EAAAA,GAAAo9C,GACX,SAAAA,IAAc,IAAArqC,EAuCuE,OAvCvEpY,EAAAA,EAAAA,GAAA,KAAAyiD,IACVrqC,EAAAjS,EAAA2G,MAAA,KAASxK,YACJy9B,OAAS,GACd3nB,EAAKuqC,wBAA0BvqC,EAAKxS,UAAU,IAAIuN,EAAAA,IAClDiF,EAAKwqC,oBAAsBxqC,EAAKxS,UAAU,IAAIuN,EAAAA,IAC9CiF,EAAKyqC,mBAAqBzqC,EAAKxS,UAAU,IAAIuN,EAAAA,IAC7CiF,EAAK0qC,mBAAqB1qC,EAAKxS,UAAU,IAAIuN,EAAAA,IAC7CiF,EAAK2qC,OAAS,GACd3qC,EAAK4qC,cAAe,EACpB5qC,EAAK6qC,gBAAiB,EACtB7qC,EAAK8qC,wBAAyB,EAC9B9qC,EAAK+qC,qBAAsB,EAC3B/qC,EAAKgrC,gBAAiB,EACtBhrC,EAAKirC,eAAgB,EACrBjrC,EAAKkrC,kBAAoB,QACzBlrC,EAAKmrC,cAAe,EACpBnrC,EAAKorC,kBAAmB,EACxBprC,EAAKqrC,qBAAsB,EAC3BrrC,EAAKsrC,gBAAkBjW,EAAAA,GAAekW,MACtCvrC,EAAKwrC,aAAe,GACpBxrC,EAAKyrC,oBAAqB,EAC1BzrC,EAAK0rC,qBAAuB,GAC5B1rC,EAAK2rC,yBAA2B3rC,EAAKxS,UAAU,IAAIuN,EAAAA,IACnDiF,EAAK4rC,eAAiB,GACtB5rC,EAAK6rC,sBAAuB,EAC5B7rC,EAAK8rC,uBAAyB,GAC9B9rC,EAAK+rC,4BAA8B/rC,EAAKxS,UAAU,IAAIuN,EAAAA,IACtDiF,EAAKgsC,8BAAgChsC,EAAKxS,UAAU,IAAIuN,EAAAA,IACxDiF,EAAKisC,mCAAqCjsC,EAAKxS,UAAU,IAAIuN,EAAAA,IAC7DiF,EAAKksC,uBAAwB,EAC7BlsC,EAAKmsC,IAAM,UACXnsC,EAAKosC,eAAgB,EACrBpsC,EAAKw1B,YAAc,SAACvtC,GAAK,OAAKA,CAAK,EACnC+X,EAAKssB,iBAAmBtsB,EAAKuqC,wBAAwB5tC,MACrDqD,EAAK41B,aAAe51B,EAAKwqC,oBAAoB7tC,MAC7CqD,EAAKusB,YAAcvsB,EAAKyqC,mBAAmB9tC,MAC3CqD,EAAKqsC,kBAAoBrsC,EAAK2rC,yBAAyBhvC,MACvDqD,EAAKgQ,qBAAuBhQ,EAAK+rC,4BAA4BpvC,MAC7DqD,EAAK6sB,uBAAyB7sB,EAAKgsC,8BAA8BrvC,MACjEqD,EAAKssC,4BAA8BtsC,EAAKisC,mCAAmCtvC,MAAMqD,CACrF,CAufC,OAvfArY,EAAAA,EAAAA,GAAA0iD,EAAA,EAAAriD,IAAA,gBAAAwI,IACD,WACI,OAAOrI,KAAKokD,cAChB,EAACngD,IACD,SAAkB8oC,GACd/sC,KAAKokD,eAAiBrX,EACtB/sC,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,QAAAwI,IACD,WACI,OAAOrI,KAAKw/B,MAChB,EAACv7B,IACD,SAAUnE,GACNE,KAAKqkD,WAAWvkD,EACpB,GAAC,CAAAD,IAAA,aAAAC,MACD,SAAWA,EAAOwkD,GACd,GAAItkD,KAAKw/B,SAAW1/B,EAAO,CAKvB,GAJAE,KAAKw/B,OAAS1/B,EACTwkD,GACDtkD,KAAKm+C,SAELn+C,KAAKo9C,QACap9C,KAAKk9C,GAAGttC,KAAKiT,OAAO7iB,KAAKqtC,YAAYrtC,KAAKw/B,UAExDx/B,KAAKukD,iBAGbvkD,KAAKoiD,wBAAwBlvC,KAAKlT,KAAKw/B,OAC3C,CACJ,GAAC,CAAA3/B,IAAA,YAAAwI,IAKD,WACI,OAAOrI,KAAKwkD,UAChB,EAACvgD,IAND,SAAcmkC,GACVpoC,KAAKwkD,WAAapc,EAClBpoC,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,cAAAwI,IAID,WACI,OAAOrI,KAAKykD,YAChB,EAACxgD,IACD,SAAgB6oC,GACZ9sC,KAAKykD,aAAe3X,EACpB9sC,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,QAAAwI,IACD,WACI,OAAOrI,KAAKwiD,MAChB,EAACv+C,IAOD,SAAU0X,GACN3b,KAAKwiD,OAAS7mC,EACd3b,KAAKyiD,cAAe,EACpBziD,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,YAAAwI,IAVD,WACI,OAAOrI,KAAKk9C,GAAGttC,KAAK6nC,SACxB,EAACxzC,IACD,SAAcwzC,GACVz3C,KAAKk9C,GAAGttC,KAAK6nC,UAAYA,CAC7B,GAAC,CAAA53C,IAAA,gBAAAwI,IAMD,WACI,OAAOrI,KAAK0iD,cAChB,EAACz+C,IACD,SAAkBygD,GACd1kD,KAAK0iD,eAAiBgC,EACtB1kD,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,wBAAAwI,IACD,WACI,OAAOrI,KAAK2iD,sBAChB,EAAC1+C,IACD,SAA0B68B,GACtB9gC,KAAK2iD,uBAAyB7hB,CAClC,GAAC,CAAAjhC,IAAA,qBAAAwI,IACD,WACI,OAAOrI,KAAK4iD,mBAChB,EAAC3+C,IACD,SAAuB+8B,GACnBhhC,KAAK4iD,oBAAsB5hB,EAC3BhhC,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,gBAAAwI,IACD,WACI,OAAOrI,KAAK6iD,cAChB,EAAC5+C,IACD,SAAkBg9B,GACdjhC,KAAK6iD,eAAiB5hB,EACtBjhC,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,eAAAwI,IACD,WACI,OAAOrI,KAAK8iD,aAChB,EAAC7+C,IACD,SAAiB88B,GACb/gC,KAAK8iD,cAAgB/hB,EACrB/gC,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,mBAAAwI,IACD,WACI,OAAOrI,KAAK+iD,iBAChB,EAAC9+C,IACD,SAAqB6wC,GACjB90C,KAAK+iD,kBAAoBjO,EACzB90C,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,cAAAwI,IACD,WACI,OAAOrI,KAAKgjD,YAChB,EAAC/+C,IACD,SAAgBi9B,GACZlhC,KAAKgjD,aAAe9hB,EACpBlhC,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,kBAAAwI,IACD,WACI,OAAOrI,KAAKijD,gBAChB,EAACh/C,IACD,SAAoB0gD,GAChB3kD,KAAKijD,iBAAmB0B,EACxB3kD,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,qBAAAwI,IACD,WACI,OAAOrI,KAAKkjD,mBAChB,EAACj/C,IACD,SAAuBwhC,GACnBzlC,KAAKkjD,oBAAsBzd,CAC/B,GAAC,CAAA5lC,IAAA,iBAAAwI,IACD,WACI,OAAOrI,KAAKmjD,eAChB,EAACl/C,IACD,SAAmBgpC,GACfjtC,KAAKmjD,gBAAkBlW,CAC3B,GAAC,CAAAptC,IAAA,cAAAwI,IACD,WACI,OAAOrI,KAAKqjD,YAChB,EAACp/C,IACD,SAAgB6+B,GACZ9iC,KAAKqjD,aAAevgB,EACpB9iC,KAAKsjD,oBAAqB,EAC1BtjD,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,gBAAAwI,IACD,WACI,OAAOrI,KAAKyjD,cAChB,EAACx/C,IACD,SAAkBogC,GACdrkC,KAAKyjD,eAAiBpf,EACtBrkC,KAAK0jD,sBAAuB,EAC5B1jD,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,UAAAwI,IACD,WACI,OAAIrI,KAAKokD,eAKEQ,EAAAA,GAEJ5kD,KAAKk9C,GAAGzY,OACnB,GAAC,CAAA5kC,IAAA,iBAAAoE,IACD,SAAmBgqC,GACfjuC,KAAK6kD,gBAAkB5W,EACvBjuC,KAAK+jD,uBAAwB,EAC7B/jD,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,eAAAwI,IACD,WACI,OAAOrI,KAAKikD,aAChB,EAAChgD,IACD,SAAiB6gD,GACb9kD,KAAKikD,cAAgBa,EACrB9kD,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,cAAAwI,IACD,WACI,OAAOrI,KAAK+kD,kBAChB,EAAC9gD,IACD,SAAgByS,GACZ1W,KAAK+kD,mBAAqBruC,EAC1B1W,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,cAAAwI,IACD,WACI,OAAOrI,KAAKglD,kBAChB,EAAC/gD,IACD,SAAgBghD,GACZjlD,KAAKglD,mBAAqBC,EAC1BjlD,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,KAAAwI,IACD,WACI,OAAOrI,KAAKgkD,GAChB,EAAC//C,IACD,SAAOihD,GACHllD,KAAKgkD,IAAMkB,EACXllD,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,YAAAwI,IACD,WACI,QAASrI,KAAKmlD,UAClB,EAAClhD,IACD,SAAc0+B,GACV3iC,KAAKmlD,WAAaxiB,EAClB3iC,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,iBAAAC,MACD,WACQE,KAAK2kD,kBACA3kD,KAAK0kD,eACN1kD,KAAKk9C,GAAGttC,KAAKoY,MAAMysB,GAAoBqE,OAGnD,GAAC,CAAAj5C,IAAA,OAAAC,MACD,WAAO,IAAAkgB,EAAA,KACEhgB,KAAKo9C,UACNp9C,KAAKi+C,mBAAmBt+C,IAAIK,KAAKk9C,GAAG33C,SAAS0pC,aAAY,SAAAnvC,GACrDkgB,EAAKqkC,WAAWvkD,GAAO,EAC3B,KACAE,KAAKi+C,mBAAmBt+C,IAAIK,KAAKk9C,GAAG33C,SAASupC,aAAY,SAAAt6B,GAChDwL,EAAK2kC,iBACN3kC,EAAKk9B,GAAGttC,KAAKw1C,YAErB,KACAplD,KAAKi+C,mBAAmBt+C,KAAKK,KAAKmlD,WAAanlD,KAAKk9C,GAAGttC,KAAO5P,KAAKk9C,GAAG33C,UAAUipC,WAAU,SAACh6B,GACvF,OAAQA,EAAMgF,SACV,KAAK,GACDwG,EAAKk9B,GAAGttC,KAAKoY,MAAMysB,GAAoB2E,MACnCp5B,EAAK0kC,eACL1kC,EAAKk9B,GAAGttC,KAAKiqC,WAEjB1L,EAAInQ,YAAYxxB,KAAKgI,GAAO,GAC5B,MACJ,KAAK,GACGwL,EAAKk9B,GAAGttC,KAAK6oC,qBAAqBz2C,OAClCge,EAAKk9B,GAAGttC,KAAKoY,MAAMysB,GAAoB8E,UAGvCv5B,EAAKk9B,GAAGttC,KAAKoY,MAAMysB,GAAoBwE,MAEvCj5B,EAAK0kC,eACL1kC,EAAKk9B,GAAGttC,KAAKiqC,WAEjB1L,EAAInQ,YAAYxxB,KAAKgI,GAAO,GAC5B,MACJ,KAAK,GACDwL,EAAKk9B,GAAGttC,KAAKoY,MAAMysB,GAAoBgF,UACnCz5B,EAAK0kC,eACL1kC,EAAKk9B,GAAGttC,KAAKiqC,WAEjB1L,EAAInQ,YAAYxxB,KAAKgI,GAAO,GAC5B,MACJ,KAAK,GACDwL,EAAKk9B,GAAGttC,KAAKoY,MAAMysB,GAAoBkF,cACnC35B,EAAK0kC,eACL1kC,EAAKk9B,GAAGttC,KAAKiqC,WAEjB1L,EAAInQ,YAAYxxB,KAAKgI,GAAO,GAC5B,MACJ,KAAK,GACD,IAAKwL,EAAK2iC,uBACN,OAEJ,IAAK3iC,EAAKk9B,GAAG33C,SAASmqC,mBAClB,OAEA1vB,EAAK8iB,YAAY,KACjB9iB,EAAKyjC,eAAiB,CAACzjC,EAAK8iB,YAAY,IACxC9iB,EAAK4jC,4BAA4B1wC,KAAK8M,EAAKqkB,eAC3CrkB,EAAKqlC,cAAa,IAEtB,MACJ,KAAK,IACI7wC,EAAM8E,UAAW9E,EAAM+E,SAAa/E,EAAMqF,UAAarF,EAAMuF,SAC9DiG,EAAKk9B,GAAGttC,KAAKoY,MAAMysB,GAAoBqE,OACvC3K,EAAInQ,YAAYxxB,KAAKgI,GAAO,IAEhC,MACJ,KAAK,IACIA,EAAM8E,UAAW9E,EAAM+E,SAAa/E,EAAMqF,UAAarF,EAAMuF,SAC9DiG,EAAKk9B,GAAGttC,KAAKoY,MAAMysB,GAAoBwE,MACvC9K,EAAInQ,YAAYxxB,KAAKgI,GAAO,IAI5C,KACAxU,KAAKi+C,mBAAmBt+C,IAAIK,KAAKk9C,GAAG9Y,aAAY,WACxCpkB,EAAK0kC,cAIA1kC,EAAKk9B,GAAGttC,KAAKwsC,qBAAqBp6C,SACnCge,EAAKyjC,eAAiB,GACtBzjC,EAAK4jC,4BAA4B1wC,KAAK8M,EAAKqkB,gBAG1CrkB,EAAK8iB,YAAY,KAEtB9iB,EAAKyjC,eAAiB,CAACzjC,EAAK8iB,YAAY,IACxC9iB,EAAK4jC,4BAA4B1wC,KAAK8M,EAAKqkB,gBAE/CrkB,EAAKqlC,cAAa,EACtB,KACArlD,KAAKi+C,mBAAmBt+C,IAAIK,KAAKk9C,GAAGoI,aAAY,WAC5CtlC,EAAKuiC,mBAAmBrvC,MAC5B,KACAlT,KAAKi+C,mBAAmBt+C,IAAIK,KAAKk9C,GAAGttC,KAAKuY,kBAAiB,SAAAo9B,GAClDvlC,EAAKsjC,oBAGLtjC,EAAKujC,uBAAyBvjC,EAAKqjC,eAAgB/8C,EAAAA,EAAAA,IAAOi/C,EAAcvlC,EAAKqjC,cAAc,SAACr2C,EAAGC,GAAC,OAAKD,IAAMC,CAAC,MAGhH+S,EAAKqjC,aAAekC,EACpBvlC,EAAKwjC,yBAAyBtwC,KAAKqyC,GACvC,KACAvlD,KAAKi+C,mBAAmBt+C,IAAIK,KAAKk9C,GAAGttC,KAAKiY,sBAAqB,SAAA3R,GAAqC,IAA3BmuB,EAAanuB,EAApByF,MAAsBnH,EAAK0B,EAAL1B,MAC/EwL,EAAK0kC,cACDrgB,EAAcriC,QACdge,EAAKk9B,GAAGttC,KAAK41C,oBAAoB,IAIrCxlC,EAAK2jC,yBAA2B3jC,EAAKyjC,iBAAkBn9C,EAAAA,EAAAA,IAAO+9B,EAAerkB,EAAKyjC,gBAAgB,SAACz2C,EAAGC,GAAC,OAAKD,IAAMC,CAAC,MAGvH+S,EAAKyjC,eAAiBpf,EACtBrkB,EAAK4jC,4BAA4B1wC,KAAKmxB,GAClCA,EAAcriC,QACdge,EAAKqlC,aAAa7wC,aAAiBixC,YAA+B,IAAjBjxC,EAAMgW,QAE/D,KACAxqB,KAAKi+C,mBAAmBt+C,IAAIK,KAAKk9C,GAAGttC,KAAK2lC,0BAAyB,SAAAmQ,GACzD1lC,EAAK0kC,gBAGN1kC,EAAK2jC,yBAA2B3jC,EAAKyjC,iBAAkBn9C,EAAAA,EAAAA,IAAOo/C,EAAc1lC,EAAKyjC,gBAAgB,SAACz2C,EAAGC,GAAC,OAAKD,IAAMC,CAAC,MAGtH+S,EAAKyjC,eAAiBiC,EACtB1lC,EAAK4jC,4BAA4B1wC,KAAKwyC,IAC1C,KACA1lD,KAAKi+C,mBAAmBt+C,IAAIK,KAAKk9C,GAAGttC,KAAK6lC,mBAAkB,SAAAjhC,GAAK,OAAIwL,EAAK6jC,8BAA8B3wC,KAAKsB,EAAM,KAClHxU,KAAKi+C,mBAAmBt+C,IAAIK,KAAKk9C,GAAGttC,KAAK+lC,4BAA2B,SAAAnhC,GAAK,OAAIwL,EAAK8jC,mCAAmC5wC,KAAKsB,EAAM,KAChIxU,KAAKi+C,mBAAmBt+C,IAAIK,KAAK2lD,2BACjC3lD,KAAK+jD,uBAAwB,IAEjCpvC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAstC,EAAA1xC,WAAA,aAAApL,KAAA,KACJ,GAAC,CAAAvF,IAAA,eAAAC,MACD,SAAaykC,GAET,IAAImJ,GAAO,EACX1tC,KAAKqiD,oBAAoBnvC,KAAK,CAAEw6B,KAAM,kBAAMA,GAAO,CAAI,IAElDA,GACD1tC,KAAKsiD,mBAAmBpvC,KAAK,CAAEqxB,aAAAA,GAEvC,GAAC,CAAA1kC,IAAA,0BAAAC,MACD,WAA0B,IAAAqgB,EAAA,KACtB,OAAOguB,EAAIM,sBAAsBzuC,KAAKk9C,GAAGn4C,UAAWopC,EAAIS,UAAUgX,QAAQ,SAAAxkD,GACtE,IAAI+e,EAAKukC,eAAkBvkC,EAAKikC,eAAhC,CAGA,IAAMyB,EAAgB,IAAIroB,EAAAA,EAAsBp8B,GAC1CoY,EAAUqsC,EAAcrsC,QAET2G,EAAKikC,eAAe0B,YACCtjC,MAAK,SAAAxH,GAC3C,IAAMC,EAASD,EAAErD,YACjB,QAAIsD,EAAOjZ,OAAS,KAGhBiZ,EAAO,GAAGpB,UAAwB,IAAZL,IAClBqsC,EAAcvsC,SAAWusC,EAAc9rC,QAAU8rC,EAActsC,YAKnE0B,EAAO,GAAGlB,QAAsB,IAAZP,QAGpByB,EAAO,GAAG3B,SAAuB,IAAZE,OAGrByB,EAAO,GAAG1B,SAAuB,KAAZC,IAI7B,MAEQ2G,EAAK2iB,YAAY,KACjB3iB,EAAKsjC,eAAiB,CAACtjC,EAAK2iB,YAAY,IACxC3iB,EAAKyjC,4BAA4B1wC,KAAKiN,EAAKkkB,eAC3ClkB,EAAKklC,cAAa,IAKtBllC,EAAKikC,oBAAiBlhD,EApC1B,CAsCJ,GACJ,GAAC,CAAArD,IAAA,SAAAC,MACD,WACI,GAAKE,KAAKo9C,QAAV,CAIA,IAAM2I,EAAkB/lD,KAAKylC,mBAAqBzlC,KAAKy3C,UAAY,EAC7DuO,IAAmBhmD,KAAKmyB,YACxB8zB,EAAe,CACjBr0B,QAAS5xB,KAAK4xB,SAAW5xB,KAAKmgC,QAAUngC,KAAKklC,QAAQljC,OACrDmwB,YAAa6zB,EACbE,SAAUlmD,KAAK0kD,gBAAkB1kD,KAAKmmD,cACtCC,SAAUpmD,KAAK0kD,cACfn/C,UAAWvF,KAAKmlD,WAChBrF,aAAc9/C,KAAKmlD,YAAca,EACjCK,cAAc,EACdzO,MAAO53C,KAAK0kD,cACZ4B,GAAgB,YAAZtmD,KAAKsmD,GAAmBtmD,KAAK0kD,cAAgB1kD,KAAKsmD,GACtD12C,MAAM,EACN7E,UAAW/K,KAAK6+C,kBAChB0H,aAAcvmD,KAAKumD,cAEvBvmD,KAAKk9C,GAAGsJ,gBAAgBP,IACxBtxC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAstC,EAAA1xC,WAAA,eAAApL,KAAA,MACIpF,KAAKk9C,GAAG33C,SAASzF,QAAUE,KAAKF,QAChCE,KAAKk9C,GAAG33C,SAASzF,MAAQE,KAAKF,OAE9BE,KAAK+jD,wBACL/jD,KAAK+jD,uBAAwB,EAC7B/jD,KAAKk9C,GAAG33C,SAASkqC,OAAOzvC,KAAK6kD,iBAAmB,CAAE1J,MAAOn7C,KAAK6kD,gBAAgB,GAAIzJ,IAAKp7C,KAAK6kD,gBAAgB,MAE5G7kD,KAAKk9C,GAAG33C,SAASunC,eAAiB9sC,KAAK8sC,aAAe,MACtD9sC,KAAKk9C,GAAG33C,SAASunC,YAAe9sC,KAAK8sC,aAAe,IAExD,IAAI1E,EAAYpoC,KAAKooC,UAiBrB,IAfKA,GAAa6d,EAAa1gD,WAC3B6iC,EAAYpoC,KAAK8sC,aAAeoV,EAAUuE,mBAEtCzmD,KAAK4xB,QACLwW,GAAa,MAAJr+B,OAAU/J,KAAK4xB,SAG5B5xB,KAAKk9C,GAAGttC,KAAKw4B,YAAcA,IAC3BpoC,KAAKk9C,GAAGttC,KAAKw4B,WAAYse,EAAAA,EAAAA,IAAoBte,IAEjDpoC,KAAKk9C,GAAGttC,KAAKoxB,mBAAqBhhC,KAAKghC,mBACvChhC,KAAKk9C,GAAGttC,KAAKqxB,cAAgBjhC,KAAKihC,cAClCjhC,KAAKk9C,GAAGttC,KAAKmxB,aAAe/gC,KAAK+gC,aACjC/gC,KAAKk9C,GAAGttC,KAAKklC,iBAAmB90C,KAAK80C,iBACrC90C,KAAKk9C,GAAGttC,KAAKsxB,YAAclhC,KAAKkhC,YAC5BlhC,KAAKyiD,aAOL,OANAziD,KAAKyiD,cAAe,EACpBziD,KAAKk9C,GAAGttC,KAAK+2C,YAAY3mD,KAAK2b,OAC9B3b,KAAKk9C,GAAGttC,KAAKiT,OAAO7iB,KAAKqtC,YAAYrtC,KAAKk9C,GAAG33C,SAASzF,QACtDE,KAAKk9C,GAAGgJ,SAAShU,QAAUlyC,KAAKk9C,GAAGttC,KAAKqsC,uBACxCj8C,KAAKk9C,GAAGmJ,aAAaO,SAAS5mD,KAAKk9C,GAAGttC,KAAKi3C,mBAC3C7mD,KAAKk9C,GAAGtF,MAAMgP,SAAS5mD,KAAKk9C,GAAGttC,KAAKusC,mBAC5Bn8C,KAAKmjD,iBACT,KAAKjW,EAAAA,GAAe4Z,KAChB9mD,KAAKmjD,gBAAkBjW,EAAAA,GAAekW,MACtC,MACJ,KAAKlW,EAAAA,GAAeC,OAChBntC,KAAKk9C,GAAGttC,KAAKoY,MAAMysB,GAAoBoE,QACvC74C,KAAKmjD,gBAAkBjW,EAAAA,GAAekW,MACtC,MACJ,KAAKlW,EAAAA,GAAeN,KAChB5sC,KAAKk9C,GAAGttC,KAAKoY,MAAMysB,GAAoBwE,MACvCj5C,KAAKmjD,gBAAkBjW,EAAAA,GAAekW,MACtC,MACJ,QACIpjD,KAAKukD,iBAIbvkD,KAAKk9C,GAAGn4C,UAAUmd,UAAUwI,SAAS,uBAAyB1qB,KAAK0kD,gBAC/D1kD,KAAK0kD,cACL1kD,KAAKk9C,GAAGttC,KAAKw1C,aAGbplD,KAAKukD,kBAGTvkD,KAAKsjD,qBACLtjD,KAAKsjD,oBAAqB,EAC1BtjD,KAAKujD,qBAAuBvjD,KAAKqjD,aACjCrjD,KAAKk9C,GAAGttC,KAAKm3C,mBAAmB/mD,KAAK8iC,aACjC9iC,KAAKujD,uBAAyBvjD,KAAKqjD,eACnCrjD,KAAKujD,qBAAuB,OAGhCvjD,KAAK0jD,uBACL1jD,KAAK0jD,sBAAuB,EAC5B1jD,KAAK2jD,uBAAyB3jD,KAAKyjD,eAC/BzjD,KAAK0kD,cACL1kD,KAAKk9C,GAAGttC,KAAKo3C,mBAAmBhnD,KAAKqkC,eAGrCrkC,KAAKk9C,GAAGttC,KAAK41C,oBAAoBxlD,KAAKqkC,eAEtCrkC,KAAK2jD,yBAA2B3jD,KAAKyjD,iBACrCzjD,KAAK2jD,uBAAyB,OAGtC3jD,KAAKk9C,GAAGqJ,aAAa7vC,MAAQ1W,KAAKinD,aAAe,GACjDjnD,KAAKk9C,GAAGqJ,aAAapiD,QAAQytB,MAAQ5xB,KAAKknD,aAAe,GACpDjB,EAAa1gD,WAGdvF,KAAKk9C,GAAGttC,KAAKiqC,WAET75C,KAAK0kD,eACL1kD,KAAKk9C,GAAGttC,KAAKoY,MAAMysB,GAAoBqE,QAI3C94C,KAAKylC,qBACLzlC,KAAKy3C,UAAYsO,EAjHrB,CAmHJ,KAAC7D,CAAA,CAhiBU,CAASjF,IAkiBxBiF,GAAUuE,oBAAqB5jD,EAAAA,EAAAA,IAAS,0BAA2B,gCAAgC,IAC7FskD,GAAQ,SAAAC,IAAAxiD,EAAAA,EAAAA,GAAAuiD,EAAAC,GAAA,IAAAx+B,GAAA9jB,EAAAA,EAAAA,GAAAqiD,GACV,SAAAA,IAAc,IAAA7mC,EAQuC,OARvC7gB,EAAAA,EAAAA,GAAA,KAAA0nD,IACV7mC,EAAAsI,EAAArc,MAAA,KAASxK,YACJy9B,OAAS,GACdlf,EAAKyjC,uBAAwB,EAC7BzjC,EAAK+mC,WAAY,EACjB/mC,EAAKgnC,wBAA0BhnC,EAAKjb,UAAU,IAAIuN,EAAAA,IAClD0N,EAAKgiC,mBAAqBhiC,EAAKjb,UAAU,IAAIuN,EAAAA,IAC7C0N,EAAK6jB,iBAAmB7jB,EAAKgnC,wBAAwB9yC,MACrD8L,EAAK8jB,YAAc9jB,EAAKgiC,mBAAmB9tC,MAAM8L,CACrD,CA6DC,OA7DA9gB,EAAAA,EAAAA,GAAA2nD,EAAA,EAAAtnD,IAAA,QAAAwI,IACD,WACI,OAAOrI,KAAKw/B,MAChB,EAACv7B,IACD,SAAUnE,GACNE,KAAKw/B,OAAS1/B,GAAS,GACvBE,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,cAAAwI,IACD,WACI,OAAOrI,KAAKykD,YAChB,EAACxgD,IACD,SAAgB6oC,GACZ9sC,KAAKykD,aAAe3X,EACpB9sC,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,WAAAwI,IACD,WACI,OAAOrI,KAAKqnD,SAChB,EAACpjD,IACD,SAAa4rC,GACT7vC,KAAKqnD,UAAYxX,EACjB7vC,KAAKm+C,QACT,GAAC,CAAAt+C,IAAA,OAAAC,MACD,WAAO,IAAA0gB,EAAA,KACExgB,KAAKo9C,UACNp9C,KAAKi+C,mBAAmBt+C,IAAIK,KAAKk9C,GAAG33C,SAAS0pC,aAAY,SAAAnvC,GACjDA,IAAU0gB,EAAK1gB,QAGnB0gB,EAAKgf,OAAS1/B,EACd0gB,EAAK8mC,wBAAwBp0C,KAAKpT,GACtC,KACAE,KAAKi+C,mBAAmBt+C,IAAIK,KAAKk9C,GAAG9Y,aAAY,kBAAM5jB,EAAK8hC,mBAAmBpvC,MAAM,KACpFlT,KAAK+jD,uBAAwB,IAEjCpvC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAuyC,EAAA32C,WAAA,aAAApL,KAAA,KACJ,GAAC,CAAAvF,IAAA,SAAAC,MACD,WACI,GAAKE,KAAKo9C,QAAV,CAGAp9C,KAAKk9C,GAAGn4C,UAAUmd,UAAU1D,OAAO,gBACnC,IAAMynC,EAAe,CACjBr0B,QAAS5xB,KAAK4xB,SAAW5xB,KAAKmgC,QAAUngC,KAAKklC,QAAQljC,OACrDmwB,cAAenyB,KAAKmyB,eAAiBnyB,KAAKmgC,KAC1C56B,UAAU,EAAMwF,SAAS,GAE7B/K,KAAKk9C,GAAGsJ,gBAAgBP,IACxBtxC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,GAAAuyC,EAAA32C,WAAA,eAAApL,KAAA,MACIpF,KAAKk9C,GAAG33C,SAASzF,QAAUE,KAAKF,QAChCE,KAAKk9C,GAAG33C,SAASzF,MAAQE,KAAKF,OAE9BE,KAAK+jD,wBACL/jD,KAAK+jD,uBAAwB,EAC7B/jD,KAAKk9C,GAAG33C,SAASkqC,OAAOzvC,KAAK6kD,iBAAmB,CAAE1J,MAAOn7C,KAAK6kD,gBAAgB,GAAIzJ,IAAKp7C,KAAK6kD,gBAAgB,MAE5G7kD,KAAKk9C,GAAG33C,SAASunC,eAAiB9sC,KAAK8sC,aAAe,MACtD9sC,KAAKk9C,GAAG33C,SAASunC,YAAe9sC,KAAK8sC,aAAe,IAEpD9sC,KAAKk9C,GAAG33C,SAASsqC,WAAa7vC,KAAK6vC,WACnC7vC,KAAKk9C,GAAG33C,SAASsqC,SAAW7vC,KAAK6vC,SApBrC,CAsBJ,KAACsX,CAAA,CAvES,CAASlK,IAyEVsK,GAAoB,SAAA99B,IAAA7kB,EAAAA,EAAAA,GAAA2iD,EAAA99B,GAAA,IAAAP,GAAApkB,EAAAA,EAAAA,GAAAyiD,GAC7B,SAAAA,EAAYtiD,GAAS,IAAA2mB,EAgBe,OAhBfnsB,EAAAA,EAAAA,GAAA,KAAA8nD,IACjB37B,EAAA1C,EAAA9jB,KAAA,OACKH,QAAUA,EACf2mB,EAAK3U,SAAU,EACf2U,EAAK02B,mBAAqB12B,EAAKvmB,UAAU,IAAIuN,EAAAA,IAC7CgZ,EAAK22B,mBAAqB32B,EAAKvmB,UAAU,IAAIuN,EAAAA,IAC7CgZ,EAAKkyB,0BAA4BlyB,EAAKvmB,UAAU,IAAIuN,EAAAA,IACpDgZ,EAAK6Y,QAAU,CAAE+iB,SAAS,EAAOC,KAAK,GACtC77B,EAAK87B,WAAa,KAClB97B,EAAK+7B,cAAgB/7B,EAAKvmB,UAAU,IAAIuN,EAAAA,IACxCgZ,EAAKg8B,OAASh8B,EAAK+7B,cAAcnzC,MACjCoX,EAAKi8B,cAAgBj8B,EAAKvmB,UAAU,IAAIuN,EAAAA,IACxCgZ,EAAKk8B,OAASl8B,EAAKi8B,cAAcrzC,MACjCoX,EAAKm8B,SAAW9iD,EAAQ8iD,SACxBn8B,EAAKo8B,cAAgB/iD,EAAQF,UAC7B6mB,EAAKrD,OAAStjB,EAAQsjB,OACtBqD,EAAKq8B,2BAA2Br8B,CACpC,CAkeC,OAleApsB,EAAAA,EAAAA,GAAA+nD,EAAA,EAAA1nD,IAAA,2BAAAC,MACD,WAA2B,IAAA0sB,EAAA,KACjBld,EAAW,SAAClO,GACdorB,EAAKiY,QAAQ+iB,QAAUpmD,EAAEkY,SAAWlY,EAAEmY,QACtCiT,EAAKiY,QAAQgjB,IAAMrmD,EAAE2Y,MACzB,EACA/Z,KAAKqF,UAAU8oC,EAAIM,sBAAsByZ,OAAQ/Z,EAAIS,UAAUC,SAAUv/B,GAAU,IACnFtP,KAAKqF,UAAU8oC,EAAIM,sBAAsByZ,OAAQ/Z,EAAIS,UAAUgX,OAAQt2C,GAAU,IACjFtP,KAAKqF,UAAU8oC,EAAIM,sBAAsByZ,OAAQ/Z,EAAIS,UAAUG,WAAYz/B,GAAU,GACzF,GAAC,CAAAzP,IAAA,QAAAC,MACD,WAAQ,IAAAktB,EAAA,KACJ,GAAIhtB,KAAKk9C,GACL,OAAOl9C,KAAKk9C,GAEhB,IAAMn4C,EAAYopC,EAAIrR,OAAO98B,KAAKgoD,cAAejrB,GAAE,wCACnDh4B,EAAUi4B,UAAY,EACtBj4B,EAAUud,MAAMwxB,QAAU,OAC1B,IAAMqU,EAAaha,EAAI9rB,iBAAiBtd,GAClCqjD,EAAWja,EAAIrR,OAAO/3B,EAAWg4B,GAAE,0BACnCijB,EAAgBhgD,KAAKqF,UAAU,IAAI0tC,EAAAA,EAAUqV,IACnDpI,EAAchN,QAAQ9wB,UAAUviB,IAAI,+BACpC,IAAMiyB,EAAQuc,EAAIrR,OAAOsrB,EAAUrrB,GAAE,uBAC/BojB,EAAiBngD,KAAKqF,UAAU,IAAI0tC,EAAAA,EAAUqV,IACpDjI,EAAenN,QAAQ9wB,UAAUviB,IAAI,gCACrC,IAAM6/C,EAAerR,EAAIrR,OAAO/3B,EAAWg4B,GAAE,6BACvCsrB,EAAkBla,EAAIrR,OAAO/3B,EAAWg4B,GAAE,wBAC1CmpB,EAAW/X,EAAIrR,OAAOurB,EAAiBtrB,GAAE,gCAC/CmpB,EAASt1C,KAAO,WAChBs1C,EAAShpB,aAAa,cAAcr6B,EAAAA,EAAAA,IAAS,sBAAuB,0BACpE7C,KAAKqF,UAAU8oC,EAAIyD,8BAA8BsU,EAAU/X,EAAIS,UAAUqD,QAAQ,SAAA7wC,GAC7E,IAAM8wC,EAAUgU,EAAShU,QACzBtiC,EAAK04C,qBAAqBpW,EAC9B,KACAlyC,KAAKqF,UAAU8oC,EAAIM,sBAAsByX,EAAU/X,EAAIS,UAAUiD,OAAO,SAAAzwC,IAChEA,EAAEu1C,GAAKv1C,EAAEw1C,IACTrxC,EAASixC,UAEjB,KACA,IAAMiJ,EAAetR,EAAIrR,OAAOurB,EAAiBtrB,GAAE,6BAC7CwrB,EAAiBpa,EAAIrR,OAAOurB,EAAiBtrB,GAAE,6BAC/CyrB,EAAkBra,EAAIrR,OAAOyrB,EAAgBxrB,GAAE,wBAC/Cx3B,EAAWvF,KAAKqF,UAAU,IAAI+oC,EAAcoa,EAAiBxoD,KAAKuoB,OAAOhjB,SAAUvF,KAAKuoB,OAAOyrB,SACrGzuC,EAAS23B,aAAa,mBAAoB,GAAFnzB,OAAK/J,KAAK+nD,SAAQ,YAC1D,IAAMU,EAAwBta,EAAIrR,OAAO0rB,EAAiBzrB,GAAE,+BAC5D0rB,EAAsBvrB,aAAa,YAAa,UAChDurB,EAAsBvrB,aAAa,cAAe,QAClD,IAAMmpB,EAAe,IAAIqC,EAAAA,EAAWD,EAAuB,CAAEE,aAAa9lD,EAAAA,EAAAA,IAAS,CAAEhD,IAAK,0BAA2BuyB,QAAS,CAAC,kKAAoK,gBAAkBpyB,KAAKuoB,OAAOqgC,YAC3TC,EAAiB1a,EAAIrR,OAAO0rB,EAAiBzrB,GAAE,uBACrD8rB,EAAe3rB,aAAa,YAAa,UACzC,IAAM0a,EAAQ,IAAI8Q,EAAAA,EAAWG,EAAgB,CAAEF,aAAa9lD,EAAAA,EAAAA,IAAS,CAAEhD,IAAK,2BAA4BuyB,QAAS,CAAC,kHAAoH,iBAAmBpyB,KAAKuoB,OAAOqgC,YAC/PE,EAAc3a,EAAIrR,OAAOurB,EAAiBtrB,GAAE,wBAC5CupB,EAAK,IAAIyC,EAAAA,EAAOD,EAAa9oD,KAAKuoB,OAAOiC,QAC/C87B,EAAG5vC,OAAQ7T,EAAAA,EAAAA,IAAS,KAAM,MAC1B7C,KAAKqF,UAAUihD,EAAG0C,YAAW,SAAA5nD,GACzB4rB,EAAKs1B,mBAAmBpvC,MAC5B,KACA,IAAM+1C,EAAwB9a,EAAIrR,OAAOurB,EAAiBtrB,GAAE,wBACtDwpB,EAAe,IAAIwC,EAAAA,EAAOE,EAAuBjpD,KAAKuoB,OAAOiC,QACnE+7B,EAAa7vC,OAAQ7T,EAAAA,EAAAA,IAAS,SAAU,UACxC7C,KAAKqF,UAAUkhD,EAAayC,YAAW,SAAA5nD,GACnC4rB,EAAKu1B,mBAAmBrvC,MAC5B,KACA,IAAMnI,EAAUojC,EAAIrR,OAAOyrB,EAAgBxrB,GAAE,IAADhzB,OAAK/J,KAAK+nD,SAAQ,iCACxDjI,EAAc,IAAIoJ,EAAAA,EAAYnkD,EAAW/E,KAAKuoB,OAAOu3B,aAC3DA,EAAYqJ,eAAejnC,UAAUviB,IAAI,wBACzC,IAAM2D,EAAS6qC,EAAIrR,OAAO/3B,EAAWg4B,GAAE,6BACvCz5B,EAAO05B,UAAY,EACnB,IAAMosB,EAASppD,KAAK+nD,SAAW,OACzBn4C,EAAO5P,KAAKqF,UAAU,IAAIsvC,GAAe5vC,EAAWqkD,EAAQppD,KAAKiF,UACvEM,EAAS23B,aAAa,gBAAiBksB,GACvCppD,KAAKqF,UAAUuK,EAAKuY,kBAAiB,WACjC,IAAInhB,EACJzB,EAAS23B,aAAa,wBAA+D,QAArCl2B,EAAK4I,EAAKy5C,6BAA0C,IAAPriD,EAAgBA,EAAK,GACtH,KACAhH,KAAKqF,UAAUuK,EAAKqlC,4BAA2B,SAAA/C,GAC3CgU,EAAShU,QAAUA,CACvB,KACAlyC,KAAKqF,UAAUuK,EAAKylC,uBAAsB,SAAAvzC,GACtCukD,EAAaO,SAAS9kD,EAC1B,KACA9B,KAAKqF,UAAUuK,EAAKulC,uBAAsB,SAAArzC,GACtC81C,EAAMgP,SAAS9kD,EACnB,KACA9B,KAAKqF,UAAUuK,EAAKkmC,SAAQ,WAExBwT,YAAW,WACP/jD,EAASixC,WACLxpB,EAAK06B,sBAAsBxF,IAAal1B,EAAK06B,WAAWhD,eACxD90C,EAAKw1C,YAEb,GAAG,EACP,KACA,IAAMmE,EAAepb,EAAIqb,WAAWzkD,GAiHpC,OAhHA/E,KAAKqF,UAAUkkD,GACfvpD,KAAKqF,UAAU8oC,EAAIM,sBAAsB1pC,EAAWopC,EAAIS,UAAU6a,OAAO,SAAAroD,GACrE4rB,EAAK08B,qBAAuBtoD,EAAEi2C,yBAAyBsS,YAAcvoD,EAAEi2C,mBAAgBn0C,CAC3F,IAAG,IACHlD,KAAKqF,UAAUkkD,EAAarlD,WAAU,WAC7B8oB,EAAK48B,QAAQnL,gBAAmBzxB,EAAK/nB,QAAQw5C,kBAC9CzxB,EAAKwX,KAAK0a,EAAAA,GAAqB2K,MAEnC78B,EAAK08B,0BAAuBxmD,CAChC,KACAlD,KAAKqF,UAAU8oC,EAAIM,sBAAsB1pC,EAAWopC,EAAIS,UAAU6a,OAAO,SAACroD,GACtEmE,EAASixC,UACb,KACAx2C,KAAKqF,UAAU8oC,EAAIM,sBAAsB1pC,EAAWopC,EAAIS,UAAUC,UAAU,SAACztC,GACzE,IAAMoT,EAAQ,IAAIgpB,EAAAA,EAAsBp8B,GACxC,OAAQoT,EAAMgF,SACV,KAAK,EACD20B,EAAInQ,YAAYxxB,KAAKpL,GAAG,GACpB4rB,EAAK/V,SACL+V,EAAKs1B,mBAAmBpvC,OAE5B,MACJ,KAAK,EACDi7B,EAAInQ,YAAYxxB,KAAKpL,GAAG,GACxB4rB,EAAKwX,KAAK0a,EAAAA,GAAqBthB,SAC/B,MACJ,KAAK,EACD,IAAKppB,EAAMuF,SAAWvF,EAAM8E,UAAY9E,EAAM+E,QAAS,CAEnD,IAAMuwC,EAAY,CACd,uDACA,mDACA,+CAeJ,GAbI/kD,EAAUmd,UAAUwI,SAAS,mBAC7Bo/B,EAAUrmD,KAAK,SAGfqmD,EAAUrmD,KAAK,oBAEfupB,EAAK48B,QAAQh6C,KAAKm6C,eAClBD,EAAUrmD,KAAK,gBAGfupB,EAAK48B,QAAQ7+C,SACb++C,EAAUrmD,KAAK,0BAEfupB,EAAK48B,QAAQtmD,OAAQ,CACrB,GAAI6qC,EAAImJ,WAAW9iC,EAAM7S,OAAQqrB,EAAK48B,QAAQtmD,QAE1C,MAEJwmD,EAAUrmD,KAAK,2BACnB,CACA,IAAMumD,EAAQjlD,EAAUklD,iBAAiBH,EAAU5/C,KAAK,OACpDsK,EAAMqF,UAAYrF,EAAM7S,SAAWqoD,EAAM,IAGzC7b,EAAInQ,YAAYxxB,KAAKpL,GAAG,GACxBwO,EAAKw1C,eAEC5wC,EAAMqF,UAAYs0B,EAAImJ,WAAW9iC,EAAM7S,OAAQqoD,EAAMA,EAAMhoD,OAAS,MAC1EmsC,EAAInQ,YAAYxxB,KAAKpL,GAAG,GACxB4oD,EAAM,GAAGhiC,QAEjB,CACA,MACJ,KAAK,GACGxT,EAAM8E,UACN60B,EAAInQ,YAAYxxB,KAAKpL,GAAG,GACxB4rB,EAAK48B,QAAQh6C,KAAKs6C,eAIlC,KACAlqD,KAAKk9C,GAAK,CACNn4C,UAAAA,EACAojD,WAAAA,EACAnI,cAAAA,EACAoI,SAAAA,EACAx2B,MAAAA,EACA4tB,aAAAA,EACAC,aAAAA,EACAn8C,OAAAA,EACA68C,eAAAA,EACA+F,SAAAA,EACAsC,gBAAAA,EACAjjD,SAAAA,EACAkjD,sBAAAA,EACApC,aAAAA,EACAwC,eAAAA,EACAjR,MAAAA,EACAkR,YAAAA,EACAxC,GAAAA,EACAv7C,QAAAA,EACAk+C,sBAAAA,EACA1C,aAAAA,EACA32C,KAAAA,EACAkwC,YAAAA,EACA1b,YAAapkC,KAAKsiD,mBAAmB9tC,MACrC8wC,YAAatlD,KAAKuiD,mBAAmB/tC,MACrCsqC,mBAAoB9+C,KAAK89C,0BAA0BtpC,MACnDiqC,gBAAgB,EAChBha,QAASzkC,KAAKykC,QACdsG,KAAM,SAAA2c,GAAU,OAAI16B,EAAK+d,KAAK2c,EAAW,EACzCljB,KAAM,kBAAMxX,EAAKwX,MAAM,EACvBgiB,gBAAiB,SAAAP,GAAY,OAAIj5B,EAAKw5B,gBAAgBP,EAAa,EACnEzF,WAAY,SAAAvpC,GAAO,OAAI+V,EAAKwzB,WAAWvpC,EAAQ,EAC/CwpC,cAAe,SAAArT,GAAU,OAAIpgB,EAAK/nB,QAAQw7C,cAAcrT,EAAW,EACnE+M,mBAAoB,SAAA/J,GAAO,OAAIpjB,EAAK/nB,QAAQk1C,mBAAmB/J,EAAQ,GAE3EpwC,KAAK2nB,eACE3nB,KAAKk9C,EAChB,GAAC,CAAAr9C,IAAA,OAAAC,MACD,SAAK0gC,GAAqD,IAAAlT,EAAA,KAA9CroB,EAAOlD,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAG6+B,EAAK7+B,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAGooD,EAAAA,EAAkBz1C,KAChD,OAAO,IAAIsrB,SAAQ,SAACoqB,EAAWnqB,GAC3B,IAAI7pB,EAAU,SAACnK,GACX,IAAIjF,EACJoP,EAAUg0C,EACmB,QAA5BpjD,EAAK/B,EAAQolD,iBAA8B,IAAPrjD,GAAyBA,EAAG5B,KAAKH,EAASiqC,EAAMzK,SACrF2lB,EAAUn+C,EACd,EACA,GAAI20B,EAAM4C,wBACNptB,OAAQlT,OADZ,CAIA,IACIu/B,EADEyM,EAAQ5hB,EAAKuf,kBAEb78B,EAAc,CAChBk/B,EACAA,EAAM9K,aAAY,WACd,GAAI8K,EAAMwV,cACNtuC,EAAQ84B,EAAM7K,cAAc12B,SAC5BuhC,EAAM1K,WAEL,CACD,IAAMv4B,EAASijC,EAAMpM,YAAY,GAC7B72B,IACAmK,EAAQnK,GACRijC,EAAM1K,OAEd,CACJ,IACA0K,EAAMgV,mBAAkB,SAAAvoC,GACpB,IAAM+8B,EAAU/8B,EAAM,GAClB+8B,GAAWzzC,EAAQjB,YACnBiB,EAAQjB,WAAW00C,EAE3B,IACAxJ,EAAMrnB,sBAAqB,SAAAlM,GACvB,IAAKuzB,EAAMwV,cAAe,CACtB,IAAMz4C,EAAS0P,EAAM,GACjB1P,IACAmK,EAAQnK,GACRijC,EAAM1K,OAEd,CACJ,IACA0K,EAAMxK,wBAAuB,SAAAlwB,GAAK,OAAIvP,EAAQy/B,wBAA0Bz/B,EAAQy/B,uBAAuBxiC,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGlR,GAAQ,CAAE81C,WAAY,WACrJ,IAAMhiD,EAAQ4mC,EAAMvzB,MAAMnX,QAAQgQ,EAAM9F,MACxC,IAAe,IAAXpG,EAAc,CACd,IAAMqT,EAAQuzB,EAAMvzB,MAAMhO,QACpBm3B,EAAUnpB,EAAMpX,OAAO+D,EAAO,GAC9Bw6B,EAAcoM,EAAMpM,YAAYjgB,QAAO,SAAA4f,GAAU,OAAIA,IAAeqC,EAAQ,EAAE,IAC9EC,EAA2BmK,EAAMzJ,mBACvCyJ,EAAMzJ,oBAAqB,EAC3ByJ,EAAMvzB,MAAQA,EACVmnB,IACAoM,EAAMpM,YAAcA,GAExBoM,EAAMzJ,mBAAqBV,CAC/B,CACJ,IAAK,IACTmK,EAAMiV,6BAA4B,SAAA3vC,GAAW,IAAIxN,EAAI,OAAsD,QAA9CA,EAAK/B,EAAQk/C,mCAAgD,IAAPn9C,OAAgB,EAASA,EAAG5B,KAAKH,EAASuP,EAAQ,IACrK06B,EAAM/K,kBAAiB,SAAArkC,IACf2iC,GAAe3iC,GAAuC,IAA7BovC,EAAMpM,YAAY9gC,QAAgBktC,EAAMpM,YAAY,KAAOL,IACpFyM,EAAMpM,YAAc,CAACL,GAE7B,IACA7B,EAAM2pB,yBAAwB,WAC1Brb,EAAM1K,MACV,IACA0K,EAAMnB,WAAU,YACZtpC,EAAAA,EAAAA,IAAQuL,GACRoG,OAAQlT,EACZ,KAEJgsC,EAAMtd,MAAQ3sB,EAAQ2sB,MACtBsd,EAAMwV,gBAAkBz/C,EAAQulD,YAChCtb,EAAMpC,YAAc7nC,EAAQwlD,YAC5Bvb,EAAMuP,iBAAmBx5C,EAAQylD,gBACjCxb,EAAMlO,qBAAuB/7B,EAAQ+7B,mBACrCkO,EAAMjO,gBAAkBh8B,EAAQg8B,cAChCiO,EAAMnO,kBAAyC79B,IAAzB+B,EAAQ87B,cAA+B97B,EAAQ87B,aACrEmO,EAAMyV,qBAA+CzhD,IAA5B+B,EAAQ0/C,iBAAkC1/C,EAAQ0/C,gBAC3EzV,EAAMnC,cAAgB9nC,EAAQ8nC,cAC9BmC,EAAMvM,YAAc19B,EAAQ09B,UAC5BuM,EAAM9B,WAAanoC,EAAQmoC,WAC3B8B,EAAM9M,MAAO,EACbpC,QAAQnuB,IAAI,CAAC2uB,EAAOv7B,EAAQw9B,aACvBxpB,MAAK,SAAAnC,GAA0B,IAAAsB,GAAAtO,EAAAA,EAAAA,GAAAgN,EAAA,GAAxB6E,EAAKvD,EAAA,GAAEuyC,EAAWvyC,EAAA,GAC1BqqB,EAAakoB,EACbzb,EAAM9M,MAAO,EACb8M,EAAMvzB,MAAQA,EACVuzB,EAAMwV,gBACNxV,EAAM7K,cAAgB1oB,EAAMkH,QAAO,SAAAnU,GAAI,MAAkB,cAAdA,EAAKkC,MAAwBlC,EAAKk8C,MAAM,KAEnFnoB,IACAyM,EAAMpM,YAAc,CAACL,GAE7B,IACAyM,EAAMnE,OACN/K,QAAQ5pB,QAAQoqB,GAAOvnB,UAAK/V,GAAW,SAAA/B,GACnC8+B,EAAO9+B,GACP+tC,EAAM1K,MACV,GA1FA,CA2FJ,GACJ,GAAC,CAAA3kC,IAAA,kBAAAC,MACD,WACI,IAAMo9C,EAAKl9C,KAAK4pD,QAChB,OAAO,IAAI1H,GAAUhF,EACzB,GAAC,CAAAr9C,IAAA,iBAAAC,MACD,WACI,IAAMo9C,EAAKl9C,KAAK4pD,QAChB,OAAO,IAAIzC,GAASjK,EACxB,GAAC,CAAAr9C,IAAA,OAAAC,MACD,SAAK4nD,GACD,IAAMxK,EAAKl9C,KAAK4pD,QAChB5pD,KAAK2nD,cAAcz0C,OACnB,IAAM23C,EAAgB7qD,KAAK0nD,WAC3B1nD,KAAK0nD,WAAaA,EACA,OAAlBmD,QAA4C,IAAlBA,GAAoCA,EAAcC,UAC5E9qD,KAAKwgD,YAAW,GAChBtD,EAAG8C,cAAczwC,QACjB2tC,EAAGtrB,MAAMmiB,YAAc,GACvBmJ,EAAGsC,aAAazL,YAAc,GAC9BmJ,EAAGuC,aAAa1L,YAAc,GAC9B5F,EAAIwR,MAAMzC,EAAG55C,QACb45C,EAAGiD,eAAe5wC,QAClB2tC,EAAGgJ,SAAShU,SAAU,EAEtBgL,EAAG33C,SAASunC,YAAc,GAC1BoQ,EAAG33C,SAASsqC,UAAW,EACvBqN,EAAG33C,SAASo8C,eAAe/lB,EAAAA,EAASC,QACpCqhB,EAAGmJ,aAAaO,SAAS,GACzB1J,EAAGtF,MAAMgP,SAAS,GAClBzY,EAAIwR,MAAMzC,EAAGnyC,SACbmyC,EAAG4C,YAAYtzC,OACf0wC,EAAGttC,KAAK+2C,YAAY,IACpBzJ,EAAGttC,KAAKoxB,oBAAqB,EAC7Bkc,EAAGttC,KAAKqxB,eAAgB,EACxBic,EAAGttC,KAAKmxB,cAAe,EACvBmc,EAAGttC,KAAKsxB,aAAc,EACtBgc,EAAGuB,gBAAiB,EACpBvB,EAAG33C,SAASwqC,aAAU7sC,EACtB,IAAM6nD,EAAsB/qD,KAAKiF,QAAQ8lD,sBACzCpO,GAAWvI,QAAU2W,GAAsBloD,EAAAA,EAAAA,IAAS,gCAAiC,aAAckoD,IAAuBloD,EAAAA,EAAAA,IAAS,kBAAmB,QACtJq6C,EAAGn4C,UAAUud,MAAMwxB,QAAU,GAC7B9zC,KAAKgrD,eACL9N,EAAG33C,SAASixC,UAChB,GAAC,CAAA32C,IAAA,kBAAAC,MACD,SAAgBmmD,GACZ,IAAM/I,EAAKl9C,KAAK4pD,QAChB1M,EAAGtrB,MAAMtP,MAAMwxB,QAAUmS,EAAar0B,MAAQ,GAAK,OACnDsrB,EAAGsC,aAAal9B,MAAMwxB,QAAUmS,EAAa9zB,cAAgB8zB,EAAa1gD,UAAY0gD,EAAaC,UAAY,GAAK,OACpHhJ,EAAGuC,aAAan9B,MAAMwxB,SAAUmS,EAAa9zB,aAAiB8zB,EAAa1gD,UAAY0gD,EAAaC,SAAiB,OAAL,GAChHhJ,EAAGgJ,SAAS5jC,MAAMwxB,QAAUmS,EAAaC,SAAW,GAAK,OACzDhJ,EAAGsL,gBAAgBlmC,MAAMwxB,QAAUmS,EAAa1gD,SAAW,GAAK,OAChE23C,EAAGuL,sBAAsBnmC,MAAMwxB,QAAUmS,EAAaI,aAAe,GAAK,OAC1EnJ,EAAG2L,eAAevmC,MAAMwxB,QAAUmS,EAAarO,MAAQ,GAAK,OAC5DsF,EAAG4L,YAAYxmC,MAAMwxB,QAAUmS,EAAaK,GAAK,GAAK,OACtDpJ,EAAG+L,sBAAsB3mC,MAAMwxB,QAAUmS,EAAaM,aAAe,GAAK,OAC1ErJ,EAAGnyC,QAAQuX,MAAMwxB,QAAUmS,EAAal7C,QAAU,GAAK,OACvDmyC,EAAG4C,YAAYqJ,eAAe7mC,MAAMwxB,QAAUmS,EAAanG,YAAc,GAAK,OAC9E5C,EAAGttC,KAAKkkC,UAAUmS,EAAar2C,MAC/BstC,EAAGn4C,UAAUmd,UAAU8xB,OAAO,oBAAqBiS,EAAaG,UAChElJ,EAAGn4C,UAAUmd,UAAU8xB,OAAO,gBAAiBiS,EAAa1gD,WAAa0gD,EAAa9zB,aACtFnyB,KAAKgrD,cACT,GAAC,CAAAnrD,IAAA,aAAAC,MACD,SAAWmX,GACP,GAAIA,IAAYjX,KAAKiX,QAAS,CAC1BjX,KAAKiX,QAAUA,EAAQ,IACgCpW,EADhCC,GAAAC,EAAAA,EAAAA,GACJf,KAAK4pD,QAAQ5J,cAAciL,WAAS,IAAvD,IAAAnqD,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAAyD,CAA1CL,EAAAf,MACN+kC,OAAO5tB,QAAUA,CAC1B,CAAC,OAAA9V,GAAAL,EAAAM,EAAAD,EAAA,SAAAL,EAAAO,GAAA,KACuDoI,EADvDC,GAAA3I,EAAAA,EAAAA,GACkBf,KAAK4pD,QAAQzJ,eAAe8K,WAAS,IAAxD,IAAAvhD,EAAA1I,MAAAyI,EAAAC,EAAAzI,KAAAC,MAA0D,CAA3CuI,EAAA3J,MACN+kC,OAAO5tB,QAAUA,CAC1B,CAAC,OAAA9V,GAAAuI,EAAAtI,EAAAD,EAAA,SAAAuI,EAAArI,GAAA,CACDrB,KAAK4pD,QAAQ1D,SAASgF,UAAYj0C,EAClCjX,KAAK4pD,QAAQrkD,SAAS0R,QAAUA,EAChCjX,KAAK4pD,QAAQtD,GAAGrvC,QAAUA,EAC1BjX,KAAK4pD,QAAQh6C,KAAKqH,QAAUA,CAChC,CACJ,GAAC,CAAApX,IAAA,OAAAC,MACD,SAAKm/C,GACD,IAAIj4C,EACE0gD,EAAa1nD,KAAK0nD,WACxB,GAAIA,EAAY,CACZ,IAAMyD,IAAoC,QAAlBnkD,EAAKhH,KAAKk9C,UAAuB,IAAPl2C,OAAgB,EAASA,EAAGjC,UAAU2lB,SAAStmB,SAASC,gBAI1G,GAHArE,KAAK0nD,WAAa,KAClB1nD,KAAK6nD,cAAc30C,OACnBlT,KAAK4pD,QAAQ7kD,UAAUud,MAAMwxB,QAAU,QAClCqX,EAAc,CAEf,IADA,IAAIC,EAAiBprD,KAAK0pD,qBACnB0B,IAAmBA,EAAerZ,cACrCqZ,GAAiBlkB,EAAAA,EAAAA,IAAoBkkB,EAAepD,gBAEjC,OAAnBoD,QAA8C,IAAnBA,OAA4B,EAASA,EAAerZ,eAC/EqZ,EAAepjC,QACfhoB,KAAK0pD,0BAAuBxmD,GAG5BlD,KAAKiF,QAAQomD,aAErB,CACA3D,EAAWoD,QAAQ7L,EACvB,CACJ,GAAC,CAAAp/C,IAAA,SAAAC,MACD,SAAOwrD,EAAWC,GACdvrD,KAAKsrD,UAAYA,EACjBtrD,KAAKurD,eAAiBA,EACtBvrD,KAAKgrD,cACT,GAAC,CAAAnrD,IAAA,eAAAC,MACD,WACI,GAAIE,KAAKk9C,IAAMl9C,KAAK+pD,cAAe,CAC/B/pD,KAAKk9C,GAAGn4C,UAAUud,MAAMkpC,IAAM,GAAHzhD,OAAM/J,KAAKurD,eAAc,MACpD,IAAMjpC,EAAQtiB,KAAKk9C,GAAGn4C,UAAUud,MAC1BmpC,EAAQlR,KAAKmR,IAA2B,IAAvB1rD,KAAKsrD,UAAUG,MAA+BlE,EAAqBoE,WAC1FrpC,EAAMmpC,MAAQA,EAAQ,KACtBnpC,EAAMspC,WAAa,IAAOH,EAAQ,EAAK,KACvCzrD,KAAKk9C,GAAG33C,SAAS+qC,SACjBtwC,KAAKk9C,GAAGttC,KAAK0gC,OAAOtwC,KAAKsrD,WAAqC,GAAxBtrD,KAAKsrD,UAAUO,OACzD,CACJ,GAAC,CAAAhsD,IAAA,cAAAC,MACD,SAAYyoB,GACRvoB,KAAKuoB,OAASA,EACdvoB,KAAK2nB,cACT,GAAC,CAAA9nB,IAAA,eAAAC,MACD,WACI,GAAIE,KAAKk9C,GAAI,CACT,IAAA4O,EAA+G9rD,KAAKuoB,OAAOjlB,OAAnHyoD,EAAyBD,EAAzBC,0BAA2BC,EAAoBF,EAApBE,qBAAsBC,EAAoBH,EAApBG,qBAAsBC,EAAYJ,EAAZI,aAAcC,EAAYL,EAAZK,aAC7FnsD,KAAKk9C,GAAGkL,SAAS9lC,MAAMw/B,gBAAgD,OAA9BiK,QAAoE,IAA9BA,EAAuCA,EAA4B,GAClJ/rD,KAAKk9C,GAAGn4C,UAAUud,MAAMw/B,gBAA2C,OAAzBkK,QAA0D,IAAzBA,EAAkCA,EAAuB,GACpIhsD,KAAKk9C,GAAGn4C,UAAUud,MAAMs/B,MAAiC,OAAzBqK,QAA0D,IAAzBA,EAAkCA,EAAuB,GAC1HjsD,KAAKk9C,GAAGn4C,UAAUud,MAAM0/B,OAASkK,EAAe,aAAHniD,OAAgBmiD,GAAiB,GAC9ElsD,KAAKk9C,GAAGn4C,UAAUud,MAAM8pC,UAAYD,EAAe,eAAHpiD,OAAkBoiD,GAAiB,GACnFnsD,KAAKk9C,GAAGttC,KAAK0S,MAAMtiB,KAAKuoB,OAAO3Y,MAC/B,IAAMwgC,EAAU,GACZpwC,KAAKuoB,OAAO8jC,YAAYC,mBACxBlc,EAAQ3sC,KAAK,kEAADsG,OAAmE/J,KAAKuoB,OAAO8jC,YAAYC,kBAAiB,QAExHtsD,KAAKuoB,OAAO8jC,YAAYE,uBACxBnc,EAAQ3sC,KAAK,2DAADsG,OAA4D/J,KAAKuoB,OAAO8jC,YAAYE,sBAAqB,QAErHvsD,KAAKuoB,OAAO8jC,YAAYE,uBACxBnc,EAAQ3sC,KAAK,mEAADsG,OAAoE/J,KAAKuoB,OAAO8jC,YAAYE,sBAAqB,SAE7HvsD,KAAKuoB,OAAOikC,gBAAgBC,2BAC5BzsD,KAAKuoB,OAAOikC,gBAAgBE,uBAC5B1sD,KAAKuoB,OAAOikC,gBAAgBG,6BAC5B3sD,KAAKuoB,OAAOikC,gBAAgBI,uBAC5B5sD,KAAKuoB,OAAOikC,gBAAgBK,6BAC5Bzc,EAAQ3sC,KAAK,mEACTzD,KAAKuoB,OAAOikC,gBAAgBC,2BAC5Brc,EAAQ3sC,KAAK,qBAADsG,OAAsB/J,KAAKuoB,OAAOikC,gBAAgBC,0BAAyB,MAEvFzsD,KAAKuoB,OAAOikC,gBAAgBE,uBAE5Btc,EAAQ3sC,KAAK,iBAADsG,OAAkB/J,KAAKuoB,OAAOikC,gBAAgBE,sBAAqB,MAE/E1sD,KAAKuoB,OAAOikC,gBAAgBG,6BAC5Bvc,EAAQ3sC,KAAK,wBAADsG,OAAyB/J,KAAKuoB,OAAOikC,gBAAgBG,4BAA2B,MAE5F3sD,KAAKuoB,OAAOikC,gBAAgBI,uBAC5Bxc,EAAQ3sC,KAAK,8BAADsG,OAA+B/J,KAAKuoB,OAAOikC,gBAAgBI,sBAAqB,MAE5F5sD,KAAKuoB,OAAOikC,gBAAgBK,2BAC5Bzc,EAAQ3sC,KAAK,UAADsG,OAAW/J,KAAKuoB,OAAOikC,gBAAgBK,0BAAyB,MAEhFzc,EAAQ3sC,KAAK,MAEjB,IAAMqpD,EAAY1c,EAAQlmC,KAAK,MAC3B4iD,IAAc9sD,KAAKk9C,GAAGiL,WAAWpU,cACjC/zC,KAAKk9C,GAAGiL,WAAWpU,YAAc+Y,EAEzC,CACJ,GAAC,CAAAjtD,IAAA,cAAAC,MACD,WACI,OAAOE,KAAKk9C,IAA0C,SAApCl9C,KAAKk9C,GAAGn4C,UAAUud,MAAMwxB,OAC9C,KAACyT,CAAA,CApf4B,CAAS9tC,EAAAA,IAsf1C8tC,GAAqBoE,UAAY,ICt6CjC,IAAIlqD,GAA0C,SAAUC,EAAYC,EAAQ9B,EAAK+B,GAC7E,IAA2HC,EAAvHC,EAAIC,UAAUC,OAAQC,EAAIH,EAAI,EAAIH,EAAkB,OAATC,EAAgBA,EAAOM,OAAOC,yBAAyBR,EAAQ9B,GAAO+B,EACrH,GAAuB,kBAAZQ,SAAoD,oBAArBA,QAAQC,SAAyBJ,EAAIG,QAAQC,SAASX,EAAYC,EAAQ9B,EAAK+B,QACpH,IAAK,IAAIU,EAAIZ,EAAWM,OAAS,EAAGM,GAAK,EAAGA,KAAST,EAAIH,EAAWY,MAAIL,GAAKH,EAAI,EAAID,EAAEI,GAAKH,EAAI,EAAID,EAAEF,EAAQ9B,EAAKoC,GAAKJ,EAAEF,EAAQ9B,KAASoC,GAChJ,OAAOH,EAAI,GAAKG,GAAKC,OAAOK,eAAeZ,EAAQ9B,EAAKoC,GAAIA,CAChE,EACIO,GAAoC,SAAUC,EAAYC,GAC1D,OAAO,SAAUf,EAAQ9B,GAAO6C,EAAUf,EAAQ9B,EAAK4C,EAAa,CACxE,EAaWsqD,GAAiB,SAAAC,IAAApoD,EAAAA,EAAAA,GAAAmoD,EAAAC,GAAA,IAAAnoD,GAAAC,EAAAA,EAAAA,GAAAioD,GAcxB,SAAAA,EAAYrmC,EAAsBxhB,EAAmB+nD,EAAcC,GAAe,IAAA/nD,EAOpD,OAPoD1F,EAAAA,EAAAA,GAAA,KAAAstD,IAC9E5nD,EAAAN,EAAAO,KAAA,KAAM6nD,IACDvmC,qBAAuBA,EAC5BvhB,EAAKD,kBAAoBA,EACzBC,EAAK+nD,cAAgBA,EACrB/nD,EAAKgoD,QAAUhoD,EAAKE,UAAU,IAAIuN,EAAAA,IAClCzN,EAAKioD,QAAUjoD,EAAKE,UAAU,IAAIuN,EAAAA,IAClCzN,EAAKkoD,SAAW,IAAItlD,IAAM5C,CAC9B,CA4GC,OA5GA3F,EAAAA,EAAAA,GAAAutD,EAAA,EAAAltD,IAAA,aAAAwI,IArBD,WAII,OAHKrI,KAAKstD,cACNttD,KAAKstD,YAActtD,KAAKqF,UAAUrF,KAAKutD,qBAEpCvtD,KAAKstD,WAChB,GAAC,CAAAztD,IAAA,gBAAAwI,IACD,WAAsB,QAASrI,KAAKstD,WAAa,GAAC,CAAAztD,IAAA,cAAAwI,IAClD,WAII,OAHKrI,KAAKwtD,eACNxtD,KAAKwtD,aAAextD,KAAKqF,UAAUrF,KAAK0mB,qBAAqBuf,eAAe2F,KAEzE5rC,KAAKwtD,YAChB,GAAC,CAAA3tD,IAAA,mBAAAC,MAUD,WAAqD,IAAA+F,EAAA,KAApC4nD,EAAI1rD,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG/B,KAAKktD,cAAejoD,EAAOlD,UAAAC,OAAA,EAAAD,UAAA,QAAAmB,EACzCwqD,EAAiB,CACnB3F,SAAU,cACVhjD,UAAW0oD,EAAK1oD,UAChB05C,eAAgB,kBAAM,CAAK,EAC3BsM,oBAAqB,WAAe,EACpCtK,cAAe,SAACjgD,GAAE,OAAKqF,EAAK46C,cAAcjgD,EAAG,EAC7C25C,mBAAoB,SAAC/J,GAEjBvqC,EAAK6gB,qBAAqBG,gBAAe,SAAAlgB,GACfA,EAAS0B,IAAIk2B,EAAAA,IACrBL,KAAKkS,EAAS,CAAEjS,eAAe,EAAMwvB,iBAAiB,GACxE,GACJ,EACAtC,YAAa,kBAAMoC,EAAKzlC,OAAO,EAC/BmuB,WAAY,SAAC7vB,EAAMvhB,EAAWwhB,EAAUC,EAAWvhB,GAAO,OAAKY,EAAK6gB,qBAAqBuf,eAAe7f,EAAAA,GAAeE,EAAMvhB,EAAWwhB,EAAUC,EAAWvhB,EAAQ,EACrKiyC,cAAe,CACXK,UAAS,SAACtyC,EAAS+iB,GAEnB,EACA6Q,MAAO,KAEXtQ,OAAQvoB,KAAK4tD,iBAEXlG,EAAa1nD,KAAKqF,UAAU,IAAIkiD,GAAqBrlD,OAAOwjB,OAAOxjB,OAAOwjB,OAAO,CAAC,EAAGgoC,GAAiBzoD,KAa5G,OAZAyiD,EAAWpX,OAAOmd,EAAKnC,UAAWmC,EAAKI,OAAOC,cAE9C9tD,KAAKqF,UAAUooD,EAAKM,aAAY,SAAAzC,GAAS,OAAI5D,EAAWpX,OAAOgb,EAAWmC,EAAKI,OAAOC,aAAa,KAEnG9tD,KAAKqF,UAAUqiD,EAAWE,QAAO,WAC7B/hD,EAAKmoD,mBACLnoD,EAAKsnD,QAAQj6C,MACjB,KACAlT,KAAKqF,UAAUqiD,EAAWI,QAAO,WAC7BjiD,EAAKmoD,mBACLnoD,EAAKunD,QAAQl6C,MACjB,KACOw0C,CACX,GAAC,CAAA7nD,IAAA,gBAAAC,MACD,SAAcU,GACV,IAAIX,EACAW,KACAX,EAAMG,KAAKqtD,SAAShlD,IAAI7H,MAEpBX,EAAM,IAAI+C,EAAAA,GAAcpC,GAAI,GACvBqD,OAAO7D,KAAKkF,mBACjBlF,KAAKqtD,SAASppD,IAAIzD,EAAIX,KAG1BA,GAAOA,EAAIwI,QAGfrI,KAAKguD,mBACG,OAARnuD,QAAwB,IAARA,GAA0BA,EAAIoE,KAAI,GACtD,GAAC,CAAApE,IAAA,mBAAAC,MACD,WACIE,KAAKqtD,SAASxjB,SAAQ,SAAA30B,GACdA,EAAQ7M,OACR6M,EAAQyqC,OAEhB,GACJ,GAAC,CAAA9/C,IAAA,OAAAC,MACD,SAAK0gC,GAAqD,IAA9Cv7B,EAAOlD,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAG6+B,EAAK7+B,UAAAC,OAAA,QAAAkB,IAAAnB,UAAA,GAAAA,UAAA,GAAGooD,EAAAA,EAAkBz1C,KAChD,OAAO1U,KAAK0nD,WAAWzb,KAAKzL,EAAOv7B,EAAS27B,EAChD,GAAC,CAAA/gC,IAAA,kBAAAC,MACD,WACI,OAAOE,KAAK0nD,WAAW7a,iBAC3B,GAAC,CAAAhtC,IAAA,iBAAAC,MACD,WACI,OAAOE,KAAK0nD,WAAWuG,gBAC3B,GAAC,CAAApuD,IAAA,eAAAC,MACD,WACQE,KAAKkuD,eACLluD,KAAK0nD,WAAWyG,YAAYnuD,KAAK4tD,gBAEzC,GAAC,CAAA/tD,IAAA,gBAAAC,MACD,WACI,MAAO,CACHwD,OAAQ,CACJ0oD,sBAAsBoC,EAAAA,EAAAA,KAAcpC,EAAAA,KACpCC,sBAAsBmC,EAAAA,EAAAA,KAAcnC,EAAAA,KACpCF,2BAA2BqC,EAAAA,EAAAA,KAAcrC,EAAAA,KACzCG,cAAckC,EAAAA,EAAAA,KAAclC,EAAAA,KAC5BC,cAAciC,EAAAA,EAAAA,KAAcjC,EAAAA,KAEhC5mD,SAAU8oD,EAAAA,GACVra,OAAQsa,EAAAA,GACR1F,WAAY2F,EAAAA,GACZ/jC,OAAQgkC,EAAAA,GACR1O,YAAa2O,EAAAA,GACbjC,gBAAiBkC,EAAAA,GACjB9+C,MAAM4Y,EAAAA,EAAAA,IAAc,CAChBmmC,eAAgB3C,EAAAA,IAChB4C,oBAAqBC,EAAAA,IACrBC,oBAAqBC,EAAAA,IAErBC,4BAA6BD,EAAAA,IAC7BE,oCAAqCC,EAAAA,IACrCC,4BAA6BN,EAAAA,IAC7BO,iBAAkBC,EAAAA,IAClBC,yBAA0BD,EAAAA,MAE9BhD,YAAa,CACTC,mBAAmB8B,EAAAA,EAAAA,KAAc9B,EAAAA,KACjCC,uBAAuB6B,EAAAA,EAAAA,KAAc7B,EAAAA,MAGjD,KAACQ,CAAA,CAlIuB,CAAmCwC,EAAAA,IAoI/DxC,GAAoBtrD,GAAW,CAC3Be,GAAQ,EAAG2F,EAAAA,IACX3F,GAAQ,EAAGiD,EAAAA,IACXjD,GAAQ,EAAGgtD,EAAAA,IACXhtD,GAAQ,EAAGmf,EAAAA,IACZorC,G,qFC3JQpgB,E,mEACX,SAAWA,GAIPA,EAA8BA,EAAwC,SAAI,GAAK,WAI/EA,EAA8BA,EAAoC,KAAI,GAAK,MAC9E,CATD,CASGA,IAAkCA,EAAgC,CAAC,IAC/D,IAAMp6B,EAAa,CACtBs4B,YAAa,uCAEJ4kB,EAAmB,WAC5B,SAAAA,KAAchwD,EAAAA,EAAAA,GAAA,KAAAgwD,GACVzvD,KAAK0vD,UAAY,GACjB1vD,KAAK2vD,qBAAkBzsD,CAC3B,CAyBC,OAzBA1D,EAAAA,EAAAA,GAAAiwD,EAAA,EAAA5vD,IAAA,8BAAAC,MACD,SAA4ByrC,GAAU,IAAApmC,EAAA,KAWlC,OAT+B,IAA3BomC,EAAS/5B,OAAOxP,OAChBhC,KAAK2vD,gBAAkBpkB,EAGvBvrC,KAAK0vD,UAAUjsD,KAAK8nC,GAIxBvrC,KAAK0vD,UAAU3iD,MAAK,SAACq+B,EAAWC,GAAS,OAAKA,EAAU75B,OAAOxP,OAASopC,EAAU55B,OAAOxP,MAAM,KACxFsC,EAAAA,EAAAA,KAAa,WAChBa,EAAKuqD,UAAUnrD,OAAOY,EAAKuqD,UAAUlrD,QAAQ+mC,GAAW,GACpDpmC,EAAKwqD,kBAAoBpkB,IACzBpmC,EAAKwqD,qBAAkBzsD,EAE/B,GACJ,GAAC,CAAArD,IAAA,0BAAAC,MACD,WACI,OAAO8vD,EAAAA,EAAAA,IAAS,CAAC5vD,KAAK2vD,iBAAe5lD,QAAAC,EAAAA,EAAAA,GAAKhK,KAAK0vD,YACnD,GAAC,CAAA7vD,IAAA,yBAAAC,MACD,SAAuB0R,GAEnB,OADeA,GAAUxR,KAAK0vD,UAAUG,MAAK,SAAAtkB,GAAQ,OAAI/5B,EAAO7B,WAAW47B,EAAS/5B,OAAO,UAAkBtO,GAC5FlD,KAAK2vD,eAC1B,KAACF,CAAA,CA7B2B,GA+BhC/vD,EAAAA,EAASC,IAAI4S,EAAWs4B,YAAa,IAAI4kB,E,qIC9C9BvQ,EAeAhS,E,iCAhBE0X,EAAc,CAAE4C,SAAS,EAAOC,KAAK,IAElD,SAAWvI,GAIPA,EAAqBA,EAA2B,KAAI,GAAK,OAIzDA,EAAqBA,EAA8B,QAAI,GAAK,UAI5DA,EAAqBA,EAA4B,MAAI,GAAK,OAC7D,CAbD,CAaGA,IAAyBA,EAAuB,CAAC,IAEpD,SAAWhS,GACPA,EAAeA,EAAqB,KAAI,GAAK,OAC7CA,EAAeA,EAAsB,MAAI,GAAK,QAC9CA,EAAeA,EAAuB,OAAI,GAAK,SAC/CA,EAAeA,EAAqB,KAAI,GAAK,MAChD,CALD,CAKGA,IAAmBA,EAAiB,CAAC,IAMG,KALH1tC,EAAAA,EAAAA,IACpC,SAAAswD,EAAY7qD,IAASxF,EAAAA,EAAAA,GAAA,KAAAqwD,GACjB9vD,KAAKiF,QAAUA,CACnB,KAHG,IAOM0mC,GAAqBxsC,EAAAA,EAAAA,IAAgB,oB,uGCfrCO,EAAW,IAdN,WACd,SAAAqwD,KAActwD,EAAAA,EAAAA,GAAA,KAAAswD,GACV/vD,KAAKE,KAAO,IAAI6H,GACpB,CASC,OATAvI,EAAAA,EAAAA,GAAAuwD,EAAA,EAAAlwD,IAAA,MAAAC,MACD,SAAIU,EAAIN,GACJ8vD,EAAAA,GAAUC,EAAAA,GAAezvD,IACzBwvD,EAAAA,GAAUC,EAAAA,GAAe/vD,IACzB8vD,EAAAA,IAAWhwD,KAAKE,KAAKqB,IAAIf,GAAK,8CAC9BR,KAAKE,KAAK+D,IAAIzD,EAAIN,EACtB,GAAC,CAAAL,IAAA,KAAAC,MACD,SAAGU,GACC,OAAOR,KAAKE,KAAKmI,IAAI7H,IAAO,IAChC,KAACuvD,CAAA,CAZa,G,4DCEPG,E,kCACX,SAAWA,GAePA,EAAaC,UAdb,SAAmB53B,GACf,OAAQA,GACJ,KAAKqD,EAAAA,EAASC,OACV,MAAO,mBAAqB+gB,EAAAA,EAAUC,YAAYC,EAAAA,EAAQhoC,MAC9D,KAAK8mB,EAAAA,EAAS9I,KACV,OAAO8pB,EAAAA,EAAUC,YAAYC,EAAAA,EAAQhoC,MACzC,KAAK8mB,EAAAA,EAAStG,QACV,OAAOsnB,EAAAA,EAAUC,YAAYC,EAAAA,EAAQsT,SACzC,KAAKx0B,EAAAA,EAASp4B,MACV,OAAOo5C,EAAAA,EAAUC,YAAYC,EAAAA,EAAQvoB,OACzC,QACI,MAAO,GAEnB,CAEH,CAhBD,CAgBG27B,IAAiBA,EAAe,CAAC,G","sources":["../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/dialogs/common/dialogs.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/dnd/browser/dnd.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/editor/common/editor.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/extensions/common/extensions.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/files/common/files.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/history/browser/contextScopedHistoryWidget.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/history/browser/historyWidgetKeybindingHint.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/instantiation/common/descriptors.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/instantiation/common/extensions.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/instantiation/common/graph.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiationService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/instantiation/common/serviceCollection.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/jsonschemas/common/jsonContributionRegistry.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/abstractKeybindingService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybinding.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingResolver.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybindingsRegistry.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/resolvedKeybindingItem.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/baseResolvedKeybinding.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/keybinding/common/usLayoutResolvedKeybinding.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/label/common/label.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/layout/browser/layoutService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/list/browser/listService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/log/common/log.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/log/common/logService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/markers/common/markerService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/markers/common/markers.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/opener/browser/link.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/opener/common/opener.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/progress/common/progress.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/pickerQuickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/commandsQuickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/helpQuickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputBox.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputUtils.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputList.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInput.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickInputService.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickAccess.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/quickinput/common/quickInput.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/registry/common/platform.js","../node_modules/@uiw/react-monacoeditor/node_modules/monaco-editor/esm/vs/platform/severityIcon/browser/severityIcon.js"],"sourcesContent":["import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IDialogService = createDecorator('dialogService');\n","import { Registry } from '../../registry/common/platform.js';\n//#region Editor / Resources DND\nexport const CodeDataTransfers = {\n    EDITORS: 'CodeEditors',\n    FILES: 'CodeFiles'\n};\nclass DragAndDropContributionRegistry {\n}\nexport const Extensions = {\n    DragAndDropContribution: 'workbench.contributions.dragAndDrop'\n};\nRegistry.add(Extensions.DragAndDropContribution, new DragAndDropContributionRegistry());\n//#endregion\n//#region DND Utilities\n/**\n * A singleton to store transfer data during drag & drop operations that are only valid within the application.\n */\nexport class LocalSelectionTransfer {\n    constructor() {\n        // protect against external instantiation\n    }\n    static getInstance() {\n        return LocalSelectionTransfer.INSTANCE;\n    }\n    hasData(proto) {\n        return proto && proto === this.proto;\n    }\n    getData(proto) {\n        if (this.hasData(proto)) {\n            return this.data;\n        }\n        return undefined;\n    }\n}\nLocalSelectionTransfer.INSTANCE = new LocalSelectionTransfer();\n//#endregion\n","export var EditorOpenSource;\n(function (EditorOpenSource) {\n    /**\n     * Default: the editor is opening via a programmatic call\n     * to the editor service API.\n     */\n    EditorOpenSource[EditorOpenSource[\"API\"] = 0] = \"API\";\n    /**\n     * Indicates that a user action triggered the opening, e.g.\n     * via mouse or keyboard use.\n     */\n    EditorOpenSource[EditorOpenSource[\"USER\"] = 1] = \"USER\";\n})(EditorOpenSource || (EditorOpenSource = {}));\n","/**\n * **!Do not construct directly!**\n *\n * **!Only static methods because it gets serialized!**\n *\n * This represents the \"canonical\" version for an extension identifier. Extension ids\n * have to be case-insensitive (due to the marketplace), but we must ensure case\n * preservation because the extension API is already public at this time.\n *\n * For example, given an extension with the publisher `\"Hello\"` and the name `\"World\"`,\n * its canonical extension identifier is `\"Hello.World\"`. This extension could be\n * referenced in some other extension's dependencies using the string `\"hello.world\"`.\n *\n * To make matters more complicated, an extension can optionally have an UUID. When two\n * extensions have the same UUID, they are considered equal even if their identifier is different.\n */\nexport class ExtensionIdentifier {\n    constructor(value) {\n        this.value = value;\n        this._lower = value.toLowerCase();\n    }\n    /**\n     * Gives the value by which to index (for equality).\n     */\n    static toKey(id) {\n        if (typeof id === 'string') {\n            return id.toLowerCase();\n        }\n        return id._lower;\n    }\n}\nexport class ExtensionIdentifierSet {\n    constructor(iterable) {\n        this._set = new Set();\n        if (iterable) {\n            for (const value of iterable) {\n                this.add(value);\n            }\n        }\n    }\n    add(id) {\n        this._set.add(ExtensionIdentifier.toKey(id));\n    }\n    has(id) {\n        return this._set.has(ExtensionIdentifier.toKey(id));\n    }\n}\n","//#endregion\n//#region Utilities\nexport var FileKind;\n(function (FileKind) {\n    FileKind[FileKind[\"FILE\"] = 0] = \"FILE\";\n    FileKind[FileKind[\"FOLDER\"] = 1] = \"FOLDER\";\n    FileKind[FileKind[\"ROOT_FOLDER\"] = 2] = \"ROOT_FOLDER\";\n})(FileKind || (FileKind = {}));\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { FindInput } from '../../../base/browser/ui/findinput/findInput.js';\nimport { ReplaceInput } from '../../../base/browser/ui/findinput/replaceInput.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { KeybindingsRegistry } from '../../keybinding/common/keybindingsRegistry.js';\nimport { localize } from '../../../nls.js';\nimport { DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nexport const historyNavigationVisible = new RawContextKey('suggestWidgetVisible', false, localize('suggestWidgetVisible', \"Whether suggestion are visible\"));\nconst HistoryNavigationWidgetFocusContext = 'historyNavigationWidgetFocus';\nconst HistoryNavigationForwardsEnablementContext = 'historyNavigationForwardsEnabled';\nconst HistoryNavigationBackwardsEnablementContext = 'historyNavigationBackwardsEnabled';\nlet lastFocusedWidget = undefined;\nconst widgets = [];\nexport function registerAndCreateHistoryNavigationContext(scopedContextKeyService, widget) {\n    if (widgets.includes(widget)) {\n        throw new Error('Cannot register the same widget multiple times');\n    }\n    widgets.push(widget);\n    const disposableStore = new DisposableStore();\n    const historyNavigationWidgetFocus = new RawContextKey(HistoryNavigationWidgetFocusContext, false).bindTo(scopedContextKeyService);\n    const historyNavigationForwardsEnablement = new RawContextKey(HistoryNavigationForwardsEnablementContext, true).bindTo(scopedContextKeyService);\n    const historyNavigationBackwardsEnablement = new RawContextKey(HistoryNavigationBackwardsEnablementContext, true).bindTo(scopedContextKeyService);\n    const onDidFocus = () => {\n        historyNavigationWidgetFocus.set(true);\n        lastFocusedWidget = widget;\n    };\n    const onDidBlur = () => {\n        historyNavigationWidgetFocus.set(false);\n        if (lastFocusedWidget === widget) {\n            lastFocusedWidget = undefined;\n        }\n    };\n    // Check for currently being focused\n    if (widget.element === document.activeElement) {\n        onDidFocus();\n    }\n    disposableStore.add(widget.onDidFocus(() => onDidFocus()));\n    disposableStore.add(widget.onDidBlur(() => onDidBlur()));\n    disposableStore.add(toDisposable(() => {\n        widgets.splice(widgets.indexOf(widget), 1);\n        onDidBlur();\n    }));\n    return {\n        historyNavigationForwardsEnablement,\n        historyNavigationBackwardsEnablement,\n        dispose() {\n            disposableStore.dispose();\n        }\n    };\n}\nexport let ContextScopedFindInput = class ContextScopedFindInput extends FindInput {\n    constructor(container, contextViewProvider, options, contextKeyService) {\n        super(container, contextViewProvider, options);\n        const scopedContextKeyService = this._register(contextKeyService.createScoped(this.inputBox.element));\n        this._register(registerAndCreateHistoryNavigationContext(scopedContextKeyService, this.inputBox));\n    }\n};\nContextScopedFindInput = __decorate([\n    __param(3, IContextKeyService)\n], ContextScopedFindInput);\nexport let ContextScopedReplaceInput = class ContextScopedReplaceInput extends ReplaceInput {\n    constructor(container, contextViewProvider, options, contextKeyService, showReplaceOptions = false) {\n        super(container, contextViewProvider, showReplaceOptions, options);\n        const scopedContextKeyService = this._register(contextKeyService.createScoped(this.inputBox.element));\n        this._register(registerAndCreateHistoryNavigationContext(scopedContextKeyService, this.inputBox));\n    }\n};\nContextScopedReplaceInput = __decorate([\n    __param(3, IContextKeyService)\n], ContextScopedReplaceInput);\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'history.showPrevious',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetFocusContext), ContextKeyExpr.equals(HistoryNavigationBackwardsEnablementContext, true), historyNavigationVisible.isEqualTo(false)),\n    primary: 16 /* KeyCode.UpArrow */,\n    secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n    handler: (accessor) => {\n        lastFocusedWidget === null || lastFocusedWidget === void 0 ? void 0 : lastFocusedWidget.showPreviousValue();\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'history.showNext',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    when: ContextKeyExpr.and(ContextKeyExpr.has(HistoryNavigationWidgetFocusContext), ContextKeyExpr.equals(HistoryNavigationForwardsEnablementContext, true), historyNavigationVisible.isEqualTo(false)),\n    primary: 18 /* KeyCode.DownArrow */,\n    secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n    handler: (accessor) => {\n        lastFocusedWidget === null || lastFocusedWidget === void 0 ? void 0 : lastFocusedWidget.showNextValue();\n    }\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function showHistoryKeybindingHint(keybindingService) {\n    var _a, _b;\n    return ((_a = keybindingService.lookupKeybinding('history.showPrevious')) === null || _a === void 0 ? void 0 : _a.getElectronAccelerator()) === 'Up' && ((_b = keybindingService.lookupKeybinding('history.showNext')) === null || _b === void 0 ? void 0 : _b.getElectronAccelerator()) === 'Down';\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class SyncDescriptor {\n    constructor(ctor, staticArguments = [], supportsDelayedInstantiation = false) {\n        this.ctor = ctor;\n        this.staticArguments = staticArguments;\n        this.supportsDelayedInstantiation = supportsDelayedInstantiation;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { SyncDescriptor } from './descriptors.js';\nconst _registry = [];\nexport function registerSingleton(id, ctorOrDescriptor, supportsDelayedInstantiation) {\n    if (!(ctorOrDescriptor instanceof SyncDescriptor)) {\n        ctorOrDescriptor = new SyncDescriptor(ctorOrDescriptor, [], Boolean(supportsDelayedInstantiation));\n    }\n    _registry.push([id, ctorOrDescriptor]);\n}\nexport function getSingletonServiceDescriptors() {\n    return _registry;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// ------ internal util\nexport var _util;\n(function (_util) {\n    _util.serviceIds = new Map();\n    _util.DI_TARGET = '$di$target';\n    _util.DI_DEPENDENCIES = '$di$dependencies';\n    function getServiceDependencies(ctor) {\n        return ctor[_util.DI_DEPENDENCIES] || [];\n    }\n    _util.getServiceDependencies = getServiceDependencies;\n})(_util || (_util = {}));\nexport const IInstantiationService = createDecorator('instantiationService');\nfunction storeServiceDependency(id, target, index) {\n    if (target[_util.DI_TARGET] === target) {\n        target[_util.DI_DEPENDENCIES].push({ id, index });\n    }\n    else {\n        target[_util.DI_DEPENDENCIES] = [{ id, index }];\n        target[_util.DI_TARGET] = target;\n    }\n}\n/**\n * The *only* valid way to create a {{ServiceIdentifier}}.\n */\nexport function createDecorator(serviceId) {\n    if (_util.serviceIds.has(serviceId)) {\n        return _util.serviceIds.get(serviceId);\n    }\n    const id = function (target, key, index) {\n        if (arguments.length !== 3) {\n            throw new Error('@IServiceName-decorator can only be used to decorate a parameter');\n        }\n        storeServiceDependency(id, target, index);\n    };\n    id.toString = () => serviceId;\n    _util.serviceIds.set(serviceId, id);\n    return id;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class Node {\n    constructor(key, data) {\n        this.key = key;\n        this.data = data;\n        this.incoming = new Map();\n        this.outgoing = new Map();\n    }\n}\nexport class Graph {\n    constructor(_hashFn) {\n        this._hashFn = _hashFn;\n        this._nodes = new Map();\n        // empty\n    }\n    roots() {\n        const ret = [];\n        for (const node of this._nodes.values()) {\n            if (node.outgoing.size === 0) {\n                ret.push(node);\n            }\n        }\n        return ret;\n    }\n    insertEdge(from, to) {\n        const fromNode = this.lookupOrInsertNode(from);\n        const toNode = this.lookupOrInsertNode(to);\n        fromNode.outgoing.set(toNode.key, toNode);\n        toNode.incoming.set(fromNode.key, fromNode);\n    }\n    removeNode(data) {\n        const key = this._hashFn(data);\n        this._nodes.delete(key);\n        for (const node of this._nodes.values()) {\n            node.outgoing.delete(key);\n            node.incoming.delete(key);\n        }\n    }\n    lookupOrInsertNode(data) {\n        const key = this._hashFn(data);\n        let node = this._nodes.get(key);\n        if (!node) {\n            node = new Node(key, data);\n            this._nodes.set(key, node);\n        }\n        return node;\n    }\n    isEmpty() {\n        return this._nodes.size === 0;\n    }\n    toString() {\n        const data = [];\n        for (const [key, value] of this._nodes) {\n            data.push(`${key}\\n\\t(-> incoming)[${[...value.incoming.keys()].join(', ')}]\\n\\t(outgoing ->)[${[...value.outgoing.keys()].join(',')}]\\n`);\n        }\n        return data.join('\\n');\n    }\n    /**\n     * This is brute force and slow and **only** be used\n     * to trouble shoot.\n     */\n    findCycleSlow() {\n        for (const [id, node] of this._nodes) {\n            const seen = new Set([id]);\n            const res = this._findCycle(node, seen);\n            if (res) {\n                return res;\n            }\n        }\n        return undefined;\n    }\n    _findCycle(node, seen) {\n        for (const [id, outgoing] of node.outgoing) {\n            if (seen.has(id)) {\n                return [...seen, id].join(' -> ');\n            }\n            seen.add(id);\n            const value = this._findCycle(outgoing, seen);\n            if (value) {\n                return value;\n            }\n            seen.delete(id);\n        }\n        return undefined;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IdleValue } from '../../../base/common/async.js';\nimport { illegalState } from '../../../base/common/errors.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { SyncDescriptor } from './descriptors.js';\nimport { Graph } from './graph.js';\nimport { IInstantiationService, _util } from './instantiation.js';\nimport { ServiceCollection } from './serviceCollection.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\n// TRACING\nconst _enableAllTracing = false;\nclass CyclicDependencyError extends Error {\n    constructor(graph) {\n        var _a;\n        super('cyclic dependency between services');\n        this.message = (_a = graph.findCycleSlow()) !== null && _a !== void 0 ? _a : `UNABLE to detect cycle, dumping graph: \\n${graph.toString()}`;\n    }\n}\nexport class InstantiationService {\n    constructor(_services = new ServiceCollection(), _strict = false, _parent, _enableTracing = _enableAllTracing) {\n        var _a;\n        this._services = _services;\n        this._strict = _strict;\n        this._parent = _parent;\n        this._enableTracing = _enableTracing;\n        this._activeInstantiations = new Set();\n        this._services.set(IInstantiationService, this);\n        this._globalGraph = _enableTracing ? (_a = _parent === null || _parent === void 0 ? void 0 : _parent._globalGraph) !== null && _a !== void 0 ? _a : new Graph(e => e) : undefined;\n    }\n    createChild(services) {\n        return new InstantiationService(services, this._strict, this, this._enableTracing);\n    }\n    invokeFunction(fn, ...args) {\n        const _trace = Trace.traceInvocation(this._enableTracing, fn);\n        let _done = false;\n        try {\n            const accessor = {\n                get: (id) => {\n                    if (_done) {\n                        throw illegalState('service accessor is only valid during the invocation of its target method');\n                    }\n                    const result = this._getOrCreateServiceInstance(id, _trace);\n                    if (!result) {\n                        throw new Error(`[invokeFunction] unknown service '${id}'`);\n                    }\n                    return result;\n                }\n            };\n            return fn(accessor, ...args);\n        }\n        finally {\n            _done = true;\n            _trace.stop();\n        }\n    }\n    createInstance(ctorOrDescriptor, ...rest) {\n        let _trace;\n        let result;\n        if (ctorOrDescriptor instanceof SyncDescriptor) {\n            _trace = Trace.traceCreation(this._enableTracing, ctorOrDescriptor.ctor);\n            result = this._createInstance(ctorOrDescriptor.ctor, ctorOrDescriptor.staticArguments.concat(rest), _trace);\n        }\n        else {\n            _trace = Trace.traceCreation(this._enableTracing, ctorOrDescriptor);\n            result = this._createInstance(ctorOrDescriptor, rest, _trace);\n        }\n        _trace.stop();\n        return result;\n    }\n    _createInstance(ctor, args = [], _trace) {\n        // arguments defined by service decorators\n        const serviceDependencies = _util.getServiceDependencies(ctor).sort((a, b) => a.index - b.index);\n        const serviceArgs = [];\n        for (const dependency of serviceDependencies) {\n            const service = this._getOrCreateServiceInstance(dependency.id, _trace);\n            if (!service) {\n                this._throwIfStrict(`[createInstance] ${ctor.name} depends on UNKNOWN service ${dependency.id}.`, false);\n            }\n            serviceArgs.push(service);\n        }\n        const firstServiceArgPos = serviceDependencies.length > 0 ? serviceDependencies[0].index : args.length;\n        // check for argument mismatches, adjust static args if needed\n        if (args.length !== firstServiceArgPos) {\n            console.trace(`[createInstance] First service dependency of ${ctor.name} at position ${firstServiceArgPos + 1} conflicts with ${args.length} static arguments`);\n            const delta = firstServiceArgPos - args.length;\n            if (delta > 0) {\n                args = args.concat(new Array(delta));\n            }\n            else {\n                args = args.slice(0, firstServiceArgPos);\n            }\n        }\n        // now create the instance\n        return Reflect.construct(ctor, args.concat(serviceArgs));\n    }\n    _setServiceInstance(id, instance) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            this._services.set(id, instance);\n        }\n        else if (this._parent) {\n            this._parent._setServiceInstance(id, instance);\n        }\n        else {\n            throw new Error('illegalState - setting UNKNOWN service instance');\n        }\n    }\n    _getServiceInstanceOrDescriptor(id) {\n        const instanceOrDesc = this._services.get(id);\n        if (!instanceOrDesc && this._parent) {\n            return this._parent._getServiceInstanceOrDescriptor(id);\n        }\n        else {\n            return instanceOrDesc;\n        }\n    }\n    _getOrCreateServiceInstance(id, _trace) {\n        if (this._globalGraph && this._globalGraphImplicitDependency) {\n            this._globalGraph.insertEdge(this._globalGraphImplicitDependency, String(id));\n        }\n        const thing = this._getServiceInstanceOrDescriptor(id);\n        if (thing instanceof SyncDescriptor) {\n            return this._safeCreateAndCacheServiceInstance(id, thing, _trace.branch(id, true));\n        }\n        else {\n            _trace.branch(id, false);\n            return thing;\n        }\n    }\n    _safeCreateAndCacheServiceInstance(id, desc, _trace) {\n        if (this._activeInstantiations.has(id)) {\n            throw new Error(`illegal state - RECURSIVELY instantiating service '${id}'`);\n        }\n        this._activeInstantiations.add(id);\n        try {\n            return this._createAndCacheServiceInstance(id, desc, _trace);\n        }\n        finally {\n            this._activeInstantiations.delete(id);\n        }\n    }\n    _createAndCacheServiceInstance(id, desc, _trace) {\n        var _a;\n        const graph = new Graph(data => data.id.toString());\n        let cycleCount = 0;\n        const stack = [{ id, desc, _trace }];\n        while (stack.length) {\n            const item = stack.pop();\n            graph.lookupOrInsertNode(item);\n            // a weak but working heuristic for cycle checks\n            if (cycleCount++ > 1000) {\n                throw new CyclicDependencyError(graph);\n            }\n            // check all dependencies for existence and if they need to be created first\n            for (const dependency of _util.getServiceDependencies(item.desc.ctor)) {\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(dependency.id);\n                if (!instanceOrDesc) {\n                    this._throwIfStrict(`[createInstance] ${id} depends on ${dependency.id} which is NOT registered.`, true);\n                }\n                // take note of all service dependencies\n                (_a = this._globalGraph) === null || _a === void 0 ? void 0 : _a.insertEdge(String(item.id), String(dependency.id));\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    const d = { id: dependency.id, desc: instanceOrDesc, _trace: item._trace.branch(dependency.id, true) };\n                    graph.insertEdge(item, d);\n                    stack.push(d);\n                }\n            }\n        }\n        while (true) {\n            const roots = graph.roots();\n            // if there is no more roots but still\n            // nodes in the graph we have a cycle\n            if (roots.length === 0) {\n                if (!graph.isEmpty()) {\n                    throw new CyclicDependencyError(graph);\n                }\n                break;\n            }\n            for (const { data } of roots) {\n                // Repeat the check for this still being a service sync descriptor. That's because\n                // instantiating a dependency might have side-effect and recursively trigger instantiation\n                // so that some dependencies are now fullfilled already.\n                const instanceOrDesc = this._getServiceInstanceOrDescriptor(data.id);\n                if (instanceOrDesc instanceof SyncDescriptor) {\n                    // create instance and overwrite the service collections\n                    const instance = this._createServiceInstanceWithOwner(data.id, data.desc.ctor, data.desc.staticArguments, data.desc.supportsDelayedInstantiation, data._trace);\n                    this._setServiceInstance(data.id, instance);\n                }\n                graph.removeNode(data);\n            }\n        }\n        return this._getServiceInstanceOrDescriptor(id);\n    }\n    _createServiceInstanceWithOwner(id, ctor, args = [], supportsDelayedInstantiation, _trace) {\n        if (this._services.get(id) instanceof SyncDescriptor) {\n            return this._createServiceInstance(id, ctor, args, supportsDelayedInstantiation, _trace);\n        }\n        else if (this._parent) {\n            return this._parent._createServiceInstanceWithOwner(id, ctor, args, supportsDelayedInstantiation, _trace);\n        }\n        else {\n            throw new Error(`illegalState - creating UNKNOWN service instance ${ctor.name}`);\n        }\n    }\n    _createServiceInstance(id, ctor, args = [], supportsDelayedInstantiation, _trace) {\n        if (!supportsDelayedInstantiation) {\n            // eager instantiation\n            return this._createInstance(ctor, args, _trace);\n        }\n        else {\n            const child = new InstantiationService(undefined, this._strict, this, this._enableTracing);\n            child._globalGraphImplicitDependency = String(id);\n            // Return a proxy object that's backed by an idle value. That\n            // strategy is to instantiate services in our idle time or when actually\n            // needed but not when injected into a consumer\n            // return \"empty events\" when the service isn't instantiated yet\n            const earlyListeners = new Map();\n            const idle = new IdleValue(() => {\n                const result = child._createInstance(ctor, args, _trace);\n                // early listeners that we kept are now being subscribed to\n                // the real service\n                for (const [key, values] of earlyListeners) {\n                    const candidate = result[key];\n                    if (typeof candidate === 'function') {\n                        for (const listener of values) {\n                            candidate.apply(result, listener);\n                        }\n                    }\n                }\n                earlyListeners.clear();\n                return result;\n            });\n            return new Proxy(Object.create(null), {\n                get(target, key) {\n                    if (!idle.isInitialized) {\n                        // looks like an event\n                        if (typeof key === 'string' && (key.startsWith('onDid') || key.startsWith('onWill'))) {\n                            let list = earlyListeners.get(key);\n                            if (!list) {\n                                list = new LinkedList();\n                                earlyListeners.set(key, list);\n                            }\n                            const event = (callback, thisArg, disposables) => {\n                                const rm = list.push([callback, thisArg, disposables]);\n                                return toDisposable(rm);\n                            };\n                            return event;\n                        }\n                    }\n                    // value already exists\n                    if (key in target) {\n                        return target[key];\n                    }\n                    // create value\n                    const obj = idle.value;\n                    let prop = obj[key];\n                    if (typeof prop !== 'function') {\n                        return prop;\n                    }\n                    prop = prop.bind(obj);\n                    target[key] = prop;\n                    return prop;\n                },\n                set(_target, p, value) {\n                    idle.value[p] = value;\n                    return true;\n                },\n                getPrototypeOf(_target) {\n                    return ctor.prototype;\n                }\n            });\n        }\n    }\n    _throwIfStrict(msg, printWarning) {\n        if (printWarning) {\n            console.warn(msg);\n        }\n        if (this._strict) {\n            throw new Error(msg);\n        }\n    }\n}\nexport class Trace {\n    static traceInvocation(_enableTracing, ctor) {\n        return !_enableTracing ? Trace._None : new Trace(2 /* TraceType.Invocation */, ctor.name || new Error().stack.split('\\n').slice(3, 4).join('\\n'));\n    }\n    static traceCreation(_enableTracing, ctor) {\n        return !_enableTracing ? Trace._None : new Trace(1 /* TraceType.Creation */, ctor.name);\n    }\n    constructor(type, name) {\n        this.type = type;\n        this.name = name;\n        this._start = Date.now();\n        this._dep = [];\n    }\n    branch(id, first) {\n        const child = new Trace(3 /* TraceType.Branch */, id.toString());\n        this._dep.push([id, first, child]);\n        return child;\n    }\n    stop() {\n        const dur = Date.now() - this._start;\n        Trace._totals += dur;\n        let causedCreation = false;\n        function printChild(n, trace) {\n            const res = [];\n            const prefix = new Array(n + 1).join('\\t');\n            for (const [id, first, child] of trace._dep) {\n                if (first && child) {\n                    causedCreation = true;\n                    res.push(`${prefix}CREATES -> ${id}`);\n                    const nested = printChild(n + 1, child);\n                    if (nested) {\n                        res.push(nested);\n                    }\n                }\n                else {\n                    res.push(`${prefix}uses -> ${id}`);\n                }\n            }\n            return res.join('\\n');\n        }\n        const lines = [\n            `${this.type === 1 /* TraceType.Creation */ ? 'CREATE' : 'CALL'} ${this.name}`,\n            `${printChild(1, this)}`,\n            `DONE, took ${dur.toFixed(2)}ms (grand total ${Trace._totals.toFixed(2)}ms)`\n        ];\n        if (dur > 2 || causedCreation) {\n            Trace.all.add(lines.join('\\n'));\n        }\n    }\n}\nTrace.all = new Set();\nTrace._None = new class extends Trace {\n    constructor() { super(0 /* TraceType.None */, null); }\n    stop() { }\n    branch() { return this; }\n};\nTrace._totals = 0;\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ServiceCollection {\n    constructor(...entries) {\n        this._entries = new Map();\n        for (const [id, service] of entries) {\n            this.set(id, service);\n        }\n    }\n    set(id, instanceOrDescriptor) {\n        const result = this._entries.get(id);\n        this._entries.set(id, instanceOrDescriptor);\n        return result;\n    }\n    get(id) {\n        return this._entries.get(id);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../base/common/event.js';\nimport * as platform from '../../registry/common/platform.js';\nexport const Extensions = {\n    JSONContribution: 'base.contributions.json'\n};\nfunction normalizeId(id) {\n    if (id.length > 0 && id.charAt(id.length - 1) === '#') {\n        return id.substring(0, id.length - 1);\n    }\n    return id;\n}\nclass JSONContributionRegistry {\n    constructor() {\n        this._onDidChangeSchema = new Emitter();\n        this.schemasById = {};\n    }\n    registerSchema(uri, unresolvedSchemaContent) {\n        this.schemasById[normalizeId(uri)] = unresolvedSchemaContent;\n        this._onDidChangeSchema.fire(uri);\n    }\n    notifySchemaChanged(uri) {\n        this._onDidChangeSchema.fire(uri);\n    }\n}\nconst jsonContributionRegistry = new JSONContributionRegistry();\nplatform.Registry.add(Extensions.JSONContribution, jsonContributionRegistry);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { IntervalTimer, TimeoutTimer } from '../../../base/common/async.js';\nimport { illegalState } from '../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { IME } from '../../../base/common/ime.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport * as nls from '../../../nls.js';\nimport { NoMatchingKb } from './keybindingResolver.js';\nconst HIGH_FREQ_COMMANDS = /^(cursor|delete|undo|redo|tab|editor\\.action\\.clipboard)/;\nexport class AbstractKeybindingService extends Disposable {\n    get onDidUpdateKeybindings() {\n        return this._onDidUpdateKeybindings ? this._onDidUpdateKeybindings.event : Event.None; // Sinon stubbing walks properties on prototype\n    }\n    get inChordMode() {\n        return this._currentChords.length > 0;\n    }\n    constructor(_contextKeyService, _commandService, _telemetryService, _notificationService, _logService) {\n        super();\n        this._contextKeyService = _contextKeyService;\n        this._commandService = _commandService;\n        this._telemetryService = _telemetryService;\n        this._notificationService = _notificationService;\n        this._logService = _logService;\n        this._onDidUpdateKeybindings = this._register(new Emitter());\n        this._currentChords = [];\n        this._currentChordChecker = new IntervalTimer();\n        this._currentChordStatusMessage = null;\n        this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n        this._currentSingleModifier = null;\n        this._currentSingleModifierClearTimeout = new TimeoutTimer();\n        this._logging = false;\n    }\n    dispose() {\n        super.dispose();\n    }\n    _log(str) {\n        if (this._logging) {\n            this._logService.info(`[KeybindingService]: ${str}`);\n        }\n    }\n    getKeybindings() {\n        return this._getResolver().getKeybindings();\n    }\n    lookupKeybinding(commandId, context) {\n        const result = this._getResolver().lookupPrimaryKeybinding(commandId, context || this._contextKeyService);\n        if (!result) {\n            return undefined;\n        }\n        return result.resolvedKeybinding;\n    }\n    dispatchEvent(e, target) {\n        return this._dispatch(e, target);\n    }\n    // TODO@ulugbekna: update namings to align with `_doDispatch`\n    // TODO@ulugbekna: this fn doesn't seem to take into account single-modifier keybindings, eg `shift shift`\n    softDispatch(e, target) {\n        this._log(`/ Soft dispatching keyboard event`);\n        const keybinding = this.resolveKeyboardEvent(e);\n        if (keybinding.hasMultipleChords()) {\n            console.warn('keyboard event should not be mapped to multiple chords');\n            return NoMatchingKb;\n        }\n        const [firstChord,] = keybinding.getDispatchChords();\n        if (firstChord === null) {\n            // cannot be dispatched, probably only modifier keys\n            this._log(`\\\\ Keyboard event cannot be dispatched`);\n            return NoMatchingKb;\n        }\n        const contextValue = this._contextKeyService.getContext(target);\n        const currentChords = this._currentChords.map((({ keypress }) => keypress));\n        return this._getResolver().resolve(contextValue, currentChords, firstChord);\n    }\n    _scheduleLeaveChordMode() {\n        const chordLastInteractedTime = Date.now();\n        this._currentChordChecker.cancelAndSet(() => {\n            if (!this._documentHasFocus()) {\n                // Focus has been lost => leave chord mode\n                this._leaveChordMode();\n                return;\n            }\n            if (Date.now() - chordLastInteractedTime > 5000) {\n                // 5 seconds elapsed => leave chord mode\n                this._leaveChordMode();\n            }\n        }, 500);\n    }\n    _expectAnotherChord(firstChord, keypressLabel) {\n        this._currentChords.push({ keypress: firstChord, label: keypressLabel });\n        switch (this._currentChords.length) {\n            case 0:\n                throw illegalState('impossible');\n            case 1:\n                // TODO@ulugbekna: revise this message and the one below (at least, fix terminology)\n                this._currentChordStatusMessage = this._notificationService.status(nls.localize('first.chord', \"({0}) was pressed. Waiting for second key of chord...\", keypressLabel));\n                break;\n            default: {\n                const fullKeypressLabel = this._currentChords.map(({ label }) => label).join(', ');\n                this._currentChordStatusMessage = this._notificationService.status(nls.localize('next.chord', \"({0}) was pressed. Waiting for next key of chord...\", fullKeypressLabel));\n            }\n        }\n        this._scheduleLeaveChordMode();\n        if (IME.enabled) {\n            IME.disable();\n        }\n    }\n    _leaveChordMode() {\n        if (this._currentChordStatusMessage) {\n            this._currentChordStatusMessage.dispose();\n            this._currentChordStatusMessage = null;\n        }\n        this._currentChordChecker.cancel();\n        this._currentChords = [];\n        IME.enable();\n    }\n    _dispatch(e, target) {\n        return this._doDispatch(this.resolveKeyboardEvent(e), target, /*isSingleModiferChord*/ false);\n    }\n    _singleModifierDispatch(e, target) {\n        const keybinding = this.resolveKeyboardEvent(e);\n        const [singleModifier,] = keybinding.getSingleModifierDispatchChords();\n        if (singleModifier) {\n            if (this._ignoreSingleModifiers.has(singleModifier)) {\n                this._log(`+ Ignoring single modifier ${singleModifier} due to it being pressed together with other keys.`);\n                this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n                this._currentSingleModifierClearTimeout.cancel();\n                this._currentSingleModifier = null;\n                return false;\n            }\n            this._ignoreSingleModifiers = KeybindingModifierSet.EMPTY;\n            if (this._currentSingleModifier === null) {\n                // we have a valid `singleModifier`, store it for the next keyup, but clear it in 300ms\n                this._log(`+ Storing single modifier for possible chord ${singleModifier}.`);\n                this._currentSingleModifier = singleModifier;\n                this._currentSingleModifierClearTimeout.cancelAndSet(() => {\n                    this._log(`+ Clearing single modifier due to 300ms elapsed.`);\n                    this._currentSingleModifier = null;\n                }, 300);\n                return false;\n            }\n            if (singleModifier === this._currentSingleModifier) {\n                // bingo!\n                this._log(`/ Dispatching single modifier chord ${singleModifier} ${singleModifier}`);\n                this._currentSingleModifierClearTimeout.cancel();\n                this._currentSingleModifier = null;\n                return this._doDispatch(keybinding, target, /*isSingleModiferChord*/ true);\n            }\n            this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${singleModifier}`);\n            this._currentSingleModifierClearTimeout.cancel();\n            this._currentSingleModifier = null;\n            return false;\n        }\n        // When pressing a modifier and holding it pressed with any other modifier or key combination,\n        // the pressed modifiers should no longer be considered for single modifier dispatch.\n        const [firstChord,] = keybinding.getChords();\n        this._ignoreSingleModifiers = new KeybindingModifierSet(firstChord);\n        if (this._currentSingleModifier !== null) {\n            this._log(`+ Clearing single modifier due to other key up.`);\n        }\n        this._currentSingleModifierClearTimeout.cancel();\n        this._currentSingleModifier = null;\n        return false;\n    }\n    _doDispatch(userKeypress, target, isSingleModiferChord = false) {\n        var _a;\n        let shouldPreventDefault = false;\n        if (userKeypress.hasMultipleChords()) { // warn - because user can press a single chord at a time\n            console.warn('Unexpected keyboard event mapped to multiple chords');\n            return false;\n        }\n        let userPressedChord = null;\n        let currentChords = null;\n        if (isSingleModiferChord) {\n            // The keybinding is the second keypress of a single modifier chord, e.g. \"shift shift\".\n            // A single modifier can only occur when the same modifier is pressed in short sequence,\n            // hence we disregard `_currentChord` and use the same modifier instead.\n            const [dispatchKeyname,] = userKeypress.getSingleModifierDispatchChords();\n            userPressedChord = dispatchKeyname;\n            currentChords = dispatchKeyname ? [dispatchKeyname] : []; // TODO@ulugbekna: in the `else` case we assign an empty array - make sure `resolve` can handle an empty array well\n        }\n        else {\n            [userPressedChord,] = userKeypress.getDispatchChords();\n            currentChords = this._currentChords.map(({ keypress }) => keypress);\n        }\n        if (userPressedChord === null) {\n            this._log(`\\\\ Keyboard event cannot be dispatched in keydown phase.`);\n            // cannot be dispatched, probably only modifier keys\n            return shouldPreventDefault;\n        }\n        const contextValue = this._contextKeyService.getContext(target);\n        const keypressLabel = userKeypress.getLabel();\n        const resolveResult = this._getResolver().resolve(contextValue, currentChords, userPressedChord);\n        switch (resolveResult.kind) {\n            case 0 /* ResultKind.NoMatchingKb */: {\n                this._logService.trace('KeybindingService#dispatch', keypressLabel, `[ No matching keybinding ]`);\n                if (this.inChordMode) {\n                    const currentChordsLabel = this._currentChords.map(({ label }) => label).join(', ');\n                    this._log(`+ Leaving multi-chord mode: Nothing bound to \"${currentChordsLabel}, ${keypressLabel}\".`);\n                    this._notificationService.status(nls.localize('missing.chord', \"The key combination ({0}, {1}) is not a command.\", currentChordsLabel, keypressLabel), { hideAfter: 10 * 1000 /* 10s */ });\n                    this._leaveChordMode();\n                    shouldPreventDefault = true;\n                }\n                return shouldPreventDefault;\n            }\n            case 1 /* ResultKind.MoreChordsNeeded */: {\n                this._logService.trace('KeybindingService#dispatch', keypressLabel, `[ Several keybindings match - more chords needed ]`);\n                shouldPreventDefault = true;\n                this._expectAnotherChord(userPressedChord, keypressLabel);\n                this._log(this._currentChords.length === 1 ? `+ Entering multi-chord mode...` : `+ Continuing multi-chord mode...`);\n                return shouldPreventDefault;\n            }\n            case 2 /* ResultKind.KbFound */: {\n                this._logService.trace('KeybindingService#dispatch', keypressLabel, `[ Will dispatch command ${resolveResult.commandId} ]`);\n                if (resolveResult.commandId === null || resolveResult.commandId === '') {\n                    if (this.inChordMode) {\n                        const currentChordsLabel = this._currentChords.map(({ label }) => label).join(', ');\n                        this._log(`+ Leaving chord mode: Nothing bound to \"${currentChordsLabel}, ${keypressLabel}\".`);\n                        this._notificationService.status(nls.localize('missing.chord', \"The key combination ({0}, {1}) is not a command.\", currentChordsLabel, keypressLabel), { hideAfter: 10 * 1000 /* 10s */ });\n                        this._leaveChordMode();\n                        shouldPreventDefault = true;\n                    }\n                }\n                else {\n                    if (this.inChordMode) {\n                        this._leaveChordMode();\n                    }\n                    if (!resolveResult.isBubble) {\n                        shouldPreventDefault = true;\n                    }\n                    this._log(`+ Invoking command ${resolveResult.commandId}.`);\n                    if (typeof resolveResult.commandArgs === 'undefined') {\n                        this._commandService.executeCommand(resolveResult.commandId).then(undefined, err => this._notificationService.warn(err));\n                    }\n                    else {\n                        this._commandService.executeCommand(resolveResult.commandId, resolveResult.commandArgs).then(undefined, err => this._notificationService.warn(err));\n                    }\n                    if (!HIGH_FREQ_COMMANDS.test(resolveResult.commandId)) {\n                        this._telemetryService.publicLog2('workbenchActionExecuted', { id: resolveResult.commandId, from: 'keybinding', detail: (_a = userKeypress.getUserSettingsLabel()) !== null && _a !== void 0 ? _a : undefined });\n                    }\n                }\n                return shouldPreventDefault;\n            }\n        }\n    }\n    mightProducePrintableCharacter(event) {\n        if (event.ctrlKey || event.metaKey) {\n            // ignore ctrl/cmd-combination but not shift/alt-combinatios\n            return false;\n        }\n        // weak check for certain ranges. this is properly implemented in a subclass\n        // with access to the KeyboardMapperFactory.\n        if ((event.keyCode >= 31 /* KeyCode.KeyA */ && event.keyCode <= 56 /* KeyCode.KeyZ */)\n            || (event.keyCode >= 21 /* KeyCode.Digit0 */ && event.keyCode <= 30 /* KeyCode.Digit9 */)) {\n            return true;\n        }\n        return false;\n    }\n}\nclass KeybindingModifierSet {\n    constructor(source) {\n        this._ctrlKey = source ? source.ctrlKey : false;\n        this._shiftKey = source ? source.shiftKey : false;\n        this._altKey = source ? source.altKey : false;\n        this._metaKey = source ? source.metaKey : false;\n    }\n    has(modifier) {\n        switch (modifier) {\n            case 'ctrl': return this._ctrlKey;\n            case 'shift': return this._shiftKey;\n            case 'alt': return this._altKey;\n            case 'meta': return this._metaKey;\n        }\n    }\n}\nKeybindingModifierSet.EMPTY = new KeybindingModifierSet(null);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IKeybindingService = createDecorator('keybindingService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { implies, expressionsAreEqualWithConstantSubstitution } from '../../contextkey/common/contextkey.js';\n// util definitions to make working with the above types easier within this module:\nexport const NoMatchingKb = { kind: 0 /* ResultKind.NoMatchingKb */ };\nconst MoreChordsNeeded = { kind: 1 /* ResultKind.MoreChordsNeeded */ };\nfunction KbFound(commandId, commandArgs, isBubble) {\n    return { kind: 2 /* ResultKind.KbFound */, commandId, commandArgs, isBubble };\n}\n//#endregion\n/**\n * Stores mappings from keybindings to commands and from commands to keybindings.\n * Given a sequence of chords, `resolve`s which keybinding it matches\n */\nexport class KeybindingResolver {\n    constructor(\n    /** built-in and extension-provided keybindings */\n    defaultKeybindings, \n    /** user's keybindings */\n    overrides, log) {\n        var _a;\n        this._log = log;\n        this._defaultKeybindings = defaultKeybindings;\n        this._defaultBoundCommands = new Map();\n        for (const defaultKeybinding of defaultKeybindings) {\n            const command = defaultKeybinding.command;\n            if (command && command.charAt(0) !== '-') {\n                this._defaultBoundCommands.set(command, true);\n            }\n        }\n        this._map = new Map();\n        this._lookupMap = new Map();\n        this._keybindings = KeybindingResolver.handleRemovals([].concat(defaultKeybindings).concat(overrides));\n        for (let i = 0, len = this._keybindings.length; i < len; i++) {\n            const k = this._keybindings[i];\n            if (k.chords.length === 0) {\n                // unbound\n                continue;\n            }\n            // substitute with constants that are registered after startup - https://github.com/microsoft/vscode/issues/174218#issuecomment-1437972127\n            const when = (_a = k.when) === null || _a === void 0 ? void 0 : _a.substituteConstants();\n            if (when && when.type === 0 /* ContextKeyExprType.False */) {\n                // when condition is false\n                continue;\n            }\n            this._addKeyPress(k.chords[0], k);\n        }\n    }\n    static _isTargetedForRemoval(defaultKb, keypress, when) {\n        if (keypress) {\n            for (let i = 0; i < keypress.length; i++) {\n                if (keypress[i] !== defaultKb.chords[i]) {\n                    return false;\n                }\n            }\n        }\n        // `true` means always, as does `undefined`\n        // so we will treat `true` === `undefined`\n        if (when && when.type !== 1 /* ContextKeyExprType.True */) {\n            if (!defaultKb.when) {\n                return false;\n            }\n            if (!expressionsAreEqualWithConstantSubstitution(when, defaultKb.when)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Looks for rules containing \"-commandId\" and removes them.\n     */\n    static handleRemovals(rules) {\n        // Do a first pass and construct a hash-map for removals\n        const removals = new Map();\n        for (let i = 0, len = rules.length; i < len; i++) {\n            const rule = rules[i];\n            if (rule.command && rule.command.charAt(0) === '-') {\n                const command = rule.command.substring(1);\n                if (!removals.has(command)) {\n                    removals.set(command, [rule]);\n                }\n                else {\n                    removals.get(command).push(rule);\n                }\n            }\n        }\n        if (removals.size === 0) {\n            // There are no removals\n            return rules;\n        }\n        // Do a second pass and keep only non-removed keybindings\n        const result = [];\n        for (let i = 0, len = rules.length; i < len; i++) {\n            const rule = rules[i];\n            if (!rule.command || rule.command.length === 0) {\n                result.push(rule);\n                continue;\n            }\n            if (rule.command.charAt(0) === '-') {\n                continue;\n            }\n            const commandRemovals = removals.get(rule.command);\n            if (!commandRemovals || !rule.isDefault) {\n                result.push(rule);\n                continue;\n            }\n            let isRemoved = false;\n            for (const commandRemoval of commandRemovals) {\n                const when = commandRemoval.when;\n                if (this._isTargetedForRemoval(rule, commandRemoval.chords, when)) {\n                    isRemoved = true;\n                    break;\n                }\n            }\n            if (!isRemoved) {\n                result.push(rule);\n                continue;\n            }\n        }\n        return result;\n    }\n    _addKeyPress(keypress, item) {\n        const conflicts = this._map.get(keypress);\n        if (typeof conflicts === 'undefined') {\n            // There is no conflict so far\n            this._map.set(keypress, [item]);\n            this._addToLookupMap(item);\n            return;\n        }\n        for (let i = conflicts.length - 1; i >= 0; i--) {\n            const conflict = conflicts[i];\n            if (conflict.command === item.command) {\n                continue;\n            }\n            // Test if the shorter keybinding is a prefix of the longer one.\n            // If the shorter keybinding is a prefix, it effectively will shadow the longer one and is considered a conflict.\n            let isShorterKbPrefix = true;\n            for (let i = 1; i < conflict.chords.length && i < item.chords.length; i++) {\n                if (conflict.chords[i] !== item.chords[i]) {\n                    // The ith step does not conflict\n                    isShorterKbPrefix = false;\n                    break;\n                }\n            }\n            if (!isShorterKbPrefix) {\n                continue;\n            }\n            if (KeybindingResolver.whenIsEntirelyIncluded(conflict.when, item.when)) {\n                // `item` completely overwrites `conflict`\n                // Remove conflict from the lookupMap\n                this._removeFromLookupMap(conflict);\n            }\n        }\n        conflicts.push(item);\n        this._addToLookupMap(item);\n    }\n    _addToLookupMap(item) {\n        if (!item.command) {\n            return;\n        }\n        let arr = this._lookupMap.get(item.command);\n        if (typeof arr === 'undefined') {\n            arr = [item];\n            this._lookupMap.set(item.command, arr);\n        }\n        else {\n            arr.push(item);\n        }\n    }\n    _removeFromLookupMap(item) {\n        if (!item.command) {\n            return;\n        }\n        const arr = this._lookupMap.get(item.command);\n        if (typeof arr === 'undefined') {\n            return;\n        }\n        for (let i = 0, len = arr.length; i < len; i++) {\n            if (arr[i] === item) {\n                arr.splice(i, 1);\n                return;\n            }\n        }\n    }\n    /**\n     * Returns true if it is provable `a` implies `b`.\n     */\n    static whenIsEntirelyIncluded(a, b) {\n        if (!b || b.type === 1 /* ContextKeyExprType.True */) {\n            return true;\n        }\n        if (!a || a.type === 1 /* ContextKeyExprType.True */) {\n            return false;\n        }\n        return implies(a, b);\n    }\n    getKeybindings() {\n        return this._keybindings;\n    }\n    lookupPrimaryKeybinding(commandId, context) {\n        const items = this._lookupMap.get(commandId);\n        if (typeof items === 'undefined' || items.length === 0) {\n            return null;\n        }\n        if (items.length === 1) {\n            return items[0];\n        }\n        for (let i = items.length - 1; i >= 0; i--) {\n            const item = items[i];\n            if (context.contextMatchesRules(item.when)) {\n                return item;\n            }\n        }\n        return items[items.length - 1];\n    }\n    /**\n     * Looks up a keybinding trigged as a result of pressing a sequence of chords - `[...currentChords, keypress]`\n     *\n     * Example: resolving 3 chords pressed sequentially - `cmd+k cmd+p cmd+i`:\n     * \t`currentChords = [ 'cmd+k' , 'cmd+p' ]` and `keypress = `cmd+i` - last pressed chord\n     */\n    resolve(context, currentChords, keypress) {\n        const pressedChords = [...currentChords, keypress];\n        this._log(`| Resolving ${pressedChords}`);\n        const kbCandidates = this._map.get(pressedChords[0]);\n        if (kbCandidates === undefined) {\n            // No bindings with such 0-th chord\n            this._log(`\\\\ No keybinding entries.`);\n            return NoMatchingKb;\n        }\n        let lookupMap = null;\n        if (pressedChords.length < 2) {\n            lookupMap = kbCandidates;\n        }\n        else {\n            // Fetch all chord bindings for `currentChords`\n            lookupMap = [];\n            for (let i = 0, len = kbCandidates.length; i < len; i++) {\n                const candidate = kbCandidates[i];\n                if (pressedChords.length > candidate.chords.length) { // # of pressed chords can't be less than # of chords in a keybinding to invoke\n                    continue;\n                }\n                let prefixMatches = true;\n                for (let i = 1; i < pressedChords.length; i++) {\n                    if (candidate.chords[i] !== pressedChords[i]) {\n                        prefixMatches = false;\n                        break;\n                    }\n                }\n                if (prefixMatches) {\n                    lookupMap.push(candidate);\n                }\n            }\n        }\n        // check there's a keybinding with a matching when clause\n        const result = this._findCommand(context, lookupMap);\n        if (!result) {\n            this._log(`\\\\ From ${lookupMap.length} keybinding entries, no when clauses matched the context.`);\n            return NoMatchingKb;\n        }\n        // check we got all chords necessary to be sure a particular keybinding needs to be invoked\n        if (pressedChords.length < result.chords.length) {\n            // The chord sequence is not complete\n            this._log(`\\\\ From ${lookupMap.length} keybinding entries, awaiting ${result.chords.length - pressedChords.length} more chord(s), when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`);\n            return MoreChordsNeeded;\n        }\n        this._log(`\\\\ From ${lookupMap.length} keybinding entries, matched ${result.command}, when: ${printWhenExplanation(result.when)}, source: ${printSourceExplanation(result)}.`);\n        return KbFound(result.command, result.commandArgs, result.bubble);\n    }\n    _findCommand(context, matches) {\n        for (let i = matches.length - 1; i >= 0; i--) {\n            const k = matches[i];\n            if (!KeybindingResolver._contextMatchesRules(context, k.when)) {\n                continue;\n            }\n            return k;\n        }\n        return null;\n    }\n    static _contextMatchesRules(context, rules) {\n        if (!rules) {\n            return true;\n        }\n        return rules.evaluate(context);\n    }\n}\nfunction printWhenExplanation(when) {\n    if (!when) {\n        return `no when condition`;\n    }\n    return `${when.serialize()}`;\n}\nfunction printSourceExplanation(kb) {\n    return (kb.extensionId\n        ? (kb.isBuiltinExtension ? `built-in extension ${kb.extensionId}` : `user extension ${kb.extensionId}`)\n        : (kb.isDefault ? `built-in` : `user`));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { decodeKeybinding } from '../../../base/common/keybindings.js';\nimport { OS } from '../../../base/common/platform.js';\nimport { CommandsRegistry } from '../../commands/common/commands.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { combinedDisposable, DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../base/common/linkedList.js';\n/**\n * Stores all built-in and extension-provided keybindings (but not ones that user defines themselves)\n */\nclass KeybindingsRegistryImpl {\n    constructor() {\n        this._coreKeybindings = new LinkedList();\n        this._extensionKeybindings = [];\n        this._cachedMergedKeybindings = null;\n    }\n    /**\n     * Take current platform into account and reduce to primary & secondary.\n     */\n    static bindToCurrentPlatform(kb) {\n        if (OS === 1 /* OperatingSystem.Windows */) {\n            if (kb && kb.win) {\n                return kb.win;\n            }\n        }\n        else if (OS === 2 /* OperatingSystem.Macintosh */) {\n            if (kb && kb.mac) {\n                return kb.mac;\n            }\n        }\n        else {\n            if (kb && kb.linux) {\n                return kb.linux;\n            }\n        }\n        return kb;\n    }\n    registerKeybindingRule(rule) {\n        const actualKb = KeybindingsRegistryImpl.bindToCurrentPlatform(rule);\n        const result = new DisposableStore();\n        if (actualKb && actualKb.primary) {\n            const kk = decodeKeybinding(actualKb.primary, OS);\n            if (kk) {\n                result.add(this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, 0, rule.when));\n            }\n        }\n        if (actualKb && Array.isArray(actualKb.secondary)) {\n            for (let i = 0, len = actualKb.secondary.length; i < len; i++) {\n                const k = actualKb.secondary[i];\n                const kk = decodeKeybinding(k, OS);\n                if (kk) {\n                    result.add(this._registerDefaultKeybinding(kk, rule.id, rule.args, rule.weight, -i - 1, rule.when));\n                }\n            }\n        }\n        return result;\n    }\n    registerCommandAndKeybindingRule(desc) {\n        return combinedDisposable(this.registerKeybindingRule(desc), CommandsRegistry.registerCommand(desc));\n    }\n    _registerDefaultKeybinding(keybinding, commandId, commandArgs, weight1, weight2, when) {\n        const remove = this._coreKeybindings.push({\n            keybinding: keybinding,\n            command: commandId,\n            commandArgs: commandArgs,\n            when: when,\n            weight1: weight1,\n            weight2: weight2,\n            extensionId: null,\n            isBuiltinExtension: false\n        });\n        this._cachedMergedKeybindings = null;\n        return toDisposable(() => {\n            remove();\n            this._cachedMergedKeybindings = null;\n        });\n    }\n    getDefaultKeybindings() {\n        if (!this._cachedMergedKeybindings) {\n            this._cachedMergedKeybindings = Array.from(this._coreKeybindings).concat(this._extensionKeybindings);\n            this._cachedMergedKeybindings.sort(sorter);\n        }\n        return this._cachedMergedKeybindings.slice(0);\n    }\n}\nexport const KeybindingsRegistry = new KeybindingsRegistryImpl();\n// Define extension point ids\nexport const Extensions = {\n    EditorModes: 'platform.keybindingsRegistry'\n};\nRegistry.add(Extensions.EditorModes, KeybindingsRegistry);\nfunction sorter(a, b) {\n    if (a.weight1 !== b.weight1) {\n        return a.weight1 - b.weight1;\n    }\n    if (a.command && b.command) {\n        if (a.command < b.command) {\n            return -1;\n        }\n        if (a.command > b.command) {\n            return 1;\n        }\n    }\n    return a.weight2 - b.weight2;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ResolvedKeybindingItem {\n    constructor(resolvedKeybinding, command, commandArgs, when, isDefault, extensionId, isBuiltinExtension) {\n        this._resolvedKeybindingItemBrand = undefined;\n        this.resolvedKeybinding = resolvedKeybinding;\n        this.chords = resolvedKeybinding ? toEmptyArrayIfContainsNull(resolvedKeybinding.getDispatchChords()) : [];\n        if (resolvedKeybinding && this.chords.length === 0) {\n            // handle possible single modifier chord keybindings\n            this.chords = toEmptyArrayIfContainsNull(resolvedKeybinding.getSingleModifierDispatchChords());\n        }\n        this.bubble = (command ? command.charCodeAt(0) === 94 /* CharCode.Caret */ : false);\n        this.command = this.bubble ? command.substr(1) : command;\n        this.commandArgs = commandArgs;\n        this.when = when;\n        this.isDefault = isDefault;\n        this.extensionId = extensionId;\n        this.isBuiltinExtension = isBuiltinExtension;\n    }\n}\nexport function toEmptyArrayIfContainsNull(arr) {\n    const result = [];\n    for (let i = 0, len = arr.length; i < len; i++) {\n        const element = arr[i];\n        if (!element) {\n            return [];\n        }\n        result.push(element);\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { illegalArgument } from '../../../base/common/errors.js';\nimport { AriaLabelProvider, ElectronAcceleratorLabelProvider, UILabelProvider, UserSettingsLabelProvider } from '../../../base/common/keybindingLabels.js';\nimport { ResolvedKeybinding, ResolvedChord } from '../../../base/common/keybindings.js';\nexport class BaseResolvedKeybinding extends ResolvedKeybinding {\n    constructor(os, chords) {\n        super();\n        if (chords.length === 0) {\n            throw illegalArgument(`chords`);\n        }\n        this._os = os;\n        this._chords = chords;\n    }\n    getLabel() {\n        return UILabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getLabel(keybinding));\n    }\n    getAriaLabel() {\n        return AriaLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getAriaLabel(keybinding));\n    }\n    getElectronAccelerator() {\n        if (this._chords.length > 1) {\n            // [Electron Accelerators] Electron cannot handle chords\n            return null;\n        }\n        if (this._chords[0].isDuplicateModifierCase()) {\n            // [Electron Accelerators] Electron cannot handle modifier only keybindings\n            // e.g. \"shift shift\"\n            return null;\n        }\n        return ElectronAcceleratorLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getElectronAccelerator(keybinding));\n    }\n    getUserSettingsLabel() {\n        return UserSettingsLabelProvider.toLabel(this._os, this._chords, (keybinding) => this._getUserSettingsLabel(keybinding));\n    }\n    hasMultipleChords() {\n        return (this._chords.length > 1);\n    }\n    getChords() {\n        return this._chords.map((keybinding) => this._getChord(keybinding));\n    }\n    _getChord(keybinding) {\n        return new ResolvedChord(keybinding.ctrlKey, keybinding.shiftKey, keybinding.altKey, keybinding.metaKey, this._getLabel(keybinding), this._getAriaLabel(keybinding));\n    }\n    getDispatchChords() {\n        return this._chords.map((keybinding) => this._getChordDispatch(keybinding));\n    }\n    getSingleModifierDispatchChords() {\n        return this._chords.map((keybinding) => this._getSingleModifierChordDispatch(keybinding));\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { KeyCodeUtils, IMMUTABLE_CODE_TO_KEY_CODE } from '../../../base/common/keyCodes.js';\nimport { KeyCodeChord } from '../../../base/common/keybindings.js';\nimport { BaseResolvedKeybinding } from './baseResolvedKeybinding.js';\nimport { toEmptyArrayIfContainsNull } from './resolvedKeybindingItem.js';\n/**\n * Do not instantiate. Use KeybindingService to get a ResolvedKeybinding seeded with information about the current kb layout.\n */\nexport class USLayoutResolvedKeybinding extends BaseResolvedKeybinding {\n    constructor(chords, os) {\n        super(os, chords);\n    }\n    _keyCodeToUILabel(keyCode) {\n        if (this._os === 2 /* OperatingSystem.Macintosh */) {\n            switch (keyCode) {\n                case 15 /* KeyCode.LeftArrow */:\n                    return '←';\n                case 16 /* KeyCode.UpArrow */:\n                    return '↑';\n                case 17 /* KeyCode.RightArrow */:\n                    return '→';\n                case 18 /* KeyCode.DownArrow */:\n                    return '↓';\n            }\n        }\n        return KeyCodeUtils.toString(keyCode);\n    }\n    _getLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        return this._keyCodeToUILabel(chord.keyCode);\n    }\n    _getAriaLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        return KeyCodeUtils.toString(chord.keyCode);\n    }\n    _getElectronAccelerator(chord) {\n        return KeyCodeUtils.toElectronAccelerator(chord.keyCode);\n    }\n    _getUserSettingsLabel(chord) {\n        if (chord.isDuplicateModifierCase()) {\n            return '';\n        }\n        const result = KeyCodeUtils.toUserSettingsUS(chord.keyCode);\n        return (result ? result.toLowerCase() : result);\n    }\n    _getChordDispatch(chord) {\n        return USLayoutResolvedKeybinding.getDispatchStr(chord);\n    }\n    static getDispatchStr(chord) {\n        if (chord.isModifierKey()) {\n            return null;\n        }\n        let result = '';\n        if (chord.ctrlKey) {\n            result += 'ctrl+';\n        }\n        if (chord.shiftKey) {\n            result += 'shift+';\n        }\n        if (chord.altKey) {\n            result += 'alt+';\n        }\n        if (chord.metaKey) {\n            result += 'meta+';\n        }\n        result += KeyCodeUtils.toString(chord.keyCode);\n        return result;\n    }\n    _getSingleModifierChordDispatch(keybinding) {\n        if (keybinding.keyCode === 5 /* KeyCode.Ctrl */ && !keybinding.shiftKey && !keybinding.altKey && !keybinding.metaKey) {\n            return 'ctrl';\n        }\n        if (keybinding.keyCode === 4 /* KeyCode.Shift */ && !keybinding.ctrlKey && !keybinding.altKey && !keybinding.metaKey) {\n            return 'shift';\n        }\n        if (keybinding.keyCode === 6 /* KeyCode.Alt */ && !keybinding.ctrlKey && !keybinding.shiftKey && !keybinding.metaKey) {\n            return 'alt';\n        }\n        if (keybinding.keyCode === 57 /* KeyCode.Meta */ && !keybinding.ctrlKey && !keybinding.shiftKey && !keybinding.altKey) {\n            return 'meta';\n        }\n        return null;\n    }\n    /**\n     * *NOTE*: Check return value for `KeyCode.Unknown`.\n     */\n    static _scanCodeToKeyCode(scanCode) {\n        const immutableKeyCode = IMMUTABLE_CODE_TO_KEY_CODE[scanCode];\n        if (immutableKeyCode !== -1 /* KeyCode.DependsOnKbLayout */) {\n            return immutableKeyCode;\n        }\n        switch (scanCode) {\n            case 10 /* ScanCode.KeyA */: return 31 /* KeyCode.KeyA */;\n            case 11 /* ScanCode.KeyB */: return 32 /* KeyCode.KeyB */;\n            case 12 /* ScanCode.KeyC */: return 33 /* KeyCode.KeyC */;\n            case 13 /* ScanCode.KeyD */: return 34 /* KeyCode.KeyD */;\n            case 14 /* ScanCode.KeyE */: return 35 /* KeyCode.KeyE */;\n            case 15 /* ScanCode.KeyF */: return 36 /* KeyCode.KeyF */;\n            case 16 /* ScanCode.KeyG */: return 37 /* KeyCode.KeyG */;\n            case 17 /* ScanCode.KeyH */: return 38 /* KeyCode.KeyH */;\n            case 18 /* ScanCode.KeyI */: return 39 /* KeyCode.KeyI */;\n            case 19 /* ScanCode.KeyJ */: return 40 /* KeyCode.KeyJ */;\n            case 20 /* ScanCode.KeyK */: return 41 /* KeyCode.KeyK */;\n            case 21 /* ScanCode.KeyL */: return 42 /* KeyCode.KeyL */;\n            case 22 /* ScanCode.KeyM */: return 43 /* KeyCode.KeyM */;\n            case 23 /* ScanCode.KeyN */: return 44 /* KeyCode.KeyN */;\n            case 24 /* ScanCode.KeyO */: return 45 /* KeyCode.KeyO */;\n            case 25 /* ScanCode.KeyP */: return 46 /* KeyCode.KeyP */;\n            case 26 /* ScanCode.KeyQ */: return 47 /* KeyCode.KeyQ */;\n            case 27 /* ScanCode.KeyR */: return 48 /* KeyCode.KeyR */;\n            case 28 /* ScanCode.KeyS */: return 49 /* KeyCode.KeyS */;\n            case 29 /* ScanCode.KeyT */: return 50 /* KeyCode.KeyT */;\n            case 30 /* ScanCode.KeyU */: return 51 /* KeyCode.KeyU */;\n            case 31 /* ScanCode.KeyV */: return 52 /* KeyCode.KeyV */;\n            case 32 /* ScanCode.KeyW */: return 53 /* KeyCode.KeyW */;\n            case 33 /* ScanCode.KeyX */: return 54 /* KeyCode.KeyX */;\n            case 34 /* ScanCode.KeyY */: return 55 /* KeyCode.KeyY */;\n            case 35 /* ScanCode.KeyZ */: return 56 /* KeyCode.KeyZ */;\n            case 36 /* ScanCode.Digit1 */: return 22 /* KeyCode.Digit1 */;\n            case 37 /* ScanCode.Digit2 */: return 23 /* KeyCode.Digit2 */;\n            case 38 /* ScanCode.Digit3 */: return 24 /* KeyCode.Digit3 */;\n            case 39 /* ScanCode.Digit4 */: return 25 /* KeyCode.Digit4 */;\n            case 40 /* ScanCode.Digit5 */: return 26 /* KeyCode.Digit5 */;\n            case 41 /* ScanCode.Digit6 */: return 27 /* KeyCode.Digit6 */;\n            case 42 /* ScanCode.Digit7 */: return 28 /* KeyCode.Digit7 */;\n            case 43 /* ScanCode.Digit8 */: return 29 /* KeyCode.Digit8 */;\n            case 44 /* ScanCode.Digit9 */: return 30 /* KeyCode.Digit9 */;\n            case 45 /* ScanCode.Digit0 */: return 21 /* KeyCode.Digit0 */;\n            case 51 /* ScanCode.Minus */: return 88 /* KeyCode.Minus */;\n            case 52 /* ScanCode.Equal */: return 86 /* KeyCode.Equal */;\n            case 53 /* ScanCode.BracketLeft */: return 92 /* KeyCode.BracketLeft */;\n            case 54 /* ScanCode.BracketRight */: return 94 /* KeyCode.BracketRight */;\n            case 55 /* ScanCode.Backslash */: return 93 /* KeyCode.Backslash */;\n            case 56 /* ScanCode.IntlHash */: return 0 /* KeyCode.Unknown */; // missing\n            case 57 /* ScanCode.Semicolon */: return 85 /* KeyCode.Semicolon */;\n            case 58 /* ScanCode.Quote */: return 95 /* KeyCode.Quote */;\n            case 59 /* ScanCode.Backquote */: return 91 /* KeyCode.Backquote */;\n            case 60 /* ScanCode.Comma */: return 87 /* KeyCode.Comma */;\n            case 61 /* ScanCode.Period */: return 89 /* KeyCode.Period */;\n            case 62 /* ScanCode.Slash */: return 90 /* KeyCode.Slash */;\n            case 106 /* ScanCode.IntlBackslash */: return 97 /* KeyCode.IntlBackslash */;\n        }\n        return 0 /* KeyCode.Unknown */;\n    }\n    static _toKeyCodeChord(chord) {\n        if (!chord) {\n            return null;\n        }\n        if (chord instanceof KeyCodeChord) {\n            return chord;\n        }\n        const keyCode = this._scanCodeToKeyCode(chord.scanCode);\n        if (keyCode === 0 /* KeyCode.Unknown */) {\n            return null;\n        }\n        return new KeyCodeChord(chord.ctrlKey, chord.shiftKey, chord.altKey, chord.metaKey, keyCode);\n    }\n    static resolveKeybinding(keybinding, os) {\n        const chords = toEmptyArrayIfContainsNull(keybinding.chords.map(chord => this._toKeyCodeChord(chord)));\n        if (chords.length > 0) {\n            return [new USLayoutResolvedKeybinding(chords, os)];\n        }\n        return [];\n    }\n}\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILabelService = createDecorator('labelService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILayoutService = createDecorator('layoutService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { createStyleSheet } from '../../../base/browser/dom.js';\nimport { PagedList } from '../../../base/browser/ui/list/listPaging.js';\nimport { DefaultStyleController, isSelectionRangeChangeEvent, isSelectionSingleChangeEvent, List, TypeNavigationMode } from '../../../base/browser/ui/list/listWidget.js';\nimport { Table } from '../../../base/browser/ui/table/tableWidget.js';\nimport { TreeFindMode, TreeFindMatchType } from '../../../base/browser/ui/tree/abstractTree.js';\nimport { AsyncDataTree, CompressibleAsyncDataTree } from '../../../base/browser/ui/tree/asyncDataTree.js';\nimport { DataTree } from '../../../base/browser/ui/tree/dataTree.js';\nimport { CompressibleObjectTree, ObjectTree } from '../../../base/browser/ui/tree/objectTree.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { combinedDisposable, Disposable, DisposableStore, dispose, toDisposable } from '../../../base/common/lifecycle.js';\nimport { localize } from '../../../nls.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { Extensions as ConfigurationExtensions } from '../../configuration/common/configurationRegistry.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { InputFocusedContextKey } from '../../contextkey/common/contextkeys.js';\nimport { IContextViewService } from '../../contextview/browser/contextView.js';\nimport { createDecorator, IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { defaultFindWidgetStyles, defaultListStyles, getListStyles } from '../../theme/browser/defaultStyles.js';\nexport const IListService = createDecorator('listService');\nexport class ListService {\n    get lastFocusedList() {\n        return this._lastFocusedWidget;\n    }\n    constructor() {\n        this.disposables = new DisposableStore();\n        this.lists = [];\n        this._lastFocusedWidget = undefined;\n        this._hasCreatedStyleController = false;\n    }\n    setLastFocusedList(widget) {\n        var _a, _b;\n        if (widget === this._lastFocusedWidget) {\n            return;\n        }\n        (_a = this._lastFocusedWidget) === null || _a === void 0 ? void 0 : _a.getHTMLElement().classList.remove('last-focused');\n        this._lastFocusedWidget = widget;\n        (_b = this._lastFocusedWidget) === null || _b === void 0 ? void 0 : _b.getHTMLElement().classList.add('last-focused');\n    }\n    register(widget, extraContextKeys) {\n        if (!this._hasCreatedStyleController) {\n            this._hasCreatedStyleController = true;\n            // create a shared default tree style sheet for performance reasons\n            const styleController = new DefaultStyleController(createStyleSheet(), '');\n            styleController.style(defaultListStyles);\n        }\n        if (this.lists.some(l => l.widget === widget)) {\n            throw new Error('Cannot register the same widget multiple times');\n        }\n        // Keep in our lists list\n        const registeredList = { widget, extraContextKeys };\n        this.lists.push(registeredList);\n        // Check for currently being focused\n        if (widget.getHTMLElement() === document.activeElement) {\n            this.setLastFocusedList(widget);\n        }\n        return combinedDisposable(widget.onDidFocus(() => this.setLastFocusedList(widget)), toDisposable(() => this.lists.splice(this.lists.indexOf(registeredList), 1)), widget.onDidDispose(() => {\n            this.lists = this.lists.filter(l => l !== registeredList);\n            if (this._lastFocusedWidget === widget) {\n                this.setLastFocusedList(undefined);\n            }\n        }));\n    }\n    dispose() {\n        this.disposables.dispose();\n    }\n}\nexport const RawWorkbenchListFocusContextKey = new RawContextKey('listFocus', true);\nexport const WorkbenchListSupportsMultiSelectContextKey = new RawContextKey('listSupportsMultiselect', true);\nexport const WorkbenchListFocusContextKey = ContextKeyExpr.and(RawWorkbenchListFocusContextKey, ContextKeyExpr.not(InputFocusedContextKey));\nexport const WorkbenchListHasSelectionOrFocus = new RawContextKey('listHasSelectionOrFocus', false);\nexport const WorkbenchListDoubleSelection = new RawContextKey('listDoubleSelection', false);\nexport const WorkbenchListMultiSelection = new RawContextKey('listMultiSelection', false);\nexport const WorkbenchListSelectionNavigation = new RawContextKey('listSelectionNavigation', false);\nexport const WorkbenchListSupportsFind = new RawContextKey('listSupportsFind', true);\nexport const WorkbenchTreeElementCanCollapse = new RawContextKey('treeElementCanCollapse', false);\nexport const WorkbenchTreeElementHasParent = new RawContextKey('treeElementHasParent', false);\nexport const WorkbenchTreeElementCanExpand = new RawContextKey('treeElementCanExpand', false);\nexport const WorkbenchTreeElementHasChild = new RawContextKey('treeElementHasChild', false);\nexport const WorkbenchTreeFindOpen = new RawContextKey('treeFindOpen', false);\nconst WorkbenchListTypeNavigationModeKey = 'listTypeNavigationMode';\n/**\n * @deprecated in favor of WorkbenchListTypeNavigationModeKey\n */\nconst WorkbenchListAutomaticKeyboardNavigationLegacyKey = 'listAutomaticKeyboardNavigation';\nfunction createScopedContextKeyService(contextKeyService, widget) {\n    const result = contextKeyService.createScoped(widget.getHTMLElement());\n    RawWorkbenchListFocusContextKey.bindTo(result);\n    return result;\n}\nconst multiSelectModifierSettingKey = 'workbench.list.multiSelectModifier';\nconst openModeSettingKey = 'workbench.list.openMode';\nconst horizontalScrollingKey = 'workbench.list.horizontalScrolling';\nconst defaultFindModeSettingKey = 'workbench.list.defaultFindMode';\nconst typeNavigationModeSettingKey = 'workbench.list.typeNavigationMode';\n/** @deprecated in favor of `workbench.list.defaultFindMode` and `workbench.list.typeNavigationMode` */\nconst keyboardNavigationSettingKey = 'workbench.list.keyboardNavigation';\nconst scrollByPageKey = 'workbench.list.scrollByPage';\nconst defaultFindMatchTypeSettingKey = 'workbench.list.defaultFindMatchType';\nconst treeIndentKey = 'workbench.tree.indent';\nconst treeRenderIndentGuidesKey = 'workbench.tree.renderIndentGuides';\nconst listSmoothScrolling = 'workbench.list.smoothScrolling';\nconst mouseWheelScrollSensitivityKey = 'workbench.list.mouseWheelScrollSensitivity';\nconst fastScrollSensitivityKey = 'workbench.list.fastScrollSensitivity';\nconst treeExpandMode = 'workbench.tree.expandMode';\nfunction useAltAsMultipleSelectionModifier(configurationService) {\n    return configurationService.getValue(multiSelectModifierSettingKey) === 'alt';\n}\nclass MultipleSelectionController extends Disposable {\n    constructor(configurationService) {\n        super();\n        this.configurationService = configurationService;\n        this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.registerListeners();\n    }\n    registerListeners() {\n        this._register(this.configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this.useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(this.configurationService);\n            }\n        }));\n    }\n    isSelectionSingleChangeEvent(event) {\n        if (this.useAltAsMultipleSelectionModifier) {\n            return event.browserEvent.altKey;\n        }\n        return isSelectionSingleChangeEvent(event);\n    }\n    isSelectionRangeChangeEvent(event) {\n        return isSelectionRangeChangeEvent(event);\n    }\n}\nfunction toWorkbenchListOptions(accessor, options) {\n    var _a;\n    const configurationService = accessor.get(IConfigurationService);\n    const keybindingService = accessor.get(IKeybindingService);\n    const disposables = new DisposableStore();\n    const result = Object.assign(Object.assign({}, options), { keyboardNavigationDelegate: { mightProducePrintableCharacter(e) { return keybindingService.mightProducePrintableCharacter(e); } }, smoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)), mouseWheelScrollSensitivity: configurationService.getValue(mouseWheelScrollSensitivityKey), fastScrollSensitivity: configurationService.getValue(fastScrollSensitivityKey), multipleSelectionController: (_a = options.multipleSelectionController) !== null && _a !== void 0 ? _a : disposables.add(new MultipleSelectionController(configurationService)), keyboardNavigationEventFilter: createKeyboardNavigationEventFilter(keybindingService), scrollByPage: Boolean(configurationService.getValue(scrollByPageKey)) });\n    return [result, disposables];\n}\nexport let WorkbenchList = class WorkbenchList extends List {\n    constructor(user, container, delegate, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(this.onDidChangeSelection(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.listMultiSelection.set(selection.length > 1);\n                this.listDoubleSelection.set(selection.length === 2);\n            });\n        }));\n        this.disposables.add(this.onDidChangeFocus(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n        }));\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new ListResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n};\nWorkbenchList = __decorate([\n    __param(5, IContextKeyService),\n    __param(6, IListService),\n    __param(7, IConfigurationService),\n    __param(8, IInstantiationService)\n], WorkbenchList);\nexport let WorkbenchPagedList = class WorkbenchPagedList extends PagedList {\n    constructor(user, container, delegate, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables = new DisposableStore();\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new ListResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables.dispose();\n        super.dispose();\n    }\n};\nWorkbenchPagedList = __decorate([\n    __param(5, IContextKeyService),\n    __param(6, IListService),\n    __param(7, IConfigurationService),\n    __param(8, IInstantiationService)\n], WorkbenchPagedList);\nexport let WorkbenchTable = class WorkbenchTable extends Table {\n    constructor(user, container, delegate, columns, renderers, options, contextKeyService, listService, configurationService, instantiationService) {\n        const horizontalScrolling = typeof options.horizontalScrolling !== 'undefined' ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n        const [workbenchListOptions, workbenchListOptionsDisposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n        super(user, container, delegate, columns, renderers, Object.assign(Object.assign({ keyboardSupport: false }, workbenchListOptions), { horizontalScrolling }));\n        this.disposables.add(workbenchListOptionsDisposable);\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, this);\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listHasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.listDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.listMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.horizontalScrolling = options.horizontalScrolling;\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.disposables.add(this.contextKeyService);\n        this.disposables.add(listService.register(this));\n        this.updateStyles(options.overrideStyles);\n        this.disposables.add(this.onDidChangeSelection(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.listMultiSelection.set(selection.length > 1);\n                this.listDoubleSelection.set(selection.length === 2);\n            });\n        }));\n        this.disposables.add(this.onDidChangeFocus(() => {\n            const selection = this.getSelection();\n            const focus = this.getFocus();\n            this.listHasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n        }));\n        this.disposables.add(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            let options = {};\n            if (e.affectsConfiguration(horizontalScrollingKey) && this.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                options = Object.assign(Object.assign({}, options), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                options = Object.assign(Object.assign({}, options), { scrollByPage });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                options = Object.assign(Object.assign({}, options), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                options = Object.assign(Object.assign({}, options), { fastScrollSensitivity });\n            }\n            if (Object.keys(options).length > 0) {\n                this.updateOptions(options);\n            }\n        }));\n        this.navigator = new TableResourceNavigator(this, Object.assign({ configurationService }, options));\n        this.disposables.add(this.navigator);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.updateStyles(options.overrideStyles);\n        }\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyles(styles) {\n        this.style(styles ? getListStyles(styles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables.dispose();\n        super.dispose();\n    }\n};\nWorkbenchTable = __decorate([\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService),\n    __param(9, IInstantiationService)\n], WorkbenchTable);\nclass ResourceNavigator extends Disposable {\n    constructor(widget, options) {\n        var _a;\n        super();\n        this.widget = widget;\n        this._onDidOpen = this._register(new Emitter());\n        this.onDidOpen = this._onDidOpen.event;\n        this._register(Event.filter(this.widget.onDidChangeSelection, e => e.browserEvent instanceof KeyboardEvent)(e => this.onSelectionFromKeyboard(e)));\n        this._register(this.widget.onPointer((e) => this.onPointer(e.element, e.browserEvent)));\n        this._register(this.widget.onMouseDblClick((e) => this.onMouseDblClick(e.element, e.browserEvent)));\n        if (typeof (options === null || options === void 0 ? void 0 : options.openOnSingleClick) !== 'boolean' && (options === null || options === void 0 ? void 0 : options.configurationService)) {\n            this.openOnSingleClick = (options === null || options === void 0 ? void 0 : options.configurationService.getValue(openModeSettingKey)) !== 'doubleClick';\n            this._register(options === null || options === void 0 ? void 0 : options.configurationService.onDidChangeConfiguration(e => {\n                if (e.affectsConfiguration(openModeSettingKey)) {\n                    this.openOnSingleClick = (options === null || options === void 0 ? void 0 : options.configurationService.getValue(openModeSettingKey)) !== 'doubleClick';\n                }\n            }));\n        }\n        else {\n            this.openOnSingleClick = (_a = options === null || options === void 0 ? void 0 : options.openOnSingleClick) !== null && _a !== void 0 ? _a : true;\n        }\n    }\n    onSelectionFromKeyboard(event) {\n        if (event.elements.length !== 1) {\n            return;\n        }\n        const selectionKeyboardEvent = event.browserEvent;\n        const preserveFocus = typeof selectionKeyboardEvent.preserveFocus === 'boolean' ? selectionKeyboardEvent.preserveFocus : true;\n        const pinned = typeof selectionKeyboardEvent.pinned === 'boolean' ? selectionKeyboardEvent.pinned : !preserveFocus;\n        const sideBySide = false;\n        this._open(this.getSelectedElement(), preserveFocus, pinned, sideBySide, event.browserEvent);\n    }\n    onPointer(element, browserEvent) {\n        if (!this.openOnSingleClick) {\n            return;\n        }\n        const isDoubleClick = browserEvent.detail === 2;\n        if (isDoubleClick) {\n            return;\n        }\n        const isMiddleClick = browserEvent.button === 1;\n        const preserveFocus = true;\n        const pinned = isMiddleClick;\n        const sideBySide = browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey;\n        this._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n    }\n    onMouseDblClick(element, browserEvent) {\n        if (!browserEvent) {\n            return;\n        }\n        // copied from AbstractTree\n        const target = browserEvent.target;\n        const onTwistie = target.classList.contains('monaco-tl-twistie')\n            || (target.classList.contains('monaco-icon-label') && target.classList.contains('folder-icon') && browserEvent.offsetX < 16);\n        if (onTwistie) {\n            return;\n        }\n        const preserveFocus = false;\n        const pinned = true;\n        const sideBySide = (browserEvent.ctrlKey || browserEvent.metaKey || browserEvent.altKey);\n        this._open(element, preserveFocus, pinned, sideBySide, browserEvent);\n    }\n    _open(element, preserveFocus, pinned, sideBySide, browserEvent) {\n        if (!element) {\n            return;\n        }\n        this._onDidOpen.fire({\n            editorOptions: {\n                preserveFocus,\n                pinned,\n                revealIfVisible: true\n            },\n            sideBySide,\n            element,\n            browserEvent\n        });\n    }\n}\nclass ListResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n        this.widget = widget;\n    }\n    getSelectedElement() {\n        return this.widget.getSelectedElements()[0];\n    }\n}\nclass TableResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n    }\n    getSelectedElement() {\n        return this.widget.getSelectedElements()[0];\n    }\n}\nclass TreeResourceNavigator extends ResourceNavigator {\n    constructor(widget, options) {\n        super(widget, options);\n    }\n    getSelectedElement() {\n        var _a;\n        return (_a = this.widget.getSelection()[0]) !== null && _a !== void 0 ? _a : undefined;\n    }\n}\nfunction createKeyboardNavigationEventFilter(keybindingService) {\n    let inMultiChord = false;\n    return event => {\n        if (event.toKeyCodeChord().isModifierKey()) {\n            return false;\n        }\n        if (inMultiChord) {\n            inMultiChord = false;\n            return false;\n        }\n        const result = keybindingService.softDispatch(event, event.target);\n        if (result.kind === 1 /* ResultKind.MoreChordsNeeded */) {\n            inMultiChord = true;\n            return false;\n        }\n        inMultiChord = false;\n        return result.kind === 0 /* ResultKind.NoMatchingKb */;\n    };\n}\nexport let WorkbenchObjectTree = class WorkbenchObjectTree extends ObjectTree {\n    constructor(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchObjectTree = __decorate([\n    __param(5, IInstantiationService),\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService)\n], WorkbenchObjectTree);\nexport let WorkbenchCompressibleObjectTree = class WorkbenchCompressibleObjectTree extends CompressibleObjectTree {\n    constructor(user, container, delegate, renderers, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchCompressibleObjectTree = __decorate([\n    __param(5, IInstantiationService),\n    __param(6, IContextKeyService),\n    __param(7, IListService),\n    __param(8, IConfigurationService)\n], WorkbenchCompressibleObjectTree);\nexport let WorkbenchDataTree = class WorkbenchDataTree extends DataTree {\n    constructor(user, container, delegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles !== undefined) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchDataTree = __decorate([\n    __param(6, IInstantiationService),\n    __param(7, IContextKeyService),\n    __param(8, IListService),\n    __param(9, IConfigurationService)\n], WorkbenchDataTree);\nexport let WorkbenchAsyncDataTree = class WorkbenchAsyncDataTree extends AsyncDataTree {\n    get onDidOpen() { return this.internals.onDidOpen; }\n    constructor(user, container, delegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, delegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options = {}) {\n        super.updateOptions(options);\n        if (options.overrideStyles) {\n            this.internals.updateStyleOverrides(options.overrideStyles);\n        }\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchAsyncDataTree = __decorate([\n    __param(6, IInstantiationService),\n    __param(7, IContextKeyService),\n    __param(8, IListService),\n    __param(9, IConfigurationService)\n], WorkbenchAsyncDataTree);\nexport let WorkbenchCompressibleAsyncDataTree = class WorkbenchCompressibleAsyncDataTree extends CompressibleAsyncDataTree {\n    constructor(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, options, instantiationService, contextKeyService, listService, configurationService) {\n        const { options: treeOptions, getTypeNavigationMode, disposable } = instantiationService.invokeFunction(workbenchTreeDataPreamble, options);\n        super(user, container, virtualDelegate, compressionDelegate, renderers, dataSource, treeOptions);\n        this.disposables.add(disposable);\n        this.internals = new WorkbenchTreeInternals(this, options, getTypeNavigationMode, options.overrideStyles, contextKeyService, listService, configurationService);\n        this.disposables.add(this.internals);\n    }\n    updateOptions(options) {\n        super.updateOptions(options);\n        this.internals.updateOptions(options);\n    }\n};\nWorkbenchCompressibleAsyncDataTree = __decorate([\n    __param(7, IInstantiationService),\n    __param(8, IContextKeyService),\n    __param(9, IListService),\n    __param(10, IConfigurationService)\n], WorkbenchCompressibleAsyncDataTree);\nfunction getDefaultTreeFindMode(configurationService) {\n    const value = configurationService.getValue(defaultFindModeSettingKey);\n    if (value === 'highlight') {\n        return TreeFindMode.Highlight;\n    }\n    else if (value === 'filter') {\n        return TreeFindMode.Filter;\n    }\n    const deprecatedValue = configurationService.getValue(keyboardNavigationSettingKey);\n    if (deprecatedValue === 'simple' || deprecatedValue === 'highlight') {\n        return TreeFindMode.Highlight;\n    }\n    else if (deprecatedValue === 'filter') {\n        return TreeFindMode.Filter;\n    }\n    return undefined;\n}\nfunction getDefaultTreeFindMatchType(configurationService) {\n    const value = configurationService.getValue(defaultFindMatchTypeSettingKey);\n    if (value === 'fuzzy') {\n        return TreeFindMatchType.Fuzzy;\n    }\n    else if (value === 'contiguous') {\n        return TreeFindMatchType.Contiguous;\n    }\n    return undefined;\n}\nfunction workbenchTreeDataPreamble(accessor, options) {\n    var _a;\n    const configurationService = accessor.get(IConfigurationService);\n    const contextViewService = accessor.get(IContextViewService);\n    const contextKeyService = accessor.get(IContextKeyService);\n    const instantiationService = accessor.get(IInstantiationService);\n    const getTypeNavigationMode = () => {\n        // give priority to the context key value to specify a value\n        const modeString = contextKeyService.getContextKeyValue(WorkbenchListTypeNavigationModeKey);\n        if (modeString === 'automatic') {\n            return TypeNavigationMode.Automatic;\n        }\n        else if (modeString === 'trigger') {\n            return TypeNavigationMode.Trigger;\n        }\n        // also check the deprecated context key to set the mode to 'trigger'\n        const modeBoolean = contextKeyService.getContextKeyValue(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n        if (modeBoolean === false) {\n            return TypeNavigationMode.Trigger;\n        }\n        // finally, check the setting\n        const configString = configurationService.getValue(typeNavigationModeSettingKey);\n        if (configString === 'automatic') {\n            return TypeNavigationMode.Automatic;\n        }\n        else if (configString === 'trigger') {\n            return TypeNavigationMode.Trigger;\n        }\n        return undefined;\n    };\n    const horizontalScrolling = options.horizontalScrolling !== undefined ? options.horizontalScrolling : Boolean(configurationService.getValue(horizontalScrollingKey));\n    const [workbenchListOptions, disposable] = instantiationService.invokeFunction(toWorkbenchListOptions, options);\n    const additionalScrollHeight = options.additionalScrollHeight;\n    const renderIndentGuides = options.renderIndentGuides !== undefined ? options.renderIndentGuides : configurationService.getValue(treeRenderIndentGuidesKey);\n    return {\n        getTypeNavigationMode,\n        disposable,\n        options: Object.assign(Object.assign({ \n            // ...options, // TODO@Joao why is this not splatted here?\n            keyboardSupport: false }, workbenchListOptions), { indent: typeof configurationService.getValue(treeIndentKey) === 'number' ? configurationService.getValue(treeIndentKey) : undefined, renderIndentGuides, smoothScrolling: Boolean(configurationService.getValue(listSmoothScrolling)), defaultFindMode: getDefaultTreeFindMode(configurationService), defaultFindMatchType: getDefaultTreeFindMatchType(configurationService), horizontalScrolling, scrollByPage: Boolean(configurationService.getValue(scrollByPageKey)), additionalScrollHeight, hideTwistiesOfChildlessElements: options.hideTwistiesOfChildlessElements, expandOnlyOnTwistieClick: (_a = options.expandOnlyOnTwistieClick) !== null && _a !== void 0 ? _a : (configurationService.getValue(treeExpandMode) === 'doubleClick'), contextViewProvider: contextViewService, findWidgetStyles: defaultFindWidgetStyles })\n    };\n}\nlet WorkbenchTreeInternals = class WorkbenchTreeInternals {\n    get onDidOpen() { return this.navigator.onDidOpen; }\n    constructor(tree, options, getTypeNavigationMode, overrideStyles, contextKeyService, listService, configurationService) {\n        var _a;\n        this.tree = tree;\n        this.disposables = [];\n        this.contextKeyService = createScopedContextKeyService(contextKeyService, tree);\n        this.listSupportsMultiSelect = WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService);\n        this.listSupportsMultiSelect.set(options.multipleSelectionSupport !== false);\n        const listSelectionNavigation = WorkbenchListSelectionNavigation.bindTo(this.contextKeyService);\n        listSelectionNavigation.set(Boolean(options.selectionNavigation));\n        this.listSupportFindWidget = WorkbenchListSupportsFind.bindTo(this.contextKeyService);\n        this.listSupportFindWidget.set((_a = options.findWidgetEnabled) !== null && _a !== void 0 ? _a : true);\n        this.hasSelectionOrFocus = WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService);\n        this.hasDoubleSelection = WorkbenchListDoubleSelection.bindTo(this.contextKeyService);\n        this.hasMultiSelection = WorkbenchListMultiSelection.bindTo(this.contextKeyService);\n        this.treeElementCanCollapse = WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService);\n        this.treeElementHasParent = WorkbenchTreeElementHasParent.bindTo(this.contextKeyService);\n        this.treeElementCanExpand = WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService);\n        this.treeElementHasChild = WorkbenchTreeElementHasChild.bindTo(this.contextKeyService);\n        this.treeFindOpen = WorkbenchTreeFindOpen.bindTo(this.contextKeyService);\n        this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n        this.updateStyleOverrides(overrideStyles);\n        const updateCollapseContextKeys = () => {\n            const focus = tree.getFocus()[0];\n            if (!focus) {\n                return;\n            }\n            const node = tree.getNode(focus);\n            this.treeElementCanCollapse.set(node.collapsible && !node.collapsed);\n            this.treeElementHasParent.set(!!tree.getParentElement(focus));\n            this.treeElementCanExpand.set(node.collapsible && node.collapsed);\n            this.treeElementHasChild.set(!!tree.getFirstElementChild(focus));\n        };\n        const interestingContextKeys = new Set();\n        interestingContextKeys.add(WorkbenchListTypeNavigationModeKey);\n        interestingContextKeys.add(WorkbenchListAutomaticKeyboardNavigationLegacyKey);\n        this.disposables.push(this.contextKeyService, listService.register(tree), tree.onDidChangeSelection(() => {\n            const selection = tree.getSelection();\n            const focus = tree.getFocus();\n            this.contextKeyService.bufferChangeEvents(() => {\n                this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n                this.hasMultiSelection.set(selection.length > 1);\n                this.hasDoubleSelection.set(selection.length === 2);\n            });\n        }), tree.onDidChangeFocus(() => {\n            const selection = tree.getSelection();\n            const focus = tree.getFocus();\n            this.hasSelectionOrFocus.set(selection.length > 0 || focus.length > 0);\n            updateCollapseContextKeys();\n        }), tree.onDidChangeCollapseState(updateCollapseContextKeys), tree.onDidChangeModel(updateCollapseContextKeys), tree.onDidChangeFindOpenState(enabled => this.treeFindOpen.set(enabled)), configurationService.onDidChangeConfiguration(e => {\n            let newOptions = {};\n            if (e.affectsConfiguration(multiSelectModifierSettingKey)) {\n                this._useAltAsMultipleSelectionModifier = useAltAsMultipleSelectionModifier(configurationService);\n            }\n            if (e.affectsConfiguration(treeIndentKey)) {\n                const indent = configurationService.getValue(treeIndentKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { indent });\n            }\n            if (e.affectsConfiguration(treeRenderIndentGuidesKey) && options.renderIndentGuides === undefined) {\n                const renderIndentGuides = configurationService.getValue(treeRenderIndentGuidesKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { renderIndentGuides });\n            }\n            if (e.affectsConfiguration(listSmoothScrolling)) {\n                const smoothScrolling = Boolean(configurationService.getValue(listSmoothScrolling));\n                newOptions = Object.assign(Object.assign({}, newOptions), { smoothScrolling });\n            }\n            if (e.affectsConfiguration(defaultFindModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n                const defaultFindMode = getDefaultTreeFindMode(configurationService);\n                newOptions = Object.assign(Object.assign({}, newOptions), { defaultFindMode });\n            }\n            if (e.affectsConfiguration(typeNavigationModeSettingKey) || e.affectsConfiguration(keyboardNavigationSettingKey)) {\n                const typeNavigationMode = getTypeNavigationMode();\n                newOptions = Object.assign(Object.assign({}, newOptions), { typeNavigationMode });\n            }\n            if (e.affectsConfiguration(defaultFindMatchTypeSettingKey)) {\n                const defaultFindMatchType = getDefaultTreeFindMatchType(configurationService);\n                newOptions = Object.assign(Object.assign({}, newOptions), { defaultFindMatchType });\n            }\n            if (e.affectsConfiguration(horizontalScrollingKey) && options.horizontalScrolling === undefined) {\n                const horizontalScrolling = Boolean(configurationService.getValue(horizontalScrollingKey));\n                newOptions = Object.assign(Object.assign({}, newOptions), { horizontalScrolling });\n            }\n            if (e.affectsConfiguration(scrollByPageKey)) {\n                const scrollByPage = Boolean(configurationService.getValue(scrollByPageKey));\n                newOptions = Object.assign(Object.assign({}, newOptions), { scrollByPage });\n            }\n            if (e.affectsConfiguration(treeExpandMode) && options.expandOnlyOnTwistieClick === undefined) {\n                newOptions = Object.assign(Object.assign({}, newOptions), { expandOnlyOnTwistieClick: configurationService.getValue(treeExpandMode) === 'doubleClick' });\n            }\n            if (e.affectsConfiguration(mouseWheelScrollSensitivityKey)) {\n                const mouseWheelScrollSensitivity = configurationService.getValue(mouseWheelScrollSensitivityKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { mouseWheelScrollSensitivity });\n            }\n            if (e.affectsConfiguration(fastScrollSensitivityKey)) {\n                const fastScrollSensitivity = configurationService.getValue(fastScrollSensitivityKey);\n                newOptions = Object.assign(Object.assign({}, newOptions), { fastScrollSensitivity });\n            }\n            if (Object.keys(newOptions).length > 0) {\n                tree.updateOptions(newOptions);\n            }\n        }), this.contextKeyService.onDidChangeContext(e => {\n            if (e.affectsSome(interestingContextKeys)) {\n                tree.updateOptions({ typeNavigationMode: getTypeNavigationMode() });\n            }\n        }));\n        this.navigator = new TreeResourceNavigator(tree, Object.assign({ configurationService }, options));\n        this.disposables.push(this.navigator);\n    }\n    updateOptions(options) {\n        if (options.multipleSelectionSupport !== undefined) {\n            this.listSupportsMultiSelect.set(!!options.multipleSelectionSupport);\n        }\n    }\n    updateStyleOverrides(overrideStyles) {\n        this.tree.style(overrideStyles ? getListStyles(overrideStyles) : defaultListStyles);\n    }\n    dispose() {\n        this.disposables = dispose(this.disposables);\n    }\n};\nWorkbenchTreeInternals = __decorate([\n    __param(4, IContextKeyService),\n    __param(5, IListService),\n    __param(6, IConfigurationService)\n], WorkbenchTreeInternals);\nconst configurationRegistry = Registry.as(ConfigurationExtensions.Configuration);\nconfigurationRegistry.registerConfiguration({\n    id: 'workbench',\n    order: 7,\n    title: localize('workbenchConfigurationTitle', \"Workbench\"),\n    type: 'object',\n    properties: {\n        [multiSelectModifierSettingKey]: {\n            type: 'string',\n            enum: ['ctrlCmd', 'alt'],\n            markdownEnumDescriptions: [\n                localize('multiSelectModifier.ctrlCmd', \"Maps to `Control` on Windows and Linux and to `Command` on macOS.\"),\n                localize('multiSelectModifier.alt', \"Maps to `Alt` on Windows and Linux and to `Option` on macOS.\")\n            ],\n            default: 'ctrlCmd',\n            description: localize({\n                key: 'multiSelectModifier',\n                comment: [\n                    '- `ctrlCmd` refers to a value the setting can take and should not be localized.',\n                    '- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized.'\n                ]\n            }, \"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.\")\n        },\n        [openModeSettingKey]: {\n            type: 'string',\n            enum: ['singleClick', 'doubleClick'],\n            default: 'singleClick',\n            description: localize({\n                key: 'openModeModifier',\n                comment: ['`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized.']\n            }, \"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.\")\n        },\n        [horizontalScrollingKey]: {\n            type: 'boolean',\n            default: false,\n            description: localize('horizontalScrolling setting', \"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.\")\n        },\n        [scrollByPageKey]: {\n            type: 'boolean',\n            default: false,\n            description: localize('list.scrollByPage', \"Controls whether clicks in the scrollbar scroll page by page.\")\n        },\n        [treeIndentKey]: {\n            type: 'number',\n            default: 8,\n            minimum: 4,\n            maximum: 40,\n            description: localize('tree indent setting', \"Controls tree indentation in pixels.\")\n        },\n        [treeRenderIndentGuidesKey]: {\n            type: 'string',\n            enum: ['none', 'onHover', 'always'],\n            default: 'onHover',\n            description: localize('render tree indent guides', \"Controls whether the tree should render indent guides.\")\n        },\n        [listSmoothScrolling]: {\n            type: 'boolean',\n            default: false,\n            description: localize('list smoothScrolling setting', \"Controls whether lists and trees have smooth scrolling.\"),\n        },\n        [mouseWheelScrollSensitivityKey]: {\n            type: 'number',\n            default: 1,\n            markdownDescription: localize('Mouse Wheel Scroll Sensitivity', \"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.\")\n        },\n        [fastScrollSensitivityKey]: {\n            type: 'number',\n            default: 5,\n            markdownDescription: localize('Fast Scroll Sensitivity', \"Scrolling speed multiplier when pressing `Alt`.\")\n        },\n        [defaultFindModeSettingKey]: {\n            type: 'string',\n            enum: ['highlight', 'filter'],\n            enumDescriptions: [\n                localize('defaultFindModeSettingKey.highlight', \"Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements.\"),\n                localize('defaultFindModeSettingKey.filter', \"Filter elements when searching.\")\n            ],\n            default: 'highlight',\n            description: localize('defaultFindModeSettingKey', \"Controls the default find mode for lists and trees in the workbench.\")\n        },\n        [keyboardNavigationSettingKey]: {\n            type: 'string',\n            enum: ['simple', 'highlight', 'filter'],\n            enumDescriptions: [\n                localize('keyboardNavigationSettingKey.simple', \"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes.\"),\n                localize('keyboardNavigationSettingKey.highlight', \"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements.\"),\n                localize('keyboardNavigationSettingKey.filter', \"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.\")\n            ],\n            default: 'highlight',\n            description: localize('keyboardNavigationSettingKey', \"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.\"),\n            deprecated: true,\n            deprecationMessage: localize('keyboardNavigationSettingKeyDeprecated', \"Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.\")\n        },\n        [defaultFindMatchTypeSettingKey]: {\n            type: 'string',\n            enum: ['fuzzy', 'contiguous'],\n            enumDescriptions: [\n                localize('defaultFindMatchTypeSettingKey.fuzzy', \"Use fuzzy matching when searching.\"),\n                localize('defaultFindMatchTypeSettingKey.contiguous', \"Use contiguous matching when searching.\")\n            ],\n            default: 'fuzzy',\n            description: localize('defaultFindMatchTypeSettingKey', \"Controls the type of matching used when searching lists and trees in the workbench.\")\n        },\n        [treeExpandMode]: {\n            type: 'string',\n            enum: ['singleClick', 'doubleClick'],\n            default: 'singleClick',\n            description: localize('expand mode', \"Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.\"),\n        },\n        [typeNavigationModeSettingKey]: {\n            type: 'string',\n            enum: ['automatic', 'trigger'],\n            default: 'automatic',\n            description: localize('typeNavigationMode', \"Controls the how type navigation works in lists and trees in the workbench. When set to 'trigger', type navigation begins once the 'list.triggerTypeNavigation' command is run.\"),\n        }\n    }\n});\n","import { Emitter } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const ILogService = createDecorator('logService');\nexport var LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Off\"] = 0] = \"Off\";\n    LogLevel[LogLevel[\"Trace\"] = 1] = \"Trace\";\n    LogLevel[LogLevel[\"Debug\"] = 2] = \"Debug\";\n    LogLevel[LogLevel[\"Info\"] = 3] = \"Info\";\n    LogLevel[LogLevel[\"Warning\"] = 4] = \"Warning\";\n    LogLevel[LogLevel[\"Error\"] = 5] = \"Error\";\n})(LogLevel || (LogLevel = {}));\nexport const DEFAULT_LOG_LEVEL = LogLevel.Info;\nexport class AbstractLogger extends Disposable {\n    constructor() {\n        super(...arguments);\n        this.level = DEFAULT_LOG_LEVEL;\n        this._onDidChangeLogLevel = this._register(new Emitter());\n        this.onDidChangeLogLevel = this._onDidChangeLogLevel.event;\n    }\n    setLevel(level) {\n        if (this.level !== level) {\n            this.level = level;\n            this._onDidChangeLogLevel.fire(this.level);\n        }\n    }\n    getLevel() {\n        return this.level;\n    }\n    checkLogLevel(level) {\n        return this.level !== LogLevel.Off && this.level <= level;\n    }\n}\nexport class ConsoleLogger extends AbstractLogger {\n    constructor(logLevel = DEFAULT_LOG_LEVEL, useColors = true) {\n        super();\n        this.useColors = useColors;\n        this.setLevel(logLevel);\n    }\n    trace(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Trace)) {\n            if (this.useColors) {\n                console.log('%cTRACE', 'color: #888', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    debug(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Debug)) {\n            if (this.useColors) {\n                console.log('%cDEBUG', 'background: #eee; color: #888', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    info(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Info)) {\n            if (this.useColors) {\n                console.log('%c INFO', 'color: #33f', message, ...args);\n            }\n            else {\n                console.log(message, ...args);\n            }\n        }\n    }\n    error(message, ...args) {\n        if (this.checkLogLevel(LogLevel.Error)) {\n            if (this.useColors) {\n                console.log('%c  ERR', 'color: #f33', message, ...args);\n            }\n            else {\n                console.error(message, ...args);\n            }\n        }\n    }\n    dispose() {\n        // noop\n    }\n}\nexport class MultiplexLogger extends AbstractLogger {\n    constructor(loggers) {\n        super();\n        this.loggers = loggers;\n        if (loggers.length) {\n            this.setLevel(loggers[0].getLevel());\n        }\n    }\n    setLevel(level) {\n        for (const logger of this.loggers) {\n            logger.setLevel(level);\n        }\n        super.setLevel(level);\n    }\n    trace(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.trace(message, ...args);\n        }\n    }\n    debug(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.debug(message, ...args);\n        }\n    }\n    info(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.info(message, ...args);\n        }\n    }\n    error(message, ...args) {\n        for (const logger of this.loggers) {\n            logger.error(message, ...args);\n        }\n    }\n    dispose() {\n        for (const logger of this.loggers) {\n            logger.dispose();\n        }\n    }\n}\nexport function LogLevelToString(logLevel) {\n    switch (logLevel) {\n        case LogLevel.Trace: return 'trace';\n        case LogLevel.Debug: return 'debug';\n        case LogLevel.Info: return 'info';\n        case LogLevel.Warning: return 'warn';\n        case LogLevel.Error: return 'error';\n        case LogLevel.Off: return 'off';\n    }\n}\n// Contexts\nexport const CONTEXT_LOG_LEVEL = new RawContextKey('logLevel', LogLevelToString(LogLevel.Info));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { MultiplexLogger } from './log.js';\nexport class LogService extends Disposable {\n    constructor(primaryLogger, otherLoggers = []) {\n        super();\n        this.logger = new MultiplexLogger([primaryLogger, ...otherLoggers]);\n        this._register(primaryLogger.onDidChangeLogLevel(level => this.setLevel(level)));\n    }\n    get onDidChangeLogLevel() {\n        return this.logger.onDidChangeLogLevel;\n    }\n    setLevel(level) {\n        this.logger.setLevel(level);\n    }\n    getLevel() {\n        return this.logger.getLevel();\n    }\n    trace(message, ...args) {\n        this.logger.trace(message, ...args);\n    }\n    debug(message, ...args) {\n        this.logger.debug(message, ...args);\n    }\n    info(message, ...args) {\n        this.logger.info(message, ...args);\n    }\n    error(message, ...args) {\n        this.logger.error(message, ...args);\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isFalsyOrEmpty, isNonEmptyArray } from '../../../base/common/arrays.js';\nimport { DebounceEmitter } from '../../../base/common/event.js';\nimport { Iterable } from '../../../base/common/iterator.js';\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { MarkerSeverity } from './markers.js';\nexport const unsupportedSchemas = new Set([Schemas.inMemory, Schemas.vscodeSourceControl, Schemas.walkThrough, Schemas.walkThroughSnippet]);\nclass DoubleResourceMap {\n    constructor() {\n        this._byResource = new ResourceMap();\n        this._byOwner = new Map();\n    }\n    set(resource, owner, value) {\n        let ownerMap = this._byResource.get(resource);\n        if (!ownerMap) {\n            ownerMap = new Map();\n            this._byResource.set(resource, ownerMap);\n        }\n        ownerMap.set(owner, value);\n        let resourceMap = this._byOwner.get(owner);\n        if (!resourceMap) {\n            resourceMap = new ResourceMap();\n            this._byOwner.set(owner, resourceMap);\n        }\n        resourceMap.set(resource, value);\n    }\n    get(resource, owner) {\n        const ownerMap = this._byResource.get(resource);\n        return ownerMap === null || ownerMap === void 0 ? void 0 : ownerMap.get(owner);\n    }\n    delete(resource, owner) {\n        let removedA = false;\n        let removedB = false;\n        const ownerMap = this._byResource.get(resource);\n        if (ownerMap) {\n            removedA = ownerMap.delete(owner);\n        }\n        const resourceMap = this._byOwner.get(owner);\n        if (resourceMap) {\n            removedB = resourceMap.delete(resource);\n        }\n        if (removedA !== removedB) {\n            throw new Error('illegal state');\n        }\n        return removedA && removedB;\n    }\n    values(key) {\n        var _a, _b, _c, _d;\n        if (typeof key === 'string') {\n            return (_b = (_a = this._byOwner.get(key)) === null || _a === void 0 ? void 0 : _a.values()) !== null && _b !== void 0 ? _b : Iterable.empty();\n        }\n        if (URI.isUri(key)) {\n            return (_d = (_c = this._byResource.get(key)) === null || _c === void 0 ? void 0 : _c.values()) !== null && _d !== void 0 ? _d : Iterable.empty();\n        }\n        return Iterable.map(Iterable.concat(...this._byOwner.values()), map => map[1]);\n    }\n}\nclass MarkerStats {\n    constructor(service) {\n        this.errors = 0;\n        this.infos = 0;\n        this.warnings = 0;\n        this.unknowns = 0;\n        this._data = new ResourceMap();\n        this._service = service;\n        this._subscription = service.onMarkerChanged(this._update, this);\n    }\n    dispose() {\n        this._subscription.dispose();\n    }\n    _update(resources) {\n        for (const resource of resources) {\n            const oldStats = this._data.get(resource);\n            if (oldStats) {\n                this._substract(oldStats);\n            }\n            const newStats = this._resourceStats(resource);\n            this._add(newStats);\n            this._data.set(resource, newStats);\n        }\n    }\n    _resourceStats(resource) {\n        const result = { errors: 0, warnings: 0, infos: 0, unknowns: 0 };\n        // TODO this is a hack\n        if (unsupportedSchemas.has(resource.scheme)) {\n            return result;\n        }\n        for (const { severity } of this._service.read({ resource })) {\n            if (severity === MarkerSeverity.Error) {\n                result.errors += 1;\n            }\n            else if (severity === MarkerSeverity.Warning) {\n                result.warnings += 1;\n            }\n            else if (severity === MarkerSeverity.Info) {\n                result.infos += 1;\n            }\n            else {\n                result.unknowns += 1;\n            }\n        }\n        return result;\n    }\n    _substract(op) {\n        this.errors -= op.errors;\n        this.warnings -= op.warnings;\n        this.infos -= op.infos;\n        this.unknowns -= op.unknowns;\n    }\n    _add(op) {\n        this.errors += op.errors;\n        this.warnings += op.warnings;\n        this.infos += op.infos;\n        this.unknowns += op.unknowns;\n    }\n}\nexport class MarkerService {\n    constructor() {\n        this._onMarkerChanged = new DebounceEmitter({\n            delay: 0,\n            merge: MarkerService._merge\n        });\n        this.onMarkerChanged = this._onMarkerChanged.event;\n        this._data = new DoubleResourceMap();\n        this._stats = new MarkerStats(this);\n    }\n    dispose() {\n        this._stats.dispose();\n        this._onMarkerChanged.dispose();\n    }\n    remove(owner, resources) {\n        for (const resource of resources || []) {\n            this.changeOne(owner, resource, []);\n        }\n    }\n    changeOne(owner, resource, markerData) {\n        if (isFalsyOrEmpty(markerData)) {\n            // remove marker for this (owner,resource)-tuple\n            const removed = this._data.delete(resource, owner);\n            if (removed) {\n                this._onMarkerChanged.fire([resource]);\n            }\n        }\n        else {\n            // insert marker for this (owner,resource)-tuple\n            const markers = [];\n            for (const data of markerData) {\n                const marker = MarkerService._toMarker(owner, resource, data);\n                if (marker) {\n                    markers.push(marker);\n                }\n            }\n            this._data.set(resource, owner, markers);\n            this._onMarkerChanged.fire([resource]);\n        }\n    }\n    static _toMarker(owner, resource, data) {\n        let { code, severity, message, source, startLineNumber, startColumn, endLineNumber, endColumn, relatedInformation, tags, } = data;\n        if (!message) {\n            return undefined;\n        }\n        // santize data\n        startLineNumber = startLineNumber > 0 ? startLineNumber : 1;\n        startColumn = startColumn > 0 ? startColumn : 1;\n        endLineNumber = endLineNumber >= startLineNumber ? endLineNumber : startLineNumber;\n        endColumn = endColumn > 0 ? endColumn : startColumn;\n        return {\n            resource,\n            owner,\n            code,\n            severity,\n            message,\n            source,\n            startLineNumber,\n            startColumn,\n            endLineNumber,\n            endColumn,\n            relatedInformation,\n            tags,\n        };\n    }\n    changeAll(owner, data) {\n        const changes = [];\n        // remove old marker\n        const existing = this._data.values(owner);\n        if (existing) {\n            for (const data of existing) {\n                const first = Iterable.first(data);\n                if (first) {\n                    changes.push(first.resource);\n                    this._data.delete(first.resource, owner);\n                }\n            }\n        }\n        // add new markers\n        if (isNonEmptyArray(data)) {\n            // group by resource\n            const groups = new ResourceMap();\n            for (const { resource, marker: markerData } of data) {\n                const marker = MarkerService._toMarker(owner, resource, markerData);\n                if (!marker) {\n                    // filter bad markers\n                    continue;\n                }\n                const array = groups.get(resource);\n                if (!array) {\n                    groups.set(resource, [marker]);\n                    changes.push(resource);\n                }\n                else {\n                    array.push(marker);\n                }\n            }\n            // insert all\n            for (const [resource, value] of groups) {\n                this._data.set(resource, owner, value);\n            }\n        }\n        if (changes.length > 0) {\n            this._onMarkerChanged.fire(changes);\n        }\n    }\n    read(filter = Object.create(null)) {\n        let { owner, resource, severities, take } = filter;\n        if (!take || take < 0) {\n            take = -1;\n        }\n        if (owner && resource) {\n            // exactly one owner AND resource\n            const data = this._data.get(resource, owner);\n            if (!data) {\n                return [];\n            }\n            else {\n                const result = [];\n                for (const marker of data) {\n                    if (MarkerService._accept(marker, severities)) {\n                        const newLen = result.push(marker);\n                        if (take > 0 && newLen === take) {\n                            break;\n                        }\n                    }\n                }\n                return result;\n            }\n        }\n        else if (!owner && !resource) {\n            // all\n            const result = [];\n            for (const markers of this._data.values()) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n        else {\n            // of one resource OR owner\n            const iterable = this._data.values(resource !== null && resource !== void 0 ? resource : owner);\n            const result = [];\n            for (const markers of iterable) {\n                for (const data of markers) {\n                    if (MarkerService._accept(data, severities)) {\n                        const newLen = result.push(data);\n                        if (take > 0 && newLen === take) {\n                            return result;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n    }\n    static _accept(marker, severities) {\n        return severities === undefined || (severities & marker.severity) === marker.severity;\n    }\n    // --- event debounce logic\n    static _merge(all) {\n        const set = new ResourceMap();\n        for (const array of all) {\n            for (const item of array) {\n                set.set(item, true);\n            }\n        }\n        return Array.from(set.keys());\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport Severity from '../../../base/common/severity.js';\nimport { localize } from '../../../nls.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var MarkerSeverity;\n(function (MarkerSeverity) {\n    MarkerSeverity[MarkerSeverity[\"Hint\"] = 1] = \"Hint\";\n    MarkerSeverity[MarkerSeverity[\"Info\"] = 2] = \"Info\";\n    MarkerSeverity[MarkerSeverity[\"Warning\"] = 4] = \"Warning\";\n    MarkerSeverity[MarkerSeverity[\"Error\"] = 8] = \"Error\";\n})(MarkerSeverity || (MarkerSeverity = {}));\n(function (MarkerSeverity) {\n    function compare(a, b) {\n        return b - a;\n    }\n    MarkerSeverity.compare = compare;\n    const _displayStrings = Object.create(null);\n    _displayStrings[MarkerSeverity.Error] = localize('sev.error', \"Error\");\n    _displayStrings[MarkerSeverity.Warning] = localize('sev.warning', \"Warning\");\n    _displayStrings[MarkerSeverity.Info] = localize('sev.info', \"Info\");\n    function toString(a) {\n        return _displayStrings[a] || '';\n    }\n    MarkerSeverity.toString = toString;\n    function fromSeverity(severity) {\n        switch (severity) {\n            case Severity.Error: return MarkerSeverity.Error;\n            case Severity.Warning: return MarkerSeverity.Warning;\n            case Severity.Info: return MarkerSeverity.Info;\n            case Severity.Ignore: return MarkerSeverity.Hint;\n        }\n    }\n    MarkerSeverity.fromSeverity = fromSeverity;\n    function toSeverity(severity) {\n        switch (severity) {\n            case MarkerSeverity.Error: return Severity.Error;\n            case MarkerSeverity.Warning: return Severity.Warning;\n            case MarkerSeverity.Info: return Severity.Info;\n            case MarkerSeverity.Hint: return Severity.Ignore;\n        }\n    }\n    MarkerSeverity.toSeverity = toSeverity;\n})(MarkerSeverity || (MarkerSeverity = {}));\nexport var IMarkerData;\n(function (IMarkerData) {\n    const emptyString = '';\n    function makeKey(markerData) {\n        return makeKeyOptionalMessage(markerData, true);\n    }\n    IMarkerData.makeKey = makeKey;\n    function makeKeyOptionalMessage(markerData, useMessage) {\n        const result = [emptyString];\n        if (markerData.source) {\n            result.push(markerData.source.replace('¦', '\\\\¦'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.code) {\n            if (typeof markerData.code === 'string') {\n                result.push(markerData.code.replace('¦', '\\\\¦'));\n            }\n            else {\n                result.push(markerData.code.value.replace('¦', '\\\\¦'));\n            }\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.severity !== undefined && markerData.severity !== null) {\n            result.push(MarkerSeverity.toString(markerData.severity));\n        }\n        else {\n            result.push(emptyString);\n        }\n        // Modifed to not include the message as part of the marker key to work around\n        // https://github.com/microsoft/vscode/issues/77475\n        if (markerData.message && useMessage) {\n            result.push(markerData.message.replace('¦', '\\\\¦'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startLineNumber !== undefined && markerData.startLineNumber !== null) {\n            result.push(markerData.startLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startColumn !== undefined && markerData.startColumn !== null) {\n            result.push(markerData.startColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endLineNumber !== undefined && markerData.endLineNumber !== null) {\n            result.push(markerData.endLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endColumn !== undefined && markerData.endColumn !== null) {\n            result.push(markerData.endColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        result.push(emptyString);\n        return result.join('¦');\n    }\n    IMarkerData.makeKeyOptionalMessage = makeKeyOptionalMessage;\n})(IMarkerData || (IMarkerData = {}));\nexport const IMarkerService = createDecorator('markerService');\n","import BaseSeverity from '../../../base/common/severity.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var Severity = BaseSeverity;\nexport const INotificationService = createDecorator('notificationService');\nexport class NoOpNotification {\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { $, append, EventHelper } from '../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../base/browser/event.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { EventType as TouchEventType, Gesture } from '../../../base/browser/touch.js';\nimport { Event } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { IOpenerService } from '../common/opener.js';\nimport './link.css';\nexport let Link = class Link extends Disposable {\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(enabled) {\n        if (enabled) {\n            this.el.setAttribute('aria-disabled', 'false');\n            this.el.tabIndex = 0;\n            this.el.style.pointerEvents = 'auto';\n            this.el.style.opacity = '1';\n            this.el.style.cursor = 'pointer';\n            this._enabled = false;\n        }\n        else {\n            this.el.setAttribute('aria-disabled', 'true');\n            this.el.tabIndex = -1;\n            this.el.style.pointerEvents = 'none';\n            this.el.style.opacity = '0.4';\n            this.el.style.cursor = 'default';\n            this._enabled = true;\n        }\n        this._enabled = enabled;\n    }\n    constructor(container, _link, options = {}, openerService) {\n        var _a;\n        super();\n        this._link = _link;\n        this._enabled = true;\n        this.el = append(container, $('a.monaco-link', {\n            tabIndex: (_a = _link.tabIndex) !== null && _a !== void 0 ? _a : 0,\n            href: _link.href,\n            title: _link.title\n        }, _link.label));\n        this.el.setAttribute('role', 'button');\n        const onClickEmitter = this._register(new DomEmitter(this.el, 'click'));\n        const onKeyPress = this._register(new DomEmitter(this.el, 'keypress'));\n        const onEnterPress = Event.chain(onKeyPress.event)\n            .map(e => new StandardKeyboardEvent(e))\n            .filter(e => e.keyCode === 3 /* KeyCode.Enter */)\n            .event;\n        const onTap = this._register(new DomEmitter(this.el, TouchEventType.Tap)).event;\n        this._register(Gesture.addTarget(this.el));\n        const onOpen = Event.any(onClickEmitter.event, onEnterPress, onTap);\n        this._register(onOpen(e => {\n            if (!this.enabled) {\n                return;\n            }\n            EventHelper.stop(e, true);\n            if (options === null || options === void 0 ? void 0 : options.opener) {\n                options.opener(this._link.href);\n            }\n            else {\n                openerService.open(this._link.href, { allowCommands: true });\n            }\n        }));\n        this.enabled = true;\n    }\n};\nLink = __decorate([\n    __param(3, IOpenerService)\n], Link);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { equalsIgnoreCase, startsWithIgnoreCase } from '../../../base/common/strings.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IOpenerService = createDecorator('openerService');\nexport function matchesScheme(target, scheme) {\n    if (URI.isUri(target)) {\n        return equalsIgnoreCase(target.scheme, scheme);\n    }\n    else {\n        return startsWithIgnoreCase(target, scheme + ':');\n    }\n}\nexport function matchesSomeScheme(target, ...schemes) {\n    return schemes.some(scheme => matchesScheme(target, scheme));\n}\n/**\n * file:///some/file.js#73\n * file:///some/file.js#L73\n * file:///some/file.js#73,84\n * file:///some/file.js#L73,84\n * file:///some/file.js#73-83\n * file:///some/file.js#L73-L83\n * file:///some/file.js#73,84-83,52\n * file:///some/file.js#L73,84-L83,52\n */\nexport function extractSelection(uri) {\n    let selection = undefined;\n    const match = /^L?(\\d+)(?:,(\\d+))?(-L?(\\d+)(?:,(\\d+))?)?/.exec(uri.fragment);\n    if (match) {\n        selection = {\n            startLineNumber: parseInt(match[1]),\n            startColumn: match[2] ? parseInt(match[2]) : 1,\n            endLineNumber: match[4] ? parseInt(match[4]) : undefined,\n            endColumn: match[4] ? (match[5] ? parseInt(match[5]) : 1) : undefined\n        };\n        uri = uri.with({ fragment: '' });\n    }\n    return { selection, uri };\n}\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IProgressService = createDecorator('progressService');\nexport const emptyProgressRunner = Object.freeze({\n    total() { },\n    worked() { },\n    done() { }\n});\nexport class Progress {\n    constructor(callback) {\n        this.callback = callback;\n    }\n    report(item) {\n        this._value = item;\n        this.callback(this._value);\n    }\n}\nProgress.None = Object.freeze({ report() { } });\nexport const IEditorProgressService = createDecorator('editorProgressService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { timeout } from '../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { Disposable, DisposableStore, MutableDisposable } from '../../../base/common/lifecycle.js';\nimport { isFunction } from '../../../base/common/types.js';\nexport var TriggerAction;\n(function (TriggerAction) {\n    /**\n     * Do nothing after the button was clicked.\n     */\n    TriggerAction[TriggerAction[\"NO_ACTION\"] = 0] = \"NO_ACTION\";\n    /**\n     * Close the picker.\n     */\n    TriggerAction[TriggerAction[\"CLOSE_PICKER\"] = 1] = \"CLOSE_PICKER\";\n    /**\n     * Update the results of the picker.\n     */\n    TriggerAction[TriggerAction[\"REFRESH_PICKER\"] = 2] = \"REFRESH_PICKER\";\n    /**\n     * Remove the item from the picker.\n     */\n    TriggerAction[TriggerAction[\"REMOVE_ITEM\"] = 3] = \"REMOVE_ITEM\";\n})(TriggerAction || (TriggerAction = {}));\nfunction isPicksWithActive(obj) {\n    const candidate = obj;\n    return Array.isArray(candidate.items);\n}\nfunction isFastAndSlowPicks(obj) {\n    const candidate = obj;\n    return !!candidate.picks && candidate.additionalPicks instanceof Promise;\n}\nexport class PickerQuickAccessProvider extends Disposable {\n    constructor(prefix, options) {\n        super();\n        this.prefix = prefix;\n        this.options = options;\n    }\n    provide(picker, token, runOptions) {\n        var _a;\n        const disposables = new DisposableStore();\n        // Apply options if any\n        picker.canAcceptInBackground = !!((_a = this.options) === null || _a === void 0 ? void 0 : _a.canAcceptInBackground);\n        // Disable filtering & sorting, we control the results\n        picker.matchOnLabel = picker.matchOnDescription = picker.matchOnDetail = picker.sortByLabel = false;\n        // Set initial picks and update on type\n        let picksCts = undefined;\n        const picksDisposable = disposables.add(new MutableDisposable());\n        const updatePickerItems = () => __awaiter(this, void 0, void 0, function* () {\n            const picksDisposables = picksDisposable.value = new DisposableStore();\n            // Cancel any previous ask for picks and busy\n            picksCts === null || picksCts === void 0 ? void 0 : picksCts.dispose(true);\n            picker.busy = false;\n            // Create new cancellation source for this run\n            picksCts = new CancellationTokenSource(token);\n            // Collect picks and support both long running and short or combined\n            const picksToken = picksCts.token;\n            const picksFilter = picker.value.substr(this.prefix.length).trim();\n            const providedPicks = this._getPicks(picksFilter, picksDisposables, picksToken, runOptions);\n            const applyPicks = (picks, skipEmpty) => {\n                var _a;\n                let items;\n                let activeItem = undefined;\n                if (isPicksWithActive(picks)) {\n                    items = picks.items;\n                    activeItem = picks.active;\n                }\n                else {\n                    items = picks;\n                }\n                if (items.length === 0) {\n                    if (skipEmpty) {\n                        return false;\n                    }\n                    // We show the no results pick if we have no input to prevent completely empty pickers #172613\n                    if ((picksFilter.length > 0 || picker.hideInput) && ((_a = this.options) === null || _a === void 0 ? void 0 : _a.noResultsPick)) {\n                        if (isFunction(this.options.noResultsPick)) {\n                            items = [this.options.noResultsPick(picksFilter)];\n                        }\n                        else {\n                            items = [this.options.noResultsPick];\n                        }\n                    }\n                }\n                picker.items = items;\n                if (activeItem) {\n                    picker.activeItems = [activeItem];\n                }\n                return true;\n            };\n            const applyFastAndSlowPicks = (fastAndSlowPicks) => __awaiter(this, void 0, void 0, function* () {\n                let fastPicksApplied = false;\n                let slowPicksApplied = false;\n                yield Promise.all([\n                    // Fast Picks: if `mergeDelay` is configured, in order to reduce\n                    // amount of flicker, we race against the slow picks over some delay\n                    // and then set the fast picks.\n                    // If the slow picks are faster, we reduce the flicker by only\n                    // setting the items once.\n                    (() => __awaiter(this, void 0, void 0, function* () {\n                        if (typeof fastAndSlowPicks.mergeDelay === 'number') {\n                            yield timeout(fastAndSlowPicks.mergeDelay);\n                            if (picksToken.isCancellationRequested) {\n                                return;\n                            }\n                        }\n                        if (!slowPicksApplied) {\n                            fastPicksApplied = applyPicks(fastAndSlowPicks.picks, true /* skip over empty to reduce flicker */);\n                        }\n                    }))(),\n                    // Slow Picks: we await the slow picks and then set them at\n                    // once together with the fast picks, but only if we actually\n                    // have additional results.\n                    (() => __awaiter(this, void 0, void 0, function* () {\n                        picker.busy = true;\n                        try {\n                            const awaitedAdditionalPicks = yield fastAndSlowPicks.additionalPicks;\n                            if (picksToken.isCancellationRequested) {\n                                return;\n                            }\n                            let picks;\n                            let activePick = undefined;\n                            if (isPicksWithActive(fastAndSlowPicks.picks)) {\n                                picks = fastAndSlowPicks.picks.items;\n                                activePick = fastAndSlowPicks.picks.active;\n                            }\n                            else {\n                                picks = fastAndSlowPicks.picks;\n                            }\n                            let additionalPicks;\n                            let additionalActivePick = undefined;\n                            if (isPicksWithActive(awaitedAdditionalPicks)) {\n                                additionalPicks = awaitedAdditionalPicks.items;\n                                additionalActivePick = awaitedAdditionalPicks.active;\n                            }\n                            else {\n                                additionalPicks = awaitedAdditionalPicks;\n                            }\n                            if (additionalPicks.length > 0 || !fastPicksApplied) {\n                                // If we do not have any activePick or additionalActivePick\n                                // we try to preserve the currently active pick from the\n                                // fast results. This fixes an issue where the user might\n                                // have made a pick active before the additional results\n                                // kick in.\n                                // See https://github.com/microsoft/vscode/issues/102480\n                                let fallbackActivePick = undefined;\n                                if (!activePick && !additionalActivePick) {\n                                    const fallbackActivePickCandidate = picker.activeItems[0];\n                                    if (fallbackActivePickCandidate && picks.indexOf(fallbackActivePickCandidate) !== -1) {\n                                        fallbackActivePick = fallbackActivePickCandidate;\n                                    }\n                                }\n                                applyPicks({\n                                    items: [...picks, ...additionalPicks],\n                                    active: activePick || additionalActivePick || fallbackActivePick\n                                });\n                            }\n                        }\n                        finally {\n                            if (!picksToken.isCancellationRequested) {\n                                picker.busy = false;\n                            }\n                            slowPicksApplied = true;\n                        }\n                    }))()\n                ]);\n            });\n            // No Picks\n            if (providedPicks === null) {\n                // Ignore\n            }\n            // Fast and Slow Picks\n            else if (isFastAndSlowPicks(providedPicks)) {\n                yield applyFastAndSlowPicks(providedPicks);\n            }\n            // Fast Picks\n            else if (!(providedPicks instanceof Promise)) {\n                applyPicks(providedPicks);\n            }\n            // Slow Picks\n            else {\n                picker.busy = true;\n                try {\n                    const awaitedPicks = yield providedPicks;\n                    if (picksToken.isCancellationRequested) {\n                        return;\n                    }\n                    if (isFastAndSlowPicks(awaitedPicks)) {\n                        yield applyFastAndSlowPicks(awaitedPicks);\n                    }\n                    else {\n                        applyPicks(awaitedPicks);\n                    }\n                }\n                finally {\n                    if (!picksToken.isCancellationRequested) {\n                        picker.busy = false;\n                    }\n                }\n            }\n        });\n        disposables.add(picker.onDidChangeValue(() => updatePickerItems()));\n        updatePickerItems();\n        // Accept the pick on accept and hide picker\n        disposables.add(picker.onDidAccept(event => {\n            const [item] = picker.selectedItems;\n            if (typeof (item === null || item === void 0 ? void 0 : item.accept) === 'function') {\n                if (!event.inBackground) {\n                    picker.hide(); // hide picker unless we accept in background\n                }\n                item.accept(picker.keyMods, event);\n            }\n        }));\n        // Trigger the pick with button index if button triggered\n        disposables.add(picker.onDidTriggerItemButton(({ button, item }) => __awaiter(this, void 0, void 0, function* () {\n            var _b, _c;\n            if (typeof item.trigger === 'function') {\n                const buttonIndex = (_c = (_b = item.buttons) === null || _b === void 0 ? void 0 : _b.indexOf(button)) !== null && _c !== void 0 ? _c : -1;\n                if (buttonIndex >= 0) {\n                    const result = item.trigger(buttonIndex, picker.keyMods);\n                    const action = (typeof result === 'number') ? result : yield result;\n                    if (token.isCancellationRequested) {\n                        return;\n                    }\n                    switch (action) {\n                        case TriggerAction.NO_ACTION:\n                            break;\n                        case TriggerAction.CLOSE_PICKER:\n                            picker.hide();\n                            break;\n                        case TriggerAction.REFRESH_PICKER:\n                            updatePickerItems();\n                            break;\n                        case TriggerAction.REMOVE_ITEM: {\n                            const index = picker.items.indexOf(item);\n                            if (index !== -1) {\n                                const items = picker.items.slice();\n                                const removed = items.splice(index, 1);\n                                const activeItems = picker.activeItems.filter(activeItem => activeItem !== removed[0]);\n                                const keepScrollPositionBefore = picker.keepScrollPosition;\n                                picker.keepScrollPosition = true;\n                                picker.items = items;\n                                if (activeItems) {\n                                    picker.activeItems = activeItems;\n                                }\n                                picker.keepScrollPosition = keepScrollPositionBefore;\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n        })));\n        return disposables;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { toErrorMessage } from '../../../base/common/errorMessage.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { matchesContiguousSubString, matchesPrefix, matchesWords, or } from '../../../base/common/filters.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { LRUCache } from '../../../base/common/map.js';\nimport { withNullAsUndefined } from '../../../base/common/types.js';\nimport { localize } from '../../../nls.js';\nimport { ICommandService } from '../../commands/common/commands.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IDialogService } from '../../dialogs/common/dialogs.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { PickerQuickAccessProvider } from './pickerQuickAccess.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\nexport let AbstractCommandsQuickAccessProvider = class AbstractCommandsQuickAccessProvider extends PickerQuickAccessProvider {\n    constructor(options, instantiationService, keybindingService, commandService, telemetryService, dialogService) {\n        super(AbstractCommandsQuickAccessProvider.PREFIX, options);\n        this.instantiationService = instantiationService;\n        this.keybindingService = keybindingService;\n        this.commandService = commandService;\n        this.telemetryService = telemetryService;\n        this.dialogService = dialogService;\n        this.commandsHistory = this._register(this.instantiationService.createInstance(CommandsHistory));\n        this.options = options;\n    }\n    _getPicks(filter, _disposables, token, runOptions) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            // Ask subclass for all command picks\n            const allCommandPicks = yield this.getCommandPicks(token);\n            if (token.isCancellationRequested) {\n                return [];\n            }\n            // Filter\n            const filteredCommandPicks = [];\n            for (const commandPick of allCommandPicks) {\n                const labelHighlights = withNullAsUndefined(AbstractCommandsQuickAccessProvider.WORD_FILTER(filter, commandPick.label));\n                const aliasHighlights = commandPick.commandAlias ? withNullAsUndefined(AbstractCommandsQuickAccessProvider.WORD_FILTER(filter, commandPick.commandAlias)) : undefined;\n                // Add if matching in label or alias\n                if (labelHighlights || aliasHighlights) {\n                    commandPick.highlights = {\n                        label: labelHighlights,\n                        detail: this.options.showAlias ? aliasHighlights : undefined\n                    };\n                    filteredCommandPicks.push(commandPick);\n                }\n                // Also add if we have a 100% command ID match\n                else if (filter === commandPick.commandId) {\n                    filteredCommandPicks.push(commandPick);\n                }\n            }\n            // Add description to commands that have duplicate labels\n            const mapLabelToCommand = new Map();\n            for (const commandPick of filteredCommandPicks) {\n                const existingCommandForLabel = mapLabelToCommand.get(commandPick.label);\n                if (existingCommandForLabel) {\n                    commandPick.description = commandPick.commandId;\n                    existingCommandForLabel.description = existingCommandForLabel.commandId;\n                }\n                else {\n                    mapLabelToCommand.set(commandPick.label, commandPick);\n                }\n            }\n            // Sort by MRU order and fallback to name otherwise\n            filteredCommandPicks.sort((commandPickA, commandPickB) => {\n                const commandACounter = this.commandsHistory.peek(commandPickA.commandId);\n                const commandBCounter = this.commandsHistory.peek(commandPickB.commandId);\n                if (commandACounter && commandBCounter) {\n                    return commandACounter > commandBCounter ? -1 : 1; // use more recently used command before older\n                }\n                if (commandACounter) {\n                    return -1; // first command was used, so it wins over the non used one\n                }\n                if (commandBCounter) {\n                    return 1; // other command was used so it wins over the command\n                }\n                if (this.options.suggestedCommandIds) {\n                    const commandASuggestion = this.options.suggestedCommandIds.has(commandPickA.commandId);\n                    const commandBSuggestion = this.options.suggestedCommandIds.has(commandPickB.commandId);\n                    if (commandASuggestion && commandBSuggestion) {\n                        return 0; // honor the order of the array\n                    }\n                    if (commandASuggestion) {\n                        return -1; // first command was suggested, so it wins over the non suggested one\n                    }\n                    if (commandBSuggestion) {\n                        return 1; // other command was suggested so it wins over the command\n                    }\n                }\n                // both commands were never used, so we sort by name\n                return commandPickA.label.localeCompare(commandPickB.label);\n            });\n            const commandPicks = [];\n            let addOtherSeparator = false;\n            let addCommonlyUsedSeparator = !!this.options.suggestedCommandIds;\n            for (let i = 0; i < filteredCommandPicks.length; i++) {\n                const commandPick = filteredCommandPicks[i];\n                // Separator: recently used\n                if (i === 0 && this.commandsHistory.peek(commandPick.commandId)) {\n                    commandPicks.push({ type: 'separator', label: localize('recentlyUsed', \"recently used\") });\n                    addOtherSeparator = true;\n                }\n                // Separator: commonly used\n                if (addCommonlyUsedSeparator && !this.commandsHistory.peek(commandPick.commandId) && ((_a = this.options.suggestedCommandIds) === null || _a === void 0 ? void 0 : _a.has(commandPick.commandId))) {\n                    commandPicks.push({ type: 'separator', label: localize('commonlyUsed', \"commonly used\") });\n                    addOtherSeparator = true;\n                    addCommonlyUsedSeparator = false;\n                }\n                // Separator: other commands\n                if (addOtherSeparator && !this.commandsHistory.peek(commandPick.commandId) && !((_b = this.options.suggestedCommandIds) === null || _b === void 0 ? void 0 : _b.has(commandPick.commandId))) {\n                    commandPicks.push({ type: 'separator', label: localize('morecCommands', \"other commands\") });\n                    addOtherSeparator = false;\n                }\n                // Command\n                commandPicks.push(this.toCommandPick(commandPick, runOptions));\n            }\n            if (!this.hasAdditionalCommandPicks(filter, token)) {\n                return commandPicks;\n            }\n            return {\n                picks: commandPicks,\n                additionalPicks: (() => __awaiter(this, void 0, void 0, function* () {\n                    const additionalCommandPicks = yield this.getAdditionalCommandPicks(allCommandPicks, filteredCommandPicks, filter, token);\n                    if (token.isCancellationRequested) {\n                        return [];\n                    }\n                    return additionalCommandPicks.map(commandPick => this.toCommandPick(commandPick, runOptions));\n                }))()\n            };\n        });\n    }\n    toCommandPick(commandPick, runOptions) {\n        if (commandPick.type === 'separator') {\n            return commandPick;\n        }\n        const keybinding = this.keybindingService.lookupKeybinding(commandPick.commandId);\n        const ariaLabel = keybinding ?\n            localize('commandPickAriaLabelWithKeybinding', \"{0}, {1}\", commandPick.label, keybinding.getAriaLabel()) :\n            commandPick.label;\n        return Object.assign(Object.assign({}, commandPick), { ariaLabel, detail: this.options.showAlias && commandPick.commandAlias !== commandPick.label ? commandPick.commandAlias : undefined, keybinding, accept: () => __awaiter(this, void 0, void 0, function* () {\n                var _a;\n                // Add to history\n                this.commandsHistory.push(commandPick.commandId);\n                // Telementry\n                this.telemetryService.publicLog2('workbenchActionExecuted', {\n                    id: commandPick.commandId,\n                    from: (_a = runOptions === null || runOptions === void 0 ? void 0 : runOptions.from) !== null && _a !== void 0 ? _a : 'quick open'\n                });\n                // Run\n                try {\n                    yield this.commandService.executeCommand(commandPick.commandId);\n                }\n                catch (error) {\n                    if (!isCancellationError(error)) {\n                        this.dialogService.error(localize('canNotRun', \"Command '{0}' resulted in an error\", commandPick.label), toErrorMessage(error));\n                    }\n                }\n            }) });\n    }\n};\nAbstractCommandsQuickAccessProvider.PREFIX = '>';\nAbstractCommandsQuickAccessProvider.WORD_FILTER = or(matchesPrefix, matchesWords, matchesContiguousSubString);\nAbstractCommandsQuickAccessProvider = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IKeybindingService),\n    __param(3, ICommandService),\n    __param(4, ITelemetryService),\n    __param(5, IDialogService)\n], AbstractCommandsQuickAccessProvider);\nexport let CommandsHistory = class CommandsHistory extends Disposable {\n    constructor(storageService, configurationService) {\n        super();\n        this.storageService = storageService;\n        this.configurationService = configurationService;\n        this.configuredCommandsHistoryLength = 0;\n        this.updateConfiguration();\n        this.load();\n        this.registerListeners();\n    }\n    registerListeners() {\n        this._register(this.configurationService.onDidChangeConfiguration(e => this.updateConfiguration(e)));\n    }\n    updateConfiguration(e) {\n        if (e && !e.affectsConfiguration('workbench.commandPalette.history')) {\n            return;\n        }\n        this.configuredCommandsHistoryLength = CommandsHistory.getConfiguredCommandHistoryLength(this.configurationService);\n        if (CommandsHistory.cache && CommandsHistory.cache.limit !== this.configuredCommandsHistoryLength) {\n            CommandsHistory.cache.limit = this.configuredCommandsHistoryLength;\n            CommandsHistory.saveState(this.storageService);\n        }\n    }\n    load() {\n        const raw = this.storageService.get(CommandsHistory.PREF_KEY_CACHE, 0 /* StorageScope.PROFILE */);\n        let serializedCache;\n        if (raw) {\n            try {\n                serializedCache = JSON.parse(raw);\n            }\n            catch (error) {\n                // invalid data\n            }\n        }\n        const cache = CommandsHistory.cache = new LRUCache(this.configuredCommandsHistoryLength, 1);\n        if (serializedCache) {\n            let entries;\n            if (serializedCache.usesLRU) {\n                entries = serializedCache.entries;\n            }\n            else {\n                entries = serializedCache.entries.sort((a, b) => a.value - b.value);\n            }\n            entries.forEach(entry => cache.set(entry.key, entry.value));\n        }\n        CommandsHistory.counter = this.storageService.getNumber(CommandsHistory.PREF_KEY_COUNTER, 0 /* StorageScope.PROFILE */, CommandsHistory.counter);\n    }\n    push(commandId) {\n        if (!CommandsHistory.cache) {\n            return;\n        }\n        CommandsHistory.cache.set(commandId, CommandsHistory.counter++); // set counter to command\n        CommandsHistory.saveState(this.storageService);\n    }\n    peek(commandId) {\n        var _a;\n        return (_a = CommandsHistory.cache) === null || _a === void 0 ? void 0 : _a.peek(commandId);\n    }\n    static saveState(storageService) {\n        if (!CommandsHistory.cache) {\n            return;\n        }\n        const serializedCache = { usesLRU: true, entries: [] };\n        CommandsHistory.cache.forEach((value, key) => serializedCache.entries.push({ key, value }));\n        storageService.store(CommandsHistory.PREF_KEY_CACHE, JSON.stringify(serializedCache), 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n        storageService.store(CommandsHistory.PREF_KEY_COUNTER, CommandsHistory.counter, 0 /* StorageScope.PROFILE */, 0 /* StorageTarget.USER */);\n    }\n    static getConfiguredCommandHistoryLength(configurationService) {\n        var _a, _b;\n        const config = configurationService.getValue();\n        const configuredCommandHistoryLength = (_b = (_a = config.workbench) === null || _a === void 0 ? void 0 : _a.commandPalette) === null || _b === void 0 ? void 0 : _b.history;\n        if (typeof configuredCommandHistoryLength === 'number') {\n            return configuredCommandHistoryLength;\n        }\n        return CommandsHistory.DEFAULT_COMMANDS_HISTORY_LENGTH;\n    }\n};\nCommandsHistory.DEFAULT_COMMANDS_HISTORY_LENGTH = 50;\nCommandsHistory.PREF_KEY_CACHE = 'commandPalette.mru.cache';\nCommandsHistory.PREF_KEY_COUNTER = 'commandPalette.mru.counter';\nCommandsHistory.counter = 1;\nCommandsHistory = __decorate([\n    __param(0, IStorageService),\n    __param(1, IConfigurationService)\n], CommandsHistory);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { localize } from '../../../nls.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { Extensions } from '../common/quickAccess.js';\nimport { IQuickInputService } from '../common/quickInput.js';\nexport let HelpQuickAccessProvider = class HelpQuickAccessProvider {\n    constructor(quickInputService, keybindingService) {\n        this.quickInputService = quickInputService;\n        this.keybindingService = keybindingService;\n        this.registry = Registry.as(Extensions.Quickaccess);\n    }\n    provide(picker) {\n        const disposables = new DisposableStore();\n        // Open a picker with the selected value if picked\n        disposables.add(picker.onDidAccept(() => {\n            const [item] = picker.selectedItems;\n            if (item) {\n                this.quickInputService.quickAccess.show(item.prefix, { preserveValue: true });\n            }\n        }));\n        // Also open a picker when we detect the user typed the exact\n        // name of a provider (e.g. `?term` for terminals)\n        disposables.add(picker.onDidChangeValue(value => {\n            const providerDescriptor = this.registry.getQuickAccessProvider(value.substr(HelpQuickAccessProvider.PREFIX.length));\n            if (providerDescriptor && providerDescriptor.prefix && providerDescriptor.prefix !== HelpQuickAccessProvider.PREFIX) {\n                this.quickInputService.quickAccess.show(providerDescriptor.prefix, { preserveValue: true });\n            }\n        }));\n        // Fill in all providers\n        picker.items = this.getQuickAccessProviders().filter(p => p.prefix !== HelpQuickAccessProvider.PREFIX);\n        return disposables;\n    }\n    getQuickAccessProviders() {\n        const providers = this.registry\n            .getQuickAccessProviders()\n            .sort((providerA, providerB) => providerA.prefix.localeCompare(providerB.prefix))\n            .flatMap(provider => this.createPicks(provider));\n        return providers;\n    }\n    createPicks(provider) {\n        return provider.helpEntries.map(helpEntry => {\n            const prefix = helpEntry.prefix || provider.prefix;\n            const label = prefix || '\\u2026' /* ... */;\n            return {\n                prefix,\n                label,\n                keybinding: helpEntry.commandId ? this.keybindingService.lookupKeybinding(helpEntry.commandId) : undefined,\n                ariaLabel: localize('helpPickAriaLabel', \"{0}, {1}\", label, helpEntry.description),\n                description: helpEntry.description\n            };\n        });\n    }\n};\nHelpQuickAccessProvider.PREFIX = '?';\nHelpQuickAccessProvider = __decorate([\n    __param(0, IQuickInputService),\n    __param(1, IKeybindingService)\n], HelpQuickAccessProvider);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { DeferredPromise } from '../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { once } from '../../../base/common/functional.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { DefaultQuickAccessFilterValue, Extensions } from '../common/quickAccess.js';\nimport { IQuickInputService, ItemActivation } from '../common/quickInput.js';\nimport { Registry } from '../../registry/common/platform.js';\nexport let QuickAccessController = class QuickAccessController extends Disposable {\n    constructor(quickInputService, instantiationService) {\n        super();\n        this.quickInputService = quickInputService;\n        this.instantiationService = instantiationService;\n        this.registry = Registry.as(Extensions.Quickaccess);\n        this.mapProviderToDescriptor = new Map();\n        this.lastAcceptedPickerValues = new Map();\n        this.visibleQuickAccess = undefined;\n    }\n    show(value = '', options) {\n        this.doShowOrPick(value, false, options);\n    }\n    doShowOrPick(value, pick, options) {\n        var _a;\n        // Find provider for the value to show\n        const [provider, descriptor] = this.getOrInstantiateProvider(value);\n        // Return early if quick access is already showing on that same prefix\n        const visibleQuickAccess = this.visibleQuickAccess;\n        const visibleDescriptor = visibleQuickAccess === null || visibleQuickAccess === void 0 ? void 0 : visibleQuickAccess.descriptor;\n        if (visibleQuickAccess && descriptor && visibleDescriptor === descriptor) {\n            // Apply value only if it is more specific than the prefix\n            // from the provider and we are not instructed to preserve\n            if (value !== descriptor.prefix && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n                visibleQuickAccess.picker.value = value;\n            }\n            // Always adjust selection\n            this.adjustValueSelection(visibleQuickAccess.picker, descriptor, options);\n            return;\n        }\n        // Rewrite the filter value based on certain rules unless disabled\n        if (descriptor && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n            let newValue = undefined;\n            // If we have a visible provider with a value, take it's filter value but\n            // rewrite to new provider prefix in case they differ\n            if (visibleQuickAccess && visibleDescriptor && visibleDescriptor !== descriptor) {\n                const newValueCandidateWithoutPrefix = visibleQuickAccess.value.substr(visibleDescriptor.prefix.length);\n                if (newValueCandidateWithoutPrefix) {\n                    newValue = `${descriptor.prefix}${newValueCandidateWithoutPrefix}`;\n                }\n            }\n            // Otherwise, take a default value as instructed\n            if (!newValue) {\n                const defaultFilterValue = provider === null || provider === void 0 ? void 0 : provider.defaultFilterValue;\n                if (defaultFilterValue === DefaultQuickAccessFilterValue.LAST) {\n                    newValue = this.lastAcceptedPickerValues.get(descriptor);\n                }\n                else if (typeof defaultFilterValue === 'string') {\n                    newValue = `${descriptor.prefix}${defaultFilterValue}`;\n                }\n            }\n            if (typeof newValue === 'string') {\n                value = newValue;\n            }\n        }\n        // Create a picker for the provider to use with the initial value\n        // and adjust the filtering to exclude the prefix from filtering\n        const disposables = new DisposableStore();\n        const picker = disposables.add(this.quickInputService.createQuickPick());\n        picker.value = value;\n        this.adjustValueSelection(picker, descriptor, options);\n        picker.placeholder = descriptor === null || descriptor === void 0 ? void 0 : descriptor.placeholder;\n        picker.quickNavigate = options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration;\n        picker.hideInput = !!picker.quickNavigate && !visibleQuickAccess; // only hide input if there was no picker opened already\n        if (typeof (options === null || options === void 0 ? void 0 : options.itemActivation) === 'number' || (options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration)) {\n            picker.itemActivation = (_a = options === null || options === void 0 ? void 0 : options.itemActivation) !== null && _a !== void 0 ? _a : ItemActivation.SECOND /* quick nav is always second */;\n        }\n        picker.contextKey = descriptor === null || descriptor === void 0 ? void 0 : descriptor.contextKey;\n        picker.filterValue = (value) => value.substring(descriptor ? descriptor.prefix.length : 0);\n        // Pick mode: setup a promise that can be resolved\n        // with the selected items and prevent execution\n        let pickPromise = undefined;\n        if (pick) {\n            pickPromise = new DeferredPromise();\n            disposables.add(once(picker.onWillAccept)(e => {\n                e.veto();\n                picker.hide();\n            }));\n        }\n        // Register listeners\n        disposables.add(this.registerPickerListeners(picker, provider, descriptor, value, options === null || options === void 0 ? void 0 : options.providerOptions));\n        // Ask provider to fill the picker as needed if we have one\n        // and pass over a cancellation token that will indicate when\n        // the picker is hiding without a pick being made.\n        const cts = disposables.add(new CancellationTokenSource());\n        if (provider) {\n            disposables.add(provider.provide(picker, cts.token, options === null || options === void 0 ? void 0 : options.providerOptions));\n        }\n        // Finally, trigger disposal and cancellation when the picker\n        // hides depending on items selected or not.\n        once(picker.onDidHide)(() => {\n            if (picker.selectedItems.length === 0) {\n                cts.cancel();\n            }\n            // Start to dispose once picker hides\n            disposables.dispose();\n            // Resolve pick promise with selected items\n            pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.complete(picker.selectedItems.slice(0));\n        });\n        // Finally, show the picker. This is important because a provider\n        // may not call this and then our disposables would leak that rely\n        // on the onDidHide event.\n        picker.show();\n        // Pick mode: return with promise\n        if (pick) {\n            return pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.p;\n        }\n    }\n    adjustValueSelection(picker, descriptor, options) {\n        var _a;\n        let valueSelection;\n        // Preserve: just always put the cursor at the end\n        if (options === null || options === void 0 ? void 0 : options.preserveValue) {\n            valueSelection = [picker.value.length, picker.value.length];\n        }\n        // Otherwise: select the value up until the prefix\n        else {\n            valueSelection = [(_a = descriptor === null || descriptor === void 0 ? void 0 : descriptor.prefix.length) !== null && _a !== void 0 ? _a : 0, picker.value.length];\n        }\n        picker.valueSelection = valueSelection;\n    }\n    registerPickerListeners(picker, provider, descriptor, value, providerOptions) {\n        const disposables = new DisposableStore();\n        // Remember as last visible picker and clean up once picker get's disposed\n        const visibleQuickAccess = this.visibleQuickAccess = { picker, descriptor, value };\n        disposables.add(toDisposable(() => {\n            if (visibleQuickAccess === this.visibleQuickAccess) {\n                this.visibleQuickAccess = undefined;\n            }\n        }));\n        // Whenever the value changes, check if the provider has\n        // changed and if so - re-create the picker from the beginning\n        disposables.add(picker.onDidChangeValue(value => {\n            const [providerForValue] = this.getOrInstantiateProvider(value);\n            if (providerForValue !== provider) {\n                this.show(value, {\n                    // do not rewrite value from user typing!\n                    preserveValue: true,\n                    // persist the value of the providerOptions from the original showing\n                    providerOptions\n                });\n            }\n            else {\n                visibleQuickAccess.value = value; // remember the value in our visible one\n            }\n        }));\n        // Remember picker input for future use when accepting\n        if (descriptor) {\n            disposables.add(picker.onDidAccept(() => {\n                this.lastAcceptedPickerValues.set(descriptor, picker.value);\n            }));\n        }\n        return disposables;\n    }\n    getOrInstantiateProvider(value) {\n        const providerDescriptor = this.registry.getQuickAccessProvider(value);\n        if (!providerDescriptor) {\n            return [undefined, undefined];\n        }\n        let provider = this.mapProviderToDescriptor.get(providerDescriptor);\n        if (!provider) {\n            provider = this.instantiationService.createInstance(providerDescriptor.ctor);\n            this.mapProviderToDescriptor.set(providerDescriptor, provider);\n        }\n        return [provider, providerDescriptor];\n    }\n};\nQuickAccessController = __decorate([\n    __param(0, IQuickInputService),\n    __param(1, IInstantiationService)\n], QuickAccessController);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { StandardMouseEvent } from '../../../base/browser/mouseEvent.js';\nimport { FindInput } from '../../../base/browser/ui/findinput/findInput.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport Severity from '../../../base/common/severity.js';\nimport './media/quickInput.css';\nconst $ = dom.$;\nexport class QuickInputBox extends Disposable {\n    constructor(parent, inputBoxStyles, toggleStyles) {\n        super();\n        this.parent = parent;\n        this.onKeyDown = (handler) => {\n            return dom.addDisposableListener(this.findInput.inputBox.inputElement, dom.EventType.KEY_DOWN, (e) => {\n                handler(new StandardKeyboardEvent(e));\n            });\n        };\n        this.onMouseDown = (handler) => {\n            return dom.addDisposableListener(this.findInput.inputBox.inputElement, dom.EventType.MOUSE_DOWN, (e) => {\n                handler(new StandardMouseEvent(e));\n            });\n        };\n        this.onDidChange = (handler) => {\n            return this.findInput.onDidChange(handler);\n        };\n        this.container = dom.append(this.parent, $('.quick-input-box'));\n        this.findInput = this._register(new FindInput(this.container, undefined, { label: '', inputBoxStyles, toggleStyles }));\n        const input = this.findInput.inputBox.inputElement;\n        input.role = 'combobox';\n        input.ariaHasPopup = 'menu';\n        input.ariaAutoComplete = 'list';\n        input.ariaExpanded = 'true';\n    }\n    get value() {\n        return this.findInput.getValue();\n    }\n    set value(value) {\n        this.findInput.setValue(value);\n    }\n    select(range = null) {\n        this.findInput.inputBox.select(range);\n    }\n    isSelectionAtEnd() {\n        return this.findInput.inputBox.isSelectionAtEnd();\n    }\n    get placeholder() {\n        return this.findInput.inputBox.inputElement.getAttribute('placeholder') || '';\n    }\n    set placeholder(placeholder) {\n        this.findInput.inputBox.setPlaceHolder(placeholder);\n    }\n    get password() {\n        return this.findInput.inputBox.inputElement.type === 'password';\n    }\n    set password(password) {\n        this.findInput.inputBox.inputElement.type = password ? 'password' : 'text';\n    }\n    set enabled(enabled) {\n        // We can't disable the input box because it is still used for\n        // navigating the list. Instead, we disable the list and the OK\n        // so that nothing can be selected.\n        // TODO: should this be what we do for all find inputs? Or maybe some _other_ API\n        // on findInput to change it to readonly?\n        this.findInput.inputBox.inputElement.toggleAttribute('readonly', !enabled);\n        // TODO: styles of the quick pick need to be moved to the CSS instead of being in line\n        // so things like this can be done in CSS\n        // this.findInput.inputBox.inputElement.classList.toggle('disabled', !enabled);\n    }\n    set toggles(toggles) {\n        this.findInput.setAdditionalToggles(toggles);\n    }\n    setAttribute(name, value) {\n        this.findInput.inputBox.inputElement.setAttribute(name, value);\n    }\n    showDecoration(decoration) {\n        if (decoration === Severity.Ignore) {\n            this.findInput.clearMessage();\n        }\n        else {\n            this.findInput.showMessage({ type: decoration === Severity.Info ? 1 /* MessageType.INFO */ : decoration === Severity.Warning ? 2 /* MessageType.WARNING */ : 3 /* MessageType.ERROR */, content: '' });\n        }\n    }\n    stylesForType(decoration) {\n        return this.findInput.inputBox.stylesForType(decoration === Severity.Info ? 1 /* MessageType.INFO */ : decoration === Severity.Warning ? 2 /* MessageType.WARNING */ : 3 /* MessageType.ERROR */);\n    }\n    setFocus() {\n        this.findInput.focus();\n    }\n    layout() {\n        this.findInput.inputBox.layout();\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../base/browser/event.js';\nimport { Event } from '../../../base/common/event.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { Gesture, EventType as GestureEventType } from '../../../base/browser/touch.js';\nimport { renderLabelWithIcons } from '../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { IdGenerator } from '../../../base/common/idGenerator.js';\nimport { parseLinkedText } from '../../../base/common/linkedText.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nconst iconPathToClass = {};\nconst iconClassGenerator = new IdGenerator('quick-input-button-icon-');\nexport function getIconClass(iconPath) {\n    if (!iconPath) {\n        return undefined;\n    }\n    let iconClass;\n    const key = iconPath.dark.toString();\n    if (iconPathToClass[key]) {\n        iconClass = iconPathToClass[key];\n    }\n    else {\n        iconClass = iconClassGenerator.nextId();\n        dom.createCSSRule(`.${iconClass}, .hc-light .${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.light || iconPath.dark)}`);\n        dom.createCSSRule(`.vs-dark .${iconClass}, .hc-black .${iconClass}`, `background-image: ${dom.asCSSUrl(iconPath.dark)}`);\n        iconPathToClass[key] = iconClass;\n    }\n    return iconClass;\n}\nexport function renderQuickInputDescription(description, container, actionHandler) {\n    dom.reset(container);\n    const parsed = parseLinkedText(description);\n    let tabIndex = 0;\n    for (const node of parsed.nodes) {\n        if (typeof node === 'string') {\n            container.append(...renderLabelWithIcons(node));\n        }\n        else {\n            let title = node.title;\n            if (!title && node.href.startsWith('command:')) {\n                title = localize('executeCommand', \"Click to execute command '{0}'\", node.href.substring('command:'.length));\n            }\n            else if (!title) {\n                title = node.href;\n            }\n            const anchor = dom.$('a', { href: node.href, title, tabIndex: tabIndex++ }, node.label);\n            anchor.style.textDecoration = 'underline';\n            const handleOpen = (e) => {\n                if (dom.isEventLike(e)) {\n                    dom.EventHelper.stop(e, true);\n                }\n                actionHandler.callback(node.href);\n            };\n            const onClick = actionHandler.disposables.add(new DomEmitter(anchor, dom.EventType.CLICK)).event;\n            const onKeydown = actionHandler.disposables.add(new DomEmitter(anchor, dom.EventType.KEY_DOWN)).event;\n            const onSpaceOrEnter = actionHandler.disposables.add(Event.chain(onKeydown)).filter(e => {\n                const event = new StandardKeyboardEvent(e);\n                return event.equals(10 /* KeyCode.Space */) || event.equals(3 /* KeyCode.Enter */);\n            }).event;\n            actionHandler.disposables.add(Gesture.addTarget(anchor));\n            const onTap = actionHandler.disposables.add(new DomEmitter(anchor, GestureEventType.Tap)).event;\n            Event.any(onClick, onTap, onSpaceOrEnter)(handleOpen, null, actionHandler.disposables);\n            container.appendChild(anchor);\n        }\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { IconLabel } from '../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { KeybindingLabel } from '../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { range } from '../../../base/common/arrays.js';\nimport { ThrottledDelayer } from '../../../base/common/async.js';\nimport { compareAnything } from '../../../base/common/comparers.js';\nimport { memoize } from '../../../base/common/decorators.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { getCodiconAriaLabel, matchesFuzzyIconAware, parseLabelWithIcons } from '../../../base/common/iconLabels.js';\nimport { DisposableStore, dispose } from '../../../base/common/lifecycle.js';\nimport * as platform from '../../../base/common/platform.js';\nimport { ltrim } from '../../../base/common/strings.js';\nimport { withNullAsUndefined } from '../../../base/common/types.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nimport { getIconClass } from './quickInputUtils.js';\nconst $ = dom.$;\nclass ListElement {\n    get checked() {\n        return !!this._checked;\n    }\n    set checked(value) {\n        if (value !== this._checked) {\n            this._checked = value;\n            this._onChecked.fire(value);\n        }\n    }\n    constructor(init) {\n        this.hidden = false;\n        this._onChecked = new Emitter();\n        this.onChecked = this._onChecked.event;\n        Object.assign(this, init);\n    }\n    dispose() {\n        this._onChecked.dispose();\n    }\n}\nclass ListElementRenderer {\n    get templateId() {\n        return ListElementRenderer.ID;\n    }\n    renderTemplate(container) {\n        const data = Object.create(null);\n        data.toDisposeElement = [];\n        data.toDisposeTemplate = [];\n        data.entry = dom.append(container, $('.quick-input-list-entry'));\n        // Checkbox\n        const label = dom.append(data.entry, $('label.quick-input-list-label'));\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(label, dom.EventType.CLICK, e => {\n            if (!data.checkbox.offsetParent) { // If checkbox not visible:\n                e.preventDefault(); // Prevent toggle of checkbox when it is immediately shown afterwards. #91740\n            }\n        }));\n        data.checkbox = dom.append(label, $('input.quick-input-list-checkbox'));\n        data.checkbox.type = 'checkbox';\n        data.toDisposeTemplate.push(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {\n            data.element.checked = data.checkbox.checked;\n        }));\n        // Rows\n        const rows = dom.append(label, $('.quick-input-list-rows'));\n        const row1 = dom.append(rows, $('.quick-input-list-row'));\n        const row2 = dom.append(rows, $('.quick-input-list-row'));\n        // Label\n        data.label = new IconLabel(row1, { supportHighlights: true, supportDescriptionHighlights: true, supportIcons: true });\n        // Keybinding\n        const keybindingContainer = dom.append(row1, $('.quick-input-list-entry-keybinding'));\n        data.keybinding = new KeybindingLabel(keybindingContainer, platform.OS);\n        // Detail\n        const detailContainer = dom.append(row2, $('.quick-input-list-label-meta'));\n        data.detail = new IconLabel(detailContainer, { supportHighlights: true, supportIcons: true });\n        // Separator\n        data.separator = dom.append(data.entry, $('.quick-input-list-separator'));\n        // Actions\n        data.actionBar = new ActionBar(data.entry);\n        data.actionBar.domNode.classList.add('quick-input-list-entry-action-bar');\n        data.toDisposeTemplate.push(data.actionBar);\n        return data;\n    }\n    renderElement(element, index, data) {\n        data.element = element;\n        element.element = withNullAsUndefined(data.entry);\n        const mainItem = element.item ? element.item : element.separator;\n        data.checkbox.checked = element.checked;\n        data.toDisposeElement.push(element.onChecked(checked => data.checkbox.checked = checked));\n        const { labelHighlights, descriptionHighlights, detailHighlights } = element;\n        // Label\n        const options = Object.create(null);\n        options.matches = labelHighlights || [];\n        options.descriptionTitle = element.saneDescription;\n        options.descriptionMatches = descriptionHighlights || [];\n        if (mainItem.type !== 'separator') {\n            options.extraClasses = mainItem.iconClasses;\n            options.italic = mainItem.italic;\n            options.strikethrough = mainItem.strikethrough;\n            data.entry.classList.remove('quick-input-list-separator-as-item');\n        }\n        else {\n            data.entry.classList.add('quick-input-list-separator-as-item');\n        }\n        data.label.setLabel(element.saneLabel, element.saneDescription, options);\n        // Keybinding\n        data.keybinding.set(mainItem.type === 'separator' ? undefined : mainItem.keybinding);\n        // Meta\n        if (element.saneDetail) {\n            data.detail.element.style.display = '';\n            data.detail.setLabel(element.saneDetail, undefined, {\n                matches: detailHighlights,\n                title: element.saneDetail\n            });\n        }\n        else {\n            data.detail.element.style.display = 'none';\n        }\n        // Separator\n        if (element.item && element.separator && element.separator.label) {\n            data.separator.textContent = element.separator.label;\n            data.separator.style.display = '';\n        }\n        else {\n            data.separator.style.display = 'none';\n        }\n        data.entry.classList.toggle('quick-input-list-separator-border', !!element.separator);\n        // Actions\n        const buttons = mainItem.buttons;\n        if (buttons && buttons.length) {\n            data.actionBar.push(buttons.map((button, index) => {\n                let cssClasses = button.iconClass || (button.iconPath ? getIconClass(button.iconPath) : undefined);\n                if (button.alwaysVisible) {\n                    cssClasses = cssClasses ? `${cssClasses} always-visible` : 'always-visible';\n                }\n                return {\n                    id: `id-${index}`,\n                    class: cssClasses,\n                    enabled: true,\n                    label: '',\n                    tooltip: button.tooltip || '',\n                    run: () => {\n                        mainItem.type !== 'separator'\n                            ? element.fireButtonTriggered({\n                                button,\n                                item: mainItem\n                            })\n                            : element.fireSeparatorButtonTriggered({\n                                button,\n                                separator: mainItem\n                            });\n                    }\n                };\n            }), { icon: true, label: false });\n            data.entry.classList.add('has-actions');\n        }\n        else {\n            data.entry.classList.remove('has-actions');\n        }\n    }\n    disposeElement(element, index, data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.actionBar.clear();\n    }\n    disposeTemplate(data) {\n        data.toDisposeElement = dispose(data.toDisposeElement);\n        data.toDisposeTemplate = dispose(data.toDisposeTemplate);\n    }\n}\nListElementRenderer.ID = 'listelement';\nclass ListElementDelegate {\n    getHeight(element) {\n        if (!element.item) {\n            // must be a separator\n            return 24;\n        }\n        return element.saneDetail ? 44 : 22;\n    }\n    getTemplateId(element) {\n        return ListElementRenderer.ID;\n    }\n}\nexport var QuickInputListFocus;\n(function (QuickInputListFocus) {\n    QuickInputListFocus[QuickInputListFocus[\"First\"] = 1] = \"First\";\n    QuickInputListFocus[QuickInputListFocus[\"Second\"] = 2] = \"Second\";\n    QuickInputListFocus[QuickInputListFocus[\"Last\"] = 3] = \"Last\";\n    QuickInputListFocus[QuickInputListFocus[\"Next\"] = 4] = \"Next\";\n    QuickInputListFocus[QuickInputListFocus[\"Previous\"] = 5] = \"Previous\";\n    QuickInputListFocus[QuickInputListFocus[\"NextPage\"] = 6] = \"NextPage\";\n    QuickInputListFocus[QuickInputListFocus[\"PreviousPage\"] = 7] = \"PreviousPage\";\n})(QuickInputListFocus || (QuickInputListFocus = {}));\nexport class QuickInputList {\n    constructor(parent, id, options) {\n        this.parent = parent;\n        this.options = options;\n        this.inputElements = [];\n        this.elements = [];\n        this.elementsToIndexes = new Map();\n        this.matchOnDescription = false;\n        this.matchOnDetail = false;\n        this.matchOnLabel = true;\n        this.matchOnLabelMode = 'fuzzy';\n        this.matchOnMeta = true;\n        this.sortByLabel = true;\n        this._onChangedAllVisibleChecked = new Emitter();\n        this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;\n        this._onChangedCheckedCount = new Emitter();\n        this.onChangedCheckedCount = this._onChangedCheckedCount.event;\n        this._onChangedVisibleCount = new Emitter();\n        this.onChangedVisibleCount = this._onChangedVisibleCount.event;\n        this._onChangedCheckedElements = new Emitter();\n        this.onChangedCheckedElements = this._onChangedCheckedElements.event;\n        this._onButtonTriggered = new Emitter();\n        this.onButtonTriggered = this._onButtonTriggered.event;\n        this._onSeparatorButtonTriggered = new Emitter();\n        this.onSeparatorButtonTriggered = this._onSeparatorButtonTriggered.event;\n        this._onKeyDown = new Emitter();\n        this.onKeyDown = this._onKeyDown.event;\n        this._onLeave = new Emitter();\n        this.onLeave = this._onLeave.event;\n        this._fireCheckedEvents = true;\n        this.elementDisposables = [];\n        this.disposables = [];\n        this.id = id;\n        this.container = dom.append(this.parent, $('.quick-input-list'));\n        const delegate = new ListElementDelegate();\n        const accessibilityProvider = new QuickInputAccessibilityProvider();\n        this.list = options.createList('QuickInput', this.container, delegate, [new ListElementRenderer()], {\n            identityProvider: { getId: element => element.saneLabel },\n            setRowLineHeight: false,\n            multipleSelectionSupport: false,\n            horizontalScrolling: false,\n            accessibilityProvider\n        });\n        this.list.getHTMLElement().id = id;\n        this.disposables.push(this.list);\n        this.disposables.push(this.list.onKeyDown(e => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 10 /* KeyCode.Space */:\n                    this.toggleCheckbox();\n                    break;\n                case 31 /* KeyCode.KeyA */:\n                    if (platform.isMacintosh ? e.metaKey : e.ctrlKey) {\n                        this.list.setFocus(range(this.list.length));\n                    }\n                    break;\n                case 16 /* KeyCode.UpArrow */: {\n                    const focus1 = this.list.getFocus();\n                    if (focus1.length === 1 && focus1[0] === 0) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n                case 18 /* KeyCode.DownArrow */: {\n                    const focus2 = this.list.getFocus();\n                    if (focus2.length === 1 && focus2[0] === this.list.length - 1) {\n                        this._onLeave.fire();\n                    }\n                    break;\n                }\n            }\n            this._onKeyDown.fire(event);\n        }));\n        this.disposables.push(this.list.onMouseDown(e => {\n            if (e.browserEvent.button !== 2) {\n                // Works around / fixes #64350.\n                e.browserEvent.preventDefault();\n            }\n        }));\n        this.disposables.push(dom.addDisposableListener(this.container, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space' on checkbox.\n                this._onLeave.fire();\n            }\n        }));\n        this.disposables.push(this.list.onMouseMiddleClick(e => {\n            this._onLeave.fire();\n        }));\n        this.disposables.push(this.list.onContextMenu(e => {\n            if (typeof e.index === 'number') {\n                e.browserEvent.preventDefault();\n                // we want to treat a context menu event as\n                // a gesture to open the item at the index\n                // since we do not have any context menu\n                // this enables for example macOS to Ctrl-\n                // click on an item to open it.\n                this.list.setSelection([e.index]);\n            }\n        }));\n        const delayer = new ThrottledDelayer(options.hoverDelegate.delay);\n        // onMouseOver triggers every time a new element has been moused over\n        // even if it's on the same list item.\n        this.disposables.push(this.list.onMouseOver((e) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            // If we hover over an anchor element, we don't want to show the hover because\n            // the anchor may have a tooltip that we want to show instead.\n            if (e.browserEvent.target instanceof HTMLAnchorElement) {\n                delayer.cancel();\n                return;\n            }\n            if (\n            // anchors are an exception as called out above so we skip them here\n            !(e.browserEvent.relatedTarget instanceof HTMLAnchorElement) &&\n                // check if the mouse is still over the same element\n                dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                return;\n            }\n            try {\n                yield delayer.trigger(() => __awaiter(this, void 0, void 0, function* () {\n                    if (e.element) {\n                        this.showHover(e.element);\n                    }\n                }));\n            }\n            catch (e) {\n                // Ignore cancellation errors due to mouse out\n                if (!isCancellationError(e)) {\n                    throw e;\n                }\n            }\n        })));\n        this.disposables.push(this.list.onMouseOut(e => {\n            var _a;\n            // onMouseOut triggers every time a new element has been moused over\n            // even if it's on the same list item. We only want one event, so we\n            // check if the mouse is still over the same element.\n            if (dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {\n                return;\n            }\n            delayer.cancel();\n        }));\n        this.disposables.push(this._onChangedAllVisibleChecked, this._onChangedCheckedCount, this._onChangedVisibleCount, this._onChangedCheckedElements, this._onButtonTriggered, this._onSeparatorButtonTriggered, this._onLeave, this._onKeyDown, delayer);\n    }\n    get onDidChangeFocus() {\n        return Event.map(this.list.onDidChangeFocus, e => e.elements.map(e => e.item));\n    }\n    get onDidChangeSelection() {\n        return Event.map(this.list.onDidChangeSelection, e => ({ items: e.elements.map(e => e.item), event: e.browserEvent }));\n    }\n    get scrollTop() {\n        return this.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.list.scrollTop = scrollTop;\n    }\n    get ariaLabel() {\n        return this.list.getHTMLElement().ariaLabel;\n    }\n    set ariaLabel(label) {\n        this.list.getHTMLElement().ariaLabel = label;\n    }\n    getAllVisibleChecked() {\n        return this.allVisibleChecked(this.elements, false);\n    }\n    allVisibleChecked(elements, whenNoneVisible = true) {\n        for (let i = 0, n = elements.length; i < n; i++) {\n            const element = elements[i];\n            if (!element.hidden) {\n                if (!element.checked) {\n                    return false;\n                }\n                else {\n                    whenNoneVisible = true;\n                }\n            }\n        }\n        return whenNoneVisible;\n    }\n    getCheckedCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (elements[i].checked) {\n                count++;\n            }\n        }\n        return count;\n    }\n    getVisibleCount() {\n        let count = 0;\n        const elements = this.elements;\n        for (let i = 0, n = elements.length; i < n; i++) {\n            if (!elements[i].hidden) {\n                count++;\n            }\n        }\n        return count;\n    }\n    setAllVisibleChecked(checked) {\n        try {\n            this._fireCheckedEvents = false;\n            this.elements.forEach(element => {\n                if (!element.hidden) {\n                    element.checked = checked;\n                }\n            });\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    setElements(inputElements) {\n        this.elementDisposables = dispose(this.elementDisposables);\n        const fireButtonTriggered = (event) => this.fireButtonTriggered(event);\n        const fireSeparatorButtonTriggered = (event) => this.fireSeparatorButtonTriggered(event);\n        this.inputElements = inputElements;\n        this.elements = inputElements.reduce((result, item, index) => {\n            var _a, _b, _c;\n            const previous = index && inputElements[index - 1];\n            const saneLabel = item.label ? item.label.replace(/\\r?\\n/g, ' ') : '';\n            const saneSortLabel = parseLabelWithIcons(saneLabel).text.trim();\n            let saneMeta, saneDescription, saneDetail, labelHighlights, descriptionHighlights, detailHighlights, saneTooltip;\n            if (item.type !== 'separator') {\n                saneMeta = item.meta && item.meta.replace(/\\r?\\n/g, ' ');\n                saneDescription = item.description && item.description.replace(/\\r?\\n/g, ' ');\n                saneDetail = item.detail && item.detail.replace(/\\r?\\n/g, ' ');\n                labelHighlights = (_a = item.highlights) === null || _a === void 0 ? void 0 : _a.label;\n                descriptionHighlights = (_b = item.highlights) === null || _b === void 0 ? void 0 : _b.description;\n                detailHighlights = (_c = item.highlights) === null || _c === void 0 ? void 0 : _c.detail;\n                saneTooltip = item.tooltip;\n            }\n            const saneAriaLabel = item.ariaLabel || [saneLabel, saneDescription, saneDetail]\n                .map(s => getCodiconAriaLabel(s))\n                .filter(s => !!s)\n                .join(', ');\n            const hasCheckbox = this.parent.classList.contains('show-checkboxes');\n            let separator;\n            if (item.type === 'separator') {\n                if (!item.buttons) {\n                    // This separator will be rendered as a part of the list item\n                    return result;\n                }\n                separator = item;\n            }\n            else if (previous && previous.type === 'separator' && !previous.buttons) {\n                separator = previous;\n            }\n            const element = new ListElement({\n                hasCheckbox,\n                index,\n                item: item.type !== 'separator' ? item : undefined,\n                saneLabel,\n                saneSortLabel,\n                saneMeta,\n                saneAriaLabel,\n                saneDescription,\n                saneDetail,\n                saneTooltip,\n                labelHighlights,\n                descriptionHighlights,\n                detailHighlights,\n                checked: false,\n                separator,\n                fireButtonTriggered,\n                fireSeparatorButtonTriggered\n            });\n            this.elementDisposables.push(element);\n            this.elementDisposables.push(element.onChecked(() => this.fireCheckedEvents()));\n            result.push(element);\n            return result;\n        }, []);\n        this.elementsToIndexes = this.elements.reduce((map, element, index) => {\n            var _a;\n            map.set((_a = element.item) !== null && _a !== void 0 ? _a : element.separator, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length); // Clear focus and selection first, sending the events when the list is empty.\n        this.list.splice(0, this.list.length, this.elements);\n        this._onChangedVisibleCount.fire(this.elements.length);\n    }\n    getFocusedElements() {\n        return this.list.getFocusedElements()\n            .map(e => e.item);\n    }\n    setFocusedElements(items) {\n        this.list.setFocus(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n        if (items.length > 0) {\n            const focused = this.list.getFocus()[0];\n            if (typeof focused === 'number') {\n                this.list.reveal(focused);\n            }\n        }\n    }\n    getActiveDescendant() {\n        return this.list.getHTMLElement().getAttribute('aria-activedescendant');\n    }\n    setSelectedElements(items) {\n        this.list.setSelection(items\n            .filter(item => this.elementsToIndexes.has(item))\n            .map(item => this.elementsToIndexes.get(item)));\n    }\n    getCheckedElements() {\n        return this.elements.filter(e => e.checked)\n            .map(e => e.item)\n            .filter(e => !!e);\n    }\n    setCheckedElements(items) {\n        try {\n            this._fireCheckedEvents = false;\n            const checked = new Set();\n            for (const item of items) {\n                checked.add(item);\n            }\n            for (const element of this.elements) {\n                element.checked = checked.has(element.item);\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    set enabled(value) {\n        this.list.getHTMLElement().style.pointerEvents = value ? '' : 'none';\n    }\n    focus(what) {\n        if (!this.list.length) {\n            return;\n        }\n        if (what === QuickInputListFocus.Second && this.list.length < 2) {\n            what = QuickInputListFocus.First;\n        }\n        switch (what) {\n            case QuickInputListFocus.First:\n                this.list.scrollTop = 0;\n                this.list.focusFirst(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Second:\n                this.list.scrollTop = 0;\n                this.list.focusNth(1, undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Last:\n                this.list.scrollTop = this.list.scrollHeight;\n                this.list.focusLast(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.Next: {\n                this.list.focusNext(undefined, true, undefined, (e) => !!e.item);\n                const index = this.list.getFocus()[0];\n                if (index !== 0 && !this.elements[index - 1].item && this.list.firstVisibleIndex > index - 1) {\n                    this.list.reveal(index - 1);\n                }\n                break;\n            }\n            case QuickInputListFocus.Previous: {\n                this.list.focusPrevious(undefined, true, undefined, (e) => !!e.item);\n                const index = this.list.getFocus()[0];\n                if (index !== 0 && !this.elements[index - 1].item && this.list.firstVisibleIndex > index - 1) {\n                    this.list.reveal(index - 1);\n                }\n                break;\n            }\n            case QuickInputListFocus.NextPage:\n                this.list.focusNextPage(undefined, (e) => !!e.item);\n                break;\n            case QuickInputListFocus.PreviousPage:\n                this.list.focusPreviousPage(undefined, (e) => !!e.item);\n                break;\n        }\n        const focused = this.list.getFocus()[0];\n        if (typeof focused === 'number') {\n            this.list.reveal(focused);\n        }\n    }\n    clearFocus() {\n        this.list.setFocus([]);\n    }\n    domFocus() {\n        this.list.domFocus();\n    }\n    /**\n     * Disposes of the hover and shows a new one for the given index if it has a tooltip.\n     * @param element The element to show the hover for\n     */\n    showHover(element) {\n        var _a, _b, _c;\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            (_b = (_a = this.options.hoverDelegate).onDidHideHover) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_c = this._lastHover) === null || _c === void 0 ? void 0 : _c.dispose();\n        }\n        if (!element.element || !element.saneTooltip) {\n            return;\n        }\n        this._lastHover = this.options.hoverDelegate.showHover({\n            content: element.saneTooltip,\n            target: element.element,\n            linkHandler: (url) => {\n                this.options.linkOpenerDelegate(url);\n            },\n            showPointer: true,\n            container: this.container,\n            hoverPosition: 1 /* HoverPosition.RIGHT */\n        }, false);\n    }\n    layout(maxHeight) {\n        this.list.getHTMLElement().style.maxHeight = maxHeight ? `${\n        // Make sure height aligns with list item heights\n        Math.floor(maxHeight / 44) * 44\n            // Add some extra height so that it's clear there's more to scroll\n            + 6}px` : '';\n        this.list.layout();\n    }\n    filter(query) {\n        if (!(this.sortByLabel || this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.list.layout();\n            return false;\n        }\n        const queryWithWhitespace = query;\n        query = query.trim();\n        // Reset filtering\n        if (!query || !(this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {\n            this.elements.forEach(element => {\n                element.labelHighlights = undefined;\n                element.descriptionHighlights = undefined;\n                element.detailHighlights = undefined;\n                element.hidden = false;\n                const previous = element.index && this.inputElements[element.index - 1];\n                if (element.item) {\n                    element.separator = previous && previous.type === 'separator' && !previous.buttons ? previous : undefined;\n                }\n            });\n        }\n        // Filter by value (since we support icons in labels, use $(..) aware fuzzy matching)\n        else {\n            let currentSeparator;\n            this.elements.forEach(element => {\n                let labelHighlights;\n                if (this.matchOnLabelMode === 'fuzzy') {\n                    labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneLabel))) : undefined;\n                }\n                else {\n                    labelHighlights = this.matchOnLabel ? withNullAsUndefined(matchesContiguousIconAware(queryWithWhitespace, parseLabelWithIcons(element.saneLabel))) : undefined;\n                }\n                const descriptionHighlights = this.matchOnDescription ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDescription || ''))) : undefined;\n                const detailHighlights = this.matchOnDetail ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneDetail || ''))) : undefined;\n                const metaHighlights = this.matchOnMeta ? withNullAsUndefined(matchesFuzzyIconAware(query, parseLabelWithIcons(element.saneMeta || ''))) : undefined;\n                if (labelHighlights || descriptionHighlights || detailHighlights || metaHighlights) {\n                    element.labelHighlights = labelHighlights;\n                    element.descriptionHighlights = descriptionHighlights;\n                    element.detailHighlights = detailHighlights;\n                    element.hidden = false;\n                }\n                else {\n                    element.labelHighlights = undefined;\n                    element.descriptionHighlights = undefined;\n                    element.detailHighlights = undefined;\n                    element.hidden = element.item ? !element.item.alwaysShow : true;\n                }\n                // Ensure separators are filtered out first before deciding if we need to bring them back\n                if (element.item) {\n                    element.separator = undefined;\n                }\n                else if (element.separator) {\n                    element.hidden = true;\n                }\n                // we can show the separator unless the list gets sorted by match\n                if (!this.sortByLabel) {\n                    const previous = element.index && this.inputElements[element.index - 1];\n                    currentSeparator = previous && previous.type === 'separator' ? previous : currentSeparator;\n                    if (currentSeparator && !element.hidden) {\n                        element.separator = currentSeparator;\n                        currentSeparator = undefined;\n                    }\n                }\n            });\n        }\n        const shownElements = this.elements.filter(element => !element.hidden);\n        // Sort by value\n        if (this.sortByLabel && query) {\n            const normalizedSearchValue = query.toLowerCase();\n            shownElements.sort((a, b) => {\n                return compareEntries(a, b, normalizedSearchValue);\n            });\n        }\n        this.elementsToIndexes = shownElements.reduce((map, element, index) => {\n            var _a;\n            map.set((_a = element.item) !== null && _a !== void 0 ? _a : element.separator, index);\n            return map;\n        }, new Map());\n        this.list.splice(0, this.list.length, shownElements);\n        this.list.setFocus([]);\n        this.list.layout();\n        this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n        this._onChangedVisibleCount.fire(shownElements.length);\n        return true;\n    }\n    toggleCheckbox() {\n        try {\n            this._fireCheckedEvents = false;\n            const elements = this.list.getFocusedElements();\n            const allChecked = this.allVisibleChecked(elements);\n            for (const element of elements) {\n                element.checked = !allChecked;\n            }\n        }\n        finally {\n            this._fireCheckedEvents = true;\n            this.fireCheckedEvents();\n        }\n    }\n    display(display) {\n        this.container.style.display = display ? '' : 'none';\n    }\n    isDisplayed() {\n        return this.container.style.display !== 'none';\n    }\n    dispose() {\n        this.elementDisposables = dispose(this.elementDisposables);\n        this.disposables = dispose(this.disposables);\n    }\n    fireCheckedEvents() {\n        if (this._fireCheckedEvents) {\n            this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());\n            this._onChangedCheckedCount.fire(this.getCheckedCount());\n            this._onChangedCheckedElements.fire(this.getCheckedElements());\n        }\n    }\n    fireButtonTriggered(event) {\n        this._onButtonTriggered.fire(event);\n    }\n    fireSeparatorButtonTriggered(event) {\n        this._onSeparatorButtonTriggered.fire(event);\n    }\n    style(styles) {\n        this.list.style(styles);\n    }\n    toggleHover() {\n        const element = this.list.getFocusedElements()[0];\n        if (!element.saneTooltip) {\n            return;\n        }\n        // if there's a hover already, hide it (toggle off)\n        if (this._lastHover && !this._lastHover.isDisposed) {\n            this._lastHover.dispose();\n            return;\n        }\n        // If there is no hover, show it (toggle on)\n        const focused = this.list.getFocusedElements()[0];\n        if (!focused) {\n            return;\n        }\n        this.showHover(focused);\n        const store = new DisposableStore();\n        store.add(this.list.onDidChangeFocus(e => {\n            if (e.indexes.length) {\n                this.showHover(e.elements[0]);\n            }\n        }));\n        if (this._lastHover) {\n            store.add(this._lastHover);\n        }\n        this._toggleHover = store;\n        this.elementDisposables.push(this._toggleHover);\n    }\n}\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeFocus\", null);\n__decorate([\n    memoize\n], QuickInputList.prototype, \"onDidChangeSelection\", null);\nfunction matchesContiguousIconAware(query, target) {\n    const { text, iconOffsets } = target;\n    // Return early if there are no icon markers in the word to match against\n    if (!iconOffsets || iconOffsets.length === 0) {\n        return matchesContiguous(query, text);\n    }\n    // Trim the word to match against because it could have leading\n    // whitespace now if the word started with an icon\n    const wordToMatchAgainstWithoutIconsTrimmed = ltrim(text, ' ');\n    const leadingWhitespaceOffset = text.length - wordToMatchAgainstWithoutIconsTrimmed.length;\n    // match on value without icon\n    const matches = matchesContiguous(query, wordToMatchAgainstWithoutIconsTrimmed);\n    // Map matches back to offsets with icon and trimming\n    if (matches) {\n        for (const match of matches) {\n            const iconOffset = iconOffsets[match.start + leadingWhitespaceOffset] /* icon offsets at index */ + leadingWhitespaceOffset /* overall leading whitespace offset */;\n            match.start += iconOffset;\n            match.end += iconOffset;\n        }\n    }\n    return matches;\n}\nfunction matchesContiguous(word, wordToMatchAgainst) {\n    const matchIndex = wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());\n    if (matchIndex !== -1) {\n        return [{ start: matchIndex, end: matchIndex + word.length }];\n    }\n    return null;\n}\nfunction compareEntries(elementA, elementB, lookFor) {\n    const labelHighlightsA = elementA.labelHighlights || [];\n    const labelHighlightsB = elementB.labelHighlights || [];\n    if (labelHighlightsA.length && !labelHighlightsB.length) {\n        return -1;\n    }\n    if (!labelHighlightsA.length && labelHighlightsB.length) {\n        return 1;\n    }\n    if (labelHighlightsA.length === 0 && labelHighlightsB.length === 0) {\n        return 0;\n    }\n    return compareAnything(elementA.saneSortLabel, elementB.saneSortLabel, lookFor);\n}\nclass QuickInputAccessibilityProvider {\n    getWidgetAriaLabel() {\n        return localize('quickInput', \"Quick Input\");\n    }\n    getAriaLabel(element) {\n        var _a;\n        return ((_a = element.separator) === null || _a === void 0 ? void 0 : _a.label)\n            ? `${element.saneAriaLabel}, ${element.separator.label}`\n            : element.saneAriaLabel;\n    }\n    getWidgetRole() {\n        return 'listbox';\n    }\n    getRole(element) {\n        return element.hasCheckbox ? 'checkbox' : 'option';\n    }\n    isChecked(element) {\n        if (!element.hasCheckbox) {\n            return undefined;\n        }\n        return {\n            value: element.checked,\n            onDidChange: element.onChecked\n        };\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as dom from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionBar } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { Button } from '../../../base/browser/ui/button/button.js';\nimport { CountBadge } from '../../../base/browser/ui/countBadge/countBadge.js';\nimport { ProgressBar } from '../../../base/browser/ui/progressbar/progressbar.js';\nimport { Toggle } from '../../../base/browser/ui/toggle/toggle.js';\nimport { Action } from '../../../base/common/actions.js';\nimport { equals } from '../../../base/common/arrays.js';\nimport { TimeoutTimer } from '../../../base/common/async.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { Disposable, DisposableStore, dispose } from '../../../base/common/lifecycle.js';\nimport { isIOS } from '../../../base/common/platform.js';\nimport Severity from '../../../base/common/severity.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport { withNullAsUndefined, withUndefinedAsNull } from '../../../base/common/types.js';\nimport './media/quickInput.css';\nimport { localize } from '../../../nls.js';\nimport { ItemActivation, NO_KEY_MODS, QuickInputHideReason } from '../common/quickInput.js';\nimport { QuickInputBox } from './quickInputBox.js';\nimport { QuickInputList, QuickInputListFocus } from './quickInputList.js';\nimport { getIconClass, renderQuickInputDescription } from './quickInputUtils.js';\nconst $ = dom.$;\nconst backButton = {\n    iconClass: ThemeIcon.asClassName(Codicon.quickInputBack),\n    tooltip: localize('quickInput.back', \"Back\"),\n    handle: -1 // TODO\n};\nclass QuickInput extends Disposable {\n    constructor(ui) {\n        super();\n        this.ui = ui;\n        this._widgetUpdated = false;\n        this.visible = false;\n        this._enabled = true;\n        this._busy = false;\n        this._ignoreFocusOut = false;\n        this._buttons = [];\n        this.buttonsUpdated = false;\n        this._toggles = [];\n        this.togglesUpdated = false;\n        this.noValidationMessage = QuickInput.noPromptMessage;\n        this._severity = Severity.Ignore;\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.onDidHideEmitter = this._register(new Emitter());\n        this.onDisposeEmitter = this._register(new Emitter());\n        this.visibleDisposables = this._register(new DisposableStore());\n        this.onDidHide = this.onDidHideEmitter.event;\n    }\n    get title() {\n        return this._title;\n    }\n    set title(title) {\n        this._title = title;\n        this.update();\n    }\n    get description() {\n        return this._description;\n    }\n    set description(description) {\n        this._description = description;\n        this.update();\n    }\n    get step() {\n        return this._steps;\n    }\n    set step(step) {\n        this._steps = step;\n        this.update();\n    }\n    get totalSteps() {\n        return this._totalSteps;\n    }\n    set totalSteps(totalSteps) {\n        this._totalSteps = totalSteps;\n        this.update();\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(enabled) {\n        this._enabled = enabled;\n        this.update();\n    }\n    get contextKey() {\n        return this._contextKey;\n    }\n    set contextKey(contextKey) {\n        this._contextKey = contextKey;\n        this.update();\n    }\n    get busy() {\n        return this._busy;\n    }\n    set busy(busy) {\n        this._busy = busy;\n        this.update();\n    }\n    get ignoreFocusOut() {\n        return this._ignoreFocusOut;\n    }\n    set ignoreFocusOut(ignoreFocusOut) {\n        const shouldUpdate = this._ignoreFocusOut !== ignoreFocusOut && !isIOS;\n        this._ignoreFocusOut = ignoreFocusOut && !isIOS;\n        if (shouldUpdate) {\n            this.update();\n        }\n    }\n    get buttons() {\n        return this._buttons;\n    }\n    set buttons(buttons) {\n        this._buttons = buttons;\n        this.buttonsUpdated = true;\n        this.update();\n    }\n    get toggles() {\n        return this._toggles;\n    }\n    set toggles(toggles) {\n        this._toggles = toggles !== null && toggles !== void 0 ? toggles : [];\n        this.togglesUpdated = true;\n        this.update();\n    }\n    get validationMessage() {\n        return this._validationMessage;\n    }\n    set validationMessage(validationMessage) {\n        this._validationMessage = validationMessage;\n        this.update();\n    }\n    get severity() {\n        return this._severity;\n    }\n    set severity(severity) {\n        this._severity = severity;\n        this.update();\n    }\n    show() {\n        if (this.visible) {\n            return;\n        }\n        this.visibleDisposables.add(this.ui.onDidTriggerButton(button => {\n            if (this.buttons.indexOf(button) !== -1) {\n                this.onDidTriggerButtonEmitter.fire(button);\n            }\n        }));\n        this.ui.show(this);\n        // update properties in the controller that get reset in the ui.show() call\n        this.visible = true;\n        // This ensures the message/prompt gets rendered\n        this._lastValidationMessage = undefined;\n        // This ensures the input box has the right severity applied\n        this._lastSeverity = undefined;\n        if (this.buttons.length) {\n            // if there are buttons, the ui.show() clears them out of the UI so we should\n            // rerender them.\n            this.buttonsUpdated = true;\n        }\n        if (this.toggles.length) {\n            // if there are toggles, the ui.show() clears them out of the UI so we should\n            // rerender them.\n            this.togglesUpdated = true;\n        }\n        this.update();\n    }\n    hide() {\n        if (!this.visible) {\n            return;\n        }\n        this.ui.hide();\n    }\n    didHide(reason = QuickInputHideReason.Other) {\n        this.visible = false;\n        this.visibleDisposables.clear();\n        this.onDidHideEmitter.fire({ reason });\n    }\n    update() {\n        var _a, _b;\n        if (!this.visible) {\n            return;\n        }\n        const title = this.getTitle();\n        if (title && this.ui.title.textContent !== title) {\n            this.ui.title.textContent = title;\n        }\n        else if (!title && this.ui.title.innerHTML !== '&nbsp;') {\n            this.ui.title.innerText = '\\u00a0';\n        }\n        const description = this.getDescription();\n        if (this.ui.description1.textContent !== description) {\n            this.ui.description1.textContent = description;\n        }\n        if (this.ui.description2.textContent !== description) {\n            this.ui.description2.textContent = description;\n        }\n        if (this._widgetUpdated) {\n            this._widgetUpdated = false;\n            if (this._widget) {\n                dom.reset(this.ui.widget, this._widget);\n            }\n            else {\n                dom.reset(this.ui.widget);\n            }\n        }\n        if (this.busy && !this.busyDelay) {\n            this.busyDelay = new TimeoutTimer();\n            this.busyDelay.setIfNotSet(() => {\n                if (this.visible) {\n                    this.ui.progressBar.infinite();\n                }\n            }, 800);\n        }\n        if (!this.busy && this.busyDelay) {\n            this.ui.progressBar.stop();\n            this.busyDelay.cancel();\n            this.busyDelay = undefined;\n        }\n        if (this.buttonsUpdated) {\n            this.buttonsUpdated = false;\n            this.ui.leftActionBar.clear();\n            const leftButtons = this.buttons.filter(button => button === backButton);\n            this.ui.leftActionBar.push(leftButtons.map((button, index) => {\n                const action = new Action(`id-${index}`, '', button.iconClass || getIconClass(button.iconPath), true, () => __awaiter(this, void 0, void 0, function* () {\n                    this.onDidTriggerButtonEmitter.fire(button);\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n            this.ui.rightActionBar.clear();\n            const rightButtons = this.buttons.filter(button => button !== backButton);\n            this.ui.rightActionBar.push(rightButtons.map((button, index) => {\n                const action = new Action(`id-${index}`, '', button.iconClass || getIconClass(button.iconPath), true, () => __awaiter(this, void 0, void 0, function* () {\n                    this.onDidTriggerButtonEmitter.fire(button);\n                }));\n                action.tooltip = button.tooltip || '';\n                return action;\n            }), { icon: true, label: false });\n        }\n        if (this.togglesUpdated) {\n            this.togglesUpdated = false;\n            // HACK: Filter out toggles here that are not concrete Toggle objects. This is to workaround\n            // a layering issue as quick input's interface is in common but Toggle is in browser and\n            // it requires a HTMLElement on its interface\n            const concreteToggles = (_b = (_a = this.toggles) === null || _a === void 0 ? void 0 : _a.filter(opts => opts instanceof Toggle)) !== null && _b !== void 0 ? _b : [];\n            this.ui.inputBox.toggles = concreteToggles;\n        }\n        this.ui.ignoreFocusOut = this.ignoreFocusOut;\n        this.ui.setEnabled(this.enabled);\n        this.ui.setContextKey(this.contextKey);\n        const validationMessage = this.validationMessage || this.noValidationMessage;\n        if (this._lastValidationMessage !== validationMessage) {\n            this._lastValidationMessage = validationMessage;\n            dom.reset(this.ui.message);\n            renderQuickInputDescription(validationMessage, this.ui.message, {\n                callback: (content) => {\n                    this.ui.linkOpenerDelegate(content);\n                },\n                disposables: this.visibleDisposables,\n            });\n        }\n        if (this._lastSeverity !== this.severity) {\n            this._lastSeverity = this.severity;\n            this.showMessageDecoration(this.severity);\n        }\n    }\n    getTitle() {\n        if (this.title && this.step) {\n            return `${this.title} (${this.getSteps()})`;\n        }\n        if (this.title) {\n            return this.title;\n        }\n        if (this.step) {\n            return this.getSteps();\n        }\n        return '';\n    }\n    getDescription() {\n        return this.description || '';\n    }\n    getSteps() {\n        if (this.step && this.totalSteps) {\n            return localize('quickInput.steps', \"{0}/{1}\", this.step, this.totalSteps);\n        }\n        if (this.step) {\n            return String(this.step);\n        }\n        return '';\n    }\n    showMessageDecoration(severity) {\n        this.ui.inputBox.showDecoration(severity);\n        if (severity !== Severity.Ignore) {\n            const styles = this.ui.inputBox.stylesForType(severity);\n            this.ui.message.style.color = styles.foreground ? `${styles.foreground}` : '';\n            this.ui.message.style.backgroundColor = styles.background ? `${styles.background}` : '';\n            this.ui.message.style.border = styles.border ? `1px solid ${styles.border}` : '';\n            this.ui.message.style.marginBottom = '-2px';\n        }\n        else {\n            this.ui.message.style.color = '';\n            this.ui.message.style.backgroundColor = '';\n            this.ui.message.style.border = '';\n            this.ui.message.style.marginBottom = '';\n        }\n    }\n    dispose() {\n        this.hide();\n        this.onDisposeEmitter.fire();\n        super.dispose();\n    }\n}\nQuickInput.noPromptMessage = localize('inputModeEntry', \"Press 'Enter' to confirm your input or 'Escape' to cancel\");\nclass QuickPick extends QuickInput {\n    constructor() {\n        super(...arguments);\n        this._value = '';\n        this.onDidChangeValueEmitter = this._register(new Emitter());\n        this.onWillAcceptEmitter = this._register(new Emitter());\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this._items = [];\n        this.itemsUpdated = false;\n        this._canSelectMany = false;\n        this._canAcceptInBackground = false;\n        this._matchOnDescription = false;\n        this._matchOnDetail = false;\n        this._matchOnLabel = true;\n        this._matchOnLabelMode = 'fuzzy';\n        this._sortByLabel = true;\n        this._autoFocusOnList = true;\n        this._keepScrollPosition = false;\n        this._itemActivation = ItemActivation.FIRST;\n        this._activeItems = [];\n        this.activeItemsUpdated = false;\n        this.activeItemsToConfirm = [];\n        this.onDidChangeActiveEmitter = this._register(new Emitter());\n        this._selectedItems = [];\n        this.selectedItemsUpdated = false;\n        this.selectedItemsToConfirm = [];\n        this.onDidChangeSelectionEmitter = this._register(new Emitter());\n        this.onDidTriggerItemButtonEmitter = this._register(new Emitter());\n        this.onDidTriggerSeparatorButtonEmitter = this._register(new Emitter());\n        this.valueSelectionUpdated = true;\n        this._ok = 'default';\n        this._customButton = false;\n        this.filterValue = (value) => value;\n        this.onDidChangeValue = this.onDidChangeValueEmitter.event;\n        this.onWillAccept = this.onWillAcceptEmitter.event;\n        this.onDidAccept = this.onDidAcceptEmitter.event;\n        this.onDidChangeActive = this.onDidChangeActiveEmitter.event;\n        this.onDidChangeSelection = this.onDidChangeSelectionEmitter.event;\n        this.onDidTriggerItemButton = this.onDidTriggerItemButtonEmitter.event;\n        this.onDidTriggerSeparatorButton = this.onDidTriggerSeparatorButtonEmitter.event;\n    }\n    get quickNavigate() {\n        return this._quickNavigate;\n    }\n    set quickNavigate(quickNavigate) {\n        this._quickNavigate = quickNavigate;\n        this.update();\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this.doSetValue(value);\n    }\n    doSetValue(value, skipUpdate) {\n        if (this._value !== value) {\n            this._value = value;\n            if (!skipUpdate) {\n                this.update();\n            }\n            if (this.visible) {\n                const didFilter = this.ui.list.filter(this.filterValue(this._value));\n                if (didFilter) {\n                    this.trySelectFirst();\n                }\n            }\n            this.onDidChangeValueEmitter.fire(this._value);\n        }\n    }\n    set ariaLabel(ariaLabel) {\n        this._ariaLabel = ariaLabel;\n        this.update();\n    }\n    get ariaLabel() {\n        return this._ariaLabel;\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set placeholder(placeholder) {\n        this._placeholder = placeholder;\n        this.update();\n    }\n    get items() {\n        return this._items;\n    }\n    get scrollTop() {\n        return this.ui.list.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this.ui.list.scrollTop = scrollTop;\n    }\n    set items(items) {\n        this._items = items;\n        this.itemsUpdated = true;\n        this.update();\n    }\n    get canSelectMany() {\n        return this._canSelectMany;\n    }\n    set canSelectMany(canSelectMany) {\n        this._canSelectMany = canSelectMany;\n        this.update();\n    }\n    get canAcceptInBackground() {\n        return this._canAcceptInBackground;\n    }\n    set canAcceptInBackground(canAcceptInBackground) {\n        this._canAcceptInBackground = canAcceptInBackground;\n    }\n    get matchOnDescription() {\n        return this._matchOnDescription;\n    }\n    set matchOnDescription(matchOnDescription) {\n        this._matchOnDescription = matchOnDescription;\n        this.update();\n    }\n    get matchOnDetail() {\n        return this._matchOnDetail;\n    }\n    set matchOnDetail(matchOnDetail) {\n        this._matchOnDetail = matchOnDetail;\n        this.update();\n    }\n    get matchOnLabel() {\n        return this._matchOnLabel;\n    }\n    set matchOnLabel(matchOnLabel) {\n        this._matchOnLabel = matchOnLabel;\n        this.update();\n    }\n    get matchOnLabelMode() {\n        return this._matchOnLabelMode;\n    }\n    set matchOnLabelMode(matchOnLabelMode) {\n        this._matchOnLabelMode = matchOnLabelMode;\n        this.update();\n    }\n    get sortByLabel() {\n        return this._sortByLabel;\n    }\n    set sortByLabel(sortByLabel) {\n        this._sortByLabel = sortByLabel;\n        this.update();\n    }\n    get autoFocusOnList() {\n        return this._autoFocusOnList;\n    }\n    set autoFocusOnList(autoFocusOnList) {\n        this._autoFocusOnList = autoFocusOnList;\n        this.update();\n    }\n    get keepScrollPosition() {\n        return this._keepScrollPosition;\n    }\n    set keepScrollPosition(keepScrollPosition) {\n        this._keepScrollPosition = keepScrollPosition;\n    }\n    get itemActivation() {\n        return this._itemActivation;\n    }\n    set itemActivation(itemActivation) {\n        this._itemActivation = itemActivation;\n    }\n    get activeItems() {\n        return this._activeItems;\n    }\n    set activeItems(activeItems) {\n        this._activeItems = activeItems;\n        this.activeItemsUpdated = true;\n        this.update();\n    }\n    get selectedItems() {\n        return this._selectedItems;\n    }\n    set selectedItems(selectedItems) {\n        this._selectedItems = selectedItems;\n        this.selectedItemsUpdated = true;\n        this.update();\n    }\n    get keyMods() {\n        if (this._quickNavigate) {\n            // Disable keyMods when quick navigate is enabled\n            // because in this model the interaction is purely\n            // keyboard driven and Ctrl/Alt are typically\n            // pressed and hold during this interaction.\n            return NO_KEY_MODS;\n        }\n        return this.ui.keyMods;\n    }\n    set valueSelection(valueSelection) {\n        this._valueSelection = valueSelection;\n        this.valueSelectionUpdated = true;\n        this.update();\n    }\n    get customButton() {\n        return this._customButton;\n    }\n    set customButton(showCustomButton) {\n        this._customButton = showCustomButton;\n        this.update();\n    }\n    get customLabel() {\n        return this._customButtonLabel;\n    }\n    set customLabel(label) {\n        this._customButtonLabel = label;\n        this.update();\n    }\n    get customHover() {\n        return this._customButtonHover;\n    }\n    set customHover(hover) {\n        this._customButtonHover = hover;\n        this.update();\n    }\n    get ok() {\n        return this._ok;\n    }\n    set ok(showOkButton) {\n        this._ok = showOkButton;\n        this.update();\n    }\n    get hideInput() {\n        return !!this._hideInput;\n    }\n    set hideInput(hideInput) {\n        this._hideInput = hideInput;\n        this.update();\n    }\n    trySelectFirst() {\n        if (this.autoFocusOnList) {\n            if (!this.canSelectMany) {\n                this.ui.list.focus(QuickInputListFocus.First);\n            }\n        }\n    }\n    show() {\n        if (!this.visible) {\n            this.visibleDisposables.add(this.ui.inputBox.onDidChange(value => {\n                this.doSetValue(value, true /* skip update since this originates from the UI */);\n            }));\n            this.visibleDisposables.add(this.ui.inputBox.onMouseDown(event => {\n                if (!this.autoFocusOnList) {\n                    this.ui.list.clearFocus();\n                }\n            }));\n            this.visibleDisposables.add((this._hideInput ? this.ui.list : this.ui.inputBox).onKeyDown((event) => {\n                switch (event.keyCode) {\n                    case 18 /* KeyCode.DownArrow */:\n                        this.ui.list.focus(QuickInputListFocus.Next);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 16 /* KeyCode.UpArrow */:\n                        if (this.ui.list.getFocusedElements().length) {\n                            this.ui.list.focus(QuickInputListFocus.Previous);\n                        }\n                        else {\n                            this.ui.list.focus(QuickInputListFocus.Last);\n                        }\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 12 /* KeyCode.PageDown */:\n                        this.ui.list.focus(QuickInputListFocus.NextPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 11 /* KeyCode.PageUp */:\n                        this.ui.list.focus(QuickInputListFocus.PreviousPage);\n                        if (this.canSelectMany) {\n                            this.ui.list.domFocus();\n                        }\n                        dom.EventHelper.stop(event, true);\n                        break;\n                    case 17 /* KeyCode.RightArrow */:\n                        if (!this._canAcceptInBackground) {\n                            return; // needs to be enabled\n                        }\n                        if (!this.ui.inputBox.isSelectionAtEnd()) {\n                            return; // ensure input box selection at end\n                        }\n                        if (this.activeItems[0]) {\n                            this._selectedItems = [this.activeItems[0]];\n                            this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                            this.handleAccept(true);\n                        }\n                        break;\n                    case 14 /* KeyCode.Home */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.First);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                    case 13 /* KeyCode.End */:\n                        if ((event.ctrlKey || event.metaKey) && !event.shiftKey && !event.altKey) {\n                            this.ui.list.focus(QuickInputListFocus.Last);\n                            dom.EventHelper.stop(event, true);\n                        }\n                        break;\n                }\n            }));\n            this.visibleDisposables.add(this.ui.onDidAccept(() => {\n                if (this.canSelectMany) {\n                    // if there are no checked elements, it means that an onDidChangeSelection never fired to overwrite\n                    // `_selectedItems`. In that case, we should emit one with an empty array to ensure that\n                    // `.selectedItems` is up to date.\n                    if (!this.ui.list.getCheckedElements().length) {\n                        this._selectedItems = [];\n                        this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    }\n                }\n                else if (this.activeItems[0]) {\n                    // For single-select, we set `selectedItems` to the item that was accepted.\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                }\n                this.handleAccept(false);\n            }));\n            this.visibleDisposables.add(this.ui.onDidCustom(() => {\n                this.onDidCustomEmitter.fire();\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeFocus(focusedItems => {\n                if (this.activeItemsUpdated) {\n                    return; // Expect another event.\n                }\n                if (this.activeItemsToConfirm !== this._activeItems && equals(focusedItems, this._activeItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._activeItems = focusedItems;\n                this.onDidChangeActiveEmitter.fire(focusedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({ items: selectedItems, event }) => {\n                if (this.canSelectMany) {\n                    if (selectedItems.length) {\n                        this.ui.list.setSelectedElements([]);\n                    }\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(selectedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = selectedItems;\n                this.onDidChangeSelectionEmitter.fire(selectedItems);\n                if (selectedItems.length) {\n                    this.handleAccept(event instanceof MouseEvent && event.button === 1 /* mouse middle click */);\n                }\n            }));\n            this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(checkedItems => {\n                if (!this.canSelectMany) {\n                    return;\n                }\n                if (this.selectedItemsToConfirm !== this._selectedItems && equals(checkedItems, this._selectedItems, (a, b) => a === b)) {\n                    return;\n                }\n                this._selectedItems = checkedItems;\n                this.onDidChangeSelectionEmitter.fire(checkedItems);\n            }));\n            this.visibleDisposables.add(this.ui.list.onButtonTriggered(event => this.onDidTriggerItemButtonEmitter.fire(event)));\n            this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(event => this.onDidTriggerSeparatorButtonEmitter.fire(event)));\n            this.visibleDisposables.add(this.registerQuickNavigation());\n            this.valueSelectionUpdated = true;\n        }\n        super.show(); // TODO: Why have show() bubble up while update() trickles down?\n    }\n    handleAccept(inBackground) {\n        // Figure out veto via `onWillAccept` event\n        let veto = false;\n        this.onWillAcceptEmitter.fire({ veto: () => veto = true });\n        // Continue with `onDidAccept` if no veto\n        if (!veto) {\n            this.onDidAcceptEmitter.fire({ inBackground });\n        }\n    }\n    registerQuickNavigation() {\n        return dom.addDisposableListener(this.ui.container, dom.EventType.KEY_UP, e => {\n            if (this.canSelectMany || !this._quickNavigate) {\n                return;\n            }\n            const keyboardEvent = new StandardKeyboardEvent(e);\n            const keyCode = keyboardEvent.keyCode;\n            // Select element when keys are pressed that signal it\n            const quickNavKeys = this._quickNavigate.keybindings;\n            const wasTriggerKeyPressed = quickNavKeys.some(k => {\n                const chords = k.getChords();\n                if (chords.length > 1) {\n                    return false;\n                }\n                if (chords[0].shiftKey && keyCode === 4 /* KeyCode.Shift */) {\n                    if (keyboardEvent.ctrlKey || keyboardEvent.altKey || keyboardEvent.metaKey) {\n                        return false; // this is an optimistic check for the shift key being used to navigate back in quick input\n                    }\n                    return true;\n                }\n                if (chords[0].altKey && keyCode === 6 /* KeyCode.Alt */) {\n                    return true;\n                }\n                if (chords[0].ctrlKey && keyCode === 5 /* KeyCode.Ctrl */) {\n                    return true;\n                }\n                if (chords[0].metaKey && keyCode === 57 /* KeyCode.Meta */) {\n                    return true;\n                }\n                return false;\n            });\n            if (wasTriggerKeyPressed) {\n                if (this.activeItems[0]) {\n                    this._selectedItems = [this.activeItems[0]];\n                    this.onDidChangeSelectionEmitter.fire(this.selectedItems);\n                    this.handleAccept(false);\n                }\n                // Unset quick navigate after press. It is only valid once\n                // and should not result in any behaviour change afterwards\n                // if the picker remains open because there was no active item\n                this._quickNavigate = undefined;\n            }\n        });\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        // store the scrollTop before it is reset\n        const scrollTopBefore = this.keepScrollPosition ? this.scrollTop : 0;\n        const hasDescription = !!this.description;\n        const visibilities = {\n            title: !!this.title || !!this.step || !!this.buttons.length,\n            description: hasDescription,\n            checkAll: this.canSelectMany && !this._hideCheckAll,\n            checkBox: this.canSelectMany,\n            inputBox: !this._hideInput,\n            progressBar: !this._hideInput || hasDescription,\n            visibleCount: true,\n            count: this.canSelectMany,\n            ok: this.ok === 'default' ? this.canSelectMany : this.ok,\n            list: true,\n            message: !!this.validationMessage,\n            customButton: this.customButton\n        };\n        this.ui.setVisibilities(visibilities);\n        super.update();\n        if (this.ui.inputBox.value !== this.value) {\n            this.ui.inputBox.value = this.value;\n        }\n        if (this.valueSelectionUpdated) {\n            this.valueSelectionUpdated = false;\n            this.ui.inputBox.select(this._valueSelection && { start: this._valueSelection[0], end: this._valueSelection[1] });\n        }\n        if (this.ui.inputBox.placeholder !== (this.placeholder || '')) {\n            this.ui.inputBox.placeholder = (this.placeholder || '');\n        }\n        let ariaLabel = this.ariaLabel;\n        // Only set aria label to the input box placeholder if we actually have an input box.\n        if (!ariaLabel && visibilities.inputBox) {\n            ariaLabel = this.placeholder || QuickPick.DEFAULT_ARIA_LABEL;\n            // If we have a title, include it in the aria label.\n            if (this.title) {\n                ariaLabel += ` - ${this.title}`;\n            }\n        }\n        if (this.ui.list.ariaLabel !== ariaLabel) {\n            this.ui.list.ariaLabel = withUndefinedAsNull(ariaLabel);\n        }\n        this.ui.list.matchOnDescription = this.matchOnDescription;\n        this.ui.list.matchOnDetail = this.matchOnDetail;\n        this.ui.list.matchOnLabel = this.matchOnLabel;\n        this.ui.list.matchOnLabelMode = this.matchOnLabelMode;\n        this.ui.list.sortByLabel = this.sortByLabel;\n        if (this.itemsUpdated) {\n            this.itemsUpdated = false;\n            this.ui.list.setElements(this.items);\n            this.ui.list.filter(this.filterValue(this.ui.inputBox.value));\n            this.ui.checkAll.checked = this.ui.list.getAllVisibleChecked();\n            this.ui.visibleCount.setCount(this.ui.list.getVisibleCount());\n            this.ui.count.setCount(this.ui.list.getCheckedCount());\n            switch (this._itemActivation) {\n                case ItemActivation.NONE:\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.SECOND:\n                    this.ui.list.focus(QuickInputListFocus.Second);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                case ItemActivation.LAST:\n                    this.ui.list.focus(QuickInputListFocus.Last);\n                    this._itemActivation = ItemActivation.FIRST; // only valid once, then unset\n                    break;\n                default:\n                    this.trySelectFirst();\n                    break;\n            }\n        }\n        if (this.ui.container.classList.contains('show-checkboxes') !== !!this.canSelectMany) {\n            if (this.canSelectMany) {\n                this.ui.list.clearFocus();\n            }\n            else {\n                this.trySelectFirst();\n            }\n        }\n        if (this.activeItemsUpdated) {\n            this.activeItemsUpdated = false;\n            this.activeItemsToConfirm = this._activeItems;\n            this.ui.list.setFocusedElements(this.activeItems);\n            if (this.activeItemsToConfirm === this._activeItems) {\n                this.activeItemsToConfirm = null;\n            }\n        }\n        if (this.selectedItemsUpdated) {\n            this.selectedItemsUpdated = false;\n            this.selectedItemsToConfirm = this._selectedItems;\n            if (this.canSelectMany) {\n                this.ui.list.setCheckedElements(this.selectedItems);\n            }\n            else {\n                this.ui.list.setSelectedElements(this.selectedItems);\n            }\n            if (this.selectedItemsToConfirm === this._selectedItems) {\n                this.selectedItemsToConfirm = null;\n            }\n        }\n        this.ui.customButton.label = this.customLabel || '';\n        this.ui.customButton.element.title = this.customHover || '';\n        if (!visibilities.inputBox) {\n            // we need to move focus into the tree to detect keybindings\n            // properly when the input box is not visible (quick nav)\n            this.ui.list.domFocus();\n            // Focus the first element in the list if multiselect is enabled\n            if (this.canSelectMany) {\n                this.ui.list.focus(QuickInputListFocus.First);\n            }\n        }\n        // Set the scroll position to what it was before updating the items\n        if (this.keepScrollPosition) {\n            this.scrollTop = scrollTopBefore;\n        }\n    }\n}\nQuickPick.DEFAULT_ARIA_LABEL = localize('quickInputBox.ariaLabel', \"Type to narrow down results.\");\nclass InputBox extends QuickInput {\n    constructor() {\n        super(...arguments);\n        this._value = '';\n        this.valueSelectionUpdated = true;\n        this._password = false;\n        this.onDidValueChangeEmitter = this._register(new Emitter());\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidChangeValue = this.onDidValueChangeEmitter.event;\n        this.onDidAccept = this.onDidAcceptEmitter.event;\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this._value = value || '';\n        this.update();\n    }\n    get placeholder() {\n        return this._placeholder;\n    }\n    set placeholder(placeholder) {\n        this._placeholder = placeholder;\n        this.update();\n    }\n    get password() {\n        return this._password;\n    }\n    set password(password) {\n        this._password = password;\n        this.update();\n    }\n    show() {\n        if (!this.visible) {\n            this.visibleDisposables.add(this.ui.inputBox.onDidChange(value => {\n                if (value === this.value) {\n                    return;\n                }\n                this._value = value;\n                this.onDidValueChangeEmitter.fire(value);\n            }));\n            this.visibleDisposables.add(this.ui.onDidAccept(() => this.onDidAcceptEmitter.fire()));\n            this.valueSelectionUpdated = true;\n        }\n        super.show();\n    }\n    update() {\n        if (!this.visible) {\n            return;\n        }\n        this.ui.container.classList.remove('hidden-input');\n        const visibilities = {\n            title: !!this.title || !!this.step || !!this.buttons.length,\n            description: !!this.description || !!this.step,\n            inputBox: true, message: true\n        };\n        this.ui.setVisibilities(visibilities);\n        super.update();\n        if (this.ui.inputBox.value !== this.value) {\n            this.ui.inputBox.value = this.value;\n        }\n        if (this.valueSelectionUpdated) {\n            this.valueSelectionUpdated = false;\n            this.ui.inputBox.select(this._valueSelection && { start: this._valueSelection[0], end: this._valueSelection[1] });\n        }\n        if (this.ui.inputBox.placeholder !== (this.placeholder || '')) {\n            this.ui.inputBox.placeholder = (this.placeholder || '');\n        }\n        if (this.ui.inputBox.password !== this.password) {\n            this.ui.inputBox.password = this.password;\n        }\n    }\n}\nexport class QuickInputController extends Disposable {\n    constructor(options) {\n        super();\n        this.options = options;\n        this.enabled = true;\n        this.onDidAcceptEmitter = this._register(new Emitter());\n        this.onDidCustomEmitter = this._register(new Emitter());\n        this.onDidTriggerButtonEmitter = this._register(new Emitter());\n        this.keyMods = { ctrlCmd: false, alt: false };\n        this.controller = null;\n        this.onShowEmitter = this._register(new Emitter());\n        this.onShow = this.onShowEmitter.event;\n        this.onHideEmitter = this._register(new Emitter());\n        this.onHide = this.onHideEmitter.event;\n        this.idPrefix = options.idPrefix;\n        this.parentElement = options.container;\n        this.styles = options.styles;\n        this.registerKeyModsListeners();\n    }\n    registerKeyModsListeners() {\n        const listener = (e) => {\n            this.keyMods.ctrlCmd = e.ctrlKey || e.metaKey;\n            this.keyMods.alt = e.altKey;\n        };\n        this._register(dom.addDisposableListener(window, dom.EventType.KEY_DOWN, listener, true));\n        this._register(dom.addDisposableListener(window, dom.EventType.KEY_UP, listener, true));\n        this._register(dom.addDisposableListener(window, dom.EventType.MOUSE_DOWN, listener, true));\n    }\n    getUI() {\n        if (this.ui) {\n            return this.ui;\n        }\n        const container = dom.append(this.parentElement, $('.quick-input-widget.show-file-icons'));\n        container.tabIndex = -1;\n        container.style.display = 'none';\n        const styleSheet = dom.createStyleSheet(container);\n        const titleBar = dom.append(container, $('.quick-input-titlebar'));\n        const leftActionBar = this._register(new ActionBar(titleBar));\n        leftActionBar.domNode.classList.add('quick-input-left-action-bar');\n        const title = dom.append(titleBar, $('.quick-input-title'));\n        const rightActionBar = this._register(new ActionBar(titleBar));\n        rightActionBar.domNode.classList.add('quick-input-right-action-bar');\n        const description1 = dom.append(container, $('.quick-input-description'));\n        const headerContainer = dom.append(container, $('.quick-input-header'));\n        const checkAll = dom.append(headerContainer, $('input.quick-input-check-all'));\n        checkAll.type = 'checkbox';\n        checkAll.setAttribute('aria-label', localize('quickInput.checkAll', \"Toggle all checkboxes\"));\n        this._register(dom.addStandardDisposableListener(checkAll, dom.EventType.CHANGE, e => {\n            const checked = checkAll.checked;\n            list.setAllVisibleChecked(checked);\n        }));\n        this._register(dom.addDisposableListener(checkAll, dom.EventType.CLICK, e => {\n            if (e.x || e.y) { // Avoid 'click' triggered by 'space'...\n                inputBox.setFocus();\n            }\n        }));\n        const description2 = dom.append(headerContainer, $('.quick-input-description'));\n        const extraContainer = dom.append(headerContainer, $('.quick-input-and-message'));\n        const filterContainer = dom.append(extraContainer, $('.quick-input-filter'));\n        const inputBox = this._register(new QuickInputBox(filterContainer, this.styles.inputBox, this.styles.toggle));\n        inputBox.setAttribute('aria-describedby', `${this.idPrefix}message`);\n        const visibleCountContainer = dom.append(filterContainer, $('.quick-input-visible-count'));\n        visibleCountContainer.setAttribute('aria-live', 'polite');\n        visibleCountContainer.setAttribute('aria-atomic', 'true');\n        const visibleCount = new CountBadge(visibleCountContainer, { countFormat: localize({ key: 'quickInput.visibleCount', comment: ['This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers.'] }, \"{0} Results\") }, this.styles.countBadge);\n        const countContainer = dom.append(filterContainer, $('.quick-input-count'));\n        countContainer.setAttribute('aria-live', 'polite');\n        const count = new CountBadge(countContainer, { countFormat: localize({ key: 'quickInput.countSelected', comment: ['This tells the user how many items are selected in a list of items to select from. The items can be anything.'] }, \"{0} Selected\") }, this.styles.countBadge);\n        const okContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const ok = new Button(okContainer, this.styles.button);\n        ok.label = localize('ok', \"OK\");\n        this._register(ok.onDidClick(e => {\n            this.onDidAcceptEmitter.fire();\n        }));\n        const customButtonContainer = dom.append(headerContainer, $('.quick-input-action'));\n        const customButton = new Button(customButtonContainer, this.styles.button);\n        customButton.label = localize('custom', \"Custom\");\n        this._register(customButton.onDidClick(e => {\n            this.onDidCustomEmitter.fire();\n        }));\n        const message = dom.append(extraContainer, $(`#${this.idPrefix}message.quick-input-message`));\n        const progressBar = new ProgressBar(container, this.styles.progressBar);\n        progressBar.getContainer().classList.add('quick-input-progress');\n        const widget = dom.append(container, $('.quick-input-html-widget'));\n        widget.tabIndex = -1;\n        const listId = this.idPrefix + 'list';\n        const list = this._register(new QuickInputList(container, listId, this.options));\n        inputBox.setAttribute('aria-controls', listId);\n        this._register(list.onDidChangeFocus(() => {\n            var _a;\n            inputBox.setAttribute('aria-activedescendant', (_a = list.getActiveDescendant()) !== null && _a !== void 0 ? _a : '');\n        }));\n        this._register(list.onChangedAllVisibleChecked(checked => {\n            checkAll.checked = checked;\n        }));\n        this._register(list.onChangedVisibleCount(c => {\n            visibleCount.setCount(c);\n        }));\n        this._register(list.onChangedCheckedCount(c => {\n            count.setCount(c);\n        }));\n        this._register(list.onLeave(() => {\n            // Defer to avoid the input field reacting to the triggering key.\n            setTimeout(() => {\n                inputBox.setFocus();\n                if (this.controller instanceof QuickPick && this.controller.canSelectMany) {\n                    list.clearFocus();\n                }\n            }, 0);\n        }));\n        const focusTracker = dom.trackFocus(container);\n        this._register(focusTracker);\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, e => {\n            this.previousFocusElement = e.relatedTarget instanceof HTMLElement ? e.relatedTarget : undefined;\n        }, true));\n        this._register(focusTracker.onDidBlur(() => {\n            if (!this.getUI().ignoreFocusOut && !this.options.ignoreFocusOut()) {\n                this.hide(QuickInputHideReason.Blur);\n            }\n            this.previousFocusElement = undefined;\n        }));\n        this._register(dom.addDisposableListener(container, dom.EventType.FOCUS, (e) => {\n            inputBox.setFocus();\n        }));\n        this._register(dom.addDisposableListener(container, dom.EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            switch (event.keyCode) {\n                case 3 /* KeyCode.Enter */:\n                    dom.EventHelper.stop(e, true);\n                    if (this.enabled) {\n                        this.onDidAcceptEmitter.fire();\n                    }\n                    break;\n                case 9 /* KeyCode.Escape */:\n                    dom.EventHelper.stop(e, true);\n                    this.hide(QuickInputHideReason.Gesture);\n                    break;\n                case 2 /* KeyCode.Tab */:\n                    if (!event.altKey && !event.ctrlKey && !event.metaKey) {\n                        // detect only visible actions\n                        const selectors = [\n                            '.quick-input-list .monaco-action-bar .always-visible',\n                            '.quick-input-list-entry:hover .monaco-action-bar',\n                            '.monaco-list-row.focused .monaco-action-bar'\n                        ];\n                        if (container.classList.contains('show-checkboxes')) {\n                            selectors.push('input');\n                        }\n                        else {\n                            selectors.push('input[type=text]');\n                        }\n                        if (this.getUI().list.isDisplayed()) {\n                            selectors.push('.monaco-list');\n                        }\n                        // focus links if there are any\n                        if (this.getUI().message) {\n                            selectors.push('.quick-input-message a');\n                        }\n                        if (this.getUI().widget) {\n                            if (dom.isAncestor(event.target, this.getUI().widget)) {\n                                // let the widget control tab\n                                break;\n                            }\n                            selectors.push('.quick-input-html-widget');\n                        }\n                        const stops = container.querySelectorAll(selectors.join(', '));\n                        if (event.shiftKey && event.target === stops[0]) {\n                            // Clear the focus from the list in order to allow\n                            // screen readers to read operations in the input box.\n                            dom.EventHelper.stop(e, true);\n                            list.clearFocus();\n                        }\n                        else if (!event.shiftKey && dom.isAncestor(event.target, stops[stops.length - 1])) {\n                            dom.EventHelper.stop(e, true);\n                            stops[0].focus();\n                        }\n                    }\n                    break;\n                case 10 /* KeyCode.Space */:\n                    if (event.ctrlKey) {\n                        dom.EventHelper.stop(e, true);\n                        this.getUI().list.toggleHover();\n                    }\n                    break;\n            }\n        }));\n        this.ui = {\n            container,\n            styleSheet,\n            leftActionBar,\n            titleBar,\n            title,\n            description1,\n            description2,\n            widget,\n            rightActionBar,\n            checkAll,\n            filterContainer,\n            inputBox,\n            visibleCountContainer,\n            visibleCount,\n            countContainer,\n            count,\n            okContainer,\n            ok,\n            message,\n            customButtonContainer,\n            customButton,\n            list,\n            progressBar,\n            onDidAccept: this.onDidAcceptEmitter.event,\n            onDidCustom: this.onDidCustomEmitter.event,\n            onDidTriggerButton: this.onDidTriggerButtonEmitter.event,\n            ignoreFocusOut: false,\n            keyMods: this.keyMods,\n            show: controller => this.show(controller),\n            hide: () => this.hide(),\n            setVisibilities: visibilities => this.setVisibilities(visibilities),\n            setEnabled: enabled => this.setEnabled(enabled),\n            setContextKey: contextKey => this.options.setContextKey(contextKey),\n            linkOpenerDelegate: content => this.options.linkOpenerDelegate(content)\n        };\n        this.updateStyles();\n        return this.ui;\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return new Promise((doResolve, reject) => {\n            let resolve = (result) => {\n                var _a;\n                resolve = doResolve;\n                (_a = options.onKeyMods) === null || _a === void 0 ? void 0 : _a.call(options, input.keyMods);\n                doResolve(result);\n            };\n            if (token.isCancellationRequested) {\n                resolve(undefined);\n                return;\n            }\n            const input = this.createQuickPick();\n            let activeItem;\n            const disposables = [\n                input,\n                input.onDidAccept(() => {\n                    if (input.canSelectMany) {\n                        resolve(input.selectedItems.slice());\n                        input.hide();\n                    }\n                    else {\n                        const result = input.activeItems[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidChangeActive(items => {\n                    const focused = items[0];\n                    if (focused && options.onDidFocus) {\n                        options.onDidFocus(focused);\n                    }\n                }),\n                input.onDidChangeSelection(items => {\n                    if (!input.canSelectMany) {\n                        const result = items[0];\n                        if (result) {\n                            resolve(result);\n                            input.hide();\n                        }\n                    }\n                }),\n                input.onDidTriggerItemButton(event => options.onDidTriggerItemButton && options.onDidTriggerItemButton(Object.assign(Object.assign({}, event), { removeItem: () => {\n                        const index = input.items.indexOf(event.item);\n                        if (index !== -1) {\n                            const items = input.items.slice();\n                            const removed = items.splice(index, 1);\n                            const activeItems = input.activeItems.filter(activeItem => activeItem !== removed[0]);\n                            const keepScrollPositionBefore = input.keepScrollPosition;\n                            input.keepScrollPosition = true;\n                            input.items = items;\n                            if (activeItems) {\n                                input.activeItems = activeItems;\n                            }\n                            input.keepScrollPosition = keepScrollPositionBefore;\n                        }\n                    } }))),\n                input.onDidTriggerSeparatorButton(event => { var _a; return (_a = options.onDidTriggerSeparatorButton) === null || _a === void 0 ? void 0 : _a.call(options, event); }),\n                input.onDidChangeValue(value => {\n                    if (activeItem && !value && (input.activeItems.length !== 1 || input.activeItems[0] !== activeItem)) {\n                        input.activeItems = [activeItem];\n                    }\n                }),\n                token.onCancellationRequested(() => {\n                    input.hide();\n                }),\n                input.onDidHide(() => {\n                    dispose(disposables);\n                    resolve(undefined);\n                }),\n            ];\n            input.title = options.title;\n            input.canSelectMany = !!options.canPickMany;\n            input.placeholder = options.placeHolder;\n            input.ignoreFocusOut = !!options.ignoreFocusLost;\n            input.matchOnDescription = !!options.matchOnDescription;\n            input.matchOnDetail = !!options.matchOnDetail;\n            input.matchOnLabel = (options.matchOnLabel === undefined) || options.matchOnLabel; // default to true\n            input.autoFocusOnList = (options.autoFocusOnList === undefined) || options.autoFocusOnList; // default to true\n            input.quickNavigate = options.quickNavigate;\n            input.hideInput = !!options.hideInput;\n            input.contextKey = options.contextKey;\n            input.busy = true;\n            Promise.all([picks, options.activeItem])\n                .then(([items, _activeItem]) => {\n                activeItem = _activeItem;\n                input.busy = false;\n                input.items = items;\n                if (input.canSelectMany) {\n                    input.selectedItems = items.filter(item => item.type !== 'separator' && item.picked);\n                }\n                if (activeItem) {\n                    input.activeItems = [activeItem];\n                }\n            });\n            input.show();\n            Promise.resolve(picks).then(undefined, err => {\n                reject(err);\n                input.hide();\n            });\n        });\n    }\n    createQuickPick() {\n        const ui = this.getUI();\n        return new QuickPick(ui);\n    }\n    createInputBox() {\n        const ui = this.getUI();\n        return new InputBox(ui);\n    }\n    show(controller) {\n        const ui = this.getUI();\n        this.onShowEmitter.fire();\n        const oldController = this.controller;\n        this.controller = controller;\n        oldController === null || oldController === void 0 ? void 0 : oldController.didHide();\n        this.setEnabled(true);\n        ui.leftActionBar.clear();\n        ui.title.textContent = '';\n        ui.description1.textContent = '';\n        ui.description2.textContent = '';\n        dom.reset(ui.widget);\n        ui.rightActionBar.clear();\n        ui.checkAll.checked = false;\n        // ui.inputBox.value = ''; Avoid triggering an event.\n        ui.inputBox.placeholder = '';\n        ui.inputBox.password = false;\n        ui.inputBox.showDecoration(Severity.Ignore);\n        ui.visibleCount.setCount(0);\n        ui.count.setCount(0);\n        dom.reset(ui.message);\n        ui.progressBar.stop();\n        ui.list.setElements([]);\n        ui.list.matchOnDescription = false;\n        ui.list.matchOnDetail = false;\n        ui.list.matchOnLabel = true;\n        ui.list.sortByLabel = true;\n        ui.ignoreFocusOut = false;\n        ui.inputBox.toggles = undefined;\n        const backKeybindingLabel = this.options.backKeybindingLabel();\n        backButton.tooltip = backKeybindingLabel ? localize('quickInput.backWithKeybinding', \"Back ({0})\", backKeybindingLabel) : localize('quickInput.back', \"Back\");\n        ui.container.style.display = '';\n        this.updateLayout();\n        ui.inputBox.setFocus();\n    }\n    setVisibilities(visibilities) {\n        const ui = this.getUI();\n        ui.title.style.display = visibilities.title ? '' : 'none';\n        ui.description1.style.display = visibilities.description && (visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.description2.style.display = visibilities.description && !(visibilities.inputBox || visibilities.checkAll) ? '' : 'none';\n        ui.checkAll.style.display = visibilities.checkAll ? '' : 'none';\n        ui.filterContainer.style.display = visibilities.inputBox ? '' : 'none';\n        ui.visibleCountContainer.style.display = visibilities.visibleCount ? '' : 'none';\n        ui.countContainer.style.display = visibilities.count ? '' : 'none';\n        ui.okContainer.style.display = visibilities.ok ? '' : 'none';\n        ui.customButtonContainer.style.display = visibilities.customButton ? '' : 'none';\n        ui.message.style.display = visibilities.message ? '' : 'none';\n        ui.progressBar.getContainer().style.display = visibilities.progressBar ? '' : 'none';\n        ui.list.display(!!visibilities.list);\n        ui.container.classList.toggle('show-checkboxes', !!visibilities.checkBox);\n        ui.container.classList.toggle('hidden-input', !visibilities.inputBox && !visibilities.description);\n        this.updateLayout(); // TODO\n    }\n    setEnabled(enabled) {\n        if (enabled !== this.enabled) {\n            this.enabled = enabled;\n            for (const item of this.getUI().leftActionBar.viewItems) {\n                item.action.enabled = enabled;\n            }\n            for (const item of this.getUI().rightActionBar.viewItems) {\n                item.action.enabled = enabled;\n            }\n            this.getUI().checkAll.disabled = !enabled;\n            this.getUI().inputBox.enabled = enabled;\n            this.getUI().ok.enabled = enabled;\n            this.getUI().list.enabled = enabled;\n        }\n    }\n    hide(reason) {\n        var _a;\n        const controller = this.controller;\n        if (controller) {\n            const focusChanged = !((_a = this.ui) === null || _a === void 0 ? void 0 : _a.container.contains(document.activeElement));\n            this.controller = null;\n            this.onHideEmitter.fire();\n            this.getUI().container.style.display = 'none';\n            if (!focusChanged) {\n                let currentElement = this.previousFocusElement;\n                while (currentElement && !currentElement.offsetParent) {\n                    currentElement = withNullAsUndefined(currentElement.parentElement);\n                }\n                if (currentElement === null || currentElement === void 0 ? void 0 : currentElement.offsetParent) {\n                    currentElement.focus();\n                    this.previousFocusElement = undefined;\n                }\n                else {\n                    this.options.returnFocus();\n                }\n            }\n            controller.didHide(reason);\n        }\n    }\n    layout(dimension, titleBarOffset) {\n        this.dimension = dimension;\n        this.titleBarOffset = titleBarOffset;\n        this.updateLayout();\n    }\n    updateLayout() {\n        if (this.ui && this.isDisplayed()) {\n            this.ui.container.style.top = `${this.titleBarOffset}px`;\n            const style = this.ui.container.style;\n            const width = Math.min(this.dimension.width * 0.62 /* golden cut */, QuickInputController.MAX_WIDTH);\n            style.width = width + 'px';\n            style.marginLeft = '-' + (width / 2) + 'px';\n            this.ui.inputBox.layout();\n            this.ui.list.layout(this.dimension && this.dimension.height * 0.4);\n        }\n    }\n    applyStyles(styles) {\n        this.styles = styles;\n        this.updateStyles();\n    }\n    updateStyles() {\n        if (this.ui) {\n            const { quickInputTitleBackground, quickInputBackground, quickInputForeground, widgetBorder, widgetShadow, } = this.styles.widget;\n            this.ui.titleBar.style.backgroundColor = quickInputTitleBackground !== null && quickInputTitleBackground !== void 0 ? quickInputTitleBackground : '';\n            this.ui.container.style.backgroundColor = quickInputBackground !== null && quickInputBackground !== void 0 ? quickInputBackground : '';\n            this.ui.container.style.color = quickInputForeground !== null && quickInputForeground !== void 0 ? quickInputForeground : '';\n            this.ui.container.style.border = widgetBorder ? `1px solid ${widgetBorder}` : '';\n            this.ui.container.style.boxShadow = widgetShadow ? `0 0 8px 2px ${widgetShadow}` : '';\n            this.ui.list.style(this.styles.list);\n            const content = [];\n            if (this.styles.pickerGroup.pickerGroupBorder) {\n                content.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`);\n            }\n            if (this.styles.pickerGroup.pickerGroupForeground) {\n                content.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);\n            }\n            if (this.styles.pickerGroup.pickerGroupForeground) {\n                content.push(`.quick-input-list .quick-input-list-separator-as-item { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`);\n            }\n            if (this.styles.keybindingLabel.keybindingLabelBackground ||\n                this.styles.keybindingLabel.keybindingLabelBorder ||\n                this.styles.keybindingLabel.keybindingLabelBottomBorder ||\n                this.styles.keybindingLabel.keybindingLabelShadow ||\n                this.styles.keybindingLabel.keybindingLabelForeground) {\n                content.push('.quick-input-list .monaco-keybinding > .monaco-keybinding-key {');\n                if (this.styles.keybindingLabel.keybindingLabelBackground) {\n                    content.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBorder) {\n                    // Order matters here. `border-color` must come before `border-bottom-color`.\n                    content.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelBottomBorder) {\n                    content.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelShadow) {\n                    content.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`);\n                }\n                if (this.styles.keybindingLabel.keybindingLabelForeground) {\n                    content.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`);\n                }\n                content.push('}');\n            }\n            const newStyles = content.join('\\n');\n            if (newStyles !== this.ui.styleSheet.textContent) {\n                this.ui.styleSheet.textContent = newStyles;\n            }\n        }\n    }\n    isDisplayed() {\n        return this.ui && this.ui.container.style.display !== 'none';\n    }\n}\nQuickInputController.MAX_WIDTH = 600; // Max total width of quick input widget\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { ILayoutService } from '../../layout/browser/layoutService.js';\nimport { WorkbenchList } from '../../list/browser/listService.js';\nimport { IOpenerService } from '../../opener/common/opener.js';\nimport { QuickAccessController } from './quickAccess.js';\nimport { defaultButtonStyles, defaultCountBadgeStyles, defaultInputBoxStyles, defaultKeybindingLabelStyles, defaultProgressBarStyles, defaultToggleStyles, getListStyles } from '../../theme/browser/defaultStyles.js';\nimport { activeContrastBorder, asCssVariable, pickerGroupBorder, pickerGroupForeground, quickInputBackground, quickInputForeground, quickInputListFocusBackground, quickInputListFocusForeground, quickInputListFocusIconForeground, quickInputTitleBackground, widgetBorder, widgetShadow } from '../../theme/common/colorRegistry.js';\nimport { IThemeService, Themable } from '../../theme/common/themeService.js';\nimport { QuickInputController } from './quickInput.js';\nexport let QuickInputService = class QuickInputService extends Themable {\n    get controller() {\n        if (!this._controller) {\n            this._controller = this._register(this.createController());\n        }\n        return this._controller;\n    }\n    get hasController() { return !!this._controller; }\n    get quickAccess() {\n        if (!this._quickAccess) {\n            this._quickAccess = this._register(this.instantiationService.createInstance(QuickAccessController));\n        }\n        return this._quickAccess;\n    }\n    constructor(instantiationService, contextKeyService, themeService, layoutService) {\n        super(themeService);\n        this.instantiationService = instantiationService;\n        this.contextKeyService = contextKeyService;\n        this.layoutService = layoutService;\n        this._onShow = this._register(new Emitter());\n        this._onHide = this._register(new Emitter());\n        this.contexts = new Map();\n    }\n    createController(host = this.layoutService, options) {\n        const defaultOptions = {\n            idPrefix: 'quickInput_',\n            container: host.container,\n            ignoreFocusOut: () => false,\n            backKeybindingLabel: () => undefined,\n            setContextKey: (id) => this.setContextKey(id),\n            linkOpenerDelegate: (content) => {\n                // HACK: https://github.com/microsoft/vscode/issues/173691\n                this.instantiationService.invokeFunction(accessor => {\n                    const openerService = accessor.get(IOpenerService);\n                    openerService.open(content, { allowCommands: true, fromUserGesture: true });\n                });\n            },\n            returnFocus: () => host.focus(),\n            createList: (user, container, delegate, renderers, options) => this.instantiationService.createInstance(WorkbenchList, user, container, delegate, renderers, options),\n            hoverDelegate: {\n                showHover(options, focus) {\n                    return undefined;\n                },\n                delay: 200\n            },\n            styles: this.computeStyles()\n        };\n        const controller = this._register(new QuickInputController(Object.assign(Object.assign({}, defaultOptions), options)));\n        controller.layout(host.dimension, host.offset.quickPickTop);\n        // Layout changes\n        this._register(host.onDidLayout(dimension => controller.layout(dimension, host.offset.quickPickTop)));\n        // Context keys\n        this._register(controller.onShow(() => {\n            this.resetContextKeys();\n            this._onShow.fire();\n        }));\n        this._register(controller.onHide(() => {\n            this.resetContextKeys();\n            this._onHide.fire();\n        }));\n        return controller;\n    }\n    setContextKey(id) {\n        let key;\n        if (id) {\n            key = this.contexts.get(id);\n            if (!key) {\n                key = new RawContextKey(id, false)\n                    .bindTo(this.contextKeyService);\n                this.contexts.set(id, key);\n            }\n        }\n        if (key && key.get()) {\n            return; // already active context\n        }\n        this.resetContextKeys();\n        key === null || key === void 0 ? void 0 : key.set(true);\n    }\n    resetContextKeys() {\n        this.contexts.forEach(context => {\n            if (context.get()) {\n                context.reset();\n            }\n        });\n    }\n    pick(picks, options = {}, token = CancellationToken.None) {\n        return this.controller.pick(picks, options, token);\n    }\n    createQuickPick() {\n        return this.controller.createQuickPick();\n    }\n    createInputBox() {\n        return this.controller.createInputBox();\n    }\n    updateStyles() {\n        if (this.hasController) {\n            this.controller.applyStyles(this.computeStyles());\n        }\n    }\n    computeStyles() {\n        return {\n            widget: {\n                quickInputBackground: asCssVariable(quickInputBackground),\n                quickInputForeground: asCssVariable(quickInputForeground),\n                quickInputTitleBackground: asCssVariable(quickInputTitleBackground),\n                widgetBorder: asCssVariable(widgetBorder),\n                widgetShadow: asCssVariable(widgetShadow),\n            },\n            inputBox: defaultInputBoxStyles,\n            toggle: defaultToggleStyles,\n            countBadge: defaultCountBadgeStyles,\n            button: defaultButtonStyles,\n            progressBar: defaultProgressBarStyles,\n            keybindingLabel: defaultKeybindingLabelStyles,\n            list: getListStyles({\n                listBackground: quickInputBackground,\n                listFocusBackground: quickInputListFocusBackground,\n                listFocusForeground: quickInputListFocusForeground,\n                // Look like focused when inactive.\n                listInactiveFocusForeground: quickInputListFocusForeground,\n                listInactiveSelectionIconForeground: quickInputListFocusIconForeground,\n                listInactiveFocusBackground: quickInputListFocusBackground,\n                listFocusOutline: activeContrastBorder,\n                listInactiveFocusOutline: activeContrastBorder,\n            }),\n            pickerGroup: {\n                pickerGroupBorder: asCssVariable(pickerGroupBorder),\n                pickerGroupForeground: asCssVariable(pickerGroupForeground),\n            }\n        };\n    }\n};\nQuickInputService = __decorate([\n    __param(0, IInstantiationService),\n    __param(1, IContextKeyService),\n    __param(2, IThemeService),\n    __param(3, ILayoutService)\n], QuickInputService);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { coalesce } from '../../../base/common/arrays.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { Registry } from '../../registry/common/platform.js';\nexport var DefaultQuickAccessFilterValue;\n(function (DefaultQuickAccessFilterValue) {\n    /**\n     * Keep the value as it is given to quick access.\n     */\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"PRESERVE\"] = 0] = \"PRESERVE\";\n    /**\n     * Use the value that was used last time something was accepted from the picker.\n     */\n    DefaultQuickAccessFilterValue[DefaultQuickAccessFilterValue[\"LAST\"] = 1] = \"LAST\";\n})(DefaultQuickAccessFilterValue || (DefaultQuickAccessFilterValue = {}));\nexport const Extensions = {\n    Quickaccess: 'workbench.contributions.quickaccess'\n};\nexport class QuickAccessRegistry {\n    constructor() {\n        this.providers = [];\n        this.defaultProvider = undefined;\n    }\n    registerQuickAccessProvider(provider) {\n        // Extract the default provider when no prefix is present\n        if (provider.prefix.length === 0) {\n            this.defaultProvider = provider;\n        }\n        else {\n            this.providers.push(provider);\n        }\n        // sort the providers by decreasing prefix length, such that longer\n        // prefixes take priority: 'ext' vs 'ext install' - the latter should win\n        this.providers.sort((providerA, providerB) => providerB.prefix.length - providerA.prefix.length);\n        return toDisposable(() => {\n            this.providers.splice(this.providers.indexOf(provider), 1);\n            if (this.defaultProvider === provider) {\n                this.defaultProvider = undefined;\n            }\n        });\n    }\n    getQuickAccessProviders() {\n        return coalesce([this.defaultProvider, ...this.providers]);\n    }\n    getQuickAccessProvider(prefix) {\n        const result = prefix ? (this.providers.find(provider => prefix.startsWith(provider.prefix)) || undefined) : undefined;\n        return result || this.defaultProvider;\n    }\n}\nRegistry.add(Extensions.Quickaccess, new QuickAccessRegistry());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const NO_KEY_MODS = { ctrlCmd: false, alt: false };\nexport var QuickInputHideReason;\n(function (QuickInputHideReason) {\n    /**\n     * Focus moved away from the quick input.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Blur\"] = 1] = \"Blur\";\n    /**\n     * An explicit user gesture, e.g. pressing Escape key.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Gesture\"] = 2] = \"Gesture\";\n    /**\n     * Anything else.\n     */\n    QuickInputHideReason[QuickInputHideReason[\"Other\"] = 3] = \"Other\";\n})(QuickInputHideReason || (QuickInputHideReason = {}));\nexport var ItemActivation;\n(function (ItemActivation) {\n    ItemActivation[ItemActivation[\"NONE\"] = 0] = \"NONE\";\n    ItemActivation[ItemActivation[\"FIRST\"] = 1] = \"FIRST\";\n    ItemActivation[ItemActivation[\"SECOND\"] = 2] = \"SECOND\";\n    ItemActivation[ItemActivation[\"LAST\"] = 3] = \"LAST\";\n})(ItemActivation || (ItemActivation = {}));\nexport class QuickPickItemScorerAccessor {\n    constructor(options) {\n        this.options = options;\n    }\n}\nexport const quickPickItemScorerAccessor = new QuickPickItemScorerAccessor();\n//#endregion\nexport const IQuickInputService = createDecorator('quickInputService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as Assert from '../../../base/common/assert.js';\nimport * as Types from '../../../base/common/types.js';\nclass RegistryImpl {\n    constructor() {\n        this.data = new Map();\n    }\n    add(id, data) {\n        Assert.ok(Types.isString(id));\n        Assert.ok(Types.isObject(data));\n        Assert.ok(!this.data.has(id), 'There is already an extension with this id');\n        this.data.set(id, data);\n    }\n    as(id) {\n        return this.data.get(id) || null;\n    }\n}\nexport const Registry = new RegistryImpl();\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './media/severityIcon.css';\nimport { Codicon } from '../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport Severity from '../../../base/common/severity.js';\nexport var SeverityIcon;\n(function (SeverityIcon) {\n    function className(severity) {\n        switch (severity) {\n            case Severity.Ignore:\n                return 'severity-ignore ' + ThemeIcon.asClassName(Codicon.info);\n            case Severity.Info:\n                return ThemeIcon.asClassName(Codicon.info);\n            case Severity.Warning:\n                return ThemeIcon.asClassName(Codicon.warning);\n            case Severity.Error:\n                return ThemeIcon.asClassName(Codicon.error);\n            default:\n                return '';\n        }\n    }\n    SeverityIcon.className = className;\n})(SeverityIcon || (SeverityIcon = {}));\n"],"names":["IDialogService","createDecorator","CodeDataTransfers","EDITORS","FILES","DragAndDropContributionRegistry","_createClass","_classCallCheck","Registry","add","LocalSelectionTransfer","key","value","proto","this","hasData","data","INSTANCE","EditorOpenSource","ExtensionIdentifier","_lower","toLowerCase","id","ExtensionIdentifierSet","iterable","_set","Set","_step","_iterator","_createForOfIteratorHelper","s","n","done","err","e","f","toKey","has","FileKind","__decorate","decorators","target","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","historyNavigationVisible","RawContextKey","localize","HistoryNavigationWidgetFocusContext","HistoryNavigationForwardsEnablementContext","HistoryNavigationBackwardsEnablementContext","lastFocusedWidget","undefined","widgets","registerAndCreateHistoryNavigationContext","scopedContextKeyService","widget","includes","Error","push","disposableStore","DisposableStore","historyNavigationWidgetFocus","bindTo","historyNavigationForwardsEnablement","historyNavigationBackwardsEnablement","onDidFocus","set","onDidBlur","element","document","activeElement","toDisposable","splice","indexOf","dispose","ContextScopedFindInput","_FindInput","_inherits","_super","_createSuper","container","contextViewProvider","options","contextKeyService","_this","call","_register","createScoped","inputBox","FindInput","IContextKeyService","ContextScopedReplaceInput","_ReplaceInput","_super2","_this2","showReplaceOptions","ReplaceInput","KeybindingsRegistry","registerCommandAndKeybindingRule","weight","when","ContextKeyExpr","and","equals","isEqualTo","primary","secondary","handler","accessor","showPreviousValue","showNextValue","showHistoryKeybindingHint","keybindingService","_a","_b","lookupKeybinding","getElectronAccelerator","SyncDescriptor","ctor","staticArguments","supportsDelayedInstantiation","_registry","registerSingleton","ctorOrDescriptor","Boolean","getSingletonServiceDescriptors","_util","serviceIds","Map","DI_TARGET","DI_DEPENDENCIES","getServiceDependencies","IInstantiationService","serviceId","get","index","storeServiceDependency","toString","Node","incoming","outgoing","Graph","_hashFn","_nodes","ret","values","node","size","from","to","fromNode","lookupOrInsertNode","toNode","delete","_step2","_iterator2","_step3","_iterator3","_step3$value","_slicedToArray","concat","_toConsumableArray","keys","join","_step4","_iterator4","_step4$value","seen","res","_findCycle","_step5","_iterator5","_step5$value","CyclicDependencyError","_Error","graph","message","findCycleSlow","_wrapNativeSuper","InstantiationService","_services","ServiceCollection","_strict","_parent","_enableTracing","_activeInstantiations","_globalGraph","services","fn","_trace","Trace","traceInvocation","_done","illegalState","result","_getOrCreateServiceInstance","_len","args","Array","_key","apply","stop","_len2","rest","_key2","traceCreation","_createInstance","serviceDependencies","sort","a","b","serviceArgs","dependency","service","_throwIfStrict","name","firstServiceArgPos","console","trace","delta","slice","construct","instance","_setServiceInstance","instanceOrDesc","_getServiceInstanceOrDescriptor","_globalGraphImplicitDependency","insertEdge","String","thing","_safeCreateAndCacheServiceInstance","branch","_createAndCacheServiceInstance","cycleCount","stack","item","pop","roots","isEmpty","_createServiceInstanceWithOwner","removeNode","_createServiceInstance","child","earlyListeners","idle","IdleValue","candidate","listener","clear","Proxy","create","isInitialized","startsWith","list","LinkedList","callback","thisArg","disposables","rm","obj","prop","bind","_target","p","getPrototypeOf","prototype","msg","printWarning","warn","type","_start","Date","now","_dep","first","dur","_totals","causedCreation","lines","printChild","_step6","prefix","_iterator6","_step6$value","nested","toFixed","all","split","_None","_Trace","_class","_entries","entries","_i","_entries$_i","instanceOrDescriptor","Extensions","JSONContribution","jsonContributionRegistry","JSONContributionRegistry","_onDidChangeSchema","Emitter","schemasById","uri","unresolvedSchemaContent","charAt","substring","fire","platform","HIGH_FREQ_COMMANDS","AbstractKeybindingService","_Disposable","_contextKeyService","_commandService","_telemetryService","_notificationService","_logService","_onDidUpdateKeybindings","_currentChords","_currentChordChecker","IntervalTimer","_currentChordStatusMessage","_ignoreSingleModifiers","KeybindingModifierSet","EMPTY","_currentSingleModifier","_currentSingleModifierClearTimeout","TimeoutTimer","_logging","event","Event","None","_get","_getPrototypeOf","str","info","_getResolver","getKeybindings","commandId","context","lookupPrimaryKeybinding","resolvedKeybinding","_dispatch","_log","keybinding","resolveKeyboardEvent","hasMultipleChords","NoMatchingKb","_keybinding$getDispat","getDispatchChords","firstChord","contextValue","getContext","currentChords","map","_ref","keypress","resolve","chordLastInteractedTime","cancelAndSet","_documentHasFocus","_leaveChordMode","keypressLabel","label","status","nls","fullKeypressLabel","_ref2","_scheduleLeaveChordMode","IME","enabled","disable","cancel","enable","_doDispatch","_this3","_keybinding$getSingle","getSingleModifierDispatchChords","singleModifier","_keybinding$getChords","getChords","userKeypress","_this4","isSingleModiferChord","shouldPreventDefault","userPressedChord","_userKeypress$getSing","dispatchKeyname","_userKeypress$getDisp","_ref3","getLabel","resolveResult","kind","inChordMode","currentChordsLabel","_ref4","hideAfter","_expectAnotherChord","_ref5","isBubble","commandArgs","executeCommand","then","test","publicLog2","detail","getUserSettingsLabel","ctrlKey","metaKey","keyCode","Disposable","source","_ctrlKey","_shiftKey","shiftKey","_altKey","altKey","_metaKey","modifier","IKeybindingService","MoreChordsNeeded","KeybindingResolver","defaultKeybindings","overrides","log","_defaultKeybindings","_defaultBoundCommands","command","_map","_lookupMap","_keybindings","handleRemovals","len","k","chords","substituteConstants","_addKeyPress","conflicts","_addToLookupMap","conflict","isShorterKbPrefix","whenIsEntirelyIncluded","_removeFromLookupMap","arr","items","contextMatchesRules","pressedChords","kbCandidates","lookupMap","prefixMatches","_findCommand","printWhenExplanation","printSourceExplanation","bubble","matches","_contextMatchesRules","defaultKb","expressionsAreEqualWithConstantSubstitution","rules","removals","rule","commandRemovals","isDefault","isRemoved","commandRemoval","_isTargetedForRemoval","implies","evaluate","serialize","kb","extensionId","isBuiltinExtension","KeybindingsRegistryImpl","_coreKeybindings","_extensionKeybindings","_cachedMergedKeybindings","actualKb","bindToCurrentPlatform","kk","decodeKeybinding","OS","_registerDefaultKeybinding","isArray","combinedDisposable","registerKeybindingRule","CommandsRegistry","registerCommand","weight1","weight2","remove","sorter","win","mac","linux","ResolvedKeybindingItem","_resolvedKeybindingItemBrand","toEmptyArrayIfContainsNull","charCodeAt","substr","BaseResolvedKeybinding","_ResolvedKeybinding","os","illegalArgument","_os","_chords","UILabelProvider","toLabel","_getLabel","AriaLabelProvider","_getAriaLabel","isDuplicateModifierCase","ElectronAcceleratorLabelProvider","_getElectronAccelerator","_this5","UserSettingsLabelProvider","_getUserSettingsLabel","_this6","_getChord","ResolvedChord","_this7","_getChordDispatch","_this8","_getSingleModifierChordDispatch","ResolvedKeybinding","USLayoutResolvedKeybinding","_BaseResolvedKeybindi","KeyCodeUtils","chord","_keyCodeToUILabel","toElectronAccelerator","toUserSettingsUS","getDispatchStr","isModifierKey","scanCode","immutableKeyCode","IMMUTABLE_CODE_TO_KEY_CODE","KeyCodeChord","_scanCodeToKeyCode","_toKeyCodeChord","ILabelService","ILayoutService","IListService","ListService","lists","_lastFocusedWidget","_hasCreatedStyleController","getHTMLElement","classList","extraContextKeys","DefaultStyleController","createStyleSheet","style","defaultListStyles","some","l","registeredList","setLastFocusedList","onDidDispose","filter","RawWorkbenchListFocusContextKey","WorkbenchListSupportsMultiSelectContextKey","WorkbenchListFocusContextKey","not","InputFocusedContextKey","WorkbenchListHasSelectionOrFocus","WorkbenchListDoubleSelection","WorkbenchListMultiSelection","WorkbenchListSelectionNavigation","WorkbenchListSupportsFind","WorkbenchTreeElementCanCollapse","WorkbenchTreeElementHasParent","WorkbenchTreeElementCanExpand","WorkbenchTreeElementHasChild","WorkbenchTreeFindOpen","WorkbenchListTypeNavigationModeKey","WorkbenchListAutomaticKeyboardNavigationLegacyKey","createScopedContextKeyService","multiSelectModifierSettingKey","openModeSettingKey","horizontalScrollingKey","defaultFindModeSettingKey","typeNavigationModeSettingKey","keyboardNavigationSettingKey","scrollByPageKey","defaultFindMatchTypeSettingKey","treeIndentKey","treeRenderIndentGuidesKey","listSmoothScrolling","mouseWheelScrollSensitivityKey","fastScrollSensitivityKey","treeExpandMode","useAltAsMultipleSelectionModifier","configurationService","getValue","MultipleSelectionController","registerListeners","onDidChangeConfiguration","affectsConfiguration","browserEvent","isSelectionSingleChangeEvent","isSelectionRangeChangeEvent","toWorkbenchListOptions","IConfigurationService","assign","keyboardNavigationDelegate","mightProducePrintableCharacter","smoothScrolling","mouseWheelScrollSensitivity","fastScrollSensitivity","multipleSelectionController","keyboardNavigationEventFilter","createKeyboardNavigationEventFilter","scrollByPage","WorkbenchList","_List","user","delegate","renderers","listService","instantiationService","horizontalScrolling","_instantiationService","invokeFunction","_instantiationService2","workbenchListOptions","workbenchListOptionsDisposable","keyboardSupport","_assertThisInitialized","listSupportsMultiSelect","multipleSelectionSupport","selectionNavigation","listHasSelectionOrFocus","listDoubleSelection","listMultiSelection","_useAltAsMultipleSelectionModifier","register","updateStyles","overrideStyles","onDidChangeSelection","selection","getSelection","focus","getFocus","bufferChangeEvents","onDidChangeFocus","updateOptions","navigator","ListResourceNavigator","styles","getListStyles","List","WorkbenchPagedList","_PagedList","_super3","_instantiationService3","_instantiationService4","PagedList","WorkbenchTable","_Table","_super4","columns","_instantiationService5","_instantiationService6","TableResourceNavigator","Table","ResourceNavigator","_Disposable2","_super5","_onDidOpen","onDidOpen","KeyboardEvent","onSelectionFromKeyboard","onPointer","onMouseDblClick","openOnSingleClick","elements","selectionKeyboardEvent","preserveFocus","pinned","_open","getSelectedElement","button","sideBySide","contains","offsetX","editorOptions","revealIfVisible","_ResourceNavigator","_super6","getSelectedElements","_ResourceNavigator2","_super7","TreeResourceNavigator","_ResourceNavigator3","_super8","inMultiChord","toKeyCodeChord","softDispatch","WorkbenchObjectTree","_ObjectTree","_super9","_this9","_instantiationService7","workbenchTreeDataPreamble","treeOptions","getTypeNavigationMode","disposable","internals","WorkbenchTreeInternals","ObjectTree","WorkbenchCompressibleObjectTree","_CompressibleObjectTr","_super10","_this10","_instantiationService8","updateStyleOverrides","CompressibleObjectTree","WorkbenchDataTree","_DataTree","_super11","dataSource","_this11","_instantiationService9","DataTree","WorkbenchAsyncDataTree","_AsyncDataTree","_super12","_this12","_instantiationService10","AsyncDataTree","WorkbenchCompressibleAsyncDataTree","_CompressibleAsyncDat","_super13","virtualDelegate","compressionDelegate","_this13","_instantiationService11","CompressibleAsyncDataTree","getDefaultTreeFindMode","TreeFindMode","Highlight","Filter","deprecatedValue","getDefaultTreeFindMatchType","TreeFindMatchType","Fuzzy","Contiguous","contextViewService","IContextViewService","_instantiationService12","_instantiationService13","additionalScrollHeight","renderIndentGuides","modeString","getContextKeyValue","TypeNavigationMode","Automatic","Trigger","configString","indent","defaultFindMode","defaultFindMatchType","hideTwistiesOfChildlessElements","expandOnlyOnTwistieClick","findWidgetStyles","defaultFindWidgetStyles","tree","_this14","listSupportFindWidget","findWidgetEnabled","hasSelectionOrFocus","hasDoubleSelection","hasMultiSelection","treeElementCanCollapse","treeElementHasParent","treeElementCanExpand","treeElementHasChild","treeFindOpen","updateCollapseContextKeys","getNode","collapsible","collapsed","getParentElement","getFirstElementChild","interestingContextKeys","onDidChangeCollapseState","onDidChangeModel","onDidChangeFindOpenState","newOptions","typeNavigationMode","onDidChangeContext","affectsSome","as","ConfigurationExtensions","Configuration","registerConfiguration","order","title","properties","_properties","_defineProperty","enum","markdownEnumDescriptions","default","description","comment","minimum","maximum","markdownDescription","enumDescriptions","deprecated","deprecationMessage","LogLevel","ILogService","DEFAULT_LOG_LEVEL","Info","AbstractLogger","level","_onDidChangeLogLevel","onDidChangeLogLevel","Off","ConsoleLogger","_AbstractLogger","logLevel","useColors","setLevel","checkLogLevel","_console","_console2","Debug","_console3","_console4","_len3","_key3","_console5","_console6","_len4","_key4","_console7","_console8","error","MultiplexLogger","_AbstractLogger2","loggers","getLevel","_len5","_key5","logger","_len6","_key6","debug","_len7","_key7","_len8","_key8","Warning","LogLevelToString","LogService","primaryLogger","otherLoggers","_this$logger","_this$logger2","_this$logger3","_this$logger4","unsupportedSchemas","Schemas","inMemory","vscodeSourceControl","walkThrough","walkThroughSnippet","DoubleResourceMap","_byResource","ResourceMap","_byOwner","resource","owner","ownerMap","resourceMap","removedA","removedB","_c","_d","Iterable","empty","URI","isUri","MarkerStats","errors","infos","warnings","unknowns","_data","_service","_subscription","onMarkerChanged","_update","resources","oldStats","_substract","newStats","_resourceStats","_add","scheme","read","severity","MarkerSeverity","op","MarkerService","_onMarkerChanged","DebounceEmitter","delay","merge","_merge","_stats","changeOne","markerData","isFalsyOrEmpty","markers","marker","_toMarker","changes","existing","isNonEmptyArray","groups","array","_step7","_iterator7","_step7$value","severities","take","_step8","_iterator8","_accept","newLen","_step11","_iterator11","_step12","_iterator12","_step9","_iterator9","_step10","_iterator10","code","startLineNumber","startColumn","endLineNumber","endColumn","relatedInformation","tags","_step13","_iterator13","_step14","_iterator14","IMarkerData","compare","_displayStrings","fromSeverity","Severity","Ignore","Hint","toSeverity","emptyString","makeKeyOptionalMessage","useMessage","replace","makeKey","IMarkerService","BaseSeverity","INotificationService","NoOpNotification","Link","_link","openerService","_enabled","el","append","$","tabIndex","href","setAttribute","onClickEmitter","DomEmitter","onKeyPress","onEnterPress","chain","StandardKeyboardEvent","onTap","TouchEventType","Tap","Gesture","addTarget","onOpen","any","EventHelper","opener","open","allowCommands","pointerEvents","opacity","cursor","IOpenerService","matchesScheme","equalsIgnoreCase","startsWithIgnoreCase","matchesSomeScheme","schemes","extractSelection","match","exec","fragment","parseInt","with","IProgressService","Progress","freeze","total","worked","_value","report","IEditorProgressService","TriggerAction","__awaiter","_arguments","P","generator","Promise","reject","fulfilled","step","next","rejected","isPicksWithActive","isFastAndSlowPicks","picks","additionalPicks","PickerQuickAccessProvider","picker","token","runOptions","canAcceptInBackground","matchOnLabel","matchOnDescription","matchOnDetail","sortByLabel","picksCts","picksDisposable","MutableDisposable","updatePickerItems","_regeneratorRuntime","mark","_callee4","picksDisposables","picksToken","picksFilter","providedPicks","applyPicks","applyFastAndSlowPicks","awaitedPicks","wrap","_context4","prev","busy","CancellationTokenSource","trim","_getPicks","skipEmpty","activeItem","active","hideInput","noResultsPick","isFunction","activeItems","fastAndSlowPicks","_callee3","fastPicksApplied","slowPicksApplied","_context3","_callee","_context","mergeDelay","timeout","isCancellationRequested","abrupt","_callee2","awaitedAdditionalPicks","activePick","additionalActivePick","fallbackActivePick","fallbackActivePickCandidate","_context2","sent","finish","onDidChangeValue","onDidAccept","selectedItems","accept","inBackground","hide","keyMods","onDidTriggerItemButton","_callee5","buttonIndex","action","removed","keepScrollPositionBefore","_context5","trigger","buttons","t0","t1","NO_ACTION","CLOSE_PICKER","REFRESH_PICKER","REMOVE_ITEM","keepScrollPosition","AbstractCommandsQuickAccessProvider","_PickerQuickAccessPro","commandService","telemetryService","dialogService","PREFIX","commandsHistory","createInstance","CommandsHistory","_disposables","allCommandPicks","filteredCommandPicks","_commandPick2","labelHighlights","aliasHighlights","mapLabelToCommand","_filteredCommandPicks","commandPick","existingCommandForLabel","commandPicks","addOtherSeparator","addCommonlyUsedSeparator","_commandPick","getCommandPicks","withNullAsUndefined","WORD_FILTER","commandAlias","highlights","showAlias","commandPickA","commandPickB","commandACounter","peek","commandBCounter","suggestedCommandIds","commandASuggestion","commandBSuggestion","localeCompare","toCommandPick","hasAdditionalCommandPicks","additionalCommandPicks","getAdditionalCommandPicks","ariaLabel","getAriaLabel","isCancellationError","toErrorMessage","or","matchesPrefix","matchesWords","matchesContiguousSubString","ICommandService","ITelemetryService","storageService","configuredCommandsHistoryLength","updateConfiguration","load","getConfiguredCommandHistoryLength","cache","limit","saveState","serializedCache","raw","PREF_KEY_CACHE","JSON","parse","LRUCache","usesLRU","forEach","entry","counter","getNumber","PREF_KEY_COUNTER","store","stringify","configuredCommandHistoryLength","workbench","commandPalette","history","DEFAULT_COMMANDS_HISTORY_LENGTH","IStorageService","HelpQuickAccessProvider","quickInputService","registry","Quickaccess","quickAccess","show","preserveValue","providerDescriptor","getQuickAccessProvider","getQuickAccessProviders","providerA","providerB","flatMap","provider","createPicks","helpEntries","helpEntry","IQuickInputService","QuickAccessController","mapProviderToDescriptor","lastAcceptedPickerValues","visibleQuickAccess","doShowOrPick","pick","_this$getOrInstantiat","getOrInstantiateProvider","_this$getOrInstantiat2","descriptor","visibleDescriptor","adjustValueSelection","newValue","newValueCandidateWithoutPrefix","defaultFilterValue","DefaultQuickAccessFilterValue","LAST","createQuickPick","placeholder","quickNavigate","quickNavigateConfiguration","itemActivation","ItemActivation","SECOND","contextKey","filterValue","pickPromise","DeferredPromise","once","onWillAccept","veto","registerPickerListeners","providerOptions","cts","provide","onDidHide","complete","valueSelection","_this2$getOrInstantia","dom","QuickInputBox","parent","inputBoxStyles","toggleStyles","onKeyDown","addDisposableListener","findInput","inputElement","EventType","KEY_DOWN","onMouseDown","MOUSE_DOWN","StandardMouseEvent","onDidChange","input","role","ariaHasPopup","ariaAutoComplete","ariaExpanded","setValue","range","select","isSelectionAtEnd","getAttribute","setPlaceHolder","password","toggleAttribute","toggles","setAdditionalToggles","decoration","clearMessage","showMessage","content","stylesForType","layout","iconPathToClass","iconClassGenerator","IdGenerator","getIconClass","iconPath","iconClass","dark","nextId","createCSSRule","asCSSUrl","light","ListElement","init","hidden","_onChecked","onChecked","_checked","ListElementRenderer","ID","toDisposeElement","toDisposeTemplate","addStandardDisposableListener","CLICK","checkbox","offsetParent","preventDefault","CHANGE","checked","rows","row1","row2","IconLabel","supportHighlights","supportDescriptionHighlights","supportIcons","keybindingContainer","KeybindingLabel","detailContainer","separator","actionBar","ActionBar","domNode","mainItem","descriptionHighlights","detailHighlights","descriptionTitle","saneDescription","descriptionMatches","extraClasses","iconClasses","italic","strikethrough","setLabel","saneLabel","saneDetail","display","textContent","toggle","cssClasses","alwaysVisible","class","tooltip","run","fireButtonTriggered","fireSeparatorButtonTriggered","icon","QuickInputListFocus","ListElementDelegate","QuickInputList","inputElements","elementsToIndexes","matchOnLabelMode","matchOnMeta","_onChangedAllVisibleChecked","onChangedAllVisibleChecked","_onChangedCheckedCount","onChangedCheckedCount","_onChangedVisibleCount","onChangedVisibleCount","_onChangedCheckedElements","onChangedCheckedElements","_onButtonTriggered","onButtonTriggered","_onSeparatorButtonTriggered","onSeparatorButtonTriggered","_onKeyDown","_onLeave","onLeave","_fireCheckedEvents","elementDisposables","accessibilityProvider","QuickInputAccessibilityProvider","createList","identityProvider","getId","setRowLineHeight","toggleCheckbox","setFocus","focus1","focus2","x","y","onMouseMiddleClick","onContextMenu","setSelection","delayer","ThrottledDelayer","hoverDelegate","onMouseOver","HTMLAnchorElement","relatedTarget","isAncestor","showHover","onMouseOut","scrollTop","allVisibleChecked","whenNoneVisible","count","fireCheckedEvents","reduce","saneMeta","saneTooltip","previous","saneSortLabel","parseLabelWithIcons","text","meta","saneAriaLabel","getCodiconAriaLabel","hasCheckbox","getFocusedElements","focused","reveal","what","Second","First","focusFirst","focusNth","Last","scrollHeight","focusLast","Next","focusNext","firstVisibleIndex","Previous","focusPrevious","NextPage","focusNextPage","PreviousPage","focusPreviousPage","domFocus","_lastHover","isDisposed","onDidHideHover","linkHandler","url","linkOpenerDelegate","showPointer","hoverPosition","maxHeight","Math","floor","query","currentSeparator","queryWithWhitespace","matchesFuzzyIconAware","iconOffsets","matchesContiguous","wordToMatchAgainstWithoutIconsTrimmed","ltrim","leadingWhitespaceOffset","iconOffset","start","end","matchesContiguousIconAware","metaHighlights","alwaysShow","shownElements","normalizedSearchValue","elementA","elementB","lookFor","labelHighlightsA","labelHighlightsB","compareAnything","compareEntries","getAllVisibleChecked","allChecked","getCheckedCount","getCheckedElements","indexes","_toggleHover","word","wordToMatchAgainst","matchIndex","memoize","backButton","ThemeIcon","asClassName","Codicon","quickInputBack","handle","QuickInput","ui","_widgetUpdated","visible","_busy","_ignoreFocusOut","_buttons","buttonsUpdated","_toggles","togglesUpdated","noValidationMessage","noPromptMessage","_severity","onDidTriggerButtonEmitter","onDidHideEmitter","onDisposeEmitter","visibleDisposables","_title","update","_description","_steps","_totalSteps","totalSteps","_contextKey","ignoreFocusOut","shouldUpdate","isIOS","_validationMessage","validationMessage","onDidTriggerButton","_lastValidationMessage","_lastSeverity","reason","QuickInputHideReason","Other","getTitle","innerHTML","innerText","getDescription","description1","description2","_widget","reset","busyDelay","setIfNotSet","progressBar","infinite","leftActionBar","leftButtons","Action","rightActionBar","rightButtons","concreteToggles","opts","Toggle","setEnabled","setContextKey","actionHandler","parsed","parseLinkedText","nodes","_loop","renderLabelWithIcons","anchor","textDecoration","onClick","onKeydown","onSpaceOrEnter","GestureEventType","isEventLike","appendChild","renderQuickInputDescription","showMessageDecoration","getSteps","showDecoration","color","foreground","backgroundColor","background","border","marginBottom","QuickPick","_QuickInput","onDidChangeValueEmitter","onWillAcceptEmitter","onDidAcceptEmitter","onDidCustomEmitter","_items","itemsUpdated","_canSelectMany","_canAcceptInBackground","_matchOnDescription","_matchOnDetail","_matchOnLabel","_matchOnLabelMode","_sortByLabel","_autoFocusOnList","_keepScrollPosition","_itemActivation","FIRST","_activeItems","activeItemsUpdated","activeItemsToConfirm","onDidChangeActiveEmitter","_selectedItems","selectedItemsUpdated","selectedItemsToConfirm","onDidChangeSelectionEmitter","onDidTriggerItemButtonEmitter","onDidTriggerSeparatorButtonEmitter","valueSelectionUpdated","_ok","_customButton","onDidChangeActive","onDidTriggerSeparatorButton","_quickNavigate","doSetValue","skipUpdate","trySelectFirst","_ariaLabel","_placeholder","canSelectMany","autoFocusOnList","NO_KEY_MODS","_valueSelection","showCustomButton","_customButtonLabel","_customButtonHover","hover","showOkButton","_hideInput","clearFocus","handleAccept","onDidCustom","focusedItems","setSelectedElements","MouseEvent","checkedItems","registerQuickNavigation","KEY_UP","keyboardEvent","keybindings","scrollTopBefore","hasDescription","visibilities","checkAll","_hideCheckAll","checkBox","visibleCount","ok","customButton","setVisibilities","DEFAULT_ARIA_LABEL","withUndefinedAsNull","setElements","setCount","getVisibleCount","NONE","setFocusedElements","setCheckedElements","customLabel","customHover","InputBox","_QuickInput2","_password","onDidValueChangeEmitter","QuickInputController","ctrlCmd","alt","controller","onShowEmitter","onShow","onHideEmitter","onHide","idPrefix","parentElement","registerKeyModsListeners","window","styleSheet","titleBar","headerContainer","setAllVisibleChecked","extraContainer","filterContainer","visibleCountContainer","CountBadge","countFormat","countBadge","countContainer","okContainer","Button","onDidClick","customButtonContainer","ProgressBar","getContainer","listId","getActiveDescendant","setTimeout","focusTracker","trackFocus","FOCUS","previousFocusElement","HTMLElement","getUI","Blur","selectors","isDisplayed","stops","querySelectorAll","toggleHover","CancellationToken","doResolve","onKeyMods","removeItem","onCancellationRequested","canPickMany","placeHolder","ignoreFocusLost","_activeItem","picked","oldController","didHide","backKeybindingLabel","updateLayout","viewItems","disabled","focusChanged","currentElement","returnFocus","dimension","titleBarOffset","top","width","min","MAX_WIDTH","marginLeft","height","_this$styles$widget","quickInputTitleBackground","quickInputBackground","quickInputForeground","widgetBorder","widgetShadow","boxShadow","pickerGroup","pickerGroupBorder","pickerGroupForeground","keybindingLabel","keybindingLabelBackground","keybindingLabelBorder","keybindingLabelBottomBorder","keybindingLabelShadow","keybindingLabelForeground","newStyles","QuickInputService","_Themable","themeService","layoutService","_onShow","_onHide","contexts","_controller","createController","_quickAccess","host","defaultOptions","fromUserGesture","computeStyles","offset","quickPickTop","onDidLayout","resetContextKeys","createInputBox","hasController","applyStyles","asCssVariable","defaultInputBoxStyles","defaultToggleStyles","defaultCountBadgeStyles","defaultButtonStyles","defaultProgressBarStyles","defaultKeybindingLabelStyles","listBackground","listFocusBackground","quickInputListFocusBackground","listFocusForeground","quickInputListFocusForeground","listInactiveFocusForeground","listInactiveSelectionIconForeground","quickInputListFocusIconForeground","listInactiveFocusBackground","listFocusOutline","activeContrastBorder","listInactiveFocusOutline","Themable","IThemeService","QuickAccessRegistry","providers","defaultProvider","coalesce","find","QuickPickItemScorerAccessor","RegistryImpl","Assert","Types","SeverityIcon","className","warning"],"sourceRoot":""}